[{"tags": ["mysql", "linux", "perl", "dbi", "variable-expansion"], "comments": [{"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 4, "creation_date": 1428534973, "post_id": 29526949, "comment_id": 47208241, "body": "There&#39;s probably a newline after the password. <code>chomp</code> the variable to remove it."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4766391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cefdfc6556bf974cd2bc59f6a83ed4f9?s=128&d=identicon&r=PG", "display_name": "barret", "link": "https://stackoverflow.com/users/4766391/barret"}, "edited": false, "score": 0, "creation_date": 1428541307, "post_id": 29527682, "comment_id": 47209990, "body": "This is actually what I wanted to do with the password being in a separate file.  Had to tweak it a little (in my version of mysql, it&#39;s &quot;user&quot; and not &quot;username&quot;) but this is <i>EXACTLY</i> the end result I wanted."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 13, "user_id": 4766391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cefdfc6556bf974cd2bc59f6a83ed4f9?s=128&d=identicon&r=PG", "display_name": "barret", "link": "https://stackoverflow.com/users/4766391/barret"}, "edited": false, "score": 0, "creation_date": 1428543690, "post_id": 29527682, "comment_id": 47210674, "body": "Oops, good catch. Fixed."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1428543577, "last_edit_date": 1428543577, "creation_date": 1428539355, "answer_id": 29527682, "question_id": 29526949, "link": "https://stackoverflow.com/questions/29526949/getting-access-denied-with-perl-dbi-when-password-is-read-from-a-file/29527682#29527682", "title": "Getting &quot;Access denied&quot; with perl dbi when password is read from a file", "body": "<p>Don't do it that way. MySQL provides a way to manage connection credentials using what they call <a href=\"https://dev.mysql.com/doc/refman/5.7/en/option-files.html\" rel=\"nofollow\">option files</a>. For example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[client]\nhost = localhost\ndatabase = mydb\nuser = foo\npassword = bar\n</code></pre>\n\n<p>Make sure your file is not world-readable (0600 permissions on *nix). You can test that it's working using the command line client:</p>\n\n<pre><code>mysql --defaults-file=/path/to/file\n</code></pre>\n\n<p>To use an option file with DBI, do:</p>\n\n<pre><code>my $db_conf = '/path/to/file';\nmy $dsn = \"DBI:mysql:;mysql_read_default_file=$db_conf\";\n\nmy $dbh = DBI-&gt;connect($dsn, undef, undef, { RaiseError =&gt; 1 }) or\n        die $DBI::errstr;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 4766391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cefdfc6556bf974cd2bc59f6a83ed4f9?s=128&d=identicon&r=PG", "display_name": "barret", "link": "https://stackoverflow.com/users/4766391/barret"}, "is_accepted": false, "score": 0, "last_activity_date": 1428565555, "last_edit_date": 1428565555, "creation_date": 1428541787, "answer_id": 29528019, "question_id": 29526949, "link": "https://stackoverflow.com/questions/29526949/getting-access-denied-with-perl-dbi-when-password-is-read-from-a-file/29528019#29528019", "title": "Getting &quot;Access denied&quot; with perl dbi when password is read from a file", "body": "<p>Adding a chomp to the script answered the question I asked. </p>\n\n<pre><code>my $pass = qx{cat /home/barret/mysql/phpuser.auth};\nchomp ($pass);\n</code></pre>\n\n<p>Worked like a charm.</p>\n\n<p>However... the solution I actually wanted was to use the mysql options_file.</p>\n\n<pre><code>my $db_conf = '/home/barret/mysql/phpuser.mysql';\nmy $dsn = \"DBI:mysql:;mysql_read_default_file=$db_conf\";\n\nmy $dbh = DBI-&gt;connect($dsn, undef, undef, { RaiseError =&gt; 1 }) or\n    die $DBI::errstr;\n</code></pre>\n\n<p>And inside the options file:</p>\n\n<pre><code>~/mysql$ cat phpuser.mysql\n[client]\nhost = localhost\ndatabase = barret_test\nuser = phpuser\npassword = *redacted_password*\n</code></pre>\n\n<p>Resulting in:</p>\n\n<pre><code>$ perl user_list.pl\nbarret\nrichard\ndave\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4766391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cefdfc6556bf974cd2bc59f6a83ed4f9?s=128&d=identicon&r=PG", "display_name": "barret", "link": "https://stackoverflow.com/users/4766391/barret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 1, "closed_date": 1428720272, "accepted_answer_id": 29527682, "answer_count": 2, "score": 1, "last_activity_date": 1428565555, "creation_date": 1428534880, "last_edit_date": 1428565366, "question_id": 29526949, "link": "https://stackoverflow.com/questions/29526949/getting-access-denied-with-perl-dbi-when-password-is-read-from-a-file", "closed_reason": "Duplicate", "title": "Getting &quot;Access denied&quot; with perl dbi when password is read from a file", "body": "<p>I am trying to write a simple perl script to pull the full contents of a table from a <code>MySQL</code> database using <code>DBI</code>. </p>\n\n<p>I want to not have to put the database password in the script, so I'd like to set a password variable that reads from a file that contains the password.</p>\n\n<p>I've got the script set up so that the three <code>DBI</code> parameters (<code>DSN</code>, <code>user</code> and <code>pass</code>) are variables. When I explicitly specify the password in the script, it works. When I have it read the file, it fails.</p>\n\n<p>I even built in a small test to echo the <code>$pass</code> variable before calling <code>DBI</code> and that works great. It shows me the right password.</p>\n\n<p>I'm certain that I'm doing something dumb. Help?</p>\n\n<p>The environment:</p>\n\n<hr>\n\n<p>~/mysql$ uname -a</p>\n\n<pre><code>Linux kbwm-radio-web 3.2.0-24-virtual #37-Ubuntu SMP Wed Apr 25 12:51:49 UTC 2012 i686 i686 i686 GNU/Linux\n</code></pre>\n\n<p>~/mysql$ perl --version</p>\n\n<pre><code>This is perl 5, version 18, subversion 2 (v5.18.2) built for i686-linux-gnu-thread-multi-64int\n(with 41 registered patches, see perl -V for more detail)\n</code></pre>\n\n<p>~/mysql$ mysql -u phpuser -p<code>cat ./phpuser.auth</code> barret_test -e \"status;\"</p>\n\n<pre><code>mysql  Ver 14.14 Distrib 5.5.41, for debian-linux-gnu (i686) using readline 6.3\n</code></pre>\n\n<hr>\n\n<p>As you can see, using command expansion in the mysql statement for the password is functional. </p>\n\n<p>The script (yes, parts of it are inelegant. That'll be fixed later):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse DBI;\n\nmy $dsn = \"dbi:mysql:barret_test:localhost:3306\";\nmy $user = \"phpuser\";\nmy $pass = qx{cat /home/barret/mysql/phpuser.auth};\n\nprint \"$pass\\n\";\n\n\nmy $dbh = DBI-&gt;connect(\n    $dsn,\n    $user,\n    $pass,\n    { RaiseError =&gt; 1 },\n) or die $DBI::errstr;\n\nmy $all = $dbh-&gt;selectall_arrayref(\"select name from users;\");\n\nforeach my $row (@$all) {\n        my ($name) = @$row;\n        print \"$name\\n\";\n}\n\n$dbh-&gt;disconnect();\n</code></pre>\n\n<p>Running it returns:</p>\n\n<p>~/mysql$ perl user_list.pl</p>\n\n<pre><code>*redacted_password*\n\n\nDBI connect('barret_test:localhost:3306','phpuser',...) failed: Access denied for user 'phpuser'@'localhost' (using password: YES) at user_list.pl line 14.\n</code></pre>\n\n<p>If I change line 9 from </p>\n\n<pre><code>my $pass = qx{cat /home/barret/mysql/phpuser.auth};\n</code></pre>\n\n<p>to </p>\n\n<pre><code>my $pass = \"redacted_password\";\n</code></pre>\n\n<p>This happens:</p>\n\n<p>~/mysql$ perl user_list.pl</p>\n\n<pre><code>*redacted_password*\n\nbarret\n\nrichard\n\ndave\n</code></pre>\n\n<p>I've Googled around and searched here, didn't see anything that seemed to cover my use case. I tried wrapping the <code>$pass</code> inside the <code>DBI</code> call in single and double quotes, no changes. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1428527947, "post_id": 29525465, "comment_id": 47205388, "body": "Leading underscores often mean &quot;private&quot; or &quot;do not use please&quot; in more polite terms."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1428529110, "post_id": 29525465, "comment_id": 47205968, "body": "It&#39;s just a convention."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428530029, "post_id": 29525465, "comment_id": 47206432, "body": "This is mentioned in <a href=\"http://perldoc.perl.org/perlstyle.html\" rel=\"nofollow noreferrer\"><code>perldoc perlstyle</code></a>: &quot;You can use a leading underscore to indicate that a variable or function should not be used outside the package that defined it.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1428536651, "post_id": 29526287, "comment_id": 47208730, "body": "also by convention (beyond just Perl), a sub named <code>_</code> is often used for i18n"}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": true, "score": 9, "last_activity_date": 1428531148, "creation_date": 1428531148, "answer_id": 29526287, "question_id": 29525465, "link": "https://stackoverflow.com/questions/29525465/subroutine-name-beginning-with-underscore-in-perl/29526287#29526287", "title": "Subroutine name beginning with underscore in Perl", "body": "<p>It is an convention, documented in the <a href=\"http://perldoc.perl.org/perlstyle.html\">perlstyle</a>:</p>\n\n<blockquote>\n  <p>You <strong>can</strong> use a leading underscore to indicate that a variable or\n  function should not be used outside the package that defined it.</p>\n</blockquote>\n\n<p>Also, in the <a href=\"http://shop.oreilly.com/product/9780596001735.do\">Perl best practices</a> page 49, says:</p>\n\n<blockquote>\n  <p><strong>Prefix \u201cfor internal use only\u201d subroutines with an underscore.</strong></p>\n</blockquote>\n\n<p>with the explanation:</p>\n\n<blockquote>\n  <p>A utility subroutine exists only to simplify the implementation of a\n  module or class. It is never supposed to be exported from its module,\n  nor ever to be used in client code.</p>\n  \n  <p>Always use an underscore as the\n  first \u201cletter\u201d of any utility subroutine\u2019s name. A leading underscore\n  is ugly and unusual and reserved (by ancient C/Unix convention) for\n  non-public components of a system. The presence of a leading\n  underscore in a subroutine call makes it immediately obvious when part\n  of the implementation has been mistaken for part of the interface.</p>\n</blockquote>\n\n<p><strong>Related</strong>: The underscore has an special meaning too, as a part of a language - e.g.:</p>\n\n<ul>\n<li>the variable what's name is only the underscore, (check <a href=\"http://perldoc.perl.org/perlvar.html\">perlvar</a>) - e.g: \n<ul>\n<li><code>$_</code> - The default input and pattern-searching space.</li>\n<li><code>@_</code> - list of all subroutine arguments</li>\n<li><code>_</code> - The special file handle what caches the information from the last <code>stat</code>or file test operator (such <code>-f</code>)</li>\n</ul></li>\n<li>language constructions what starts and ends with a double underscore, such: <code>__DATA__</code>, <code>__END__</code>, <code>__FILE__</code>, <code>__PACKAGE__</code>, <code>__LINE__</code></li>\n</ul>\n"}], "owner": {"reputation": 45, "user_id": 3788169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee070f3b28303784331264ac5bb630d?s=128&d=identicon&r=PG&f=1", "display_name": "agcha", "link": "https://stackoverflow.com/users/3788169/agcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2483, "favorite_count": 0, "accepted_answer_id": 29526287, "answer_count": 1, "score": 2, "last_activity_date": 1428531148, "creation_date": 1428527684, "question_id": 29525465, "link": "https://stackoverflow.com/questions/29525465/subroutine-name-beginning-with-underscore-in-perl", "title": "Subroutine name beginning with underscore in Perl", "body": "<p>Here's an example from the Markdown source:</p>\n\n<pre><code>sub _StripLinkDefinitions{ somecode }\n</code></pre>\n\n<p>What does it mean? Is it just a convention or a part of the language?</p>\n"}, {"tags": ["perl", "tracking", "user-tracking"], "answers": [{"tags": [], "owner": {"reputation": 14762, "user_id": 282475, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OZWIJ.jpg?s=128&g=1", "display_name": "shaneburgess", "link": "https://stackoverflow.com/users/282475/shaneburgess"}, "is_accepted": false, "score": 1, "last_activity_date": 1428523382, "creation_date": 1428523382, "answer_id": 29524300, "question_id": 29523074, "link": "https://stackoverflow.com/questions/29523074/tracking-users-actions-in-perl/29524300#29524300", "title": "Tracking user&#39;s actions in Perl", "body": "<p>I would look into using a framework like <a href=\"http://mojolicio.us/\" rel=\"nofollow\">Mojolicious</a>. It has logging built in and much much more.</p>\n"}], "owner": {"reputation": 367, "user_id": 2815931, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4d5681d63fe46478c623b4d58d3cae84?s=128&d=identicon&r=PG&f=1", "display_name": "tester3", "link": "https://stackoverflow.com/users/2815931/tester3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "closed_date": 1428524447, "answer_count": 1, "score": 0, "last_activity_date": 1428523382, "creation_date": 1428519356, "question_id": 29523074, "link": "https://stackoverflow.com/questions/29523074/tracking-users-actions-in-perl", "closed_reason": "Needs more focus", "title": "Tracking user&#39;s actions in Perl", "body": "<p>I am building a commercial web-based system on Perl and need to track all user's actions and behaviors. </p>\n\n<p>I thought about using something like Log4perl or to write my own, maybe based on Redis. </p>\n\n<p>Please share an idea of a nice solution for this problem, if you have one.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428518850, "post_id": 29522686, "comment_id": 47200300, "body": "Is this a homework question? You need to explain what problems you are having\u2014there&#39;s nothing especially wrong with what you have written"}, {"owner": {"reputation": 1, "user_id": 3380452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128fce6d4297f11917e4e56cc9d6f288?s=128&d=identicon&r=PG&f=1", "display_name": "user3380452", "link": "https://stackoverflow.com/users/3380452/user3380452"}, "edited": false, "score": 0, "creation_date": 1428519002, "post_id": 29522686, "comment_id": 47200406, "body": "Doesn&#39;t say anything abou array of hashes of hashes, only array of hashes?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428519049, "post_id": 29522686, "comment_id": 47200437, "body": "@user3380452: Yes. It does"}, {"owner": {"reputation": 1, "user_id": 3380452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128fce6d4297f11917e4e56cc9d6f288?s=128&d=identicon&r=PG&f=1", "display_name": "user3380452", "link": "https://stackoverflow.com/users/3380452/user3380452"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428519163, "post_id": 29522686, "comment_id": 47200496, "body": "@Borodin, haha too old to be doing h/w. It&#39;s a design problem, the problem is how do I dump the whole thing, like one would do for hash of hashes using Data::Dumper and the other problem is to add new array elements, this is for automating an embedded device, i just replaced the implementation with a simple example"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 1, "creation_date": 1428521513, "post_id": 29522686, "comment_id": 47201868, "body": "There&#39;s an excellent tutorial on <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">references in Perl</a> in the <a href=\"http://perldoc.perl.org\" rel=\"nofollow noreferrer\">Perldoc online documentation</a>"}, {"owner": {"reputation": 1, "user_id": 3380452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128fce6d4297f11917e4e56cc9d6f288?s=128&d=identicon&r=PG&f=1", "display_name": "user3380452", "link": "https://stackoverflow.com/users/3380452/user3380452"}, "edited": false, "score": 0, "creation_date": 1428528575, "post_id": 29522686, "comment_id": 47205722, "body": "@thanks David and other, I got the solution."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3380452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128fce6d4297f11917e4e56cc9d6f288?s=128&d=identicon&r=PG&f=1", "display_name": "user3380452", "link": "https://stackoverflow.com/users/3380452/user3380452"}, "edited": false, "score": 0, "creation_date": 1428529015, "post_id": 29524588, "comment_id": 47205928, "body": "Thank you very much David"}, {"owner": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "edited": false, "score": 1, "creation_date": 1428530521, "post_id": 29524588, "comment_id": 47206673, "body": "@david-w  On Perl v5.18.2, <code>my %hash = %$array[$index];</code> and <code>my %hash = %{ $array[$index] };</code> are definitely not identical. The first version results in a syntax error <code>near &quot;$array[&quot;</code>. I believe the curly braces are required. Can you confirm that it actually works without them for you?"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1428589784, "post_id": 29524588, "comment_id": 47234469, "body": "Yes, this is a precedence issue. The <code>%$array[$index];</code> assumes the reference is <code>$array</code> and not <code>$array[$index]</code>. I need to make a hash reference for it first."}], "tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 2, "last_activity_date": 1428589827, "last_edit_date": 1428589827, "creation_date": 1428524421, "answer_id": 29524588, "question_id": 29522686, "link": "https://stackoverflow.com/questions/29522686/how-do-i-create-in-perl-an-array-of-hashes-of-hashes-print-them-and-add-new-ar/29524588#29524588", "title": "How do I create in Perl, an array of hashes of hashes, print them and add new array elements (i.e. another hash of hashes) in Perl?", "body": "<ol>\n<li><p>Push new hash of hashes into this array.</p>\n\n<p><code>push @array, \\%hash_of_hashes;</code></p></li>\n<li><p>Print the entire array along with hash of hashes</p></li>\n<li>Able to read off values of the sub hash elements</li>\n</ol>\n\n<p>Those are two of the same thing. Read the <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">tutorial on Perl references</a>. It'll help explain how references are used to build complex data structures.</p>\n\n<pre><code>#! /usr/bin/env perl\n#\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nmy @array = ...;\n\n#\n# This is the outer array which is not a reference.\n#\nfor my $index ( 0..$#array ) {\n    #\n    # Each element is a reference to the hashes of hashes. Dereference\n    #\n    my %hashes_of_hashes = %{ $array[$index] };\n    #\n    # This is going through each element of the outer hash.\n    # Each item is a key to a REFERENCE to another hash\n    #\n    for my $sub_hash_key ( sort keys %hashes_of_hashes ) {\n        #\n        # Dereference that inner hash\n        #\n        my %sub_hash = %{ $hashes_of_hashes{$sub_hash_key} };\n        #\n        # Finally, We have the inner hash. Each element contains\n        # data and not another reference\n        #\n        for my $sub_key ( sort keys %sub_hash ) {\n            #\n            # This is how I refer to an item in that array of\n            # Hashes of Hashes\n            #\n            print \"\\$array[$index]-&gt;{$sub_hash_key}-&gt;{$sub_key} = \";\n            #\n            # Since I dereferenced everything along the way, I can\n            # easily print out the value via the sub_hash.\n            #\n            say $sub_hash{$sub_key};\n        }\n    }\n}\n</code></pre>\n\n<p>The big trick is keeping your structure straight. Is this a key to a hash reference or data? Is this an array or a hash? Dereferencing your references can make the program easier to follow. I didn't have to do the constant dereferencing, but you can imagine that inner, inner <code>for</code> loop getting pretty hard to read with all those references of references.</p>\n\n<p>There are three syntaxes to get the value in a reference:</p>\n\n<ol>\n<li><code>${${$array[$index]}{$sub_hash_key}}{$sub_key};</code></li>\n<li><code>$array[1]{$hofh_key}{$hash_key}</code></li>\n<li><code>$array[1]-&gt;{$hofh_key}-&gt;{$hash_key}</code></li>\n</ol>\n\n<p>The first way is using dereferencing to produce the correct value. It can get very difficult very quickly.</p>\n\n<p>The second is a <em>shortcut</em> that allows Perl to assume the default dereferencing.</p>\n\n<p>The third uses arrow syntax to <em>point</em> to the references. I like this way because it makes it very clear that I'm talking about a reference. You can't easily gloss over it.</p>\n\n<p>You can sometimes also <em>dereference</em> by simply leaving off the curly braces. These are identical:</p>\n\n<ul>\n<li><code>my %hash = %$hash_ref;</code></li>\n<li><code>my %hash = %{ $hash_ref };</code></li>\n</ul>\n\n<p>Again, I like the second way because it can be easy to miss the double sigil in front of <em>array</em>. Many people prefer the first because they think the syntax is clearer and easier to read.</p>\n\n<p>If your data structure starts getting that complex, it's time to think about <a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"nofollow\">Object Oriented Perl</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3380452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128fce6d4297f11917e4e56cc9d6f288?s=128&d=identicon&r=PG&f=1", "display_name": "user3380452", "link": "https://stackoverflow.com/users/3380452/user3380452"}, "edited": false, "score": 0, "creation_date": 1428528724, "post_id": 29524897, "comment_id": 47205795, "body": "Thanks Barney.. Yes I will, more of a C, C++, Java person, started Perl yesterday, don&#39;t love it too much to be honest, Python is cleaner  isn&#39;t it..liked programming in Python sometime back,"}], "tags": [], "owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "is_accepted": false, "score": 0, "last_activity_date": 1428525503, "creation_date": 1428525503, "answer_id": 29524897, "question_id": 29522686, "link": "https://stackoverflow.com/questions/29522686/how-do-i-create-in-perl-an-array-of-hashes-of-hashes-print-them-and-add-new-ar/29524897#29524897", "title": "How do I create in Perl, an array of hashes of hashes, print them and add new array elements (i.e. another hash of hashes) in Perl?", "body": "<p>Here is my take. But my suggestion is to sit down for half a day and do some tutorials found at <a href=\"http://learn.perl.org/\" rel=\"nofollow\">learn.perl.org</a>.</p>\n\n<pre><code>#!/usr/bin/env perl \n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\n# set up initial array of hashes\nmy @lessons = (\n  {\n    class_room =&gt; { hall_no =&gt; 10, building_no =&gt; 1 },\n    subjects   =&gt; { Math =&gt; 100, Physics =&gt; 200},\n  },\n  {\n    class_room =&gt; { hall_no =&gt; 10, building_no =&gt; 2 },\n    subjects   =&gt; { Chem =&gt; 100, Physics =&gt; 200},\n  },\n);\n\n# Push new hash of hashes into this array\npush @lessons,      \n      {\n        class_room   =&gt; { hall_no =&gt; 20, building_no =&gt; 4 },\n        subjects     =&gt; { Math =&gt; 100, Bio =&gt; 200},\n      };\n\n# Print the entire array along with hash of hashes\nprint Dumper( \\@lessons );\n\n# Able to read off values of the sub hash elements\nforeach my $lesson ( @lessons ) {\n    print \"In building $lesson-&gt;{class_room}-&gt;{building_no} hall $lesson-&gt;{class_room}-&gt;{hall_no} we have the following classes:\\n\";\n    while ( my ($subject, $level) = each %{$lesson-&gt;{subjects}} ) {\n        print \"$subject $level\\n\";\n    }\n    print \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3380452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128fce6d4297f11917e4e56cc9d6f288?s=128&d=identicon&r=PG&f=1", "display_name": "user3380452", "link": "https://stackoverflow.com/users/3380452/user3380452"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1428589827, "creation_date": 1428518053, "last_edit_date": 1428518831, "question_id": 29522686, "link": "https://stackoverflow.com/questions/29522686/how-do-i-create-in-perl-an-array-of-hashes-of-hashes-print-them-and-add-new-ar", "title": "How do I create in Perl, an array of hashes of hashes, print them and add new array elements (i.e. another hash of hashes) in Perl?", "body": "<p>It should look like this below,I want to do the following</p>\n\n<ol>\n<li>Push new hash of hashes into this array </li>\n<li>Print the entire array along with hash of hashes</li>\n<li><p>Able to read off values of the sub hash elements</p>\n\n<pre><code>my @AoH = (\n  {\n     undef\n  },\n  {\n    Class1   =&gt; { hall_no =&gt; 10, Building_no =&gt; 1 },\n    Subjects =&gt; { Math =&gt; 100, Physics =&gt; 200},\n  },\n  {\n    Class2   =&gt; { hall_no =&gt; 10, Building_no =&gt; 2 },\n    Subjects =&gt; { Chem =&gt; 100, Physics =&gt; 200},\n  },\n  {\n    Class3   =&gt; { hall_no =&gt; 20, Building_no =&gt; 4 },\n    Subjects =&gt; { Math =&gt; 100, Bio =&gt; 200},\n  },    \n);\n</code></pre></li>\n</ol>\n\n<p>I tried this</p>\n\n<ol>\n<li><p>for printing</p>\n\n<pre><code>for $i ( 0 .. $#AoH ) {\n  print \"$i is { \";\n  for $role ( keys %{ $AoH[$i] } ) {\n    #print \"$role=$AoH[$i]{$role} \";\n    #DumperMsg(\"Results:\",$AoH[$i]-&gt;\"profile\");\n    print Dumper(%AoH[$i]);\n  }\n</code></pre></li>\n<li><p>For pushing</p>\n\n<pre><code>$AoH[3] = {Class4=&gt; { hall_no =&gt; 20, Building_no =&gt; 1},};\n</code></pre></li>\n</ol>\n\n<p>No luck, new to Perl, thanks.</p>\n"}, {"tags": ["perl", "hash", "gps", "latitude-longitude"], "comments": [{"owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "edited": false, "score": 0, "creation_date": 1428518183, "post_id": 29522639, "comment_id": 47199901, "body": "I really can&#39;t determine what you&#39;re asking here. Have you tried it?"}, {"owner": {"reputation": 2195, "user_id": 263028, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/eaad41d9267afce4cf00500627deed5c?s=128&d=identicon&r=PG", "display_name": "Jann", "link": "https://stackoverflow.com/users/263028/jann"}, "reply_to_user": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "edited": false, "score": 0, "creation_date": 1428518266, "post_id": 29522639, "comment_id": 47199960, "body": "My question (as i just edited...sorry) was when comparing hashes...is this double-foreach the best way?  AND is this logic missing anything when comparing the two? (the <code>$keep_this_one</code> flag is bothering me but i don&#39;t know how to optimize beyond it)."}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1428519234, "post_id": 29523007, "comment_id": 47200539, "body": "Aah! I misunderstood the question. +1."}, {"owner": {"reputation": 2195, "user_id": 263028, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/eaad41d9267afce4cf00500627deed5c?s=128&d=identicon&r=PG", "display_name": "Jann", "link": "https://stackoverflow.com/users/263028/jann"}, "edited": false, "score": 0, "creation_date": 1428597497, "post_id": 29523007, "comment_id": 47239978, "body": "If you voted this question down due to this, please undo your downvote."}], "tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": true, "score": 3, "last_activity_date": 1428519133, "creation_date": 1428519133, "answer_id": 29523007, "question_id": 29522639, "link": "https://stackoverflow.com/questions/29522639/in-perl-ensure-my-hash-only-contains-lat-lon-that-are-more-than-30-ft-apart/29523007#29523007", "title": "In perl ensure my hash only contains lat/lon that are more than 30 ft apart", "body": "<p>Iterating over the list twice is permuting, but that's not what you want. You don't care about the order. The distance between X and Y is the same as the distance between Y and X, there's no reason to calculate it twice. Look at using something like <a href=\"http://search.cpan.org/~fxn/Algorithm-Combinatorics-0.27/Combinatorics.pm\" rel=\"nofollow\">Algorithm::Combinatorics</a> to generate your pairs to test.</p>\n\n<p>Past that, dumping the first coordinate that's within a given distance may give poor results. Lets assume 4 points, a b c d, where distances are:</p>\n\n<pre><code>a &lt;-&gt; b = 40\na &lt;-&gt; c = 45\na &lt;-&gt; d = 25\nb &lt;-&gt; c = 40\nb &lt;-&gt; d = 20\nc &lt;-&gt; d = 15\n</code></pre>\n\n<p>Iterating over the pairs in order and dumping the coordinate as soon as you are lower than the desired distance 30 would result in:</p>\n\n<pre><code>a thrown out; it's 25 from d\nb thrown out; it's 20 from d\nc thrown out, it's 15 from d\n</code></pre>\n\n<p>While you may prefer to throw out d instead, as the remaining 3 points are valid.</p>\n\n<p>I'd look into iterating over combinations of pairs, calculate &amp; cache distances for all combinations, then start dropping the datapoints with the largest number of close points one at a time until none exceed the desired amount.</p>\n"}], "owner": {"reputation": 2195, "user_id": 263028, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/eaad41d9267afce4cf00500627deed5c?s=128&d=identicon&r=PG", "display_name": "Jann", "link": "https://stackoverflow.com/users/263028/jann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 29523007, "answer_count": 1, "score": -1, "last_activity_date": 1428519133, "creation_date": 1428517891, "last_edit_date": 1428518189, "question_id": 29522639, "link": "https://stackoverflow.com/questions/29522639/in-perl-ensure-my-hash-only-contains-lat-lon-that-are-more-than-30-ft-apart", "title": "In perl ensure my hash only contains lat/lon that are more than 30 ft apart", "body": "<p><em>The EDIT is to ensure that the question is <strong>not</strong> to judge distance... my <code>gcdist()</code> routine will do that and THAT routine works (it is left out for brevity) ... it is more the double-<code>foreach</code> that I need to do in order to test each <code>ll</code> against the other <code>ll</code> pair. Is there a better way to compare keys in hash against each other:</em> </p>\n\n<p>I have a hash that contains the following:</p>\n\n<pre><code>my %HASH\n$HASH{\"38.4486x122.7047\"} = 1;\n$HASH{\"38.4487x122.7049\"} = 10;\n$HASH{\"38.4489x122.7050\"} = 14;\n$HASH{\"38.4491x122.7051\"} = 20;\n</code></pre>\n\n<p>This hash is mostly used to ensure that -- down to 4 dec points, I don't have duplicates. What I want to do is now ensure that all those points in the <code>HASH</code> are not within 30 ft of each other...(the above is test data so these all may NOT be within 30 ft...but you know what I mean).</p>\n\n<p>I have a routine that gets distance between lat/lon points. But this is the way (clumsily) I would think it out:</p>\n\n<pre><code>my %HASH_NEW;\nforeach my $_ll_1 (sort {$a cmp $b} keys %HASH)\n{\n    my ($_la1,$_lo1) = split (\"x\",$_ll_1);\n    my $keep_this_one = 1;\n    foreach my $_ll_2 (sort {$a cmp $b} keys %HASH)\n    {\n        # so we don't compare to the current one in the loop\n        next if $_ll_2 eq $_ll_1;\n\n        my ($_la2,$_lo2) = split (\"x\",$_ll_2);\n        if (gcdist([$_la1,$_lo1],[$_la1,$_lo1] &lt; ~30ft)\n        {\n            $keep_this_one = 0;\n            last;\n        }\n\n    }\n    if ($keep_this_one)\n    {\n        $HASH_NEW{$_ll_1} = $HASH{$_ll_1};\n    }\n}\n\nsub gcdist\n{\n    my $_ll1_arrayref = shift();\n    my $_ll2_arrayref = shift();\n\n    # get distance between $_ll1_arrayref and $_ll2_arrayref\n    # return it to caller\n}\n</code></pre>\n\n<p>Now %HASH_NEW would have contents of %HASH with no ll pairs being within 30 ft ... or am i thinking this wrong?</p>\n\n<p>TIA</p>\n"}, {"tags": ["perl", "groovy", "null"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428514064, "post_id": 29521279, "comment_id": 47197432, "body": "Related: <a href=\"http://stackoverflow.com/questions/7064975/how-do-i-handle-errors-in-methods-chains-in-perl\">How do I handle errors in methods chains in Perl?</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428514454, "post_id": 29521279, "comment_id": 47197669, "body": "This is where a query language (such as XPath or CSS selector) would be useful."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428515119, "post_id": 29521279, "comment_id": 47198086, "body": "It isn&#39;t clear whether you need to implement this Groovy code in Perl, or if you&#39;ve just found another way to snipe at Perl. Are you being serious?"}, {"owner": {"reputation": 969, "user_id": 1156628, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/35042451d1258543dfedae152f7902b5?s=128&d=identicon&r=PG", "display_name": "lots_of_questions", "link": "https://stackoverflow.com/users/1156628/lots-of-questions"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428521722, "post_id": 29521279, "comment_id": 47201983, "body": "@Borodin - Yes I am serious, my team owns a large existing code base in perl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428523525, "post_id": 29521279, "comment_id": 47203091, "body": "@lots_of_questions: Okay, so where does Groovy fit in?"}, {"owner": {"reputation": 969, "user_id": 1156628, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/35042451d1258543dfedae152f7902b5?s=128&d=identicon&r=PG", "display_name": "lots_of_questions", "link": "https://stackoverflow.com/users/1156628/lots-of-questions"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428524033, "post_id": 29521279, "comment_id": 47203370, "body": "@Borodin, groovy fits in because I am aware it has this feature. I was simply wondering if there was an equivalent in perl which had the same level of compactness."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1428570924, "post_id": 29521279, "comment_id": 47221681, "body": "I&#39;ll point out - Perl 5.8 was released in 2003, and was end of life in 2008. It may be worth considering moving to a <i>slightly</i> newer release."}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1428514275, "creation_date": 1428514275, "answer_id": 29521453, "question_id": 29521279, "link": "https://stackoverflow.com/questions/29521279/perl-5-8-cascading-null-checks/29521453#29521453", "title": "Perl 5.8 cascading null checks", "body": "<p>probably a bit evil is using eval:</p>\n\n<pre><code>my $name = eval { $child-&gt;getParent-&gt;getParent-&gt;getName }\n</code></pre>\n\n<p>an alternative is to make use of <code>last</code> which can be used to leave a block (i.e. a standalone <code>{...}</code> is similar to <code>for(1) {...}</code>):</p>\n\n<pre><code>my $name; { $name = (($child-&gt;getParent || last)-&gt;getParent || last)-&gt;getName }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29543, "user_id": 3181392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIgPs.png?s=128&g=1", "display_name": "cfrick", "link": "https://stackoverflow.com/users/3181392/cfrick"}, "edited": false, "score": 1, "creation_date": 1428573760, "post_id": 29521943, "comment_id": 47223500, "body": "for the sake of readability: in groovy one would write <code>child.parent?.parent?.name</code> OPs code is verbose/javaish."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1428515779, "creation_date": 1428515779, "answer_id": 29521943, "question_id": 29521279, "link": "https://stackoverflow.com/questions/29521279/perl-5-8-cascading-null-checks/29521943#29521943", "title": "Perl 5.8 cascading null checks", "body": "<p>In <em>my</em> opinion, your original Groovy code is on the boundary of readability anyway. I would implement it rather differently, but a similar expression in Perl would be</p>\n\n<pre><code>my $name = (\n    $node = $node-&gt;get_parent or\n    $node = $node-&gt;get_parent or\n    $node-&gt;get_name\n);\n</code></pre>\n\n<p>The utility of a language isn't defined by its ability to represent complex constructs in very few characters</p>\n"}, {"tags": [], "owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "is_accepted": false, "score": 0, "last_activity_date": 1428526232, "creation_date": 1428526232, "answer_id": 29525098, "question_id": 29521279, "link": "https://stackoverflow.com/questions/29521279/perl-5-8-cascading-null-checks/29525098#29525098", "title": "Perl 5.8 cascading null checks", "body": "<p>It looks like you want to extract information from the DOM of a HTML page. For this I recommend that you use a Perl module that just does that. Have a look at <a href=\"http://mojolicio.us/perldoc/Mojo/DOM\" rel=\"nofollow\">Mojo::DOM</a></p>\n"}], "owner": {"reputation": 969, "user_id": 1156628, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/35042451d1258543dfedae152f7902b5?s=128&d=identicon&r=PG", "display_name": "lots_of_questions", "link": "https://stackoverflow.com/users/1156628/lots-of-questions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1428526232, "creation_date": 1428513670, "last_edit_date": 1428514985, "question_id": 29521279, "link": "https://stackoverflow.com/questions/29521279/perl-5-8-cascading-null-checks", "title": "Perl 5.8 cascading null checks", "body": "<p>Let's say I have the following Groovy code:</p>\n\n<pre><code>String name = child.getParent()?.getParent()?.getName();\n</code></pre>\n\n<p>Note that <code>getParent()</code> may return <code>null</code>, and in this case the code continues to work without null pointer exceptions being thrown.</p>\n\n<p>Is there a way to do this clearly in one line in Perl 5.8? I am open to writing a generic helper method to accomplish this.</p>\n\n<p>I'm running into situations where I have several nested objects and am having to do something like:</p>\n\n<pre><code>my $name = $child &amp;&amp; $child-&gt;getParent &amp;&amp; $child-&gt;getParent-&gt;getParent &amp;&amp; $child-&gt;getParent-&gt;getParent-&gt;getName;\n</code></pre>\n\n<p>Yes this is in one line, but is fugly IMO.</p>\n"}, {"tags": ["perl", "session", "pdf", "cgi", "render"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1428514916, "post_id": 29519735, "comment_id": 47197967, "body": "Thank You for all for taking the time to reply, these was very helpful. I&#39;m a Perl guy , but we have a JAVA/DOM guy on the team who I&#39;ll discuss this with. I never heard of WWW::Mechanize::Firefox sounds interesting..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1428515971, "post_id": 29519735, "comment_id": 47198558, "body": "@user3250422 I thought about <code>WWW::Mechanize::Firefox</code> and alternatives like <a href=\"http://phantomjs.org/\" rel=\"nofollow noreferrer\">PhantomJS</a> (a headless JS-enabled browser that doesn&#39;t require an X-server and I think is a little easier to set up), but I think you would have the same problem as with <code>wkhtmltopdf</code>: you would be fetching the unmodified form directly from the web server, instead of the version in the user&#39;s browser. You could POST the form contents to a script that gets the unmodified form with <code>W::M::F</code>, fills in the appropriate fields, and takes a screenshot, but that seems like a lot of extra work."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1428517603, "post_id": 29519735, "comment_id": 47199534, "body": "@user3250422 <code>WWW::Mechanize::Firefox</code> <i>is</i> an excellent tool, though, and is quite popular for programmatically interacting with web pages that use JavaScript."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 2, "last_activity_date": 1428509055, "last_edit_date": 1592644375, "creation_date": 1428509055, "answer_id": 29519735, "question_id": 29516778, "link": "https://stackoverflow.com/questions/29516778/how-can-i-render-a-completed-cgi-form-as-a-pdf/29519735#29519735", "title": "How can I render a completed CGI form as a PDF?", "body": "<p>Say you have the following HTML document on your web server:</p>\n<p><em>/var/www/html/index.html</em></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;form action=&quot;/process.cgi&quot;&gt;\n      &lt;input type=&quot;text&quot; name=&quot;foo&quot;&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>When you navigate to <code>http://hostname/index.html</code> in your browser, the webserver returns this document and the browser displays it.</p>\n<p>When you fill in the text field in your browser, the document on the webserver doesn't change. So anybody who navigates to <code>http://hostname/index.html</code> will get the original, unmodified form. This is why you can't simply copy and paste the URL into another browser tab and get the filled-in form.</p>\n<p>Most browsers use caching by default. When you fill in some fields in a form, the browser caches what you entered. When you reload the page, the webserver sends the exact same document as before* (i.e. the unmodified form), but the browser uses the cached data to fill in the form fields the way you had them. If you override the cache when you reload the page (<kbd>Ctrl</kbd>+<kbd>F5</kbd> in Firefox), the form fields will not be filled in. Note that neither the URL nor the document on the server have changed. This is why you can't copy and paste the URL into another browser tab after reloading the page and get the filled-in form.</p>\n<p><code>wkhtmltopdf</code> takes a URL, renders the corresponding page, and generates a PDF based on what is rendered. Based on the explanation above, it should now be clear why <code>wkhtmltopdf</code> always generates an image of the unmodified form.</p>\n<h2>The solution</h2>\n<p>If filling in form fields doesn't change anything on the webserver, what <em>does</em> it change? It changes the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction\" rel=\"nofollow noreferrer\">DOM</a>, a structure describing the document in your browser that you can access using JavaScript.</p>\n<p>One approach would be to use a client-side JavaScript PDF generator like <a href=\"https://parall.ax/products/jspdf\" rel=\"nofollow noreferrer\">jsPDF</a>; since it runs on the client, it has access to the DOM that the user is interacting with, so it can &quot;see&quot; the values the user enters into the form fields.</p>\n<hr />\n<p>* Actually, the webserver will typically send a <code>304 Unmodified</code> response to save bandwidth, but form caching works the same either way.</p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1428515246, "post_id": 29520903, "comment_id": 47198150, "body": "Our JS/DOM guy&#39;s ears perked up whenI said jsPDF ! Might be our ticket thanks again!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1428512474, "last_edit_date": 1495540623, "creation_date": 1428512474, "answer_id": 29520903, "question_id": 29516778, "link": "https://stackoverflow.com/questions/29516778/how-can-i-render-a-completed-cgi-form-as-a-pdf/29520903#29520903", "title": "How can I render a completed CGI form as a PDF?", "body": "<p>The <a href=\"https://stackoverflow.com/a/29519735/622310\">explanation from <code>ThisSuitIsBlackNot</code></a> is accurate about why your design is failing. Typing characters into form fields in a browser changes only your screen and the data in the memory allocated to the browser.</p>\n\n<p>I suggest a different solution. The <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize::Firefox</code></a> module is a variant of <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize</code></a> that uses a real browser application to retrieve and render web pages. It is mostly chosen when a site requires JavaScript support, but it is useful here because it has a <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox#mech-content_as_png-tab-coordinates-target_size\" rel=\"nofollow noreferrer\"><code>content_as_png</code></a> method which returns a PNG image of the current page. Hopefully that is enough for you to build a PDF file with the required content</p>\n"}], "owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1428512474, "creation_date": 1428501424, "last_edit_date": 1428511447, "question_id": 29516778, "link": "https://stackoverflow.com/questions/29516778/how-can-i-render-a-completed-cgi-form-as-a-pdf", "title": "How can I render a completed CGI form as a PDF?", "body": "<p>I have an HTML form which a user may have filled in or partially filled in. I want to snapshot that state and render it as a PDF document. I've been using <a href=\"http://wkhtmltopdf.org/\" rel=\"nofollow\">wkhtmltopdf</a>. </p>\n\n<p>I've tried this from both the client side and the server side, and the rendered result is always the original form, never the filled-in one.</p>\n\n<p>I notice if I reload the filled-in form page I get back the filled-in form, but if I cut and paste the form's URL into a new window, I get the initial, non-filled-in form.</p>\n\n<p>So I've convinced myself that, if I could use <a href=\"https://metacpan.org/pod/CGI::Session\" rel=\"nofollow\"><code>CGI::Session</code></a> properly, I could successfully open a session identical to the filled-in session. I tried using <a href=\"https://metacpan.org/pod/CGI::Session::Plugin::Redirect\" rel=\"nofollow\"><code>CGI::Session::Plugin::Redirect</code></a> with no joy. I <em>think</em> the key is that <code>window.open()</code> has to use the SID of the filled-in form window.</p>\n\n<p>I don't have a lot of experience with CGI session management, so this has been a four-day quest to nowhere. Any advice is appreciated, even if it's to abandon this approach and go back to the more common post->render a new form in a new window, and generate the PDF from that. I'd like to avoid all of that if I can.</p>\n"}, {"tags": ["python", "perl", "unicode", "rtf", "utf"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1428503654, "post_id": 29516412, "comment_id": 47190474, "body": "It is very hard to see what&#39;s going on w/o having the full file. There might be something in it which you overlooked."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "edited": false, "score": 0, "creation_date": 1428536530, "post_id": 29519315, "comment_id": 47208686, "body": "thanks! yes it is the fcharset you are right, see below."}], "tags": [], "owner": {"reputation": 496598, "user_id": 18936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6f1bea81a68b2f1cfe3efbb9be94bc?s=128&d=identicon&r=PG", "display_name": "bobince", "link": "https://stackoverflow.com/users/18936/bobince"}, "is_accepted": false, "score": 3, "last_activity_date": 1428507905, "last_edit_date": 1495535390, "creation_date": 1428507905, "answer_id": 29519315, "question_id": 29516412, "link": "https://stackoverflow.com/questions/29516412/rtf-conversion-of-escaped-double-byte-multi-byte-characters/29519315#29519315", "title": "RTF conversion of escaped double-byte/multi-byte characters", "body": "<p>The encoding used for <code>'xx</code> byte escapes in RTF files varies on a font by font basis. So you'll generally have to parse the RTF enough to find the current <code>\\fcharset</code> definition before being able to decide how to decode them. Here you probably have fcharset 134 aka code page 936 aka GB.</p>\n\n<p><a href=\"https://stackoverflow.com/a/8263786\">Background</a></p>\n"}, {"comments": [{"owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "edited": false, "score": 1, "creation_date": 1428536451, "post_id": 29519342, "comment_id": 47208667, "body": "Very interesting... it&#39;s the fcharset. With so many charsets, how do I know which one is being used for this specific piece of code?  <code>{\\f0\\fswiss\\fcharset0 Arial;}  {\\f1\\fmodern Courier New;}  {\\f2\\fnil\\fcharset2 Symbol;}  {\\f3\\fmodern\\fcharset0 Courier New;}  {\\f4\\fswiss\\fcharset134 Simsun;}}</code>"}, {"owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "edited": false, "score": 0, "creation_date": 1428536600, "post_id": 29519342, "comment_id": 47208705, "body": "Nevermind, I figured it out.  <code>\\htmlrtf{\\f4\\fs24\\htmlrtf0 \\&#39;a1\\&#39;dd</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "edited": false, "score": 1, "creation_date": 1428536661, "post_id": 29519342, "comment_id": 47208735, "body": "I don&#39;t know RTF but that looks like it&#39;s creating definitions that will be used later"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1428508273, "last_edit_date": 1428508273, "creation_date": 1428507969, "answer_id": 29519342, "question_id": 29516412, "link": "https://stackoverflow.com/questions/29516412/rtf-conversion-of-escaped-double-byte-multi-byte-characters/29519342#29519342", "title": "RTF conversion of escaped double-byte/multi-byte characters", "body": "<p><code>decode($encoding, $bytes)</code> is used to perform this kind of conversion.</p>\n\n<p>It isn't cp1251.</p>\n\n<pre><code>$ perl -E'\n   use open \":std\", \":encoding(UTF-8)\";\n   use Encode qw( decode );\n   my $bytes = join \"\", map chr(hex($_)), qw( a1 dd );  # \"\\xA1\\DD\"\n   say sprintf \"U+%v04X %1\\$s\", decode($ARGV[0], $bytes);\n' cp1251\nU+040E.042D \u040e\u042d\n</code></pre>\n\n<p>You'll need to fetch the correct encoding from the document. It could be euc-cn.</p>\n\n<pre><code>$ perl -E'\n   use open \":std\", \":encoding(UTF-8)\";\n   use Encode qw( decode );\n   my $bytes = join \"\", map chr(hex($_)), qw( a1 dd );  # \"\\xA1\\DD\"\n   say sprintf \"U+%v04X %1\\$s\", decode($ARGV[0], $bytes);\n' euc-cn\nU+2265 \u2265\n</code></pre>\n\n<p>But it's more likely to be cp936.</p>\n\n<pre><code>$ perl -E'\n   use open \":std\", \":encoding(UTF-8)\";\n   use Encode qw( decode );\n   my $bytes = join \"\", map chr(hex($_)), qw( a1 dd );  # \"\\xA1\\DD\"\n   say sprintf \"U+%v04X %1\\$s\", decode($ARGV[0], $bytes);\n' cp936\nU+2265 \u2265\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 29519342, "answer_count": 2, "score": 2, "last_activity_date": 1428508273, "creation_date": 1428500628, "last_edit_date": 1428507533, "question_id": 29516412, "link": "https://stackoverflow.com/questions/29516412/rtf-conversion-of-escaped-double-byte-multi-byte-characters", "title": "RTF conversion of escaped double-byte/multi-byte characters", "body": "<p>Within an <code>RTF</code> file that I have (character encoding ansicp1251)</p>\n\n<p>These escaped, encoded characters appear:</p>\n\n<pre><code>\\'a1\\'dd\n</code></pre>\n\n<p>When I open this in an RTF editor, it correctly opens as unicode symbol U+2265 <code>\u2265</code>. In the documentation for RTF, it lists these escaped characters as just being hex codes. However, it is not correct to list this as <code>hex(A1) + hex(DD)</code> because those represent two different characters, and I only want the one character of unicode U+2265 <code>\u2265</code>.</p>\n\n<p>I have found a match for the <code>A1DD</code> within the EUC-CN = Chinese Windows = Mac OS Chinese Simplified Encoding charset, which correctly identifies unicode symbol U+2265.</p>\n\n<p>However, this encoding is not listed anywhere in the file, and I'm not sure how my RTF viewer knows that I do not want <code>hex(A1) + hex(DD)</code> and I do want this double-byte character.</p>\n\n<p>I have googled extensively but come up short; there are many other people with reports of this, but I have not seen a solution. I would like to write a script in Perl/Python etc. that handles this kind of conversion and not rely on the Windows tools which can read/write RTF format.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428501405, "post_id": 29516278, "comment_id": 47188662, "body": "What modules do you use?"}, {"owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "edited": false, "score": 1, "creation_date": 1428501453, "post_id": 29516278, "comment_id": 47188696, "body": "<code>Dumper</code> is showing you that <code>$mres-&gt;{files}</code>is an <i>array</i> reference."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1428501575, "creation_date": 1428501575, "answer_id": 29516833, "question_id": 29516278, "link": "https://stackoverflow.com/questions/29516278/error-getting-the-contents-of-a-hash/29516833#29516833", "title": "Error getting the contents of a hash", "body": "<p>The error's coming from the previous line:</p>\n\n<pre><code>foreach my $key (keys %{ $mres-&gt;{files} })\n</code></pre>\n\n<p><code>$mres-&gt;{files}</code> is an array reference, so you can't dereference it as a hash.</p>\n\n<p>Just use</p>\n\n<pre><code>for my $file (@{ $mres-&gt;{files} }) {\n    print $file, \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 29516833, "answer_count": 1, "score": 1, "last_activity_date": 1428502603, "creation_date": 1428500289, "last_edit_date": 1428502603, "question_id": 29516278, "link": "https://stackoverflow.com/questions/29516278/error-getting-the-contents-of-a-hash", "title": "Error getting the contents of a hash", "body": "<p>My perl code looks like this:</p>\n\n<pre><code>my $ns = scraper {\n    process \"table.table tr&gt;td&gt;a\", 'files[]' =&gt; 'TEXT';     \n};\nmy $mres = $ns-&gt;scrape(URI-&gt;new($purlToScrape));\nif ( ($#{$mres-&gt;{files}}) &gt; 0 ) {       \n    print Dumper($mres-&gt;{files} );\n    foreach my $key (keys %{ $mres-&gt;{files} }) {\n        print @{$mres-&gt;{files}}[$key].\"\\n\"; \n    }\n}\n</code></pre>\n\n<p>While running:</p>\n\n<pre><code>$VAR1 = [\n  'Metropolis (1927)',\n  'The Adventures of Robin Hood (1938)',\n  'King Kong (1933)',\n  'The Treasure of the Sierra Madre (1948)',\n  'Up (2009)',\n  'Lawrence of Arabia (1962)',\n];\nNot a HASH reference at /root/bash-advanced-scripts/rotten.pl line 28.\n</code></pre>\n\n<p>Line 28 is this:</p>\n\n<pre><code>print @{$mres-&gt;{files}}[$key].\"\\n\";\n</code></pre>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1428496224, "post_id": 29514544, "comment_id": 47184838, "body": "i tried with the your code ..the output is not in my desired order .the present order is :  CDS \texon \tgene \tmRNA \tproduct"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1428496688, "post_id": 29514544, "comment_id": 47185155, "body": "The inner loop is unsorted in the original example, and sorted alphabetically in this one. Neither are the desired result - this isn&#39;t so much a custom sort, as a fixed return order."}, {"owner": {"reputation": 22, "user_id": 4761685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f646c03755fa6c9080c1dba4509177e?s=128&d=identicon&r=PG&f=1", "display_name": "mdpg", "link": "https://stackoverflow.com/users/4761685/mdpg"}, "edited": false, "score": 0, "creation_date": 1428500241, "post_id": 29514544, "comment_id": 47187729, "body": "I missed that subtlety in your original question.  If you know the order you want the sub keys listed in then just define that head of time!"}], "tags": [], "owner": {"reputation": 22, "user_id": 4761685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f646c03755fa6c9080c1dba4509177e?s=128&d=identicon&r=PG&f=1", "display_name": "mdpg", "link": "https://stackoverflow.com/users/4761685/mdpg"}, "is_accepted": false, "score": 0, "last_activity_date": 1428500529, "last_edit_date": 1428500529, "creation_date": 1428495882, "answer_id": 29514544, "question_id": 29514330, "link": "https://stackoverflow.com/questions/29514330/custom-alphabetic-sort-in-perl-hash/29514544#29514544", "title": "custom alphabetic sort in perl hash", "body": "<p>You just need to define the order you want to see the sub keys as:</p>\n\n<pre><code>sub by_int_suffix{\n  my ($anum) = ($a =~ /\\w(\\d+)$/);\n  my ($bnum) = ($b =~ /\\w(\\d+)$/);\n  $anum &lt;=&gt; $bnum;\n}\n\nmy @sub_key_order = qw(gene mRNA rRNA CDS exon product locus);\nmy @key_order = sort by_int_suffix keys %my_hash;\nfor my $id ( @key_order ){\n    print \"$id\\n\";\n    for my $id1 (@sub_key_order){\n            next unless exists $my_hash{$id}-&gt;{$id1};\n            print \"\\t$id1\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1428496103, "creation_date": 1428496103, "answer_id": 29514628, "question_id": 29514330, "link": "https://stackoverflow.com/questions/29514330/custom-alphabetic-sort-in-perl-hash/29514628#29514628", "title": "custom alphabetic sort in perl hash", "body": "<p>Just create a hash by which you can sort the keys:</p>\n\n<pre><code>my %keys_sort;\nmy $c = 0;\n$keys_sort{$_} = $c++ for qw( gene mRNA rRNA CDS exon product locus );\n</code></pre>\n\n<p>and use it to sort them:</p>\n\n<pre><code>for my $id1 (sort { $keys_sort{$a} &lt;=&gt; $keys_sort{$b} }\n             keys %{ $my_hash{$id} }\n) {\n</code></pre>\n\n<p>Or, use the list directly, but <code>grep</code> only the relevant keys:</p>\n\n<pre><code>for my $id1 (grep exists $my_hash{$id}{$_},\n             qw( gene mRNA rRNA CDS exon product locus )\n) {\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428498015, "post_id": 29514766, "comment_id": 47186108, "body": "My guess would be that the subhash values are important, but the OP doesn&#39;t actually <i>say so</i>! By the way, you mean a <i>slice</i>: <code>splice</code> is something different, and your single <code>print</code> isn&#39;t equivalent to the <code>for</code> loop as it doesn&#39;t print the <code>$subkey, &quot; = &quot;</code> part and doesn&#39;t default non-existent values to the empty string"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428505139, "post_id": 29514766, "comment_id": 47191601, "body": "When I tested it that join did print &#39;null&#39; lines for the empty values. Amended on the splice."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428509978, "post_id": 29514766, "comment_id": 47195040, "body": "Yes, as you know Perl itself will stringify <code>undef</code> to the null string, but with an associated warning unless you have <code>no warnings &#39;uninitialized&#39;</code> in effect. I&#39;m just saying that your <code>join</code> doesn&#39;t explicitly default false hash values to a null string as your principle code does"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428527228, "post_id": 29514766, "comment_id": 47205049, "body": "I had expected warnings; didn&#39;t get any. Not sure if that&#39;s because I&#39;m missing something daft though."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1428505148, "last_edit_date": 1428505148, "creation_date": 1428496466, "answer_id": 29514766, "question_id": 29514330, "link": "https://stackoverflow.com/questions/29514330/custom-alphabetic-sort-in-perl-hash/29514766#29514766", "title": "custom alphabetic sort in perl hash", "body": "<p>I would strongly suggest for a sort routine of that length, you stop trying to embed as an anonymous sub. </p>\n\n<p>Sort will take a reference to a subroutine. This subroutine may take any generic <code>$a</code> and <code>$b</code> and return -1, 0 or 1. (e.g. as <code>cmp</code> or <code>&lt;=&gt;</code> do) based on absolutely any criteria you like. </p>\n\n<p>What is important to note here - hashes are explicitly unordered. Indeed, they are often deliberately random-ordered behind the scenes. So you need to <em>also</em> sort your 'inner' hash. </p>\n\n<p>So with that in mind, I would suggest something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %my_hash = (\n    'gee1' =&gt; {\n        'gene'    =&gt; '20',\n        'mRNA'    =&gt; '9',\n        'CDS'     =&gt; '10',\n        'exon'    =&gt; '10',\n        'product' =&gt; '10',\n    },\n    'gee2' =&gt; {\n        'gene'    =&gt; 'aa',\n        'mRNA'    =&gt; '9',\n        'CDS'     =&gt; '1aa',\n        'exon'    =&gt; '1aa',\n        'product' =&gt; 'ab',\n\n    },\n    'gee4' =&gt; {\n        'gene'    =&gt; 'aa',\n        'rRNA'    =&gt; '9',\n        'product' =&gt; 'ab',\n        'locus'   =&gt; 'abc'\n\n    },\n    'gee11' =&gt; {\n        'gene'    =&gt; 'aa',\n        'rRNA'    =&gt; '9',\n        'product' =&gt; 'ab',\n        'locus'   =&gt; 'abc'\n\n    }\n);\n\nsub sort_key_number {\n    my ($anum) = ( $a =~ /(\\d+)$/ );\n    my ($bnum) = ( $b =~ /(\\d+)$/ );\n\n    #print \"$anum, $bnum\\n\";\n    return $anum &lt;=&gt; $bnum;\n}\n\nmy @subkeys = qw ( gene mRNA rRNA CDS exon product locus );\n\nforeach my $key ( sort {sort_key_number} keys %my_hash ) {\n    print \"\\n\", $key, \":\\n\";\n    foreach my $subkey (@subkeys) {\n        print \"\\t\", $subkey, \" = \", $my_hash{$key}{$subkey} || '', \"\\n\";\n    }\n}\n</code></pre>\n\n<p>You've sorted your outer hash by 'key number'. And your inner hash, you work through in a specific order each time (defined by <code>@subkeys</code>). </p>\n\n<p>If you want a bit of a trick, that last <code>foreach</code> loop you could do with a slice:</p>\n\n<pre><code>print join ( \"\\n\\t\", @{$my_hash{$key}}{@subkeys} );\n</code></pre>\n\n<p>But I decided not to in the interests of clarity. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1428498751, "last_edit_date": 1428498751, "creation_date": 1428497740, "answer_id": 29515261, "question_id": 29514330, "link": "https://stackoverflow.com/questions/29514330/custom-alphabetic-sort-in-perl-hash/29515261#29515261", "title": "custom alphabetic sort in perl hash", "body": "<p>It's a little unusual to show only the <em>keys</em> of the second-level hashes, but the answer is to use a separate array\u2014here I have used <code>@required</code>\u2014to define the keys and the order that you want</p>\n\n<p>Others have explained something very similar, so here I am using <code>grep</code> for a little variety. Instead of printing the keys of each sub-hash, I chose to print the elements of <code>@required</code> for which there exists a corresponding key</p>\n\n<p>For the same reason I have used a <code>map</code> to create the pair of numeric values that need to be compared in the outer <code>sort</code> operation</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy %my_hash=(\n  gee1  =&gt; { CDS =&gt; 10, exon =&gt; 10, gene =&gt; 20, mRNA =&gt; 9, product =&gt; 10 },\n  gee11 =&gt; { gene =&gt; \"aa\", locus =&gt; \"abc\", product =&gt; \"ab\", rRNA =&gt; 9 },\n  gee2  =&gt; { CDS =&gt; \"1aa\", exon =&gt; \"1aa\", gene =&gt; \"aa\", mRNA =&gt; 9, product =&gt; \"ab\" },\n  gee4  =&gt; { gene =&gt; \"aa\", locus =&gt; \"abc\", product =&gt; \"ab\", rRNA =&gt; 9 },\n);\n\nmy @sorted_keys = sort {\n  my ($aa, $bb) = map /(\\d+)/, $a, $b;\n  $aa &lt;=&gt; $bb;\n} keys %my_hash;\n\nmy @required = qw/ gene mRNA rRNA CDS exon product locus /;\n\nfor my $key ( @sorted_keys ) {\n  print \"$key\\n\";\n  for ( grep exists $my_hash{$key}{$_}, @required ) {\n    print \"    $_\\n\";\n  }\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>gee1\n    gene\n    mRNA\n    CDS\n    exon\n    product\ngee2\n    gene\n    mRNA\n    CDS\n    exon\n    product\ngee4\n    gene\n    rRNA\n    product\n    locus\ngee11\n    gene\n    rRNA\n    product\n    locus\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Those missing hash values are bothering me, and I should point out that you can produce them very simply by changing that last <code>print</code> statement to </p>\n\n<pre><code>print \"    $_ = $my_hash{$key}{$_}\\n\"\n</code></pre>\n\n<p>The output is now</p>\n\n<pre><code>gee1\n    gene = 20\n    mRNA = 9\n    CDS = 10\n    exon = 10\n    product = 10\ngee2\n    gene = aa\n    mRNA = 9\n    CDS = 1aa\n    exon = 1aa\n    product = ab\ngee4\n    gene = aa\n    rRNA = 9\n    product = ab\n    locus = abc\ngee11\n    gene = aa\n    rRNA = 9\n    product = ab\n    locus = abc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1428527280, "last_edit_date": 1428527280, "creation_date": 1428498848, "answer_id": 29515698, "question_id": 29514330, "link": "https://stackoverflow.com/questions/29514330/custom-alphabetic-sort-in-perl-hash/29515698#29515698", "title": "custom alphabetic sort in perl hash", "body": "<p>You're doing too much at once. Use two loops. The outer loop to sort your <code>%my_hash</code> of genes, and the inner loop to sort the items of your genes:</p>\n\n<pre><code>#! /usr/bin/env perl\n#\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nmy %my_hash=(\n    'gee1' =&gt;  { 'gene' =&gt; '20', 'mRNA' =&gt; '9', 'CDS' =&gt; '10', 'exon' =&gt; '10', 'product' =&gt; '10', },\n    'gee2'   =&gt;  { 'gene' =&gt; 'aa', 'mRNA' =&gt; '9', 'CDS' =&gt; '1aa', 'exon' =&gt; '1aa', 'product' =&gt; 'ab', },\n    'gee4'   =&gt;  { 'gene' =&gt; 'aa', 'rRNA' =&gt; '9', 'product' =&gt; 'ab', 'locus' =&gt; 'abc' },\n    'gee11'   =&gt;  { 'gene' =&gt; 'aa', 'rRNA' =&gt; '9', 'product' =&gt; 'ab', 'locus' =&gt; 'abc' },\n);\n\nfor my $gene ( sort {fc $a cmp fc $b} keys %my_hash ) {\n    say $gene;\n    my %types = %{$my_hash{$gene}};\n    for my $type ( sort {fc $a cmp fc $b} keys %types ) {\n        say \"    $type: \" . $my_hash{$gene}-&gt;{$type};\n    }\n}\n</code></pre>\n\n<p>Although I could have done just a straight sort on this dataset, I noticed that upper and lowercase keys existed. Using a pure <code>sort</code> command would sort in the <em>current collation locale</em> which may sort upper case letters before lowercase letters. Using the <code>fc</code> folds the case.</p>\n\n<p>That is, I did this:</p>\n\n<pre><code>sort { fc $a cmp fc $b } @array;\n</code></pre>\n\n<p>Instead of just:</p>\n\n<pre><code>sort @array;\n</code></pre>\n\n<p>You can also look into using a <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow\">Schwartzian Transformation</a> which might be faster. If nothing else, you can use the Schwartzian Transformation to hold your data in sorted order in case you don't want to print it out immediately.</p>\n"}], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 29514628, "answer_count": 5, "score": 0, "last_activity_date": 1428527280, "creation_date": 1428495301, "last_edit_date": 1428497003, "question_id": 29514330, "link": "https://stackoverflow.com/questions/29514330/custom-alphabetic-sort-in-perl-hash", "title": "custom alphabetic sort in perl hash", "body": "<p>I have a hash the structure is like :</p>\n\n<pre><code>my %my_hash=(\n 'gee1' =&gt;  {\n                   'gene' =&gt; '20',\n                   'mRNA' =&gt; '9',\n                   'CDS' =&gt; '10',\n                    'exon' =&gt; '10',\n                    'product' =&gt; '10',\n               },\n'gee2'   =&gt;  {\n                     'gene' =&gt; 'aa',\n                   'mRNA' =&gt; '9',\n                   'CDS' =&gt; '1aa',\n                    'exon' =&gt; '1aa',\n                    'product' =&gt; 'ab',\n\n               },\n'gee4'   =&gt;  {\n                     'gene' =&gt; 'aa',\n                   'rRNA' =&gt; '9',\n                    'product' =&gt; 'ab',\n                    'locus' =&gt; 'abc'\n\n               },\n'gee11'   =&gt;  {\n                     'gene' =&gt; 'aa',\n                   'rRNA' =&gt; '9',\n                    'product' =&gt; 'ab',\n                    'locus' =&gt; 'abc'\n\n               });\n</code></pre>\n\n<p>when I am trying to print the hash in the above order, using the bellow code :</p>\n\n<pre><code>for my $id ( sort { my ($anum) = ($a =~ /\\w(\\d+)$/);  my ($bnum) = ($b =~ /\\w(\\d+)$/);  $anum &lt;=&gt; $bnum} keys %my_hash)\n{\n    print \"$id\\n\";\n    for my $id1 (keys %{$my_hash{$id}})\n    {\n            print \"\\t$id1\\n\";\n    }\n}\n</code></pre>\n\n<p>the out put is like this : </p>\n\n<pre><code>gee1\n    product\n    exon\n    gene\n    mRNA\n    CDS\ngee2\n    product\n    exon\n    CDS\n    mRNA\n    gene\ngee4\n    product\n    locus\n    gene\n    rRNA\ngee11\n    rRNA\n    gene\n    product\n    locus\n</code></pre>\n\n<p>you can see that </p>\n\n<pre><code>product\nexon\ngene\nmRNA\nCDS\n</code></pre>\n\n<p>the above part is not in ordered.<br>\nis their any way to sort the above part?</p>\n\n<p>order is like:\n    <strong>gene,mRNA,rRNA,CDS,exon,product,locus</strong></p>\n"}, {"tags": ["database", "perl", "jdbc"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1428495537, "post_id": 29514194, "comment_id": 47184325, "body": "Could you post your full code and tell us about line 66?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428499312, "post_id": 29514194, "comment_id": 47187028, "body": "Just to be clear, it&#39;s not a <i>db_handler</i>, it&#39;s a <i>db_handle</i>. There is a huge difference"}, {"owner": {"reputation": 43, "user_id": 2273100, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/8b065da283d322f75eb17a0548cfe630?s=128&d=identicon&r=PG", "display_name": "yadav_1992", "link": "https://stackoverflow.com/users/2273100/yadav-1992"}, "edited": false, "score": 0, "creation_date": 1428581056, "post_id": 29514194, "comment_id": 47228029, "body": "my $db_handler = DBI-&gt;connect($dsn, $user, $password ) or die $DBI::errstr;  this is line no. 66"}], "answers": [{"tags": [], "owner": {"reputation": 22, "user_id": 4761685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f646c03755fa6c9080c1dba4509177e?s=128&d=identicon&r=PG&f=1", "display_name": "mdpg", "link": "https://stackoverflow.com/users/4761685/mdpg"}, "is_accepted": false, "score": -1, "last_activity_date": 1428496194, "creation_date": 1428496194, "answer_id": 29514670, "question_id": 29514194, "link": "https://stackoverflow.com/questions/29514194/iosocketinet-connect-connection-refused-when-connecting-to-jdbc-database/29514670#29514670", "title": "`IO::Socket::INET: connect: Connection refused` when connecting to JDBC database", "body": "<p>According to the <a href=\"http://search.cpan.org/~vizdom/DBD-JDBC-0.70/JDBC.pod\" rel=\"nofollow\">DBD::JDBC docs</a>, you need to have the java server process running in order to make the above connection.  It looks like that process isn't responding on the port you are trying to connect to.</p>\n\n<p><code>java -Djdbc.drivers=foo.bar.Driver -Ddbd.port=14000 com.vizdom.dbd.jdbc.Server</code></p>\n"}], "owner": {"reputation": 43, "user_id": 2273100, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/8b065da283d322f75eb17a0548cfe630?s=128&d=identicon&r=PG", "display_name": "yadav_1992", "link": "https://stackoverflow.com/users/2273100/yadav-1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1740, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428499518, "creation_date": 1428494933, "last_edit_date": 1428499518, "question_id": 29514194, "link": "https://stackoverflow.com/questions/29514194/iosocketinet-connect-connection-refused-when-connecting-to-jdbc-database", "title": "`IO::Socket::INET: connect: Connection refused` when connecting to JDBC database", "body": "<p>I am new to Perl and there is a script for database connection</p>\n\n<pre><code>sub db_connect {\n    my ($database, $user, $password) = @_;\n\n    my $driver = \"JDBC\";\n    my $port = 14000;\n\n    my $dsn = \"dbi:JDBC:hostname=localhost:14000; url=jdbc:hsqldb:hsql://localhost:1111/$database;jdbc_character_set=ASCII\";\n\n    my $db_handler = DBI-&gt;connect($dsn, $user, $password ) or die $DBI::errstr;\n\n    print \"DB connected\\n\";\n    return $db_handler;\n}\n</code></pre>\n\n<p>and following is the error:-</p>\n\n<pre><code>process name:- com.vizdom.dbd.jdbc.ServerDBI connect('hostname=localhost:14000;url=jdbc:hsqldb:hsql://localhost:1111/EciToolDB;jdbc_character_set=ASCII','SA',...) failed: Failed to open socket to server: IO::Socket::INET: connect: Connection refused at ../lib/utils.pl line 66\nFailed to open socket to server: IO::Socket::INET: connect: Connection refused at ../lib/utils.pl line 66.\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1428494568, "post_id": 29513910, "comment_id": 47183647, "body": "Did you check this page: <a href=\"http://www.perlmonks.org/?node_id=956620\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=956620</a> ? <code>open my $filehandle, &#39;&lt;&#39;, &#39;myfile.txt&#39;; my $line_number = 0; while (defined($line = &lt;$filehandle&gt;)) { ... }</code> (no newlines in comments, sorry :()"}, {"owner": {"reputation": 5300, "user_id": 1298461, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76f8604ac955a6ed812cf3d9cf803b6c?s=128&d=identicon&r=PG", "display_name": "KIC", "link": "https://stackoverflow.com/users/1298461/kic"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1428494829, "post_id": 29513910, "comment_id": 47183832, "body": "@stribizhev no but you are right this works:<code>open my $filehandle, &#39;&lt;&#39;, &#39;myfile.txt&#39;; while (defined($line = &lt;$filehandle&gt;)) {...}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 0, "creation_date": 1428495144, "post_id": 29514189, "comment_id": 47184048, "body": "Correct me if I&#39;m wrong, but doesn&#39;t <code>$.</code> give you the current line number?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 0, "creation_date": 1428495312, "post_id": 29514189, "comment_id": 47184152, "body": "@SeanBright: Sure - <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html</a>. Thanks for noticing!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1428495503, "post_id": 29514189, "comment_id": 47184301, "body": "Isn&#39;t <code>defined</code> a moot point in your while loop? The <code>while</code> will break if <code>undef</code> anyway."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1428495470, "last_edit_date": 1428495470, "creation_date": 1428494923, "answer_id": 29514189, "question_id": 29513910, "link": "https://stackoverflow.com/questions/29513910/do-some-regex-on-a-50gb-file-in-perl/29514189#29514189", "title": "Do some regex on a 50GB file in perl", "body": "<p>I'd suggest to use the approach outlined on this <a href=\"http://www.perlmonks.org/?node_id=956620\" rel=\"nofollow\">PerlMonks page</a>.</p>\n\n<p>Here is an example from that page:</p>\n\n<pre><code># Set the character which will be used to indicate the end of a line.\n# This defaults to the system's end of line character, but it doesn't\n# hurt to set it explicitly, just in case some other part of your code\n# has altered it from the default.\nlocal $/ = \"\\n\";\n\n# Open the file for read access:\nopen my $filehandle, '&lt;', 'myfile.txt';\n\nmy $line_number = 0;\n\n# Loop through each line:\nwhile (defined($line = &lt;$filehandle&gt;))\n{\n  # The text of the line, including the linebreak\n  # is now in the variable $line.\n\n  # Keep track of line numbers\n  $line_number++;\n\n  # Strip the linebreak character at the end.\n  chomp $line;\n\n  # Do something with the line.\n  do_something($line);\n\n  # Perhaps bail out of the loop\n  if ($line =~ m/^ERROR/)\n  {\n    warn \"Error on line $line_number - skipping rest of file\";\n    last;\n  }\n}\n</code></pre>\n\n<p><strong>EDIT</strong>: To obtain the line number, you can omit <code>$line_number</code> and just use <code>$.</code> (see <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">http://perldoc.perl.org/perlvar.html</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1428495542, "post_id": 29514207, "comment_id": 47184329, "body": "Your last line is the critical point of relevance to the OP. <code>for</code> and <code>while</code> look very similar for file iterating, but the former reads the whole file in advance, where the latter does not."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 9, "last_activity_date": 1428494957, "creation_date": 1428494957, "answer_id": 29514207, "question_id": 29513910, "link": "https://stackoverflow.com/questions/29513910/do-some-regex-on-a-50gb-file-in-perl/29514207#29514207", "title": "Do some regex on a 50GB file in perl", "body": "<p>The correct \"plain vanilla\" syntax is</p>\n\n<pre><code>while (my $line = &lt;FH&gt;) { ...\n</code></pre>\n\n<p>Your <code>for</code> loop would indeed cause Perl to read the whole file into memory first.</p>\n"}], "owner": {"reputation": 5300, "user_id": 1298461, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76f8604ac955a6ed812cf3d9cf803b6c?s=128&d=identicon&r=PG", "display_name": "KIC", "link": "https://stackoverflow.com/users/1298461/kic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "closed_date": 1428720289, "accepted_answer_id": 29514189, "answer_count": 2, "score": 1, "last_activity_date": 1428495470, "creation_date": 1428494133, "question_id": 29513910, "link": "https://stackoverflow.com/questions/29513910/do-some-regex-on-a-50gb-file-in-perl", "closed_reason": "Duplicate", "title": "Do some regex on a 50GB file in perl", "body": "<p>How can I stream a 50GB large file in perl to execute some regex for each line (or chunk)? I have tried with plain vanilla </p>\n\n<pre><code>for $line (&lt;FH&gt;) {\n   # do regex\n}\n</code></pre>\n\n<p>I have also tried Tie::File and File::Stream, but perl always tries to load the whole file into memory which is simply not possible.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse IO::Handle;\nuse Tie::File;\nuse File::Stream;\n#tie @array, 'Tie::File', $ARGV[0] or die \"could not open file\";\n\nSTDOUT-&gt;autoflush(1);\n\n$file=$ARGV[0];\nopen(INFO, \"&lt; $file\") or die(\"Could not open  file.\");\n\nprint \"opening ... \\n\";\nmy $stream = File::Stream-&gt;new(&lt;INFO&gt;);\n\n#$out = $ARGV[1];\n#open(my $OH, '&gt;', $out) or die \"Could not open file '$out' $!\";\nprint \"starting ... \\n\";\nwhile (&lt;$stream&gt;)  {\n    $line = $_;\n    $line =~ s/\\n/\\[!BR!\\]/g;\n    $line =~ s/&lt;page&gt;/\\n&lt;page&gt;/g;\n    $line =~ s/&lt;\\/page&gt;/&lt;\\/page&gt;\\n/g;\n    print $line;\n\n    #STDOUT-&gt;flush();\n}\n\nclose(INFO);\n</code></pre>\n"}, {"tags": ["perl", "session", "cookies", "plack", "starman"], "comments": [{"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "edited": false, "score": 0, "creation_date": 1428563312, "post_id": 29511274, "comment_id": 47217174, "body": "I have got the answer for this problem as i am suppose to return the %env hash through Authentication middleware which will then modify/access this hash and the response to the app."}], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1428486502, "creation_date": 1428486502, "question_id": 29511274, "link": "https://stackoverflow.com/questions/29511274/how-do-i-use-plack-authentication-with-session-middleware", "title": "How do i use Plack Authentication with Session middleware?", "body": "<p>I am having my own written middleware called Authentication and session where Authentication middleware generates the session key and save the session information in cookie upon successful authentication.</p>\n\n<p>Now using above cookie the Session middleware extract the session information and implements the session management.</p>\n\n<p>But somehow i am not able to serialize the above middlewares, so that i can get the cookies created by Authentication middleware in Session middleware.</p>\n\n<p>I tried to build them as below -</p>\n\n<pre><code>my $app = builder {\n    mount \"/login\" =&gt; builder {\n       enable \"+X::Middleware::Authentication\"; #This should be called first\n       enable \"+X::Middleware::Session\";\n    };\n};\n</code></pre>\n\n<p>And the Authentication middleware simple validate the user to some database and on success generates the session key and save it in cookie.</p>\n\n<p>The Session middleware looks like as -</p>\n\n<pre><code>package X::Middleware::Session;\nuse Plack::Session::State;\n\nuse parent qw(Plack::Middleware);\n\nuse warnings;\nuse strict;\n\nuse Moose;\n\nuse Data::Dumper;\n\nsub call {\n    my $self = shift;\n    my($env) = @_;\n\n    # Expecting the cookie information in $env, but its not there\n    my $request = Plack::Request-&gt;new($env);\n    my $session = $request-&gt;session;\n\n    $session-&gt;{user} = \"some\";\n\n    $env-&gt;{'psgix.session.options'}{change_id} = 1;\n    $env-&gt;{'psgix.session.options'}{expires}   = 120;\n\n    my $response = Plack::Response-&gt;new();\n\n    print \"Welcome to X::Middleware::Session Middleware\\n\\n\\n\";\n\n    print \"X::Middleware::Session::ENV - \" . Dumper($env) . \"\\n\";\n    $response-&gt;status(200);\n    return $response-&gt;finalize;\n}\n\n1;\n</code></pre>\n\n<p>Is there any problem i am calling the middleware?</p>\n"}, {"tags": ["perl", "asterisk"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428481676, "post_id": 29509316, "comment_id": 47175296, "body": "I know nothing about asterisk, but Perl interpolates variables in double quotes. Hence, <code>&quot;$option&quot;</code> is the same <code>&#39;&#39; . $option</code> - maybe you want <code>&#39;$option&#39;</code> instead? Single quotes don&#39;t interpolate."}, {"owner": {"reputation": 23, "user_id": 4758498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JyMjC.jpg?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/4758498/faisal"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428484686, "post_id": 29509316, "comment_id": 47177146, "body": "dear still having same output. it not work for me."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4758498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JyMjC.jpg?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/4758498/faisal"}, "edited": false, "score": 0, "creation_date": 1428560647, "post_id": 29525173, "comment_id": 47215837, "body": "ohhhhhhh GOD!.. Really appreciate your answer bro.. its work for me.  Thanks alot :)"}, {"owner": {"reputation": 23, "user_id": 4758498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JyMjC.jpg?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/4758498/faisal"}, "edited": false, "score": 0, "creation_date": 1428576292, "post_id": 29525173, "comment_id": 47225082, "body": "ok can you please give me some example code with get_variable and Read because they are still not working for me or either i don&#39;t know how to use them. I am really thankful to you."}, {"owner": {"reputation": 278, "user_id": 1489324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUIi1.jpg?s=128&g=1", "display_name": "sattellite", "link": "https://stackoverflow.com/users/1489324/sattellite"}, "reply_to_user": {"reputation": 23, "user_id": 4758498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JyMjC.jpg?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/4758498/faisal"}, "edited": false, "score": 0, "creation_date": 1428585825, "post_id": 29525173, "comment_id": 47231443, "body": "I never used  <code>get_variable</code> for <code>Read</code>. Cannot help with sample code."}, {"owner": {"reputation": 23, "user_id": 4758498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JyMjC.jpg?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/4758498/faisal"}, "edited": false, "score": 0, "creation_date": 1428589218, "post_id": 29525173, "comment_id": 47234053, "body": "ok.. so for what we use get_variable.. I saw lot of example codes and they used the get_variable followed by the read.         &#39; $AGI-&gt;exec(&quot;Read&quot;,&quot;\\option,custom/inquiry-tocheck,1,,,\\&quot;&quot;);         $option = $AGI-&gt;get_variable(option); &#39;"}], "tags": [], "owner": {"reputation": 278, "user_id": 1489324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUIi1.jpg?s=128&g=1", "display_name": "sattellite", "link": "https://stackoverflow.com/users/1489324/sattellite"}, "is_accepted": true, "score": 1, "last_activity_date": 1428526498, "creation_date": 1428526498, "answer_id": 29525173, "question_id": 29509316, "link": "https://stackoverflow.com/questions/29509316/asterisk-get-variable-in-perl-agi/29525173#29525173", "title": "Asterisk get_variable, in Perl AGI", "body": "<p><a href=\"https://metacpan.org/pod/Asterisk::AGI#AGI-get_variable-variable\" rel=\"nofollow\">$AGI->get_variable()</a> gets variable stored in channel data. Catched DTMF digits don't stored in the data of current channel. For your case you need use\n<a href=\"https://metacpan.org/pod/Asterisk::AGI#AGI-get_data-filename-timeout-maxdigits\" rel=\"nofollow\">$AGI->get_data()</a>.</p>\n\n<pre><code># Wait 3 seconds for press button\nmy $option1 = $agi-&gt;get_data('recording-201503252343',3000,1);\nif ($option1 == 1) {\n  # do something\n}\n</code></pre>\n\n<p>And in your example you have errors. Defined <code>$option1</code> is empty. You executing command <code>Read</code> with catching DTMF in <code>option1</code> and next you want get value of <code>$option1</code> (empty). Either it's a typo in the example in the <code>Read</code> command (<code>option1</code> instead of <code>$option1</code>) or it is a wrong code, which works as expected.</p>\n"}], "owner": {"reputation": 23, "user_id": 4758498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JyMjC.jpg?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/4758498/faisal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2432, "favorite_count": 0, "accepted_answer_id": 29525173, "answer_count": 1, "score": 1, "last_activity_date": 1428526498, "creation_date": 1428480852, "question_id": 29509316, "link": "https://stackoverflow.com/questions/29509316/asterisk-get-variable-in-perl-agi", "title": "Asterisk get_variable, in Perl AGI", "body": "<p>I am little new to Asterisk AGI. I am using perl with asterisk agi.</p>\n\n<p>I need to design an IVR solution using Perl asterisk agi.</p>\n\n<p>I have write a little code and it is executing fine.</p>\n\n<h2>Perl Code:-</h2>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n  use Asterisk::AGI;\n  my $agi = new Asterisk::AGI;\n  my $option1 = \"\";\n  my $option2 = \"\";\n\n$agi-&gt;exec(\"Read\",\"option1,recording-201503252343,1,,,\");\n$option2 = $agi-&gt;get_variable(\"$option1\");\n$agi-&gt;exec(\"NoOp\",\"$option1\");\n\nif($option2 == 1)\n{\n  $agi-&gt;exec(\"Playback\",\"hello-world\");\n  $agi-&gt;exec(\"Goto\",\"English,s,1\");\n}\n</code></pre>\n\n<hr>\n\n<h2>Asterisk Dialplan:-</h2>\n\n<pre><code>exten =&gt; 12345,1,Answer()\nexten =&gt; 12345,2,AGI(agi_new-new.pl)\nexten =&gt; 12345,n,NoOP(${AGISTATUS})\nexten =&gt; 12345,n,Hangup()\n</code></pre>\n\n<hr>\n\n<p>Actually what i did in the code is that i want a user to dial the extension lead by the IVR in which 2 options are prompted and he has to choose between 2 options when he/she enter the options i want to store that digit into a variable so that i use condition on that variable.\nI use get_variable to get the variable but when i press the desired option it gets that dtmf input but it is not storing in the variable via the command get_variable.</p>\n\n<p>please i need little help on this.</p>\n\n<p>if anyone could help it will be highly appreciated.</p>\n"}, {"tags": ["perl", "runtime", "compile-time"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1428502256, "post_id": 29509567, "comment_id": 47189382, "body": "Lots of <code>use strict;</code> and <code>use warnings;</code> errors are actually caught at run-time. (e.g. <code>$x=&quot;abc&quot;; $x-&gt;{def}</code> and <code>print undef;</code>)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1428483033, "last_edit_date": 1428483033, "creation_date": 1428481636, "answer_id": 29509567, "question_id": 29509087, "link": "https://stackoverflow.com/questions/29509087/what-is-the-mean-of-at-compile-time-in-perl-scripting/29509567#29509567", "title": "What is the mean of &#39;at compile-time&#39; in perl scripting", "body": "<p>Perl does compile, prior to running. Usually that's done immediately before.  Running <code>perl -c</code> will do a fairly basic code validity check, and will highlight certain classes of errors (usually in my case, missing semi-colons). </p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perlrun</code></a>:</p>\n\n<blockquote>\n  <p>After locating your program, Perl compiles the entire program to an internal form. If there are any compilation errors, execution of the program is not attempted. (This is unlike the typical shell script, which might run part-way through before finding a syntax error.)</p>\n</blockquote>\n\n<p>That includes loading and checking any imported modules for the same tests. In <em>most</em> cases that's exactly what you want - these tests/errors are <em>usually</em> show stoppers, and so detecting before even starting to execute is a good thing. </p>\n\n<p>Especially when you <code>use strict;</code> and <code>use warnings;</code> your code is preprocessed for a wider range of errors.  It is done at compile time, and it'll abort if anything it spotted. </p>\n\n<p>Again, this is <em>usually</em> desirable - tripping over glitches halfway through a program is <em>usually</em> more annoying to sort out, as you're potentially in an inconsistent state. </p>\n\n<p>However as you note - things like modules can be pretty big, and it can be useful as a result to load them 'on the fly'. Perl can redefine a bunch of things as you go - if you really want you can make/change subroutines within your code. </p>\n\n<p>Changes to subroutines and testing their validity can't ever be done at \"compile time\" because of what is known as the halting state problem. So you load at run time, but then have to build in some more exhaustive integrity checking. </p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1428489542, "creation_date": 1428489542, "answer_id": 29512379, "question_id": 29509087, "link": "https://stackoverflow.com/questions/29509087/what-is-the-mean-of-at-compile-time-in-perl-scripting/29512379#29512379", "title": "What is the mean of &#39;at compile-time&#39; in perl scripting", "body": "<p>Have a look at <a href=\"http://modernperlbooks.com/mt/2009/08/how-a-perl-5-program-works.html\" rel=\"nofollow\">How a Perl 5 Program Works</a>.\nIt state that</p>\n\n<blockquote>\n  <p>There are two distinct phases of execution of a Perl 5 program: compile time and runtime.</p>\n</blockquote>\n\n<p>It also describe the difference between <code>compile time</code> and <code>runtime</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1428496241, "last_edit_date": 1428496241, "creation_date": 1428495910, "answer_id": 29514555, "question_id": 29509087, "link": "https://stackoverflow.com/questions/29509087/what-is-the-mean-of-at-compile-time-in-perl-scripting/29514555#29514555", "title": "What is the mean of &#39;at compile-time&#39; in perl scripting", "body": "<p>Perl code is compiled before it is executed, just not to machine code. It's a bit like how Java is compiled to byte code, but the result is higher-level.</p>\n\n<pre><code># B::Concise shows the opcode tree that results from compiling Perl code\n\n$ perl -MO=Concise,-exec -e'print(\"Hello, world!\\n\") for 1..3;'\n1  &lt;0&gt; enter\n2  &lt;;&gt; nextstate(main 1 -e:1) v:{\n3  &lt;0&gt; pushmark s\n4  &lt;$&gt; const[IV 1] s\n5  &lt;$&gt; const[IV 3] s\n6  &lt;#&gt; gv[*_] s\n7  &lt;{&gt; enteriter(next-&gt;b last-&gt;e redo-&gt;8) lKS/8\nc  &lt;0&gt; iter s\nd  &lt;|&gt; and(other-&gt;8) vK/1\n8      &lt;0&gt; pushmark s\n9      &lt;$&gt; const[PV \"Hello, world!\\n\"] s\na      &lt;@&gt; print vK\nb      &lt;0&gt; unstack v\n           goto c\ne  &lt;2&gt; leaveloop vK/2\nf  &lt;@&gt; leave[1 ref] vKP/REFC\n-e syntax OK\n</code></pre>\n\n<p>When Perl is asked to execute a file (because it was passed to <code>perl</code>, <code>require</code>, <code>do EXPR</code> or <code>eval EXPR</code>), it first compiles the entire file, then executes the code it just compiled.</p>\n\n<p>If any <code>use</code> or <code>BEGIN</code> is encountered during the compile phase, then the <code>use</code> statement or <code>BEGIN</code> block is executed as soon as it finishes compiling.</p>\n\n<pre><code># -c causes the main program to be compiled but not executed.\n\n$ perl -c -E'\n   say \"abc\";\n   BEGIN { say \"def\"; }\n   say \"ghi\";\n'\ndef\n-e syntax OK\n\n$ perl -E'\n   say \"abc\";\n   BEGIN { say \"def\"; }\n   say \"ghi\";\n'\ndef\nabc\nghi\n</code></pre>\n\n<p>Certain errors can be detected at compile-time.</p>\n\n<pre><code>$ perl -c -E'say \"abc\" \"def\";'\nString found where operator expected at -e line 1, near \"\"abc\" \"def\"\"\n        (Missing operator before  \"def\"?)\nsyntax error at -e line 1, near \"\"abc\" \"def\"\"\n-e had compilation errors.\n</code></pre>\n\n<p>Others can't.</p>\n\n<pre><code>$ perl -c -E'$x={}; $x-&gt;[0]'\n-e syntax OK\n\n$ perl -E'$x={}; $x-&gt;[0]'\nNot an ARRAY reference at -e line 1.\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 658, "favorite_count": 2, "accepted_answer_id": 29509567, "answer_count": 3, "score": 5, "last_activity_date": 1456398113, "creation_date": 1428480085, "last_edit_date": 1456398113, "question_id": 29509087, "link": "https://stackoverflow.com/questions/29509087/what-is-the-mean-of-at-compile-time-in-perl-scripting", "title": "What is the mean of &#39;at compile-time&#39; in perl scripting", "body": "<p>I have read this about perl:</p>\n\n<blockquote>\n  <p>Perl is an interpreted language and doesn't compile.</p>\n</blockquote>\n\n<p>And I also see talk of <code>at compile-time</code> and <code>at run-time</code>.</p>\n\n<p>Especially when I look for use of <code>use</code> and <code>require</code>, it shows a difference:</p>\n\n<blockquote>\n  <p><code>use</code> normally loads the module <em>at compile time</em> whereas <code>require</code> does <em>at run time</em>.</p>\n</blockquote>\n\n<p>So my question is does Perl really compile the script?<br>\nWhat is the mean of 'at compile-time' in perl scripting?</p>\n"}, {"tags": ["perl", "checksum"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1428478375, "post_id": 29508408, "comment_id": 47173529, "body": "your perl code is incomplete; it sets a scalar <code>$var</code> but later reads an array <code>@var</code>; they are two different things."}, {"owner": {"reputation": 55, "user_id": 4762456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc96323e9fb39fa0e9c86fd35b5e8cde?s=128&d=identicon&r=PG&f=1", "display_name": "Harsha Pathak", "link": "https://stackoverflow.com/users/4762456/harsha-pathak"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1428478537, "post_id": 29508408, "comment_id": 47173608, "body": "There you go. Corrected."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1428478612, "post_id": 29508408, "comment_id": 47173638, "body": "that&#39;s not right, either. it sets a one-element array but uses 14 elements.  can you show us the actual, working snippet you want to understand?"}, {"owner": {"reputation": 55, "user_id": 4762456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc96323e9fb39fa0e9c86fd35b5e8cde?s=128&d=identicon&r=PG&f=1", "display_name": "Harsha Pathak", "link": "https://stackoverflow.com/users/4762456/harsha-pathak"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1428478743, "post_id": 29508408, "comment_id": 47173708, "body": "Sorry. Corrected again. Hope it is correct now. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4762456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc96323e9fb39fa0e9c86fd35b5e8cde?s=128&d=identicon&r=PG&f=1", "display_name": "Harsha Pathak", "link": "https://stackoverflow.com/users/4762456/harsha-pathak"}, "edited": false, "score": 0, "creation_date": 1428490158, "post_id": 29511607, "comment_id": 47180809, "body": "Got it ! This is so much better. Thanks a ton. Really appreciate your help!"}, {"owner": {"reputation": 4324, "user_id": 109483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1605dbda0d18f0df226b6c1b379f9a4?s=128&d=identicon&r=PG", "display_name": "Ashley", "link": "https://stackoverflow.com/users/109483/ashley"}, "edited": false, "score": 0, "creation_date": 1428961205, "post_id": 29511607, "comment_id": 47376399, "body": "@Toto, I upvoted but seeing \u201cthis Perl SHOULD be\u2026\u201d might be better written as \u201cthis Perl COULD be\u2026\u201d Otherwise one is making/implying a style assertion and you might as well say, \u201cyou SHOULD edit code with Emacs.\u201d :P"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 2, "last_activity_date": 1428487406, "creation_date": 1428487406, "answer_id": 29511607, "question_id": 29508408, "link": "https://stackoverflow.com/questions/29508408/checksum-in-perl/29511607#29511607", "title": "Checksum in Perl", "body": "<p>The script should be rewritten as:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Modern::Perl;\nuse Data::Dump qw(dump);\n\n# Split the string into a list of all character\nmy @elem = split //, 'A8F000000F4241';\ndump @elem;\n\n# convert each element to a hexadecimal number\nmy @var = map hex, @elem;\ndump @var;\n\n# list all number between 0 and 15, even then odd\nmy @numbers = (0,2,4,6,8,10,12,14,1,3,5,7,9,11,13,15);\n\n# &gt;Pick number in @numbers at position defined in @var (even position in @var)\nmy @l = map($numbers[$_], @var[0,2,4,6,8,10,12]);\ndump@l;\n\n# initialization\nmy $sum=0;\n\n# loop on the two arrays \nfor (@l, @var[1,3,5,7,9,11,13]) {\n  $sum -= $_ ;\n}\nprint $sum ; \n</code></pre>\n\n<p>Is that clearer for you?</p>\n"}], "owner": {"reputation": 55, "user_id": 4762456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc96323e9fb39fa0e9c86fd35b5e8cde?s=128&d=identicon&r=PG&f=1", "display_name": "Harsha Pathak", "link": "https://stackoverflow.com/users/4762456/harsha-pathak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 29511607, "answer_count": 1, "score": 3, "last_activity_date": 1428487406, "creation_date": 1428477849, "last_edit_date": 1428478705, "question_id": 29508408, "link": "https://stackoverflow.com/questions/29508408/checksum-in-perl", "title": "Checksum in Perl", "body": "<p>I am a java developer, I need to understand some perl code and need to convert it in java. Here is the snippet.</p>\n\n<pre><code>my @var = map hex,split //,A8F000000F4241;\nmy $sum=0;\n# calculate checksum of odd bytes and twisted even bytes    \n$sum-=$_ for map((0,2,4,6,8,10,12,14,1,3,5,7,9,11,13,15)[$_], @var[0,2,4,6,8,10,12]), @var[1,3,5,7,9,11,13];       \nprint $sum ; \n</code></pre>\n\n<p>I am really finding it hard to understand what it is doing in line number 4. Any help would be appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 3, "creation_date": 1428466857, "post_id": 29505729, "comment_id": 47168700, "body": "As usual, <code>use strict; use warnings;</code> should be your first defense."}], "answers": [{"comments": [{"owner": {"reputation": 1463, "user_id": 3083195, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/862fcf01c7837e10629ed86910f46029?s=128&d=identicon&r=PG&f=1", "display_name": "anurag86", "link": "https://stackoverflow.com/users/3083195/anurag86"}, "edited": false, "score": 0, "creation_date": 1428466787, "post_id": 29505818, "comment_id": 47168679, "body": "No i tried it... doesnt help. same output still. Anyways it shouldnt matter whether its string or number."}, {"owner": {"reputation": 22, "user_id": 4761685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f646c03755fa6c9080c1dba4509177e?s=128&d=identicon&r=PG&f=1", "display_name": "mdpg", "link": "https://stackoverflow.com/users/4761685/mdpg"}, "reply_to_user": {"reputation": 1463, "user_id": 3083195, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/862fcf01c7837e10629ed86910f46029?s=128&d=identicon&r=PG&f=1", "display_name": "anurag86", "link": "https://stackoverflow.com/users/3083195/anurag86"}, "edited": false, "score": 0, "creation_date": 1428471165, "post_id": 29505818, "comment_id": 47170084, "body": "I guess I just assumed you were trying to print numbers since you used %8d.  Yes %22s will print a number or a string in that place."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1428474129, "post_id": 29505818, "comment_id": 47171322, "body": "<code>%d</code> will already try to coerce strings to numbers (with a warning if it fails, if you enable warnings)"}], "tags": [], "owner": {"reputation": 22, "user_id": 4761685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f646c03755fa6c9080c1dba4509177e?s=128&d=identicon&r=PG&f=1", "display_name": "mdpg", "link": "https://stackoverflow.com/users/4761685/mdpg"}, "is_accepted": false, "score": -1, "last_activity_date": 1428467108, "last_edit_date": 1428467108, "creation_date": 1428466437, "answer_id": 29505818, "question_id": 29505729, "link": "https://stackoverflow.com/questions/29505729/printf-formatting-doesnt-work-in-perl/29505818#29505818", "title": "printf formatting doesnt work in perl", "body": "<p>No knowing which DBH you are using my guess would be the columns are coming back as strings and Perl doesn't even realize it has a number.  Have you tried something like:\n<code>printf (\"%8d %8d %8d \",0+$_-&gt;[0], 0+$_-&gt;[1], 0+$_-&gt;[2]);</code></p>\n\n<p>As for why, you can look at Scalar::Utils to ask Perl what it thinks a scalar has in it.  As is the way of an Extension to Perl, the data that shows up in Perl can be rough around the edges.  My guess is Perl would think:\nScalar::Util::isdual($_->[0]) would comeback as false.  But the add 0 trick should coerce it to reevaluate that.</p>\n"}, {"comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 2, "creation_date": 1428470528, "post_id": 29506026, "comment_id": 47169864, "body": "Storing it first should have no bearing on whether or not your output is as expected.  <code>printf &quot;%22s %18s&quot;, $_[0], $_[1];</code> should suffice.  Didn&#39;t it?"}], "tags": [], "owner": {"reputation": 1463, "user_id": 3083195, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/862fcf01c7837e10629ed86910f46029?s=128&d=identicon&r=PG&f=1", "display_name": "anurag86", "link": "https://stackoverflow.com/users/3083195/anurag86"}, "is_accepted": true, "score": 0, "last_activity_date": 1428467791, "creation_date": 1428467791, "answer_id": 29506026, "question_id": 29505729, "link": "https://stackoverflow.com/questions/29505729/printf-formatting-doesnt-work-in-perl/29506026#29506026", "title": "printf formatting doesnt work in perl", "body": "<p>Thanks guys i found the answer.\nFirst of all i used strict and warnings as suggested by tripleee which led me to another error like the following:</p>\n\n<p><strong><em>Argument \"\\x{44}\\x{4c}...\" isn't numeric in sprintf at main3.pl line 44.</em></strong></p>\n\n<p>Later on i first converted the output t string using sprintf and changed %d to %s.</p>\n\n<p>So finally it looked like this:</p>\n\n<pre><code>my $string = sprintf (\"%22s %18s\",$_-&gt;[0],$_-&gt;[1]); # store it first\nprint $string;   #Now prints fine\n</code></pre>\n"}], "owner": {"reputation": 1463, "user_id": 3083195, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/862fcf01c7837e10629ed86910f46029?s=128&d=identicon&r=PG&f=1", "display_name": "anurag86", "link": "https://stackoverflow.com/users/3083195/anurag86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 29506026, "answer_count": 2, "score": 0, "last_activity_date": 1428526022, "creation_date": 1428465852, "last_edit_date": 1428526022, "question_id": 29505729, "link": "https://stackoverflow.com/questions/29505729/printf-formatting-doesnt-work-in-perl", "title": "printf formatting doesnt work in perl", "body": "<p>I am using <code>printf</code> to format the output. But I am not able to format it properly. Could someone please help me in pointing out what's wrong with the following piece of code?</p>\n\n<pre><code>my $sql1 = \"select col1,col2,col3 from MYTABLE order by 1\";\nmy $sth = $dbh-&gt;prepare($sql1);\n$sth-&gt;execute(); # or die $DBI::errstr;\n\nmy $resultref = $sth-&gt;fetchall_arrayref();\n\nforeach (@$resultref) {\n    print \"\\n $_-&gt;[0] $_-&gt;[1] $_-&gt;[2] $_-&gt;[3]\"; # prints 1 row, 3 fields. Fine!\n    printf (\"%8d %8d %8d \", $_-&gt;[0], $_-&gt;[1], $_-&gt;[2]); # prints 0 for all... why?\n\n  # So i tried the following but still the issue\n    my $t1 = $_-&gt;[0];\n    my $t2 = $_-&gt;[1];\n    my $t3 = $_-&gt;[2];\n    my $t4 = $_-&gt;[3];\n\n    print \"$t1,$t2\"; #works\n    printf \"%8d %8d\", $t1, $t2; # doesnt work . why?\n}\n</code></pre>\n"}, {"tags": ["c#", "perl", "hmacsha1"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1428464293, "post_id": 29505361, "comment_id": 47168049, "body": "that isn&#39;t c; maybe it&#39;s c#"}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1428478056, "creation_date": 1428478056, "answer_id": 29508481, "question_id": 29505361, "link": "https://stackoverflow.com/questions/29505361/c-to-perl-translation-hmac-sha1-data-and-secret-key/29508481#29508481", "title": "C to Perl Translation HMAC SHA1 , data and secret key", "body": "<p>I would do this like so:</p>\n\n<pre><code>use MIME::Base64 ();\nuse Digest::HMAC_SHA1 ();\n\nmy $result = MIME::Base64::encode_base64(\n    Digest::HMAC_SHA1::hmac_sha1( $data, $key ),\n    ''\n);\n</code></pre>\n\n<p>or if you want a url-safe base64 encoding:</p>\n\n<pre><code>my $result = MIME::Base64::encode_base64url(\n    Digest::HMAC_SHA1::hmac_sha1( $data, $key ),\n);\n</code></pre>\n\n<p>though you can also use the separate Digest::HMAC and Digest::SHA modules together.</p>\n"}], "owner": {"reputation": 1, "user_id": 4760909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/502b92154f6f244fee076a26f05bf1fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kolin", "link": "https://stackoverflow.com/users/4760909/kolin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428478152, "creation_date": 1428463375, "last_edit_date": 1428478152, "question_id": 29505361, "link": "https://stackoverflow.com/questions/29505361/c-to-perl-translation-hmac-sha1-data-and-secret-key", "title": "C to Perl Translation HMAC SHA1 , data and secret key", "body": "<p>I want to convert the C code below into perl. Anyone know how to do this? Do you use <code>hmac_sha1_hex($data, $key);</code>? Do you use the digest:sha module? I want to sign some data with a key, but use perl instead of C.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Security.Cryptography;\nusing System.Web;\n\n\nnamespace Amazon.Cba.Signature.Common \n{\n    public class SignatureCalculator\n    {\n        public SignatureCalculator()\n        {\n        }\n\n    public String calculateRFC2104HMAC(String data, String key)\n    {\n        String result = null;\n\n        KeyedHashAlgorithm algorithm = new HMACSHA1();\n\n        Encoding encoding = new UTF8Encoding();\n\n        algorithm.Key = encoding.GetBytes(key);\n\n        result =  Convert.ToBase64String(algorithm.ComputeHash(encoding.GetBytes(data.ToCharArray()))); \n\n            return result;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "cpan", "cpanm"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1428450538, "creation_date": 1428450538, "answer_id": 29503424, "question_id": 29503211, "link": "https://stackoverflow.com/questions/29503211/change-cpanminus-build-directory/29503424#29503424", "title": "Change cpanminus build directory", "body": "<p>As <a href=\"https://metacpan.org/pod/App::cpanminus#Zero-conf-How-does-this-module-get-parse-update-the-CPAN-index\" rel=\"nofollow\">the documentation states</a>:</p>\n\n<blockquote>\n  <p>Fetched files are unpacked in <code>~/.cpanm</code> and automatically cleaned up periodically. You can configure the location of this with the <code>PERL_CPANM_HOME</code> environment variable.</p>\n</blockquote>\n\n<p>Whether you have root access is irrelevant.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4810805, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/a4d4cb244660c7be4ea3bfafd05ae70f?s=128&d=identicon&r=PG", "display_name": "akefalos", "link": "https://stackoverflow.com/users/4810805/akefalos"}, "is_accepted": false, "score": 0, "last_activity_date": 1429539920, "creation_date": 1429539920, "answer_id": 29750588, "question_id": 29503211, "link": "https://stackoverflow.com/questions/29503211/change-cpanminus-build-directory/29750588#29750588", "title": "Change cpanminus build directory", "body": "<p>If you get \"No space left to device\"</p>\n\n<p>rm -rf /root/.cpan/build</p>\n\n<p>ln -s /somewhere/with/space /root/.cpan/build</p>\n\n<p>proceed as usual</p>\n"}], "owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 29503424, "answer_count": 2, "score": 0, "last_activity_date": 1429539920, "creation_date": 1428449471, "last_edit_date": 1428450754, "question_id": 29503211, "link": "https://stackoverflow.com/questions/29503211/change-cpanminus-build-directory", "title": "Change cpanminus build directory", "body": "<p>How can I change the <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow\">cpanminus</a> default build and download directory? Its default location is <code>~/.cpanm</code> .</p>\n\n<p>I already know how to change this in cpan, but I wish to know if this can also be configured in cpanminus. </p>\n\n<p>I should also mention that I don't have root access.</p>\n"}, {"tags": ["html", "perl", "email", "sendmail", "mime"], "comments": [{"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 0, "creation_date": 1428618532, "post_id": 29502901, "comment_id": 47251838, "body": "I&#39;d also recommend using <a href=\"https://metacpan.org/pod/MIME::Lite\" rel=\"nofollow noreferrer\">MIME::Lite</a> rather than manually calling sendmail"}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 3, "last_activity_date": 1428605959, "last_edit_date": 1428605959, "creation_date": 1428461043, "answer_id": 29504994, "question_id": 29502901, "link": "https://stackoverflow.com/questions/29502901/mail-the-contents-of-a-log-file-in-perl/29504994#29504994", "title": "Mail the contents of a log file in perl", "body": "<p>Add missing <code>MIME-Version:</code> header to complete <code>Content-*:</code> headers.</p>\n\n<pre><code>open(MAIL, \"|/usr/lib/sendmail -i -t\");\nprint MAIL &lt;&lt; \"END\";\nFrom: $from\nTo: $to\nCc: $Cc\nSubject: $sub\nMIME-Version: 1.0\nContent-Type: text/html\nContent-Disposition: inline\n\nEND\nprint MAIL @HTML;\nclose(MAIL)\n</code></pre>\n\n<p>;</p>\n"}], "owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 29504994, "answer_count": 1, "score": 1, "last_activity_date": 1429194100, "creation_date": 1428447734, "last_edit_date": 1429194100, "question_id": 29502901, "link": "https://stackoverflow.com/questions/29502901/mail-the-contents-of-a-log-file-in-perl", "title": "Mail the contents of a log file in perl", "body": "<p>i want to mail the contents of a log file of another script  . I have tried the code it works , but however the output is not i expected. I want the output in line by line exactly like in LOG.txt, but i get it in as a paragraph in the body.</p>\n\n<pre><code>my $HOME        ='/apps/stephen/data';\nmy $FILE        =\"$HOME/LOG.txt\";\nmy @HTML        =();\n\nsub copyfile\n{\n `$HOME/APPL.ksh &gt; $FILE`;\n\n  push(@HTML,`cat $FILE`);\n\n&amp;sendMail;\n}\n\nsub sendMail\n{\n$sub=\"TEST\";\n$from='ABC@ABC.com';\n$to='ABC@ABC.com';\n    open(MAIL, \"|/usr/lib/sendmail -t\");\n            print MAIL \"From: $from \\12\"; print MAIL \"To: $to \\12\";print    MAIL \"Cc: $Cc \\12\";\n            print MAIL \"Subject: $sub \\12\";\n            print MAIL \"Content-Type: text/html \\12\";\n            print MAIL \"Content-Disposition:inline \\12\";\n            print MAIL @HTML;\n    close(MAIL);\n}\n\nsub init\n{\n    copyfile;\n\n}\ninit;\n</code></pre>\n"}, {"tags": ["r", "perl"], "comments": [{"owner": {"reputation": 73863, "user_id": 3358272, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gteVQ.jpg?s=128&g=1", "display_name": "r2evans", "link": "https://stackoverflow.com/users/3358272/r2evans"}, "edited": false, "score": 0, "creation_date": 1428443460, "post_id": 29501743, "comment_id": 47162114, "body": "What have you read that suggests that <code>s&#47;...</code> pattern would work? Google <code>perl replacement string</code> and the <a href=\"http://www.perlmonks.org/?node_id=98357\" rel=\"nofollow noreferrer\">first</a> <a href=\"http://www.regular-expressions.info/perl.html\" rel=\"nofollow noreferrer\">three</a> <a href=\"http://www.htmlite.com/perl025c.php\" rel=\"nofollow noreferrer\">hits</a> are perfectly relevant and helpful in crafting a better expression. Things to consider: proper syntax of the <code>s&#47;...&#47;g</code> command, and escaping slashes."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428446568, "post_id": 29501743, "comment_id": 47163300, "body": "I&#39;ve tried to improve your question, but I may have made things worse! Your <code>perl</code> command <code>s&#47;file= {&#47;User&#47;me&#47;ct.txt}&#47;g </code>is puzzling as it has a substitution that requires a <i>pattern</i> and a <i>replacement</i>, separated by slashes; but (ignoring the slashes in the path) you provide only one value. Please check and write it more clearly, giving an example."}, {"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428468932, "post_id": 29501743, "comment_id": 47169350, "body": "I think I have provided both values already? I want to find the string file= and then I want to replace that string with /User/me/ct.txt. I&#39;m not sure how I can make this clearer. Perhaps you have voted it down because you haven&#39;t read it properly? I can assure you that reading a google answer is easier than asking a question here so obvs is done before posting."}], "answers": [{"comments": [{"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "edited": false, "score": 0, "creation_date": 1428483622, "post_id": 29505322, "comment_id": 47176516, "body": "Thanks so much. An extremely helpful answer. I didnt need the \\x22 in the end just your code. Thanks again"}], "tags": [], "owner": {"reputation": 22, "user_id": 4761685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f646c03755fa6c9080c1dba4509177e?s=128&d=identicon&r=PG&f=1", "display_name": "mdpg", "link": "https://stackoverflow.com/users/4761685/mdpg"}, "is_accepted": true, "score": 1, "last_activity_date": 1428481474, "last_edit_date": 1428481474, "creation_date": 1428463094, "answer_id": 29505322, "question_id": 29501743, "link": "https://stackoverflow.com/questions/29501743/how-to-find-and-replace-a-path-name-within-a-file-in-perl/29505322#29505322", "title": "How to find and replace a path name within a file in Perl", "body": "<p>I think this is what you were looking for:</p>\n\n<pre><code>system(paste(\"perl -i -p -e's{file1=\\\"\\\"}{/User/me/ct.txt}g' /Users/read/book/tbb.conf\"))\n</code></pre>\n\n<p>You see the <code>s/FIND/REPLACE/OPTIONS</code> can also be written like:</p>\n\n<pre><code>s{FIND}{REPLACE}OPTIONS\n</code></pre>\n\n<p>Your example was missing the braces around the search expression.</p>\n\n<p>If <code>R</code> dosen't let you escape the embedded quotes, you can use <code>\\x22</code> for each quote. But I bet you might need to ESCAPE the back slash one or more times.<br>\n(ahh the joys of shell in the middle)</p>\n"}], "owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "closed_date": 1428739185, "accepted_answer_id": 29505322, "answer_count": 1, "score": -1, "last_activity_date": 1428481474, "creation_date": 1428442474, "last_edit_date": 1428469063, "question_id": 29501743, "link": "https://stackoverflow.com/questions/29501743/how-to-find-and-replace-a-path-name-within-a-file-in-perl", "closed_reason": "Needs details or clarity", "title": "How to find and replace a path name within a file in Perl", "body": "<p>Im working from R, but I think this is really a Perl issue. I'd like to replace the string <code>file1=\"\"</code> with the pathname (including double quotes)\n<code>\"/User/me/ct.txt\"</code> which is in the file `called User/read/book/tbb.conf. I'd like to do this using perl.</p>\n\n<p>So far I have</p>\n\n<pre><code> system(paste(\"perl -i -p -e's/file= {/User/me/ct.txt}/g' /Users/read/book/tbb.conf\"))\n</code></pre>\n\n<p>but this is giving me the error</p>\n\n<pre><code>Search pattern not terminated at -e line 1.\n</code></pre>\n"}, {"tags": ["perl", "glusterfs"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428447263, "post_id": 29500786, "comment_id": 47163567, "body": "It looks like you&#39;re shelling out to use <code>cp</code> to copy the file; is that right? I suspect that you are doing that before you close the Perl output file handle, but unless you are deliberately starting an asynchronous (background) process to run <code>cp</code> I can&#39;t see how that would happen. The answer is in your code. Please show your Perl program"}, {"owner": {"reputation": 1, "user_id": 1245532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e64eabe14957e204a17079ba96980ad3?s=128&d=identicon&r=PG", "display_name": "akhtar4ever", "link": "https://stackoverflow.com/users/1245532/akhtar4ever"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428481072, "post_id": 29500786, "comment_id": 47174975, "body": "@Borodin: please find the chunk of my perl script which does the copying."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 1245532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e64eabe14957e204a17079ba96980ad3?s=128&d=identicon&r=PG", "display_name": "akhtar4ever", "link": "https://stackoverflow.com/users/1245532/akhtar4ever"}, "edited": false, "score": 0, "creation_date": 1428569397, "post_id": 29515918, "comment_id": 47220709, "body": "Yes, $Input_FilePath and $Source_Path are the same. $Source_Path and input.txt are different files, input.txt is created as an intermediate file."}], "tags": [], "owner": {"reputation": 22, "user_id": 4761685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f646c03755fa6c9080c1dba4509177e?s=128&d=identicon&r=PG&f=1", "display_name": "mdpg", "link": "https://stackoverflow.com/users/4761685/mdpg"}, "is_accepted": false, "score": 0, "last_activity_date": 1428499406, "creation_date": 1428499406, "answer_id": 29515918, "question_id": 29500786, "link": "https://stackoverflow.com/questions/29500786/file-copying-issue-on-glusterfs-mounted-share/29515918#29515918", "title": "File copying issue on GlusterFS mounted share", "body": "<p>I recoded the code to be pure Perl (rather than shelling out).  Makes it easier to read.  I hope your not using a pre 5.8 Perl from a prior decade or this code would be too \"modern\".</p>\n\n<p>What I notice is that you expect \"$Input_FilePath\" to be the same as \"$Source_Path\".  Is that the case?  Also you parse $Source_Path and input.txt.  Seems unconnected, are they two different files?</p>\n\n<pre><code>use File::Path;\nuse File::Copy;\nuse FileHandle;\n\nmy $aktarfile = \"$Input_FilePath/aktar.txt\";\nmy ($inh, $aktarh, $inputh);\nopen $aktarh, '&gt;&gt;', $aktarfile or die \"Unable to open [$aktarfile] for writing\\n\";\n$aktarh-&gt;autoflush();\n    foreach my $id (@Studies){\n        my $Trigger_Start_1 = my $Trigger_End_1 = 0;\n        open $inh, '&lt;', $File_path or die \"In gen : Couldn't open file $File_path $! \\n\";\n        LINE:\n        while(&lt;$inh&gt;){\n                chomp($_);\n                if($_ =~ /#INPUT_TYPE\\s*(.*)/){\n                        next LINE;\n                }if($_ =~ /^ID\\s+$id/){\n                        $Trigger_Start_1 = 1;\n                        print {$aktarh} \"Startstudy\\n$_\";\n                        next LINE;\n                }if(($Trigger_Start_1 == 2) &amp;&amp; ($_ =~ /Endstudy/)){\n                        $Trigger_End_1 = 0;\n                        $Trigger_Start_1 = 0;\n                        print {$aktarh} $_;\n                }\n                if($Trigger_Start_1 == 1){\n                        print {$aktarh} $_;\n                        if($_ !~/Disease\\d*_run\\d*/){\n                            $Trigger_Start_1 = 2;\n                        }\n                        next LINE;\n                }\n                if(($Trigger_Start_1 == 2) &amp;&amp; ($Trigger_End_1 == 0)){\n                  print {$aktarh} $_;\n                }\n        }\n        close $inh or die \"In gen : Unable to Close File $! \\n\";\n}\nprint {$aktarh} \"Endvalidation\\n\";\nmy $inputfile = 'input.txt';\nopen $inputh, '&lt;', $inputfile or die \"Failed to open [$inputfile] for reading\";\nwhile(&lt;$inputh&gt;){\n  s/#INPUT_TYPE $Input_Type//;\n  s/#DELTA_SET YES 5//;\n  print {$aktarh} $_;\n}\nprint {$aktarh} \"INPUT : $Input_FilePath\\n\";\nclose $aktarh or die \"Failed closing [$aktarfile]\";\nFile::Path::remove_tree($File_path) if(-e $File_path);\nFile::Copy::copy \"$Source_Path/aktar.txt\",  $To_Path;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1245532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e64eabe14957e204a17079ba96980ad3?s=128&d=identicon&r=PG", "display_name": "akhtar4ever", "link": "https://stackoverflow.com/users/1245532/akhtar4ever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428499406, "creation_date": 1428438758, "last_edit_date": 1428481036, "question_id": 29500786, "link": "https://stackoverflow.com/questions/29500786/file-copying-issue-on-glusterfs-mounted-share", "title": "File copying issue on GlusterFS mounted share", "body": "<p>I am having issue in copying a file to a folder which is basically a GlusterFS mounted share.</p>\n\n<p>My Perl script reads a file, does some parsing, and creates a new file. After that I copy the newly-created file with a different name to a different location.</p>\n\n<p>I get this error</p>\n\n<pre><code>bin/cp: skipping file `/gfs_share/abc/xyz/aktar.txt', as it was replaced while being copied\n</code></pre>\n\n<p>My perl code :</p>\n\n<pre><code>    foreach my $Id (@Studies){\n            my $Trigger_Start_1 = my $Trigger_End_1 = 0;\n            open(FILE,\"$File_path\") or die \"In gen : Couldn't open file $File_path $! \\n\";\n            while(&lt;FILE&gt;){\n                    chomp($_);\n                    if($_ =~ /#INPUT_TYPE\\s*(.*)/){\n                            next;\n                    }if($_ =~ /^ID\\s+$Id/){\n                            $Trigger_Start_1 = 1;\n                            system (\"echo 'Startstudy '&gt;&gt; $Input_FilePath/aktar.txt\");\n                            system (\"echo '$_' &gt;&gt; $Input_FilePath/aktar.txt\");\n                            next;\n                    }if(($Trigger_Start_1 == 2) &amp;&amp; ($_ =~ /Endstudy/)){\n                            $Trigger_End_1 = 0;\n                            $Trigger_Start_1 = 0;\n                            system (\"echo '$_' &gt;&gt; $Input_FilePath/aktar.txt\");\n                    }\n                    if($Trigger_Start_1 == 1){\n                            if($_ =~/Disease\\d*_run\\d*/){\n                                    system (\"echo '$_' &gt;&gt; $Input_FilePath/aktar.txt\");\n                                    next;\n                            }else{\n                                    system (\"echo '$_' &gt;&gt; $Input_FilePath/aktar.txt\");\n                            }\n                            $Trigger_Start_1 = 2;\n                            next;\n                    }\n                    if(($Trigger_Start_1 == 2) &amp;&amp; ($Trigger_End_1 == 0)){\n                            system(\"echo '$_ ' &gt;&gt; $Input_FilePath/aktar.txt\");\n                    }\n            }\n    }\n    system (\"echo 'Endvalidation '&gt;&gt; $Input_FilePath/aktar.txt\");\n\n    close(FILE) or die \"In gen : Unable to Close File $! \\n\";\n\n    `sed \"s/#INPUT_TYPE $Input_Type//\" input.txt &gt; input1.txt`;\n    `sed \"s/#DELTA_SET YES 5//\" input1.txt &gt; input.txt`;\n    `cat input.txt &gt;&gt; $Input_FilePath/aktar.txt`;\n    system (\"echo 'INPUT : $Input_FilePath'&gt;&gt; $Input_FilePath/aktar.txt\");\n    system(\"rm -rf $File_path\") if(-e $File_path);\n `/bin/cp $Source_Path/aktar.txt $To_Path`;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428437506, "post_id": 29500364, "comment_id": 47159327, "body": "The answer is right in the documentation you linked to: &quot;[chomp] returns the total number of characters removed from all its arguments.&quot; Therefore, <code>$n = chomp($n);</code> sets <code>$n</code> to the total number of characters removed by <code>chomp</code> (in this case, 1)."}, {"owner": {"reputation": 11914, "user_id": 1592845, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71827032ba1a3342c77c1c232f26f3ae?s=128&d=identicon&r=PG", "display_name": "SaidbakR", "link": "https://stackoverflow.com/users/1592845/saidbakr"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428437695, "post_id": 29500364, "comment_id": 47159423, "body": "I have an old book about perl from prosofttraining.com they were stated that chomp remove trailing new line from the input of <code>&lt;STDIN&gt;</code> @ThisSuitIsBlackNot"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1428438139, "post_id": 29500364, "comment_id": 47159657, "body": "<code>chomp</code> <i>does</i> remove the trailing newline. It also returns the number of newlines that were stripped. If you do <code>chomp($n);</code>, you will strip the trailing newline; if you do <code>$n = chomp($n);</code> you will strip the trailing newline, and then assign the return value of <code>chomp</code> (i.e. 1) to <code>$n</code>."}, {"owner": {"reputation": 11914, "user_id": 1592845, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71827032ba1a3342c77c1c232f26f3ae?s=128&d=identicon&r=PG", "display_name": "SaidbakR", "link": "https://stackoverflow.com/users/1592845/saidbakr"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428438551, "post_id": 29500364, "comment_id": 47159875, "body": "@ThisSuitIsBlackNot So, Perl deals with some subroutines in different way other than other language. i.e changes in variable&#39;s value should be assigned to a variable but in this case this subroutine changed it and assigned it automatically, does not it?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428439500, "post_id": 29500364, "comment_id": 47160375, "body": "Perl always <a href=\"http://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value\">passes by reference</a>. This means that subroutines can alter their parameters. See <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\"><code>perldoc perlsub</code></a> and <a href=\"http://stackoverflow.com/q/5741042/176646\">Perl call-by-reference or call-by-value?</a> for details."}], "answers": [{"comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 4, "creation_date": 1428443613, "post_id": 29500449, "comment_id": 47162186, "body": "Or even <code>chomp( $n = &lt;STDIN&gt; );</code>"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1428486269, "post_id": 29500449, "comment_id": 47178192, "body": "well, this answer is already written in <a href=\"http://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsBlackNot</a>&#39;s comment."}], "tags": [], "owner": {"reputation": 141, "user_id": 4760160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7b530c7fa9c012c5ec47c6c04c3d770?s=128&d=identicon&r=PG&f=1", "display_name": "Zippers", "link": "https://stackoverflow.com/users/4760160/zippers"}, "is_accepted": true, "score": 6, "last_activity_date": 1428437601, "creation_date": 1428437601, "answer_id": 29500449, "question_id": 29500364, "link": "https://stackoverflow.com/questions/29500364/perl-chomp-convert-string-into-numerical-values/29500449#29500449", "title": "Perl chomp convert string into numerical values", "body": "<p>From the perldoc on chomp:</p>\n\n<blockquote>\n  <p>It returns the total number of characters removed from all its arguments</p>\n</blockquote>\n\n<p>You're setting $n to the return value of chomp($n):</p>\n\n<blockquote>\n  <p>$n = chomp($n);</p>\n</blockquote>\n\n<p>To do what you want, you can simply\n<code>chomp($n)</code></p>\n"}], "owner": {"reputation": 11914, "user_id": 1592845, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71827032ba1a3342c77c1c232f26f3ae?s=128&d=identicon&r=PG", "display_name": "SaidbakR", "link": "https://stackoverflow.com/users/1592845/saidbakr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 29500449, "answer_count": 1, "score": 1, "last_activity_date": 1428438244, "creation_date": 1428437294, "last_edit_date": 1592644375, "question_id": 29500364, "link": "https://stackoverflow.com/questions/29500364/perl-chomp-convert-string-into-numerical-values", "title": "Perl chomp convert string into numerical values", "body": "<p>I get a weird behavior for <code>chomp</code>. The <code>&lt;STDIN&gt;</code> adds trailing newline to the input, and I want to remove it, so I uses chomp like the following:</p>\n<pre><code>print(&quot;Enter Your Name:\\n&quot;);\n$n = &lt;STDIN&gt;;\n$n = chomp($n); \nprint(&quot;Your Name: $n&quot;);\n$out = &quot;&quot;;\nfor ($i =0; $i &lt; 10; $i++)\n{\n  $out .= $n;\n  print ($out);\n  print(&quot;\\n&quot;);\n} \n</code></pre>\n<p>When I enter any name value (string) such as &quot;Fox&quot; I expect output like:</p>\n<pre><code>Fox\nFoxFox\nFoxFoxFox\nFoxFoxFoxFox\netc..\n</code></pre>\n<p>However, &quot;Fox&quot; is replaced by numerical value <code>1</code> i.e</p>\n<pre><code>1\n11\n111\n1111\n</code></pre>\n<p>I tried to get assistance from the official manual of perl about <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\">chomp</a> but I could not able to get any help there. Would any one explain why chomp do like that and how could solve this issue?</p>\n<h3>Edit</h3>\n<p>I reviewed the example on the book again, I found that they use <code>chomp</code> witout assign i.e:</p>\n<pre><code>$n = chomp($n);\n# Is replaced by\nchomp($n); \n</code></pre>\n<p>And Indeed by this way the script printout as expected! Also I don't know how and why?</p>\n"}, {"tags": ["perl", "zipfile"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428436319, "post_id": 29500002, "comment_id": 47158682, "body": "<code>print &quot;New FileContents -  $fileContents\\n&quot;;</code> writes to <code>STDOUT</code>; do you see any output in your terminal?"}, {"owner": {"reputation": 85, "user_id": 4580758, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7429c7715a4fed4594b1e9955f1132d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/4580758/jennifer"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428436890, "post_id": 29500002, "comment_id": 47158983, "body": "Yes, it does print to the terminal correctly but when I look at the file it hasn&#39;t changed."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428437417, "post_id": 29500002, "comment_id": 47159270, "body": "&quot;when I look at the file it hasn&#39;t changed.&quot; I&#39;m assuming that the script you&#39;re running does not have the line <code>print $fh $newContents;</code> commented out. As it is, the code in your question only writes to <code>STDOUT</code>."}, {"owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "edited": false, "score": 0, "creation_date": 1428437592, "post_id": 29500002, "comment_id": 47159379, "body": "There is an example how to unzip a file here: <a href=\"https://api.metacpan.org/source/PHRED/Archive-Zip-1.46/examples/extract.pl\" rel=\"nofollow noreferrer\">api.metacpan.org/source/PHRED/Archive-Zip-1.46/examples/&hellip;</a> Eventually, you don&#39;t have to write the file, but call the extractMember method."}, {"owner": {"reputation": 85, "user_id": 4580758, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7429c7715a4fed4594b1e9955f1132d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/4580758/jennifer"}, "edited": false, "score": 0, "creation_date": 1428438552, "post_id": 29500002, "comment_id": 47159877, "body": "the &quot;print $fh, $newContents&quot; wasn&#39;t working for me so I commented it out and tried &quot;$fileCOntents = $tempZip-&gt;contents($dataFile)&quot; instead."}, {"owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "edited": false, "score": 0, "creation_date": 1428440855, "post_id": 29500002, "comment_id": 47161014, "body": "But you still didn&#39;t use the extractMember method. Here is a sniplet of the documentation:  extractMemberWithoutPaths( { memberOrZipName =&gt; $memberOrName [, name =&gt; $extractedName ] } )      Extract the given member, or match its name and extract it. Does not use path information (extracts into the current directory)  So your code should read: $tempZip-&gt;extractMemberWithoutPaths($fileContents); # extract $fileContents to current working directory"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428444672, "post_id": 29500002, "comment_id": 47162623, "body": "<code>print $fh, $newContents;</code> is incorrect, it should be <code>print $fh $newContents;</code> without the comma. Assigning something to <code>$fileContents</code> won&#39;t write anything to your filehandle, so switching the <code>print</code> line to <code>$fileContents = $tempZip-&gt;contents($dataFile);</code> won&#39;t fix your issue. You have to print something to your filehandle <code>$fh</code> if you want to write data to your file."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4580758, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7429c7715a4fed4594b1e9955f1132d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/4580758/jennifer"}, "edited": false, "score": 0, "creation_date": 1428610647, "post_id": 29501515, "comment_id": 47247867, "body": "I&#39;ve changed how I extracted it but the new text that I want in the file is still not being written in the file.  I&#39;ve broken this script down and found that even a simple open and print to the file is not working, however if I switch the file to a text file it works."}, {"owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "reply_to_user": {"reputation": 85, "user_id": 4580758, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7429c7715a4fed4594b1e9955f1132d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/4580758/jennifer"}, "edited": false, "score": 0, "creation_date": 1428684820, "post_id": 29501515, "comment_id": 47283029, "body": "Can you post your broken-down code snippets? Maybe it&#39;s some kind of typo. Please feel free to use gist or something like that (<a href=\"https://gist.github.com/\" rel=\"nofollow noreferrer\">gist.github.com</a>)."}], "tags": [], "owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "is_accepted": false, "score": 0, "last_activity_date": 1428441648, "creation_date": 1428441648, "answer_id": 29501515, "question_id": 29500002, "link": "https://stackoverflow.com/questions/29500002/perl-script-not-writing-to-extracted-zip-file/29501515#29501515", "title": "Perl script not writing to extracted zip file", "body": "<p>You have to use the <code>extractMemberWithoutPaths()</code> method of Archive::Zip. </p>\n\n<p>Here is how to extract a file:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper qw/Dumper/;\nuse FindBin qw/$Bin/;\nuse File::Spec;\nuse Archive::Zip qw/AZ_OK/;\n\nmy $zipName = File::Spec-&gt;catfile($Bin, '/archive.zip');\nmy $destPath = File::Spec-&gt;catfile($Bin, 'dataFile.DAT');\nmy $tempZip = Archive::Zip-&gt;new();\nmy $dataNum = \" 0 0\";\n\nunlink $destPath if -e $destPath;\n\nunless ($tempZip-&gt;read($zipName) == AZ_OK ) {\n    die 'read error';\n}\n\nmy @dataFileMatches = $tempZip-&gt;membersMatching( {regex =&gt; 'dataFile.*\\.DAT'} );\n\n$tempZip-&gt;extractMemberWithoutPaths($dataFileMatches[0]); # extract $fileContents to current working directory\n\nif ( -e $destPath ) {\n    print \"file was extracted\\n\";\n}else{\n    print \"File was not extracted :(\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4580758, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7429c7715a4fed4594b1e9955f1132d4?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/4580758/jennifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428610923, "creation_date": 1428436007, "last_edit_date": 1428610923, "question_id": 29500002, "link": "https://stackoverflow.com/questions/29500002/perl-script-not-writing-to-extracted-zip-file", "title": "Perl script not writing to extracted zip file", "body": "<p>I'm writing a perl script to extract a specifically named file from a zip file and write to that extracted file (there's more than that to the script but this is the part that I'm getting stuck on).  The code below is a portion of the perl script.</p>\n\n<p>I cannot figure out why it's not writing to the file!</p>\n\n<pre><code>my $zipName = \"f:\\\\data\\\\archive.zip\";\nmy $destPath = \"f:\\\\data\\\\dataFile.DAT\";\nmy $tempZip = Archive::Zip-&gt;new();\nmy $dataNum = \" 0 0\";\n\n        unless ($tempZip-&gt;read($zipName) == AZ_OK ) \n        {\n            die 'read error';\n        }\n\n    my @dataFileMatches = $tempZip-&gt;membersMatching( 'dataFile.*\\.DAT' );\n\n    my $dataFile;\n\n    if($#dataFileMatches&gt; -1)\n    {\n        $dataFile = $dataFileMatches[0];\n\n        my $fileContents = $tempZip-&gt;contents($dataFile);\n\n        my $newContents = substr $fileContents, 0, 10;\n        $newContents = $newContents.$dataNum;\n\n        my $dataFilename = $dataFile -&gt;fileName();\n        open(my $fh, '&gt;', $dataFilename) or die \"Could not open file '$dataFilename' $!\";\n\n        $tempZip-&gt;contents($dataFile, $newContents);\n\n        $fileContents = $tempZip-&gt;contents($dataFile);\n\n        print \"New FileContents -  $fileContents\\n\";\n\n        #print $fh $newContents;\n        #copy($fh, $destPath);\n        close $fh;\n    }\n</code></pre>\n\n<p>Here is the code that is not being executed:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Copy qw(copy);\nuse Archive::Zip qw/ :ERROR_CODES :CONSTANTS /;\n\nmy $filename = 'dataFile.DAT';\nopen(my $fh, '&gt;', $filename) or die \"Could not open file\";\n\nprint $fh \"test\\n\";\n\nclose $fh;\n</code></pre>\n\n<p>But if I create a dummy TEXT file in the exact same directory that this extracted DAT file is in, it works.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4759748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b8ff494047cc4100b9f31bc302b0ab?s=128&d=identicon&r=PG&f=1", "display_name": "vetinari", "link": "https://stackoverflow.com/users/4759748/vetinari"}, "edited": false, "score": 0, "creation_date": 1428430498, "post_id": 29498099, "comment_id": 47155377, "body": "My goal is to count occurrences of ngrams in a text. E.g, in the sentence &quot;under a rock, and under a tree&quot;, the combinations of two words following each other would be &quot;under a, a rock, rock and, and under, under a, a tree&quot;. Then I want the frequency of each two(or three, or four)-word combinations. In that sentence, all the so-called bigrams will have the value 1 (number of occurrences), while &quot;a rock&quot; will have a value of 2, because it occurrs two times.  Text::Ngrams would probalby work, but I am interessted in the theory behind it."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 1, "user_id": 4759748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b8ff494047cc4100b9f31bc302b0ab?s=128&d=identicon&r=PG&f=1", "display_name": "vetinari", "link": "https://stackoverflow.com/users/4759748/vetinari"}, "edited": false, "score": 0, "creation_date": 1428431294, "post_id": 29498099, "comment_id": 47155876, "body": "If you want to conserve space in such a way this is fine, but I am not sure of a good way to perform your count. I wrote a simpleish n-gram generator awhile ago that might provide a decent example: <a href=\"https://github.com/mcmillhj/markov-perl/Chain.pm\" rel=\"nofollow noreferrer\">github.com/mcmillhj/markov-perl/Chain.pm</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 4759748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b8ff494047cc4100b9f31bc302b0ab?s=128&d=identicon&r=PG&f=1", "display_name": "vetinari", "link": "https://stackoverflow.com/users/4759748/vetinari"}, "edited": false, "score": 1, "creation_date": 1428433297, "post_id": 29498099, "comment_id": 47157025, "body": "@vetinari: If that is your goal then you cannot use simple nested hashes like this. You need <code>$hash{under}{a}</code> to have a count of its own, as well as being another hash reference so that you can have a count in <code>$hash{under}{a}{rock}</code>"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 4, "last_activity_date": 1428430704, "last_edit_date": 1428430704, "creation_date": 1428429641, "answer_id": 29498099, "question_id": 29497001, "link": "https://stackoverflow.com/questions/29497001/adding-each-element-in-an-array-to-a-complex-hash-in-perl/29498099#29498099", "title": "Adding each element in an array to a complex hash in Perl", "body": "<p>Something like this could build the structure you desire for N elements: </p>\n\n<pre><code>use strict;\nuse warnings; \n\nuse Data::Dumper;\nmy @array = qw(first second third four five six seven);\n\nmy $hash;\nforeach my $key ( reverse @array ) {\n   $hash = { $key =&gt; $hash };\n}\nprint Dumper $hash;\n\n__END__\n$VAR1 = {\n      'first' =&gt; {\n                   'second' =&gt; {\n                                 'third' =&gt; {\n                                              'fourth' =&gt; {\n                                                          'fifth' =&gt; {\n                                                                      'sixth' =&gt; {\n                                                                                 'seventh' =&gt; undef\n                                                                               }\n                                                                    }\n                                                        }\n                                            }\n                               }\n                 }\n    };\n</code></pre>\n\n<p>It is not clear what you really <em>need</em> this for. There may be a better solution if you explain your use-case a little more. Incrementing this structure doesn't appear to be very easy. </p>\n\n<p>After playing around a little, you can increment by traversing the hash reference to the bottom then incrementing the value of the last element. It is not very pretty though :|</p>\n\n<pre><code># incrementing\nmy $elem = $hash; # copy the reference \nforeach my $key ( @array ) {\n   # found the bottom of the hash\n   unless ( $elem-&gt;{$key} &amp;&amp; ref($elem-&gt;{$key}) ) { \n      $elem-&gt;{$key}++;\n      last; \n   }\n\n   # not at the bottom, move to the next level\n   $elem = $elem-&gt;{$key};\n}\nprint Dumper $hash;\n\n__END__\n$VAR1 = {\n      'first' =&gt; {\n                   'second' =&gt; {\n                                 'third' =&gt; {\n                                              'fourth' =&gt; {\n                                                            'fifth' =&gt; {\n                                                                         'sixth' =&gt; {\n                                                                                      'seventh' =&gt; 1\n                                                                                    }\n                                                                       }\n                                                          }\n                                            }\n                               }\n                 }\n    };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1428434582, "post_id": 29499067, "comment_id": 47157698, "body": "this one looks a lot cleaner than what I suggested."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1428433783, "last_edit_date": 1428433783, "creation_date": 1428432809, "answer_id": 29499067, "question_id": 29497001, "link": "https://stackoverflow.com/questions/29497001/adding-each-element-in-an-array-to-a-complex-hash-in-perl/29499067#29499067", "title": "Adding each element in an array to a complex hash in Perl", "body": "<p>This is relatively simple if you maintain a <em>current hash</em> reference. This short program demonstrates</p>\n\n<p>The first few steps make sure that each hash element exists and its value is a hash reference. <code>$href</code> is moved to the next level of hash at each stage. For the final element of the array, the latest hash level's element is incremented instead of being set to a hash reference.</p>\n\n<p>Whether or not this data structure is the correct choice depends on what else you need to do with it once you have built it</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash;\nmy @array = qw/ first second third fourth fifth /;\n\ndrill_hash(\\%hash, @array);\n\nuse Data::Dump;\ndd \\%hash;\n\nsub drill_hash {\n  my ($href, @list) = @_;\n  my $final = pop @list;\n  $href = $href-&gt;{$_} //= {} for @list;\n  ++$href-&gt;{$final};\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{\n  first =&gt; { second =&gt; { third =&gt; { fourth =&gt; { fifth =&gt; 1 } } } },\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Having understood your purpose, the simplest way to keep a count of occurrences of ngrams like that is to have a speficic hash key that is used to keep the <em>count</em> of the sequence of words so far.</p>\n\n<p>This program uses the value <code>_COUNT</code> for that key, and you can see that, for example, <code>{under}{a}{_COUNT}</code> and <code>{under}{a}{rock}{_COUNT}</code> are both 1</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %counts;\n\ncount_ngram(\\%counts, qw/ under a /);\ncount_ngram(\\%counts, qw/ a rock /);\ncount_ngram(\\%counts, qw/ under a rock /);\ncount_ngram(\\%counts, qw/ a tree /);\ncount_ngram(\\%counts, qw/ under a tree /);\n\nuse Data::Dump;\ndd \\%counts;\n\nsub count_ngram {\n  my ($href, @ngram) = @_;\n  my $final = pop @ngram;\n  $href = $href-&gt;{$_} //= {} for @ngram;\n  ++$href-&gt;{$final}{_COUNT};\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{\n  a =&gt; { rock =&gt; { _COUNT =&gt; 1 }, tree =&gt; { _COUNT =&gt; 1 } },\n  under =&gt; {\n    a =&gt; { _COUNT =&gt; 1, rock =&gt; { _COUNT =&gt; 1 }, tree =&gt; { _COUNT =&gt; 1 } },\n  },\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4759748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b8ff494047cc4100b9f31bc302b0ab?s=128&d=identicon&r=PG&f=1", "display_name": "vetinari", "link": "https://stackoverflow.com/users/4759748/vetinari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1428433783, "creation_date": 1428425848, "question_id": 29497001, "link": "https://stackoverflow.com/questions/29497001/adding-each-element-in-an-array-to-a-complex-hash-in-perl", "title": "Adding each element in an array to a complex hash in Perl", "body": "<p>I have an array with n number of elments. I want to add each of the elements to a complex hash, each as a key/value pair. If the number of elements were fixed, say three, I would do:</p>\n\n<pre><code>my %hash;\nmy @array = (\"first\", \"second\", \"third\");\n$hash{$array[0]}{$array[1]}{$array[2]}++;\n</code></pre>\n\n<p>The structure I want to end up with, is this (printed with Data::Dumper): </p>\n\n<pre><code>$VAR1 = 'first';\n$VAR2 = {\n        'second' =&gt; {\n                   'third' =&gt; 1\n};\n</code></pre>\n\n<p>But I am at loss at achieving the same structure when the number of elements in the array isn't fixed. Something with anonymous variables and iterating through the array, yes, but something like <pre><code><code>foreach @array{$hash{$_}++};</code></pre></code> will obviously only make one entry per element, and not the desired structure. Help?</p>\n"}, {"tags": ["bash", "perl", "sed", "increment"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1428426239, "post_id": 29496981, "comment_id": 47152972, "body": "You need the <code>e</code> modifier in perl to make it evaluate the arithmetic in the replacement."}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 1, "last_activity_date": 1428426438, "creation_date": 1428426438, "answer_id": 29497178, "question_id": 29496981, "link": "https://stackoverflow.com/questions/29496981/replace-every-occurrence-of-pattern-in-a-string-by-an-incremental-pattern/29497178#29497178", "title": "Replace every occurrence of pattern in a string by an incremental pattern", "body": "<p>You were close: you need to evaluate the replacement text as a perl expression:</p>\n\n<pre><code>perl -pe 's/\\).*?:/ \")#\" . ++$n . \":\" /ge' file\n</code></pre>\n\n\n\n<pre><code>(((A:1,B:2)#1:4,C:5)#2:4,D:3);\n</code></pre>\n\n<p>Or, with look-arounds</p>\n\n<pre><code>perl -pe 's/(?&lt;=\\)).*?(?=:)/ \"#\" . ++$n /ge' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 800, "user_id": 4653054, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-ckdsunXHQQk/AAAAAAAAAAI/AAAAAAAAAJc/dDiDahbMQls/photo.jpg?sz=128", "display_name": "tlorin", "link": "https://stackoverflow.com/users/4653054/tlorin"}, "edited": false, "score": 0, "creation_date": 1428477105, "post_id": 29500918, "comment_id": 47172813, "body": "When I try it it says: <code>$: command not found</code>   (I am a Mac user)  And by the way, would it work if I have more than 10 values to substitute? Thanks anyway! :)"}, {"owner": {"reputation": 800, "user_id": 4653054, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-ckdsunXHQQk/AAAAAAAAAAI/AAAAAAAAAJc/dDiDahbMQls/photo.jpg?sz=128", "display_name": "tlorin", "link": "https://stackoverflow.com/users/4653054/tlorin"}, "edited": false, "score": 0, "creation_date": 1428510141, "post_id": 29500918, "comment_id": 47195130, "body": "Ok! Here is the error message that I get now:  <code>awk: illegal primary in regular expression )[0-9]+ at [0-9]+   source line number 1   context is \t { while( &gt;&gt;&gt;  sub(&#47;)[0-9]+&#47;,&quot;)#&quot;++i) &lt;&lt;&lt; </code>"}, {"owner": {"reputation": 800, "user_id": 4653054, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-ckdsunXHQQk/AAAAAAAAAAI/AAAAAAAAAJc/dDiDahbMQls/photo.jpg?sz=128", "display_name": "tlorin", "link": "https://stackoverflow.com/users/4653054/tlorin"}, "edited": false, "score": 0, "creation_date": 1428571512, "post_id": 29500918, "comment_id": 47222054, "body": "You can imagine that if I ask you this question it is because I had a look but did not manage to fix it ;-) however this awk one-liner is of great interest for me so if you do know how to fix it I would greatly appreciate :)"}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1428606783, "last_edit_date": 1428606783, "creation_date": 1428439214, "answer_id": 29500918, "question_id": 29496981, "link": "https://stackoverflow.com/questions/29496981/replace-every-occurrence-of-pattern-in-a-string-by-an-incremental-pattern/29500918#29500918", "title": "Replace every occurrence of pattern in a string by an incremental pattern", "body": "<pre><code>$ awk '{ while( sub(/)[0-9]+/,\")#\"++i) ); }1' file\n(((A:1,B:2)#1:4,C:5)#2:4,D:3);\n</code></pre>\n\n<p>Apparently nawk requires the open brace in the RE to be escaped:</p>\n\n<pre><code>$ awk '{ while( sub(/\\)[0-9]+/,\")#\"++i) ); }1' file\n</code></pre>\n"}], "owner": {"reputation": 800, "user_id": 4653054, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-ckdsunXHQQk/AAAAAAAAAAI/AAAAAAAAAJc/dDiDahbMQls/photo.jpg?sz=128", "display_name": "tlorin", "link": "https://stackoverflow.com/users/4653054/tlorin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 29497178, "answer_count": 2, "score": 0, "last_activity_date": 1428606783, "creation_date": 1428425773, "question_id": 29496981, "link": "https://stackoverflow.com/questions/29496981/replace-every-occurrence-of-pattern-in-a-string-by-an-incremental-pattern", "title": "Replace every occurrence of pattern in a string by an incremental pattern", "body": "<p>I have many input files like this one:</p>\n\n<pre><code>(((A:1,B:2)100:4,C:5)87:4,D:3);\n</code></pre>\n\n<p>I want to replace <code>100</code> and <code>87</code> by <code>#1</code> and <code>#2</code>. So the idea is that everytime the pattern <code>)*:</code> is matched the <code>*</code> is replaced by an incremental string: <code>#1</code>,<code>#2</code>...</p>\n\n<p>The only thing I've figured out up to now is this perl one-liner: <code>perl -ple 's/\\)*\\:/\\)$n++\\:/g' file</code> but it gives the following output:</p>\n\n<p><code>(((A)++:1,B)++:2)100)++:4,C)++:5)87)++:4,D)++:3);</code> </p>\n\n<p>and I can't see where I'm wrong.</p>\n\n<p>Any <code>bash</code> or <code>perl</code> (or other!) script would be much appreciated!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "shell", "awk", "sed", "ksh"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428420399, "post_id": 29495251, "comment_id": 47149393, "body": "OP said &quot;Since this is AIX, I do not have access to the GNU versions of these utilities.&quot;"}, {"owner": {"reputation": 33, "user_id": 3884843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9e0717ebdba233abeb028f0dddbce4?s=128&d=identicon&r=PG&f=1", "display_name": "iAmJeff", "link": "https://stackoverflow.com/users/3884843/iamjeff"}, "edited": false, "score": 0, "creation_date": 1428421390, "post_id": 29495251, "comment_id": 47150096, "body": "I can sometimes work around GNU things like &quot;sed -i&quot;.  man(1) is still my friend on what works and what doesn&#39;t."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1428424013, "post_id": 29495251, "comment_id": 47151689, "body": "I think I&#39;ve removed the GNUiness from the first one. Still largely untested"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428424182, "post_id": 29495251, "comment_id": 47151781, "body": "Both examples rely on there being exactly one space either side of the <code>=</code>"}, {"owner": {"reputation": 33, "user_id": 3884843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9e0717ebdba233abeb028f0dddbce4?s=128&d=identicon&r=PG&f=1", "display_name": "iAmJeff", "link": "https://stackoverflow.com/users/3884843/iamjeff"}, "edited": false, "score": 0, "creation_date": 1428424753, "post_id": 29495251, "comment_id": 47152127, "body": "My original config file does have exactly one space on either side of the <code>=</code>.  I&#39;d like to preserve that."}, {"owner": {"reputation": 33, "user_id": 3884843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9e0717ebdba233abeb028f0dddbce4?s=128&d=identicon&r=PG&f=1", "display_name": "iAmJeff", "link": "https://stackoverflow.com/users/3884843/iamjeff"}, "edited": false, "score": 0, "creation_date": 1428433299, "post_id": 29495251, "comment_id": 47157029, "body": "That whole use of tr to sort/uniq the string is <b>very cool</b>!"}, {"owner": {"reputation": 33, "user_id": 3884843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9e0717ebdba233abeb028f0dddbce4?s=128&d=identicon&r=PG&f=1", "display_name": "iAmJeff", "link": "https://stackoverflow.com/users/3884843/iamjeff"}, "edited": false, "score": 0, "creation_date": 1428433828, "post_id": 29495251, "comment_id": 47157289, "body": "I&#39;m accepting this one.  It&#39;s shell code.  (No offense meant to Perl users.  Shell is my preference.)  The <code>sort | uniq | paste -sd,</code> is shorter, though somewhat less clear, than <code>sort | uniq | tr &#39;\\n&#39; &#39;,&#39; | sed s&#39;&#47;.$&#47;&#47;&#39;</code>"}, {"owner": {"reputation": 33, "user_id": 3884843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9e0717ebdba233abeb028f0dddbce4?s=128&d=identicon&r=PG&f=1", "display_name": "iAmJeff", "link": "https://stackoverflow.com/users/3884843/iamjeff"}, "edited": false, "score": 0, "creation_date": 1428508940, "post_id": 29495251, "comment_id": 47194372, "body": "Dang, <code>paste -sd,</code> did not work on all my AIX systems.  I used <code>tr</code> to put the commas back."}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 0, "last_activity_date": 1428425230, "last_edit_date": 1428425230, "creation_date": 1428420303, "answer_id": 29495251, "question_id": 29494928, "link": "https://stackoverflow.com/questions/29494928/merge-two-lines-into-one-within-a-configuration-file/29495251#29495251", "title": "Merge two lines into one within a configuration file", "body": "<p>Untested bash, etc.</p>\n\n<pre><code>config=/etc/bar/config\ndefault=A_1,USER_1,SYS_1,SYS_2\npattern='^foo[[:blank:]]*=[[:blank:]]*'   # shared with grep and sed\nif current=$( grep \"$pattern\" \"$config\" | sed \"s/$pattern//\" )\nthen \n    new=$( echo \"$current,$default\" | tr ',' '\\n' | sort | uniq | paste -sd, )\n    sed \"s/$pattern.*/foo = $new/\" \"$config\" &gt; \"$config.$$.tmp\" &amp;&amp;\n        mv \"$config.$$.tmp\" \"$config\"\nelse\n    echo \"foo = $default\" &gt;&gt; \"$config\"\nfi\n</code></pre>\n\n<p>A vanilla perl solution:</p>\n\n<pre><code>perl -i -lpe '\n    BEGIN {%foo = map {$_ =&gt; 1} qw/A_1 USER_1 SYS_1 SYS_2/}\n    if (s/^foo\\s*=\\s*//) {\n        $found=1; \n        $foo{$_}=1 for split /,/; \n        $_ = \"foo = \" . join(\",\", keys %foo);\n    }\n    END {print \"foo = \" . join(\",\", keys %foo) unless $found}\n' /etc/bar/config\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1428424290, "post_id": 29495688, "comment_id": 47151854, "body": "You need to add the <code>foo</code> line if it&#39;s not found in the file."}, {"owner": {"reputation": 33, "user_id": 3884843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9e0717ebdba233abeb028f0dddbce4?s=128&d=identicon&r=PG&f=1", "display_name": "iAmJeff", "link": "https://stackoverflow.com/users/3884843/iamjeff"}, "edited": false, "score": 0, "creation_date": 1428424877, "post_id": 29495688, "comment_id": 47152206, "body": "Or at least determine if <code>foo</code> is not there.  I will probably have to <i>other stuff not mentioned in the question</i> to insert it in the correct location."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1428422030, "last_edit_date": 1428422030, "creation_date": 1428421639, "answer_id": 29495688, "question_id": 29494928, "link": "https://stackoverflow.com/questions/29494928/merge-two-lines-into-one-within-a-configuration-file/29495688#29495688", "title": "Merge two lines into one within a configuration file", "body": "<p>This Perl code will do as you ask. It expects the path to the file to be modified as a parameter on the command line.</p>\n\n<p>Note that it reads the entire input file into the array <code>@config</code> and then overwrites the same file with the modified data.</p>\n\n<p>It works by building a hash <code>%values</code> from a combination of the items already present in the <code>foo =</code> line and the list of defaults items in <code>@defaults</code>. The combination is sorted in alphabetical order and joined eith a comma</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @defaults = qw/ A_1 USER_1 SYS_1 SYS_2 /;\n\nmy ($file) = @ARGV;\nmy @config = &lt;&gt;;\n\nopen my $out_fh, '&gt;', $file or die $!;\nselect $out_fh;\n\nfor ( @config ) {\n  if ( my ($pfx, $vals) = /^(foo \\s* = \\s* ) (.+) /x ) {\n    my %values;\n    ++$values{$_} for $vals =~ /[^,\\s]+/g;\n    ++$values{$_} for @defaults;\n    print $pfx, join(',', sort keys %values), \"\\n\";\n  }\n  else {\n    print;\n  }\n}\n\nclose $out_fh;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>foo = A_1,GROUP_1,SYS_1,SYS_2,USER_1,USER_2,USER_3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 3884843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9e0717ebdba233abeb028f0dddbce4?s=128&d=identicon&r=PG&f=1", "display_name": "iAmJeff", "link": "https://stackoverflow.com/users/3884843/iamjeff"}, "edited": false, "score": 0, "creation_date": 1428431805, "post_id": 29496561, "comment_id": 47156163, "body": "I may have BASH available.  It looks like this will work with KORN, though.  If I could upvote you for <code>lineno=$(cut -d: -f1 &lt;&lt;&lt; &quot;${v}0:&quot;)</code>, I would.  I didn&#39;t know you could do that with those."}, {"owner": {"reputation": 33, "user_id": 3884843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9e0717ebdba233abeb028f0dddbce4?s=128&d=identicon&r=PG&f=1", "display_name": "iAmJeff", "link": "https://stackoverflow.com/users/3884843/iamjeff"}, "edited": false, "score": 0, "creation_date": 1428433140, "post_id": 29496561, "comment_id": 47156949, "body": "Also, that whole use of tr to sort/uniq the string is <b>very cool</b>!"}], "tags": [], "owner": {"reputation": 84959, "user_id": 390913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/87a2a7e9ea54bcd1a6c8f09f8c2e8f3b?s=128&d=identicon&r=PG", "display_name": "perreal", "link": "https://stackoverflow.com/users/390913/perreal"}, "is_accepted": false, "score": 1, "last_activity_date": 1428424362, "creation_date": 1428424362, "answer_id": 29496561, "question_id": 29494928, "link": "https://stackoverflow.com/questions/29494928/merge-two-lines-into-one-within-a-configuration-file/29496561#29496561", "title": "Merge two lines into one within a configuration file", "body": "<p>Some dirty bash/sed:</p>\n\n<pre><code>#!/usr/bin/bash\ninput_file=\"some_filename\"\nv=$(grep -n '^foo *=' \"$input_file\")\nlineno=$(cut -d: -f1 &lt;&lt;&lt; \"${v}0:\")\nbase=\"A_1,USER_1,SYS_1,SYS_2,\"\nif [[ \"$lineno\" == 0 ]]; then\n    echo \"foo = A_1,USER_1,SYS_1,SYS_2\" &gt;&gt; \"$input_file\"\nelse \n    all=$(sed -n ${lineno}'s/^foo *= */'\"$base\"'/p' \"$input_file\" | \\\n        tr ',' '\\n' | sort | uniq | tr '\\n' ',' | \\\n        sed -e 's/^/foo = /' -e 's/, *$//' -e 's/   */ /g' &lt;&lt;&lt; \"$all\") \n    sed -i \"${lineno}\"'s/.*/'\"$all\"'/' \"$input_file\"\nfi\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1428435510, "last_edit_date": 1428435510, "creation_date": 1428435196, "answer_id": 29499779, "question_id": 29494928, "link": "https://stackoverflow.com/questions/29494928/merge-two-lines-into-one-within-a-configuration-file/29499779#29499779", "title": "Merge two lines into one within a configuration file", "body": "<p>Since you didn't provide sample input and expected output I couldn't test this but this is the right approach:</p>\n\n<pre><code>awk '\n/foo = / { old = \",\"$3; next }\n{ print }\nEND {\n    split(\"A_1,USER_1,SYS_1,SYS_2\"old,all,/,/)\n    for (i in all)\n        if (!seen[all[i]]++)\n            new = (new ? new \",\" : \"\") all[i]\n    print \"foo =\", new\n}\n' /etc/bar/config &gt; tmp &amp;&amp; mv tmp /etc/bar/config\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3884843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9e0717ebdba233abeb028f0dddbce4?s=128&d=identicon&r=PG&f=1", "display_name": "iAmJeff", "link": "https://stackoverflow.com/users/3884843/iamjeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 29495251, "answer_count": 4, "score": 0, "last_activity_date": 1428436959, "creation_date": 1428419353, "last_edit_date": 1428436959, "question_id": 29494928, "link": "https://stackoverflow.com/questions/29494928/merge-two-lines-into-one-within-a-configuration-file", "title": "Merge two lines into one within a configuration file", "body": "<p>I have several AIX systems with a configuration file, let's call it <strong>/etc/bar/config</strong>.  The file may or may not have a line declaring values for <strong>foo</strong>.  An example would be:</p>\n\n<pre><code>foo = A_1,GROUP_1,USER_1,USER_2,USER_3\n</code></pre>\n\n<p>The <strong>foo</strong> line may or may not be the same on all systems.  Different systems may have different values and different a different number of values.  My task is to add \"bare minimum\" values in the <strong>config</strong> file on all systems.  The bare minimum line will look like this.</p>\n\n<pre><code>foo = A_1,USER_1,SYS_1,SYS_2\n</code></pre>\n\n<p>If the line does not exist, I must create it.  If the line does exist, I must merge the two lines.  Using my examples, the result would be this.  The order of the values does not matter.</p>\n\n<pre><code>foo = A_1,GROUP_1,USER_1,USER_3,USER_2,SYS_1,SYS_2\n</code></pre>\n\n<p>Obviously I want a script to do my work.  I have the standard <em>sh</em>, <em>ksh</em>, <em>awk</em>, <em>sed</em>, <em>grep</em>, <em>perl</em>, <em>cut</em>, etc.  Since this is AIX, I do not have access to the GNU versions of these utilities.  </p>\n\n<p>Originally, I had a script with these commands to replace the entire <strong>foo</strong> line.</p>\n\n<pre><code>cp /etc/bar/config /etc/bar/config.$$\nsed \"s/foo = .*/foo = A_1,USER_1,SYS_1,SYS_2/\" /etc/bar/config.$$ &gt; /etc/bar/config\n</code></pre>\n\n<p>But this simply replaces the line.  It does take into consideration any pre-existing configuration, including a line that's missing.  And I'm doing other configuration modifications in the script, such as adding completely unique lines to other files and restarting a process, so I'd <em>perfer</em> this be some type of shell-based code snippet I can add to my change script.  I am open to other options, especially if the solution is simpler.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428415097, "post_id": 29493089, "comment_id": 47145655, "body": "It sounds like much of your code has been written using subroutine protoypes, which are not the utility that they are in most languages and should be confined to very specific uses. Furthermore, a normal Perl lexical variable should be named using lower-case letters, digits and underscore: Capital letters are reserved for global identifiers."}, {"owner": {"reputation": 25, "user_id": 4755683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77da58d63e0ce0e83cfc31703df2552c?s=128&d=identicon&r=PG&f=1", "display_name": "dukibas", "link": "https://stackoverflow.com/users/4755683/dukibas"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428416367, "post_id": 29493089, "comment_id": 47146528, "body": "@Borodin Thanks for the insight, on both topics. The first point, about prototypes, I will look foward on those specific usages. About the lexical variables it&#180;s just an old costume for me. Will remember this next time. By the way this sample code isn&#180;t mine, it&#180;s from some former fellow from my workplace. I&#180;m just studiyng and modifying to learn those Perl nuances."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428417141, "post_id": 29493089, "comment_id": 47147098, "body": "That&#39;s fair. I assumed that it was worse than that, and you were working in an environment where Perl identifiers and subroutine prototypes were like that as standard. Prototypes are used in modules that are intended to add new operators to the language that work like built-in functions. You can see them used in <a href=\"https://metacpan.org/source/PEVANS/List-UtilsBy-0.09/lib/List/UtilsBy.pm\" rel=\"nofollow noreferrer\">the source of <code>List::UtilsBy</code></a>. And I wouldn&#39;t take too much notice of the work of your colleague I&#39;m afraid: anyone who uses subroutine prototypes in a Perl program isn&#39;t very au fait with the language"}, {"owner": {"reputation": 25, "user_id": 4755683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77da58d63e0ce0e83cfc31703df2552c?s=128&d=identicon&r=PG&f=1", "display_name": "dukibas", "link": "https://stackoverflow.com/users/4755683/dukibas"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428418660, "post_id": 29493089, "comment_id": 47148199, "body": "Lesson learned. Found this previous topic about this subject, if anyone new to Perl as I am would like to read more about it: <a href=\"http://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">Why are Perl 5&#39;s function prototypes bad?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "is_accepted": false, "score": 1, "last_activity_date": 1428414767, "creation_date": 1428414767, "answer_id": 29493288, "question_id": 29493089, "link": "https://stackoverflow.com/questions/29493089/assigning-an-hash-structure-to-a-scalar-variable/29493288#29493288", "title": "Assigning an hash structure to a scalar variable", "body": "<p>The <code>{ key =&gt; value }</code> syntax is an <em>anonymous hash reference constructor</em>. References are scalars (they're basically fancy pointers) so that's why it's assigned to a scalar variable. As you noticed in the code example you pointed, to get at the data in the underlying hash, you need to use the dereference operator <code>-&gt;</code>. To get at the entire underlying hash, you can use <code>%$node</code>. </p>\n\n<p>For a gentle introduction to Perl references, see the <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">Perl References Tutorial</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 5, "last_activity_date": 1428414946, "creation_date": 1428414946, "answer_id": 29493341, "question_id": 29493089, "link": "https://stackoverflow.com/questions/29493089/assigning-an-hash-structure-to-a-scalar-variable/29493341#29493341", "title": "Assigning an hash structure to a scalar variable", "body": "<p>All three of the examples you present behave differently: </p>\n\n<pre><code>my $hash = {\n    foo =&gt; \"bar\",\n};\n</code></pre>\n\n<p>creates a hash reference with a single key foo and value bar and assigns it to a scalar named <code>$hash</code>. Values in hash references are accessed by using the <a href=\"http://perldoc.perl.org/perlop.html#The-Arrow-Operator\" rel=\"noreferrer\"><code>arrow operator</code></a> (->) followed by curly braces and the name of the key; e.g. <code>$hash-&gt;{foo}; # bar</code></p>\n\n<pre><code>my %hash = (\n   foo =&gt; \"bar\",\n);\n</code></pre>\n\n<p>creates a hash with single key foo and value bar. Values in hashes are accessed with curly braces and the name of the key; e.g. <code>$hash{foo}; # bar</code></p>\n\n<pre><code>my %hash = {\n   foo =&gt; \"bar\",\n}\n</code></pre>\n\n<p>attempts to assign a hash reference to a hash, which <em>effectively</em> makes the anonymous hash reference the key. Since all hash keys in Perl are strings, the key will be something like <code>'HASH(0x7f82948e1e18)'</code> with a value of <code>undef</code>. If you have <code>use warnings;</code> enabled (as you should), you would see the following warning when this line is executed: </p>\n\n<blockquote>\n  <p>Reference found where even-sized list expected at test.pl line [line-number].</p>\n</blockquote>\n\n<p>It might be useful to read the documentation for Perl references: <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"noreferrer\"><code>perldoc perlref</code></a></p>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1428417882, "post_id": 29494039, "comment_id": 47147615, "body": "Thanks and to @hunter-mcmillen as well.  <code>Reference found where even-sized list expected at</code> ... explaining common or rare errors that are the &quot;opposite of a bug&quot; (<i>i.e.</i> when perl is right even when it is wrong) is a great way to figure out the mechanics of the language and arguably more useful than decoding &quot;Obfuscated Perl&quot;."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1428416869, "creation_date": 1428416869, "answer_id": 29494039, "question_id": 29493089, "link": "https://stackoverflow.com/questions/29493089/assigning-an-hash-structure-to-a-scalar-variable/29494039#29494039", "title": "Assigning an hash structure to a scalar variable", "body": "<blockquote>\n  <p>I mean, is there a difference (in terms of behavior) between</p>\n\n<pre><code>my $hash = {\n    #some foo =&gt; \"bar\" assign here\n};\n</code></pre>\n  \n  <p>and</p>\n\n<pre><code>my %hash = (\n   #some foo =&gt; \"bar\" assign here\n);\n</code></pre>\n  \n  <p>and</p>\n\n<pre><code>my %hash = {\n   #some foo =&gt; \"bar\" assign here\n}\n</code></pre>\n</blockquote>\n\n<ul>\n<li><p><code>my %hash</code> creates a <em>named lexical hash</em>, which can be initialised \u2014 separately or in the declaration \u2014 with an even-numbered list of key/value pairs. Every key must be a simple string, and every value behaves as a Perl scalar variable</p></li>\n<li><p>The <code>{ ... }</code> construct, depending on context, creates an <em>anonymous</em> hash, and evaluates a reference to that hash \u2014 a scalar value that can be assigned to a scalar variable. The braces may contain an even-numbered list of key/value pairs that initialise data within the anonymous hash</p></li>\n<li><p>The statement <code>my %hash = { foo =&gt; \"bar\" }</code> is a misconstruction. <code>my %hash</code> creates a named hash, as in the first instance above, while <code>{ foo =&gt; \"bar\" }</code> creates another, anonymous hash, as in the second case. The anonymous hash reference forms a <em>single-element</em> list, and is stringified to create the key of an element of <code>%hash</code>. A value of <code>undef</code> is supplied for the missing value. It is similar to</p>\n\n<pre><code>my %anon = ( foo =&gt; 'bar' );\nmy %hash - (\\%anon, undef);\n</code></pre></li>\n</ul>\n\n<p>but because of the stringification, the key is something like <code>HASH(0x633444)</code> and cannot be used to access <code>%anon</code></p>\n\n<p>An element of an anonymous hash can be accessed in two ways. For example, given</p>\n\n<pre><code>my $href = { foo =&gt; 'bar' }\n</code></pre>\n\n<p>the old-fashioned way is to use the reference as if it were a hash name</p>\n\n<pre><code>$$href{foo}\n</code></pre>\n\n<p>or, identical but clearer</p>\n\n<pre><code>${$href}{foo}\n</code></pre>\n\n<p>or there is a newer <em>arrow</em> dereference operator that works the same as in the C language and is generally preferred</p>\n\n<pre><code>$href-&gt;{foo}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4755683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77da58d63e0ce0e83cfc31703df2552c?s=128&d=identicon&r=PG&f=1", "display_name": "dukibas", "link": "https://stackoverflow.com/users/4755683/dukibas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1861, "favorite_count": 0, "accepted_answer_id": 29493341, "answer_count": 3, "score": 2, "last_activity_date": 1428416869, "creation_date": 1428414208, "question_id": 29493089, "link": "https://stackoverflow.com/questions/29493089/assigning-an-hash-structure-to-a-scalar-variable", "title": "Assigning an hash structure to a scalar variable", "body": "<p>I have the following code, in which I have a structure ($node) that is a scalar by declaration, but seems to be a hash by usage:  </p>\n\n<pre><code>sub LoadData()\n {\n     #not significant code here\n\n     my $node = {\n                    BaseName =&gt; \"deviceA\",\n                    SysDescr =&gt; \"Example device\",\n\n                    SysObjectId =&gt; \"SysObjectIdTest\",\n\n                    ManagementIpAddress =&gt; \"BLABLABLA\",\n                    Protocol =&gt; \"1\",\n\n               };\n\n     $store-&gt;AddDeviceData( 1, $node-&gt;{BaseName}, $node );\n }  \n</code></pre>\n\n<p>My question is: that <strong>$node</strong>, declared as we see above, is an hash or a scalar? I mean, is there a difference (in terms of beahvior) between </p>\n\n<pre><code>my $hash = {\n    #some foo =&gt; \"bar\" assign here\n};\n</code></pre>\n\n<p>and</p>\n\n<pre><code>my %hash = (\n   #some foo =&gt; \"bar\" assign here\n);\n</code></pre>\n\n<p>and</p>\n\n<pre><code> my %hash = {\n   #some foo =&gt; \"bar\" assign here\n}\n</code></pre>\n\n<p>PS: it behaves as an hash reference because AddDeviceData() restricts the last argument to be an hash reference.</p>\n\n<p>PSS: Maybe it had something related to context; an hash being assigned to a scalar means assigning a reference to the hash and not the content of the hash itself, but I\u00b4m not pretty sure.</p>\n"}, {"tags": ["windows", "perl", "file", "append", "truncate"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428423718, "post_id": 29492312, "comment_id": 47151523, "body": "If open returns false, <code>$!</code> and <code>$^E</code> contain relevant error messages.  What are they?"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1428415346, "creation_date": 1428415346, "answer_id": 29493481, "question_id": 29492312, "link": "https://stackoverflow.com/questions/29492312/unable-to-append-redirected-output-files-in-windows/29493481#29493481", "title": "Unable to append redirected output files in windows", "body": "<p>No reason appending to a file wouldn't work in Windows. But this nugget in <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlport.pod#truncate\" rel=\"nofollow\"><code>perlport</code></a> might be what you need to know:</p>\n\n<p><strong>truncate</strong></p>\n\n<blockquote>\n  <p>If a <code>FILEHANDLE</code> is supplied, it must be writable and opened in append mode (i.e., use <code>open(FH, '&gt;&gt;filename')</code> or <code>sysopen(FH,...,O_APPEND|O_RDWR)</code>. If a filename is supplied, it should not be held open elsewhere. (Win32)</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 4720803, "user_type": "registered", "profile_image": "https://graph.facebook.com/969316819775777/picture?type=large", "display_name": "Melvin S Thomas", "link": "https://stackoverflow.com/users/4720803/melvin-s-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1428415346, "creation_date": 1428411691, "question_id": 29492312, "link": "https://stackoverflow.com/questions/29492312/unable-to-append-redirected-output-files-in-windows", "title": "Unable to append redirected output files in windows", "body": "<p>I am using a log file which is logged in using redirected output method and not the usual logging functions or subroutines.</p>\n\n<p>I need to open the file in appending mode in order to truncate the same every hour.\nIn linux, i can successfully open the file in append mode and use truncate() function.\nBut in windows, the file doesnt open in append mode or open using the perl file operators.\nRunning with if statement gives me false value condition on appending the files, in windows.</p>\n\n<p>the same code and logic works differently on linux and windows.\ntried the >>,+>,> file operators in perl but none works in windows.</p>\n\n<p>What can be the reason for the same and solution for this?</p>\n"}, {"tags": ["r", "perl"], "comments": [{"owner": {"reputation": 21821, "user_id": 3987294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4751b219bec937f1c58a18de85dcd06?s=128&d=identicon&r=PG&f=1", "display_name": "nicola", "link": "https://stackoverflow.com/users/3987294/nicola"}, "edited": false, "score": 0, "creation_date": 1428409084, "post_id": 29491348, "comment_id": 47141832, "body": "Use <code>paste</code>: <code>system(paste(&quot;perl&quot;,&quot;SFDRv166.pl&quot;,arg1,arg2,arg3))</code>"}, {"owner": {"reputation": 208024, "user_id": 516548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8d6b7cb1d943bc7a2f00c390be3fe97?s=128&d=identicon&r=PG", "display_name": "G. Grothendieck", "link": "https://stackoverflow.com/users/516548/g-grothendieck"}, "edited": false, "score": 0, "creation_date": 1428409697, "post_id": 29491348, "comment_id": 47142217, "body": "Look at the source for <code>xls2sep</code> in the gdata package. It calls perl with arguments."}], "answers": [{"tags": [], "owner": {"reputation": 24144, "user_id": 1286528, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/n4uJp.jpg?s=128&g=1", "display_name": "pogibas", "link": "https://stackoverflow.com/users/1286528/pogibas"}, "is_accepted": true, "score": 2, "last_activity_date": 1428409139, "creation_date": 1428409139, "answer_id": 29491421, "question_id": 29491348, "link": "https://stackoverflow.com/questions/29491348/execute-perl-script-with-arguments-in-r/29491421#29491421", "title": "Execute perl script with arguments in R", "body": "<p>Try this:</p>\n\n<pre><code>arg1 &lt;- \"-assoc input.txt\"\narg2 &lt;- \"-SFDR\"\narg3 &lt;- \"-out test\"\ncmd &lt;- paste(\"perl\", \"SFDRv166.pl\", arg1, arg2, arg3)\nsystem(cmd)\n</code></pre>\n\n<p>Now you don't need <code>shQuate</code>.</p>\n"}], "owner": {"reputation": 139, "user_id": 3745089, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ee6c60ef5c2eb1bb6d287ef0ca09b1e?s=128&d=identicon&r=PG&f=1", "display_name": "user3745089", "link": "https://stackoverflow.com/users/3745089/user3745089"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3823, "favorite_count": 0, "accepted_answer_id": 29491421, "answer_count": 1, "score": 2, "last_activity_date": 1428409139, "creation_date": 1428408917, "question_id": 29491348, "link": "https://stackoverflow.com/questions/29491348/execute-perl-script-with-arguments-in-r", "title": "Execute perl script with arguments in R", "body": "<p>I have a perl script (SFDRv166.pl, available here <a href=\"http://bit.ly/1DGmUTL\" rel=\"nofollow\">http://bit.ly/1DGmUTL</a>) that I run successfully from the command line using:</p>\n\n<pre><code>perl SFDRv166.pl -assoc input.txt -SFDR -out test\n</code></pre>\n\n<p>I now need to run this program as part of an R script, and have tried implementing it as follows:</p>\n\n<pre><code>arg1 &lt;- shQuote(\"-assoc input.txt\")\narg2 &lt;- shQuote(\"-SFDR\")\narg3 &lt;- shQuote(\"-out test\")\n\nsystem(\"perl SFDRv166.pl arg1 arg2 arg3\")\n</code></pre>\n\n<p>However, I get an <code>ERROR: cannot find !</code> message generated I believe because the arguments are not getting passed to the perl script (output says no input or output file specified, and no output is created). </p>\n\n<p>I can see from reading the documentation for <code>system()</code> that arguments with spaces require special handling, which is why I have tried to use <code>shQuote()</code>. Not sure what else may be wrong with my approach?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1428409494, "post_id": 29491396, "comment_id": 47142084, "body": "Thanks! Works perfectly :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1428409357, "last_edit_date": 1428409357, "creation_date": 1428409038, "answer_id": 29491396, "question_id": 29491286, "link": "https://stackoverflow.com/questions/29491286/circular-shift-of-array/29491396#29491396", "title": "Circular shift of array", "body": "<p>For moving elements on and off arrays, you use <code>shift/unshift</code> and <code>push/pop</code>. </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @list = ( \"one\", \"two\", \"three\", \"four\" );\n\npush ( @list, shift @list);\nprint Dumper \\@list;\n\nunshift ( @list, pop @list );\nprint Dumper \\@list;\n</code></pre>\n\n<p>therefore your 'shift' function would look a bit like:</p>\n\n<pre><code>sub cycle_list {\n    my ( $list_ref, $number_shift ) = @_;\n    for ( 1 .. $number_shift ) {\n        push( @$list_ref, shift @$list_ref );\n    }\n}\n\ncycle_list( \\@list, 2 );\nprint Dumper \\@list;\n</code></pre>\n\n<p>Passing the list by reference allows you to modify the referenced list. You could pass in a bunch of values and return the shifted list from the sub if you prefer. </p>\n"}, {"comments": [{"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1587562452, "post_id": 29491552, "comment_id": 108559495, "body": "I felt worried about that code, because <code>push(@a</code> relies on the side effect of <code>splice(@a</code>. Is this semantic clearly specified? Also I&#39;m wondering which is more efficient: <code>push(@a, splice(@a, 0, 2))</code> or <code>@a = @a[2, 3, 0, 1]</code>."}], "tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": false, "score": 9, "last_activity_date": 1428409531, "creation_date": 1428409531, "answer_id": 29491552, "question_id": 29491286, "link": "https://stackoverflow.com/questions/29491286/circular-shift-of-array/29491552#29491552", "title": "Circular shift of array", "body": "<pre class=\"lang-perl prettyprint-override\"><code>my @a = qw(1 2 3 4);\nmy $i = 2;\npush(@a, splice(@a, 0, $i));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1428411208, "last_edit_date": 1495540932, "creation_date": 1428411208, "answer_id": 29492147, "question_id": 29491286, "link": "https://stackoverflow.com/questions/29491286/circular-shift-of-array/29492147#29492147", "title": "Circular shift of array", "body": "<p>As Denis Ibaev <a href=\"https://stackoverflow.com/a/29491552/622310\">has intimated</a>, <code>circ_shift</code> is best implemented using <code>splice</code>, which can <code>pop</code> multiple elements at once and doesn't need a <code>for</code> loop.</p>\n\n<p>It would look like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nmy $a = [[1], [3], [2], [4]];\nmy $shift_index = 1;\ncirc_shift( $a, $shift_index );\n\ndd $a;\n\nsub circ_shift {\n  my ($list, $n) = @_;\n  push @$list, splice @$list, 0, $n;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[[3], [2], [4], [1]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1428425151, "creation_date": 1428425151, "answer_id": 29496788, "question_id": 29491286, "link": "https://stackoverflow.com/questions/29491286/circular-shift-of-array/29496788#29496788", "title": "Circular shift of array", "body": "<p>If all you want is to go through the elements of the array in the rotated order, you do not need to mess with <code>push</code>, <code>pop</code>, or <code>splice</code> even though either modifying the array in place, or creating a new one are the most intuitive approaches for most of us.</p>\n\n<p>You can, however, create an iterator that will traverse the array in the rotated order by applying an offset and clipping it using the size of the array:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @x = ('a' .. 'z');\n\nfor my $d (3, 5, 43) {\n    my $it = rotated_it(\\@x, $d);\n    print \"@x[ map $it-&gt;($_), 1, 3, 5, 7, 11, 13 ]\\n\";\n}\n\nsub rotated_it {\n    my $k = @{ $_[0] };\n    my $c = $_[1] - 1;\n    sub { ($_[0] + $c) % $k };\n}\n</code></pre>\n\n<p>This can be particularly useful if the underlying array is large and all you need are a few elements from the rotated array, or if you want to be able to traverse the array one element at a time without creating extra arrays etc.</p>\n\n<p>Output:</p>\n\n<pre>d f h j n p\nf h j l p r\nr t v x b d</pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1812, "favorite_count": 1, "accepted_answer_id": 29491396, "answer_count": 4, "score": 1, "last_activity_date": 1428425151, "creation_date": 1428408705, "question_id": 29491286, "link": "https://stackoverflow.com/questions/29491286/circular-shift-of-array", "title": "Circular shift of array", "body": "<p>How can I shift a circular array in Perl?</p>\n\n<p>For example,</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dump;\n\nmy $a = [[1], [3], [2], [4]];\nmy $shift_index = 2;\ncirc_shift( $a, $shift_index );\ndd $a;\n</code></pre>\n\n<p>should give output:</p>\n\n<pre><code>[[2], [4], [1], [3]]\n</code></pre>\n\n<p>So <code>$shift_index</code> is the number of positions to shift to the left.</p>\n"}, {"tags": ["perl", "email", "module"], "comments": [{"owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1428408642, "post_id": 29491156, "comment_id": 47141520, "body": "What operating system are you working on? if on Linux/Unix then you could/should be configured fine. If you are on Windows, then you will most likely have to do some extra configuration. Have you tried tutorials like: <a href=\"http://www.tutorialspoint.com/perl/perl_sending_email.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/perl/perl_sending_email.htm</a>?"}, {"owner": {"reputation": 383, "user_id": 4154643, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HA347.png?s=128&g=1", "display_name": "Kabachok", "link": "https://stackoverflow.com/users/4154643/kabachok"}, "reply_to_user": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1428408868, "post_id": 29491156, "comment_id": 47141677, "body": "I am working on OS x. Yes, thank you, I have checked this tutorial but it doesn&#39;t use Mail::Sendmail module. I am still feel stuck as I don&#39;t understand how to configure the sending server"}], "answers": [{"tags": [], "owner": {"reputation": 32631, "user_id": 214577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IEKbS.png?s=128&g=1", "display_name": "Oldskool", "link": "https://stackoverflow.com/users/214577/oldskool"}, "is_accepted": true, "score": 1, "last_activity_date": 1428409271, "creation_date": 1428409271, "answer_id": 29491466, "question_id": 29491156, "link": "https://stackoverflow.com/questions/29491156/sending-an-email-via-perl-script/29491466#29491466", "title": "Sending an email via perl script", "body": "<p>It depends on your environment. If you're running the script on a Linux server, just make sure the <code>sendmail</code> utility is installed (most distributions have it pre-installed). If you're on a non-Linux machine, install a mailserver on it or use an external SMTP server.</p>\n\n<p>Although this specific mail module <a href=\"http://search.cpan.org/~mivkovic/Mail-Sendmail/Sendmail.pm#LIMITATIONS\" rel=\"nofollow\">does not support SMTP authentication</a>, which most external SMTP servers (like Google/Gmail) do require. But if you have a mailserver that does always allow SMTP connections from the machine your Perl script runs on, it can be as simple as:</p>\n\n<pre><code>use Mail::Sendmail qw(sendmail %mailcfg);\n\n%mail = ( To      =&gt; 'you@example.com',\n          From    =&gt; 'me@example.com',\n          Message =&gt; \"Hello world!\"\n);\n\n$mailcfg{smtp} = [qw(smtp.example.com)];\n\nsendmail(%mail) or die $Mail::Sendmail::error;\n</code></pre>\n\n<p>That will set <code>smtp.example.com</code> as e-mail server. (or you can skip that entire line if you <em>do</em> have a localhost mailserver, which is the default).</p>\n"}], "owner": {"reputation": 383, "user_id": 4154643, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HA347.png?s=128&g=1", "display_name": "Kabachok", "link": "https://stackoverflow.com/users/4154643/kabachok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1564, "favorite_count": 0, "accepted_answer_id": 29491466, "answer_count": 1, "score": 0, "last_activity_date": 1428409271, "creation_date": 1428408317, "question_id": 29491156, "link": "https://stackoverflow.com/questions/29491156/sending-an-email-via-perl-script", "title": "Sending an email via perl script", "body": "<p>I am following a course of Perl and have received a task to send myself an email from  perl@perlrocks using <a href=\"http://search.cpan.org/~mivkovic/Mail-Sendmail/Sendmail.pm\" rel=\"nofollow\">Mail::Sendmail</a> module.</p>\n\n<p>Though I have read the documentation, I still don't understand how to do it. For example, I use gmail as my normal email, should I configure gmail as the smpt protocol in the script? Could you please give me a hint on how to start?</p>\n"}, {"tags": ["c++", "qt", "swig", "perl"], "comments": [{"owner": {"reputation": 18971, "user_id": 2674506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvQN8.jpg?s=128&g=1", "display_name": "vahancho", "link": "https://stackoverflow.com/users/2674506/vahancho"}, "edited": false, "score": 1, "creation_date": 1428407746, "post_id": 29490915, "comment_id": 47140928, "body": "Maybe the problem is that the <code>str</code> variable in <code>get_const_string()</code> function is local, and destroys as soon as program goes out of scope? As a result, the pointer to char that the function returns points to a invalidated memory?"}, {"owner": {"reputation": 4556, "user_id": 1269661, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5f3a348bd307a1a2c6ecefb06519ab81?s=128&d=identicon&r=PG", "display_name": "Predelnik", "link": "https://stackoverflow.com/users/1269661/predelnik"}, "reply_to_user": {"reputation": 18971, "user_id": 2674506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvQN8.jpg?s=128&g=1", "display_name": "vahancho", "link": "https://stackoverflow.com/users/2674506/vahancho"}, "edited": false, "score": 0, "creation_date": 1428407966, "post_id": 29490915, "comment_id": 47141064, "body": "What @vahancho said is absolutely true but I would also like to point out that even if <code>str</code> would not be local, object returned by <code>toLocal8bit ()</code> is also temporary so it can&#39;t be used in return statement (<code>constData ()</code> just returns its internals)"}, {"owner": {"reputation": 975, "user_id": 1716427, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/4971be78f4c3e881fbef5e7912cea486?s=128&d=identicon&r=PG", "display_name": "NDestiny", "link": "https://stackoverflow.com/users/1716427/ndestiny"}, "reply_to_user": {"reputation": 18971, "user_id": 2674506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvQN8.jpg?s=128&g=1", "display_name": "vahancho", "link": "https://stackoverflow.com/users/2674506/vahancho"}, "edited": false, "score": 0, "creation_date": 1428408749, "post_id": 29490915, "comment_id": 47141591, "body": "@vahancho and Predelnik  : What could you people suggest then, is there a way ??"}, {"owner": {"reputation": 975, "user_id": 1716427, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/4971be78f4c3e881fbef5e7912cea486?s=128&d=identicon&r=PG", "display_name": "NDestiny", "link": "https://stackoverflow.com/users/1716427/ndestiny"}, "edited": false, "score": 0, "creation_date": 1428468741, "post_id": 29490915, "comment_id": 47169285, "body": "I am facing the same issue even with int also (one more function which returns int), I have tried by returning constant (ex: 10) even then i am not receiving any thing."}], "answers": [{"comments": [{"owner": {"reputation": 975, "user_id": 1716427, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/4971be78f4c3e881fbef5e7912cea486?s=128&d=identicon&r=PG", "display_name": "NDestiny", "link": "https://stackoverflow.com/users/1716427/ndestiny"}, "edited": false, "score": 0, "creation_date": 1428468774, "post_id": 29491933, "comment_id": 47169296, "body": "I am facing the same issue even with int also (one more function which returns int), I have tried by returning constant (ex: 10) even then i am not receiving any thing.  so I think problem is something else."}], "tags": [], "owner": {"reputation": 2332, "user_id": 1571517, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404c91d9654ae84da4199d5a1da6929c?s=128&d=identicon&r=PG", "display_name": "Zaiborg", "link": "https://stackoverflow.com/users/1571517/zaiborg"}, "is_accepted": false, "score": 1, "last_activity_date": 1428410669, "last_edit_date": 1495541603, "creation_date": 1428410669, "answer_id": 29491933, "question_id": 29490915, "link": "https://stackoverflow.com/questions/29490915/not-able-to-return-qstring-from-c-function-to-perl-function-by-using-swig/29491933#29491933", "title": "not able to return QString from c++ function to PERL function by using SWIG", "body": "<p>if you cant use a <code>QString</code> return value, maybe you can use <code>std::string</code>.</p>\n\n<p>if both fail and you do not have limitations, you could do some dirty trick:</p>\n\n<pre><code>QString get_string()\n{\n  static QByteArray arr;\n  QString str = getString();\n  arr = str.toLocal8Bit();\n  return arr.constData();\n}\n</code></pre>\n\n<p>note that the <code>arr</code> variable will not be free'd untill your app is running</p>\n\n<p>edit: found a possible solution to just use <code>std::string</code> ... <a href=\"https://stackoverflow.com/questions/12236150/string-arguments-are-not-recognized-by-swig\">string arguments are not recognized by SWIG</a></p>\n"}], "owner": {"reputation": 975, "user_id": 1716427, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/4971be78f4c3e881fbef5e7912cea486?s=128&d=identicon&r=PG", "display_name": "NDestiny", "link": "https://stackoverflow.com/users/1716427/ndestiny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428410669, "creation_date": 1428407477, "question_id": 29490915, "link": "https://stackoverflow.com/questions/29490915/not-able-to-return-qstring-from-c-function-to-perl-function-by-using-swig", "title": "not able to return QString from c++ function to PERL function by using SWIG", "body": "<p>I have c++ code (Includes Qt also), i want to call those functions by using Perl.\nWhich we can do by using SWIG, so I have implemented interfaces and did all the stuff need to use them in Perl script.</p>\n\n<p>I have a function in c++ which returns a QString value, </p>\n\n<pre><code>QString get_string()\n{\n  return QString(\"mystring\");\n}\n</code></pre>\n\n<p>I have written one more class which will be used in perl script where i have a function which calls this get_string() function and returns const char*.</p>\n\n<pre><code>const char* get_const_string()\n{\n   QString str = get_string();\n\n **//here I print str and str .toLocal8Bit().constData()\n //both are printing the text which i shoud get here**\n\n   return str.toLocal8Bit().constData();\n\n   //here I have tried diff combinations also, as \n   // return str.toStdString().c_str();\n}\n</code></pre>\n\n<p>The problem is, in  get_const_string() function, I could get the string I wanted, but when I call this function in my perl script, I am getting undefine value i.e <strong>null string</strong></p>\n\n<p>. </p>\n\n<p>Any idea, what is the problem here ??</p>\n\n<p>I am using perl5, Qt4.8.4</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "filehandle"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1428402221, "post_id": 29489093, "comment_id": 47137571, "body": "Do all lines look like  <code>&lt;01 line1 </code> or is it just some of them?"}, {"owner": {"reputation": 13, "user_id": 4757859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/479ac928f270d18da2e97265a0d1bce8?s=128&d=identicon&r=PG&f=1", "display_name": "Paeseitje", "link": "https://stackoverflow.com/users/4757859/paeseitje"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1428404559, "post_id": 29489093, "comment_id": 47139026, "body": "Yes all lines look like &lt;01 line1"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4757859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/479ac928f270d18da2e97265a0d1bce8?s=128&d=identicon&r=PG&f=1", "display_name": "Paeseitje", "link": "https://stackoverflow.com/users/4757859/paeseitje"}, "edited": false, "score": 0, "creation_date": 1428405537, "post_id": 29489921, "comment_id": 47139623, "body": "thank you so much! There is still 1 minor glitch. The second &#39;&gt;&#39; is not replaced by a &#39;_&#39; in spite of the s/&gt;/_/; What could be the reason?"}, {"owner": {"reputation": 13, "user_id": 4757859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/479ac928f270d18da2e97265a0d1bce8?s=128&d=identicon&r=PG&f=1", "display_name": "Paeseitje", "link": "https://stackoverflow.com/users/4757859/paeseitje"}, "edited": false, "score": 0, "creation_date": 1428406241, "post_id": 29489921, "comment_id": 47140021, "body": "Found it, there&#39;s a &#39;&lt;&#39; in stead of a &#39;&gt;&#39;, I looked over it. Thanks again!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1428404293, "creation_date": 1428404293, "answer_id": 29489921, "question_id": 29489093, "link": "https://stackoverflow.com/questions/29489093/perl-iterating-through-each-line-in-a-file-and-and-appending-to-the-end-of-each/29489921#29489921", "title": "Perl iterating through each line in a file and and appending to the end of each line in another file - follow up", "body": "<p>You can store the id and seq of the first file in an array of arrays.</p>\n\n<p>You also have to replace the <code>&lt;</code> in the second file with <code>_</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $LEFT,  '&lt;', 'file1.fasta' or die \"Can't open file1: $!\";\nopen my $RIGHT, '&lt;', 'file2.fasta' or die \"Can't open file2: $!\";\nopen my $OUT,   '&gt;', 'file3.fasta' or die \"Cannot write: $!\";\n\nmy @left;\nwhile (&lt;$LEFT&gt;) {\n    chomp;\n    push @left, [ split /\\t/ ];\n}\n\nwhile (&lt;$RIGHT&gt;) {\n    chomp;\n    my ($id, $seq) = split /\\t/;\n    $id =~ s/&lt;/_/;\n    print {$OUT} \"$_-&gt;[0]$id\\t$_-&gt;[1]$seq\\n\" for @left;\n}\nclose $OUT or die \"Cannot close: $!\";\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4757859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/479ac928f270d18da2e97265a0d1bce8?s=128&d=identicon&r=PG&f=1", "display_name": "Paeseitje", "link": "https://stackoverflow.com/users/4757859/paeseitje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 29489921, "answer_count": 1, "score": 1, "last_activity_date": 1428404293, "creation_date": 1428401571, "last_edit_date": 1495539807, "question_id": 29489093, "link": "https://stackoverflow.com/questions/29489093/perl-iterating-through-each-line-in-a-file-and-and-appending-to-the-end-of-each", "title": "Perl iterating through each line in a file and and appending to the end of each line in another file - follow up", "body": "<p>I have a follow up question regarding an ealier post. \nThe post in question is: \n<a href=\"https://stackoverflow.com/questions/14729519/perl-iterating-through-each-line-in-a-file-and-and-appending-to-the-end-of-each\">Perl iterating through each line in a file and appending to the end of each line in another file</a></p>\n\n<p>I used:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen my $animals, '&lt;', 'File1.txt' or die \"Can't open animals: $!\";\nopen my $payloads, '&lt;', 'File2.txt' or die \"Can't open payloads: $!\";\n\nmy @payloads = &lt;$payloads&gt;;   #each line of the file into an array\nclose $payloads or die \"Can't close payloads: $!\";\n\nwhile (my $line = &lt;$animals&gt;) {\n    chomp $line;\n    print $line.$_ foreach (@payloads);\n}\nclose $animals or die \"Can't close animals: $!\";\n</code></pre>\n\n<p>This works fine for files that look like this:</p>\n\n<pre><code>file 1:     file 2:\nline1       lineA\nline2       lineB\nline3       lineC\n</code></pre>\n\n<p>but not for files that look like this:</p>\n\n<pre><code>&lt;01 line1\n&lt;02 line2\n</code></pre>\n\n<p>So what I want to do is the following:</p>\n\n<pre><code>file 1:              file 2:\n&lt;01 line1            &lt;AA lineAA\n&lt;02 line2            &lt;AB lineAB\n</code></pre>\n\n<p>should become:</p>\n\n<pre><code>file 3:\n&lt;01_AA line1lineAA\n&lt;01_AB line1lineAB\n&lt;02_AA line2lineAA\n&lt;02_AB line2lineAB\n</code></pre>\n\n<p>I have tried to solve it by splitting the strings on the tab using while loops in while loops (see below), but I cannot get it to work.</p>\n\n<p>my script: </p>\n\n<pre><code>#!C:/perl64/bin/perl.exe\n\nuse warnings;\nuse strict;\n\n\nopen my $file1, '&lt;', 'file1.fasta' or die \"Can't open file1: $!\";\nopen my $file2, '&lt;', 'file2.fasta' or die \"Can't open file2:     $!\";\nopen(OUT, '&gt;', 'file3.fasta') or die \"Cannot write $!\";\n\n\n\nwhile (&lt;$file2&gt;)\n{\n    chomp;\n    my ($F2_Id, @SF2_seq) = split (/\\t/, $_);\n\n     while (&lt;$file1&gt;)\n        {\n            chomp;\n            my ($F1_Id, @F1_seq) = split (/\\t/, $_);\n            foreach my $seq (@F1_seq)\n                {\n                    print OUT $F1_Id,\"_\",$F2_Id,\"\\t\",$seq.$_ foreach (@F2_seq),\"\\n\";\n                }\n            close;\n        }\n}\n</code></pre>\n\n<p>I started with perl just recently so I can imagine that there are a lot of faults in the script.</p>\n\n<p>I'm sorry for the really long post, but I would appriciate any help.</p>\n"}, {"tags": ["mysql", "perl"], "answers": [{"comments": [{"owner": {"reputation": 4041, "user_id": 232452, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/55f58b4080c3800065275a6f45c2f02c?s=128&d=identicon&r=PG", "display_name": "kbro", "link": "https://stackoverflow.com/users/232452/kbro"}, "edited": false, "score": 0, "creation_date": 1428403089, "post_id": 29488627, "comment_id": 47138071, "body": "Looks like wait_timeout did the damage.  28800 secs = 8 hours and over Easter Sunday/Bank Holiday Monday the SNMP trap daemon stopped receiving traps, so the DB connection timed out.  Before that, it looks like there was never an 8-hour break in trap messages."}], "tags": [], "owner": {"reputation": 151870, "user_id": 1501794, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/VyUv5.jpg?s=128&g=1", "display_name": "Rahul Tripathi", "link": "https://stackoverflow.com/users/1501794/rahul-tripathi"}, "is_accepted": true, "score": 4, "last_activity_date": 1428400132, "creation_date": 1428400132, "answer_id": 29488627, "question_id": 29488583, "link": "https://stackoverflow.com/questions/29488583/is-there-a-mysql-connection-time-limit/29488627#29488627", "title": "Is there a mySQL connection time limit?", "body": "<p>Yes it is 28800 seconds</p>\n\n<pre><code>connect_timeout=28800\nwait_timeout=28800\ninteractive_timeout=28800\n</code></pre>\n\n<p>You can set the values in <code>/etc/my.cnf</code></p>\n\n<p>If you want to change it then you have to run this query:</p>\n\n<pre><code>SET GLOBAL interactive_timeout = 100;  //Change it if you want\nSET GLOBAL wait_timeout = 100;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4041, "user_id": 232452, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/55f58b4080c3800065275a6f45c2f02c?s=128&d=identicon&r=PG", "display_name": "kbro", "link": "https://stackoverflow.com/users/232452/kbro"}, "edited": false, "score": 0, "creation_date": 1428403253, "post_id": 29488773, "comment_id": 47138188, "body": "Sound advice.  I&#39;ll add the check/reconnect code to my trap handler.  The only reason I haven&#39;t flagged yours as the &quot;accepted&quot; answer is that you haven&#39;t directly answered the question of whether there&#39;s a timeout."}], "tags": [], "owner": {"reputation": 17349, "user_id": 1951708, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/uUTYl.jpg?s=128&g=1", "display_name": "Lorenz Meyer", "link": "https://stackoverflow.com/users/1951708/lorenz-meyer"}, "is_accepted": false, "score": 4, "last_activity_date": 1428400598, "creation_date": 1428400598, "answer_id": 29488773, "question_id": 29488583, "link": "https://stackoverflow.com/questions/29488583/is-there-a-mysql-connection-time-limit/29488773#29488773", "title": "Is there a mySQL connection time limit?", "body": "<p>If a service needs a database connection, the best is to check in the main loop or before each query if the connection is still available. </p>\n\n<p>If the connection is no longer available or if it doesn't work anymore, you can close it properly and reconnect. </p>\n\n<p>This way, the deamon continues to work even if the database server is temporarily unavailable. For instance, the service will continue to work even if the database server restarts. </p>\n"}, {"comments": [{"owner": {"reputation": 4041, "user_id": 232452, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/55f58b4080c3800065275a6f45c2f02c?s=128&d=identicon&r=PG", "display_name": "kbro", "link": "https://stackoverflow.com/users/232452/kbro"}, "edited": false, "score": 0, "creation_date": 1428438889, "post_id": 29490286, "comment_id": 47160069, "body": "Neat!  That&#39;ll save me having to put in the code to detect a drop just so I can reconnect :-)"}], "tags": [], "owner": {"reputation": 582, "user_id": 2377532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90f6f7e9be3d3d2276fc40984e9e3271?s=128&d=identicon&r=PG", "display_name": "dennis", "link": "https://stackoverflow.com/users/2377532/dennis"}, "is_accepted": false, "score": 3, "last_activity_date": 1428405406, "creation_date": 1428405406, "answer_id": 29490286, "question_id": 29488583, "link": "https://stackoverflow.com/questions/29488583/is-there-a-mysql-connection-time-limit/29490286#29490286", "title": "Is there a mySQL connection time limit?", "body": "<p>Not exactly an answer to your question but you can handle lost db connections without altering a timeout or checking the connection before each query.</p>\n\n<p>If you access MySQL databases with DBI you can set the flag <code>mysql_auto_reconnect</code> ( see <a href=\"http://search.cpan.org/~capttofu/DBD-mysql-4.025/lib/DBD/mysql.pm#DATABASE_HANDLES\" rel=\"nofollow\">DBD::mysql</a> )</p>\n\n<blockquote>\n  <p>This attribute determines whether DBD::mysql will automatically reconnect to mysql if the connection be lost. This feature defaults to off; [..]\n  Setting mysql_auto_reconnect to on is not advised if 'lock tables' is used because if DBD::mysql reconnect to mysql all table locks will be lost.</p>\n</blockquote>\n\n<p>Example: </p>\n\n<pre><code>  my $dbh = DBI-&gt;connect(\n    $host,\n    $user,\n    $password,\n    {    \n        mysql_auto_reconnect =&gt; 1                                            \n    }    \n  )  or die(\"DB connect failed: : $DBI::errstr\");\n</code></pre>\n"}], "owner": {"reputation": 4041, "user_id": 232452, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/55f58b4080c3800065275a6f45c2f02c?s=128&d=identicon&r=PG", "display_name": "kbro", "link": "https://stackoverflow.com/users/232452/kbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7012, "favorite_count": 0, "accepted_answer_id": 29488627, "answer_count": 3, "score": 4, "last_activity_date": 1428405406, "creation_date": 1428399981, "question_id": 29488583, "link": "https://stackoverflow.com/questions/29488583/is-there-a-mysql-connection-time-limit", "title": "Is there a mySQL connection time limit?", "body": "<p>I'm using Net-SNMP on an Ubuntu 14.04 server to capture SNMP traps in snmptrapd, which I've set up (using \"perl do '/path/to/traphandler.pl'\" in the /etc/snmp/snmptrapd.conf) to call a Perl::DBI script to insert data into a mySQL database.  Everything has been running fine since 16th March, then about 9am yesterday (6th April - Bank Holiday - typical) the database updates stopped, though the syslog shows that the traps were still coming in.</p>\n\n<p>I can't see anything obvious in /var/log, so I'm wondering whether the database connection simply expired and closed.  Does that happen?  I stopped and restarted snmptrapd and it all started working again, which makes me think that was the cause.  How would I check?</p>\n"}, {"tags": ["perl", "soap", "wsdl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1428397838, "post_id": 29487745, "comment_id": 47134930, "body": "<a href=\"http://p3rl.org/SOAP::Lite\" rel=\"nofollow noreferrer\">SOAP::Lite</a>, <a href=\"http://p3rl.org/XML::Compile\" rel=\"nofollow noreferrer\">XML::Compile</a>"}, {"owner": {"reputation": 150, "user_id": 2956488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vMacM.jpg?s=128&g=1", "display_name": "Fotis_zzz", "link": "https://stackoverflow.com/users/2956488/fotis-zzz"}, "edited": false, "score": 0, "creation_date": 1428398954, "post_id": 29487745, "comment_id": 47135612, "body": "Try <a href=\"http://search.cpan.org/~swalters/SOAP-WSDL-3.003/lib/SOAP/WSDL.pm\" rel=\"nofollow noreferrer\">SOAP::WSDL</a>.Very usefull and easy to use."}, {"owner": {"reputation": 231, "user_id": 4738153, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eb97fb1106021b914f22c3b8ba578620?s=128&d=identicon&r=PG&f=1", "display_name": "palyxk", "link": "https://stackoverflow.com/users/4738153/palyxk"}, "edited": false, "score": 0, "creation_date": 1428399124, "post_id": 29487745, "comment_id": 47135727, "body": "I thought that SOAP::WSDL is obsolete ... maybe i misread it."}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 2402496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98903e30d047b0bcc08a0c595a35b36f?s=128&d=identicon&r=PG", "display_name": "arafeandur", "link": "https://stackoverflow.com/users/2402496/arafeandur"}, "is_accepted": false, "score": 0, "last_activity_date": 1446753377, "creation_date": 1446753377, "answer_id": 33553629, "question_id": 29487745, "link": "https://stackoverflow.com/questions/29487745/how-do-i-create-a-soap-request-directly-by-parsing-the-wsdl-file/33553629#33553629", "title": "How do I create a SOAP request directly by parsing the WSDL file?", "body": "<p>I would recommend <a href=\"http://search.cpan.org/~markov/XML-Compile-WSDL11-3.04/lib/XML/Compile/WSDL11.pod#Initializing_SOAP_operations_via_WSDL\" rel=\"nofollow\">XML::Compile::WSDL11</a></p>\n\n<p>From the docs:</p>\n\n<pre><code>use XML::Compile::WSDL11 (); \n\n# once in your program\nmy $wsdl   = XML::Compile::WSDL11-&gt;new('def.wsdl');\n\n# XML::Compile::Schema refuses to follow \"include\" and\n# \"import\" commands, so you need to invoke them explicitly.\n# $wsdl-&gt;addWSDL('file2.wsdl');            # optional\n# $wsdl-&gt;importDefinitions('schema1.xsd'); # optional\n\n# once for each of the defined operations\nmy $call   = $wsdl-&gt;compileClient('GetStockPrice');\n\n# see XML::Compile::SOAP chapter DETAILS about call params\nmy $answer = $call-&gt;(%request);\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 4738153, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eb97fb1106021b914f22c3b8ba578620?s=128&d=identicon&r=PG&f=1", "display_name": "palyxk", "link": "https://stackoverflow.com/users/4738153/palyxk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 882, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1446753377, "creation_date": 1428397451, "last_edit_date": 1428416190, "question_id": 29487745, "link": "https://stackoverflow.com/questions/29487745/how-do-i-create-a-soap-request-directly-by-parsing-the-wsdl-file", "title": "How do I create a SOAP request directly by parsing the WSDL file?", "body": "<p>I was tasked to create Perl scripts which can create an XML payload with supplied parameters and invoke a SOAP call, then read the response and parse parameters to provide for the next use. I am pretty new at SOAP messaging.</p>\n\n<p>I have a WSDL file based on which I am able to manually create an XML SOAP message, but I do not think this is the right way how to do it. I also do not understand how to invoke a SOAP call. Yes, I can read the documentation and I have read it a couple of times, but I want to ask if there is possibility to create a SOAP request directly by parsing the WSDL file. What are the possibilities for this topic?</p>\n\n<p>I only have a description or pseudocode for what it should do and I am quite new at SOAP/Web services. Do you have any link to what could be useful for me?</p>\n"}, {"tags": ["perl", "parameters"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1428393985, "post_id": 29486704, "comment_id": 47132861, "body": "<code>my $name_of_log=&quot;&#47;usr&#47;log&#47;$country&#47;hello.log&quot;;</code> should do it. Your example doesn&#39;t work because <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">single quotes mean no interpolation</a>."}], "answers": [{"tags": [], "owner": {"reputation": 767708, "user_id": 14860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vXG1F.png?s=128&g=1", "display_name": "paxdiablo", "link": "https://stackoverflow.com/users/14860/paxdiablo"}, "is_accepted": true, "score": 0, "last_activity_date": 1428394235, "creation_date": 1428394235, "answer_id": 29486837, "question_id": 29486704, "link": "https://stackoverflow.com/questions/29486704/perl-use-argument-to-create-path/29486837#29486837", "title": "Perl use argument to create path", "body": "<p>Something like this should do:</p>\n\n<pre><code>my $name_of_log = \"/usr/log/\" . $country . \"/hello.log';\n</code></pre>\n\n<p>Of course, you may want to run some sanity checks on it, such as ensuring it's not able to \"escape\" from the <code>/usr/log</code> area by using <code>..</code>, for example.</p>\n"}], "owner": {"reputation": 1, "user_id": 4757740, "user_type": "registered", "profile_image": "https://graph.facebook.com/645755345556918/picture?type=large", "display_name": "Lara", "link": "https://stackoverflow.com/users/4757740/lara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 29486837, "answer_count": 1, "score": 0, "last_activity_date": 1428394235, "creation_date": 1428393821, "last_edit_date": 1428393923, "question_id": 29486704, "link": "https://stackoverflow.com/questions/29486704/perl-use-argument-to-create-path", "title": "Perl use argument to create path", "body": "<p>I am given a parameter while the Perl script is called and I would like to use that parameter to create a path for my logs.</p>\n\n<p>I call the Perl script like this:</p>\n\n<pre><code>./hello.pl GERMANY\n</code></pre>\n\n<p>And I would like to use the first parameter to create the log path, something like this:</p>\n\n<pre><code>my $country= shift @ARGV;\nmy $name_of_log='/usr/log/{$country}/hello.log';\n</code></pre>\n\n<p>How would I go about doing this in Perl?</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1428389697, "post_id": 29485007, "comment_id": 47130693, "body": "Please show an example of the input data and the desired output and the current output.  You probably only need 3-5 lines of data.  You can always create a string (replace your <code>print</code> with <code>my $output =</code>), then map all the newlines into spaces (<code>$string =~ tr&#47;\\n&#47; &#47;;</code>), and finally print that (<code>print &quot;$string\\n&quot;;</code>).  I&#39;m suspicious, though, that it isn&#39;t what you actually want."}, {"owner": {"reputation": 23, "user_id": 4613382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba341e8955d0914d1081288877f5553a?s=128&d=identicon&r=PG&f=1", "display_name": "Mufaria Razak", "link": "https://stackoverflow.com/users/4613382/mufaria-razak"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1428394658, "post_id": 29485007, "comment_id": 47133198, "body": "INPUT :1,2d0 &lt; OLAPTABLEVELTUPLES|ID|OLAPTABLEVELSSEL| &lt; AW$AWCREATE10G|GEN#|AWCREATE10G_I$| OUTPUT:"}, {"owner": {"reputation": 23, "user_id": 4613382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba341e8955d0914d1081288877f5553a?s=128&d=identicon&r=PG&f=1", "display_name": "Mufaria Razak", "link": "https://stackoverflow.com/users/4613382/mufaria-razak"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1428394710, "post_id": 29485007, "comment_id": 47133221, "body": "OUTPUT:1st column |2nd |3rd|dropped|2nd |3rd"}, {"owner": {"reputation": 3923, "user_id": 3640699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NxDM0.jpg?s=128&g=1", "display_name": "Karthikeyan.R.S", "link": "https://stackoverflow.com/users/3640699/karthikeyan-r-s"}, "edited": false, "score": 0, "creation_date": 1428398506, "post_id": 29485007, "comment_id": 47135310, "body": "can you post your content of <code>diff_out</code> ?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1428400560, "post_id": 29485007, "comment_id": 47136579, "body": "Using the shell (and a <a href=\"http://iki.fi/era/unix/award.html\" rel=\"nofollow noreferrer\">useless <code>cat</code></a> to boot) to split a line from within Perl is just insane."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1428419677, "post_id": 29485007, "comment_id": 47148964, "body": "Please edit example data into the question where you can format it so that it is legible, rather than trying to place it in a comment where it is illegible."}], "answers": [{"tags": [], "owner": {"reputation": 3923, "user_id": 3640699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NxDM0.jpg?s=128&g=1", "display_name": "Karthikeyan.R.S", "link": "https://stackoverflow.com/users/3640699/karthikeyan-r-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1428399848, "last_edit_date": 1428399848, "creation_date": 1428399177, "answer_id": 29488329, "question_id": 29485007, "link": "https://stackoverflow.com/questions/29485007/i-need-to-print-it-in-a-single-line/29488329#29488329", "title": "I need to print it in a single line", "body": "<p>You need to use the <code>chomp</code> operator for every variable to skip the new line character in that.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $table_name=`cat diff_out|cut -d \"|\" -f1`;\nchomp($table_name);\nmy $col_name=`cat diff_out|cut -d \"|\" -f2`;\nchomp($col_name);\nmy $index_name=`cat diff_out|cut -d \"|\" -f3`; \nchomp($index_name);                               \nprint \"$table_name |$col_name |$index_name |DROPPED|$col_name|$index_name\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>OLAPTABLEVELTUPLES |ID |OLAPTABLEVELSSEL |DROPPED|ID|OLAPTABLEVELSSEL\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4613382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba341e8955d0914d1081288877f5553a?s=128&d=identicon&r=PG&f=1", "display_name": "Mufaria Razak", "link": "https://stackoverflow.com/users/4613382/mufaria-razak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428399848, "creation_date": 1428387445, "last_edit_date": 1428388660, "question_id": 29485007, "link": "https://stackoverflow.com/questions/29485007/i-need-to-print-it-in-a-single-line", "title": "I need to print it in a single line", "body": "<p>I'm writing a script in <code>perl wfor</code> which I'm using unix commands.I need to print the output of this commands in a single line in perl.</p>\n\n<pre><code>$table_name=`cat diff_out|cut -d \"|\" -f1`;\n$col_name=`cat diff_out|cut -d \"|\" -f2`;\n$index_name=`cat diff_out|cut -d \"|\" -f3`;\nprint \"$table_name |$col_name |$index_name |DROPPED|$col_name|$index_name\";\n</code></pre>\n\n<p>I'm getting output one below the other. I want it in one line.</p>\n"}, {"tags": ["perl", "excel-formula", "spreadsheet", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "edited": false, "score": 0, "creation_date": 1428393922, "post_id": 29486562, "comment_id": 47132835, "body": "thanks for the reply, but i want something tht works with write_row() function and avoid formula errors."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1428393316, "creation_date": 1428393316, "answer_id": 29486562, "question_id": 29484791, "link": "https://stackoverflow.com/questions/29484791/error-while-writing-with-write-row-using-spreadsheetwriteexcel/29486562#29486562", "title": "error while writing with write_row using Spreadsheet::WriteExcel", "body": "<p>Look at the <a href=\"http://search.cpan.org/dist/Spreadsheet-WriteExcel/lib/Spreadsheet/WriteExcel.pm#DIAGNOSTICS\" rel=\"nofollow\">DIAGNOSTICS</a> section of  <a href=\"http://search.cpan.org/dist/Spreadsheet-WriteExcel/lib/Spreadsheet/WriteExcel.pm\" rel=\"nofollow\">Spreadsheet::WriteExcel</a> module document, it states that:</p>\n\n<p><strong>Couldn't parse formula ...</strong></p>\n\n<blockquote>\n  <p>There are a large number of warnings which relate to badly formed formulas and functions. See the <a href=\"http://search.cpan.org/dist/Spreadsheet-WriteExcel/lib/Spreadsheet/WriteExcel.pm#FORMULAS_AND_FUNCTIONS_IN_EXCEL\" rel=\"nofollow\">\"FORMULAS AND FUNCTIONS IN EXCEL\"</a> section for suggestions on how to avoid these errors. You should also check the formula in Excel to ensure that it is valid.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "is_accepted": false, "score": 1, "last_activity_date": 1429739836, "creation_date": 1429739836, "answer_id": 29809651, "question_id": 29484791, "link": "https://stackoverflow.com/questions/29484791/error-while-writing-with-write-row-using-spreadsheetwriteexcel/29809651#29809651", "title": "error while writing with write_row using Spreadsheet::WriteExcel", "body": "<p>If you just want an equal sign in that cell and you can live with a little leading white space this will poke a '=' into that row without a formula error:</p>\n\n<pre><code>my @data = ('1','1', ' = ', \"testdata\");\n</code></pre>\n\n<p>Works in LibreOffice Calc too.</p>\n\n<p>I'm curious how you intend using that = operator in the SS?  Can you build a dynamic Excel formula by dereferencing a cell with an operator in it?  Me not an Excel expert :-)</p>\n"}], "owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1429739836, "creation_date": 1428386392, "question_id": 29484791, "link": "https://stackoverflow.com/questions/29484791/error-while-writing-with-write-row-using-spreadsheetwriteexcel", "title": "error while writing with write_row using Spreadsheet::WriteExcel", "body": "<p>I am using <a href=\"http://search.cpan.org/~jmcnamara/Spreadsheet-WriteExcel-2.40/lib/Spreadsheet/WriteExcel.pm\" rel=\"nofollow\">Spreadsheet::WriteExcel</a> to write data into excel. <br> for each row I have used <strong>write_row().</strong> <br>\nWhen I try to write row having data (=) it throws an error saying:<strong><em>Couldn't parse formula: =</em></strong> ,since excel consider it as formula.<br>\nI need to write data using array as one row only so is there any way out to do the same? <br><br> \nBelow is the code snippets: <br> </p>\n\n<pre><code>use Spreadsheet::WriteExcel;\nmy $workbook  = Spreadsheet::WriteExcel-&gt;new(\"../tmp/op.xls\");\nmy $worksheet = $workbook-&gt;add_worksheet();\nmy @data = ('1','1','=',\"testdata\");\n$worksheet-&gt;write_row(\"A1\", \\@data);         \n$workbook-&gt;close();\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Couldn't parse formula: = at \n</code></pre>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1428362811, "post_id": 29481198, "comment_id": 47123155, "body": "The work around is to split the string with your pattern, but if you hope to use the parts for a replacement string you can&#39;t do that. you can use capturing groups instead: <code>(.*?)yourpattern(.*)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 2501079, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4d4fecf0f4bfdf925649c873cfcd1a03?s=128&d=identicon&r=PG", "display_name": "Lotfus", "link": "https://stackoverflow.com/users/2501079/lotfus"}, "edited": false, "score": 0, "creation_date": 1428363106, "post_id": 29481306, "comment_id": 47123242, "body": "Thanks for your answer. But I omitted to say that I want to use the said operations in a lexer, so I don&#39;t know exactly when to split a string although the grammar is finite and unambiguous"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 47, "user_id": 2501079, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4d4fecf0f4bfdf925649c873cfcd1a03?s=128&d=identicon&r=PG", "display_name": "Lotfus", "link": "https://stackoverflow.com/users/2501079/lotfus"}, "edited": false, "score": 0, "creation_date": 1428363209, "post_id": 29481306, "comment_id": 47123271, "body": "what do you mean by said operations? is this won&#39;t satisfy your needs then provide an example along with expected output."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1428371247, "last_edit_date": 1428371247, "creation_date": 1428362884, "answer_id": 29481306, "question_id": 29481198, "link": "https://stackoverflow.com/questions/29481198/equivalent-perl-regex-in-python/29481306#29481306", "title": "Equivalent perl Regex in python", "body": "<p>Just use <code>re.split</code> command to split the input according to a particular regex and then get the string before the match from index 0 of returned list and the string after the match from index 1.</p>\n\n<pre><code>&gt;&gt;&gt; word = 'foo'\n&gt;&gt;&gt; re.split(re.escape(word), 'barfoobuz', maxsplit=1)\n['bar', 'buz']\n</code></pre>\n\n<p>By adding <code>maxsplit=1</code> parameter, the above <code>re.split</code> function will do splitting only one time according to the characters which matches the given pattern.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1428372667, "last_edit_date": 1428372667, "creation_date": 1428372264, "answer_id": 29482531, "question_id": 29481198, "link": "https://stackoverflow.com/questions/29481198/equivalent-perl-regex-in-python/29482531#29482531", "title": "Equivalent perl Regex in python", "body": "<p>If you collect a <code>MatchObject</code> from the result of a <code>search</code> operation, you can use its contents to build the equivalent substrings to Perl's <code>$`</code>  and <code>$'</code></p>\n\n<p>Like this</p>\n\n<pre><code>import re\n\nss = '123/abc'\n\nmatch = re.search('/', ss)\n\nprint ss[:match.start()]\nprint match.group()\nprint ss[match.end():]\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>123\n/\nabc\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 2501079, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4d4fecf0f4bfdf925649c873cfcd1a03?s=128&d=identicon&r=PG", "display_name": "Lotfus", "link": "https://stackoverflow.com/users/2501079/lotfus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 29482531, "answer_count": 2, "score": 0, "last_activity_date": 1428372667, "creation_date": 1428362092, "question_id": 29481198, "link": "https://stackoverflow.com/questions/29481198/equivalent-perl-regex-in-python", "title": "Equivalent perl Regex in python", "body": "<p>Perl uses $` to return everything before the matched string and $' to return everything after the matched string. I was wondering if there is something similar in python or any work around to get it. Thanks  </p>\n"}, {"tags": ["perl", "math", "binary", "decimal", "inexact-arithmetic"], "comments": [{"owner": {"reputation": 1343, "user_id": 1423189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46bad9390779f986b0a9a32b8fdfc02a?s=128&d=identicon&r=PG", "display_name": "schulwitz", "link": "https://stackoverflow.com/users/1423189/schulwitz"}, "edited": false, "score": 0, "creation_date": 1428371320, "post_id": 29480821, "comment_id": 47125341, "body": "Trying &quot;use bignum&quot; at the top of my script, which makes numbers that are Math::BigFloat objects solved this problem for me."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1428398841, "post_id": 29480821, "comment_id": 47135531, "body": "(Answering in a comment because question was closed as a duplicate.) Yes, it is possible to predict when floating-point anomalies will occur, because the IEEE floating-point representation is deterministic."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1428419912, "post_id": 29480821, "comment_id": 47149105, "body": "And, <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">Goldberg</a> goes through the nitty-gritty of figuring out the errors."}], "answers": [{"comments": [{"owner": {"reputation": 28567, "user_id": 815724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a514cd424088a3ba3012f5d77f2e334?s=128&d=identicon&r=PG", "display_name": "Peter O.", "link": "https://stackoverflow.com/users/815724/peter-o"}, "edited": false, "score": 0, "creation_date": 1429625647, "post_id": 29480859, "comment_id": 47679813, "body": "The point made there, though, is true even if we&#39;re dealing with, say, using a decimal number format to represent decimal numbers that exceed that format&#39;s precision.  In this case, assuming the decimal number is finite precision, all that&#39;s needed is to raise the precision of the decimal number format. The question, in contrast, is saying that some x-ary numbers with a finite precision can&#39;t be represented using a y-ary format of any finite precision (which will be the case if x is 10 and y is 2)."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 28567, "user_id": 815724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a514cd424088a3ba3012f5d77f2e334?s=128&d=identicon&r=PG", "display_name": "Peter O.", "link": "https://stackoverflow.com/users/815724/peter-o"}, "edited": false, "score": 0, "creation_date": 1429625970, "post_id": 29480859, "comment_id": 47680092, "body": "Actually, this question is interesting because the problem only visible with one specific value, and cannot be observed if one uses C&#39;s or Perl&#39;s <code>printf</code> ... Only if you print the result of a particular operation using Perl&#39;s <code>print</code> can the consequences of 0.1 not being exactly representable, and the relative magnitudes of the operands becomes a visible issue. The quotation in my answer is meant to be a lead-in to direct the reader to a detailed discussion of floating point rather than re-hashing everything here."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 5, "last_activity_date": 1428365600, "last_edit_date": 1592644375, "creation_date": 1428360044, "answer_id": 29480859, "question_id": 29480821, "link": "https://stackoverflow.com/questions/29480821/is-it-possible-to-predict-when-perls-decimal-float-math-will-be-wrong/29480859#29480859", "title": "Is it possible to predict when Perl&#39;s decimal/float math will be wrong?", "body": "<p>None of this is Perl specific. See <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">Goldberg</a>:</p>\n<blockquote>\n<h3>Rounding Error</h3>\n<p>Squeezing infinitely many real numbers into a finite number of bits requires an approximate representation. Although there are infinitely many integers, in most programs the result of integer computations can be stored in 32 bits. In contrast, <strong>given any fixed number of bits, most calculations with real numbers will produce quantities that cannot be exactly represented using that many bits.</strong> Therefore the result of a floating-point calculation must often be rounded in order to fit back into its finite representation. This rounding error is the characteristic feature of floating-point computation. The section Relative Error and Ulps describes how it is measured.</p>\n<p>Since most floating-point calculations have rounding error anyway, does it matter if the basic arithmetic operations introduce a little bit more rounding error than necessary? That question is a main theme throughout this section. The section Guard Digits discusses guard digits, a means of reducing the error when subtracting two nearby numbers. Guard digits were considered sufficiently important by IBM that in 1968 it added a guard digit to the double precision format in the System/360 architecture (single precision already had a guard digit), and retrofitted all existing machines in the field. Two examples are given to illustrate the utility of guard digits.</p>\n<p>The IEEE standard goes further than just requiring the use of a guard digit. It gives an algorithm for addition, subtraction, multiplication, division and square root, and requires that implementations produce the same result as that algorithm. Thus, when a program is moved from one machine to another, the results of the basic operations will be the same in every bit if both machines support the IEEE standard. This greatly simplifies the porting of programs. Other uses of this precise specification are given in Exactly Rounded Operations.</p>\n</blockquote>\n"}], "owner": {"reputation": 1343, "user_id": 1423189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46bad9390779f986b0a9a32b8fdfc02a?s=128&d=identicon&r=PG", "display_name": "schulwitz", "link": "https://stackoverflow.com/users/1423189/schulwitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "closed_date": 1428370797, "accepted_answer_id": 29480859, "answer_count": 1, "score": -2, "last_activity_date": 1428365600, "creation_date": 1428359808, "question_id": 29480821, "link": "https://stackoverflow.com/questions/29480821/is-it-possible-to-predict-when-perls-decimal-float-math-will-be-wrong", "closed_reason": "Duplicate", "title": "Is it possible to predict when Perl&#39;s decimal/float math will be wrong?", "body": "<p>In one respect, I understand that Perl's floats are inexact binary representations, which causes Perl's math to sometimes be wrong.  What I don't understand, is why sometimes these floats seem to give exact answers, and other times, not.  <strong>Is it possible to predict when Perl's float math will give the wrong (i.e. inexact answer)?</strong></p>\n\n<p>For instance, in the below code, Perl's math is wrong 1 time when the subtraction is \"16.12 - 15.13\", wrong 2 times when the problem is \"26.12 - 25.13\", and wrong 20 times when the problem is \"36.12 - 35.13\".  Furthermore, for some reason, in all of the above mentioned test cases, the result of our subtraction problem (i.e. $subtraction_problem) starts out as being wrong, but will tend to become more correct, the more we add or subtract from it (with $x).  This makes no sense, why is it that the more we add to or subtract from our arithmetic problem, the more likely it becomes that the value is correct (i.e. exact)?</p>\n\n<pre><code>my $subtraction_problem = 16.12 - 15.13;\nmy $perl_math_failures = 0;\nfor (my $x = -25; $x&lt; 25; $x++){\n        my $result = $subtraction_problem +$x;\n        print \"$result\\n\";\n        $perl_math_failures++ if length $result &gt; 6;\n}\nprint \"There were $perl_math_failures perl math failures!\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl", "ultraedit"], "comments": [{"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 5, "creation_date": 1428354757, "post_id": 29479697, "comment_id": 47120119, "body": "<i>Only perl can parse Perl.</i> Don&#39;t really expect any syntax highlighting out there to be 100% correct all the time."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428370162, "post_id": 29479697, "comment_id": 47125032, "body": "The first double-quote doesn&#39;t need to be escaped. But you could use a look-ahead <code>s&#47;(?=&quot;)&#47;\\\\&#47;g</code>"}, {"owner": {"reputation": 97, "user_id": 530920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/30c73ea77badd02ab723ef993c5ca3cb?s=128&d=identicon&r=PG", "display_name": "treeSeeker", "link": "https://stackoverflow.com/users/530920/treeseeker"}, "edited": false, "score": 0, "creation_date": 1428958566, "post_id": 29479697, "comment_id": 47375176, "body": "I used Mofi&#39;s suggestion: $description =~ s/\\&quot;/\\\\\\&quot;/g; which worked great!"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1428385230, "creation_date": 1428385230, "answer_id": 29484547, "question_id": 29479697, "link": "https://stackoverflow.com/questions/29479697/perl-regular-expression-looks-incorrect-according-to-syntax-highlighting-of-ultr/29484547#29484547", "title": "Perl regular expression looks incorrect according to syntax highlighting of UltraEdit", "body": "<p>I do not have UltraEdit, but I sometimes encounter the same situation with Emacs perl-mode.  The solution is usually to add a comment with a closing quote character, i.e.:</p>\n\n<pre><code>$description =~ s/\\\"/\\\\\"/g;  # \" Satisfy the angry syntax highlighting gremlins\n$description =~ s/\\n/&lt;br&gt;/g;\n</code></pre>\n\n<p>Your mileage may vary.</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 530920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/30c73ea77badd02ab723ef993c5ca3cb?s=128&d=identicon&r=PG", "display_name": "treeSeeker", "link": "https://stackoverflow.com/users/530920/treeseeker"}, "edited": false, "score": 0, "creation_date": 1428958479, "post_id": 29554440, "comment_id": 47375133, "body": "Thanks Mofi...I updated the perl word file as suggested above but it had no affect. Your other suggestion to add the additional slash did the trick!"}, {"owner": {"reputation": 38379, "user_id": 3074564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yo5QG.png?s=128&g=1", "display_name": "Mofi", "link": "https://stackoverflow.com/users/3074564/mofi"}, "reply_to_user": {"reputation": 97, "user_id": 530920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/30c73ea77badd02ab723ef993c5ca3cb?s=128&d=identicon&r=PG", "display_name": "treeSeeker", "link": "https://stackoverflow.com/users/530920/treeseeker"}, "edited": false, "score": 0, "creation_date": 1428988363, "post_id": 29554440, "comment_id": 47383501, "body": "I tested my suggestion with <code>&#47;C9&quot;...&quot;</code> and the single quote with UE v22.0.0.58. The alternate highlighting for single quoted strings in comparison to double quoted strings works. Of course the color for color group <b>Single Quoted Strings</b> of language <b>Perl</b> must be also configured either at <b>View - Themes - Manage Themes</b> on tab <b>Syntax</b> (UE &gt;= 20.00) or in <b>Syntax Highlighting</b> configuration dialog (UE &lt; 20.00)."}, {"owner": {"reputation": 97, "user_id": 530920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/30c73ea77badd02ab723ef993c5ca3cb?s=128&d=identicon&r=PG", "display_name": "treeSeeker", "link": "https://stackoverflow.com/users/530920/treeseeker"}, "edited": false, "score": 0, "creation_date": 1429116737, "post_id": 29554440, "comment_id": 47451993, "body": "Unfortunately, as Lucas said above &quot;Only Perl can parse Perl&quot;. Once I uploaded the script to my server...it did not parse...I reset back to the original code that looks &quot;incorrect&quot; in UltraEdit and it works fine in Perl."}], "tags": [], "owner": {"reputation": 38379, "user_id": 3074564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yo5QG.png?s=128&g=1", "display_name": "Mofi", "link": "https://stackoverflow.com/users/3074564/mofi"}, "is_accepted": true, "score": 2, "last_activity_date": 1428645892, "last_edit_date": 1495542383, "creation_date": 1428645892, "answer_id": 29554440, "question_id": 29479697, "link": "https://stackoverflow.com/questions/29479697/perl-regular-expression-looks-incorrect-according-to-syntax-highlighting-of-ultr/29554440#29554440", "title": "Perl regular expression looks incorrect according to syntax highlighting of UltraEdit", "body": "<p>With active file being a Perl syntax highlighted file as indicated in status bar at bottom of main window of UltraEdit by string <strong>Perl</strong>, open in UltraEdit from main menu <strong>Advanced - Configuration - Editor Display - Syntax Highlighting</strong>.</p>\n\n<p><strong>Perl</strong> is already selected in list of <em>Installed wordfiles</em> (or <em>Language</em> in older versions of UltraEdit). Clicking on button <strong>Open</strong> opens the wordfile containing the syntax highlighting definitions for <strong>Perl</strong>. The configuration dialog should be closed with <strong>Cancel</strong>.</p>\n\n<p>The syntax highlighting wordfile for <strong>Perl</strong> installed with UltraEdit v22.0 has as first line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/L5\"Perl\" PERL_LANG EnableMLS Line Comment = # Line Comment Preceding Chars = [~[^]^^$/\\(] Block Comment On = =pod Block Comment Off = =cut Block Comment On Alt = =item Block Comment Off Alt = =cut Escape Char = \\ File Extensions = CGI PL PM PLX\n</code></pre>\n\n<p>Important on this syntax highlighting issue are:</p>\n\n<ol>\n<li><p><strong>EnableMLS</strong><br>\nwhich enables multi-line string highlighting as in Perl a string can span over multiple lines.</p></li>\n<li><p><strong>Escape Char = \\</strong><br>\nwhich defines the escape character for double and single quotes inside strings.</p></li>\n<li><p><strong>String Chars = \"'</strong><br>\nnot present here resulting in using the internal defaults for characters marking start and end of a string which is a double quote and a single quote.</p></li>\n</ol>\n\n<p>UltraEdit has no real Perl language intellisense for syntax highlighting. So it does not know that the double quotes on first line of your example block are inside a Perl regular expression and should be therefore completely ignored for string highlighting.</p>\n\n<p>The first double quote in the regular expression is ignored as being escaped with a backslash. But the second double quote is not escaped and therefore syntax highlighting engine of UltraEdit interprets it as start of a string and highlights now everything up to next not escaped double quote as a string.</p>\n\n<p>The second double quote could be also escaped with a backlash to get the syntax highlighting here correct in UltraEdit, i.e.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$description =~ s/\\\"/\\\\\\\"/g;\n</code></pre>\n\n<p>Whether the first nor the second double quote must be for Perl interpreter escaped in this regular expression. But doing it nevertheless helps to get this line correct highlighted in UltraEdit and most likely most other text editors.</p>\n\n<p>The wordfile for Perl can be closed as nothing can be done in the wordfile regarding this syntax highlighting issue.</p>\n\n<p>I agree with comment written by <a href=\"https://stackoverflow.com/users/3764814/lucas-trzesniewski\">Lucas Trzesniewski</a>: <em>Only perl can parse Perl.</em></p>\n\n<p>By the way: By adding just a single quote or just a double quote to a color group on a separate line, it would be possible to highlight single quote strings with a different color than double quoted strings. For example appending</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/C9\"Single Quoted Strings\"\n'\n</code></pre>\n\n<p>results in highlighting single quoted strings with color and font style defined for color group 9 when using UltraEdit >= v17.00 supporting up to 20 color groups whereas double quoted strings are still highlighted with color and font style defined for strings. UltraEdit &lt; v17.00 as well as UEStudio &lt; v11.00 support only up to 8 color groups. More about syntax highlighting definitions can be read on UltraEdit forum page <a href=\"https://www.ultraedit.com/forums/viewtopic.php?f=9&amp;t=4124\" rel=\"nofollow noreferrer\">template for syntax highlighting language wordfile</a>.</p>\n"}], "owner": {"reputation": 97, "user_id": 530920, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/30c73ea77badd02ab723ef993c5ca3cb?s=128&d=identicon&r=PG", "display_name": "treeSeeker", "link": "https://stackoverflow.com/users/530920/treeseeker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 29554440, "answer_count": 2, "score": 1, "last_activity_date": 1428646093, "creation_date": 1428354403, "last_edit_date": 1495540487, "question_id": 29479697, "link": "https://stackoverflow.com/questions/29479697/perl-regular-expression-looks-incorrect-according-to-syntax-highlighting-of-ultr", "title": "Perl regular expression looks incorrect according to syntax highlighting of UltraEdit", "body": "<p>A previous post looks close to what I would like to try: <a href=\"https://stackoverflow.com/questions/3140553/multiple-substitutions-with-a-single-regular-expression-in-perl\">Multiple Substitutions</a></p>\n\n<p>Here are the substitutions I am trying to make:</p>\n\n<pre><code>$description =~ s/\\\"/\\\\\"/g;\n$description =~ s/\\n/&lt;br&gt;/g;\n</code></pre>\n\n<p>When I view my <code>CGI</code> script using <code>UltraEdit</code> it looks to be incorrect. If I comment out the first line <code>($description =~ s/\\\"/\\\\\"/g;)</code> all code looks good.</p>\n\n<p>I don't see what the error is?</p>\n"}, {"tags": ["algorithm", "perl", "matrix"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428353827, "post_id": 29479249, "comment_id": 47119597, "body": "Please show the code you have written and describe the problem you&#39;re having"}, {"owner": {"reputation": 11, "user_id": 4753782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b99XKvFXkMc/AAAAAAAAAAI/AAAAAAAAAFY/ZFK0GtgaLC8/photo.jpg?sz=128", "display_name": "perlbie", "link": "https://stackoverflow.com/users/4753782/perlbie"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428354247, "post_id": 29479249, "comment_id": 47119831, "body": "I need the algorithm on how perl can solve the condition above. Thanks"}, {"owner": {"reputation": 11, "user_id": 4753782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b99XKvFXkMc/AAAAAAAAAAI/AAAAAAAAAFY/ZFK0GtgaLC8/photo.jpg?sz=128", "display_name": "perlbie", "link": "https://stackoverflow.com/users/4753782/perlbie"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428355315, "post_id": 29479249, "comment_id": 47120423, "body": "I&#39;ve tried using the A-star Pathfinding by converted non matched element to zero, but still...... need a proper algorithm to handle this !!"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4753782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b99XKvFXkMc/AAAAAAAAAAI/AAAAAAAAAFY/ZFK0GtgaLC8/photo.jpg?sz=128", "display_name": "perlbie", "link": "https://stackoverflow.com/users/4753782/perlbie"}, "edited": false, "score": 0, "creation_date": 1428459143, "post_id": 29503730, "comment_id": 47166729, "body": "Hi; TimTom, Thanks for the algorithm let me work it out the script."}, {"owner": {"reputation": 11, "user_id": 4753782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b99XKvFXkMc/AAAAAAAAAAI/AAAAAAAAAFY/ZFK0GtgaLC8/photo.jpg?sz=128", "display_name": "perlbie", "link": "https://stackoverflow.com/users/4753782/perlbie"}, "edited": false, "score": 0, "creation_date": 1428464370, "post_id": 29503730, "comment_id": 47168063, "body": "Hi; TimTom, if the neighbor having multiple same number then the returned position will not be correct."}, {"owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "reply_to_user": {"reputation": 11, "user_id": 4753782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b99XKvFXkMc/AAAAAAAAAAI/AAAAAAAAAFY/ZFK0GtgaLC8/photo.jpg?sz=128", "display_name": "perlbie", "link": "https://stackoverflow.com/users/4753782/perlbie"}, "edited": false, "score": 0, "creation_date": 1428517676, "post_id": 29503730, "comment_id": 47199572, "body": "It is correct. That&#39;s why in step two we have a hash of position to Hash of Number to Array of Position. I even specifically called that out in the comments that if you didn&#39;t have that you could do something else."}, {"owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "reply_to_user": {"reputation": 11, "user_id": 4753782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b99XKvFXkMc/AAAAAAAAAAI/AAAAAAAAAFY/ZFK0GtgaLC8/photo.jpg?sz=128", "display_name": "perlbie", "link": "https://stackoverflow.com/users/4753782/perlbie"}, "edited": false, "score": 0, "creation_date": 1428519622, "post_id": 29503730, "comment_id": 47200754, "body": "Perhaps you were confused by step 3.2, that doesn&#39;t get one result. It is a set of current positions to a set of next positions."}, {"owner": {"reputation": 11, "user_id": 4753782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b99XKvFXkMc/AAAAAAAAAAI/AAAAAAAAAFY/ZFK0GtgaLC8/photo.jpg?sz=128", "display_name": "perlbie", "link": "https://stackoverflow.com/users/4753782/perlbie"}, "edited": false, "score": 0, "creation_date": 1428654360, "post_id": 29503730, "comment_id": 47263762, "body": "Hi; TimTom , Thanks for the algorithm , is working ."}], "tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1428453630, "last_edit_date": 1428453630, "creation_date": 1428452385, "answer_id": 29503730, "question_id": 29479249, "link": "https://stackoverflow.com/questions/29479249/given-a-matrix-how-do-i-decide-whether-some-values-are-neighbours/29503730#29503730", "title": "Given a matrix, how do I decide whether some values are neighbours?", "body": "<p>I'm not sure what you consider neighbors in your algorithm. Is the matrix considered cyclical?  In either case, the algorithm would be as follows.</p>\n\n<ol>\n<li>Create a mapping from numbers to start positions: Hash of Number to Array of Position.</li>\n<li>Create a neighbor mapping for all positions: Hash of Position to (Hash of Number to Array of Position) -- or just Hash of Number to Position if you can only have one neighbor with that number.</li>\n<li>For each search string:\n<ol>\n<li>initialize position possibilities to the array returned by the start mapping.</li>\n<li>Iterate through remaining numbers, getting next position set from the neighbor mapping for the possibilities.</li>\n<li>If you have no position possibilities left, it's not a match.</li>\n</ol></li>\n</ol>\n\n<p>Step 2 is optional because you could just iterate through the neighbors looking for a match inside the search step, but it helps separate out the concerns.</p>\n\n<p>And the start mapping could also be considered just a special position that neighbors all other positions, which simplifies the later algorithm as well because you don't have to special case the first number in the search string.</p>\n"}], "owner": {"reputation": 11, "user_id": 4753782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b99XKvFXkMc/AAAAAAAAAAI/AAAAAAAAAFY/ZFK0GtgaLC8/photo.jpg?sz=128", "display_name": "perlbie", "link": "https://stackoverflow.com/users/4753782/perlbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 1, "accepted_answer_id": 29503730, "answer_count": 1, "score": -1, "last_activity_date": 1428453630, "creation_date": 1428352623, "last_edit_date": 1428416853, "question_id": 29479249, "link": "https://stackoverflow.com/questions/29479249/given-a-matrix-how-do-i-decide-whether-some-values-are-neighbours", "title": "Given a matrix, how do I decide whether some values are neighbours?", "body": "<p>I have a matrix</p>\n\n<pre><code>([  1,  2,  3,  4],\n [  5,  6,  7,  8],\n [  9, 10, 11, 12],\n [ 13, 14,  3, 16],\n [  2, 18, 19, 20])\n</code></pre>\n\n<p>and a search string. The task is to find out whether the numbers in the search string are values in the matrix that are near-by each other along the x and y coordinates.</p>\n\n<ul>\n<li><code>\"2,7,12,16\"</code> should return true</li>\n<li><code>\"2,4,7,12\"</code> should return true</li>\n<li><code>\"1,6,8,12\"</code> should return false</li>\n<li><code>\"1,5,14,15\"</code> should return false</li>\n</ul>\n\n<hr>\n\n<pre><code>&amp;validateMatrix($number2search,\\@matrix);\n\nsub validateMatrix{\n    my($a,$d) = @_;\n    my @s = split(\",\",$a);\n    my @matrix = @{$d};\n\n    ???\n    ??\n    return(true or false)\n}\n</code></pre>\n"}, {"tags": ["perl", "coroutine"], "comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 1, "creation_date": 1428354185, "post_id": 29479238, "comment_id": 47119795, "body": "Is this the complete program?"}, {"owner": {"reputation": 63648, "user_id": 97248, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d891ba8bd448f11617333f8642870262?s=128&d=identicon&r=PG", "display_name": "pts", "link": "https://stackoverflow.com/users/97248/pts"}, "edited": false, "score": 0, "creation_date": 1428354288, "post_id": 29479238, "comment_id": 47119854, "body": "Your program gives me the following error: <code>Can&#39;t locate object method &quot;async&quot; via package &quot;2&quot; (perhaps you forgot to load &quot;2&quot;?) at t.py line 6.</code>. Please post the entire source file (<a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce.org</a>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 63648, "user_id": 97248, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d891ba8bd448f11617333f8642870262?s=128&d=identicon&r=PG", "display_name": "pts", "link": "https://stackoverflow.com/users/97248/pts"}, "edited": false, "score": 2, "creation_date": 1428354964, "post_id": 29479238, "comment_id": 47120222, "body": "@pts, He simply omitted <code>use strict; use warnings; use Coro;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "edited": false, "score": 0, "creation_date": 1428355858, "post_id": 29479828, "comment_id": 47120713, "body": "I was experimenting with sleep, as I though it&#39;s right way for concurrency tests,  how wrong I was it seems.  With ae_sleep it just works.  For the rest in your example,  I need some sleep to put into my brains..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "edited": false, "score": 1, "creation_date": 1428355993, "post_id": 29479828, "comment_id": 47120785, "body": "<code>sleep</code> doesn&#39;t know anything about Coro or the underlying event loop. it puts the only real thread the process has to sleep. <code>$cv-&gt;recv()</code> knows about Coro. It knows code is waiting to be run, so it will get Coro to switch context to that Coro thread."}, {"owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "edited": false, "score": 0, "creation_date": 1428356346, "post_id": 29479828, "comment_id": 47120921, "body": "Yes, I see (I think)."}, {"owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "edited": false, "score": 0, "creation_date": 1428398502, "post_id": 29479828, "comment_id": 47135304, "body": "Well, I am not sure, but looks like there no benefits of using Coro for parallel download web content, because Parallel::ForkManager suits the task better."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "edited": false, "score": 1, "creation_date": 1428415577, "post_id": 29479828, "comment_id": 47145991, "body": "P::FM will do great. but so will Coro since most of the time is spent waiting for data to arrive. If you want to use LWP with Coro, use LWP::Protocol::AnyEvent::http."}, {"owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "edited": false, "score": 0, "creation_date": 1432048507, "post_id": 29479828, "comment_id": 48753967, "body": "Just as offtopic, but since this time I was looking for something simple enough for me (without functional programming thing like say scala) and with minimum boileplate to get to this parallel things, and I found that Go matches my needs perfect."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1428356215, "last_edit_date": 1428356215, "creation_date": 1428354943, "answer_id": 29479828, "question_id": 29479238, "link": "https://stackoverflow.com/questions/29479238/perl-coro-shared-array/29479828#29479828", "title": "perl Coro shared array", "body": "<p>Coro is a co-operative multitasking system. That means that only one task can run at a time, and it's up to you to let other tasks run by using the event system (e.g. <code>$cv-&gt;recv</code>) rather than blocking calls (e.g. <code>sleep</code>).</p>\n\n<pre><code>use AE   qw( );\nuse Coro qw( async );\n\nsub ae_sleep {\n   my ($secs) = @_;\n   my $cv = AE::cv();\n   my $guard = AE::timer($secs, 0, $cv);\n   $cv-&gt;recv();\n}\n\nsub worker {\n   my ($job) = @_;\n   my $id = sprintf(\"Thread %d: Job %s\", $Coro::current, $job);\n   print(\"$id: Running...\\n\");\n   ae_sleep(2);\n   print(\"$id: done.\\n\");\n}\n\n{\n   my @array = 1..60;\n\n   my @threads;\n   for (1..20) {\n      push @threads, async {\n         while (defined(my $job = shift(@array))) {\n            worker($job);\n         }\n      };\n   }\n\n   $_-&gt;join() for @threads;\n}\n</code></pre>\n\n<p>If you use Coro::Channel instead of an array, you can add elements to the queue after you start your workers.</p>\n\n<pre><code>use AE            qw( );\nuse Coro          qw( async );\nuse Coro::Channel qw( );\n\nsub ae_sleep { ... }  # Same as above\n\nsub worker { ... }  # Same as above\n\n{\n   my $q = Coro::Channel-&gt;new();\n\n   my @threads;\n   for (1..20) {\n      push @threads, async {\n         while (defined(my $job = $q-&gt;get())) {\n            worker($job);\n         }\n      };\n   }\n\n   $q-&gt;put($_) for 1..60;\n\n   $q-&gt;shutdown();\n   $_-&gt;join() for @threads;\n}\n</code></pre>\n\n<p>If you wanted to use real threads, it's simply:</p>\n\n<pre><code>use threads;\nuse Thread::Queue qw( );  # 3.01+\n\nsub worker {\n   my ($job) = @_;\n   my $id = sprintf(\"Thread %d: Job %s\", threads-&gt;tid, $job);\n   print(\"$id: Running...\\n\");\n   sleep(2);\n   print(\"$id: done.\\n\");\n}\n\n{\n   my $q = Thread::Queue-&gt;new();\n\n   my @threads;\n   for (1..20) {\n      push @threads, async {\n         while (defined(my $job = $q-&gt;dequeue())) {\n            worker($job);\n         }\n      };\n   }\n\n   $q-&gt;enqueue($_) for 1..60;\n\n   $q-&gt;end();\n   $_-&gt;join() for @threads;\n}\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 1, "accepted_answer_id": 29479828, "answer_count": 1, "score": 1, "last_activity_date": 1428356215, "creation_date": 1428352585, "question_id": 29479238, "link": "https://stackoverflow.com/questions/29479238/perl-coro-shared-array", "title": "perl Coro shared array", "body": "<p>I kind of newb in programming, and now little bit confused (well pretty much) about a simple task - share an array between coro coroutines. </p>\n\n<p>Something like this (not working, just takes 40 secs to do)... </p>\n\n<pre><code>my @array = (1..1000);\n$|=0;\n\nsub start_thread($) {\n    my $url = shift;\n    return async {\n        print \"starting  $array[0]\\n\";\n        shift @array;\n        sleep(2);\n      };\n}\n\nsub main{\n  start_thread $_ for (1..20);\n  EV::loop;\n}\n\nmain;\n</code></pre>\n\n<p>I have read about IPC::Sharelite, and IPC::Share and tried some stuff, but nothing working... \nIf somebody can clearly point me out please? </p>\n"}, {"tags": ["windows", "perl"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 25, "user_id": 4069053, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9adaaf4232d685393e6b92e2e10062f7?s=128&d=identicon&r=PG&f=1", "display_name": "flora", "link": "https://stackoverflow.com/users/4069053/flora"}, "edited": false, "score": 0, "creation_date": 1428406731, "post_id": 29479215, "comment_id": 47140286, "body": "<a href=\"http://p3rl.org/WWW::Mechanize\" rel=\"nofollow noreferrer\">WWW::Mechanize</a>, <a href=\"http://p3rl.org/HTML::Parser\" rel=\"nofollow noreferrer\">HTML::Parser</a>, <a href=\"http://p3rl.org/perlsub\" rel=\"nofollow noreferrer\">perlsub</a>..."}, {"owner": {"reputation": 25, "user_id": 4069053, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9adaaf4232d685393e6b92e2e10062f7?s=128&d=identicon&r=PG&f=1", "display_name": "flora", "link": "https://stackoverflow.com/users/4069053/flora"}, "edited": false, "score": 0, "creation_date": 1428406768, "post_id": 29479215, "comment_id": 47140310, "body": "Thanks @choroba..                                                                             The above code is working perfectly right, except that it showed error saying &quot;Can&#39;t find string terminator&quot; so that was rectified by deleting the unwanted space from <i>HTML</i> and adding a blank line at the bottom after <i>HTML</i>. <b>It would be great if you could explain the code and also let me know (or give some reference on) how to use subroutines...</b>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1428407418, "last_edit_date": 1428407418, "creation_date": 1428352490, "answer_id": 29479215, "question_id": 29476822, "link": "https://stackoverflow.com/questions/29476822/retrieve-online-data-and-generate-and-xml-output-of-it/29479215#29479215", "title": "Retrieve online data and generate and xml output of it", "body": "<p>Use a proper module to parse the HTML:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse HTML::Parser;\nuse WWW::Mechanize;\n\nmy ($date, $first_page, $last_page, @toc);\nsub get_info {\n    my ($self, $tag, $attr) = @_;\n    if ('span' eq $tag\n        and $attr-&gt;{class}\n        and 'highwire-cite-metadata-date' eq $attr-&gt;{class}\n        and not defined $date\n       ) {\n        $self-&gt;handler(text =&gt; \\&amp;next_text_to_date, 'self, text');\n\n    } elsif ('span' eq $tag\n             and $attr-&gt;{class}\n             and 'highwire-cite-metadata-pages' eq $attr-&gt;{class}\n            ) {\n        if (not defined $first_page) {\n            $self-&gt;handler(text =&gt; \\&amp;parse_first_page, 'self, text');\n        } else {\n            $self-&gt;handler(text =&gt; \\&amp;parse_last_page, 'self, text');\n        }\n\n    } elsif ('span' eq $tag\n             and $attr-&gt;{class}\n             and 'highwire-cite-metadata-doi' eq $attr-&gt;{class}\n            ) {\n        $self-&gt;handler(text =&gt; \\&amp;retrieve_doi, 'self, text');\n\n    } elsif ('div' eq $tag\n             and $attr-&gt;{class}\n             and $attr-&gt;{class} =~ /\\bissue-toc-section\\b/\n            ) {\n        $self-&gt;handler(text =&gt; \\&amp;next_text_to_toc, 'self, text');\n    }\n}\n\n\nsub next_text_to_date {\n    my ($self, $text) = @_;\n    $text =~ s/^\\s+|\\s+$//g;\n    $date = $text;\n    $self-&gt;handler(text =&gt; undef);\n}\n\n\nsub parse_first_page {\n    my ($self, $text) = @_;\n    if ($text =~ /([A-Z0-9]+)(?:-[0-9A-Z]+)?/) {\n        $first_page = $1;\n        $self-&gt;handler(text =&gt; undef);\n    }\n}\n\n\nsub parse_last_page {\n    my ($self, $text) = @_;\n    if ($text =~ /(?:[A-Z0-9]+-)?([0-9A-Z]+)/) {\n        $last_page = $1;\n        $self-&gt;handler(text =&gt; undef);\n    }\n}\n\n\nsub next_text_to_toc {\n    my ($self, $text) = @_;\n    push @toc, [$text];\n    $self-&gt;handler(text =&gt; undef);\n}\n\n\nsub retrieve_doi {\n    my ($self, $text) = @_;\n    if ('DOI:' ne $text) {\n        $text =~ s/^\\s+|\\s+$//g;\n        push @{ $toc[-1] }, $text;\n        $self-&gt;handler(text =&gt; undef);\n    }\n}\n\n\nprint STDERR 'Enter the URL: ';\nchomp(my $url = &lt;&gt;);\nmy ($volume, $issue) = (split m(/), $url)[-2, -1];\n\nmy $p = 'HTML::Parser'-&gt;new( api_version =&gt; 3,\n                             start_h =&gt; [ \\&amp;get_info, 'self, tagname, attr' ],\n                           );\n\nmy $mech = 'WWW::Mechanize'-&gt;new(agent =&gt; 'Mozilla');\n$mech-&gt;get($url);\nmy $contents = $mech-&gt;content;\n$p-&gt;parse($contents);\n$p-&gt;eof;\n\nmy $toc;\nfor my $section (@toc) {\n    $toc .= \"    &lt;TocSection&gt;\\n\";\n    $toc .= \"      &lt;Heading&gt;\" . shift(@$section) . \"&lt;/Heading&gt;\\n\";\n    $toc .= join q(), map \"      &lt;DOI&gt;$_&lt;/DOI&gt;\\n\", @$section;\n    $toc .= \"    &lt;/TocSection&gt;\\n\";\n}\n\nprint &lt;&lt; \"__HTML__\";\n&lt;!DOCTYPE MetaIssue SYSTEM \"http://schema.highwire.org/public/toc/MetaIssue.pubids.dtd\"&gt;\n&lt;MetaIssue volume=\"$volume\" issue=\"$issue\"&gt;\n  &lt;Provider&gt;Cadmus&lt;/Provider&gt;\n  &lt;IssueDate&gt;$date&lt;/IssueDate&gt;\n  &lt;PageRange&gt;$first_page-$last_page&lt;/PageRange&gt;\n  &lt;TOC&gt;\n$toc  &lt;/TOC&gt;\n&lt;/MetaIssue&gt;\n__HTML__\n</code></pre>\n\n<h2>Basic explanation:</h2>\n\n<p><a href=\"http://p3rl.org/HTML::Parser\" rel=\"nofollow\">HTML::Parser</a> is callback-based, which means you give it subroutines to run when it encounters a given event in the parsed document. I use a general callback <code>get_info</code>, which searches for various indicators of needed information in the HTML. As we are often interested in something like \"nearest text after the given span\", it just registers the new callback for the text. For example, when the span with the class <code>highwire-cite-metadata-date</code> is found and date is not yet defined, it registers a new text handler, which would run <code>next_text_to_date</code>. The handler just assigns the text to the <code>$date</code> variable and removes the handler. I'm not sure that's the \"correct\" way to do it, but in this case at least, it works.</p>\n\n<p>I used <a href=\"http://p3rl.org/WWW::Mechanize\" rel=\"nofollow\">WWW::Mechanize</a> in order to be able to specify the User Agent. With the default value of the much simpler <a href=\"http://p3rl.org/LWP::Simple\" rel=\"nofollow\">LWP::Simple</a>, I wasn't getting the whole HTML.</p>\n\n<p>The output smells of a template. Switching to <a href=\"http://p3rl.org/Template\" rel=\"nofollow\">Template</a> might be a good step forward.</p>\n"}], "owner": {"reputation": 25, "user_id": 4069053, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9adaaf4232d685393e6b92e2e10062f7?s=128&d=identicon&r=PG&f=1", "display_name": "flora", "link": "https://stackoverflow.com/users/4069053/flora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 29479215, "answer_count": 1, "score": 0, "last_activity_date": 1449846640, "creation_date": 1428343476, "last_edit_date": 1428494120, "question_id": 29476822, "link": "https://stackoverflow.com/questions/29476822/retrieve-online-data-and-generate-and-xml-output-of-it", "title": "Retrieve online data and generate and xml output of it", "body": "<p>The project requires to grep online data and generate an xml file of it. This is how the output should be: </p>\n\n<pre><code>&lt;!DOCTYPE MetaIssue SYSTEM \"http://schema.highwire.org/public/toc/MetaIssue.pubids.dtd\"&gt; \n&lt;MetaIssue volume=\"306\" issue=\"1\"&gt; \n  &lt;Provider&gt;Cadmus&lt;/Provider&gt; \n  &lt;IssueDate&gt;January 1, 2014&lt;/IssueDate&gt;  \n  &lt;PageRange&gt;C1-C76&lt;/PageRange&gt; \n  &lt;TOC&gt; \n    &lt;TocSection&gt; \n      &lt;Heading&gt;Editorial Focus&lt;/Heading&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00342.2013&lt;/DOI&gt; \n    &lt;/TocSection&gt; \n    &lt;TocSection&gt; \n      &lt;Heading&gt;Review&lt;/Heading&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00281.2013&lt;/DOI&gt; \n    &lt;/TocSection&gt; \n    &lt;TocSection&gt; \n      &lt;Heading&gt;CALL FOR PAPERS | Stem Cell Physiology and Pathophysiology&lt;/Heading&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00156.2013&lt;/DOI&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00066.2013&lt;/DOI&gt; \n    &lt;/TocSection&gt; \n    &lt;TocSection&gt; \n      &lt;Heading&gt;Articles&lt;/Heading&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00130.2013&lt;/DOI&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00047.2013&lt;/DOI&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00070.2013&lt;/DOI&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00096.2013&lt;/DOI&gt; \n    &lt;/TocSection&gt; \n    &lt;TocSection&gt; \n      &lt;Heading&gt;Corrigendum&lt;/Heading&gt; \n      &lt;DOI&gt;10.1152/ajpcell.zh0-7419-corr.2014&lt;/DOI&gt; \n    &lt;/TocSection&gt; \n  &lt;/TOC&gt; \n&lt;/MetaIssue&gt;       \n</code></pre>\n\n<p>The output which I am getting is: </p>\n\n<pre><code>&lt;!DOCTYPE MetaIssue SYSTEM \"http://schema.highwire.org/public/toc/MetaIssue.pubids.dtd\"&gt; \n&lt;MetaIssue volume=\"306\" issue=\"1\"&gt; \n  &lt;Provider&gt;Cadmus&lt;/Provider&gt; \n  &lt;IssueDate&gt;January 1, 2014 &lt;/IssueDate&gt; \n  &lt;PageRange&gt;C1-&lt;/PageRange&gt; \n  &lt;TOC&gt; \n    &lt;TocSection&gt; \n      &lt;Heading&gt;Review&lt;/Heading&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00281.2013&lt;/DOI&gt; \n    &lt;/TocSection&gt; \n    &lt;TocSection&gt; \n      &lt;Heading&gt;CALL FOR PAPERS | Stem Cell Physiology and Pathophysiology&lt;/Heading&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00156.2013&lt;/DOI&gt; \n    &lt;/TocSection&gt; \n    &lt;TocSection&gt; \n      &lt;Heading&gt;Articles&lt;/Heading&gt; \n      &lt;DOI&gt;10.1152/ajpcell.00130.2013&lt;/DOI&gt; \n    &lt;/TocSection&gt; \n    &lt;TocSection&gt; \n      &lt;Heading&gt;Corrigendum&lt;/Heading&gt; \n      &lt;DOI&gt;10.1152/ajpcell.zh0-7419-corr.2014&lt;/DOI&gt; \n    &lt;/TocSection&gt; \n  &lt;/TOC&gt; \n&lt;/MetaIssue&gt; \n</code></pre>\n\n<p>The code I tried is: </p>\n\n<pre><code>#!/usr/bin/perl  \nuse strict;\nuse warnings;\n\nuse LWP::Simple;\n\nmy $path1 = $ARGV[0];\nopen(F6, \"&gt;meta_issue.xml\");\n\nprint \"Enter the URL:\";\nmy $url = &lt;STDIN&gt;;\nchomp $url;\n\nprint \"Enter the Volume Number:\";\nmy $vol = &lt;STDIN&gt;;\nchomp $vol;\n\nprint \"Enter the Issue Number:\";\nmy $iss = &lt;STDIN&gt;;\nchomp $iss;\n\nmy $website_content = get($url);\n\nprint F6 \"\\&lt;\\!DOCTYPE MetaIssue SYSTEM \\\"http://schema.highwire.org/public/toc/MetaIssue.pubids.dtd\\\"&gt;\\n\";\nprint F6 \"&lt;MetaIssue volume=\\\"$vol\\\" issue=\\\"$iss\\\"&gt;\\n\";\nprint F6 \"&lt;Provider&gt;Cadmus&lt;/Provider&gt;\\n\";\n\nif ($website_content =~ m#&lt;span class=\"highwire-cite-metadata-date\"&gt;(.*?)&lt;/span&gt;#s) {\n    #&lt;span class=\"highwire-cite-metadata-date\"&gt;January 1, 2014 &lt;/span&gt;\n\n  print F6 \"&lt;IssueDate&gt;$1&lt;/IssueDate&gt;\\n\";    #&lt;IssueDate&gt;January 1,         2014&lt;/IssueDate&gt;\n}\n\nif ($website_content =~ m#(&lt;span class=\"label\"&gt;:&lt;/span&gt;\\s?(.*?)(-(.*?))?&lt;/span&gt;)#gs) {\n    #.*?(?!&lt;span class=\"label\"&gt;:&lt;/span&gt;\\s?(.*?)(-(.*?))?&lt;/span&gt;)$#gs)  #&lt;PageRange&gt;C1-C76&lt;/PageRange&gt;\n\n  my $first = $2;\n  print F6 \"&lt;PageRange&gt;$2-&lt;/PageRange&gt;\\n\";\n}\n\nprint F6 \"&lt;TOC&gt;\\n\";\n\nwhile ($website_content =~ m#&lt;h2 id=\".*?\" class=\".*?\"&gt;(.*?)&lt;/h2&gt;#gs) {\n  my $h = $1;\n  print F6 \"&lt;TocSection&gt;\\n\";\n  print F6 \"&lt;Heading&gt;$h&lt;/Heading&gt;\\n\";\n\n  if ( $website_content =~ m#(.*?&lt;p&gt;&lt;span class=\"label\"&gt;DOI:&lt;/span&gt;\\s?(.*?)\\n?&lt;/p&gt;\\s?&lt;/span&gt;\\s?\\n?&lt;/div&gt;.*?)#gs ) {\n    my $doi  = $1;\n    my $doi1 = $2;\n    print F6 \"&lt;DOI&gt;$doi1&lt;/DOI&gt;\\n\";\n    print F6 \"&lt;/TocSection&gt;\\n\";\n  }\n}\n\nprint F6 \"&lt;/TOC&gt;\\n&lt;/MetaIssue&gt;\\n\";\n</code></pre>\n\n<p><strong>Note</strong>: Each <code>&lt;Heading&gt;</code> might have one or more <code>&lt;DOI&gt;</code> values, which I am not able to retrieve</p>\n\n<ol>\n<li><p>I cannot place the particular <code>&lt;DOI&gt;</code> values under that <code>&lt;Heading&gt;</code>. </p></li>\n<li><p>I cannot retrieve the last occurrence of the digit from </p>\n\n<pre><code>&lt;span class=\"label\"&gt;:&lt;/span&gt;\\s?(.*?)(-(.*?))?&lt;/span&gt;\n</code></pre>\n\n<p>since there are variation such as <code>&lt;/span&gt; c14&lt;/span&gt;</code> or <code>&lt;span&gt; c12-c14&lt;/span&gt;</code>. So from here I need to grep the last digit i.e <code>c14</code></p></li>\n</ol>\n\n<p>I execute the code in cmd as follows; </p>\n\n<pre><code>    D:\\Code&gt;Perl File name (Enter) \n    Enter the URl: http://ajpcell.physiology.org/content/306/1 \n    Enter the Volume Number: 306 \n    Enter the Issue Number: 1 \n</code></pre>\n\n<h3>UPDATE:</h3>\n\n<p>In the URL's : </p>\n\n<p>1) <a href=\"http://ajpendo.physiology.org/content/283/5\" rel=\"nofollow\">http://ajpendo.physiology.org/content/283/5</a></p>\n\n<p>2) <a href=\"http://ajpendo.physiology.org/content/280/1\" rel=\"nofollow\">http://ajpendo.physiology.org/content/280/1</a></p>\n\n<p>The DOI is not there, so in that case, the output in place of </p>\n\n<pre><code>      &lt;DOI&gt;$_&lt;/DOI&gt; tag \n</code></pre>\n\n<p>should be </p>\n\n<pre><code>      &lt;ResId type=\u201dpublisher-id\u201d&gt;$volume/$issue/$first_page&lt;/ResId&gt; \n</code></pre>\n\n<p>where $first_page is specific to that particular section.</p>\n\n<p>I added \"else{} loop\" in \"sub retrieve_doi()\" and also in the \"for{} loop\" below, but not getting the desired output .</p>\n\n<pre><code>    #!/usr/bin/perl\n    use warnings;\n    use strict;\n    use feature qw{ say };\n    use HTML::Parser;\n    use WWW::Mechanize;\n\n    my ($date, $first_page, $last_page, @toc);\n    sub get_date {\n      my ($self, $tag, $attr) = @_;\n       if ('span' eq $tag\n         and $attr-&gt;{class}\n         and 'highwire-cite-metadata-date' eq $attr-&gt;{class}\n         and not defined $date\n          ) {\n    $self-&gt;handler(text =&gt; \\&amp;next_text_to_date, 'self, text');\n\n             } elsif ('span' eq $tag\n                  and $attr-&gt;{class}\n         and 'highwire-cite-metadata-pages' eq $attr-&gt;{class}\n        ) {\n    if (not defined $first_page) {\n        $self-&gt;handler(text =&gt; \\&amp;parse_first_page, 'self, text');\n    } else {\n        $self-&gt;handler(text =&gt; \\&amp;parse_last_page, 'self, text');\n    }\n\n} elsif ('span' eq $tag\n         and $attr-&gt;{class}\n         and 'highwire-cite-metadata-doi' eq $attr-&gt;{class}\n        ) {\n    $self-&gt;handler(text =&gt; \\&amp;retrieve_doi, 'self, text');\n\n} elsif ('div' eq $tag\n         and $attr-&gt;{class}\n         and $attr-&gt;{class} =~ /\\bissue-toc-section\\b/\n        ) {\n    $self-&gt;handler(text =&gt; \\&amp;next_text_to_toc, 'self, text');\n}\n}\n\n\nsub next_text_to_date {\nmy ($self, $text) = @_;\n$text =~ s/^\\s+|\\s+$//g;\n$date = $text;\n$self-&gt;handler(text =&gt; undef);\n}\n\n\nsub parse_first_page {\nmy ($self, $text) = @_;\nif ($text =~ /([A-Z0-9]+)(?:-[0-9A-Z]+)?/) {\n    $first_page = $1;\n    $self-&gt;handler(text =&gt; undef);\n}\n}\n\n\nsub parse_last_page {\nmy ($self, $text) = @_;\nif ($text =~ /(?:[A-Z0-9]+-)?([0-9A-Z]+)/) {\n    $last_page = $1;\n    $self-&gt;handler(text =&gt; undef);\n  }\n }\n\nsub next_text_to_toc {\nmy ($self, $text) = @_;\npush @toc, [$text];\n$self-&gt;handler(text =&gt; undef);\n}\n\nsub retrieve_doi {\nmy ($self, $text) = @_;\nif ('DOI:' ne $text) \n{\n    $text =~ s/^\\s+|\\s+$//g;\n    push @{ $toc[-1] }, $text;\n    $self-&gt;handler(text =&gt; undef);\n}\nelse        #UPDATE\n{\n    $text =~ s/^\\s+|\\s+$//g;\n    push @{ $toc[-1] }, $text;\n    $self-&gt;handler(text =&gt; undef);\n }\n }\n\n  print STDERR 'Enter the URL: ';\n  chomp(my $url = &lt;&gt;);\n  my ($volume, $issue) = (split m(/), $url)[-2, -1];\n\n  my $p = 'HTML::Parser'-&gt;new( api_version =&gt; 3,\n                         start_h =&gt; [ \\&amp;get_date, 'self, tagname, attr'    ],\n                       );\n\n  my $mech = 'WWW::Mechanize'-&gt;new(agent =&gt; 'Mozilla');\n  $mech-&gt;get($url);\n  my $contents = $mech-&gt;content;\n  $p-&gt;parse($contents);\n  $p-&gt;eof;\n\n  my $toc;\n\nfor my $section (@toc) {\n$toc .= \"&lt;TocSection&gt;\\n\";\n$toc .= \"&lt;Heading&gt;\".shift(@$section).\"&lt;/Heading&gt;\\n\";\n$toc .= join q(), map \"&lt;DOI&gt;$_&lt;/DOI&gt;\\n\", @$section;\n$toc .= join q(), map \"&lt;ResId type=\u201dpublisher-id\u201d&gt;$volume/$issue/$first_page&lt;/ResId&gt;\\n\", @$section; #UPDATE\n$toc .= \"&lt;/TocSection&gt;\\n\";\n}\n\n     open (F6, \"&gt;meta_issue_$issue.xml\");\n\n     print F6 &lt;&lt;\"__HTML__\";\n     &lt;!DOCTYPE MetaIssue SYSTEM \"http://schema.highwire.org/public/toc/MetaIssue.pubids.dtd\"&gt;\n     &lt;MetaIssue volume=\"$volume\" issue=\"$issue\"&gt;\n     &lt;Provider&gt;Cadmus&lt;/Provider&gt;\n     &lt;IssueDate&gt;$date&lt;/IssueDate&gt;\n     &lt;PageRange&gt;$first_page-$last_page&lt;/PageRange&gt;\n    &lt;TOC&gt;\n    $toc&lt;/TOC&gt;\n   &lt;/MetaIssue&gt;\n   __HTML__\n</code></pre>\n\n<p>Please let me know how to update the code to get the desired output.</p>\n"}, {"tags": ["regex", "perl", "perl-module", "dancer"], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 2018255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/384e4b28d46b76992969420f2f7d1924?s=128&d=identicon&r=PG", "display_name": "Fla-Hyd", "link": "https://stackoverflow.com/users/2018255/fla-hyd"}, "edited": false, "score": 0, "creation_date": 1428376264, "post_id": 29476972, "comment_id": 47126507, "body": "@ThisSuitlsBlackNot Thank you for your reply. Looks like the above code uploads the file content to server. But i am planning to read the contents from the file handle, do some chnages and return back the file. Initially i tried before posting in stack overflow. where, In a scalar context $file gives us the file name. But when i am planning to use it as a file handle i am not able to do so. Can you please let me know if i missed out some thing."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 211, "user_id": 2018255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/384e4b28d46b76992969420f2f7d1924?s=128&d=identicon&r=PG", "display_name": "Fla-Hyd", "link": "https://stackoverflow.com/users/2018255/fla-hyd"}, "edited": false, "score": 0, "creation_date": 1428378003, "post_id": 29476972, "comment_id": 47126916, "body": "@Praneeth Please read the documentation I linked. In the example code, the file is written to a temporary file. You can get a read-only filehandle using the <a href=\"https://metacpan.org/pod/Dancer::Request::Upload#file_handle\" rel=\"nofollow noreferrer\"><code>filehandle</code></a> method. For security reasons, though, it would probably be better to move the file out of the world-readable temporary directory using the <code>copy_to</code> method before manipulating it."}, {"owner": {"reputation": 211, "user_id": 2018255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/384e4b28d46b76992969420f2f7d1924?s=128&d=identicon&r=PG", "display_name": "Fla-Hyd", "link": "https://stackoverflow.com/users/2018255/fla-hyd"}, "edited": false, "score": 0, "creation_date": 1428424580, "post_id": 29476972, "comment_id": 47152021, "body": "@ThisSuitlsBlackNot Hey I am able to figure this out. Thanks a lot for your help!"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 0, "last_activity_date": 1428344011, "creation_date": 1428344011, "answer_id": 29476972, "question_id": 29476455, "link": "https://stackoverflow.com/questions/29476455/perl-dancer-reading-the-file-from-browser/29476972#29476972", "title": "Perl Dancer: Reading the file from browser", "body": "<p>The documentation for <a href=\"https://metacpan.org/pod/Dancer::Request::Upload\" rel=\"nofollow\"><code>Dancer::Request::Upload</code></a> has an example of how to handle file uploads:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code># somewhere in your view:\n&lt;form action=\"/upload\" method=\"POST\" enctype=\"multipart/form-data\"&gt;\n  &lt;input type=\"file\" name=\"filename\"&gt;\n  &lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<pre class=\"lang-perl prettyprint-override\"><code># and then in your application handler:\npost '/upload' =&gt; sub {\n  my $file = request-&gt;upload('filename');\n  $file-&gt;copy_to($upload_dir);  # or whatever you need\n};\n</code></pre>\n\n<p>Note that the example uses <code>/upload</code> for the route that actually posts the file data. (Creating two <code>/</code> routes that only differ in their request method would be confusing.)</p>\n\n<p>Also note that the <code>name</code> attribute of your form element must match the value you pass to <code>request-&gt;upload()</code> (in this case, <code>filename</code>).</p>\n"}], "owner": {"reputation": 211, "user_id": 2018255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/384e4b28d46b76992969420f2f7d1924?s=128&d=identicon&r=PG", "display_name": "Fla-Hyd", "link": "https://stackoverflow.com/users/2018255/fla-hyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428351953, "creation_date": 1428342045, "last_edit_date": 1428351953, "question_id": 29476455, "link": "https://stackoverflow.com/questions/29476455/perl-dancer-reading-the-file-from-browser", "title": "Perl Dancer: Reading the file from browser", "body": "<p>Using <code>Perl Dancer</code>, I am  planning to read a file from the browser, do some processing on the data and send back the new data to user. But, i am not able to read the data from the file handle. </p>\n\n<p>Also, could you please let me know how can we send the data back to user?</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;title&gt;CSS Registration Form&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/default.css\"/&gt;\n&lt;/head&gt;\n&lt;body&gt;  \n    &lt;form method=\"POST\" class=\"register\"&gt;\n       &lt;p&gt; Please select a file to upload:\n           &lt;BR&gt; &lt;INPUT TYPE=\"FILE\" NAME=\"tfile\"&gt;\n       &lt;/p&gt;         \n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>Testing_app.pm:</p>\n\n<pre><code>package Testing_App;\nuse Dancer ':syntax';\nour $VERSION = '0.1';\nget '/' =&gt; sub {\n    template 'index.tt';\n};\npost '/' =&gt; sub {    \n    my $tp = params-&gt;{fname};\n    my $tv = params-&gt;{vname};\n    my $tf = params-&gt;{tfile};\n    open(LOCAL, \"&gt;tp.lst\") or die $!; \n    open(FN, \"&lt;$tf\") or die $!; \n\n    while (&lt;$tf&gt;) {\n        print LOCAL $_; \n    }\n    template 'first.tt', { su =&gt; $tp, sv =&gt; $tv, sw =&gt; $tf };\n};\ntrue;\n</code></pre>\n\n<p>Can you please help me out?</p>\n"}, {"tags": ["perl", "sed", "grep", "html-parsing"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1428338757, "post_id": 29475509, "comment_id": 47111939, "body": "where you actually mentioned the file name?"}, {"owner": {"reputation": 3041, "user_id": 4124475, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/947467fc980706876eb57bd4378674c8?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/4124475/christopher"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1428338905, "post_id": 29475509, "comment_id": 47112030, "body": "@AvinashRaj that&#39;s not the problem..."}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1428339192, "post_id": 29475509, "comment_id": 47112201, "body": "I don&#39;t see any perl in your code.  <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">What are you really trying to do?</a>"}, {"owner": {"reputation": 3041, "user_id": 4124475, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/947467fc980706876eb57bd4378674c8?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/4124475/christopher"}, "reply_to_user": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1428339336, "post_id": 29475509, "comment_id": 47112283, "body": "@ghoti i&#39;ve just added all the code."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1428340559, "creation_date": 1428340559, "answer_id": 29476032, "question_id": 29475509, "link": "https://stackoverflow.com/questions/29475509/perl-extract-data-using-grep-and-sed/29476032#29476032", "title": "perl - Extract data using grep and sed", "body": "<p>In backquotes, Perl uses the same rules as in double quotes. Therefore, <code>\\n</code> corresponds to a newline; you have to backslash the backslash to pass literal <code>\\</code> to the shell:</p>\n\n<pre><code>`sed -e 's/&lt;a /\\\\n&lt;a /g'`\n</code></pre>\n"}], "owner": {"reputation": 3041, "user_id": 4124475, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/947467fc980706876eb57bd4378674c8?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/4124475/christopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 29476032, "answer_count": 1, "score": 0, "last_activity_date": 1428340559, "creation_date": 1428338586, "last_edit_date": 1428339308, "question_id": 29475509, "link": "https://stackoverflow.com/questions/29475509/perl-extract-data-using-grep-and-sed", "title": "perl - Extract data using grep and sed", "body": "<p>I'm using this code to get all titles from urls with <code>http://something.txt</code>:</p>\n\n<pre><code>#!/usr/bin/perl -w\n$output = `cat source.html | grep -o '&lt;a .*href=.*&gt;' | grep -E 'txt' | sed -e 's/&lt;a /\\n&lt;a /g' | sed -e 's/&lt;a .*title=\"//' | cut -f1 -d '\"'`;\n\nprint(\"$output\");\n</code></pre>\n\n<p>When i run this on perl i get the error:</p>\n\n<pre><code>sed: -e expression #1, char 6: unterminated `s' command\n</code></pre>\n\n<p>The error is related with this portion of code:</p>\n\n<pre><code>sed -e 's/&lt;a /\\n&lt;a /g'\n</code></pre>\n"}, {"tags": ["perl", "file-io", "freebsd"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428338361, "post_id": 29475260, "comment_id": 47111735, "body": "Can you reproduce this behavior using only the code you&#39;ve posted here?"}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428338819, "post_id": 29475260, "comment_id": 47111977, "body": "@ThisSuitIsBlackNot I wrote a test script to write files in a loop, waiting a few seconds in between each write, and of course it didn&#39;t duplicate the problem."}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1428338849, "post_id": 29475260, "comment_id": 47111998, "body": "@toolic I edited my post to show the future dates, which were months in the future, so it doesn&#39;t seem like a clock drift issue."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1428339151, "post_id": 29475260, "comment_id": 47112175, "body": "Try a crontab that just uses <a href=\"http://man.cx/touch\" rel=\"nofollow noreferrer\">touch</a> to create or touch the modification date. See whether the problem is with running Perl or the way cron runs."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428339234, "post_id": 29475260, "comment_id": 47112227, "body": "Perhaps there&#39;s another process changing the modified date that you&#39;re not aware of. Setting the modified date of a file to the future is trivial: <code>touch -d tomorrow foo &amp;&amp; ls -l foo</code>"}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1428339783, "post_id": 29475260, "comment_id": 47112546, "body": "@DavidW.  Trying a cron entry which runs every minute and does &quot;touch test_file.txt&quot; now."}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428339851, "post_id": 29475260, "comment_id": 47112575, "body": "@ThisSuitIsBlackNot Fortunately, I do know that these particular files are created and modified by only one cron job.  They are read elsewhere, however only written in one place."}, {"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 1, "creation_date": 1428343503, "post_id": 29475260, "comment_id": 47114463, "body": "Are these files being created on a shared filesystem, like NFS for example? Check the clock on the file server."}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1428345160, "post_id": 29475260, "comment_id": 47115339, "body": "@Kenster Nope, it&#39;s a standalone BSD box."}, {"owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 0, "creation_date": 1428346249, "post_id": 29475260, "comment_id": 47115888, "body": "What are the exact <code>ls</code> options you use to determine the file date and time?"}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 0, "creation_date": 1428346323, "post_id": 29475260, "comment_id": 47115917, "body": "@Jens &quot;ll&quot; which is an alias for &quot;ls -lt&quot; showed me the initial problem.  The detailed timestamps which I mentioned in the post were from an administrative GUI which is perl based and uses (stat())[9] to get the files mtime and passes that to localtime() to construct the display datetime."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1428348851, "post_id": 29475260, "comment_id": 47117216, "body": "What is the server time zone?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428348952, "post_id": 29475260, "comment_id": 47117254, "body": "Do you get the same behavior if you run the script outside of cron? If so, you can try running with the <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow noreferrer\">debugger</a>. Set a watchpoint (<code>w -M &#39;foo&#39; &lt; 0</code>, where <code>foo</code> is the filename) and continue (<code>c</code>) until the value changes."}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1428351694, "post_id": 29475260, "comment_id": 47118488, "body": "@Sinan&#220;n&#252;r /etc/rc.conf has timezone=&quot;America/New_York&quot;."}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428351776, "post_id": 29475260, "comment_id": 47118524, "body": "@ThisSuitIsBlackNot That&#39;s essentially what I did with the 1000-write test, the script was run from the command line outside of cron.  In 1000 iterations, the file&#39;s modification timestamp was fine."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428351887, "post_id": 29475260, "comment_id": 47118585, "body": "You said &quot;<i>a</i> perl script running a loop of 1000 iterations.&quot; I&#39;m asking if you ran <i>the</i> script that is exhibiting this behavior in cron. If not, you&#39;re comparing apples and oranges."}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428352506, "post_id": 29475260, "comment_id": 47118926, "body": "@ThisSuitIsBlackNot Ah, no I haven&#39;t done that yet.  Will try that now."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1428357645, "post_id": 29475260, "comment_id": 47121437, "body": "OK. I wanted to see if the bit patterns for the good and bad times had any relationship."}, {"owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1428358466, "post_id": 29475260, "comment_id": 47121754, "body": "@Sinan&#220;n&#252;r Yeah, I saw this last Thursday right before everyone was leaving the office for the long weekend, and I didn&#39;t capture the &quot;ls&quot; details for the files.  d&#39;oh!"}], "answers": [{"tags": [], "owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "is_accepted": false, "score": 0, "last_activity_date": 1428426086, "creation_date": 1428426086, "answer_id": 29497071, "question_id": 29475260, "link": "https://stackoverflow.com/questions/29475260/perl-created-files-with-future-timestamps-on-freebsd-9-3/29497071#29497071", "title": "Perl created files with future timestamps on FreeBSD 9.3", "body": "<p>Finding those additional archived config files helped me track down the cause, which was as others have suggested, that the system date and timezone changed.</p>\n\n<pre><code>From:  1447147328 and America/Adak\nTo:    1426637771 and America/New_York\n</code></pre>\n\n<p>What was throwing me off, was that I thought the cron script wrote ALL of the output files each time it executes, but that's not the case.  The files have different \"refresh intervals\".</p>\n"}], "owner": {"reputation": 3525, "user_id": 775361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b4499eb383a02267b50a02d75d86d5fa?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/775361/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428426086, "creation_date": 1428337608, "last_edit_date": 1428425158, "question_id": 29475260, "link": "https://stackoverflow.com/questions/29475260/perl-created-files-with-future-timestamps-on-freebsd-9-3", "title": "Perl created files with future timestamps on FreeBSD 9.3", "body": "<p>I just encountered some strange behavior with Perl 5.16.3 on FreeBSD 9.3-RELEASE-p3.  We've got a cron job which runs every five minutes and generates some text status files.  I just happened to list the contents of the output directory and saw that the timestamps for some of the files <em>were in the future!</em>  The files are created like this:</p>\n\n<pre><code>if (open(OUT, \"&gt; $status_file_path\")) {\n    print OUT \"$status_info\\n\";\n    close OUT;\n}\n</code></pre>\n\n<p>Now, the file handle OUT is used in several places, however it is opened and closed within the same block as shown above.  And like I said, out of ten files, only a few had future dates when displayed using <em>ls</em>.</p>\n\n<p>For example, files with the current date had timestamps like <em>04/02/2015 20:29:46</em>, files with <em>future</em> timestamps were out in November, e.g. <em>11/10/2015 09:38:41</em>.</p>\n\n<p>What might be going on here?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've got two tests running:</p>\n\n<p>1) a perl script running a loop of 1000 iterations, sleeping a random time up to 10 seconds between iterations, using the open/print/close logic to create an output file and abort the script if the file's modification time is in the future.</p>\n\n<p>2) a cron entry to touch a test file every minute, e.g. <em>touch /home/test/test_file_date_with_cron.txt</em></p>\n\n<p><strong>TEST RESULTS</strong></p>\n\n<p>Neither of the tests generated output files with a timestamp in the future.</p>\n\n<p>This is scary.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>Here is the filesystem info, the files are written in the /usr directory.</p>\n\n<pre><code># df -h\nFilesystem           Size    Used   Avail Capacity  Mounted on\n/dev/gpt/gprootfs      2G    133M    1.7G     7%    /\ndevfs                1.0k    1.0k      0B   100%    /dev\n/dev/gpt/gpusrfs     431G    3.8G    392G     1%    /usr\nprocfs               4.0k    4.0k      0B   100%    /proc\n</code></pre>\n\n<p><strong>EDIT 3</strong></p>\n\n<p>Running the script outside of cron for several hundred iterations didn't duplicate the problem.  HOWEVER, I just found some other files, which are created by a CGI script which have the future dates:</p>\n\n<pre><code>-rw-r--r--  1 test  test   5783 Nov 10  2015 Config.xml_20150210_104151\n-rw-r--r--  1 test  test  34548 Nov 10  2015 Config2.xml_20150210_104151\n-rw-r--r--  1 test  test   6105 Nov 10  2015 Config.xml_20151109_232210\n-rw-r--r--  1 test  test  34554 Nov 10  2015 Config2.xml_20151109_232210\n-rw-rw-r--  1 root  test   2075 Nov  9  2015 Config.xml_20151109_231055\n-rw-rw-r--  1 root  test   1232 Nov  9  2015 Config2.xml_20151109_231055\n</code></pre>\n\n<p>These are archive files, which get moved and renamed with the file's mtime timestamp. Note that BOTH <em>ls</em> and Perl's <em>stat()</em> function report the future date -- stat() is used to generate the file's timestamp portion of the name.  </p>\n\n<p>Looking at the first entry, ls reports \"Nov 10  2015\", whereas when the CGI script processed it, Perl's stat() reported \"20150210_104151\", i.e. \"Feb 02 2015\" which is most likely correct.</p>\n\n<p>Further down, we see ls showing \"Nov 10  2015\" and stat() reported \"20151109_232210\", i.e. \"Nov 09 2015\".</p>\n"}, {"tags": ["regex", "perl", "expression", "capture"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4157337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/506149007/picture?type=large", "display_name": "Anthony &#39;Runt&#39; Cleaves", "link": "https://stackoverflow.com/users/4157337/anthony-runt-cleaves"}, "edited": false, "score": 0, "creation_date": 1428335899, "post_id": 29474548, "comment_id": 47110551, "body": "I had to wait 8 minutes :P"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 0, "last_activity_date": 1428335303, "last_edit_date": 1428335303, "creation_date": 1428335099, "answer_id": 29474548, "question_id": 29474502, "link": "https://stackoverflow.com/questions/29474502/issue-with-a-expression-capturing-groups/29474548#29474548", "title": "Issue with a expression capturing groups", "body": "<p>You're almost there. You just need to add <code>.*?</code> after <code>eth</code> so that it would match the characters present in-between <code>eth</code> and the ip-address.</p>\n\n<pre><code>^(.*?)eth.*?\\b(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/jX1jL8/2\" rel=\"nofollow\">DEMO</a></p>\n\n<p>If you don't want the space before <code>eth</code>  not to be  captured by group 1 then you could change your regex like this,</p>\n\n<pre><code>^(.*?)\\s+eth.*?\\b(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/jX1jL8/3\" rel=\"nofollow\">DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": -1, "last_activity_date": 1428340639, "last_edit_date": 1428340639, "creation_date": 1428336668, "answer_id": 29474983, "question_id": 29474502, "link": "https://stackoverflow.com/questions/29474502/issue-with-a-expression-capturing-groups/29474983#29474983", "title": "Issue with a expression capturing groups", "body": "<p>Sometimes, people ignore what a well-defined sequence of characters a dotted-decimal IP representation is. I have almost <em>no</em> problems identifying an IP when I fully detail a proper IP octet. </p>\n\n<pre><code>my $octet  = qr/\\b(?:0|1\\d{0,2}|2(?:[0-4]\\d?|5[0-5]?|[6-9])?|[3-9]\\d?)\\b/;\nmy ( $foctet = \"$octet\" ) =~ s/0[|]//;\n</code></pre>\n\n<p>And then on top of that, I specify that a IP address is a set of four octets, separated by a dot.</p>\n\n<pre><code>my $ip_regex = qr/($foctet(\\.$octet){3})/;\n</code></pre>\n\n<p>This little beauty will almost always pull for me anything that is a valid IP from any file. </p>\n\n<p>Along with this, dates can be specified with greater specification. And again, following this specification, what you get will almost inevitably be a date:</p>\n\n<pre><code>my $dow            = qr/\\b(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)\\b/;\nmy $mon            = qr/\\b(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\\b/;\nmy $day            = qr/\\b(?:[012]\\d?|3[01]?|[4-9])\\b/;\nmy $hr24           = qr/\\b(?:[01]\\d?|2[0-3])\\b/;\nmy $minsec         = qr/\\b(?:[0-5]\\d)\\b/;\nmy $datetime_regex = qr/$dow\\s+$mon\\s+$day\\s+$hr24:$minsec:$minsec\\s+\\d+/;\n</code></pre>\n\n<p>So simply using both regexes against the source line, you get what you want without a whole lot of backtracking needed. </p>\n\n<pre><code>my @date_parts = $line =~ /$datetime_regex/;\nmy ( $ip )     = $line =~ /$ip_regex/;\n</code></pre>\n\n<p>In fact, if performance is a concern, I saw numerous failures in the single regex with the non-greedy match, whereas the the ip regex succeeds on first try. The regex engine finds '.' at offset 35 and starts back at position 32. </p>\n\n<p>However, the following, does not fail once for both. Just an indication of how it can help to specify your expressions to the expected range of data: </p>\n\n<pre><code>my ( $dt, $ip ) = m/($datetime_regex)\\s+eth\\d:\\d+\\s+($ip_regex)/;\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 4157337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/506149007/picture?type=large", "display_name": "Anthony &#39;Runt&#39; Cleaves", "link": "https://stackoverflow.com/users/4157337/anthony-runt-cleaves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 29474548, "answer_count": 2, "score": 0, "last_activity_date": 1428340639, "creation_date": 1428334918, "question_id": 29474502, "link": "https://stackoverflow.com/questions/29474502/issue-with-a-expression-capturing-groups", "title": "Issue with a expression capturing groups", "body": "<p>I have some data like this</p>\n\n<pre><code>Wed Mar 18 15:16:10 2015 eth0:1 109.224.232.219 up (not currently mapped)\nWed Mar 18 15:18:12 2015 eth0:1 109.224.232.219 down (not responding)\nWed Mar 18 15:20:46 2015 eth0:1 109.224.232.219 up (not currently mapped)\nWed Mar 18 15:22:52 2015 eth0:1 109.224.232.219 down (not responding)\nWed Mar 18 15:24:26 2015 eth0:1 109.224.232.219 up (not currently mapped)\n</code></pre>\n\n<p>I am trying to capture the IP and the date string on each line, I thought I could just do anything before the word eth and then my IP check, but this isn't working. Have I mis understood the concept of capture groups?</p>\n\n<p>Is there a sensible way to get this data from 1 regex?</p>\n\n<pre><code>(^(.*?)eth)(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n\n<p>This is an image of the regex currently</p>\n\n<p><a href=\"https://www.debuggex.com/i/BaXnqh2DzRhUCph8.png\" rel=\"nofollow\">https://www.debuggex.com/i/BaXnqh2DzRhUCph8.png</a></p>\n"}, {"tags": ["perl", "png", "bioperl"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 3, "creation_date": 1428333119, "post_id": 29473473, "comment_id": 47109057, "body": "What do you want to get? if you don&#39;t want show the binary data, remove the <code>print $panel-&gt;png;</code> line. Or remove the <code>print OUTFILE $panel-&gt;png;</code> and use the script as: <code>script.pl &gt; file.png</code>."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4297531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4f1cf21255c20b1990f64db95e5958b7?s=128&d=identicon&r=PG&f=1", "display_name": "neemie", "link": "https://stackoverflow.com/users/4297531/neemie"}, "edited": false, "score": 0, "creation_date": 1428340065, "post_id": 29474676, "comment_id": 47112679, "body": "yes &#39;binmode OUTFILE&#39; was what I&#39;m missing. working now. Thanks for your help - really appreciate it, as I&#39;m still learning the language (mainly by errors, i find!)"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1428350903, "last_edit_date": 1428350903, "creation_date": 1428335545, "answer_id": 29474676, "question_id": 29473473, "link": "https://stackoverflow.com/questions/29473473/why-is-this-script-creating-a-corrupted-png-file-on-windows/29474676#29474676", "title": "Why is this script creating a corrupted PNG file on Windows?", "body": "<p>You have</p>\n\n<pre><code>binmode STDOUT;\nprint $panel-&gt;png;\n</code></pre>\n\n<p>Interestingly, you also have:</p>\n\n<pre><code>print OUTFILE $panel-&gt;png;\n</code></pre>\n\n<p>but you never <code>binmode OUTFILE</code>. So, you display the contents of the PNG file in the command prompt, and create a corrupt PNG file. (see also <a href=\"http://www.nu42.com/2014/12/when-bits-dont-stick.html\" rel=\"nofollow\">When bits don't stick</a>.)</p>\n\n<p>If you remove the <code>print OUTFILE ...</code>, and redirect the output of your script to a PNG file, you should be able to view its contents in an image viewer.</p>\n\n<pre>C:\\> perl myscript.pl > panel.png</pre>\n\n<p>Alternatively, you can avoid printing the contents of a binary file to the console window, and instead use</p>\n\n<pre><code>binmode OUTFILE;\nprint $panel-&gt;png;\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4297531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4f1cf21255c20b1990f64db95e5958b7?s=128&d=identicon&r=PG&f=1", "display_name": "neemie", "link": "https://stackoverflow.com/users/4297531/neemie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 29474676, "answer_count": 1, "score": 0, "last_activity_date": 1428378257, "creation_date": 1428331308, "last_edit_date": 1428378257, "question_id": 29473473, "link": "https://stackoverflow.com/questions/29473473/why-is-this-script-creating-a-corrupted-png-file-on-windows", "title": "Why is this script creating a corrupted PNG file on Windows?", "body": "<p>I am trying to create a PNG file.</p>\n\n<p>The script below executes without returning any errors, the output file <code>tester.png</code> cannot be viewed (and the cmd window prints the attached the attached text).</p>\n\n<p>I am not sure why I cannot view the PNG file produced by this script.</p>\n\n<p>I have used both Active Perl (5.18.2) and also Strawberry Perl (5.18.4.1) but same problem. I tried Strawberry Perl as it has <code>libgd</code> and <code>libpng</code> as part of the installation, even though I'm not getting any errors. Any advice?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Bio::Graphics;\nuse Bio::SeqFeature::Generic;\nuse strict;\nuse warnings;\n\nmy $infile = \"data1.txt\";\nopen( ALIGN, \"$infile\" ) or die;\nmy $outputfile = \"tester.png\";\nopen( OUTFILE, \"&gt;$outputfile\" ) or die;\n\nmy $panel = Bio::Graphics::Panel-&gt;new(\n    -length =&gt; 1000,\n    -width  =&gt; 800\n);\nmy $track = $panel-&gt;add_track(\n    -glyph =&gt; 'generic',\n    -label =&gt; 1\n);\n\nwhile (&lt;ALIGN&gt;) {    # read blast file\n    chomp;\n\n    #next if /^\\#/;  # ignore comments\n    my ( $name, $score, $start, $end ) = split /\\t+/;\n    my $feature = Bio::SeqFeature::Generic-&gt;new(\n        -display_name =&gt; $name,\n        -score        =&gt; $score,\n        -start        =&gt; $start,\n        -end          =&gt; $end\n    );\n    $track-&gt;add_feature($feature);\n\n}\n\nbinmode STDOUT;\nprint $panel-&gt;png;\nprint OUTFILE $panel-&gt;png;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/bNfEB.jpg\" alt=\"screenshot of cmd print\"></p>\n"}, {"tags": ["perl", "timestamp", "julian-date"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1428330750, "post_id": 29473213, "comment_id": 47107714, "body": "<code>210866803200000000</code> is the Julian timestamp for the UNIX epoch to add more context."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1428331264, "post_id": 29473213, "comment_id": 47107985, "body": "You&#39;re multiplying an integer by 1000000 and wondering why you&#39;re getting all zeros in the right 6 places?  Have you tried to <code>use Time::HiRes</code> and avoid shelling out?"}, {"owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "edited": false, "score": 0, "creation_date": 1428331411, "post_id": 29473213, "comment_id": 47108069, "body": "Yah, the zeroes are pretty much obvious, that&#39;s what I mentioned, &quot;it does not look good to me&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1428670044, "post_id": 29473213, "comment_id": 47273395, "body": "Wondering why you ran a separate instance Perl to get <code>$t</code>, rather than just running <code>my $t = time</code>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1428332894, "creation_date": 1428332894, "answer_id": 29473930, "question_id": 29473213, "link": "https://stackoverflow.com/questions/29473213/18-digit-julian-timestamp-in-perl/29473930#29473930", "title": "18 digit julian timestamp in perl", "body": "<p>Based on the comments, you appear to be asking how to obtain the number of microseconds since the unix epoch.</p>\n\n<pre><code>use Time::HiRes qw( );\n\nmy $microsec_time = int( Time::HiRes::time() * 1_000_000 );\nreturn 210866803200000000 + $microsec_time;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 498, "user_id": 4770772, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-ZCz4Xn2SdIE/AAAAAAAAAAI/AAAAAAAAAB8/jS4fTOAHdW4/photo.jpg?sz=128", "display_name": "Gerard Ashton", "link": "https://stackoverflow.com/users/4770772/gerard-ashton"}, "is_accepted": false, "score": 0, "last_activity_date": 1432648098, "creation_date": 1432648098, "answer_id": 30460462, "question_id": 29473213, "link": "https://stackoverflow.com/questions/29473213/18-digit-julian-timestamp-in-perl/30460462#30460462", "title": "18 digit julian timestamp in perl", "body": "<p>I agree with the answer given by ikegami, except the amount to be added to the unix epoch needs to be changed. The value 210866803200000000 corresponds to November 24, 4714 BC, 00:00 Universal Time, Gregorian proleptic calendar. But the epoch of Julian dates is at noon, not midnight. So the amount to be added should be 210,866,760,000,000,000. And of course there is no official name for a Julian date that has been converted to microseconds, so anyone using such a number would have to provide an explanation to anyone who is receiving the data.</p>\n"}], "owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 29473930, "answer_count": 2, "score": 0, "last_activity_date": 1432648098, "creation_date": 1428330305, "last_edit_date": 1428331666, "question_id": 29473213, "link": "https://stackoverflow.com/questions/29473213/18-digit-julian-timestamp-in-perl", "title": "18 digit julian timestamp in perl", "body": "<p>I need to get 18-digit Julian Timestamp in my perl script. Could anyone help me in this? However I have written a subroutine to achieve this but it does not look good to me since it always gives me a number ending with 6 zeroes. Please help to get a proper 18-digit J-timestamp.</p>\n\n<pre><code>sub GetJulianTimestamp()\n{\n  my $t = `perl -e 'print time, \"\\n\"'`;\n  return (($t * 1000000 ) + 210866803200000000);\n}\n</code></pre>\n"}, {"tags": ["perl", "loops"], "comments": [{"owner": {"reputation": 11359, "user_id": 1323940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/def1b1fd4342d9e332b7a3bf41f57a00?s=128&d=identicon&r=PG", "display_name": "SzG", "link": "https://stackoverflow.com/users/1323940/szg"}, "edited": false, "score": 0, "creation_date": 1428330290, "post_id": 29471973, "comment_id": 47107482, "body": "It&#39;d be nice to know what the input is."}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "reply_to_user": {"reputation": 11359, "user_id": 1323940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/def1b1fd4342d9e332b7a3bf41f57a00?s=128&d=identicon&r=PG", "display_name": "SzG", "link": "https://stackoverflow.com/users/1323940/szg"}, "edited": false, "score": 0, "creation_date": 1428330469, "post_id": 29471973, "comment_id": 47107566, "body": "INPUT is there... The @files grab the list of files INPUT=HG00096.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_her&zwnj;&#8203;c2_data.bam INPUT=HG00096.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.&zwnj;&#8203;bam_herc2_phase1.bam INPUT=HG00096.mapped.ILLUMINA.bwa.GBR.low_coverage.20120522.&zwnj;&#8203;bam_herc2_data.bam INPUT=HG00096.mapped.illumina.mosaik.GBR.exome.20110411.bam_&zwnj;&#8203;herc2_phase1.bam    And so on for all files .bam inside the folder."}, {"owner": {"reputation": 11359, "user_id": 1323940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/def1b1fd4342d9e332b7a3bf41f57a00?s=128&d=identicon&r=PG", "display_name": "SzG", "link": "https://stackoverflow.com/users/1323940/szg"}, "edited": false, "score": 0, "creation_date": 1428330628, "post_id": 29471973, "comment_id": 47107646, "body": "What is in input.txt?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1428330670, "post_id": 29471973, "comment_id": 47107669, "body": "@guidebortoli: Add this in your question from comment."}], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1428335409, "post_id": 29473794, "comment_id": 47110292, "body": "Yeah, I originally have this in my code. I just forgot to fix it. Thanks!!"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1428399432, "post_id": 29473794, "comment_id": 47135925, "body": "@guidebortoli: So you have not anymore a problem? Or is it something else?"}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1428407738, "post_id": 29473794, "comment_id": 47140921, "body": "my problem is not solved yet. If you look to my foreach looping you&#39;ll see I&#39;m getting something that it&#39;s not what I want :( With my code, picard command is applied foreach sample as you can see in the third box, but what I want is in the fourth box, with samples grouped by name... HG00096 and HG00117 for this example above...."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1428332473, "creation_date": 1428332473, "answer_id": 29473794, "question_id": 29471973, "link": "https://stackoverflow.com/questions/29471973/source-command-looping-a-list-of-files/29473794#29473794", "title": "Source command looping a list of files", "body": "<p>In the first command, you add a suffix to the OUTPUT file:</p>\n\n<pre><code>my $command = \"picard MergeSamFiles $file OUTPUT=$line\" . \"-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\";  \n#                                               here ___^_______________^\n</code></pre>\n\n<p>Just do the same for the second command:</p>\n\n<pre><code>my $command2 = \"picard MarkDuplicates ${line}-tmp-herc2.bam OUTPUT=$line-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\";\n#                                    here ___^____________^\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428332473, "creation_date": 1428325758, "last_edit_date": 1428330916, "question_id": 29471973, "link": "https://stackoverflow.com/questions/29471973/source-command-looping-a-list-of-files", "title": "Source command looping a list of files", "body": "<p>I have exhausted my brain trying to do something that might be easy for someone with a little more experience in programming Perl than I do.</p>\n\n<p>I have the code below.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @lines = do {\n  open my $in_fh, '&lt;', 'input.txt' or die qq{Unable to open \"input.txt\" for input: $!};\n  &lt;$in_fh&gt;;\n};\nchomp @lines;\nmy $re = join '|', @lines;\n\nmy @files = grep /^(?:$re)/, glob '*.bam';\n$_ = \"INPUT=$_\" for @files;\n\n\nforeach my $file (@files) {\n    foreach my $line (@lines) {\n        if ($file =~ m/$line/) {\n            my $command = \"picard MergeSamFiles $file OUTPUT=$line\" . \"-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\";  \n            system($command);\n            my $command2 = \"picard MarkDuplicates $line OUTPUT=$line-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\";\n            system($command2);\n                unlink \"$line-tmp-herc2.bam\";\n                unlink \"$line-tmp-herc2.bai\";\n                unlink \"tmp\";\n        }\n    }\n}\n</code></pre>\n\n<p>Inside the input.txt I have the sample names that will verify if the sample is in the directory. For this example I just used two samples.</p>\n\n<pre><code>HG00096\nHG00117\n</code></pre>\n\n<p>So, with the code above, I'm getting something like this.</p>\n\n<pre><code>picard MergeSamFiles INPUT=HG00096.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_herc2_data.bam OUTPUT=HG00096-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00096 OUTPUT=HG00096-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\npicard MergeSamFiles INPUT=HG00096.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.bam_herc2_phase1.bam OUTPUT=HG00096-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00096 OUTPUT=HG00096-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\npicard MergeSamFiles INPUT=HG00096.mapped.ILLUMINA.bwa.GBR.low_coverage.20120522.bam_herc2_data.bam OUTPUT=HG00096-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00096 OUTPUT=HG00096-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\npicard MergeSamFiles INPUT=HG00096.mapped.illumina.mosaik.GBR.exome.20110411.bam_herc2_phase1.bam OUTPUT=HG00096-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00096 OUTPUT=HG00096-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\npicard MergeSamFiles INPUT=HG00117.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_herc2_data.bam OUTPUT=HG00117-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00117 OUTPUT=HG00117-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\npicard MergeSamFiles INPUT=HG00117.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.bam_herc2_phase1.bam OUTPUT=HG00117-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00117 OUTPUT=HG00117-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\npicard MergeSamFiles INPUT=HG00117.mapped.ILLUMINA.bwa.GBR.low_coverage.20120522.bam_herc2_data.bam OUTPUT=HG00117-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00117 OUTPUT=HG00117-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\npicard MergeSamFiles INPUT=HG00117.mapped.illumina.mosaik.GBR.exome.20110411.bam_herc2_phase1.bam OUTPUT=HG00117-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00117 OUTPUT=HG00117-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\n</code></pre>\n\n<p>When I actually wanted something like this.</p>\n\n<pre><code>picard MergeSamFiles INPUT=HG00096.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_herc2_data.bam INPUT=HG00096.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.bam_herc2_phase1.bam INPUT=HG00096.mapped.ILLUMINA.bwa.GBR.low_coverage.20120522.bam_herc2_data.bam INPUT=HG00096.mapped.illumina.mosaik.GBR.exome.20110411.bam_herc2_phase1.bam   OUTPUT=HG00096-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00096-tmp-herc2.bam OUTPUT=HG00096-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\n\npicard MergeSamFiles INPUT=HG00117.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_herc2_data.bam INPUT=HG00117.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.bam_herc2_phase1.bam INPUT=HG00117.mapped.ILLUMINA.bwa.GBR.low_coverage.20120522.bam_herc2_data.bam INPUT=HG00117.mapped.illumina.mosaik.GBR.exome.20110411.bam_herc2_phase1.bam OUTPUT=HG00117-tmp-herc2.bam MERGE_SEQUENCE_DICTIONARIES=TRUE CREATE_INDEX=TRUE\npicard MarkDuplicates HG00117-tmp-herc2.bam OUTPUT=HG00117-herc2.bam METRICS_FILE=tmp REMOVE_DUPLICATES=TRUE CREATE_INDEX=TRUE\n</code></pre>\n\n<p>So the <code>INPUT</code> data should be together in order to the system <code>command</code> merge de files e generate the <code>OUTPUT</code> for the next source <code>command2</code>.</p>\n\n<p>I know I'm messing around with the foreach loop but I tried to figure out how to correctly iterate this and I got stuck.</p>\n\n<p>Hope you can help me with this issue.</p>\n"}, {"tags": ["regex", "bash", "perl", "unix"], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 1, "last_activity_date": 1428328489, "last_edit_date": 1428328489, "creation_date": 1428325460, "answer_id": 29471898, "question_id": 29471853, "link": "https://stackoverflow.com/questions/29471853/find-replace-with-backslashes-and-quotes-in-perl-in-terminal-osx/29471898#29471898", "title": "find replace with backslashes and quotes in perl in terminal OSX", "body": "<p>You must need to include the double quotes in regex and you don't need to add <code>''</code> in the replacement part.</p>\n\n<pre><code>find /MyPathToFile/AlDis.txt -type f -exec perl -i -pe 's/\"&lt;a[^&gt;]*\\/a&gt;\"//g' {} \\;\n</code></pre>\n\n<p>If you want to work with a single file then you don't need to use perl command inside the find command.</p>\n\n<pre><code>perl -i -pe 's/\"&lt;a[^&gt;]*\\/a&gt;\"//g' /MyPathToFile/AlDis.txt\n</code></pre>\n"}], "owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 29471898, "answer_count": 1, "score": 0, "last_activity_date": 1428328489, "creation_date": 1428325311, "last_edit_date": 1428325438, "question_id": 29471853, "link": "https://stackoverflow.com/questions/29471853/find-replace-with-backslashes-and-quotes-in-perl-in-terminal-osx", "title": "find replace with backslashes and quotes in perl in terminal OSX", "body": "<p>Im trying to find the line <code>\"&lt;ablablablaLoadoftext/a&gt;\"</code> with the double quotes being part of the text and then replace it with nothing (ie delete it)</p>\n\n<pre><code>find /MyPathToFile/AlDis.txt -type f -exec perl -p -i -e \"s/\\&lt;a.*a\\&gt;\\t/''/g\" {} \\\n</code></pre>\n\n<p>I suspect the error is related to how I'm handling double quotes and single quotes but I've tried backslashing them and no joy\nHowever nothing happens (but no error). Can anyone help?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1428324992, "post_id": 29471730, "comment_id": 47104768, "body": "post an example along with expected output."}, {"owner": {"reputation": 294945, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 1, "creation_date": 1428325009, "post_id": 29471730, "comment_id": 47104778, "body": "Can those pairs be nested?"}, {"owner": {"reputation": 3691, "user_id": 2744726, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4ed08ae27f3c9fd48e9645a5b24d60ef?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Bribiescas", "link": "https://stackoverflow.com/users/2744726/carlos-bribiescas"}, "reply_to_user": {"reputation": 294945, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 0, "creation_date": 1428325208, "post_id": 29471730, "comment_id": 47104855, "body": "@TimPietzcker Good question, in my case no they cannot"}], "answers": [{"comments": [{"owner": {"reputation": 3691, "user_id": 2744726, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4ed08ae27f3c9fd48e9645a5b24d60ef?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Bribiescas", "link": "https://stackoverflow.com/users/2744726/carlos-bribiescas"}, "edited": false, "score": 0, "creation_date": 1428325741, "post_id": 29471825, "comment_id": 47105091, "body": "This doesn&#39;t seem to work?  I&#39;ve modified the other posts example to see what i mean"}, {"owner": {"reputation": 294945, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "reply_to_user": {"reputation": 3691, "user_id": 2744726, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4ed08ae27f3c9fd48e9645a5b24d60ef?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Bribiescas", "link": "https://stackoverflow.com/users/2744726/carlos-bribiescas"}, "edited": false, "score": 0, "creation_date": 1428327946, "post_id": 29471825, "comment_id": 47106211, "body": "What do you mean by &quot;doesn&#39;t work&quot;, and how did you try it? <code>$subject =~ s&#47;MyMatch(?=(?:(?!BoundsTag).)*EndsBoundsTag)&#47;&#47;sg;</code> should remove all <code>MyMatch</code>es from <code>$subject</code>."}, {"owner": {"reputation": 3691, "user_id": 2744726, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4ed08ae27f3c9fd48e9645a5b24d60ef?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Bribiescas", "link": "https://stackoverflow.com/users/2744726/carlos-bribiescas"}, "edited": false, "score": 0, "creation_date": 1428328844, "post_id": 29471825, "comment_id": 47106715, "body": "Earlier when i tried it just didn&#39;t match anything.  Now when I tried your example from your comment it did match. I suspect i made a dumb mistake earlier, so thats on me.  My apologies.  Now, it is matching within the first bounds, but not the second <a href=\"https://regex101.com/r/nH5uR7/4\" rel=\"nofollow noreferrer\">regex101.com/r/nH5uR7/4</a>"}], "tags": [], "owner": {"reputation": 294945, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "is_accepted": true, "score": 0, "last_activity_date": 1428325213, "creation_date": 1428325213, "answer_id": 29471825, "question_id": 29471730, "link": "https://stackoverflow.com/questions/29471730/how-do-i-replace-all-instances-of-a-string-within-a-repeating-bounds/29471825#29471825", "title": "How do I replace all instances of a string within a repeating bounds?", "body": "<p>Assuming that those tags always occur in pairs and are unnested, it's simple:</p>\n\n<pre><code>/Stuff(?=(?:(?!BoundsTag).)*EndsBoundsTag)/s\n</code></pre>\n\n<p>will match <code>Stuff</code> only if <code>EndsBoundsTag</code> can be matched after it, with no <code>BoundsTag</code> in-between.</p>\n\n<p>Test it live on regex101.com.</p>\n\n<p><strong>Explanation:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Stuff           # Match Stuff\n(?=             # only if the following matches afterwards:\n (?:            # 1. A group that matches...\n  (?!BoundsTag) # ...unless it's the start of \"BoundsTag\"...\n  .             # any character,\n )*             # repeated as needed.\n EndsBoundsTag  # 2. EndsBoundsTag must also be present \n)               # End of lookahead - if that succeeds, we're between tags.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 294945, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 0, "creation_date": 1428325565, "post_id": 29471841, "comment_id": 47105015, "body": "That only works once per tag. For <code>BoundsTag Stuff Stuff EndsBoundsTag</code>, only the first <code>Stuff</code> will match."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1428325908, "post_id": 29471841, "comment_id": 47105162, "body": "All of the above is not pertinent to the current OP example input and requirements (nothing is said about possible repetitions inside the tags)."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 3691, "user_id": 2744726, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4ed08ae27f3c9fd48e9645a5b24d60ef?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Bribiescas", "link": "https://stackoverflow.com/users/2744726/carlos-bribiescas"}, "edited": false, "score": 0, "creation_date": 1428327266, "post_id": 29471841, "comment_id": 47105842, "body": "@CarlosBribiescas: I updated my answer meeting your updated requirements."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 0, "last_activity_date": 1428327234, "last_edit_date": 1428327234, "creation_date": 1428325252, "answer_id": 29471841, "question_id": 29471730, "link": "https://stackoverflow.com/questions/29471730/how-do-i-replace-all-instances-of-a-string-within-a-repeating-bounds/29471841#29471841", "title": "How do I replace all instances of a string within a repeating bounds?", "body": "<p>It is possible. In Perl, you can use this regex:</p>\n\n<pre><code>\\*{2}(?![^*]?\\*{2})([^*]+?)\\*{2}\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/bZ8dI0/2\" rel=\"nofollow\">example here</a>.</p>\n"}], "owner": {"reputation": 3691, "user_id": 2744726, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4ed08ae27f3c9fd48e9645a5b24d60ef?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Bribiescas", "link": "https://stackoverflow.com/users/2744726/carlos-bribiescas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 29471825, "answer_count": 2, "score": -1, "last_activity_date": 1428327234, "creation_date": 1428324864, "last_edit_date": 1428326583, "question_id": 29471730, "link": "https://stackoverflow.com/questions/29471730/how-do-i-replace-all-instances-of-a-string-within-a-repeating-bounds", "title": "How do I replace all instances of a string within a repeating bounds?", "body": "<p>Suppose I have a string like this</p>\n\n<pre><code>&lt;other...Stuff&gt; BoundsTag &lt;relevant...Stuff&gt; EndsBoundsTag &lt;other...Stuff&gt; BoundsTag &lt;relevant...Stuff&gt; EndsBoundsTag &lt;other...Stuff&gt;\n</code></pre>\n\n<p>I want to do a search and replace on my string, but only change it if its within BoundsTag/EndsBoundsTag.  The string I'm trying to match exists many times in both <code>&lt;relevant...Stuff&gt;</code> and <code>&lt;other...Stuff&gt;</code>.  Also, there are an arbitrary number of BoundsTag/EndsBoundsTag pairs.</p>\n\n<p>Is this possible with perl regexes?</p>\n\n<p>Here is an example of a specific string where i'm trying to replace <code>MyMatch</code></p>\n\n<pre><code>BoundsTag asdfasdfa MyMatch asdfasdfasdf MyMatch sdfasd EndsBoundsTag asdfasdfasdfsad **MyMatch** asd *MyMatch** asf2ef23fasdfasdf BoundsTag fghjfghj MyMatch fghjfghjgh MyMatch fghjfghj EndsBoundsTag \n</code></pre>\n\n<p>Here I would want to replace all the instance of MyMatch except for the ones between <code>**</code>.  And I don't mean specifically the characters <code>**</code>, those are just there to point it out.  Also, the spacing is just there for legibility.</p>\n"}, {"tags": ["perl", "replace", "textmate"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1428314417, "post_id": 29468673, "comment_id": 47099920, "body": "What is your expected output?"}, {"owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1428316715, "post_id": 29468673, "comment_id": 47100877, "body": "it would be word2 word4 word6. Im just trying to find the targets in a list so I can then replace them individually with another word"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1428324884, "post_id": 29468673, "comment_id": 47104716, "body": "<code>grep -f file2 file1</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 1, "last_activity_date": 1429101551, "last_edit_date": 1429101551, "creation_date": 1428324810, "answer_id": 29471715, "question_id": 29468673, "link": "https://stackoverflow.com/questions/29468673/how-to-find-and-replace-a-list-of-words-with-a-list-of-words-in-textmate-or-with/29471715#29471715", "title": "How to find and replace a list of words with a list of words in textmate or with perl", "body": "<p>I'm not exactly sure what you want but it sounds like you want to create a regular expression from the second file and apply it to each line in the first. Something like (untested):</p>\n\n<pre><code>use autodie;\nopen my $fh, '&lt;', $second_file;\nchomp( my @lines = &lt;$fh&gt; );\nclose $fh;\n\nmy $joined = join( q{|}, map { quotemeta( $_ ) } @lines );\nmy $qr = qr{ $joined };\n\nopen $fh, '&lt;', $first_file;\nwhile( &lt;$fh&gt; ){\n  if( /$qr/ ){\n    print;\n  }\n}\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 29471715, "answer_count": 1, "score": -1, "last_activity_date": 1429101551, "creation_date": 1428313054, "question_id": 29468673, "link": "https://stackoverflow.com/questions/29468673/how-to-find-and-replace-a-list-of-words-with-a-list-of-words-in-textmate-or-with", "title": "How to find and replace a list of words with a list of words in textmate or with perl", "body": "<p>I have a long list of words as follows</p>\n\n<pre><code>word1\nword2\nword3\nword4\nword5\nword6\nword7\n</code></pre>\n\n<p>I would like to do a find and replace on these words without individually finding a word. Id like to create a list of find targets and run this just once eg my target list would be as below.</p>\n\n<pre><code>word2\nword4\nword6\n</code></pre>\n\n<p>How can I do this and can it be done in textmate. Alternatives also considered obviously but I'm not familiar with perl scripts.</p>\n"}, {"tags": ["windows", "perl", "path"], "comments": [{"owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 1, "creation_date": 1428308809, "post_id": 29467665, "comment_id": 47097767, "body": "for sure is, that there is no need to use backslash on path. Just use forward slash. Perl substitutes this automatically. And no need to escape backslash in a single quoted string"}, {"owner": {"reputation": 4937, "user_id": 2445025, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/HTAcm.jpg?s=128&g=1", "display_name": "Prabhu", "link": "https://stackoverflow.com/users/2445025/prabhu"}, "reply_to_user": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1428312756, "post_id": 29467665, "comment_id": 47099239, "body": "escaped backslashes were inside the double quotes. I made typing error, and corrected in the original question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1428328262, "post_id": 29467665, "comment_id": 47106371, "body": "@hexerei software, Perl does not do perform any substitution. Windows natively accepts both <code>\\ </code> and <code>&#47;</code>  as path separators."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428328335, "post_id": 29467665, "comment_id": 47106416, "body": "@Prabhu, <code>&#39;c:\\\\windows\\\\system32\\\\softwareconfig.txt&#39;</code> and <code>&quot;c:\\\\windows\\\\system32\\\\softwareconfig.txt&quot;</code> produce the same string."}, {"owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1428329822, "post_id": 29467665, "comment_id": 47107250, "body": "@ikegami that is what i meant with &quot;Just use forward slash. Perl substitutes this automatically.&quot; so <code>&#47;windows&#47;system32&#47;test.txt</code> would have worked, if the rights where there"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1428329891, "post_id": 29467665, "comment_id": 47107270, "body": "@hexerei software, That&#39;s the comment to which I was replying. It&#39;s wrong. Yes, it works, but no, Perl performs no substitution. Windows simply accepts both <code>\\ </code> and <code>&#47;</code> as a path separator."}], "answers": [{"comments": [{"owner": {"reputation": 4937, "user_id": 2445025, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/HTAcm.jpg?s=128&g=1", "display_name": "Prabhu", "link": "https://stackoverflow.com/users/2445025/prabhu"}, "edited": false, "score": 0, "creation_date": 1428312620, "post_id": 29468261, "comment_id": 47099177, "body": "I removed &amp; before read_config_file() but the problem remains the same. Exact same code is working fine on XP machine with activeperl 8.10."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 4937, "user_id": 2445025, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/HTAcm.jpg?s=128&g=1", "display_name": "Prabhu", "link": "https://stackoverflow.com/users/2445025/prabhu"}, "edited": false, "score": 0, "creation_date": 1428314765, "post_id": 29468261, "comment_id": 47100063, "body": "@Prabhu: Strange, it works fine for me. Did you remove the <code>$</code> before <code>CONFIG_FNAME</code>? May be <code>read_config_file</code> produces an error?"}, {"owner": {"reputation": 4937, "user_id": 2445025, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/HTAcm.jpg?s=128&g=1", "display_name": "Prabhu", "link": "https://stackoverflow.com/users/2445025/prabhu"}, "edited": false, "score": 0, "creation_date": 1428316267, "post_id": 29468261, "comment_id": 47100644, "body": "Yes, $ before CONFIG_FNAME was a typing mistake. I have already corrected it in my question"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1498162915, "last_edit_date": 1498162915, "creation_date": 1428311105, "answer_id": 29468261, "question_id": 29467665, "link": "https://stackoverflow.com/questions/29467665/path-from-activeperl-in-windows-7-does-not-work/29468261#29468261", "title": "Path from ActivePerl in Windows 7 does not work", "body": "<p>Please, always <code>use strict;</code> and <code>use warnings</code> at the beginning of all your scripts. It says:</p>\n\n<blockquote>\n  <p>Variable \"$CONFIG_FNAME\" is not imported at test1.pl line 7.\n      (Did you mean &amp;CONFIG_FNAME instead?)</p>\n</blockquote>\n\n<p>The two lines must be:</p>\n\n<pre><code>self-&gt;{\"config\"} = read_config_file(CONFIG_FNAME);\nwarn \"read_config_file(\".CONFIG_FNAME.\") returned undef\" if !defined($self-&gt;{\"config\"});\n</code></pre>\n\n<p>A constant is a bare word. A constant is not interpolated inside quotes.</p>\n"}, {"comments": [{"owner": {"reputation": 4937, "user_id": 2445025, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/HTAcm.jpg?s=128&g=1", "display_name": "Prabhu", "link": "https://stackoverflow.com/users/2445025/prabhu"}, "edited": false, "score": 0, "creation_date": 1428318584, "post_id": 29469947, "comment_id": 47101724, "body": "I relocated the config file to <code>&#39;d:\\softwareconfig.txt&#39;</code> now it is working. I think the problem was due to windows access restriction to system folder"}, {"owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1428318908, "post_id": 29469947, "comment_id": 47101891, "body": "you should place the file in your user directory, or in the application data directories as Sinan proposed"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1428318011, "creation_date": 1428318011, "answer_id": 29469947, "question_id": 29467665, "link": "https://stackoverflow.com/questions/29467665/path-from-activeperl-in-windows-7-does-not-work/29469947#29469947", "title": "Path from ActivePerl in Windows 7 does not work", "body": "<p>Your problem likely has nothing to do with Perl. <code>Windows\\system32</code> is a protected system directory, and Vista and later are rather protective of that location.</p>\n\n<p>I do not recognize the file name <code>'softwareconfig.txt'</code> as being a standard Windows file. If you are putting your own configuration files in protected system directories, stop doing that.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.environment.specialfolder%28v=vs.110%29.aspx\" rel=\"nofollow\">Environment::SpecialFolder Enumeration</a> gives you the list of special folders on Windows.</p>\n\n<p>If the configuration file is for a specific user, then a subdirectory under <code>ApplicationData</code> is appropriate. If it is for all users, then a subdirectory under <code>CommonApplicationData</code> is appropriate.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6802918"}, "is_accepted": false, "score": 1, "last_activity_date": 1498162954, "last_edit_date": 1498162954, "creation_date": 1473224860, "answer_id": 39361590, "question_id": 29467665, "link": "https://stackoverflow.com/questions/29467665/path-from-activeperl-in-windows-7-does-not-work/39361590#39361590", "title": "Path from ActivePerl in Windows 7 does not work", "body": "<p>Your Perl code seems okay. You can just use a single forward slash. Perl substitutes this automatically. So <code>/windows/system32/softwareconfig.txt</code> will work if the service or program that is trying to access the file has the permission to read from that path.</p>\n\n<p>My recommendation: Try changing the permission of the configuration file to allow from everyone.</p>\n"}], "owner": {"reputation": 4937, "user_id": 2445025, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/HTAcm.jpg?s=128&g=1", "display_name": "Prabhu", "link": "https://stackoverflow.com/users/2445025/prabhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 29469947, "answer_count": 3, "score": -1, "last_activity_date": 1498162954, "creation_date": 1428308076, "last_edit_date": 1498162788, "question_id": 29467665, "link": "https://stackoverflow.com/questions/29467665/path-from-activeperl-in-windows-7-does-not-work", "title": "Path from ActivePerl in Windows 7 does not work", "body": "<p>I have installed <a href=\"https://en.wikipedia.org/wiki/ActivePerl\" rel=\"nofollow noreferrer\">ActivePerl</a> on a Windows 7 machine. Everything is okay, but it cannot read a configuration file from the given path. The code I used is</p>\n\n<pre><code>use constant CONFIG_FNAME =&gt; '/windows/system32/softwareconfig.txt';\n$self-&gt;{\"config\"} = &amp;read_config_file($CONFIG_FNAME);\nwarn \"read_config_file(CONFIG_FNAME) returned undef\" if !defined($self-&gt;{\"config\"});\n</code></pre>\n\n<p>It always returns the warning. It works if I use the <code>softwareconfig.txt</code> in the same directory and <code>CONFIG_FNAME =&gt; 'softwareconfig.txt'</code>.</p>\n\n<p>This code runs perfectly on Windows&nbsp;XP. I also tried following paths, but none seems to work. These all work perfectly in Windows&nbsp;XP.</p>\n\n<pre><code>CONFIG_FNAME =&gt; 'c:/windows/system32/softwareconfig.txt'\nCONFIG_FNAME =&gt; 'c:\\\\windows\\system32\\softwareconfig.txt'\nCONFIG_FNAME =&gt; 'c:\\\\windows\\\\system32\\\\softwareconfig.txt'\nCONFIG_FNAME =&gt; \"c:\\\\windows\\\\system32\\\\softwareconfig.txt\"\nCONFIG_FNAME =&gt; '\\\\windows\\\\system32\\\\softwareconfig.txt'\n</code></pre>\n\n<p>What can be done to correct this?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "edited": false, "score": 0, "creation_date": 1428311527, "post_id": 29467661, "comment_id": 47098738, "body": "Don&#39;t know why is value undef, It should take <code>0</code> for <code>flapPreventionWaitCycles</code> but its not taking."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428312000, "post_id": 29467661, "comment_id": 47098939, "body": "@user4752537: What does the <code>warn</code> return?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428313831, "post_id": 29467661, "comment_id": 47099687, "body": "The empty <code>[]</code> or <code>[ ]</code> is more important for the issue."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "edited": false, "score": 0, "creation_date": 1428314095, "post_id": 29467661, "comment_id": 47099804, "body": "Sorry, I didn&#39;t get you. How can I resolve this issue?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428314198, "post_id": 29467661, "comment_id": 47099839, "body": "@user10: I&#39;m getting the warnings for empty input lines. For non-empty lines, there are no warnings."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "edited": false, "score": 0, "creation_date": 1428314820, "post_id": 29467661, "comment_id": 47100095, "body": "But there is no empty lines in input file."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428314890, "post_id": 29467661, "comment_id": 47100124, "body": "@user10: There are lines containing only one space in the pastebin. When I remove them, I get no warnings."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "edited": false, "score": 0, "creation_date": 1428315083, "post_id": 29467661, "comment_id": 47100187, "body": "There is no line space in original text file. There are total 17 lines with two new lines chraracter at last."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428315150, "post_id": 29467661, "comment_id": 47100216, "body": "@user10: I can&#39;t reproduce your problem, then."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "edited": false, "score": 0, "creation_date": 1428315451, "post_id": 29467661, "comment_id": 47100340, "body": "I didn&#39;t see any blank line in my text file. but when I copy and paste it in <code>Notepad++</code> it shows a blank line after each non-empty line."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428318016, "post_id": 29467661, "comment_id": 47101466, "body": "Print the sql, check what&#39;s wrong with it. Have you switched to <code>quotewords</code>?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428321618, "post_id": 29467661, "comment_id": 47103202, "body": "Print the sql, check what&#39;s wrong with it. Have you switched to <code>quotewords</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "edited": false, "score": 0, "creation_date": 1428322562, "post_id": 29467661, "comment_id": 47103662, "body": "Now it inserting the data into table but problem is there are only 16 data but its inserting 17 lines and the value of 17th line (last line) is 0 for all columns. how can get rid of from this extra line?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428330043, "post_id": 29467661, "comment_id": 47107357, "body": "@user10: There&#39;s probably another empty line at the very end of the input."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "edited": false, "score": 0, "creation_date": 1428478155, "post_id": 29467661, "comment_id": 47173415, "body": "Then how to remove those empty lines?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1428315353, "last_edit_date": 1428315353, "creation_date": 1428308038, "answer_id": 29467661, "question_id": 29467495, "link": "https://stackoverflow.com/questions/29467495/perl-dbdodbcst-execute-failed/29467661#29467661", "title": "Perl : DBD::ODBC::st execute failed", "body": "<blockquote>\n  <p>I am not able to figure out how to solve this.</p>\n</blockquote>\n\n<p>On line 27, add</p>\n\n<pre><code>warn \"[$_]\";\n</code></pre>\n\n<p>And see why <code>parse_line</code> returns <code>undef</code>.</p>\n\n<p>Also, as some strings seem to be quoted, it might be better to switch to <code>quotewords</code> instead of <code>parse_line</code>.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "edited": false, "score": 0, "creation_date": 1428324462, "post_id": 29471034, "comment_id": 47104545, "body": "But my code is inserting one extra lines into database with 0 value for all columns. Can you tell me why is this happening?"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1428326194, "post_id": 29471034, "comment_id": 47105300, "body": "+1 I added a bit about query parameterization, etc., to your answer.  Rollback or edit if you think that was inappropriate."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1428326604, "post_id": 29471034, "comment_id": 47105511, "body": "@pilcrow: Thanks for improving the answer."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 1, "last_activity_date": 1428326161, "last_edit_date": 1428326161, "creation_date": 1428322193, "answer_id": 29471034, "question_id": 29467495, "link": "https://stackoverflow.com/questions/29467495/perl-dbdodbcst-execute-failed/29471034#29471034", "title": "Perl : DBD::ODBC::st execute failed", "body": "<p>The SQL INSERT INTO Syntax is:</p>\n\n<pre><code>INSERT INTO table_name (column1,column2,column3,...)\nVALUES (value1,value2,value3,...);\n</code></pre>\n\n<p>And you are getting <code>Incorrect syntax near the keyword 'VALUES'</code> because you forgot to close the parenthesis <code>)</code> in <code>$sql</code> after column names, </p>\n\n<p>try this:</p>\n\n<pre><code>my $sql = 'INSERT INTO table_name (' .\n            join(', ', keys %data) .\n            ') VALUES (' .\n            join(', ', map { qq['$_'] } values %data) .\n            ')';\n</code></pre>\n\n<p>or, even better, use <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#RaiseError\" rel=\"nofollow\"><code>RaiseError</code></a> for convenience and safety, <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#quote_identifier\" rel=\"nofollow\">identifier quoting</a> for correctness and safety, <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#Placeholders_and_Bind_Values\" rel=\"nofollow\">query parameterization</a> for efficiency and safety, and perhaps <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#do\" rel=\"nofollow\"><code>do()</code></a> it rather than <code>prepare</code>/<code>execute</code>:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(..., { RaiseError =&gt; 1 });\nmy $sql = 'INSERT INTO table_name (' .\n            join(', ', map { $dbh-&gt;quote_identifier($_) } keys %data) .\n            ') VALUES (' .\n            join(', ', map { '?' } keys %data .\n            ')';\n\nmy $num_inserted = $dbh-&gt;do($sql, undef, values %data); # We don't really need a distinct $sth\n</code></pre>\n\n<p>DBD::ODBC also supports <a href=\"http://search.cpan.org/~mjevans/DBD-ODBC-1.50/ODBC.pm#Mixed_placeholder_types\" rel=\"nofollow\">other placeholder syntax</a>, too.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1085, "favorite_count": 0, "accepted_answer_id": 29471034, "answer_count": 2, "score": 0, "last_activity_date": 1428326161, "creation_date": 1428307016, "last_edit_date": 1428312827, "question_id": 29467495, "link": "https://stackoverflow.com/questions/29467495/perl-dbdodbcst-execute-failed", "title": "Perl : DBD::ODBC::st execute failed", "body": "<p>I am getting following errors :</p>\n\n<pre><code>Use of uninitialized value $_ in substitution (s///) at test.pl line 29, &lt;$fh&gt; line 2.\nUse of uninitialized value $col in split at test.pl line 40, &lt;$fh&gt; line 2.\nUse of uninitialized value $k in hash element at test.pl line 41, &lt;$fh&gt; line 2.\nDBD::ODBC::st execute failed: [Microsoft][ODBC SQL Server Driver][SQL Server]Incorrect syntax near '\n,'. (SQL-42000)\n[Microsoft][ODBC SQL Server Driver][SQL Server]Statement(s) could not be prepared. (SQL-42000) at da\nve.pl line 63, &lt;$fh&gt; line 2.\nCan't execute statement: [Microsoft][ODBC SQL Server Driver][SQL Server]Incorrect syntax near ','. (\nSQL-42000)\n[Microsoft][ODBC SQL Server Driver][SQL Server]Statement(s) could not be prepared. (SQL-42000) at te\nst.pl line 63, &lt;$fh&gt; line 2.\n</code></pre>\n\n<p>and I am not able to figure out how to solve this.</p>\n\n<p>My <a href=\"http://pastebin.com/UF0A3Cn7\" rel=\"nofollow\">code is here</a> with input data.</p>\n\n<p>Or any other better solution for this task (reading data from input file, manipulate data and insert value in corresponding column into database table.)</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1428304216, "post_id": 29466807, "comment_id": 47096240, "body": "Rewriting Perl code is difficult and prone to errors and security problems.  Have you considered using a configuration file like <a href=\"https://metacpan.org/pod/JSON::MaybeXS\" rel=\"nofollow noreferrer\">JSON</a> or <a href=\"https://metacpan.org/pod/YAML\" rel=\"nofollow noreferrer\">YAML</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 2720382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2831debef5de556296f681625ed81052?s=128&d=identicon&r=PG&f=1", "display_name": "no1", "link": "https://stackoverflow.com/users/2720382/no1"}, "edited": false, "score": 0, "creation_date": 1428311709, "post_id": 29467355, "comment_id": 47098814, "body": "hi, thanks. But it replaces string with many extra &quot;\\&quot;. any solution? @choroba"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 667, "user_id": 2720382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2831debef5de556296f681625ed81052?s=128&d=identicon&r=PG&f=1", "display_name": "no1", "link": "https://stackoverflow.com/users/2720382/no1"}, "edited": false, "score": 0, "creation_date": 1428311926, "post_id": 29467355, "comment_id": 47098910, "body": "@no1: <code>s&#47;\\Q$item&#47;$item=&#39;$newitem&#39;&#47;</code>. No <code>\\Q</code> in the replacement."}, {"owner": {"reputation": 667, "user_id": 2720382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2831debef5de556296f681625ed81052?s=128&d=identicon&r=PG&f=1", "display_name": "no1", "link": "https://stackoverflow.com/users/2720382/no1"}, "edited": false, "score": 0, "creation_date": 1428313020, "post_id": 29467355, "comment_id": 47099351, "body": "thanks. i get $Main_version = R00.1   R00.0; i want to remove R00.0 from the line?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 667, "user_id": 2720382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2831debef5de556296f681625ed81052?s=128&d=identicon&r=PG&f=1", "display_name": "no1", "link": "https://stackoverflow.com/users/2720382/no1"}, "edited": false, "score": 0, "creation_date": 1428313685, "post_id": 29467355, "comment_id": 47099626, "body": "@no1: You want to replace more than just <code>$item</code>."}, {"owner": {"reputation": 667, "user_id": 2720382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2831debef5de556296f681625ed81052?s=128&d=identicon&r=PG&f=1", "display_name": "no1", "link": "https://stackoverflow.com/users/2720382/no1"}, "edited": false, "score": 0, "creation_date": 1428314520, "post_id": 29467355, "comment_id": 47099961, "body": "yeah. find item and replace the next."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 667, "user_id": 2720382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2831debef5de556296f681625ed81052?s=128&d=identicon&r=PG&f=1", "display_name": "no1", "link": "https://stackoverflow.com/users/2720382/no1"}, "edited": false, "score": 0, "creation_date": 1428314818, "post_id": 29467355, "comment_id": 47100093, "body": "@no1: So match the rest of the line, too: <code>$base =~ s&#47;\\Q$item\\E.*&#47;$item=&#39;$newitem&#39;&#47;gi;</code>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1428306255, "creation_date": 1428306255, "answer_id": 29467355, "question_id": 29466807, "link": "https://stackoverflow.com/questions/29466807/search-a-pattern-and-replace-the-entire-line-of-a-perl-module-file/29467355#29467355", "title": "Search a pattern and replace the entire line of a perl module file", "body": "<p>Had you used the standard VERSION variable, you could have profited from <a href=\"https://metacpan.org/pod/release/BDFOY/Perl-Version-1.013/examples/perl-reversion\" rel=\"nofollow\">perl-reversion</a>.</p>\n\n<p>The dollar sign is special in regular expressions, it means \"the end of the line\". Backslash it, or use <a href=\"http://p3rl.org/quotemeta\" rel=\"nofollow\">quotemeta</a> which could be shortened to <code>\\Q</code> in a regex:</p>\n\n<pre><code>$base =~ /\\Q$item/\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 2720382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2831debef5de556296f681625ed81052?s=128&d=identicon&r=PG&f=1", "display_name": "no1", "link": "https://stackoverflow.com/users/2720382/no1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681, "favorite_count": 0, "accepted_answer_id": 29467355, "answer_count": 1, "score": 0, "last_activity_date": 1428311612, "creation_date": 1428303548, "last_edit_date": 1428311612, "question_id": 29466807, "link": "https://stackoverflow.com/questions/29466807/search-a-pattern-and-replace-the-entire-line-of-a-perl-module-file", "title": "Search a pattern and replace the entire line of a perl module file", "body": "<p>I have a perl module file. like this :</p>\n\n<pre><code>$release_name       = 'Software Release';\n$primary_version    = '1';\n$secondary_version  = 'R00.0';\n$Main_version   = 'R00.0';\n</code></pre>\n\n<p>I want to search the Main_version and replace the line to </p>\n\n<pre><code>      $Main_version = R00.1 \n</code></pre>\n\n<p>when i run the script.\nI have tried like this. but its not working.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nmy $base;\nmy $file = \"/main-dir/work/Myfile.pm\";\nopen(FILE, $file) || die \"File not found\";\nmy @base = &lt;FILE&gt;;\nclose(FILE);\nmy $item = '$Main_version';\nmy newitem=\"R00.1\";\nforeach $base(@base)\n    {\n      if($base =~ /$item/){\n         $base =~ s/$item/$item='$newitem'/gi;\n         print (\"Hello, world!\\n\");\n      }\n    #else { print $base;}\n}\nopen (BASE, \"&gt;$file\");\nprint BASE @base;\nclose (BASE);\n</code></pre>\n\n<p>How to search and change the entire line of a perl module? Thanks.</p>\n"}, {"tags": ["perl", "url", "directory", "server", "lwp-useragent"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1428329334, "creation_date": 1428329334, "answer_id": 29472941, "question_id": 29466262, "link": "https://stackoverflow.com/questions/29466262/perl-web-servers-directory-listing/29472941#29472941", "title": "Perl: Web Server&#39;s Directory Listing", "body": "<p>No.</p>\n\n<p>Since Stackoverflow considers that answer to be too short, no.</p>\n\n<p>A web server can be configured to provide a directory listing, or may support <a href=\"http://en.wikipedia.org/wiki/WebDAV\" rel=\"nofollow\">WebDAV</a>, but there isn't necessarily a connection between a URL and a file system directory on a web server.</p>\n"}], "owner": {"reputation": 231, "user_id": 4108074, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-8pcxs8UWbGM/AAAAAAAAAAI/AAAAAAAABl8/r4TMAyPCHl4/photo.jpg?sz=128", "display_name": "sr1", "link": "https://stackoverflow.com/users/4108074/sr1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428329334, "creation_date": 1428300830, "last_edit_date": 1428307217, "question_id": 29466262, "link": "https://stackoverflow.com/questions/29466262/perl-web-servers-directory-listing", "title": "Perl: Web Server&#39;s Directory Listing", "body": "<p>Is there any possible way of crawling web server directories and display the files in it ?</p>\n\n<p>I found a way to list all the files in a local disk directory. </p>\n\n<p>Here's the Directory Listing code :</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $dir = '/home/srikanth/Documents/';\nopendir(DIR, $dir) or die $!;\nwhile (my $file = readdir(DIR)) {\n  next if ($file =~ m/^\\./);\n  print \"$file\\n\";\n}\nclosedir(DIR);\nexit 0;\n</code></pre>\n\n<p>So, is there a way to list the web server's files upon giving URL ?</p>\n\n<p>I have tried using <code>LWP::Simple</code> and <code>LWP::UserAgent</code> but could not find the appropriate solution.</p>\n"}, {"tags": ["perl", "math"], "comments": [{"owner": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 0, "creation_date": 1428276342, "post_id": 29463325, "comment_id": 47090037, "body": "What are you seeing (or not seeing) that indicates something&#39;s wrong? errors? Bad output? Some examples would help."}, {"owner": {"reputation": 1, "user_id": 4752762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d92428e82b07bf64ed440ef378b069c?s=128&d=identicon&r=PG&f=1", "display_name": "batguy", "link": "https://stackoverflow.com/users/4752762/batguy"}, "reply_to_user": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 0, "creation_date": 1428276532, "post_id": 29463325, "comment_id": 47090065, "body": "I&#39;m getting this:   &quot;my&quot; variable $fh masks earlier declaration in same scope at mycode2.pl line 29. Math::GSL : $x is not a reference! at mycode2.pl line 49."}, {"owner": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 0, "creation_date": 1428276858, "post_id": 29463325, "comment_id": 47090135, "body": "1) You re-declare <code>$fh</code> twice in the same scope (eg: you only need the <code>my</code> qualifier once) 2) See the documentation for <a href=\"http://search.cpan.org/dist/Math-GSL/lib/Math/GSL/Fit.pm\" rel=\"nofollow noreferrer\">Math::GSL::Fit</a>, it&#39;s expecting an array reference, and you&#39;re not passing one."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1428277100, "post_id": 29463325, "comment_id": 47090180, "body": "You&#39;re going to have to break down the problem into smaller parts. It is not a simple task to deduce which part of your program is broken."}], "owner": {"reputation": 1, "user_id": 4752762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d92428e82b07bf64ed440ef378b069c?s=128&d=identicon&r=PG&f=1", "display_name": "batguy", "link": "https://stackoverflow.com/users/4752762/batguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428275912, "creation_date": 1428275912, "question_id": 29463325, "link": "https://stackoverflow.com/questions/29463325/cant-get-values-from-different-files-perl", "title": "Can&#39;t get values from different files - Perl", "body": "<p>I'm trying to calculate r-squared of values from two different files but I'm going nowhere. I'm using math:GSL library to facilitate the math functions. Can anyone help me? Thanks.</p>\n\n<p>I want the variables x and y of r-squared being the values from file1.txt and file2.txt</p>\n\n<pre><code>    #!/usr/bin/perl -w\n    use strict;\n    use warnings;\n    use Data::Dump;\n\n    my $file      = 'file1.txt';\n    my $column    =  1;\n    my $separator =  qr{\\s+};    # split on whitespace\n    my @values;\n\n    open(my $fh, '&lt;', $file)\n        or die \"Cannot open file '$file' for reading: $!\";\n\n    while (my $line = &lt;$fh&gt;)\n    {\n        chomp $line;             # remove the trailing newline\n        my    @cols = split $separator, $line;\n        push  @values, $cols[$column];\n    }\n\n    close $fh\n        or die \"Cannot close file '$file': $!\";\n\n    my $file2      = 'file2.txt';\n    my $column2    =  1;\n    my $separator2 =  qr{\\s+};    # split on whitespace\n    my @values2;\n\n    open(my $fh, '&lt;', $file2)\n        or die \"Cannot open file '$file2' for reading: $!\";\n\n    while (my $line = &lt;$fh&gt;)\n    {\n        chomp $line;             # remove the trailing newline\n        my    @cols = split $separator, $line;\n        push  @values, $cols[$column];\n    }\n\n    close $fh\n        or die \"Cannot close file '$file': $!\";\n\n    use Math::GSL::Fit \"gsl_fit_linear\";\n    use Math::GSL::Statistics \"gsl_stats_tss\";\n\n    my $x = $file;\n    my $y = $file2 ;\n    my $n = @$y;\n\n    my ($status, $c0, $c1, $cov00, $cov01, $cov11, $ss_resid)\n        = gsl_fit_linear($x, 1, $y, 1, $n);\n\n    my $ss_total = gsl_stats_tss($y, 1, $n);\n\n    print \"SS residual = $ss_resid\\n\";\n    print \"SS total    = $ss_total\\n\";\n\n    my $R2 = 1 - $ss_resid / $ss_total;\n\nprint \"R^2 = $R2\\n\";\n</code></pre>\n"}, {"tags": ["perl", "charts", "gtk"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1428416472, "post_id": 29462912, "comment_id": 47146602, "body": "Can you create a <a href=\"https://metacpan.org/pod/Cairo\" rel=\"nofollow noreferrer\"><code>Cairo</code></a>  &quot;context&quot; /  &quot;surface&quot; object and then just write onto it? It&#39;s likely more complicated than this, but I&#39;m sure Brian Manning (XAOC  author of GTK and Cairo modules) could provide guidance.  As you work through your project you could write documentation and improve the POD :-)    GPHAT&#39;s work on <code>Chart::Clicker</code> <b>is</b> amazing (GPHAT was inspired by Tufte!)  but as <a href=\"http://www.onemogin.com/observability/charting/a-chart-is-worth-some-words.html\" rel=\"nofollow noreferrer\">GPHAT himself points out</a> a lot of the action in charting is now  &quot;client side&quot;."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1428416737, "post_id": 29462912, "comment_id": 47146798, "body": "The other bonus would be you could come to SO with more specific questions to do with your code and get more specific and helpful responses.  These are comments so they get a pass on being very helpful ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "edited": false, "score": 0, "creation_date": 1429061145, "post_id": 29593757, "comment_id": 47421978, "body": "The set_from_surface() method was introduced in Gtk 3.10.  RHEL 7 only has Gtk 3.8.8 so this sample doesn&#39;t work there."}], "tags": [], "owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "is_accepted": true, "score": 2, "last_activity_date": 1516916574, "last_edit_date": 1516916574, "creation_date": 1428867380, "answer_id": 29593757, "question_id": 29462912, "link": "https://stackoverflow.com/questions/29462912/how-to-show-a-graph-in-a-perl-gtk-gui/29593757#29593757", "title": "How to show a graph in a Perl Gtk GUI?", "body": "<p>After lots of experimentation, I figured it out.</p>\n\n<ol>\n<li>Don't use Gtk::DrawingArea, use Gtk::Image.</li>\n<li>$img->set_from_surface($chart->driver->surface);</li>\n</ol>\n\n<p>Reading through the source to Chart::Clicker, I found that $chart->driver is the Cairo object and ->surface is the actual Cairo surface.  A Gtk::Image can be directly drawn based on a Cairo surface.</p>\n\n<p>Complete program that illustrates how to do this:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Gtk3 -init;\nuse Chart::Clicker;\nuse Chart::Clicker::Data::Series;\nuse Chart::Clicker::Data::DataSet;\nmy $win = Gtk3::Window-&gt;new;\nmy $img = Gtk3::Image-&gt;new;\n$win-&gt;add($img);\nmy $chart = Chart::Clicker-&gt;new;\nmy $dataset = Chart::Clicker::Data::DataSet-&gt;new(\n        series =&gt; [Chart::Clicker::Data::Series-&gt;new(\n                keys =&gt; [1, 2, 3, 4, 5],\n                values =&gt; [2, 3, 5, 7, 11],\n        )],\n);\n$chart-&gt;add_to_datasets($dataset);\n$chart-&gt;draw;\n$img-&gt;set_from_surface($chart-&gt;driver-&gt;surface);\n$win-&gt;signal_connect(destroy =&gt; sub{Gtk3-&gt;main_quit});\n$win-&gt;show_all;\nGtk3::main;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>On Gtk3 &lt; 3.10, replace the line containing <code>set_from_surface</code> with:</p>\n\n<pre><code>my $loader = Gtk3::Gdk::PixbufLoader-&gt;new;\n$chart-&gt;driver-&gt;surface-&gt;write_to_png_stream(sub {\n    $loader-&gt;write([unpack 'C*', $_[1]]);\n});\n$loader-&gt;close;\n$img-&gt;set_from_pixbuf($loader-&gt;get_pixbuf);\n</code></pre>\n"}], "owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 29593757, "answer_count": 1, "score": 3, "last_activity_date": 1516916574, "creation_date": 1428272717, "question_id": 29462912, "link": "https://stackoverflow.com/questions/29462912/how-to-show-a-graph-in-a-perl-gtk-gui", "title": "How to show a graph in a Perl Gtk GUI?", "body": "<p>Using Perl and Gtk2 (or Gtk3), I'd like to display a graph in a GUI application.</p>\n\n<p>Chart::Clicker looks promising, but it seems to only write to files.  Is there a way to get that into a GtkDrawingArea or similar?</p>\n"}, {"tags": ["perl", "sleep"], "answers": [{"tags": [], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "is_accepted": true, "score": 2, "last_activity_date": 1428261166, "creation_date": 1428261166, "answer_id": 29461172, "question_id": 29461126, "link": "https://stackoverflow.com/questions/29461126/perl-sleep-for-x-seconds-unless-keypress/29461172#29461172", "title": "Perl: Sleep for x seconds unless keypress", "body": "<p>I found my solution. Here is a basic answer</p>\n\n<pre><code>use Term::ReadKey;\nReadMode 4;\nwhile(1) {\n    my $key = ReadKey 50; #Sleep for 50\n    if(defined $key) {\n        print \"Pressed $key\\n\";\n    } else {\n        print \"Timed out\\n\";\n    }\n}\nReadMode 0; \n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 29461172, "answer_count": 1, "score": 1, "last_activity_date": 1428261166, "creation_date": 1428260900, "question_id": 29461126, "link": "https://stackoverflow.com/questions/29461126/perl-sleep-for-x-seconds-unless-keypress", "title": "Perl: Sleep for x seconds unless keypress", "body": "<p>In perl is there a way to have a program sleep for a certain amount of time unless the user presses a key? The following is my code:</p>\n\n<pre><code>use Term::ReadKey;\nReadMode 4;\nwhile (not defined ($key = ReadKey(-1))) {\n    sleep(50);\n}\nprint \"Get key $key\\n\";\nReadMode 0; \n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1428255338, "creation_date": 1428255338, "answer_id": 29460189, "question_id": 29460142, "link": "https://stackoverflow.com/questions/29460142/extracting-a-part-of-an-email-using-perl/29460189#29460189", "title": "Extracting a part of an email using perl", "body": "<p>You can use this regex:</p>\n\n<pre><code>/[^.]+(?=@)/\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/iP2bM1/1\" rel=\"nofollow\">RegEx Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 155, "user_id": 4602130, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/99cfa5e78525de43e768cd7b9ddc8921?s=128&d=identicon&r=PG&f=1", "display_name": "Silviu", "link": "https://stackoverflow.com/users/4602130/silviu"}, "edited": false, "score": 0, "creation_date": 1428256241, "post_id": 29460250, "comment_id": 47084457, "body": "I&#39;ve had tried this, but is not working. See the resulte on  <a href=\"http://rubular.com/r/GyMBHn6zhT\" rel=\"nofollow noreferrer\">rubular.com/r/GyMBHn6zhT</a>"}, {"owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "reply_to_user": {"reputation": 155, "user_id": 4602130, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/99cfa5e78525de43e768cd7b9ddc8921?s=128&d=identicon&r=PG&f=1", "display_name": "Silviu", "link": "https://stackoverflow.com/users/4602130/silviu"}, "edited": false, "score": 0, "creation_date": 1428256414, "post_id": 29460250, "comment_id": 47084519, "body": "it works there too... the complete match is always the full result, you must access the match groups... group 1 is first part before the . and group 2 is the second name... look in the match groups box or try the regex link, i just fix it, had a wrong link there"}], "tags": [], "owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "is_accepted": false, "score": 0, "last_activity_date": 1428256320, "last_edit_date": 1428256320, "creation_date": 1428255673, "answer_id": 29460250, "question_id": 29460142, "link": "https://stackoverflow.com/questions/29460142/extracting-a-part-of-an-email-using-perl/29460250#29460250", "title": "Extracting a part of an email using perl", "body": "<p>if you need both parts, your original regex was close, but should read:</p>\n\n<pre><code>^([^.]*)\\.([^@]*)@.*$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/iI7bA9/1\" rel=\"nofollow\" title=\"Check here to fiddle with your query\">RegEx Playground</a></p>\n"}, {"comments": [{"owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1428257098, "post_id": 29460272, "comment_id": 47084749, "body": "could not get shorter and matches all parts... i like it :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1428255778, "creation_date": 1428255778, "answer_id": 29460272, "question_id": 29460142, "link": "https://stackoverflow.com/questions/29460142/extracting-a-part-of-an-email-using-perl/29460272#29460272", "title": "Extracting a part of an email using perl", "body": "<p>It depends on what else you're doing, but I would write something like</p>\n\n<pre><code>my @names = $email =~ /\\w+/g;\nmy $sname = $names[1];\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 4602130, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/99cfa5e78525de43e768cd7b9ddc8921?s=128&d=identicon&r=PG&f=1", "display_name": "Silviu", "link": "https://stackoverflow.com/users/4602130/silviu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "accepted_answer_id": 29460189, "answer_count": 3, "score": 2, "last_activity_date": 1485463311, "creation_date": 1428255048, "last_edit_date": 1485463311, "question_id": 29460142, "link": "https://stackoverflow.com/questions/29460142/extracting-a-part-of-an-email-using-perl", "title": "Extracting a part of an email using perl", "body": "<p>I have an email address like this flavius.david@yahoo.com.\nI want to extract \"david\". I've had tried this </p>\n\n<pre><code>`\"m[^([^.]*)-([^+]*)\\@.*$];\"`  \nprint \" $&amp;\\n\";\n</code></pre>\n\n<p>But, resulte is only \".\"</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428254702, "post_id": 29459169, "comment_id": 47083949, "body": "The <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow noreferrer\">documentation for the CGI module</a> contains very clear warnings like <code>CGI.pm HAS BEEN REMOVED FROM THE PERL CORE</code> and <code>HTML Generation functions should no longer be used</code>. Your second example also has a <code>th</code> element <i>and</i> a <code>td</code> element in the first <code>tr</code>. That is wrong."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1428254941, "creation_date": 1428254941, "answer_id": 29460125, "question_id": 29459169, "link": "https://stackoverflow.com/questions/29459169/im-trying-to-output-this-to-a-table-in-the-order-of-the-form/29460125#29460125", "title": "I&#39;m trying to output this to a table in the order of the form", "body": "<blockquote>\n  <p><em>the form confirmation comes out alphabetical and not the way the form is constructed</em></p>\n</blockquote>\n\n<p>That would be because you have</p>\n\n<pre><code>foreach my $parameter (sort @params) { ... }\n</code></pre>\n\n<p>If you remove the <code>sort</code> then the parameters will appear in the same order as the first example.</p>\n\n<p>But <em>please understand</em> that CGI in general and the HTML-generation functions in particular should be avoided, especially for live web sites, which this appears to be. It is a <em>lot</em> easier to get something going using <a href=\"https://metacpan.org/pod/Dancer2\" rel=\"nofollow\"><code>Dancer2</code></a></p>\n"}], "owner": {"reputation": 11, "user_id": 4751843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DSIrTdxQrfc/AAAAAAAAAAI/AAAAAAAAANw/ytwer5KhVa0/photo.jpg?sz=128", "display_name": "Joe Gardner", "link": "https://stackoverflow.com/users/4751843/joe-gardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428254941, "creation_date": 1428249373, "last_edit_date": 1428253733, "question_id": 29459169, "link": "https://stackoverflow.com/questions/29459169/im-trying-to-output-this-to-a-table-in-the-order-of-the-form", "title": "I&#39;m trying to output this to a table in the order of the form", "body": "<pre><code>#!/usr/bin/perl -wT\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nuse strict;\n\nprint header;\nprint start_html(\"Thank You\");\nprint h2(\"Thank You\");\n\nmy %form;\nforeach my $p (param()) {\n        $form{$p} = param($p);\n        print \"$p = $form{$p}&lt;br&gt;\\n\";\n        }\n\nprint end_html;    \n</code></pre>\n\n<p>This works for all basic forms and the confirmation is good but not in a table <a href=\"http://www.quickpaysolutions.com/tt.html\" rel=\"nofollow\">http://www.quickpaysolutions.com/tt.html</a> </p>\n\n<p>I have another form that does work with the tables but the form confirmation comes out alphabetical and not the way the form is constructed. I would like the form in table borders and in the order of the form.</p>\n\n<p><a href=\"http://www.quickpaysolutions.com/jt.html\" rel=\"nofollow\">http://www.quickpaysolutions.com/jt.html</a></p>\n\n<p>The code for that:</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type:text/html\\n\\n\";\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nuse strict;\nuse CGI;\nmy $cgi = new CGI;\n\nprint\n\n$cgi-&gt;header() .\n$cgi-&gt;start_html( -title =&gt; 'Form Results') .\n$cgi-&gt;center($cgi-&gt;h1('Your Reciept &lt;br&gt; Please Print this Reciept')). \"\\n\";\n\nmy @params = $cgi-&gt;param();\nprint '&lt;table border=\"1\" width=\"500\" align=\"center\" cellspacing=\"1\" cellpadding=\"2\"&gt;' . \"\\n\";\nforeach my $parameter (sort @params) {\n    print \"&lt;tr&gt;&lt;th&gt;$parameter&lt;/th&gt;&lt;td&gt;\" . $cgi-&gt;param($parameter) . \"&lt;/td&gt;&lt;/tr&gt;\\n\";\n}\n\nprint \"&lt;/table&gt;\\n\";\n\n#\n$ENV{PATH} = \"/usr/sbin\";\n\nopen (MAIL, \"|/usr/sbin/sendmail -oi -t \") or &amp;dienice(\"Can't fork for sendmail: $!\\n\");\nmy $recipient = 'test@quickpaysolutions.com, test2@quickpaysolutions.com';\nprint MAIL \"To: $recipient\\n\";\nprint MAIL \"From: nobody\\@quickpaysolutions.com\\n\";\nprint MAIL \"Subject: Form Data\\n\\n\";\nforeach my $p (param()) {\n   print MAIL \"$p = \", param($p), \"\\n\";\n}\nclose(MAIL);\n\n# Now print a thank-you page\n\n# The dienice subroutine handles errors.\n\nsub dienice {\n    my ($errmsg) = @_;\n    print \"&lt;h2&gt;Error&lt;/h2&gt;\\n\";\n    print \"&lt;p&gt;$errmsg&lt;/p&gt;\\n\";\n    print end_html;\n    exit;\n}\n\n$cgi-&gt;end_html . \"\\n\";\n</code></pre>\n"}, {"tags": ["regex", "linux", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428248892, "post_id": 29459003, "comment_id": 47082175, "body": "I&#39;m unclear what you mean by <i>&quot;natural language processing&quot;</i>. Do the records in your file all have three columns, with the third sometimes empty? So there are always two commas in every line?"}], "answers": [{"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1428252888, "post_id": 29459024, "comment_id": 47083353, "body": "That will fail if $NF is non-empty but evaluates to numeric zero. Also your FS value REQUIRES at least 1 space after the comma and it&#39;s not clear that there always will be. With the given data and your FS setting $NF is the 2nd field, not the 3rd."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1428253955, "post_id": 29459024, "comment_id": 47083705, "body": "Yes that&#39;s right I shouldn&#39;t have used <code>*</code> instead of <code>+</code>"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1428253916, "last_edit_date": 1428253916, "creation_date": 1428248562, "answer_id": 29459024, "question_id": 29459003, "link": "https://stackoverflow.com/questions/29459003/sed-awk-or-perl-to-filter-incomplete-data-column/29459024#29459024", "title": "Sed, awk or perl to filter incomplete data column", "body": "<p>You can use this awk:</p>\n\n<pre><code>awk -F ',[[:blank:]]*' '$NF!=\"\"' file\nuser1,user2, it really is\nuser3,user4, oh nothin\nuser11,user12, i know im in\nuser17,user18, i think that might\nuser19,user20, what u\nuser21,user22, hmmm you never know\nuser23,user24, nicee\n</code></pre>\n\n<p><code>'$NF'!=\"\"</code> is actually a condition that checks whether 3rd field is populated.</p>\n\n<p><strong>PS:</strong> You cannot really do:</p>\n\n<pre><code>awk -F ',[[:blank:]]*' '$NF!=\"\"' file &gt; file\n</code></pre>\n\n<p><strong>As input file and redirected file are same and you will end up with 0 byte file.</strong></p>\n\n<p>Better you do:</p>\n\n<pre><code>awk -F ',[[:blank:]]*' '$NF!=\"\"' file &gt; file.out &amp;&amp; mv file.out file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1428248726, "creation_date": 1428248726, "answer_id": 29459050, "question_id": 29459003, "link": "https://stackoverflow.com/questions/29459003/sed-awk-or-perl-to-filter-incomplete-data-column/29459050#29459050", "title": "Sed, awk or perl to filter incomplete data column", "body": "<p>In Perl, this prints a line unless it ends with a comma and whitespace.</p>\n\n<pre><code>perl -ne'/,\\s*$/ or print' file\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>user1,user2, it really is\nuser3,user4, oh nothin\nuser11,user12, i know im in\nuser17,user18, i think that might\nuser19,user20, what u\nuser21,user22, hmmm you never know\nuser23,user24, nicee\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 1905648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99548b03567289b889d232eeb52365f9?s=128&d=identicon&r=PG", "display_name": "skelliam", "link": "https://stackoverflow.com/users/1905648/skelliam"}, "is_accepted": false, "score": 1, "last_activity_date": 1428249865, "creation_date": 1428249865, "answer_id": 29459253, "question_id": 29459003, "link": "https://stackoverflow.com/questions/29459003/sed-awk-or-perl-to-filter-incomplete-data-column/29459253#29459253", "title": "Sed, awk or perl to filter incomplete data column", "body": "<p>You don't say if you're against using vim or not but, you can load your file in vim, and do:</p>\n\n<pre><code>:g/,\\s\\+$/d\n</code></pre>\n\n<p>:g is vim's global (operate on the entire file)</p>\n\n<p>Syntax is :g/pattern/command</p>\n\n<p>What is between the forward slashes is the regex pattern.  Here we look for a comma, followed by as much whitespace as we can find (\\s+) until we hit the end of the line ($).</p>\n\n<p>The command 'd' means \"delete the line\" when the regex matches.</p>\n\n<p>Finally:</p>\n\n<pre><code>:wq\n</code></pre>\n\n<p>Writes the file (w) and quits (q).</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1428253034, "creation_date": 1428253034, "answer_id": 29459773, "question_id": 29459003, "link": "https://stackoverflow.com/questions/29459003/sed-awk-or-perl-to-filter-incomplete-data-column/29459773#29459773", "title": "Sed, awk or perl to filter incomplete data column", "body": "<p>Every line of your input has 3 fields (since there's always 2 commas) so NF is always 3. You want to test the contents of $NF being null, not the value of NF being 3. Also, NEVER do <code>cmd file &gt; file</code> for any command as the shell could do the <code>&gt; file</code> part before the <code>cmd file</code> part and so zap your input file before it's been read by <code>cmd</code>.</p>\n\n<p>You need:</p>\n\n<pre><code>awk -F', *' '$NF!=\"\"' file &gt; tmp &amp;&amp; mv tmp file\n</code></pre>\n\n<p>This problem/example has absolutely nothing to do with natural language processing, btw.</p>\n"}, {"tags": [], "owner": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "is_accepted": false, "score": 0, "last_activity_date": 1428284071, "creation_date": 1428284071, "answer_id": 29464251, "question_id": 29459003, "link": "https://stackoverflow.com/questions/29459003/sed-awk-or-perl-to-filter-incomplete-data-column/29464251#29464251", "title": "Sed, awk or perl to filter incomplete data column", "body": "<p>Here is a <code>Perl</code> answer which I purposefully chose to demonstrate the usage of the <code>-a</code> autosplit and the <code>-F</code> field delimiter options:</p>\n\n<pre><code>perl -anF, -e 'print if $F[2] =~ /\\S/' file &gt; file.out\n</code></pre>\n\n<p>But I would probably prefer <code>grep</code> in this particular case:</p>\n\n<pre><code>grep -E -v ',\\s*$' file &gt; file.out\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3169, "user_id": 39355, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a1ac230262ca0d3dcee88af9851c884a?s=128&d=identicon&r=PG", "display_name": "Theresa", "link": "https://stackoverflow.com/users/39355/theresa"}, "edited": false, "score": 0, "creation_date": 1428284380, "post_id": 29464264, "comment_id": 47091595, "body": "Could you provide some explanation?  You can edit your answer to provide more information."}], "tags": [], "owner": {"reputation": 35, "user_id": 4752959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5908e4bf1b16988a6d350463c7b66ebb?s=128&d=identicon&r=PG", "display_name": "gla", "link": "https://stackoverflow.com/users/4752959/gla"}, "is_accepted": false, "score": 1, "last_activity_date": 1428373670, "last_edit_date": 1428373670, "creation_date": 1428284158, "answer_id": 29464264, "question_id": 29459003, "link": "https://stackoverflow.com/questions/29459003/sed-awk-or-perl-to-filter-incomplete-data-column/29464264#29464264", "title": "Sed, awk or perl to filter incomplete data column", "body": "<p>This is not so elegant, but perhaps more clear and easier to modify the field number:</p>\n\n<pre><code>#!/usr/bin/perl\nopen IN,$ARGV[0];\nwhile(&lt;IN&gt;){\n    @line = split(\",\",$_);\n    if($line[2] =~ /\\S/){\n        print;\n    }\n}\n</code></pre>\n\n<p>$ARGV[0] is the name of the file whit your table; \\S means any character (not blank) at field #2 (fields are numbered from 0).</p>\n"}], "owner": {"reputation": 55, "user_id": 4063154, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ac4f60dd09162c9e8afa7ede8c54245f?s=128&d=identicon&r=PG&f=1", "display_name": "Richardsop", "link": "https://stackoverflow.com/users/4063154/richardsop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 6, "score": 1, "last_activity_date": 1428373670, "creation_date": 1428248420, "question_id": 29459003, "link": "https://stackoverflow.com/questions/29459003/sed-awk-or-perl-to-filter-incomplete-data-column", "title": "Sed, awk or perl to filter incomplete data column", "body": "<p>New to natural language processing. I have csv file containing about one million rows. I want to filter-out the third row that do not contain any data. For example</p>\n\n<pre><code>user1,user2, it really is  \nuser3,user4, oh nothin  \nuser5,user9, \nuser7,user8,  \nuser9,user10,  \nuser11,user12, i know im in \nuser13,user14, \nuser15,user16, \nuser17,user18, i think that might     \nuser19,user20, what u \nuser21,user22, hmmm you never know \nuser23,user24, nicee\n</code></pre>\n\n<p><strong>Expected output</strong></p>\n\n<pre><code>user1,user2, it really is \nuser3,user4, oh nothin   \nuser11,user12, i know im in  \nuser17,user18, i think that might     \nuser19,user20, what u  \nuser21,user22, hmmm you never know  \nuser23,user24, nicee\n</code></pre>\n\n<p>I have tried </p>\n\n<pre><code>awk -F',+' 'NF == 3' file &gt; file    \n</code></pre>\n\n<p>However, does not work</p>\n"}, {"tags": ["perl", "http", "perl-module"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428219563, "post_id": 29455054, "comment_id": 47075280, "body": "<a href=\"http://www.perlmonks.org/?node_id=1122450\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1122450</a>"}, {"owner": {"reputation": 1, "user_id": 4751016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4cc68db54b3a3d984efeb2874a4279b?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Niles", "link": "https://stackoverflow.com/users/4751016/tom-niles"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428231117, "post_id": 29455054, "comment_id": 47077469, "body": "same question is there, but the answer is not right. Because answer refers to HTTP::Proxy::BodyFilter::complete which only handles complete Body (does not include headers). I need Body and Headers (complete request)."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1428314437, "post_id": 29455054, "comment_id": 47099931, "body": "<code>HeaderFilter</code> also passes the message in the callback and <code>BodyFilter</code> also passes the (read-only) headers, so what&#39;s the problem?"}], "owner": {"reputation": 1, "user_id": 4751016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4cc68db54b3a3d984efeb2874a4279b?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Niles", "link": "https://stackoverflow.com/users/4751016/tom-niles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428219395, "creation_date": 1428218334, "last_edit_date": 1428219395, "question_id": 29455054, "link": "https://stackoverflow.com/questions/29455054/httpproxy-match-corresponding-header-and-body", "title": "HTTP::Proxy - match corresponding header and body", "body": "<p>I'm using awesome <a href=\"http://p3rl.org/HTTP::Proxy\" rel=\"nofollow\">HTTP::Proxy</a> together with <a href=\"http://p3rl.org/HTTP::Proxy::BodyFilter\" rel=\"nofollow\">HTTP::Proxy::BodyFilter</a> and <a href=\"http://p3rl.org/HTTP::Proxy::HeaderFilter\" rel=\"nofollow\">HTTP::Proxy::HeaderFilter</a>. </p>\n\n<p><code>BodyFilter</code> and <code>HeaderFilter</code> are working great, but I need header and body together. </p>\n\n<p>The problem is I don't know how to match corresponding Body with Header. </p>\n\n<p>I have to log whole HTTP request (header and body), but in reality I don't have to change request itself. Is <code>HTTP::Proxy</code> right path? How I can match header and body of same request?</p>\n"}, {"tags": ["oracle", "performance", "perl", "shell", "sqlplus"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428217041, "post_id": 29454420, "comment_id": 47074881, "body": "Your <code>cat</code> output looks like it is the contents of <code>VoucherQuery.sql</code> and not <code>QueryResult.$currentDate.log</code>? From your query it looks like <code>serialnumber</code> isn&#39;t unique, so unless Oracle allows non-unique primary keys I think it will break if you declare <code>serialnumber</code> to be a primary key"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428217831, "post_id": 29454420, "comment_id": 47074998, "body": "What are the <i>&quot;Solaris issues&quot;</i> that prevent you from using DBI?  With millions of records I think you are never going a reasonable reaction time using that SQL, because it starts by fetching up the entire database with the preceding value of the state column for each serial number. Once it has done that it filters the result by <code>at</code> and presumably throws away most of the work it has just done. I would start by doing <code>SELECT DISTINCT serialnumber FROM voucher WHERE at LIKE &#39;&amp;1&#39;</code> and <i>then</i> correlate each record with its previous status. An <i>index</i> (not a PK) on <code>serialnumber</code> would be good."}, {"owner": {"reputation": 187, "user_id": 4395029, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8fc584900f95fe27f78834d21853522d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/4395029/ankur"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428219272, "post_id": 29454420, "comment_id": 47075230, "body": "@Borodin thanks for response.. You are right.. I have rectified my mistake.. But Primary cant be non-unique value... here combination of primary key &amp; state could be the PK.. will it make any impact? here is the explanation on DBI &quot;<a href=\"http://www.perlmonks.org/?node=Not+able+to+install+DBD%3A%3AOracle+on+sun+solaris\" rel=\"nofollow noreferrer\">perlmonks.org/&hellip;</a>.&quot; I won&#39;t mind if it takes too much time to get executed.. but problem is.. it just keeps waiting &amp; not responding even in hour..I will try &quot;DISTINCT&quot; otption &amp; will let u know..."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1428218807, "last_edit_date": 1428218807, "creation_date": 1428218202, "answer_id": 29455040, "question_id": 29454420, "link": "https://stackoverflow.com/questions/29454420/how-to-enhance-performance-of-sql-query/29455040#29455040", "title": "How to enhance performance of sql query?", "body": "<p>I am far less experienced in Oracle than other databases, so this may well not be correct. But if it works it should certainly be faster than your existing SQL because it limits the data it is working on <em>first</em> before adding the <code>previous</code> column.</p>\n\n<pre><code>SELECT\n  serialnumber,\n  state,\n  at,\n  operatorid,\n  LAG(state) OVER (PARTITION BY serialnumber ORDER BY at) AS previous\nFROM\n  voucher\nWHERE\n  serialnumber in (SELECT DISTINCT serialnumber FROM voucher WHERE at LIKE '&amp;1')\n</code></pre>\n\n<p>Note that it won't produce exactly the same result as your own query because it will include all records relating to a given <code>serialnumber</code> as long as <em>at least one</em> of those records has an <code>at</code> column that matches <code>&amp;1</code>.</p>\n"}], "owner": {"reputation": 187, "user_id": 4395029, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8fc584900f95fe27f78834d21853522d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur", "link": "https://stackoverflow.com/users/4395029/ankur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 29455040, "answer_count": 1, "score": -1, "last_activity_date": 1428218807, "creation_date": 1428211759, "last_edit_date": 1428218623, "question_id": 29454420, "link": "https://stackoverflow.com/questions/29454420/how-to-enhance-performance-of-sql-query", "title": "How to enhance performance of sql query?", "body": "<p>Below is the major part of my script which interacts with an Oracle database through SQL*Plus.</p>\n\n<pre><code>  #--------------- Now connecting to sqlplus\n\n         `$SQLPLUS \\@${basePath}/VoucherQuery.sql $startdate&gt; ${basePath}/logs/QueryResult.$currentDate.log`;\n         if ( $? == 0) {\n             logger(\"Processing with the sqlplus is completed. For more details check ${basePath}/logs/QueryResult.$currentDate.log \", 0); }\n         else {\n             logger(\"Not able to fetch data from sqlplus. Please check\", 1); exit;} \n\n\n\n         #print \"select * from sample where SERIALNUMBER = $serial\\n\"; \n\n         open (FH, \"${basePath}/logs/QueryResult.$currentDate.log\") or die \"Can't open query ${basePath}/logs/QueryResult.$currentDate.log file: $!\\n\"; \n\n         my ($serial_number, $state, $at, $operator_id, $old_state);\n         while (my $data = &lt;FH&gt;) {\n               chomp ($data);\n               #print $data.\"\\n\";          \n               my @data = split (/\\s+/, $data); \n               my ($serial_number, $state, $at, $operator_id, $old_state) = @data[0..4];\n\n\n               my ($date, $time) = split (/T/, $at);\n               $date =~ s/(\\d{4})(\\d{2})(\\d{2})/$3-$month{$2}-$1/; \n               $date =~ s/(.*)(\\d{2})(\\d{2})/$1$3/; \n\n\n              print WFH \"$circle,$date,$time,$operator_id,$serial_number,$old_state,$state\\n\";\n               }\n           close(FH);\n    close(WFH);\n\n-------------------------------------------------------------\n&gt;cat VoucherQuery.sql\nSELECT * FROM (SELECT serialnumber, state, at, operatorid, lag(state) OVER ( PARTITION BY serialnumber ORDER BY at) AS previous FROM VOUCHER) WHERE at LIKE '&amp;1';\n</code></pre>\n\n<p>But the database table contains millions of records and even a simple <code>select count(*)</code> query isn't able to generate output. Now the problem is that no constraints have been defined while creating the database.</p>\n\n<p>I have experience of scripting, but I am quite a novice in SQL queries as far as performance is concerned.</p>\n\n<p>I want to ask</p>\n\n<ul>\n<li><p>How much difference will it make if I define the primary key constraint within the table? (It is a third-party server so I have to be sure before making any changes.)</p></li>\n<li><p>Will an index improve the performance? How could they help in this specific query?</p></li>\n<li><p>Should I break this query into more, simpler queries?</p></li>\n</ul>\n\n<p>Here is the table description</p>\n\n<pre><code>SQL&gt; DESC VOUCHER;\nName                        Null?                 Type\n--------------------------  -------- -------------------------------\nSERIALNUMBER                          VARCHAR2(20)\nSTATE                                 VARCHAR2(4000)\nAT                                    VARCHAR2(4000)\nOPERATORID                            VARCHAR2(4000)\nSUBSCRIBERID                          VARCHAR2(20)\nTRANSACTIONID                         VARCHAR2(20)\n</code></pre>\n\n<p>One more thing. I have to deal with SQL*Plus only I can't use <code>DBI</code> with <code>DBD::Oracle</code> module because of Solaris issues. I want to solve this on my own but need your advice on these performance issues as I can't use hit and miss methods on them.</p>\n"}, {"tags": ["regex", "perl", "awk"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1428212494, "post_id": 29454387, "comment_id": 47074124, "body": "I&#39;m not aware of one \u2014 you can create your own <code>pawk</code> that includes PCRE (Perl-Compatible Regular Expressions).  There would be some tricks requird to deal with recognizing and delimiting the more complex REs, but it could be done.  It wouldn&#39;t be surprising to find someone&#39;s already done it.  OTOH, Perl is distributed with <code>a2p</code> to convert <code>awk</code> scripts to Perl.  Maybe you should be using that?  Or simply using Perl when you want PCRE?"}, {"owner": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "edited": false, "score": 1, "creation_date": 1428239966, "post_id": 29454387, "comment_id": 47079644, "body": "<code>perl</code> works similar to <code>awk</code> when run with the <code>-n</code> or <code>-p</code> flags, e.g. <code>seq 100 | perl -ne &#39;print if &#47;3&#47;&#39;</code>. See <code>man perlrun</code> for details."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1428248764, "post_id": 29454387, "comment_id": 47082136, "body": "@EdMorton: I agree that writing <code>pawk</code> would be painful.  Using <code>a2p</code>, you&#39;d use <code>awk</code>-recognized regexes in the script to be converted, convert the script, then modify the regexes in the generated code to match the PCRE regexes you really wanted to use."}, {"owner": {"reputation": 601, "user_id": 4414935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c21256ef2c8fe05d838dfe5a0699dc4?s=128&d=identicon&r=PG", "display_name": "jarno", "link": "https://stackoverflow.com/users/4414935/jarno"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1594366971, "post_id": 29454387, "comment_id": 111106326, "body": "@JonathanLeffler I can&#39;t find <code>a2p</code> in Ubuntu (19.10) even if I have perl installed."}, {"owner": {"reputation": 601, "user_id": 4414935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c21256ef2c8fe05d838dfe5a0699dc4?s=128&d=identicon&r=PG", "display_name": "jarno", "link": "https://stackoverflow.com/users/4414935/jarno"}, "edited": false, "score": 0, "creation_date": 1594475338, "post_id": 29454387, "comment_id": 111142053, "body": "See the <a href=\"http://git.savannah.gnu.org/cgit/gawk.git/tree/TODO\" rel=\"nofollow noreferrer\">TODO</a> file of Gawk. Nothing about Perl regex there at the moment."}], "answers": [{"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1428253472, "post_id": 29458947, "comment_id": 47083541, "body": "Care to explain the downvote? I THINK it clearly answers the question of <code>Do you know if there is species of awk that use the Perl regex like the grep examples above?</code> and explains why that&#39;s the answer."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 1, "creation_date": 1428941835, "post_id": 29458947, "comment_id": 47365826, "body": "There have been so many useful additions to regular expressions in Perl that to try to use existing constructs in awk to try to implement them would be painful, and much harder to read, if it is even possible. ( one such addition is the <code>(?(DEFINE)...)</code> construct that contains named subpatterns which can make regular expressions very easy to read. ) I would also like to point out that about half of the comments on the page you linked were positive comments about Perl. I think the real problem is that you think of Perl as just a replacement for awk/bash/sed/grep, when it is so much more."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1428942451, "post_id": 29458947, "comment_id": 47366216, "body": "@BradGilbert is that why you downvoted or a separate comment? I don&#39;t have any real idea of what perl is best suited for. In general I think of it as a tool that you might use instead of a shell script calling various tools but certainly not just the tools awk/sed/grep which are just for text manipulation while perl, I would hope, does a lot more than that or there&#39;d be no point to it existing."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 1, "creation_date": 1428949489, "post_id": 29458947, "comment_id": 47370246, "body": "I didn&#39;t see this question until just a few minutes before I posted that comment so it couldn&#39;t have been me that downvoted you back on <a href=\"http://stackoverflow.com/posts/29454387/timeline\">April 5th</a>. Perl is best suited for everything that you can use Awk, Sed, Bash, Python, Java, or Ruby. All with better Unicode string handling. About the only thing I wouldn&#39;t use Perl for is something that really has to be written in C or has to run in the browser. One of my first uses for Perl was sending commands to a dot-matrix printer."}, {"owner": {"reputation": 601, "user_id": 4414935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c21256ef2c8fe05d838dfe5a0699dc4?s=128&d=identicon&r=PG", "display_name": "jarno", "link": "https://stackoverflow.com/users/4414935/jarno"}, "edited": false, "score": 0, "creation_date": 1594371777, "post_id": 29458947, "comment_id": 111108567, "body": "Still GNU awk (gawk) has some extensions over original AWK language, and its binary file size is multiple of some other implementations&#39;. I do not know how much adding Perl REs would add, but I think it is not an issue, since the size of the binary of GNU Grep is fraction of the size of GNU Awk&#39;s binary, and the former supports Perl Regex when using <code>-P</code> option."}, {"owner": {"reputation": 601, "user_id": 4414935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c21256ef2c8fe05d838dfe5a0699dc4?s=128&d=identicon&r=PG", "display_name": "jarno", "link": "https://stackoverflow.com/users/4414935/jarno"}, "edited": false, "score": 0, "creation_date": 1594623333, "post_id": 29458947, "comment_id": 111178318, "body": "On the other hand, binary size of <code>perl</code> is multiple of the size of <code>gawk</code>."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 8, "last_activity_date": 1428248065, "creation_date": 1428248065, "answer_id": 29458947, "question_id": 29454387, "link": "https://stackoverflow.com/questions/29454387/use-perl-regex-attributes-in-awk/29458947#29458947", "title": "Use Perl regex attributes in awk", "body": "<p>No, awk does not support Perl REs. One of the primary tenets of the awk language is to keep the language small by not providing constructs to do simple things a bit more briefly. That's how they avoid the language bloat and associated complexity that perl suffers from (see <a href=\"http://www.zoitz.com/archives/13\" rel=\"noreferrer\">http://www.zoitz.com/archives/13</a> for the common perception of perl readability). In this case while some of the Perl RE syntax lets you do some things a bit briefer, you don't NEED special language constructs to do them as there's other ways to do whatever you want with existing constructs (maybe not in one RE or using one function so not as briefly) so awk doesn't support them.</p>\n"}, {"comments": [{"owner": {"reputation": 601, "user_id": 4414935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c21256ef2c8fe05d838dfe5a0699dc4?s=128&d=identicon&r=PG", "display_name": "jarno", "link": "https://stackoverflow.com/users/4414935/jarno"}, "edited": false, "score": 0, "creation_date": 1594368859, "post_id": 29611941, "comment_id": 111107223, "body": "Perl 6 is now called <a href=\"https://en.wikipedia.org/wiki/Raku_(programming_language)\" rel=\"nofollow noreferrer\">Raku</a>. Why learn Perl, if Raku is better? Either of them might be overkill, if you just need more advanced regex."}, {"owner": {"reputation": 601, "user_id": 4414935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c21256ef2c8fe05d838dfe5a0699dc4?s=128&d=identicon&r=PG", "display_name": "jarno", "link": "https://stackoverflow.com/users/4414935/jarno"}, "edited": false, "score": 0, "creation_date": 1594475253, "post_id": 29611941, "comment_id": 111142035, "body": "<a href=\"https://www.gnu.org/software/gawk/manual/gawk.html#Future-Extensions\" rel=\"nofollow noreferrer\">Some quotes</a> (Larry Wall is the creator of Perl.)"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "reply_to_user": {"reputation": 601, "user_id": 4414935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c21256ef2c8fe05d838dfe5a0699dc4?s=128&d=identicon&r=PG", "display_name": "jarno", "link": "https://stackoverflow.com/users/4414935/jarno"}, "edited": false, "score": 0, "creation_date": 1594514191, "post_id": 29611941, "comment_id": 111152928, "body": "@jarno If you want to learn a language specifically for only minimal text alterations then awk would be fine. The question is what if you need to also do more advanced things? Perl is about the same for one-liners as awk, but it also works for large systems."}, {"owner": {"reputation": 601, "user_id": 4414935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c21256ef2c8fe05d838dfe5a0699dc4?s=128&d=identicon&r=PG", "display_name": "jarno", "link": "https://stackoverflow.com/users/4414935/jarno"}, "edited": false, "score": 0, "creation_date": 1594591167, "post_id": 29611941, "comment_id": 111171782, "body": "Well, I know AWK already. Raku seems interesting not only for its regex features, but it has also taken influences of some other languages besides Perl. On the other hand, I do not know Python, either."}], "tags": [], "owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "is_accepted": false, "score": 2, "last_activity_date": 1428947932, "creation_date": 1428947932, "answer_id": 29611941, "question_id": 29454387, "link": "https://stackoverflow.com/questions/29454387/use-perl-regex-attributes-in-awk/29611941#29611941", "title": "Use Perl regex attributes in awk", "body": "<p>Why don't you just learn Perl?<br>\nWhich can do everything you can do in Awk, Sed, and bash. ( and then some )</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ echo FOO | grep -P '(?i)foo'\nFOO\n\n$ echo FOO | perl -ne 'print if /(?i)foo/'\nFOO\n\n$ ls /bin /usr/bin | perl -lnE '$p{$_}++ if /(grep|sed|awk)$/; END { say for sort keys %p }'\nawk\nbzegrep\nbzfgrep\nbzgrep\ndgawk\negrep\nfgrep\ngawk\ngrep\nigawk\nlist-unreleased\nlzegrep\nlzfgrep\nlzgrep\nmawk\nmsggrep\nnawk\npgawk\npgrep\npsed\nptargrep\nrgrep\nsed\nxzegrep\nxzfgrep\nxzgrep\nzegrep\nzfgrep\nzgrep\nzipgrep\n</code></pre>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#! /usr/bin/env perl\n\nuse v5.12.0; # sets minimum version adds `say`, and does `use strict`\nuse warnings;\n\nuse File::Spec::Functions qw' path catfile splitpath ';\n\nmy %cmds;\n\n# go through all directories in `$PATH` or `%PATH%`\n# in a platform independent way\nfor my $dir_path ( path ){\n\n  # a quick hack that is good enough for now\n  for my $cmd_path ( glob catfile $dir_path, '*grep' ){\n\n    # only need the filename, so assign everything else\n    # to `undef`\n    my ( undef, undef, $cmd ) = splitpath $cmd_path;\n\n    # store it in an array in the %cmds hash\n    push @{ $cmds{$cmd} }, $cmd_path;\n  }\n}\n\nfor my $cmd ( sort keys %cmds ) {\n  say $cmd, ' :';\n\n  # the actual locations of the program or symlink\n  say ' 'x4, $_ for @{ $cmds{$cmd} };\n}\n</code></pre>\n\n<pre class=\"lang-bash prettyprint-override\"><code>bzegrep :\n    /bin/bzegrep\nbzfgrep :\n    /bin/bzfgrep\nbzgrep :\n    /bin/bzgrep\negrep :\n    /bin/egrep\nfgrep :\n    /bin/fgrep\ngrep :\n    /bin/grep\nlzegrep :\n    /usr/bin/lzegrep\nlzfgrep :\n    /usr/bin/lzfgrep\nlzgrep :\n    /usr/bin/lzgrep\nmsggrep :\n    /usr/bin/msggrep\npgrep :\n    /usr/bin/pgrep\nptargrep :\n    /opt/perl/bin/ptargrep\n    /usr/bin/ptargrep\nrgrep :\n    /usr/bin/rgrep\nxzegrep :\n    /usr/bin/xzegrep\nxzfgrep :\n    /usr/bin/xzfgrep\nxzgrep :\n    /usr/bin/xzgrep\nzegrep :\n    /bin/zegrep\nzfgrep :\n    /bin/zfgrep\nzgrep :\n    /bin/zgrep\nzipgrep :\n    /usr/bin/zipgrep\n</code></pre>\n\n<p>I would like to point out the reason I have <code>ptargrep</code> in there twice is that I maintain my own versions of Perl with one of them symlinked from <code>/opt/perl/bin</code>, and <code>ptargrep</code> is a Perl program that installs with the <a href=\"https://metacpan.org/release/Archive-Tar\" rel=\"nofollow\">Archive::Tar</a> module.</p>\n\n<p>This example doesn't even use any of the cool new features added to Perl since 2010 when 5.12.0 was released.<br>\n( Perl now has a yearly release cycle )</p>\n\n<p>Of course you could also use Perl to create a website like <a href=\"http://www.lacunaexpanse.com/\" rel=\"nofollow\">Lacuna Expanse</a>, or to write a video game like <a href=\"http://www.frozen-bubble.org/\" rel=\"nofollow\">Frozen Bubble</a>.</p>\n\n<hr>\n\n<p>There is also a new language called Perl 6 which I find even more fun to use.\nThe plan is for there to be a full release sometime this year.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3162, "favorite_count": 1, "accepted_answer_id": 29458947, "answer_count": 2, "score": 3, "last_activity_date": 1428947932, "creation_date": 1428211514, "last_edit_date": 1428212331, "question_id": 29454387, "link": "https://stackoverflow.com/questions/29454387/use-perl-regex-attributes-in-awk", "title": "Use Perl regex attributes in awk", "body": "<p>I like to use the Perl regex engines in the GNU <code>grep</code>: </p>\n\n<pre><code>$ echo FOO | grep -P '(?i)foo'\nFOO\n</code></pre>\n\n<p>I use it many times with good results. </p>\n\n<p>Sometimes I use <code>awk</code> because I think it has better regex handling than bash shell - but the regex in <code>awk</code> are not the same as Perl. </p>\n\n<p>I use <code>awk</code>, <code>gawk</code> and I find different regex modifiers for the <code>awk</code>. \nIn travels I find 3 different regex modifiers for <code>awk</code>/<code>gawk</code> </p>\n\n<pre><code>--posix\n--traditional\n--re-interval\n</code></pre>\n\n<p>Do you know if there is species of <code>awk</code> that use the Perl regex like the <code>grep</code> examples above?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1428212754, "creation_date": 1428212754, "answer_id": 29454516, "question_id": 29454222, "link": "https://stackoverflow.com/questions/29454222/perl-remove-white-space-copy-file-to-new-name/29454516#29454516", "title": "Perl remove white space - copy file to new name", "body": "<p>The following line doesn't assing the new name to $undebar:</p>\n\n<pre><code>my $underbar = $desktop_item =~ s/ /_/g;\n</code></pre>\n\n<p>The substitution in scalar context returns the number of substitutions. See <a href=\"http://p3rl.org/perlop\" rel=\"nofollow\">perlop</a></p>\n\n<blockquote>\n  <p>Searches a string for a pattern, and if found, replaces that pattern with the replacement text and returns the number of substitutions made. </p>\n</blockquote>\n\n<p>The common idiom is to do the assignment first, then the substitution:</p>\n\n<pre><code>(my $underbar = $desktop_item) =~ s/ /_/g;\n</code></pre>\n\n<p>Or, since 5.14, you can use the <code>/r</code> modifier:</p>\n\n<pre><code>my $underbar = $desktop_item =~ s/ /_/gr;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 4748333, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b076810c04c849a8c93d5de88b5035b1?s=128&d=identicon&r=PG&f=1", "display_name": "Luminos", "link": "https://stackoverflow.com/users/4748333/luminos"}, "edited": false, "score": 0, "creation_date": 1428212850, "post_id": 29454519, "comment_id": 47074179, "body": "foreach my $desktop_item (@files) {     if ($desktop_item =~ /\\w\\s.[jpg|png|pdf]/) {        print &quot;$desktop_item\\n&quot; ; $desktop_item =~ s/ /_/g;                            print &quot;$desktop_item\\n&quot; ;      } }"}], "tags": [], "owner": {"reputation": 161, "user_id": 4748333, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b076810c04c849a8c93d5de88b5035b1?s=128&d=identicon&r=PG&f=1", "display_name": "Luminos", "link": "https://stackoverflow.com/users/4748333/luminos"}, "is_accepted": false, "score": 0, "last_activity_date": 1428213556, "last_edit_date": 1428213556, "creation_date": 1428212787, "answer_id": 29454519, "question_id": 29454222, "link": "https://stackoverflow.com/questions/29454222/perl-remove-white-space-copy-file-to-new-name/29454519#29454519", "title": "Perl remove white space - copy file to new name", "body": "<p>At this line => <code>my $underbar = $desktop_item =~ s/ /_/g;</code>\n$underbar stores number of regular expression matches (space in your case) in given string.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 29454516, "answer_count": 2, "score": 0, "last_activity_date": 1428213556, "creation_date": 1428209491, "question_id": 29454222, "link": "https://stackoverflow.com/questions/29454222/perl-remove-white-space-copy-file-to-new-name", "title": "Perl remove white space - copy file to new name", "body": "<p>I have download these file with spaces in the names. \nI want to replace the spaces with underbars - ultimately i want to change the name of the files - to get rid of the spaces and have names without spaces.  I am going to use File::Copy to institue changes in the file names but for now i want to keep old file names so I can sopy contents of file to new name. </p>\n\n<pre><code>$ ls  | perl -nle 'print if /\\w\\s.[jpg|png|pdf]/'\nls  | perl -nle 'print if /\\w\\s.[jpg|png|pdf]/' \nEffective awk Programming, 3rd Edition.pdf\nFashion Photography by Edward Steichen in the 1920s and 1930s (15).jpg\nFashion Photography by Edward Steichen in the 1920s and 1930s (19).jpg\nFashion Photography by Edward Steichen in the 1920s and 1930s (30).jpg\nFashion Photography by Edward Steichen in the 1920s and 1930s (4).jpg\nsed &amp;amp; awk, 2nd Edition.pdf\n</code></pre>\n\n<p>I use this code - but it has many difficulties and causes much consternation.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict\nopendir my $dir, \"/cygdrive/c/Users/walt/Desktop\" or die \"Cannot open directory: $!\";\nmy @files = readdir $dir;\nclosedir $dir;\n\nforeach my $desktop_item (@files) {\n    if ($desktop_item =~ /\\w\\s.[jpg|png|pdf]/) {\n    my $underbar = $desktop_item =~ s/ /_/g;\n\n    print \"$desktop_item\\n\" ;\n    print \"$underbar\\n\" ;\n    }\n}\n</code></pre>\n\n<p>what I am trying to achieve is output like this - where you see we have original file name with spaces and then much newer file name with underbar (i like it much better for names with no spaces! )  : </p>\n\n<pre><code>Effective_awk_Programming,_3rd_Edition.pdf\nEffective awk Programming, 3rd Edition.pdf\nFashion_Photography_by_Edward_Steichen_in_the_1920s_and_1930s_(15).jpg\nFashion Photography by Edward Steichen in the 1920s and 1930s (15).jpg\nFashion_Photography_by_Edward_Steichen_in_the_1920s_and_1930s_(19).jpg\nFashion Photography by Edward Steichen in the 1920s and 1930s (19).jpg\nFashion_Photography_by_Edward_Steichen_in_the_1920s_and_1930s_(30).jpg\nFashion Photography by Edward Steichen in the 1920s and 1930s (30).jpg\nFashion_Photography_by_Edward_Steichen_in_the_1920s_and_1930s_(4).jpg\nFashion Photography by Edward Steichen in the 1920s and 1930s (4).jpg\nsed_&amp;amp;_awk,_2nd_Edition.pdf\nsed &amp;amp; awk, 2nd Edition.pdf\n</code></pre>\n\n<p>Ultimately I am going to goal cp old file to new file. howevers\nthis is the output that i get L: </p>\n\n<pre><code>./rename_jpg.pl\nEffective_awk_Programming,_3rd_Edition.pdf\n4\nFashion_Photography_by_Edward_Steichen_in_the_1920s_and_1930s_(15).jpg\n10\nFashion_Photography_by_Edward_Steichen_in_the_1920s_and_1930s_(19).jpg\n10\nFashion_Photography_by_Edward_Steichen_in_the_1920s_and_1930s_(30).jpg\n10\nFashion_Photography_by_Edward_Steichen_in_the_1920s_and_1930s_(4).jpg\n10\nsed_&amp;amp;_awk,_2nd_Edition.pdf\n4\n</code></pre>\n\n<p>the numbers are much confusing in the output. </p>\n"}, {"tags": ["perl", "input"], "comments": [{"owner": {"reputation": 767708, "user_id": 14860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vXG1F.png?s=128&g=1", "display_name": "paxdiablo", "link": "https://stackoverflow.com/users/14860/paxdiablo"}, "edited": false, "score": 0, "creation_date": 1428201081, "post_id": 29453498, "comment_id": 47072449, "body": "Line 8 is the <i>first</i> <code>open INPUT</code> line, are you sure this is the correct code?"}, {"owner": {"reputation": 29, "user_id": 1044809, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/a59e1dd050434a5085a7fd9faea9cd3a?s=128&d=identicon&r=PG&f=1", "display_name": "Jae Song", "link": "https://stackoverflow.com/users/1044809/jae-song"}, "reply_to_user": {"reputation": 767708, "user_id": 14860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vXG1F.png?s=128&g=1", "display_name": "paxdiablo", "link": "https://stackoverflow.com/users/14860/paxdiablo"}, "edited": false, "score": 0, "creation_date": 1428201357, "post_id": 29453498, "comment_id": 47072500, "body": "In the slide it says the third argument is the name of the input file"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 4, "creation_date": 1428201536, "post_id": 29453498, "comment_id": 47072522, "body": "When you run your program, are you passing it a third argument? If not, then that is why <code>$fileName</code> has no value."}, {"owner": {"reputation": 790, "user_id": 1198482, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YmbJH.png?s=128&g=1", "display_name": "Baba", "link": "https://stackoverflow.com/users/1198482/baba"}, "edited": false, "score": 0, "creation_date": 1428216100, "post_id": 29453498, "comment_id": 47074709, "body": "how to run this programs?!?!"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 4059590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/848316ae6aea902ca7c104396c83b551?s=128&d=identicon&r=PG", "display_name": "Ken Lamb", "link": "https://stackoverflow.com/users/4059590/ken-lamb"}, "is_accepted": false, "score": 1, "last_activity_date": 1429127627, "creation_date": 1429127627, "answer_id": 29659614, "question_id": 29453498, "link": "https://stackoverflow.com/questions/29453498/use-of-uninitialized-value-error-in-concatenation/29659614#29659614", "title": "Use of uninitialized value error in concatenation", "body": "<p>As Hunter mentions, it appears that there is no third argument and $fileName is not set.</p>\n\n<p>Try adding this before the call to open() to make sure the user provides a filename.</p>\n\n<pre><code>if (!defined($filename) or length($filename) == 0))\n{\n    die \"filename argument is required\";\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 1044809, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/a59e1dd050434a5085a7fd9faea9cd3a?s=128&d=identicon&r=PG&f=1", "display_name": "Jae Song", "link": "https://stackoverflow.com/users/1044809/jae-song"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429127627, "creation_date": 1428200844, "last_edit_date": 1428509930, "question_id": 29453498, "link": "https://stackoverflow.com/questions/29453498/use-of-uninitialized-value-error-in-concatenation", "title": "Use of uninitialized value error in concatenation", "body": "<p>From the code below, I get error</p>\n\n<pre><code>Use of uninitialized value $fileName in concatenation &lt;.&gt; or string at ... line 8.\n</code></pre>\n\n<p>I also get error</p>\n\n<pre><code>Can't open from: No such file or directory at ... line 8.\n</code></pre>\n\n<p>This is a sample code for homework reference. I am trying to comprehend it.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $dayLength = $ARGV[0];\nmy $byteLength = $ARGV[1];\nmy $fileName = $ARGV[2];\n\nopen INPUT, \"&lt; $fileName\" or die \"Can't open from: $!\";\nmy $takeIn = &lt;INPUT&gt;;\n\nprint \"$takeIn\\n\";\n\nmy @files = split / /, $takeIn;\n\n\nprint \"@files\\n\";\n\n\n\nforeach my $file (@files){\nif(-M $file &gt; $dayLength &amp;&amp; -s $file &gt; $byteLength){\nprint \"\\n::::::::$file::::::::\\n\";\nopen INPUT, \"&lt; $file\" or die \"Can't open from: $!\";\nmy $i = &lt;INPUT&gt;;\nwhile($i = &lt;INPUT&gt;){\nprint $i;}\n    }}\n</code></pre>\n"}, {"tags": ["perl", "cpan", "interactive-session"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1428199672, "post_id": 29452187, "comment_id": 47072212, "body": "Is there no output or an invisible color? Could it be bad interaction between <code>Terminal.app</code> console and  the CPAN shell (<i>e.g.</i> <code>term_ornaments</code> settings).  From CPAN you can change settings using <code>o</code> ... but since you can&#39;t see the output it might be better to look in: <code>$HOME&#47;.cpan&#47;CPAN&#47;MyConfig.pm</code> for clues."}, {"owner": {"reputation": 35, "user_id": 2191010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df2e250045173fae98e1e57425ba734b?s=128&d=identicon&r=PG", "display_name": "abualiga", "link": "https://stackoverflow.com/users/2191010/abualiga"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1428203351, "post_id": 29452187, "comment_id": 47072796, "body": "@G.Cito: Thanks.  Nothing in the MyConfig.pm looks suspicious.  It&#39;s almost identical to the MyConfig I had on os x lion.  My term settings:  <code>&#39;term_is_latin&#39; =&gt; q[1],  &#39;term_ornaments&#39; =&gt; q[1]</code>"}, {"owner": {"reputation": 35, "user_id": 2191010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df2e250045173fae98e1e57425ba734b?s=128&d=identicon&r=PG", "display_name": "abualiga", "link": "https://stackoverflow.com/users/2191010/abualiga"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1428205558, "post_id": 29452187, "comment_id": 47073126, "body": "@G.Cito: I got a tip from Perl Monks to set <code>TERM=dumb</code> and that worked.   But that does not play nice with vim."}], "owner": {"reputation": 35, "user_id": 2191010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df2e250045173fae98e1e57425ba734b?s=128&d=identicon&r=PG", "display_name": "abualiga", "link": "https://stackoverflow.com/users/2191010/abualiga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428187604, "creation_date": 1428187223, "last_edit_date": 1592644375, "question_id": 29452187, "link": "https://stackoverflow.com/questions/29452187/perl-cpan-strange-behavior", "title": "perl cpan strange behavior", "body": "<p>after upgrading to OS X Yosemite and installing cpan (ver 2.00), I cannot see the text that I type when in a cpan session.  To give more detail, installing modules through cpan works, running commands in cpan works, but I simply cannot see anything that I type in a given instance of cpan.  In the attached example screenshot, I type 'help' in a cpan session and get the expected output, but the word 'help' is not visible at the command line. I have no clue where to start troubleshooting. Any insight is greatly appreciated.  Many thanks!  <img src=\"https://i.stack.imgur.com/GNNu1.png\" alt=\"In the attached screenshot, I'm in a cpan session and type 'help' and get the expected output, but as you can see the word help is not visible in the prompt\" /></p>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428180922, "post_id": 29451119, "comment_id": 47068419, "body": "You will have to explain what your problem is with reading from a file handle, as there is no other way to get data into a program and it is hard to guess what might be a <i>better way</i>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1428186094, "post_id": 29451119, "comment_id": 47069636, "body": "There are many ways of accepting inputs. Which one do <i>you</i> want to use?"}], "answers": [{"comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1428338461, "post_id": 29451158, "comment_id": 47111782, "body": "If you want one line <code>if</code>, use backwards: <code>die qq(Invalid input) if $input !~ &#47;^\\d+$&#47;</code>."}], "tags": [], "owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "is_accepted": false, "score": -1, "last_activity_date": 1428270118, "last_edit_date": 1428270118, "creation_date": 1428179828, "answer_id": 29451158, "question_id": 29451119, "link": "https://stackoverflow.com/questions/29451119/accept-user-input-perl/29451158#29451158", "title": "Accept user input perl", "body": "<p>Here's one approach, taking a comma-separated list of integers:</p>\n\n<pre><code>my $input = &lt;STDIN&gt;;\nchomp($input);\nif ($input !~ m/^(\\d+(,\\d+)*)?$/) { die('invalid input'); }\nmy @input = split(/,/, $input );\n</code></pre>\n\n<p>Or you could read one integer per line:</p>\n\n<pre><code>my @input;\nwhile (my $input = &lt;STDIN&gt;) {\n    chomp($input);\n    if ($input !~ m/^\\d+$/) { die('invalid input'); }\n    push(@input, $input );\n} ## end while\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1428338268, "post_id": 29474417, "comment_id": 47111689, "body": "When you show code or output, indent the lines by four spaces, so it shows up as a program. You can see how I did this by clicking on <code>edit</code> above."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1428338334, "post_id": 29474417, "comment_id": 47111722, "body": "You never verified your input which can be an issue if you enter in non-integers. You also never <code>chomp</code>ed your input which is why each one is on a separate line. You have a hidden <i>new line</i> on the end of each number."}, {"owner": {"reputation": 41, "user_id": 4679527, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155287153095322/picture?type=large", "display_name": "Andreas &#196;hrlund", "link": "https://stackoverflow.com/users/4679527/andreas-%c3%84hrlund"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1435218458, "post_id": 29474417, "comment_id": 50110988, "body": "Thank you David. Also the -1 Has to be removed with pop as well.  Ill edit!"}], "tags": [], "owner": {"reputation": 41, "user_id": 4679527, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155287153095322/picture?type=large", "display_name": "Andreas &#196;hrlund", "link": "https://stackoverflow.com/users/4679527/andreas-%c3%84hrlund"}, "is_accepted": false, "score": 0, "last_activity_date": 1435220032, "last_edit_date": 1435220032, "creation_date": 1428334631, "answer_id": 29474417, "question_id": 29451119, "link": "https://stackoverflow.com/questions/29451119/accept-user-input-perl/29474417#29474417", "title": "Accept user input perl", "body": "<p>This is how I did it:</p>\n\n<pre><code>$input = 0;\nwhile($input != -1)\n{\n    print \"add input, finish with -1\", \"\\n\";\n    $input = &lt;STDIN&gt;;\n    chomp($input);\n    push(@array, $input);\n}\n#You also need to remove the last input, -1, with pop:\npop(@array); \nprint @array;\n</code></pre>\n\n<p>Console output:</p>\n\n<pre><code>add input, finish with -1\n1\nadd input, finish with -1\n2\nadd input, finish with -1\n-1\n12\n</code></pre>\n\n<p>If the user inputs a tab delimited string of numbers directly,\nyou can use the splice function to separate the strings.</p>\n\n<pre><code>@array = splice(/\\t/,$array[0])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1428338077, "creation_date": 1428338077, "answer_id": 29475370, "question_id": 29451119, "link": "https://stackoverflow.com/questions/29451119/accept-user-input-perl/29475370#29475370", "title": "Accept user input perl", "body": "<p>You want input a <strong>list</strong> of integers? I take it you mean that you want to enter a list of numbers, and accept that input if they're all integers.</p>\n\n<p>In this program, I loop forever until I get a valid list, thus <code>for (;;)</code>. Some people prefer <code>while (1)</code>.</p>\n\n<p>I use <a href=\"http://perldoc.perl.org/Scalar/Util.html\" rel=\"nofollow\">Scalar::Util</a>'s <code>looks_like_number</code> to test whether the input is numeric, and then use <code>int</code> to verify that the number is an integer. You could use a regular expression like <code>/^\\d+$/</code>, but there's no guarantee that it works in all circumstances. Using <code>int</code> and <code>looks_like_number</code> guarantees the results.</p>\n\n<p>I assume that a list of integers could be space separated or comma separated or both, thus my <code>split /[\\s,]+/</code>.</p>\n\n<p>You said:</p>\n\n<blockquote>\n  <p>The only thing I can think of is getting each integer from the list specifically using STDIN. Is there a better way to do this?</p>\n</blockquote>\n\n<p>You read in data from a file handle, whether a file or something like <code>STDIN</code>. No way around that. However, you can at least make it a single input rather one at a time which I assume you mean.</p>\n\n<p>By the way, I could have combined my numeric test with:</p>\n\n<pre><code>if( not looks_like_number $integer or $integer != $integer ) {\n</code></pre>\n\n<p>Since this is an <code>or</code> statement, if this would first check if <code>$input</code> looks numeric, and if it isn't, would warn about the input before checking to see if it's an integer. However, I'm not sure this is actually clearer than making it too separate statements.</p>\n\n<pre><code>#! /usr/bin/env perl\n#\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nuse Scalar::Util qw(looks_like_number);\n\nmy @integers;           # Storage for my integers\n#\n# Keep looping until you have a valid input\n#\nINPUT:\nfor (;;) {\n    print \"List of integers: \";\n    my $input = &lt;STDIN&gt;;\n    chomp $input;\n    @integers = split /[\\s,]+/, $input;\n    #\n    # Verify inputted \"number\" is numeric and an integer\n    #\n    for my $integer ( @integers ) {\n        if( not looks_like_number $integer ) {\n            warn qq(Invalid number entered: \"$integer\");\n            next INPUT;\n        }\n        if( $integer != int $integer ) {\n            warn qq(Invalid integer entered: \"$integer\");\n            next INPUT;\n        }\n    }\n    #\n    # Exit if there's at least one integer in @integers\n    #\n    last if @integers;\n}\nsay \"Integers: \" . join \": \", @integers;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4736488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5926b270ed5e29e316dda939c02f16ad?s=128&d=identicon&r=PG&f=1", "display_name": "bonan", "link": "https://stackoverflow.com/users/4736488/bonan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 537, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1435220032, "creation_date": 1428179602, "last_edit_date": 1428179974, "question_id": 29451119, "link": "https://stackoverflow.com/questions/29451119/accept-user-input-perl", "title": "Accept user input perl", "body": "<p>How do I accept a list of integers as input? The only thing I can think of is getting each integer from the list specifically using STDIN. Is there a better way to do this?</p>\n"}, {"tags": ["mysql", "windows", "perl"], "comments": [{"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "edited": false, "score": 1, "creation_date": 1428167326, "post_id": 29448749, "comment_id": 47064489, "body": "How did you install mysql? If you would have been using the MSI-Installer it would have prompted you for root user/password during setup. Anyway you can follow this guide to reset your password: <a href=\"https://dev.mysql.com/doc/refman/5.5/en/resetting-permissions.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.5/en/resetting-permissions.html</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428185304, "post_id": 29448749, "comment_id": 47069454, "body": "localhost is already correct. More likely problem: You&#39;re didn&#39;t specify a password, or you specified the wrong password."}], "owner": {"reputation": 127, "user_id": 2587898, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9f1dc5d3e54eba18abe98ad33423e527?s=128&d=identicon&r=PG", "display_name": "Irina Matveeva", "link": "https://stackoverflow.com/users/2587898/irina-matveeva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428164819, "creation_date": 1428164819, "question_id": 29448749, "link": "https://stackoverflow.com/questions/29448749/what-script-replaces-the-mysql-install-db-script-on-windows", "title": "What script replaces the mysql_install_db script on Windows ?", "body": "<p>I am getting the \"access denied for user 'root@localhost' error while trying to connect to MySQL on Windows 7 with no Perl installed. The solutions offered in the MySQL manual are: a) to create a windows\\hosts file with a '127.0.0.1  localhost' entry in it and b) to run the mysql_install_db script.pl, which is a Perl file to be run on Unix. </p>\n\n<p>Creating the 'windows\\hosts' file did not work. Do I create it in the root of the MySQL installation or at the same level with the bin directory?</p>\n\n<p>Is there a similar batch script for Windows to reset the database permissions? What other solutions are there except these two? </p>\n\n<p>The thing is that I am not able to connect to the mysql database in order to be able to modify the mysql.user table. </p>\n\n<p>I appreciate advice in resolving this problem. </p>\n"}, {"tags": ["linux", "perl", "snmp", "net-snmp"], "comments": [{"owner": {"reputation": 2502, "user_id": 501739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b8fa3bc7278508dd85dc6090608f26c?s=128&d=identicon&r=PG", "display_name": "Jolta", "link": "https://stackoverflow.com/users/501739/jolta"}, "edited": false, "score": 0, "creation_date": 1428925811, "post_id": 29448747, "comment_id": 47354753, "body": "Why would you do clock synchronization with SNMP? This seems like a very poorly thought-out systems design. There are so many situations where SNMP is not reliable in terms of delivery assurance or timing..."}, {"owner": {"reputation": 21, "user_id": 4749571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/213f3a950dcd8ae8e9c860238c070f79?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/4749571/kyle"}, "reply_to_user": {"reputation": 2502, "user_id": 501739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b8fa3bc7278508dd85dc6090608f26c?s=128&d=identicon&r=PG", "display_name": "Jolta", "link": "https://stackoverflow.com/users/501739/jolta"}, "edited": false, "score": 0, "creation_date": 1428952101, "post_id": 29448747, "comment_id": 47371672, "body": "It is not doing clock synchronization via SNMP. It is querying the high resolution time of a system via SNMP. The intent is to send this query to two machines at the &quot;same time&quot;."}], "owner": {"reputation": 21, "user_id": 4749571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/213f3a950dcd8ae8e9c860238c070f79?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/4749571/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1089, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1428699659, "creation_date": 1428164816, "last_edit_date": 1428699659, "question_id": 29448747, "link": "https://stackoverflow.com/questions/29448747/netsnmp-caching-results-for-extend-oids", "title": "Net::SNMP caching results for extend OIDs", "body": "<p>The scope of this work is to query two machines' high resolution timer at the \"same time\" and get the time clock inaccuracy between both systems. This is done by having the 3rd machine sending an SNMP-get for a custom OID where the SNMP agent is configured to invoke a perl script to return the high-resolution timer. All works fine as in the snmp-get manages to return the expected result. However it appears that regardless of the frequency of the snmpget queries, the snmpagent only performs a fresh query to the script at ~5 second intervals. I am running NET SNMP version 5.4.3. After some research I've seen that this is typical of NET SNMP to cache the results and this is done on MIB tree basis. There is MIB (nsCacheTable) with the respective intervals by querying snmpwalk to 1.3.6.1.4.1.8072.1.5.3. Apparently the values can be changed to 0 to remove caching. Some of these are read-only though. Although I've set a few of them to 0 using SNMPset (as most of them return a Bad object type error).\nI know very basic SNMP so I followed a guide online and mapped the below custom OID to the perl script with this line in the snmpd.conf.</p>\n\n<pre><code>extend .1.3.6.1.4.1.27654.3 return_date /usr/bin/perl [directory]/[perl script name].pl\n</code></pre>\n\n<p>Then the actual OID containing the output (time in epoch) is:\niso.3.6.1.4.1.27654.3.3.1.1.11.114.101.116.117.114.110.95.100.97.116.101</p>\n\n<p>Anyone has any ideas how I can disable the caching for this OID?</p>\n\n<p>Thanks in advance.</p>\n\n<p>---EDIT---</p>\n\n<p>According to <a href=\"http://vincent.bernat.im/en/blog/2012-extending-netsnmp.html\" rel=\"nofollow\">this</a> blog post, in order to avoid disabling the caching - one can instead use pass-persist scripts which look more complex to implement at first glance. The perl script I used to call is the below:</p>\n\n<pre><code>#!/usr/bin/perl\n# THIS SCRIPT RETURNS THE EPOCH TIME OF DAY IN MICROSECONDS\n\nuse Time::HiRes qw(gettimeofday);\n($s, $usec) = gettimeofday();\n\n$newtime = $s.$usec;\nprint ($newtime);\n</code></pre>\n\n<p>Anyone can provide help in converting this script for pass-persist and how the snmpd.conf should look like?</p>\n"}, {"tags": ["perl", "lwp-useragent"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1428162017, "post_id": 29448114, "comment_id": 47062847, "body": "Use <code>use warnings</code> and <code>use strict</code> in your code."}, {"owner": {"reputation": 1, "user_id": 4749522, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AyfscDen5Yg/AAAAAAAAAAI/AAAAAAAAAao/dUUpv11OPUo/photo.jpg?sz=128", "display_name": "phani", "link": "https://stackoverflow.com/users/4749522/phani"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1428165310, "post_id": 29448114, "comment_id": 47063877, "body": "I used strict and warnings. It says that $response, content and line require an explicit package name. I checked whether perl modules are present by cpan LWP::UserAgent and cpan HTTP::Response through command line.It says both modules are upto date"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1428186326, "post_id": 29448114, "comment_id": 47069712, "body": "That&#39;s funny. Even without those measures in place, I get <code>Unquoted string &quot;response&quot; may clash with future reserved word at E:\\Perl\\source\\resp.pl line 10.</code>, <code>syntax error at E:\\Perl\\source\\resp.pl line 6, near &quot;$line(&quot;</code>, <code>syntax error at E:\\Perl\\source\\resp.pl line 17, near &quot;}&quot;</code>, <code>Execution of E:\\Perl\\source\\resp.pl aborted due to compilation errors.</code> Are you really unable to fix those problems yourself? `"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1428186089, "creation_date": 1428186089, "answer_id": 29452038, "question_id": 29448114, "link": "https://stackoverflow.com/questions/29448114/downloading-text-files-perl/29452038#29452038", "title": "Downloading text files: Perl", "body": "<p>There are a number of problems with your program. The major ones being in this line</p>\n\n<pre><code>response = $ua-&gt;get('www.ndbserver.rutgers.edu/files/ftp/NDB/coordinates/na-biol/$line');\n</code></pre>\n\n<ul>\n<li><p>You are trying to assign to <code>response</code>, which is not a variable name</p></li>\n<li><p>the value of <code>$line</code> is not being inserted into the URL because you are using single quotes</p></li>\n<li><p>The contents of <code>$line</code> end with a linefeed, which should be removed using <code>chomp</code></p></li>\n<li><p>The URL has no <em>scheme</em> \u2014 it should start with <code>http://</code></p></li>\n</ul>\n\n<p>Apart from those points, you should fix these issues</p>\n\n<ul>\n<li><p>You <em>must always</em> <code>use strict</code> and <code>use warnings</code> at the top of <em>every</em> Perl program you write. Adding <code>-w</code> on the shebang line is far inferior</p></li>\n<li><p>You should <code>use</code> rather than <code>require</code> <code>LWP::UserAgent</code>. And there is no need to also <code>use HTTP::Response</code> as it is loaded as part of LWP</p></li>\n<li><p>You should always use the <em>three-parameter</em> form of <code>open</code> with lexical file handles. And if the <code>open</code> fails you should print a <code>die</code> string that includes the value of <code>$!</code> which gives the <em>reason</em> for the failure</p></li>\n<li><p>You should use <code>while</code> to read data from a file one line at a time, unless you have a good reason to need all of it in memory at once</p></li>\n<li><p>There is no need to create a new user agent <code>$ua</code> every time around the loop. Just make one and use it to fetch every URL</p></li>\n<li><p>You should use <code>decoded_content</code> instead of <code>content</code> to fetch the content of an <code>HTTP::Response</code> message in case it is compressed</p></li>\n</ul>\n\n<p>Here is a program that includes all of those fixes. I haven't been able to test it but it does compile</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse LWP::UserAgent;\n\nmy $in_file = 'ndb_id_file.txt';\n\nopen my $fh, '&lt;', $in_file or die qq{Unable to open \"$in_file\" for input: $!};\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;env_proxy('http');\n$ua-&gt;proxy(['http', 'ftp'], 'http://144020019:*******@netmon.****.ac.in:80');\n\nwhile ( my $line = &lt;$fh&gt; ) {\n\n    chomp $line;\n    my $url = \"http://www.ndbserver.rutgers.edu/files/ftp/NDB/coordinates/na-biol/$line\";\n    my $response = $ua-&gt;get($url);\n\n    unless ( $response-&gt;is_success ) {\n      warn $response-&gt;status_line;\n      next;\n    }\n\n    my $content = $response-&gt;decoded_content;\n    my $out_file = \"$line.pdb\";\n\n    open my $out_fh, '&gt;', $out_file or die qq{Unable to open \"$out_file\" for output: $!};\n    print $out_fh $content;\n    close $out_fh or die qq{Unable to close \"$out_file\": $!};\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4749522, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AyfscDen5Yg/AAAAAAAAAAI/AAAAAAAAAao/dUUpv11OPUo/photo.jpg?sz=128", "display_name": "phani", "link": "https://stackoverflow.com/users/4749522/phani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1428186089, "creation_date": 1428161089, "last_edit_date": 1428173818, "question_id": 29448114, "link": "https://stackoverflow.com/questions/29448114/downloading-text-files-perl", "title": "Downloading text files: Perl", "body": "<p>The files are not downloading, please help.</p>\n\n<pre><code>#!/usr/bin/perl -w\nrequire HTTP::Response;\nrequire LWP::UserAgent;\nopen (INPUT, \"ndb_id_file.txt\") or die \"can't open ndb_id_file.txt\";\n@input = &lt;INPUT&gt;\nforeach $line(@input) {\n    $ua = LWP::UserAgent-&gt;new;\n    $ua-&gt;env_proxy('http');\n    $ua-&gt;proxy(['http', 'ftp'],'http://144020019:*******@netmon.****.ac.in:80');\n    response = \n        $ua-&gt;get('www.ndbserver.rutgers.edu/files/ftp/NDB/coordinates/na-biol/$line');\n    if ($response-&gt;is_success) {\n        $content = $response-&gt;content();\n        open(OUT,\"&gt;$line.pdb\") or die \"Output file $line cannot be produced... Error...\";\n        print (OUT \"$content\");\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 1, "creation_date": 1428154379, "post_id": 29447029, "comment_id": 47060682, "body": "what have you tried? There&#39;s several ways to iplement that, and a lot of these would be considered easy by different people."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428154444, "post_id": 29447029, "comment_id": 47060707, "body": "Can the backticks enclose more than just a <code>&lt;</code> sign, or is the sequence always <i>backtick</i>, <i>less-than</i>, <i>backtick</i>?"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1428154849, "post_id": 29447029, "comment_id": 47060813, "body": "@MarcusM&#252;ller I tried with a simple regex to match ouside paired backticks recursively. The code is horrible. Another way was to parse the string once, extract non greedy backticked string, replace them with a marker, do the <code>&amp;lt;</code> substitution everywhere and restore the backticked strings."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428154883, "post_id": 29447029, "comment_id": 47060821, "body": "@Borodin You lost me"}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1428154998, "post_id": 29447029, "comment_id": 47060857, "body": "@coin: Borodin asked: &quot;Is it always <code>`&lt;`</code>, or can it also be <code>`&lt;stuff`</code>?&quot;"}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1428155042, "post_id": 29447029, "comment_id": 47060867, "body": "@coin: sounds like you have two solutions already... Why don&#39;t you mention these in your question? Otherwise, the next best guy would just suggest your horrible regex..."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1428155420, "post_id": 29447029, "comment_id": 47060977, "body": "@MarcusM&#252;ller You are right. I should have implemented these first then ask my question after all"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428155497, "post_id": 29447029, "comment_id": 47061002, "body": "Okay, so can the closing backtick be on a new line after the opening one?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1428156242, "last_edit_date": 1428156242, "creation_date": 1428155249, "answer_id": 29447175, "question_id": 29447029, "link": "https://stackoverflow.com/questions/29447029/replace-with-lt-everywhere-but-inside-backticks/29447175#29447175", "title": "Replace &lt; with &amp;lt; everywhere but inside backticks", "body": "<p>You haven't defined your problem very well, but this replaces all <code>&lt;</code> signs that are neither preceded immediately nor followed immediately by a backtick.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) {\n  s/(?&lt;!`)&lt;(?!`)/&amp;lt;/g;\n  print;\n}\n\n__DATA__\nHere a &lt; and a `&lt;` and Here a &lt; and a `&lt;`\nHere a &lt; and a `&lt;`\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Here a &amp;lt; and a `&lt;` and Here a &amp;lt; and a `&lt;`\nHere a &amp;lt; and a `&lt;`\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Okay, so you can have any data inside the backticks, including newlines (I think, but you seem reluctant to say) which is much easier to handle if you read the whole file into a scalar variable.</p>\n\n<p>This works by finding all backtick-enclosed substrings or less-than signs <code>&lt;</code>, and replaces the former by itself and the latter by <code>&amp;lt;</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $data = do {\n  local $/;\n  &lt;DATA&gt;;\n};\n\n$data =~ s{ ( `[^`]*` ) | &lt; }{ $1 // '&amp;lt;' }egx;\nprint $data;\n\n__DATA__\nHere a &lt; and a ` some foo &lt; stuff`\nHere a &lt; and a ` some foo &lt;\nstuff`\nHere a &lt; and a ` some foo &lt; stuff`\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Here a &amp;lt; and a ` some foo &lt; stuff`\nHere a &amp;lt; and a ` some foo &lt;\nstuff`\nHere a &amp;lt; and a ` some foo &lt; stuff`\n</code></pre>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 29447175, "answer_count": 1, "score": -2, "last_activity_date": 1428156242, "creation_date": 1428154275, "last_edit_date": 1428155377, "question_id": 29447029, "link": "https://stackoverflow.com/questions/29447029/replace-with-lt-everywhere-but-inside-backticks", "title": "Replace &lt; with &amp;lt; everywhere but inside backticks", "body": "<p>I have a multiline <code>$string</code> which contain code. I would like to replace all the <code>&lt;</code> and <code>&gt;</code> chars with <code>&amp;lt;</code> and <code>&amp;gt;</code> everywhere but inside the backticks. </p>\n\n<p>Example: </p>\n\n<pre><code>Here a &lt; and a ` some foo &lt; stuff`\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>Here a &amp;lt; and a ` some foo &lt; stuff`\n</code></pre>\n\n<p>What is the easiest way to implement it in Perl?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1428140103, "post_id": 29444190, "comment_id": 47057073, "body": "What do you have in out.txt? It works for me, except you have to use <code>$1</code> and <code>$2</code> instead of <code>\\1</code> and <code>\\2</code>. You must also <code>use warnings;</code> at the begining of the script."}], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 0, "last_activity_date": 1428138409, "creation_date": 1428138409, "answer_id": 29444602, "question_id": 29444190, "link": "https://stackoverflow.com/questions/29444190/i-am-trying-to-modify-some-content-in-text-file-using-perl/29444602#29444602", "title": "I am trying to modify some content in text file using perl", "body": "<p>You should use double <code>&gt;&gt;</code> and specify file name:</p>\n\n<pre><code>my $outfile = 'out.txt';\nopen (FILE, \"&gt;&gt; $outfile\") || die \"File not found\";\n</code></pre>\n\n<p>The regex is fine, as tested in this <a href=\"http://goo.gl/SBmo2Y\" rel=\"nofollow\">sample program</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1428140533, "creation_date": 1428140533, "answer_id": 29444906, "question_id": 29444190, "link": "https://stackoverflow.com/questions/29444190/i-am-trying-to-modify-some-content-in-text-file-using-perl/29444906#29444906", "title": "I am trying to modify some content in text file using perl", "body": "<p>It seems to me that you have missed the Drive for the output file.<br>\nI'd do:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $in_file  = 'G:/in.txt';\nmy $out_file = 'G:/out.txt';\n\nopen my $in, '&lt;', $in_file or die \"Unable to open '$in_file': $!\";\nopen my $out, '&gt;', $out_file or die \"Unable to open '$out_file': $!\";\nwhile(&lt;$in&gt;) {\n    chomp;\n    s/^(.+?)\\.doc\\s*.+?:\\s*(CC.+?xml)\\./$2-$1.xml/i;\n    print $out $_,\"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1428142615, "last_edit_date": 1428142615, "creation_date": 1428141565, "answer_id": 29445059, "question_id": 29444190, "link": "https://stackoverflow.com/questions/29444190/i-am-trying-to-modify-some-content-in-text-file-using-perl/29445059#29445059", "title": "I am trying to modify some content in text file using perl", "body": "<p>Just use Perl one-liner</p>\n\n<pre><code>perl -pe's/(^.+?)\\.doc\\s*.+?[\\:]\\s*(CC.+?xml)\\./\\2-\\1.xml/ig'\n</code></pre>\n\n<p>BTW Did you read <a href=\"http://perldoc.perl.org/perlre.html#s\" rel=\"nofollow\"><code>perldoc perlre</code></a> and are you sure you understand it? Because you read your input file by lines and <code>s</code> modifier in your code doesn't make any sense. If you really want to apply regexp for multiline pattern, you should use.</p>\n\n<pre><code>perl -0777 -pe's/(^.+?)\\.doc\\s*.+?[\\:]\\s*(CC.+?xml)\\./\\2-\\1.xml/igs'\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 1548204, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/03deae7e7f2ca61e6fcb8e35155ee7b3?s=128&d=identicon&r=PG", "display_name": "maddy", "link": "https://stackoverflow.com/users/1548204/maddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1428142615, "creation_date": 1428135103, "question_id": 29444190, "link": "https://stackoverflow.com/questions/29444190/i-am-trying-to-modify-some-content-in-text-file-using-perl", "title": "I am trying to modify some content in text file using perl", "body": "<p>I am trying to modify some content in text file using regular expression in perl script its not modifying anything but when i use the same regular expresion in textpad it modifies</p>\n\n<p>input</p>\n\n<pre><code>    ab 3fdfs2sd 6 Feb 2015.doc Creatings som junk text: ccpsd(1).xml.\n    sdfdgd .df . fds  18 Mar 2015.doc  Creatings som junk text: ccpsd(2).xml.\n</code></pre>\n\n<p>output requried:</p>\n\n<pre><code>    ccpsd(1).xml-ab 3fdfs2sd 6 Feb 2015.xml\n    ccpsd(2).xml-sdfdgd .df . fds  18 Mar 2015.xml\n</code></pre>\n\n<p>code</p>\n\n<pre><code>    use strict;\n    open(FILE, \"&lt;G:/in.txt\") || die \"File not found\";\n     my @lines = &lt;FILE&gt;;  \n     close(FILE);\n\n    my @newlines;\n    foreach(@lines) {\n\n       $_ =~ s/(^.+?)\\.doc\\s*.+?[\\:]\\s*(CC.+?xml)\\./\\2-\\1.xml/igs;\n\n          push(@newlines,$_);\n    }\n\n    open(FILE, \"&gt;/out.txt\") || die \"File not found\";\n    print FILE @newlines;\n    close(FILE);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1428135159, "post_id": 29444050, "comment_id": 47055837, "body": "What result do you expect? Make <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 1, "creation_date": 1428135406, "post_id": 29444050, "comment_id": 47055892, "body": "BTW your code is wrong. See the result <code>perl -MData::Dumper -e&#39;my @array1= {&quot;gee0&quot;,gee1,gee7,gee10,gee12,gee20,gee24,gee15,gee8,gee47};&zwnj;&#8203;print Dumper(\\@array1)&#39;</code>. Do you expect answers when you don&#39;t even bother to run one line of code and check if it does what you expect?"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1428137363, "post_id": 29444050, "comment_id": 47056369, "body": "Thanks for you reply.....sorry for posting wrong code ...I have corrected the code"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 1, "creation_date": 1428138672, "post_id": 29444050, "comment_id": 47056709, "body": "Always <code>use strict;</code> and  <code>use warnings;</code>. Your code is still wrong."}], "answers": [{"comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1428137487, "post_id": 29444144, "comment_id": 47056403, "body": "Thanks you ...for the help .I got the idea ."}, {"owner": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "edited": false, "score": 1, "creation_date": 1428140671, "post_id": 29444144, "comment_id": 47057211, "body": "Schwartzian is way overkill for this situation, IMHO."}, {"owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1428184420, "post_id": 29444144, "comment_id": 47069264, "body": "Thanks for fixing the code. I&#39;ve got right-left dyslexia, sometimes I transpose things left to right. Meant to put the index left and put it right."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428185402, "post_id": 29444144, "comment_id": 47069478, "body": "huh, doesn&#39;t using the ST slow things down here? If using ST does help, you&#39;d be better off using <code>map substr($_, 4), sort map pack(&#39;N&#39;, &#47;(\\d+)&#47;).$_, @data</code>"}], "tags": [], "owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "is_accepted": false, "score": 2, "last_activity_date": 1428135239, "last_edit_date": 1428135239, "creation_date": 1428134739, "answer_id": 29444144, "question_id": 29444050, "link": "https://stackoverflow.com/questions/29444050/how-to-sort-an-alphanumeric-array-in-perl/29444144#29444144", "title": "How to sort an alphanumeric array in perl?", "body": "<p>You can write any sort of comparison code using the $a and $b variables into the sort command. For example using the alphanumeric comparative operator:</p>\n\n<pre><code>my @sorted_array = sort {\n  $a &lt;=&gt; $b\n} @array1;\n</code></pre>\n\n<p>This will not work with the strings as you have them. If they all contain the same prefix, you can strip that before the comparison like:</p>\n\n<pre><code>my @sorted_array = sort {\n  my ($anum) = ($a =~ /\\w(\\d+)$/);\n  my ($bnum) = ($b =~ /\\w(\\d+)$/);\n  $anum &lt;=&gt; $bnum\n} @array1;\n</code></pre>\n\n<p>Of course, this would be stripping it on every comparison. In case the array would be large, you want to pre-strip it like this:</p>\n\n<pre><code>my @sorted_array =  map { \n  $_-&gt;[0]\n} sort {\n  $a-&gt;[1] &lt;=&gt; $b-&gt;[1]\n} map {\n  [$_,($_ =~ /(\\d+)$/)]\n} @array1;\n</code></pre>\n\n<p>This basically creates a new array where each element is a pair of a sortable key and the original value and after sorting them by the key, you strip the key and just present the values. This technique is called <a href=\"http://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow\">Schwartzian Transform</a></p>\n"}, {"comments": [{"owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1428307929, "post_id": 29447433, "comment_id": 47097477, "body": "Are you aware that this is in essence the Schwartzian Transform, just redrawn in a different syntax and with one extra step? Simply instead of [n,2] 2-dimensional array, you use 2 [n] 1-dimensional arrays. Then tie them through the index."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1428337133, "post_id": 29447433, "comment_id": 47111110, "body": "@JiriKlouda: Are you aware that an ordinary sort operation is in essence the <i>Schwartzian Transform</i>, just written in a different syntax that saves memory by recalculating the sort function only when it is needed instead of caching it alongside the original data?"}, {"owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1428341614, "post_id": 29447433, "comment_id": 47113476, "body": "That is not the case. You cannot make an isomorphism mapping the memory requirement, computational difficulty and number of steps between Schwartz and ordinary sort, but you can make an isomorphism mapping your solution onto Schwatzian Transform. That is how we compare two things in mathematics. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 1, "creation_date": 1428345534, "post_id": 29447433, "comment_id": 47115521, "body": "@JiriKlouda: I don&#39;t see how your isomorphism is a useful comparison when a normal <code>sort</code> and a <i>ST</i> both create a new sorted list of the original data whereas this technique creates just a list of indices. Note that multiple such lists can be created which reflect the data sorted in different orders, without the need to duplicate the data in the original array, each element of which could be large. In case you were&#39;nt understanding properly I have changed the final <code>print</code> statement so that it iterates over the list of indices instead of building a separate array slice."}, {"owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1428357608, "post_id": 29447433, "comment_id": 47121429, "body": "You are right that there is no copy of the original values and that at 2nd and further index or in case of read only original data, or even data on disk, your method would be preferable to create a new sorted index."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1428345674, "last_edit_date": 1428345674, "creation_date": 1428156869, "answer_id": 29447433, "question_id": 29444050, "link": "https://stackoverflow.com/questions/29444050/how-to-sort-an-alphanumeric-array-in-perl/29447433#29447433", "title": "How to sort an alphanumeric array in perl?", "body": "<p>An alternative to the Schwartzian Transform is to create a new array of the transformed values that you want to sort by, sort that array's <em>indices</em>, and use the sorted indices to reorder the original data as an array slice.</p>\n\n<p>It loks like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @array   = qw/ gee0 gee1 gee7 gee10 gee12 gee20 gee24 gee15 gee8 gee47 /;\nmy @values  = map /(\\d+)/, @array;\nmy @indices = sort { $values[$a] &lt;=&gt; $values[$b] } 0 .. $#values;\n\nprint \"$array[$_]\\n\" for @indices;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>gee0\ngee1\ngee7\ngee8\ngee10\ngee12\ngee15\ngee20\ngee24\ngee47\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1428297966, "post_id": 29451927, "comment_id": 47094323, "body": "Thank you for your response .what is the meaning of &quot;natsort&quot; here?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1428300139, "post_id": 29451927, "comment_id": 47094904, "body": "<code>natsort @data</code> is a subroutine call."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1428185684, "last_edit_date": 1428185684, "creation_date": 1428185379, "answer_id": 29451927, "question_id": 29444050, "link": "https://stackoverflow.com/questions/29444050/how-to-sort-an-alphanumeric-array-in-perl/29451927#29451927", "title": "How to sort an alphanumeric array in perl?", "body": "<p>If you're looking for the simplest solution, it's:</p>\n\n<pre><code>use Sort::Key::Natural qw( natsort );\n\nmy @sorted = natsort @data;\n</code></pre>\n\n<p>If you're looking for the fastest solution, it's:</p>\n\n<pre><code>use Sort::Key::Natural qw( natsort );\n\nmy @sorted = natsort @data;\n</code></pre>\n"}], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 822, "favorite_count": 1, "answer_count": 3, "score": -4, "last_activity_date": 1465289651, "creation_date": 1428134121, "last_edit_date": 1465289651, "question_id": 29444050, "link": "https://stackoverflow.com/questions/29444050/how-to-sort-an-alphanumeric-array-in-perl", "title": "How to sort an alphanumeric array in perl?", "body": "<p>I have an alphanumeric  array called </p>\n\n<pre><code>my @array1= (gee0,gee1,gee7,gee10,gee12,gee20,gee24,gee15,gee8,gee47);\n</code></pre>\n\n<p>How can I sort the above alphanumeric array?</p>\n"}, {"tags": ["perl", "unit-testing"], "comments": [{"owner": {"reputation": 12493, "user_id": 106906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d246a4b19295137980d6c6f831eba665?s=128&d=identicon&r=PG", "display_name": "Dogweather", "link": "https://stackoverflow.com/users/106906/dogweather"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1428203619, "post_id": 29443167, "comment_id": 47072829, "body": "Unfortunately, I lose the colored text when post-processing it. I&#39;ll follow up with <code>perlbug</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428275508, "post_id": 29443167, "comment_id": 47089884, "body": "&quot;All tests successful.&quot; is made redundant by &quot;Result: PASS&quot;, but not the other way around as you claim.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1428275559, "post_id": 29443167, "comment_id": 47089894, "body": "&quot;Files=1, Tests=2,  0 wallclock secs ( 0.04 usr  0.00 sys +  0.16 cusr  0.01 csys =  0.21 CPU)&quot; is not redundant at all. You may not be interested in that info, but that doesn&#39;t make it redundant."}, {"owner": {"reputation": 12493, "user_id": 106906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d246a4b19295137980d6c6f831eba665?s=128&d=identicon&r=PG", "display_name": "Dogweather", "link": "https://stackoverflow.com/users/106906/dogweather"}, "edited": false, "score": 0, "creation_date": 1428337866, "post_id": 29443167, "comment_id": 47111485, "body": "&quot;No news is good news&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1428276568, "last_edit_date": 1428276568, "creation_date": 1428275661, "answer_id": 29463288, "question_id": 29443167, "link": "https://stackoverflow.com/questions/29443167/how-to-disable-redundant-perl-prove-output/29463288#29463288", "title": "How to disable redundant perl prove output?", "body": "<p>No. These are not output conditionally.</p>\n\n<pre><code>if ( $aggregate-&gt;all_passed ) {\n    $self-&gt;_output_success(\"All tests successful.\\n\");\n}\n\n...\n\nmy $files = @$tests;\n$self-&gt;_output(\"Files=$files, Tests=$total, $runtime\\n\");\nmy $status = $aggregate-&gt;get_status;\n$self-&gt;_output(\"Result: $status\\n\");\n</code></pre>\n\n<p>Though there does appear to be a way to silence these and other messages since the above is preceded by</p>\n\n<pre><code>return if $self-&gt;silent;\n</code></pre>\n"}], "owner": {"reputation": 12493, "user_id": 106906, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d246a4b19295137980d6c6f831eba665?s=128&d=identicon&r=PG", "display_name": "Dogweather", "link": "https://stackoverflow.com/users/106906/dogweather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428276568, "creation_date": 1428125985, "last_edit_date": 1428126974, "question_id": 29443167, "link": "https://stackoverflow.com/questions/29443167/how-to-disable-redundant-perl-prove-output", "title": "How to disable redundant perl prove output?", "body": "<p><code>prove</code> gives me output like this:</p>\n\n<pre><code>$ prove t/HealthScores.t \nt/HealthScores.t .. ok   \nAll tests successful.\nFiles=1, Tests=2,  0 wallclock secs ( 0.04 usr  0.00 sys +  0.16 cusr  0.01 csys =  0.21 CPU)\nResult: PASS\n</code></pre>\n\n<p>For me the last two lines are redundant and unnecessary. I'd like to disable their display but can't find a CLI switch for this. E.g., I'd like to only see this:</p>\n\n<pre><code>$ prove t/HealthScores.t\nt/HealthScores.t .. ok\nAll tests successful.\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["perl", "dbi", "catalyst"], "answers": [{"comments": [{"owner": {"reputation": 572, "user_id": 570603, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48d232415f9a7eb890e31a95d9be3b85?s=128&d=identicon&r=PG", "display_name": "steev", "link": "https://stackoverflow.com/users/570603/steev"}, "edited": false, "score": 0, "creation_date": 1428338643, "post_id": 29444182, "comment_id": 47111890, "body": "maybe i wasn&#39;t clear but what i did was just extend the Catalyst::Model::DBI, because our module does NOT handle persistency and such. It just handles connecting to the right databases (either master, slaves, or fallbacks) with the right credentials.   I looked at Catalyst::Model::Adaptor and it looks like more than I need. or less."}, {"owner": {"reputation": 459, "user_id": 352115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QdPDG.jpg?s=128&g=1", "display_name": "emazep", "link": "https://stackoverflow.com/users/352115/emazep"}, "reply_to_user": {"reputation": 572, "user_id": 570603, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48d232415f9a7eb890e31a95d9be3b85?s=128&d=identicon&r=PG", "display_name": "steev", "link": "https://stackoverflow.com/users/570603/steev"}, "edited": false, "score": 2, "creation_date": 1428406062, "post_id": 29444182, "comment_id": 47139908, "body": "Maybe i wasn&#39;t clear as well: using Catalyst::Model::DBI (CMD) means that you should let it connect to the DBMS. If you make the connection by yourself, you&#39;re stepping on CMD&#39;s toes. Subclassing CMD could be a viable idea, but that should be limited to adding upfront your &quot;round robin&quot; logic to select the DB DSN and credentials IMO (cycling would only happen at app startup or in case of a re-connection though, as you want persistency). Please, have a look at the following CMD doc fragment about CMD intended usage (2nd paragraph): <a href=\"https://metacpan.org/pod/Catalyst::Model::DBI#DESCRIPTION\" rel=\"nofollow noreferrer\">metacpan.org/pod/Catalyst::Model::DBI#DESCRIPTION</a>"}, {"owner": {"reputation": 572, "user_id": 570603, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48d232415f9a7eb890e31a95d9be3b85?s=128&d=identicon&r=PG", "display_name": "steev", "link": "https://stackoverflow.com/users/570603/steev"}, "edited": false, "score": 1, "creation_date": 1428514494, "post_id": 29444182, "comment_id": 47197689, "body": "Thanks for clarifying.  So it looks like Catalyst::Model::Adaptor is the only way to go.  But reading the docs on that, since my module isn&#39;t a proper object class (it just connects and hands back a dbh), it looks like unless I want to rewrite it,  i might have to wrap it in another module that creates an object, and then use CMA to &quot;wrap&quot; that. which feels annoying but maybe that&#39;s the only way."}], "tags": [], "owner": {"reputation": 459, "user_id": 352115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QdPDG.jpg?s=128&g=1", "display_name": "emazep", "link": "https://stackoverflow.com/users/352115/emazep"}, "is_accepted": true, "score": 2, "last_activity_date": 1428137034, "last_edit_date": 1428137034, "creation_date": 1428135070, "answer_id": 29444182, "question_id": 29441214, "link": "https://stackoverflow.com/questions/29441214/persistent-database-connections-with-catalyst/29444182#29444182", "title": "Persistent database connections with Catalyst", "body": "<p><a href=\"https://metacpan.org/release/Catalyst-Model-DBI\" rel=\"nofollow\" title=\"Catalyst::Model::DBI\">Catalyst::Model::DBI</a> provides persistent connections and automatic re-connections (through <a href=\"https://metacpan.org/pod/DBIx::Connector\" rel=\"nofollow\" title=\"DBIx::Connector\">DBIx::Connector</a> nowadays).</p>\n\n<p>If you have a module that already does that (<code>Freecycle::Database</code>?) you should not use <code>Catalyst::Model::DBI</code> at all, but rather use your module as a Catalyst model, for which <a href=\"https://metacpan.org/release/Catalyst-Model-Adaptor\" rel=\"nofollow\" title=\"Catalyst::Model::Adaptor\">Catalyst::Model::Adaptor</a> can help a lot.</p>\n"}], "owner": {"reputation": 572, "user_id": 570603, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48d232415f9a7eb890e31a95d9be3b85?s=128&d=identicon&r=PG", "display_name": "steev", "link": "https://stackoverflow.com/users/570603/steev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 29444182, "answer_count": 1, "score": 1, "last_activity_date": 1428137034, "creation_date": 1428105057, "question_id": 29441214, "link": "https://stackoverflow.com/questions/29441214/persistent-database-connections-with-catalyst", "title": "Persistent database connections with Catalyst", "body": "<p>My organization has a custom package for connecting to our database servers that takes care of trying various mirrors at random (according to a config file) and only trying the master database server for non-readonly connections or if none of the mirrors can be reached.  I want to take that and use it to have persistent connections within a Catalyst app.</p>\n\n<p>What I've tried is creating a Model package based on Catalyst::Model::DBI but that redefines that modules's connect() method to use our package's connection method.  Then I have redefined \"selectall_arrayref\", \"do\" methods that use stay_connected()...  It works ok but it's creating a new connection for every query - even during the same http request - although the documentation for Catalyst::Model::DBI seems to imply that the connection should be persistent.</p>\n\n<p>So my question is, what SHOULD be happening? Do I need to do something different to get a persistent handle? would Model::DBI normally provide that? if so how do i graft this thing of ours into it, or is there a better easier way?  I don't want to have to re-write our whole package to use DBIx::Class, I just want to plug in our routine that gives me a database handle that's right for our system.  </p>\n\n<pre><code>package SpamControl::Model::Database;\nuse strict;\nuse Freecycle::Database;\n\nuse base 'Catalyst::Model::DBI';\n\n# redefine the connect method, this is just copied from Model::DBI but  using the Freecycle package for the actual connection.\nsub connect {\n    my $self = shift;\n    my $dbh;\n    # TODO: I wish this could be a persistent connection.\n    eval {\n            $dbh = Freecycle::Database::connect({ username =&gt; 'member', read_only =&gt; 1 });\n    };\n    if ($@) { $self-&gt;{log}-&gt;debug( qq{Couldn't connect to the database \"$@\"} ) if $self-&gt;{debug} }\n    else { $self-&gt;{log}-&gt;debug ( 'Connected to the database')  if $self-&gt;{debug}; }\n    $self-&gt;_pid( $$ );\n    $self-&gt;_tid( threads-&gt;tid ) if $INC{'threads.pm'};\n    return $dbh;\n}\n\n# for read/write connections\nsub dbh_admin {\n    my ($self,$c) = @_;\n    my $dbh = Freecycle::Database::connect({ username =&gt; 'admin', read_only =&gt; 0 });\n    return $dbh;\n}\n\nsub do {\n    my $self = shift;\n    return $self-&gt;dbh_admin-&gt;do(@_);\n}\n\nsub selectall_hashref {\n    my $self = shift;\n    return $self-&gt;stay_connected-&gt;selectall_hashref(@_);\n}\n\n...etc etc.\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 1807188, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c7ee44e93251baa141d4c169ed31a3bd?s=128&d=identicon&r=PG", "display_name": "EpiMan", "link": "https://stackoverflow.com/users/1807188/epiman"}, "edited": false, "score": 0, "creation_date": 1428108835, "post_id": 29441221, "comment_id": 47051362, "body": "I tried:    for my $k (keys %{$line}) { if ($k =~ m/$Test/){delete @{$line-&gt;{$Test}};}else{next;}} But did not work. I got delete argument is not a HASH or ARRAY element or slice at  ..."}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "reply_to_user": {"reputation": 809, "user_id": 1807188, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c7ee44e93251baa141d4c169ed31a3bd?s=128&d=identicon&r=PG", "display_name": "EpiMan", "link": "https://stackoverflow.com/users/1807188/epiman"}, "edited": false, "score": 0, "creation_date": 1428109960, "post_id": 29441221, "comment_id": 47051542, "body": "The <code>delete</code> would be applied to something like <code>${$line}{$k}</code>, since that is the hash name/value I understood you were deleting.  The <code>@</code> indicates an array variable, while <code>%{$line}</code> is a hash variable."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": true, "score": 1, "last_activity_date": 1428105103, "last_edit_date": 1592644375, "creation_date": 1428105103, "answer_id": 29441221, "question_id": 29441182, "link": "https://stackoverflow.com/questions/29441182/how-to-delete-key-from-hash-of-array-reference-in-perl/29441221#29441221", "title": "how to delete key from hash of array reference in perl", "body": "<p>The perl <code>delete</code> operation does this.  See the <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"nofollow noreferrer\"><code>perlfunc</code></a> manual:</p>\n<blockquote>\n<p>delete <em>EXPR</em></p>\n<p>Given an expression that specifies a hash element, array element, hash slice, or array slice, deletes the specified element(s) from the hash or array.  In the case of an array, if the array elements happen to be at the end, the size of the array will shrink to the highest element that tests true for exists() (or 0 if no such element exists).</p>\n</blockquote>\n<p>It is discussed here:</p>\n<ul>\n<li><a href=\"http://www.perlmonks.org/?node_id=4685\" rel=\"nofollow noreferrer\">How do I completely remove a key/value pair from my hash?</a></li>\n<li><a href=\"http://docstore.mik.ua/orelly/perl/cookbook/ch05_04.htm\" rel=\"nofollow noreferrer\">5.3. Deleting from a Hash</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3989182/how-should-i-delete-hash-elements-while-iterating\">How should I delete hash elements while iterating?</a></li>\n</ul>\n"}], "owner": {"reputation": 809, "user_id": 1807188, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c7ee44e93251baa141d4c169ed31a3bd?s=128&d=identicon&r=PG", "display_name": "EpiMan", "link": "https://stackoverflow.com/users/1807188/epiman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1909, "favorite_count": 0, "accepted_answer_id": 29441221, "answer_count": 1, "score": 0, "last_activity_date": 1428163003, "creation_date": 1428104770, "last_edit_date": 1428163003, "question_id": 29441182, "link": "https://stackoverflow.com/questions/29441182/how-to-delete-key-from-hash-of-array-reference-in-perl", "title": "how to delete key from hash of array reference in perl", "body": "<p>I would like to delete a key from a hash of array reference:</p>\n\n<p>if the \"key\" which I want to delete is 'Test', I tried something like </p>\n\n<pre><code>$Test = 'Test';\n\nforeach my $k (keys %{$line}) {\n     @{$line-&gt;{$k}} = grep @{$line-&gt;{'$Test'}} != 0, @{$line-&gt;{$k}};\n}\n</code></pre>\n\n<p>But I could not remove it! Could someone tell me how to remove it?</p>\n"}, {"tags": ["python", "bash", "perl", "text", "find"], "answers": [{"tags": [], "owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1428103093, "last_edit_date": 1428103093, "creation_date": 1428102586, "answer_id": 29440888, "question_id": 29440844, "link": "https://stackoverflow.com/questions/29440844/in-bash-looking-for-a-number-in-a-txt-and-use-it-as-a-variable-in-a-bash-script/29440888#29440888", "title": "In bash, looking for a number in a txt and use it as a variable in a bash script", "body": "<p>Using python  <code>re</code>:</p>\n\n<pre><code>   s = \"\"\"\nProcessing triangulated mesh.\n =&gt; Generating\n =&gt; Preparing\n =&gt; Infilling\n =&gt; Generating\n =&gt; Exporting\nDone. Process took 0 minutes and 4.739 seconds.\nFilament required: 4849.4mm (34.3cm3).\"\"\"\n\n\nimport re \n\nprint(re.findall(\"Filament required:\\s+(\\d+\\.\\d+)\",s))\n4849.4\n</code></pre>\n\n<p>Just open the file and read:</p>\n\n<pre><code>with open(your_file) as f:\n   print(re.findall(\"Filament required:\\s+(\\d+\\.\\d+)\",f.read()))\n4849.4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61019, "user_id": 625914, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f1932d8bf4e9dbf779a48b41bbf21592?s=128&d=identicon&r=PG", "display_name": "behzad.nouri", "link": "https://stackoverflow.com/users/625914/behzad-nouri"}, "is_accepted": true, "score": 1, "last_activity_date": 1428103313, "last_edit_date": 1428103313, "creation_date": 1428102732, "answer_id": 29440916, "question_id": 29440844, "link": "https://stackoverflow.com/questions/29440844/in-bash-looking-for-a-number-in-a-txt-and-use-it-as-a-variable-in-a-bash-script/29440916#29440916", "title": "In bash, looking for a number in a txt and use it as a variable in a bash script", "body": "<p>using <code>grep</code>:</p>\n\n<pre><code>$ NUM=$(grep -Po '(?&lt;=Filament required: )[0-9\\.]*' process.txt)\n$ echo $NUM\n4849.4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4747969, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205842234071265/picture?type=large", "display_name": "Rafael Lozano Ruiz", "link": "https://stackoverflow.com/users/4747969/rafael-lozano-ruiz"}, "is_accepted": false, "score": -2, "last_activity_date": 1428134003, "last_edit_date": 1428134003, "creation_date": 1428103137, "answer_id": 29440971, "question_id": 29440844, "link": "https://stackoverflow.com/questions/29440844/in-bash-looking-for-a-number-in-a-txt-and-use-it-as-a-variable-in-a-bash-script/29440971#29440971", "title": "In bash, looking for a number in a txt and use it as a variable in a bash script", "body": "<p>Using pipes:</p>\n\n<p>$ num=$(cat process.txt|grep Filament|cut -d \" \"  -f 3|cut -d \"m\" -f 1)</p>\n\n<p>$ echo $num</p>\n"}, {"tags": [], "owner": {"reputation": 2829, "user_id": 2364901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b4fb6af77939368f91cd310490fa1?s=128&d=identicon&r=PG", "display_name": "csiu", "link": "https://stackoverflow.com/users/2364901/csiu"}, "is_accepted": false, "score": 0, "last_activity_date": 1428104869, "creation_date": 1428104869, "answer_id": 29441198, "question_id": 29440844, "link": "https://stackoverflow.com/questions/29440844/in-bash-looking-for-a-number-in-a-txt-and-use-it-as-a-variable-in-a-bash-script/29441198#29441198", "title": "In bash, looking for a number in a txt and use it as a variable in a bash script", "body": "<p>Another way using <code>awk</code></p>\n\n<pre><code>NUM=`awk -F':' '$1~/^Filament/{split($2,a,\" \"); gsub('/[^0-9.]/',\"\",a[1]); print a[1]}' process.txt`\necho \"$NUM\"\n4849.4\n</code></pre>\n\n<h2>Explanation</h2>\n\n<ul>\n<li><code>-F':'</code> specifies the field separator </li>\n<li><code>$1 ~ /^Filament/ {...}</code> does something -- indicated in <code>{...}</code> -- to lines where field1 (<code>$1</code>) matches (<code>~</code>) a regular expression with a string starting (<code>^</code>) with <code>Filament</code></li>\n<li><code>split($2,a,\" \")</code> splits field2 (<code>$2</code>) by <code>\" \"</code> into an array labelled <code>a</code></li>\n<li><code>gsub('/[^0-9.]/',\"\",a[1])</code> replaces any characters in element1 of the array (<code>a[1]</code>) that are not a digit or a period (<code>[^0-9.]</code>) with nothing <code>\"\"</code></li>\n<li><code>print a[1]</code> prints the the result</li>\n</ul>\n"}], "owner": {"reputation": 15, "user_id": 4747409, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205710202650873/picture?type=large", "display_name": "H&#233;ctor Anad&#243;n", "link": "https://stackoverflow.com/users/4747409/h%c3%a9ctor-anad%c3%b3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 29440916, "answer_count": 4, "score": 0, "last_activity_date": 1428162487, "creation_date": 1428102230, "last_edit_date": 1428162487, "question_id": 29440844, "link": "https://stackoverflow.com/questions/29440844/in-bash-looking-for-a-number-in-a-txt-and-use-it-as-a-variable-in-a-bash-script", "title": "In bash, looking for a number in a txt and use it as a variable in a bash script", "body": "<p>I have a bash script which may use a variable that is inside the process.txt</p>\n\n<p>The precess.txt has this form:</p>\n\n<pre><code>Processing triangulated mesh.       \n =&gt; Generating   \n =&gt; Preparing    \n =&gt; Infilling   \n =&gt; Generating  \n =&gt; Exporting   \nDone. Process took 0 minutes and 4.739 seconds.  \nFilament required: 4849.4mm (34.3cm3).\n</code></pre>\n\n<p>and I would like to get the filament value as a variable (in this case is 4849.4)</p>\n\n<p>I have no idea how it could be done. maybe in python or perl?</p>\n"}, {"tags": ["perl", "security", "cookies", "login", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 4210387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8587791ee0caf87bc25a9092c8c6139d?s=128&d=identicon&r=PG&f=1", "display_name": "Zach", "link": "https://stackoverflow.com/users/4210387/zach"}, "is_accepted": true, "score": 0, "last_activity_date": 1431494201, "last_edit_date": 1431494201, "creation_date": 1428105770, "answer_id": 29441285, "question_id": 29440640, "link": "https://stackoverflow.com/questions/29440640/perl-cgisession-cookie-for-login-safety/29441285#29441285", "title": "Perl CGI::Session cookie for login safety", "body": "<p>There's an explanation of the security on the back end which can answer some of these questions at:\n<a href=\"https://metacpan.org/pod/CGI::Session::Tutorial#SECURITY\" rel=\"nofollow\">https://metacpan.org/pod/CGI::Session::Tutorial#SECURITY</a></p>\n\n<p>The only thing passing back and forth with CGI::Session is a session ID.  All of the information about the session is saved on the server (wherever you choose -- please make it somewhere that the web server will not serve!).  The security of that data depends on how the server is configured, what options you're using with CGI::Session, etc.  </p>\n\n<p>It's not clear if you're verifying the IP.  If you aren't, and anyone gets a hold of the session ID of a valid session, they can hijack it and pretend to be that person.  It's trivial to fake cookies because they're just header fields, which can explicitly be set.  The difficulty is faking a valid session ID in the cookie.  </p>\n\n<p>Since you're using cookies for the session, the browser keeps track of them for the client and re-sends them to the server every time you visit the page.  This opens the door for cross site request forgery if you don't have a secondary means of identifying the client aside from the cookie.  Even checking the IP doesn't prevent against CSRF.  </p>\n\n<p>You should expire these cookies at some point, and I don't just mean on the server side.  The cookie should have an expiration date so the client deletes it's cookie about the session so it will stop sending it.  I'm not sure how that's done in CGI::Session, but I didn't look at more than the tutorial.  </p>\n\n<p>And, if your server is accepting unencrypted connections for things that require authentication where you send a password, or when you're passing the session token back and forth, you're begging for trouble.  </p>\n\n<p>This is not to be interpreted as a complete list of potential security issues with this method.</p>\n"}], "owner": {"reputation": 47, "user_id": 3518089, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b517e2074c20600a58a02bbf7cdb2512?s=128&d=identicon&r=PG&f=1", "display_name": "user3518089", "link": "https://stackoverflow.com/users/3518089/user3518089"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 957, "favorite_count": 0, "accepted_answer_id": 29441285, "answer_count": 1, "score": 0, "last_activity_date": 1431494201, "creation_date": 1428100833, "question_id": 29440640, "link": "https://stackoverflow.com/questions/29440640/perl-cgisession-cookie-for-login-safety", "title": "Perl CGI::Session cookie for login safety", "body": "<p>Once passwords match my login script on Apache do print this cook:</p>\n\n<pre><code>my $session = new CGI::Session();\n$session-&gt;param(\"~user\", $user_name);\nmy $cookie = CGI::Cookie-&gt;new(-name=&gt;$session-&gt;name, -value=&gt;$session-&gt;id, -domain=&gt;'');\nprint $session-&gt;header(-cookie=&gt;$cookie, @_);\n</code></pre>\n\n<p>Then on every other script, after checking that session is not expired or empty i do give access and i check for login USERNAME with this code:</p>\n\n<pre><code>my $session = CGI::Session-&gt;load();\n$loggd_user = $session-&gt;param(\"~user\");  \n</code></pre>\n\n<p>Then $loggd_user has access to all the data related to his username. But what happens if one modifies the cook to another username? Is it possible? Will one have access to someone else data? Any other security issue with this code or is it ok? </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1428101803, "post_id": 29440446, "comment_id": 47050018, "body": "/\\k&lt;set\\tstimulusTop&gt;g*/g This seems not working"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1428107228, "post_id": 29441170, "comment_id": 47051095, "body": "Thanks stribizhev. I appreciate your help."}, {"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1428108336, "post_id": 29441170, "comment_id": 47051283, "body": "Also can you please tell how to substitute . (dot) by / (forward slash)? I am trying  $j =~ s/.///g; but its throwing an error"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1428132783, "post_id": 29441170, "comment_id": 47055367, "body": "You need to escape dots and slashes like <code>s&#47;\\.&#47;\\&#47;&#47;g</code>."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1428104659, "creation_date": 1428104659, "answer_id": 29441170, "question_id": 29440446, "link": "https://stackoverflow.com/questions/29440446/perl-pattern-matching-and-use-of-k/29441170#29441170", "title": "Perl pattern matching and use of \\k", "body": "<p>You must be confusing <code>\\k&lt;n&gt;</code> back-reference and Perl <code>\\K</code> preceding match omitting operator. You do not need this here.</p>\n\n<p>Here is a sample program (part of it is redundant just for illustrative purposes):</p>\n\n<pre><code>my @vals = ();\npush(@vals, \"set stimulusTop pipemed_tb.pipemed1.gtmc1.gthevcpar91.vncunit1\");\npush(@vals, \"set stimulusTop pipemed_tb.pipemed1.gtmc1.gthevcpar91.vneunit1\");\npush(@vals, \"set stimulusTop vprunit_tb.vprunit1\");\n\nforeach my $i (@vals) {\n  $i =~ s/set stimulusTop //g;\n  print $i.\"\\n\";  \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>pipemed_tb.pipemed1.gtmc1.gthevcpar91.vncunit1                                                                                                                      \npipemed_tb.pipemed1.gtmc1.gthevcpar91.vneunit1                                                                                                                      \nvprunit_tb.vprunit1\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428167152, "creation_date": 1428099650, "last_edit_date": 1428167152, "question_id": 29440446, "link": "https://stackoverflow.com/questions/29440446/perl-pattern-matching-and-use-of-k", "title": "Perl pattern matching and use of \\k", "body": "<p>I am facing bit difficulty in using <code>\\k</code> in regular expressions in perl. from following lines i need to get data after <code>pipemed_tb</code> into array and skip part before that can anybody help with that. If possible please tell how to use <code>\\k</code> effectively in following lines.</p>\n\n<pre><code>    set stimulusTop pipemed_tb.pipemed1.gtmc1.gthevcpar91.vncunit1\n    set stimulusTop pipemed_tb.pipemed1.gtmc1.gthevcpar91.vneunit1\n    set stimulusTop vprunit_tb.vprunit1\n</code></pre>\n"}, {"tags": ["r", "perl"], "comments": [{"owner": {"reputation": 156554, "user_id": 324364, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KIazX.jpg?s=128&g=1", "display_name": "joran", "link": "https://stackoverflow.com/users/324364/joran"}, "edited": false, "score": 1, "creation_date": 1428096718, "post_id": 29439904, "comment_id": 47048564, "body": "When I create a 20000 x 2 data set using data like what you show, and then run the <code>grep</code> example you show, I get a result basically instantly. Perhaps there is something else going on with your data that you haven&#39;t shared...?"}, {"owner": {"reputation": 4529, "user_id": 4339116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-lT9SZyWFX-o/AAAAAAAAAAI/AAAAAAAAAAA/qDSZWERxg9s/photo.jpg?sz=128", "display_name": "Alexey Ferapontov", "link": "https://stackoverflow.com/users/4339116/alexey-ferapontov"}, "edited": false, "score": 1, "creation_date": 1428097356, "post_id": 29439904, "comment_id": 47048785, "body": "It should be very very fast. My usual time of heavy <code>grep</code>/<code>gsub</code> is roughly ~20 seconds for 100k lines and 7000 patterns to check (i.e. some 3 million rows x pattern per second rule). For time vs pattern length (for <code>gsub</code> not <code>grep</code> though), please also see: <a href=\"http://stackoverflow.com/questions/27534296/gsub-speed-vs-pattern-length\" title=\"gsub speed vs pattern length\">stackoverflow.com/questions/27534296/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 239581, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "is_accepted": true, "score": 1, "last_activity_date": 1428097291, "creation_date": 1428097291, "answer_id": 29440063, "question_id": 29439904, "link": "https://stackoverflow.com/questions/29439904/how-to-do-heavy-regular-expression-matching-in-r/29440063#29440063", "title": "How to do heavy regular expression matching in r", "body": "<p>I use stringsAsFactors when loading that data and assigned to a variable named 'dat' (since \"df\" is a function name in R):</p>\n\n<pre><code>dat &lt;-\nstructure(list(Pos = c(\"chr1:1124-12324324\", \"chr2:767:78932\"\n), Seq = c(\"ggctgggtgcagtggctcatgcctgtaattcggtcagaagttcgagaccagcctggccaacattgtgaaaccctgtctctactaaaaatac\", \n\"ggctgggtgcagtggctcatgcctgtaattcggtcagaagttcgagaccagcctggccaacattgtgaaaccctgtctctactaaaaatac\"\n)), .Names = c(\"Pos\", \"Seq\"), class = \"data.frame\", row.names = c(NA, \n-2L))\n</code></pre>\n\n<p>I also use grepl instead and the name of column is \"Seq\", so changed your inexplicable use of \"V2\" to \"Seq\".</p>\n\n<pre><code>dfMatch &lt;- as.data.frame(dat[grepl(\"ggtcaggagttcgagaccag\",dat$Seq), ])\n</code></pre>\n\n<p>Didn't get any hits on that test set but did when I extracted a small section for the middle of the first one:</p>\n\n<pre><code>&gt; str(dfMatch)\n'data.frame':   0 obs. of  2 variables:\n $ Pos: chr \n $ Seq: chr \n\n&gt; dfMatch &lt;- as.data.frame(dat[grepl(\"gcctgtaatt\",dat$Seq), ])\n&gt; str(dfMatch)\n'data.frame':   2 obs. of  2 variables:\n $ Pos: chr  \"chr1:1124-12324324\" \"chr2:767:78932\"\n $ Seq: chr  \"ggctgggtgcagtggctcatgcctgtaattcggtcagaagttcgagaccagcctggccaacattgtgaaaccctgtctctactaaaaatac\" \"ggctgggtgcagtggctcatgcctgtaattcggtcagaagttcgagaccagcctggccaacattgtgaaaccctgtctctactaaaaatac\"\n</code></pre>\n"}], "owner": {"reputation": 5922, "user_id": 3632206, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/70c95cfa616112abaa8c04a878c256ed?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Zeki", "link": "https://stackoverflow.com/users/3632206/sebastian-zeki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 29440063, "answer_count": 1, "score": 0, "last_activity_date": 1428097291, "creation_date": 1428096268, "question_id": 29439904, "link": "https://stackoverflow.com/questions/29439904/how-to-do-heavy-regular-expression-matching-in-r", "title": "How to do heavy regular expression matching in r", "body": "<p>I have a dataframe (df) with two columns. the first (df$Pos) keep a gene coordinate, the second (df$Seq) the gene sequence. There are about 20,000 rows which look like:</p>\n\n<pre><code>Pos                          Seq\nchr1:1124-12324324           ggctgggtgcagtggctcatgcctgtaattc\n                             ggtcagaagttcgagaccagcctggccaacattgt\n                             gaaaccctgtctctactaaaaatac\nchr2:767:78932               ggctgggtgcagtggctcatgcctgtaattc\n                             ggtcagaagttcgagaccagcctggccaacattgt\n                             gaaaccctgtctctactaaaaatac\n</code></pre>\n\n<p>etc</p>\n\n<p>(the sequence is continuous in one row for each Pos- just couldnt format it as such)</p>\n\n<p>I'm looking for a particular stretch of sequence in amongst all this like </p>\n\n<pre><code>      ggccaaggcgta\n</code></pre>\n\n<p>I would like the results to simply be a dataframe with the Pos and Seq of the patterns that match</p>\n\n<p>I tried</p>\n\n<pre><code>dfMatch &lt;- as.data.frame(df[grep(\"ggtcaggagttcgagaccag\",df$V2), ])\n</code></pre>\n\n<p>but R stalls for ages and then doesnt return any matches. I know this matches as I've tried it in a text editor and I get about 6000 rows. I suppose R isnt ideally set up for this heavy pattern matching so I was hoping to call perl from R but I dont know how to return the result as a dataframe with the Pos column and the sequences that match.</p>\n"}, {"tags": ["perl", "powershell", "logging", "exit"], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 997613, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf6c303f4dd1f5181593a1f50d577536?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/997613/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1428170484, "creation_date": 1428170484, "answer_id": 29449710, "question_id": 29439712, "link": "https://stackoverflow.com/questions/29439712/how-to-perform-logging-of-forcefully-exiting-a-running-script/29449710#29449710", "title": "How to perform logging of forcefully exiting a running script?", "body": "<p>This does the trick.</p>\n\n<pre><code>Register-EngineEvent PowerShell.Exiting -SupportEvent -Action `\n{\n    #action\n}\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 997613, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf6c303f4dd1f5181593a1f50d577536?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/997613/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428170484, "creation_date": 1428095373, "question_id": 29439712, "link": "https://stackoverflow.com/questions/29439712/how-to-perform-logging-of-forcefully-exiting-a-running-script", "title": "How to perform logging of forcefully exiting a running script?", "body": "<p>I have a powershell script that registers certain events and logs them to a file.</p>\n\n<p>I want to be able to also log to that file the moment that the script was forcefully stopped. For example, by closing the window via X button.</p>\n\n<p>How could I perform this?</p>\n\n<p>We can include in the ecuation the following languages: Powershell via ConEmu console, Perl via ConEmu console, AutoIT.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428092405, "post_id": 29438866, "comment_id": 47046917, "body": "When I don&#39;t know what something means in Perl, <code>perldoc</code> is the first place I look. Unfortunately, if you&#39;re a beginner, you might not know exactly <i>where</i> in <code>perldoc</code> to look, so it can take some digging around. In this case, we have a variable followed by our &quot;mystery symbol&quot; followed by a constant. This looks like an operator, kind of like the <code>+</code> in <code>$foo + 15</code>. Operators are documented in <a href=\"http://perldoc.perl.org/perlop.html#Bitwise-And\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a>; the nice thing about <code>perldoc</code> is you can search for symbols like <code>&amp;</code> that you can&#39;t easily google. The explanation of <i>(continued)</i>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1428092475, "post_id": 29438866, "comment_id": 47046950, "body": "<i>(continued)</i> <code>&amp;</code> in <code>perldoc</code> isn&#39;t very helpful if you don&#39;t know about bitwise operations, but it does give us the name of the operator (&quot;bitwise AND&quot;), which we can now google for a better explanation. Other common places to look are <code>perldoc perlvar</code> for documentation on special variables like <code>$&#47;</code>, <code>perldoc perlsyn</code> for documentation on Perl syntax, and <code>perldoc -f function</code> for documentation on functions (e.g. <code>perldoc -f sort</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1428092280, "post_id": 29438902, "comment_id": 47046867, "body": "and the <code>(...)[...]</code> is a list slice that uses what&#39;s in the square brackets as indexes for elements of the list to return"}], "tags": [], "owner": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "is_accepted": true, "score": 4, "last_activity_date": 1428091521, "last_edit_date": 1428091521, "creation_date": 1428091290, "answer_id": 29438902, "question_id": 29438866, "link": "https://stackoverflow.com/questions/29438866/what-is-the-function-of-value-15/29438902#29438902", "title": "what is the function of $value &amp; 15", "body": "<p>It's a <a href=\"http://www.cs.cf.ac.uk/Dave/PERL/node36.html\" rel=\"nofollow\">bitwise and</a> operation.</p>\n\n<p>What it's doing is performing a bitwise and using the value of 15 and whatever value is contained in <code>$value</code>.</p>\n\n<p>The resulting value is the decimal value that corresponds to the result of a bitwise and with the lower 4 bits of the value.</p>\n\n<p>Ex: </p>\n\n<pre><code>$value = 21\n   which has a binary representation of: 0b10101\n</code></pre>\n\n<p>Performing a <code>bitwise and</code> with 15 means that any bits in <code>$value</code> will be zeroed if they are either outside the lower 4 bit range, or contain no 1's in the lower 4 bits.</p>\n\n<p>The result is:</p>\n\n<pre><code>0b10101\n&amp;\n0b 1111\n-------\n0b00101 = 5\n</code></pre>\n\n<p>Looking up the truth tables for performing bitwise operations will help with stuff like this in the future, but when performing an AND with any value, the result is <em>only</em> true, when both bits are 1, 0 otherwise.</p>\n\n<pre><code>V1 | V2 | V1 &amp; V2\n-----------------\n 0 | 0  |    0\n 0 | 1  |    0\n 1 | 0  |    0\n 1 | 1  |    1\n</code></pre>\n"}], "owner": {"reputation": 822, "user_id": 1306585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c394c20329ca6e72aeb0281ccc8a0a98?s=128&d=identicon&r=PG", "display_name": "Itchy Nekotorych", "link": "https://stackoverflow.com/users/1306585/itchy-nekotorych"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 29438902, "answer_count": 1, "score": 0, "last_activity_date": 1428091521, "creation_date": 1428091140, "question_id": 29438866, "link": "https://stackoverflow.com/questions/29438866/what-is-the-function-of-value-15", "title": "what is the function of $value &amp; 15", "body": "<p>I have been going over a perl book i have recently purchased, and while reading I noticed a block of code that confused me..</p>\n\n<pre><code>use integer;\n$value = 257;\n\nwhile($value){\n   unshift @digits, (0..9,a..f)[$value &amp; 15];\n   $value /= 16;\n}\nprint digits;\n</code></pre>\n\n<p>the book mentions the purpose was to reverse the order of digits. however, new to perl I am having trouble figuring out what [$value &amp; 15] is doing.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3009, "user_id": 4282342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5DSxqi1gqfs/AAAAAAAAAAI/AAAAAAAAHrM/aBPmmmTeDVI/photo.jpg?sz=128", "display_name": "Peter Bowers", "link": "https://stackoverflow.com/users/4282342/peter-bowers"}, "edited": false, "score": 2, "creation_date": 1428088321, "post_id": 29438244, "comment_id": 47045251, "body": "You will need quotes on the initialization."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1428088406, "post_id": 29438244, "comment_id": 47045287, "body": "If the dollar sign will always be there, <code>substr($string, 1)</code> will suffice. A better transformation would probably be <code>$string =~ s&#47;^\\$&#47;&#47;;</code>"}, {"owner": {"reputation": 11, "user_id": 3045098, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4fd2b3277d0fd46712e1102a3131fe06?s=128&d=identicon&r=PG&f=1", "display_name": "user3045098", "link": "https://stackoverflow.com/users/3045098/user3045098"}, "edited": false, "score": 0, "creation_date": 1428090002, "post_id": 29438244, "comment_id": 47045905, "body": "Thank u it worked .."}], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1428161643, "creation_date": 1428161643, "answer_id": 29448191, "question_id": 29438244, "link": "https://stackoverflow.com/questions/29438244/removing-the-in-first-part-of-the-data/29448191#29448191", "title": "Removing the $ in first part of the data", "body": "<p>First quotes string value and write code like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $string = '$14.275';\n$string =~ s/^\\$//;\nprint \"$string\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>14.275\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3045098, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4fd2b3277d0fd46712e1102a3131fe06?s=128&d=identicon&r=PG&f=1", "display_name": "user3045098", "link": "https://stackoverflow.com/users/3045098/user3045098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1428161643, "creation_date": 1428088178, "last_edit_date": 1428088334, "question_id": 29438244, "link": "https://stackoverflow.com/questions/29438244/removing-the-in-first-part-of-the-data", "title": "Removing the $ in first part of the data", "body": "<p>I have a string </p>\n\n<pre><code>my $string = $14.275; ##   where i need to remove the $\n</code></pre>\n\n<p>I have tried by using the below code    </p>\n\n<pre><code> $y = substr($string , 1, index($string));\n</code></pre>\n\n<p>The output should be 14.275</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1428093806, "post_id": 29438080, "comment_id": 47047534, "body": "Welcome to Stack Overflow. Please read the <a href=\"https://stackoverflow.com/tour\">About</a> page soon.  Did you consider using <a href=\"http://search.cpan.org/perldoc?Log%3A%3ALog4perl\" rel=\"nofollow noreferrer\"><code>Log::Log4perl</code></a> and its numerous related modules?  If so, why aren&#39;t you using it?  If not, please do so."}, {"owner": {"reputation": 1, "user_id": 4747317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1d9cc1b1f2ff393a791b421df569cde?s=128&d=identicon&r=PG&f=1", "display_name": "oo0v0oo", "link": "https://stackoverflow.com/users/4747317/oo0v0oo"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1428163796, "post_id": 29438080, "comment_id": 47063420, "body": "Unfortunately, I can&#39;t use external libraries for customer requirements, that&#39;s why I need to understand how to make it by myself."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1428178196, "post_id": 29438080, "comment_id": 47067738, "body": "Hmmm; bad luck on having to perpetually reinvent the wheel.  Please try to make sure that they&#39;re reasonably round.  I&#39;m mildly surprised that there&#39;s a perceived problem with software licenced under the same terms as Perl itself.  If you can use Perl, why not other software too?  However, lawyers are not renowned for applying logic to such situations."}], "answers": [{"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 0, "last_activity_date": 1428180634, "creation_date": 1428180634, "answer_id": 29451265, "question_id": 29438080, "link": "https://stackoverflow.com/questions/29438080/perl-library-to-log-on-specific-files/29451265#29451265", "title": "Perl: library to log on specific files", "body": "<p>Empirically, it seems that the file handle in a <code>print</code> statement cannot be an arbitrary expression.  This is really only a minor modification of your code, but to get <code>MyLibrary.pm</code> to compile, I replaced:</p>\n\n<pre><code>print $self-&gt;{'fh'} \"[$self-&gt;{'log_file'}]\\n\";\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>my $fh = $self-&gt;{'fh'};\nprint $fh \"[$self-&gt;{'log_file'}]\\n\";\n</code></pre>\n\n<p>There are some other minor tweaks, but this code worked for me:</p>\n\n<h3>MyLibrary.pm</h3>\n\n<pre><code>package MyLibrary;\n\nuse warnings;\nuse strict;\nuse vars qw($VERSION @ISA @EXPORT %default);\n\n@EXPORT = qw();\n$VERSION = '1.00';\n\nrequire 5.000;\n\nsub new\n{\n   my ($proto, $log_dir, $log_file) = @_;\n   my $class = ref($proto) || $proto;\n   my $self = { %default };\n\n   bless($self, $class);\n\n   $self-&gt;{'log_dir'} = $log_dir;\n   $self-&gt;{'log_file'} = $log_file;\n   $self-&gt;open_log_file();\n\n   return $self;\n}\n\nsub destroy\n{\n   my $rc;\n   my $self = shift;\n\n   return $rc if ( $rc = $self-&gt;close_log_file() );\n}\n\nsub open_log_file\n{\n   my $self = shift;\n   my $log_file = \"$self-&gt;{log_dir}/$self-&gt;{log_file}\";\n   open $self-&gt;{'fh'}, \"&gt;&gt;\", $log_file or die \"cannot open file $log_file\";\n   return;\n}\n\nsub close_log_file\n{\n   my $self = shift;\n\n   close($self-&gt;{'fh'}) or die \"cannot close $self-&gt;{'log_dir'}/$self-&gt;{'log_file'}\";\n   return;\n}\n\nsub print_data\n{\n    my $self = shift;\n    my $fh = $self-&gt;{fh};\n    print $fh @_, \"\\n\";\n}\n\nsub test\n{\n    my $self = shift;\n    my $fh = $self-&gt;{'fh'};\n    print $fh \"[$self-&gt;{'log_file'}]\\n\";\n\n   return 0;\n}\n1;\n</code></pre>\n\n<p>I'm not convinced that the <code>use 5.000;</code> buys you very much.  The chances of finding a Perl 4.x still running are pretty remote.  These days, anything earlier than Perl 5.8 is long dead (or, if it isn't, it should be).</p>\n\n<p>There are many minor improvements that could be made in the code that are not shown above.</p>\n\n<h3>testcase.pl</h3>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse MyLibrary;\n\nmy ($rc, $test_2, $test_1);\n\nmy $counter = 0;\nsub counter\n{\n    printf\"OK %d\\n\", ++$counter;\n}\n\ncounter;\n\n# The output is not going into this file\nexit $test_1 if (($test_1 = MyLibrary-&gt;new(\"/tmp\", \"test_1\")) !~ \"HASH\");\ncounter;\n\n# It is going all into this file\nexit $test_2 if (($test_2 = MyLibrary-&gt;new(\"/tmp\", \"test_2\")) !~ \"HASH\");\ncounter;\n\nexit $rc if ( $rc = $test_1-&gt;test() );\ncounter;\nexit $rc if ( $rc = $test_2-&gt;test() );\ncounter;\n\n$test_1-&gt;print_data(\"Extra information\");\n$test_2-&gt;print_data(\"Missing syncopation\");\nprint \"Finished\\n\";\n</code></pre>\n\n<h3>Nth Sample Run</h3>\n\n<p>It looks like I ran a previous edition of <code>testcase.pl</code> once, before adding the <code>print_data</code> function, and four times since adding the <code>print_data</code> function.</p>\n\n<pre><code>$ perl -I$PWD testcase.pl\nOK 1\nOK 2\nOK 3\nOK 4\nOK 5\nFinished\n$ cat /tmp/test_1\n[test_1]\n[test_1]\nExtra information\n[test_1]\nExtra information\n[test_1]\nExtra information\n[test_1]\nExtra information\n$ cat /tmp/test_2\n[test_2]\n[test_2]\nMissing syncopation\n[test_2]\nMissing syncopation\n[test_2]\nMissing syncopation\n[test_2]\nMissing syncopation\n$\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4747317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1d9cc1b1f2ff393a791b421df569cde?s=128&d=identicon&r=PG&f=1", "display_name": "oo0v0oo", "link": "https://stackoverflow.com/users/4747317/oo0v0oo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428180634, "creation_date": 1428087335, "last_edit_date": 1428088967, "question_id": 29438080, "link": "https://stackoverflow.com/questions/29438080/perl-library-to-log-on-specific-files", "title": "Perl: library to log on specific files", "body": "<p>I'm creating a library for my stuffs where I want to log errors on a specific file. Unfortunately, while it works if I initiate only one single instance of the library, it doesn't if I initiate more than one instance.</p>\n\n<p>The results in that case is that the output is logged all in the last file and not half and half as I was expecting.</p>\n\n<p>This is the main.pl</p>\n\n<pre><code>eval 'exec /usr/bin/perl -I `pwd` -S $0 ${1+\"$@\"}'\nif 0;\n\nuse strict;\nuse MyLibrary;\n\nmy ($rc, $test_2, $test_1);\n\n# The output is not going into this file\nexit $test_1 if (($test_1 = MyLibrary-&gt;new(\"/tmp\", \"test_1\")) !~ \"HASH\");\n\n# It is going all into this file\nexit $test_2 if (($test_2 = MyLibrary-&gt;new(\"/tmp\", \"test_2\")) !~ \"HASH\");\n\nexit $rc if ( $rc = $test_1-&gt;test() );\nexit $rc if ( $rc = $test_2-&gt;test() );\n</code></pre>\n\n<p>and this is MyLibrary.pm</p>\n\n<pre><code>package MyLibrary;\n\nuse strict;\nuse Symbol;\nuse vars qw($VERSION @ISA @EXPORT %default);\n\n@EXPORT = qw(\n);\n$VERSION = '1.00';\n\nrequire 5.000;\n\n%default;\n\nmy $fh;\n\nsub new\n{\n   my $rc;\n   my ($proto, $log_dir, $log_file) = @_;\n\n   my $class = ref($proto) || $proto;\n\n   my $self = { %default };\n\n   bless($self, $class);\n\n   $fh = gensym;\n   ($self-&gt;{'log_dir'}, $self-&gt;{'log_file'}) = ($log_dir, $log_file);\n\n   return $rc if ( $rc = $self-&gt;open_log_file() );\n\n   return $self;\n}\n\nsub destroy\n{\n   my $rc;\n   my $self = shift;\n\n   return $rc if ( $rc = $self-&gt;close_log_file() );\n}\n\nsub open_log_file\n{\n   my $self = shift;\n\n   open $fh, \"&gt;&gt;$self-&gt;{'log_dir'}/$self-&gt;{'log_file'}\" or die \"cannot open file $self-&gt;{'log_dir'}/$self-&gt;{'log_file'}\";\n\n   return 0;\n}\n\nsub close_log_file\n{\n   my $self = shift;\n\n   close($fh) or die \"cannot close $self-&gt;{'log_dir'}/$self-&gt;{'log_file'}\";\n\n   return 0;\n}\n\nsub test\n{\n    my $self = shift;\n\n    print $fh \"[$self-&gt;{'log_file'}]\\n\";\n\n   return 0;\n}\n1;\n</code></pre>\n\n<p>One more thing ... In this example, I'm using <code>$fh</code> as a global variable, while I would like to have this variable part of the <code>%default</code> hash. However, if I try to make it part of the hash replacing all the <code>$fh</code> occurences with <code>$self-&gt;{'fh'}</code>, I get the following error:</p>\n\n<pre><code>String found where operator expected at MyLibrary.pm line 75, near \"} \"[$self-&gt;{'log_file'}]\\n\"\"\n    (Missing operator before  \"[$self-&gt;{'log_file'}]\\n\"?)\nsyntax error at MyLibrary.pm line 75, near \"} \"[$self-&gt;{'log_file'}]\\n\"\"\n</code></pre>\n\n<p>Row 75 in this case will be the following:</p>\n\n<pre><code>sub test\n{\n    my $self = shift;\n\nRow 75 =&gt;&gt;&gt;    print $self-&gt;{'fh'} \"[$self-&gt;{'log_file'}]\\n\";\n\n    return 0;\n}\n</code></pre>\n\n<p>While the full library reviewed accordingly is:</p>\n\n<pre><code>package MyLibrary;\n\nuse strict;\nuse Symbol;\nuse vars qw($VERSION @ISA @EXPORT %default);\n\n@EXPORT = qw(\n);\n$VERSION = '1.00';\n\nrequire 5.000;\n\n%default;\n\nsub new\n{\n   my $rc;\n   my ($proto, $log_dir, $log_file) = @_;\n\n   my $class = ref($proto) || $proto;\n\n   my $self = { %default };\n\n   bless($self, $class);\n\n   $self-&gt;{'fh'} = gensym;\n   ($self-&gt;{'log_dir'}, $self-&gt;{'log_file'}) = ($log_dir, $log_file);\n\n   return $rc if ( $rc = $self-&gt;open_log_file() );\n\n   return $self;\n}\n\nsub destroy\n{\n   my $rc;\n   my $self = shift;\n\n   return $rc if ( $rc = $self-&gt;close_log_file() );\n}\n\nsub open_log_file\n{\n   my $self = shift;\n\n   open $self-&gt;{'fh'}, \"&gt;&gt;$self-&gt;{'log_dir'}/$self-&gt;{'log_file'}\" or die \"cannot open file $self-&gt;{'log_dir'}/$self-&gt;{'log_file'}\";\n\n   return 0;\n}\n\nsub close_log_file\n{\n   my $self = shift;\n\n   close($self-&gt;{'fh'}) or die \"cannot close $self-&gt;{'log_dir'}/$self-&gt;{'log_file'}\";\n\n   return 0;\n}\n\nsub test\n{\n    my $self = shift;\n\n    print $self-&gt;{'fh'} \"[$self-&gt;{'log_file'}]\\n\";\n\n   return 0;\n}\n1;\n</code></pre>\n"}, {"tags": ["perl", "sdl", "box2d", "game-physics"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4747221, "user_type": "registered", "profile_image": "https://graph.facebook.com/1103040476388270/picture?type=large", "display_name": "Chun Kit Yeung", "link": "https://stackoverflow.com/users/4747221/chun-kit-yeung"}, "is_accepted": false, "score": 0, "last_activity_date": 1428083914, "creation_date": 1428083914, "answer_id": 29437323, "question_id": 29437272, "link": "https://stackoverflow.com/questions/29437272/applyforce-and-applylinearimpulse-in-box2d-is-not-working/29437323#29437323", "title": "ApplyForce and ApplyLinearImpulse in Box2D is not working", "body": "<p>oh I found that it is because I should use GetPosition() rather then GetWorldCenter() and the force need to be much bigger to lift my object!</p>\n"}], "owner": {"reputation": 1, "user_id": 4747221, "user_type": "registered", "profile_image": "https://graph.facebook.com/1103040476388270/picture?type=large", "display_name": "Chun Kit Yeung", "link": "https://stackoverflow.com/users/4747221/chun-kit-yeung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428089205, "creation_date": 1428083684, "last_edit_date": 1428089205, "question_id": 29437272, "link": "https://stackoverflow.com/questions/29437272/applyforce-and-applylinearimpulse-in-box2d-is-not-working", "title": "ApplyForce and ApplyLinearImpulse in Box2D is not working", "body": "<p>I am writing a 2D platformer game in Perl with SDL and Box2D,\nthe <code>SetLinearVelocity()</code> function is working well so I can moving my character to left or right. But when I want to make it jump using <code>ApplyLinearImpulse()</code>, it is not working, also the <code>ApplyForce()</code> is not working too. The character object just stay there.</p>\n\n<p>my code :</p>\n\n<pre><code>if ($key_name=~/w/){  \n    $me-&gt;ApplyLinearImpulse(Box2D::b2Vec2-&gt;new(0,20.0), $me-&gt;GetWorldCenter());\n    }\n</code></pre>\n\n<p>I also tried adding:</p>\n\n<pre><code>$world-&gt;step(1.0/60.0,10,10);\n</code></pre>\n\n<p>after it, but stil no response.</p>\n\n<p>please help.</p>\n"}, {"tags": ["perl", "ubuntu", "ubuntu-14.04", "perl-module", "perlbrew"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1428082242, "post_id": 29436961, "comment_id": 47042696, "body": "Did you install <code>cpanm</code> with <code>perlbrew install-cpanm</code>? What does <code>which cpanm</code> show?"}, {"owner": {"reputation": 31, "user_id": 4595292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnO7v.jpg?s=128&g=1", "display_name": "mrk", "link": "https://stackoverflow.com/users/4595292/mrk"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1428083058, "post_id": 29436961, "comment_id": 47043038, "body": "@ThisSuitIsBlackNot thanks for the quick response. Doing <code>perlbrew install-cpanm</code> returns <code>cpanm is installed to  &#47;home&#47;qwerty&#47;perl5&#47;perlbrewbin&#47;cpanm</code>.  When I do <code>which cpanm</code> I get <code>&#47;home&#47;qwerty&#47;perl5&#47;perlbrew&#47;bin&#47;cpanm</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6830958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debbcd8522576b48ca8df9bb9388abe9?s=128&d=identicon&r=PG&f=1", "display_name": "Jay_Palme", "link": "https://stackoverflow.com/users/6830958/jay-palme"}, "is_accepted": false, "score": 0, "last_activity_date": 1474469708, "creation_date": 1474469708, "answer_id": 39619985, "question_id": 29436961, "link": "https://stackoverflow.com/questions/29436961/installing-modules-when-using-perlbrew/39619985#39619985", "title": "installing modules when using perlbrew", "body": "<p>Try using</p>\n\n<pre><code>perlbrew switch perl-5.10.1\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>perlbrew use perl-5.10.1\n</code></pre>\n\n<p>The \"use\" command only sets the perl for the current shell. Maybe you switched shells in between?</p>\n"}], "owner": {"reputation": 31, "user_id": 4595292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnO7v.jpg?s=128&g=1", "display_name": "mrk", "link": "https://stackoverflow.com/users/4595292/mrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1074, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1474469708, "creation_date": 1428082130, "last_edit_date": 1592644375, "question_id": 29436961, "link": "https://stackoverflow.com/questions/29436961/installing-modules-when-using-perlbrew", "title": "installing modules when using perlbrew", "body": "<p>I am trying to use perlbrew to run a set of perl scripts. When I try installing dependencies for these perl scripts, they are installed into my system's perl version (5.18.X) and not the version I want to use (5.10.1). I have tried several suggestions from other threads on stackoverflow, but to no avail.</p>\n<p>Here's an example of what happens. I'll do the following:</p>\n<blockquote>\n<p>perlbrew use perl-5.10.1</p>\n<p>perl -v (returns with perl-5.10.1)</p>\n<p>cpanm Parallel::ForkManager (returns Paralell::ForkManager is installed)</p>\n</blockquote>\n<p>When I run my script using under perlbrew I get the following:</p>\n<blockquote>\n<p>perl PERLSCRIPT.pl</p>\n<p>Can't locate Parallel/ForkManager.pm in @INC (@INC contains: /home/qwerty/perl5/perlbrew/perls/perl-5.10.1/lib/5.10.1/x86_64-linux-thread-multi /home/qwerty/perl5/perlbrew/perls/perl-5.10.1/lib/5.10.1 /home/qwerty/perl5/perlbrew/perls/perl-5.10.1/lib/site_perl/5.10.1/x86_64-linux-thread-multi /home/qwerty/perl5/perlbrew/perls/perl-5.10.1/lib/site_perl/5.10.1</p>\n</blockquote>\n<p>Any help is appreciated. If any other information is needed, please let me know.</p>\n<p>System OS: Ubuntu 64-bit run through VMware (host is Windows 8.1 pro);</p>\n<p>Edit: It seems that doing <code>perlbrew exec cpanm perl::module</code> works. However, If anyone has other suggestions, I'd be glad to hear them.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 1, "last_activity_date": 1428082689, "last_edit_date": 1428082689, "creation_date": 1428082425, "answer_id": 29437006, "question_id": 29436848, "link": "https://stackoverflow.com/questions/29436848/perl-loop-through-hash-of-arrays/29437006#29437006", "title": "Perl loop through hash of arrays", "body": "<p>Firstly, you need to change <code>/\\+s/</code> to <code>/\\s+/</code>.</p>\n\n<p>Secondly, you could store your data into a hash-of-arrays (<a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldsc</a>):</p>\n\n<pre><code>use warnings;\nuse strict;\nmy %hash = ();\n\nwhile (my $line =&lt;DATA&gt;)\n{\n    chomp ($line);\n    my ($key, @vals) = split(/\\s+/, $line);\n    $hash{$key} = [@vals];\n}\n\nforeach my $key (sort keys %hash)\n{\n    print \"$key\\n\";\n    print \"$_\\n\" for @{ $hash{$key} };\n    print \"loop\\n\";\n}\n\n__DATA__\nABC-13077 817266 55555\nABC-13092 816933\nCAMC-13093 817361\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ABC-13077\n817266\n55555\nloop\nABC-13092\n816933\nloop\nCAMC-13093\n817361\nloop\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 29437006, "answer_count": 1, "score": 2, "last_activity_date": 1428082689, "creation_date": 1428081736, "question_id": 29436848, "link": "https://stackoverflow.com/questions/29436848/perl-loop-through-hash-of-arrays", "title": "Perl loop through hash of arrays", "body": "<p>How can i loop each element in first line and then move to second line and so on..\nBelow script is somewhat working, but i'm not getting desired output.\nCan someone please help me.</p>\n\n<p>test.txt</p>\n\n<pre><code>ABC-13077 817266 55555\nABC-13092 816933\nCAMC-13093 817361\n</code></pre>\n\n<p>script.pl</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nmy %hash = ();\nmy $file = \"test.txt\";\n\nopen (my $fh, \"&lt;\", $file) or die \"Can't open the file $file: \";\n\nwhile (my $line =&lt;$fh&gt;)\n{\n    chomp ($line);\n    my($key) = split(/\\+s/, $line);\n    $hash{$key} = 1;\n}\n\nforeach my $key (keys %hash)\n{\n    print \"$key\\n\";\n    print \"loop\\n\";\n}\n</code></pre>\n\n<p>current output.txt</p>\n\n<pre><code>ABC-13077 817266 55555\nloop\nABC-13092 816933\nloop    \nCAMC-13093 817361\n</code></pre>\n\n<p>desired output.txt</p>\n\n<pre><code>ABC-13077\n817266 \n55555\nloop\nABC-13092 \n816933\nloop    \nCAMC-13093 \n817361\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1428077473, "post_id": 29435700, "comment_id": 47040514, "body": "Shouldn&#39;t VALUES be followed by parentheses? <code>VALUES (?, ?, ...)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1428077600, "creation_date": 1428077600, "answer_id": 29435782, "question_id": 29435700, "link": "https://stackoverflow.com/questions/29435700/perl-mysql-insert-query/29435782#29435782", "title": "Perl MySQL - Insert Query", "body": "<p>VALUES should be followed by parentheses:</p>\n\n<pre><code>VALUES(?, ?, ?)\n</code></pre>\n\n<p>i.e.</p>\n\n<pre><code>\"VALUES (\" . join(', ', ('?') x @columns) . ')'\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 29435782, "answer_count": 1, "score": -1, "last_activity_date": 1428077600, "creation_date": 1428077226, "question_id": 29435700, "link": "https://stackoverflow.com/questions/29435700/perl-mysql-insert-query", "title": "Perl MySQL - Insert Query", "body": "<p>I'm trying to get this method to work but I'm getting a syntax error output on my console.</p>\n\n<pre><code>method insert($table, \\@columns, \\@values) {\n   return if (!$table &amp;&amp; !scalar(@columns) &amp;&amp; !scalar(@values));\n   my $fields = join(\", \", @columns);\n   my $statement = $self-&gt;{mysql}-&gt;prepare(\"INSERT INTO $table ($fields) VALUES \" . join(\", \", (\"?\") x scalar(@columns)));\n   $statement-&gt;execute(@values);\n   return $statement-&gt;{mysql_insertid};\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["string", "perl", "parsing", "split"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428073633, "post_id": 29434558, "comment_id": 47038671, "body": "Are the * and ^ just markers, or do they really exist in the input?"}, {"owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1428073746, "post_id": 29434558, "comment_id": 47038744, "body": "they do exist in the input."}, {"owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "edited": false, "score": 0, "creation_date": 1428074485, "post_id": 29434558, "comment_id": 47039121, "body": "but you do want to have multiple numbers in a line seperated?"}], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "edited": false, "score": 0, "creation_date": 1428075094, "post_id": 29435006, "comment_id": 47039398, "body": "Thanks for the quick help Choroba.. but i&#39;m getting error &quot;Can&#39;t find string terminator &quot;&#39;&quot; anywhere before EOF at -e line1.&quot; can i run as &quot;perl -pe &#39;s/*(.*)*/$1/;s/\\^(.*)\\^/ join &quot; &quot;, $1 =~ m([0-9]+)g /e&#39; data.txt&quot;"}, {"owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "edited": false, "score": 0, "creation_date": 1428075191, "post_id": 29435006, "comment_id": 47039448, "body": "windows.. perl v5.8.3"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "edited": false, "score": 0, "creation_date": 1428075241, "post_id": 29435006, "comment_id": 47039477, "body": "@Mihir: Oh, I see. Try switching the quotes."}, {"owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "edited": false, "score": 0, "creation_date": 1428075724, "post_id": 29435006, "comment_id": 47039701, "body": "I did try, now i&#39;m getting &quot;Substitution replacement not terminated at -e line 1.&quot;"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1428075856, "last_edit_date": 1428075856, "creation_date": 1428074568, "answer_id": 29435006, "question_id": 29434558, "link": "https://stackoverflow.com/questions/29434558/perl-string-parsing-multiple-patterns/29435006#29435006", "title": "Perl String parsing multiple patterns", "body": "<p>Replace the while loop with the following:</p>\n\n<pre><code>while (&lt;FH&gt;) {\n    s/\\*(.*)\\*/$1/;\n    s/\\^(.*)\\^/ join ' ', $1 =~ m([0-9]+)g /e;\n    print;\n}\n</code></pre>\n\n<p>The first substitution removes the asterisks.</p>\n\n<p>The second substitution takes the <code>^...^</code> part, and replaces it with the result of the code in the replacement part because of the <code>/e</code> modifier. The code matches all the integers, and as <code>join</code> forces list context on the match, it returns all the matches.</p>\n"}], "owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 29435006, "answer_count": 1, "score": 0, "last_activity_date": 1428075856, "creation_date": 1428072981, "question_id": 29434558, "link": "https://stackoverflow.com/questions/29434558/perl-string-parsing-multiple-patterns", "title": "Perl String parsing multiple patterns", "body": "<p>I'm trying to parse text file which has multiple patters.\nGoal is to have everything in between * * and only integer in between ^ ^ it should remove all special character or string if found.</p>\n\n<p>data.txt</p>\n\n<pre><code>*ABC-13077* ^817266, 55555^\n*BCD-13092* ^CL: 816933^\n*CDE-13127* ^  ===&gt;   Change 767666 submitted^\n</code></pre>\n\n<p>output.txt</p>\n\n<pre><code>ABC-13077 817266 55555\nBCD-13092 816933\nCDE-13127 767666\n</code></pre>\n\n<p>my script</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Cwd;\nmy $var;\n\nopen(FH,\"changelists.txt\")or die(\"can't open file:$!\");\nwhile($var=&lt;FH&gt;)\n{\n    my @vareach=split(/[* \\s\\^]+/,$var);\n    for my $each(@vareach)\n    {\n        print \"$each\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1428066907, "post_id": 29432848, "comment_id": 47035242, "body": "So close to a good error message!  please include $result_file in the text.  (or just use autodie)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428071426, "post_id": 29432848, "comment_id": 47037545, "body": "What is <code>$DTL_file</code>? Also, you must <i>always</i> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program you write."}, {"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1428560476, "post_id": 29432848, "comment_id": 47215748, "body": "$DTL_file is a file with some code which I want to run with system command. It is giving some errors but those errors are printing on screen not in the specified <code>result_file</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2614, "user_id": 1803586, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3eVpM.png?s=128&g=1", "display_name": "edem", "link": "https://stackoverflow.com/users/1803586/edem"}, "is_accepted": false, "score": -1, "last_activity_date": 1428067655, "last_edit_date": 1428067655, "creation_date": 1428066844, "answer_id": 29432916, "question_id": 29432848, "link": "https://stackoverflow.com/questions/29432848/how-to-write-the-output-of-system-command-in-another-file-in-perl/29432916#29432916", "title": "How to write the output of system command in another file in perl?", "body": "<p>You can capture the output with backticks then print that to a file:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $result_file=\"Something.txt\";\nopen (LOG, \"&gt;\", $result_file) || die \"Cannot create file - $!\\n\";\nprint \"Executing File.\\n\";\nmy $res = `dmexpress /run $DTL_file`;\nprint LOG $res;\nclose(LOG);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "is_accepted": false, "score": 0, "last_activity_date": 1428566878, "creation_date": 1428566878, "answer_id": 29533134, "question_id": 29432848, "link": "https://stackoverflow.com/questions/29432848/how-to-write-the-output-of-system-command-in-another-file-in-perl/29533134#29533134", "title": "How to write the output of system command in another file in perl?", "body": "<p>Done with a small change!</p>\n\n<ol>\n<li>No need to open file before <code>system</code> command. As suggested by @toolic.</li>\n<li><p>Use <code>2&gt;&amp;1</code> in <code>system</code> command to capture the errors in file(if any).</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Cwd;\n\nmy $path=getcwd();\nmy $result_file=\"$path/Something.txt\";\n#open (LOG, \"&gt;$result_file\") || die \"Cannot create file - $!\\n\";\nprint \"Executing File.\\n\";\nsystem(\"dmexpress /run $DTL_file &gt; $result_file 2&gt;&amp;1\") ;\n#close(LOG);\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1428566878, "creation_date": 1428066600, "last_edit_date": 1428476883, "question_id": 29432848, "link": "https://stackoverflow.com/questions/29432848/how-to-write-the-output-of-system-command-in-another-file-in-perl", "title": "How to write the output of system command in another file in perl?", "body": "<p>I am trying to run a <code>system</code> command in perl. And I want the output of the command into another file. I am trying to run the below code but I am not able to get the result in <code>result_file</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Cwd;\n\nmy $path=getcwd();\nmy $result_file=\"$path/Something.txt\";\nopen (LOG, \"&gt;$result_file\") || die \"Cannot create file - $!\\n\";\nprint \"Executing File.\\n\";\nsystem(\"dmexpress /run $DTL_file &gt; $result_file\") ;\nclose(LOG);\n</code></pre>\n"}, {"tags": ["oracle", "perl", "amazon-web-services", "rds"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4843372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d21f0d5bf38b0637d7f945f001d6679c?s=128&d=identicon&r=PG&f=1", "display_name": "MartyFL", "link": "https://stackoverflow.com/users/4843372/martyfl"}, "is_accepted": false, "score": 1, "last_activity_date": 1430422654, "creation_date": 1430422654, "answer_id": 29976354, "question_id": 29431398, "link": "https://stackoverflow.com/questions/29431398/perl-script-to-download-raw-files-from-amazon-oracle-rds/29976354#29976354", "title": "Perl script to download raw files from Amazon Oracle RDS", "body": "<p>I found myself in the exact same situation.  I'm no Perl programmer and flipping this script around was just too much for me.  Thankfully I found a java program to retrieve files from RDS at <a href=\"http://wordpress.filefoundry.co.uk/update\" rel=\"nofollow\">http://wordpress.filefoundry.co.uk/update</a>.  The author was even kind enough to provide the additional information below.  This worked great for me!</p>\n\n<p>You'll need to do a couple of things to compile and run the program.</p>\n\n<p>First, get hold of the Java JDK from Oracle so you can compile the software.\nThen run the software, which you can also do using the JDK.</p>\n\n<p>If you already have an Oracle installation on your server, chances are there already is a version of the JDK installed somewhere. Otherwise, it's a free download.</p>\n\n<p>The compiler is the javac command - exactly like the C# compiler csc.exe.\nIt generates .class files from .java files, just like csc generates ..exe files from .cs files.</p>\n\n<p>On your windows server, to compile the program the command line is\njavac DataPumpDownloader.java</p>\n\n<p>It should generate a .class file in the current directory.</p>\n\n<p>Then, to run the program, the command line is\njava -cp .;ojdbc6.jar DataPumpDownloader host port service username password filename</p>\n\n<p>You may need to adjust the paths of the above depending on where you have installed the JDK and the Oracle JDBC driver.\nYou don't need anything else apart from the JDK and the Oracle JDBC driver to make it work. </p>\n"}, {"tags": [], "owner": {"reputation": 366, "user_id": 1180342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b75cf721275cb4c98b72fb6532f6e5cf?s=128&d=identicon&r=PG", "display_name": "Justo", "link": "https://stackoverflow.com/users/1180342/justo"}, "is_accepted": false, "score": 0, "last_activity_date": 1495443192, "creation_date": 1495443192, "answer_id": 44108584, "question_id": 29431398, "link": "https://stackoverflow.com/questions/29431398/perl-script-to-download-raw-files-from-amazon-oracle-rds/44108584#44108584", "title": "Perl script to download raw files from Amazon Oracle RDS", "body": "<p>I't not perfect, but works</p>\n\n<pre><code># RDS instance info\n\nuse DBI;\n\n# Autoflush\n$|=1;\n\n$datestring = gmtime();\nprint \"$datestring\\n\";\n\nmy $RDS_PORT=1521;\nmy $RDS_HOST=\"orcl.XXXXXXXXXXXXXXXX.eu-west-1.rds.amazonaws.com\";\nmy $RDS_LOGIN=\"root/XXXXXXXXXXXXX\";\nmy $RDS_SID=\"ORCL\";\n\nmy $dirname = \"DATA_PUMP_DIR\";\nmy $fname = $ARGV[0];\nmy $data = \"dummy\";\nmy $chunk = 32767;\n\nmy $sql_open = \"BEGIN perl_global.fh := utl_file.fopen(:dirname, :fname, 'rb', :chunk); END;\";\nmy $sql_read = \"BEGIN utl_file.get_raw(perl_global.fh, :data, NULL); END;\";\nmy $sql_close = \"BEGIN utl_file.fclose(perl_global.fh); END;\";\nmy $sql_global = \"create or replace package perl_global as fh utl_file.file_type; end;\";\nmy $conn = DBI-&gt;connect('dbi:Oracle:host='.$RDS_HOST.';sid='.$RDS_SID.';port='.$RDS_PORT,$RDS_LOGIN, '') || die ( $DBI::errstr .  \"\\n\");\nmy $updated=$conn-&gt;do($sql_global);\n\nmy $stmt = $conn-&gt;prepare ($sql_open);\n$stmt-&gt;bind_param_inout(\":dirname\", \\$dirname, 12);\n$stmt-&gt;bind_param_inout(\":fname\", \\$fname, 12);\n$stmt-&gt;bind_param_inout(\":chunk\", \\$chunk, 4);\n$stmt-&gt;execute() || die ( $DBI::errstr . \"\\n\");\n\nopen (INF, \"&gt;:raw\" , $fname) || die \"\\nCan't open $fname for writing: $!\\n\";\nbinmode(INF);\n\n$stmt = $conn-&gt;prepare ($sql_read);\nmy %attrib = ('ora_type','24');\nmy $val=1;\nwhile ($val &gt; 0) {\n $stmt-&gt;bind_param_inout(\":data\", \\$data , 32768, \\%attrib);\n $stmt-&gt;execute() || die ( $DBI::errstr . \"\\n\");\n print INF $data;\n print \".\";\n};\nprint \"\\n\";\n\ndie \"Problem copying: $!\\n\" if $!;\nclose INF || die \"Can't close $fname: $!\\n\";\n$stmt = $conn-&gt;prepare ($sql_close);\n$stmt-&gt;execute() || die ( $DBI::errstr . \"\\n\");\n\n$datestring = gmtime();\nprint \"$datestring\\n\";\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4746030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ade43cb172b2dc4bba42714477c5335?s=128&d=identicon&r=PG&f=1", "display_name": "Farid Gurbanov", "link": "https://stackoverflow.com/users/4746030/farid-gurbanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1246, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534177049, "creation_date": 1428060723, "last_edit_date": 1428071912, "question_id": 29431398, "link": "https://stackoverflow.com/questions/29431398/perl-script-to-download-raw-files-from-amazon-oracle-rds", "title": "Perl script to download raw files from Amazon Oracle RDS", "body": "<p>I'm using the following script to upload dump files onto Amazon Oracle RDS instance. This process is well documented in books. However after some work done on the database I need to get the dump back. Unfortunately this side of the task is not documented at all. Amazon does not plan his customer to leave RDS in an easy way.</p>\n\n<p>Please help to convert this script to do a reverse job, namely to get files <em>FROM</em> Amazon Oracle RDS save it <em>TO</em> my workstation. The dump file has been prepared on RDS using Oracle's <code>DBMS_DATAPUMP</code> function.</p>\n\n<pre><code>use DBI;\nuse warnings;\nuse strict;\n\n# RDS instance info\nmy $RDS_PORT  = 1521;\nmy $RDS_HOST  = \"blabla12345.us-west-2.rds.amazonaws.com\";\nmy $RDS_LOGIN = \"username/123456\";\nmy $RDS_SID   = \"ORCL\";\n\n#The $ARGV[0] is a parameter you pass into the script\nmy $dirname = \"DATA_PUMP_DIR\";\nmy $fname   = $ARGV[0];\n\nmy $data  = \"dummy\";\nmy $chunk = 8192;\n\nmy $sql_open   = \"BEGIN perl_global.fh := utl_file.fopen(:dirname, :fname, 'wb', :chunk); END;\";\nmy $sql_write  = \"BEGIN utl_file.put_raw(perl_global.fh, :data, true); END;\";\nmy $sql_close  = \"BEGIN utl_file.fclose(perl_global.fh); END;\";\nmy $sql_global = \"create or replace package perl_global as fh utl_file.file_type; end;\";\n\nmy $conn = DBI-&gt;connect(\n    'dbi:Oracle:host=' . $RDS_HOST . ';sid=' . $RDS_SID . ';port=' . $RDS_PORT,\n    $RDS_LOGIN,\n    ''\n) || die($DBI::errstr . \"\\n\");\n\nmy $updated = $conn-&gt;do($sql_global);\nmy $stmt    = $conn-&gt;prepare($sql_open);\n$stmt-&gt;bind_param_inout(\":dirname\", \\$dirname, 12);\n$stmt-&gt;bind_param_inout(\":fname\",   \\$fname,   12);\n$stmt-&gt;bind_param_inout(\":chunk\",   \\$chunk,   4);\n$stmt-&gt;execute() || die($DBI::errstr . \"\\n\");\n\nopen(INF, $fname) || die \"\\nCan't open $fname for reading: $!\\n\";\nbinmode(INF);\n$stmt = $conn-&gt;prepare($sql_write);\nmy %attrib = ('ora_type', '24');\nmy $val = 1;\nwhile ( $val &gt; 0 ) {\n    $val = read(INF, $data, $chunk);\n    $stmt-&gt;bind_param(\":data\", $data, \\%attrib);\n    $stmt-&gt;execute() || die($DBI::errstr . \"\\n\");\n}\ndie \"Problem copying: $!\\n\" if $!;\nclose INF || die \"Can't close $fname: $!\\n\";\n$stmt = $conn-&gt;prepare($sql_close);\n$stmt-&gt;execute() || die($DBI::errstr . \"\\n\");\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1428061112, "post_id": 29430971, "comment_id": 47032292, "body": "As it is said: <code>did you run h2ph?</code>"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1428075791, "post_id": 29430971, "comment_id": 47039735, "body": "How did you update your perl? It looks like something may have gone wrong."}, {"owner": {"reputation": 15, "user_id": 4082172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef56c1f345b4062b3972232210ae3376?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh", "link": "https://stackoverflow.com/users/4082172/yogesh"}, "edited": false, "score": 0, "creation_date": 1428294443, "post_id": 29430971, "comment_id": 47093470, "body": "Is there any pre condition before build source rpm of perl package?"}], "owner": {"reputation": 15, "user_id": 4082172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef56c1f345b4062b3972232210ae3376?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh", "link": "https://stackoverflow.com/users/4082172/yogesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428086608, "creation_date": 1428059066, "last_edit_date": 1428086608, "question_id": 29430971, "link": "https://stackoverflow.com/questions/29430971/perl-package-is-showing-warning-message-on-rhel5-8", "title": "Perl package is showing warning message on RHEL5.8", "body": "<p>I have updated perl package from <code>perl-5.8.8-38</code> to <code>perl-5.8.8-42</code>.<br>\nThis updated package is fixed below problem.<br>\n<a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1057047\" rel=\"nofollow\">https://bugzilla.redhat.com/show_bug.cgi?id=1057047</a><br></p>\n\n<pre><code>\"perl Time::Local does not work with dates after 2038 or below 1902\"\n</code></pre>\n\n<p>But after updation perl package, machine is showing below warnings.</p>\n\n<pre><code>Can't locate stddef.ph in @INC (did you run h2ph?) (@INC contains: ...... .) at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/bits/types.ph line 10.\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1428056143, "post_id": 29430061, "comment_id": 47030035, "body": "Excellent answer! I like to keep the memory footprint constant."}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1428056240, "post_id": 29430061, "comment_id": 47030068, "body": "What is the difference between this command and your command in the comment with the map?  I think both have the same memory footprint, just different implementation of two commands. Actually, the command in the comment does not seem to work in my system."}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1428058260, "post_id": 29430061, "comment_id": 47030966, "body": "This command <i>@x = map $_ += 0.28, @x;</i> produces the same as the command in your answer. Without <i>@x = ...</i>, no storage. My Perl is 5.18.2 so new one."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 6, "last_activity_date": 1428055501, "creation_date": 1428055501, "answer_id": 29430061, "question_id": 29428998, "link": "https://stackoverflow.com/questions/29428998/better-way-to-do-array-addition-in-perl/29430061#29430061", "title": "Better way to do array addition in Perl?", "body": "<p>There is no need for a pairwise array summation here: That is an issue created your choice to create a second array as big as the original one (at least doubling the memory footprint of your program).</p>\n\n<p>All you are doing is to add a constant to every element of <code>@x</code>. Use a <code>for</code> loop:</p>\n\n<pre><code>$_ += 0.28 for @x;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 2, "last_activity_date": 1428065381, "creation_date": 1428065381, "answer_id": 29432505, "question_id": 29428998, "link": "https://stackoverflow.com/questions/29428998/better-way-to-do-array-addition-in-perl/29432505#29432505", "title": "Better way to do array addition in Perl?", "body": "<p>First make it work, then make it better. Or in other words, avoid premature optimization.</p>\n\n<pre><code>my $offset = 0.28;\nfor my $x_value ( @x ){\n    $x_value += $offset;\n}\n</code></pre>\n\n<p>Simple means those who have to maintain your code will like you. \u263b</p>\n"}], "owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 29430061, "answer_count": 2, "score": 0, "last_activity_date": 1428065381, "creation_date": 1428050753, "last_edit_date": 1428058022, "question_id": 29428998, "link": "https://stackoverflow.com/questions/29428998/better-way-to-do-array-addition-in-perl", "title": "Better way to do array addition in Perl?", "body": "<p>Code</p>\n\n<pre><code>use List::MoreUtils 'pairwise'; # http://stackoverflow.com/a/1865966/54964\nmy @offset = (0.28)x scalar(@x); # http://www.perlmonks.org/?node_id=110603\nmy @x = pairwise { $a + $b } @x, @offset;\n</code></pre>\n\n<p>I would like find a better way to this by default tools. </p>\n\n<p>Is there any better way to do array addition in Perl? </p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1428073894, "post_id": 29426827, "comment_id": 47038806, "body": "Note that <code>$neighbors{&#39;top&#39;}    = defined($maze[ $y - 1 ][ $x ]) ? $maze[ $y - 1 ][ $x ] : undef</code> is <i>identical</i> to <code>$neighbors{&#39;top&#39;} = $maze[ $y-1][$x]</code>. Also, you can use the defined-or for <code>my $rows  = (defined($ARGV[ 0 ]) ? $ARGV[ 0 ] : 60)</code> to write <code>my $rows = $ARGV[ 0 ] &#47;&#47; 60</code>. It is also nicer to avoid the C-style <code>for</code> loop and iterate over a range instead, so <code>for(my $y = 0; $y &lt; $rows; ++$y) { ... }</code> becomes <code>for my $y ( 0 .. $rows-1 ) { ... }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1428040692, "post_id": 29426857, "comment_id": 47024574, "body": "Also, not an answer, just a suggestion: Don&#39;t use <a href=\"https://metacpan.org/pod/Switch#NAME\" rel=\"nofollow noreferrer\"><code>Switch</code></a>.  It&#39;ll cause nasty headaches down the road."}, {"owner": {"reputation": 463, "user_id": 4368834, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9FDCf.jpg?s=128&g=1", "display_name": "th3v0id", "link": "https://stackoverflow.com/users/4368834/th3v0id"}, "edited": false, "score": 0, "creation_date": 1428041146, "post_id": 29426857, "comment_id": 47024697, "body": "Ah, yes I think I remember reading about that at one point. I&#39;ll change my code to check if the coords are within boundaries and set undef if not. Thanks for the quick response!"}], "tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 2, "last_activity_date": 1428040491, "last_edit_date": 1428040491, "creation_date": 1428039934, "answer_id": 29426857, "question_id": 29426827, "link": "https://stackoverflow.com/questions/29426827/unexpected-values-in-hash/29426857#29426857", "title": "Unexpected values in hash?", "body": "<p>In Perl, a negative subscript on an array counts from the end of the array.</p>\n\n<p>For example:</p>\n\n<pre><code>my @foo = ('a', 'b', 'c', 'd', 'e');\n\nsay $foo[-2];\n</code></pre>\n\n<p>would display <code>d</code>.</p>\n\n<p>This should illustrate what's happening:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @maze = ( [ 'a' .. 'e' ],\n             [ 'f' .. 'j' ],\n             [ 'k' .. 'o' ],\n             [ 'p' .. 't' ],\n             [ 'u' .. 'y' ], );\n\nfor my $row (@maze) {\n    say \"@$row\";\n}\n\nmy %neighbors;\nmy ($x, $y) = (0, 0);\n\n# The // defined-or was added in Perl 5.10.  These are equivalent:\n# $foo = defined($bar) ? $bar : 'toast';\n# $foo = $bar // 'toast';\n\n$neighbors{'top'}    = $maze[ $y - 1 ][ $x ] // '-'; \n$neighbors{'bottom'} = $maze[ $y + 1 ][ $x ] // '-';\n$neighbors{'left'}   = $maze[ $y ][ $x - 1 ] // '-';\n$neighbors{'right'}  = $maze[ $y ][ $x + 1 ] // '-';\n\nsay \"  $neighbors{top}\";\nsay \"$neighbors{left} $maze[$y][$x] $neighbors{right}\";\nsay \"  $neighbors{bottom}\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a b c d e\nf g h i j\nk l m n o\np q r s t\nu v w x y\n  u\ne a b\n  f\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1428065900, "creation_date": 1428065900, "answer_id": 29432643, "question_id": 29426827, "link": "https://stackoverflow.com/questions/29426827/unexpected-values-in-hash/29432643#29432643", "title": "Unexpected values in hash?", "body": "<p>Try:</p>\n\n<pre><code>$neighbors{ top    } = $y &gt; 0              ? $maze[ $y - 1 ][ $x ] : undef;\n$neighbors{ bottom } = $y &lt; $#maze         ? $maze[ $y + 1 ][ $x ] : undef;\n$neighbors{ left   } = $x &gt; 0              ? $maze[ $y ][ $x - 1 ] : undef;\n$neighbors{ right  } = $x &lt; $#{ $maze[0] } ? $maze[ $y ][ $x + 1 ] : undef;\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 4368834, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9FDCf.jpg?s=128&g=1", "display_name": "th3v0id", "link": "https://stackoverflow.com/users/4368834/th3v0id"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 29426857, "answer_count": 2, "score": 0, "last_activity_date": 1548239042, "creation_date": 1428039785, "last_edit_date": 1548239042, "question_id": 29426827, "link": "https://stackoverflow.com/questions/29426827/unexpected-values-in-hash", "title": "Unexpected values in hash?", "body": "<p>I'm trying to create a maze generator and I'm having some trouble with my code. At the beginning of my script, I create a multidimensional array (<code>@maze</code>) with X number of columns and Y number of rows. There is a loop which iterates through the array and sets all of the elements to an initial value of 1. The <code>get_neighbors</code> sub routine is suppose to create a hash with <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code> keys. It then sets the values for these keys based on the <code>x</code> and <code>y</code> coords which get passed in. For the <code>top</code> key, I set it's value to the element directly above which should be <code>[ $y - 1 ][ $x ]</code>. I was assuming that if for example, the coords, <code>0, 0</code> were passed in, <code>top</code> would be set to undef since that's not a valid element / position, but it's not.. It's being set to 1. Not sure why.. Was hoping someone could spot and explain why that's happening. Here's the entire script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse Switch;\nuse Data::Dumper;\n\n# Rows is set equal to the first arg passed in\n# unless it hasn't been. If it hasn't been, the\n# value defaults to 60. This also applies to the\n# columns.\nmy $rows  = (defined($ARGV[ 0 ]) ? $ARGV[ 0 ] : 60);\nmy $cols  = (defined($ARGV[ 1 ]) ? $ARGV[ 1 ] : 60);\nmy $cells = $rows * $cols;\n\nmy @maze;\n\n# \"Pre-allocate\" each \"Cell\" for the maze.\nfor(my $y = 0; $y &lt; $rows; ++$y) {\n    for(my $x = 0; $x &lt; $cols; ++$x) { $maze[ $y ][ $x ] = 1; }\n} \n\n# Run \nmain();\n\n#--------------------------\n# Main ~\n#--------------------------\nsub main {\n    print Dumper(get_neighbors(0, 0));\n\n    generate();\n    print_maze();   \n\n    return;\n}\n\n#--------------------------\n# Generate the maze w/ BFS\n#--------------------------\nsub generate {\n\n    return;\n}\n\n#--------------------------\n# Print maze to console\n#--------------------------\nsub print_maze {\n    for(my $y = 0; $y &lt; $rows; ++$y) {\n        for(my $x = 0; $x &lt; $cols; ++$x) {\n            print $maze[ $y ][ $x ] . \" \";\n        }\n        print \"\\n\";\n    }\n}\n\n#--------------------------\n# Returns the values of \n# neighboring cells \n#--------------------------\nsub get_neighbors {\n    my $x = shift;\n    my $y = shift;\n\n    my %neighbors;\n\n    $neighbors{'top'}    = defined($maze[ $y - 1 ][ $x ]) ? $maze[ $y - 1 ][ $x ] : undef; \n    $neighbors{'bottom'} = defined($maze[ $y + 1 ][ $x ]) ? $maze[ $y + 1 ][ $x ] : undef;\n    $neighbors{'left'}   = defined($maze[ $y ][ $x - 1 ]) ? $maze[ $y ][ $x - 1 ] : undef;\n    $neighbors{'right'}  = defined($maze[ $y ][ $x + 1 ]) ? $maze[ $y ][ $x + 1 ] : undef;\n\n    return %neighbors;\n}\n</code></pre>\n\n<p>The out when I run this script is:</p>\n\n<pre><code># perl mazegen.pl 10 10\n$VAR1 = 'left';\n$VAR2 = 1;\n$VAR3 = 'right';\n$VAR4 = 1;\n$VAR5 = 'top';\n$VAR6 = 1;\n$VAR7 = 'bottom';\n$VAR8 = 1;\n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 1 1 1 \n</code></pre>\n"}, {"tags": ["python", "linux", "perl", "subprocess", "python-os"], "comments": [{"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1428025495, "post_id": 29425110, "comment_id": 47021508, "body": "Why not just wait in the perl script until the launched programs end? That sounds a lot easier than controlling programs from one script that were launched in another."}, {"owner": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "edited": false, "score": 0, "creation_date": 1428028804, "post_id": 29425110, "comment_id": 47022185, "body": "Traditionally unix doesn&#39;t support this; orphaned processes are inherited by the init process. But see <a href=\"http://stackoverflow.com/questions/6476452/process-re-parenting-controlling-who-is-the-new-parent\" title=\"process re parenting controlling who is the new parent\">stackoverflow.com/questions/6476452/&hellip;</a>. (Hard to see how you&#39;d utilize that for your use case, especially from python.)"}, {"owner": {"reputation": 343895, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "edited": false, "score": 0, "creation_date": 1428090481, "post_id": 29425110, "comment_id": 47046115, "body": "@GilHamilton: <code>prctl(PR_SET_CHILD_SUBREAPER)</code> can be called in Python using <code>ctypes</code>. But I would try <code>shell=True</code> and redirecting stdin/stdout/stderr first."}, {"owner": {"reputation": 21, "user_id": 4596009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63d026b3eb32e21ffd71ca57243b2b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Luise", "link": "https://stackoverflow.com/users/4596009/luise"}, "edited": false, "score": 0, "creation_date": 1428106361, "post_id": 29425110, "comment_id": 47050954, "body": "the problem is that I don&#39;t know PERL and it&#39;s a very long script... (yay for old scripts from phd advisors)"}], "owner": {"reputation": 21, "user_id": 4596009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63d026b3eb32e21ffd71ca57243b2b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Luise", "link": "https://stackoverflow.com/users/4596009/luise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1428025399, "creation_date": 1428025399, "question_id": 29425110, "link": "https://stackoverflow.com/questions/29425110/launching-script-that-launches-programs-and-waiting-for-them-to-finish-in-python", "title": "Launching script that launches programs and waiting for them to finish in Python", "body": "<p>I have a Perl script that launches some programs and then ends while the programs run in the background. I would like to write a Python script that will be able to wait for those launched programs to finish, not just for the Perl script. </p>\n\n<p>I tried this:</p>\n\n<pre><code>import subprocess\n\nsubprocess.call(('./perl_script.pl'))\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>import subprocess\n\np = subprocess.Popen(('./perl_script.pl'))\np.wait()\n</code></pre>\n\n<p>but in both cases program finishes when the perl_script.pl finishes, and not when the launched programs do. </p>\n"}]