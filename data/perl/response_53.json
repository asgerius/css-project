[{"tags": ["bash", "perl", "wget"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1452715548, "post_id": 34775976, "comment_id": 57297231, "body": "Welcome to SO, please show your coding efforts."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5786361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9965ccdb8d9bf2178ec383229c3b1b12?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Smith", "link": "https://stackoverflow.com/users/5786361/lee-smith"}, "edited": false, "score": 0, "creation_date": 1452716538, "post_id": 34776202, "comment_id": 57297779, "body": "Hello, this would hit the url and move on after one second, but I need to add a 30 second pause if the connection is OK but a 1 second pause if the device is off / dosent respond.    thanks, Lee"}, {"owner": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "reply_to_user": {"reputation": 3, "user_id": 5786361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9965ccdb8d9bf2178ec383229c3b1b12?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Smith", "link": "https://stackoverflow.com/users/5786361/lee-smith"}, "edited": false, "score": 0, "creation_date": 1452716699, "post_id": 34776202, "comment_id": 57297874, "body": "Just check <code>$res-&gt;is_success()</code> - I added this to code snippet"}, {"owner": {"reputation": 3, "user_id": 5786361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9965ccdb8d9bf2178ec383229c3b1b12?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Smith", "link": "https://stackoverflow.com/users/5786361/lee-smith"}, "edited": false, "score": 0, "creation_date": 1452716793, "post_id": 34776202, "comment_id": 57297933, "body": "Brilliant, I will give this a try when I&#39;m back in the office tomorrow. Thank you !"}], "tags": [], "owner": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "is_accepted": false, "score": 1, "last_activity_date": 1452716675, "last_edit_date": 1452716675, "creation_date": 1452716128, "answer_id": 34776202, "question_id": 34775976, "link": "https://stackoverflow.com/questions/34775976/wget-script-to-connect-wait-if-successful-continue-if-no-connection/34776202#34776202", "title": "wget script to connect, wait if successful, continue if no connection", "body": "<p>You don't need wget for this task - everything can be done in Perl.</p>\n\n<p>Simply use code like this: </p>\n\n<pre><code>use LWP::UserAgent;\nuse HTTP::Request;\n\nmy $ua = new LWP::UserAgent;\n$ua-&gt;timeout(1);\nmy $req = new HTTP::Request(GET =&gt; $url);\nmy $res = $ua-&gt;request($req);\nif ($res-&gt;is_success()) {\n    print(\"Connection to '$url' was OK\");\n    sleep(30);\n} else {\n    print(\"Cannot access '$url'\");\n    sleep(1);\n}\n</code></pre>\n\n<p>This will hit your url, but will timeout in just 1 second.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5786361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9965ccdb8d9bf2178ec383229c3b1b12?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Smith", "link": "https://stackoverflow.com/users/5786361/lee-smith"}, "edited": false, "score": 0, "creation_date": 1452716686, "post_id": 34776269, "comment_id": 57297866, "body": "Hi thanks for this, we are using a linux environment, I will look at trying this tomorrow,   Thank you !"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 3, "user_id": 5786361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9965ccdb8d9bf2178ec383229c3b1b12?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Smith", "link": "https://stackoverflow.com/users/5786361/lee-smith"}, "edited": false, "score": 0, "creation_date": 1452716964, "post_id": 34776269, "comment_id": 57298037, "body": "I added comments to the above code to make it a little more clear as to what I was doing"}, {"owner": {"reputation": 3, "user_id": 5786361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9965ccdb8d9bf2178ec383229c3b1b12?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Smith", "link": "https://stackoverflow.com/users/5786361/lee-smith"}, "edited": false, "score": 0, "creation_date": 1452807532, "post_id": 34776269, "comment_id": 57343681, "body": "Hi Ed, I have used your code and added the url&#39;s as above with a space in-between, when I run the script it just hangs on the first url, and never moves on after the sleep time. Any ideas?  Thanks !!"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 3, "user_id": 5786361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9965ccdb8d9bf2178ec383229c3b1b12?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Smith", "link": "https://stackoverflow.com/users/5786361/lee-smith"}, "edited": false, "score": 0, "creation_date": 1452875590, "post_id": 34776269, "comment_id": 57373368, "body": "try to test it by commenting out but the if and else and replacing the my $check with a simple system(&quot;wget $url&quot;); to see if the wget is even doing what it&#39;s suppose to.  From there we can expand on it"}], "tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": true, "score": -1, "last_activity_date": 1452716923, "last_edit_date": 1452716923, "creation_date": 1452716377, "answer_id": 34776269, "question_id": 34775976, "link": "https://stackoverflow.com/questions/34775976/wget-script-to-connect-wait-if-successful-continue-if-no-connection/34776269#34776269", "title": "wget script to connect, wait if successful, continue if no connection", "body": "<p>I would probably load the urls into an array and iterate through the array.  Something like this</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy @urls = qw(test.com url.com 123abc.com fail.aa);\n\nforeach my $url (@urls){\n    my $check = `wget --server-response $url 2&gt;&amp;1 | grep HTTP/ | awk '{print \\$2}'`;\n    #if there is a successful response you can set the sleep(3) to sleep(30) for your instance.\n    if($check){\n        print \"Found $url -- sleeping 3 seconds\\n\";\n        sleep(3);\n    }\n    else{\n        print \"$url does not exist\\n\";\n        #If the url does not exist or respond it will move on to the next item in the array.  You could add a sleep(1) before the next for a 1 second pause\n        next;\n    }\n}\n</code></pre>\n\n<p>Of course this is assuming that you are using linux.  The urls could be loaded another way as well, I don't know how your current script it getting them.  The above is an example and you of course would need to be adjusted to fit your environment</p>\n"}], "owner": {"reputation": 3, "user_id": 5786361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9965ccdb8d9bf2178ec383229c3b1b12?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Smith", "link": "https://stackoverflow.com/users/5786361/lee-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "accepted_answer_id": 34776269, "answer_count": 2, "score": 0, "last_activity_date": 1452731798, "creation_date": 1452715356, "last_edit_date": 1452731798, "question_id": 34775976, "link": "https://stackoverflow.com/questions/34775976/wget-script-to-connect-wait-if-successful-continue-if-no-connection", "title": "wget script to connect, wait if successful, continue if no connection", "body": "<p>I have to create a script that sends a wget contact message to all devices on our network. wget connects to a url and this trigger the endpoint to contact a server.</p>\n\n<p>The problem I have is I need to be able to send the command to each IP address on the network and if the connection is successful do noting for 30 seconds then move on to the next url in the list. However if the connection isn't successful I want the script to move on to the next url with no pause.</p>\n\n<p>Currently I'm using a bash script to send the command with a pause=30 in-between url's,  connection attempts set to 1 and time-out set to 1. this works OK for the connections that are successful but it also hangs on the addresses that are not.</p>\n\n<p>Any advise on how I can pause on success and move on after time out on dead addresses?</p>\n\n<p>This is the command I'm currently running,</p>\n\n<p>wget --connect-timeout=1 --tries=1  <a href=\"http://xx.xx.xx.xx:8085/contact_dls.html/ContactDLS\" rel=\"nofollow\">http://xx.xx.xx.xx:8085/contact_dls.html/ContactDLS</a><br>\nsleep 30<br>\nwget --connect-timeout=1 --tries=1  <a href=\"http://xx.xx.xx.xx:8085/contact_dls.html/ContactDLS\" rel=\"nofollow\">http://xx.xx.xx.xx:8085/contact_dls.html/ContactDLS</a><br>\netc etc etc</p>\n\n<p>thanks</p>\n"}, {"tags": ["mysql", "sql-server", "perl"], "comments": [{"owner": {"reputation": 11828, "user_id": 4420967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6pYX.png?s=128&g=1", "display_name": "James Z", "link": "https://stackoverflow.com/users/4420967/james-z"}, "edited": false, "score": 1, "creation_date": 1452713098, "post_id": 34775258, "comment_id": 57295744, "body": "How about using <code>bcp</code> to write the data into a text file and load it in using <code>load data infile</code>?"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1452713276, "post_id": 34775258, "comment_id": 57295845, "body": "if the format&#39;s simple enough, consider dumping to csv, which you can them import into mysql quickly enough. and for bulk imports like this, you may want to consider disabling indexes while you&#39;re loading, since EACH of those inserts you perform causes an index update. for millions of records, that&#39;s a LOT of overhead. better to bulk load, and rebuild afterwards ONCE."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452713369, "post_id": 34775258, "comment_id": 57295919, "body": "The absolute best way to do this is using the native bulk export/import tools for each database server."}], "answers": [{"tags": [], "owner": {"reputation": 82, "user_id": 16238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/447cd4064304211236e3df71aba67dbf?s=128&d=identicon&r=PG", "display_name": "Juan Pablo Morales", "link": "https://stackoverflow.com/users/16238/juan-pablo-morales"}, "is_accepted": true, "score": 1, "last_activity_date": 1452728022, "creation_date": 1452728022, "answer_id": 34779085, "question_id": 34775258, "link": "https://stackoverflow.com/questions/34775258/copying-large-amount-of-data-from-sql-server-to-mysql/34779085#34779085", "title": "Copying large amount of data from SQL Server to MySQL", "body": "<p>According to <a href=\"http://dev.mysql.com/doc/refman/5.7/en/insert-speed.html\" rel=\"nofollow\">dev.mysql.com</a> LOAD DATA INFILE is about 20 times faster than INSERT. That means that is is a lot faster for you to use the Perl script to write to a text file and the do a LOAD DATA INFILE with that information. </p>\n"}], "owner": {"reputation": 191, "user_id": 5223984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4pzKT.jpg?s=128&g=1", "display_name": "Compysaurus", "link": "https://stackoverflow.com/users/5223984/compysaurus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 34779085, "answer_count": 1, "score": 0, "last_activity_date": 1452728022, "creation_date": 1452712841, "question_id": 34775258, "link": "https://stackoverflow.com/questions/34775258/copying-large-amount-of-data-from-sql-server-to-mysql", "title": "Copying large amount of data from SQL Server to MySQL", "body": "<p>I have read access to a SQL Server database with a lot of data stored.  Each night I pull about a million or so lines from a table on this DB and put it on a MySQL database on my local machine, where I then perform analyses on the data.  My current method of copying this data is a Perl script that basically does:</p>\n\n<pre><code>(1) Connect to MySQL database\n(2) Drop old table\n(3) Create table.\n(4) Get data from SQL Server DB.\n(5) Put data on MySQL database using the following method:\nwhile (@data = $sth-&gt;fetchrow_array()) {\n  $id = $data[0];\n  $at = $data[1];\n  $ar = $data[2];\n  $dt = $data[3];\n  $v = $data[4];\n  $di = $data[5];  \n  #PUSH ONTO MYSQL\n    $dbh2-&gt;do(\"INSERT INTO datatable VALUES (?, ?, ?, ?, ?, ?)\", \n           undef, $id, $at, $ar, $dt, $v, $di);\n}\n</code></pre>\n\n<p>This is very slow.  Is there a method of copying these data that will be faster, taking into account my limited privileges on the remote SQL server?  (Someone suggested creating a linked Server but I don't think I can without more of an admin role on the remote server). In the future I might have to work with even larger sets of data, so figuring out a faster way would be ideal.  </p>\n\n<p>Of note: I am copying an entire date range from the remote server every night, even though it technically has only been updated with the most recent day's worth of data.  However, there is a possibility that some of the data from previous dates might be changed later, which is why we thought it prudent to just copy the whole thing every time.  That's obviously part of what makes it slow.  Is there a way to only copy the changes each night? </p>\n\n<p>FYI my work machine is running Windows 7 and I'm using MySQL 5.7  </p>\n"}, {"tags": ["mongodb", "perl"], "comments": [{"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1452731977, "post_id": 34774405, "comment_id": 57304442, "body": "How  are you adding the documents? Have you considered doing bulk inserts? <a href=\"http://www.journaldev.com/6318/mongodb-batchbulk-insert-example-using-mongo-shell-and-java-driver\" rel=\"nofollow noreferrer\">journaldev.com/6318/&hellip;</a>"}, {"owner": {"reputation": 564, "user_id": 158575, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/50c5f04c098fa8e109cbccc2d116a4d5?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/158575/todd"}, "reply_to_user": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1452789843, "post_id": 34774405, "comment_id": 57333357, "body": "Yes, I&#39;m working on an alternative that would do bulk inserts, but from my analysis so far, it appears that the majority of the problem is waiting for sockets to free up."}], "answers": [{"tags": [], "owner": {"reputation": 564, "user_id": 158575, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/50c5f04c098fa8e109cbccc2d116a4d5?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/158575/todd"}, "is_accepted": true, "score": 1, "last_activity_date": 1454352098, "creation_date": 1454352098, "answer_id": 35137904, "question_id": 34774405, "link": "https://stackoverflow.com/questions/34774405/multiprocess-perl-program-timing-out-connection-to-mongodb/35137904#35137904", "title": "MultiProcess Perl program Timing out connection to MongoDB", "body": "<p>None of the tuning suggestion helped, nor did bulk inserts.</p>\n\n<p>I continued to investigate and the root of the problem was that that my process was doing many \"$addToSet\" operations, which can become slow with large arrays.  So my I was consuming all available sockets with slow updates.  I restructured my documents so that I would not use arrays that could become large and I returned to an acceptable insert rate.</p>\n"}], "owner": {"reputation": 564, "user_id": 158575, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/50c5f04c098fa8e109cbccc2d116a4d5?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/158575/todd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 35137904, "answer_count": 1, "score": 1, "last_activity_date": 1454352098, "creation_date": 1452709990, "last_edit_date": 1452711293, "question_id": 34774405, "link": "https://stackoverflow.com/questions/34774405/multiprocess-perl-program-timing-out-connection-to-mongodb", "title": "MultiProcess Perl program Timing out connection to MongoDB", "body": "<p>I'm writing a migration program to transform the data in one database collection to another database collection using Perl and MongoDB.  Millions of documents need to be transformed and performance is very bad (it will take weeks to complete, which is not acceptable).  So I thought to use Parallel::TaskManager to create multiple processes to do the transformation in parallel.  Performance starts OK, then rapidly tails off, and then I start getting the following errors:</p>\n\n<pre><code>update error: MongoDB::NetworkTimeout: Timed out while waiting for socket to become ready for reading\n at /usr/local/share/perl/5.18.2/Meerkat/Collection.pm line 322.\nupdate error: MongoDB::NetworkTimeout: Timed out while waiting for socket to become ready for reading\n at /usr/local/share/perl/5.18.2/Meerkat/Collection.pm line 322.\n</code></pre>\n\n<p>So my suspicion is that this is due to spawned processes not letting go of sockets quick enough.  I'm not sure how to fix this, though if in fact this is the problem.</p>\n\n<p>What I've tried:</p>\n\n<ol>\n<li>I reduced tcp_keepalive_time via <code>sudo sysctl -w net.ipv4.tcp_keepalive_time=120</code> and restarted my mongod</li>\n<li>I reduced the max_time_ms (this made matters worse)</li>\n</ol>\n\n<p>Here's details on my setup</p>\n\n<ul>\n<li><p>Single Mongod, no replication or sharding.</p></li>\n<li><p>Both databases are on this server the perl program is iterating over\nthe original database and doing some processing on that data in the\ndocument and writing to 3 collections in the new database.</p></li>\n<li><p>Using MongoDB::Client to access original database and using Meerkat\nto write to new database. write_safety set to zero for both.</p></li>\n</ul>\n\n<p>Not sure how to read this but here is a segment of mongostat from the time the errors were occurring:</p>\n\n<pre><code>insert query update delete getmore command % dirty % used flushes vsize   res qr|qw ar|aw netIn netOut conn     time\n    *0    *0     *0     *0       0     1|0     0.0    0.3       0 20.4G  9.4G   0|0  1|35   79b    15k   39 11:10:37\n    *0     3      8     *0       0    11|0     0.0    0.3       0 20.4G  9.4G   0|0  2|35    5k    18k   39 11:10:38\n    *0     3      1     *0       1     5|0     0.1    0.3       0 20.4G  9.4G   0|0  1|35    2k    15m   39 11:10:39\n    *0    12      4     *0       1    13|0     0.1    0.3       0 20.4G  9.4G   0|0  2|35    9k   577k   43 11:10:40\n    *0     3      1     *0       3     5|0     0.1    0.3       0 20.4G  9.4G   0|0  1|34    2k    10m   43 11:10:41\n    *0     3      8     *0       1    10|0     0.1    0.3       0 20.4G  9.4G   0|0  2|34    5k     2m   43 11:10:42\n    *0     9     24     *0       0    29|0     0.1    0.3       0 20.4G  9.4G   0|0  5|34   13k    24k   43 11:10:43\n    *0     3      8     *0       0    10|0     0.1    0.3       0 20.4G  9.4G   0|0  5|35    4k    12m   43 11:10:44\n    *0     3      8     *0       0    11|0     0.1    0.3       0 20.4G  9.4G   0|0  5|35    5k    12m   42 11:10:45\n    *0    *0     *0     *0       0     2|0     0.1    0.3       0 20.4G  9.3G   0|0  4|35  211b    12m   42 11:10:46\n</code></pre>\n\n<p>Please let me know if you would like to see any additional information to help me diagnose this problem.  </p>\n\n<p>Dropping the number of processes running in parallel down to 3 from 8 (or more) seems to cut down the number of timeout errors, but at the cost of throughput.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 6, "creation_date": 1452709306, "post_id": 34774057, "comment_id": 57293357, "body": "Yeah, <a href=\"http://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">don&#39;t use prototypes</a>. ;-)"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1452709565, "post_id": 34774057, "comment_id": 57293527, "body": "or you can use <code>log($_[0], $_[1], DEBUG_LOG_LEVEL);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1452709301, "creation_date": 1452709301, "answer_id": 34774209, "question_id": 34774057, "link": "https://stackoverflow.com/questions/34774057/clean-way-to-pass-argument-to-perl-subroutine-to-child-routine-as-they-are-witho/34774209#34774209", "title": "clean way to pass argument to perl subroutine to child routine as they are without storing to variable first?", "body": "<p>Sure, just skip the <a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow\">prototypes</a></p>\n\n<pre><code>sub log {\n   my ($message, $log_location, $log_level) = @_;\n   #logs message\n}\n\nsub log_debug {\n   log(@_, DEBUG_LOG_LEVEL);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1452710011, "creation_date": 1452710011, "answer_id": 34774412, "question_id": 34774057, "link": "https://stackoverflow.com/questions/34774057/clean-way-to-pass-argument-to-perl-subroutine-to-child-routine-as-they-are-witho/34774412#34774412", "title": "clean way to pass argument to perl subroutine to child routine as they are without storing to variable first?", "body": "<p>You can skip prototype checking by calling your subroutine with an <code>&amp;</code>:</p>\n\n<pre><code>&amp;log(@_, DEBUG_LOG_LEVEL);\n</code></pre>\n\n<p>According to <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow\">perlsub</a>:</p>\n\n<blockquote>\n  <p>Not only does the <code>&amp;</code> form make the argument list optional, it also\n  disables any prototype checking on arguments you do provide. This is\n  partly for historical reasons, and partly for having a convenient way\n  to cheat if you know what you're doing.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1452714874, "creation_date": 1452714874, "answer_id": 34775849, "question_id": 34774057, "link": "https://stackoverflow.com/questions/34774057/clean-way-to-pass-argument-to-perl-subroutine-to-child-routine-as-they-are-witho/34775849#34775849", "title": "clean way to pass argument to perl subroutine to child routine as they are without storing to variable first?", "body": "<p>You don't have to copy the elements of <code>@_</code>. You could use them directly as follows:</p>\n\n<pre><code>sub log_debug($$) {\n    log($_[0], $_[1], DEBUG_LOG_LEVEL);\n}\n</code></pre>\n\n<p>Prefixing the call with <code>&amp;</code> causes the prototype to be ignored, so you could also use the following:</p>\n\n<pre><code>sub log_debug($$) {\n    &amp;log(@_, DEBUG_LOG_LEVEL);\n}\n</code></pre>\n\n<p>If you eliminate the arguments (including <code>()</code>), the callee will use the parent's <code>@_</code> instead of creating a new one. This following is slightly more efficient than the previous solution:</p>\n\n<pre><code>sub log_debug($$) {\n    push @_, DEBUG_LOG_LEVEL;\n    &amp;log;\n}\n</code></pre>\n\n<p>Finally, if <code>log</code> obtains a stack trace, you might want to remove <code>log_debug</code> from the trace. This is slightly less efficient.</p>\n\n<pre><code>sub log_debug($$) {\n    push @_, DEBUG_LOG_LEVEL;\n    goto &amp;log;\n}\n</code></pre>\n\n<p>Note that none of four solutions I posted make a copy of the arguments.</p>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 34775849, "answer_count": 3, "score": 0, "last_activity_date": 1452714874, "creation_date": 1452708790, "question_id": 34774057, "link": "https://stackoverflow.com/questions/34774057/clean-way-to-pass-argument-to-perl-subroutine-to-child-routine-as-they-are-witho", "title": "clean way to pass argument to perl subroutine to child routine as they are without storing to variable first?", "body": "<p>I want to pass the arguments of my routine to a subroutine as they are, possibly while adding a new argument.  To give an example imagine something like this</p>\n\n<pre><code>sub log($$$){\n   my ($message, $log_location, $log_level) = @_;\n   #logs message\n}\n\nsub log_debug($$){\n   my ($message, $log_location) = @_;\n   log($message, $log_location, DEBUG_LOG_LEVEL);\n}\n</code></pre>\n\n<p>That syntax works fine above, but requires my saving the @_ to intermediate variables to do it.  I'm wondering if there is a simple clean syntax for doing so without using the intermediate variables.  Something like</p>\n\n<pre><code>log(@_, DEBUG_LOG_LEVEL);\n</code></pre>\n\n<p>which gets an error about my \"not having enough variables\", but I think would otherwise work.  Can this be done easily without warning?</p>\n"}, {"tags": ["json", "mongodb", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452710786, "post_id": 34773990, "comment_id": 57294345, "body": "<a href=\"https://metacpan.org/pod/JSON::XS#INCREMENTAL-PARSING\" rel=\"nofollow noreferrer\">Incremental parsing</a> is what you want, but those literal <code>ObjectId(...)</code> bits are going to be problematic."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452716843, "post_id": 34773990, "comment_id": 57297954, "body": "Can you speak REST to mongo like you can Elasticsearch? That might be the answer here. <a href=\"https://docs.mongodb.org/ecosystem/tools/http-interfaces/\" rel=\"nofollow noreferrer\">docs.mongodb.org/ecosystem/tools/http-interfaces</a> Then you&#39;ll probably <i>have</i> to get valid JSON out."}], "answers": [{"tags": [], "owner": {"reputation": 211, "user_id": 1700494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/339c988180dae5f19e45f7e3a6e15eda?s=128&d=identicon&r=PG", "display_name": "user1700494", "link": "https://stackoverflow.com/users/1700494/user1700494"}, "is_accepted": true, "score": 0, "last_activity_date": 1453206628, "creation_date": 1453206628, "answer_id": 34876881, "question_id": 34773990, "link": "https://stackoverflow.com/questions/34773990/is-it-possible-to-parse-output-of-mongodb-query-as-json-document/34876881#34876881", "title": "Is it possible to parse output of MongoDB query as JSON document?", "body": "<p>As suggested by @Matt i used <code>incr_parse</code> method and omitted <code>_id</code> field in output.</p>\n"}], "owner": {"reputation": 211, "user_id": 1700494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/339c988180dae5f19e45f7e3a6e15eda?s=128&d=identicon&r=PG", "display_name": "user1700494", "link": "https://stackoverflow.com/users/1700494/user1700494"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 34876881, "answer_count": 1, "score": 0, "last_activity_date": 1453206628, "creation_date": 1452708570, "last_edit_date": 1452708669, "question_id": 34773990, "link": "https://stackoverflow.com/questions/34773990/is-it-possible-to-parse-output-of-mongodb-query-as-json-document", "title": "Is it possible to parse output of MongoDB query as JSON document?", "body": "<p>First of all - I cannot use perl MongoDB driver, so I'm interacting with MongoDB via <code>IPC::Run</code>. Now I'd like to get output from MongoDB as a hash ref.<br>\nHere is the code:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse JSON::XS;\nuse Try::Tiny;\nuse IPC::Run 'run';\nuse Data::Dumper;\n\nmy @cmd = ('/opt/mongo/bin/mongo', '127.0.0.1:27117/service_discovery', '--quiet', '-u', 'test', '-p', 'test', '--eval', 'db.sit.find().forEach(function(x){printjson(x)})');\nmy $out;\nrun \\@cmd, '&gt;&gt;', \\$out;\nmy $coder = JSON::XS-&gt;new-&gt;ascii-&gt;pretty-&gt;allow_nonref;\nmy $dec = try {my $output = $coder-&gt;decode($out)} catch {undef};\nprint Dumper (\\%$dec);\n</code></pre>\n\n<p>It is not working now, <code>%$dec</code> is empty.<br>\nHere is the output of MongoDB query (value of <code>$out</code>):</p>\n\n<pre><code>{\n    \"_id\" : ObjectId(\"5696787eb8e5e87534777c82\"),\n    \"hostname\" : \"lab7n1\",\n    \"services\" : [\n            {\n                    \"port\" : 9000,\n                    \"name\" : \"ss-rest\"\n            },\n            {\n                    \"port\" : 9001,\n                    \"name\" : \"ss-rest\"\n            },\n            {\n                    \"port\" : 8060,\n                    \"name\" : \"websockets\"\n            },\n            {\n                    \"port\" : 8061,\n                    \"name\" : \"websockets\"\n            }\n    ]\n}\n{\n    \"_id\" : ObjectId(\"56967ab2b8e5e87534777c83\"),\n    \"hostname\" : \"lab7n2\",\n    \"services\" : [\n            {\n                    \"port\" : 8030,\n                    \"name\" : \"cloud-rest for batch\"\n            },\n            {\n                    \"port\" : 8031,\n                    \"name\" : \"cloud-rest for batch\"\n            },\n            {\n                    \"port\" : 8010,\n                    \"name\" : \"cloud-rest for bespoke\"\n            },\n            {\n                    \"port\" : 8011,\n                    \"name\" : \"cloud-rest for bespoke\"\n            }\n    ]\n}\n</code></pre>\n\n<p>What should I do to make parser treat this output as legitimate JSON?</p>\n"}, {"tags": ["perl", "warnings"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1452719481, "last_edit_date": 1452719481, "creation_date": 1452716279, "answer_id": 34776246, "question_id": 34773853, "link": "https://stackoverflow.com/questions/34773853/fatal-uninitialized-warnings-action-at-a-distance/34776246#34776246", "title": "FATAL uninitialized warnings - action at a distance", "body": "<p>It's not a bug. You are experiencing a side-effect of a feature that prevents needless autovification of hash elements passed to subs.</p>\n\n<hr>\n\n<p>Perl passes by reference. That means that changes to the arguments within the function will change the parameters on the outside.</p>\n\n<pre><code>$ perl -E'\n   sub f { $_[0] = \"xyz\"; }\n   f($x);\n   say $x;\n'\nxyz\n</code></pre>\n\n<p>This applies to hash elements too.</p>\n\n<pre><code>$ perl -E'\n   sub f { $_[0] = \"xyz\"; }\n   my %h;\n   f($h{x});\n   say $h{x};\n'\nxyz\n</code></pre>\n\n<p>The sub doesn't know anything about the hash, so the hash element must be created before the sub is entered for there to be something to which to assign.</p>\n\n<p>...or does it? It would be generally undesirable for <code>f($h{x})</code> to always create <code>$h{x}</code> if the element doesn't exist. As such, Perl postpones doing the hash lookup until <code>$_[0]</code> is accessed, at which point it's known whether the element needs to be vivified or not. This is why the warning is coming from within the sub.</p>\n\n<p>Specifically, Perl doesn't pass <code>$h{x}</code> to the sub when you call <code>f($h{x})</code>. Instead, it passes a magical scalar that contains both a reference to <code>%h</code> and the key value (<code>x</code>). This postpones doing the hash lookup until <code>$_[0]</code> is accessed, where it's known whether <code>$_[0]</code> is used somewhere assignable or not.</p>\n\n<ul>\n<li><p>If <code>$_[0]</code> is used in a manner in which it doesn't change (i.e. if it's used as an rvalue), the hash element is looked up without vivifying it.</p></li>\n<li><p>If <code>$_[0]</code> is used in a manner in which it can change (i.e. if it's used as an lvalue), the hash element is vivified and returned.</p></li>\n</ul>\n\n<p>&#x20;</p>\n\n<pre><code>$ perl -E'\n   sub f { my $x = $_[0]; }  # $_[0] returns undef without vivifying $h{x}\n   sub g { $_[0] = \"xyz\"; }  # $_[0] vivifies and returns $h{x}\n   my %h;\n   f($h{x});\n   say 0+keys(%h);\n   g($h{x});\n   say 0+keys(%h);\n'\n0\n1\n</code></pre>\n"}], "owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 34776246, "answer_count": 1, "score": 1, "last_activity_date": 1452719481, "creation_date": 1452708121, "question_id": 34773853, "link": "https://stackoverflow.com/questions/34773853/fatal-uninitialized-warnings-action-at-a-distance", "title": "FATAL uninitialized warnings - action at a distance", "body": "<p>I recently hit a bug when <code>use warnings FATAL ...</code> pragma interprets mute warnings from elsewhere as a reason to die. Consider the following sample: </p>\n\n<pre><code>use strict;\n# In one file: \n\nno warnings;\nmy %hash;\nFoo-&gt;bar( my $temp = $hash{ +undef } ); # this lives\nFoo-&gt;bar( $hash{ +undef } ); # this dies\n\n# Elsewhere\n\npackage Foo;\nuse warnings FATAL =&gt; qw(uninitialized);\n\nsub bar {\n    my ($self, $param) = @_; # prefectly safe\n    $param = \"(undef)\"\n        unless defined $param; # even safer\n    print \"Param: $param\\n\"; \n}\n</code></pre>\n\n<p>Now this of course can be fixed big time using the same policy regarding warnings throughout the project. Or this can be fixed every time it occurs by ruling out undefs in specific places (see <code># this lives</code> line). </p>\n\n<p>My question is whether there is an acceptable solution for package Foo which doesn't require changing anything that calls it, and whether this is really a bug in Perl itself.</p>\n"}, {"tags": ["perl", "email", "smtp"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452708607, "post_id": 34773780, "comment_id": 57292915, "body": "You&#39;ve already got the substitution, it seems. Probably just need <code>&#47;g</code>, but without seeing your input data, it&#39;s impossible to know for sure."}, {"owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452708921, "post_id": 34773780, "comment_id": 57293099, "body": "@MattJacob, initially {/g} was there with the same outcome."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452708976, "post_id": 34773780, "comment_id": 57293125, "body": "Like I said, you need to <a href=\"https://stackoverflow.com/posts/34773780/edit\">edit</a> your post and create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you expect to receive high-quality answers."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452713541, "post_id": 34773780, "comment_id": 57296050, "body": "I see you edited your post to include more of the surrounding code, but what you really need to include is <code>$ccList</code>. Just set it to something explicit for the sake of this post, since we don&#39;t know what&#39;s in <code>$sfAdminEmail</code> or <code>$salesCcList</code> either."}, {"owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452735546, "post_id": 34773780, "comment_id": 57305540, "body": "@MattJacob I have mentioned the values you asked for, please have a look."}], "answers": [{"comments": [{"owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "edited": false, "score": 0, "creation_date": 1452734741, "post_id": 34776482, "comment_id": 57305274, "body": "I think the \\ is causing the issue, because if I remove the <code>$smtp-&gt;datasend(&quot;Cc: $ccList\\r\\n&quot;);</code> from the code then it reaches to the inbox of <b>abc3853@gmail.com</b>. Even if I hardcode the <code>ccList</code> to <b>pqr3853@gmail.com</b> then also it works. Only problem is when I read <code>ccList</code> from DB then it adds the <code>\\ (backslash)</code> before <code>@</code> and the whole thing breaks."}, {"owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "edited": false, "score": 0, "creation_date": 1452738608, "post_id": 34776482, "comment_id": 57306398, "body": "There is no error code in log, the cc has simply been ignored. If you look at the logs provided above it passes the <code>From</code> &amp; <code>To</code> successfully with <b>250 2.1.5 Ok</b> But does not say anything about <code>Cc</code>"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "edited": false, "score": 0, "creation_date": 1452745271, "post_id": 34776482, "comment_id": 57308037, "body": "@paper.plane, Does a global substitution solve the problem?"}, {"owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "edited": false, "score": 0, "creation_date": 1452756894, "post_id": 34776482, "comment_id": 57311916, "body": "No, if you meant <code>$ccList =~ s&#47;\\\\&#47;&#47;g;</code>"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "edited": false, "score": 0, "creation_date": 1452762140, "post_id": 34776482, "comment_id": 57314605, "body": "@paper.plane, Before you do the substitution, can you post the output of <code>use Data::Dumper; print Dumper($ccList);</code>  A variable named List, does not sound like it contains a string.  If it is a string, can you also post the output of <code>printf(&quot;%vx \\n&quot;, $ccList);</code>  Also, please fix the problem with the <code>\\r\\n</code>.  Having multiple things that are wrong in your code makes it hard to nail down which one is causing the problem.  Even if the extra <code>\\r</code> chars everywhere do not cause a problem, it&#39;s just sloppy coding."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1452723378, "last_edit_date": 1452723378, "creation_date": 1452717060, "answer_id": 34776482, "question_id": 34773780, "link": "https://stackoverflow.com/questions/34773780/how-to-remove-backslash-from-a-string/34776482#34776482", "title": "How to remove \\ (backslash) from a string?", "body": "<p>If you look at a few lines in your log file:</p>\n\n<pre><code>MAIL FROM:&lt;xyz@icmsg.in&gt;#015\n&lt;abc@gmail.com&gt;#015\nDATA#015\n</code></pre>\n\n<p>the lines end with <code>#015</code>, which looks like <code>octal 015</code>, which is a <code>\\r</code>.  It looks to me like when you output <code>\\r\\n</code>, perl is doing automatic newline conversions, so the <code>\\n</code> is getting converted to <code>\\r\\n</code>, hence the result is <code>\\r\\r\\n</code>, i.e. there's an extra <code>\\r</code>, which is what is appearing in your log file.  That might be harmless until you get to these lines:</p>\n\n<pre><code>From: support@xyz3853.in#015\nTo: abc3853@gmail.com#015\nCc: pqr3853\\@gmail.com#015\n</code></pre>\n\n<p>Now the extra <code>\\r</code> character looks like it is part of the email address.  Would the server know that it is supposed to stop parsing an email address after <code>.in</code>? </p>\n\n<p>The example in the <a href=\"http://perldoc.perl.org/Net/SMTP.html\" rel=\"nofollow\">docs</a> uses a <code>\\n</code> to terminate lines in the header, and <code>\\n\\n</code> at the end of the headers.  And from the Net::Cmd <a href=\"http://perldoc.perl.org/Net/Cmd.html\" rel=\"nofollow\">docs</a>:</p>\n\n<pre><code>datasend ( DATA )\nSend data to the remote server, converting LF to CRLF.\n</code></pre>\n\n<p>That means the proper thing to do is to add the necessary number of <code>\\n</code> chars to the end of a line. <code>datasend()</code> handles converting a <code>\\n</code> character to <code>\\r\\n</code> in order to conform to the spec.</p>\n\n<p>Ack. I missed this:</p>\n\n<pre><code>Cc: pqr3853\\@gmail.com#015\n           ^\n           |\n</code></pre>\n\n<p>Is that what you think the problem is?  What's the error code?</p>\n"}], "owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 514, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1452734295, "creation_date": 1452707945, "last_edit_date": 1452734295, "question_id": 34773780, "link": "https://stackoverflow.com/questions/34773780/how-to-remove-backslash-from-a-string", "title": "How to remove \\ (backslash) from a string?", "body": "<p>I have written a Perl script which reads a list of email addresses from a database and and uses them in a <code>cc</code> field to send an email.</p>\n\n<pre><code>my $ccList = (($acctType eq 1) ? $sfAdminEmail : $salesCcList);\n$ccList =~ s/\\\\//;\n\n$smtp-&gt;cc($ccList);\n$smtp-&gt;data();\n$smtp-&gt;datasend(\"From: $supportEmail\\r\\n\");\n$smtp-&gt;datasend(\"To: $toAddress\\r\\n\");\n$smtp-&gt;datasend(\"Cc: $ccList\\r\\n\");\n$smtp-&gt;datasend(\"Subject: \" .$subject. \"\\r\\n\");\n$smtp-&gt;datasend(\"\\r\\n\");\n\n#Send the message.\n$smtp-&gt;datasend(\"$message\");\n$smtp-&gt;datasend(\"\\r\\n\");\n$smtp-&gt;dataend();\n\n...\n...\n</code></pre>\n\n<blockquote>\n  <p>For this run, <code>$acctType = 0</code> and <code>$salesCcList = 'pqr3853@gmail.com'</code>\n  But the message is not reaching the mailbox. Based on the logs, it seems that a backslash in the email address is causing the issue:</p>\n</blockquote>\n\n<pre><code>Jan 13 09:20:10 cm cron: Net::SMTP=GLOB(0x98dc480)&gt;&gt;&gt; MAIL FROM:&lt;support@xyz3853.in&gt;#015\nJan 13 09:20:10 cm cron: Net::SMTP=GLOB(0x98dc480)&lt;&lt;&lt; 250 2.1.0 Ok\nJan 13 09:20:10 cm cron: Net::SMTP=GLOB(0x98dc480)&gt;&gt;&gt; RCPT TO:&lt;abc3853@gmail.com&gt;#015\nJan 13 09:20:10 cm cron: Net::SMTP=GLOB(0x98dc480)&lt;&lt;&lt; 250 2.1.5 Ok\nJan 13 09:20:10 cm cron: Net::SMTP=GLOB(0x98dc480)&gt;&gt;&gt; DATA#015\nJan 13 09:20:10 cm cron: Net::SMTP=GLOB(0x98dc480)&lt;&lt;&lt; 354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;\nJan 13 09:20:10 cm cron: Net::SMTP=GLOB(0x98dc480)&gt;&gt;&gt; From: support@xyz3853.in#015\nJan 13 09:20:10 cm cron: Net::SMTP=GLOB(0x98dc480)&gt;&gt;&gt; To: abc3853@gmail.com#015\nJan 13 09:20:10 cm cron: Net::SMTP=GLOB(0x98dc480)&gt;&gt;&gt; Cc: pqr3853\\@gmail.com#015\n</code></pre>\n"}, {"tags": ["perl", "split"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452707372, "post_id": 34773316, "comment_id": 57292213, "body": "Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>. Since you are fairly new here, please take a <a href=\"https://stackoverflow.com/tour\">tour</a> and learn <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> good questions. As a general rule, most people will not be very inclined to attempt to help you unless you&#39;ve displayed some minimal effort in solving the problem on your own."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1452708226, "creation_date": 1452708226, "answer_id": 34773888, "question_id": 34773316, "link": "https://stackoverflow.com/questions/34773316/how-to-split-a-large-file-at-a-certain-point-into-smaller-ones/34773888#34773888", "title": "How to split a large file at a certain point into smaller ones?", "body": "<p>Just reopen the output handle every time you encounter the header. As a one-liner:</p>\n\n<pre><code>perl -pe'\n   if ($_ eq \"#Article:\\n\") {\n      open(STDOUT, \"&gt;\", sprintf(\"output%d.txt\", ++$count))\n         or die $!;\n   }\n'\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>perl -pe'...' input.txt     # Read from file(s) provided as arguments.\nperl -pe'...' &lt;input.txt    # Read from STDIN.\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5668916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56915d76e705acfee167aa686da094a0?s=128&d=identicon&r=PG&f=1", "display_name": "RamsesII", "link": "https://stackoverflow.com/users/5668916/ramsesii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452708226, "creation_date": 1452706534, "last_edit_date": 1452706875, "question_id": 34773316, "link": "https://stackoverflow.com/questions/34773316/how-to-split-a-large-file-at-a-certain-point-into-smaller-ones", "title": "How to split a large file at a certain point into smaller ones?", "body": "<p>I'm having difficulty writing code to split a large text file that goes like this:</p>\n\n<pre><code>#Article:\nABC\nDEF\n#Article:\nGHJ\nKDJD\n</code></pre>\n\n<p>I want to split the file in chunks starting with <code>#Article</code> and save each chunk in text files named <em>output1</em>, <em>output2</em>, and so on. </p>\n\n<p>So, for example:</p>\n\n<pre><code>#Article:\nABC\nDEF \n</code></pre>\n\n<p>would be saved in a text file named <em>output1.txt</em>.</p>\n"}, {"tags": ["perl", "merge", "hashmap", "perl-data-structures"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452706233, "post_id": 34773118, "comment_id": 57291488, "body": "This isn&#39;t really important, but <code>my %slice = map { $_ =&gt; $hash{$_} } qw&lt;foo bar baz&gt;;</code> is not a <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">hash slice</a>. You mean <code>@hash{ qw&lt;foo bar baz&gt; }</code>."}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452706811, "post_id": 34773118, "comment_id": 57291863, "body": "@ThisSuitIsBlackNot: You&#39;re correct--that is not exactly what is called a <i>hash slice</i>. I just didn&#39;t knew what the correct name is. What do you call that part of a hash that only contains a subset of keys?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1452706854, "post_id": 34773235, "comment_id": 57291893, "body": "<code>my %result; @result{@keys} = @join{@keys};</code> can be written <code>my  %result = %join{@keys};</code> in 5.20+."}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1452707933, "post_id": 34773235, "comment_id": 57292553, "body": "@Borodin: your code inserts <code>undef</code> values into <code>@result</code> for keys that are not contained in any input hash. I&#39;ve updated the question for <code>@keys</code> to contain such a key."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1452708842, "post_id": 34773235, "comment_id": 57293049, "body": "@DanielB&#246;hmer: That&#39;s what I said in my fourth bullet point. If that&#39;s <i>really</i> a problem then you have highly sensitive code \u2014 all that should be necessary is to use <code>defined</code> instead of <code>exists</code> \u2014 but the obvious way to exclude elements like that is to use a loop instead of a pair of slices. What do you need?"}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1452709170, "post_id": 34773235, "comment_id": 57293265, "body": "I was obviously skimming your answer too fast. I expect the other module to throw errors or misbehave if I pass keys with undisired <code>undef</code> values. I definitely need to exclude these keys."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467890441, "last_edit_date": 1467890441, "creation_date": 1452706316, "answer_id": 34773235, "question_id": 34773118, "link": "https://stackoverflow.com/questions/34773118/merge-two-or-more-hash-slices-i-e-only-selected-keys-from-the-hashes/34773235#34773235", "title": "Merge two or more hash slices, i.e. only selected keys from the hashes", "body": "<h2>Update</h2>\n\n<p>This is a response to your revised question. My best effort to write something clean just deletes any elements of the combined hash that aren't in <code>@keys</code>, using an intermediate <code>%wanted</code> hash to describe which hash keys appear in the array</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\n\n# Set up test data\n\nmy %conf = (\n     path  =&gt; '/usr/local/bin/',\n     size  =&gt; 42,\n     other =&gt; 'value', # isn't used\n);\n\nmy %args = (\n     path =&gt; '~/bin/', # overrides $conf{path}\n     foo  =&gt; 'bar',\n);\n\nmy @keys = qw/ path size foo bar /;  # 'bar' isn't contained in either hash!\n\n\n# Combine and select\n\nmy %wanted = map { $_ =&gt; 1 } @keys;\n\nmy %result = (%conf, %args);\ndelete @result{ grep { not $wanted{$_} } keys %result };\n\n\n# Display the result\n\nuse Data::Dump;\ndd \\%result;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{ foo =&gt; \"bar\", path =&gt; \"~/bin/\", size =&gt; 42 }\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h2>Original</h2>\n\n<p>This seems to fit the bill. I've copied the test data from your post</p>\n\n<ul>\n<li><p>The two hashes are combined into <code>%join</code>, with <code>%args</code> overriding <code>%conf</code> by putting it second in the list assignment</p></li>\n<li><p>Then the array <code>%result</code> is built by using slices to pull the required elements from <code>%join</code></p></li>\n<li><p>I've used <a href=\"http://metacpan.org/module/Data::Dump\" rel=\"nofollow\">Data::Dump</a> only to show the results of the preceding code</p></li>\n<li><p>Note that if there is a string in <code>@keys</code> that doesn't appear in <em>either</em> hash, then it will be included in <code>%results</code> with a value of <code>undef</code></p></li>\n<li><p><em>\u201cThe list of desired keys might be used as list or saved in an array.\u201d</em></p>\n\n<p>That's a very vague requirement. For this solution to work you need an array of keys, so simply store your list as an array</p></li>\n</ul>\n\n<p><br/></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\n\n# Set up test data\n\nmy %conf = (\n     path  =&gt; '/usr/local/bin/',\n     size  =&gt; 42,\n     other =&gt; 'value', # isn't used\n);\n\nmy %args = (\n     path =&gt; '~/bin/', # overrides $conf{path}\n     foo  =&gt; 'bar',\n);\n\nmy @keys = qw/ path size foo /;\n\n\n# Combine and select\n\nmy %join = (%conf, %args);\n\nmy %result;\n@result{@keys} = @join{@keys};\n\n\n# Display the result\n\nuse Data::Dump;\ndd \\%result;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{ foo =&gt; \"bar\", path =&gt; \"~/bin/\", size =&gt; 42 }\n</code></pre>\n"}], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1467890441, "creation_date": 1452705872, "last_edit_date": 1452707868, "question_id": 34773118, "link": "https://stackoverflow.com/questions/34773118/merge-two-or-more-hash-slices-i-e-only-selected-keys-from-the-hashes", "title": "Merge two or more hash slices, i.e. only selected keys from the hashes", "body": "<p>I am writing a piece of code that receives arguments <code>%args</code> and has a configuration <code>%conf</code>. I need to pass <em>certain values</em> from <em>both of these hashes</em> to another Perl module while others are relevant only for my own code.</p>\n\n<p><strong>How to merge two (or more) hashes slices</strong> or <strong>merge hashes while keeping only selected keys</strong> in an elegant way?</p>\n\n<p>Important points:</p>\n\n<ul>\n<li>The list of desired keys might be used as list or saved in an array.</li>\n<li>Values from <code>%args</code> shall override those from <code>%conf</code>.</li>\n<li>Keys not contained in <code>%args</code> nor <code>%conf</code> shall not be contained in <code>%result</code>.</li>\n</ul>\n\n<p>Example input:</p>\n\n<pre><code>my %conf = (\n     path  =&gt; '/usr/local/bin/',\n     size  =&gt; 42,\n     other =&gt; 'value', # isn't used\n);\nmy %args = (\n     path =&gt; '~/bin/', # overrides $conf{path}\n     foo  =&gt; 'bar',\n);\nmy @keys = qw&lt;path size foo bar&gt;;  # 'bar' isn't contained in either hash!\n</code></pre>\n\n<p>Expected result:</p>\n\n<pre><code>my %result = (\n    path =&gt; '~/bin/', # from $args{pat\u0127}\n    size =&gt; 42,\n    foo  =&gt; 'bar',\n);\n</code></pre>\n\n<p>For a simple merge this is enough:</p>\n\n<pre><code>my %result = ( %conf, %args );\n</code></pre>\n\n<p>A simple hash slice is also simple:</p>\n\n<pre><code>my %slice = map { $_ =&gt; $hash{$_} } qw&lt;foo bar baz&gt;;\n</code></pre>\n\n<p>Reducing to the existing keys already needs a temporary variable:</p>\n\n<pre><code>my %keys = map { $_ =&gt; 1 } qw&lt;foo bar baz&gt;;\ngrep { $keys{$_} } %hash;\n</code></pre>\n\n<p>But putting it alltogether becomes quite complex:</p>\n\n<pre><code>my @keys = qw&lt;foo bar baz&gt;;\nmy %keys = map { $_ =&gt; 1 } @keys;\nmy %result = (\n    map( { $_ =&gt; $conf{$_} } grep { $keys{$_} } keys %conf ),\n    map( { $_ =&gt; $args{$_} } grep { $keys{$_} } keys %args ),\n);\n</code></pre>\n\n<p>Is there some nicer way to code this?</p>\n"}, {"tags": ["json", "perl", "export-to-csv"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 2997319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/994233a3df3c8115f3df9526cde8ec18?s=128&d=identicon&r=PG&f=1", "display_name": "user2997319", "link": "https://stackoverflow.com/users/2997319/user2997319"}, "edited": false, "score": 0, "creation_date": 1452709052, "post_id": 34772326, "comment_id": 57293181, "body": "Fantastic! That gave me enough to figure out what I was looking for as a <code>recs-annotate</code> command. Here&#39;s what ended up doing the trick:   <code>recs-annotate -k !prefix! -MDigest::MD5=md5_hex &#39;{{prefix_hash}} = md5_hex(join(\\&quot;;\\&quot;, $r))&#39;</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 13, "user_id": 2997319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/994233a3df3c8115f3df9526cde8ec18?s=128&d=identicon&r=PG&f=1", "display_name": "user2997319", "link": "https://stackoverflow.com/users/2997319/user2997319"}, "edited": false, "score": 1, "creation_date": 1452709222, "post_id": 34772326, "comment_id": 57293301, "body": "@user2997319 Great, glad I could help. Please see: <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 13, "user_id": 2997319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/994233a3df3c8115f3df9526cde8ec18?s=128&d=identicon&r=PG&f=1", "display_name": "user2997319", "link": "https://stackoverflow.com/users/2997319/user2997319"}, "edited": false, "score": 0, "creation_date": 1452861692, "post_id": 34772326, "comment_id": 57364463, "body": "Your answer is right, but my modification of it wasn&#39;t. Sorting and dereferencing is important! Here&#39;s the <code>recs-annotate</code> command that worked: <code>recs-annotate -k !^prefix! -MDigest::MD5=md5_hex &#39;{{prefix_hash}} = md5_hex(join(&quot;;&quot;, sort @{$r-&gt;get_group_values(&quot;!^prefix!&quot;, 1)}))&#39;</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 13, "user_id": 2997319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/994233a3df3c8115f3df9526cde8ec18?s=128&d=identicon&r=PG&f=1", "display_name": "user2997319", "link": "https://stackoverflow.com/users/2997319/user2997319"}, "edited": false, "score": 0, "creation_date": 1452871760, "post_id": 34772326, "comment_id": 57370856, "body": "Sorting is important to ensure that we&#39;re always hashing the same thing, since JSON objects are inherently unordered."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1452704592, "last_edit_date": 1452704592, "creation_date": 1452703587, "answer_id": 34772326, "question_id": 34771942, "link": "https://stackoverflow.com/questions/34771942/perl-apprecordstream-to-add-a-field-to-a-record-that-is-a-unique-hash-value/34772326#34772326", "title": "Perl (App::RecordStream) to add a field to a record that is a unique hash value (md5 or similar) for a subset of the other fields", "body": "<p>Ignoring the part about App::RecordStream for a second, I've tried to distill the crux of your problem, and if I've understood it correctly, the code below will do what you ask:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Digest::MD5 qw(md5_hex);\nuse JSON::XS;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n\n    my $obj = decode_json($_);\n    my $key = join(';', map { $obj-&gt;{$_} } grep { /^prefix/ } sort(keys(%$obj)));\n    $obj-&gt;{prefix_hash} = md5_hex($key);\n\n    print encode_json($obj), \"\\n\";\n}\n\n__DATA__\n{\"key1\" : \"value1\", \"key2\" : \"value2\", \"prefix_key3\" : \"value3\", \"prefix_key4\" : \"value4\"}\n{\"key1\" : \"value5\", \"key2\" : \"value6\", \"prefix_key3\" : \"value7\", \"prefix_key4\" : \"value8\"}\n</code></pre>\n\n<p>Output (pretty-printed for line wrapping):</p>\n\n<pre><code>{\n    \"key2\": \"value2\",\n    \"key1\": \"value1\",\n    \"prefix_key4\": \"value4\",\n    \"prefix_hash\": \"55f506f7e49469e44f807f8b4f55a5ff\",\n    \"prefix_key3\": \"value3\"\n}\n{\n    \"key2\": \"value6\",\n    \"key1\": \"value5\",\n    \"prefix_key4\": \"value8\",\n    \"prefix_hash\": \"fdb804ef84534068168f146bcbebf30e\",\n    \"prefix_key3\": \"value7\"\n}\n</code></pre>\n\n<p>If you want to operate on <code>STDIN</code> or a list of files, change <code>while (&lt;DATA&gt;)</code> to <code>while (&lt;&gt;)</code> and remove the <code>__DATA__</code> block at the bottom. </p>\n"}], "owner": {"reputation": 13, "user_id": 2997319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/994233a3df3c8115f3df9526cde8ec18?s=128&d=identicon&r=PG&f=1", "display_name": "user2997319", "link": "https://stackoverflow.com/users/2997319/user2997319"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 34772326, "answer_count": 1, "score": 1, "last_activity_date": 1452704592, "creation_date": 1452702550, "question_id": 34771942, "link": "https://stackoverflow.com/questions/34771942/perl-apprecordstream-to-add-a-field-to-a-record-that-is-a-unique-hash-value", "title": "Perl (App::RecordStream) to add a field to a record that is a unique hash value (md5 or similar) for a subset of the other fields", "body": "<p>I'm writing a *nix processing pipeline that starts with complex nested JSON and ends up with CSV. The last step in the pipeline is this:</p>\n\n<pre><code> ... | recs-tocsv &gt; my_csv_file.csv\n</code></pre>\n\n<p>Right now, the <code>...</code> above is flat newline delimited JSON that looks like this (all values are strings, not all keys are in all records, but every record has at least 1 <code>prefix_</code> key):</p>\n\n<pre><code>{\"key1\" : \"value1\", \"key2\" : \"value2\", \"prefix_key3\" : \"value3\", \"prefix_key4\" : \"value4\"}\n{\"key1\" : \"value5\", \"key2\" : \"value6\", \"prefix_key3\" : \"value7\", \"prefix_key4\" : \"value8\"}\n</code></pre>\n\n<p>I would like to add a new field to each record that is a unique hash value (md5 or similar) of the concatenated values of all keys that start with <code>prefix</code>. Output should look like this (still in compact form, but formatted with spaces here for clarity):</p>\n\n<pre><code>{\"key1\" : \"value1\", \n \"key2\" : \"value2\", \n \"prefix_hash\" : \"0b129fd4ae0587f4e606c6a78ef977a1\", \n \"prefix_key3\" : \"value3\", \n \"prefix_key4\" : \"value4\"}\n{\"key1\" : \"value5\", \n \"key2\" : \"value6\", \n \"prefix_hash\" : \"cf59a16edf48bcb0d0566ba3dc19843a\",\n \"prefix_key3\" : \"value7\", \n \"prefix_key4\" : \"value8\"}\n</code></pre>\n\n<p>Where <code>prefix_hash</code> is the md5sum (or equivalent) of \"value3;value4\", \"value7;value8\" etc. </p>\n\n<p>I'm looking for an App::RecordStream command syntax that I can use in a <code>recs-xform</code> or <code>recs-eval</code> call. (A Perl snippet that takes <code>STDIN</code> and produces the right output on <code>STDOUT</code> would be fine too). I'm having difficulty working with multiple keys and chaining together multiple operations (get the values of all keys with <code>prefix</code>, join into one string, calculate md5sum, set md5sum as value for a new key). Anything that will work relatively quickly on the (Linux) command line that produces the right output would be fine. </p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452702194, "post_id": 34771659, "comment_id": 57288505, "body": "This problem becomes pretty trivial if you use an XML parser."}, {"owner": {"reputation": 361, "user_id": 5065479, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b7827757aad3d66856f0333ffb84f37a?s=128&d=identicon&r=PG&f=1", "display_name": "nietsnegttiw", "link": "https://stackoverflow.com/users/5065479/nietsnegttiw"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452702310, "post_id": 34771659, "comment_id": 57288596, "body": "@MattJacob I&#39;m not too familiar with string replacements in perl let alone XML parsers in perl tbqh.  I want to try to get down the basic pattern matching constructs if possible."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452702851, "post_id": 34771659, "comment_id": 57289020, "body": "Perhaps these <a href=\"http://stackoverflow.com/search?q=%5Bperl%5D+libxml+or+twig\">search results</a> will be helpful for you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1452702979, "post_id": 34771659, "comment_id": 57289128, "body": "<a href=\"http://stackoverflow.com/a/1732454/2566198\">On parsing XML with regex</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1452703418, "post_id": 34771659, "comment_id": 57289489, "body": "Re &quot; I&#39;m not too familiar with string replacements in perl let alone XML parsers in perl tbqh.&quot;, If you don&#39;t know either, all the more reason to use the right approach!!"}, {"owner": {"reputation": 168160, "user_id": 19679, "user_type": "moderator", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/52a2ffb44b1c11ab9001cb67e0a0021c?s=128&d=identicon&r=PG", "display_name": "Brad Larson", "link": "https://stackoverflow.com/users/19679/brad-larson"}, "edited": false, "score": 0, "creation_date": 1452707679, "post_id": 34771659, "comment_id": 57292403, "body": "As a warning, the insults directed at other users must stop right now. I have removed all of the offending comments, so let&#39;s keep this polite and on topic."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1452703390, "post_id": 34772194, "comment_id": 57289466, "body": "I&#39;m always ambivalent when someone posts an answer like this. Because on one hand, it&#39;s technically correct. But on the other, it&#39;s a bodge, and as such not as useful to future readers as an example of how to do it right."}, {"owner": {"reputation": 6733, "user_id": 52116, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c2fdf17881a0a3d248f9d431f98e1bca?s=128&d=identicon&r=PG", "display_name": "Adam Taylor", "link": "https://stackoverflow.com/users/52116/adam-taylor"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452706935, "post_id": 34772194, "comment_id": 57291937, "body": "I get what you (and everyone else) are saying but it&#39;s undeniable that perl/sed/whatever are useful for quick hacks like this. I will add a note to my answer because it&#39;s a fair point about future people finding this question."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452757615, "post_id": 34772194, "comment_id": 57312265, "body": "Agreed. And I would by lying if I said I had never done it. But at the same time, it does lead to brittle solutions - one day it might just not cope with semantically identical XML and just break for no apparent reason.  I have been burned by similar things that have made their way into production."}], "tags": [], "owner": {"reputation": 6733, "user_id": 52116, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c2fdf17881a0a3d248f9d431f98e1bca?s=128&d=identicon&r=PG", "display_name": "Adam Taylor", "link": "https://stackoverflow.com/users/52116/adam-taylor"}, "is_accepted": false, "score": 0, "last_activity_date": 1452707085, "last_edit_date": 1452707085, "creation_date": 1452703193, "answer_id": 34772194, "question_id": 34771659, "link": "https://stackoverflow.com/questions/34771659/perl-replace-strings-in-xml-file-if-unequal/34772194#34772194", "title": "Perl replace strings in XML file if unequal", "body": "<p><strong>Note</strong>: what follows definitely constitutes a hacky one-liner. If you want to do this properly, follow the advice and other answer and use a proper XML parser.</p>\n\n<p>While it would be cleaner to use an XML parser, if your input is literally as you have it, you might be able to get away with using regular expression matching groups.</p>\n\n<p>From the documentation <a href=\"http://perldoc.perl.org/perlrequick.html#Extracting-matches\" rel=\"nofollow\">http://perldoc.perl.org/perlrequick.html#Extracting-matches</a></p>\n\n<blockquote>\n  <p>The grouping metacharacters () also allow the extraction of the parts of a string that matched. For each grouping, the part that matched inside goes into the special variables $1 , $2 , etc.</p>\n</blockquote>\n\n<p>It's worth reading the whole page. Then you can try:</p>\n\n<pre><code>perl -pi -e 's/&lt;values val1=\"([0-9]+)\" val2=\"[0-9]+\"&gt;&lt;\\/values&gt;/&lt;values val1=\"$1\" val2=\"$1\"&gt;&lt;\\/values&gt;/g;'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452705403, "post_id": 34772335, "comment_id": 57290952, "body": "Hmm. Code-only, one-line non-portable solution. What&#39;s not to like?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1452705764, "post_id": 34772335, "comment_id": 57291183, "body": "@Borodin, What are you talking about? It is documented. The OP wants a one-liner. It is portable. At least we agree it is a solution. /// I added some extra documentation for people like you."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452707575, "post_id": 34772335, "comment_id": 57292329, "body": "@ikegami It might be a stretch to say the OP <i>wanted</i> a one-liner. But since he presented that as his attempt, I don&#39;t think there&#39;s anything wrong with answering in kind."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1452706025, "last_edit_date": 1452706025, "creation_date": 1452703601, "answer_id": 34772335, "question_id": 34771659, "link": "https://stackoverflow.com/questions/34771659/perl-replace-strings-in-xml-file-if-unequal/34772335#34772335", "title": "Perl replace strings in XML file if unequal", "body": "<pre><code>perl -MXML::LibXML -e'\n   my $doc = XML::LibXML-&gt;new()-&gt;parse_file($ARGV[0]);\n   for my $node ($doc-&gt;findnodes(\"//@values\")) {\n      $node-&gt;setAttribute(\"val2\", $node-&gt;getAttribute(\"val1\"));\n   }\n   print($doc-&gt;toString());\n' infile.xml &gt;outfile.xml\n</code></pre>\n\n<ul>\n<li><code>$parser-&gt;parse_file</code> parses the file.</li>\n<li><code>$doc-&gt;findnodes</code> finds nodes in the document.</li>\n<li><code>$node-&gt;getAttribute</code> gets a node's attribute</li>\n<li><code>$node-&gt;setAttribute</code> sets a node's attribute</li>\n</ul>\n"}], "owner": {"reputation": 361, "user_id": 5065479, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b7827757aad3d66856f0333ffb84f37a?s=128&d=identicon&r=PG&f=1", "display_name": "nietsnegttiw", "link": "https://stackoverflow.com/users/5065479/nietsnegttiw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 34772335, "answer_count": 2, "score": -4, "last_activity_date": 1452707085, "creation_date": 1452701780, "last_edit_date": 1452702320, "question_id": 34771659, "link": "https://stackoverflow.com/questions/34771659/perl-replace-strings-in-xml-file-if-unequal", "title": "Perl replace strings in XML file if unequal", "body": "<p>I have an XML file with values like the following:</p>\n\n<pre><code>&lt;values val1=\"4124\" val2=\"21341\"&gt;&lt;/values&gt;\n&lt;values val1=\"1234\" val2=\"231\"&gt;&lt;/values&gt;\n&lt;values val1=\"814\" val2=\"8943\"&gt;&lt;/values&gt;\n</code></pre>\n\n<p>I would like to make <code>val2</code> assume the value of <code>val1</code> in all cases where they're unequal.</p>\n\n<p>So the above would become:</p>\n\n<pre><code>&lt;values val1=\"4124\" val2=\"4124\"&gt;&lt;/values&gt;\n&lt;values val1=\"1234\" val2=\"1234\"&gt;&lt;/values&gt;\n&lt;values val1=\"814\" val2=\"814\"&gt;&lt;/values&gt;\n</code></pre>\n\n<p>Here is what I have:</p>\n\n<pre><code>perl -pi -e 's,val2=\\\"[0-9]*\\,val1=\\\"[0-9]*\\,g;' *\n</code></pre>\n\n<p>I am mainly having trouble understanding how to substitute the value of val1 to val2.  My above code will do this:</p>\n\n<pre><code>&lt;values val1=\"4124\" val1=\"4124\"&gt;&lt;/values&gt;\n</code></pre>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1452699890, "post_id": 34770787, "comment_id": 57286718, "body": "If it&#39;s a 2-dimensional array, then one index number cannot identify the max value. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1452700739, "last_edit_date": 1452700739, "creation_date": 1452699971, "answer_id": 34770980, "question_id": 34770787, "link": "https://stackoverflow.com/questions/34770787/to-find-the-index-value-of-an-two-dimensional-array-in-perl/34770980#34770980", "title": "To find the Index value of an two dimensional array in Perl", "body": "<p>For the maximum of one row (as you appear to be doing):</p>\n\n<pre><code>my $row = $quality_list[0];\nmy $max = max(@$row);\nmy @max_indexes = grep { $row-&gt;[$_] == $max } 0..$#$row;\n</code></pre>\n\n<p>For the maximum of the entire 2d array (as you appear to have requested):</p>\n\n<pre><code>my $max = max map { @$_ } @quality_list;\nmy @max_indexes;\nfor my $y (0..$#quality_list) {\n   my $row = $quality_list[$y];\n   push @max_indexes,\n      map { [ $y, $_ ] }\n         grep { $row-&gt;[$_] == $max } 0..$#$row;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 5606904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f291f1187419a1923db0c97f4c404899?s=128&d=identicon&r=PG&f=1", "display_name": "obscurite", "link": "https://stackoverflow.com/users/5606904/obscurite"}, "is_accepted": false, "score": 0, "last_activity_date": 1452718953, "last_edit_date": 1452718953, "creation_date": 1452703170, "answer_id": 34772179, "question_id": 34770787, "link": "https://stackoverflow.com/questions/34770787/to-find-the-index-value-of-an-two-dimensional-array-in-perl/34772179#34772179", "title": "To find the Index value of an two dimensional array in Perl", "body": "<p>If you know your max value will show up only once (a less general case of ikegami's solution which uses List::Util) you can get the index and the max value in one pass, thus doing a lot less iteration:</p>\n\n<pre><code>my $idx = 0;\nmy @max = (-1, undef);\nmap { @max = $_ &gt; $max[0] ? ($_, $idx++) : @max }\n    map { @$_ } @quality_list;\n\nprint \"max value $max[0] at index [\" .\n      int($max[1]/scalar(@{$quality_list[0]})) .  \",\" .\n      $max[1] % scalar(@{$quality_list[0]}) . \"]\\n\";\n</code></pre>\n\n<p>Edit: switched from pre to post increment to fix off-by-one. </p>\n\n<p>Also, here is a version that avoids the array copying and works with all negative and positive values. Worth mentioning that your max can show up more than once in contrast to what I said above, though technically only the first instance of it will be reported.</p>\n\n<pre><code>my $idx = 0;\nmy @max = $quality_list[0][0];\nmap { @max = ($_, ++$idx) if $_ &gt; $max[0] }\n    map { @$_ } @quality_list;\n\nprint \"max value $max[0] at index [\" .\n      int($max[1]/scalar(@{$quality_list[0]})) .  \",\" .\n      $max[1] % scalar(@{$quality_list[0]}) . \"]\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 1, "last_activity_date": 1452704977, "creation_date": 1452704977, "answer_id": 34772831, "question_id": 34770787, "link": "https://stackoverflow.com/questions/34770787/to-find-the-index-value-of-an-two-dimensional-array-in-perl/34772831#34772831", "title": "To find the Index value of an two dimensional array in Perl", "body": "<p>For this kind of optimsiation problem you likely want to use <code>max_by</code> from <code>List::UtilsBy</code>:</p>\n\n<pre><code>use List::UtilsBy qw( max_by );\n\nmy @values = @{ $quality_list[0] };\nmy $maximal_index = max_by { $values[$_] } 0 .. $#values;\n</code></pre>\n\n<p>This returns the value from the input list (the list <code>0 .. $#values</code>; i.e. a list of array indices) that gives the largest result of the <code>max_by</code> control block (i.e. has the largest value in the <code>@values</code> array).</p>\n"}], "owner": {"reputation": 447, "user_id": 4534554, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47b20b231f30b4d198892a55000ada6d?s=128&d=identicon&r=PG", "display_name": "Cagri", "link": "https://stackoverflow.com/users/4534554/cagri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1598206674, "creation_date": 1452699504, "last_edit_date": 1598206674, "question_id": 34770787, "link": "https://stackoverflow.com/questions/34770787/to-find-the-index-value-of-an-two-dimensional-array-in-perl", "title": "To find the Index value of an two dimensional array in Perl", "body": "<p>There are some numbers in an two-dimensional array, <code>@quality_list</code>.\nI would like to extract the index number, <code>index_max</code>, of the maximum number.</p>\n<pre><code>my $max = max( @{$quality_list[0]} );\nmy $index_max = qw($max)\n</code></pre>\n"}, {"tags": ["python", "r", "bash", "perl", "awk"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1452698873, "post_id": 34770523, "comment_id": 57285892, "body": "This question really needs some example input/output to give a meaningful answer."}, {"owner": {"reputation": 34690, "user_id": 919872, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4dbc53382955c1a7ee0a92c0d3e94066?s=128&d=identicon&r=PG", "display_name": "Zelazny7", "link": "https://stackoverflow.com/users/919872/zelazny7"}, "edited": false, "score": 0, "creation_date": 1452699104, "post_id": 34770523, "comment_id": 57286061, "body": "I think that&#39;s because the answer is <code>50! &#47; (25! * 25!)</code> which is a very, very large number"}, {"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1452700707, "post_id": 34770523, "comment_id": 57287383, "body": "Tried like this in R <code>do.call(paste,expand.grid(rep(list(1:5),3)))</code> But this try to create a vector of 58GB with 1:50 and 25 repeats, which is far away from my computer memory, so I assume it&#39;s a bad idea :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452700902, "post_id": 34770523, "comment_id": 57287525, "body": "What are you actually trying to accomplish? Every permutation of 25 out of 50 elements will always be huge. 50 factorial is 3 x 10 ^ 64, which is rather a lot of zeros. Even if you are &#39;just&#39; taking 25 of them, that&#39;s still more than 15,511,210,043,330,985,984,000,000 which is 25!"}, {"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1452701193, "post_id": 34770523, "comment_id": 57287742, "body": "If I computed it properly it&#39;s 1.264106e+14 possibilities, I.e: 126 410 606 437 752"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1452701013, "last_edit_date": 1452701013, "creation_date": 1452699310, "answer_id": 34770704, "question_id": 34770523, "link": "https://stackoverflow.com/questions/34770523/permutation-of-files/34770704#34770704", "title": "Permutation of files", "body": "<p>From the <a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-permute-N-elements-of-a-list%3F\" rel=\"nofollow\">perl faq</a>: </p>\n\n<pre><code>use Algorithm::Permute;\nmy @array = 'a'..'d';\nmy $p_iterator = Algorithm::Permute-&gt;new ( \\@array );\nwhile (my @perm = $p_iterator-&gt;next) {\n   print \"next permutation: (@perm)\\n\";\n}\n</code></pre>\n\n<p>This generates every permutation of a list, although with 50 elements, that'll be quite a few. </p>\n\n<p>I'm not sure if there's a handy way to select - and filter - sub lists. My initial thought would be to maintain a 'seen' list. I would start thinking in terms of maintaining a 'seen' list in a hash, and skipping duplicates, but you have to have generated the full permutation list to do that. </p>\n\n<p>Alternatively there's <a href=\"http://search.cpan.org/~allenday/Math-Combinatorics-0.09/lib/Math/Combinatorics.pm#combine()\" rel=\"nofollow\">combine</a></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Math::Combinatorics;\n\nmy @array      = 1 .. 9;\nmy $count = 0;\nforeach my $comb ( combine (3, @array )) {\n   print @$comb,\"\\n\";\n   print $count++,\"\\n\";\n}\n</code></pre>\n\n<p>3 way combinations is: 19,000 odd. \n4 is: 230300\n5 is: </p>\n\n<p>No idea what 25 is - I wasn't prepared to run it!</p>\n\n<p>But note - it's a big operation, so will take a while regardless of what you do.        </p>\n"}, {"tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": false, "score": 1, "last_activity_date": 1452700102, "creation_date": 1452700102, "answer_id": 34771034, "question_id": 34770523, "link": "https://stackoverflow.com/questions/34770523/permutation-of-files/34771034#34771034", "title": "Permutation of files", "body": "<p>Using Python you could use the <code>combinations</code> function as follows:</p>\n\n<pre><code>from itertools import combinations\nimport os\n\nfor combo in combinations(os.listdir('.'), 25):\n    print combo\n</code></pre>\n"}], "owner": {"reputation": 743, "user_id": 2979409, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/cfce80a2cd837d66b51411bdf52e7d89?s=128&d=identicon&r=PG&f=1", "display_name": "user2979409", "link": "https://stackoverflow.com/users/2979409/user2979409"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1452701013, "creation_date": 1452698824, "last_edit_date": 1452698953, "question_id": 34770523, "link": "https://stackoverflow.com/questions/34770523/permutation-of-files", "title": "Permutation of files", "body": "<p>I have 50 files in a directory, and I want to perform a permutation and get all possible combinations in groups of 25. If you want to see a small example, using groups od 3, it would be like this:</p>\n\n<pre><code>file1 file2 file3\nfile1 file2 file4\nfile1 file2 file5\n...\nfile50 file48 file49\n</code></pre>\n\n<p>For that, I am using an R approach:</p>\n\n<pre><code>library(gtools)\nargs &lt;- commandArgs(TRUE)\n\nfiles &lt;- list.files(args[1])\npermutations(length(files), round(length(files)/2), files, repeats=FALSE)\n</code></pre>\n\n<p>This approach is extremely slow. Do you know some faster alternatives using <code>awk</code>, <code>bash</code>, <code>python</code>, <code>perl</code>? </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1452765744, "post_id": 34768312, "comment_id": 57316996, "body": "Thank you for your help!"}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "reply_to_user": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1452836662, "post_id": 34768312, "comment_id": 57352708, "body": "No problem! In your new question <a href=\"http://stackoverflow.com/questions/34799244/perl-sort-numbers-in-column-in-order\" title=\"perl sort numbers in column in order\">stackoverflow.com/questions/34799244/&hellip;</a> it looks like you used this answer. It would make me happy if you accepted the answer you actually used. ;-)"}, {"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1452850843, "post_id": 34768312, "comment_id": 57358530, "body": "I accepted :) At first, I don&#39;t know for what is this thick :) Sorry!"}], "tags": [], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "is_accepted": true, "score": 0, "last_activity_date": 1452693054, "last_edit_date": 1452693054, "creation_date": 1452692693, "answer_id": 34768312, "question_id": 34767547, "link": "https://stackoverflow.com/questions/34767547/perl-exclusion-of-some-line-from-file/34768312#34768312", "title": "perl - exclusion of some line from file", "body": "<p>Instead of trying to extract the values based on specific locations in the string, I would use the <code>split</code> function to split each row into an array.</p>\n\n<p>replace this:</p>\n\n<pre><code>my $x=substr $line,30,8;\nmy $y=substr $line,38,8;\nmy $z=substr $line,46,8;\nmy $en=substr $line,54,8;\nmy $w_id=substr $line,23,3;\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>my ($w_id, $x, $y, $z, $en) = (split(/\\s+/, $line))[1, 5, 6, 7, 8];\nnext if $en &gt;= 0;\n</code></pre>\n\n<p>That should be enough to get the output you want.</p>\n\n<p>What is it doing?</p>\n\n<p><code>my @array = split(/\\s+/, $line)</code> tells perl to split the string into a list. The <code>/\\s+/</code> is a regular expression that tells the <code>split</code> function to split around one or more whitespace characters.</p>\n\n<p><code>@array</code> will contain 9 entires, one for each column of your data. Since you are not using all the columns, I used an array slice to extract only the entries you are interested in. For example <code>my ($zero, $one, $three) = (@array)[0, 1, 3]</code> extracts the elements at indexes 0, 1, and 3 of @array and puts them into variables $zero, $one, and $three respectively.</p>\n\n<p>The <code>next if $en &gt; 0;</code> line tells the script to skip the rest of the current iteration of the loop if the value of <code>$en</code> is positive.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1452765757, "post_id": 34768431, "comment_id": 57317006, "body": "Thank you for your help!"}, {"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1452787563, "post_id": 34768431, "comment_id": 57331796, "body": "How could I sort the numbers in $en column? Should I create a temporary array by map or without?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1452791158, "post_id": 34768431, "comment_id": 57334317, "body": "You could, but that&#39;s a slightly different question - this solution as above just works line by line in the file. To sort, you&#39;d need to read the whole thing into an array (of arrays). Doable, but I would suggest worth another question rather than trying to explain here."}, {"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1452800783, "post_id": 34768431, "comment_id": 57339831, "body": "Sobrique! Thank you again, I&#39;ll ask for a moment! Enjoy your day!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1452692997, "creation_date": 1452692997, "answer_id": 34768431, "question_id": 34767547, "link": "https://stackoverflow.com/questions/34767547/perl-exclusion-of-some-line-from-file/34768431#34768431", "title": "perl - exclusion of some line from file", "body": "<p>OK, for starters - don't use <code>substr</code> for this, that's nasty. Try <code>split</code>. </p>\n\n<p>And then you can just 'test' the field value. This is a cut down example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @nr_table;\nmy @id_table;\n\nwhile ( &lt;DATA&gt; ) {\n\n    my @fields = split; \n    my ( $pdb_id, $w_id )  = @fields[0,1];\n\n    if ( $fields[8] &lt; 0 ) {\n       print  \"moja woda t=   \",scalar @id_table, \"\\n\";\n       printf( \"%5d\\n\",1);\n       printf( \"    1SOL     OW    1%8.3f%8.3f%8.3f%8.3f\\n\", map { $_ / 10.0 } @fields[5..7], $fields[8]);\n       print  \" 20.0 20.0 20.0\\n\";\n    }\n    push ( @id_table, $pdb_id ); \n    push ( @nr_table, $w_id ); \n}\n\n__DATA__\nATOM    367  OH2 HOH   367      -2.010   7.370  -7.369   -6.52\nATOM    491  OH2 HOH   491       0.990   8.370  -8.369   -2.24\nATOM    652  OH2 HOH   652       5.490  -6.130   2.631    2.98\nATOM    689  OH2 HOH   689       6.490 -15.130   8.631   -4.23\nATOM    738  OH2 HOH   738       7.490  19.870  -8.369    3.38\nATOM    793  OH2 HOH   793       8.990  -2.630 -22.869   -2.29\nATOM    857  OH2 HOH   857      10.490  13.370  -5.869   -1.31\n</code></pre>\n\n<p>Note - by default <code>split</code> acts on <code>$_</code> - the current line, and splits on 'any whitespace'. </p>\n\n<p>You can move the <code>push</code> statements inside the condition if desired. </p>\n"}], "owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 34768312, "answer_count": 2, "score": 1, "last_activity_date": 1452693054, "creation_date": 1452690407, "last_edit_date": 1452692313, "question_id": 34767547, "link": "https://stackoverflow.com/questions/34767547/perl-exclusion-of-some-line-from-file", "title": "perl - exclusion of some line from file", "body": "<p>I wrote a short script to convert my data (from input file to output). I stopped, when I should extract only these lines with negatove energy (the last value in each lines).</p>\n\n<p>My input data is that:</p>\n\n<pre><code>ATOM    367  OH2 HOH   367      -2.010   7.370  -7.369   -6.52\nATOM    491  OH2 HOH   491       0.990   8.370  -8.369   -2.24\nATOM    652  OH2 HOH   652       5.490  -6.130   2.631    2.98\nATOM    689  OH2 HOH   689       6.490 -15.130   8.631   -4.23\nATOM    738  OH2 HOH   738       7.490  19.870  -8.369    3.38\nATOM    793  OH2 HOH   793       8.990  -2.630 -22.869   -2.29\nATOM    857  OH2 HOH   857      10.490  13.370  -5.869   -1.31\n.\n.\n.\n</code></pre>\n\n<p>My output data looks like:</p>\n\n<pre><code>    moja woda t=   0 \n        1\n        1SOL     OW    1  -0.344   0.437   0.633  -9.290\n     20.0 20.0 20.0\n    moja woda t=   1 \n        1\n        1SOL     OW    1  -0.194   0.537  -0.767  -2.990\n     20.0 20.0 20.0\n    moja woda t=   2 \n        1\n        1SOL     OW    1  -0.044   0.287   0.333   4.960\n     20.0 20.0 20.0\n    moja woda t=   3 \n        1\n        1SOL     OW    1   0.106   0.837  -0.817  -1.300\n     20.0 20.0 20.0\n    moja woda t=   4 \n    .\n    .\n    .\n</code></pre>\n\n<p>My script is: </p>\n\n<pre><code>!/usr/bin/perl -w\n\nuse strict;\n\nmy $list=$ARGV[0];\n\n\nopen(LST,$list) or die;\n\nmy $time=0;\n\nmy @id_table;\nmy @nr_table;\n\nopen(GRO,\"&gt;waters.gro\") or die;\n\nwhile(&lt;LST&gt;) {\n  my $pdb_file=$_;\n  chomp $pdb_file;\n  my $pdb_id=substr $pdb_file,0,4;\n  open(PDB,$pdb_file) or die;\n  while(&lt;PDB&gt;) {\n      my $line=$_;\n      my $x=substr $line,30,8;\n      my $y=substr $line,38,8;\n      my $z=substr $line,46,8;\n      my $en=substr $line,54,8;\n      my $w_id=substr $line,23,3;\n      print GRO \"moja woda t=   $time \\n\";\n      printf(GRO \"%5d\\n\",1);\n      printf(GRO \"    1SOL     OW    1%8.3f%8.3f%8.3f%8.3f\\n\",$x/10.0,$y/10.0,$z/10.0,$en);\n      print GRO \" 20.0 20.0 20.0\\n\";\n      $id_table[$time]=$pdb_id;\n      $nr_table[$time]=$w_id;\n      $time++;\n  }\n  close PDB;\n}\nclose GRO;\n</code></pre>\n\n<p>I'd like to convert only these lines where the energy value is less than 0 (the last column). How exactly I should do it?</p>\n\n<p>Thank you in advance, \nM.</p>\n"}, {"tags": ["perl", "ipv6"], "answers": [{"tags": [], "owner": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "is_accepted": false, "score": 1, "last_activity_date": 1452696266, "creation_date": 1452696266, "answer_id": 34769552, "question_id": 34767386, "link": "https://stackoverflow.com/questions/34767386/mac-address-to-ipv6-link-local-address-online-conversion-in-perl/34769552#34769552", "title": "MAC address to IPv6 link-local address online conversion in perl", "body": "<p>To calculate the modified EUI-64, refer to <a href=\"https://tools.ietf.org/html/rfc4291#appendix-A\" rel=\"nofollow\">RFC 4291, IP Version 6 Addressing Architecture, Appendix A</a> for the algorithm.</p>\n\n<p>Basically, you take the 48-bit MAC address, split it in half, insert <code>FFFE</code> to extend it to 64 bits, and flip the U/L bit.</p>\n"}], "owner": {"reputation": 11, "user_id": 4331644, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e5ebb9836c4fe3f4cf8a56804667302?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan M", "link": "https://stackoverflow.com/users/4331644/karthikeyan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1452696266, "creation_date": 1452689859, "question_id": 34767386, "link": "https://stackoverflow.com/questions/34767386/mac-address-to-ipv6-link-local-address-online-conversion-in-perl", "title": "MAC address to IPv6 link-local address online conversion in perl", "body": "<p>I have the MAC address of the machine. how to convert it to IPv6 link-local address(EUI-64 format) in perl?</p>\n"}, {"tags": ["excel", "perl", "csv", "export-to-csv"], "answers": [{"tags": [], "owner": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "is_accepted": true, "score": 3, "last_activity_date": 1452687343, "creation_date": 1452687343, "answer_id": 34766483, "question_id": 34765913, "link": "https://stackoverflow.com/questions/34765913/csv-file-generated-with-perl-broken/34766483#34766483", "title": "csv file generated with Perl broken", "body": "<p>When you open a text file whose first 2 characters are \"ID\" in Excel, it thinks it's a SYLK file, and so gives this warning. This is a very old issue with Excel. See <a href=\"https://support.microsoft.com/en-us/kb/323626\" rel=\"nofollow\">this Microsoft Support page</a> for example. The error will go away if you put quotes around <code>ID</code> or change its case.</p>\n"}], "owner": {"reputation": 47592, "user_id": 346063, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riibs.png?s=128&g=1", "display_name": "Thariama", "link": "https://stackoverflow.com/users/346063/thariama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 34766483, "answer_count": 1, "score": 1, "last_activity_date": 1452687343, "creation_date": 1452685645, "last_edit_date": 1452685960, "question_id": 34765913, "link": "https://stackoverflow.com/questions/34765913/csv-file-generated-with-perl-broken", "title": "csv file generated with Perl broken", "body": "<p>I created a <code>csv</code> file using the perl module <code>Text::CSV_XS</code>.\nHere is the relevant code:</p>\n\n<pre><code>open (my $csv_fh, '&gt;', $tmp_file) or die(\"Unable to open CSV '$tmp_file' for write\");\n\nmy $csv = Text::CSV_XS-&gt;new({'binary' =&gt; 1, 'sep_char' =&gt; $config-&gt;{'csv'}-&gt;{'sep_char'}, 'eol' =&gt; \"\\015\\012\"}) or die(Text::CSV-&gt;error_diag());\n\n$csv-&gt;print($csv_fh, [\"ID\", \"ASEITE\", \"ERDAT\", \"QUELLE\", \"AUSGABE\", \"RESSORT\", \"AUTNR\", \"NAME\", \"ANZHLZEIL\", \"ANZHLZEICH\", \"UEBER\", \"TEXTSP\", \"ART\", \"BETRAG\", \"GRUND\", \"FEST\", \"STATUS\", \"SLEVEL\"]);\n\n$csv-&gt;print($csv_fh, [\"A\",\"1\",\"AB\",\"A-5\",\"01\",\"12345\",\"12345\",\"NAME\",\"0\",\"0\",\"Testtext\",\"Testtext2\",\"1\",\"45\",\"\",\"\",\"0\",\"\"]);\n\nclose $csv_fh;\n</code></pre>\n\n<p>When i try to open the <a href=\"https://cloud.gmx.net/ngcloud/external?locale=de&amp;guestToken=FezSfjMERX2QA2Av9pppVg&amp;loginName=Ovaron20@gmx.net#_\" rel=\"nofollow\">file</a> using Microsoft Excel i get the message that the filename extension (csv) does not match the format/structure of the file.\nI get asked if i trusted the source. After klicking 'ok' i receive the information that there was an error. Again i click 'ok'. After that i can see the csv headline plus the only line of the file. Everything looks as expected.</p>\n\n<p>My question: <strong>Why do i get this error message opening the file? What is wrong with the file i created?</strong></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 78237, "user_id": 2025923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zYYVM.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2025923/tushar"}, "edited": false, "score": 1, "creation_date": 1452681230, "post_id": 34764328, "comment_id": 57273608, "body": "Maybe, you need to escape <code>$</code> by preceding backslash <code>\\$</code> to match literally, since <code>$</code> is special meaning in regex"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "reply_to_user": {"reputation": 78237, "user_id": 2025923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zYYVM.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2025923/tushar"}, "edited": false, "score": 2, "creation_date": 1452682057, "post_id": 34764328, "comment_id": 57274217, "body": "@Tushar, no, variable interpolation works within a regex.  Escaping it would stop the variable interpolation from working."}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1452744442, "post_id": 34764493, "comment_id": 57307815, "body": "Thank you. That was helpful. I&#39;d like to know how I can use an end anchor in this scenario though. <code>&#47;$_$&#47;</code> doesn&#39;t work."}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1452832145, "post_id": 34764493, "comment_id": 57351564, "body": "I mean it doesn&#39;t act as a end of line anchor. For instance, it would match &quot;energy&quot; and &quot;energy_g&quot; too - while I want it to match only the former."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "reply_to_user": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1452843159, "post_id": 34764493, "comment_id": 57354737, "body": "@AnupamaG, are &quot;energy&quot; and &quot;energy_g&quot; actual data that is matching?    Or is that just an example?"}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1452854250, "post_id": 34764493, "comment_id": 57360387, "body": "That&#39;s an example. I have similar data. That&#39;s why I would need to use an end-of-line anchor."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "reply_to_user": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1452855914, "post_id": 34764493, "comment_id": 57361273, "body": "@AnupamaG, can you provide an actual example?  The end of line anchor should indeed work; I suspect the issue is related to your actual data."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": true, "score": 7, "last_activity_date": 1452684150, "last_edit_date": 1452684150, "creation_date": 1452681660, "answer_id": 34764493, "question_id": 34764328, "link": "https://stackoverflow.com/questions/34764328/perl-getting-an-exact-match-from-grep/34764493#34764493", "title": "Perl : getting an exact match from grep", "body": "<p>You don't need a regex if you want an exact match.</p>\n\n<pre><code>if (grep { $headerLine eq $_ } @filterLines) \n{\n    #do something\n}\n</code></pre>\n\n<p>Your original problem was likely that <code>$_</code> had special regex characters, and these are treated as regex syntax rather than matching those literal characters. For example, if <code>$_</code> was <code>...</code> it would match any three characters rather than the exact string <code>...</code>.  This also might result in an error if the variable didn't contain valid regex syntax (e.g. <code>$_ = '('</code>).</p>\n\n<p>You can get around this with the <code>\\Q...\\E</code> quote literal construct:</p>\n\n<pre><code>if (grep { $headerLine =~ /^\\Q$_\\E$/} @filterLines) \n{\n    #do something\n}\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2337, "favorite_count": 0, "accepted_answer_id": 34764493, "answer_count": 1, "score": 0, "last_activity_date": 1452684150, "creation_date": 1452681185, "question_id": 34764328, "link": "https://stackoverflow.com/questions/34764328/perl-getting-an-exact-match-from-grep", "title": "Perl : getting an exact match from grep", "body": "<p>I am matching the contents of 2 arrays like this:</p>\n\n<pre><code>foreach $headerLine(@headerLines)\n{\n  if (grep { $headerLine =~ /$_/} @filterLines) \n  {\n      #do something\n  }\n}\n</code></pre>\n\n<p>I need an <em>exact</em> match here, but <code>^$_$</code> does not work. How do I go about it?</p>\n"}, {"tags": ["perl", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1452681130, "post_id": 34764247, "comment_id": 57273522, "body": "Provide a runable example with Input and expected output"}, {"owner": {"reputation": 447, "user_id": 4534554, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47b20b231f30b4d198892a55000ada6d?s=128&d=identicon&r=PG", "display_name": "Cagri", "link": "https://stackoverflow.com/users/4534554/cagri"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1452682092, "post_id": 34764247, "comment_id": 57274258, "body": "Thanks, please see the revised version."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452684563, "post_id": 34764247, "comment_id": 57275952, "body": "Your array starts at zero. What&#39;s the first row of <code>@quality_list</code> expected to be?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1452683639, "creation_date": 1452683639, "answer_id": 34765189, "question_id": 34764247, "link": "https://stackoverflow.com/questions/34764247/multi-dimensional-array-for-perl/34765189#34765189", "title": "multi dimensional array for perl", "body": "<p>It's not really clear what you want. But this seems to get the results that you ask for.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Data::Dumper;\n\nmy @se1s = ('1','5','8');\nmy @se2s = ('3','2','4');\n\nmy @quality_list;\n\nforeach (0 .. $#se1s) {\n  push @{$quality_list[1]}, $se1s[$_];\n  push @{$quality_list[2]}, $se2s[$_];\n}\n\nsay Dumper \\@quality_list;\n</code></pre>\n\n<p>I think that reading \"<a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldoc perldsc</a>\" will be very useful for you.</p>\n"}], "owner": {"reputation": 447, "user_id": 4534554, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47b20b231f30b4d198892a55000ada6d?s=128&d=identicon&r=PG", "display_name": "Cagri", "link": "https://stackoverflow.com/users/4534554/cagri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 34765189, "answer_count": 1, "score": 1, "last_activity_date": 1452683639, "creation_date": 1452680958, "last_edit_date": 1452683112, "question_id": 34764247, "link": "https://stackoverflow.com/questions/34764247/multi-dimensional-array-for-perl", "title": "multi dimensional array for perl", "body": "<p>I would like to push data to a multi-dimensional array in Perl</p>\n\n<p>such as <code>quality_list[i][j]</code>\nusing:</p>\n\n<pre><code>  push(@quality_list, $string_list, $qp); \n</code></pre>\n\n<p>But, I think, I could not use it. Could you help me about it?</p>\n\n<pre><code>@se1s = ('1','5','8');\n@se2s = ('3','2','4');\n\nsub test()\n{\nforeach $se1(@se1s)\n  {\n  foreach $se2(@se2s)\n    {\n\n    push(@quality_list, $se1, $se2); \n\n    }\n  }\n}\n</code></pre>\n\n<p>I expect such as: </p>\n\n<pre><code>quality_list[1][0] = 1\nquality_list[1][1] = 3\n\n\nquality_list[2][0] = 5\nquality_list[2][1] = 2\n</code></pre>\n"}, {"tags": ["perl", "nlp", "pos-tagger"], "comments": [{"owner": {"reputation": 2494, "user_id": 1921546, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fe4ac75c43b846d9665f422cdac5cb03?s=128&d=identicon&r=PG", "display_name": "pii_ke", "link": "https://stackoverflow.com/users/1921546/pii-ke"}, "edited": false, "score": 0, "creation_date": 1452681971, "post_id": 34762955, "comment_id": 57274142, "body": "This tags all tokens without any changes on my system, except that my tree-tagger installation had only <code>lib&#47;english-utf8.par</code> parameter file so i had to add <code>use_utf8 =&gt; 1</code> to arguments of <code>new()</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452685581, "post_id": 34762955, "comment_id": 57276639, "body": "This is just a wild guess, but maybe your <i>english</i> parameter file is incomplete. The <code>-no-unknown</code> seems to mean <i>Print the token rather than &lt;unknown&gt; for unknown lemmas</i> according to <a href=\"http://cental.fltr.ucl.ac.be/team/~panchenko/def/treetagger/README.txt\" rel=\"nofollow noreferrer\">cental.fltr.ucl.ac.be/team/~panchenko/def/treetagger/README.&zwnj;&#8203;txt</a>, but it still looks like it only found <code>I</code> because it doesn&#39;t know the other words."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1452851806, "post_id": 34762955, "comment_id": 57359119, "body": "I have changed the order of words in sentence, still it prints about the first one. It means, it knows about the all words, but not scrolling to next. I think I am missing something very basic. Thanks for your comments :)"}], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1452677635, "creation_date": 1452677635, "question_id": 34762955, "link": "https://stackoverflow.com/questions/34762955/linguatreetagger-tagging-only-first-word-in-parts-of-speech-tagging", "title": "Lingua::TreeTagger tagging only first word in Parts Of Speech tagging", "body": "<p>I'm using <a href=\"http://search.cpan.org/dist/Lingua-TreeTagger/lib/Lingua/TreeTagger.pm\" rel=\"nofollow\">Lingua::TreeTagger</a> for POS tagging, but its tagging just first word of string.</p>\n\n<pre><code>my $tagger = Lingua::TreeTagger-&gt;new(\n    'language' =&gt; 'english',\n    'options'  =&gt; [ qw( -token -lemma -no-unknown ) ],\n);\n$text_to_tag = 'I another yet sample text I.';\nmy $tagged_text = $tagger-&gt;tag_text( \\$text_to_tag );\nprint Dumper $tagged_text;\n</code></pre>\n\n<p>Output of the above dumper is as below:</p>\n\n<pre><code>'sequence' =&gt; [\n                                 bless( {\n                                          'is_SGML_tag' =&gt; 0,\n                                          'original' =&gt; 'I',\n                                          'tag' =&gt; 'PP',\n                                          'lemma' =&gt; 'I'\n                                        }, 'Lingua::TreeTagger::Token' )\n                               ],\n</code></pre>\n\n<p>Please note that only <code>I</code> is tagged here, but I want to tag whole sentence. In my actual code, I want to tag contents of a file. <strong>How can I tag all words of the sentence?</strong> Any help is appreciated.</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1452678605, "post_id": 34762819, "comment_id": 57271746, "body": "It is a bad idea to update your &#39;system&#39; perl, separately, as you may have things depending on it. Far better to do a source build and install in /usr/local/bin"}, {"owner": {"reputation": 69, "user_id": 5783418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809ef3d102efe5f275225d574ff3b1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Bharat", "link": "https://stackoverflow.com/users/5783418/bharat"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1452679380, "post_id": 34762819, "comment_id": 57272305, "body": "@Sobrique can you please suggest how to do that"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 5258247, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6ff0364b0a5c537dd986846d4bc07e39?s=128&d=identicon&r=PG&f=1", "display_name": "jaxarroyo", "link": "https://stackoverflow.com/users/5258247/jaxarroyo"}, "edited": false, "score": 0, "creation_date": 1541094831, "post_id": 34763776, "comment_id": 93108780, "body": "in addition to Sobrique&#39;s answer, anyone can simply go to <a href=\"http://www.cpan.org/src/5.0/\" rel=\"nofollow noreferrer\">cpan.org/src/5.0</a> and just do ctrl+f and search which version you&#39;re looking for then download/wget it yourself"}, {"owner": {"reputation": 83, "user_id": 3489485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kX9VT.png?s=128&g=1", "display_name": "ljgww", "link": "https://stackoverflow.com/users/3489485/ljgww"}, "edited": false, "score": 0, "creation_date": 1544957955, "post_id": 34763776, "comment_id": 94451741, "body": "consider: <a href=\"https://stackoverflow.com/questions/1289564/how-should-i-install-more-than-one-version-of-perl\" title=\"how should i install more than one version of perl\">stackoverflow.com/questions/1289564/&hellip;</a>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 21, "last_activity_date": 1452680307, "last_edit_date": 1452680307, "creation_date": 1452679704, "answer_id": 34763776, "question_id": 34762819, "link": "https://stackoverflow.com/questions/34762819/how-can-i-upgrade-my-perl-version-in-ubuntu/34763776#34763776", "title": "How can I upgrade my perl version in Ubuntu", "body": "<p>I'd do it like this:</p>\n\n<pre><code>wget http://www.cpan.org/src/5.0/perl-5.22.1.tar.gz\ntar xvfz perl-5.22.1.tar.gz\ncd perl-5.22.1 &amp;&amp; ./Configure -Duseithreads -des &amp;&amp; make &amp;&amp; make test &amp;&amp; make install\n/usr/local/bin/cpan -u\n</code></pre>\n\n<p>This puts a source build of <code>perl</code> in <code>/usr/local/bin</code></p>\n\n<p>Then check your path has /usr/local/bin in it, and if you want typing <code>perl</code> to run your new perl, ensure it's in front of <code>/usr/bin</code> (this is a fairly common scenario, but I can't say for sure if that applies. </p>\n\n<p>Whilst you say you don't want to install multiple perl versions - this is a bad idea. </p>\n\n<p><code>perl</code> is distributed as part of your operating system. Packages depend upon it, and the particular version. You cannot tell what you might break by altering versions - not least because the way perl handles certain things <em>does</em> change between versions (like hashes). </p>\n\n<p>Messing around with <code>/usr/bin/perl</code> is a road to some future pain (not least - it makes an 'update' of your OS annoyingly difficult, because you can no longer use the package manager without a bit of hackery) </p>\n\n<p>If you REALLY REALLY want to do that you can set <code>-Dprefix=</code> in your <code>Configure</code> options. But as a sysadmin of 15 years experience, I can tell you - no good will come of it, you will break your OS in a variety of minor, but cumulatively really annoying ways. (And maybe some bigger ways)</p>\n"}], "owner": {"reputation": 69, "user_id": 5783418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809ef3d102efe5f275225d574ff3b1ee?s=128&d=identicon&r=PG&f=1", "display_name": "Bharat", "link": "https://stackoverflow.com/users/5783418/bharat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14176, "favorite_count": 3, "closed_date": 1452695836, "accepted_answer_id": 34763776, "answer_count": 1, "score": 4, "last_activity_date": 1452680307, "creation_date": 1452677259, "last_edit_date": 1452677813, "question_id": 34762819, "link": "https://stackoverflow.com/questions/34762819/how-can-i-upgrade-my-perl-version-in-ubuntu", "closed_reason": "Not suitable for this site", "title": "How can I upgrade my perl version in Ubuntu", "body": "<p>I don't want to install multiple instances of perl.</p>\n\n<p>How can I upgrade my Perl to latest version or delete existing Perl installation and install a new version of Perl in Ubuntu 14.04.\nAfter new installation, will it conflict with older installation files.</p>\n"}, {"tags": ["sql", "perl", "dbi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452675131, "post_id": 34760973, "comment_id": 57269325, "body": "<code>$like =~ s&#47;(?=[\\\\%_])&#47;\\\\&#47;g</code>"}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452676532, "post_id": 34760973, "comment_id": 57270234, "body": "@Borodin I wasn&#39;t aware of Look-Around Assertions! Equivalent to <code>s&#47;([\\\\%_])&#47;\\\\$1&#47;g</code> it seems. However my goal is to remove the need for the regex, not to rewrite it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452676629, "post_id": 34760973, "comment_id": 57270308, "body": "That&#39;s why I didn&#39;t post it as a solution. There&#39;s nothing in <code>DBI</code> that will do what you describe"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1452680500, "post_id": 34760973, "comment_id": 57273098, "body": "I think the best approach is to monkeypatch that functionality into DBI as something like <code>quote_like()</code> and then use that."}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1452741087, "post_id": 34760973, "comment_id": 57307016, "body": "@simbaque yes, I think that&#39;s the sort of approach I&#39;m going to take. A little surprised this is not supported out of the box. I&#39;m wondering if there are driver-specific issues that make this difficult to do. Reading up on LIKE a bit more, it looks like I should be escaping <code>[</code> and <code>]</code> too."}], "answers": [{"comments": [{"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 2, "creation_date": 1452674717, "post_id": 34761330, "comment_id": 57269087, "body": "<code>DBI::quote</code> does not escape the wildcards used by the <code>LIKE</code> clause. It also returns a quoted string. Thus an input of <code>user_input</code> comes out of <code>quote()</code> as <code>&#39;user_input&#39;</code>, with the <code>_</code> unescaped (<code>%</code> characters are also unescaped) and the whole input quoted, meaning it&#39;s still necessary to use regular expressions or some other method to do the escaping and add in the metacharacters inside the quotes."}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 2, "creation_date": 1452675298, "post_id": 34761330, "comment_id": 57269446, "body": "Forgot to mention: passing a quoted string into a prepared statement with also result in the string being double quoted."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": -3, "last_activity_date": 1452672409, "creation_date": 1452672409, "answer_id": 34761330, "question_id": 34760973, "link": "https://stackoverflow.com/questions/34760973/perl-dbi-escaping-a-like-prepared-statement/34761330#34761330", "title": "Perl DBI: Escaping a LIKE prepared statement", "body": "<p>Despite what the documentation for <code>DBI::quote</code> says, <code>LIKE</code> parameters are a bit of a special case. What you want to do is almost what you already have in your example: first make sure there are no user-provided metacharacters by applying <code>quote</code> to the user-provided string (you do this with regexps in your example), then add your own metacharacters (the percent signs, in this case), then use it as food for the bind parameter.</p>\n"}], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1095, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1452675506, "creation_date": 1452670956, "last_edit_date": 1452675506, "question_id": 34760973, "link": "https://stackoverflow.com/questions/34760973/perl-dbi-escaping-a-like-prepared-statement", "title": "Perl DBI: Escaping a LIKE prepared statement", "body": "<p>I have a query that is binding a parameter to a LIKE statement as follows:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare('SELECT foo FROM bar WHERE baz LIKE ?');\n$sth-&gt;execute(\"%$like%\");\n</code></pre>\n\n<p>However, <code>$like</code> is a value that is entered by the user. So if the value contains any special characters recognised by the <code>LIKE</code> clause (<code>&amp;</code>, <code>_</code>, <code>\\</code>), these are passed unescaped to the database and parsed as wildcard or escape characters. For example if the user inputs <code>%value</code>, the query that will be submitted is: <code>SELECT foo FROM bar WHERE baz LIKE '%%value'</code>, rather than <code>LIKE '%\\%value</code>, which is what I would expect.</p>\n\n<p>Currently I am using regular expressions to escape the field manually:</p>\n\n<pre><code># Escape LIKE wildcard characters\n$like =~ s!\\\\!\\\\\\\\!g;\n$like =~ s!%!\\\\%!g;\n$like =~ s!_!\\\\_!g;\n\nmy $sth = $dbh-&gt;prepare('SELECT foo FROM bar WHERE baz LIKE ?');\n$sth-&gt;execute(\"%$like%\");\n</code></pre>\n\n<p>but it feels like the escaping is something DBI should be able to handle. I played around with <code>DBI::quote</code>, but this is designed for quoting entire fields, so in this case it would also quote the <code>%</code> symbols I am adding, and the documentation for <code>DBI::quote</code> specifically states:</p>\n\n<blockquote>\n  <p>The quote() method should not be used with \"Placeholders and Bind\n  Values\".</p>\n</blockquote>\n\n<p>Is there a better way to bind a user-supplied input to a LIKE clause while escaping the input and adding relevant wildcard characters, without resorting to manually escaping the input?</p>\n"}, {"tags": ["regex", "xml", "bash", "perl", "awk"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452670208, "post_id": 34760689, "comment_id": 57266525, "body": "It&#39;s not clear what your desired output should be. There are a lot of tags in there, and also a lot of IPs. What exactly do you want, and have you given it a try? Most likely <a href=\"http://stackoverflow.com/a/1732454/1331451\">you do not want to parse XML with regex</a>. Use a parser instead."}, {"owner": {"reputation": 33, "user_id": 4378085, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_2RncQ57Euk/AAAAAAAAAAI/AAAAAAAAAF0/R5S8oY6Ije0/photo.jpg?sz=128", "display_name": "jefrey cayab", "link": "https://stackoverflow.com/users/4378085/jefrey-cayab"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452671252, "post_id": 34760689, "comment_id": 57267107, "body": "simbabque, I updated the post to better understand what I&#39;m looking for. thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4378085, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_2RncQ57Euk/AAAAAAAAAAI/AAAAAAAAAF0/R5S8oY6Ije0/photo.jpg?sz=128", "display_name": "jefrey cayab", "link": "https://stackoverflow.com/users/4378085/jefrey-cayab"}, "edited": false, "score": 0, "creation_date": 1452674387, "post_id": 34761183, "comment_id": 57268874, "body": "Thanks, Kimmy. Just a follow-up one - how can I use your code if I have a list of IPs in IPs.txt and to query multiple xml files?"}, {"owner": {"reputation": 2434, "user_id": 5773733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wHtRm.jpg?s=128&g=1", "display_name": "Kim Homann", "link": "https://stackoverflow.com/users/5773733/kim-homann"}, "reply_to_user": {"reputation": 33, "user_id": 4378085, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_2RncQ57Euk/AAAAAAAAAAI/AAAAAAAAAF0/R5S8oY6Ije0/photo.jpg?sz=128", "display_name": "jefrey cayab", "link": "https://stackoverflow.com/users/4378085/jefrey-cayab"}, "edited": false, "score": 0, "creation_date": 1452685906, "post_id": 34761183, "comment_id": 57276834, "body": "Instead of writing <code>entry[cliconnaddr[text()!=&#39;10.10.11.201:63529&#39;]]</code>, you can concat several IP addresses like this: <code>entry[cliconnaddr[text()!=&#39;10.10.11.201:63529&#39;][text()!=&#39;10.&zwnj;&#8203;10.11.202:63530&#39;]]</code>. The only problem is how to move the list of IP addresses from your text file to the XSL without having to manually copy/paste them. I cannot tell you what&#39;s the best solution for you."}], "tags": [], "owner": {"reputation": 2434, "user_id": 5773733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wHtRm.jpg?s=128&g=1", "display_name": "Kim Homann", "link": "https://stackoverflow.com/users/5773733/kim-homann"}, "is_accepted": false, "score": 0, "last_activity_date": 1452671800, "creation_date": 1452671800, "answer_id": 34761183, "question_id": 34760689, "link": "https://stackoverflow.com/questions/34760689/get-start-end-tag-of-xml-when-pattern-match/34761183#34761183", "title": "Get start-end tag of xml when pattern match", "body": "<p>If I get it right, what you're trying to do is: filter your list of <code>&lt;entry&gt;</code> elements by the value of their <code>&lt;cliconnaddr&gt;</code>. To me, this smells like XSLT!</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:fo=\"http://www.w3.org/1999/XSL/Format\" xmlns:h=\"http://www.w3.org/1999/xhtml\"&gt;\n    &lt;xsl:output encoding=\"UTF-8\" method=\"xml\" version=\"1.0\" indent=\"yes\"/&gt;\n    &lt;!-- Catch-all templates --&gt;\n    &lt;xsl:template match=\"@*|text()\"&gt;\n        &lt;xsl:copy-of select=\".\"/&gt;\n    &lt;/xsl:template&gt;\n    &lt;xsl:template match=\"*\"&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:apply-templates select=\"@*|node()\"/&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n    &lt;xsl:template match=\"/\"&gt;\n        &lt;xsl:apply-templates select=\"@*|node()\"/&gt;\n    &lt;/xsl:template&gt;\n    &lt;xsl:template match=\"processing-instruction()\"&gt;\n        &lt;xsl:copy/&gt;\n    &lt;/xsl:template&gt;\n    &lt;!-- specific part --&gt;\n    &lt;xsl:template match=\"entry[cliconnaddr[text()!='10.10.11.201:63529']]\"/&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>What this XSLT does is: copy everything aside from entries whose <code>&lt;cliconnaddr&gt;</code> does not have a value of \"10.10.11.201:63529\". As this is an XSLT 1.0, it should be easy to find an XSLT processor that runs in your context.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 4378085, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_2RncQ57Euk/AAAAAAAAAAI/AAAAAAAAAF0/R5S8oY6Ije0/photo.jpg?sz=128", "display_name": "jefrey cayab", "link": "https://stackoverflow.com/users/4378085/jefrey-cayab"}, "edited": false, "score": 0, "creation_date": 1452674344, "post_id": 34761200, "comment_id": 57268852, "body": "Thanks, simbabque. Just a follow-up one - how can I use your code if I have a list of IPs in IPs.txt and to query multiple xml files?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 4378085, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_2RncQ57Euk/AAAAAAAAAAI/AAAAAAAAAF0/R5S8oY6Ije0/photo.jpg?sz=128", "display_name": "jefrey cayab", "link": "https://stackoverflow.com/users/4378085/jefrey-cayab"}, "edited": false, "score": 0, "creation_date": 1452674461, "post_id": 34761200, "comment_id": 57268907, "body": "@jefreycayab you have to change some things, but yes. I used <code>DATA</code> as an example. You can do <code>parsefile</code> and give it file names that could come from the command line, and use a list of IPs in the code, maybe as a lookup hash. I&#39;ll leave that as an exercise for you. :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1452671896, "creation_date": 1452671896, "answer_id": 34761200, "question_id": 34760689, "link": "https://stackoverflow.com/questions/34760689/get-start-end-tag-of-xml-when-pattern-match/34761200#34761200", "title": "Get start-end tag of xml when pattern match", "body": "<p>You can use <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\">XML::Twig</a> to do that. Basically this creates a handler that will be invoked for every <code>cliconnaddr</code> element, grab the parent and print it.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new(\n    twig_handlers =&gt; {\n        cliconnaddr =&gt; sub { say $_-&gt;parent-&gt;toString if $_-&gt;text eq '10.10.11.201:63529' }\n    }\n);\n$twig-&gt;parse( \\*DATA );\n\n__DATA__\n&lt;root&gt;\n      &lt;entry&gt;\n    &lt;log_time&gt;20150618-00:06:30&lt;/log_time&gt;\n    &lt;description&gt;&lt;![CDATA[Connection established]]&gt;&lt;/description&gt;\n    &lt;service&gt;SSH&lt;/service&gt;\n    &lt;sessionid&gt;02881141&lt;/sessionid&gt;\n    &lt;type&gt;0&lt;/type&gt;    &lt;severity&gt;0&lt;/severity&gt;\n    &lt;lstnconnaddr&gt;10.10.10.100:22&lt;/lstnconnaddr&gt;\n    &lt;cliconnaddr&gt;10.10.11.201:63530&lt;/cliconnaddr&gt;\n    &lt;sguid&gt;04AD6AD5-FB2E-4F03-7993-447648CC3EED&lt;/sguid&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;log_time&gt;20150618-00:06:30&lt;/log_time&gt;\n    &lt;description&gt;&lt;![CDATA[Sent server version: SSH-2.0-0]]&gt;&lt;/description&gt;\n    &lt;service&gt;SSH&lt;/service&gt;\n    &lt;sessionid&gt;08878297&lt;/sessionid&gt;\n    &lt;type&gt;0&lt;/type&gt;    &lt;severity&gt;1&lt;/severity&gt;\n    &lt;lstnconnaddr&gt;10.10.10.100:22&lt;/lstnconnaddr&gt;\n    &lt;cliconnaddr&gt;10.10.11.201:63529&lt;/cliconnaddr&gt;\n    &lt;sguid&gt;04AD6AD5-FB2E-4F03-7993-447648CC3EED&lt;/sguid&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;log_time&gt;20150616-00:00:00&lt;/log_time&gt;\n    &lt;description&gt;&lt;![CDATA[SSH Transport agreed algorithms\nKey exchange algorithm: diffie-hellman-group14-sha1\nServer host key algorithm: ssh-rsa\nClient encryption algorithm: aes256-ctr\nClient MAC algorithm: hmac-sha1\nClient compression algorithm: none\nClient language:\nServer encryption algorithm: aes256-ctr\nServer MAC algorithm: hmac-sha1\nServer compression algorithm: none\nServer language:\n]]&gt;&lt;/description&gt;\n    &lt;service&gt;SSH&lt;/service&gt;\n    &lt;sessionid&gt;48018549&lt;/sessionid&gt;\n    &lt;type&gt;0&lt;/type&gt;    &lt;severity&gt;1&lt;/severity&gt;\n    &lt;lstnconnaddr&gt;10.10.10.100:22&lt;/lstnconnaddr&gt;\n    &lt;cliconnaddr&gt;10.10.11.201:60580&lt;/cliconnaddr&gt;\n    &lt;sguid&gt;04AD6AD5-FB2E-4F03-7993-447648CC3EED&lt;/sguid&gt;\n  &lt;/entry&gt;\n&lt;/root&gt;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4378085, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_2RncQ57Euk/AAAAAAAAAAI/AAAAAAAAAF0/R5S8oY6Ije0/photo.jpg?sz=128", "display_name": "jefrey cayab", "link": "https://stackoverflow.com/users/4378085/jefrey-cayab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1452671896, "creation_date": 1452669939, "last_edit_date": 1452671207, "question_id": 34760689, "link": "https://stackoverflow.com/questions/34760689/get-start-end-tag-of-xml-when-pattern-match", "title": "Get start-end tag of xml when pattern match", "body": "<p>Need help to extract the start to end tag of xml code when a pattern is matched.\nFor example, I have this in my xml file:</p>\n\n<pre><code>      &lt;entry&gt;\n    &lt;log_time&gt;20150618-00:06:30&lt;/log_time&gt;\n    &lt;description&gt;&lt;![CDATA[Connection established]]&gt;&lt;/description&gt;\n    &lt;service&gt;SSH&lt;/service&gt;\n    &lt;sessionid&gt;02881141&lt;/sessionid&gt;\n    &lt;type&gt;0&lt;/type&gt;    &lt;severity&gt;0&lt;/severity&gt;\n    &lt;lstnconnaddr&gt;10.10.10.100:22&lt;/lstnconnaddr&gt;\n    &lt;cliconnaddr&gt;10.10.11.201:63530&lt;/cliconnaddr&gt;\n    &lt;sguid&gt;04AD6AD5-FB2E-4F03-7993-447648CC3EED&lt;/sguid&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;log_time&gt;20150618-00:06:30&lt;/log_time&gt;\n    &lt;description&gt;&lt;![CDATA[Sent server version: SSH-2.0-0]]&gt;&lt;/description&gt;\n    &lt;service&gt;SSH&lt;/service&gt;\n    &lt;sessionid&gt;08878297&lt;/sessionid&gt;\n    &lt;type&gt;0&lt;/type&gt;    &lt;severity&gt;1&lt;/severity&gt;\n    &lt;lstnconnaddr&gt;10.10.10.100:22&lt;/lstnconnaddr&gt;\n    &lt;cliconnaddr&gt;10.10.11.201:63529&lt;/cliconnaddr&gt;\n    &lt;sguid&gt;04AD6AD5-FB2E-4F03-7993-447648CC3EED&lt;/sguid&gt;\n  &lt;/entry&gt;\n  &lt;entry&gt;\n    &lt;log_time&gt;20150616-00:00:00&lt;/log_time&gt;\n    &lt;description&gt;&lt;![CDATA[SSH Transport agreed algorithms\nKey exchange algorithm: diffie-hellman-group14-sha1\nServer host key algorithm: ssh-rsa\nClient encryption algorithm: aes256-ctr\nClient MAC algorithm: hmac-sha1\nClient compression algorithm: none\nClient language: \nServer encryption algorithm: aes256-ctr\nServer MAC algorithm: hmac-sha1\nServer compression algorithm: none\nServer language: \n]]&gt;&lt;/description&gt;\n    &lt;service&gt;SSH&lt;/service&gt;\n    &lt;sessionid&gt;48018549&lt;/sessionid&gt;\n    &lt;type&gt;0&lt;/type&gt;    &lt;severity&gt;1&lt;/severity&gt;\n    &lt;lstnconnaddr&gt;10.10.10.100:22&lt;/lstnconnaddr&gt;\n    &lt;cliconnaddr&gt;10.10.11.201:60580&lt;/cliconnaddr&gt;\n    &lt;sguid&gt;04AD6AD5-FB2E-4F03-7993-447648CC3EED&lt;/sguid&gt;\n  &lt;/entry&gt;\n</code></pre>\n\n<p>My pattern will be the client IP - 10.10.11.201 in this example.\nI have certain IPs to look for in multiple xml files and the tags are not uniform, some have more lines than the others - for this reason, I cannot use \"grep\" with -B or -A, hence, the basis should be the start-tag <code>&lt;&gt;</code> to end-tag <code>&lt;/&gt;</code> to get the entire transaction of that IP.</p>\n\n<p>Let me try to better put what I'm looking for. For example, I'm looking for lines with 10.10.11.201:</p>\n\n<pre><code>&lt;cliconnaddr&gt;10.10.11.201:63529&lt;/cliconnaddr&gt;\n</code></pre>\n\n<p>When this is found, I need the entire start-end tag:</p>\n\n<pre><code>  &lt;entry&gt;\n    &lt;log_time&gt;20150618-00:06:30&lt;/log_time&gt;\n    &lt;description&gt;&lt;![CDATA[Sent server version: SSH-2.0-0]]&gt;&lt;/description&gt;\n    &lt;service&gt;SSH&lt;/service&gt;\n    &lt;sessionid&gt;08878297&lt;/sessionid&gt;\n    &lt;type&gt;0&lt;/type&gt;    &lt;severity&gt;1&lt;/severity&gt;\n    &lt;lstnconnaddr&gt;10.10.10.100:22&lt;/lstnconnaddr&gt;\n    &lt;cliconnaddr&gt;10.10.11.201:63529&lt;/cliconnaddr&gt;\n    &lt;sguid&gt;04AD6AD5-FB2E-4F03-7993-447648CC3EED&lt;/sguid&gt;\n  &lt;/entry&gt;\n</code></pre>\n\n<p>Preferably using bash, awk, sed, perl.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "snmp", "net-snmp", "snmpd"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452677513, "post_id": 34760403, "comment_id": 57270932, "body": "You&#39;re creating the session incorrectly. Instead of <code>new</code>, use the <code>session</code> method, as described in the <a href=\"https://metacpan.org/pod/Net::SNMP#session---create-a-new-Net::SNMP-object\" rel=\"nofollow noreferrer\">documentation</a>: <code>my ($session, $error) = Net::SNMP-&gt;session(...);</code>."}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452690806, "post_id": 34760403, "comment_id": 57280091, "body": "@ThisSuitIsBlackNot - Pls note that [ SNMP:session ] uses package SNMP while Net::SNMP-&gt;Session  uses package NET::SNMP.These two are entirely different way of creating session ."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452719052, "post_id": 34760403, "comment_id": 57299144, "body": "Oops, I read your question too quickly. There <i>is</i> no <code>close</code> method in SNMP::Session (<a href=\"https://metacpan.org/pod/SNMP\" rel=\"nofollow noreferrer\">here&#39;s the correct documentation</a>). Since <code>$sess</code> is an object, I assume the session is closed when it&#39;s destroyed; if <code>$sess</code> is a lexical variable, that would be as soon as it goes out of scope."}, {"owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452768584, "post_id": 34760403, "comment_id": 57318782, "body": "@ThisSuitIsBlackNot - Ok ,thank you !"}], "owner": {"reputation": 71, "user_id": 5509994, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/afbe127414909f6706ae7e24faeb47f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/5509994/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452674505, "creation_date": 1452668908, "last_edit_date": 1452674505, "question_id": 34760403, "link": "https://stackoverflow.com/questions/34760403/not-able-to-close-snmpsession", "title": "Not able to close SNMP::Session", "body": "<p>I have created a SNMPv3 session using <code>SNMP:Session</code> as below:</p>\n\n<pre><code>Use SNMP;\n$sess = new SNMP::Session(..);\n$sess-&gt;close();\n</code></pre>\n\n<p>But I am not able to close this session using close function.<br>\nPlease let me know if there is any other utility to close SNMP session.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452669853, "post_id": 34759100, "comment_id": 57266341, "body": "Welcome to Stack Overflow and the Perl tag. Please make sure you always <code>use strict</code> and <code>use warnings</code> when asking or answering here, as that will help diagnose a lot of problems way easier, though it&#39;s probably not going to be obvious here."}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 3102930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b4ac8868629df04b667f0df3b44ba6?s=128&d=identicon&r=PG&f=1", "display_name": "user3102930", "link": "https://stackoverflow.com/users/3102930/user3102930"}, "is_accepted": false, "score": 1, "last_activity_date": 1452855728, "creation_date": 1452855728, "answer_id": 34809617, "question_id": 34759100, "link": "https://stackoverflow.com/questions/34759100/perl-xmlcompileschema-against-microsoft-windows-task-scheduler-schema/34809617#34809617", "title": "Perl XML::Compile::Schema Against MIcrosoft Windows Task Scheduler Schema", "body": "<p>Mark issued a patch to BuiltInFacet.pm in <a href=\"http://search.cpan.org/~markov/XML-Compile-1.52/lib/XML/Compile/Schema.pod\" rel=\"nofollow\">XML::Compile::Schema v1.52</a> as of 2016-01-15, and I confirmed the patch passes all my test cases; duration-typed elements with minInclusive and maxInclusive facets no longer cause the module to throw error messages. Many thanks and kudos to Mark.</p>\n"}], "owner": {"reputation": 43, "user_id": 3102930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b4ac8868629df04b667f0df3b44ba6?s=128&d=identicon&r=PG&f=1", "display_name": "user3102930", "link": "https://stackoverflow.com/users/3102930/user3102930"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452855728, "creation_date": 1452663324, "last_edit_date": 1452753290, "question_id": 34759100, "link": "https://stackoverflow.com/questions/34759100/perl-xmlcompileschema-against-microsoft-windows-task-scheduler-schema", "title": "Perl XML::Compile::Schema Against MIcrosoft Windows Task Scheduler Schema", "body": "<p>When I try to parse the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa383609(v=vs.85).aspx\" rel=\"nofollow\">Microsoft windows Task Scheduler schema</a>, I get errors similar to:</p>\n\n<blockquote>\n  <p>Argument \"PT1M\" isn't numeric in numeric ge (>=) at /Library/Perl/5.18/XML/Compile/Schema/BuiltInFacets.pm line 158</p>\n</blockquote>\n\n<p>I used the following code to parse, which works when I try it against a simple, hand-written schema that uses duration and duration range elements. So I know the module works fine with the more complex Microsoft schema, and it must be in how I'm using it.</p>\n\n<pre><code>    #!/usr/bin/perl\n    use strict;\n    use warnings;\n    use XML::LibXML;\n    use XML::Compile::Schema;\n    use XML::Compile::Util qw/pack_type/;\n    my $schema = XML::Compile::Schema-&gt;new( \"task-scheduler-ms.xsd\" );\n    my $type   = pack_type 'http://schemas.microsoft.com/windows/2004/02/mit/task', 'Task';\n    my $elem   = pack_type 'http://schemas.microsoft.com/windows/2004/02/mit/task', 'Task';\n    $schema-&gt;printIndex;\n    my $read   = $schema-&gt;compile(READER =&gt; $elem);\n</code></pre>\n\n<p>I suspect I'm not calling a required module sub to accommodate the more complex Microsoft schema, but I'm stumped at the moment and I don't see anything promising in the documentation to try next.</p>\n\n<p><strong>Update 20160114</strong></p>\n\n<p>simbabque correctly advised that I should use strict and warnings, I updated the sample code. As he suspected, it doesn't reveal anything, but it's best practice to follow.</p>\n\n<p>Mark (the module author) suspects that the error messages are actually caused by a defect in the module, because durations are not currently a special case in the comparison code. He hadn't run across a minInclusive facet on a date element before. I'm trying to assemble a minimum XSD that uses minInclusive facet in a duration typed element to force the module to emit the same error message.</p>\n\n<p>I confirm Mark's suspicion with the following sample code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::LibXML;\nuse XML::Compile::Schema;\nuse XML::Compile::Util qw/pack_type/;\nmy $schema = XML::Compile::Schema-&gt;new( \"duration-range-example-2.xsd\" );\nmy $type   = pack_type 'http://tempuri.org/durationExample', 'Duration';\nmy $elem   = pack_type 'http://tempuri.org/durationExample', 'Duration';\n$schema-&gt;printIndex;\nmy $read   = $schema-&gt;compile(READER =&gt; $elem);\n</code></pre>\n\n<p>Using the following sample data:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;xs:schema\n    xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n    targetNamespace=\"http://tempuri.org/durationExample\"&gt;\n  &lt;xs:element name=\"Duration\" default=\"PT10M\" minOccurs=\"0\"&gt;\n    &lt;xs:simpleType&gt;\n      &lt;xs:restriction base=\"xs:duration\"&gt;\n        &lt;xs:minInclusive value=\"PT1M\"/&gt;\n      &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n  &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>This produces the following output:</p>\n\n<pre><code>namespace: http://tempuri.org/durationExample\n filename: duration-range-example-2.xsd\n  definitions of elements:\n    Duration\nArgument \"PT1M\" isn't numeric in numeric ge (&gt;=) at /Library/Perl/5.18/XML/Compile/Schema/BuiltInFacets.pm line 158.\nArgument \"PT10M\" isn't numeric in numeric ge (&gt;=) at /Library/Perl/5.18/XML/Compile/Schema/BuiltInFacets.pm line 158.\n</code></pre>\n\n<p>I'll follow up with Mark on a fix if one is feasible, and report back here the end result.</p>\n"}, {"tags": ["regex", "perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452665133, "post_id": 34759084, "comment_id": 57264265, "body": "<code>print((split &#47;(?=grep)&#47;, $string)[1], &quot;\\n&quot;)</code>"}, {"owner": {"reputation": 43, "user_id": 3735192, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-ub_9XJdkJc4/AAAAAAAAAAI/AAAAAAAAABM/La5wKi7CHug/photo.jpg?sz=128", "display_name": "Chella", "link": "https://stackoverflow.com/users/3735192/chella"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452666433, "post_id": 34759084, "comment_id": 57264762, "body": "Thanks for your reply but I change like                                          print((split /(?=filters)/, $string)[1], &quot;\\n&quot;);     The Output is [filters the lines of a file based on a regular expression.Perl&#39;s grep can filter any list of value based on any condition.This Perl code implements a basic version of the UNIX grep:]    It cannot set end boundary  value .I want print until [code] what i do"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452666631, "post_id": 34759084, "comment_id": 57264848, "body": "Ah okay. You want <code>print $string =~ &#47;(filters.*?code)&#47;, &quot;\\n&quot;</code>"}, {"owner": {"reputation": 43, "user_id": 3735192, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-ub_9XJdkJc4/AAAAAAAAAAI/AAAAAAAAABM/La5wKi7CHug/photo.jpg?sz=128", "display_name": "Chella", "link": "https://stackoverflow.com/users/3735192/chella"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452667406, "post_id": 34759084, "comment_id": 57265177, "body": "Thanks sir I am using like this [ print((split /(?=filters)|(?=code)/, $string)[1], &quot;\\n&quot;);] . Output is [filters the lines of a file based on a regular expression.Perl&#39;s grep can filter any list of value based on any condition. This Perl ]  code is not printed in this output What I do"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452667463, "post_id": 34759084, "comment_id": 57265203, "body": "You use the solution I gave you instead"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3735192, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-ub_9XJdkJc4/AAAAAAAAAAI/AAAAAAAAABM/La5wKi7CHug/photo.jpg?sz=128", "display_name": "Chella", "link": "https://stackoverflow.com/users/3735192/chella"}, "edited": false, "score": 0, "creation_date": 1452673380, "post_id": 34760362, "comment_id": 57268248, "body": "Thanks for your reply . When I am using this  code following error has occur .[Use of uninitialized value $1 in concatenation (.) or string at str.pl line 13.]"}, {"owner": {"reputation": 1, "user_id": 2667192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6cfa09b37e67e4663552813f6fd7d77?s=128&d=identicon&r=PG", "display_name": "abhishek.jain", "link": "https://stackoverflow.com/users/2667192/abhishek-jain"}, "reply_to_user": {"reputation": 43, "user_id": 3735192, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-ub_9XJdkJc4/AAAAAAAAAAI/AAAAAAAAABM/La5wKi7CHug/photo.jpg?sz=128", "display_name": "Chella", "link": "https://stackoverflow.com/users/3735192/chella"}, "edited": false, "score": 0, "creation_date": 1452675929, "post_id": 34760362, "comment_id": 57269847, "body": "Can you share the complete block of code so it would be easier to figure out the error as the solution that I&#39;ve provide works perfectly fine for me."}], "tags": [], "owner": {"reputation": 1, "user_id": 2667192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6cfa09b37e67e4663552813f6fd7d77?s=128&d=identicon&r=PG", "display_name": "abhishek.jain", "link": "https://stackoverflow.com/users/2667192/abhishek-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1452668736, "creation_date": 1452668736, "answer_id": 34760362, "question_id": 34759084, "link": "https://stackoverflow.com/questions/34759084/how-to-set-start-and-end-boundary-in-perl/34760362#34760362", "title": "How to set start and end boundary in perl", "body": "<p>try the following code:  </p>\n\n<pre><code>$string =~ m/\\..*?(grep.*?code)/;\nprint \"$1\\n\";\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3735192, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-ub_9XJdkJc4/AAAAAAAAAAI/AAAAAAAAABM/La5wKi7CHug/photo.jpg?sz=128", "display_name": "Chella", "link": "https://stackoverflow.com/users/3735192/chella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1452668736, "creation_date": 1452663203, "question_id": 34759084, "link": "https://stackoverflow.com/questions/34759084/how-to-set-start-and-end-boundary-in-perl", "title": "How to set start and end boundary in perl", "body": "<p>This is my code</p>\n\n<pre><code>   use strict;\n   use warnings;\n   my $string=\" The UNIX grep filters the lines of a file based on a regular expression.Perl's grep can filter any list of value based on any condition. This Perl code implements a basic version of the UNIX grep:  \";\n   $string =~ m/grep/;\n   print \"$&amp; $'\\n\";\n</code></pre>\n\n<p>This is my output:</p>\n\n<blockquote>\n  <p>grep can filter any list of value based on any condition.\n  This Perl code implements a basic version of the UNIX grep:</p>\n</blockquote>\n\n<p>But I want Output is</p>\n\n<blockquote>\n  <p>grep can filter any list of value based on any condition.\n  This Perl code </p>\n</blockquote>\n\n<p>Can Anyone help  me ??</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1452652933, "post_id": 34757072, "comment_id": 57260783, "body": "Hmm,  so every time an EOL is hit add a little more to the string"}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 2, "last_activity_date": 1452649564, "creation_date": 1452649564, "answer_id": 34757072, "question_id": 34756430, "link": "https://stackoverflow.com/questions/34756430/parserecdescent-does-it-only-operate-on-a-string/34757072#34757072", "title": "Parse::RecDescent does it only operate on a string?", "body": "<p>Yes.  You normally pass the complete text to be parsed as a string.</p>\n\n<p>However, note that it's documented that if you pass the text as a reference:</p>\n\n<pre><code>$parser-&gt;startrule(\\$text);\n</code></pre>\n\n<p>then the matched portion of <code>$text</code> will be removed, leaving only what did not match.  It may be possible to design your grammar so that you can parse a file in chunks.</p>\n"}], "owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 34757072, "answer_count": 1, "score": 1, "last_activity_date": 1452649619, "creation_date": 1452645298, "last_edit_date": 1452649619, "question_id": 34756430, "link": "https://stackoverflow.com/questions/34756430/parserecdescent-does-it-only-operate-on-a-string", "title": "Parse::RecDescent does it only operate on a string?", "body": "<p>I was looking at using <a href=\"https://metacpan.org/pod/Parse::RecDescent\" rel=\"nofollow\">Parse::RecDescent</a> to parse some large files. I was figuring I'd pass it a token at a time. After looking at it a while, it appears that the tokenizer is built into it and you have to pass it the whole string up front. Is this correct?</p>\n"}, {"tags": ["perl", "unix", "ssh", "environment-variables"], "comments": [{"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 1, "creation_date": 1452642256, "post_id": 34755250, "comment_id": 57257878, "body": "Solaris doesn&#39;t have pluggable authentication module <code>pam_env.so</code> by default and I&#39;m not sure if it&#39;s available as add-on. RedHat and Linux in general comes with <code>pam_env.so</code> that uses <code>&#47;etc&#47;environment</code> by default."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "reply_to_user": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1452699034, "post_id": 34755250, "comment_id": 57286008, "body": "Could be, makes me think to dig more on PAM, however, the fact that <code>~&#47;.ssh&#47;environment</code> also does not work, makes me wonder if it might be something that hints at something simple that I don&#39;t know"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1453163659, "post_id": 34755250, "comment_id": 57472466, "body": "Installing a wrapper for /usr/bin/perl is the typical approach. However, this has all the marking of an XY problem: <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-proble&zwnj;&#8203;m</a>"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1453213591, "post_id": 34755250, "comment_id": 57496417, "body": "Actually, in my case, I want <b>X</b> and <b>Y</b> :) Yes, to solve my INC problem per-se, the perl-wrapper (as much as I don&#39;t like it) would do the job. However, I also have other shell scripts I wish to invoke non-interactively via ssh which I&#39;d like to take for granted that certain variables are ALWAYS set according to each specific host. It works on all my Red Hats ... only with Solaris 10 it does not"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1453213801, "post_id": 34755250, "comment_id": 57496574, "body": "Or let&#39;s ask the question more simple and direct to ssh, why does <code>~&#47;.ssh&#47;environment</code> not load on Solaris 10?"}], "answers": [{"comments": [{"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1452699121, "post_id": 34760533, "comment_id": 57286071, "body": "Well, I&#39;m not sure if this Perl was original or manually installed, what diff is it to the issue posted ?"}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": 0, "last_activity_date": 1452669356, "creation_date": 1452669356, "answer_id": 34760533, "question_id": 34755250, "link": "https://stackoverflow.com/questions/34755250/etc-environment-does-not-work-on-solaris-10/34760533#34760533", "title": "/etc/environment does not work on Solaris 10", "body": "<p>1) Note that Sun used to recommend that you install your own copy of Perl rather than mess around with what's in <code>/usr/perl5</code>.</p>\n\n<p>2) Rename the <code>perl</code> binary to something else, and in its place put a tiny shell script that sets the environment the way you want it and then <code>exec</code>s the renamed binary.</p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452669356, "creation_date": 1452638940, "question_id": 34755250, "link": "https://stackoverflow.com/questions/34755250/etc-environment-does-not-work-on-solaris-10", "title": "/etc/environment does not work on Solaris 10", "body": "<p><strong>GOAL</strong>: to pre-inject in Perl's @INC array on a Solaris 10 box with perl version 5.8.4, <strong>and that this should be available in <em><code>any</code></em> way perl is invoked!</strong> That includes <code>ssh</code> non-interactive logins...</p>\n\n<p>So that something like:</p>\n\n<pre><code>ssh my.solaris.10.box 'perl -MSpecialModule -le \"print qq/Powerball!\\n/\"'\n</code></pre>\n\n<p>Works and does not throw me attitude of <code>Can't locate SpecialModule.pm in @INC (@INC contains: /usr/perl5/5.8.4/lib/i86pc-solaris-64int /usr/perl5/5.8.4/lib /usr/perl5/site_perl/5.8.4/i86pc-solaris-64int /usr/perl5/site_perl/5.8.4 /usr/perl5/site_perl /usr/perl5/vendor_perl/5.8.4/i86pc-solaris-64int /usr/perl5/vendor_perl/5.8.4 /usr/perl5/vendor_perl .).\nBEGIN failed--compilation aborted.</code></p>\n\n<p>So far I tried to add <code>PERLLIB=/path/to/always/include/in/INC</code>:</p>\n\n<ol>\n<li><code>/etc/environment</code></li>\n<li><code>/etc/default/init</code></li>\n<li><code>/etc/bash.bashrc</code> as <code>ssh my.solaris.10.box 'echo $SHELL'</code> gives me <code>SHELL=/bin/bash</code></li>\n<li><code>~/.ssh/environment</code> of a specific user as in <code>ssh privuser@my.solaris.10.box</code></li>\n</ol>\n\n<p>Now, <code>/etc/profile</code> works, but only <strong>if</strong> I'm actually logged in on that box... for my purpose, I wish to execute with <code>ssh</code> non-interactively.</p>\n\n<p>I'm not a SysAdmin, but I'll just share the below:</p>\n\n<pre><code>grep -i pam /etc/ssh/sshd_config | grep -v '^#'\nPAMAuthenticationViaKBDInt yes\n</code></pre>\n\n<p>And adding <code>UsePAM yes</code> did not do the trick.</p>\n\n<p>Any other suggestion, does <code>/etc/default/init</code> require a reboot? Otherwise, <code>/etc/environment</code> works a sold for all my Linux Red Heads...</p>\n\n<p>What can I do to get <code>/etc/environment</code> to work on Solaris 10?</p>\n"}, {"tags": ["perl", "iterator"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452678042, "post_id": 34761139, "comment_id": 57271304, "body": "There&#39;s no need to &quot;wrap&quot; <code>readdir</code> in an iterator...<code>readdir</code> acts as an iterator in scalar context, so you could simply push an open directory handle onto the queue. But this doesn&#39;t change the OP&#39;s problem at all, since you&#39;re just swapping filenames for dir handles."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1452704022, "post_id": 34761139, "comment_id": 57289982, "body": "ThisSuitIsBlackNot&#39;s comment suggests an interesting alternative: Provide a callback routine as an argument to dir_walk, call readdir in scalar context, and handle the files there in the loop, dispensing with the big arrays."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": 0, "last_activity_date": 1452671597, "creation_date": 1452671597, "answer_id": 34761139, "question_id": 34754678, "link": "https://stackoverflow.com/questions/34754678/in-perl-how-can-i-write-an-iterator-that-doesnt-have-big-files-behind-the-scen/34761139#34761139", "title": "In perl, How can I write an iterator that doesn&#39;t have big files behind the scenes?", "body": "<p>One fairly obvious way (but one requiring quite a bit more code) is to instead of reading an entire directory at a time and sticking all the names in the queue, wrap the <code>readdir</code> in another iterator and put the iterator in the queue. Then when using the queue, check if the front element is an iterator and if so pick items from it until it's exhausted instead of simply shifting the element off.</p>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1452671597, "creation_date": 1452636502, "question_id": 34754678, "link": "https://stackoverflow.com/questions/34754678/in-perl-how-can-i-write-an-iterator-that-doesnt-have-big-files-behind-the-scen", "title": "In perl, How can I write an iterator that doesn&#39;t have big files behind the scenes?", "body": "<p>This iterator is adapted from dir_walk in Higher Order Perl.</p>\n\n<pre><code>sub dir_walk \n{   my @queue = shift; # push first directory onto FIFO queue\n    return sub # this is the iterator\n    {   if (@queue) \n        {   my $entry = shift @queue; # take the first item off the queue\n            # Here if $entry is a Directory\n            if (-d $entry &amp;&amp; opendir my $dh, $entry) \n                {   # read all the files in the directory into an array\n                    my @newfiles = grep {$_ ne \".\" &amp;&amp; $_ ne \"..\"} readdir $dh;\n                    # prepend the path to the file names\n                    push @queue, map \"$entry/$_\", @newfiles; \n                }\n              return $entry;\n            } \n            else {return;} # ignore files here, they're in the queue\n        };\n}\n</code></pre>\n\n<p>It seems to be cheating in that it violates one of the main purposes of iterators, avoiding loading large arrays, by hiding the big arrays @newfiles and @queue inside the routine.\n(OK, the files are only as big as the largest subdirectory, but still...)</p>\n\n<p>Is there a way I could rewrite it so it could act more like the </p>\n\n<pre><code>while (&lt;FH&gt;){ }\n</code></pre>\n\n<p>for reading a file, avoiding unnecessary big arrays?</p>\n\n<p>All I can think of is to save a DOS dir command to a file, and then read the file in, a line at a time as above. That would take a lot more parsing, and for all I know is also hiding big files somewhere.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1452633408, "post_id": 34753748, "comment_id": 57253967, "body": "The way your question is worded makes it sound like you expect someone to do all the work for you and provide a code dump. (I&#39;m not saying that that was your intent, but that&#39;s how it sounds.) As such, your post is likely to be downvoted and/or closed. I would recommend looking into <a href=\"https://metacpan.org/pod/GD\" rel=\"nofollow noreferrer\">GD</a> to overlay text on an image."}, {"owner": {"reputation": 11, "user_id": 4275526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44eccacea92954bc6a3e35fab32ef0e?s=128&d=identicon&r=PG&f=1", "display_name": "Steph L", "link": "https://stackoverflow.com/users/4275526/steph-l"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452634184, "post_id": 34753748, "comment_id": 57254369, "body": "Hi Matt. I&#39;m just looking for direction on how to make it refresh and a text over an image. I never used GD before. I will give it a try."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1452672470, "post_id": 34753748, "comment_id": 57267705, "body": "Adding a watermark / signature is easy with Image::Magick. See <a href=\"http://www.perlmonks.org/?node_id=369366\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=369366</a> for an almost complete example"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1452682095, "creation_date": 1452682095, "answer_id": 34764656, "question_id": 34753748, "link": "https://stackoverflow.com/questions/34753748/cgi-perl-script-creating-a-customized-signature-file/34764656#34764656", "title": "CGI/Perl script creating a customized signature file", "body": "<p>You'll need an image processing library. You'll see lots of recommendations for <a href=\"https://metacpan.org/release/GD\" rel=\"nofollow\">GD</a> or <a href=\"https://metacpan.org/release/PerlMagick\" rel=\"nofollow\">ImageMagick</a>, but I think I'd use <a href=\"https://metacpan.org/release/Imager\" rel=\"nofollow\">Imager</a>, as it's newer and a little easier to use.</p>\n\n<p>A few general suggestions for improvements to your code.</p>\n\n<ol>\n<li>Always use <code>strict</code> and <code>warnings</code> in your code.</li>\n<li>Declare variables with <code>my</code> (<code>my $cgi = ...</code>).</li>\n<li>The <code>new CGI</code> syntax is potentially problematic. Use <code>CGI-&gt;new</code> instead.</li>\n<li>Use three-arg open and lexical filehandles (<code>open my $image_fh, '&lt;', 'ts.jpg')</code>).</li>\n<li>Always check the return code from <code>open</code> (<code>open my $image_fh, '&lt;', 'ts.jpg') or die $!</code>).</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4275526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44eccacea92954bc6a3e35fab32ef0e?s=128&d=identicon&r=PG&f=1", "display_name": "Steph L", "link": "https://stackoverflow.com/users/4275526/steph-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1453221084, "creation_date": 1453221084, "answer_id": 34882024, "question_id": 34753748, "link": "https://stackoverflow.com/questions/34753748/cgi-perl-script-creating-a-customized-signature-file/34882024#34882024", "title": "CGI/Perl script creating a customized signature file", "body": "<p>I was able to create what I wanted through a Readme provided by alvarotrigo on GitHUb <a href=\"https://github.com/alvarotrigo/PHP-Backend/blob/master/textPainter/README.md\" rel=\"nofollow\">TextPainter</a></p>\n\n<p>I was required to make some minor code changes in order to make it work properly - however, it was very easy to implement.\nNo CGI required. See <a href=\"http://elearning.cpma.ca/Signature/signaturefile.php\" rel=\"nofollow\">SignatureFile</a> for the final outcome of my image.\nThank you to all who responded to my issue.</p>\n"}], "owner": {"reputation": 11, "user_id": 4275526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44eccacea92954bc6a3e35fab32ef0e?s=128&d=identicon&r=PG&f=1", "display_name": "Steph L", "link": "https://stackoverflow.com/users/4275526/steph-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 34882024, "answer_count": 2, "score": -2, "last_activity_date": 1453221084, "creation_date": 1452632589, "question_id": 34753748, "link": "https://stackoverflow.com/questions/34753748/cgi-perl-script-creating-a-customized-signature-file", "title": "CGI/Perl script creating a customized signature file", "body": "<p>I have this working somewhat.\nI have a cgi file that has the following code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse CGI;\n$cgi = new CGI;\n\nopen (IMAGE, \"ts.jpg\");\n$size = -s \"ts.jpg\";\nread IMAGE, $data, $size;\nclose (IMAGE);\n\nprint $cgi-&gt;header(-type=&gt;'image/jpeg'), $data;\n\nexit;\n</code></pre>\n\n<p>This displays my image file corrrectly.\nHowever, I want a user to be able to add 2 lines of text over the image through a web form to generate a new jpeg each time. Here is the URL: <a href=\"http://elearning.cpma.ca/signature.html\" rel=\"nofollow\">http://elearning.cpma.ca/signature.html</a></p>\n\n<p>What am I missing in my cgi file that would allow me to re-publish to screen a new jpeg file with the 2 lines of text appearing on it when I click on the \"Add Text\" Button?</p>\n\n<p>Any assistance would be really appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 3, "creation_date": 1452626580, "post_id": 34752019, "comment_id": 57250096, "body": "<a href=\"http://perldoc.perl.org/perlguts.html\" rel=\"nofollow noreferrer\">perlguts</a>"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 2, "creation_date": 1452628236, "post_id": 34752019, "comment_id": 57251120, "body": "The <code>perlguts</code> itself contains: <i>This document attempts to describe how to use the Perl API, as well as to provide <b>some</b> info on the basic workings of the Perl core. <b>It is far from complete and probably contains many errors.</b> Please refer any questions or comments to the author below.</i> - This question is fairly legal and should be answered more nicely as one world comment."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1452632362, "post_id": 34752019, "comment_id": 57253418, "body": "<a href=\"http://cpansearch.perl.org/src/RURBAN/illguts-0.49/index.html\" rel=\"nofollow noreferrer\">perlguts illustrated</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452632594, "post_id": 34752019, "comment_id": 57253532, "body": "Re. your edit: each operator handles its operands differently. Once you&#39;ve read through perlguts and <a href=\"http://cpansearch.perl.org/src/RURBAN/illguts-0.49/index.html\" rel=\"nofollow noreferrer\">illguts</a>, take a look at some of the opcodes in pp_hot.c in the Perl source. pp_add is interesting because it tries to do integer addition if possible and so adds an integer representation to each operand. The comments are instructive even if you can&#39;t follow the code: <a href=\"https://github.com/Perl/perl5/blob/blead/pp_hot.c#L641\" rel=\"nofollow noreferrer\">github.com/Perl/perl5/blob/blead/pp_hot.c#L641</a>. Also check out pp_print and pp_concat."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1452634260, "post_id": 34752019, "comment_id": 57254399, "body": "Re: How Perl &quot;alternates between them [types]&quot;, the camel book gives a succinct explanation on page 5: &quot;Various operators expect certain kinds of values as parameters, so we will speak of those operators as &quot;providing&quot; or &quot;supplying&quot; a scalar context to those parameters. Sometimes we&#39;ll be more specific, and say it supplies a numeric context, a string context, or a Boolean context...&quot;. The implication being that operators are NOT overloaded and the expected types can be uniquely determined from <i>them</i>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1452635630, "post_id": 34752019, "comment_id": 57255080, "body": "@JeffY with certain exceptions like the bitwise operators, that have one mode of operation of both operands are just strings and another if either is a stored as a number (which can happen from just using it in a numeric context) (e.g. &quot;0&quot;^&quot;0&quot; is &quot;\\0&quot; but 0^0 is 0)"}], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 12, "last_activity_date": 1452629980, "last_edit_date": 1452629980, "creation_date": 1452628473, "answer_id": 34752624, "question_id": 34752019, "link": "https://stackoverflow.com/questions/34752019/how-are-scalars-stored-under-the-hood-in-perl/34752624#34752624", "title": "How are scalars stored &#39;under the hood&#39; in perl?", "body": "<p>The formats used by Perl for data storage are documented in the <a href=\"http://perldoc.perl.org/perlguts.html\"><code>perlguts</code></a> perldoc.</p>\n\n<p>In short, though, a Perl scalar is stored as a <code>SV</code> structure containing one of a number of different types, such as an <code>int</code>, a <code>double</code>, a <code>char *</code>, or a pointer to another scalar. (These types are stored as a C <code>union</code>, so only one of them will be present at a time; the SV contains flags indicating which type is used.)</p>\n\n<p>(With regard to hash keys, there's an important gotcha to note there: <em>hash keys are always strings, and are always stored as strings</em>. They're stored in a different type from other scalars.)</p>\n\n<p>The Perl API includes a number of functions which can be used to access the value of a scalar as a desired C type. For example, <code>SvIV()</code> can be used to return the integer value of a SV: if the SV contains an <code>int</code>, that value is returned directly; if the SV contains another type, it's coerced to an integer as appropriate. These functions are used throughout the Perl interpreter for type conversions. However, there is no automatic inference of types on output; functions which operate on strings will always return a <code>PV</code> (string) scalar, for instance, regardless of whether the string \"looks like\" a number or not.</p>\n\n<p>If you're curious what a given scalar looks like internally, you can use the <a href=\"https://metacpan.org/pod/Devel::Peek\"><code>Devel::Peek</code></a> module to dump its contents.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 13, "last_activity_date": 1522753244, "last_edit_date": 1522753244, "creation_date": 1452632962, "answer_id": 34753839, "question_id": 34752019, "link": "https://stackoverflow.com/questions/34752019/how-are-scalars-stored-under-the-hood-in-perl/34753839#34753839", "title": "How are scalars stored &#39;under the hood&#39; in perl?", "body": "<p>There are actually a number of types of scalars. A scalar of type <code>SVt_IV</code> can hold undef, a signed integer (<code>IV</code>) or an unsigned integer (<code>UV</code>). One of type <code>SVt_PVIV</code> can also hold a string<sup>[1]</sup>. Scalars are silently upgraded from one type to another as needed<sup>[2]</sup>. The <code>TYPE</code> field indicates the type of a scalar. In fact, arrays (<code>SVt_AV</code>) and hashes (<code>SVt_HV</code>) are really just types of scalars. </p>\n\n<p>While the type of a scalar indicates what the scalar <em>can</em> contain, flags are used to indicate what a scalar <em>does</em> contain. This is stored in the <code>FLAGS</code> field. <code>SVf_IOK</code> signals that a scalar contains a signed integer, while <code>SVf_POK</code> indicates it contains a string<sup>[3]</sup>.</p>\n\n<p><a href=\"http://search.cpan.org/perldoc?Devel::Peek\" rel=\"nofollow noreferrer\">Devel::Peek</a>'s <code>Dump</code> is a great tool for looking at the internals of scalars. (The constant prefixes <code>SVt_</code> and <code>SVf_</code> are omitted by <code>Dump</code>.)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'\n   use Devel::Peek qw( Dump );\n   my $x = 123;\n   Dump($x);\n   $x = \"456\";\n   Dump($x);\n   $x + 0;\n   Dump($x);\n'\nSV = IV(0x25f0d20) at 0x25f0d30       &lt;-- SvTYPE(sv) == SVt_IV, so it can contain an IV.\n  REFCNT = 1\n  FLAGS = (IOK,pIOK)                  &lt;-- IOK: Contains an IV.\n  IV = 123                            &lt;-- The contained signed integer (IV).\n\nSV = PVIV(0x25f5ce0) at 0x25f0d30     &lt;-- The SV has been upgraded to SVt_PVIV\n  REFCNT = 1                              so it can also contain a string now.\n  FLAGS = (POK,IsCOW,pPOK)            &lt;-- POK: Contains a string (but no IV since !IOK).\n  IV = 123                            &lt;-- Meaningless without IOK.\n  PV = 0x25f9310 \"456\"\\0              &lt;-- The contained string.\n  CUR = 3                             &lt;-- Number of bytes used by PV (not incl \\0).\n  LEN = 10                            &lt;-- Number of bytes allocated for PV.\n  COW_REFCNT = 1\n\nSV = PVIV(0x25f5ce0) at 0x25f0d30\n  REFCNT = 1\n  FLAGS = (IOK,POK,IsCOW,pIOK,pPOK)   &lt;-- Now contains both a string (POK) and an IV (IOK).\n  IV = 456                            &lt;-- This will be used in numerical contexts.\n  PV = 0x25f9310 \"456\"\\0              &lt;-- This will be used in string contexts.\n  CUR = 3\n  LEN = 10\n  COW_REFCNT = 1\n</code></pre>\n\n<p><a href=\"http://search.cpan.org/dist/illguts/\" rel=\"nofollow noreferrer\">illguts</a> documents the internal format of variables quite thoroughly, but <a href=\"http://perldoc.perl.org/perlguts.html\" rel=\"nofollow noreferrer\">perlguts</a> might be a better place to start.</p>\n\n<p>If you start writing XS code, keep in mind it's usually a bad idea to check what a scalar contains. Instead, you should request what should have been provided (e.g. using <code>SvIV</code> or <code>SvPVutf8</code>). Perl will automatically convert the value to the requested type (and warn if appropriate). API calls are documented in <a href=\"http://perldoc.perl.org/perlapi.html\" rel=\"nofollow noreferrer\">perlapi</a>.</p>\n\n<hr>\n\n<ol>\n<li><p>In fact, it can hold a string an either a signed integer or an unsigned integer at the same time.</p></li>\n<li><p>All scalars (including arrays and hashes, excluding one type of scalar that can only hold undef) have two memory blocks at their base. Pointers to the scalar point to its <em>head</em>, which contains the <code>TYPE</code> field and a pointer to the <em>body</em>. Upgrading a scalar replaces the body of the scalar. That way, pointers to the scalar aren't invalidated by an upgrade.</p></li>\n<li><p>An undef variable is one without any uppercase <code>OK</code> flags set.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1453311743, "post_id": 34832530, "comment_id": 57549715, "body": "Tangential, but <code>0 + $foo</code> has a more practical usage when you&#39;re serializing data (e.g. with <a href=\"https://metacpan.org/pod/JSON#PERL---JSON\" rel=\"nofollow noreferrer\">JSON</a>)."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 6, "last_activity_date": 1452980993, "creation_date": 1452980993, "answer_id": 34832530, "question_id": 34752019, "link": "https://stackoverflow.com/questions/34752019/how-are-scalars-stored-under-the-hood-in-perl/34832530#34832530", "title": "How are scalars stored &#39;under the hood&#39; in perl?", "body": "<p>Others have addressed the \"how are scalars stored\" part of your question, so I'll skip that.  With regard to how Perl decides which representation of a value to use and when to convert between them, the answer is it depends on which operators are applied to the scalar.  For example, given this code:</p>\n\n<pre><code>my $score = 0;\n</code></pre>\n\n<p>The scalar <code>$score</code> will be initialised with an integer value.  But then when this line of code is run:</p>\n\n<pre><code>say \"Your score is $score\";\n</code></pre>\n\n<p>The double quote operator means that Perl will need a string representation of the value.  So the conversion from integer to string will take place as part of the process of assembling the string argument to the <code>say</code> function.  Interestingly, after the stringification of <code>$score</code>, the underlying representation of the scalar will now include <strong>both</strong> an integer <strong>and</strong> a string representation, allowing subsequent operations to directly grab the relevant value without having to convert again.  If a numeric operator is then applied to the string (e.g.: <code>$score++</code>) then the numeric part will be updated and the (now invalid) string part will be discarded.</p>\n\n<p>This is the reason why Perl operators tend to come in two flavours.  For example comparing values of numbers is done with <code>&lt;</code>, <code>==</code>, <code>&gt;</code> while performing the same comparisons with strings would be done with <code>lt</code>, <code>eq</code>, <code>gt</code>.  Perl will coerce the value of the scalar(s) to the type which matches the operator.  This is why the <code>+</code> operator does numeric addition in Perl but a separate operator <code>.</code> is needed to do string concatenation: <code>+</code> will coerce its arguments to numeric values and <code>.</code> will coerce to strings.</p>\n\n<p>There are some operators that will work with both numeric and string values but which perform a different operation depending on the type of value. For example:</p>\n\n<pre><code>$score = 0;\nsay ++$score;       # 1\nsay ++$score;       # 2\nsay ++$score;       # 3\n\n$score = 'aaa';\nsay ++$score;       # 'aaa'\nsay ++$score;       # 'aab'\nsay ++$score;       # 'aac'\n</code></pre>\n\n<p>With regard to questions of efficiency (and bearing in mind standard disclaimers about premature optimisation etc).  Consider this code which reads a file containing one integer per line, each integer is validated to check it is exactly 8 digits long and the valid ones are stored in an array:</p>\n\n<pre><code>my @numbers;\nwhile(&lt;$fh&gt;) {\n    if(/^(\\d{8})$/) {\n        push @numbers, $1;\n    }\n}\n</code></pre>\n\n<p>Any data read from a file will initially come to us as a string.  The regex used to validate the data will also require a string value in <code>$_</code>.  So the result is that our array <code>@numbers</code> will contain a list of strings.  However, if further uses of the values will be solely in a numeric context, we could use this micro-optimisation to ensure that the array contained only numeric values:</p>\n\n<pre><code>push @numbers, 0 + $1;\n</code></pre>\n\n<p>In my tests with a file of 10,000 lines, populating <code>@numbers</code> with strings used nearly three times as much memory as populating with integer values.  However as with most benchmarks, this has little relevance to normal day-to-day coding in Perl.  You'd only need to worry about that in situations where you a) had performance or memory issues and b) were working with a large number of values.</p>\n\n<p>It's worth pointing out that some of this behaviour is common to other dynamic languages (e.g.: Javascript will silently coerce numeric values to strings).</p>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 1, "accepted_answer_id": 34753839, "answer_count": 3, "score": 14, "last_activity_date": 1522753244, "creation_date": 1452626285, "last_edit_date": 1452629162, "question_id": 34752019, "link": "https://stackoverflow.com/questions/34752019/how-are-scalars-stored-under-the-hood-in-perl", "title": "How are scalars stored &#39;under the hood&#39; in perl?", "body": "<p>The basic types in perl are different then most languages, with types being scalar, array, hash (but apparently not subroutines, &amp;, which I guess are really just scalar references with syntactical sugar).  What is most odd about this is that the most common data types: int, boolean, char, string, all fall under the basic data type \"scalar\".  It seems that perl decides rather to treat a scalar as a string, boolean, or number based off of the operator that modifies it, implying the scalar itself is not actually defined as \"int\" or \"String\" when saved.</p>\n\n<p>This makes me curious as to how these scalars are stored \"under the hood\", particularly in regards to it's effect on efficiency (yes I know scripting languages sacrifice efficiency for flexibility, but they still need to be as optimized as possible when flexibility concerns are not affected).  It's much easier for me to store the number 65535 (which takes two bytes) then the string \"65535\" which takes 6 bytes, as such recognizing that $val = 65535 is storing an int would allow me to use 1/3 the memory, in large arrays this could mean fewer cache hits as well.</p>\n\n<p>It's not just limited to saving memory of course.  There are times when I can offer more significant optimizations if I know what type of scalar to expect.  For instance if I have a hash using very large integers as keys it would be far faster to look up a value if I recognizing the keys as ints, allowing a simply modulo for creating my hash key, then if I have to run more complex hashing logic on a string that has 3 times the bytes.</p>\n\n<p>So I'm wondering how perl handles these scalars under the hood.  Does it store every value as a string, sacrificing the extra memory and cpu cost of constant converting string to int in the case that a scalar is always used as an int?  Or does it have some logic for inference the type of scalar used to determine how to save and manipulate it?</p>\n\n<p>Edit: </p>\n\n<p>TJD linked to perlguts, which answers half my question.  A scalar is actually stored as string, int (signed, unsigned, double) or pointer.  I'm not too surprised, I had mostly expected this behavior to occur under the hood, though it's interesting to see the exact types.  I'm leaving this question open though because perlguts is actually to low level.  Other then telling me that 5 data types exist it doesn't specify how perl works to alternate between them, ie how perl decides which SV type to use when a scalar is saved and how it knows when/how to cast.</p>\n"}, {"tags": ["perl", "parsing"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1452618026, "post_id": 34748766, "comment_id": 57244769, "body": "If you have csv data, perhaps <code>Text::CSV</code> might allow loose quotes with some option."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1452618396, "post_id": 34748766, "comment_id": 57245001, "body": "@TLP Bingo. <a href=\"https://metacpan.org/pod/Text::CSV#allow_loose_quotes\" rel=\"nofollow noreferrer\"><code>allow_loose_quotes</code></a> plus set <code>escape_char</code> to something other than <code>&quot;</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452634317, "post_id": 34748766, "comment_id": 57254426, "body": "Side-note unrelated to your problem: you shouldn&#39;t use <code>&amp;</code> when you call subroutines unless you know what it does and have a good reason for it. See <a href=\"http://stackoverflow.com/questions/1347396/when-should-i-use-the-to-call-a-perl-subroutine\">When should I use the &amp; to call a Perl subroutine?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5779900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba5efdba058a36b7f67dc0e0ffcfb56e?s=128&d=identicon&r=PG&f=1", "display_name": "voiceboy", "link": "https://stackoverflow.com/users/5779900/voiceboy"}, "edited": false, "score": 0, "creation_date": 1452788360, "post_id": 34753528, "comment_id": 57332338, "body": "Thanks you very much. But I need to use the parse_line function. is there any way the parse the &quot; between the &quot; &quot; into \\&quot;.  Just like &quot;Hello&quot;StackOverFlow&quot;  ====&gt; &quot;Hello\\&quot;StackOverFlow&quot;"}], "tags": [], "owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "is_accepted": false, "score": 0, "last_activity_date": 1452631812, "creation_date": 1452631812, "answer_id": 34753528, "question_id": 34748766, "link": "https://stackoverflow.com/questions/34748766/how-can-i-use-textparsewordsparse-line-when-the-line-contains-an-extra-unesc/34753528#34753528", "title": "How can I use Text::ParseWords::parse_line when the line contains an extra unescaped double quote?", "body": "<p>Using @TLP and @ThisSuitIsBlackNot notes:</p>\n\n<pre><code>use 5.022;\nuse Text::CSV;\nuse Data::Dumper;\nmy $line = q(1000,\"test\",\"Hello\"StackOverFlow\");\n\nmy $csv = Text::CSV-&gt;new( {allow_loose_quotes =&gt; 1, escape_char =&gt; '%'});\n$csv-&gt;parse($line);\nmy @fields = $csv-&gt;fields();\nprint Dumper \\@fields;\n\n\n__DATA__\n$VAR1 = [\n          '1000',\n          'test',\n          'Hello\"StackOverFlow'\n        ];\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5779900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba5efdba058a36b7f67dc0e0ffcfb56e?s=128&d=identicon&r=PG&f=1", "display_name": "voiceboy", "link": "https://stackoverflow.com/users/5779900/voiceboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 832, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1452631812, "creation_date": 1452615811, "last_edit_date": 1452616222, "question_id": 34748766, "link": "https://stackoverflow.com/questions/34748766/how-can-i-use-textparsewordsparse-line-when-the-line-contains-an-extra-unesc", "title": "How can I use Text::ParseWords::parse_line when the line contains an extra unescaped double quote?", "body": "<p>I'm using <code>parse_line</code> from <a href=\"https://metacpan.org/pod/Text::ParseWords\" rel=\"nofollow\">Text::ParseWords</a> to parse a line of text. However, when there is an unescaped double quote (<code>\"</code>) inside a pair of double quotes, <code>parse_line</code> fails.</p>\n\n<p>For example:</p>\n\n<pre><code>use Text::ParseWords; \n...\nmy $line = q(1000,\"test\",\"Hello\"StackOverFlow\");\n...\n@arr = &amp;parse_line(\",\",1,$line);\n</code></pre>\n\n<p>I don't want to escape the inner double quote (e.g. <code>\"Hello \\\"StackOverFlow\"</code>).</p>\n\n<p>Is there any other way to parse the line?</p>\n"}, {"tags": ["perl", "hash", "nested"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1452615809, "post_id": 34748694, "comment_id": 57243254, "body": "See <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a> for info on creating and accessing a variety of complex data structures in Perl."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452615867, "post_id": 34748694, "comment_id": 57243293, "body": "You mean like <code>$out-&gt;{topologies}-&gt;[0]-&gt;{id}</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 1700494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/339c988180dae5f19e45f7e3a6e15eda?s=128&d=identicon&r=PG", "display_name": "user1700494", "link": "https://stackoverflow.com/users/1700494/user1700494"}, "edited": false, "score": 0, "creation_date": 1452617205, "post_id": 34748833, "comment_id": 57244190, "body": "Thanks for visualized explanation. Btw it doesn&#39;t work with say but works with print. Useless use of hash element in void context at ./storm_api.pl line 22. Can&#39;t call method &quot;say&quot; on unblessed reference at ./storm_api.pl line 22."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 211, "user_id": 1700494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/339c988180dae5f19e45f7e3a6e15eda?s=128&d=identicon&r=PG", "display_name": "user1700494", "link": "https://stackoverflow.com/users/1700494/user1700494"}, "edited": false, "score": 0, "creation_date": 1452617384, "post_id": 34748833, "comment_id": 57244296, "body": "@user That&#39;s because you have to <code>use feature &#39;say&#39;</code> to get that keyword. I replaced that with an array operation instead."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1598221375, "last_edit_date": 1598221375, "creation_date": 1452616028, "answer_id": 34748833, "question_id": 34748694, "link": "https://stackoverflow.com/questions/34748694/perl-hash-inside-array-inside-hash-how-to-get-values-of-inner-hash/34748833#34748833", "title": "Perl. Hash inside array inside hash. How to get values of inner hash?", "body": "<p>If there is only one topology, it's simply what <a href=\"https://stackoverflow.com/questions/34748694/perl-hash-inside-array-inside-hash-how-to-get-values-of-inner-hash#comment57243293_34748694\">@MattJacob already said in his comment</a>.</p>\n<pre><code>$out-&gt;{topologies}-&gt;[0]-&gt;{id}\n</code></pre>\n<p>If there are more, you can iterate.</p>\n<pre><code>my @ids;\nforeach my $topology ( @{ $out-&gt;{topologies} } ) {\n  push @ids, $topology-&gt;{id};\n}\n</code></pre>\n<p>Here is a visual explanation including free-hand circles.</p>\n<p><a href=\"https://i.stack.imgur.com/lfvxz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfvxz.png\" alt=\"enter image description here\" /></a></p>\n<p>First there is a hash reference that only has the single key <em>topologies</em>.</p>\n<pre><code>$out-&gt;{topologies};\n</code></pre>\n<p>Under that key, there is an array reference. The elements in that array reference are hash references, but there is only one. To get that first one, use the index <code>0</code>.</p>\n<pre><code>$out-&gt;{topologies}-&gt;[0];\n</code></pre>\n<p>Now you've got that hash reference with all the properties of the topology inside. You can use the key <em>id</em> to get the string on the right hand side of the dump.</p>\n<pre><code>$out-&gt;{topologies}-&gt;[0]-&gt;{id};\n</code></pre>\n<hr />\n<p>Also see <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452616702, "post_id": 34748957, "comment_id": 57243863, "body": "I wasn&#39;t sure about 5.10, so I checked <a href=\"http://perldoc.perl.org/5.10.1/perlreftut.html#Arrow-Rule\" rel=\"nofollow noreferrer\">perldoc.perl.org/5.10.1/perlreftut.html#Arrow-Rule</a>. The arrow is indeed already optional in that version. Didn&#39;t want to steal your answer btw. You were fast with your comment."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452617037, "post_id": 34748957, "comment_id": 57244091, "body": "@simbabque Thanks, and no worries. I wrote the comment because I thought it was too simple for an answer, but then I realized that it does actually answer the question, so I expanded it into an answer."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 3, "last_activity_date": 1452616349, "creation_date": 1452616349, "answer_id": 34748957, "question_id": 34748694, "link": "https://stackoverflow.com/questions/34748694/perl-hash-inside-array-inside-hash-how-to-get-values-of-inner-hash/34748957#34748957", "title": "Perl. Hash inside array inside hash. How to get values of inner hash?", "body": "<p>To answer your specific question, you need to use the <a href=\"http://perldoc.perl.org/perlop.html#The-Arrow-Operator\" rel=\"nofollow\">dereference operator</a> (<code>-&gt;</code>):</p>\n\n<pre><code>$out-&gt;{topologies}-&gt;[0]-&gt;{id}\n</code></pre>\n\n<p>Technically, the arrow is optional between subscripts, so the line above could be rewritten as:</p>\n\n<pre><code>$out-&gt;{topologies}[0]{id}\n</code></pre>\n\n<p>But since you're asking the question in the first place, I would recommend reading <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldsc</a>, <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a>, and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a> to get a solid foundation for references in Perl.</p>\n"}], "owner": {"reputation": 211, "user_id": 1700494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/339c988180dae5f19e45f7e3a6e15eda?s=128&d=identicon&r=PG", "display_name": "user1700494", "link": "https://stackoverflow.com/users/1700494/user1700494"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 34748833, "answer_count": 2, "score": 1, "last_activity_date": 1598221375, "creation_date": 1452615635, "question_id": 34748694, "link": "https://stackoverflow.com/questions/34748694/perl-hash-inside-array-inside-hash-how-to-get-values-of-inner-hash", "title": "Perl. Hash inside array inside hash. How to get values of inner hash?", "body": "<p>There is a simple code to query storm api</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse HTTP::Request;\nuse LWP::UserAgent;\nuse LWP::Simple;\nuse JSON::XS;\nuse Try::Tiny;\nuse Data::Dumper;\n\nmy $ua = LWP::UserAgent-&gt;new; \nmy $status = $ua-&gt;get(\"http://lab7.local:8888/api/v1/topology/summary\");\nmy $sts = $status-&gt;decoded_content;\nmy $coder = JSON::XS-&gt;new-&gt;ascii-&gt;pretty-&gt;allow_nonref;\nmy $out = try {my $output = $coder-&gt;decode($sts)} catch {undef};\nprint Dumper(\\%$out);\n</code></pre>\n\n<p>The output</p>\n\n<pre><code>$VAR1 = {\n      'topologies' =&gt; [\n                        {\n                          'encodedId' =&gt; 'subscriptions_lab_product-8-1452610838',\n                          'workersTotal' =&gt; 1,\n                          'status' =&gt; 'ACTIVE',\n                          'uptime' =&gt; '35m 54s',\n                          'name' =&gt; 'subscriptions_lab_product',\n                          'id' =&gt; 'subscriptions_lab_product-8-1452610838',\n                          'tasksTotal' =&gt; 342,\n                          'executorsTotal' =&gt; 342\n                        }\n                      ]\n    };\n</code></pre>\n\n<p>How can i get for example the 'id' value of inner hash?<br>\nOS: RHEL6.6<br>\nPerl: 5.10.1</p>\n"}, {"tags": ["perl", "error-handling", "warnings", "raku"], "comments": [{"owner": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "edited": false, "score": 2, "creation_date": 1452693883, "post_id": 34747960, "comment_id": 57282215, "body": "perhaps something like <code>CONTROL { when CX::Warn { note $_; exit 1 } }</code> in the script&#39;s mianline?"}, {"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "reply_to_user": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "edited": false, "score": 0, "creation_date": 1453358799, "post_id": 34747960, "comment_id": 57568644, "body": "@Christoph: Could you turn your comment into an answer?"}], "answers": [{"comments": [{"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 1, "creation_date": 1452703953, "post_id": 34768475, "comment_id": 57289921, "body": "I prefer <code>CONTROL { when CX::Warn { note $_; exit 1 } }</code> from Christoph&#39;s comment, because it dies more often."}, {"owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "edited": false, "score": 0, "creation_date": 1452707867, "post_id": 34768475, "comment_id": 57292520, "body": "As I understand it, using &quot;ucfirst($someString) will generate a warning about using deprecated code, but use fatal will not turn this into a fatal exception."}, {"owner": {"reputation": 116, "user_id": 5196055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vMn4t.png?s=128&g=1", "display_name": "Aaron Baugher", "link": "https://stackoverflow.com/users/5196055/aaron-baugher"}, "edited": false, "score": 0, "creation_date": 1452709502, "post_id": 34768475, "comment_id": 57293480, "body": "Good catch.  I wonder if that&#39;s because &#39;use fatal&#39; applies to Exceptions, and maybe deprecated code doesn&#39;t produce an Exception, but a warning at an earlier level."}, {"owner": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "edited": false, "score": 1, "creation_date": 1452713273, "post_id": 34768475, "comment_id": 57295843, "body": "@AaronBaugher: <code>use fatal</code> makes failures throw immediately; however, warnings do already throw - they are just resumed by default"}], "tags": [], "owner": {"reputation": 116, "user_id": 5196055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vMn4t.png?s=128&g=1", "display_name": "Aaron Baugher", "link": "https://stackoverflow.com/users/5196055/aaron-baugher"}, "is_accepted": false, "score": 3, "last_activity_date": 1452693108, "creation_date": 1452693108, "answer_id": 34768475, "question_id": 34747960, "link": "https://stackoverflow.com/questions/34747960/perl6-how-could-i-make-all-warnings-fatal/34768475#34768475", "title": "Perl6: How could I make all warnings fatal?", "body": "<p>You can make all exceptions immediately fatal with 'use fatal'.  For instance, this code will not throw an error until you attempt to read from $file, so it will reach the 'say' line.  If you uncomment 'use fatal', it will die immediately at the 'open' statement, and not reach the 'say' line.</p>\n\n<p>For more fine-grained control, see the try/CATCH system for exceptions.</p>\n\n<pre><code># use fatal;\nmy $file = open 'nonexistent', :r;\nsay 'Reached here';\nmy @lines = $file.IO.lines;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1549637144, "post_id": 34938304, "comment_id": 95985628, "body": "The downside of this is that this does not produce fatal warnings when uninitialized values are given to <code>say</code>.  I don&#39;t know how to fix this yet"}], "tags": [], "owner": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "is_accepted": true, "score": 3, "last_activity_date": 1453431873, "creation_date": 1453431873, "answer_id": 34938304, "question_id": 34747960, "link": "https://stackoverflow.com/questions/34747960/perl6-how-could-i-make-all-warnings-fatal/34938304#34938304", "title": "Perl6: How could I make all warnings fatal?", "body": "<p>Warnings are control exceptions of type <code>CX::Warn</code> that are resumed by default. If you want to change that behaviour, you need to add a <code>CONTROL</code> block, in your case something like this:</p>\n\n<pre><code>CONTROL {\n    when CX::Warn {\n        note $_;\n        exit 1;\n    }\n}\n</code></pre>\n\n<p>Ignoring all warning instead of making them fatal would look like this:</p>\n\n<pre><code>CONTROL {\n    when CX::Warn { .resume }\n}\n</code></pre>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 3, "accepted_answer_id": 34938304, "answer_count": 2, "score": 3, "last_activity_date": 1453431873, "creation_date": 1452613576, "last_edit_date": 1452703808, "question_id": 34747960, "link": "https://stackoverflow.com/questions/34747960/perl6-how-could-i-make-all-warnings-fatal", "title": "Perl6: How could I make all warnings fatal?", "body": "<p>How could I make all warnings in Perl6 fatal, so that the script dies as soon as a warning appears on the screen.</p>\n\n<hr>\n\n<p><code>CONTROL { when CX::Warn { note $_; exit 1 } }</code> dies more often.</p>\n\n<p>This script dies with <code>CONTROL { when CX::Warn { note $_; exit 1 } }</code> but not with <code>use fatal</code>:</p>\n\n<pre><code>#!/usr/bin/env perl6\nuse v6;\n\nmy @a = 1 .. 4;\n@a[5] = 6;\nmy @b;\n\nfor @a -&gt; $i {\n    @b.push( ~$i );\n}\n\nsay \"=====\\n\" x 3;\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 5, "creation_date": 1452609211, "post_id": 34746287, "comment_id": 57238332, "body": "And if you use <code>$arr[1] = 1;</code>. etc? <i>Always</i> <code>use strict; use warnings;</code>!"}, {"owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1452609387, "post_id": 34746287, "comment_id": 57238472, "body": "good point about the strict &amp; warnings. I&#39;d still like to stick to the question, how can i get a count result when declared using <code>{ }</code> instead of <code>[ ]</code>?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 10, "creation_date": 1452609514, "post_id": 34746287, "comment_id": 57238587, "body": "What did enabling strict and warnings show you? Something about a missing <code>%arr</code>, perhaps? <code>$arr{1}</code> modifies <code>%arr</code>, not <code>@arr</code>. You&#39;re going to have to stick to Perl&#39;s syntax."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 9, "creation_date": 1452609689, "post_id": 34746287, "comment_id": 57238705, "body": "Failing to <code>use strict;</code> is your biggest mistake."}], "answers": [{"tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 2, "last_activity_date": 1452609498, "creation_date": 1452609498, "answer_id": 34746521, "question_id": 34746287, "link": "https://stackoverflow.com/questions/34746287/count-perl-array-size/34746521#34746521", "title": "Count Perl array size", "body": "<p>You are initializing a hash, not an array.</p>\n\n<p>To get the \"size\" of your hash you can write.</p>\n\n<pre><code>my $size = keys %arr;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1452612588, "post_id": 34746567, "comment_id": 57240897, "body": "Instead of showing them how to <code>grep</code> out the undefined elements, I think it makes more sense to just show them how to populate an array starting with index zero. I can just picture them using that <code>grep</code> every time they create a new array because Perl has this &quot;weird bug&quot; that always puts an undefined element at the beginning of arrays."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 16, "last_activity_date": 1452613306, "last_edit_date": 1452613306, "creation_date": 1452609628, "answer_id": 34746567, "question_id": 34746287, "link": "https://stackoverflow.com/questions/34746287/count-perl-array-size/34746567#34746567", "title": "Count Perl array size", "body": "<p>First off:</p>\n\n<pre><code>my @arr;\n\n$arr{1} = 1;\n$arr{2} = 2;\n$arr{3} = 3;\n</code></pre>\n\n<p>is nonsense. <code>{}</code> is for hash keys, so you are referring to <code>%arr</code> not <code>@arr</code>. <code>use strict;</code> and <code>use warnings;</code> would have told you this, and is just one tiny fragment of why they're considered mandatory. </p>\n\n<p>To count the elements in an array, merely access it in a scalar context.</p>\n\n<pre><code>print scalar @arr; \n\nif ( $num_elements &lt; @arr ) { do_something(); }\n</code></pre>\n\n<p>But you would need to change your thing to</p>\n\n<pre><code> my @arr;\n\n$arr[1] = 1;\n$arr[2] = 2;\n$arr[3] = 3;\n</code></pre>\n\n<p>And note - the first element of your array <code>$arr[0]</code> would be undefined.</p>\n\n<pre><code>$VAR1 = [\n          undef,\n          1,\n          2,\n          3\n        ];\n</code></pre>\n\n<p>As a result, you would get a result of 4. To get the desired 'count of elements' you would need to filter the undefined items, with something like <code>grep</code>:</p>\n\n<pre><code>print scalar grep {defined} @arr;\n</code></pre>\n\n<p>This will take <code>@arr</code> filter it with <code>grep</code> (returning 3 elements) and then take the scalar value - count of elements, in this case 3.  </p>\n\n<p>But normally - you wouldn't do this. It's only necessary because you're trying to insert values into specific 'slots' in your array. </p>\n\n<p>What you would do more commonly, is use either a direct assignment:</p>\n\n<pre><code>my @arr = ( 1, 2, 3 );\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>push ( @arr, 1 );\npush ( @arr, 2 ); \npush ( @arr, 3 ); \n</code></pre>\n\n<p>Which inserts the values at the end of the array. You would - if explicitly iterating - go from <code>0..$#arr</code> but you rarely need to do this when you can do:</p>\n\n<pre><code>foreach my $element ( @arr ) { \n   print $element,\"\\n\"; \n}\n</code></pre>\n\n<p>Or you can do it with a hash:</p>\n\n<pre><code>my %arr;\n\n$arr{1} = 1;\n$arr{2} = 2;\n$arr{3} = 3;\n</code></pre>\n\n<p>This turns your array into a set of (unordered) key-value pairs, which you can access with <code>keys %arr</code> and do exactly the same:</p>\n\n<pre><code>print scalar keys %arr;\nif ( $elements &lt; keys %arr ) { do_something(); } \n</code></pre>\n\n<p>In this latter case, your hash will be:</p>\n\n<pre><code>$VAR1 = {\n          '1' =&gt; 1,\n          '3' =&gt; 3,\n          '2' =&gt; 2\n        };\n</code></pre>\n\n<p>I would suggest this is bad practice - if you have ordered values, the tool for the job is the array. If you have 'key' values, a hash is probably the tool for the job still - such as a 'request ID' or similar. You can typically tell the difference by looking at how you access the data, and whether there are any gaps (including from zero). </p>\n\n<p>So to answer your question as asked:</p>\n\n<pre><code>my $size = @arr;\nprint $size; # prints 0\nprint scalar @arr; # prints 0\n</code></pre>\n\n<p>These don't work, because you never insert any values into <code>@arr</code>. But you do have a hash called <code>%arr</code> which you created implicitly. (And again - <code>use strict;</code> and <code>use warnings;</code> would have told you this). </p>\n"}, {"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1452612206, "creation_date": 1452612206, "answer_id": 34747452, "question_id": 34746287, "link": "https://stackoverflow.com/questions/34746287/count-perl-array-size/34747452#34747452", "title": "Count Perl array size", "body": "<p>I just thought there should be an illustration of your code run with USUW (use strict/use warnings) and what it adds to the troubleshooting process: </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @arr;\n...\n</code></pre>\n\n<p>And when you run it:</p>\n\n<pre><code>Global symbol \"%arr\" requires explicit package name (did you forget to declare \"my %arr\"?) at - line 9.\nGlobal symbol \"%arr\" requires explicit package name (did you forget to declare \"my %arr\"?) at - line 10.\nGlobal symbol \"%arr\" requires explicit package name (did you forget to declare \"my %arr\"?) at - line 11.\nExecution of - aborted due to compilation errors.\n</code></pre>\n\n<p>So USUW. </p>\n"}, {"tags": [], "owner": {"reputation": 1109, "user_id": 4585960, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097867072505/picture?type=large", "display_name": "Kenny Grage", "link": "https://stackoverflow.com/users/4585960/kenny-grage"}, "is_accepted": false, "score": 0, "last_activity_date": 1452631779, "creation_date": 1452631779, "answer_id": 34753515, "question_id": 34746287, "link": "https://stackoverflow.com/questions/34746287/count-perl-array-size/34753515#34753515", "title": "Count Perl array size", "body": "<p>You may be thinking that you are instantiating an element of @arr when you are typing in the following code:</p>\n\n<pre><code>$arr{1} = 1;\n</code></pre>\n\n<p>However, you are instantiating a hash doing that. This tells me that you are not using strict or you would have an error. Instead, change to brackets, like this:</p>\n\n<pre><code>$arr[1] = 1;\n</code></pre>\n"}], "owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2626, "favorite_count": 0, "accepted_answer_id": 34746567, "answer_count": 4, "score": 1, "last_activity_date": 1614150385, "creation_date": 1452608886, "last_edit_date": 1614150385, "question_id": 34746287, "link": "https://stackoverflow.com/questions/34746287/count-perl-array-size", "title": "Count Perl array size", "body": "<p>I'm trying to print out the size of my array. I've followed a few other questions like this one on Stack\u00a0Overflow. However, I never get the result I want.</p>\n<p>All I wish for in this example is for the value of 3 to be printed as I have three indexes. All I get, from both print methods is 0.</p>\n<pre><code>my @arr;\n\n$arr{1} = 1;\n$arr{2} = 2;\n$arr{3} = 3;\n\nmy $size = @arr;\n\nprint $size; # Prints 0\n\nprint scalar @arr; # Prints 0\n</code></pre>\n<p>What am I doing wrong, and how do I get the total size of an array when declared <em>and</em> populated this way?</p>\n"}, {"tags": ["perl", "session", "session-cookies", "sessionid"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452608904, "post_id": 34746024, "comment_id": 57238098, "body": "It looks like there is indeed no built-in way in CGI::Session to do that. You might need to create a second session object to utilize the session id generator, and then either move stuff over to the new one. Simply updating the id in the session object will not work as that would not trigger a write to the data sink. You could implement that as a subclass of CGI::Session so it becomes a method that replaces the object you already have."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452614140, "post_id": 34746024, "comment_id": 57242024, "body": "Why would you want to do that? Is it because you want to start a fresh session? Then do that!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1452615121, "post_id": 34746024, "comment_id": 57242762, "body": "@ikegami it has to do with session fixation attacks. See <a href=\"http://stackoverflow.com/a/22965580/1331451\">stackoverflow.com/a/22965580/1331451</a> and maybe <a href=\"http://security.stackexchange.com/q/37559/21265\">security.stackexchange.com/q/37559/21265</a>. It seems to be a valid point to do it, but CGI::Session probably predates the time this attack type was given a name."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452616131, "post_id": 34746024, "comment_id": 57243473, "body": "@simbabque, I see. But that type of attack doesn&#39;t work if you accept the session id from cookies since the third-party can&#39;t set a cookie for your site."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452617104, "post_id": 34746024, "comment_id": 57244129, "body": "@ikegami well, it should not work if you only accept it from a cookie, but there might be a way to get a cookie onto the target machine. Of course it&#39;s questionable whether the attacker would go through that kind of trouble if they already have the means to alter a cookie on the target. This feature comes at little cost, though, so it&#39;s probably not a bad idea to do it. I thought I&#39;d seen an implementation with Dancer or Dancer2, but I can&#39;t find it right now."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1452617466, "post_id": 34746024, "comment_id": 57244360, "body": "@simbabque, Re &quot;there might be a way to get a cookie onto the target machine&quot;, XSS. But if they can do that, ..."}, {"owner": {"reputation": 43, "user_id": 4144804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a09805d0f20a2b9a12e1ae219bff00c?s=128&d=identicon&r=PG&f=1", "display_name": "sjottil", "link": "https://stackoverflow.com/users/4144804/sjottil"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452697956, "post_id": 34746024, "comment_id": 57285190, "body": "@simbabque, I seem to have some trouble with what you suggested as creating a second session object with $newSession = CGI::Session-&gt;new() or die CGI::Session-&gt;errstr; only will return the value of the first one. So what I tried was then deleting the first session cookie and adding a new session object, but this kicks the user out of the application. Any ideas?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452698750, "post_id": 34746024, "comment_id": 57285791, "body": "You have to create a new session object, move all the data from the old one to the new one, delete the old one in your data sink and send the session id of the new session to the client."}], "owner": {"reputation": 43, "user_id": 4144804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a09805d0f20a2b9a12e1ae219bff00c?s=128&d=identicon&r=PG&f=1", "display_name": "sjottil", "link": "https://stackoverflow.com/users/4144804/sjottil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1452608378, "creation_date": 1452608155, "last_edit_date": 1452608378, "question_id": 34746024, "link": "https://stackoverflow.com/questions/34746024/how-do-i-change-the-session-id-with-cgisession", "title": "How do I change the session id with CGI::Session?", "body": "<p>I have this application where you create a session cookie like so:</p>\n\n<pre><code>$session = CGI::Session-&gt;new() or die CGI::Session-&gt;errstr;\n$cookie = CGI::Cookie-&gt;new(-name=&gt;$session-&gt;name, -value=&gt;$session-&gt;id,-expires=&gt;'+2h', -secure =&gt; 1 );\n</code></pre>\n\n<p>And then set the header like this:</p>\n\n<pre><code>print $q-&gt;header(-cookie=&gt;$cookie);\n</code></pre>\n\n<p>I need to change the session ID of this cookie upon logging in to the application (in a smiliar manner to php's <code>session_regenerate_id</code> ). Is there anyway of doing this in Perl? I've been looking through the documentation and I can't find any ways of doing this really. If not, other suggestions on how to solve this are welcomed.</p>\n"}, {"tags": ["xml", "perl", "libxml2"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 2, "creation_date": 1452604302, "post_id": 34744470, "comment_id": 57234573, "body": "Note that you can call <code>findnodes</code> directly on the document node: <code>$respDom-&gt;findnodes(&quot;&#47;&#47;content&quot;)</code>"}, {"owner": {"reputation": 3420, "user_id": 1528988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NxiGR.jpg?s=128&g=1", "display_name": "Aravindhan", "link": "https://stackoverflow.com/users/1528988/aravindhan"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1452680417, "post_id": 34744470, "comment_id": 57273043, "body": "Thanks, Is there any possible way to get only &quot;&lt;data&gt;gt1&lt;/data&gt;&lt;data&gt;check_gt1&lt;/data&gt;&quot; in perl without doing the parsing ?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1452606537, "post_id": 34744569, "comment_id": 57236269, "body": "Note that <code>toString</code> on a non-document node produces text that&#39;s not encoded."}, {"owner": {"reputation": 3420, "user_id": 1528988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NxiGR.jpg?s=128&g=1", "display_name": "Aravindhan", "link": "https://stackoverflow.com/users/1528988/aravindhan"}, "edited": false, "score": 0, "creation_date": 1453102616, "post_id": 34744569, "comment_id": 57438723, "body": "Is there any possible way to get only &quot;&lt;data&gt;gt1&lt;/data&gt;&lt;data&gt;check_gt1&lt;/data&gt;&quot; in perl without doing the parsing ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3420, "user_id": 1528988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NxiGR.jpg?s=128&g=1", "display_name": "Aravindhan", "link": "https://stackoverflow.com/users/1528988/aravindhan"}, "edited": false, "score": 0, "creation_date": 1453115847, "post_id": 34744569, "comment_id": 57446308, "body": "I&#39;m not sure I understand @Aravind."}, {"owner": {"reputation": 3420, "user_id": 1528988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NxiGR.jpg?s=128&g=1", "display_name": "Aravindhan", "link": "https://stackoverflow.com/users/1528988/aravindhan"}, "edited": false, "score": 0, "creation_date": 1453182346, "post_id": 34744569, "comment_id": 57477394, "body": "From the above answer it provided &quot;&lt;content&gt;&lt;data&gt;gt1&lt;/data&gt;&lt;data&gt;check_gt1&lt;/data&gt;&lt;/content&gt;&quot; as result. Is it possible to get &quot;&lt;data&gt;gt1&lt;/data&gt;&lt;data&gt;check_gt1&lt;/data&gt;&quot; as result(Without the element content)?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3420, "user_id": 1528988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NxiGR.jpg?s=128&g=1", "display_name": "Aravindhan", "link": "https://stackoverflow.com/users/1528988/aravindhan"}, "edited": false, "score": 0, "creation_date": 1453194094, "post_id": 34744569, "comment_id": 57482954, "body": "@Aravind have you looked at the documentation I linked at all?"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1453194419, "last_edit_date": 1453194419, "creation_date": 1452604098, "answer_id": 34744569, "question_id": 34744470, "link": "https://stackoverflow.com/questions/34744470/getting-full-xml-string-from-perl-libxml-parser/34744569#34744569", "title": "Getting full XML string from PERL LibXML Parser", "body": "<p>The XML::LibXML::Node objects have <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/Node.pod#toString\" rel=\"nofollow\">a method <code>toString</code></a>. That's what you need. I found it with a quick search of the XML::LibXML documentation.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $xmldata = &lt;&lt;'XML';\n&lt;table&gt;\n&lt;col1&gt;check1&lt;/col1&gt;\n&lt;col2&gt;check2&lt;/col2&gt;\n&lt;col3&gt;check3&lt;/col3&gt;\n&lt;content&gt;\n    &lt;data&gt;gt1&lt;/data&gt;\n    &lt;data&gt;check_gt1&lt;/data&gt;\n&lt;/content&gt;\n&lt;/table&gt;\nXML\n\nmy $parser = XML::LibXML-&gt;new();\nmy $respDom = $parser-&gt;parse_string($xmldata);\nprint \"content is \"\n  . $respDom-&gt;getDocumentElement-&gt;findnodes(\"//content\")-&gt;[0]-&gt;toString;\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>content is &lt;content&gt;\n    &lt;data&gt;gt1&lt;/data&gt;\n    &lt;data&gt;check_gt1&lt;/data&gt;\n&lt;/content&gt;\n</code></pre>\n\n<hr>\n\n<p>In general, I always search for either <code>to_string</code>, <code>as_string</code>, <code>stringify</code> or simply <code>string</code> if I need something like that and am not sure how that works in a specific module. It's almost always one of those.</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>To only get the inside XML of the <code>&lt;content&gt;</code> element, you have to grab its child nodes and do <code>toString</code> for each of them. The <code>map</code> whole thing needs to be called in <em>list context</em>, or it will throw an error. Note how I changed the <code>.</code> to a <code>,</code> in the <code>print</code> statement.</p>\n\n<pre><code>print \"content is \"\n  , $respDom-&gt;getDocumentElement-&gt;findnodes(\"//content\")-&gt;[0]-&gt;childNodes-&gt;map(sub {$_-&gt;toString});\n</code></pre>\n"}], "owner": {"reputation": 3420, "user_id": 1528988, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NxiGR.jpg?s=128&g=1", "display_name": "Aravindhan", "link": "https://stackoverflow.com/users/1528988/aravindhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1197, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1453194419, "creation_date": 1452603851, "question_id": 34744470, "link": "https://stackoverflow.com/questions/34744470/getting-full-xml-string-from-perl-libxml-parser", "title": "Getting full XML string from PERL LibXML Parser", "body": "<p>I am having following XML which I required to process</p>\n\n<pre><code>&lt;table&gt;\n&lt;col1&gt;check1&lt;/col1&gt;\n&lt;col2&gt;check2&lt;/col2&gt;\n&lt;col3&gt;check3&lt;/col3&gt;\n&lt;content&gt;\n    &lt;data&gt;gt1&lt;/data&gt;\n    &lt;data&gt;check_gt1&lt;/data&gt;\n&lt;/content&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>I want to get \"<code>&lt;content&gt;&lt;data&gt;gt1&lt;/data&gt;&lt;data&gt;check_gt1&lt;/data&gt;&lt;/content&gt;</code>\" from the parser. </p>\n\n<p>My parsing code is as follows,</p>\n\n<pre><code>my $parser = XML::LibXML-&gt;new();\nmy $respDom = $parser-&gt;parse_string($xmldata);\nprint \"content is \".$respDom-&gt;getDocumentElement-&gt;findnodes(\"//content\");\n</code></pre>\n\n<p>The above code results in the textContent inside the nodes.How can I get the data I mentioned above ?</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1452596985, "post_id": 34741768, "comment_id": 57229675, "body": "Please post the exact error string."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1452599082, "post_id": 34741768, "comment_id": 57230966, "body": "Please show your full module declaration."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "edited": false, "score": 0, "creation_date": 1452600843, "post_id": 34742929, "comment_id": 57232134, "body": "Thanks, although your first suggestion appears to be wrong. The <a href=\"http://perldoc.perl.org/Exporter.html\" rel=\"nofollow noreferrer\">documentation</a> suggests <code>use Exporter &#39;import&#39;</code> as a valid alternative to <code>require</code>. Your second suggestion doesn&#39;t appear to be helpful either as the naming is not confused. The package is <code>Mysql_Routines</code> and the folder containing it is <code>my_modules</code>. This is called from the above directory and so doesn&#39;t need to be added to my library."}, {"owner": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "edited": false, "score": 0, "creation_date": 1452601042, "post_id": 34742929, "comment_id": 57232271, "body": "Furthermore, I specifically don&#39;t want to have to add this to my library, as I want these packages and scripts that call them to be able to work on other machines."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "edited": false, "score": 0, "creation_date": 1452601060, "post_id": 34742929, "comment_id": 57232285, "body": "Yes, I updated my post to note that <code>use Exporter qw(import)</code> works just before you added your comment."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "edited": false, "score": 1, "creation_date": 1452601388, "post_id": 34742929, "comment_id": 57232512, "body": "It&#39;s the &quot;my_modules::&quot; in your <code>use my_modules::Mysql_Routines</code> that is causing the problem. It stops your module&#39;s <code>import()</code> function from being called successfully - and that&#39;s what sets up the short alias. If you want this to work then it need to be changed to <code>use Mysql_Routines</code>. And that means you need to add &quot;my_modules&quot; to your library search path somehow. You can use <code>use lib</code> or set <code>PERL5LIB</code> or use the <code>-I</code> command line option, but you&#39;ll need to do it somehow."}, {"owner": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "edited": false, "score": 0, "creation_date": 1452601446, "post_id": 34742929, "comment_id": 57232545, "body": "<code>use &#39;my_modules&#39;</code> also creates the following error: <code>syntax error at test.pl line 7, near &quot;use &#39;bespokedb&#39;&quot; BEGIN not safe after errors--compilation aborted</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "edited": false, "score": 0, "creation_date": 1452601640, "post_id": 34742929, "comment_id": 57232682, "body": "Sorry, yes. Typo. Should be <code>use lib &#39;my_modules&#39;</code>. :-/"}, {"owner": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "edited": false, "score": 0, "creation_date": 1452601843, "post_id": 34742929, "comment_id": 57232827, "body": "I figured it out without having to update the library search path. Solution below. Thanks for your help."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1452614667, "post_id": 34742929, "comment_id": 57242403, "body": "Re &quot;It&#39;s just non-standard.&quot;, That&#39;s not true either. It&#39;s commonly used. And for a good reason; the old interface it replaced (the only you suggested) is badly designed."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1452616064, "post_id": 34742929, "comment_id": 57243438, "body": "You&#39;re right. I think I must have been looking at an older version of the docs - one that didn&#39;t include the newer version. And I&#39;d never come across it before. (/me wanders off to update several training course slides...)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1452614451, "last_edit_date": 1452614451, "creation_date": 1452599452, "answer_id": 34742929, "question_id": 34741768, "link": "https://stackoverflow.com/questions/34741768/cannot-access-function-from-perl-module-without-using-folder-containing-module-i/34742929#34742929", "title": "Cannot access function from perl module without using folder containing module identifier", "body": "<p>You seem to be confused about the name of your module. Is it \"Mysql_Routines\" or \"my_modules::Mysql_Routines\"? I suspect that you want it to be called \"Mysql_Routines\", in which case your <code>use my_modules::Mysql_Routines</code> is rather unusual. Wny wouldn't you just have <code>use Mysql_Routines</code>?</p>\n\n<p>I guess the answer is that your module lives in a directory called \"my_modules\". In which case, the correct approach would be to add that directory to your library search path. You could use code like:</p>\n\n<pre><code>use lib 'my_modules';\nuse Mysql_Routines';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "edited": false, "score": 0, "creation_date": 1452601932, "post_id": 34743748, "comment_id": 57232896, "body": "I should also change the naming of the directory containing the module to <code>My_modules</code>"}], "tags": [], "owner": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "is_accepted": true, "score": 0, "last_activity_date": 1452601782, "creation_date": 1452601782, "answer_id": 34743748, "question_id": 34741768, "link": "https://stackoverflow.com/questions/34741768/cannot-access-function-from-perl-module-without-using-folder-containing-module-i/34743748#34743748", "title": "Cannot access function from perl module without using folder containing module identifier", "body": "<p>I've discovered that the problem is that in the package declaration of the module I didn't include the top directory. </p>\n\n<p>Changing <code>package Mysql_Routines</code> to <code>package my_modules::Mysql_Routines</code> solves the problem. With this solution the library search path does not need to be updated as was suggested as an alternative.</p>\n"}], "owner": {"reputation": 53, "user_id": 5583370, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe9d1eea735c99ea47e30c5cf58100a?s=128&d=identicon&r=PG&f=1", "display_name": "D2J2", "link": "https://stackoverflow.com/users/5583370/d2j2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 34743748, "answer_count": 2, "score": 1, "last_activity_date": 1452686309, "creation_date": 1452596134, "last_edit_date": 1452686309, "question_id": 34741768, "link": "https://stackoverflow.com/questions/34741768/cannot-access-function-from-perl-module-without-using-folder-containing-module-i", "title": "Cannot access function from perl module without using folder containing module identifier", "body": "<p>I have a <code>perl</code> module named <code>Mysql_Routines</code> that contains various functions I use for manipulating <code>mysql</code> data with <code>DBI</code>. I export these functions as follows:</p>\n\n<pre><code>package Mysql_Routines;\n\nuse DBI;\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nuse Exporter qw(import);\nour @EXPORT_OK = qw(connect_to insert_row get_rows);\n</code></pre>\n\n<p>These are accessed from other scripts and modules using the following code:</p>\n\n<pre><code>use my_modules::Mysql_Routines qw (connect_to insert_row get_rows);\n</code></pre>\n\n<p>This would all appear to be standard practice, as documented on <a href=\"http://perlmaven.com/how-to-create-a-perl-module-for-code-reuse\" rel=\"nofollow\" title=\"Perl Maven\">Perl Maven</a>. However, I can only then call these functions by using the module identifier or I get an error that it's an undefined subroutine. For example:</p>\n\n<pre><code>my $dbh = Mysql_Routines::connect_to('./config/mysql-local.conf');\n</code></pre>\n\n<p>works.</p>\n\n<pre><code>my $dbh = connect_to('./config/mysql-local.conf');\n</code></pre>\n\n<p>throws the following error:</p>\n\n<pre><code>Undefined subroutine &amp;main::connect_to called \n</code></pre>\n\n<p>It's obviously not a huge issue, although I'd like to understand why this is happening, as I appear to have followed the correct guidelines for creating modules containing functions.</p>\n\n<hr>\n\n<p>Please see my solution below. The package declaration should have included the top directory. Silly mistake.</p>\n"}, {"tags": ["perl", "smtp"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1452597933, "post_id": 34741232, "comment_id": 57230255, "body": "Why are you using something so horribly low-level? You would be far better off using Email::Sender (or even Email::Stuffer)."}, {"owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1452598440, "post_id": 34741232, "comment_id": 57230576, "body": "@DaveCross, I am adding the cc into a already running code on live system. So don&#39;t want to take any risk by changing the whole approach, even if I do, it wont be approved."}], "answers": [{"comments": [{"owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "edited": false, "score": 0, "creation_date": 1452603067, "post_id": 34741986, "comment_id": 57233709, "body": "how to prepare the ccList with multiple emails? I have tried $ccList = &quot;a@gmail.com,b@gmail.com&quot;;"}, {"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "reply_to_user": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "edited": false, "score": 0, "creation_date": 1532520144, "post_id": 34741986, "comment_id": 90005275, "body": "You need to loop through each email, like $smtp-&gt;cc($_) for(@ccList)"}], "tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": true, "score": 4, "last_activity_date": 1452596719, "creation_date": 1452596719, "answer_id": 34741986, "question_id": 34741232, "link": "https://stackoverflow.com/questions/34741232/cc-bcc-not-working-with-netsmtp-on-perl-with-multiple-email-ids/34741986#34741986", "title": "cc, bcc not working with Net::SMTP on perl, with multiple email ids", "body": "<p>You'll need to notify the server of all the recipients first. The code should look something like this:</p>\n\n<pre><code>$smtp-&gt;mail($supportEmail);\n$smtp-&gt;to($toAddress);\n$smtp-&gt;cc($ccList);\n$smtp-&gt;data();\n$smtp-&gt;datasend(\"From: $supportEmail\\r\\n\");\n$smtp-&gt;datasend(\"To: $toAddress\\r\\n\");\n$smtp-&gt;datasend(\"Cc: $ccList\\r\\n\");\n$smtp-&gt;datasend(\"Subject: \" .$subject. \"\\r\\n\");\n$smtp-&gt;datasend(\"\\r\\n\");\n\n#Send the message.\n$smtp-&gt;datasend(\"$message\");\n$smtp-&gt;datasend(\"\\r\\n\");\n$smtp-&gt;dataend();\n</code></pre>\n"}], "owner": {"reputation": 1105, "user_id": 646210, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/osWJG.jpg?s=128&g=1", "display_name": "paper.plane", "link": "https://stackoverflow.com/users/646210/paper-plane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2050, "favorite_count": 0, "accepted_answer_id": 34741986, "answer_count": 1, "score": 2, "last_activity_date": 1452613552, "creation_date": 1452594703, "last_edit_date": 1452613552, "question_id": 34741232, "link": "https://stackoverflow.com/questions/34741232/cc-bcc-not-working-with-netsmtp-on-perl-with-multiple-email-ids", "title": "cc, bcc not working with Net::SMTP on perl, with multiple email ids", "body": "<p>I am struggling to send a mail via perl script to people in cc list. The actual recipient is receiving the email with proper contents. But the email-address in ccList is not receiving the email.</p>\n\n<pre><code>   $smtp-&gt;data();\n   $smtp-&gt;datasend(\"From: $supportEmail\\r\\n\");\n   $smtp-&gt;datasend(\"To: $toAddress\\r\\n\");\n   $smtp-&gt;datasend(\"Cc: $ccList\\r\\n\");\n   $smtp-&gt;datasend(\"Subject: \" .$subject. \"\\r\\n\");\n   $smtp-&gt;datasend(\"\\r\\n\");\n\n   #Send the message.\n   $smtp-&gt;datasend(\"$message\");\n   $smtp-&gt;datasend(\"\\r\\n\");\n   $smtp-&gt;dataend();\n</code></pre>\n\n<blockquote>\n  <p>There are more than one valid email address in <code>$ccList</code></p>\n</blockquote>\n\n<pre><code>$ccList = 'xyz@gmail.com,pqr@gmail.com';\n</code></pre>\n\n<blockquote>\n  <p>Bad recipient address syntax\n  is what I get in logs.</p>\n</blockquote>\n"}, {"tags": ["php", "apache", "perl", "dll"], "comments": [{"owner": {"reputation": 75794, "user_id": 632951, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/77f196f4d3b4b89fc179071f3aa21e1e?s=128&d=identicon&r=PG", "display_name": "Pacerier", "link": "https://stackoverflow.com/users/632951/pacerier"}, "edited": false, "score": 0, "creation_date": 1460387782, "post_id": 34740438, "comment_id": 60705872, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/33265663/api-ms-win-crt-runtime-l1-1-0-dll-is-missing-when-open-office-file\">api-ms-win-crt-runtime-l1-1-0.dll is missing when open office file</a>"}, {"owner": {"reputation": 720, "user_id": 6073148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6LMP5.jpg?s=128&g=1", "display_name": "Zahid Khan", "link": "https://stackoverflow.com/users/6073148/zahid-khan"}, "edited": false, "score": 0, "creation_date": 1547462979, "post_id": 34740438, "comment_id": 95188372, "body": "The simple and best solution is to downgrade and download PHP 5.6.39 Or PHP 7.0.3"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 5646653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w3vZX.jpg?s=128&g=1", "display_name": "Neel Kamal Neeraj", "link": "https://stackoverflow.com/users/5646653/neel-kamal-neeraj"}, "edited": false, "score": 0, "creation_date": 1452594223, "post_id": 34740701, "comment_id": 57227713, "body": "i run the window update and installed Visual C++ Redistribution 2015 but aborted this installation because same program is installed in my computer and still not resolved the problem."}, {"owner": {"reputation": 326, "user_id": 4122709, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0e3a9473dcc236180d55863eb8e10360?s=128&d=identicon&r=PG&f=1", "display_name": "Vilthering", "link": "https://stackoverflow.com/users/4122709/vilthering"}, "reply_to_user": {"reputation": 303, "user_id": 5646653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w3vZX.jpg?s=128&g=1", "display_name": "Neel Kamal Neeraj", "link": "https://stackoverflow.com/users/5646653/neel-kamal-neeraj"}, "edited": false, "score": 0, "creation_date": 1452594397, "post_id": 34740701, "comment_id": 57227841, "body": "@ABHI KUMAR try download it and open again select repair, if still don&#39;t work try reinstal."}, {"owner": {"reputation": 303, "user_id": 5646653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w3vZX.jpg?s=128&g=1", "display_name": "Neel Kamal Neeraj", "link": "https://stackoverflow.com/users/5646653/neel-kamal-neeraj"}, "edited": false, "score": 0, "creation_date": 1452595022, "post_id": 34740701, "comment_id": 57228266, "body": "it gives the same problem in installation after selecting repair"}, {"owner": {"reputation": 326, "user_id": 4122709, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0e3a9473dcc236180d55863eb8e10360?s=128&d=identicon&r=PG&f=1", "display_name": "Vilthering", "link": "https://stackoverflow.com/users/4122709/vilthering"}, "reply_to_user": {"reputation": 303, "user_id": 5646653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w3vZX.jpg?s=128&g=1", "display_name": "Neel Kamal Neeraj", "link": "https://stackoverflow.com/users/5646653/neel-kamal-neeraj"}, "edited": false, "score": 0, "creation_date": 1452595840, "post_id": 34740701, "comment_id": 57228848, "body": "@ABHI KUMAR okay are you instal both or only 1? if your computer 64 try instal 32bit too, if only 32 try unsintal then open Ccleaner then try Run Cleaner &amp; Fix Issues Registry then restart, after that try instal again. should be work."}, {"owner": {"reputation": 303, "user_id": 5646653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w3vZX.jpg?s=128&g=1", "display_name": "Neel Kamal Neeraj", "link": "https://stackoverflow.com/users/5646653/neel-kamal-neeraj"}, "edited": false, "score": 4, "creation_date": 1452607682, "post_id": 34740701, "comment_id": 57237126, "body": "my system is 64 ,installed 32 bit , finally installed the older version 5.6.12 and its working fine. thanks dear"}, {"owner": {"reputation": 11060, "user_id": 4906, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/be1412da6c2da03393da8fcbeb015f1e?s=128&d=identicon&r=PG", "display_name": "Clay Nichols", "link": "https://stackoverflow.com/users/4906/clay-nichols"}, "edited": false, "score": 0, "creation_date": 1454277058, "post_id": 34740701, "comment_id": 57960450, "body": "That link is now invalid."}, {"owner": {"reputation": 305, "user_id": 5518652, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f216a90dc8a0bbb8430520574c2622ed?s=128&d=identicon&r=PG&f=1", "display_name": "nirav jobanputra", "link": "https://stackoverflow.com/users/5518652/nirav-jobanputra"}, "edited": false, "score": 0, "creation_date": 1464353832, "post_id": 34740701, "comment_id": 62464572, "body": "from where you downloaded old verson i have same issue"}, {"owner": {"reputation": 404, "user_id": 1414176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f310b8311d3449c06b4d19e2277a6b5?s=128&d=identicon&r=PG", "display_name": "Giuseppe", "link": "https://stackoverflow.com/users/1414176/giuseppe"}, "edited": false, "score": 2, "creation_date": 1491961265, "post_id": 34740701, "comment_id": 73780280, "body": "Same as Neel Kamal Neeraj here. With XAMPP 7.1.1, same error, no Visual Studio file did for me, with 64bits, tried 32 and neither. Then downloaded and installed XAMPP 5.6.30 and this one works."}], "tags": [], "owner": {"reputation": 326, "user_id": 4122709, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0e3a9473dcc236180d55863eb8e10360?s=128&d=identicon&r=PG&f=1", "display_name": "Vilthering", "link": "https://stackoverflow.com/users/4122709/vilthering"}, "is_accepted": true, "score": 15, "last_activity_date": 1501057219, "last_edit_date": 1501057219, "creation_date": 1452593330, "answer_id": 34740701, "question_id": 34740438, "link": "https://stackoverflow.com/questions/34740438/the-program-cant-start-because-api-ms-win-crt-runtime-l1-1-0-dll-is-missing-whi/34740701#34740701", "title": "The program can&#39;t start because api-ms-win-crt-runtime-l1-1-0.dll is missing while starting Apache server on my computer", "body": "<p>I was facing the same issue.\nAfter many tries below solution worked for me.</p>\n\n<p>Before installing VC++ install your windows updates.\n  1. Go to Start - Control Panel - Windows Update\n  2. Check for the updates.\n  3. Install all updates.\n  4. Restart your system.</p>\n\n<p>After that you can follow the below steps.</p>\n\n<p>@ABHI KUMAR </p>\n\n<p>Download the Visual C++ Redistributable 2015</p>\n\n<p>Visual C++ Redistributable for Visual Studio 2015 (64-bit)</p>\n\n<p>Visual C++ Redistributable for Visual Studio 2015 (32-bit) </p>\n\n<p>(Reinstal if already installed) then restart your computer or use windows updates for download auto. </p>\n\n<p>For link download <a href=\"https://www.microsoft.com/de-de/download/details.aspx?id=48145\" rel=\"noreferrer\">https://www.microsoft.com/de-de/download/details.aspx?id=48145</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 11060, "user_id": 4906, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/be1412da6c2da03393da8fcbeb015f1e?s=128&d=identicon&r=PG", "display_name": "Clay Nichols", "link": "https://stackoverflow.com/users/4906/clay-nichols"}, "is_accepted": false, "score": 9, "last_activity_date": 1454277192, "creation_date": 1454277192, "answer_id": 35119972, "question_id": 34740438, "link": "https://stackoverflow.com/questions/34740438/the-program-cant-start-because-api-ms-win-crt-runtime-l1-1-0-dll-is-missing-whi/35119972#35119972", "title": "The program can&#39;t start because api-ms-win-crt-runtime-l1-1-0.dll is missing while starting Apache server on my computer", "body": "<p>Download the Visual C++ Redistributable 2015</p>\n\n<p>Updated links to VC++  file:</p>\n\n<p><a href=\"http://download.microsoft.com/download/9/3/F/93FCF1E7-E6A4-478B-96E7-D4B285925B00/vc_redist.x64.exe\" rel=\"noreferrer\">For Windows 64-bit</a> </p>\n\n<p><a href=\"http://download.microsoft.com/download/9/3/F/93FCF1E7-E6A4-478B-96E7-D4B285925B00/vc_redist.x86.exe\" rel=\"noreferrer\">For Windows 32-bit</a> </p>\n"}], "owner": {"reputation": 303, "user_id": 5646653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w3vZX.jpg?s=128&g=1", "display_name": "Neel Kamal Neeraj", "link": "https://stackoverflow.com/users/5646653/neel-kamal-neeraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209190, "favorite_count": 8, "closed_date": 1463246222, "accepted_answer_id": 34740701, "answer_count": 2, "score": 30, "last_activity_date": 1501057219, "creation_date": 1452592648, "last_edit_date": 1495540511, "question_id": 34740438, "link": "https://stackoverflow.com/questions/34740438/the-program-cant-start-because-api-ms-win-crt-runtime-l1-1-0-dll-is-missing-whi", "closed_reason": "Not suitable for this site", "title": "The program can&#39;t start because api-ms-win-crt-runtime-l1-1-0.dll is missing while starting Apache server on my computer", "body": "<p>In order to quickly set up my PHP/Perl development environment, I installed <a href=\"https://www.apachefriends.org/index.html\" rel=\"noreferrer\">xampp</a>. Specifically, I attempted to install using: <code>xampp-win32-7.0.1-0-VC14-installer</code>.</p>\n\n<p>When I started the program, I ran into an error related to a <code>dll</code> file. I also tried the suggestions in <a href=\"https://stackoverflow.com/questions/33265663/api-ms-win-crt-runtime-l1-1-0-dll-is-missing-when-open-office-file\">this question</a> that sounded like fixes to the same problem.</p>\n\n<p>The problem is still not fixed after trying the above.</p>\n\n<p><img src=\"https://i.stack.imgur.com/i65rH.png\" alt=\"screenshot of error\"></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 5, "creation_date": 1452552845, "post_id": 34732607, "comment_id": 57211640, "body": "Don&#39;t use <code>system</code>. Use a module designed for the purpose. <a href=\"https://metacpan.org/pod/Net::SSH\" rel=\"nofollow noreferrer\">metacpan.org/pod/Net::SSH</a>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1452554599, "post_id": 34732607, "comment_id": 57212300, "body": "or (better, usually) Net::SSH2"}, {"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "edited": false, "score": 0, "creation_date": 1452590907, "post_id": 34732607, "comment_id": 57225340, "body": "You could <code>use IPC::Open2</code> but then you&#39;d just end up reinventing the wheel.  Use Net::SSH.  Also you need to avoid using passwords, use ssh public keys instead"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1452670415, "post_id": 34732607, "comment_id": 57266644, "body": "use <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow noreferrer\">Net::OpenSSH</a>;"}], "answers": [{"tags": [], "owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "is_accepted": true, "score": 1, "last_activity_date": 1452767794, "last_edit_date": 1452767794, "creation_date": 1452596186, "answer_id": 34741791, "question_id": 34732607, "link": "https://stackoverflow.com/questions/34732607/perl-script-to-reach-a-host-by-ssh/34741791#34741791", "title": "Perl script to reach a host by ssh", "body": "<p>The backquotes already invoke <code>system()</code>.  Doing it twice is not going to give the desired results.</p>\n\n<p>After fixing that, your attempt still won't work: each <code>system()</code> creates a separate shell, so the second and third command are executed on your local system.  Either create a single command and feed it to <code>ssh</code> as a single argument, e.g.</p>\n\n<pre><code>system('ssh root@10.3.64.136 ls')\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my @ls_output = `ssh root\\@10.3.64.136 ls`;\nprint for @ls_output\n</code></pre>\n\n<p>or feed the commands to <code>ssh</code> as input, e.g.</p>\n\n<pre><code>system('echo ls | ssh root@10.3.64.136')\n</code></pre>\n\n<p>Now if you want to send arbitrary sequences of commands to <code>ssh</code>, this will be hairy.</p>\n\n<p>As the comments say: using <code>system()</code> (or backquotes) for this task isn't the best idea. It is better to use a designated Perl library.</p>\n"}], "owner": {"reputation": 37, "user_id": 5359915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gwl-93Vp-qY/AAAAAAAAAAI/AAAAAAAAAAA/8mLAGoV3L4Q/photo.jpg?sz=128", "display_name": "Juan Sepulveda", "link": "https://stackoverflow.com/users/5359915/juan-sepulveda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 34741791, "answer_count": 1, "score": 2, "last_activity_date": 1452767794, "creation_date": 1452552753, "last_edit_date": 1452577516, "question_id": 34732607, "link": "https://stackoverflow.com/questions/34732607/perl-script-to-reach-a-host-by-ssh", "title": "Perl script to reach a host by ssh", "body": "<p>I'm trying to code a simple perl script to reach a host by ssh. The goal is to store the file names of the root folder in variable and print it but the script hangs after I introduce the password of the host.\nwould you give me a hand?</p>\n\n<pre><code>system(`ssh root\\@10.3.64.136`);\n$output = system(`ls`);\nsystem(`exit`);\nprint $output;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1452550354, "post_id": 34732064, "comment_id": 57210499, "body": "<code>corelist Pod::Usage</code> says &quot;Pod::Usage was first released with perl v5.6.0&quot;"}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452550504, "post_id": 34732064, "comment_id": 57210570, "body": "@ThisSuitIsBlackNot Ty, I didn&#39;t know about that utility."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452550643, "post_id": 34732064, "comment_id": 57210630, "body": "yw. Now I&#39;m curious what&#39;s wrong with your install..."}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1452551784, "post_id": 34732064, "comment_id": 57211188, "body": "I&#39;m curious too.  For some reason the system perl is just missing some core libraries.  Was missing Time::Piece as well.  Unfortunately, investigating the cause is a low priority, as just making sure that the module is deployed to all environments is the most important thing.  If I ever figure it out though, I&#39;ll chime back here :)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1452553582, "post_id": 34732064, "comment_id": 57211932, "body": "I believe redhat has split up the perl &quot;core&quot; into multiple rpms, not all of which are necessarily there.  Try installing the perl-core rpm, &quot;a metapackage which requires all of the perl bits and modules in the upstream tarball from perl.org.&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1452592921, "post_id": 34732064, "comment_id": 57226765, "body": "<a href=\"http://perlhacks.com/2012/08/a-cautionary-tale/\" rel=\"nofollow noreferrer\">This blog post</a> explains what is going on."}], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1452550488, "answer_count": 0, "score": 0, "last_activity_date": 1452550241, "creation_date": 1452550241, "question_id": 34732064, "link": "https://stackoverflow.com/questions/34732064/how-long-has-podusage-been-in-core", "closed_reason": "Duplicate", "title": "How long has Pod::Usage been in Core?", "body": "<p>I'm working on a Centos box that contains Perl 5.10.1.  However for some reason it is missing <a href=\"http://perldoc.perl.org/Pod/Usage.html\" rel=\"nofollow\"><code>Pod::Usage</code></a>.</p>\n\n<p>Is there a way to determine how long <code>Pod::Usage</code> has been part of core without scanning through all the Perl version deltas?</p>\n"}, {"tags": ["database", "perl", "output", "increment", "blast"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1452548576, "post_id": 34731557, "comment_id": 57209504, "body": "Can you describe how the  <code>t1.dX</code> identifiers should be assigned?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1452548790, "post_id": 34731557, "comment_id": 57209632, "body": "One thought: this might be something that <a href=\"https://metacpan.org/pod/distribution/BioPerl/BioPerl.pm\" rel=\"nofollow noreferrer\">BioPerl</a> can already do, and one question: how are the new extensions (<code>.tx.dy</code>) determined?"}, {"owner": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1452548842, "post_id": 34731557, "comment_id": 57209665, "body": "while $sseqid is the same you add 1 to the counter else it will reset back to 0 @choroba"}, {"owner": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452549109, "post_id": 34731557, "comment_id": 57209806, "body": "@MattJacob I just made those extensions so I can identify them better while I run them on a genome browser"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452549618, "post_id": 34731557, "comment_id": 57210112, "body": "@programnub OK, so it&#39;s simply incrementing a counter for each sub-value?"}, {"owner": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452549942, "post_id": 34731557, "comment_id": 57210301, "body": "@MattJacob yes, but I&#39;m not sure how to compare the values inside $sseqid"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452552787, "post_id": 34731557, "comment_id": 57211617, "body": "@programnub Can you include some sample input data? About 10-20 lines should be fine..."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1452554011, "post_id": 34731557, "comment_id": 57212087, "body": "@programnub Thanks. I rolled back your latest edit and integrated the sample input. You don&#39;t want to keep updating your question with proposed answers, because then it masks the original problem."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "edited": false, "score": 0, "creation_date": 1452552317, "post_id": 34731973, "comment_id": 57211421, "body": "It will always go to the last else statement right? since $tmp is not set to anything yet? &quot;if (!$tmp)&quot; ... correct me if Im wrong"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "edited": false, "score": 0, "creation_date": 1452552440, "post_id": 34731973, "comment_id": 57211474, "body": "the first time through it should set $tmp to $subid because it has not be set, I see what your saying.  Probably change the elsif to just an if so if ($tmp eq $subid)"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "edited": false, "score": 0, "creation_date": 1452552591, "post_id": 34731973, "comment_id": 57211547, "body": "I forgot to update the $tmp variable as well, the above code should reflect that"}, {"owner": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "edited": false, "score": 0, "creation_date": 1452552808, "post_id": 34731973, "comment_id": 57211628, "body": "I tried doing if ($tmp eq $subid), but it incremented the whole $fn. Sorry I&#39;m quite new to this"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "edited": false, "score": 0, "creation_date": 1452552907, "post_id": 34731973, "comment_id": 57211671, "body": "can you show me an example of the output?  Also if you have the input to look at it would also make more sense, there could be a better approach, I am basing it off of the information provided"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "edited": false, "score": 0, "creation_date": 1452553472, "post_id": 34731973, "comment_id": 57211881, "body": "$cnt should also = 0.  Updated above, I tested on a sample file I made and it works, assuming the file you are using is similar."}], "tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 0, "last_activity_date": 1452553434, "last_edit_date": 1452553434, "creation_date": 1452549806, "answer_id": 34731973, "question_id": 34731557, "link": "https://stackoverflow.com/questions/34731557/adding-numbers-to-similar-names-in-perl/34731973#34731973", "title": "Adding numbers to similar names in Perl", "body": "<p>I would probably do it by using a counter.  From what I see in this code is that the $subid are numbered incrementally if they are the same, the extensions appear to be the same.  Maybe you could do something like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse diagnostics;\n\nmy $db = \"BLAST\";\nmy $prog = \"blastn\";\nmy $subid = \"\";\n\nopen(my $inFile, $ARGV[0]) || die \"Could not open file '$ARGV[0]' $!\";\nopen(my $outFile, \"&gt;$ARGV[1]\") || die \"Could not find file '&gt;$ARGV[1]' $!\";\n\nprint $outFile \"##gff-version 3\\n#\\n#\\n\";\n\nmy $cnt = 0;\nmy ($tmp,$fn);\n\nwhile(&lt;$inFile&gt;){\n\n    my ($qseqid, $sseqid, $pident, $length, $mismatch, $gaps, $qstart, $qend, $sstart, $send, $evalue, $bitscore) = split(/\\t/);\n    my $suffix = \".t1.d${cnt}\";\n    if (!$tmp){\n        $tmp = $subid;\n    }\n\n    if ($tmp eq $subid){\n        $cnt++;\n        $fn = \"${subid}${suffix}\";\n        $tmp = $subid;\n    }\n    else {\n        $cnt = 1;\n        $fn = \"${subid}${suffix}\";\n        $tmp = $subid;\n    }\n\n    if($qstart &lt; $qend){\n        $sign = \"+\";\n    } elsif($qstart &gt; $qend){\n        $sign = \"-\";\n    } else {\n        die \"Unexpected qstart and end\";\n    }\n\n    $bitscore =~ s/^\\s*(.*?)\\s*$/$1/;\n\n    print $outFile \"$sseqid\\t$db\\t$prog\\t$qstart\\t$qend\\t$bitscore\\t$sign\\t.\\t$fn\\n\";\n}\n</code></pre>\n\n<p>This is untested but you get the idea</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1452555980, "creation_date": 1452555980, "answer_id": 34733220, "question_id": 34731557, "link": "https://stackoverflow.com/questions/34731557/adding-numbers-to-similar-names-in-perl/34733220#34733220", "title": "Adding numbers to similar names in Perl", "body": "<p>Use a <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\" rel=\"nofollow\">hash of hashes</a> to keep track of how many times you've seen each ID pair:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $db = \"BLAST\";\nmy $prog = \"blastn\";\nmy %unique;\n\nprint \"##gff-version 3\\n#\\n#\\n\";\n\nwhile (&lt;DATA&gt;) {\n    my @fields = split;\n\n    my $sseqid   = $fields[1];\n    my $qstart   = $fields[6];\n    my $qend     = $fields[7];\n    my $bitscore = $fields[11];\n    my $sign;\n\n    if ($qstart &lt; $qend) {\n        $sign = \"+\";\n    } elsif ($qstart &gt; $qend) {\n        $sign = \"-\";\n    } else {\n        die \"Unexpected qstart and end\";\n    }\n\n    my @id_parts = split(/[_.]/, $sseqid);\n    my $sub_id = ++$unique{$id_parts[1]}{$id_parts[2]};\n\n    print join(\"\\t\", $sseqid, $db, $prog, $qstart, $qend, $bitscore, $sign, '.', \"$sseqid.$sub_id\"), \"\\n\";\n}\n\n__DATA__\nPpluv_s010290g00001.1   scf_62525_290.contig_1  100.00  3954    0   0   1   3954    23690   27643   0.0 7302\nPpluv_s010290g00001.1   scf_62525_290.contig_1  100.00  2400    0   0   4178    6577    28076   30475   0.0 4433\nPpluv_s010290g00001.1   scf_62525_290.contig_1  100.00  162 0   0   3953    4114    27722   27883   1e-79   300\nPpluv_s010290g00001.1   scf_62525_290.contig_1  100.00  64  0   0   4115    4178    27957   28020   4e-25   119\nPpluv_s011067g00001.1   scf_62525_1067.contig_1 100.00  1665    0   0   1   1665    4944    6608    0.0 3075\nPpluv_s010163g00001.1   scf_62525_163.contig_1  97.77   359 0   8   7   357 797 439 8e-175  612\nPpluv_s014028g00001.1   scf_62525_4028.contig_1 100.00  1321    0   0   1   1321    2322    1002    0.0 2436\nPpluv_s014028g00001.1   scf_62525_4028.contig_1 100.00  913 0   0   1319    2231    924 12  0.0 1687\nPpluv_s014028g00001.1   scf_62525_4028.contig_1 100.00  47  0   0   1275    1321    992 946 4e-16   87.9\nPpluv_s014028g00001.1   scf_62525_3545.contig_1 79.23   1343    241 38  1   1321    1   1327    0.0 902\nPpluv_s014028g00001.1   scf_62525_1712.contig_1 74.27   1951    403 99  340 2227    3076    4990    0.0 732\nPpluv_s014028g00001.1   scf_62525_817.contig_1  82.74   730 87  39  1378    2105    23175   22483   2e-174  614\nPpluv_s014028g00001.1   scf_62525_177.contig_1  76.37   804 178 12  1320    2117    29453   28656   1e-116  422\nPpluv_s014028g00001.1   scf_62525_177.contig_1  75.28   615 134 18  1326    1937    36037   35438   2e-73   278\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5578181, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c76a4d1844d06fdf385c3c8091e32a4?s=128&d=identicon&r=PG&f=1", "display_name": "programnub", "link": "https://stackoverflow.com/users/5578181/programnub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 2, "accepted_answer_id": 34733220, "answer_count": 2, "score": 1, "last_activity_date": 1452555980, "creation_date": 1452548123, "last_edit_date": 1452553948, "question_id": 34731557, "link": "https://stackoverflow.com/questions/34731557/adding-numbers-to-similar-names-in-perl", "title": "Adding numbers to similar names in Perl", "body": "<p>I am trying to convert a blast file to gff3 using Perl and I am quite new to programming since I'm doing science.\nMy current code is below:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse diagnostics;\n\nmy $db = \"BLAST\";\nmy $prog = \"blastn\";\nmy $subid = \"\";\n\nopen(my $inFile, $ARGV[0]) || die \"Could not open file '$ARGV[0]' $!\";\nopen(my $outFile, \"&gt;$ARGV[1]\") || die \"Could not find file '&gt;$ARGV[1]' $!\";\n\nprint $outFile \"##gff-version 3\\n#\\n#\\n\";\n\nwhile(&lt;$inFile&gt;){\n\n    my ($qseqid, $sseqid, $pident, $length, $mismatch, $gaps, $qstart, $qend, $sstart, $send, $evalue, $bitscore) = split(/\\t/);\n\n    if($qstart &lt; $qend){\n        $sign = \"+\";\n    } elsif($qstart &gt; $qend){\n        $sign = \"-\";\n    } else {\n        die \"Unexpected qstart and end\";\n    }\n\n    $bitscore =~ s/^\\s*(.*?)\\s*$/$1/;\n\n    print $outFile \"$sseqid\\t$db\\t$prog\\t$qstart\\t$qend\\t$bitscore\\t$sign\\t.\\t$subid\\n\";\n}\n</code></pre>\n\n<p>I have an output of</p>\n\n<pre><code>scf_62525_290.contig_1  BLAST   blastn  1       3954    7302    +   .   scf_62525_290.contig_1\nscf_62525_290.contig_1  BLAST   blastn  4178    6577    4433    +   .   scf_62525_290.contig_1\nscf_62525_290.contig_1  BLAST   blastn  3953    4114    300     +   .   scf_62525_290.contig_1\nscf_62525_290.contig_1  BLAST   blastn  4115    4178    119     +   .   scf_62525_290.contig_1\nscf_62525_1067.contig_1 BLAST   blastn  1       1665    3075    +   .   scf_62525_1067.contig_1\nscf_62525_163.contig_1  BLAST   blastn  7       357     612     +   .   scf_62525_163.contig_1\nscf_62525_4028.contig_1 BLAST   blastn  1       1321    2436    +   .   scf_62525_4028.contig_1\nscf_62525_4028.contig_1 BLAST   blastn  1319    2231    1687    +   .   scf_62525_4028.contig_1\nscf_62525_4028.contig_1 BLAST   blastn  1275    1321    87.9    +   .   scf_62525_4028.contig_1\n</code></pre>\n\n<p>and I want to change it to this output</p>\n\n<pre><code>scf_62525_290.contig_1  BLAST   blastn  1       3954    7302    +   .   scf_62525_290.contig_1.t1.d1\nscf_62525_290.contig_1  BLAST   blastn  4178    6577    4433    +   .   scf_62525_290.contig_1.t1.d2\nscf_62525_290.contig_1  BLAST   blastn  3953    4114    300     +   .   scf_62525_290.contig_1.t1.d3\nscf_62525_290.contig_1  BLAST   blastn  4115    4178    119     +   .   scf_62525_290.contig_1.t1.d4\nscf_62525_1067.contig_1 BLAST   blastn  1       1665    3075    +   .   scf_62525_1067.contig_1.t1.d1\nscf_62525_163.contig_1  BLAST   blastn  7       357     612     +   .   scf_62525_163.contig_1.t1.d1\nscf_62525_4028.contig_1 BLAST   blastn  1       1321    2436    +   .   scf_62525_4028.contig_1.t1.d1\nscf_62525_4028.contig_1 BLAST   blastn  1319    2231    1687    +   .   scf_62525_4028.contig_1.t1.d2\nscf_62525_4028.contig_1 BLAST   blastn  1275    1321    87.9    +   .   scf_62525_4028.contig_1.t1.d3\n</code></pre>\n\n<p>Is there a simple way of doing so?\nThanks.</p>\n\n<hr>\n\n<p>Here's some sample input:</p>\n\n<pre><code>Ppluv_s010290g00001.1   scf_62525_290.contig_1  100.00  3954    0   0   1   3954    23690   27643   0.0 7302\nPpluv_s010290g00001.1   scf_62525_290.contig_1  100.00  2400    0   0   4178    6577    28076   30475   0.0 4433\nPpluv_s010290g00001.1   scf_62525_290.contig_1  100.00  162 0   0   3953    4114    27722   27883   1e-79   300\nPpluv_s010290g00001.1   scf_62525_290.contig_1  100.00  64  0   0   4115    4178    27957   28020   4e-25   119\nPpluv_s011067g00001.1   scf_62525_1067.contig_1 100.00  1665    0   0   1   1665    4944    6608    0.0 3075\nPpluv_s010163g00001.1   scf_62525_163.contig_1  97.77   359 0   8   7   357 797 439 8e-175  612\nPpluv_s014028g00001.1   scf_62525_4028.contig_1 100.00  1321    0   0   1   1321    2322    1002    0.0 2436\nPpluv_s014028g00001.1   scf_62525_4028.contig_1 100.00  913 0   0   1319    2231    924 12  0.0 1687\nPpluv_s014028g00001.1   scf_62525_4028.contig_1 100.00  47  0   0   1275    1321    992 946 4e-16   87.9\nPpluv_s014028g00001.1   scf_62525_3545.contig_1 79.23   1343    241 38  1   1321    1   1327    0.0 902\nPpluv_s014028g00001.1   scf_62525_1712.contig_1 74.27   1951    403 99  340 2227    3076    4990    0.0 732\nPpluv_s014028g00001.1   scf_62525_817.contig_1  82.74   730 87  39  1378    2105    23175   22483   2e-174  614\nPpluv_s014028g00001.1   scf_62525_177.contig_1  76.37   804 178 12  1320    2117    29453   28656   1e-116  422\nPpluv_s014028g00001.1   scf_62525_177.contig_1  75.28   615 134 18  1326    1937    36037   35438   2e-73   278\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 7, "creation_date": 1452546102, "post_id": 34730862, "comment_id": 57208142, "body": "I think the real problem is, why do you have 100 <code>if</code> statements? If you can fix <i>that</i>, your other problem goes away."}, {"owner": {"reputation": 324, "user_id": 5725091, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6cb95bc33c3861f2a3a728a7fc7734c4?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/5725091/henrik"}, "edited": false, "score": 0, "creation_date": 1452590184, "post_id": 34730862, "comment_id": 57224897, "body": "Use subs, parameters, hashes, and evals if need be. All standard perl tech."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1452547147, "creation_date": 1452547147, "answer_id": 34731282, "question_id": 34730862, "link": "https://stackoverflow.com/questions/34730862/how-to-use-same-block-of-code-multiple-times-in-perl/34731282#34731282", "title": "how to use same block of code multiple times in perl", "body": "<p>You probably have an x-y-problem, but I am going to answer the question anyway. This is old-fashioned stuff, and I would never use this kind of thing in production code. Or in run-once-and-forget throw away code either. But here goes...</p>\n\n<p>You say you have a bunch of variables that are common to all the code.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ( $foo, $bar, $qux );\n\n# ... stuff happens\n\nif ($foo == 1) {\n  $bar = 'asdf';\n  do 'commoncode.pl';\n}\nif ($foo == 2) {\n  $bar = 'jkloe';\n  do 'commoncode.pl';\n}\n</code></pre>\n\n<p>I am using <a href=\"http://perldoc.perl.org/functions/do.html\" rel=\"nofollow\">the <code>do</code> keyword</a>, which loads a file of code and executes it right there in the same scope. This is pretty useful sometimes, but most of the time a horrible idea.</p>\n\n<p>Now our <em>commoncode.pl</em> could look like this.</p>\n\n<pre><code>use feature 'say';\nsay $bar;\n</code></pre>\n\n<p>That's it. It will be executed in every block at run time when the Perl interpreter passes there. The file will be reread every time, which makes it slow. But it will get the job done.</p>\n\n<hr>\n\n<p>But still, it's a bad idea and you should really think about a better solution to do this. Here are some suggestions:</p>\n\n<ul>\n<li>write a function and pass a lot of variables; that might seem tedious, but it will increase maintainability</li>\n<li>split the common parts that do share the same variables and write several small functions, then tie them together individually</li>\n<li>change the architecture so that you only have the common code after all your decisions, outside of those conditions</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1452551016, "post_id": 34731699, "comment_id": 57210798, "body": "That&#39;s not a closure, and I don&#39;t see why this is better than using a regular named sub."}, {"owner": {"reputation": 59, "user_id": 5712632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9e4e6e2971f373a9084412fe970189?s=128&d=identicon&r=PG", "display_name": "Kundun", "link": "https://stackoverflow.com/users/5712632/kundun"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452554168, "post_id": 34731699, "comment_id": 57212145, "body": "Not sure what you mean, but that&#39;s a closure - its a very simple example of one, sure - but it fits the definition [<a href=\"http://perldoc.perl.org/perlfaq7.html#What&#39;s-a-closure%3f]\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlfaq7.html#What&#39;s-a-closure%3f]</a>  I never said this is a &quot;better&quot; solution than regular named subs..  can this behavior be achieved with a regular sub? Sure. But since we don&#39;t know what the &quot;common code&quot; does here, I just gave an example of how you can abstract that sort of logic into an anonymous sub that can be repeatedly called."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1452558508, "post_id": 34731699, "comment_id": 57213560, "body": "A closure references lexical variables that are no longer in scope, but were in scope when the closure was defined. Every time the closure is called, these variables revert to the original values they had when the closure was defined. What you&#39;ve shown can be done with a regular named sub; using a subroutine reference just makes the code less readable."}, {"owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1452581413, "post_id": 34731699, "comment_id": 57220402, "body": "Ok, i will try this. Yes, my code is just to participate in a bot writing contest, nothing serious, so i dont want to spend time on improving it by using functions."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1452590414, "post_id": 34731699, "comment_id": 57225025, "body": "@user3388005 if it&#39;s a bot writing contest, how is the bot judged? Fastest development, fastest bot doing its job, or code quality?"}], "tags": [], "owner": {"reputation": 59, "user_id": 5712632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9e4e6e2971f373a9084412fe970189?s=128&d=identicon&r=PG", "display_name": "Kundun", "link": "https://stackoverflow.com/users/5712632/kundun"}, "is_accepted": false, "score": 1, "last_activity_date": 1452548688, "creation_date": 1452548688, "answer_id": 34731699, "question_id": 34730862, "link": "https://stackoverflow.com/questions/34730862/how-to-use-same-block-of-code-multiple-times-in-perl/34731699#34731699", "title": "how to use same block of code multiple times in perl", "body": "<p>You can use closures to do this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# Define variables\nmy ( $xxx, $yyy ) = ( 0, 0 );\n\nmy $closure = sub {\n    # common code that works on $xxx, $yyy\n    print \"xxx: $xxx\\n\";\n    print \"yyy: $yyy\\n\";\n};\n\n$xxx = 1;\n$yyy = 1;\n$closure-&gt;();\n\n$xxx = 2;\n$yyy = 2;\n$closure-&gt;();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code># perl test.pl\nxxx: 1\nyyy: 1\nxxx: 2\nyyy: 2\n</code></pre>\n\n<p>As others have mentioned, if this is not just a one-off script, you probably want to invest time to refactor the code to be more maintainable.</p>\n"}, {"tags": [], "owner": {"reputation": 1109, "user_id": 4585960, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153097867072505/picture?type=large", "display_name": "Kenny Grage", "link": "https://stackoverflow.com/users/4585960/kenny-grage"}, "is_accepted": false, "score": 0, "last_activity_date": 1452632301, "creation_date": 1452632301, "answer_id": 34753663, "question_id": 34730862, "link": "https://stackoverflow.com/questions/34730862/how-to-use-same-block-of-code-multiple-times-in-perl/34753663#34753663", "title": "how to use same block of code multiple times in perl", "body": "<p>I am glad you asked that question! DRY programming (Don't Repeat Yourself) is a good principle to live by, whenever possible. In Perl, what you are looking to do is accomplished by subroutines.</p>\n\n<pre><code>if($a == 3)\n{\n  $xxx = 6;\n  &amp;mySubroutineForCommonCode;\n}\n\n\nsub mySubroutineForCommonCode\n{\n#100 lines of code\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 3014371, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/675f66ec033d7a56a7ddc5d7e6f9bc12?s=128&d=identicon&r=PG", "display_name": "GWP", "link": "https://stackoverflow.com/users/3014371/gwp"}, "is_accepted": false, "score": 0, "last_activity_date": 1452650803, "creation_date": 1452650803, "answer_id": 34757219, "question_id": 34730862, "link": "https://stackoverflow.com/questions/34730862/how-to-use-same-block-of-code-multiple-times-in-perl/34757219#34757219", "title": "how to use same block of code multiple times in perl", "body": "<p>There's almost certainly a more elegant way to address your actual problem, but this is the most straightforward way to address what you've asked:</p>\n\n<pre><code>if($a==3){\n    $xxx=6;\n}elsif($b==9){\n    $yyy=9;\n} 100 more elsifs\n...\n}else{\n    # handle case if no conditionals match\n}\n\n    #followed by 100 lines of code common to all if conditions\n    exit; # (note you'll need a little more logic if you don't want to exit if no conditionals match)\n</code></pre>\n\n<p>Since you're only going to run your block of code once for the first conditional matched, literally all you need to do is 1) chain all the conditionals together and 2) move the common code outside of the conditional.</p>\n"}], "owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1452650803, "creation_date": 1452545641, "question_id": 34730862, "link": "https://stackoverflow.com/questions/34730862/how-to-use-same-block-of-code-multiple-times-in-perl", "title": "how to use same block of code multiple times in perl", "body": "<p>Suppose, i have 100 if blocks with different if conditions but almost same code inside of if.</p>\n\n<p>Example</p>\n\n<pre><code>if($a==3)\n    {\n    $xxx=6;\n    #followed by 100 lines of code common to all if conditions\n    exit #ie exit if condition is met\n    }\nif($b==9)\n    {\n    $yyy=9;\n    #followed by 100 lines of code common to all if conditions\n    exit #ie exit if condition is met\n    }\n#followed by 100 more if blocks\n</code></pre>\n\n<p>is it possible that i write common code somewhere and then use it by some one liner inside of my if blocks. This would save 10000 lines of same code. </p>\n\n<p>I dont want to use subroutines since common code contains many variables which are assigned differently, for example, common code contains $a,$b,$xxx,$yyy and many other complications. All i need is to reduce my program length somehow.</p>\n\n<p>Example</p>\n\n<pre><code>commoncode{\n100 lines of code\n}\n\nif($a==3)\n    {\n    $xxx=6;\n    commoncode;\n    }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1452545950, "post_id": 34730831, "comment_id": 57208067, "body": "You should be able to tweak how <a href=\"https://metacpan.org/source/DOY/Carp-Always-Color-0.07/lib/Carp/Always/Color/Term.pm\" rel=\"nofollow noreferrer\">Carp::Always::Color::Term</a> does it."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1452582713, "last_edit_date": 1452582713, "creation_date": 1452556310, "answer_id": 34733275, "question_id": 34730831, "link": "https://stackoverflow.com/questions/34730831/coloring-a-confess-carp-message/34733275#34733275", "title": "Coloring a confess/carp message", "body": "<p>It seems like this can be done (to a satisfactory level) using a die signal handler. Since a die signal handler will catch much more than calls to <code>confess</code> ( see <a href=\"http://www.effectiveperlprogramming.com/2011/05/override-die-with-end-or-coreglobaldie/\" rel=\"nofollow\">Override die with END or CORE::GLOBAL::die</a> for more information ), we will check the input argument of the die handler for the given leading ANSI escape sequence. If the input string contains <code>color(\"red\")</code> we will assume that we were called by <code>confess</code>:</p>\n\n<pre><code>local $SIG{__DIE__} = sub {\n    my ( $msg) = @_;\n    my $col_red = color( \"bold red\" );\n    if ( $msg =~ /\\Q$col_red\\E/ ) {\n        $msg =~ s/\\s+$//;\n        $msg .= (color(\"reset\") . \"\\n\");\n    }\n    die $msg;\n};\n</code></pre>\n\n<p>then, in the program we write </p>\n\n<pre><code>confess color(\"bold red\") . \"Unexpected value. Abort.\";\n</code></pre>\n\n<p>hence omitting the <code>color(\"reset\")</code> code.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>An improvement to the above can be obtained. Since the script already have control over each <code>confess</code> call, a helper sub routine can be written that localizes the signal handler even more:</p>\n\n<pre><code>sub error_exit {\n    my ( $msg ) = @_;\n\n    local $SIG{__DIE__} = sub {\n        my ( $msg) = @_;\n        my $col_red = color( \"bold red\" );\n        if ( $msg =~ /\\Q$col_red\\E/ ) {\n            $msg =~ s/\\s+$//;\n            die $msg . color(\"reset\") . \"\\n\";\n        }\n        else {\n            die $msg;\n        }\n    };\n    confess color(\"bold red\") . $msg;    \n}\n</code></pre>\n\n<p>And then, in the script, replace each <code>confess</code> call with an <code>error_exit</code> call. For example, for the script in the question:</p>\n\n<pre><code>error_exit(\"Unexpected value. Abort.\");\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 34733275, "answer_count": 1, "score": 4, "last_activity_date": 1452582713, "creation_date": 1452545530, "last_edit_date": 1495542211, "question_id": 34730831, "link": "https://stackoverflow.com/questions/34730831/coloring-a-confess-carp-message", "title": "Coloring a confess/carp message", "body": "<p>I have written a script that outputs a lot of messages to the terminal. Some message are informative, others are output from Shell commands, and some are error messages. In order for the user to easily read the output in the terminal I would like to color the error messages in a red color.</p>\n\n<p>This works fine, except for the error messages produced by <code>Carp::confess</code>. For example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Carp;\nuse Term::ANSIColor;\n\nmy_func(1);\n\nsub my_func {\n    my ( $val ) = @_;\n    if( $val != 0 ) {\n        confess color(\"bold red\") \n           . \"Unexpected value. Abort.\" . color(\"reset\");\n    }\n}\n</code></pre>\n\n<p>The output looks like this (with different line numbers):</p>\n\n<p><a href=\"https://i.stack.imgur.com/jXjzb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXjzb.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is that the color is reset too early, so the stack trace is not colored. If I omit the <code>color(\"reset\")</code> call, the stack trace is also colored, but then the terminal prompt after the program exited and the output of all subsequent commands run in the terminal is in red color. </p>\n\n<p>Is this possible to achieve? I have tried both <code>$SIG{__DIE__}</code> handler and <code>END</code> blocks but it did not work..</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/5691570/coloring-a-perl-die-message\">Coloring a perl die message</a>.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 1314, "user_id": 2938149, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9b2d6e2cfcb23de95f6efc35816c1afb?s=128&d=identicon&r=PG", "display_name": "Bruno9779", "link": "https://stackoverflow.com/users/2938149/bruno9779"}, "edited": false, "score": 3, "creation_date": 1452537834, "post_id": 34728635, "comment_id": 57203585, "body": "The data structure you are trying to create is not strictly speaking an hash. You want multiple values assigned to a key, which is not possible. What you can do is store all the values for a key in an array. This would result in an hash of arrays."}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 5199588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53d2e142e6df6e73cd33298c737cfcad?s=128&d=identicon&r=PG&f=1", "display_name": "nchimato", "link": "https://stackoverflow.com/users/5199588/nchimato"}, "edited": false, "score": 0, "creation_date": 1452538717, "post_id": 34728929, "comment_id": 57204050, "body": "Thanks for the example and solution @Matt. Could you explain real quick what <code>dd(&#47;%hash);</code> does?"}, {"owner": {"reputation": 393, "user_id": 5199588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53d2e142e6df6e73cd33298c737cfcad?s=128&d=identicon&r=PG&f=1", "display_name": "nchimato", "link": "https://stackoverflow.com/users/5199588/nchimato"}, "edited": false, "score": 2, "creation_date": 1452538845, "post_id": 34728929, "comment_id": 57204130, "body": "Thanks @Matt. I appreciate your time!"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 5, "last_activity_date": 1452538471, "creation_date": 1452538471, "answer_id": 34728929, "question_id": 34728635, "link": "https://stackoverflow.com/questions/34728635/how-can-i-associate-multiple-values-with-a-single-hash-key/34728929#34728929", "title": "How can I associate multiple values with a single hash key?", "body": "<p>You want a <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-ARRAYS\">hash of arrays</a> (HoA):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dump;\n\nmy %hash;\n\nwhile (&lt;DATA&gt;) {\n    my @fields = split;\n    push(@{$hash{$fields[0]}}, $fields[1]);\n}\n\ndd(\\%hash);\n\n__DATA__\nCLL     s_S616447\nCLL     s_S612703\nMBL     s_S599565\nMBL     s_S577819\nUnAff   s_S509781\nUnAff   s_S754982\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n  CLL   =&gt; [\"s_S616447\", \"s_S612703\"],\n  MBL   =&gt; [\"s_S599565\", \"s_S577819\"],\n  UnAff =&gt; [\"s_S509781\", \"s_S754982\"],\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 324, "user_id": 5725091, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6cb95bc33c3861f2a3a728a7fc7734c4?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/5725091/henrik"}, "is_accepted": false, "score": -1, "last_activity_date": 1452590997, "creation_date": 1452590997, "answer_id": 34739864, "question_id": 34728635, "link": "https://stackoverflow.com/questions/34728635/how-can-i-associate-multiple-values-with-a-single-hash-key/34739864#34739864", "title": "How can I associate multiple values with a single hash key?", "body": "<p>An alternative to using a hash of array refs is to use an ordinary hash of string, simply putting a comma or something inbetween the values:</p>\n\n<pre><code>$sam_type{$type} .= \",$sample\";\n</code></pre>\n\n<p>When you need to you can split a string into an array.</p>\n"}], "owner": {"reputation": 393, "user_id": 5199588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53d2e142e6df6e73cd33298c737cfcad?s=128&d=identicon&r=PG&f=1", "display_name": "nchimato", "link": "https://stackoverflow.com/users/5199588/nchimato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 34728929, "answer_count": 2, "score": 1, "last_activity_date": 1452590997, "creation_date": 1452537474, "last_edit_date": 1452537753, "question_id": 34728635, "link": "https://stackoverflow.com/questions/34728635/how-can-i-associate-multiple-values-with-a-single-hash-key", "title": "How can I associate multiple values with a single hash key?", "body": "<p>I have a two-column file with the following format:</p>\n\n<pre><code>CLL     s_S616447\nCLL     s_S612703\nMBL     s_S599565\nMBL     s_S577819\nUnAff   s_S509781\nUnAff   s_S754982\n</code></pre>\n\n<p>I want to make a hash with three keys, \"CLL\", \"MBL\", and \"UnAff\". With the code below I can assign the first column as the key and the second column as the value, but I don't know how to group the keys, per se, so that the hash only has those three keys rather than a key for every row in the file. </p>\n\n<p>This is all I have so far:</p>\n\n<pre><code>open REF, \"list.txt\";\n\nmy %sam_type = ();\n\nwhile (&lt;REF&gt;) {\n    chomp $_;\n    @cols = split(\"\\t\", $_);\n    my $type = $cols[0];\n    my $sample = $cols[1];\n    $sam_type{$type} = $sample;\n}\n</code></pre>\n\n<p>Can someone lead me in the right direction?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1452528708, "post_id": 34726096, "comment_id": 57197937, "body": "Please <a href=\"https://stackoverflow.com/posts/34726096/edit\">edit</a> your question and pay attention to proper formatting. It&#39;s very hard to read."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1452528843, "post_id": 34726096, "comment_id": 57198032, "body": "Please explain what module you&#39;re using and provide some context, like showing where <code>$template</code> comes from. Not everybody has read your <a href=\"http://stackoverflow.com/q/34701433/176646\">previous</a> <a href=\"http://stackoverflow.com/q/34682634/176646\">questions</a> on the same topic."}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 1, "creation_date": 1452528875, "post_id": 34726096, "comment_id": 57198051, "body": "Hi. I&#39;ve edited my question. Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 1, "creation_date": 1452540123, "post_id": 34726190, "comment_id": 57204825, "body": "@bsd: Please read <a href=\"http://stackoverflow.com/help/someone-answers\"><b>What should I do when someone answer my question?</b></a>"}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 1, "creation_date": 1452567287, "post_id": 34726190, "comment_id": 57215902, "body": "Hi. sorry about that. I&#39;ve accepted the answer. Thank you"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1452528851, "creation_date": 1452528851, "answer_id": 34726190, "question_id": 34726096, "link": "https://stackoverflow.com/questions/34726096/how-to-get-an-array-values-in-the-dropdown-in-perl-cgi-html-template/34726190#34726190", "title": "How to get an array values in the dropdown in Perl CGI HTML template?", "body": "<p>You can <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\"><code>map</code> it</a>, then there's no need for a loop.</p>\n\n<pre><code>$template-&gt;param( \n  COUNT =&gt; [ \n    map { \n      { name =&gt; $_ } \n    } @TOTAL \n  ]\n);\n</code></pre>\n\n<p>The outer <code>{}</code> is for the <em>block</em> that <code>map</code> needs, and the inner <code>{}</code> is the hash reference. </p>\n\n<p>But don't forget to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\"><code>chomp</code> your input</a>.</p>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 34726190, "answer_count": 1, "score": -3, "last_activity_date": 1452539923, "creation_date": 1452528594, "last_edit_date": 1452539923, "question_id": 34726096, "link": "https://stackoverflow.com/questions/34726096/how-to-get-an-array-values-in-the-dropdown-in-perl-cgi-html-template", "title": "How to get an array values in the dropdown in Perl CGI HTML template?", "body": "<p>Please suggest how to get array values in the dropdown list using HTML template.</p>\n\n<pre><code>use HTML::Template;\nopen (FL, \"&lt;file.txt\"); \n\n#(file.txt values are below)\n#count1\n#count2\n#count3\n#count4\n#count5 ## samples\n\nmy @TOTAL = &lt;FL&gt;; \n\nforeach $count(@TOTAL) {\n    chomp $count;\n    $template-&gt;param( COUNT =&gt; [{name =&gt; $count}]); # here I am getting only one value in  the drop down menu (count1 value only)\n}\n</code></pre>\n\n<p>I am expecting the values like below, so the drop down will list all the values. </p>\n\n<pre><code>$template-&gt;param(COUNT =&gt; [{name =&gt; $count1}, {name =&gt; $count2}, {name =&gt; $count3}, {name =&gt; $count4}]);\n\nprint $template-&gt;output, \"\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6733, "user_id": 52116, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c2fdf17881a0a3d248f9d431f98e1bca?s=128&d=identicon&r=PG", "display_name": "Adam Taylor", "link": "https://stackoverflow.com/users/52116/adam-taylor"}, "edited": false, "score": 0, "creation_date": 1452526837, "post_id": 34725360, "comment_id": 57196553, "body": "Is it always a hash of one element called &#39;Meta&#39; or is that just one example of the elements in the hash?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1452526993, "post_id": 34725360, "comment_id": 57196671, "body": "Obligatory FYI: as of Perl 5.18.0, <a href=\"http://perldoc.perl.org/perl5180delta.html#The-smartmatch-family-of-features-are-now-experimental\" rel=\"nofollow noreferrer\">smartmatch is experimental</a>: &quot;It is clear that smartmatch is almost certainly either going to change or go away in the future. Relying on its current behavior is not recommended.&quot;"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 2, "creation_date": 1452527004, "post_id": 34725360, "comment_id": 57196683, "body": "Use of the smartmatch operator (<code>~~</code>) is discouraged. Probably you just need to loop over the hash values."}, {"owner": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "reply_to_user": {"reputation": 6733, "user_id": 52116, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c2fdf17881a0a3d248f9d431f98e1bca?s=128&d=identicon&r=PG", "display_name": "Adam Taylor", "link": "https://stackoverflow.com/users/52116/adam-taylor"}, "edited": false, "score": 0, "creation_date": 1452527134, "post_id": 34725360, "comment_id": 57196782, "body": "@AdamTaylor it&#39;s just an example."}], "answers": [{"comments": [{"owner": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "edited": false, "score": 0, "creation_date": 1452528513, "post_id": 34725516, "comment_id": 57197784, "body": "Thanks a lot! Works perfect. I didn&#39;t know this module :)."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1452527008, "creation_date": 1452527008, "answer_id": 34725516, "question_id": 34725360, "link": "https://stackoverflow.com/questions/34725360/print-key-of-hash-of-arrays-if-any-element-of-the-array-matches-with-another-arr/34725516#34725516", "title": "Print key of hash of arrays if any element of the array matches with another array", "body": "<p>You can use <code>intersect</code> from <a href=\"https://metacpan.org/pod/Array::Utils#intersect\">Array::Utils</a> to do that.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Array::Utils 'intersect';\n\nmy @arr = (5, 76, 1000, 21, 47);\nmy %hash = (\n      Meta =&gt; [1000, 2],\n      Foo  =&gt; [1, 2, 3],\n      Bar  =&gt; [47],\n);\n\nmy @match = grep { intersect(@{$hash{$_}}, @arr) } keys %hash;\n\np @match;\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>[\n    [0] \"Bar\",\n    [1] \"Meta\"\n]\n</code></pre>\n\n<p>Note I changed <code>$match</code> to <code>@match</code> to accomodate more than one key, so I can show match and non-match examples.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1452534813, "post_id": 34725824, "comment_id": 57201941, "body": "or just <code>my @matches = grep { grep { $set1{$_} } @{$groups{$_}} } keys %groups;</code> (though personally I would always stick a sort in there; I don&#39;t like arbitrary order)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1452534697, "last_edit_date": 1452534697, "creation_date": 1452527836, "answer_id": 34725824, "question_id": 34725360, "link": "https://stackoverflow.com/questions/34725360/print-key-of-hash-of-arrays-if-any-element-of-the-array-matches-with-another-arr/34725824#34725824", "title": "Print key of hash of arrays if any element of the array matches with another array", "body": "<p>The following will be faster than Array::Utils's <code>intersect</code> because it only builds <code>%set1</code> once (instead of once per element of <code>%groups</code>):</p>\n\n<pre><code>my @set1 = (5, 76, 1000, 21, 47);\nmy %set1 = map { $_ =&gt; 1 } @set1;\n\nmy %groups = (\n   Meta =&gt; [1000, 2],\n   Foo  =&gt; [1, 2, 3],\n   Bar  =&gt; [47],\n);\n\nmy @matches = grep { \n    my $set2 = $groups{$_};\n    grep { $set1{$_} } @$set2\n} keys %groups;\n</code></pre>\n\n<p>For large groups, you might want to use a short-circuiting loop instead of the inner <code>grep</code>, but <code>grep</code> should be faster for small groups.</p>\n"}], "owner": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 34725516, "answer_count": 2, "score": 4, "last_activity_date": 1452534697, "creation_date": 1452526592, "last_edit_date": 1452526907, "question_id": 34725360, "link": "https://stackoverflow.com/questions/34725360/print-key-of-hash-of-arrays-if-any-element-of-the-array-matches-with-another-arr", "title": "Print key of hash of arrays if any element of the array matches with another array", "body": "<p>I've an array like this:</p>\n\n<pre><code>my @arr = (5, 76, 1000, 21, 47);\n</code></pre>\n\n<p>And this hash:</p>\n\n<pre><code>my %hash = (\n      Meta =&gt; [1000],\n);\n</code></pre>\n\n<p>If any of the values of the hash matches any of the elements of the array, I want to print the key value of that match. For doing this, I'm using the following function, and it works:</p>\n\n<pre><code>my ($match) = grep { \"@{$hash{$_}}\" ~~ @arr } keys %hash;\n</code></pre>\n\n<p>The problem comes when I have more than one element in the hash of arrays, for example:</p>\n\n<pre><code>my %hash = (\n      Meta =&gt; [1000, 2],\n);\n</code></pre>\n\n<p>In this case, I also want to return the key (\"Meta\") since the value 1000 is in the array, but I don't get it.</p>\n"}, {"tags": ["perl", "package"], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 1485889, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b28775c093e89408d6ed09287b6071b5?s=128&d=identicon&r=PG", "display_name": "isevcik", "link": "https://stackoverflow.com/users/1485889/isevcik"}, "edited": false, "score": 0, "creation_date": 1452524085, "post_id": 34724202, "comment_id": 57194582, "body": "packages are in same file exactly as example"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 503, "user_id": 1485889, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b28775c093e89408d6ed09287b6071b5?s=128&d=identicon&r=PG", "display_name": "isevcik", "link": "https://stackoverflow.com/users/1485889/isevcik"}, "edited": false, "score": 1, "creation_date": 1452524148, "post_id": 34724202, "comment_id": 57194626, "body": "@lemur I see that.  I was simply suggesting fixes."}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 1, "creation_date": 1452526440, "post_id": 34724202, "comment_id": 57196272, "body": "There is no <code>$Util::var</code>.  Lexical variables do not belong to any package."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 8, "last_activity_date": 1452533959, "last_edit_date": 1452533959, "creation_date": 1452523395, "answer_id": 34724202, "question_id": 34724157, "link": "https://stackoverflow.com/questions/34724157/why-i-cant-access-my-variable-declared-in-package-from-sub-declared-in-the-same/34724202#34724202", "title": "Why i can&#39;t access my variable declared in package from sub declared in the same package in Perl?", "body": "<p>You call <code>Util::mysub()</code> several lines prior to assigning to the file scoped <code>$var</code>.</p>\n\n<p>If your package were in a seperate file, the <code>use</code> statement and its implied <code>BEGIN</code> block would give the assignment priority. Alternatively, you could put the package definition first or use your own <code>BEGIN</code> block.</p>\n"}, {"tags": [], "owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "is_accepted": false, "score": 4, "last_activity_date": 1452525221, "last_edit_date": 1452525221, "creation_date": 1452524886, "answer_id": 34724719, "question_id": 34724157, "link": "https://stackoverflow.com/questions/34724157/why-i-cant-access-my-variable-declared-in-package-from-sub-declared-in-the-same/34724719#34724719", "title": "Why i can&#39;t access my variable declared in package from sub declared in the same package in Perl?", "body": "<p>You can access the variable inside your sub, it just hasn't been set yet.</p>\n\n<p><code>my</code> has both compile-time and run-time behavior. At compile-time it declares a variable name for the remainder of the enclosing scope, thus making <code>use strict</code> happy. Initialization happens at run-time <em>when control flow reaches the declaration</em>. Because your call to <code>mysub()</code> happens before control flow reaches the <code>my $var = ...</code>, the value of <code>$var</code> seen in <code>mysub</code> is <code>undef</code> and perl emits a \"Use of uninitialized value...\" warning. If you called your sub <em>after</em> the <code>my $var = ...</code> it would be defined and you'd see that value instead (and no warning).</p>\n"}], "owner": {"reputation": 503, "user_id": 1485889, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b28775c093e89408d6ed09287b6071b5?s=128&d=identicon&r=PG", "display_name": "isevcik", "link": "https://stackoverflow.com/users/1485889/isevcik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 34724202, "answer_count": 2, "score": 3, "last_activity_date": 1452585659, "creation_date": 1452523211, "last_edit_date": 1452585659, "question_id": 34724157, "link": "https://stackoverflow.com/questions/34724157/why-i-cant-access-my-variable-declared-in-package-from-sub-declared-in-the-same", "title": "Why i can&#39;t access my variable declared in package from sub declared in the same package in Perl?", "body": "<p>I don't understand why can't access variable <code>$var</code> in sub <code>mysub</code>. Both packages are defined in the same file exactly as in this example:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nUtil::mysub();\n\npackage Util;\n\nuse warnings;\nuse strict;\n\nmy $var = 'i have a value!';\n\n# prints 'var in package: i have a value!'\nprint \"var in package: $var\\n\";\n\nsub mysub {\n    # generates warning 'Use of uninitialized value $var...'\n    print \"var in sub: $var\\n\";\n}\n\n1;\n</code></pre>\n"}, {"tags": ["python", "algorithm", "perl"], "comments": [{"owner": {"reputation": 723, "user_id": 2911455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/38e93a4e374075c088db21fe732cdd95?s=128&d=identicon&r=PG&f=1", "display_name": "sebastian", "link": "https://stackoverflow.com/users/2911455/sebastian"}, "edited": false, "score": 0, "creation_date": 1452519424, "post_id": 34722847, "comment_id": 57191484, "body": "Both of your examples will not produce the same output when you search. For example: you search for {a} you will get {1,2} but in the second you have to search for {a,b} to get {1,2}. (since its hashed you cant just search for {a}). If you don&#39;t know what to search for this could lead to a problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 723, "user_id": 2911455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/38e93a4e374075c088db21fe732cdd95?s=128&d=identicon&r=PG&f=1", "display_name": "sebastian", "link": "https://stackoverflow.com/users/2911455/sebastian"}, "edited": false, "score": 3, "creation_date": 1452519561, "post_id": 34722847, "comment_id": 57191577, "body": "@kadoga, <code>{a,b}</code> represents a set, not they key to a hash."}, {"owner": {"reputation": 2139, "user_id": 553766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8489617c16330b18bb4f15cadb26275a?s=128&d=identicon&r=PG", "display_name": "SAN", "link": "https://stackoverflow.com/users/553766/san"}, "reply_to_user": {"reputation": 723, "user_id": 2911455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/38e93a4e374075c088db21fe732cdd95?s=128&d=identicon&r=PG&f=1", "display_name": "sebastian", "link": "https://stackoverflow.com/users/2911455/sebastian"}, "edited": false, "score": 0, "creation_date": 1452519575, "post_id": 34722847, "comment_id": 57191586, "body": "@kadoga - sorry, i didnt understand. These are not used for search, this is just compression"}, {"owner": {"reputation": 1900, "user_id": 5629218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6QxuC.jpg?s=128&g=1", "display_name": "Lav", "link": "https://stackoverflow.com/users/5629218/lav"}, "edited": false, "score": 0, "creation_date": 1452519616, "post_id": 34722847, "comment_id": 57191617, "body": "Why not make two compressed mappings in parallel, and then decide which is the better one? Or are there any memory constraints?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1900, "user_id": 5629218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6QxuC.jpg?s=128&g=1", "display_name": "Lav", "link": "https://stackoverflow.com/users/5629218/lav"}, "edited": false, "score": 0, "creation_date": 1452519712, "post_id": 34722847, "comment_id": 57191679, "body": "@Lav, The optimal solution would often be a mix of groupings by LHS and groupings by RHS."}, {"owner": {"reputation": 2139, "user_id": 553766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8489617c16330b18bb4f15cadb26275a?s=128&d=identicon&r=PG", "display_name": "SAN", "link": "https://stackoverflow.com/users/553766/san"}, "reply_to_user": {"reputation": 1900, "user_id": 5629218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6QxuC.jpg?s=128&g=1", "display_name": "Lav", "link": "https://stackoverflow.com/users/5629218/lav"}, "edited": false, "score": 1, "creation_date": 1452519734, "post_id": 34722847, "comment_id": 57191693, "body": "@Lav, when i started thinking more, i felt there could be multiple solutions to this. Optimal result could come from completely different set. For example a,1;a,2;b,3;c,3 will need both to get {a} &lt;=&gt; {1,2}; {b, c} &lt;=&gt; {3}"}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1452525137, "post_id": 34722847, "comment_id": 57195296, "body": "It&#39;s easy enough to create the <code>{keys} =&gt; {values}</code> mapping, and the transformation to create the inverted index, <code>{values} =&gt; {keys}</code>, is from the original mapping is also simple. Just create them both and then pick the shortest one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1452526791, "post_id": 34722847, "comment_id": 57196522, "body": "@Jim Mischel, Lav and user1697062 already suggested that, I&#39;ve already pointed out it&#39;s broken, and SAN gave an example where that doesn&#39;t work. This is actually a very hard problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452527108, "post_id": 34722847, "comment_id": 57196764, "body": "@SAN, Obviously, the first step is to split the data into connected groups: <code>a,1;a,2;b,3;c,3</code> \u21d2 <code>a,1;a,2</code> + <code>b,3;c,3</code>. For that, you can use <a href=\"http://pastebin.com/Tz1mPCDv\" rel=\"nofollow noreferrer\">this</a>. But breaking down the problem this way is only an optimization. You still have to compress the resulting groups in the same way you would have had to compress the whole set. For example, <code>a1,b1,b2,c1,c2,d2,d3,d4,e3,e4,e5</code> doesn&#39;t reduce, and includes LHS groupings and RHS groupings. One minimal solution: <code>abc&lt;=&gt;1;bcd&lt;=&gt;2;d&lt;=&gt;34;e&lt;=&gt;345</code>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 1697062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7c121c6214c5fd195232eac2e372159?s=128&d=identicon&r=PG", "display_name": "kernel_panic", "link": "https://stackoverflow.com/users/1697062/kernel-panic"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452597601, "post_id": 34723299, "comment_id": 57230058, "body": "@ikegami, Sorry I made a mess out of this answer. Now I think this matrix analogy leads to a minimal number of entries in the mapping and therefore  answers the question. What&#39;s your opinion?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452601934, "post_id": 34723299, "comment_id": 57232897, "body": "If it can handle the example I gave and that you used, I&#39;m pretty sure it can handle anything. I&#39;ll make sure to read the linked page when I can."}], "tags": [], "owner": {"reputation": 31, "user_id": 1697062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7c121c6214c5fd195232eac2e372159?s=128&d=identicon&r=PG", "display_name": "kernel_panic", "link": "https://stackoverflow.com/users/1697062/kernel-panic"}, "is_accepted": false, "score": 1, "last_activity_date": 1452547731, "last_edit_date": 1495541040, "creation_date": 1452520650, "answer_id": 34723299, "question_id": 34722847, "link": "https://stackoverflow.com/questions/34722847/algorithm-to-compress-bunch-of-string-pairs/34723299#34723299", "title": "algorithm to compress bunch of (string pairs)", "body": "<p>This problem is equivalent to covering the 1's or 0's of a binary matrix with a minimum number of lines. </p>\n\n<p>For instance, consider the example : a1,b1,b2,c1,c2,d2,d3,d4,e3,e4,e5. This can be put in a matrix as follows:</p>\n\n<pre><code>  1 2 3 4 5\na 1\nb 1 1\nc 1 1\nd   1 1 1\ne     1 1 1\n</code></pre>\n\n<p>A minimal solution is to cross the lines d and e to give:</p>\n\n<pre><code>d : {2, 3, 4}\ne : {3, 4, 5}\n</code></pre>\n\n<p>and the columns 1 and 2</p>\n\n<pre><code>1 : {a, b, c}\n2 : {b, c, d}\n</code></pre>\n\n<p>so as to reach a minimum number of entries in the compressed map of 4.</p>\n\n<p>The solution of this problem is treated elsewhere on stackoverflow in <a href=\"https://stackoverflow.com/questions/14795111/hungarian-algorithm-how-to-cover-0-elements-with-minimum-lines\">Hungarian Algorithm: How to cover 0 elements with minimum lines?</a></p>\n"}, {"tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 0, "last_activity_date": 1452612336, "creation_date": 1452612336, "answer_id": 34747498, "question_id": 34722847, "link": "https://stackoverflow.com/questions/34722847/algorithm-to-compress-bunch-of-string-pairs/34747498#34747498", "title": "algorithm to compress bunch of (string pairs)", "body": "<p>This is definitely not speed-optimized, but this problem really captured my attention. I wasn't really sure about the input format, but that should be trivial to change. Here is my idea, basically I think that you need a two-pass, because you can't know which compression is best until you reach the end of your data:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nsub compress_strings {\n    my @strings = @_;\n    my %keys_hash;\n    my %values_hash;\n    my %second_hash;\n    my %third_hash;\n\n    foreach my $string (@strings) {\n        my ($key, $value) = split /,/, $string;\n        push(@{$keys_hash{$key}}, $value);\n        push(@{$values_hash{$value}}, $key);\n    }\n\n    foreach my $key (keys(%keys_hash)) {\n        my $found = 0;\n        foreach my $value (@{$keys_hash{$key}}) {\n            if (@{$values_hash{$value}} &gt; 1) {\n                if (!grep {$value} @{$second_hash{join(',', @{$values_hash{$value}})}}) {\n                    push(@{$second_hash{join(',', @{$values_hash{$value}})}}, $value);\n                }\n                $found = 1;\n            }\n        }\n        if (!$found) {\n            $second_hash{$key} = $keys_hash{$key};\n        }\n    }\n\n    %third_hash = map { $_ =&gt; join(',',@{$second_hash{$_}}) } keys(%second_hash);\n\n    return \\%third_hash;\n}\n\nprint Dumper compress_strings( 'a,1', 'a,2', 'b,1', 'c,2', 'd,4' );\nprint Dumper compress_strings( 'a,1', 'a,2', 'b,3', 'c,3' );\nprint Dumper compress_strings( 'a,1', 'b,1' ,'b,2' ,'c,1' ,'c,2' ,'d,2' ,'d,3' ,'d,4' ,'e,3' ,'e,4' ,'e,5' );\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'a,c' =&gt; '2',\n          'a,b' =&gt; '1',\n          'd' =&gt; '4'\n        };\n$VAR1 = {\n          'a' =&gt; '1,2',\n          'b,c' =&gt; '3'\n        };\n$VAR1 = {\n          'a,b,c' =&gt; '1',\n          'b,c,d' =&gt; '2',\n          'd,e' =&gt; '3'\n        };\n</code></pre>\n"}], "owner": {"reputation": 2139, "user_id": 553766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8489617c16330b18bb4f15cadb26275a?s=128&d=identicon&r=PG", "display_name": "SAN", "link": "https://stackoverflow.com/users/553766/san"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1452612336, "creation_date": 1452519215, "question_id": 34722847, "link": "https://stackoverflow.com/questions/34722847/algorithm-to-compress-bunch-of-string-pairs", "title": "algorithm to compress bunch of (string pairs)", "body": "<p>I have bunch of strings which come in pairs\nFor example, these are three pairs. First one has two string \"a\", \"1\"</p>\n\n<pre><code>a,1\na,2\nb,1\n</code></pre>\n\n<p>In my project, i need to compress this data.\nFor the above data, compressed data is. (compressed to back uncompressed is cartesian product)</p>\n\n<pre><code>{a} &lt;=&gt; {1,2}\n{b} &lt;=&gt; {1}\n</code></pre>\n\n<p>What is the best algorithm to come up with the optimal compressed data. Optimal here is fewer number of mappings\nI could write a simple script which creates a hash table with the first string. Even though it gives optimal compressed data in some cases (above case) but it doesnt always.\nFor example,</p>\n\n<pre><code>a,1\na,2\nb,1\nc,2\n</code></pre>\n\n<p>Hash table with first string as a key would give me below compressed data</p>\n\n<pre><code>{a} &lt;=&gt; {1,2}\n{b} &lt;=&gt; {1}\n{c} &lt;=&gt; {2}\n</code></pre>\n\n<p>But that's not optimal compressed data. I will get below compression if i used second string</p>\n\n<pre><code>{a,b} &lt;=&gt; {1}\n{a,c} &lt;=&gt; {2}\n</code></pre>\n\n<p>What is the best algorithm to compress the data?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 1, "creation_date": 1452514254, "post_id": 34721175, "comment_id": 57188059, "body": "I would suggest using regular expressions. What have you tried so far?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1452514407, "post_id": 34721175, "comment_id": 57188173, "body": "You forgot to add your code for this task."}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1452514471, "post_id": 34721175, "comment_id": 57188225, "body": "For the patters reading part I didn&#39;t do anything because I have no idea on how it works ,I am fairly new to perl and I tried to read a lot about this part and I have no idea on how to do it...the only way I found on how to do it is by using grep but even so it doesn&#39;t help only to read from a string to another one and I don&#39;t know how to use grep in perl only in Linux..."}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1452516207, "post_id": 34721473, "comment_id": 57189336, "body": "can you help me with an easy example on how to implement this?for example if I open a file and convert all the values from the file into hex how can I tell him how to convert the specific text I want I added the conversion code above."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1452516347, "post_id": 34721473, "comment_id": 57189426, "body": "You changed the question. I replied to the older version."}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1452516586, "post_id": 34721473, "comment_id": 57189591, "body": "I understand it is a reply to the older version but I don&#39;t know how to implement it ,I understand now from what you explained to me what each of the characters does but I don&#39;t understand how to you implement it because if I add perl -pe &#39;s=([^/]+).../.*\\.c=$1=&#39; to my code I get an error about predeclaring &quot;pe&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 2, "creation_date": 1452518443, "post_id": 34721473, "comment_id": 57190831, "body": "@JohnPietrar: If the real problem is that you simply don&#39;t know Perl then you should be looking at <a href=\"http://learn.perl.org/\" rel=\"nofollow noreferrer\">learn.perl.org</a> rather than Stack Overflow. We aren&#39;t here to churn out solutions for people who don&#39;t know their job"}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1452521191, "post_id": 34721473, "comment_id": 57192737, "body": "I was forced to learn perl in 10 days be a bit understanding, I tried to learn from learn.perl.org but some things can&#39;t be understood just by reading it, specific problems need some explaining, I learn easier from examples I wish it was c or c++ or java or lisp but no,it&#39;s perl and I rly am trying my best..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 2, "creation_date": 1452523132, "post_id": 34721473, "comment_id": 57193976, "body": "@JohnPietrar: You keep coming up repeatedly with the same problems, despite solutions being shown to you in the examples that you prefer. And regardless of the language, you don&#39;t appear to have the <i>requirement</i> clear in your head. Sometimes you are adding character codes, sometimes hex strings, sometimes truncating the overflow and sometimes carrying it. The biggest problem seems to be that you don&#39;t understand your <i>goal</i>, and if you can&#39;t how is there any possibility that we can help? I suggest you write this in C++ and get the output you need so that you have something to show us"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1452514868, "creation_date": 1452514868, "answer_id": 34721473, "question_id": 34721175, "link": "https://stackoverflow.com/questions/34721175/read-specific-text-patterns-in-perl/34721473#34721473", "title": "Read specific text patterns in perl", "body": "<p>I changed the input to be able to recognize what 1's it matches:</p>\n\n<pre><code>abcd111/first/second/third/fourth.cX1111111...etc...\nabcd111/afirst/asecond/athird/afourth.cX1111111...etc...etc\n</code></pre>\n\n<p>This seems to produce the output you want</p>\n\n<pre><code>perl -pe 's=([^/]+).../.*\\.c=$1='\n</code></pre>\n\n<ul>\n<li><code>[^/]</code> is a character class, it matches anything that's not a slash;</li>\n<li><code>+</code> means it must be present one or more times</li>\n<li>putting it into parentheses makes it a \"capture group\", i.e. Perl will remember what matched that part.</li>\n<li><code>.../</code> matches any three character followed by a slash.</li>\n<li><code>.*</code> matches anything.</li>\n<li><code>\\.c</code> matches a dot followed by a <code>c</code>.</li>\n<li>the whole matching part (<code>abcd</code> in the sample input, up to the <code>c</code> before <code>X</code>) is substituted (hence the starting <code>s</code>) with <code>$1</code>, i.e. the contents of the first capture group, i.e. the <code>abcd</code> in the sample input.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1452518322, "creation_date": 1452518322, "answer_id": 34722572, "question_id": 34721175, "link": "https://stackoverflow.com/questions/34721175/read-specific-text-patterns-in-perl/34722572#34722572", "title": "Read specific text patterns in perl", "body": "<p>Your precise criteria aren't clear. Are those digits always ones? It's a mistake to show such a very simple example when you're hoping for help. But I suggest you use <code>split</code></p>\n\n<p>Something like this perhaps?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $data = do {\n    local $/;\n    &lt;DATA&gt;;\n};\n\n$data =~ tr/\\n//d;\n\nsay for split qr{\\d\\d\\d(?:/\\w+)+/\\w+\\.c}, $data;\n\n__DATA__\n1111111/first/second/third/fourth.c11111111...etc...\n1111111/afirst/asecond/athird/afourth.c11111111...etc...etc\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>1111\n11111111...etc...1111\n11111111...etc...etc\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "closed_date": 1453969645, "accepted_answer_id": 34722572, "answer_count": 2, "score": -1, "last_activity_date": 1452518322, "creation_date": 1452513970, "last_edit_date": 1452516261, "question_id": 34721175, "link": "https://stackoverflow.com/questions/34721175/read-specific-text-patterns-in-perl", "closed_reason": "Needs details or clarity", "title": "Read specific text patterns in perl", "body": "<p>I want to read from a text file only specific text, for example:\nFileExample:</p>\n\n<pre><code>1111111/first/second/third/fourth.c11111111...etc...\n1111111/afirst/asecond/athird/afourth.c11111111...etc...etc\n</code></pre>\n\n<p>I would like to read the whole file except the part of the file from the 3rd \"1\" from the first \"/\" until the \".c\" after the 4th \"/\" to make myself more clear I will bold the text I want my program to read and leave unbolded the part of the text I don't want my program to read.</p>\n\n<blockquote>\n  <p><strong>1111</strong>111/first/second/third/fourth.c<strong>11111111...etc...etc</strong>\n  <strong>1111</strong>111/afirst/asecond/athird/afourth.c<strong>11111111...etc...etc</strong></p>\n</blockquote>\n\n<p>after I do all the operations I want with the bolded text,I want to write it in another file the unbolded text unmodified and the bolded text with the modifications made after the operations,and placed in the original file order.</p>\n\n<pre><code>open my $fh1, '&lt;', 'hex.txt';\nopen my $fh2, '&lt;', 'hex2.txt';\n\nuntil ( eof $fh1 or eof $fh2 ) {\n\n\n    my @l1 = map hex,unpack '(a2)*', &lt;$fh1&gt;;\n    my @l2 = map hex,unpack '(a2)*', &lt;$fh2&gt;;\n\n    my $n = @l2 &gt; @l1 ? @l2 : @l1;\n\n    my @sum = map {\n\n        $l1[$_] + $l2[$_];\n    } 0 .. $n-1;\n\n    @sum = map { sprintf '%X', $_ } @sum;\n\n    open my $out, '&gt;', 'sum.txt';\n    print { $out } @sum, \"\\n\";\n}\n</code></pre>\n\n<p>I want to sum the hex values from the file hex to the sum values from file hex2,both files have the same construction type, both have text and hex values in the same location and have the exact same length.i just need to understand how to tell him to read from location1 to location2.</p>\n\n<blockquote>\n  <p>Convert file to hex:</p>\n</blockquote>\n\n<pre><code>{\n    my $input = do {\n        open my $in, '&lt;', $ARGV[0];\n        local $/;\n        &lt;$in&gt;\n    };\n\n    open my $out, '&gt;', 'hex.txt';\n\n    print $out unpack 'H*', $input;\n\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 369, "user_id": 3697626, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000919661923/picture?type=large", "display_name": "vatay", "link": "https://stackoverflow.com/users/3697626/vatay"}, "edited": false, "score": 0, "creation_date": 1452518566, "post_id": 34721820, "comment_id": 57190918, "body": "Thank you very match. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 369, "user_id": 3697626, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000919661923/picture?type=large", "display_name": "vatay", "link": "https://stackoverflow.com/users/3697626/vatay"}, "edited": false, "score": 0, "creation_date": 1452529534, "post_id": 34721820, "comment_id": 57198469, "body": "@vatay, Fixed a bug."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1452530517, "last_edit_date": 1452530517, "creation_date": 1452516027, "answer_id": 34721820, "question_id": 34720944, "link": "https://stackoverflow.com/questions/34720944/how-decode-html-string-to-readeble-form-using-perl/34721820#34721820", "title": "How decode html string to readeble form using perl", "body": "<p><a href=\"http://p3rl.org/URI::Encode\" rel=\"nofollow\">URI::Encode</a> or <a href=\"http://p3rl.org/URI::Escape\" rel=\"nofollow\">URI::Escape</a> will handle the <code>%</code> encoded characters. The <code>+</code> to space you'll have to do yourself:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse URI::Encode;\n\nmy $encoder = 'URI::Encode'-&gt;new;\n( my $s = 'Tornyosi+m%C5%B1sor' ) =~ s/\\+/ /g;\n$s = $encoder-&gt;decode($s);\nprint $s, \"\\n\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse URI::Escape;\n\n( my $s = 'Tornyosi+m%C5%B1sor' ) =~ s/\\+/ /g;\nmy $s = uri_unescape($s);\nprint $s, \"\\n\";\n</code></pre>\n\n<p>You might need to decode the strings if you want to output to an io layer with encoding. See <a href=\"http://p3rl.org/Encode\" rel=\"nofollow\">Encode</a>.</p>\n"}], "owner": {"reputation": 369, "user_id": 3697626, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000919661923/picture?type=large", "display_name": "vatay", "link": "https://stackoverflow.com/users/3697626/vatay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 34721820, "answer_count": 1, "score": 2, "last_activity_date": 1452530517, "creation_date": 1452513272, "question_id": 34720944, "link": "https://stackoverflow.com/questions/34720944/how-decode-html-string-to-readeble-form-using-perl", "title": "How decode html string to readeble form using perl", "body": "<p>I'm new in perl, and if i use the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse WWW::YouTube::Info::Simple;\n\nmy $id = 'aPLnXzjWMZE';\nmy $yt = WWW::YouTube::Info::Simple-&gt;new($id);\n\nmy $info = $yt-&gt;get_info();\nprint $info-&gt;{title};\n</code></pre>\n\n<p>and as result I become: Tornyosi+m%C5%B1sor</p>\n\n<p>How can decode (or what module should be using) for readable string <strong>Tornyosi m\u0171sor</strong> ?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5773225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dbcf1c7194eddece66b0be4f9d4534?s=128&d=identicon&r=PG&f=1", "display_name": "Vasilii Beliy", "link": "https://stackoverflow.com/users/5773225/vasilii-beliy"}, "edited": false, "score": 0, "creation_date": 1452513045, "post_id": 34719885, "comment_id": 57187213, "body": "Thanks, but it doesn&#39;t work for unicode, like for this : &quot;\u0532-\u0561-\u0580-\u0565-\u0582-world-guys&quot;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 13, "user_id": 5773225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dbcf1c7194eddece66b0be4f9d4534?s=128&d=identicon&r=PG&f=1", "display_name": "Vasilii Beliy", "link": "https://stackoverflow.com/users/5773225/vasilii-beliy"}, "edited": false, "score": 0, "creation_date": 1452513959, "post_id": 34719885, "comment_id": 57187868, "body": "That&#39;s a rather different scenario, but try <code>&#47;u</code> as a regex modifier. I think that should do the trick."}, {"owner": {"reputation": 13, "user_id": 5773225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dbcf1c7194eddece66b0be4f9d4534?s=128&d=identicon&r=PG&f=1", "display_name": "Vasilii Beliy", "link": "https://stackoverflow.com/users/5773225/vasilii-beliy"}, "edited": false, "score": 0, "creation_date": 1452516276, "post_id": 34719885, "comment_id": 57189381, "body": "use utf8; helped. Thanks again"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1452514834, "last_edit_date": 1592644375, "creation_date": 1452510287, "answer_id": 34719885, "question_id": 34719773, "link": "https://stackoverflow.com/questions/34719773/regex-fix-delimiters-in-a-string/34719885#34719885", "title": "Regex fix delimiters in a string", "body": "<p>It's more complicated than you think, because you're trying to assert a negative case... but then &quot;keep&quot; that negative.</p>\n<p>So to do this, you need look-around modifiers to your regex:</p>\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $str = &quot;H-e-l-o-world-guys&quot;;\n\n$str =~ s/(?&lt;=\\w)-(\\w)(?!\\w)/$1/g;\nprint $str;\n</code></pre>\n<p>That regex breaks down as:</p>\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $str = &quot;H-e-l-o-world-guys&quot;;\n\n$str =~ s/(?&lt;=\\w)      #Preceeded by word char\n            -(\\w)      #dash, then word-char - capture word char (as $1)\n           (?!\\w)      #followed by non word char\n           /$1/gx;     #put that word-char back\n           \nprint $str;\n</code></pre>\n<p>Note - it won't anchor at start of line.</p>\n<p>This turns your line into:</p>\n<pre><code>Helo-world-guys\n</code></pre>\n<p>Edit:</p>\n<pre><code>\u0532-\u0561-\u0580-\u0565-\u0582-world-guys\n</code></pre>\n<p>Is a slightly different scenario. <code>\\w</code> won't match those letters by default, but if you add the <code>/u</code> flag to your regex, it should work once more.</p>\n<p>From: <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perlre</code></a>:</p>\n<blockquote>\n<p><strong>/u</strong></p>\n<p>means to use Unicode rules when pattern matching. On ASCII platforms, this means that the code points between 128 and 255 take on their Latin-1 (ISO-8859-1) meanings (which are the same as Unicode's). (Otherwise Perl considers their meanings to be undefined.) Thus, under this modifier, the ASCII platform effectively becomes a Unicode platform; and hence, for example, \\w will match any of the more than 100_000 word characters in Unicode.</p>\n</blockquote>\n<p>Or go for the expedient - <code>[^-]</code>:</p>\n<pre><code>$str =~ s/(?&lt;=[^-])      #Preceeded by word char\n            -([^-])      #dash, then word-char - capture non-dash char (as $1)\n           (?![^-])      #followed by non word char\n           /$1/gx;     #put that word-char back\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5773225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dbcf1c7194eddece66b0be4f9d4534?s=128&d=identicon&r=PG&f=1", "display_name": "Vasilii Beliy", "link": "https://stackoverflow.com/users/5773225/vasilii-beliy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 34719885, "answer_count": 1, "score": 1, "last_activity_date": 1452514834, "creation_date": 1452509880, "last_edit_date": 1452510356, "question_id": 34719773, "link": "https://stackoverflow.com/questions/34719773/regex-fix-delimiters-in-a-string", "title": "Regex fix delimiters in a string", "body": "<p>I have some strings of the following structure :\n\"H-e-l-o-world-guys\", so some words are delimited wrongly. \nHow can I delete those dashes only between single characters and not between words ?</p>\n\n<p>I've tried this : <code>$words =~ s/-(.)//g;</code></p>\n\n<p>but it did not work.</p>\n"}, {"tags": ["html", "perl", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3735192, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-ub_9XJdkJc4/AAAAAAAAAAI/AAAAAAAAABM/La5wKi7CHug/photo.jpg?sz=128", "display_name": "Chella", "link": "https://stackoverflow.com/users/3735192/chella"}, "edited": false, "score": 0, "creation_date": 1452570557, "post_id": 34722357, "comment_id": 57216740, "body": "thank u sir . How I display all contents . When I am using                      [say $collection-&gt;all_text;  ]The following error has occur                              [ Can&#39;t locate object method &quot;all_text&quot; via package &quot;Mojo::Collection&quot;]   What I do"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1452517666, "creation_date": 1452517666, "answer_id": 34722357, "question_id": 34719421, "link": "https://stackoverflow.com/questions/34719421/how-to-print-the-text-in-a-paragraph-element-using-mojolicious/34722357#34722357", "title": "How to print the text in a paragraph element using Mojolicious", "body": "<ul>\n<li><p>The <code>text</code> method will fetch only the text nodes <em>immediately within</em> a node. To fetch all descendant text nodes you need to use <code>all_text</code></p></li>\n<li><p>It is also rather ugly to use <code>join</code> and then <code>split</code> again to separate the elements into a list. The <code>find</code> method returns a <code>Mojo::Collection</code> object which can be indexed directly</p></li>\n<li><p>And it's as well to confine the selected <code>div</code> to one with the required class</p></li>\n</ul>\n\n<p>Like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse feature 'say';\n\nuse Mojo;\n\nmy $ua = Mojo::UserAgent-&gt;new;\n\nmy $collection = $ua-&gt;get('http://blogs.perl.org/')-&gt;res-&gt;dom-&gt;find('div.entry-body &gt; p ');\n\nsay $collection-&gt;[0]-&gt;all_text;\n</code></pre>\n\n<h2>output</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl6-slang-roman lets you write your Perl 6 code using Roman numerals:\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3735192, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-ub_9XJdkJc4/AAAAAAAAAAI/AAAAAAAAABM/La5wKi7CHug/photo.jpg?sz=128", "display_name": "Chella", "link": "https://stackoverflow.com/users/3735192/chella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 1, "accepted_answer_id": 34722357, "answer_count": 1, "score": 1, "last_activity_date": 1452528659, "creation_date": 1452508749, "last_edit_date": 1452528659, "question_id": 34719421, "link": "https://stackoverflow.com/questions/34719421/how-to-print-the-text-in-a-paragraph-element-using-mojolicious", "title": "How to print the text in a paragraph element using Mojolicious", "body": "<pre><code> use strict;\n use warnings;\n use feature 'say';\n\n use Mojo;\n\n my $ua = Mojo::UserAgent-&gt;new;\n\n my $array = $ua-&gt;get('http://blogs.perl.org/')-&gt;res-&gt;dom-&gt;find('div &gt; p ')-&gt;map('text')-&gt;join(\"\\n\");\n\n my @arr = split(\"\\n\",$array);\n print \"\\n$arr[0]\\n\";\n</code></pre>\n\n<p>When I run this code I get the following output</p>\n\n<blockquote>\n  <p>lets you write your Perl 6 code using Roman numerals:</p>\n</blockquote>\n\n<p>But I want output as:</p>\n\n<blockquote>\n  <p>perl6-slang-roman lets you write your Perl 6 code using Roman numerals:</p>\n</blockquote>\n\n<p>Can anyone help me?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1452508877, "post_id": 34719117, "comment_id": 57184626, "body": "What is the <code>x</code> for?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1452526032, "post_id": 34719117, "comment_id": 57195951, "body": "You&#39;ve posted numerous questions and still need help since you&#39;ve never been clear about what you wanted to do. Your descriptions are inadequate, and misuse words such as &quot;hex&quot;. Help yourself by helping us by providing clearer descriptions of what you are trying to do. Specifically, please use tools such as <code>od</code> or <code>cat</code> (as appropriate) to communicate the contents of files rather than trying to describe them. Also, be sure to provided the expected output using the same method."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452526062, "post_id": 34719117, "comment_id": 57195975, "body": "I&#39;ve determined what you meant to ask by reverse engineering your answer, and I have updated the question to match."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452540823, "post_id": 34719117, "comment_id": 57205240, "body": "@ikegami: So the OP is asking for help to make the code that he shows work properly, and you change his question to fit the code that he has written? Way to go"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1452541341, "post_id": 34719117, "comment_id": 57205576, "body": "No, I didn&#39;t change anything.  I just rephrased &quot;File 1:x <code>hex value of file 1: 78</code>&quot; to make it clear his file contains one byte: <code>x</code> aka <code>78</code> hex."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452541537, "post_id": 34719117, "comment_id": 57205682, "body": "@ikegami: From his history of questions, I suspect that even that isn&#39;t correct, and that he&#39;s unaware of the difference. He has variously summed character codes, hex characters (with and without a carry) hex character pairs, and hex character strings. Like you I am waiting for a real job spec"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1452541861, "post_id": 34719117, "comment_id": 57205854, "body": "@JohnPietrar: You <a href=\"http://stackoverflow.com/questions/34721175/read-specific-text-patterns-in-perl#comment57192737_34721473\">said before</a> that you had been &quot;forced&quot; to learn Perl in only ten days, and that you would be fine with C, C++, Java or Lisp. I wish you would follow up on my suggestion that you write a working solution in your preferred language. Most of us here know those languages and could understand from your code what you were really trying to do"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452542498, "post_id": 34719117, "comment_id": 57206219, "body": "@ikegami: Okay, if you&#39;re insisting on putting words into the OP&#39;s mouth, then please at least change the subject line appropriately"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452508828, "post_id": 34719384, "comment_id": 57184604, "body": "I think the <code>x</code> is not part of the input. That was just weird formatting by OP. I tried fixing that, but forgot one. The input as far as I understand is <code>78</code>, and it reads <code>7</code> and <code>8</code> as two chars, instead of reading both at the same time."}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1452508887, "post_id": 34719384, "comment_id": 57184633, "body": "can you show me an exact example of how to do that from files?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1452508898, "post_id": 34719384, "comment_id": 57184641, "body": "The question says both files contain <code>x</code> and the hex of the ASCII code for <code>x</code> is 0x78.  I think I stand by my interpretation."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1452508941, "post_id": 34719384, "comment_id": 57184664, "body": "Your requirements are vague.  What should the code do if the files contain lines of different length?"}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1452509127, "post_id": 34719384, "comment_id": 57184800, "body": "if you input in file1:xz file2:xz then we will have 2 output files hex1:787A , hex2:787A and instead of an output sum of the 2 hex files of &quot;f0f4&quot; we will have an output of &quot;E10E14&quot;"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1452509186, "post_id": 34719384, "comment_id": 57184842, "body": "So if you have file1:xz and file2:xyz (different lengths of input) what should the code do?"}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1452509216, "post_id": 34719384, "comment_id": 57184865, "body": "they never have different length they are always the same length"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452509249, "post_id": 34719384, "comment_id": 57184885, "body": "Ok, so the <code>x</code> is in the first file <b>that you process to hex in a first step</b> and then you read that and it contains <code>78</code>."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1452509367, "post_id": 34719384, "comment_id": 57184949, "body": "Is writing the interim hex results to a separate file a proper requirement, or just something you put in for debugging?  Your code seems to hard-code a lot of arcane and inflexible things."}, {"owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "edited": false, "score": 0, "creation_date": 1452509385, "post_id": 34719384, "comment_id": 57184961, "body": "Yes, and after I sum the 2 hex files into a 3rd file"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 0, "last_activity_date": 1452509770, "last_edit_date": 1452509770, "creation_date": 1452508673, "answer_id": 34719384, "question_id": 34719117, "link": "https://stackoverflow.com/questions/34719117/summing-the-bytes-of-two-files/34719384#34719384", "title": "Summing the bytes of two files", "body": "<p>Mapping to hex and then adding causes the behavior your are describing.  Don't do that.  Add the character values as integers first, then convert the resulting integer to a string of hex.</p>\n\n<pre><code>printf \"%X\\n\", ord(\"x\") + ord(\"x\");\n</code></pre>\n\n<p>Looping over the input files, and assuming (as per comment) that the files are always the same length, maybe something like</p>\n\n<pre><code>$/ = undef;\nopen my $input1, '&lt;', $ARGV[0] or die \"Could not open $ARGV[0]: $!\";\nmy $str1 = &lt;$input1&gt;;\nclose($input1);  # Don't forget to close()!\nopen my $input2, '&lt;', $ARGV[1] or die \"Could not open $ARGV[1]: $!\";\nmy $str2 = &lt;$input2&gt;;\nclose($input2);\n@sums = ();\nfor (my $i=0; $i &lt; $#input1; ++$i) {\n    push @sums, ord(substr($input1, $i, 1)) + ord(substr($input2, $i, 1));\n}\n</code></pre>\n\n<p>Copying the hex representation of the input files to a separate output file for each did not seem central to your question, so is left as a (trivial) exercise.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1452518993, "last_edit_date": 1452518993, "creation_date": 1452510021, "answer_id": 34719808, "question_id": 34719117, "link": "https://stackoverflow.com/questions/34719117/summing-the-bytes-of-two-files/34719808#34719808", "title": "Summing the bytes of two files", "body": "<p>Your problem is that you are reading the files line by line using <code>split //</code>, which gives you each <em>character</em>, but you want two. That's not possible with <code>split</code>.</p>\n\n<p>You can use <a href=\"http://perldoc.perl.org/functions/read.html\" rel=\"nofollow\"><code>read</code> to grab two bytes at a time</a> from the file. Those you can convert to <em>decimal</em> by using <code>hex</code>. I used <a href=\"https://metacpan.org/pod/List::MoreUtils#pairwise-BLOCK-ARRAY1-ARRAY2\" rel=\"nofollow\">List::MoreUtils'</a> <code>pairwise</code> to simplify that.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::MoreUtils 'pairwise';\nuse Data::Dumper;\n\nmy @l1;\nmy @l2 = (78, 79, 80);\nuntil (eof \\*DATA) {\n    read \\*DATA, my $chars, 2;\n    push @l1, $chars;\n}\n\n\n# sum them up\nmy @sums = map { sprintf '%X', $_ } pairwise {  hex($a) + hex($b) } @l1, @l2;\nprint Dumper \\@sums;\n\n__DATA__\n787878\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 2, "creation_date": 1452518218, "post_id": 34720455, "comment_id": 57190712, "body": "It might be more efficient to use <code>unpack &#39;C*&#39;, pack &#39;H*&#39;</code> instead of <code>map hex,unpack &#39;(a2)*&#39;</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452519053, "post_id": 34720455, "comment_id": 57191244, "body": "First you write comments saying that you want to add <i>character codes</i> but now you say you have found a solution that adds <i>hex strings</i>. You need to be much more careful about describing what you want to do"}], "tags": [], "owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "is_accepted": true, "score": 1, "last_activity_date": 1452511886, "creation_date": 1452511886, "answer_id": 34720455, "question_id": 34719117, "link": "https://stackoverflow.com/questions/34719117/summing-the-bytes-of-two-files/34720455#34720455", "title": "Summing the bytes of two files", "body": "<p>Found a solution on my own. I used:</p>\n\n<pre><code>open my $fh1, '&lt;', 'hex.txt';\nopen my $fh2, '&lt;', 'hex2.txt';\n\nuntil ( eof $fh1 or eof $fh2 ) {\n\n\n    my @l1 = map hex,unpack '(a2)*', &lt;$fh1&gt;;\n    my @l2 = map hex,unpack '(a2)*', &lt;$fh2&gt;;\n\n    my $n = @l2 &gt; @l1 ? @l2 : @l1;\n\n    my @sum = map {\n\n        $l1[$_] + $l2[$_];\n    } 0 .. $n-1;\n\n    @sum = map { sprintf '%X', $_ } @sum;\n\n    open my $out, '&gt;', 'sum.txt';\n    print { $out } @sum, \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1452541831, "last_edit_date": 1452541831, "creation_date": 1452524699, "answer_id": 34724656, "question_id": 34719117, "link": "https://stackoverflow.com/questions/34719117/summing-the-bytes-of-two-files/34724656#34724656", "title": "Summing the bytes of two files", "body": "<p>Hex is a <em>text</em> representation of a number. To add the numbers two hex strings represent, they must first be converted to <em>numbers</em> (e.g. using <a href=\"http://perldoc.perl.org/functions/hex.html\" rel=\"nofollow\"><code>hex</code></a>).</p>\n\n<p>But why are you converting to hex at all? Instead of doing <em>byte &rArr; hex &rArr; num</em>, the following does <em>byte &rArr; num</em> directly.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nmy $file1 = do {\n   open my $fh, '&lt;:raw', $ARGV[0];\n   local $/;\n   &lt;$fh&gt;\n};\n\nmy $file2 = do {\n   open my $fh, '&lt;:raw', $ARGV[1];\n   local $/;\n   &lt;$fh&gt;\n};\n\nmy @l1 = unpack('C*', $file1);\nmy @l2 = unpack('C*', $file2);\n\nmy $n = @l2 &gt; @l1 ? @l2 : @l1;\nmy @sums = map { $l1[$_] + $l2[$_] } 0..$n-1;\n\nmy $file_out = pack('C*', @sums);   # This is probably what you actually want in your file\nprint unpack('H*', $file_out);      # But this is what you said you wanted.\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 5669509, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/1020467658009769/picture?type=large", "display_name": "John Pietrar", "link": "https://stackoverflow.com/users/5669509/john-pietrar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 34720455, "answer_count": 4, "score": -1, "last_activity_date": 1452543472, "creation_date": 1452507868, "last_edit_date": 1452543472, "question_id": 34719117, "link": "https://stackoverflow.com/questions/34719117/summing-the-bytes-of-two-files", "title": "Summing the bytes of two files", "body": "<p>I want to take each byte of the a file and add the corresponding byte of a second file to it. I would like to output the hex of the result.</p>\n\n<p>For example:</p>\n\n<pre><code>$ od -t x1 file1\n0000000 78\n0000001\n\n$ od -t x1 file2\n0000000 78\n0000001\n\n$ cat desired_output.txt\nF0\n</code></pre>\n\n<p>My code currently takes each single character to sum, like in my example:</p>\n\n<blockquote>\n  <p><code>7</code> + <code>7</code> = <code>E</code>, <code>8</code> + <code>8</code> = <code>10</code> </p>\n</blockquote>\n\n<p>instead of </p>\n\n<blockquote>\n  <p><code>78</code> + <code>78</code> = <code>F0</code>.</p>\n</blockquote>\n\n<p>This is my code.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\nuse autodie;\n\n{\n    my $input = do {\n        open my $in, '&lt;', $ARGV[0];\n        local $/;\n        &lt;$in&gt;\n    };\n\n    open my $out, '&gt;', 'hex.txt';\n    print $out unpack 'H*', $input;\n}\n\n{\n    my $input = do {\n        open my $in, '&lt;', $ARGV[1];\n        local $/;\n        &lt;$in&gt;\n    };\n\n    open my $out, '&gt;', 'hex2.txt';\n    print $out unpack 'H*', $input;\n}\n\nopen my $fh1, '&lt;', 'hex.txt';\nopen my $fh2, '&lt;', 'hex2.txt';\n\nuntil ( eof $fh1 or eof $fh2 ) {\n\n    my @l1 = map hex, split //, &lt;$fh1&gt;;\n    my @l2 = map hex, split //, &lt;$fh2&gt;;\n\n    my $n = @l2 &gt; @l1 ? @l2 : @l1;\n\n    my @sum = map {\n\n        $l1[$_] + $l2[$_];\n    } 0 .. $n-1;\n\n    @sum = map { sprintf '%X', $_ } @sum;\n\n    open my $out, '&gt;', 'out.txt';\n    print { $out } @sum, \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "file-io"], "comments": [{"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1452505508, "post_id": 34718243, "comment_id": 57182375, "body": "Add your sample input and the expected output in the question which will make the Question more clear."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1452506276, "post_id": 34718243, "comment_id": 57182912, "body": "@Praveen: Question is clear. For this no need to show sample input or expected output. But OP could show his/her approach."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1452525977, "post_id": 34718243, "comment_id": 57195901, "body": "Since you have to read the entire file anyway to check for the presence of your &quot;trigger&quot; line, it might be more efficient to process the lines as you go and simply stop if you hit the trigger. That saves you from having to read the entire file twice in the worst case scenario (i.e. file doesn&#39;t contain the trigger line); since file I/O is expensive, you usually want to avoid processing the same file twice if possible."}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1452506638, "post_id": 34718381, "comment_id": 57183171, "body": "Thank you. Exactly what I wanted!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1452505768, "creation_date": 1452505768, "answer_id": 34718381, "question_id": 34718243, "link": "https://stackoverflow.com/questions/34718243/perl-exit-if-a-particular-line-is-not-present-in-a-file/34718381#34718381", "title": "Perl: Exit if a particular line is not present in a file", "body": "<p>The thing with reading files is - the expensive part is always the process of reading the data. </p>\n\n<p>So - read your file, break if you hit a line that matches and test if you did outside the loop;</p>\n\n<pre><code>my $found; \nwhile ( &lt;$filehandle&gt; ) {\n    if ( m/Some Text to match here/ ) { \n        $found++;\n        last;\n    }\n}\n\ndie \"Line not present\" unless $found;\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 34718381, "answer_count": 1, "score": 3, "last_activity_date": 1452505768, "creation_date": 1452505354, "question_id": 34718243, "link": "https://stackoverflow.com/questions/34718243/perl-exit-if-a-particular-line-is-not-present-in-a-file", "title": "Perl: Exit if a particular line is not present in a file", "body": "<p>Before I perform certain operations on a file, I need to scan the file to see if it contains one particular line. If that line is not present anywhere in the file, I exit (and do not perform any further actions on the file). </p>\n\n<p>What is the most efficient way of doing this in Perl?</p>\n"}, {"tags": ["perl", "multidimensional-array", "hash"], "answers": [{"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1452504542, "post_id": 34717946, "comment_id": 57181769, "body": "Unrelated, but under the &#39;bit more idiomatic&#39; heading:  <code>for my $i (2 .. $#rows) {</code>"}, {"owner": {"reputation": 184, "user_id": 5739340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76d997e657519b770e576e425392f47e?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Hernandez", "link": "https://stackoverflow.com/users/5739340/steve-hernandez"}, "edited": false, "score": 0, "creation_date": 1452512010, "post_id": 34717946, "comment_id": 57186540, "body": "I selected this answer because it was the right way to create the hash. My warning message actually came from an empty array that was found by adding a break point and using perl -d script.pl."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1452504670, "last_edit_date": 1452504670, "creation_date": 1452504364, "answer_id": 34717946, "question_id": 34717830, "link": "https://stackoverflow.com/questions/34717830/odd-number-of-elements-in-perl-hash/34717946#34717946", "title": "Odd number of elements in Perl hash", "body": "<p>It's because you're using <code>[</code> which is the anonymous array constructor. Try using <code>{</code> instead.</p>\n\n<p>And it might be a bit more idiomatic if you did:</p>\n\n<pre><code> $data{ $ver } = { \n    version =&gt;   $jver,\n    available =&gt;   $table_tree-&gt;cell($jt,1)-&gt;as_text,\n };\n</code></pre>\n\n<p>Oh, and indent your code. That <code>for</code> loop doesn't finish where you (might!) think it does. Especially - check where the <code>return</code> happens. (And what <code>$jt</code> is set to - it appears unrelated to <code>$i</code>) </p>\n"}], "owner": {"reputation": 184, "user_id": 5739340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76d997e657519b770e576e425392f47e?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Hernandez", "link": "https://stackoverflow.com/users/5739340/steve-hernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 34717946, "answer_count": 1, "score": 3, "last_activity_date": 1452511831, "creation_date": 1452503994, "last_edit_date": 1452511831, "question_id": 34717830, "link": "https://stackoverflow.com/questions/34717830/odd-number-of-elements-in-perl-hash", "title": "Odd number of elements in Perl hash", "body": "<p>I'm having some trouble with hashes. I need to get a list of version with key => value pairs into a hash but kept getting an error. The code just below is my recent attempt. Some of the strings have been changed and unneeded code isn't included. </p>\n\n<p>I've looked all over the net but haven't been able to find anything that can help me. I've used Perl for a long time but haven't used hashes and arrays much. Most of my Perl experience has had to do with regex and shell execution. If I was using PHP, I would just use a multidimensional array but this is Perl and there's a lot more to the script I'm writing than what is shown or I'd switch to PHP. </p>\n\n<p>I appreciate whoever takes the time to help. Thanks!</p>\n\n<pre><code>sub sub1 {\n\n    # Read file which populates @rows with each line. \n\n    my %data;\n    for (my $i=2; $i &lt;= scalar @rows - 1; $i++) {\n        $ver =~ s/\\s//m;\n        $data{ $ver } = [ \n            'version',  $ver,\n            'available',  $table_tree-&gt;cell($jt,1)-&gt;as_text,\n            'bsupport',  $table_tree-&gt;cell($jt,2)-&gt;as_text,\n            'ssupport',  $table_tree-&gt;cell($jt,3)-&gt;as_text,\n            'eol',  $table_tree-&gt;cell($jt,3)-&gt;as_text,\n            'utype',  $table_tree-&gt;cell($jt,5)-&gt;as_text,\n            'lreleases',  $table_tree-&gt;cell($jt,7)-&gt;as_text\n        ];\n    };\n    return %data;\n}\n\nsub check_ {\n\n    # line 199 follows\n\n    my (%hash) = @_; \n    print Dumper (\\%hash).\"\\n\";\n}\n\nmy %data = sub1($file);\ncheck_(%data);\n</code></pre>\n\n<p>Warning:</p>\n\n<pre><code>Odd number of elements in hash assignment at ./file.pl line 199 (#1)\n(W misc) You specified an odd number of elements to initialize a hash,\nwhich is odd, because hashes come in key/value pairs.\n</code></pre>\n\n<p>The %hash when dumped is:</p>\n\n<pre><code>$VAR1 = {\n      'string1' =&gt; [\n               'version',\n               'string1',\n               'available',\n               'stringa',\n               'bsupport',\n               'stringb',\n               'ssupport',\n               'stringc',\n               'eol',\n               'stringd',\n               'utype',\n               'stringe',\n               'lreleases',\n               'stringf'\n             ],\n    'string2' =&gt; [\n               'version',\n               'string2',\n               'available',\n               'stringa',\n               'bsupport',\n               'stringb',\n               'ssupport',\n               'stringc',\n               'eol',\n               'stringd',\n               'utype',\n               'stringe',\n               'lreleases',\n               'stringf'\n             ],\n    'string3' =&gt; [\n               'version',\n               'string3',\n               'available',\n               'stringa',\n               'bsupport',\n               'stringb',\n               'ssupport',\n               'stringc',\n               'eol',\n               'stringd',\n               'utype',\n               'stringe',\n               'lreleases',\n               'stringf'\n             ],\n    # ...\n}\n</code></pre>\n\n<p>I was originally trying to have my has be as follows. Where $VAR1 = { 'stringN' => { ... } would be any number with any number of key => value pairs but would also get the same error. I had it working but it would always generate the error.</p>\n\n<pre><code>$VAR1 = {\n    'string1' =&gt; {\n               'version' =&gt; 'string1',\n               'available' =&gt; 'stringa',\n               'bsupport' =&gt; 'stringb',\n               'ssupport' =&gt; 'stringc',\n               'eol' =&gt; 'stringd',\n               'utype' =&gt; 'stringe',\n               'lreleases' =&gt; 'stringf'\n             },\n    'string2' =&gt; {\n               'version' =&gt; 'string2',\n               'available' =&gt; 'stringa',\n               'bsupport' =&gt; 'stringb',\n               'ssupport' =&gt; 'stringc',\n               'eol' =&gt; 'stringd',\n               'utype' =&gt; 'stringe',\n               'lreleases' =&gt; 'stringf'\n             },\n    'string3' =&gt; {\n               'version' =&gt; 'string3',\n               'available' =&gt; 'stringa',\n               'bsupport' =&gt; 'stringb',\n               'ssupport' =&gt; 'stringc',\n               'eol' =&gt; 'stringd',\n               'utype' =&gt; 'stringe',\n               'lreleases' =&gt; 'stringf'\n             }\n    # ...\n}\n</code></pre>\n"}, {"tags": ["apache", "perl", "http", "rt"], "comments": [{"owner": {"reputation": 611, "user_id": 120094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8230d23952353b311cd9a43626a3aeb?s=128&d=identicon&r=PG", "display_name": "Jim Brandt", "link": "https://stackoverflow.com/users/120094/jim-brandt"}, "edited": false, "score": 0, "creation_date": 1452550103, "post_id": 34717376, "comment_id": 57210388, "body": "Did you successfully run &#39;make testdeps&#39; during installation? I should track down all of the dependencies for you, and &#39;make fixdeps&#39; can install them."}, {"owner": {"reputation": 37, "user_id": 4494466, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/7QtQA.jpg?s=128&g=1", "display_name": "Megamind", "link": "https://stackoverflow.com/users/4494466/megamind"}, "reply_to_user": {"reputation": 611, "user_id": 120094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8230d23952353b311cd9a43626a3aeb?s=128&d=identicon&r=PG", "display_name": "Jim Brandt", "link": "https://stackoverflow.com/users/120094/jim-brandt"}, "edited": false, "score": 0, "creation_date": 1452569010, "post_id": 34717376, "comment_id": 57216352, "body": "yes I did. And it was successful."}, {"owner": {"reputation": 611, "user_id": 120094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8230d23952353b311cd9a43626a3aeb?s=128&d=identicon&r=PG", "display_name": "Jim Brandt", "link": "https://stackoverflow.com/users/120094/jim-brandt"}, "edited": false, "score": 0, "creation_date": 1452604246, "post_id": 34717376, "comment_id": 57234532, "body": "Hmm, that can could suggest that the perl libraries you used when running the install are different than the those used by the web server user. This could be a permissions mismatch or potentially pointing at a different perl if there are multiple on the server."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4494466, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/7QtQA.jpg?s=128&g=1", "display_name": "Megamind", "link": "https://stackoverflow.com/users/4494466/megamind"}, "edited": false, "score": 0, "creation_date": 1453092565, "post_id": 34721133, "comment_id": 57435016, "body": "thanks it helped me solve the plack handler issue but again following error showed up  Can&#39;t locate UNIVERSAL/require.pm in @INC.............."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 37, "user_id": 4494466, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/7QtQA.jpg?s=128&g=1", "display_name": "Megamind", "link": "https://stackoverflow.com/users/4494466/megamind"}, "edited": false, "score": 0, "creation_date": 1453107198, "post_id": 34721133, "comment_id": 57440957, "body": "If you have a new question, then please ask it as a new question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 761, "user_id": 3422238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dBo8d.jpg?s=128&g=1", "display_name": "Duong Nguyen", "link": "https://stackoverflow.com/users/3422238/duong-nguyen"}, "edited": false, "score": 0, "creation_date": 1480605123, "post_id": 34721133, "comment_id": 69040426, "body": "@DuongNguyen It does still work. If you&#39;re having a problem with it, then why not post a question explaining your situation?"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1452513842, "creation_date": 1452513842, "answer_id": 34721133, "question_id": 34717376, "link": "https://stackoverflow.com/questions/34717376/why-do-i-get-the-error-cant-locate-plack-handler-apache2-pm-in-inc-when-i-in/34721133#34721133", "title": "Why do I get the error &#39;Can&#39;t locate Plack/Handler/Apache2.pm in @INC&#39; when I install Request Tracker on CentOS 7?", "body": "<p><a href=\"https://metacpan.org/pod/Plack::Handler::Apache2\" rel=\"nofollow\">Plack::Handler::Apache2</a> isn't part of the standard Perl installation. You need to install it separately. It's part of the <a href=\"https://metacpan.org/release/Plack\" rel=\"nofollow\">Plack</a> distribution, so one easy way to install it is with:</p>\n\n<pre><code>$ sudo yum install perl-Plack\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4494466, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/7QtQA.jpg?s=128&g=1", "display_name": "Megamind", "link": "https://stackoverflow.com/users/4494466/megamind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2540, "favorite_count": 0, "accepted_answer_id": 34721133, "answer_count": 1, "score": 1, "last_activity_date": 1452525678, "creation_date": 1452502433, "last_edit_date": 1452525678, "question_id": 34717376, "link": "https://stackoverflow.com/questions/34717376/why-do-i-get-the-error-cant-locate-plack-handler-apache2-pm-in-inc-when-i-in", "title": "Why do I get the error &#39;Can&#39;t locate Plack/Handler/Apache2.pm in @INC&#39; when I install Request Tracker on CentOS 7?", "body": "<p>I am installing <a href=\"https://www.bestpractical.com/rt/\" rel=\"nofollow\">Request Tracker</a> on my CentOS 7 machine. When I start the httpd server, I get the following error:</p>\n\n<blockquote>\n  <p>Can't locate Plack/Handler/Apache2.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 . /etc/httpd) at /etc/httpd/conf.d/rt.conf line 17.\\nBEGIN failed--compilation aborted</p>\n</blockquote>\n\n<p>Any idea on why I am getting this error?</p>\n"}, {"tags": ["bash", "perl", "unix", "sed"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1452498805, "post_id": 34716394, "comment_id": 57178772, "body": "This is a very common FAQ, though I was unable to quickly find a suitable duplicate.  <code>sed &#39;s%\\([^\\t]*\\)\\t\\([^\\t]*\\)%s_\\1_\\2_%&#39; file1 | sed -i -f - file2.txt</code> will create a simple <code>sed</code> script out of the first file, and apply it to the second. (Using <code>sed</code> to write a <code>sed</code> script might feel mystical at first, but you can figure it out.) You may need to tweak the syntax slightly if your <code>sed</code> does not accept <code>\\t</code> for tab, and/or doesn&#39;t want the grouping parentheses to be backslashed."}, {"owner": {"reputation": 151, "user_id": 5042883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0404965001e7d420cfb49f4c15533ecc?s=128&d=identicon&r=PG&f=1", "display_name": "gizmo", "link": "https://stackoverflow.com/users/5042883/gizmo"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1452500288, "post_id": 34716394, "comment_id": 57179432, "body": "The tab and backslashes seem to be fine, but I&#39;m getting the following error: <code>sed: 1: &quot;-&quot;: invalid command code -</code>. Is that a MacOS error?"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1452501031, "post_id": 34716394, "comment_id": 57179749, "body": "<code>-i</code> requires a filename on OSX."}, {"owner": {"reputation": 151, "user_id": 5042883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0404965001e7d420cfb49f4c15533ecc?s=128&d=identicon&r=PG&f=1", "display_name": "gizmo", "link": "https://stackoverflow.com/users/5042883/gizmo"}, "edited": false, "score": 0, "creation_date": 1452501236, "post_id": 34716394, "comment_id": 57179843, "body": "Hmm...changing <code>-i</code> to <code>-i.bu</code> changes the error to: <code>sed: -: No such file or directory</code>"}, {"owner": {"reputation": 151, "user_id": 5042883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0404965001e7d420cfb49f4c15533ecc?s=128&d=identicon&r=PG&f=1", "display_name": "gizmo", "link": "https://stackoverflow.com/users/5042883/gizmo"}, "edited": false, "score": 0, "creation_date": 1452501485, "post_id": 34716394, "comment_id": 57179964, "body": "Running just the first half <code>sed &#39;s%\\([^\\t]*\\)\\t\\([^\\t]*\\)%s_\\1_\\2_%&#39; file1.txt</code> outputs the contents of file1.txt, as if I&#39;d run <code>cat file1.txt</code>. Is that what it should be doing?"}, {"owner": {"reputation": 17600, "user_id": 793796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mk3lA.jpg?s=128&g=1", "display_name": "anishsane", "link": "https://stackoverflow.com/users/793796/anishsane"}, "edited": false, "score": 0, "creation_date": 1452503239, "post_id": 34716394, "comment_id": 57180943, "body": "The first column e.g. <code>a|1|b|C|:1-10(-)</code> is to be interpreted as plain text, or regex?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1452504332, "post_id": 34716394, "comment_id": 57181592, "body": "No it should transform the (from)(tab)(to) into a <code>sed</code> substitution command; <code>s_(from)_(to)_</code>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1452504413, "post_id": 34716394, "comment_id": 57181664, "body": "Apparently your <code>sed</code> cannot read a script from standard input.  Store the output in a temporary file, and run <code>sed</code> with that.  <code>sed s&#47;from&#47;to&#47; file1.txt &gt;&#47;tmp&#47;ick; sed -i.bu -f&#47;tmp&#47;ick file2.txt</code>"}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 5042883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0404965001e7d420cfb49f4c15533ecc?s=128&d=identicon&r=PG&f=1", "display_name": "gizmo", "link": "https://stackoverflow.com/users/5042883/gizmo"}, "edited": false, "score": 0, "creation_date": 1452502762, "post_id": 34717351, "comment_id": 57180686, "body": "Thanks, using your example it works, but when I try to use my file1 and file2 I get the error: <code>Quantifier follows nothing in regex; marked by &lt;-- HERE in m&#47;a|2|b|E|:2-11(+ &lt;-- HERE )&#47; at -e line 1, &lt;&gt; chunk 2.</code> :( The file2 I&#39;m using is <code>(a|1|b|C|:1-10(-)),(a|7|b|D|:71-72(-))</code>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1452504488, "post_id": 34717351, "comment_id": 57181727, "body": "The plus sign (and the parentheses) are metacharacters in Perl&#39;s regex dialect, and will need to be backslashed in order for this to work.  But as already suggested, finding a good duplicate with multiple answers is probably more fruitful than writing yet another quick and dirty answer and then having to debug it."}, {"owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "edited": false, "score": 0, "creation_date": 1452755488, "post_id": 34717351, "comment_id": 57311243, "body": "You can put a quotemeta function  around the regex after the split that will automatically escape anything."}], "tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": false, "score": 0, "last_activity_date": 1452502322, "creation_date": 1452502322, "answer_id": 34717351, "question_id": 34716394, "link": "https://stackoverflow.com/questions/34716394/find-and-replace-inside-a-text-file-using-another-file-as-input/34717351#34717351", "title": "Find and replace inside a text file using another file as input", "body": "<p>It's a bit hacky, but I do this</p>\n\n<pre><code>C0243321@IKHCPKISBN0084S ~/examples/perl\n$ cat file1\nxx1     zz1\nxx2     zz2\n\nC0243321@IKHCPKISBN0084S ~/examples/perl\n$ cat file2\nxx1, xx2\n\nC0243321@IKHCPKISBN0084S ~/examples/perl\n$ perl -e 'undef $/;$file1=&lt;ARGV&gt;;$file2=&lt;ARGV&gt;;@lines=split(/\\n/,$file1);for(@lines){@fields=split(/\\t/);$file2=~s/$fields[0]/$fields[1]/g;}print$file2' file1 file2\nzz1, zz2\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 5042883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0404965001e7d420cfb49f4c15533ecc?s=128&d=identicon&r=PG&f=1", "display_name": "gizmo", "link": "https://stackoverflow.com/users/5042883/gizmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "closed_date": 1452505028, "answer_count": 1, "score": -1, "last_activity_date": 1452502322, "creation_date": 1452498223, "question_id": 34716394, "link": "https://stackoverflow.com/questions/34716394/find-and-replace-inside-a-text-file-using-another-file-as-input", "closed_reason": "Duplicate", "title": "Find and replace inside a text file using another file as input", "body": "<p>Is there a simple way to do a find and replace of values in a file, using another file as input for the values that need to be re-labelled? E.g. I have a tab-delimited file1 with two columns: </p>\n\n<pre><code>a|1|b|C|:1-10(-)      A1\na|2|b|E|:2-11(+)      A2\na_b|3|b|C|:300-302(-)      A3\na|5|b|C|:4-60(+)      A1\na|7|b|D|:71-72(-)      A11\n</code></pre>\n\n<p>where column 1 (everything before the tab) contains the original name, and column 2 contains the new name. I would like to feed this into a file2, to replace all occurrences of the values. I know that using </p>\n\n<pre><code>sed -i -e 's/a|1|b|C|:1-10(-)/A1/g' file2.txt\n</code></pre>\n\n<p>will do this one line at a time, but is there a way to just feed in file1 such that all the values in file2 will get re-labelled at once?</p>\n"}, {"tags": ["perl", "rest", "curl", "confluence", "confluence-rest-api"], "comments": [{"owner": {"reputation": 519, "user_id": 463797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef506c0f33a46f69ea5132411b8b3765?s=128&d=identicon&r=PG", "display_name": "ashley", "link": "https://stackoverflow.com/users/463797/ashley"}, "edited": false, "score": 0, "creation_date": 1452587877, "post_id": 34716301, "comment_id": 57223531, "body": "I&#39;ve automated with Confluence, but don&#39;t have easy access right now to test. In your example I can&#39;t see where the file (image) content is uploaded. The REST::Client spec for POST is ( $url, [$body_content, %$headers] ) - so do you need to load the body_content from the image file?"}, {"owner": {"reputation": 11, "user_id": 5772294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeaf629c611dd86d935f20bad41d2874?s=128&d=identicon&r=PG&f=1", "display_name": "Helen", "link": "https://stackoverflow.com/users/5772294/helen"}, "reply_to_user": {"reputation": 519, "user_id": 463797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef506c0f33a46f69ea5132411b8b3765?s=128&d=identicon&r=PG", "display_name": "ashley", "link": "https://stackoverflow.com/users/463797/ashley"}, "edited": false, "score": 0, "creation_date": 1452678134, "post_id": 34716301, "comment_id": 57271382, "body": "I believe that the [ &quot;file1.jpg&quot; ] accomplishes that, per the documentation."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4764245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a742cb7be4b67261957acb7a51359ec9?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan R.", "link": "https://stackoverflow.com/users/4764245/ryan-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1525114041, "creation_date": 1525114041, "answer_id": 50106443, "question_id": 34716301, "link": "https://stackoverflow.com/questions/34716301/use-perl-restclient-and-multi-part-form-to-post-image-to-confluence/50106443#50106443", "title": "Use perl REST::Client and multi-part form to post image to Confluence", "body": "<p>You should be capturing your post response like so:</p>\n\n<pre><code>my $response = $client-&gt;POST('rest/api/content/44073843/child/attachment', $headers);   print Dumper $response;\n</code></pre>\n\n<p>Also, the url you are using in the POST call is incomplete and won't work, you need the full url. </p>\n"}], "owner": {"reputation": 11, "user_id": 5772294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeaf629c611dd86d935f20bad41d2874?s=128&d=identicon&r=PG&f=1", "display_name": "Helen", "link": "https://stackoverflow.com/users/5772294/helen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 928, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525114041, "creation_date": 1452497815, "question_id": 34716301, "link": "https://stackoverflow.com/questions/34716301/use-perl-restclient-and-multi-part-form-to-post-image-to-confluence", "title": "Use perl REST::Client and multi-part form to post image to Confluence", "body": "<p>How can I attach an image to an existing Confluence page, using their latest REST API, from Perl via the REST::Client module?</p>\n\n<p>This may be a perl question (I may be posting an image incorrectly), or a Confluence question (their API docs may be missing a required detail such as a required header that is being quietly added by curl), or both.</p>\n\n<p>I have established a connection object, $client, using the REST::Client module.  I have verified that $client is a valid connection by performing a $client->GET to a known Confluence page ID, which correctly returns the page's details.</p>\n\n<p>I attempt to upload an image, using:</p>\n\n<pre><code>$headers = {Accept =&gt; 'application/json',\n        Authorization =&gt; 'Basic ' . encode_base64($user . ':' .\n        $password),\n        X_Atlassian_Token =&gt; 'no-check',\n        Content_Type =&gt; 'form-data',\n        Content =&gt; \n        [ file =&gt; [\"file1.jpg\"], ]};\n\n$client-&gt;POST('rest/api/content/44073843/child/attachment', $headers);\n</code></pre>\n\n<p>... and the image doesn't appear on the attachments list.</p>\n\n<p>I've packet-sniffed the browser whilst uploading an image there, only to find that it uses the prototype API that is being deprecated.  I'd hoped that I could just stand on Atlassian's shoulders in terms of seeing exactly what their post stream looks like, and replicating that... but I don't want to use the API that's being deprecated, since they recommend against it.</p>\n\n<p>The curl example of calling the Confluence API to attach a file that they give at <a href=\"https://developer.atlassian.com/confdev/confluence-rest-api/confluence-rest-api-examples\" rel=\"nofollow\">https://developer.atlassian.com/confdev/confluence-rest-api/confluence-rest-api-examples</a>, when my host, filename, and page ID are substituted in, does post the attachment.</p>\n\n<p>I formerly specified comment in my array of Content items, but removed that during debugging to simplify things since the documentation said it was optional.</p>\n\n<p>One thing I'm unclear about is getting the contents of the file into the post stream.  In the curl command, the @ accomplishes that.  In REST::Client, I'm not sure if I have to do something more than I did, to make that happen.</p>\n\n<p>I can't packet-sniff the outgoing traffic because our server only allows https, and I don't know how (or if it's even possible) to set the REST::Client module or one of its underlying modules to record the SSL info to a log file so that Wireshark can pick it up and decode the resulting TLS traffic, the way one can with the environment variable for Chrome or Firefox.  I also don't have access to server logs.  So I don't know what the request I'm actually sending looks like (if I did, I could probably say, \"OK, it looks wrong right HERE\" or \"But it looks right?!\"). I am therefore unfortunately at a loss as to how to debug it so blindly.</p>\n\n<p>A similar question about posting multipart forms using REST::Client was asked by someone else, more generically, back in April of last year, but received no responses. I'm hoping that since mine is more specific, someone can tell me what I might be doing wrong.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["linux", "perl", "unix"], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1452495742, "last_edit_date": 1452495742, "creation_date": 1452493825, "answer_id": 34715416, "question_id": 34715110, "link": "https://stackoverflow.com/questions/34715110/looking-for-a-search-string-in-a-file-and-printing-next-word-in-the-same-line/34715416#34715416", "title": "Looking for a search string in a file and printing next word in the same line", "body": "<p>Try this:</p>\n\n<pre><code>open my $fh, \"&lt;\", \"file.txt\" or die $!;\n\nwhile (&lt;$fh&gt;)\n{\n    chomp;\n    if (m/^MODULE_ID='(.*)'/)\n    {\n        print qq{\"$1\"}, \"\\n\";\n    }\n}\n\n____DATA____\nMODULE_ID='ACXX'\nMODULE_ID='BCXX'\nMODULE_ID='CCXX'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\"ACXX\"\n\"BCXX\"\n\"CCXX\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 5013952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qs0M5O30Nb8/AAAAAAAAAAI/AAAAAAAAAYo/N-JL8gz-FOQ/photo.jpg?sz=128", "display_name": "sandeep singh", "link": "https://stackoverflow.com/users/5013952/sandeep-singh"}, "is_accepted": false, "score": -2, "last_activity_date": 1452513697, "last_edit_date": 1452513697, "creation_date": 1452510746, "answer_id": 34720051, "question_id": 34715110, "link": "https://stackoverflow.com/questions/34715110/looking-for-a-search-string-in-a-file-and-printing-next-word-in-the-same-line/34720051#34720051", "title": "Looking for a search string in a file and printing next word in the same line", "body": "<p>A simple Perl solution:\n</p>\n\n<pre><code>#/usr/bin/perl -ne\nchomp $_; if($_ =~ /MODULE_ID=(.*)/) { print \"$1\\n\"; }\n</code></pre>\n\n<p>This can be run as a shell one-liner thusly:\n</p>\n\n<pre><code>perl -ne 'chomp $_; if($_ =~ /MODULE_ID=(.*)/) { print \"$1\\n\"; }' abc.txt\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3632150, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/efe55f561194594a69b435997b543b71?s=128&d=identicon&r=PG&f=1", "display_name": "Raghu Gunasekaran", "link": "https://stackoverflow.com/users/3632150/raghu-gunasekaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1452513697, "creation_date": 1452492202, "last_edit_date": 1452492945, "question_id": 34715110, "link": "https://stackoverflow.com/questions/34715110/looking-for-a-search-string-in-a-file-and-printing-next-word-in-the-same-line", "title": "Looking for a search string in a file and printing next word in the same line", "body": "<p>For example, consider a file \"abc.txt\" has following content:    </p>\n\n<pre><code>#--------------- Module Id ---------------\nMODULE_ID='ACXX'\nMODULE_ID='BCXX'\nMODULE_ID='CCXX'\n</code></pre>\n\n<p>Now, I want to search \"MODULE_ID\" keyword in that file and if found it should print value in that quotes i.e. <code>\"1\"</code>.<br>\nCan I know how to do that in Linux?</p>\n\n<p>I tried with following but couldn't succeed:</p>\n\n<pre><code>grep -o 'MODULE_ID='[^']*'' uk.spec &gt; results.txt\n\ngrep -Po 'MODULE_ID=\"\\K.*?(?=\")' uk.spec \n\nperl -ne 'if(m/MODULE_ID=\"(.*?)\"/){ print $1 . \"\\n\"; }'\n</code></pre>\n"}, {"tags": ["perl", "html-parsing", "perl-module", "mojolicious", "mojo"], "comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 1, "creation_date": 1452496989, "post_id": 34714516, "comment_id": 57178024, "body": "#u is looking for an html element with the id=u.  There isn&#39;t on that page.  Read up on css selectors:  <a href=\"http://www.w3schools.com/cssref/css_selectors.asp\" rel=\"nofollow noreferrer\">w3schools.com/cssref/css_selectors.asp</a>"}], "answers": [{"tags": [], "owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "is_accepted": false, "score": 1, "last_activity_date": 1452540456, "creation_date": 1452540456, "answer_id": 34729475, "question_id": 34714516, "link": "https://stackoverflow.com/questions/34714516/cant-call-method-text-on-an-undefined-value-at-sample-pl-line-11/34729475#34729475", "title": "Can&#39;t call method &quot;text&quot; on an undefined value at sample.pl line 11", "body": "<p>Something like this:</p>\n\n<pre><code>perl -Mojo -le 'print r g(\"http://search.cpan.org/faq.html\")-&gt;dom(\"#cpansearch &gt; div.pod &gt; p\")-&gt;map(\"text\")-&gt;to_array;'\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3735192, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-ub_9XJdkJc4/AAAAAAAAAAI/AAAAAAAAABM/La5wKi7CHug/photo.jpg?sz=128", "display_name": "Chella", "link": "https://stackoverflow.com/users/3735192/chella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1452540456, "creation_date": 1452488855, "last_edit_date": 1452492229, "question_id": 34714516, "link": "https://stackoverflow.com/questions/34714516/cant-call-method-text-on-an-undefined-value-at-sample-pl-line-11", "title": "Can&#39;t call method &quot;text&quot; on an undefined value at sample.pl line 11", "body": "<pre><code>use strict;    # safety net\nuse warnings;  # safety net\nuse feature 'say'; # a better \"print\"\n\nuse Mojo;\nmy $dom = Mojo::DOM-&gt;new;\nmy $ua = Mojo::UserAgent-&gt;new;\n$dom= $ua-&gt;get('http://search.cpan.org/faq.html')-&gt;res-&gt;dom;\nmy $desc=$dom-&gt;at('#u')-&gt;text;\n</code></pre>\n\n<p>when I run this code the above error has occur . This is my input data form following web page pls refer <a href=\"http://search.cpan.org/faq.html\" rel=\"nofollow\"> this</a>  </p>\n\n<p>I want output like this only answers.</p>\n\n<pre><code>   CPAN Search is a search engine for the distributions, modules, docs, and ID's on CPAN. It was conceived and built by Graham Barr as a way to make things easier to navigate. Originally named TUCS [ The Ultimate CPAN Search ] it was later named CPAN Search or Search DOT CPAN.\n\n   If you are having technical difficulties with the site itself, send mail to cpansearch@perl.org and try to be as detailed as possible in your note describing the problem.\n</code></pre>\n\n<p>pls anyone can help me</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50185, "user_id": 276949, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/52e96d535181560d2b46d4b513454ee5?s=128&d=identicon&r=PG", "display_name": "Martin Konecny", "link": "https://stackoverflow.com/users/276949/martin-konecny"}, "edited": false, "score": 3, "creation_date": 1452471958, "post_id": 34712329, "comment_id": 57171343, "body": "What have you tried so far? Sounds like you&#39;re just giving specification for us to do your work."}, {"owner": {"reputation": 1, "user_id": 5771296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df6f8ec6fa6b4410d4756125354baa6?s=128&d=identicon&r=PG&f=1", "display_name": "Je Patxu", "link": "https://stackoverflow.com/users/5771296/je-patxu"}, "reply_to_user": {"reputation": 50185, "user_id": 276949, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/52e96d535181560d2b46d4b513454ee5?s=128&d=identicon&r=PG", "display_name": "Martin Konecny", "link": "https://stackoverflow.com/users/276949/martin-konecny"}, "edited": false, "score": 0, "creation_date": 1452472159, "post_id": 34712329, "comment_id": 57171396, "body": "Hi, I&#39;m a very new to regexs, this is where I am at the moment :  my $tt = &quot;x44A-x440-x427-x45E-Yellow-apple&quot;; $tt =~ s/\\-[\\x00-\\xfff]/#/g;  I&#39;m just testing, but it also replaces -Y and -a as well, which is unwanted..."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5771296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df6f8ec6fa6b4410d4756125354baa6?s=128&d=identicon&r=PG&f=1", "display_name": "Je Patxu", "link": "https://stackoverflow.com/users/5771296/je-patxu"}, "edited": false, "score": 0, "creation_date": 1452473084, "post_id": 34712448, "comment_id": 57171616, "body": "Hi, thanks much, that worked (need only remove dashes in between). What&#39;s the meaning of the {1,5} ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 5771296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df6f8ec6fa6b4410d4756125354baa6?s=128&d=identicon&r=PG&f=1", "display_name": "Je Patxu", "link": "https://stackoverflow.com/users/5771296/je-patxu"}, "edited": false, "score": 0, "creation_date": 1452473106, "post_id": 34712448, "comment_id": 57171625, "body": "1 to 5 of the previous atom"}, {"owner": {"reputation": 1, "user_id": 5771296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df6f8ec6fa6b4410d4756125354baa6?s=128&d=identicon&r=PG&f=1", "display_name": "Je Patxu", "link": "https://stackoverflow.com/users/5771296/je-patxu"}, "edited": false, "score": 0, "creation_date": 1452473493, "post_id": 34712448, "comment_id": 57171716, "body": "Great, Thanks a lot !"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1452472130, "creation_date": 1452472130, "answer_id": 34712448, "question_id": 34712329, "link": "https://stackoverflow.com/questions/34712329/regex-regular-expression/34712448#34712448", "title": "Regex , regular expression", "body": "<p>Are you looking for</p>\n\n<pre><code>s/x([0-9a-fA-F]{1,5})/ chr hex $1 /eg\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 0, "last_activity_date": 1452489293, "creation_date": 1452489293, "answer_id": 34714587, "question_id": 34712329, "link": "https://stackoverflow.com/questions/34712329/regex-regular-expression/34714587#34714587", "title": "Regex , regular expression", "body": "<p>To also remove the dashes in between, ikegami's solution could be modified to this.</p>\n\n<pre><code>s/(?:^|-)x([0-9a-fA-F]{1,5})/ chr hex $1 /eg;\n</code></pre>\n\n<p>The <code>(?:^|-)</code> part says an 'x' at either the beginning of a string or following a dash. <code>($: ... )</code> is a non capturing grouping.</p>\n"}], "owner": {"reputation": 1, "user_id": 5771296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df6f8ec6fa6b4410d4756125354baa6?s=128&d=identicon&r=PG&f=1", "display_name": "Je Patxu", "link": "https://stackoverflow.com/users/5771296/je-patxu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "closed_date": 1453875926, "accepted_answer_id": 34712448, "answer_count": 2, "score": -7, "last_activity_date": 1452489293, "creation_date": 1452470978, "question_id": 34712329, "link": "https://stackoverflow.com/questions/34712329/regex-regular-expression", "closed_reason": "Not suitable for this site", "title": "Regex , regular expression", "body": "<p>I have a string of the following pattern : \n\"x44A-x440-x427-x45E-Yellow-apple\", for the hex numbers(of unicode  characters) I want to replace those dashes with # character and to append the # to the first one as well. Those hex codes can be any from the unicode char range.  Please help with the regex to achieve my goal, prefferably in perl. Thanks</p>\n"}, {"tags": ["windows", "perl", "activestate", "dmake"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 4, "creation_date": 1452439449, "post_id": 34707089, "comment_id": 57160171, "body": "I used ActiveState Perl before, and as long as the module is precompiled by them, downloading it worked fine. Any other module, just forget it. Then I switched to Strawberry Perl and after that, no problems."}, {"owner": {"reputation": 35, "user_id": 4502562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26979a3f7c117dde3131e0db431f4cd?s=128&d=identicon&r=PG&f=1", "display_name": "kergtot", "link": "https://stackoverflow.com/users/4502562/kergtot"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1452439596, "post_id": 34707089, "comment_id": 57160238, "body": "Yes the PPM work well but i need some modules that I only find in cpan"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452460019, "post_id": 34707089, "comment_id": 57167690, "body": "Why are you trying to install <code>dmake</code> anyway? As far as I know ActivePerl now comes with all the necessary tools to build modules from CPAN. And it&#39;s not an ordinary Perl module anyway so CPAN can&#39;t install it for you"}, {"owner": {"reputation": 35, "user_id": 4502562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26979a3f7c117dde3131e0db431f4cd?s=128&d=identicon&r=PG&f=1", "display_name": "kergtot", "link": "https://stackoverflow.com/users/4502562/kergtot"}, "edited": false, "score": 0, "creation_date": 1452787436, "post_id": 34707089, "comment_id": 57331702, "body": "this is a example, i want to install SDL and other modules but always ends like this: dmake.exe:  Error: -- No target"}, {"owner": {"reputation": 98639, "user_id": 18511, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c621039e41aef415ad25054da3bf3f9a?s=128&d=identicon&r=PG", "display_name": "Kip", "link": "https://stackoverflow.com/users/18511/kip"}, "edited": false, "score": 0, "creation_date": 1542594521, "post_id": 34707089, "comment_id": 93611679, "body": "I was getting this... re-installing ActiveState Perl fixed it for me."}, {"owner": {"reputation": 438, "user_id": 6360500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fnEhx.png?s=128&g=1", "display_name": "Paul Pritchard", "link": "https://stackoverflow.com/users/6360500/paul-pritchard"}, "edited": false, "score": 0, "creation_date": 1561711135, "post_id": 34707089, "comment_id": 100161411, "body": "Hi Kergtot, Did you ever get to the bottom of this issue? I&#39;m getting the same on my W10 box.  I&#39;ve tried reinstalling Perl and still get the problem. So my next plan is to install dmake manually - but the notes on the web for this are a bit limited. I note that PPM is not installed with Perl - at least it didn&#39;t install for me."}], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 2588010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JdAHm.jpg?s=128&g=1", "display_name": "Igor Maximov", "link": "https://stackoverflow.com/users/2588010/igor-maximov"}, "is_accepted": false, "score": 1, "last_activity_date": 1594138239, "creation_date": 1594138239, "answer_id": 62779509, "question_id": 34707089, "link": "https://stackoverflow.com/questions/34707089/activestate-perl-cpan-dmake-not-working/62779509#62779509", "title": "ActiveState Perl CPAN dmake not working", "body": "<p>Actually, I used the latest ActivePerl 5.28 under Win7, and got the same error:\n<code>Running make for C/CO/CONKLIN/MIDI-Perl-0.83.tar.gz 'dmake' is not recognized as an internal or external command, operable program or batch file. CONKLIN/MIDI-Perl-0.83.tar.gz dmake -- NOT OK</code>.</p>\n<p>I had a look into <code>C:\\Perl64\\cpan\\build</code> folder and I have found there both modules I tried to install with CPAN:</p>\n<pre><code>MIDI-Perl-0.83-0\nMIDI-Perl-0.83-0.yml\nXML-Simple-2.25-0\nXML-Simple-2.25-0.yml\n</code></pre>\n<p>Inside those folders I've found a <code>lib</code>folder. So, I just copied the content of <code>C:\\Perl64\\cpan\\build\\MIDI-Perl-0.83-0\\lib</code> into <code>C:\\Perl64\\lib</code> and so on, and both modules were recognized during execution of my scripts and worked well.</p>\n"}], "owner": {"reputation": 35, "user_id": 4502562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26979a3f7c117dde3131e0db431f4cd?s=128&d=identicon&r=PG&f=1", "display_name": "kergtot", "link": "https://stackoverflow.com/users/4502562/kergtot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2550, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1594138239, "creation_date": 1452439275, "question_id": 34707089, "link": "https://stackoverflow.com/questions/34707089/activestate-perl-cpan-dmake-not-working", "title": "ActiveState Perl CPAN dmake not working", "body": "<p>I have  ActiveState Perl 5.20 32bit on windows 7 64bit.\nI want to install mudules from CPAN but always ends this:</p>\n\n<pre><code>Checksum for C:\\Perl\\cpan\\sources\\authors\\id\\S\\SH\\SHAY\\dmake-4.12.2.2.zip ok\nPackage contains both files[ChangeLog COPYING dmake.exe META.yml NEWS PATCH.TXT\nREADME.TXT] and directories[man readme startup]; not recognized as a perl packag\ne, giving up\nConfiguring S/SH/SHAY/dmake-4.12.2.2.zip with Makefile.PL\nRunning make for S/SH/SHAY/dmake-4.12.2.2.zip\ndmake.exe:  Error: -- No target\n  SHAY/dmake-4.12.2.2.zip\n  C:\\Perl\\site\\bin\\dmake.exe -- NOT OK\n</code></pre>\n"}, {"tags": ["perl", "expression", "taint"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1452433813, "post_id": 34705088, "comment_id": 57158104, "body": "Catch exception with eval()?"}, {"owner": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1452434152, "post_id": 34705088, "comment_id": 57158232, "body": "I have found this code which uses eval to catch the exception, but I don&#39;t know how to pass a Perl statement to it. local $@;         return ! eval { eval(&quot;#&quot; . substr(join(&quot;&quot;, @_), 0, 0)); 1 };"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1452434795, "post_id": 34705088, "comment_id": 57158451, "body": "What exactly do you want to test, and why you can&#39;t use a variable at it?"}, {"owner": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1452434967, "post_id": 34705088, "comment_id": 57158516, "body": "My main goal is to step through a program and only display Perl statements that contain tainted data."}, {"owner": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "edited": false, "score": 0, "creation_date": 1452439844, "post_id": 34705088, "comment_id": 57160338, "body": "I have attached Taint to a lexical variable to trace it. If I am able to see if a statement is tainted or not, I can only print those lines that contains my tainted variable. Here is my custom Taint script:              use strict; use warnings;  use Taint::Runtime qw(taint_start taint);  taint_start();  my $data = taint(&quot;abc&quot;); --&gt; interesting my $noise = &quot;noise&quot;; --&gt; not interesting  my $evil = $data . &quot; evil&quot;; --&gt; interesting"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1452443758, "post_id": 34705088, "comment_id": 57161802, "body": "You should add that information to your question. Use the <a href=\"https://stackoverflow.com/posts/34705088/edit\">edit</a> link to do that."}, {"owner": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "edited": false, "score": 0, "creation_date": 1452444046, "post_id": 34705088, "comment_id": 57161921, "body": "I agree, I have updated my question with my custom taint script now."}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 186874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9433b35db0efca222c2fc1104eaed707?s=128&d=identicon&r=PG", "display_name": "codehearted", "link": "https://stackoverflow.com/users/186874/codehearted"}, "is_accepted": false, "score": 1, "last_activity_date": 1471081756, "last_edit_date": 1471081756, "creation_date": 1471081207, "answer_id": 38931370, "question_id": 34705088, "link": "https://stackoverflow.com/questions/34705088/how-to-check-if-current-perl-statement-contains-tainted-data/38931370#38931370", "title": "How to check if current Perl statement contains tainted data?", "body": "<p>As described in the <a href=\"http://search.cpan.org/~rhandom/Taint-Runtime-0.03/lib/Taint/Runtime.pm\" rel=\"nofollow\">POD Documentation for Taint::Runtime</a> there is a sub called <code>is_tainted</code> that will return true if you pass it a tainted value and false otherwise.</p>\n\n<p>You'll want to change your relevant use line to import that function:</p>\n\n<p><code>use Taint::Runtime qw(taint_start taint is_tainted);\n</code></p>\n\n<p>In your example Taint.pl script, once this is done, <code>is_tainted($data)</code> would evaluate to true, <code>is_tainted($noise)</code> would be false, and <code>is_tainted($evil)</code> would be true.</p>\n\n<p>If you have a more complex expression to check for taintedness, simply evaluate it into a scalar and if any inputs to that evaluation were tainted, the expression and thus the scalar will also be considered tainted. Checking if that scalar is tainted is equivalent to checking the expression. If the expression produces a list value, something like join will fit it into a scalar well enough to detect taint.</p>\n"}], "owner": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 2, "answer_count": 1, "score": 8, "last_activity_date": 1471081756, "creation_date": 1452427114, "last_edit_date": 1452443967, "question_id": 34705088, "link": "https://stackoverflow.com/questions/34705088/how-to-check-if-current-perl-statement-contains-tainted-data", "title": "How to check if current Perl statement contains tainted data?", "body": "<p>I wrote my own little Perl debugger that prints for each executed line, the current file name and the corresponding line number. How can I detect if the current Perl statement contains tainted data?</p>\n\n<p>I know there is a function \"tainted\" from the module Scalar::Util. However it only accept a variable name as parameter, not a Perl statement.</p>\n\n<p>I have attached Taint to a lexical variable to trace it. \nIf I am able to see if a statement is tainted or not, I can only print those lines that contains my tainted variable. \nHere is my custom taint script:</p>\n\n<p><strong>Taint.pl</strong> </p>\n\n<pre><code>use strict; \nuse warnings; \n\nuse Taint::Runtime qw(taint_start taint); \ntaint_start(); \n\nmy $data = taint(\"abc\"); --&gt; interesting \nmy $noise = \"noise\"; --&gt; not interesting \nmy $evil = $data . \" evil\"; --&gt; interesting\n</code></pre>\n\n<p><strong>Debugger.pl</strong></p>\n\n<pre><code>sub DB::DB{\n\n    my($package, $filename, $line) = caller;\n\n    print $filename . \":\" . $line . \" \";\n    scalar &lt;STDIN&gt;;\n\n}\n\n1;\n</code></pre>\n"}, {"tags": ["mysql", "perl", "datetime", "sum", "datediff"], "answers": [{"comments": [{"owner": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452491076, "post_id": 34705411, "comment_id": 57175902, "body": "it says Unknown column &#39;time&#39; in &#39;field list&#39;"}, {"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "reply_to_user": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452492085, "post_id": 34705411, "comment_id": 57176218, "body": "Use your column names in the inner query"}, {"owner": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452492286, "post_id": 34705411, "comment_id": 57176266, "body": "I have column with name date_time..I added that in inner query still it is giving me same error."}, {"owner": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452492400, "post_id": 34705411, "comment_id": 57176299, "body": "<code>SELECT SUM(TIME_TO_SEC(time)-TIME_TO_SEC(CAST(prevtime AS TIME))) FROM (    SELECT date_time, portNo1, @prevTime as prevtime, @prevTime := date_time    FROM tracklog_2_1_pulse_history ) t1  WHERE (portNo1 &gt; 0 AND prevtime IS NOT null);</code>"}, {"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "reply_to_user": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452492425, "post_id": 34705411, "comment_id": 57176308, "body": "<code>SUM(TIME_TO_SEC(time)</code> should be <code>SUM(TIME_TO_SEC(date_time)</code> in this case"}, {"owner": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452492575, "post_id": 34705411, "comment_id": 57176355, "body": "your fiddle is correct only problem is my date_time column contains date as well as time so it is giving me Null,. The query you post executed but the output was NULL"}, {"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "reply_to_user": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452492709, "post_id": 34705411, "comment_id": 57176406, "body": "@element well, i&#39;m based on the question you posted. Edit your question and specify your requirements correctly. You put a column with only time there"}, {"owner": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452492737, "post_id": 34705411, "comment_id": 57176416, "body": "I am sorry I will just edit my question..I have edited the question pls reply"}, {"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "reply_to_user": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452493143, "post_id": 34705411, "comment_id": 57176564, "body": "I&#39;ve updated the answer (and the fiddle): <a href=\"http://sqlfiddle.com/#!9/b6dfa/2\" rel=\"nofollow noreferrer\">sqlfiddle.com/#!9/b6dfa/2</a> to handle <code>datetime</code>. All the basics remain"}, {"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "reply_to_user": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1452493574, "post_id": 34705411, "comment_id": 57176725, "body": "@eLemEnt as a disclaimer, I <i>think</i> the results are correct, but your question is a bit convoluted so I&#39;m not sure if I&#39;m handling all the possible cases correctly. Make a manual check against your requirements (make a manual sum of seconds in a small dataset which handles all possible cases, and then run the query over that dataset and see if it gives the same result)."}], "tags": [], "owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "is_accepted": true, "score": 1, "last_activity_date": 1452493409, "last_edit_date": 1452493409, "creation_date": 1452429327, "answer_id": 34705411, "question_id": 34704876, "link": "https://stackoverflow.com/questions/34704876/mysql-add-time-based-on-conditions/34705411#34705411", "title": "Mysql add time based on conditions", "body": "<p>Unless I'm understanding the question all wrong, you can do something like:</p>\n\n<pre><code>SELECT SUM(UNIX_TIMESTAMP(date_time)-UNIX_TIMESTAMP(prevtime))\nFROM (\n   SELECT date_time, portNo1, @prevTime as prevtime,\n     @prevTime := date_time\n   FROM MyTable\n) t1 \nWHERE (portNo1 &gt; 0 AND prevtime IS NOT null)\n</code></pre>\n\n<p>This will sum the time differences (in seconds) between the current row and the previous row if the <code>portNo1</code> in the current row is greater than 0. Is this what you want?</p>\n\n<p>I've made a fiddle here: <a href=\"http://sqlfiddle.com/#!9/b6dfa/3\" rel=\"nofollow\">http://sqlfiddle.com/#!9/b6dfa/3</a></p>\n"}], "owner": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 34705411, "answer_count": 1, "score": 0, "last_activity_date": 1452493409, "creation_date": 1452425572, "last_edit_date": 1452492821, "question_id": 34704876, "link": "https://stackoverflow.com/questions/34704876/mysql-add-time-based-on-conditions", "title": "Mysql add time based on conditions", "body": "<p>I have one table whose structure is like as follows</p>\n\n<pre><code> +---------------------+---------+\n| date_time           | portNo1 |\n+---------------------+---------+\n| 2016-01-08 13:15:46 |       1 | \n| 2016-01-08 13:16:01 |       2 | \n| 2016-01-08 13:16:16 |       1 | \n| 2016-01-08 13:16:31 |       2 | \n| 2016-01-08 13:16:46 |       1 | \n| 2016-01-08 13:17:00 |       2 | \n| 2016-01-08 13:17:16 |       1 | \n| 2016-01-08 13:17:31 |       1 | \n| 2016-01-08 13:17:46 |       0 | \n| 2016-01-08 13:18:01 |       0 | \n| 2016-01-08 13:18:16 |       0 | \n| 2016-01-08 13:18:31 |       0 | \n| 2016-01-08 13:18:41 |       0 | \n| 2016-01-08 13:19:01 |       0 | \n| 2016-01-08 13:19:16 |       0 | \n| 2016-01-08 13:19:27 |       0 | \n| 2016-01-08 13:19:41 |       0 | \n| 2016-01-08 13:19:56 |       0 | \n| 2016-01-08 13:20:11 |       0 | \n| 2016-01-08 13:20:26 |       0 | \n| 2016-01-08 13:20:41 |       0 | \n| 2016-01-08 13:20:56 |       0 | \n| 2016-01-08 13:21:16 |       0 | \n| 2016-01-08 13:21:31 |       0 | \n| 2016-01-08 13:21:43 |       0 | \n| 2016-01-08 13:22:01 |       0 | \n| 2016-01-08 13:22:16 |       0 | \n| 2016-01-08 13:22:31 |       0 | \n| 2016-01-08 13:22:46 |       0 | \n| 2016-01-08 13:23:01 |       0 | \n| 2016-01-08 13:23:12 |       0 | \n| 2016-01-08 13:23:31 |       0 | \n| 2016-01-08 13:23:46 |       2 | \n| 2016-01-08 13:24:01 |       2 | \n| 2016-01-08 13:24:16 |       2 | \n| 2016-01-08 13:24:31 |       1 | \n| 2016-01-08 13:24:46 |       2 | \n| 2016-01-08 13:25:00 |       2 |\n</code></pre>\n\n<p>Now what I have to do is only add the time whose <code>portNo1</code> value is not <code>0</code>\nthat means it should add time from <code>13:15:46</code> to <code>13:17:31</code> in seconds then since after that all record till <code>13:23:46</code> value is <code>0</code> it should ignore that time and continue. then again from <code>13:23:46</code> has <code>portNo1</code> value it should take difference between <code>13:23:46</code> and <code>13:23:31</code> and add it to the previous difference. Guys I tried lot in perl to do it but not getting correct values if there is any easy way in mysql please tell me.</p>\n"}, {"tags": ["sql-server", "perl", "sybase", "nagios", "freetds"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 5789049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb170a5770489ec45d2bc2f6cf08e48?s=128&d=identicon&r=PG&f=1", "display_name": "bobo", "link": "https://stackoverflow.com/users/5789049/bobo"}, "is_accepted": false, "score": 0, "last_activity_date": 1453219455, "creation_date": 1453219455, "answer_id": 34881442, "question_id": 34701581, "link": "https://stackoverflow.com/questions/34701581/nagios-check-mssql-health-with-perl-dbdsybase-without-freetds/34881442#34881442", "title": "Nagios check_mssql_health with perl DBD::Sybase without FreeTds", "body": "<p>can you please run this and give output?</p>\n\n<pre><code>perl -MDBI -e 'DBI-&gt;installed_versions;'\n\nfind / -name freetds.conf\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 2089611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4fcba09e73f73471d31015f97821e09?s=128&d=identicon&r=PG&f=1", "display_name": "Hickory420", "link": "https://stackoverflow.com/users/2089611/hickory420"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1250, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1453219455, "creation_date": 1452394956, "last_edit_date": 1495542208, "question_id": 34701581, "link": "https://stackoverflow.com/questions/34701581/nagios-check-mssql-health-with-perl-dbdsybase-without-freetds", "title": "Nagios check_mssql_health with perl DBD::Sybase without FreeTds", "body": "<p>I usually ask for help on forums as a last resort, and I am well and truly stuck...</p>\n\n<p>BTW: I don't know if this should go on StackOverflow or ServerFault... Anyhoo</p>\n\n<p>I have been working on this problem for about 18 hours... straight...</p>\n\n<p>I have a production Nagios 3.2.0 box that I inherited with no documentation and not to mention the config files are a complete dog's breakfast\nSo, the time has come for me to update it.</p>\n\n<p>I have installed Nagios 3.5.1 (final) with NConf 1.3.0 (final). It works a treat.</p>\n\n<p>Current box has:</p>\n\n<pre><code>Red Hat Linux release 4 \ncheck_mssql_health (1.5.3)\nperl v5.8.8 built for i386-linux-thread-multi\nDBD::Sybase 1.10\n</code></pre>\n\n<p>Current box does NOT seem to use:</p>\n\n<p><code>freetds</code> or <code>unixODBC</code></p>\n\n<p>I say this because is seems to have been installed at one stage (trial and error? (Just like me??)) because the corresponding config files do not contain any relevant configurations for the production system; just sample data. In the production system, I can specify any sql server in our environment and it just works.</p>\n\n<pre><code>./check_mssql_health --server SERVER --username USER --password PASS --mode free-list-stalls\nOK - 0.00 free list stalls per second | free_list_stalls_per_sec=0.00;4;10\n</code></pre>\n\n<p>The new box has:</p>\n\n<pre><code>CentOS 6.7 (final)\ncheck_mssql_health (1.6.2)\nperl v5.10.1 (*) built for x86_64-linux-thread-multi\nDBD::Sybase 1.10\n</code></pre>\n\n<p>And this is what I get every time:</p>\n\n<pre><code>./check_mssql_health --server SERVER --username USER --password PASS --mode free-list-stalls\nCRITICAL - cannot connect to SERVER. DBI connect(';server=SERVER','USER',...) failed: (no error string) at ./check_mssql_health line 3280\n</code></pre>\n\n<p>I have tried so many different ways to configure a 'config-less' DBD::Sybase connection, but have had zero luck.</p>\n\n<p>Here are the links to the things I have tried...</p>\n\n<p><a href=\"https://labs.consol.de/nagios/check_mssql_health\" rel=\"nofollow noreferrer\">https://labs.consol.de/nagios/check_mssql_health</a></p>\n\n<p><a href=\"http://www.freetds.org/userguide/perl.htm\" rel=\"nofollow noreferrer\">http://www.freetds.org/userguide/perl.htm</a></p>\n\n<p><a href=\"http://www.freetds.org/userguide/config.htm\" rel=\"nofollow noreferrer\">http://www.freetds.org/userguide/config.htm</a></p>\n\n<p><a href=\"http://www.freetds.org/userguide/dsnless.htm\" rel=\"nofollow noreferrer\">http://www.freetds.org/userguide/dsnless.htm</a> </p>\n\n<p><a href=\"http://www.unixodbc.org/doc/FreeTDS.html\" rel=\"nofollow noreferrer\">http://www.unixodbc.org/doc/FreeTDS.html</a></p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/hh568451%28v=sql.110%29.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/hh568451%28v=sql.110%29.aspx</a></p>\n\n<p>Not to mention all the time I've spent compiling, re-compiling, and troubleshooting all the compile errors/dependencies. What a headache.</p>\n\n<p>It appears this OP is along the same lines as what I am trying to accomplish. But his question is 11 months old and viewed only 33 times.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28344510/freetds-without-freetds-conf\">FreeTds without freetds.conf</a></p>\n\n<p>How do I get my new server to use check_mssql_health?</p>\n\n<p>Or even more so, a small <code>sqltest.pl</code></p>\n\n<pre><code>#! /usr/bin/perl -w\n\nuse DBI;\nuse strict;\n\nmy $username = \"USER\";\nmy $password = \"PASS\";\nmy $dsn = \"DBI:Sybase:;host=SERVER;port=1433\";\nif (my $dbh = DBI-&gt;connect(\n    $dsn, $username, $password,\n    { RaiseError =&gt; 1, AutoCommit =&gt; 0, PrintError =&gt; 1 })) {\n  printf \"connection succeeded\\n\";\n} else {\n  printf \"connection failed\\n\";\n}\n</code></pre>\n\n<p>New box fails. Current prod box succeeds.</p>\n\n<p>To take it another step further, I have even done an strace on both boxes!</p>\n\n<p>Works:</p>\n\n<pre><code>connect(3, {sa_family=AF_INET, sin_port=htons(1433), sin_addr=inet_addr(\"10.2.23.2\")}, 16) = -1 EINPROGRESS (Operation now in progress)\nopen(\"/usr/share/locale/locale.alias\", O_RDONLY) = 4\nfstat64(4, {st_mode=S_IFREG|0644, st_size=2528, ...}) = 0\n...\nwrite(1, \"connection succeeded\\n\", 21connection succeeded\n</code></pre>\n\n<p>Fails:</p>\n\n<pre><code>connect(5, {sa_family=AF_INET, sin_port=htons(1433), sin_addr=inet_addr(\"10.2.23.2\")}, 16) = -1 EINPROGRESS (Operation now in progress)\npoll([{fd=5, events=POLLOUT}, {fd=4, events=POLLIN}], 2, 90000000) = 1 ([{fd=5, revents=POLLOUT}])\ngetsockopt(5, SOL_SOCKET, SO_ERROR, [0], [4]) = 0\n...\nwrite(2, \"DBI connect(';host=insyd2ft01;po\"..., 239DBI connect(';host=SERVER;port=1433','USER',...) failed: OpenClient message: LAYER = (0) ORIGIN = (0) SEVERITY = (78) NUMBER = (44)\nServer , database\nMessage String: Server name not found in configuration files.\nat ./sqltest.pl line 9\n) = 239\n</code></pre>\n\n<p>I don't want to use the configuration files!</p>\n\n<p>Full pastebin strace output of working server: <a href=\"http://pastebin.com/Ek7sVeGD\" rel=\"nofollow noreferrer\">http://pastebin.com/Ek7sVeGD</a></p>\n\n<p>Full pastebin strace output of failing server: <a href=\"http://pastebin.com/QK3BgVhp\" rel=\"nofollow noreferrer\">http://pastebin.com/QK3BgVhp</a></p>\n\n<p>They are very different from eachother, but I am so exausted, my brain is shutting down on me...</p>\n\n<p>Does anyone have any suggestions?</p>\n\n<p>Cheers.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452400210, "post_id": 34701957, "comment_id": 57150169, "body": "Hi, Thanks for your response.  I am looking for the values only be listed in the drop down menu (abc  xyz  123 test).  view page source those values, however  in the cgi page dropdown tab shows empty. Thanks"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452400583, "post_id": 34701957, "comment_id": 57150232, "body": "I don&#39;t understand what you&#39;re saying. The HTML source is correct, but the rendered output isn&#39;t?"}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452400795, "post_id": 34701957, "comment_id": 57150263, "body": "yes. html output is correct.  cgi page doesn&#39;t  show up those values in the dropdown menu.  I am using the div method for drop down posted my question. Thank you"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452401000, "post_id": 34701957, "comment_id": 57150298, "body": "OK... so what <i>is</i> the page showing instead? Can you <a href=\"https://stackoverflow.com/posts/34701957/edit\">edit</a> your question to include the HTML source rendered by the template engine?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452402531, "post_id": 34701957, "comment_id": 57150594, "body": "The HTML looks fine. So what do you actually see in the browser? It might be helpful to attach a screenshot at this point. It seems like you most likely have a CSS issue at this point..."}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452419994, "post_id": 34701957, "comment_id": 57154017, "body": "Hi, Thanks. I&#39;ll check my CSS  file"}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452529205, "post_id": 34701957, "comment_id": 57198250, "body": "there was an issue in the CSS file . git it fixed. thank you."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452541562, "post_id": 34701957, "comment_id": 57205698, "body": "@bsd Excellent! If this answer works for you and solves your problem, you might want to consider marking it as the <a href=\"http://stackoverflow.com/help/accepted-answer\">accepted answer</a>."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1452399605, "last_edit_date": 1452399605, "creation_date": 1452398902, "answer_id": 34701957, "question_id": 34701433, "link": "https://stackoverflow.com/questions/34701433/why-in-perl-array-value-is-not-listing-on-dropdown-list-using-html-template/34701957#34701957", "title": "why in perl array value is not listing on dropdown list using html template?", "body": "<p>Your array contains a single element: the string <code>abc,xyz,123,test</code>. If you want each of those things to be separate elements, you need to create your array differently:</p>\n\n<pre><code>@count = ('abc', 'xyz', 123, 'test');\n@count = qw(abc xyz 123 test);\n</code></pre>\n\n<p>Update: OK, after reading the docs for <a href=\"https://metacpan.org/pod/HTML::Template#TMPL_LOOP\" rel=\"nofollow\"><code>&lt;TMPL_LOOP&gt;</code></a>, it looks like you actually want an <a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES\" rel=\"nofollow\">arrayref of hashrefs</a>:</p>\n\n<pre><code>$count = [\n    { name =&gt; '???', value =&gt; 'abc' },\n    { name =&gt; '???', value =&gt; 'xyz' },\n    { name =&gt; '???', value =&gt; '123' },\n    { name =&gt; '???', value =&gt; 'test' },\n];\n\n$template-&gt;param(COUNT =&gt; $count);\n$template-&gt;param(COUNT =&gt; [{...}, {...}, {...}, ...]);  # same thing\n</code></pre>\n\n<p>However, I can't tell from your question which one should be the label and which one should be the value, so I'll leave that as an exercise for you to complete.</p>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 34701957, "answer_count": 1, "score": -3, "last_activity_date": 1452401590, "creation_date": 1452393550, "last_edit_date": 1452401590, "question_id": 34701433, "link": "https://stackoverflow.com/questions/34701433/why-in-perl-array-value-is-not-listing-on-dropdown-list-using-html-template", "title": "why in perl array value is not listing on dropdown list using html template?", "body": "<p>my perl cgi page dropdown menu doesn;t listing the values . my cgi script </p>\n\n<pre><code>use HTML::Template;use CGI;\nuse CGI::Carp qw(fatalsToBrowser);\nmy $template = HTML::Template-&gt;new(filename =&gt; 'test.tmpl');\n@count = (\"abc,xyz,123,test\");\nprint $cgi-&gt;start_form(\n                        -name =&gt; 'mainpage',\n                        -method =&gt; 'POST',\n                        );\n\n\n$template-&gt;param( COUNT =&gt; \\@count);\nprint $template-&gt;output();\n</code></pre>\n\n<p>my test.tmpl</p>\n\n<pre><code>&lt;div class=\"row \"&gt;\n            &lt;div class=\"col-lg-8 col-lg-offset-2\"&gt;\n                                &lt;div class=\"dropdown\"&gt;\n                                &lt;div class=\"input-field col s6\"&gt;\n                                &lt;input name=\"count\" id=\"countid\" type=\"text\" class=\"validate\"&gt;\n                                &lt;label for=\"count\"&gt;count&lt;/label&gt;\n    &lt;select&gt;\n        &lt;TMPL_LOOP NAME=\"COUNT\"&gt;\n        &lt;option value=\"&lt;TMPL_VAR NAME=VALUE&gt;\"&gt;&lt;TMPL_VAR NAME=NAME&gt;&lt;/option&gt;\n        &lt;/TMPL_LOOP&gt;\n    &lt;/select&gt;                                \n&lt;/div&gt;\n\nin the drop down menu, I am expecting below values. Please suggest if I need to make any change on above code on cgi or html template\nabc\nxyz\n123\ntest\n</code></pre>\n\n<p>Please find the modified the cgi script values. cgi page doesn;t show the values in the dropdown tab. however in the html page rendered these values</p>\n\n<pre><code>$count = [\n{ name =&gt; 'count1', value =&gt; 1 },\n{ name =&gt; 'count2', value =&gt; 2 },\n{ name =&gt; 'count3', value =&gt; 3 },\n];\n\n   $template-&gt;param(COUNT =&gt; [{name =&gt; 'count1', value =&gt; 1}, {name =&gt;  'count2', value =&gt; 2}, {name =&gt; 'count3', value =&gt; 3}]);\n\nprint $template-&gt;output, \"\\n\";\n</code></pre>\n\n<p>html page rendered below</p>\n\n<pre><code>&lt;div class=\"row \"&gt;\n            &lt;div class=\"col-lg-8 col-lg-offset-2\"&gt;\n                &lt;div class=\"dropdown\"&gt;\n            &lt;div class=\"input-field col s6\"&gt;\n                &lt;input name=\"count\" id=\"countstate\" type=\"text\" class=\"validate\"&gt;\n                            &lt;label for=\"count\"&gt;count&lt;/label&gt;\n&lt;select&gt;\n\n&lt;option value=\"1\"&gt;count1&lt;/option&gt;\n\n&lt;option value=\"2\"&gt;count2&lt;/option&gt;\n\n&lt;option value=\"3\"&gt;count3&lt;/option&gt;\n\n&lt;/select&gt;                                \n</code></pre>\n\n<p></p>\n"}, {"tags": ["perl", "audio", "literals", "square-bracket"], "comments": [{"owner": {"reputation": 1496, "user_id": 3013334, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f80883e570c1ca4c51e19309f7836c34?s=128&d=identicon&r=PG&f=1", "display_name": "Linus", "link": "https://stackoverflow.com/users/3013334/linus"}, "edited": false, "score": 0, "creation_date": 1452367708, "post_id": 34697920, "comment_id": 57141943, "body": "I don&#39;t know if I got the title right, please update it if you find it incorrect."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1452367959, "post_id": 34697920, "comment_id": 57142039, "body": "This is not about C, but Perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452368129, "post_id": 34697920, "comment_id": 57142091, "body": "<code>( LIST1 )[ LIST2 ]</code> returns the elements of <code>LIST1</code> specified by the indexes <code>LIST2</code>. There&#39;s no equivalent to this in C, so yeah, that is indeed a difference in your code."}, {"owner": {"reputation": 1496, "user_id": 3013334, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f80883e570c1ca4c51e19309f7836c34?s=128&d=identicon&r=PG&f=1", "display_name": "Linus", "link": "https://stackoverflow.com/users/3013334/linus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452368369, "post_id": 34697920, "comment_id": 57142190, "body": "@ikegami oh, I didn&#39;t understand how the bracket operator works in perl. What is the correct way in perl?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452368484, "post_id": 34697920, "comment_id": 57142237, "body": "That&#39;s already been answered in the Answer. I was just providing additional info."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1496, "user_id": 3013334, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f80883e570c1ca4c51e19309f7836c34?s=128&d=identicon&r=PG&f=1", "display_name": "Linus", "link": "https://stackoverflow.com/users/3013334/linus"}, "edited": false, "score": 0, "creation_date": 1452374788, "post_id": 34697980, "comment_id": 57144258, "body": "@Linus, Why don&#39;t you use an array like in C? Far more efficient."}, {"owner": {"reputation": 1496, "user_id": 3013334, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f80883e570c1ca4c51e19309f7836c34?s=128&d=identicon&r=PG&f=1", "display_name": "Linus", "link": "https://stackoverflow.com/users/3013334/linus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452375737, "post_id": 34697980, "comment_id": 57144547, "body": "@ikegami only because the latter solution is longer."}], "tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": true, "score": 5, "last_activity_date": 1452368446, "last_edit_date": 1452368446, "creation_date": 1452367991, "answer_id": 34697980, "question_id": 34697920, "link": "https://stackoverflow.com/questions/34697920/how-can-i-use-square-brackets-in-perl-like-c/34697980#34697980", "title": "How can I use square brackets in perl like C?", "body": "<p>String is not an array in perl, you need to replace array access with call to substr() function:</p>\n\n<pre><code>...\nord(substr((\n 3 &amp; $_[0] &gt;&gt; 16\n ?\n \"BY}6YB6%\"\n :\n \"Qj}6jQ6%\"\n), $_[2] % 8, 1))\n...\n</code></pre>\n\n<p>More efficient:</p>\n\n<pre><code># Outside the sub.\nmy $a1 = [ unpack 'C*', \"BY}6YB6%\" ];\nmy $a2 = [ unpack 'C*', \"Qj}6jQ6%\" ];\n\n...\n${ 3 &amp; $_[0] &gt;&gt; 16 ? $a1 : $a2 }[ $_[2] % 8 ]\n...\n</code></pre>\n"}], "owner": {"reputation": 1496, "user_id": 3013334, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f80883e570c1ca4c51e19309f7836c34?s=128&d=identicon&r=PG&f=1", "display_name": "Linus", "link": "https://stackoverflow.com/users/3013334/linus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 34697980, "answer_count": 1, "score": 1, "last_activity_date": 1452368446, "creation_date": 1452367649, "last_edit_date": 1452368017, "question_id": 34697920, "link": "https://stackoverflow.com/questions/34697920/how-can-i-use-square-brackets-in-perl-like-c", "title": "How can I use square brackets in perl like C?", "body": "<p>Yesterday Computerphile uploaded a video about code golf and bitshift variations and I was really fascinated of the program generating music. \nThis is my formatted version of the <a href=\"http://txti.es/bitshiftvariationsincminor\" rel=\"nofollow\">code</a> in the video. </p>\n\n<pre><code>int g(int sample, int x, int t, int overdrive) {\n return (\n  (\n   3 &amp; x &amp; (\n    sample *\n    (\n     (\n      3 &amp; sample &gt;&gt; 16\n      ?\n      \"BY}6YB6%\"\n      :\n      \"Qj}6jQ6%\"\n     )[t % 8]\n     +\n     51\n    ) &gt;&gt; overdrive\n   )\n  ) &lt;&lt; 4\n );\n}\n\nint main(int n, int s) {\n for (int sample=0 ;; sample++)\n  putchar(\n   g(sample, 1, n=sample &gt;&gt; 14, 12)\n    +\n   g(sample, s=sample &gt;&gt; 17, n^sample &gt;&gt; 13, 10)\n    +\n   g(sample, s/3, n + ((sample &gt;&gt; 11) % 3), 10)\n    +\n   g(sample, s/5, 8 + n-((sample &gt;&gt; 10) % 3), 9)\n  );\n}\n</code></pre>\n\n<p>I wanted to try convert the program to <em>pure</em> perl and this is my attempt.</p>\n\n<pre><code>sub g {\n return (\n  (\n   3 &amp; $_[1] &amp; (\n    $_[0] *\n    (\n     (\n      3 &amp; $_[0] &gt;&gt; 16\n      ?\n      \"BY}6YB6%\"\n      :\n      \"Qj}6jQ6%\"\n     )[$_[2] % 8]\n     +\n     51\n    ) &gt;&gt; $_[3]\n   )\n  ) &lt;&lt; 4\n );\n}\n\nfor($i=0;;$i++){\n  print pack('C',\n   g($i, 1, $n=$i &gt;&gt; 14, 12)\n    +\n   g($i, $s=$i &gt;&gt; 17, $n^$i &gt;&gt; 13, 10)\n    +\n   g($i, $s/3, $n + (($i &gt;&gt; 11) % 3), 10)\n    +\n   g($i, $s/5, 8 + $n-(($i &gt;&gt; 10) % 3), 9)\n  );\n}\n</code></pre>\n\n<p>According to the manual for putchar the the value is internally converted to an <code>unsigned char</code> when written. So I used the pack function in perl with <code>C</code> template which is an unsigned char. However when I pipe the result of both programs to <code>aplay</code> they don't produce the same music.</p>\n\n<p>If I use inline C and call the function <code>g</code> from perl it does work correctly.</p>\n\n<pre><code>use Inline C =&gt; &lt;&lt;'END_C';\n\nint g(int sample, int x, int t, int overdrive) {\n return (\n  (\n   3 &amp; x &amp; (\n    sample *\n    (\n     (\n      3 &amp; sample &gt;&gt; 16\n      ?\n      \"BY}6YB6%\"\n      :\n      \"Qj}6jQ6%\"\n     )[t % 8]\n     +\n     51\n    ) &gt;&gt; overdrive\n   )\n  ) &lt;&lt; 4\n );\n}\n\nEND_C\n\nfor($i=0;;$i++){\n  print pack('C',\n   g($i, 1, $n=$i &gt;&gt; 14, 12)\n    +\n   g($i, $s=$i &gt;&gt; 17, $n^$i &gt;&gt; 13, 10)\n    +\n   g($i, $s/3, $n + (($i &gt;&gt; 11) % 3), 10)\n    +\n   g($i, $s/5, 8 + $n-(($i &gt;&gt; 10) % 3), 9)\n  );\n}\n</code></pre>\n\n<p>The only explanation I have is that <code>[$_[2] % 8]</code> is not doing what I think it is in perl.</p>\n\n<p>How can I make the programs produce the same music in perl and C? On windows you can use <code>perl theprogram.pl | sox -c 1 -b 8 -e unsigned -t raw -r 8k - -t waveaudio 0</code> if you have <a href=\"http://sox.sourceforge.net/\" rel=\"nofollow\">sox</a> installed.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1452368147, "post_id": 34696456, "comment_id": 57142103, "body": "I had a quick look at this, and for now I suspect a bug in the library. The internal variable for the action class is not set on your 2. example."}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1452371225, "post_id": 34696456, "comment_id": 57143203, "body": "any thoughts on how to proceed? guess I can narrow it down a little and submit it to the Regexp::Grammars folks."}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1452371980, "post_id": 34696456, "comment_id": 57143387, "body": "If I may ask one other question : what does the $/{Answer} do?  can&#39;t quite figure where Answer comes from."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1452372296, "post_id": 34696456, "comment_id": 57143470, "body": "If you read the manpage it says: ` %/ # Result-hash for successful grammar match`. So it is a hash set by the library. I have looked at the action, and I don&#39;t understand how it is unset."}, {"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1452373470, "post_id": 34696456, "comment_id": 57143835, "body": "just figured that out again. I&#39;m new to the parser I keep forgetting it returns things in %/.  thanks for your help"}], "answers": [{"comments": [{"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1452477790, "post_id": 34710488, "comment_id": 57172684, "body": "thanks for looking I&#39;ve submitted a bug : <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=111051\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=111051</a>"}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1452458173, "creation_date": 1452458173, "answer_id": 34710488, "question_id": 34696456, "link": "https://stackoverflow.com/questions/34696456/perl-parsing-grammar-with-regex-with-actions-class-not-called-for-match/34710488#34710488", "title": "perl parsing grammar with regex with_actions class not called for match", "body": "<p>I think this is a bug in the library. If I add this to <code>clear_rule_handler</code>:</p>\n\n<pre><code>-sub clear_rule_handler { undef $RULE_HANDLER; }\n+sub clear_rule_handler {\n+    warn 'Clearing $RULE_HANDLER';\n+    undef $RULE_HANDLER;\n+}\n</code></pre>\n\n<p>I get this answer:</p>\n\n<pre><code>=====&gt; Trying &lt;grammar&gt; from position 0\n4\\n    |...Trying &lt;Answer&gt;\n       |   |...Trying &lt;[Operand=Literal]&gt;\n       |   |   |...Trying &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n\\n     |   |   |    \\_____&lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt; matched '4'\n       |   |    \\_____&lt;[Operand=Literal]&gt; matched '4'\nANSWER called\n       |    \\_____&lt;Answer&gt; matched '4'\nClearing $RULE_HANDLER at /Users/bolav/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Regexp/Grammars.pm line 88, &lt;&gt; line 1.\n--&gt; 4\n.4\n=====&gt; Trying &lt;grammar&gt; from position 0\n.4\\n   |...Trying &lt;Answer&gt;\n       |   |...Trying &lt;[Operand=Literal]&gt;\n       |   |   |...Trying &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\nClearing $RULE_HANDLER at /Users/bolav/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Regexp/Grammars.pm line 88, &lt;&gt; line 2.\n       |   |   |    \\FAIL &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n       |   |    \\FAIL &lt;[Operand=Literal]&gt;\n       |    \\FAIL &lt;Answer&gt;\n        \\FAIL &lt;grammar&gt;\n=====&gt; Trying &lt;grammar&gt; from position 1\n4\\n    |...Trying &lt;Answer&gt;\n       |   |...Trying &lt;[Operand=Literal]&gt;\n       |   |   |...Trying &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n\\n     |   |   |    \\_____&lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt; matched '4'\n       |   |    \\_____&lt;[Operand=Literal]&gt; matched '4'\n       |    \\_____&lt;Answer&gt; matched '4'\nClearing $RULE_HANDLER at /Users/bolav/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Regexp/Grammars.pm line 88, &lt;&gt; line 2.\n--&gt; HASH(0x7f9212003390)\n</code></pre>\n\n<p>So it looks like the rule_handler is cleared in the first position, and should be reset when trying again. If i do this with a quick hack:</p>\n\n<pre><code> my $RULE_HANDLER_OLD;\n # Prepare for debugging...\n sub _init_try_stack {\n     our (@try_stack, $last_try_pos, $last_context_str);\n\n     # Start with a representation of the entire grammar match...\n     @try_stack = ({\n         subrule =&gt; '&lt;grammar&gt;',\n         height  =&gt; 0,\n         errmsg  =&gt; ' \\\\FAIL &lt;grammar&gt;',\n     });\n\n     # Initialize tracking of location and context...\n     $last_try_pos     = -1;\n     $last_context_str = q{};\n\n     # Report...\n+    if ($RULE_HANDLER) {\n+        $RULE_HANDLER_OLD = $RULE_HANDLER;\n+    }\n+    else {\n+        $RULE_HANDLER = $RULE_HANDLER_OLD;\n+    }\n+\n     say {*Regexp::Grammars::LOGFILE} _debug_context('=&gt;')\n                 . 'Trying &lt;grammar&gt; from position ' . pos();\n }\n</code></pre>\n\n<p>The output is as you expect it, I think:</p>\n\n<pre><code>4\n=====&gt; Trying &lt;grammar&gt; from position 0\n4\\n    |...Trying &lt;Answer&gt;\n       |   |...Trying &lt;[Operand=Literal]&gt;\n       |   |   |...Trying &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n\\n     |   |   |    \\_____&lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt; matched '4'\n       |   |    \\_____&lt;[Operand=Literal]&gt; matched '4'\nANSWER called\n       |    \\_____&lt;Answer&gt; matched '4'\nClearing $RULE_HANDLER at /Users/bolav/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Regexp/Grammars.pm line 88, &lt;&gt; line 1.\n--&gt; 4\n.4\n=====&gt; Trying &lt;grammar&gt; from position 0\n.4\\n   |...Trying &lt;Answer&gt;\n       |   |...Trying &lt;[Operand=Literal]&gt;\n       |   |   |...Trying &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\nClearing $RULE_HANDLER at /Users/bolav/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Regexp/Grammars.pm line 88, &lt;&gt; line 2.\n       |   |   |    \\FAIL &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n       |   |    \\FAIL &lt;[Operand=Literal]&gt;\n       |    \\FAIL &lt;Answer&gt;\n        \\FAIL &lt;grammar&gt;\n=====&gt; Trying &lt;grammar&gt; from position 1\n4\\n    |...Trying &lt;Answer&gt;\n       |   |...Trying &lt;[Operand=Literal]&gt;\n       |   |   |...Trying &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n\\n     |   |   |    \\_____&lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt; matched '4'\n       |   |    \\_____&lt;[Operand=Literal]&gt; matched '4'\nANSWER called\n       |    \\_____&lt;Answer&gt; matched '4'\nClearing $RULE_HANDLER at /Users/bolav/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Regexp/Grammars.pm line 88, &lt;&gt; line 2.\n--&gt; 4\n</code></pre>\n\n<p>I don't have overview of the sideeffects of my hack.</p>\n"}, {"comments": [{"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1452604720, "post_id": 34713164, "comment_id": 57234894, "body": "the bug was accepted by the regexp grammar folks and has been fixed in the release 1.45"}], "tags": [], "owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "is_accepted": true, "score": 0, "last_activity_date": 1452477882, "creation_date": 1452477882, "answer_id": 34713164, "question_id": 34696456, "link": "https://stackoverflow.com/questions/34696456/perl-parsing-grammar-with-regex-with-actions-class-not-called-for-match/34713164#34713164", "title": "perl parsing grammar with regex with_actions class not called for match", "body": "<p>I've submitted a bug for this issue.</p>\n\n<p><a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=111051\" rel=\"nofollow\">https://rt.cpan.org/Public/Bug/Display.html?id=111051</a></p>\n"}], "owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 34713164, "answer_count": 2, "score": 2, "last_activity_date": 1452477882, "creation_date": 1452359533, "question_id": 34696456, "link": "https://stackoverflow.com/questions/34696456/perl-parsing-grammar-with-regex-with-actions-class-not-called-for-match", "title": "perl parsing grammar with regex with_actions class not called for match", "body": "<p>In the following code I'm using a class for the actions of the grammar. There's a flaw in the grammar where I don't match at the beginning of the line. I know how to fix that, but it's showing a behavior I don't understand. When it matches starting at the second character the action in the class isn't called.</p>\n\n<p>here's the output, notice you see 'ANSWER called' for the first input but not for the second:</p>\n\n<pre><code>      info | Processing the main regex before any rule definitions\n       |    |\n       |    |...Treating &lt;debug: run&gt; as:\n       |    |       \\ Change run-time debugging mode to 'run'\n       |    |\n       |    |...Treating &lt;Answer&gt; as:\n       |    |      |  match the subrule &lt;Answer&gt; \n       |    |       \\ saving the match in $MATCH{'Answer'}\n       |    |\n       |     \\___End of main regex\n       | \n       | Defining a rule: &lt;Answer&gt;\n       |    |...Returns: a hash\n       |    |\n       |    |...Treating &lt;[Operand=Literal]&gt; as:\n       |    |      |  match the subrule &lt;Literal&gt; \n       |    |       \\ appending the match to $MATCH{'Operand'}\n       |    |\n       |     \\___End of rule definition\n       | \n       | Defining a token: &lt;Literal&gt;\n       |    |...Returns: a hash\n       |    |\n       |    |...Treating '?:' as:\n       |    |       \\ normal Perl regex syntax\n       |    |\n       |    |...Treating &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt; as:\n       |    |      |  match the pattern ( [+-]? \\d++ (?: \\. \\d++ )?+ ) \n       |    |       \\ saving the matched substring in $MATCH{'='}\n       |    |\n       |     \\___End of rule definition\n       | \n\n4 &lt;&lt;&lt;==== here's my first input\n\n=====&gt; Trying &lt;grammar&gt; from position 0\n4\\n    |...Trying &lt;Answer&gt;\n       |   |...Trying &lt;[Operand=Literal]&gt;\n       |   |   |...Trying &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n\\n     |   |   |    \\_____&lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt; matched '4'\n       |   |    \\_____&lt;[Operand=Literal]&gt; matched '4'\n\nANSWER called &lt;&lt;&lt;=== the match and action is called\n\n       |    \\_____&lt;Answer&gt; matched '4'\n--&gt; 4\n.4\n=====&gt; Trying &lt;grammar&gt; from position 0\n.4\\n   |...Trying &lt;Answer&gt;\n       |   |...Trying &lt;[Operand=Literal]&gt;\n       |   |   |...Trying &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n       |   |   |    \\FAIL &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n       |   |    \\FAIL &lt;[Operand=Literal]&gt;\n       |    \\FAIL &lt;Answer&gt;\n        \\FAIL &lt;grammar&gt;\n=====&gt; Trying &lt;grammar&gt; from position 1\n4\\n    |...Trying &lt;Answer&gt;\n       |   |...Trying &lt;[Operand=Literal]&gt;\n       |   |   |...Trying &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n\\n     |   |   |    \\_____&lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt; matched '4'\n       |   |    \\_____&lt;[Operand=Literal]&gt; matched '4'\n\nWHY no call to ANSWER here?\n\n       |    \\_____&lt;Answer&gt; matched '4'\n--&gt; HASH(0x634ee78)\n</code></pre>\n\n<p>and here's the code:</p>\n\n<pre><code>#!/grid/common/bin/perl -w \n\nuse strict;\n\nuse v5.10;\nuse warnings;\n\nuse lib \"/vobs/uth/perl\";\n\nmy $calculator = do{\n    use Regexp::Grammars;\n    qr{\n &lt;debug: run&gt;\n    &lt;Answer&gt;\n\n        &lt;rule: Answer&gt;\n        &lt;[Operand=Literal]&gt;\n\n        &lt;token: Literal&gt;\n        (?:\n            &lt;MATCH=( [+-]? \\d++ (?: \\. \\d++ )?+ )&gt;\n        )\n    }xms\n};\n\n\nwhile (my $input = &lt;&gt;) {\n\n    if ($input =~ $calculator-&gt;with_actions('Calculator_Actions') ) {\n        say '--&gt; ', $/{Answer};\n    }\n    else {\n    say {*STDERR} $_ for  @!;\n    }\n}\n\npackage Calculator_Actions;\n\nuse List::Util qw&lt; reduce &gt;;\n\nsub Answer {\n    my ($self, $MATCH_ref) = @_;\n\n    say \"ANSWER called\";\n\n    my $value = shift @{$MATCH_ref-&gt;{Operand}};\n\n    return $value;\n}\n</code></pre>\n"}, {"tags": ["apache", "perl", "perlbrew", "suexec"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452369009, "post_id": 34693019, "comment_id": 57142438, "body": "You&#39;re not using the PATH, so no, it&#39;s not a PATH issue."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452369060, "post_id": 34693019, "comment_id": 57142457, "body": "It doesn&#39;t sound like <code>suexec</code> is even getting to the point where it tries to launch <code>perl</code>. It&#39;s trying to open a log file when it fails."}, {"owner": {"reputation": 21, "user_id": 2455942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b631869b468039c950755dd6ce5b73?s=128&d=identicon&r=PG", "display_name": "Brian Jones", "link": "https://stackoverflow.com/users/2455942/brian-jones"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452370892, "post_id": 34693019, "comment_id": 57143091, "body": "Thanks - I did wonder if the path was a red herring? Do you know what log file it might be trying to open? suexec.log has a &quot;cmd: index.cgi&quot; line, with no error. I can&#39;t understand how just changing the #! line would cause such issues!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452371553, "post_id": 34693019, "comment_id": 57143278, "body": "Well, there&#39;s only one mentioned in the docs"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2455942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b631869b468039c950755dd6ce5b73?s=128&d=identicon&r=PG", "display_name": "Brian Jones", "link": "https://stackoverflow.com/users/2455942/brian-jones"}, "is_accepted": false, "score": 1, "last_activity_date": 1452373035, "creation_date": 1452373035, "answer_id": 34698843, "question_id": 34693019, "link": "https://stackoverflow.com/questions/34693019/error-running-perlbrew-script-though-apachesuexec/34698843#34698843", "title": "Error running perlbrew script though apache+suexec", "body": "<p>Solved it - your nudge got me in the right direction.</p>\n\n<p>This was a clue:</p>\n\n<pre><code># suexec -V\n -D AP_DOC_ROOT=\"/var/www\"\n -D AP_GID_MIN=100\n -D AP_HTTPD_USER=\"apache\"\n -D AP_LOG_EXEC=\"/var/log/httpd/suexec.log\"\n -D AP_SAFE_PATH=\"/usr/local/bin:/usr/bin:/bin\"\n -D AP_UID_MIN=500\n -D AP_USERDIR_SUFFIX=\"public_html\"\n</code></pre>\n\n<p>I reinstalled perlbrew, changing the root:</p>\n\n<pre><code># export PERLBREW_ROOT=/usr/local/bin/perlbrew\n# perlbrew install perl-5.22.1\n</code></pre>\n\n<p>then changed the script to:</p>\n\n<pre><code>#!/usr/local/bin/perlbrew/perls/perl-5.22.1/bin/perl\n</code></pre>\n\n<p>and bingo:</p>\n\n<p>Hello, world! path: /usr/local/bin/perlbrew/perls/perl-5.22.1/bin/perl</p>\n"}], "owner": {"reputation": 21, "user_id": 2455942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b631869b468039c950755dd6ce5b73?s=128&d=identicon&r=PG", "display_name": "Brian Jones", "link": "https://stackoverflow.com/users/2455942/brian-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452373035, "creation_date": 1452339779, "question_id": 34693019, "link": "https://stackoverflow.com/questions/34693019/error-running-perlbrew-script-though-apachesuexec", "title": "Error running perlbrew script though apache+suexec", "body": "<p>We have a server running Centos 5.11, Apache 2.2 and default perl. Running scripts through suexec is working \"just fine\", but I have installed perlbrew so that I can install a load of extra modules without interferring with it.</p>\n\n<p>I have created a simple perl script to test:</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"Content-type: text/html\\n\\n\";\nprint \"perl: \". $^X . \"\\n\";\n</code></pre>\n\n<p>When run through apache+suexec, it outputs, as expected:</p>\n\n<pre><code>Hello, world! perl: /usr/bin/perl\n</code></pre>\n\n<p>But, when I change the shebang line to:</p>\n\n<pre><code>#!/root/perl5/perlbrew/perls/perl-5.22.1/bin/perl\n</code></pre>\n\n<p>and run the same way, I get an internal server error, and the apache error log shows:</p>\n\n<pre><code>suexec failure: could not open log file\nfopen: Permission denied\nPremature end of script headers: test.cgi\n</code></pre>\n\n<p>but running at the command line is fine:</p>\n\n<pre><code># ./test.cgi \nContent-type: text/html\nHello, world!\nperl: /root/perl5/perlbrew/perls/perl-5.22.1/bin/perl\n</code></pre>\n\n<p>I've tried all sorts of things. I did wonder if it's a \"PATH\" issue, but apache docs say \"On 2.2, the PATH environment variable cannot be set using Setenv.\"</p>\n\n<p>The suexec errors usually seem to be caused by dos/unix encoding - but that's not an issue here.</p>\n\n<p>Might it be an issue with the way I've installed perlbrew? Should it be as a different user (as apache)? different location (under /var/www)?</p>\n\n<p>Any other suggestions welcomed!</p>\n"}, {"tags": ["perl", "hash", "nlp", "tagging"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1452337984, "post_id": 34692688, "comment_id": 57131482, "body": "You might want to check array of hashes <a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES</a> and <a href=\"http://perlmaven.com/perl-arrays\" rel=\"nofollow noreferrer\">perlmaven.com/perl-arrays</a> respectively."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 1, "creation_date": 1452338116, "post_id": 34692688, "comment_id": 57131532, "body": "I would add <code>use Data::Dumper;</code> to the beginning of your script and <code>print Dumper \\@ngramfreq</code> to see your data structure"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1452338356, "post_id": 34692688, "comment_id": 57131600, "body": "If you want answers form Perl Monks, go to <a href=\"http://www.perlmonks.org\" rel=\"nofollow noreferrer\">perlmonks.org</a> :-)"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1452338067, "creation_date": 1452338067, "answer_id": 34692772, "question_id": 34692688, "link": "https://stackoverflow.com/questions/34692688/hash-multihash-indexing-perl/34692772#34692772", "title": "Hash (Multihash?) Indexing (Perl)", "body": "<p><code>[0]</code> is an array index, nothing to do with a hash. This implies that <code>ngramfreq</code> is actually an array of hashes:</p>\n\n<pre><code>my @ngramfreq = (\n                     { tag =&gt; 1, fish =&gt; 3 },\n                     { anothertag =&gt; 4 } \n                );\n</code></pre>\n\n<p>And thus <code>$ngramfreq[0]</code> gets you the first anon hash, and then you can access the tag. </p>\n\n<p><code>$#tag</code> is the last index in the array <code>@tag</code>. So with 3 elements, it would be 2, because the array indicies are 0,1,2</p>\n\n<p><code>Data::Dumper</code> is a good way of visualising a structure, to give you an idea of how it's layed out. </p>\n\n<p><a href=\"http://perldoc.perl.org/perldsc.html\"><code>perldoc perldsc</code></a> is worth a read, as it expands on data structures. </p>\n"}], "owner": {"reputation": 2031, "user_id": 4984066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/T9n5j.jpg?s=128&g=1", "display_name": "ivan_bilan", "link": "https://stackoverflow.com/users/4984066/ivan-bilan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 34692772, "answer_count": 1, "score": 1, "last_activity_date": 1452339961, "creation_date": 1452337660, "last_edit_date": 1452339961, "question_id": 34692688, "link": "https://stackoverflow.com/questions/34692688/hash-multihash-indexing-perl", "title": "Hash (Multihash?) Indexing (Perl)", "body": "<p>I have a function that counts frequencies of Trigrams in text. No knowledge of Computational Linguistics required, I just need help with Perl code.</p>\n\n<p>This is the Function:</p>\n\n<pre><code>sub extract_frequencies {\n    for( my $i=0; $i&lt;=$#tag; $i++ ) {\n       $wordtagfreq{\"$word[$i]\\t$tag[$i]\"}++;\n       $tagfreq{$tag[$i]}++;\n    }\n\n    # count Tag-Trigramm-Frequencies\n    my @start = (\"&lt;s&gt;\",\"&lt;s&gt;\");\n    unshift @tag, @start;  # korrigiert\n    push @tag, \"&lt;s&gt;\";\n    for( my $i=2; $i&lt;=$#tag; $i++ ) {\n        $ngramfreq[3]{\"$tag[$i-2]\\t$tag[$i-1]\\t$tag[$i]\"}++;\n    }\n } \n</code></pre>\n\n<p>The particular code points that I do not understand are the following:</p>\n\n<p>1) <code>$ngramfreq</code>[3]</p>\n\n<p>What does the Index on the hash means here? Do I count for each Tag separately? Is it the length of the key? What is my end key (3 different tag keys?)?</p>\n\n<p>2) <code>$i&lt;=$#tag</code></p>\n\n<p>What does <code>$#</code> in Perl mean?</p>\n\n<p>Haven't used Perl in a while, so I hope some Perl Monks will help me.</p>\n"}, {"tags": ["perl", "datetime", "dbix-class", "database-agnostic"], "comments": [{"owner": {"reputation": 1537, "user_id": 1248009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/911aa8c8d83d7f53d1650fa7c585dd92?s=128&d=identicon&r=PG", "display_name": "a7omiton", "link": "https://stackoverflow.com/users/1248009/a7omiton"}, "edited": false, "score": 0, "creation_date": 1453017416, "post_id": 34692583, "comment_id": 57413440, "body": "I guess no way to do this?"}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1456825404, "creation_date": 1456825404, "answer_id": 35719414, "question_id": 34692583, "link": "https://stackoverflow.com/questions/34692583/extracting-date-parts-using-dbic-while-keeping-queries-database-agnostic/35719414#35719414", "title": "Extracting date parts using DBIC while keeping queries database agnostic", "body": "<p>Sometimes you will have to make engine specific code in DBIx::Class if you're trying to do special things. You can use <code>$schema-&gt;storage-&gt;sqlt_type</code> to make different SQL.</p>\n\n<p>Note you can also use <code>substr(completed_on,1,4)</code> to get the year in SQLite.</p>\n\n<p>This will solve your problem:</p>\n\n<pre><code>my $type = $schema-&gt;storage-&gt;sqlt_type;\n\nmy $criteria;\nmy $attributes;\n\nif ($type eq 'MySQL') {\n    $criteria = {\n        status =&gt; ['Complete'],\n        'YEAR(completed_on)' =&gt; DateTime-&gt;now()-&gt;year(),\n    };\n\n    $attributes = {\n        select =&gt; [ { count =&gt; 'title' }, 'completed_on' ],\n        as =&gt; [qw/num_completed datetime/],\n        group_by =&gt; [qw/MONTH(completed_on)/],\n    };\n}\nelsif ($type eq 'SQLite') {\n    my $dtf = $schema-&gt;storage-&gt;datetime_parser;\n    my $begin_date = DateTime-&gt;from_day_of_year( year =&gt; DateTime-&gt;now()-&gt;year(), day_of_year =&gt; 1 ); #inception o_O\n    my $end_date = DateTime-&gt;from_day_of_year( year =&gt; DateTime-&gt;now()-&gt;year() + 1, day_of_year =&gt; 1 )-&gt;add( seconds =&gt; -1 );\n\n    $criteria = {\n        status =&gt; ['Complete'],\n        completed_on =&gt; {\n            -between =&gt; [\n                $dtf-&gt;format_datetime($begin_date),\n                $dtf-&gt;format_datetime($end_date),\n            ]\n        }\n    };\n\n    $attributes = {\n        select =&gt; [ { count =&gt; 'title' }, 'completed_on' ],\n        as =&gt; [qw/num_completed datetime/],\n        group_by =&gt; ['substr(completed_on,6,2)'],\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 1537, "user_id": 1248009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/911aa8c8d83d7f53d1650fa7c585dd92?s=128&d=identicon&r=PG", "display_name": "a7omiton", "link": "https://stackoverflow.com/users/1248009/a7omiton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456825404, "creation_date": 1452336947, "last_edit_date": 1452370689, "question_id": 34692583, "link": "https://stackoverflow.com/questions/34692583/extracting-date-parts-using-dbic-while-keeping-queries-database-agnostic", "title": "Extracting date parts using DBIC while keeping queries database agnostic", "body": "<p>I use a MySQL database in production and a SQLite database for running tests. One part of my application is used to gather monthly statistics for a year. I've successfully done this, however it came at a cost of not being able to automate tests because I'm using MySQL specific functions when querying for the data:</p>\n\n<pre><code>my $criteria = {\n    status =&gt; ['Complete'],\n    'YEAR(completed_on)' =&gt; DateTime-&gt;now()-&gt;year(),\n};\n\nmy $attributes = {\n    select =&gt; [ { count =&gt; 'title' }, 'completed_on' ],\n    as =&gt; [qw/num_completed datetime/],\n    group_by =&gt; [qw/MONTH(completed_on)/],\n};\n</code></pre>\n\n<p>Notice I'm using <code>YEAR</code> and <code>MONTH</code> MySQL functions.</p>\n\n<p>I know one way I can substitute the where clause to eliminate the use of MySQLs <code>YEAR</code> function, something like this:</p>\n\n<pre><code>my $dtf = $schema-&gt;storage-&gt;datetime_parser;\nmy $begin_date = DateTime-&gt;from_day_of_year( year =&gt; DateTime-&gt;now()-&gt;year(), day_of_year =&gt; 1 ); #inception o_O\nmy $end_date = DateTime-&gt;from_day_of_year( year =&gt; DateTime-&gt;now()-&gt;year(), day_of_year =&gt; 36[56] );\n\nmy $criteria = {\n    status =&gt; ['Complete'],\n    completed_on =&gt;\n    -between =&gt; [\n        $dtf-&gt;format_datetime($begin_date),\n        $dtf-&gt;format_datetime($end_date),\n    ]\n};\n</code></pre>\n\n<p><a href=\"http://search.cpan.org/dist/DBIx-Class/lib/DBIx/Class/Manual/Cookbook.pod#Formatting_DateTime_objects_in_queries\" rel=\"nofollow\">Using the recommended way to query date fields using DBIC</a></p>\n\n<p>But I'm stumped as to what to do with the <code>group_by</code> clause and how to make the grouping of this fields date value by month database agnostic as well. Wondering if anyone has any ideas?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 2, "creation_date": 1452334134, "post_id": 34692114, "comment_id": 57130388, "body": "Don&#39;t use &amp; when calling functions... it&#39;s so unneeded! Then, unless you have to solve this for homework or golfing, I&#39;d look into split instead of solving it all with a single regexp."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "reply_to_user": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 1, "creation_date": 1452334592, "post_id": 34692114, "comment_id": 57130518, "body": "@polettix No, not the home work, I do this for my <i>Authentic Theme</i> (for Webmin). Webmin uses <code>&amp;</code> in front of functions a lot. I&#39;m not Perl expert yet. Why is <code>&amp;</code> used for?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1452336600, "post_id": 34692114, "comment_id": 57131065, "body": "<code>Re: &amp;</code> please check <a href=\"http://stackoverflow.com/questions/8912049/difference-between-function-and-function-in-perl\" title=\"difference between function and function in perl\">stackoverflow.com/questions/8912049/&hellip;</a>"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1452336638, "post_id": 34692114, "comment_id": 57131086, "body": "@\u0421\u0443\u0445\u043e\u043927 Thanks, pal! Will read carefully."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1452336721, "post_id": 34692114, "comment_id": 57131113, "body": "Summary is though: Only do it if you have a specific reason to. And even then, consider not doing so anyway, because it&#39;s probably less clear."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1452368002, "post_id": 34692114, "comment_id": 57142047, "body": "<a href=\"https://metacpan.org/pod/Config::Any\" rel=\"nofollow noreferrer\">metacpan.org/pod/Config::Any</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1452335409, "post_id": 34692328, "comment_id": 57130705, "body": "<code>split(&#47;=&#47;,</code> will split on second or third <code>=</code> sign in the line, right? I would like to see how my regex could be fixed."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1452335690, "post_id": 34692328, "comment_id": 57130793, "body": "@IliaRostovtsev - this should preserve the value string, as it only splits into two parts, and will stop after encountering the first <code>=</code>"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 2, "last_activity_date": 1452336325, "last_edit_date": 1452336325, "creation_date": 1452335274, "answer_id": 34692328, "question_id": 34692114, "link": "https://stackoverflow.com/questions/34692114/perl-parsing-config-file-with-regex-to-key-value/34692328#34692328", "title": "Perl parsing config file with regex to key, value", "body": "<p>I would use something like this: </p>\n\n<pre><code>use warnings;\nuse strict; \nuse Data::Dumper;\n\nopen my $in, '&lt;', 'in.txt' or die $!;\n\nmy %data;\nwhile(&lt;$in&gt;){\n    my($key, $val) = split(/=/, $_, 2);  \n    $data{$key} = $val; \n}\n\nprint Dumper \\%data;\n</code></pre>\n\n<p>This will read in a file - here <code>in.txt</code>, <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a> each line on <code>=</code> into a maximum of two parts, and then assign them to a hash key/value pair. </p>\n\n<p>However your approach could be tweaked to allow <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">non-greedy matching</a> <code>(.*?)</code>:</p>\n\n<pre><code>while(&lt;$in&gt;){   \n    my ($key, $val) = $_ =~ /(.*?)=(.*)/;\n    $data{$key} = $val;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452336576, "post_id": 34692478, "comment_id": 57131055, "body": "I&#39;d also not bother slurping config into an intermediate variable. This works just as well with <code>&lt;$fh&gt; =~ m&#47;([^=]+)=(.*)&#47;g;</code> (slightly different LHS, but that&#39;s a matter of taste)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1452336773, "post_id": 34692478, "comment_id": 57131129, "body": "Yeah, I know. I just assumed that was what <code>read_file_contents($filename);</code> was doing."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1452337148, "post_id": 34692478, "comment_id": 57131229, "body": "I&#39;ll check in a bit. Thanks, guys!"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1452339726, "post_id": 34692478, "comment_id": 57132022, "body": "@\u0421\u0443\u0445\u043e\u043927 Thanks, pal! However I don&#39;t understand why. What this <code>?</code> really does?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1452414741, "post_id": 34692478, "comment_id": 57152818, "body": "@IliaRostovtsev it makes a regex lazy (stop matching at first <code>=</code> occurrence) <a href=\"http://stackoverflow.com/a/2301298/223226\">stackoverflow.com/a/2301298/223226</a>"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 3, "last_activity_date": 1452336221, "creation_date": 1452336221, "answer_id": 34692478, "question_id": 34692114, "link": "https://stackoverflow.com/questions/34692114/perl-parsing-config-file-with-regex-to-key-value/34692478#34692478", "title": "Perl parsing config file with regex to key, value", "body": "<p>You can use non greedy quantifier,</p>\n\n<pre><code>my %config = $config =~ /(.*?)=(.*)/g;\n                          # ^_________ match smallest possible amount of chars\n</code></pre>\n"}], "owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 955, "favorite_count": 0, "accepted_answer_id": 34692478, "answer_count": 2, "score": 1, "last_activity_date": 1452336325, "creation_date": 1452333911, "question_id": 34692114, "link": "https://stackoverflow.com/questions/34692114/perl-parsing-config-file-with-regex-to-key-value", "title": "Perl parsing config file with regex to key, value", "body": "<p>I have come up with the following, to first read the file and then put it into <em>hash</em>. <code>=</code> sign used as a delimiter.</p>\n\n<pre><code>sub get_config_value_by_key {\n    my ( $module, $key ) = @_;\n\n    my $config = &amp;read_file_contents(\n        $config_directory . '/' . $module . '/config' );\n    my %config = $config =~ /(.*)=(.*)/g;\n\n    return $config{$key};    \n}\n</code></pre>\n\n<p>It works fine, except that, if I have equal sign in the value (which I use as delimiter), then it doesn't parse it correctly.</p>\n\n<p>How to fix my regex to make it work properly, escaping <code>=</code> signs in the value?</p>\n\n<p>Example of config lines:</p>\n\n<p><code>\nkey_1=Some value \nkey_2=Some value with = sign which breaks it.\n</code></p>\n"}, {"tags": ["arrays", "perl", "subset"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1452513221, "post_id": 34689559, "comment_id": 57187350, "body": "&quot;<code>1@arr3 = @arr[@arr2]; #won&#39;t work as @arr2 returns number of elements</code>&quot; - You&#39;re wrong there :-)"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 6, "last_activity_date": 1452313323, "creation_date": 1452313323, "answer_id": 34689633, "question_id": 34689559, "link": "https://stackoverflow.com/questions/34689559/select-elements-of-array-using-array-of-integers/34689633#34689633", "title": "Select elements of array using array of integers", "body": "<p>You actually already had the correct answer, but apparently never tried it. It's called an <a href=\"http://perldoc.perl.org/perldata.html#Slices\">array slice</a>, and since a list of subscripts is expected, the array is evaluated in list context. Evaluating the array in scalar context returns the number of elements it contains, as you mentioned.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nmy @arr1 = qw(a b c d e f);\nmy @arr2 = qw(0 2 4);\nmy @arr3 = @arr1[@arr2];\n\ndd(\\@arr3);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\"a\", \"c\", \"e\"]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5765654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd9948d637f1fb3639969c2e9d678d0?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Narwahl", "link": "https://stackoverflow.com/users/5765654/mr-narwahl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1452313799, "creation_date": 1452312504, "last_edit_date": 1452313799, "question_id": 34689559, "link": "https://stackoverflow.com/questions/34689559/select-elements-of-array-using-array-of-integers", "title": "Select elements of array using array of integers", "body": "<p>Is it possible to select specific elements of an array using an array of integers (indexes)? I know that this can be done easily with a loop, but I was hoping for a one-line solution.</p>\n\n<p>Example:</p>\n\n<pre><code>@arr = qw(a b c d e f);\n@arr2 = qw( 0 2 4);\n</code></pre>\n\n<p>Rather than:</p>\n\n<pre><code>@arr3 = @arr[0,2,4];\n@arr3 = @arr[@arr2]; #won't work as @arr2 returns number of elements\n@arr3 = @arr[join(',', @arr2)] #won't work as join returns a string\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1452305792, "creation_date": 1452305792, "answer_id": 34689018, "question_id": 34688845, "link": "https://stackoverflow.com/questions/34688845/using-regexpgrammars-what-does-commit-do/34689018#34689018", "title": "using Regexp::Grammars what does (*COMMIT) do?", "body": "<p>It's a <em>backtracking control verb</em>, described in <a href=\"http://perldoc.perl.org/perlre.html#Special-Backtracking-Control-Verbs\" rel=\"nofollow\">perlre</a></p>\n\n<p>Essentially it forces a regex to fail if a later part of the pattern mismatches and in a way that would cause the regex engine to backtrack into it</p>\n"}, {"comments": [{"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1452347523, "post_id": 34690502, "comment_id": 57134470, "body": "thanks. I search the net for perl and COMMIT and nothing popped up."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1452369336, "last_edit_date": 1452369336, "creation_date": 1452321223, "answer_id": 34690502, "question_id": 34688845, "link": "https://stackoverflow.com/questions/34688845/using-regexpgrammars-what-does-commit-do/34690502#34690502", "title": "using Regexp::Grammars what does (*COMMIT) do?", "body": "<p><code>(*COMMIT)</code> is documented in <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perlre</a>.</p>\n\n<p><code>(*COMMIT)</code> is useful in causing an whole alternation to fail when one of the branch fails after reaching a certain point.</p>\n\n<pre><code>$ perl -E'\n   say \"$_: \", /\n      ^\n      (?: a (*COMMIT) b\n      |   c (*COMMIT) d\n      |   . z\n      )\n   /sx ?1:0\n      for qw( ab cd az yz );\n'\nab: 1\ncd: 1\naz: 0\nyz: 1\n</code></pre>\n\n<p>You could have written the following, but it could be far less efficient and far harder to write in more complex examples:</p>\n\n<pre><code>/\n   ^\n   (?: a b\n   |   c d\n   |   [^ac] z\n   )\n/x\n</code></pre>\n"}], "owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1452369336, "creation_date": 1452304073, "question_id": 34688845, "link": "https://stackoverflow.com/questions/34688845/using-regexpgrammars-what-does-commit-do", "title": "using Regexp::Grammars what does (*COMMIT) do?", "body": "<p>I'm looking at an example for Regexp::Grammars. The example has a comment around *COMMIT stating about how it will improve the error messages. I can't find any documentation on *COMMIT. What does it do ?  I've included part of the example below:</p>\n\n<pre><code>    use Regexp::Grammars;\nqr{ \n    \\A \n    &lt;Answer&gt;\n    (*COMMIT)   # &lt;-- Remove this to see the error messages get less accurate\n    (?:\n        \\Z\n    |\n        &lt;warning: (?{ \"Extra junk after expression at index $INDEX: '$CONTEXT'\" })&gt;\n        &lt;warning: Expected end of input&gt;\n        &lt;error:&gt;\n    )\n\n    &lt;rule: Answer&gt;  \n        &lt;[_Operand=Mult]&gt;+ % &lt;[_Op=(\\+|\\-)]&gt;\n            (?{ $MATCH = shift @{$MATCH{_Operand}};\n                for my $term (@{$MATCH{_Operand}}) {\n                    my $op = shift @{$MATCH{_Op}};\n                    if ($op eq '+') { $MATCH += $term; }\n                    else            { $MATCH -= $term; }\n                }\n            })\n      |\n        &lt;error: Expected valid arithmetic expression&gt;\n</code></pre>\n"}, {"tags": ["perl", "cgi", "centos7", "apache2.4", "selinux"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1452305403, "post_id": 34688641, "comment_id": 57124518, "body": "Is there anything in the Apache error log? (Might be something like <code>&#47;var&#47;log&#47;apache2&#47;error.log</code>)."}, {"owner": {"reputation": 74, "user_id": 4109113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88acb982d7434e525fb84036d8dd74fa?s=128&d=identicon&r=PG&f=1", "display_name": "bislinks", "link": "https://stackoverflow.com/users/4109113/bislinks"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1452309227, "post_id": 34688641, "comment_id": 57125091, "body": "I did not see anything relating to this error in /var/log/httpd/error_log.  Nevertheless, here is the link to the log contents.  Maybe i have missed something! : [link] (<a href=\"http://business-impact-solutions.com/error_log_2016-08-01.txt\" rel=\"nofollow noreferrer\">business-impact-solutions.com/error_log_2016-08-01.txt</a>)"}, {"owner": {"reputation": 87, "user_id": 4242385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/078bea2667b144256a7ca042d37caddd?s=128&d=identicon&r=PG&f=1", "display_name": "Doggerel", "link": "https://stackoverflow.com/users/4242385/doggerel"}, "edited": false, "score": 1, "creation_date": 1452312573, "post_id": 34688641, "comment_id": 57125577, "body": "maybe it&#39;s the old file buffering thing? try putting   $|=1; before any of the print statements in your script."}, {"owner": {"reputation": 74, "user_id": 4109113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88acb982d7434e525fb84036d8dd74fa?s=128&d=identicon&r=PG&f=1", "display_name": "bislinks", "link": "https://stackoverflow.com/users/4109113/bislinks"}, "edited": false, "score": 0, "creation_date": 1452313595, "post_id": 34688641, "comment_id": 57125738, "body": "No, <code>$|=1;</code> did not solve the issue"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452527330, "post_id": 34688641, "comment_id": 57196934, "body": "I assume the section of httpd.conf you showed is inside a <code>&lt;Directory&gt;</code> block. Which directory? (You need to show the configuration for both /var/www/cgi-bin and /home/user/cgi for us to be able to help.)"}, {"owner": {"reputation": 74, "user_id": 4109113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88acb982d7434e525fb84036d8dd74fa?s=128&d=identicon&r=PG&f=1", "display_name": "bislinks", "link": "https://stackoverflow.com/users/4109113/bislinks"}, "edited": false, "score": 0, "creation_date": 1453435813, "post_id": 34688641, "comment_id": 57609931, "body": "<a href=\"http://business-impact-solutions.com/httpd.conf.txt\" rel=\"nofollow noreferrer\">httpd.conf</a>"}], "answers": [{"tags": [], "owner": {"reputation": 74, "user_id": 4109113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88acb982d7434e525fb84036d8dd74fa?s=128&d=identicon&r=PG&f=1", "display_name": "bislinks", "link": "https://stackoverflow.com/users/4109113/bislinks"}, "is_accepted": true, "score": 0, "last_activity_date": 1477935978, "creation_date": 1477935978, "answer_id": 40347623, "question_id": 34688641, "link": "https://stackoverflow.com/questions/34688641/perl-cgi-not-working-for-home-user-cgi-but-working-for-var-www-cgi-bin/40347623#40347623", "title": "Perl/CGI not working for /home/user/cgi but working for /var/www/cgi-bin", "body": "<p>I got it.  </p>\n\n<p>The problem was caused by this line: </p>\n\n<pre>SuexecUserGroup \"#1000\" \"#1000\"</pre>\n\n<p>Problem resolved once I removed that directive.</p>\n"}], "owner": {"reputation": 74, "user_id": 4109113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88acb982d7434e525fb84036d8dd74fa?s=128&d=identicon&r=PG&f=1", "display_name": "bislinks", "link": "https://stackoverflow.com/users/4109113/bislinks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 40347623, "answer_count": 1, "score": 1, "last_activity_date": 1477935978, "creation_date": 1452302205, "last_edit_date": 1452315003, "question_id": 34688641, "link": "https://stackoverflow.com/questions/34688641/perl-cgi-not-working-for-home-user-cgi-but-working-for-var-www-cgi-bin", "title": "Perl/CGI not working for /home/user/cgi but working for /var/www/cgi-bin", "body": "<p>My Server is<br>\n    CentOS7<br>\n    Apache 2.4<br>\n    SELinux enabled.   </p>\n\n<p>Perl/CGI is working for <strong>/var/www/cgi-bin</strong> directory but not working for <strong>/home/user/cgi</strong> directory.</p>\n\n<p>error-log shows the following errors for test.pl:</p>\n\n<pre>[Fri Jan 08 19:53:05.725795 2016] [cgi:error] [pid 7311] [client *:33769] End of script output before headers: test.pl\n[Fri Jan 08 19:54:10.981964 2016] [cgi:error] [pid 7314] [client *:33770] End of script output before headers: test.pl</pre>\n\n<p>perl -w test.pl shows no error on command line.</p>\n\n<p>SELinux settings for /home/user/cgi directory is </p>\n\n<pre>drwxr-xr-x.  4 unconfined_u:object_r:httpd_sys_script_exec_t:s0 user user   83 Jan  8 20:05 .\ndrwxr-xr-x. 11 unconfined_u:object_r:user_home_dir_t:s0 user user 4096 Jan  7 12:08 ..\n-rwxr-xr-x.  1 unconfined_u:object_r:httpd_sys_script_exec_t:s0 user user   90 Jan  8 20:05 test.pl</pre>\n\n<p>Content of test.pl</p>\n\n<pre>#!/usr/bin/perl\n\nprint \"Content-type: text/html; charset=utf-8\\n\\n\";\nprint \"Hello\\n\\n\";</pre>\n\n<p>httpd.conf</p>\n\n<pre>\nOptions Indexes FollowSymLinks Includes ExecCGI\nAddHandler cgi-script .cgi .pl\nRequire all granted\nDirectoryIndex index.pl index.cgi \n</pre>\n\n<p>Link to httpd related sebool options:\n<a href=\"http://business-impact-solutions.com/getsebool-httpd.txt\" rel=\"nofollow\">sebool</a>\nGreatly appreciate help...</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1452290968, "creation_date": 1452290968, "answer_id": 34686954, "question_id": 34686462, "link": "https://stackoverflow.com/questions/34686462/can-i-force-perl-to-inline-subroutines/34686954#34686954", "title": "can I force perl to inline subroutines?", "body": "<p>Constants can be folded, but Perl subs are never inlined. Practically, they can't be. <a href=\"http://search.cpan.org/perldoc?macro\" rel=\"nofollow\">macro</a> and <a href=\"http://search.cpan.org/perldoc?Macro\" rel=\"nofollow\">Macro</a> attempt to provide inlinable subs, but I don't know how reliable they are. You will definitely find limitations.</p>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1452291208, "accepted_answer_id": 34686954, "answer_count": 1, "score": -1, "last_activity_date": 1452290968, "creation_date": 1452288808, "question_id": 34686462, "link": "https://stackoverflow.com/questions/34686462/can-i-force-perl-to-inline-subroutines", "closed_reason": "Duplicate", "title": "can I force perl to inline subroutines?", "body": "<p>I know non-constant subroutines usually will not be inlined, since they can be redefined on the fly.  However, I have code where inlined subroutines would actually offer a small but non-trivial optimization; but I don't want to unroll them myself since it would make the code much harder to read.</p>\n\n<p>Is there some way to make Perl inline these methods, a way to indicate that the subroutine will not be modified at runtime and I want the interpreter to inline during the preprocessing phase?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1452286906, "post_id": 34685974, "comment_id": 57118505, "body": "<code>&#39;YAML&#39; not installed, will not store persistent state</code> is harmless."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1452286958, "post_id": 34685974, "comment_id": 57118527, "body": "As for not having permission to writing to <code>&#47;usr&#47;local&#47;share&#47;man&#47;man3</code>, any reason to believe that&#39;s incorrect? If you do have root access, did you follow the instructions in the error message?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1452287407, "post_id": 34685974, "comment_id": 57118770, "body": "..and if you don&#39;t, are you asking how to install modules to an arbitrary directory? I&#39;d use <code>perlbrew</code> to install a <code>perl</code> in your home directory instead."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452291273, "post_id": 34686552, "comment_id": 57120623, "body": "Bad advice. No need to run <code>cpan</code> itself as root. The advice in the error message the OP posted is better."}], "tags": [], "owner": {"reputation": 539, "user_id": 28400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f48158ca7aeaac49277e614bb2183005?s=128&d=identicon&r=PG", "display_name": "mattl", "link": "https://stackoverflow.com/users/28400/mattl"}, "is_accepted": false, "score": 1, "last_activity_date": 1452289126, "creation_date": 1452289126, "answer_id": 34686552, "question_id": 34685974, "link": "https://stackoverflow.com/questions/34685974/do-not-have-write-permissions-on-usr-local-share-man-man3/34686552#34686552", "title": "Do not have write permissions on &#39;/usr/local/share/man/man3&#39;", "body": "<p>Are you running cpan as a regular user? No sudo or root access? That's probably why.</p>\n"}, {"comments": [{"owner": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "edited": false, "score": 0, "creation_date": 1452546899, "post_id": 34687065, "comment_id": 57208561, "body": "Hi, Thanks for your reply.  I tried your commands but don&#39;t think it worked.  cpan[2]&gt; conf make_install_make_command &#39;sudo make&#39; Unknown shell command &#39;conf&#39;. Type ? for help.  Looks like I don&#39;t have root privileges.. Can I install modules without root access ?  Sorry for asking such a basic question. I am new to perl :)  cpan[3]&gt; conf commit Unknown shell command &#39;conf&#39;. Type ? for help."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "edited": false, "score": 0, "creation_date": 1452547727, "post_id": 34687065, "comment_id": 57209017, "body": "You left out the &quot;o&quot;"}, {"owner": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "edited": false, "score": 2, "creation_date": 1452548331, "post_id": 34687065, "comment_id": 57209358, "body": "oh my bad, I tried again .. cpan[5]&gt; o conf make_install_make_command &#39;sudo make&#39;     make_install_make_command [sudo make] Please use &#39;o conf commit&#39; to make the config permanent!   cpan[6]&gt; o conf commit commit: wrote &#39;/scratch/paasqa/.cpan/CPAN/MyConfig.pm&#39;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "edited": false, "score": 0, "creation_date": 1452548403, "post_id": 34687065, "comment_id": 57209402, "body": "The changes were successfully made. The next time you use <code>cpan</code>, it will run <code>sudo make install</code> instead of <code>make install</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "edited": false, "score": 0, "creation_date": 1452553186, "post_id": 34687065, "comment_id": 57211767, "body": "Change <code>sudo make</code> to <code>make</code>, but you shouldn&#39;t want to"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1452291493, "creation_date": 1452291493, "answer_id": 34687065, "question_id": 34685974, "link": "https://stackoverflow.com/questions/34685974/do-not-have-write-permissions-on-usr-local-share-man-man3/34687065#34687065", "title": "Do not have write permissions on &#39;/usr/local/share/man/man3&#39;", "body": "<p><code>'YAML' not installed, will not store persistent state</code> is harmless.</p>\n\n<p>As for not having permission to writing to <code>/usr/local/share/man/man3</code>, any reason to believe that's incorrect?</p>\n\n<p>If you do have root access, did you follow the instructions in the error message? Launch cpan, and execute the following commands:</p>\n\n<pre><code>o conf make_install_make_command 'sudo make'\no conf commit\n</code></pre>\n\n<p>If you don't have root access, are you asking how to install modules to an arbitrary directory? I'd use <a href=\"http://search.cpan.org/perldoc?App::perlbrew\" rel=\"noreferrer\"><code>perlbrew</code></a> to install a <code>perl</code> in your home directory instead.</p>\n"}], "owner": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4314, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1545727105, "creation_date": 1452286844, "last_edit_date": 1452286986, "question_id": 34685974, "link": "https://stackoverflow.com/questions/34685974/do-not-have-write-permissions-on-usr-local-share-man-man3", "title": "Do not have write permissions on &#39;/usr/local/share/man/man3&#39;", "body": "<p>I am using Linux machine and getting YAML not installed error while installing JSON Perl module from Cpan. Any help is highly appreciable.</p>\n\n<pre><code>cpan[1]&gt;install JSON\n\nanifying blib/man3/JSON::backportPP::Boolean.3pm\nManifying blib/man3/JSON::backportPP.3pm\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nERROR: Can't create '/usr/local/share/man/man3'\nDo not have write permissions on '/usr/local/share/man/man3'\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n at -e line 1\nmake: *** [pure_site_install] Error 13\n  MAKAMAKA/JSON-2.90.tar.gz\n  /usr/bin/make install  -- NOT OK\n----\n  You may have to su to root to install the package\n  (Or you may want to run something like\n    o conf make_install_make_command 'sudo make'\n  to raise your permissions.Warning (usually harmless): 'YAML' not installed, will not store persistent state\n</code></pre>\n\n<p>and when I try to install YAMl, I get this error .</p>\n\n<pre><code>cpan[1]&gt;install YAML\n\n\nERROR: Can't create '/usr/local/share/man/man3'\nDo not have write permissions on '/usr/local/share/man/man3'\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n at -e line 1\nmake: *** [pure_site_install] Error 13\n  INGY/YAML-1.15.tar.gz\n  /usr/bin/make install  -- NOT OK\n----\n  You may have to su to root to install the package\n  (Or you may want to run something like\n    o conf make_install_make_command 'sudo make'\n  to raise your permissions.Warning (usually harmless): 'YAML' not installed, will not store persistent state\nFailed during this command:\n TYEMQ/Algorithm-Diff-1.1903.tar.gz           : install NO\n NEILB/Text-Diff-1.43.tar.gz                  : install NO\n INGY/Spiffy-0.46.tar.gz                      : install NO\n INGY/Test-Base-0.88.tar.gz                   : install NO\n INGY/Test-YAML-1.06.tar.gz                   : install NO\n INGY/YAML-1.15.tar.gz     \n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["arrays", "perl", "list", "scalar"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452287217, "post_id": 34685788, "comment_id": 57118662, "body": "You have some sever misunderstandings about how things work. Both <code>get_array</code> and <code>get_list</code> return a list (a number of scalars) in list context and a single scalar in scalar context."}, {"owner": {"reputation": 19246, "user_id": 1160036, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4AkVQ.jpg?s=128&g=1", "display_name": "Despertar", "link": "https://stackoverflow.com/users/1160036/despertar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452287528, "post_id": 34685788, "comment_id": 57118820, "body": "I understand they both return scalars in scalar context, but the string &quot;two&quot; and an integer representing the number of items in the array are completely different results even though both are scalars."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452288019, "post_id": 34685788, "comment_id": 57119066, "body": "I know. It&#39;s &quot;I want to return it as a list so that it assigns according to list rules and not array rules&quot; that makes no sense."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452288105, "post_id": 34685788, "comment_id": 57119120, "body": "See <a href=\"http://stackoverflow.com/q/32051534/176646\">List or scalar context when returning an array or list with a single element</a>. (The answer still applies even though you have more than one element in your list and array.)"}, {"owner": {"reputation": 19246, "user_id": 1160036, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4AkVQ.jpg?s=128&g=1", "display_name": "Despertar", "link": "https://stackoverflow.com/users/1160036/despertar"}, "edited": false, "score": 0, "creation_date": 1452289429, "post_id": 34685788, "comment_id": 57119753, "body": "Assigning a list to a scalar assigns the last item of the list. Assigning an array counts the array and assigns the count. This is what I mean by list rules vs array rules. Whatever you call it, the results are different if the value is a &#39;list&#39; vs an &#39;array&#39;. I already have an array but I want to return it as a &#39;list of values&#39; so that the list behavior (assigning the last element) is applied instead of the array behavior (counting). Sorry, but I showed this clearly with a few lines of code and I don&#39;t know how to make that any more clear."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452293679, "post_id": 34685788, "comment_id": 57121575, "body": "Re &quot;I already have an array but I want to return it as a &#39;list of values&#39;&quot; Again, that makes no sense. You can only return a scalar in scalar context. /// Re &quot;I showed this clearly with a few lines of code and I don&#39;t know how to make that any more clear&quot;, I didn&#39;t say I had any problems understanding what you wanted."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452304272, "post_id": 34685788, "comment_id": 57124288, "body": "@ikegami, The persub docs state that a sub returns a flat list of scalars.  What does the flat list returned by the get_array() sub look like?  Is it a flat list containing an internal reference to the array, which when it finds itself in scalar context produces the length of the array?  It can&#39;t be a flat list containing a <i>real</i> perl reference because we can return a perl reference ourselves, which produces a different result, right?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1452304395, "post_id": 34685788, "comment_id": 57124312, "body": "@7stud, When called in list context, <code>get_array</code> returns two scalars with respective values of <code>&#39;one&#39;</code> and <code>&#39;two&#39;</code>. When called in scalar context, it returns one scalar with a value of <code>2</code>. // When called in list context, <code>get_list</code> returns two scalars with respective values of <code>&#39;one&#39;</code> and <code>&#39;two&#39;</code>. When called in scalar context, it returns one scalar with a value of <code>&#39;two&#39;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452304547, "post_id": 34685788, "comment_id": 57124346, "body": "Note: There&#39;s no difference between saying &quot;returns a list of two scalars&quot; and saying &quot;returns two scalars&quot;. &quot;flat&quot; is similarly a fluff word."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452304742, "post_id": 34685788, "comment_id": 57124381, "body": "@ikegami, Okay, that makes sense: the wantarray result is determined before the return value is constructed.  And lists and arrays respond differently to not wantarray."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1452305139, "post_id": 34685788, "comment_id": 57124461, "body": "@7stud, Right. Every operator that can return something other than a single scalar has to use the internal equivalent of <code>wantarray</code> (called <code>GIMME</code>) to determine whether it is required to return a single scalar or not. Context is not applied after the fact, but determines what it returned in the first place."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1452305740, "post_id": 34685788, "comment_id": 57124577, "body": "For the op, the translation of the previous comments is: perl does an <b><i>implicit</i></b> wantarray check before each of your subs return.  And when the context does not want-an-array, i.e. scalar context, lists and arrays produce different results."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452306023, "post_id": 34685788, "comment_id": 57124620, "body": "@ikegami, lol.  Why does Wumpus Q. Wumbley&#39;s answer not do the implicit wantarray check before returning?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1452306250, "post_id": 34685788, "comment_id": 57124654, "body": "@7stud, What makes you think it doesn&#39;t? <a href=\"http://perl5.git.perl.org/perl.git/blob/0ab152a1d10861997fe3e1b985cc92f142f4cec7:/pp.c#l4596\" rel=\"nofollow noreferrer\">code</a> PS - I posted that solution before WQW. (See the link ThisSuitIsBlackNot posted above)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1452308340, "post_id": 34685788, "comment_id": 57124947, "body": "@7stud <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">Slices in scalar context return the last item of the slice.</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452381032, "post_id": 34685788, "comment_id": 57146075, "body": "<a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\" rel=\"nofollow noreferrer\">Arrays vs. Lists</a>"}], "answers": [{"comments": [{"owner": {"reputation": 19246, "user_id": 1160036, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4AkVQ.jpg?s=128&g=1", "display_name": "Despertar", "link": "https://stackoverflow.com/users/1160036/despertar"}, "edited": false, "score": 0, "creation_date": 1452288939, "post_id": 34685972, "comment_id": 57119513, "body": "This is an interesting solution and certainly works when it comes to scalar assignment. Would there be any other situation though where the array would behave differently than if a list was returned?"}, {"owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "reply_to_user": {"reputation": 19246, "user_id": 1160036, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4AkVQ.jpg?s=128&g=1", "display_name": "Despertar", "link": "https://stackoverflow.com/users/1160036/despertar"}, "edited": false, "score": 0, "creation_date": 1452291167, "post_id": 34685972, "comment_id": 57120579, "body": "I don&#39;t really understand the question.  The long and the short of my solution is: If <code>get_array</code> is called in list context, the elements <code>&quot;one&quot;</code> and <code>&quot;two&quot;</code> of the array will be returned.  If it&#39;s called in scalar context, the final element of the array will be returned.  Can you elaborate some other hypothetical situation than these two?"}], "tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": false, "score": 5, "last_activity_date": 1452286840, "creation_date": 1452286840, "answer_id": 34685972, "question_id": 34685788, "link": "https://stackoverflow.com/questions/34685788/convert-array-to-list/34685972#34685972", "title": "Convert array to list", "body": "<p>Functions can use <a href=\"http://perldoc.perl.org/functions/wantarray.html\" rel=\"noreferrer\">wantarray</a> to determine the context they're in and return something accordingly:</p>\n\n<pre><code>sub get_array {\n    my @a = (\"one\", \"two\");\n    return wantarray ? @a : $a[-1];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1452662036, "last_edit_date": 1452662036, "creation_date": 1452299168, "answer_id": 34688303, "question_id": 34685788, "link": "https://stackoverflow.com/questions/34685788/convert-array-to-list/34688303#34688303", "title": "Convert array to list", "body": "<p>See <a href=\"http://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"nofollow\">perlop</a> <code>comma operator</code>:</p>\n\n<blockquote>\n  <p>Binary \",\" is the comma operator. In scalar context it evaluates its\n  left argument, throws that value away, then evaluates its right\n  argument and returns that value. This is just like C's comma operator.</p>\n</blockquote>\n\n<p>And see <a href=\"http://perldoc.perl.org/perldata.html#List-value-constructors\" rel=\"nofollow\">perldata</a> <code>list value constructors</code>:</p>\n\n<blockquote>\n  <p>In a context not requiring a list value, the value of what appears to\n  be a list literal is simply the value of the final element, as with\n  the C comma operator. For example,</p>\n\n<pre><code>@foo = ('cc', '-E', $bar);\n</code></pre>\n  \n  <p>assigns the entire list value to array @foo, but</p>\n\n<pre><code>$foo = ('cc', '-E', $bar);\n</code></pre>\n  \n  <p>assigns the value of variable $bar to the scalar variable $foo. Note\n  that the value of an actual array in scalar context is the length of\n  the array;</p>\n</blockquote>\n\n<p>From the <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\">map docs</a>:</p>\n\n<blockquote>\n  <p>map EXPR,LIST</p>\n  \n  <p>Evaluates the BLOCK or EXPR for each element of LIST (locally setting\n  $_ to each element) and <strong><em>returns the list value</em></strong> composed of the results\n  of each such evaluation.</p>\n</blockquote>\n\n<p>Perfect!  Just what you want:</p>\n\n<pre><code>my @arr = ('a', 'b', 'c');\n\nmy $result = map \"--&gt;$_&lt;--\", @arr;\nsay $result; #=&gt;3  ???\n</code></pre>\n\n<p>Boo, hoo:</p>\n\n<blockquote>\n  <p>In scalar context, [map] returns the total number of elements so generated.</p>\n</blockquote>\n\n<p>So, after reading Sean's answer you can surmise that <code>map()</code> is defined to do the equivalent of the following:</p>\n\n<pre><code> return wantarray ? (result1, result2,...,resultN) : N;\n</code></pre>\n\n<p>Same thing for <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a>:</p>\n\n<blockquote>\n  <p>Splits the string EXPR into a list of strings and returns the list in\n  list context, or the size of the list in scalar context.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": true, "score": 3, "last_activity_date": 1452303641, "creation_date": 1452303641, "answer_id": 34688790, "question_id": 34685788, "link": "https://stackoverflow.com/questions/34685788/convert-array-to-list/34688790#34688790", "title": "Convert array to list", "body": "<p>The answer with <code>wantarray</code> makes the intent explicit, which is good. But if you want something that looks more like magic which you can refer to as \"listifying the array\" to confuse and impress people, a slice will do it:</p>\n\n<pre><code>return @a[0..$#a];\n</code></pre>\n"}], "owner": {"reputation": 19246, "user_id": 1160036, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4AkVQ.jpg?s=128&g=1", "display_name": "Despertar", "link": "https://stackoverflow.com/users/1160036/despertar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3572, "favorite_count": 0, "accepted_answer_id": 34688790, "answer_count": 3, "score": 2, "last_activity_date": 1452662036, "creation_date": 1452286051, "last_edit_date": 1452286560, "question_id": 34685788, "link": "https://stackoverflow.com/questions/34685788/convert-array-to-list", "title": "Convert array to list", "body": "<pre><code>sub get_list {\n    return (\"one\", \"two\");\n}\n\nsub get_array {\n    my @a = (\"one\", \"two\");\n\n    # need to convert @a to list\n    return @a;\n}\n\nmy $two = get_list(); # desired, assigns last item in list to scalar \nmy $count = get_array(); # evaluates array in scalar context, returning a count\n</code></pre>\n\n<p>In the get_array() method, I already have an array created, but I want to return it as a list so that it assigns according to list rules and not array rules. The array of course would normally be built in a more complex way (not directly from a list).</p>\n\n<p>I have tried using map in hopes that it would return me a list of values, but this gives the same results. Same with split/join.</p>\n\n<pre><code>return map { $_ } @a;\nreturn split /,/, join(\",\", @a);\n</code></pre>\n\n<p>How can I convert the array into a list of values?</p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1452282513, "post_id": 34684812, "comment_id": 57116163, "body": "Are you using XML::Simple? If so, you should enable it&#39;s <a href=\"http://www.perlmonks.org/index.pl?node_id=218480\" rel=\"nofollow noreferrer\">:strict mode</a>. Also, <a href=\"http://www.perlmonks.org/index.pl?node_id=490846\" rel=\"nofollow noreferrer\">don&#39;t use XML::Simple</a>."}, {"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1452284069, "post_id": 34684812, "comment_id": 57116970, "body": "No, I&#39;m using SOAP::Lite which looks to use XML::Parser under the hood."}], "answers": [{"tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": false, "score": 2, "last_activity_date": 1452282665, "creation_date": 1452282665, "answer_id": 34684974, "question_id": 34684812, "link": "https://stackoverflow.com/questions/34684812/how-to-deal-with-variable-hash-value/34684974#34684974", "title": "How to deal with variable hash value", "body": "<p>I would use an array reference instead, which avoids an unnecessary copy:</p>\n\n<pre><code>my $things = $result-&gt;{thingGroup};\nunless (ref $things eq 'ARRAY' ) {\n    $things = [ $things ];\n} \n\nforeach my $thing (@$things) { ... }\n</code></pre>\n\n<p>I removed the <code>elsif</code> because it's not clear that it adds anything.  If you want to ensure that a non-array is in fact a hash, then you should also have some code to handle the case where it isn't.</p>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 4, "last_activity_date": 1452282903, "creation_date": 1452282903, "answer_id": 34685040, "question_id": 34684812, "link": "https://stackoverflow.com/questions/34684812/how-to-deal-with-variable-hash-value/34685040#34685040", "title": "How to deal with variable hash value", "body": "<p>Similar to @cjm's answer, but using the <a href=\"http://perldoc.perl.org/perlop.html#Conditional-Operator\" rel=\"nofollow\">ternary operator</a>:</p>\n\n<pre><code>my $things = ref $result-&gt;{thingGroup} eq 'ARRAY'\n    ? $result-&gt;{thingGroup}\n    : [ $result-&gt;{thingGroup} ];\n</code></pre>\n"}], "owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 34685040, "answer_count": 2, "score": 1, "last_activity_date": 1452282903, "creation_date": 1452282068, "question_id": 34684812, "link": "https://stackoverflow.com/questions/34684812/how-to-deal-with-variable-hash-value", "title": "How to deal with variable hash value", "body": "<p>I'm dealing with a SOAP API that can either return a hash or array of hashes depending if there is one or more records. This makes iterating over the return tricky. My current method is check the ref of return and either copy it to an array if it is an array, else push it on an array and then iterate over it.  Is there a cleaner idiom to use?</p>\n\n<pre><code>my @things;\nif ( ref $result-&gt;{thingGroup} eq 'ARRAY' ) {\n    @things = @{ $result-&gt;{thingGroup} };\n} elsif ( ref $result-&gt;{thingGroup} eq 'HASH' ) {\n    push @things, $result-&gt;{thingGroup};\n} \n\nforeach my $thing (@things) { ... }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452279805, "post_id": 34684002, "comment_id": 57114661, "body": "What OS are you using? <code>&#47;&#47;Server-A&#47;X:&#47;...</code> is not a valid path in Windows, and I&#39;ve never seen anything like that in unix before."}, {"owner": {"reputation": 544, "user_id": 3311151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/08zk3.jpg?s=128&g=1", "display_name": "AznDevil92", "link": "https://stackoverflow.com/users/3311151/azndevil92"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452279916, "post_id": 34684002, "comment_id": 57114730, "body": "what do you mean it is not a valid path?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1452279945, "post_id": 34684002, "comment_id": 57114744, "body": "<code>:</code> isn&#39;t allowed except after a drive letter (<code>C:...</code>). But you have a UNC path (<code>\\\\server\\share\\...</code>), and those don&#39;t have a drive component. Did you perhaps mean <code>&#47;&#47;Server-A&#47;X$&#47;...</code>? Don&#39;t forget to escape the <code>$</code>"}, {"owner": {"reputation": 544, "user_id": 3311151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/08zk3.jpg?s=128&g=1", "display_name": "AznDevil92", "link": "https://stackoverflow.com/users/3311151/azndevil92"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452280127, "post_id": 34684002, "comment_id": 57114847, "body": "I have already tried that, it still gave me the same error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452280326, "post_id": 34684002, "comment_id": 57114944, "body": "I can&#39;t see your network, so I can&#39;t tell you why else the path doesn&#39;t exist. Neither can anyone else."}, {"owner": {"reputation": 544, "user_id": 3311151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/08zk3.jpg?s=128&g=1", "display_name": "AznDevil92", "link": "https://stackoverflow.com/users/3311151/azndevil92"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452284412, "post_id": 34684002, "comment_id": 57117145, "body": "Does it matter if I use / or \\? Becuase when I use \\, I get an error stating Use of uninitialized value $\\ in concatentation &lt;.&gt; or string"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1452284593, "post_id": 34684002, "comment_id": 57117251, "body": "Windows APIs accept / &amp; \\ interchangeably, but be aware that string literals in Perl may use \\ as an escape character in various circumstances, particularly at the start of a UNC path."}, {"owner": {"reputation": 544, "user_id": 3311151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/08zk3.jpg?s=128&g=1", "display_name": "AznDevil92", "link": "https://stackoverflow.com/users/3311151/azndevil92"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452284956, "post_id": 34684002, "comment_id": 57117449, "body": "@ikegami you were right with the escape $. I thought it was suppose to be X\\$/Main Folder, but then I realized it was suppose to be like this X\\$\\/Main Folder. If you add that as an answer I would gladly accept it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452286871, "post_id": 34684002, "comment_id": 57118476, "body": "What you just said makes no sense. <code>&quot;X\\$&#47;Main Folder&quot;</code> and <code>&quot;X\\$\\&#47;Main Folder&quot;</code> produce the same string, <code>X$&#47;Main Folder</code>."}, {"owner": {"reputation": 544, "user_id": 3311151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/08zk3.jpg?s=128&g=1", "display_name": "AznDevil92", "link": "https://stackoverflow.com/users/3311151/azndevil92"}, "edited": false, "score": 0, "creation_date": 1452287045, "post_id": 34684002, "comment_id": 57118576, "body": "Yet for some reason &quot;X\\$/Main Folder&quot; did not work, but &quot;X\\$\\/Main Folder&quot; did work."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1452286680, "creation_date": 1452286680, "answer_id": 34685935, "question_id": 34684002, "link": "https://stackoverflow.com/questions/34684002/set-file-paths-perl-script/34685935#34685935", "title": "Set File Paths - Perl Script", "body": "<p><code>//Server-A/X:/...</code> isn't a valid path in Windows. A colon (<code>:</code>) isn't allowed in a path except after a drive letter (<code>C:...</code>). But you have a UNC path (<code>\\\\server\\share\\...</code> aka <code>//server/share/...</code>), and those don't have a drive component. Did you perhaps mean <code>//Server-A/X$/...</code>? If so,</p>\n\n<pre><code>\"//Server-A/X:/...\"\n</code></pre>\n\n<p>should be changed to either of</p>\n\n<pre><code>\"//Server-A/X\\$/...\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>'//Server-A/X$/...'\n</code></pre>\n"}], "owner": {"reputation": 544, "user_id": 3311151, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/08zk3.jpg?s=128&g=1", "display_name": "AznDevil92", "link": "https://stackoverflow.com/users/3311151/azndevil92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 1, "accepted_answer_id": 34685935, "answer_count": 1, "score": 0, "last_activity_date": 1452286680, "creation_date": 1452278813, "last_edit_date": 1452279812, "question_id": 34684002, "link": "https://stackoverflow.com/questions/34684002/set-file-paths-perl-script", "title": "Set File Paths - Perl Script", "body": "<p>What I am trying to do is take the bcp log file out (log folder) and move it to another directory with a current time (history folder). However, every time I execute this Perl script, it states \"No such file or directory at line 18\"</p>\n\n<p>Below is my code:</p>\n\n<pre><code>## SET FILE PATHS\nmy $myBCPDump = \"//Server-A/X:/Main Folder/Log/bcpLog.txt\";\nmy $myBCPLog = \"//Server-A/X:/Main Folder/History/bcpLog\" . $myDate . \".txt\"; \n\nmy $isJunk = \"rows successfully|rows sent to SQL|packet size|Starting copy|^\\n|Clock Time\";\n\nopen (LOGFILE, \"&gt;$myBCPLog\") or die $!; ##Line 18\n\nclose (LOGFILE);\n</code></pre>\n\n<p>I know that it can't find the file or directory is because the ##SET FILE PATHS is not being executed properly and I am not sure why. </p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452274413, "post_id": 34682673, "comment_id": 57111616, "body": "<code>cpan</code> will fetch and install the dependencies when you install your <a href=\"http://search.cpan.org/perldoc?ExtUtils::MakeMaker\" rel=\"nofollow noreferrer\">package</a>, though you will need to specify the immediate dependencies."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1452274496, "post_id": 34682673, "comment_id": 57111681, "body": "Static analysis can&#39;t do this because of <code>eval</code>, among other things. You can get close with some of the tools mentioned in <a href=\"http://stackoverflow.com/q/358891/176646\">How do I find the module dependencies of my Perl script?</a>, but if you want to make sure dependencies are installed when you install your code, you need to list them in the Makefile.PL or Build.PL for your distribution."}, {"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1452274504, "post_id": 34682673, "comment_id": 57111693, "body": "Not exactly a dupe, but you might find the answers to  <a href=\"http://stackoverflow.com/questions/7664829/can-a-perl-script-install-its-own-cpan-dependencies\">this question</a> useful."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1452274597, "post_id": 34682673, "comment_id": 57111756, "body": "<code>print Dumper \\%INC</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452277090, "post_id": 34682673, "comment_id": 57113223, "body": "The solutions in the question ThisSuitIsBlackNot linked and the solution Sobirque presented specify way too much. For most scripts, best to look at the <code>use</code> statements, and refine as needed (e.g. if you tell DBI to load  a specific database driver)."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1452277558, "post_id": 34682673, "comment_id": 57113492, "body": "You put your dependencies in your <code>Makefile.PL</code> (or <code>Build.PL</code>) file for your distribution... see the <code>CONFIGURE_REQUIRES</code>, <code>BUILD_REQUIRES</code> and <code>PREREQ_PM</code> sections in this example:  <a href=\"https://metacpan.org/source/STEVEB/Mock-Sub-1.01/Makefile.PL\" rel=\"nofollow noreferrer\">Makefile.PL</a>. The <code>0</code> beside each name is the version number required. Specifying <code>0</code> literally means any version of the module will work."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1452280607, "post_id": 34682673, "comment_id": 57115083, "body": "It sounds like you want a dependency management tool, e.g., <a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow noreferrer\">Carton</a>."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 2, "creation_date": 1452305662, "post_id": 34682673, "comment_id": 57124563, "body": "You can specify dependencies for your app using <a href=\"/a/31329070/293652\">cpanfile</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 0, "creation_date": 1459269661, "post_id": 36287685, "comment_id": 60205716, "body": "Thank you for this suggestion.  I&#39;m a little turn here, I very much appreciate your answer, but it doesn&#39;t fully answer the question, since you admitted to skipping over deploying.  At the same time I feel the comments above finish answering the question, but can&#39;t select them as an answer...  If you wanted to modify your answer to even briefly touch on the deployment options already mentioned in the comments above I would love to award you the answer though and finally close this :)  In the meantime I&#39;m going to go peak at webmin :)"}, {"owner": {"reputation": 326, "user_id": 4810570, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e7lh0mX9YsA/AAAAAAAAAAI/AAAAAAAAApY/EGaDNC0uGEI/photo.jpg?sz=128", "display_name": "Curt Evans", "link": "https://stackoverflow.com/users/4810570/curt-evans"}, "reply_to_user": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 0, "creation_date": 1459365113, "post_id": 36287685, "comment_id": 60258726, "body": "How you deploy depends on your target, and this is too complex to answer generically.  You will need to create a script that detects the environment and tests for the modules by trying to install them one at a time. It will be different for Centos and Ubuntu.  You do not want to load cpan modules over a package module, but you will need to use cpan to load modules that don&#39;t have a vendor package."}], "tags": [], "owner": {"reputation": 326, "user_id": 4810570, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e7lh0mX9YsA/AAAAAAAAAAI/AAAAAAAAApY/EGaDNC0uGEI/photo.jpg?sz=128", "display_name": "Curt Evans", "link": "https://stackoverflow.com/users/4810570/curt-evans"}, "is_accepted": false, "score": 1, "last_activity_date": 1459262861, "creation_date": 1459262861, "answer_id": 36287685, "question_id": 34682673, "link": "https://stackoverflow.com/questions/34682673/how-to-ensure-all-required-cpan-modules-are-loaded-when-i-install-my-program-to/36287685#36287685", "title": "How to ensure all required CPAN modules are loaded when I install my program to new system?", "body": "<p>The easiest way to do this is to load Webmin, which will report both native cpan modules, and modules loaded via yum or apt-get. Deploying the install is another discussion.</p>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1459262861, "creation_date": 1452273831, "question_id": 34682673, "link": "https://stackoverflow.com/questions/34682673/how-to-ensure-all-required-cpan-modules-are-loaded-when-i-install-my-program-to", "title": "How to ensure all required CPAN modules are loaded when I install my program to new system?", "body": "<p>Sorry if this is very newb question, I promise I did try this on my own.</p>\n\n<p>As I develop a perl prototype I keep installing new CPAN modules I wish to use for the prototype to my local perl.  I want to ensure when this program is deployed all these CPAN modules I'm using are installed on the production box as well.  </p>\n\n<p>I don't want to keep track of every new CPAN module I install during development and manually install each on production, I want to run a command and have all the appropriate modules loaded.  In java world I would use something like Maven to list these dependencies and trust maven to handle fetching and ensuring my libraries are available.  Does Perl have the equivalent? </p>\n\n<p>I would kind of expect I can point cpan to my program and it could infer which modules are needed with basic static analysis and install them on the fly, but I haven't found the program or syntax to do so.  can anyone point me to </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452274223, "post_id": 34682634, "comment_id": 57111509, "body": "Are you sure that&#39;s the code you ran and the template you used? You don&#39;t even set <code>@TOTAL</code>."}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452275182, "post_id": 34682634, "comment_id": 57112116, "body": "Hi, I&#39;ve edited my question.  I am not sure I&#39;ve properly used that array values at html template file. Please suggest the proper way to use the array on html template on above select class. Thank you"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1452275275, "post_id": 34682634, "comment_id": 57112173, "body": "Do you really want the array to have just one element?"}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452275462, "post_id": 34682634, "comment_id": 57112283, "body": "Hi, I actualy want the entire array to be listed in the drop down list( count1 , count2, count3)  Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1452276903, "last_edit_date": 1452276903, "creation_date": 1452276446, "answer_id": 34683368, "question_id": 34682634, "link": "https://stackoverflow.com/questions/34682634/why-do-i-get-the-error-attempt-to-get-non-existent-parameter-count-1-when-i/34683368#34683368", "title": "Why do I get the error &#39;Attempt to get non existent parameter &quot;count-1&quot;&#39; when I use HTML::Template?", "body": "<p>According to the documentation, the loop variable needs to be a AoH. Based on your template, it specifically needs to loop like</p>\n\n<pre><code>my @ARRAY = (\n    { NAME =&gt; 'count1', VALUES =&gt; 1 },\n    { NAME =&gt; 'count2', VALUES =&gt; 2 },\n    { NAME =&gt; 'count3', VALUES =&gt; 3 },\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452309950, "post_id": 34683417, "comment_id": 57125195, "body": "Hi Borodin, thanks for your reply. I am trying to get those values in  the drop down list . now after using the above code, I am not getting any error, but none of the values are showing in the drop down list. Thank you"}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452358341, "post_id": 34683417, "comment_id": 57138411, "body": "Hi ,  I am trying to list count1 , count2 , count3 values in the dropdown list. now the dropdown list is shows empty. however, the page source shows the values.  Please suggest how to list those values in the dropdown list. Thank you"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452358676, "post_id": 34683417, "comment_id": 57138553, "body": "At a guess you&#39;ve not understood that <code>&lt;TMPL_VAR  NAME=VALUE&gt;</code> and <code>&lt;TMPL_VAR  NAME=NAME&gt;</code>. Must tie up with the <code>value</code> and <code>name</code> hash keys in the <code>@count</code> array. But it&#39;s impossible to diagnose your code without seeing it. You must ask another question"}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1452359992, "post_id": 34683417, "comment_id": 57139058, "body": "Hi, I&#39;ve used the same above code in the script and template file.  if I right click page source as it shows  &lt;option value=&quot;1&quot;&gt;count1&lt;/option&gt;  and 2,3 like these , however in the cgi page drop down list shows empty. Thank you"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467561181, "last_edit_date": 1467561181, "creation_date": 1452276577, "answer_id": 34683417, "question_id": 34682634, "link": "https://stackoverflow.com/questions/34682634/why-do-i-get-the-error-attempt-to-get-non-existent-parameter-count-1-when-i/34683417#34683417", "title": "Why do I get the error &#39;Attempt to get non existent parameter &quot;count-1&quot;&#39; when I use HTML::Template?", "body": "<p>You don't say what result you want from this, but each element of a <code>TMPL_LOOP</code> parameter must be a <em>hash</em> containing one or more values. Within the <code>&lt;TMPL_LOOP NAME=\"COUNT\"&gt;</code> element you can call out elements of each hash using <code>&lt;TMPL_VAR NAME=FIELD&gt;</code> where <code>FIELD</code> is the name of the hash key that must appear in every element of the array</p>\n\n<p>If I combine this template</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div class=\"input-field col s6\"&gt;\n    &lt;select&gt;\n        &lt;TMPL_LOOP NAME=\"COUNT\"&gt;\n            &lt;option value=\"&lt;TMPL_VAR NAME=VALUE&gt;\"&gt;&lt;TMPL_VAR NAME=NAME&gt;&lt;/option&gt;\n        &lt;/TMPL_LOOP&gt;\n    &lt;/select&gt;                                \n&lt;/div&gt;\n</code></pre>\n\n<p>with this Perl code</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse HTML::Template;\n\nmy $template = HTML::Template-&gt;new(filename =&gt; 'test.tmpl');\n\nmy @count = (\n    { name =&gt; 'count1', value =&gt; 1 },\n    { name =&gt; 'count2', value =&gt; 2 },\n    { name =&gt; 'count3', value =&gt; 3 },\n);\n\n$template-&gt;param( COUNT =&gt; \\@count );\n\nprint $template-&gt;output, \"\\n\";\n</code></pre>\n\n<p>then this is the result. I assume you were hoping for something similar</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div class=\"input-field col s6\"&gt;\n    &lt;select&gt;\n\n            &lt;option value=\"1\"&gt;count1&lt;/option&gt;\n\n            &lt;option value=\"2\"&gt;count2&lt;/option&gt;\n\n            &lt;option value=\"3\"&gt;count3&lt;/option&gt;\n\n    &lt;/select&gt;                                \n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1467561181, "creation_date": 1452273683, "last_edit_date": 1452276867, "question_id": 34682634, "link": "https://stackoverflow.com/questions/34682634/why-do-i-get-the-error-attempt-to-get-non-existent-parameter-count-1-when-i", "title": "Why do I get the error &#39;Attempt to get non existent parameter &quot;count-1&quot;&#39; when I use HTML::Template?", "body": "<p>I am trying to populate an HTML drop down list using <a href=\"https://metacpan.org/pod/HTML::Template\" rel=\"nofollow\">HTML::Template</a>:</p>\n\n<pre><code>use HTML::Template;\nmy @ARRAY = (\"count1,count2,count3\");\nmy $template = HTML::Template-&gt;new(filename =&gt; 'test.tmpl');\n$template-&gt;param( COUNT =&gt; \\@ARRAY );\nprint $template-&gt;output();\n</code></pre>\n\n<p>Here's my template file (test.tmpl):</p>\n\n<pre><code>&lt;div class=\"input-field col s6\"&gt;\n&lt;select&gt;&lt;TMPL_LOOP NAME=\"COUNT\"&gt;&lt;option value=\"count1\"&gt;&lt;TMPL_VAR NAME=NAME&gt;&lt;TMPL_VAR NAME=VALUES&gt;&lt;/option&gt;&lt;/TMPL_LOOP&gt;&lt;/select&gt;                                \n&lt;/div&gt;\n</code></pre>\n\n<p>When I run this, I get the error:</p>\n\n<pre><code>Attempt to get nonexistent parameter 'count1,count2,count3' -\nthis parameter name doesn't match any declarations in the template file\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["mysql", "oracle", "perl", "abstraction-layer"], "comments": [{"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1452272529, "post_id": 34682156, "comment_id": 57110476, "body": "For <b>very</b> simple statements you can simply exchange the database. However, each DB has its own syntax, I.e. you really should install an Oracle Database"}, {"owner": {"reputation": 15822, "user_id": 1156452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/okUnm.jpg?s=128&g=1", "display_name": "thatjeffsmith", "link": "https://stackoverflow.com/users/1156452/thatjeffsmith"}, "edited": false, "score": 0, "creation_date": 1452272693, "post_id": 34682156, "comment_id": 57110589, "body": "installing Oracle CAN be easy. it can be automated even. just a thought"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1452273242, "post_id": 34682156, "comment_id": 57110917, "body": "The proper solution would be to use ODBC everywhere"}, {"owner": {"reputation": 13846, "user_id": 534120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158e869755ccc8a90ec22d4c630ec1b6?s=128&d=identicon&r=PG", "display_name": "tbone", "link": "https://stackoverflow.com/users/534120/tbone"}, "edited": false, "score": 2, "creation_date": 1452281173, "post_id": 34682156, "comment_id": 57115393, "body": "wouldn&#39;t you want your dev environment to be as similar to the prod environment as possible?  Seems like a big mistake even if it was possible.  Find out why setting up an Oracle dev instance is difficult and work through those issues imo."}, {"owner": {"reputation": 3111, "user_id": 995018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZmuGq.jpg?s=128&g=1", "display_name": "Bjarte Brandt", "link": "https://stackoverflow.com/users/995018/bjarte-brandt"}, "edited": false, "score": 0, "creation_date": 1452281955, "post_id": 34682156, "comment_id": 57115861, "body": "I opt for VirtualBox and Vagrant. Have your dev database available in a matter of minutes. Scratch it - create new - load data - just by one command. These tools make your dev life easy."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1452309993, "post_id": 34682156, "comment_id": 57125202, "body": "For what it&#39;s worth, PostgreSQL is <b>similar</b> to Oracle in a good bit of syntax and functionality, especially if you compare it to something like Sybase or SQL Server.  That said, I ditto what Dmitry said."}], "answers": [{"comments": [{"owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 0, "creation_date": 1452279067, "post_id": 34682398, "comment_id": 57114263, "body": "Don&#39;t you just love compatibility? ;P"}, {"owner": {"reputation": 5347, "user_id": 2141278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hf1bi.jpg?s=128&g=1", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/2141278/dmitriy"}, "reply_to_user": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 0, "creation_date": 1452284501, "post_id": 34682398, "comment_id": 57117200, "body": "@dsm No, I just love Oracle ;) To run queries everywhere they have to be compatible with every DBMS. If author of the question is ready to throw away all features that Oracle has, then he just don&#39;t need Oracle."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 1, "creation_date": 1452309933, "post_id": 34682398, "comment_id": 57125188, "body": "Date/Time functions also seem to be different between the various DBMSs.  Also, Oracle has a very unique update command, in my opinion, which is vastly different if you can use the PK versus if you cannot and have to enter that extra <code>exists</code> clause that matches the join."}], "tags": [], "owner": {"reputation": 5347, "user_id": 2141278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hf1bi.jpg?s=128&g=1", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/2141278/dmitriy"}, "is_accepted": false, "score": 3, "last_activity_date": 1452272875, "creation_date": 1452272875, "answer_id": 34682398, "question_id": 34682156, "link": "https://stackoverflow.com/questions/34682156/is-there-any-abstraction-layer-which-makes-a-database-look-like-oracle/34682398#34682398", "title": "Is there any abstraction layer which makes a database look like Oracle?", "body": "<p>It is impossible. Other database engines can't process Oracle queries. Simplest query in Oracle, for example, if you want to get name of a current user:</p>\n\n<pre><code>select user from dual\n</code></pre>\n\n<p>This query uses <code>DUAL</code> table, which is not present in any other DBMS. There is also a lot of Oracle-specific constructions (<code>CONNECT BY</code>, <code>MINUS</code>, etc.) which couldn't be processed in other engines.<br>\nThe best way in your situation would be to create one Oracle installation in a virtual machine, and then copy it's image to another virtual machines for work.</p>\n"}, {"tags": [], "owner": {"reputation": 779, "user_id": 906886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0sY0h.jpg?s=128&g=1", "display_name": "Tai Paul", "link": "https://stackoverflow.com/users/906886/tai-paul"}, "is_accepted": false, "score": 1, "last_activity_date": 1453268677, "creation_date": 1453268677, "answer_id": 34892386, "question_id": 34682156, "link": "https://stackoverflow.com/questions/34682156/is-there-any-abstraction-layer-which-makes-a-database-look-like-oracle/34892386#34892386", "title": "Is there any abstraction layer which makes a database look like Oracle?", "body": "<p>The ANSI SQL is the abstraction layer you are referring to.</p>\n\n<p>Assuming that all the tables exist in the target database and the RDBMS supports ANSI SQL then your query will transport to that other database flawlessly.</p>\n\n<p>If you are looking to use something that is not defined in the standard, then it is unlikely to work correctly.</p>\n\n<p>This is a link to the <a href=\"http://docs.oracle.com/cd/E11882_01/server.112/e41084/ap_standard_sql.htm#SQLRF019\" rel=\"nofollow\">Oracle 11.2G position</a> on the standard.</p>\n\n<p>While talking about Oracle, their solution to the problem is to offer <a href=\"http://www.oracle.com/technetwork/database/gateways/gateways-fov-133149.pdf\" rel=\"nofollow\">Oracle Database Gateways</a>.</p>\n"}], "owner": {"reputation": 2776, "user_id": 137948, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/69ede0d2d1b8ef65b841c031a7bac2e5?s=128&d=identicon&r=PG", "display_name": "Will Sheppard", "link": "https://stackoverflow.com/users/137948/will-sheppard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1453268677, "creation_date": 1452272052, "question_id": 34682156, "link": "https://stackoverflow.com/questions/34682156/is-there-any-abstraction-layer-which-makes-a-database-look-like-oracle", "title": "Is there any abstraction layer which makes a database look like Oracle?", "body": "<p>We use Oracle in production, but in our company it's difficult to install in development environments.</p>\n\n<p>Is there a way to let Perl (or any other language) send raw SQL statements via the DBI module (or the equivalent module for any other language to send SQL commands to a database) which are translated from Oracle SQL into MySQL or SQLite or something else?</p>\n\n<p>So the application would think it was talking to Oracle but actually be talking to a different, easier to install, open source/free database.</p>\n"}, {"tags": ["perl", "cpan", "perlbrew"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1452268837, "post_id": 34681074, "comment_id": 57107837, "body": "What does <code>which cpan</code> output?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1452269336, "post_id": 34681074, "comment_id": 57108208, "body": "What&#39;s the output of <code>set | grep ^PERL</code>, and what&#39;s the output of <code>echo &#39;o conf&#39; | cpan | grep &#39;make_\\|mbuild_&#39;</code>?"}, {"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452272079, "post_id": 34681074, "comment_id": 57110177, "body": "@ThisSuitIsBlackNot the answer is ~/perl5/perlbrew/perls/perl-5.10.1/bin/cpan.  However, I seem to have found a proper fix as mentioned in my edit.  I&#39;ll likely live this open for a few hours just so those that started to answer can see that I found a fix, and/or complain if it&#39;s a stupid fix before either closing it or self answering if no one else answers.  If you or ikegami wish to get credit for putting some effort into answering my question either is welcome to post an answer either repeating my fix or potentially pointing out any flaw in my fix and I&#39;ll select it to give you credit"}, {"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1452272325, "post_id": 34681074, "comment_id": 57110338, "body": "@ikegami nothing returns for the second.  quite a few variables are set for the first, However, I seem to have found a proper fix as mentioned in my edit. As I said in my above comment, I&#39;ll self answer in a little while possible, but wanted to give you a chance to jump in with an answer to get credit first if you were interested :)"}], "answers": [{"comments": [{"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 0, "creation_date": 1452273286, "post_id": 34682310, "comment_id": 57110953, "body": "you are right, it seems it was over configured.  Not sure how that happened, but given the insanity I was going through with systems at the time I configured this I&#39;m not too sure.  I&#39;m afraid I can&#39;t give the full content of the set command since the system I&#39;m configuring isn&#39;t currently able to connect to internet (long story) so it&#39;s a little difficult to copy long messages over; but removing the changes do seem to work fine thank you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "edited": false, "score": 0, "creation_date": 1452273640, "post_id": 34682310, "comment_id": 57111162, "body": "I&#39;m particularly interested in <code>PERL_MM_OPT</code> (should probably be blank), <code>PERL_MB_OPT</code> (should probably be blank), <code>PERL5LIB</code> (already provided; should be blank), <code>PERLLIB</code> (likely blank; should be blank) and <code>PERL5OPT</code> (likely blank; should probably be blank). I&#39;m specifically disinterested in any <code>PERLBREW_*</code> variables."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1452272912, "last_edit_date": 1452272912, "creation_date": 1452272544, "answer_id": 34682310, "question_id": 34681074, "link": "https://stackoverflow.com/questions/34681074/syncing-perlbrew-and-cpan-install-locations/34682310#34682310", "title": "syncing perlbrew and cpan install locations", "body": "<p>Two problems.</p>\n\n<ol>\n<li><p>Your CPAN is partially configured overriding the location at which it should install modules. Remove this override by clearing <code>makepl_arg</code>.</p>\n\n<p>From within <code>cpan</code>:</p>\n\n<pre><code>o conf makepl_arg \"\"\no conf commit\n</code></pre>\n\n<p>From <code>sh</code>:</p>\n\n<pre><code>echo -e -n 'o conf makepl_arg \"\"\\no conf commit\\n' | cpan\n</code></pre></li>\n<li><p>Your <code>PERL5LIB</code> is telling your <code>perl</code> to look for modules where it shouldn't. Unset it by removing the instruction that sets it in <code>~/.bashrc</code>.</p></li>\n</ol>\n\n<p>You may have other problems, but we'd need to know the output of the following <code>sh</code> command to know for sure:</p>\n\n<pre><code>set | grep ^PERL ; echo 'o conf' | cpan | grep 'makepl_\\|make_\\|mbuild_'\n</code></pre>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 34682310, "answer_count": 1, "score": 0, "last_activity_date": 1452272912, "creation_date": 1452268643, "last_edit_date": 1452271992, "question_id": 34681074, "link": "https://stackoverflow.com/questions/34681074/syncing-perlbrew-and-cpan-install-locations", "title": "syncing perlbrew and cpan install locations", "body": "<p>I'm using perlbrew to run a local perl in my home directory, and cpan to install new modules.  However, I seem to have something configured wrong.  When I use cpan it always installs libraries to the ~/perl directory, but my perlbrew is located in ~/perl5 directory.  This is causing some issue with creating appropriate PERL5LIB directory, rather I should include perl or perl5 libs and in what order.  I seem to keep running into chicken and the egg problem where including either first results in loading a wrong module or complaints about the wrong version used.  Specifically it complains that the 5.8.8 perl version (first I installed before deciding to upgrade to a slightly-less-ancient version, and still the version of /bin/perl) conflicts with the 10.1 libraries I'm using.</p>\n\n<p>I figure this can likely be fixed by updating configuration files, but I'm not sure what to change.  I look at my cpan config.pm and I don't see anything defining installation direction, in fact I'm not sure how cpan knows to install locally rather then trying to install to the global cpan directory.</p>\n\n<p>Can anyone point me to the appropriate configuration values I need to change to get cpan to update my perlbrew library, rather then getting two separate libraries?</p>\n\n<p>Edit</p>\n\n<p>Okay I'm very blind.  The answer was right in my configuration file at ~/.cpan/CPAN/MyConfig.pm.  I swear I looked at the file a few times, even doing a search for the word perl to hunt down any line that may point to my ~/perl directory, and yet somehow missed the blindingly obvious configuration option I was looking for...not sure how.</p>\n\n<p>Anyways, once I saw it I just had to change where it pointed, which took a little trial in error.  I changed this line:</p>\n\n<pre><code>'makepl_arg' =&gt; q[PREFIX=~/perl],\n</code></pre>\n\n<p>to </p>\n\n<pre><code>'makepl_arg' =&gt; q[PREFIX=~/perl5/perlbrew/perls/perl-5.10.1/],\n</code></pre>\n\n<p>which of course is the location of the perl version I'm using for perlbrew.  This appears to fix my problem, and should have been easy if I wasn't blind.</p>\n\n<p>I do have one annoyance, I have both this line and my PERL5LIB variables, set in ~/.bashrc, effectively hard coded to point to the perl-5.10.1 version of perllib, meaning if I decide to switch to another perl version I would need to update both references or have issues again.  I'm not sure how to make cpan, or my PERL5Lib for that matter, know to infer which version of perl from the perls directory it should use.  That's not too big of a problem to me, I don't think I'll be allowed to upgrade past 5.10.1 (even though I want to) so it's unlikely I'll ever change this value.  Otherwise it works fine now.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 0, "creation_date": 1452263244, "post_id": 34677967, "comment_id": 57103822, "body": "In the given case, you could easily match against line start/end <code>$$</code> and the solution is trivial. In turn, in the general case, you are up against an <i>irregular</i> language that cannot be parsed with regex. But, Perl&#39;s regular expression allows you to do such a thing by its <i>extensions</i>. Look <a href=\"http://stackoverflow.com/a/2595382/1529709\">here</a> for an example how you could, <b>but probably not should</b>, do it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1452267260, "post_id": 34677967, "comment_id": 57106757, "body": "You are saying <code>qw&#47;&#47;</code>, which is <i>quoted words</i>. You probably meant <code>qr&#47;&#47;</code>. In this case it will work anyway because there is only one word in the list, and for that reason it assigns that <i>word</i> to <code>$CurBrLoopMany</code>, which in turn can be put as a string containing unescaped meta characters into the <code>s&#47;&#47;&#47;</code>. So you&#39;re fine. But still, it&#39;s wrong. You want <code>qr&#47;&#47;</code>. :)"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 5809274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A4FQk.png?s=128&g=1", "display_name": "Cyril CCT", "link": "https://stackoverflow.com/users/5809274/cyril-cct"}, "is_accepted": true, "score": 1, "last_activity_date": 1453197978, "creation_date": 1453197978, "answer_id": 34873845, "question_id": 34677967, "link": "https://stackoverflow.com/questions/34677967/regex-need-for-the-nested-curly-braces-perl/34873845#34873845", "title": "Regex need for the nested curly braces - Perl", "body": "<p><br></p>\n\n<p>Your regexp to search braces <code>{}</code> need <b>one level deeper</b>.<br>\nYou don't need <b>the first global parenthesis</b> <code>()</code>.<br>\nAt last, like <i>\"simbabque\"</i> say it in its comment, you must use <code>qr//</code> code instead of <code>qw//</code> code to define a regexp or a piece of regexp.<br></p>\n\n<p>So you must change your variable like this :</p>\n\n<pre><code>my $CurBrLoopMany = qr/(?:[^{}]*(?:{(?:[^{}]*(?:{(?:[^{}]*(?:{[^{}]*})*[^{}]*)})*[^{}]*)*})*[^{}]*)*/;\n</code></pre>\n\n<p>I tried it with success :</p>\n\n<pre><code>&gt; cat test\n#!/usr/bin/perl -w\nuse strict;\nmy $inxmlstr = '$$\\eqalign{&amp;amp;\\cases{\\mathdot{\\bf x}=A{\\bf x}+Bu\\cr y=H{\\bf x}}\\quad{\\rm with}\\ {\\bf x}=\\left(\\matrix{x\\cr\\mathdot{x}\\cr\\theta\\cr\\mathdot{\\theta}}\\right),\\cr&amp;amp;A\\!=\\!\\!\\left(\\matrix{0&amp;amp;1&amp;amp;0&amp;amp;0\\cr 0&amp;amp;0&amp;amp;-{m_{a}\\over M}g&amp;amp;0\\cr 0&amp;amp;0&amp;amp;0&amp;amp;1\\cr 0&amp;amp;0&amp;amp;{(M\\!+\\!m_{a})\\over Ml}g&amp;amp;0}\\right)\\!,\\ B\\!=\\!\\left(\\matrix{0\\cr{a\\over M}\\cr 0\\cr-{a\\over Ml}}\\right)\\!,\\ H^{T}\\!=\\!\\left(\\matrix{1\\cr 0\\cr 1\\cr 0}\\right)\\!.}$$';\nprint \"BEFORE:      $inxmlstr\\n\";\nmy $CurBrLoopMany = qr/(?:[^{}]*(?:{(?:[^{}]*(?:{(?:[^{}]*(?:{[^{}]*})*[^{}]*)})*[^{}]*)*})*[^{}]*)*/;\n$inxmlstr =~ s/\\\\eqalign\\{($CurBrLoopMany)\\}/\\\\begin{align*}$1\\\\end\\{align*}/gs;\nprint \"AFTER : $inxmlstr\\n\";\n\n&gt; ./test\nBEFORE:      $$\\eqalign{&amp;amp;\\cases{\\mathdot{\\bf x}=A{\\bf x}+Bu\\cr y=H{\\bf x}}\\quad{\\rm with}\\ {\\bf x}=\\left(\\matrix{x\\cr\\mathdot{x}\\cr\\theta\\cr\\mathdot{\\theta}}\\right),\\cr&amp;amp;A\\!=\\!\\!\\left(\\matrix{0&amp;amp;1&amp;amp;0&amp;amp;0\\cr 0&amp;amp;0&amp;amp;-{m_{a}\\over M}g&amp;amp;0\\cr 0&amp;amp;0&amp;amp;0&amp;amp;1\\cr 0&amp;amp;0&amp;amp;{(M\\!+\\!m_{a})\\over Ml}g&amp;amp;0}\\right)\\!,\\ B\\!=\\!\\left(\\matrix{0\\cr{a\\over M}\\cr 0\\cr-{a\\over Ml}}\\right)\\!,\\ H^{T}\\!=\\!\\left(\\matrix{1\\cr 0\\cr 1\\cr 0}\\right)\\!.}$$\nAFTER : $$\\begin{align*}&amp;amp;\\cases{\\mathdot{\\bf x}=A{\\bf x}+Bu\\cr y=H{\\bf x}}\\quad{\\rm with}\\ {\\bf x}=\\left(\\matrix{x\\cr\\mathdot{x}\\cr\\theta\\cr\\mathdot{\\theta}}\\right),\\cr&amp;amp;A\\!=\\!\\!\\left(\\matrix{0&amp;amp;1&amp;amp;0&amp;amp;0\\cr 0&amp;amp;0&amp;amp;-{m_{a}\\over M}g&amp;amp;0\\cr 0&amp;amp;0&amp;amp;0&amp;amp;1\\cr 0&amp;amp;0&amp;amp;{(M\\!+\\!m_{a})\\over Ml}g&amp;amp;0}\\right)\\!,\\ B\\!=\\!\\left(\\matrix{0\\cr{a\\over M}\\cr 0\\cr-{a\\over Ml}}\\right)\\!,\\ H^{T}\\!=\\!\\left(\\matrix{1\\cr 0\\cr 1\\cr 0}\\right)\\!.\\end{align*}$$\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 34873845, "answer_count": 1, "score": 0, "last_activity_date": 1453197978, "creation_date": 1452258757, "question_id": 34677967, "link": "https://stackoverflow.com/questions/34677967/regex-need-for-the-nested-curly-braces-perl", "title": "Regex need for the nested curly braces - Perl", "body": "<p>I want to replace the \\eqalign{...} into \\begin{align*} ... \\endalign*} for the below text:</p>\n\n<pre><code>$$\\eqalign{&amp;amp;\\cases{\\mathdot{\\bf x}=A{\\bf x}+Bu\\cr y=H{\\bf x}}\\quad{\\rm with}\\ {\\bf x}=\\left(\\matrix{x\\cr\\mathdot{x}\\cr\\theta\\cr\\mathdot{\\theta}}\\right),\\cr&amp;amp;A\\!=\\!\\!\\left(\\matrix{0&amp;amp;1&amp;amp;0&amp;amp;0\\cr 0&amp;amp;0&amp;amp;-{m_{a}\\over M}g&amp;amp;0\\cr 0&amp;amp;0&amp;amp;0&amp;amp;1\\cr 0&amp;amp;0&amp;amp;{(M\\!+\\!m_{a})\\over Ml}g&amp;amp;0}\\right)\\!,\\ B\\!=\\!\\left(\\matrix{0\\cr{a\\over M}\\cr 0\\cr-{a\\over Ml}}\\right)\\!,\\ H^{T}\\!=\\!\\left(\\matrix{1\\cr 0\\cr 1\\cr 0}\\right)\\!.}$$\n</code></pre>\n\n<p>Perl Coding</p>\n\n<pre><code>my $CurBrLoopMany = qw/((?:[^{}]*(?:{(?:[^{}]*(?:{[^{}]*})*[^{}]*)*})*[^{}]*)*)/;\n\n$inxmlstr=~s/\\\\eqalign\\{($CurBrLoopMany)\\}/\\\\begin{align*}$1\\\\end\\{align*}/gs;\n</code></pre>\n\n<p>However I couldn't able to replace the nested list of braces (square,curly,parenthesis).</p>\n\n<p>Anyone could you please?</p>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1452257311, "post_id": 34677473, "comment_id": 57099913, "body": "It looks like you have assembled this program by copy/pasting from various sources. Do you understand what&#39;s going on in there? Please <a href=\"https://stackoverflow.com/posts/34677473/edit\">edit</a> the question and indent your code properly. Also, please always <code>use strict</code> and <code>use warnings</code> in code that you post on SO (and also when you try to run it on your machine, obviously)."}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452257735, "post_id": 34677473, "comment_id": 57100197, "body": "this is my code and the problem is it when i pass the paramter $b in the subroutine my_handle($fh,$b);, it only work one time so the subroutine show one word and not all the word that correspond to the paramter $b"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1452258081, "post_id": 34677473, "comment_id": 57100417, "body": "Here&#39;s why I think you did not completely write this: you don&#39;t have <code>strict</code> or <code>warnings</code>, but you have <code>autodie</code>. Still, you have <code>die</code> on one of your <code>open</code>s. You are using a lexical filehandle with 3-argument-open for one file, and a glob and 2-arg-open for the other, and one <code>close</code> has parens while the other does not. I think you added some of the glue in between yourself, because you have <code>@a[$i]</code>, which <code>strict</code> would have complained about as the sigil is wrong. It should be <code>$a[$i]</code> because what is inside of the array <code>@a</code> in position <code>$i</code> is scalar, not an array. ..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1452258188, "post_id": 34677473, "comment_id": 57100501, "body": "...  Also <code>$b</code> is reserved and should not be used as it is intended for use inside of a <code>sort</code> block. However, we can try to solve your question. But first, please indent it properly. You can <a href=\"https://stackoverflow.com/posts/34677473/edit\">edit</a> the question. Then explain how it is supposed to work, as this code is not doing what you describe in the question. Also, please add at least one more line for the lookup file, and an example of the second input file."}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452261003, "post_id": 34677473, "comment_id": 57102362, "body": "@simbabque: i edited the question :)"}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "edited": false, "score": 0, "creation_date": 1452267704, "post_id": 34679404, "comment_id": 57107018, "body": "this code work well, just reverse F1 and F2, and the code has warning use of unintialized value $word[0] in hash element"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "edited": false, "score": 0, "creation_date": 1452268424, "post_id": 34679404, "comment_id": 57107531, "body": "@ChediBechikh: It&#39;s just a warning. Probably coming from empty lines in the file?"}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "edited": false, "score": 0, "creation_date": 1452268634, "post_id": 34679404, "comment_id": 57107691, "body": "you are right, can you epain to me why i find problem with my code, only the first word is terated"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "edited": false, "score": 0, "creation_date": 1452270278, "post_id": 34679404, "comment_id": 57108946, "body": "@ChediBechikh: I don&#39;t understand your code. Maybe you exhaust $fh in the first run and there&#39;s nothing else to read from the file?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1452263371, "creation_date": 1452263371, "answer_id": 34679404, "question_id": 34677473, "link": "https://stackoverflow.com/questions/34677473/passing-a-paramter-into-a-loop-perl-using-a-subroutine/34679404#34679404", "title": "passing a paramter into a loop perl using a subroutine", "body": "<p>The common approach to similar problems is to hash the \"dictionary\" first, than iterate over the second file and search for replacements in the hash table:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $fich_in = '4.con';\nmy $fich_nom = 'ats_dict.txt';\n\nopen my $F1, '&lt;', $fich_in  or die \"Probl\u00e8me d'ouverture $fich_in : $!\";\nopen my $F2, '&lt;', $fich_nom or die \"Probl\u00e8me d'ouverture $fich_nom : $!\";;\n\nmy %to_word;\nwhile (&lt;$F1&gt;) {\n    my ($word, $code) = split;\n    $to_word{$code} = $word;\n}\n\nwhile (&lt;$F2&gt;) {\n    my ($number_string, $final_num) = split / - /;\n    my @words = split ' ', $number_string;\n    $words[0] = $to_word{ $words[0] } || $words[0];\n    print \"@words - $final_num\";\n}\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 34679404, "answer_count": 1, "score": 1, "last_activity_date": 1452263371, "creation_date": 1452257117, "last_edit_date": 1452259775, "question_id": 34677473, "link": "https://stackoverflow.com/questions/34677473/passing-a-paramter-into-a-loop-perl-using-a-subroutine", "title": "passing a paramter into a loop perl using a subroutine", "body": "<p>i want to read a file1 that containfor every word a numeric reprsentation, for example:</p>\n\n<pre><code>clinton 279\ncapital 553\nfond|fonds 1410\n</code></pre>\n\n<p>I read a second file, every time i find a number i replace it with the corresponding word. above an example of second file</p>\n\n<pre><code>279 695 696 152 - 574\n553 95 74 96 - 444\n1410 74 95 96 - 447\n</code></pre>\n\n<p>The problem in my code is that it execute the subroutine only one time. and it only show:</p>\n\n<pre><code>279 clinton\n</code></pre>\n\n<p>normally in this example it should show 3 words, when i add print $b; in the subrtoutine it show the different numbers.</p>\n\n<pre><code>#!/usr/bin/perl\nuse stricrt;\nuse warnings;\nuse autodie;\n\nmy @a,my $i,my $k;\nmy $j;\n\nmy $fich_in = \"C:\\\\charm\\\\ats\\\\4.con\";\nmy $fich_nom = \"C:\\\\charm\\\\ats\\\\ats_dict.txt\";\n\n\nopen(FICH1, \"&lt;$fich_in\")|| die \"Probl\u00e8me d'ouverture : $!\";\nopen my $fh, '&lt;', $fich_nom;\n\n#here i put the file into a table\n\nwhile (&lt;FICH1&gt;) {\nmy $ligne=$_;\nchomp $ligne; \n\n\nmy @numb=split(/-/,$ligne);\nmy $b=$numb[0];\n    $k=$#uniq+1;\n    print   \"$b\\n\";\n     my_handle($fh,$b);\n}\n\nsub my_handle {\n    my ($handle,$b) = @_;\n    my $content = '';\n#print \"$b\\n\";\n\n    ## or line wise\n    while (my $line = &lt;$handle&gt;){\n    my @liste2=split(/\\s/,$line);\nif($liste2[1]==$b){\n        $i=$liste2[0];\n            print \"$b $i\";}\n        }\nreturn $i;\n}\n\n\n    close $fh;\n    close(FIC1);\n</code></pre>\n"}, {"tags": ["regex", "linux", "perl"], "comments": [{"owner": {"reputation": 4225, "user_id": 2198470, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96cad411a2ee0df41dd85434bbfd268f?s=128&d=identicon&r=PG", "display_name": "thst", "link": "https://stackoverflow.com/users/2198470/thst"}, "edited": false, "score": 1, "creation_date": 1452255252, "post_id": 34676827, "comment_id": 57098540, "body": "you added a <code>use 5.010;</code> in your code to activate smart matching functionality?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1452255731, "post_id": 34676827, "comment_id": 57098836, "body": "I think we need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to diagnose this."}, {"owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "edited": false, "score": 0, "creation_date": 1452255759, "post_id": 34676827, "comment_id": 57098854, "body": "No, I havent. I didnt add anything like that."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1452257026, "post_id": 34676827, "comment_id": 57099728, "body": "Put your common.pm on pastebin (or something like that) and I might be able to answer your question"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1452273879, "post_id": 34676827, "comment_id": 57111321, "body": "Only do what @GeorgMavridis suggested if you want your question to get flagged for being off-topic. <i>Questions seeking debugging help must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it <b>in the question itself</b>.</i>"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "edited": false, "score": 0, "creation_date": 1452267168, "post_id": 34677579, "comment_id": 57106701, "body": "Hey, I am sorry that was a typo I made in the stackoverflow. The code is correct in my script"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "edited": false, "score": 0, "creation_date": 1452269758, "post_id": 34677579, "comment_id": 57108543, "body": "@Imran, Missing semi-colons will produce errors like that.  Check the lines above the error line for missing semi-colons.  If you want better help, please post the 3 lines after the error message line as well as the 3 lines preceding it.  The error message mentions a variable that doesn&#39;t even appear in the code you posted."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 4, "last_activity_date": 1452258366, "last_edit_date": 1452258366, "creation_date": 1452257494, "answer_id": 34677579, "question_id": 34676827, "link": "https://stackoverflow.com/questions/34676827/perl-smart-matching-error/34677579#34677579", "title": "Perl Smart Matching Error", "body": "<p>Error here:</p>\n\n<pre><code>if (ref($aActivityErrorStrings) eq \"ARRAY\"\n    &amp;&amp; $sChompedOutput ~~ @$aActivityErrorStrings))\n                                                 ^\n                                                 |\n</code></pre>\n\n<p>You've got an extra closing parenthesis.  Here's proof that your code can work:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse 5.020;\n\n\nmy $aActivityErrorStrings = [\n    \"Error1\",\n    \"Error2\",\n];\n\nmy $sChompedOutput = \"Error1\";\n\nif (ref($aActivityErrorStrings) eq \"ARRAY\" \n    &amp;&amp; $sChompedOutput ~~ @$aActivityErrorStrings) {\n    say 'yes'\n}\n\nsay \"@$aActivityErrorStrings\";\n\n--output:--\nSmartmatch is experimental at 1.pl line 14.\nyes\nError1 Error2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4225, "user_id": 2198470, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96cad411a2ee0df41dd85434bbfd268f?s=128&d=identicon&r=PG", "display_name": "thst", "link": "https://stackoverflow.com/users/2198470/thst"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1452297350, "post_id": 34685949, "comment_id": 57122743, "body": "He says <code>Global symbol &lt;symbol&gt; requires explicit package name</code> I suspect that the error message&#39;s <code>&lt;symbol&gt;</code> is to be replaced by a symbol name."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1452297553, "post_id": 34685949, "comment_id": 57122789, "body": "The code <code>$x = 3  print $x;</code> will also produce that error--as already mentioned in the comments. But that isn&#39;t the op&#39;s code."}], "tags": [], "owner": {"reputation": 4225, "user_id": 2198470, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96cad411a2ee0df41dd85434bbfd268f?s=128&d=identicon&r=PG", "display_name": "thst", "link": "https://stackoverflow.com/users/2198470/thst"}, "is_accepted": false, "score": 1, "last_activity_date": 1452286738, "creation_date": 1452286738, "answer_id": 34685949, "question_id": 34676827, "link": "https://stackoverflow.com/questions/34676827/perl-smart-matching-error/34685949#34685949", "title": "Perl Smart Matching Error", "body": "<p>The error </p>\n\n<pre><code>Global symbol \"$sChompedOutput\" requires explicit package name at ...\n</code></pre>\n\n<p>pops up, if you have <code>$sChompedOutput</code> undefined. </p>\n\n<p>The following code produces this error:</p>\n\n<pre><code>my $aActivityErrorStrings = [\"mumu\", \"Bubu\", \"hello\"];\n#my $sChompedOutput = \"hello\";\n\nif (ref($aActivityErrorStrings) eq \"ARRAY\" &amp;&amp; $sChompedOutput ~~ @$aActivityErrorStrings) {\n    print \"have hello\";\n}\n</code></pre>\n\n<p>if you remove the comment before <code>#my $sChomped...</code> the error goes away.</p>\n"}], "owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1453384730, "creation_date": 1452255000, "last_edit_date": 1453384730, "question_id": 34676827, "link": "https://stackoverflow.com/questions/34676827/perl-smart-matching-error", "title": "Perl Smart Matching Error", "body": "<p>I am getting a lot of <code>Global symbol &lt;symbol&gt; requires explicit package name</code> errors in my code, immediately after the line of code where I have used smart matching. All of those global variables are defined and code worked before using smart matching.</p>\n\n<pre><code>if (ref($aActivityErrorStrings) eq \"ARRAY\" &amp;&amp; $sChompedOutput ~~ @$aActivityErrorStrings)\n</code></pre>\n\n<p>The first line of error gives me a hint that there is something wrong with my usage of smart matching. Error line is</p>\n\n<pre><code>Status message: Failed: syntax error at common.pm line 320, near \"$sChompedOutput ~\" Global symbol \"$rOutput\" requires explicit package name\n</code></pre>\n\n<p>my Perl version is 5.12</p>\n\n<p>Can someone please tell me what is wrong with smart matching?</p>\n\n<hr>\n\n<p>My mistake guys. User of this code was running it on a device which had Perl version 5.8.</p>\n\n<p>Thank you for all the feedbacks. Much appriciated.</p>\n"}, {"tags": ["mysql", "perl", "ssl"], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 1, "last_activity_date": 1452273003, "creation_date": 1452273003, "answer_id": 34682429, "question_id": 34676502, "link": "https://stackoverflow.com/questions/34676502/perl-connect-to-remote-database-ssl-error/34682429#34682429", "title": "Perl: Connect to remote database SSL error", "body": "<p><a href=\"https://metacpan.org/pod/DBD::mysql#mysql_ssl\" rel=\"nofollow\"><code>mysql_ssl</code></a> is not a handle attribute. If you try to use it like one, it's ignored, which you can see by turning on tracing:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse DBI;\n\nDBI-&gt;trace('1|CON');\n\nmy $dsn = 'DBI:mysql:test';\nmy $dbh = DBI-&gt;connect($dsn, 'foo', '', {\n    PrintError =&gt; 0,\n    RaiseError =&gt; 1,\n    mysql_ssl  =&gt; 0  # equivalent to $dbh-&gt;{mysql_ssl} = 0\n});\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>    DBI 1.627-ithread default trace level set to 0x200/1 (pid 30834 pi 1d0e010) at db line 8\n    -&gt; DBI-&gt;connect(DBI:mysql:test, foo, ****, HASH(0x1d3b550))\n    -&gt; DBI-&gt;install_driver(mysql) for linux perl=5.016003 pid=30834 ruid=12011 euid=12011\n       install_driver: DBD::mysql version 4.023 loaded from /usr/lib64/perl5/vendor_perl/DBD/mysql.pm\n    &lt;- install_driver= DBI::dr=HASH(0x1e33a10)\n    !! warn: 0 CLEARED by call to connect method\n    -&gt; connect for DBD::mysql::dr (DBI::dr=HASH(0x1e33a10)~0x1e33bf0 'test' 'foo' **** HASH(0x1e4d808)) thr#1d0e010\n    &lt;- connect= ( DBI::db=HASH(0x1f65fe0) ) [1 items] at DBI.pm line 670\n    &lt;- STORE('RaiseError', 1)= ( 1 ) [1 items] at DBI.pm line 722\n    &lt;- STORE('PrintError', 0)= ( 1 ) [1 items] at DBI.pm line 722\n    &lt;- STORE('AutoCommit', 1)= ( 1 ) [1 items] at DBI.pm line 722\n    &lt;- STORE('Username', 'foo')= ( 1 ) [1 items] at DBI.pm line 725\n$h-&gt;{'mysql_ssl'}=0 ignored for invalid driver-specific attribute\n</code></pre>\n\n<p>Instead, add it to the DSN:</p>\n\n<pre><code>my $dsn = 'DBI:mysql:test;mysql_ssl=0';\nmy $dbh = DBI-&gt;connect($dsn, 'foo', '', {\n    PrintError =&gt; 0,\n    RaiseError =&gt; 1\n});\n</code></pre>\n\n<p>Depending on the server configuration, you may still have issues (like if the server is configured to require SSL).</p>\n"}], "owner": {"reputation": 3875, "user_id": 216763, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/42c59d1498dcfa2a74b0d244b6171047?s=128&d=identicon&r=PG", "display_name": "logic-unit", "link": "https://stackoverflow.com/users/216763/logic-unit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 34682429, "answer_count": 1, "score": 1, "last_activity_date": 1452273003, "creation_date": 1452253933, "question_id": 34676502, "link": "https://stackoverflow.com/questions/34676502/perl-connect-to-remote-database-ssl-error", "title": "Perl: Connect to remote database SSL error", "body": "<p>I'm trying to run a Perl script that connects to a remote MySQL database. I have MySQL installed locally on OSX via Homebrew. </p>\n\n<p>This is the error:</p>\n\n<pre><code>DBI connect('database connection details') failed: SSL connection error: error:00000001:lib(0):func(0):reason(1)\n</code></pre>\n\n<p>How can I resolve this error, or get Perl to ignore SSL?</p>\n\n<p>I've tried adding mysql_ssl=0, but the error still occurs.</p>\n\n<p>Code:</p>\n\n<pre><code># PERL MYSQL CONNECT()\n$dbh = DBI-&gt;connect(\"DBI:mysql:database=$db;host=$host\", $user, $password, {RaiseError =&gt; 1});\n$dbh-&gt;{'mysql_enable_utf8'} = 1;\n$dbh-&gt;{'mysql_ssl'} = 0;\n</code></pre>\n"}, {"tags": ["perl", "web-services", "rest", "soap", "otrs"], "answers": [{"comments": [{"owner": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "edited": false, "score": 0, "creation_date": 1452488907, "post_id": 34677873, "comment_id": 57175270, "body": "Hi Artjoman, i found out LinkObject.pm(/otrs/Kernel/System) is already present with the exact same file content. i created GenericInterfaceLinkObjectConnector.xml file,  but how to register This operations  and publish this please help me."}, {"owner": {"reputation": 256, "user_id": 2773063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B7Rpg.jpg?s=128&g=1", "display_name": "Artjoman", "link": "https://stackoverflow.com/users/2773063/artjoman"}, "reply_to_user": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "edited": false, "score": 0, "creation_date": 1452502876, "post_id": 34677873, "comment_id": 57180760, "body": "I updated my answer with detailed step by step guide how to provide LinkObject functionality with webservices"}, {"owner": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "edited": false, "score": 0, "creation_date": 1452582569, "post_id": 34677873, "comment_id": 57220930, "body": "Thanks Artjoman, I followed the steps you mention, after ticking GenericInterface::Operation::Module###LinkObject::LinkAdd i saved and copied the Kernel/GenericInterface/Operation/LinkObject/LinkAdd.pm file after that i went to Admin-&gt;WebServices in that Web Service List its not showing GenericInterfaceLinkObjectConnector. apart from that it showing other webServices which i imported using yml File."}, {"owner": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "edited": false, "score": 0, "creation_date": 1452582598, "post_id": 34677873, "comment_id": 57220939, "body": "I am Using OTRS 5.0 by the way"}, {"owner": {"reputation": 256, "user_id": 2773063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B7Rpg.jpg?s=128&g=1", "display_name": "Artjoman", "link": "https://stackoverflow.com/users/2773063/artjoman"}, "reply_to_user": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "edited": false, "score": 0, "creation_date": 1452602959, "post_id": 34677873, "comment_id": 57233648, "body": "Checked it on OTRS 3.3.8 and OTRS 4 Patch level 12.  Are you sure, you have added a tick in Admin and PRESSED Update? It is an important step to rewrite the config"}, {"owner": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "edited": false, "score": 0, "creation_date": 1452664344, "post_id": 34677873, "comment_id": 57263994, "body": "Yes I did <a href=\"https://drive.google.com/file/d/0B9Ly40bdM424UXZQSDN2LVUwTEE/view?usp=sharing\" rel=\"nofollow noreferrer\">Check Img</a>. And <a href=\"https://drive.google.com/file/d/0B9Ly40bdM424MU1QU1NLQzNmMEE/view?usp=sharing\" rel=\"nofollow noreferrer\">Web service List</a>. when is searched GenericInterface in sysconfig , i got 2 GenericInterface::Operation::ModuleRegistration with group GenericInterface another one GenericInterface::Operation::ModuleRegistration with group ITSM Configuration Management. but when i clicked  GenericInterface::Operation::ModuleRegistration with group GenericInterface that was present in thier and i ticked check box and update it"}, {"owner": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "edited": false, "score": 0, "creation_date": 1452685483, "post_id": 34677873, "comment_id": 57276574, "body": "i added new controller succesfully when i enabled debugger i got the above find Update #1"}, {"owner": {"reputation": 256, "user_id": 2773063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B7Rpg.jpg?s=128&g=1", "display_name": "Artjoman", "link": "https://stackoverflow.com/users/2773063/artjoman"}, "reply_to_user": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "edited": false, "score": 0, "creation_date": 1452701135, "post_id": 34677873, "comment_id": 57287691, "body": "Here comes the difference with OTRS 5 - I have updated the module for usage with OTRS 5, but I have no instance to test it, so if you wish - you can test it on your env."}, {"owner": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "edited": false, "score": 0, "creation_date": 1453199949, "post_id": 34677873, "comment_id": 57486986, "body": "i Tested it but coming Invalid **java.io.IOException: Invalid Http response ** when i run Java Client."}, {"owner": {"reputation": 856, "user_id": 2179887, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/518440e080019ee2f69428d8ad50028e?s=128&d=identicon&r=PG", "display_name": "a.j. tawleed", "link": "https://stackoverflow.com/users/2179887/a-j-tawleed"}, "edited": false, "score": 0, "creation_date": 1464949167, "post_id": 34677873, "comment_id": 62706571, "body": "Did you find a solution? I have the same problem."}, {"owner": {"reputation": 773, "user_id": 3675575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5olv6.png?s=128&g=1", "display_name": "luca76", "link": "https://stackoverflow.com/users/3675575/luca76"}, "edited": false, "score": 0, "creation_date": 1528724521, "post_id": 34677873, "comment_id": 88604187, "body": "Is it possible to limit TargetObject and/or SourceObject? I.e.  I want to create a new link from CustomerUser Config Item to a my custom class of config item..."}], "tags": [], "owner": {"reputation": 256, "user_id": 2773063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B7Rpg.jpg?s=128&g=1", "display_name": "Artjoman", "link": "https://stackoverflow.com/users/2773063/artjoman"}, "is_accepted": false, "score": 2, "last_activity_date": 1452701347, "last_edit_date": 1452701347, "creation_date": 1452258436, "answer_id": 34677873, "question_id": 34675372, "link": "https://stackoverflow.com/questions/34675372/how-to-link-get-config-item-to-a-ticket-through-webservice-soap-or-rest-in-o/34677873#34677873", "title": "How to Link / Get Config Item to a Ticket through Webservice (SOAP or REST) in OTRS", "body": "<p>Yes, the ticket can be linked to a configItem via a GUI and it can be done via a Webservice.</p>\n\n<p>First of all you should write a new Generic Interface Connector operation, which will handle method <strong>LinkAdd</strong> from <strong>LinkObject</strong> Class ( <a href=\"https://github.com/OTRS/otrs/blob/1e908159a5dbdcfb94cc35d13bf15b04ac3e6a24/Kernel/System/LinkObject.pm\" rel=\"nofollow noreferrer\">APIdoc</a> )</p>\n\n<p>Then create and register new operations via a new XML file, like this:</p>\n\n<p>FILE NAME: GenericInterfaceLinkObjectConnector.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;otrs_config version=\"1.0\" init=\"Application\"&gt;\n&lt;ConfigItem Name=\"GenericInterface::Operation::Module###LinkObject::LinkAdd\" Required=\"0\" Valid=\"1\"&gt;\n        &lt;Description Translatable=\"1\"&gt;GenericInterface module registration for the operation layer.&lt;/Description&gt;\n        &lt;Group&gt;GenericInterface&lt;/Group&gt;\n        &lt;SubGroup&gt;GenericInterface::Operation::ModuleRegistration&lt;/SubGroup&gt;\n        &lt;Setting&gt;\n            &lt;Hash&gt;\n                &lt;Item Key=\"Name\"&gt;LinkAdd&lt;/Item&gt;\n                &lt;Item Key=\"Controller\"&gt;LinkObject&lt;/Item&gt;\n                &lt;Item Key=\"ConfigDialog\"&gt;AdminGenericInterfaceOperationDefault&lt;/Item&gt;\n            &lt;/Hash&gt;\n        &lt;/Setting&gt;\n    &lt;/ConfigItem&gt;\n&lt;/otrs_config&gt;\n</code></pre>\n\n<p>After that you can publish a new provider WebService from OTRS GUI, where a newly created connector is used.</p>\n\n<p>Make sure, that you pass all the needed parameters for the method!!!</p>\n\n<pre><code> $True = $LinkObject-&gt;LinkAdd(\n    SourceObject =&gt; 'Ticket',\n    SourceKey    =&gt; '321',\n    TargetObject =&gt; 'FAQ',\n    TargetKey    =&gt; '5',\n    Type         =&gt; 'ParentChild',\n    State        =&gt; 'Valid',\n    UserID       =&gt; 1,\n);\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>Please read this <a href=\"https://otrs.github.io/doc/manual/admin/3.2/en/html/genericinterface.html\" rel=\"nofollow noreferrer\">Document</a> to understand how Generic Interface is built and then please add a new Connector ( LinkObject )</p>\n\n<p>To register the connector and its operation - place XML file in /Kernel/Config/Files/...</p>\n\n<p>Then go to Sysconfig -> GenericInterface -> GenericInterface::Operation::ModuleRegistration and set a tick next to the  GenericInterface::Operation::Module###LinkObject::LinkAdd and save changes</p>\n\n<p>Afterwards add this Connector file to /Custom/Kernel/GenericInterface/Operation/LinkObject/LinkAdd.pm</p>\n\n<pre><code># --\n# Kernel/GenericInterface/Operation/LinkObject/LinkAdd.pm - GenericInterface LinkAdd operation backend\n# Copyright (C) 2016 ArtyCo (Artjoms Petrovs), http://artjoms.lv/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::GenericInterface::Operation::LinkObject::LinkAdd;\n\nuse strict;\nuse warnings;\n\nuse Kernel::GenericInterface::Operation::Common;\nuse Kernel::System::LinkObject;\nuse Kernel::System::VariableCheck qw(IsStringWithData IsHashRefWithData);\n\n=head1 NAME\n\nKernel::GenericInterface::Operation::LinkObject::LinkAdd - GenericInterface Link Create Operation backend\n\n=head1 SYNOPSIS\n\n=head1 PUBLIC INTERFACE\n\n=over 4\n\n=cut\n\n=item new()\n\nusually, you want to create an instance of this\nby using Kernel::GenericInterface::Operation-&gt;new();\n\n=cut\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    my $Self = {};\n    bless( $Self, $Type );\n\n    # check needed objects\n    for my $Needed (\n        qw(DebuggerObject ConfigObject MainObject LogObject TimeObject DBObject EncodeObject WebserviceID)\n        )\n    {\n        if ( !$Param{$Needed} ) {\n            return {\n                Success      =&gt; 0,\n                ErrorMessage =&gt; \"Got no $Needed!\"\n            };\n        }\n\n        $Self-&gt;{$Needed} = $Param{$Needed};\n    }\n\n    # create additional objects\n    $Self-&gt;{CommonObject} = Kernel::GenericInterface::Operation::Common-&gt;new( %{$Self} );\n    $Self-&gt;{LinkObject}\n        = Kernel::System-&gt;LinkObject-&gt;new( %{$Self} );\n\n    return $Self;\n}\n\n=item Run()\n\nCreate a new link.\n\n    my $Result = $OperationObject-&gt;Run(\n        Data =&gt; {\n            SourceObject =&gt; 'Ticket',\n            SourceKey    =&gt; '321',\n            TargetObject =&gt; 'Ticket',\n            TargetKey    =&gt; '12345',\n            Type         =&gt; 'ParentChild',\n            State        =&gt; 'Valid',\n            UserID       =&gt; 1,\n        },\n    );\n\n    $Result = {\n        Success      =&gt; 1,                                # 0 or 1\n        ErrorMessage =&gt; '',                               # In case of an error\n        Data         =&gt; {\n            Result =&gt; 1,                                  # 0 or 1 \n        },\n    };\n\n=cut\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    if ( !IsHashRefWithData( $Param{Data} ) ) {\n        return $Self-&gt;{CommonObject}-&gt;ReturnError(\n            ErrorCode    =&gt; 'LinkAdd.MissingParameter',\n            ErrorMessage =&gt; \"LinkAdd: The request is empty!\",\n        );\n    }\n\n\n\n    my $LinkID = $Self-&gt;{LinkObject}-&gt;LinkAdd(\n        %Param,\n    );\n\n    if ( !$LinkID ) {\n        return $Self-&gt;{CommonObject}-&gt;ReturnError(\n            ErrorCode    =&gt; 'LinkAdd.AuthFail',\n            ErrorMessage =&gt; \"LinkAdd: Authorization failing!\",\n        );\n    }\n\n    return {\n        Success =&gt; 1,\n        Data    =&gt; {\n            Result =&gt; $LinkID,\n        },\n    };\n}\n\n1;\n\n=back\n\n=head1 TERMS AND CONDITIONS\n\nThis software is part of the OTRS project (L&lt;http://otrs.org/&gt;).\n\nThis software comes with ABSOLUTELY NO WARRANTY. For details, see\nthe enclosed file COPYING for license information (AGPL). If you\ndid not receive this file, see L&lt;http://www.gnu.org/licenses/agpl.txt&gt;.\n\n=cut\n</code></pre>\n\n<p>And afterwards it should appear and can be used from the Admin -> WebServices -> Available Operations dropdown and of course can be used as a webservice.</p>\n\n<p>A PHP usage example can be seen below:</p>\n\n<pre><code>    #### Initialize new client session ####\n$client = new SoapClient(\n null, \n array(\n 'location' =&gt; $url,\n 'uri' =&gt; \"Core\",\n 'trace' =&gt; 1,\n 'login' =&gt; $username,\n 'password' =&gt; $password,\n 'style' =&gt; SOAP_RPC,\n 'use' =&gt; SOAP_ENCODED\n )\n);\n#### Create and send the SOAP Function Call ####\n$success = $client-&gt;__soapCall(\"Dispatch\", \narray($username, $password,\n\"LinkObject\", \"LinkAdd\",\n\"SourceObject\", 'Ticket',\n\"SourceKey\", $ticket_id1,\n\"TargetObject\", 'Ticket',\n\"TargetKey\", $ticket_id2,\n\"Type\", 'ParentChild',\n\"State\", 'Valid',\n\"UserID\", '1'\n));\n</code></pre>\n\n<p>In case of errors - enable debugging, review the System Log and check all the initial settings of OTRS</p>\n\n<p>Good Luck! </p>\n\n<p>UPDATE #2</p>\n\n<p>To register a webservice - press the button Add new webservice, name it as you want it and set the following settings ( Select the LinkAdd Operation ) and save it</p>\n\n<p><a href=\"https://i.stack.imgur.com/LADVk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LADVk.png\" alt=\"OTRS webservice\"></a></p>\n\n<p>UPDATE #3</p>\n\n<p>Here is an updated module file for OTRS 5</p>\n\n<pre><code>    # --\n# Kernel/GenericInterface/Operation/LinkObject/LinkAdd.pm - GenericInterface LinkAdd operation backend\n# Copyright (C) 2016 ArtyCo (Artjoms Petrovs), http://artjoms.lv/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::GenericInterface::Operation::LinkObject::LinkAdd;\n\nuse strict;\nuse warnings;\n\nuse Kernel::GenericInterface::Operation::Common;\nuse Kernel::System::LinkObject;\nuse Kernel::System::VariableCheck qw(IsStringWithData IsHashRefWithData);\n\n=head1 NAME\n\nKernel::GenericInterface::Operation::LinkObject::LinkAdd - GenericInterface Link Create Operation backend\n\n=head1 SYNOPSIS\n\n=head1 PUBLIC INTERFACE\n\n=over 4\n\n=cut\n\n=item new()\n\nusually, you want to create an instance of this\nby using Kernel::GenericInterface::Operation-&gt;new();\n\n=cut\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    my $Self = {};\n    bless( $Self, $Type );\n\n    # check needed objects\n    for my $Needed (\n        qw( DebuggerObject WebserviceID )\n        )\n    {\n        if ( !$Param{$Needed} ) {\n            return {\n                Success      =&gt; 0,\n                ErrorMessage =&gt; \"Got no $Needed!\"\n            };\n        }\n\n        $Self-&gt;{$Needed} = $Param{$Needed};\n    }\n\n    # create additional objects\n    $Self-&gt;{CommonObject} = Kernel::GenericInterface::Operation::Common-&gt;new( %{$Self} );\n    $Self-&gt;{LinkObject}\n        = $Kernel::OM-&gt;Get('Kernel::System::LinkObject');\n\n    return $Self;\n}\n\n=item Run()\n\nCreate a new link.\n\n    my $Result = $OperationObject-&gt;Run(\n        Data =&gt; {\n            SourceObject =&gt; 'Ticket',\n            SourceKey    =&gt; '321',\n            TargetObject =&gt; 'Ticket',\n            TargetKey    =&gt; '12345',\n            Type         =&gt; 'ParentChild',\n            State        =&gt; 'Valid',\n            UserID       =&gt; 1,\n        },\n    );\n\n    $Result = {\n        Success      =&gt; 1,                                # 0 or 1\n        ErrorMessage =&gt; '',                               # In case of an error\n        Data         =&gt; {\n            Result =&gt; 1,                                  # 0 or 1 \n        },\n    };\n\n=cut\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    if ( !IsHashRefWithData( $Param{Data} ) ) {\n        return $Self-&gt;{CommonObject}-&gt;ReturnError(\n            ErrorCode    =&gt; 'LinkAdd.MissingParameter',\n            ErrorMessage =&gt; \"LinkAdd: The request is empty!\",\n        );\n    }\n\n\n\n    my $LinkID = $Self-&gt;{LinkObject}-&gt;LinkAdd(\n        %Param,\n    );\n\n    if ( !$LinkID ) {\n        return $Self-&gt;{CommonObject}-&gt;ReturnError(\n            ErrorCode    =&gt; 'LinkAdd.AuthFail',\n            ErrorMessage =&gt; \"LinkAdd: Authorization failing!\",\n        );\n    }\n\n    return {\n        Success =&gt; 1,\n        Data    =&gt; {\n            Result =&gt; $LinkID,\n        },\n    };\n}\n\n1;\n\n=back\n\n=head1 TERMS AND CONDITIONS\n\nThis software is part of the OTRS project (L&lt;http://otrs.org/&gt;).\n\nThis software comes with ABSOLUTELY NO WARRANTY. For details, see\nthe enclosed file COPYING for license information (AGPL). If you\ndid not receive this file, see L&lt;http://www.gnu.org/licenses/agpl.txt&gt;.\n\n=cut\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1477047628, "post_id": 40174895, "comment_id": 67616984, "body": "This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post - you can always comment on your own posts, and once you <a href=\"http://meta.stackoverflow.com/q/146472/169503\">earn</a> sufficient <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"http://stackoverflow.com/help/privileges/comment\">comment on any post</a>. If you have a related but different question, <a href=\"http://stackoverflow.com/questions/ask\">ask a new question</a> referencing this one if it will help provide context."}, {"owner": {"reputation": 85, "user_id": 7052790, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ATWXB.jpg?s=128&g=1", "display_name": "smartydoc", "link": "https://stackoverflow.com/users/7052790/smartydoc"}, "reply_to_user": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1477308681, "post_id": 40174895, "comment_id": 67698045, "body": "Don&#39;t be hestitate to make call from LinkObject class to lookup the relevant connection type, link type and so on."}], "tags": [], "owner": {"reputation": 85, "user_id": 7052790, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ATWXB.jpg?s=128&g=1", "display_name": "smartydoc", "link": "https://stackoverflow.com/users/7052790/smartydoc"}, "is_accepted": false, "score": 2, "last_activity_date": 1477308719, "last_edit_date": 1477308719, "creation_date": 1477047562, "answer_id": 40174895, "question_id": 34675372, "link": "https://stackoverflow.com/questions/34675372/how-to-link-get-config-item-to-a-ticket-through-webservice-soap-or-rest-in-o/40174895#40174895", "title": "How to Link / Get Config Item to a Ticket through Webservice (SOAP or REST) in OTRS", "body": "<p>After lot of work, i've found the solution to made it by POST REST call.\nMy main trouble was about creating LinkObject with right %Param.\nSo, i've implement direct code to aquire right call LinkAdd.\nMainly, Artjoman provide the way. But i catch some errors on it, so here is another perl module in OTRS_HOME/Custom/Kernel/GenericInterface/Operation/LinkObject/LinkAdd.pm:</p>\n\n<pre><code># --\n# Kernel/GenericInterface/Operation/LinkObject/LinkAdd.pm - GenericInterface LinkAdd operation backend\n# Copyright (C) 2016 ArtyCo (Artjoms Petrovs), http://artjoms.lv/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::GenericInterface::Operation::LinkObject::LinkAdd;\n\nuse strict;\nuse warnings;\n\nuse Kernel::System::ObjectManager;\nuse Kernel::System::VariableCheck qw(IsStringWithData IsHashRefWithData);\n\n=head1 NAME\n\nKernel::GenericInterface::Operation::LinkObject::LinkAdd - GenericInterface Link Create Operation backend\n\n=head1 SYNOPSIS\n\n=head1 PUBLIC INTERFACE\n\n=over 4\n\n=cut\n\n=item new()\n\nusually, you want to create an instance of this\nby using Kernel::GenericInterface::Operation-&gt;new();\n\n=cut\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    my $Self = {};\n    bless( $Self, $Type );\n\n    # check needed objects\n    for my $Needed (\n        qw( DebuggerObject WebserviceID )\n        )\n    {\n        if ( !$Param{$Needed} ) {\n            return {\n                Success      =&gt; 0,\n                ErrorMessage =&gt; \"Got no $Needed!\"\n            };\n        }\n\n        $Self-&gt;{$Needed} = $Param{$Needed};\n    }\n\n    # create additional objects\n\n    local $Kernel::OM = Kernel::System::ObjectManager-&gt;new( %{$Self} );\n    $Self-&gt;{LinkObject}\n        = $Kernel::OM-&gt;Get('Kernel::System::LinkObject');\n\n    return $Self;\n}\n\n=item Run()\n\nCreate a new link.\n\n    my $Result = $OperationObject-&gt;Run(\n        Data =&gt; {\n            SourceObject =&gt; 'Ticket',\n            SourceKey    =&gt; '321',\n            TargetObject =&gt; 'Ticket',\n            TargetKey    =&gt; '12345',\n            Type         =&gt; 'ParentChild',\n            State        =&gt; 'Valid',\n            UserID       =&gt; 1,\n        },\n    );\n\n    $Result = {\n        Success      =&gt; 1,                                # 0 or 1\n        ErrorMessage =&gt; '',                               # In case of an error\n        Data         =&gt; {\n            Result =&gt; 1,                                  # 0 or 1 \n        },\n    };\n\n=cut\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    if ( !IsHashRefWithData( $Param{Data} ) ) {\n        return $Self-&gt;ReturnError(\n            ErrorCode    =&gt; 'LinkAdd.MissingParameter',\n            ErrorMessage =&gt; \"LinkAdd: The request is empty!\",\n        );\n    }\n\n    my $LinkID = $Self-&gt;{LinkObject}-&gt;LinkAdd(\n        'SourceKey' =&gt; $Param{Data}{SourceKey},\n        'SourceObject' =&gt; $Param{Data}{SourceObject},\n        'State' =&gt; $Param{Data}{State},\n        'TargetKey' =&gt; $Param{Data}{TargetKey},\n        'TargetObject' =&gt; $Param{Data}{TargetObject},\n        'Type' =&gt; $Param{Data}{Type},\n        'UserID' =&gt; $Param{Data}{UserID},\n    );\n\n    if ( !$LinkID ) {\n        return $Self-&gt;ReturnError(\n            ErrorCode    =&gt; 'LinkAdd.AuthFail',\n            ErrorMessage =&gt; \"LinkAdd: Authorization failing!\",\n        );\n    }\n\n    return {\n        Success =&gt; 1,\n        Data    =&gt; {\n            Result =&gt; $LinkID,\n        },\n    };\n}\n\nsub ReturnError {\n    my ( $Self, %Param ) = @_;\n\n    $Self-&gt;{DebuggerObject}-&gt;Error(\n        Summary =&gt; $Param{ErrorCode},\n        Data    =&gt; $Param{ErrorMessage},\n    );\n\n    # return structure\n    return {\n        Success      =&gt; 1,\n        ErrorMessage =&gt; \"$Param{ErrorCode}: $Param{ErrorMessage}\",\n        Data         =&gt; {\n            Error =&gt; {\n                ErrorCode    =&gt; $Param{ErrorCode},\n                ErrorMessage =&gt; $Param{ErrorMessage},\n            },\n        },\n    };\n}\n\n1;\n\n=back\n\n=head1 TERMS AND CONDITIONS\n\nThis software is part of the OTRS project (L&lt;http://otrs.org/&gt;).\n\nThis software comes with ABSOLUTELY NO WARRANTY. For details, see\nthe enclosed file COPYING for license information (AGPL). If you\ndid not receive this file, see L&lt;http://www.gnu.org/licenses/agpl.txt&gt;.\n\n=cut\n</code></pre>\n\n<p>So, making POST call to (<a href=\"http://otrs_host/otrs/nph-genericinterface.pl/Webservice/GenericTicketConnectorREST/LinkAdd?UserLogin=login&amp;Password=password\" rel=\"nofollow\">http://otrs_host/otrs/nph-genericinterface.pl/Webservice/GenericTicketConnectorREST/LinkAdd?UserLogin=login&amp;Password=password</a>) with json</p>\n\n<p>{\"SourceObject\":\"Ticket\",\"SourceKey\":\"7\",\"TargetObject\":\"ITSMConfigItem\",\"TargetKey\":\"1\",\"Type\":\"DependsOn\",\"State\":\"Valid\",\"UserID\":\"1\"}</p>\n\n<p>will create a link between Ticket and ITSMConfigItem (not a computer, hardware and so on.)\nI think, this simple and quite rude solution will help to understand how to add a full-api operations to your REST otrs with a better(but working) way.</p>\n"}], "owner": {"reputation": 847, "user_id": 1184777, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e22f9cc8787217b01665748f0c7723a4?s=128&d=identicon&r=PG", "display_name": "user1184777", "link": "https://stackoverflow.com/users/1184777/user1184777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4732, "favorite_count": 4, "protected_date": 1477052615, "answer_count": 2, "score": 2, "last_activity_date": 1509027177, "creation_date": 1452250655, "last_edit_date": 1509027177, "question_id": 34675372, "link": "https://stackoverflow.com/questions/34675372/how-to-link-get-config-item-to-a-ticket-through-webservice-soap-or-rest-in-o", "title": "How to Link / Get Config Item to a Ticket through Webservice (SOAP or REST) in OTRS", "body": "<p>I want to know how to get and link the ticket to Configuration item through SOAP or REST Webservice.\nI have imported this <a href=\"https://github.com/OTRS/otrs/blob/master/development/webservices/GenericTicketConnectorREST.yml\" rel=\"nofollow\">Restfull Web service</a> in admin console and successfully created and getting ticket information using this url \n<a href=\"http://XXX.XXX.XXX.XXX/otrs/nph-genericinterface.pl/Webservice/GenericTicketConnectorREST/Ticket/1\" rel=\"nofollow\">http://XXX.XXX.XXX.XXX/otrs/nph-genericinterface.pl/Webservice/GenericTicketConnectorREST/Ticket/1</a>.</p>\n\n<p>but the problem is the linked config item information is not coming when i get the ticket information.</p>\n\n<p>i did lots of search on google found that ticket can be linked to Config Item through OTRS GUI and in AgentTicketzoom page it will show, i want this to be done through web service.\ncan any one help me in this problem or suggest some doc on how to create web service to get linked object information from ticket.</p>\n\n<p>Updated#1</p>\n\n<p>i added web controller to my existing Ticket connector successfully. the url is <a href=\"http://XXX.XXX.XXX.XXX/otrs/nph-genericinterface.pl/Webservice/GenericTicketConnectorRest/LinkObject\" rel=\"nofollow\">http://XXX.XXX.XXX.XXX/otrs/nph-genericinterface.pl/Webservice/GenericTicketConnectorRest/LinkObject</a> with POST Call.but i am getting this error</p>\n\n<p>{\"faultcode\":\"Server\",\"faultstring\":\"Got no ConfigObject!\"}</p>\n\n<p>i checked the initial parameters also </p>\n\n<pre><code>$VAR1 = {  'Password' =&gt; '1234567',  'RequestMethod' =&gt; 'POST','SourceKey' =&gt; '1',  'SourceObject' =&gt; 'Ticket',  'State' =&gt; 'valid',  'TargetKey' =&gt; '2',  'TargetObject' =&gt; 'ITSMConfigItem',  'Type' =&gt; 'ParentChild',  'UserID' =&gt; '1',  'UserLogin' =&gt; 'XXXXX.XXXX@XXXX.com'};\n\n$VAR1 = {  'ErrorMessage' =&gt; 'Got no ConfigObject!',  'Success' =&gt; 0};\n</code></pre>\n"}, {"tags": ["arrays", "regex", "perl", "file-io"], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1452581723, "post_id": 34675081, "comment_id": 57220540, "body": "Thank you for an elegant solution."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1452249868, "creation_date": 1452249868, "answer_id": 34675081, "question_id": 34674638, "link": "https://stackoverflow.com/questions/34674638/perl-matching-the-contents-of-a-file-with-the-contents-of-an-array/34675081#34675081", "title": "Perl : matching the contents of a file with the contents of an array", "body": "<p>The canonical way is to use a hash. Hash the array, using the first argument as the key. Then walk the file and check for existence of the key in the hash. I used a HoA (hash of arrays) to handle multiple values for each key (see the last two lines).</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @arr1 = ( '#define y x',\n             '#define abc 123',\n           );\n\nmy %hash;\nfor (@arr1) {\n    my ($arg1, $arg2) = (split ' ')[1, 2];\n    push @{ $hash{$arg1} }, $arg2;\n}\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my ($arg1, $arg2) = (split /,/)[1, 2];\n    if ($hash{$arg2}) {\n        print \"#define $arg1 $_\\n\" for @{ $hash{$arg2} };\n    }\n}\n\n__DATA__\n#define,x,y\n#define,p,q\n#define,hij,abc\n#define,klm,abc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 1, "last_activity_date": 1452250014, "creation_date": 1452250014, "answer_id": 34675146, "question_id": 34674638, "link": "https://stackoverflow.com/questions/34674638/perl-matching-the-contents-of-a-file-with-the-contents-of-an-array/34675146#34675146", "title": "Perl : matching the contents of a file with the contents of an array", "body": "<p>As the other answer said, it's better to use a hash. Also, keep in mind that you're doing a </p>\n\n<pre><code>foreach my $x(@tempX)\n</code></pre>\n\n<p>but you're also doing a</p>\n\n<pre><code>push @tempX, $headerLine;\n</code></pre>\n\n<p>which means that you're modifying the array on which you're iterating. This is not just bad practice, this also means that you're most likely going to have an infinite loop because of it.</p>\n"}], "owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 34675081, "answer_count": 2, "score": 0, "last_activity_date": 1452250014, "creation_date": 1452248595, "question_id": 34674638, "link": "https://stackoverflow.com/questions/34674638/perl-matching-the-contents-of-a-file-with-the-contents-of-an-array", "title": "Perl : matching the contents of a file with the contents of an array", "body": "<p>I have an array <code>@arr1</code> where each element is of the form <code>#define A B</code>. </p>\n\n<p>I have another file, <code>f1</code> with contents:</p>\n\n<pre><code>#define,x,y\n#define,p,q\n</code></pre>\n\n<p>and so on. I need to check if the second value of every line (<code>y</code>, <code>q</code> etc) matches the first value in any element of the array. Example: say the array has an element <code>#define abc 123</code> and the file has a line <code>#define,hij,abc</code>. </p>\n\n<p>When such a match occurs, I need to add the line <code>#define hij 123</code> to the array. </p>\n\n<pre><code>while(&lt;$fhDef&gt;)               #Reading the file\n{\n    chomp;\n    $_ =~ tr/\\r//d;\n    if(/#define,(\\w+),(\\w+)/)\n    {\n        my $newLabel = $1;\n        my $oldLabel = $2;\n        push @oldLabels, $oldLabel;\n        push @newLabels, $newLabel;\n    }\n}\n\n      foreach my $x(@tempX)             #Reading the array\n      {\n            chomp $x;\n            if($x =~ /#define\\h{1}\\w+\\h*0x(\\w+)\\h*/)\n            {\n                my $addr = $1;\n                unless(grep { $x =~ /$_/ } @oldLabels) \n                {\n                    next;\n                }\n                my $index = grep { $oldLabels[$_] eq $_ } 0..$#oldLabels;\n                my $new1 = $newLabels[$index];\n                my $headerLabel1 = $headerLabel.\"X_\".$new1;\n                chomp $headerLabel1;\n                my $headerLine = \"#define \".$headerLabel1.\"0x\".$addr;\n                push @tempX, $headerLine;\n            }\n         }\n</code></pre>\n\n<p>This just hangs. No doubt I'm missing something right in front of me, but what??</p>\n"}, {"tags": ["perl", "ksh"], "answers": [{"tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 0, "last_activity_date": 1452250543, "creation_date": 1452250543, "answer_id": 34675343, "question_id": 34672930, "link": "https://stackoverflow.com/questions/34672930/execution-of-system-command-from-perl-script-using-su/34675343#34675343", "title": "execution of system command from perl script using su", "body": "<p>You have to execute it using <code>-c</code> option for <code>su</code>. The problem is that if you launch it like that, it's supposed to be a shell script. So you have to tell <code>su</code> to actually load the shell and then execute the command.</p>\n\n<p>Most likely</p>\n\n<pre><code>su guest -c test.pl\n</code></pre>\n\n<p>will work (provided it's in the command path of the user, of course).</p>\n"}, {"tags": [], "owner": {"reputation": 5598, "user_id": 540341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7762851de72b8505fa70cae4eb7c83?s=128&d=identicon&r=PG", "display_name": "filiprem", "link": "https://stackoverflow.com/users/540341/filiprem"}, "is_accepted": false, "score": 1, "last_activity_date": 1452252309, "creation_date": 1452252309, "answer_id": 34675928, "question_id": 34672930, "link": "https://stackoverflow.com/questions/34672930/execution-of-system-command-from-perl-script-using-su/34675928#34675928", "title": "execution of system command from perl script using su", "body": "<p>From <code>man 1 su</code>:</p>\n\n<pre><code>OPTIONS\n       The options which apply to the su command are:\n\n       -c, --command COMMAND\n           Specify a command that will be invoked by the shell using its -c.\n\n           The executed command will have no controlling terminal. This option cannot be used to execute interractive programs which need a controlling TTY.\n</code></pre>\n\n<p>So you should use </p>\n\n<pre><code>su -c \"perl /path/to/test.pl --maybe some.options\" guest\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 1779562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea17accc9f39aa343bda13095ea91c8b?s=128&d=identicon&r=PG", "display_name": "Sai Prasanth", "link": "https://stackoverflow.com/users/1779562/sai-prasanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1452252309, "creation_date": 1452243347, "last_edit_date": 1452243569, "question_id": 34672930, "link": "https://stackoverflow.com/questions/34672930/execution-of-system-command-from-perl-script-using-su", "title": "execution of system command from perl script using su", "body": "<p>I have a perl script as below:\ntest.pl</p>\n\n<pre><code> #!/usr/bin/perl\n system(\"ls -lart\");\n</code></pre>\n\n<p>this works fine but when i run it as below it is failing:</p>\n\n<pre><code>su guest test.pl\n</code></pre>\n\n<p>it is failing at 2nd line as below:</p>\n\n<pre><code>0403-057 Syntax error at line 2 : `(' is not expected.\n</code></pre>\n"}, {"tags": ["perl", "installation", "cgi", "cpan"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452243203, "post_id": 34668749, "comment_id": 57090956, "body": "<code>$form{$field}</code> is undefined, so it cannot use that inside of the <code>@{ }</code> dereference. Also that thins was last updated in 1998. Which test is breaking? I&#39;ll try to install it on my machine. What system are you using? Version of Perl, OS, system architecture."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1452243610, "post_id": 34668749, "comment_id": 57091162, "body": "On a second thought, if you look at the <a href=\"http://matrix.cpantesters.org/?dist=CGI-Validate+2.000\" rel=\"nofollow noreferrer\">CPAN Testers results</a> it&#39;s pretty clear it is not going to work on more recent Perls (where recent is newer than 9 years). You should let this one go. Or you could try to fix it and submit a patch, but since CGI is not in core any more, and its use is discouraged, I would not waste time with that."}, {"owner": {"reputation": 4671, "user_id": 2844742, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/GRfAv.gif?s=128&g=1", "display_name": "unclemeat", "link": "https://stackoverflow.com/users/2844742/unclemeat"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452462134, "post_id": 34668749, "comment_id": 57168465, "body": "Thanks for that. What is generally suggested to be used instead of CGI?"}, {"owner": {"reputation": 4671, "user_id": 2844742, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/GRfAv.gif?s=128&g=1", "display_name": "unclemeat", "link": "https://stackoverflow.com/users/2844742/unclemeat"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452464248, "post_id": 34668749, "comment_id": 57169148, "body": "And furthermore, what is the suggested method of form validation when using Perl (I can&#39;t seem to find any recent documentation or blogs). If you could provide me with some reading material, it would be greatly appreciated."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1452505120, "post_id": 34668749, "comment_id": 57182151, "body": "If you just have a form, CGI would be fine. There is <a href=\"https://metacpan.org/pod/distribution/CGI-FormBuilder/lib/CGI/FormBuilder.pod\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/CGI-FormBuilder/lib/CGI/&hellip;</a> for example. If you want to build a larger application, look at modern frameworks like Dancer2, Mojolicious or Catalyst. Also see <a href=\"https://metacpan.org/pod/Task::Kensho#Task::Kensho::WebDev:-Web-Development\" rel=\"nofollow noreferrer\">metacpan.org/pod/&hellip;</a>, but remember that for CGI environments Moose-based stuff is a bit slow if it&#39;s loaded per invocation."}, {"owner": {"reputation": 625, "user_id": 388558, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eda095c8588b5671a7d085082da1c3b6?s=128&d=identicon&r=PG", "display_name": "Carl", "link": "https://stackoverflow.com/users/388558/carl"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499356530, "post_id": 34668749, "comment_id": 76882633, "body": "@simbabque - I think I have a patch for this, but I&#39;m not familiar with who/where I&#39;d submit it.  Do you have some idea where the project is maintained?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 625, "user_id": 388558, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eda095c8588b5671a7d085082da1c3b6?s=128&d=identicon&r=PG", "display_name": "Carl", "link": "https://stackoverflow.com/users/388558/carl"}, "edited": false, "score": 0, "creation_date": 1499357361, "post_id": 34668749, "comment_id": 76883206, "body": "@Carl this thing has not seen updates almost 20 years. You can first try to email the author. There is an address in the documentation at <a href=\"https://metacpan.org/pod/CGI::Validate\" rel=\"nofollow noreferrer\">metacpan.org/pod/CGI::Validate</a>. There is an RT at <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=CGI-Validate\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Dist/Display.html?Name=CGI-Validate</a> that has an open ticket from 9 years ago with no input. If the author doesn&#39;t respond, you can ask the PAUSE admins to take over the module or become a co-maintainer. The process on how to do that is documented in <a href=\"https://www.cpan.org/modules/04pause.html#takeover\" rel=\"nofollow noreferrer\">cpan.org/modules/04pause.html#takeover</a>. Or you can fork and release under a different name. Thanks for your effort!"}], "answers": [{"comments": [{"owner": {"reputation": 3460, "user_id": 4921205, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zZ90K.jpg?s=128&g=1", "display_name": "Aurasphere", "link": "https://stackoverflow.com/users/4921205/aurasphere"}, "edited": false, "score": 0, "creation_date": 1467289407, "post_id": 38122467, "comment_id": 63677415, "body": "Welcome to StackOverflow! Although this may provide an answer to the question, the link may become unavailable in the future, so it&#39;s always better to add a summary of the content. Thank you!"}, {"owner": {"reputation": 1, "user_id": 6533281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81559ec11255caa65c689f9cb0c71209?s=128&d=identicon&r=PG&f=1", "display_name": "tamer badawy", "link": "https://stackoverflow.com/users/6533281/tamer-badawy"}, "edited": false, "score": 0, "creation_date": 1467317828, "post_id": 38122467, "comment_id": 63696158, "body": "Thank you all just new to provide help at Stack Overflow , but i will always use you tip"}], "tags": [], "owner": {"reputation": 1, "user_id": 6533281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81559ec11255caa65c689f9cb0c71209?s=128&d=identicon&r=PG&f=1", "display_name": "tamer badawy", "link": "https://stackoverflow.com/users/6533281/tamer-badawy"}, "is_accepted": false, "score": -2, "last_activity_date": 1467321678, "last_edit_date": 1467321678, "creation_date": 1467287942, "answer_id": 38122467, "question_id": 34668749, "link": "https://stackoverflow.com/questions/34668749/perl-cgivalidate-install-usage-fails/38122467#38122467", "title": "Perl CGI::Validate install / usage fails", "body": "<p>the build work only in this enviroments :\n   Windows (32bit) Perl 5.10\n   Linux (32bit) Perl 5.10</p>\n\n<p>on other Enviroments the build fail , eg win64bit linux64bit MacOsx with Perl Ver 5.8 , 5.12 . 5.14, 5.16 , 5.18 , 5.20 , 5.22\nthis may be due to the droped support to the CGI package </p>\n\n<p>look at this page for more detail\n<a href=\"http://code.activestate.com/ppm/CGI-Validate/\" rel=\"nofollow\">http://code.activestate.com/ppm/CGI-Validate/</a></p>\n"}], "owner": {"reputation": 4671, "user_id": 2844742, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/GRfAv.gif?s=128&g=1", "display_name": "unclemeat", "link": "https://stackoverflow.com/users/2844742/unclemeat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1467321678, "creation_date": 1452221597, "question_id": 34668749, "link": "https://stackoverflow.com/questions/34668749/perl-cgivalidate-install-usage-fails", "title": "Perl CGI::Validate install / usage fails", "body": "<p>I have installed the Perl <a href=\"http://search.cpan.org/~zenin/CGI-Validate-2.000/Validate.pm\" rel=\"nofollow\">CGI::Validate</a> module via cpan. I had to force the install due to an error in installation - I get the same error when I try to use the module at all (unsurprisingly).</p>\n\n<blockquote>\n  <p>Can't use an undefined value as an ARRAY reference at /usr/local/share/perl5/CGI/Validate.pm\" line 216., referer: ...</p>\n</blockquote>\n\n<p>Is this a bug with the Validate module? For reference - line 216 (and the following few lines) of Validate.pm:</p>\n\n<pre><code>unless (scalar @{ $form{$field} } or $fields{$field}{optional}) {\n    $Blank{$field} = qq(Required field \"$field\" contains no data);\n    next;\n}\n</code></pre>\n\n<p>Anything obvious?</p>\n"}, {"tags": ["linux", "perl"], "answers": [{"tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": true, "score": 4, "last_activity_date": 1452217500, "creation_date": 1452217500, "answer_id": 34668210, "question_id": 34668058, "link": "https://stackoverflow.com/questions/34668058/getoptstd-in-perl-with-repeated-arguments/34668210#34668210", "title": "Getopt::Std in Perl with repeated arguments", "body": "<p>Getopt::Std supports <strong>single character switches with clustering</strong>.  The switch(es) -add is the same as passing the 3 switches -a -d -d.</p>\n\n<p>The solution you're looking for is to use Getopt::Long instead of Getopt::Std.</p>\n"}], "owner": {"reputation": 349, "user_id": 1044414, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/49fd2de020f49277b0f4cbee807efa07?s=128&d=identicon&r=PG", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/1044414/nikhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 34668210, "answer_count": 1, "score": 0, "last_activity_date": 1452217500, "creation_date": 1452216239, "last_edit_date": 1452216757, "question_id": 34668058, "link": "https://stackoverflow.com/questions/34668058/getoptstd-in-perl-with-repeated-arguments", "title": "Getopt::Std in Perl with repeated arguments", "body": "<p>Below is a snippet of my code which calls getopts</p>\n\n<pre><code>getopts(\"sdlaLRGr:g:c:t:\", \\%options);\n</code></pre>\n\n<p>Now, when I run below command its not throwing an error.</p>\n\n<pre><code>perl rolemanage.pl -add -r ROLE_NET_USER -c /bin/date -t rtp99\n</code></pre>\n\n<p>Here command args \"-add\", only -a is expected but as \"d\" is also part of getopts, getopts is not throwing any error instead executing the command successfully.</p>\n\n<p>Could any one explain the reason for this. Is there any solution to throw an error.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452231958, "post_id": 34664473, "comment_id": 57086049, "body": "Please show the code that you need help with"}], "answers": [{"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1452205976, "creation_date": 1452205976, "answer_id": 34666438, "question_id": 34664473, "link": "https://stackoverflow.com/questions/34664473/perl-script-to-extract-the-lowest-dope-score-from-modeller-output-log-file/34666438#34666438", "title": "Perl Script to extract the Lowest Dope Score from MODELLER output log file", "body": "<ul>\n<li>Assuming you have all the lines in an array <code>@lines</code>...</li>\n</ul>\n\n<p>The following illustrates the process:</p>\n\n<pre><code>use strict;\nuse warnings; \nuse Scalar::Util qw&lt;looks_like_number&gt;;\n\n# putting a scalar as a list receiver, \n# guarantees that, you'll only get one--and only one--value.\nmy ( $low_line ) \n    = \n      # unpack the bundled cargo\n      map  { $_-&gt;[1] }\n      # sort the lines by DOPE score...\n      sort { $a-&gt;[0] &lt;=&gt; $b-&gt;[0] }\n      # having attained that score by filtering \n      # out by those that look like a number...\n      grep { looks_like_number( $_-&gt;[0] ) } \n      # having paired the 3rd column (delimited by spaces)\n      # and the line...\n      map  { [ (split)[2], $_ ] }\n      # from all the lines in the file.\n      @lines\n    ;\n</code></pre>\n\n<p>I'm not going to cover opening input and that, but I will show you an equivalent \nwhile loop:</p>\n\n<pre><code>my ( $min_score, $min_line );\n\nwhile ( &lt;$input_file&gt; ) {\n    # here we're invoking the most *standard* behavior of the split function...\n    next unless my $score = (split)[2];\n    # forget non-numbers...\n    next unless looks_like_number( $score );\n    # if we don't have a min score defined, or our current \n    # score is less, then store the min and the payload.\n    if ( !defined( $min_score ) || $score &lt; $min_score ) { \n        ( $min_score, $min_line ) = ( $score, $_ );\n    }\n}\n\nsay $min_line;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5754157, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eLgPurmzSr0/AAAAAAAAAAI/AAAAAAAAYRg/DdkL_Uf-x74/photo.jpg?sz=128", "display_name": "Aditya Jain", "link": "https://stackoverflow.com/users/5754157/aditya-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1452205976, "creation_date": 1452198229, "last_edit_date": 1452198698, "question_id": 34664473, "link": "https://stackoverflow.com/questions/34664473/perl-script-to-extract-the-lowest-dope-score-from-modeller-output-log-file", "title": "Perl Script to extract the Lowest Dope Score from MODELLER output log file", "body": "<p>From the following file, I need to print the line which consists of lowest <code>Dope score</code>. I am facing the problem in how to parse the columns and find the lowest <code>Dope score</code>.</p>\n\n<p>Any help is appreciated.</p>\n\n<pre><code> Summary of successfully produced models:\n    Filename                          molpdf     DOPE score    GA341 score\n    ----------------------------------------------------------------------\n    1A4SA.B99990001.pdb           3116.26953   -54055.24609        1.00000\n    1A4SA.B99990002.pdb           3081.24854   -54028.02734        1.00000\n    1A4SA.B99990003.pdb           3188.48535   -53395.08594        1.00000\n    1A4SA.B99990004.pdb           3093.55493   -54574.60156        1.00000\n    1A4SA.B99990005.pdb           3141.67847   -53716.92188        1.00000\n    1A4SA.B99990006.pdb           3084.89136   -54276.48828        1.00000\n    1A4SA.B99990007.pdb           3081.57983   -53949.57031        1.00000\n    1A4SA.B99990008.pdb           3060.45142   -54121.53125        1.00000\n    1A4SA.B99990009.pdb           3080.59766   -54202.00000        1.00000\n    1A4SA.B99990010.pdb           3065.07520   -54293.01172        1.00000\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1452198231, "post_id": 34664416, "comment_id": 57074405, "body": "<code>field1==field2</code> would satisfy &quot;same format&quot;. they can&#39;t be equal if they&#39;re in different formats. second part, you&#39;d have to be able to RELIABLY pull apart a date string to convert it,e .g. what&#39;s <code>1-2-3</code>? March 1st of 2002? Feb 3rd of 2001?"}, {"owner": {"reputation": 1, "user_id": 5758144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5992a1ef3a754fa8916a18f30292b999?s=128&d=identicon&r=PG&f=1", "display_name": "\u8fd0\u7eac\u90dd", "link": "https://stackoverflow.com/users/5758144/%e8%bf%90%e7%ba%ac%e9%83%9d"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1452198457, "post_id": 34664416, "comment_id": 57074534, "body": "field1==field2 is equal if they r in same format? for example, 16/10/2013==04/09/2014 is true?"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1452198561, "post_id": 34664416, "comment_id": 57074619, "body": "well, in the same format and same contents. e.g. <code>&#39;feb 1&#47;2001&#39; == &#39;feb 1&#47;2001&#39;</code> is true, <code>&#39;feb 1&#47;2001&#39; == &#39;2001-02-01&#39;</code> is false, even though the dates are the same."}, {"owner": {"reputation": 1, "user_id": 5758144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5992a1ef3a754fa8916a18f30292b999?s=128&d=identicon&r=PG&f=1", "display_name": "\u8fd0\u7eac\u90dd", "link": "https://stackoverflow.com/users/5758144/%e8%bf%90%e7%ba%ac%e9%83%9d"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1452198702, "post_id": 34664416, "comment_id": 57074708, "body": "but the contents in my data are not same."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1452198776, "post_id": 34664416, "comment_id": 57074754, "body": "then you need to start writing code to pull apart your date strings and check each one individually."}, {"owner": {"reputation": 1, "user_id": 5758144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5992a1ef3a754fa8916a18f30292b999?s=128&d=identicon&r=PG&f=1", "display_name": "\u8fd0\u7eac\u90dd", "link": "https://stackoverflow.com/users/5758144/%e8%bf%90%e7%ba%ac%e9%83%9d"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1452198884, "post_id": 34664416, "comment_id": 57074819, "body": "I see. I have the codes to pull out the dates individually. but I don&#39;t know how to check if 2 dates are in same format or how to change one date into a specific format."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1452198980, "post_id": 34664416, "comment_id": 57074871, "body": "well, how CAN you tell if they&#39;re in the same format? if the format differ between fields, how can you be sure the <code>1&#47;2&#47;3</code> is the same as <code>3&#47;2&#47;1</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1452199008, "post_id": 34664416, "comment_id": 57074883, "body": "Can you create a list of <i>possible</i> date formats? If both <code>DD&#47;MM&#47;YY</code> and <code>YY&#47;MM&#47;DD</code> are possible, for example, your task becomes much more difficult (and impossible for many values)."}, {"owner": {"reputation": 1, "user_id": 5758144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5992a1ef3a754fa8916a18f30292b999?s=128&d=identicon&r=PG&f=1", "display_name": "\u8fd0\u7eac\u90dd", "link": "https://stackoverflow.com/users/5758144/%e8%bf%90%e7%ba%ac%e9%83%9d"}, "edited": false, "score": 0, "creation_date": 1452199070, "post_id": 34664416, "comment_id": 57074919, "body": "sorry for the confusion. example: 16/10/2013 14:20  and 12/5/2014 9:20 AM. the 2nd one uses 12hrs when the first one uses 24 hrs"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452199613, "post_id": 34664416, "comment_id": 57075275, "body": "Are those the only two possible formats?"}, {"owner": {"reputation": 6301, "user_id": 2114482, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6COEw.jpg?s=128&g=1", "display_name": "Beau Nouvelle", "link": "https://stackoverflow.com/users/2114482/beau-nouvelle"}, "edited": false, "score": 0, "creation_date": 1452201108, "post_id": 34664416, "comment_id": 57076181, "body": "24 hour time shouldn&#39;t have the : between the numbers, but in your case you could just check the last two characters. If they are PM or AM your know its 12 hour time."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1452204343, "post_id": 34664416, "comment_id": 57077820, "body": "Perl&#39;s <code>==</code> operator compares numbers. Use <code>eq</code> to compare strings."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 6301, "user_id": 2114482, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6COEw.jpg?s=128&g=1", "display_name": "Beau Nouvelle", "link": "https://stackoverflow.com/users/2114482/beau-nouvelle"}, "edited": false, "score": 3, "creation_date": 1452204410, "post_id": 34664416, "comment_id": 57077837, "body": "@BeauNouvelle: &quot;<i>24 hour time shouldn&#39;t have the : between the numbers</i>&quot; -- Why not? For example, the current time here is <code>14:06:50</code>."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1452295313, "post_id": 34664416, "comment_id": 57122135, "body": "This is possible only if you&#39;re able to specify what formats are possible, and only if none of the possible formats are ambiguous. For example, <code>1&#47;8&#47;2016</code> could be either January 8 or August 1. Ideally you should use a consistent format in the first place, preferably ISO 8601&#39;s <code>YYYY-MM-DD</code>. Of course that&#39;s not possible if you&#39;re stuck with existing inconsistent formats."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452202300, "post_id": 34665035, "comment_id": 57076804, "body": "1) This doesn&#39;t actually test whether two datestamps have the same format, which is what the OP asked. 2) You&#39;re just re-inventing <a href=\"https://metacpan.org/pod/Date::Parse\" rel=\"nofollow noreferrer\">Date::Parse</a>. 3) Your example of 02/07/2016 could just as easily represent July 2, 2016 as February 7, 2016. (Date::Parse has the same problem.) You can&#39;t reliably parse arbitrary datestamps, and you can&#39;t reliably tell whether two arbitrary date stamps have the same format."}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452202467, "post_id": 34665035, "comment_id": 57076890, "body": "1. The OP also asked if it is possible to change all date formats into the same format."}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452202669, "post_id": 34665035, "comment_id": 57076983, "body": "2. You can specify your own formats that Date::Parse does not cover."}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1452202935, "post_id": 34665035, "comment_id": 57077133, "body": "3. You are correct. A date may come in in 100 different formats. It most cases OP will be getting some specific formats (4-5 different ones usually). It is impossible to come up with a solution to cover all cases (formats). But if the number of formats is somewhat limited, this solution works well."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": -3, "last_activity_date": 1452200655, "last_edit_date": 1452200655, "creation_date": 1452200318, "answer_id": 34665035, "question_id": 34664416, "link": "https://stackoverflow.com/questions/34664416/how-to-check-if-the-dates-are-of-same-format-in-perl/34665035#34665035", "title": "How to check if the dates are of same format in PERL?", "body": "<p>If you can install DateTime module this should work. You can add any format you want.\nThere are few issues that you might run into. You need special logic to handle mmddyy and yymmdd.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse DateTime;\n\nmy $date1 = '2016-01-07';\nmy $date2 = '02/07/2016';\n\n$date1 = parseDate($date1)-&gt;mdy('/');\n$date2 = parseDate($date2)-&gt;mdy('/');\n\nprint \"Date 1: $date1\\n\";\nprint \"Date 2: $date2\\n\";\n\nsub parseDate {\n    my ($date) = @_;\n    my ($year, $month, $day);\n    if($date =~ /^(\\d{4})-(\\d{2})-(\\d{2})$/) { #yyyy-mm-dd\n        ($year, $month, $day) = ($1, $2, $3);\n    }\n    elsif($date =~ /^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/) { #mm/dd/yyyy\n        ($year, $month, $day) = ($3, $1, $2);\n    }\n    elsif($date =~ /^(\\d{4})(\\d{2})(\\d{2})$/) { #yyyymmdd\n        ($year, $month, $day) = ($1, $2, $3);\n    }\n    else {\n        die \"Date format is unknown: $date\";\n    }\n    $date = DateTime-&gt;new(\n        year    =&gt; $year,\n        month   =&gt; $month,\n        day =&gt; $day,\n    );\n    return $date;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1452213730, "creation_date": 1452213730, "answer_id": 34667736, "question_id": 34664416, "link": "https://stackoverflow.com/questions/34664416/how-to-check-if-the-dates-are-of-same-format-in-perl/34667736#34667736", "title": "How to check if the dates are of same format in PERL?", "body": "<p><em>for example, 16/10/2013==04/09/2014 is true? \u2013 \u8fd0\u7eac\u90dd</em></p>\n\n<p>If you are dealing with dates that look like <code>01/01/20015</code> then it is the American way to put the month first while the rest of the world puts the day first</p>\n\n<p>There is no way of distinguishing between the two unless you know for certain what the fields signify or if the day happens to be greater than 12, so <code>03/07/2015</code> may be the third of July or the seventh of March, but <code>12/13/2015</code> must be the thirteenth of December 2015</p>\n\n<p>You need to refer to your data provider to resolve this</p>\n"}], "owner": {"reputation": 1, "user_id": 5758144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5992a1ef3a754fa8916a18f30292b999?s=128&d=identicon&r=PG&f=1", "display_name": "\u8fd0\u7eac\u90dd", "link": "https://stackoverflow.com/users/5758144/%e8%bf%90%e7%ba%ac%e9%83%9d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "closed_date": 1452254023, "answer_count": 2, "score": -4, "last_activity_date": 1452213730, "creation_date": 1452197998, "question_id": 34664416, "link": "https://stackoverflow.com/questions/34664416/how-to-check-if-the-dates-are-of-same-format-in-perl", "closed_reason": "Needs details or clarity", "title": "How to check if the dates are of same format in PERL?", "body": "<p>I have a .csv file.\nThe second column are dates.</p>\n\n<p>The dates maye not be of the same format.</p>\n\n<p>how can I check to make sure if they are in same format or if I can use some method to change all dates into 1 specific format?</p>\n"}, {"tags": ["perl", "glob"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1452197000, "last_edit_date": 1452197000, "creation_date": 1452196215, "answer_id": 34663917, "question_id": 34663860, "link": "https://stackoverflow.com/questions/34663860/why-does-glob-fail-when-i-call-my-function-twice/34663917#34663917", "title": "Why does glob fail when I call my function twice?", "body": "<p>From <code>glob</code>'s <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>In scalar context, <code>glob</code> iterates through such filename expansions, returning undef when the list is exhausted.</p>\n</blockquote>\n\n<p>In other words, when you call <code>glob</code> is in scalar context, it returns the first expansion. The second call to that same <code>glob</code> instance returns the second expansion, and so on. When all expansions have been returned, <code>glob</code> returns <code>undef</code> to indicate this.</p>\n\n<p>To get all expansions at once:</p>\n\n<pre><code>my @expansions = glob($glob);\n</code></pre>\n\n<p>To get all expansions, one at a time:</p>\n\n<pre><code>while (defined( my $expansion = glob($glob) )) {\n   ...\n}\n</code></pre>\n\n<p>To get the first expansion and ignore the rest:</p>\n\n<pre><code>my ($expansion) = glob($glob);\n</code></pre>\n"}], "owner": {"reputation": 680, "user_id": 2050516, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aad258694d14cabdf20fadf443f8a55c?s=128&d=identicon&r=PG", "display_name": "user2050516", "link": "https://stackoverflow.com/users/2050516/user2050516"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "closed_date": 1452202134, "accepted_answer_id": 34663917, "answer_count": 1, "score": 0, "last_activity_date": 1452198622, "creation_date": 1452196010, "last_edit_date": 1452198622, "question_id": 34663860, "link": "https://stackoverflow.com/questions/34663860/why-does-glob-fail-when-i-call-my-function-twice", "closed_reason": "Duplicate", "title": "Why does glob fail when I call my function twice?", "body": "<p>I have the following code:</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict; use warnings;\nuse Data::Dumper;\n\nsub test {\n\n        my $glob = glob(\"test?pl\");\n        print \"glob [$glob]\\n\";\n        $glob = glob(\"test?pl\");\n        print \"glob [$glob]\\n\";\n}\n\ntest();\ntest();\n</code></pre>\n\n<p>When I run it, I get the following output:</p>\n\n<pre><code>glob [test.pl]\n\nglob [test.pl]\n\nUse of uninitialized value $glob in concatenation (.) or string at ./test.pl line 9.\n\nglob []\n\nUse of uninitialized value $glob in concatenation (.) or string at ./test.pl line 11.\n\nglob []\n</code></pre>\n\n<p>Why is <code>glob</code> failing the second time I call the <code>test</code> function? I'm using Perl 5.14.</p>\n"}, {"tags": ["perl", "api", "oauth-2.0", "instagram", "instagram-api"], "answers": [{"tags": [], "owner": {"reputation": 299, "user_id": 1469362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3249ce8b31582c1b08c03efbd463ff8d?s=128&d=identicon&r=PG", "display_name": "mfvjunior", "link": "https://stackoverflow.com/users/1469362/mfvjunior"}, "is_accepted": false, "score": 0, "last_activity_date": 1479928167, "creation_date": 1479928167, "answer_id": 40772407, "question_id": 34663837, "link": "https://stackoverflow.com/questions/34663837/instagram-auth-responds-with-400-bad-request/40772407#40772407", "title": "Instagram auth responds with 400 (Bad Request)", "body": "<p>Did you already solve it?</p>\n\n<p>Anyway, I had the same issue recently (using C# but the problem principle looks like the same), so this answer it will be for those who will need a direction. There are important things to consider that isn't so clear on Instagram Developer Documentation.</p>\n\n<p>On step 3 you won't pass the auth parameters through URL, you need to pass it as a body content (literally).</p>\n\n<p>Other common issue is the header parameters, these must be:</p>\n\n<pre><code>Accept: \"application/json\"\nContentType: \"application/x-www-form-urlencoded\"\n</code></pre>\n\n<p>I hope this answer will save time for other developers.</p>\n\n<p>Other references: <a href=\"http://blog.humphriesj.com/2013/12/instagram-api-authentication-you-must.html\" rel=\"nofollow noreferrer\">Here</a> and <a href=\"https://groups.google.com/forum/#!topic/instagram-api-developers/Dvu_4SXTDG4\" rel=\"nofollow noreferrer\">Here</a>.</p>\n"}], "owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479928167, "creation_date": 1452195927, "last_edit_date": 1592644375, "question_id": 34663837, "link": "https://stackoverflow.com/questions/34663837/instagram-auth-responds-with-400-bad-request", "title": "Instagram auth responds with 400 (Bad Request)", "body": "<p>I'm trying to auth into the Instagram API, but my request fails on step 3: <a href=\"https://www.instagram.com/developer/authentication/\" rel=\"nofollow noreferrer\">Request the access_token</a>.</p>\n<p>Note that there is no message in the response content. The error is simply, <code>Bad Request</code>.</p>\n<p>Why won't my request go through?</p>\n<p>note: my request is created and sent using the <a href=\"http://search.cpan.org/%7Emarkov/Net-OAuth2-0.62/lib/Net/OAuth2.pod\" rel=\"nofollow noreferrer\">Net::OAuth2</a> perl library.</p>\n<h3>request</h3>\n<pre><code>'_protocol' =&gt; 'HTTP/1.1',\n'_content' =&gt; 'grant_type=authorization_code&amp;redirect_uri=http%3A%2F%2Fredirecturi.net%3A4011%2Ffoo%2Fbar%2Ffoobar_callback&amp;client_id=XXX&amp;client_secret=YYY&amp;code=ab1ef9ea901f401eb2ae798617e3b098',\n'_uri' =&gt; bless( do{\\(my $o = 'https://api.instagram.com/oauth/access_token')}, 'URI::https' ),\n'_headers' =&gt; bless( {\n    'user-agent' =&gt; 'libwww-perl/6.05',\n    'connection' =&gt; 'Keep-Alive',\n    'content-type' =&gt; 'application/x-www-form-urlencoded',\n    '::std_case' =&gt; {\n        'if-ssl-cert-subject' =&gt; 'If-SSL-Cert-Subject'\n    },\n    'authorization' =&gt; 'Basic XXX',\n    'host' =&gt; 'api.instagram.com:443'\n    }, 'HTTP::Headers' ),\n'_method' =&gt; 'POST',\n'_uri_canonical' =&gt; $VAR1-&gt;{'_request'}{'_uri'}\n}, 'HTTP::Request' )\n \n</code></pre>\n<h3>response</h3>\n<pre><code>'_protocol' =&gt; 'HTTP/1.1',\n'_content' =&gt; '',\n'_rc' =&gt; '400',\n'_headers' =&gt; bless( {\n    'connection' =&gt; 'close',\n    'client-response-num' =&gt; 1,\n    'date' =&gt; 'Thu, 07 Jan 2016 19:17:52 GMT',\n    'client-ssl-cert-issuer' =&gt; '/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA',\n    'client-ssl-cipher' =&gt; 'ECDHE-RSA-AES128-SHA',\n    'client-peer' =&gt; '66.220.158.81:443',\n    'content-length' =&gt; '0',\n    '::std_case' =&gt; {\n        'client-date' =&gt; 'Client-Date',\n        'client-response-num' =&gt; 'Client-Response-Num',\n        'client-ssl-cert-subject' =&gt; 'Client-SSL-Cert-Subject',\n        'client-ssl-cert-issuer' =&gt; 'Client-SSL-Cert-Issuer',\n        'client-ssl-cipher' =&gt; 'Client-SSL-Cipher',\n        'client-peer' =&gt; 'Client-Peer',\n        'client-ssl-socket-class' =&gt; 'Client-SSL-Socket-Class'\n    },\n    'client-date' =&gt; 'Thu, 07 Jan 2016 19:17:52 GMT',\n    'content-type' =&gt; 'text/plain',\n    'client-ssl-cert-subject' =&gt; '/C=US/ST=CA/L=Menlo Park/O=Instagram LLC/CN=*.instagram.com',\n    'server' =&gt; 'proxygen',\n    'client-ssl-socket-class' =&gt; 'IO::Socket::SSL'\n}, 'HTTP::Headers' ),\n'_msg' =&gt; 'Bad Request',\n}, 'HTTP::Response' );\n</code></pre>\n"}, {"tags": ["perl", "firefox", "mechanize", "www-mechanize"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1452191146, "post_id": 34662308, "comment_id": 57070349, "body": "<a href=\"http://stackoverflow.com/q/22311475/176646\">You&#39;re not the first one to wonder about this.</a> Unfortunately, it seems like this isn&#39;t supported by W::M::F, so you may have to implement a timeout yourself with <a href=\"http://perldoc.perl.org/functions/alarm.html\" rel=\"nofollow noreferrer\"><code>alarm</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1459973298, "post_id": 36461317, "comment_id": 60534480, "body": "I see that this is an older post, but an idea for a simple timeout could be useful."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1463082632, "last_edit_date": 1463082632, "creation_date": 1459973246, "answer_id": 36461317, "question_id": 34662308, "link": "https://stackoverflow.com/questions/34662308/wwwmechanizefirefox-timeout/36461317#36461317", "title": "WWW::Mechanize::Firefox Timeout", "body": "<p>It is possible to simulate this, at least to a good extent.</p>\n\n<p>You can turn off synchronization for <code>get</code>, in which case the call should return immediately. Then poll every <code>$sleep_time</code> until timeout, with some test of whether the page completed. The sleep allows all those other good pages to complete, so set <code>$sleep_time</code> as appropriate.</p>\n\n<pre><code>my $timeout = 10; \nmy $sleep_time = 1;\n\nmy $page = get($url, synchronize =&gt; 0); \n\nfor (1..$timeout) {\n    # Test some page property that will confirm that it loaded\n    last if $page-&gt;title eq $expected_title;\n    sleep $sleep_time;\n}\n</code></pre>\n\n<p>There is the issue of how exactly to confirm each page, but this should provide a working timeout.</p>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "accepted_answer_id": 36461317, "answer_count": 1, "score": 1, "last_activity_date": 1498742675, "creation_date": 1452190573, "question_id": 34662308, "link": "https://stackoverflow.com/questions/34662308/wwwmechanizefirefox-timeout", "title": "WWW::Mechanize::Firefox Timeout", "body": "<p>How do I properly use a timeout when I attempt to make <code>-&gt;get(URL)</code> requests with <code>WWW::Mechanize::Firefox</code>?</p>\n\n<p><code>my $mech = WWW::Mechanize::Firefox-&gt;new(timeout =&gt; 10);</code> does not seem to work</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1452185712, "post_id": 34660630, "comment_id": 57066968, "body": "I don&#39;t think this is a duplicate. The other question was asking how to use Archive::Tar. This question already has that, but there is something wrong with the logic in OP&#39;s implementation."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1452185735, "post_id": 34660630, "comment_id": 57066978, "body": "Have you checked what <code>@files</code> contains?"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1452185801, "post_id": 34660630, "comment_id": 57067022, "body": "Have you stepped through this in the debugger? That is the place to start."}], "answers": [{"comments": [{"owner": {"reputation": 1205, "user_id": 3371708, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/oplL6.jpg?s=128&g=1", "display_name": "hkaraoglu", "link": "https://stackoverflow.com/users/3371708/hkaraoglu"}, "edited": false, "score": 1, "creation_date": 1452186565, "post_id": 34660997, "comment_id": 57067572, "body": "It doesnt work. It throws an error : Cant stat .....  No such file or directory at test.pl on line 24  :  the line --&gt;    find( { wanted . ..... .."}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "reply_to_user": {"reputation": 1205, "user_id": 3371708, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/oplL6.jpg?s=128&g=1", "display_name": "hkaraoglu", "link": "https://stackoverflow.com/users/3371708/hkaraoglu"}, "edited": false, "score": 0, "creation_date": 1452186674, "post_id": 34660997, "comment_id": 57067649, "body": "@Revenge: Yeah, sorry - stupid copy/paste error, the trailing <code>&#47;*</code> must be removed."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 1, "creation_date": 1452190141, "post_id": 34660997, "comment_id": 57069789, "body": "Or, better yet: <a href=\"http://search.cpan.org/perldoc?File::Find::Rule\" rel=\"nofollow noreferrer\"><b><code>File::Find::Rule</code></b></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1452196546, "post_id": 34660997, "comment_id": 57073455, "body": "Not my downvote, but you ** Omit <code>use strict</code> and <code>use warnings &#39;all&#39;</code> ** Omit <code>use DateTime</code> ** Don&#39;t declare or define <code>$BACKUP_PATH</code> or <code>$websiteFolderName</code> ** Build file paths with string concatentation ** Don&#39;t test your solution"}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452202398, "post_id": 34660997, "comment_id": 57076846, "body": "@Borodin: Thanks for the input."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1452204064, "post_id": 34660997, "comment_id": 57077686, "body": "@zb226 wasn&#39;t me. I just thought I&#39;d add a link to FFR. FF is still a valid--and AFAIK the most performant method out there."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1452219678, "post_id": 34660997, "comment_id": 57082753, "body": "@Axeman: I really dislike <code>File::Find::Rule</code> because its syntax is so unmemorable and inexpressive"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1452220066, "post_id": 34660997, "comment_id": 57082874, "body": "@Borodin, I think it was hard for me at first as well, and required a bit of ramp-up, but now it&#39;s pretty much what I reach for."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1452220651, "post_id": 34660997, "comment_id": 57083029, "body": "@Axeman: I&#39;ve never seen it in production code, and hope not to. Have you looked at the source? It&#39;s really nasty stuff that picks at the internals of Perl just to get itself started. Beware"}], "tags": [], "owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "is_accepted": true, "score": 2, "last_activity_date": 1452186647, "last_edit_date": 1452186647, "creation_date": 1452186079, "answer_id": 34660997, "question_id": 34660630, "link": "https://stackoverflow.com/questions/34660630/how-can-i-archive-a-directory-in-perl/34660997#34660997", "title": "How can I archive a directory in Perl", "body": "<p><code>glob</code> (<a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\">perldoc</a>) does not recurse into subdirectories. You need to take care of that yourself or use some module like <a href=\"http://search.cpan.org/perldoc/File::Find\" rel=\"nofollow\"><code>File::Find</code></a>:</p>\n\n<pre><code>use Archive::Tar;\nuse File::Find qw(find);\n\nmy @files;\nfind( { wanted =&gt; sub { push @files, $File::Find::name } }, $BACKUP_PATH.'website');\nmy $tar = Archive::Tar-&gt;new();\n$tar-&gt;add_files( @files );\n\nmy $date = DateTime-&gt;now(time_zone=&gt;\"local\");\n$tar-&gt;write($BACKUP_PATH.$websiteFolderName.\"/\".$date-&gt;dmy('-').\"-\".$websiteFolderName.\".tar\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1452219358, "last_edit_date": 1452219358, "creation_date": 1452195737, "answer_id": 34663787, "question_id": 34660630, "link": "https://stackoverflow.com/questions/34660630/how-can-i-archive-a-directory-in-perl/34663787#34663787", "title": "How can I archive a directory in Perl", "body": "<p>I thought I'd write a bells-and-whistles version of this because I was so disappointed with the accepted solution. I thought I'd show you what was possible and what I believe is proper</p>\n\n<p>I've made these changes</p>\n\n<ul>\n<li><p>I'm using <a href=\"http://metacpan.org/module/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> to get the date stamp for the file name. It's a core module, and all that is necessary to generate a <code>%d-%m-%Y</code> datestamp. <a href=\"http://metacpan.org/module/DateTime\" rel=\"nofollow\"><code>DateTime</code></a> is non-core, and a huge amount of code to load for such a simple purpose</p>\n\n<p><em>By the way I've used a <code>ymd</code> format instead of <code>dmy</code>. If you want it the way you wrote your own code then you can change it back, but <code>ymd</code> names are useful because they sort in date order</em></p></li>\n<li><p>I've used <code>catdir</code> and <code>catfile</code> from <a href=\"http://metacpan.org/module/File::Spec::Functions\" rel=\"nofollow\"><code>File::Spec::Functions</code></a>, the procedural interface to the core <a href=\"http://metacpan.org/module/File::Spec\" rel=\"nofollow\"><code>File::Spec</code></a> library. It saves worrying about whether one variable has a slash at the end and another at the beginning, and makes for clearer code because it avoids all those nasty string concatenations</p></li>\n<li><p>I've used <code>make_path</code> from <a href=\"http://metacpan.org/module/File::Path\" rel=\"nofollow\"><code>File::Path</code></a> to ensure that the destination directory actually exists</p></li>\n<li><p>Since the paths to the files to be archived are stored in an array anyway there no reason not to use the <code>create_archive</code> class method to build and save your files all in one go</p>\n\n<p><em>The second parameter to <code>create_archive</code> is a compression method. I have set it to zero to request no compression and maximum speed, but you can enable gzip or bzip compression by passing <code>COMPRESS_GZIP</code> or <code>COMPRESS_BZIP</code></em></p>\n\n<p><em>Although the module's documentation discourages it, you can also set this parameter to 1 through 9 to indicate a level of gzip compression. If you are archiving text files then I highly recommend that you use 1 or 2 here. Passing <code>COMPRESS_GZIP</code> results in a gzip compression level of 9, which is by far the slowest and can often result in a *larger* file than lower compressions. A value of 1 will often give you a file one third of the size of the uncompressed archive, while 2 may give you another five percent reduction. After that there is usually very little gain</em></p></li>\n<li><p>I've added a few log messages to give confidence and inform about the progress of the program. I've also written a little <code>bytes</code> subroutine to convert the size of a file to the appropriate power of 1KB to make it more readable</p></li>\n</ul>\n\n<p>I'm using Windows paths because that's the desk where I happen to be sat. Because of the use of <code>File::Spec</code> it should work fine on Linux as well once you have set the paths and file names at the top of the code +</p>\n\n<p>Whether or not you use this, I hope you find it useful</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse Archive::Tar;\nuse File::Find qw/ find /;\nuse Time::Piece;\nuse File::Spec::Functions qw/ catfile catdir /;\nuse File::Path qw/ make_path /;\n\nSTDOUT-&gt;autoflush;\n\nmy $BACKUP_PATH         = 'E:/Perl';\nmy $website_folder_name = 'website';\nmy $website_backup_name = 'website_backup';\n\nprint \"Making list of files to archive\\n\";\n\nmy $source_dir = catdir($BACKUP_PATH, $website_folder_name);\nmy @filelist;\n\nfind( sub {\n    return unless -f;\n    push @filelist, $File::Find::name;\n}, $source_dir);\n\nprintf \"List complete - %d files to be archived\\n\", scalar @filelist;\n\nmy $tardir = catdir($BACKUP_PATH, $website_backup_name);\nmake_path($tardir, { verbose =&gt; 1 } );\n\nmy $date = localtime()-&gt;ymd;\nmy $tarfile = catfile($tardir, \"$date-$website_backup_name.tar\");\nprint qq{Writing archive to \"$tarfile\"\\n};\n\nmy $success = Archive::Tar-&gt;create_archive($tarfile, 0, @filelist);\nprintf \"Archive written successfully - %s\\n\", bytes(-s $tarfile) if $success;\n\n\nsub bytes {\n    my ($size) = @_;\n\n    my @prefix = ( '', qw/ K M G T P E / );\n\n    my $pow = 0;\n    while ( $size &gt;= 1024 ) {\n        $size /= 1024;\n        ++$pow;\n    }\n\n    sprintf \"%.0f%sB\", $size, $prefix[$pow];\n}\n</code></pre>\n\n<h2>output</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>Making list of files to archive\nList complete - 6602 files to be archived\nWriting archive to \"E:\\Perl\\website_backup\\2016-01-07-website_backup.tar\"\nArchive written successfully - 7MB\n</code></pre>\n"}], "owner": {"reputation": 1205, "user_id": 3371708, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/oplL6.jpg?s=128&g=1", "display_name": "hkaraoglu", "link": "https://stackoverflow.com/users/3371708/hkaraoglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 34660997, "answer_count": 2, "score": 3, "last_activity_date": 1452219358, "creation_date": 1452185073, "question_id": 34660630, "link": "https://stackoverflow.com/questions/34660630/how-can-i-archive-a-directory-in-perl", "title": "How can I archive a directory in Perl", "body": "<p>I'm trying to archive a directory with all subdirectory and files. But the below code doesnt work properly. It just archived files and folders, not content of folders ! How can I solve this ?</p>\n\n<pre><code>my @files = glob( $BACKUP_PATH.'website/*' );\nmy $tar = Archive::Tar-&gt;new();\n$tar-&gt;add_files(@files);\n\nmy $date = DateTime-&gt;now(time_zone=&gt;\"local\");\n$tar-&gt;write($BACKUP_PATH.$websiteFolderName.\"/\".$date-&gt;dmy('-').\"-\".$websiteFolderName.\".tar\");\n</code></pre>\n"}]