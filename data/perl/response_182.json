[{"tags": ["mysql", "sql", "perl", "subquery", "dbix-class"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1530737401, "post_id": 51180434, "comment_id": 89343598, "body": "What have you tried? What problems are you having? Please show us your code."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1530742425, "post_id": 51180434, "comment_id": 89344990, "body": "@DaveCross The problem is that I don&#39;t know the syntax for it."}, {"owner": {"reputation": 3160, "user_id": 954777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/heMKU.jpg?s=128&g=1", "display_name": "smonff", "link": "https://stackoverflow.com/users/954777/smonff"}, "edited": false, "score": 0, "creation_date": 1559990896, "post_id": 51180434, "comment_id": 99598947, "body": "Thanks @porton, I was searching for the <code>get_columns</code> syntax all day long yesterday and for some reason found it only today thanks to your question. Asking for self helps others \u270a"}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1535287228, "post_id": 51188816, "comment_id": 91002791, "body": "hi. May you please extend your example to use <code>EXISTS</code> keyword, e.g. <code>SELECT exists( select .... ) </code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1535448538, "post_id": 51188816, "comment_id": 91059138, "body": "@EugenKonkov you mean the DBIC code? Interesting. I guess that&#39;ll just be <code>c =&gt; { &#39;-exists&#39; =&gt; ResultSet(&#39;foo&#39;)-&gt;count_rs-&gt;as_query }</code>."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1535462866, "post_id": 51188816, "comment_id": 91068425, "body": "I have found. I should use <a href=\"https://www.perlmonks.org/?node_id=882510\" rel=\"nofollow noreferrer\"><code>+select</code> and <code>+as</code></a> to name the column which value is select statement. Otherwise there will be error. <a href=\"https://rt.cpan.org/Ticket/Display.html?id=126958\" rel=\"nofollow noreferrer\">rt.cpan.org/Ticket/Display.html?id=126958</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1535463740, "post_id": 51188816, "comment_id": 91068944, "body": "@EugenKonkov I agree that your ticket makes sense, but I don&#39;t see how it&#39;s relevant to your previous comment regarding the <code>EXISTS</code> keyword."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1535468679, "post_id": 51188816, "comment_id": 91072251, "body": "I was looking for solution to make subquery with exists keyword. Problem was with that your guess did not work without <code>+as</code> attribute (when prefetch is also required) Thus I have ask about an example."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1535469744, "post_id": 51188816, "comment_id": 91072932, "body": "@EugenKonkov I see. I didn&#39;t know about the <code>EXISTS</code> keyword at all. Just had to look it up."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1530785889, "creation_date": 1530785889, "answer_id": 51188816, "question_id": 51180434, "link": "https://stackoverflow.com/questions/51180434/how-do-i-use-a-sub-query-in-the-select-part-with-dbixclass/51188816#51188816", "title": "How do I use a sub query in the SELECT part with DBIx::Class?", "body": "<p>You were on the right track. The <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#as_query\" rel=\"nofollow noreferrer\"><code>as_query</code></a> is what you need. But you also need the <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#columns\" rel=\"nofollow noreferrer\"><code>columns</code> option</a> in the second hashref. Make sure you use <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#count_rs\" rel=\"nofollow noreferrer\"><code>count_rs</code></a> on the sub query, which flips the internal switch to produce a resultset with <code>COUNT(*)</code> in it.</p>\n\n<pre><code>my $obj = ResultSet('TableOne')-&gt;search(\n    { \n         z =&gt; 123,\n    },\n    {\n        columns =&gt; [\n            'x',\n            {\n                c =&gt; ResultSet('TableTwo')-&gt;search(\n                    {\n                        'y' =&gt; {\n                            -ident =&gt; 'me.x',\n                        },\n                    },\n                    {\n                        alias =&gt; 'sub_query', # this name is arbitrary\n                    },\n                )-&gt;count_rs-&gt;as_query,\n            },\n        ],\n    }\n)-&gt;first;\n</code></pre>\n\n<p>The resulting query will look something like this:</p>\n\n<pre><code>SELECT me.x, ( \n    SELECT COUNT( * ) \n      FROM table_two sub_query\n    WHERE y = me.x\n   )\n  FROM table_one me\nWHERE me.z = 123\n</code></pre>\n\n<p>As you can see, the value that we selected via the sub query is not called <code>c</code> in the SQL, but it is called <code>c</code> in the object's data.</p>\n\n<pre><code>use DDP;\np $obj;\n\nDB::Result::TableOne  {\n    # ...\n    internals: {\n        _column_data     {\n            x        \"foo\",\n            c        \"bar\"\n        },\n        _in_storage      1,\n        _result_source   DBIx::Class::ResultSource::Table\n    }\n}\n</code></pre>\n\n<p>You can access it with <a href=\"https://metacpan.org/pod/DBIx::Class::Row#get_column\" rel=\"nofollow noreferrer\"><code>get_column</code></a> on the row object.</p>\n\n<pre><code>say $obj-&gt;get_column('c');\n# bar\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1535528227, "creation_date": 1535528227, "answer_id": 52071996, "question_id": 51180434, "link": "https://stackoverflow.com/questions/51180434/how-do-i-use-a-sub-query-in-the-select-part-with-dbixclass/52071996#52071996", "title": "How do I use a sub query in the SELECT part with DBIx::Class?", "body": "<p>In case of <code>prefetch</code> and you want select subquery result you must name your subqueries, otherwise you will get the error (see comments under simbabque's <a href=\"https://stackoverflow.com/a/51188816/4632019\">answer</a>)</p>\n\n<pre><code>my $partial =  $c-&gt;model( 'ServicePackageSet' )-&gt;search([\n    { service_type_id_covered =&gt; { -ident =&gt; 'me.id' } },\n    { service_type_id_surplus =&gt; { -ident =&gt; 'me.id' } },\n],{ select =&gt; \\1 });\n\nmy $pricelist =  $c-&gt;model( 'ServiceTree' )-&gt;search({\n},{\n    '+select' =&gt; { exists =&gt; $partial-&gt;as_query },\n    '+as' =&gt; [ 'partial' ],\n    prefetch =&gt; [qw/ Price Package /],\n    order_by =&gt; [qw/ Package.short_name name /],\n});\n</code></pre>\n\n<p>though if you want to use subquery as filter it will work without naming:</p>\n\n<pre><code>my $pricelist =  $c-&gt;model( 'ServiceTree' )-&gt;search({\n    -not_exists =&gt; $partial-&gt;as_query\n},{\n    prefetch =&gt; [qw/ Price Package /],\n    order_by =&gt; [qw/ Package.short_name name /],\n});\n</code></pre>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 51188816, "answer_count": 2, "score": 2, "last_activity_date": 1535528227, "creation_date": 1530736319, "last_edit_date": 1530797491, "question_id": 51180434, "link": "https://stackoverflow.com/questions/51180434/how-do-i-use-a-sub-query-in-the-select-part-with-dbixclass", "title": "How do I use a sub query in the SELECT part with DBIx::Class?", "body": "<p>Please help to write this MySQL query in <code>DBIx::Class</code> (to have an example on how to use subqueries in <code>DBIx::Class</code>):</p>\n\n<pre><code>SELECT x, (SELECT COUNT(*) FROM t2 WHERE t2.y=x) AS c FROM t1 WHERE t1.z=123\n</code></pre>\n\n<p>(I know that it can be rewritten as <code>JOIN</code> with <code>GROUP BY</code>, but I want namely subquery (for an example to get my hands on).)</p>\n\n<p><code>DBIx::Class</code> docs give extensive review of using subqueries in <code>WHERE</code> clause but I didn't find how to use a subquery in the <code>SELECT</code> fields list (as in the above example).</p>\n"}, {"tags": ["perl", "duplicates"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 4, "creation_date": 1530722673, "post_id": 51177845, "comment_id": 89338673, "body": "Your code doesn&#39;t compile (<code>$OUTPUT_FILE</code>, <code>$TMPOUTPUT_FILE</code> and <code>%lines</code> undeclared), and you try to read from a file opened for output (you used <code>&gt;</code> in the first open)."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1530790648, "post_id": 51177845, "comment_id": 89362304, "body": "First, you are opening <code>TMP_GL_OUTPUT</code> to write, not read."}, {"owner": {"reputation": 91, "user_id": 10033194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cde3f9ea294cca4f0d23b1ed2a041e7?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anowez", "link": "https://stackoverflow.com/users/10033194/thomas-anowez"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1530801743, "post_id": 51177845, "comment_id": 89369709, "body": "@Dada thanks for your support, I&#39;ve use command of ikegami to solve this problem"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1530736127, "post_id": 51178670, "comment_id": 89343238, "body": "There&#39;s no need to empty a new hash, and so no need for the <code>BEGIN</code> block in your one-liner. It also won&#39;t work on a Linux platform because you need single quotes around the parameter to <code>-e</code>. This <code>perl -lne &#39;print unless $lines{$_}++&#39; input.txt</code> will work fine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1530821885, "post_id": 51178670, "comment_id": 89380181, "body": "Re &quot;<i>You may of course redirect the output to any file</i>&quot;,  See <a href=\"https://stackoverflow.com/questions/41742890/specifying-file-to-process-to-perl-one-liner\">Specifying file to process to Perl one-liner</a>"}], "tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 0, "last_activity_date": 1530820810, "last_edit_date": 1530820810, "creation_date": 1530725781, "answer_id": 51178670, "question_id": 51177845, "link": "https://stackoverflow.com/questions/51177845/remove-multiple-duplicate-lines-from-a-file/51178670#51178670", "title": "Remove multiple duplicate lines from a file", "body": "<p>Your code looks almost OK.</p>\n\n<p>My proposition is only to <code>chomp</code> each line, before you\nsave an element in the hash.</p>\n\n<p>The reason is that e.g. the last line, not terminated\nwith a <code>\\n</code> may look just the same as one of previous lines,\nbut without <code>chomp</code> the previous line would have contained\nthe terminating <code>\\n</code>, whereas the last - not.</p>\n\n<p>The resut is that both these lines will be <strong>different</strong> keys in the hash.</p>\n\n<p>Compare my example program (working, presented below) with yours, there are\nno other significant differences, apart from reading from <code>__DATA__</code> and\nwriting to the console.</p>\n\n<p>In my program, for demonstration purposes, I put 2 variants of printout,\none with key values (repetition counts) and another, printing just keys.\nIn your program leave only the second printout.</p>\n\n<pre><code>use strict; use warnings; use feature qw(say);\n\nmy %lines;\nwhile(&lt;DATA&gt;) {\n    chomp;\n    $lines{$_}++;\n}\nwhile(my($key, $val) = each %lines) {\n    printf \"%-32s / %d\\n\", $key, $val;\n}\nsay '========';\nforeach my $key (keys %lines) {\n    say $key;\n}\n__DATA__\n10/10/2017 00:01:39:000;Sagitter\n10/11/2017 00:00:01:002;Lupus\n10/12/2017 00:03:14:109;Leon\n10/12/2017 00:09:00:459;Sagitter\n10/13/2017 01:11:03:009;Lupus\n12/13/2017 04:29:00:609;Ariet\n10/11/2017 00:00:01:002;Lupus\n10/12/2017 00:03:14:109;Leon\n</code></pre>\n\n<h2>Edit</h2>\n\n<p>Your code assigns no names to <code>$OUTPUT_FILE</code> and <code>$TMPOUTPUT_FILE</code>,\nyou even didn't declare these variables, but I assume, that in your actual\ncode you did it.</p>\n\n<p>Another detail is that <code>%lines</code> should be preceded with <code>my</code>,\notherwise, as you put <code>use strict;</code> the compiler prints an error.</p>\n\n<h2>Edit 2</h2>\n\n<p>There is a quicker and shorter solution than yours.</p>\n\n<p>Instead of writing lines to a hash and printing them as late as in\nthe second step, you can do it in a <strong>single</strong> loop:</p>\n\n<ul>\n<li>Read the line.</li>\n<li>Check whether the hash already contains a key equal to the line just read.</li>\n<li>If not, then:\n\n<ul>\n<li>write the line to the hash, to block the printout, if just the\nsame line occured again,</li>\n<li>print the line.</li>\n</ul></li>\n</ul>\n\n<p>You can even write this program as a Perl one-liner:</p>\n\n<pre><code>perl -lne\"print if !$lines{$_}++\" input.txt\n</code></pre>\n\n<p>If you run the above command from the Windows <code>cmd</code>, it will print the output\nto the console. If you use Linux, instead of double quotes, you can use apostrophes.</p>\n\n<p>You may of course redirect the output to any file, adding <code>&gt; output.txt</code> to\nthe above command.</p>\n\n<p>The code is executed for each input line, chomped due to <code>-l</code> option.</p>\n\n<p>If any other details concerning Perl one-liners are not known to you, search the web.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 91, "user_id": 10033194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cde3f9ea294cca4f0d23b1ed2a041e7?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anowez", "link": "https://stackoverflow.com/users/10033194/thomas-anowez"}, "edited": false, "score": 2, "creation_date": 1530781395, "post_id": 51180174, "comment_id": 89356264, "body": "huh??? I didn&#39;t post a solution to anything. I just answered a question about language differences. This post should not be taken as an endorsement for executing the <code>sort</code> utility. (There are reasons for which it&#39;s a good idea, and there are reasons for which it&#39;s not.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1530750730, "last_edit_date": 1530750730, "creation_date": 1530734427, "answer_id": 51180174, "question_id": 51177845, "link": "https://stackoverflow.com/questions/51177845/remove-multiple-duplicate-lines-from-a-file/51180174#51180174", "title": "Remove multiple duplicate lines from a file", "body": "<p>I think you are asking why your Perl program is longer than your shell script.</p>\n\n<p>First of all, your shell script does something completely different than your Perl program.</p>\n\n<ul>\n<li>Your shell script executes a program, and stores its out in a file.</li>\n<li>Your Perl program reads a file, manipulates the data it read, and stores the output in a file.</li>\n</ul>\n\n<p>The Perl equivalent to</p>\n\n<pre><code>sort -u -- \"$TMPOUTPUT_FILE\" &gt; \"$OUTPUT_FILE\"\n</code></pre>\n\n<p>is</p>\n\n<pre><code>use IPC::Run qw( run );\n\nrun [ 'sort', '-u', '--', $TMPOUTPUT_FILE ], '&gt;', $OUTPUT_FILE;\n</code></pre>\n\n<p>(There are differences in error handling between these two.)</p>\n\n<p>They're not that different in length.</p>\n\n<p>This brings up the second difference. The shell specializes in executing programs, but Perl is a general purpose language. It would be surprising if it wasn't longer in Perl!</p>\n\n<p>(Now try comparing the size of your Perl program to the source of <code>sort</code>...)</p>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1530760502, "creation_date": 1530760502, "answer_id": 51182903, "question_id": 51177845, "link": "https://stackoverflow.com/questions/51177845/remove-multiple-duplicate-lines-from-a-file/51182903#51182903", "title": "Remove multiple duplicate lines from a file", "body": "<p>List::Util is a core module.</p>\n\n<pre><code>use List::Util 'uniq';\n\nprint for uniq &lt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 10033194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cde3f9ea294cca4f0d23b1ed2a041e7?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anowez", "link": "https://stackoverflow.com/users/10033194/thomas-anowez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1787, "favorite_count": 0, "accepted_answer_id": 51180174, "answer_count": 3, "score": 2, "last_activity_date": 1530820810, "creation_date": 1530721576, "last_edit_date": 1530801829, "question_id": 51177845, "link": "https://stackoverflow.com/questions/51177845/remove-multiple-duplicate-lines-from-a-file", "title": "Remove multiple duplicate lines from a file", "body": "\n\n<p>I have a Perl script run in crontab that generates a file rich with duplicate entries, because on each run it rewrites information previously written.</p>\n\n<p>I would use a <code>sort -u</code> of file, but, I would do it at the end of the Perl script file.</p>\n\n<h3>My list</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>10/10/2017 00:01:39:000;Sagitter\n10/11/2017 00:00:01:002;Lupus\n10/12/2017 00:03:14:109;Leon\n10/12/2017 00:09:00:459;Sagitter\n10/13/2017 01:11:03:009;Lupus\n12/13/2017 04:29:00:609;Ariet\n10/11/2017 00:00:01:002;Lupus\n10/12/2017 00:03:14:109;Leon\n...\n</code></pre>\n\n<h3>My code</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\n# Libraries\nuse strict;\nuse warnings 'all';\n\n%lines = ();\n\n# Remove duplicate\n\nopen( TMP_GL_OUTPUT, '&gt;', $OUTPUT_FILE ) or die $!;\n\nwhile ( &lt;TMP_GL_OUTPUT&gt; ) {\n    $lines{$_}++;\n}\n\nopen( OUTFILE, '&gt;', $TMPOUTPUT_FILE ) or die $!;\nprint OUTFILE keys %lines;\nclose( OUTFILE );\n\nclose( TMP_GL_OUTPUT );\n</code></pre>\n\n<p>Where am I going wrong? In shell it feels shorter than in Perl.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sort -u $TMPOUTPUT_FILE &gt; $OUTPUT_FILE \n</code></pre>\n\n<p>As Suggested by ikegamy user, I've do as following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>move $OUTPUT_FILE, $TMPOUTPUT_FILE; # Copy file\nrun [ 'sort', '-u', '--', $TMPOUTPUT_FILE ], '&gt;', $OUTPUT_FILE; # Remove duplicate\nunlink $TMPOUTPUT_FILE;\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 5, "creation_date": 1530709286, "post_id": 51174172, "comment_id": 89331408, "body": "Warning: The <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">HTML Generation functions (which you are using) should no longer be used</a> and <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">nor should CGI</a>."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1530709830, "post_id": 51174172, "comment_id": 89331736, "body": "A correction to make what work fine? You don&#39;t have any input tags in your code and I can&#39;t imagine what they would be doing anyway. Are you sure you don&#39;t want a select tag?"}, {"owner": {"reputation": 343, "user_id": 7182340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b76f101d889c62319607ec0144d0f2d?s=128&d=identicon&r=PG", "display_name": "Dean", "link": "https://stackoverflow.com/users/7182340/dean"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1530710042, "post_id": 51174172, "comment_id": 89331880, "body": "@ChrisTurner <code>&quot;What&#39;s your value? &lt;br&gt;&quot;,textfield(-name =&gt;&#39;name&#39;, -class =&gt;&#39;nm&#39;, -value =&gt;&#39;$line&#39;),</code> will create a text input, but i need the input to have <code>$line</code> as it is at <code>print $line,&quot;&lt;br&gt;&quot;;</code>"}, {"owner": {"reputation": 343, "user_id": 7182340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b76f101d889c62319607ec0144d0f2d?s=128&d=identicon&r=PG", "display_name": "Dean", "link": "https://stackoverflow.com/users/7182340/dean"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530711547, "post_id": 51174172, "comment_id": 89332862, "body": "@Borodin if i knew any perl i would not have asked that question , sorry for my miss understanding. dont mind about any text like <code>your name</code> all i need is to have the value shown at the txt  file  imported to the html value."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530712776, "post_id": 51174172, "comment_id": 89333636, "body": "@dean: <i>&quot;if i knew any perl i would not have asked that question&quot;</i>  It is incumbent on you to acquire a working knowledge of the tools you&#39;re trying to use before you post a question here asking for free assistance. We are not here to replace a simple lack of knowledge, but to help out knowledgeable people who have tried their best and are still struggling with an issue. I&#39;m sure you can do better than just copying someone else&#39;s work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530712874, "post_id": 51174172, "comment_id": 89333703, "body": "@dean: <i>&quot;dont mind about any text like <code>your name</code>&quot;</i>  You have no business posting such shabby code when you are requesting the favour of free advice. I have had to format it to be able to read it, and there are still statements\u2014both commented and live\u2014that are nothing at all to do with the problem at hand. Take a look at <a href=\"http://stackoverflow.com/help/how-to-ask\"><i>How do I ask a good question?</i></a> as well as <a href=\"http://stackoverflow.com/help/mcve\"><i>How to create a Minimal, Complete, and Verifiable example</i></a> and apply them to your future questions."}, {"owner": {"reputation": 343, "user_id": 7182340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b76f101d889c62319607ec0144d0f2d?s=128&d=identicon&r=PG", "display_name": "Dean", "link": "https://stackoverflow.com/users/7182340/dean"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530713190, "post_id": 51174172, "comment_id": 89333889, "body": "@Borodin, please save your fighting gloves, i learn from doing errors and making some improvements, asking that question plus all the text in it was necessary as per my understanding. Am sorry to you all if this question has provoked you , but i needed an answer not a correction to any small text provided there in. Am so sorry, but i still need a solution if applicable."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530713559, "post_id": 51174172, "comment_id": 89334123, "body": "@dean: <i>&quot;i learn from doing errors and making some improvements&quot;</i> Most people do. But you are making lazy errors and getting other people to fix them. You still haven&#39;t described what your program does that isn&#39;t what you want. You really need to read those links."}, {"owner": {"reputation": 343, "user_id": 7182340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b76f101d889c62319607ec0144d0f2d?s=128&d=identicon&r=PG", "display_name": "Dean", "link": "https://stackoverflow.com/users/7182340/dean"}, "edited": false, "score": 0, "creation_date": 1530715916, "post_id": 51174172, "comment_id": 89335479, "body": "Thanks for all of your effort , i have finally configured it out."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1531132803, "post_id": 51176648, "comment_id": 89465603, "body": "Your solution looks very similar to mine :-)"}], "tags": [], "owner": {"reputation": 343, "user_id": 7182340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b76f101d889c62319607ec0144d0f2d?s=128&d=identicon&r=PG", "display_name": "Dean", "link": "https://stackoverflow.com/users/7182340/dean"}, "is_accepted": false, "score": -3, "last_activity_date": 1530787227, "last_edit_date": 1530787227, "creation_date": 1530716797, "answer_id": 51176648, "question_id": 51174172, "link": "https://stackoverflow.com/questions/51174172/put-data-from-a-text-file-into-an-html-form/51176648#51176648", "title": "Put data from a text file into an HTML form", "body": "<p>The best way to do this is to find an alternative to out putting  the text value</p>\n\n<pre><code>open my $getV, '&lt;', \"/admin/currencyX.txt\"; \nmy $realV = &lt;$getV&gt;; \nclose $getV;\n\nprint $realV; # will out put AFN Afghan Afghani  73.0556951371   0.0136881868\n</code></pre>\n\n<p>Then append the string to a html input value</p>\n\n<pre><code>\"What's your value? &lt;br&gt;\",textfield(-name =&gt;'name', -class =&gt;'nm', -value =&gt;$realV),\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 343, "user_id": 7182340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b76f101d889c62319607ec0144d0f2d?s=128&d=identicon&r=PG", "display_name": "Dean", "link": "https://stackoverflow.com/users/7182340/dean"}, "edited": false, "score": 1, "creation_date": 1530790411, "post_id": 51180595, "comment_id": 89362141, "body": "&quot;It failed&quot; is a terrible way to report a problem. What (exactly) did you do? What unexpected behaviour did you see? You&#39;re a senior programmer. You should know how to report problems clearly."}, {"owner": {"reputation": 343, "user_id": 7182340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b76f101d889c62319607ec0144d0f2d?s=128&d=identicon&r=PG", "display_name": "Dean", "link": "https://stackoverflow.com/users/7182340/dean"}, "edited": false, "score": 0, "creation_date": 1530790817, "post_id": 51180595, "comment_id": 89362417, "body": "before posting my problem, i tried all the possibilities including your preferred answer and i got a 500 internal sever error. hence not okay"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 343, "user_id": 7182340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b76f101d889c62319607ec0144d0f2d?s=128&d=identicon&r=PG", "display_name": "Dean", "link": "https://stackoverflow.com/users/7182340/dean"}, "edited": false, "score": 1, "creation_date": 1530790945, "post_id": 51180595, "comment_id": 89362500, "body": "And you know where to get more information about a 500 error, I hope. You are, after all, a senior programmer :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1530737340, "creation_date": 1530737340, "answer_id": 51180595, "question_id": 51174172, "link": "https://stackoverflow.com/questions/51174172/put-data-from-a-text-file-into-an-html-form/51180595#51180595", "title": "Put data from a text file into an HTML form", "body": "<pre><code>textfield(-name =&gt; 'name', -class =&gt; 'nm', -value =&gt; '$line'),\n</code></pre>\n\n<p>Your problem appears to be that you have put <code>$line</code> in single quotes - which stops it being interpolated. Try just removing them.</p>\n\n<pre><code>textfield(-name =&gt; 'name', -class =&gt; 'nm', -value =&gt; $line),\n</code></pre>\n"}], "owner": {"reputation": 343, "user_id": 7182340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b76f101d889c62319607ec0144d0f2d?s=128&d=identicon&r=PG", "display_name": "Dean", "link": "https://stackoverflow.com/users/7182340/dean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1530787227, "creation_date": 1530708731, "last_edit_date": 1592644375, "question_id": 51174172, "link": "https://stackoverflow.com/questions/51174172/put-data-from-a-text-file-into-an-html-form", "title": "Put data from a text file into an HTML form", "body": "<p>I have a text file that shows a list of currency exchanges rates.</p>\n<p>I have read the first line of the text file content and I need this line to be inserted into the input form.</p>\n<h3>Perl</h3>\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CGI qw(:standard);\n#use Data::Dumper;\n#use CGI;\n\nmy $q = CGI-&gt;new;\n \nmy %data;\n\n$data{name} = $q-&gt;param('name');\n\nprint header;\n\nmy $file = '/admin/currencyX.txt';\nopen my $info, $file or die &quot;Could not open $file: $!&quot;;\n\nwhile ( my $line = &lt;$info&gt; )  {   \n    print $line, &quot;&lt;br&gt;&quot;;    \n    last if $. == 1;\n}\n\nprint\n    start_html('A Simple Example'),\n    h1('A Simple Example'),\n    start_form,\n    &quot;What's your value? &lt;br&gt;&quot;,\n    textfield(-name =&gt; 'name', -class =&gt; 'nm', -value =&gt; '$line'),\n    p,\n    submit(-value =&gt; 'Add', -name =&gt; 'ed'),\n    end_form,\n    hr;\n\nif ( $ENV{'REQUEST_METHOD'} eq &quot;POST&quot; ) { \n          \n    if ( $data{name} eq '' ) {\n        print &quot;Please provide the input&quot;;\n        exit;\n    }\n \n    #print &quot;response &quot; . Dumper \\%data;\n}\n\nif ( param() ) {\n    print \n    &quot;Your name is&quot;,em(param('name')),\n    hr;\n}\n\nprint end_html;\n</code></pre>\n<p>The text file has a similar values like</p>\n<h3>Text file</h3>\n<pre class=\"lang-none prettyprint-override\"><code>AFN Afghan Afghani  73.0556951371   0.0136881868\nALL Albanian Lek    108.3423252926  0.0092300031\nDZD Algerian Dinar  117.9799583224  0.0084760159\nAOA Angolan Kwanza  249.2606313396  0.0040118650\nARS Argentine Peso  28.2508833695   0.0353971232\nAMD Armenian Dram   482.0941933740  0.0020742834\n</code></pre>\n<p>I need a correction to make this work.</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1530707807, "post_id": 51173870, "comment_id": 89330457, "body": "When you say <i>downloaded</i>, what do you mean? What exactly did you do?"}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1530707967, "post_id": 51173870, "comment_id": 89330547, "body": "How to use trace module in my script?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1530708081, "post_id": 51173870, "comment_id": 89330628, "body": "Off-topic. Typo. The problem has nothing to do with the path. When you <code>use</code> a module, you need to use the module name, not the file name. <code>use Debug::Trace</code>."}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1530708185, "post_id": 51173870, "comment_id": 89330708, "body": "Can&#39;t locate Debug/Trace.pm in @INC (@INC contains: /home/nrama/perl-script /usr/local/lib/perl5/5.6.0/sun4-solaris /usr/local/lib/perl5/5.6.0 /usr/local/lib/perl5/site_perl/5.6.0/sun4-solaris /usr/local/lib/perl5/site_perl/5.6.0 /usr/local/lib/perl5/site_perl .) at shift.pl line 3."}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1530708207, "post_id": 51173870, "comment_id": 89330721, "body": "I am getting an error used the Debug::Trace"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1530708363, "post_id": 51173870, "comment_id": 89330825, "body": "Offtopic: Perl 5.6.0? Released 22nd March 2000?"}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1530708479, "post_id": 51173870, "comment_id": 89330896, "body": "Yes, correct. because of Our application using old Perl version."}, {"owner": {"reputation": 1432, "user_id": 1184912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc5f9407e5093fbd916ea4d80c7a499f?s=128&d=identicon&r=PG", "display_name": "eyevan", "link": "https://stackoverflow.com/users/1184912/eyevan"}, "edited": false, "score": 1, "creation_date": 1530709019, "post_id": 51173870, "comment_id": 89331231, "body": "Right now you have a syntax error here: <code>use Trace.pm;</code>. You are trying to concatenate barewords. Try <code>use Trace;</code> or rather <code>use Debug::Trace</code> (you need to preserve the directory structure for the latter)."}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1530709462, "post_id": 51173870, "comment_id": 89331516, "body": "I am slightly modified my script even doesn&#39;t work also updated my script."}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1530709480, "post_id": 51173870, "comment_id": 89331529, "body": "Can&#39;t locate Debug/Trace.pm in @INC (@INC contains: /home/nra/perl-script /usr/local/lib/perl5/5.6.0/sun4-solaris /usr/local/lib/perl5/5.6.0 /usr/local/lib/perl5/site_perl/5.6.0/sun4-solaris /usr/local/lib/perl5/site_perl/5.6.0 /usr/local/lib/perl5/site_perl .) at shift.pl line 4. BEGIN failed--compilation aborted at shift.pl line 4"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1530709851, "post_id": 51173870, "comment_id": 89331753, "body": "The script is called <code>Debug::Trace</code>, so the <code>Trace.pm</code> file needs to be in a folder called <code>Debug</code>, ie: <code>&#47;home&#47;nra&#47;perl-script&#47;Debug&#47;Trace.pm</code>. Then with your script in <code>&#47;home&#47;nra&#47;perl-script</code> it should work."}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1530710359, "post_id": 51173870, "comment_id": 89332110, "body": "I can execute my script(shift.pl). But doesn&#39;t show the trace output.  my script output --&gt; say hello to Nataraj vino mano"}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1530712279, "post_id": 51173870, "comment_id": 89333329, "body": "Please help me on this matter."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1530729113, "post_id": 51173870, "comment_id": 89341062, "body": "Do you mean that you put the module in your home directory that you show?  Then try <code>use lib &#39;&#47;home&#47;nrama&#47;perl-script&#39;;</code> then <code>use Debug::Trace;</code>"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1530730076, "post_id": 51173870, "comment_id": 89341431, "body": "Where is the script located?  Is it being executed by the <i>nramamoorthy</i> user or some other user?  If by another user, does that user have access to where the module is located??"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1530730398, "post_id": 51173870, "comment_id": 89341525, "body": "<b>I can execute my script(shift.pl).  But doesn&#39;t show the trace output.</b>  Does that mean that it&#39;s no longer giving you the &quot;Can&#39;t Locate Debug/Trace.pm&quot; error but it&#39;s also not giving you the trace output?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1530733400, "creation_date": 1530733400, "answer_id": 51180014, "question_id": 51173870, "link": "https://stackoverflow.com/questions/51173870/loading-perl-modules-from-non-standard-directories/51180014#51180014", "title": "Loading Perl Modules from non-standard directories", "body": "<pre><code>use Trace.pm;\n</code></pre>\n\n<p>is not valid Perl, thus the syntax error. That should be</p>\n\n<pre><code>use Debug::Trace;\n</code></pre>\n\n<hr>\n\n<p>Furthermore, it makes no sense to harcode an absolute path in a script. You should remove</p>\n\n<pre><code>use lib (\"/home/nrama/perl-script\");\n</code></pre>\n\n<p>and either set env var <code>PERL5LIB</code> to that path in the login script</p>\n\n<pre><code>export PERL5LIB=\"$HOME/perl-script\"\n</code></pre>\n\n<p>or replace it with a relative path to the script such as</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib $RealBin;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib \"$RealBin/lib\";\n</code></pre>\n"}], "owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 51180014, "answer_count": 1, "score": -2, "last_activity_date": 1530733400, "creation_date": 1530707741, "last_edit_date": 1530733210, "question_id": 51173870, "link": "https://stackoverflow.com/questions/51173870/loading-perl-modules-from-non-standard-directories", "title": "Loading Perl Modules from non-standard directories", "body": "<p>How to load Perl modules using non-standard directories?</p>\n\n<p>I download the trace module from cpan website and put into non-standard directories(/home/nrama/perl-script). but It doesn't taking my non-standard directories while executing below script. please let me know how to resolve this issue.</p>\n\n<p>Trace module  URL:</p>\n\n<p><a href=\"https://metacpan.org/pod/release/JV/Debug-Trace-0.05/lib/Debug/Trace.pm\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/release/JV/Debug-Trace-0.05/lib/Debug/Trace.pm</a></p>\n\n<p><strong>Error:</strong> </p>\n\n<p>syntax error at shift.pl line 3, near \"use Trace.\"\nExecution of shift.pl aborted due to compilation errors.</p>\n\n<p><strong>Sample script:-</strong></p>\n\n<pre><code>use strict;\nuse lib (\"/home/nrama/perl-script\");\nuse Trace.pm;\n\nfunc('Nataraj', 'vino', 'mano' );\nsub func {\nmy $name_1 = shift;\nmy $name_2 = shift;\nmy $name_3 = shift;\nprint \"say hello to $name_1 $name_2 $name_3\\n\";\n}\n</code></pre>\n\n<p>Note: Using perl, v5.6.0</p>\n"}, {"tags": ["json", "perl", "parsing"], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1530706578, "creation_date": 1530706578, "answer_id": 51173495, "question_id": 51173118, "link": "https://stackoverflow.com/questions/51173118/search-for-a-value-in-json-file-with-perl-similar-to-query-in-db/51173495#51173495", "title": "search for a value in json file with perl similar to query in DB", "body": "<p>The best is to load a module from CPAN, such as <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a>, which can convert JSON into a hash.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse autodie;\nuse feature qw( :all );\n\nuse JSON;\nuse Data::Dumper;\n\nmy $json = '{\"apple\":1,\"banana\":2,\"cat\":3,\"dog\":4,\"elephant\":5}';\nmy $ref  = decode_json( $json );\n\nsay Dumper $ref;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1530712061, "creation_date": 1530712061, "answer_id": 51175230, "question_id": 51173118, "link": "https://stackoverflow.com/questions/51173118/search-for-a-value-in-json-file-with-perl-similar-to-query-in-db/51175230#51175230", "title": "search for a value in json file with perl similar to query in DB", "body": "<p>JSON is a data serialisation standard and is used to convert data structures to and from a character string for transmission or storage. A JSON string shouldn't be used without converting it to a data structure native to the language you are using</p>\n\n<p>Once you have converted your sample data to a hash reference, looking up, say, the <code>cat</code> element is a trivial hash access</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse JSON 'decode_json';\n\nmy $data = do {\n    open my $fh, '&lt;', 'JSON.dat' or die $!;\n    local $/;\n    decode_json &lt;$fh&gt;;\n};\n\nprint $data-&gt;{cat}, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>3\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5677316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cc149183659af814725f9b7df26d334?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Jose", "link": "https://stackoverflow.com/users/5677316/tony-jose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530712061, "creation_date": 1530705377, "last_edit_date": 1530706877, "question_id": 51173118, "link": "https://stackoverflow.com/questions/51173118/search-for-a-value-in-json-file-with-perl-similar-to-query-in-db", "title": "search for a value in json file with perl similar to query in DB", "body": "<p>I have a JSON file <code>JSON.dat</code> which contains thousands of entries like this</p>\n\n<pre><code>'{\"apple\":1,\"banana\":2,\"cat\":3,\"dog\":4,\"elephant\":5}'\n</code></pre>\n\n<p>I need to search for a fruit and get the corresponding ID, like a function search(cat) should return 3.\nWhat is the best and efficient way to do this since its a JSON file with thousands of entries.</p>\n"}, {"tags": ["perl", "hash", "reference"], "answers": [{"tags": [], "owner": {"reputation": 1073, "user_id": 2232573, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/207cb35beb3a38a12e8ec83fd12511f0?s=128&d=identicon&r=PG", "display_name": "nurp", "link": "https://stackoverflow.com/users/2232573/nurp"}, "is_accepted": true, "score": 2, "last_activity_date": 1530702579, "creation_date": 1530702579, "answer_id": 51172251, "question_id": 51172178, "link": "https://stackoverflow.com/questions/51172178/how-to-merge-two-hashes-returned-from-sub-in-perl/51172251#51172251", "title": "How to merge two hashes returned from sub, in Perl", "body": "<p>changing this line as</p>\n\n<pre><code>my $descs = {%{_makePos()}, %{_makeVel()}};\n</code></pre>\n\n<p>worked!</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1531132643, "creation_date": 1531132643, "answer_id": 51243544, "question_id": 51172178, "link": "https://stackoverflow.com/questions/51172178/how-to-merge-two-hashes-returned-from-sub-in-perl/51243544#51243544", "title": "How to merge two hashes returned from sub, in Perl", "body": "<p>Actually, your original solution did print both of the hashes, but the first one was \"stringified\" as it was being used as the key of your hash. It's there as <code>HASH(0x21ea4a0)</code>.</p>\n\n<p>I see you have a solution, but it might be worth explaining what was going wrong and why your solution fixed it.</p>\n\n<p>Your two subroutines don't return hashes but, rather, hash references. A hash reference is a scalar value that is, effectively, a pointer to a hash.</p>\n\n<p>A hash is created from a list of values. Your code that creates your news hash (actually, once again, a hash reference) is this:</p>\n\n<pre><code>my $descs = {_makePos(), _makeVel()};\n</code></pre>\n\n<p>This is two scalar values. The first is used as a key in the new hash and the second is used as the associated value - hence the results you get from <code>Data::Dumper</code>.</p>\n\n<p>What you actually want to do is to \"dereference\" your hashes and get back to the actual hashes. You can dereference a hash using the syntax <code>%{ ... }</code>, where the <code>...</code> is any expression returning a hash reference. And that's what you've done in your solution. You dereference the hash references, which gives you a list of key/value pairs. The pairs from the two dereferenced hashes are then joined together in a single list which is used to create your new, combined, hash.</p>\n\n<p>I should point out that there's a danger in this approach. If your two subroutines can ever return references to hashes that contain the same key, then only one version of that repeated key will appear in the combined hash.</p>\n"}], "owner": {"reputation": 1073, "user_id": 2232573, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/207cb35beb3a38a12e8ec83fd12511f0?s=128&d=identicon&r=PG", "display_name": "nurp", "link": "https://stackoverflow.com/users/2232573/nurp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 51172251, "answer_count": 2, "score": 1, "last_activity_date": 1531132643, "creation_date": 1530702326, "last_edit_date": 1530733480, "question_id": 51172178, "link": "https://stackoverflow.com/questions/51172178/how-to-merge-two-hashes-returned-from-sub-in-perl", "title": "How to merge two hashes returned from sub, in Perl", "body": "<p>I am trying to merge two hashes. But they are return values from functions. How can I dereference the return values inline? I don't want to use extra variables such as <code>my $pos = makePos();</code></p>\n\n<pre><code>use v5.8.8;\n\nuse strict;\nuse warnings;\n\nsub _makePos\n{\n    my $desc= {\n        pos50  =&gt; {unit =&gt; 'm', desc =&gt; 'position error' },\n        pos95  =&gt; {unit =&gt; 'm', desc =&gt; '95% position error' }\n    };\n    return $desc;\n}\n\nsub _makeVel\n{\n    my $desc= {\n        vel50  =&gt; {unit =&gt; 'm/s', desc =&gt; 'velocity error' },\n        vel95  =&gt; {unit =&gt; 'm/s', desc =&gt; '95% velocity error' }\n    };\n    return $desc;\n}\n\nmy $descs = {_makePos(), _makeVel()};\nuse Data::Dumper;\nprint Dumper($descs);\n</code></pre>\n\n<p>this prints only the hash returned from _makeVel. how does it work?</p>\n\n<pre><code>$VAR1 = {\n          'HASH(0x21ea4a0)' =&gt; {\n                                 'vel50' =&gt; {\n                                              'desc' =&gt; 'velocity error',\n                                              'unit' =&gt; 'm/s'\n                                            },\n                                 'vel95' =&gt; {\n                                              'unit' =&gt; 'm/s',\n                                              'desc' =&gt; '95% velocity error'\n                                            }\n                               }\n        };\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1530711541, "last_edit_date": 1530711541, "creation_date": 1530700446, "answer_id": 51171617, "question_id": 51171392, "link": "https://stackoverflow.com/questions/51171392/perl-regex-replace-increase-numeric-value-from-match-in-place/51171617#51171617", "title": "perl regex replace increase numeric value from match in-place", "body": "<p>You need <code>/e</code> on the regex, to specify 'evaluate'. </p>\n\n<p>But if you're doing that, you're doing a evaluation, so you can't just use barewords any more. <code>\\_1+1</code> isn't valid perl. You could do <code>$1+1</code> but that'll only give you <code>2</code> not <code>002</code>. </p>\n\n<p>So you also need <code>sprintf</code> to zero pad. </p>\n\n<p>And whilst you're at it, instead of the trailing print, you can use <code>-p</code> instead of <code>-n</code>. </p>\n\n<p>And get:</p>\n\n<pre><code>echo XYZ123-123-123x_S6_L001_R1_001.fastq.gz | perl -pe 's/_L(\\d{3})/sprintf(\"_L%03d\",$1+1)/e'\n</code></pre>\n\n<p>Which gives you:</p>\n\n<pre><code>XYZ123-123-123x_S6_L002_R1_001.fastq.gz\n</code></pre>\n"}], "owner": {"reputation": 8172, "user_id": 719016, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RWd7T.png?s=128&g=1", "display_name": "719016", "link": "https://stackoverflow.com/users/719016/719016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 51171617, "answer_count": 1, "score": 1, "last_activity_date": 1530711541, "creation_date": 1530699788, "question_id": 51171392, "link": "https://stackoverflow.com/questions/51171392/perl-regex-replace-increase-numeric-value-from-match-in-place", "title": "perl regex replace increase numeric value from match in-place", "body": "<p>Is there a way to regex replace a value by the increased +1 or +2 value in Perl in one regex operation? E.g. something that changes L001 to L002 or L003 or L004 below:</p>\n\n<pre><code>$ echo XYZ123-123-123x_S6_L001_R1_001.fastq.gz | perl -lne '$_ =~ /\\_L(\\d{3})/; $new=sprintf(\"%03d\",$1+1); s/\\_L\\d{3}/\\_L$new/;print'\n\nXYZ123-123-123x_S6_L002_R1_001.fastq.gz\n</code></pre>\n\n<p>But doing it in-place in the regex operation, similar to below (which does not work):</p>\n\n<pre><code>echo XYZ123-123-123x_S6_L001_R1_001.fastq.gz | perl -lne 's/\\_L(\\d{3})/\\_$1+1/;print'\n</code></pre>\n"}, {"tags": ["python", "ruby", "perl", "design-patterns", "idioms"], "comments": [{"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1530676344, "post_id": 51165434, "comment_id": 89314139, "body": "As a side note, none of these languages&#39; communities really goes in for the &quot;design patterns&quot; idea. Really, design patterns are repeatable workarounds for features that are missing in a language, and it&#39;s usually better to just have those features in the language. But that doesn&#39;t mean there aren&#39;t names for the languages&#39; idioms, of course."}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1530676408, "post_id": 51165434, "comment_id": 89314153, "body": "At least in Python and Tcl, I&#39;ve seen the term &quot;main guard&quot; (or something &quot;<code>__main__</code> guard&quot; in Python, for obvious reasons) used for the more general, lower-level feature of guarding code from being run on import, at least in Python and Tcl. But that term applies whether you&#39;re using the idiom to write a source file that works both as a runnable script and as an importable module, or to guard against <code>multiprocessing</code> code running in child processes, or anything else. And I don&#39;t know of a cross-language name for the general idea of source-that-works-as-script-or-module (however implemented)."}, {"owner": {"reputation": 310986, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1530676519, "post_id": 51165434, "comment_id": 89314177, "body": "As for your own terms, the problem with &quot;executable module&quot; and &quot;runnable module&quot; is that, at least in Python, they both seem to imply a module that&#39;s runnable via <code>-m</code> more than one that&#39;s a script-or-module. (Plus, I&#39;ve seen &quot;runnable module&quot; used to describe a module that has &quot;entry point&quot; functions that get auto-generated scripts at <code>pip install</code> time, which is yet another different thing.)"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1530788902, "post_id": 51165931, "comment_id": 89361052, "body": "And before that name was suggested, they were called progmods (coined by tchrist?)"}, {"owner": {"reputation": 91, "user_id": 1822437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b561f4b6d93de9064e153d71bfd25d31?s=128&d=identicon&r=PG", "display_name": "hkoba", "link": "https://stackoverflow.com/users/1822437/hkoba"}, "edited": false, "score": 0, "creation_date": 1530889999, "post_id": 51165931, "comment_id": 89407491, "body": "Thank you for mentioning about the great articles for modulino. But I guess we can back further ago about this technique. Because I found <a href=\"https://gist.github.com/hkoba/37ec19af3c7a362f1288367c8f2adf91\" rel=\"nofollow noreferrer\">this post by Tim Bunce on c.l.p.m</a> from my local mail archives. So, It was publically known at least from 1995. (And I personally used similar technique in some of my perl codes written at 1999-2000)."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 17, "last_activity_date": 1530680004, "last_edit_date": 1530680004, "creation_date": 1530679662, "answer_id": 51165931, "question_id": 51165434, "link": "https://stackoverflow.com/questions/51165434/do-the-if-name-main-like-idioms-have-a-name-of-design-pattern/51165931#51165931", "title": "Do the `if __name__ == &quot;__main__&quot;: ` like idioms have a name of design pattern?", "body": "<p>In Perl, this pattern is known as a <a href=\"https://stackoverflow.com/questions/16288846/equivalent-to-perl-modulino-for-ruby-python\"><em>modulino</em></a>. I believe the term was coined by <a href=\"https://stackoverflow.com/users/2766176/brian-d-foy\">brian d foy</a> in his book <a href=\"http://shop.oreilly.com/product/9780596527242.do\" rel=\"noreferrer\"><em>Mastering Perl</em></a>. I don't often see the name applied for languages other than Perl, <a href=\"https://rosettacode.org/wiki/Modulinos\" rel=\"noreferrer\">but it does happen</a>.</p>\n\n<p>Edit to add: the name goes back earlier than that. Here's an <a href=\"http://www.drdobbs.com/scripts-as-modules/184416165\" rel=\"noreferrer\">article from 2004</a> that uses the term.</p>\n"}], "owner": {"reputation": 91, "user_id": 1822437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b561f4b6d93de9064e153d71bfd25d31?s=128&d=identicon&r=PG", "display_name": "hkoba", "link": "https://stackoverflow.com/users/1822437/hkoba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1530680004, "creation_date": 1530675832, "question_id": 51165434, "link": "https://stackoverflow.com/questions/51165434/do-the-if-name-main-like-idioms-have-a-name-of-design-pattern", "title": "Do the `if __name__ == &quot;__main__&quot;: ` like idioms have a name of design pattern?", "body": "<p>Do these following idioms (to write a module which is also an executable/runnable) have a name of design pattern?</p>\n\n<p>In Python, we can write a module as an executable too with <a href=\"https://stackoverflow.com/questions/419163/what-does-if-name-main-do\">if <strong>name</strong> == '<strong>main</strong>': idiom</a>:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>if __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>Similar idiom can be found in <a href=\"https://stackoverflow.com/questions/4687680/what-does-if-file-0-mean-in-ruby\">Ruby</a>:</p>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>if __FILE__ == $0\n  main()\nend\n</code></pre>\n\n<p>Also same effect can be achieved differently in <a href=\"https://stackoverflow.com/questions/1131304/in-perl-how-can-i-find-out-if-my-file-is-being-used-as-a-module-or-run-as-a-scr/1131490#1131490\">Perl</a> too:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>main() unless caller;\n</code></pre>\n\n<p>In Tcl, you may write:</p>\n\n<pre class=\"lang-tcl prettyprint-override\"><code>if {![info level] &amp;&amp; [info script] eq $::argv0} {\n    main\n}\n</code></pre>\n\n<p>Although these are implemented in different ways, they share the same goal: make single script file both a module and an executable/runnable.\nIt seems to me a design pattern. How do you call them? I personally have been called them as <em>Executable Module</em> or <em>Runnable Module</em>, but I want to know the more common name if it exists.</p>\n"}, {"tags": ["perl", "cygwin", "installation"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10028356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4efb97b18031e0d7c452b5fbc19f88f8?s=128&d=identicon&r=PG&f=1", "display_name": "Pabalo Pig", "link": "https://stackoverflow.com/users/10028356/pabalo-pig"}, "edited": false, "score": 1, "creation_date": 1530643903, "post_id": 51161122, "comment_id": 89305874, "body": "Thank you so much, I hadn&#39;t worked with perl much before this project. Things like that escape me (haha...)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 6, "last_activity_date": 1530643340, "creation_date": 1530643340, "answer_id": 51161122, "question_id": 51160965, "link": "https://stackoverflow.com/questions/51160965/unable-to-locate-local-file-in-inc-not-cpanable/51161122#51161122", "title": "Unable to locate local file in @INC, not CPANable", "body": "<p>You are getting tripped up by the quote interpolation rules of Perl. Inside single quotes, a backslash character only acts as an \"escape\" character when it is followed by a single quote or by another backslash. In all other cases, it is interpreted as a literal backslash.</p>\n\n<p>If you printed out <code>$ENV{SIGNAL}</code> you would see something like</p>\n\n<pre><code>/cygdrive/c/Users/rpbas/Documents/Work/Olivera\\ Lab/signal-4.1\n</code></pre>\n\n<p>including the backslash character. Don't escape the space and you should be all right.</p>\n\n<pre><code>BEGIN {\n    $ENV{SIGNAL} = \n        '/cygdrive/c/Users/rpbas/Documents/Work/Olivera Lab/signal-4.1';\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1530653605, "last_edit_date": 1530653605, "creation_date": 1530644774, "answer_id": 51161438, "question_id": 51160965, "link": "https://stackoverflow.com/questions/51160965/unable-to-locate-local-file-in-inc-not-cpanable/51161438#51161438", "title": "Unable to locate local file in @INC, not CPANable", "body": "<p><code>@INC</code> contains</p>\n\n<pre><code>/cygdrive/c/Users/rpbas/Documents/Work/Olivera\\ Lab/signal-4.1/lib\n</code></pre>\n\n<p>when it should contain</p>\n\n<pre><code>/cygdrive/c/Users/rpbas/Documents/Work/Olivera Lab/signal-4.1/lib\n</code></pre>\n\n<p>You could replace</p>\n\n<pre><code>BEGIN {\n  $ENV{SIGNAL} = '/cygdrive/c/Users/rpbas/Documents/Work/Olivera\\ Lab/signal-4.1';\n}\n\nuse lib \"$ENV{SIGNAL}/lib\";\n</code></pre>\n\n<p>with</p>\n\n<pre><code>BEGIN {\n  $ENV{SIGNAL} = '/cygdrive/c/Users/rpbas/Documents/Work/Olivera Lab/signal-4.1';\n}\n\nuse lib \"$ENV{SIGNAL}/lib\";\n</code></pre>\n\n<p>but a better solution is to replace it with</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib ( $ENV{SIGNAL} || $RealBin ) . \"/lib\";\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10028356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4efb97b18031e0d7c452b5fbc19f88f8?s=128&d=identicon&r=PG&f=1", "display_name": "Pabalo Pig", "link": "https://stackoverflow.com/users/10028356/pabalo-pig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 51161122, "answer_count": 2, "score": 2, "last_activity_date": 1530653605, "creation_date": 1530642695, "question_id": 51160965, "link": "https://stackoverflow.com/questions/51160965/unable-to-locate-local-file-in-inc-not-cpanable", "title": "Unable to locate local file in @INC, not CPANable", "body": "<p>I'm am currently trying to download a program that has given me many issues. I'm running cygwin on Windows. The program should run correctly and the installation packages were all installed in an administrator terminal shell, and as the program was being un'tar'ed no errors were thrown. However after the installation the program cannot find the @INC module named FASTA in the file system</p>\n\n<pre><code>rpbas@DESKTOP-4LMFDCK /cygdrive/c/Users/rpbas/Documents/Work/OliveraLab/signal-4.1 \n$ ./signal -t euk -f short test/euk10.fsa &gt; euk10.fsa.short_out Can't locate FASTA.pm in @INC (you may need to install the FASTA module) \n(@INC contains: \n/cygdrive/c/Users/rpbas/Documents/Work/Olivera\\ Lab/signal-4.1/lib \n\\cygdrive\\c\\Users\\rpbas\\Documents\\Work\\Olivera/ Lab\\signal-4.1 \n/usr/local/lib/perl5/site_perl/5.26/x86_64-cygwin-threads \n/usr/local/share/perl5/site_perl/5.26 /usr/lib/perl5/vendor_perl/5.26/x86_64-cygwin-threads \n/usr/share/perl5/vendor_perl/5.26 \n/usr/lib/perl5/5.26/x86_64-cygwin-threads /usr/share/perl5/5.26) \nat ./signal line 60. \nBEGIN failed-- compilation aborted at ./signal line 60.\n</code></pre>\n\n<p>However, the ./lib/FASTA.pm file clearly exists and being directed to. </p>\n\n<pre><code>rpbas@DESKTOP-4LMFDCK /cygdrive/c/Users/rpbas/Documents/Work/Olivera\\ Lab/signal-4.1/lib\n$ ls\nFASTA.pm\n</code></pre>\n\n<p>The code includes the line (at the beginning) </p>\n\n<pre><code>BEGIN {\n$ENV{SIGNAL} = '/cygdrive/c/Users/rpbas/Documents/Work/Olivera\\ Lab/signal-4.1';\n}\n</code></pre>\n\n<p>and at line 60</p>\n\n<pre><code>use lib \"$ENV{SIGNAL}/lib\";\nuse FASTA;\n</code></pre>\n\n<p>I've been working on this issue for a couple of days now and it a big bottleneck to the other parts of my program. Any help would be appreciated!</p>\n"}, {"tags": ["join", "dbix-class", "prefetch", "perl"], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 1, "creation_date": 1530643107, "post_id": 51161036, "comment_id": 89305515, "body": "You haven&#39;t answered my question: Is there any difference between <code>join</code> and <code>prefetch</code> when the relevant relation is <code>has_a</code>? You say that <code>prefetch</code> is &quot;sugar&quot; for join. So both produce the same <code>JOIN</code>, right? Then what is the difference?"}], "tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": false, "score": 1, "last_activity_date": 1530642959, "creation_date": 1530642959, "answer_id": 51161036, "question_id": 51160010, "link": "https://stackoverflow.com/questions/51160010/difference-between-join-and-prefetch-in-dbixclass/51161036#51161036", "title": "Difference between join and prefetch in DBIx::Class", "body": "<p>Prefetch is sugar for join + select and populates the cache with related result objects so no SQL query is triggered when you call the relationship accessor method.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530642959, "creation_date": 1530638605, "question_id": 51160010, "link": "https://stackoverflow.com/questions/51160010/difference-between-join-and-prefetch-in-dbixclass", "title": "Difference between join and prefetch in DBIx::Class", "body": "<p>Please explain in details the difference between <code>join</code> and <code>prefetch</code> in <code>DBIx::Class</code>.</p>\n\n<p><code>joins</code> maps to <code>JOIN</code> in SQL, right?</p>\n\n<p><code>prefetch</code> makes to read all data from related tables, right?</p>\n\n<p>But it seems for me that in the case of a <code>has_a</code> relationship to a table, joining and prefetching this table do exactly the same thing, add an SQL <code>JOIN</code>. Right? Is there any difference between <code>join</code> and <code>prefetch</code> for <code>has_a</code> relationships?</p>\n\n<p>So when to use either (especially for <code>has_a</code> relationships)?</p>\n"}, {"tags": ["mongodb", "perl", "ssl"], "comments": [{"owner": {"reputation": 3805, "user_id": 4165552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18b32c5e142791fca01cbf252f663ac?s=128&d=identicon&r=PG&f=1", "display_name": "pptaszni", "link": "https://stackoverflow.com/users/4165552/pptaszni"}, "edited": false, "score": 0, "creation_date": 1530635828, "post_id": 51159098, "comment_id": 89301941, "body": "Edit the question to format your code slightly better."}, {"owner": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "reply_to_user": {"reputation": 3805, "user_id": 4165552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18b32c5e142791fca01cbf252f663ac?s=128&d=identicon&r=PG&f=1", "display_name": "pptaszni", "link": "https://stackoverflow.com/users/4165552/pptaszni"}, "edited": false, "score": 0, "creation_date": 1530639006, "post_id": 51159098, "comment_id": 89303544, "body": "###Without SSL (Mongodb+perl): use MongoDB (); use Data::Dumper qw(Dumper); my $client = MongoDB::MongoClient-&gt;new(host =&gt; &#39;localhost&#39;, port =&gt; 27017); my $db   = $client-&gt;get_database( &#39;mydb&#39;); my $messages_coll = $db-&gt;get_collection(&#39;customers&#39;); my $messages = $messages_coll-&gt;find; while (my $p = $messages-&gt;next) {     print Dumper $p; }  ###O/P $VAR1 = {           &#39;password&#39; =&gt; &#39;intel123&#39;,           &#39;username&#39; =&gt; &#39;royabhix&#39;,           &#39;_id&#39; =&gt; bless( {                           &#39;value&#39; =&gt; &#39;5b3b96ea7517d164f102d614&#39;                         }, &#39;MongoDB::OID&#39; )         };"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1530640118, "post_id": 51159098, "comment_id": 89304095, "body": "Did you try removing the username and password from the URL in <code>host</code> attribute? (Also no need to obfuscate them in your question, they appear in clear text in your error message dump... so you now need to change at least this password <code>y2sK...</code>)"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1530646712, "post_id": 51159098, "comment_id": 89306962, "body": "In cases like that you would ideally also need to give the version number of your MongoDB module, as well as perl while you are at it. Things can change depending on the version..."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530645365, "post_id": 51160531, "comment_id": 89306481, "body": "I&#39;m getting the same error even after removing the password from the host URL."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530645505, "post_id": 51160531, "comment_id": 89306532, "body": "@AbhijitRoy The password has to come from somewhere, the library sees it. Are you sure of your call to <code>MongoDB::MongoClient-&gt;new()</code>?"}, {"owner": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530645834, "post_id": 51160531, "comment_id": 89306641, "body": "No I&#39;m not sure of it."}, {"owner": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530646235, "post_id": 51160531, "comment_id": 89306790, "body": "I&#39;m very new to this area. So, Could you please send me a complete demo for this? It would be very helpful for me if there is any way to execute the code without authentication."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 1, "creation_date": 1530646486, "post_id": 51160531, "comment_id": 89306872, "body": "@AbhijitRoy I have added the example from the manpage. Note that the URL is without any username or password. Try a simple case first, with only a name or an IP and then when it works make it more complex as needed. You have to many things going on the same time (not sure if your URL in <code>host</code> is valid, so start with a simple one)"}, {"owner": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530647633, "post_id": 51160531, "comment_id": 89307329, "body": "Getting the folloing error if I pass only the IP address with port, MongoDB::SelectionError: No readable server available for matching read preference primary. MongoDB server status: Topology type: Sharded; Member status:   10.108.24.13:7018 (type: Unknown, error: MongoDB::HandshakeError: SSL connection failed for 10.108.24.13: Failed to load key from file (no PEM or DER) error:0D0680A8:asn1 encoding routines:asn1_check_tlen:wrong tag error:0D08303A:asn1 encoding routines:asn1_template_noexp_d2i:nested asn1 or:04093004:rsa routines:old_rsa_priv_decode:RSA lib error:0D0680A8:asn1"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530647641, "post_id": 51160531, "comment_id": 89307331, "body": "@AbhijitRoy &quot;without authentication&quot;? Surely not a good idea. But you control that in <code>&#47;etc&#47;mongod.conf</code>,  in <code>security</code>,  the key <code>authorization</code> could be set to <code>disabled</code> to remove any need to authenticate. This is however clearly not the road to follow to solve an authentication problem... See <a href=\"https://docs.mongodb.com/manual/reference/configuration-options/#security-options\" rel=\"nofollow noreferrer\">docs.mongodb.com/manual/reference/configuration-options/&hellip;</a>"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530648148, "post_id": 51160531, "comment_id": 89307545, "body": "@AbhijitRoy you may need <code>SSL_key_file</code> in the <code>ssl</code> block to point to the correct path"}, {"owner": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530648298, "post_id": 51160531, "comment_id": 89307609, "body": "Thank you for sharing this valuable info and quick response as well."}, {"owner": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530648672, "post_id": 51160531, "comment_id": 89307763, "body": "Could you please share any demo for SSL_key_file?"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530648795, "post_id": 51160531, "comment_id": 89307810, "body": "@AbhijitRoy It is the path to the key file. At this point, it is no more a Perl issue, so we are getting offtopic here. I would recommend you start again from scratch, starting with simple things and build it up. Like, first without authentication, then simple authentication (username + password), then TLS connection, then X509 authentication. Otherwise you are following too many problems at the same time."}, {"owner": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "edited": false, "score": 0, "creation_date": 1530809008, "post_id": 51160531, "comment_id": 89374285, "body": "Still, I&#39;m finding the solution, Even, ignoring the SSL certificate would also be fine. like: In Java, sslInvalidHostNameAllowed=true, same thing I need for Perl."}], "tags": [], "owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "is_accepted": false, "score": 1, "last_activity_date": 1530646412, "last_edit_date": 1530646412, "creation_date": 1530640787, "answer_id": 51160531, "question_id": 51159098, "link": "https://stackoverflow.com/questions/51159098/ssl-connection-issue-with-mongodb-using-perl/51160531#51160531", "title": "SSL Connection issue with Mongodb using Perl", "body": "<p>Your error message comes from this line:\n<a href=\"https://metacpan.org/source/MONGODB/MongoDB-v2.0.0/lib/MongoDB/_Credential.pm#L211\" rel=\"nofollow noreferrer\">https://metacpan.org/source/MONGODB/MongoDB-v2.0.0/lib/MongoDB/_Credential.pm#L211</a></p>\n\n<p>If you study the code above it, you see it depends on:</p>\n\n<pre><code>'MONGODB-X509' =&gt; {\n    password             =&gt; sub { ! length },\n    source               =&gt; sub { $_ eq '$external' },\n    mechanism_properties =&gt; sub { !keys %$_ },\n},\n</code></pre>\n\n<p>Which means that when you use the <code>MONGODB-X509</code> authentication scheme, you should not provide a password because if it is there the <code>sub { ! length }</code> will trigger and generate an error.</p>\n\n<p>I guess the password is taken out of your URL, in the <code>host</code> parameter, so try instead with:</p>\n\n<pre><code>host =&gt; 'mongodb://username@ip_address1:port_number, ip_address2:port_number,ip_address3:port_number/myDB?ssl=true&amp;replicaSet=mongo123'\n</code></pre>\n\n<p>(the username itself may be irrelevant in fact if you use a certificate)</p>\n\n<p>The man page at <a href=\"https://metacpan.org/pod/MongoDB::MongoClient#MONGODB-X509-(for-SSL-client-certificate)\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/MongoDB::MongoClient#MONGODB-X509-(for-SSL-client-certificate)</a> gives this example:</p>\n\n<pre><code>my $mc = MongoDB::MongoClient-&gt;new(\n    host =&gt; \"mongodb://sslmongo.example.com/\",\n    ssl =&gt; {\n        SSL_ca_file   =&gt; \"certs/ca.pem\",\n        SSL_cert_file =&gt; \"certs/client.pem\",\n    },\n    auth_mechanism =&gt; \"MONGODB-X509\",\n    username       =&gt; \"CN=XXXXXXXXXXX,OU=XXXXXXXX,O=XXXXXXX,ST=XXXXXXXXXX,C=XX\"\n);\n</code></pre>\n\n<p>By the way and to be precise, it is not a TLS (better name than SSL) problem, it is a problem related to authentication with an X.509 certificate.</p>\n"}], "owner": {"reputation": 1, "user_id": 9858053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A1pfcpijB_k/AAAAAAAAAAI/AAAAAAAABO4/RzXEqG_OQtc/photo.jpg?sz=128", "display_name": "Abhijit Roy", "link": "https://stackoverflow.com/users/9858053/abhijit-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1530646602, "creation_date": 1530634593, "last_edit_date": 1530646602, "question_id": 51159098, "link": "https://stackoverflow.com/questions/51159098/ssl-connection-issue-with-mongodb-using-perl", "title": "SSL Connection issue with Mongodb using Perl", "body": "<p>I am trying to connect Mongodb server (using SSL) in Perl script but failed to connect.</p>\n\n<h3>Source code:</h3>\n\n<pre><code>use strict;\n\nuse IO::Socket::SSL;\nuse MongoDB;\nuse MongoDB::OID;\n\nmy $client = MongoDB::MongoClient-&gt;new(\n    host =&gt; 'mongodb://username:password@ip_address1:port_number, ip_address2:port_number,ip_address3:port_number/myDB?ssl=true&amp;replicaSet=mongo123',\n    ssl  =&gt; {\n        SSL_ca_file   =&gt; \" certificates/chain_prod.pem\",\n        SSL_cert_file =&gt; \" certificates/cert.pem\",\n    },\n    auth_mechanism =&gt; \"MONGODB-X509\",\n    username       =&gt; \" CN=XXXXXXXXXXX,OU=XXXXXXXX,O=XXXXXXX,ST=XXXXXXXXXX,C=XX \",\n    # using openssl x509 -in certs/client.pem -inform PEM -subject -nameopt RFC2253\n);\n\nmy $db       = $client-&gt;get_database( \"mydb\" );\nmy $coll     = $db-&gt;get_collection( \"customers\" );\nmy $messages = $coll-&gt;find;\n\nwhile ( my $msg = $messages-&gt;next ) {\n    print $msg;\n}\n</code></pre>\n\n<h3>Error</h3>\n\n<blockquote>\n  <p>NPP_EXEC: \"Run Perl\"<br>\n  NPP_SAVE: C:\\Users\\royabhix\\Desktop\\perl_program\\MysqlDataBaseConnection.pl<br>\n  CD: C:\\Users\\royabhix\\Desktop\\perl_program<br>\n  Current directory: C:\\Users\\royabhix\\Desktop\\perl_program<br>\n  C:\\perl64\\bin\\perl \"MysqlDataBaseConnection.pl\"<br>\n  Process started (PID=11400) >>><br>\n  MongoDB::UsageError: invalid field password in MONGODB-X509 credential at (eval 595) line 291.<br>\n  MongoDB::_Credential::new(undef, \"mechanism\", \"MONGODB-X509\", \"mechanism_properties\", HASH(0x5935f10), \"username\", \"user123\", \"password\", ...) called at C:/Perl64/site/lib/MongoDB/MongoClient.pm line 1181<br>\n  MongoDB::MongoClient::_build__credential(MongoDB::MongoClient=HASH(0x594db50)) called at (eval 450) line 21<br>\n  MongoDB::MongoClient::_credential(MongoDB::MongoClient=HASH(0x594db50)) called at C:/Perl64/site/lib/MongoDB/MongoClient.pm line 1149<br>\n  MongoDB::MongoClient::_build__topology(MongoDB::MongoClient=HASH(0x594db50)) called at (eval 446) line 21<br>\n  MongoDB::MongoClient::_topology(MongoDB::MongoClient=HASH(0x594db50)) called at C:/Perl64/site/lib/MongoDB/MongoClient.pm line 1291<br>\n  MongoDB::MongoClient::BUILD(MongoDB::MongoClient=HASH(0x594db50), HASH(0x62e87f8)) called at (eval 590) line 1014<br>\n  MongoDB::MongoClient::new(undef, \"host\", \"mongodb://username1:password123\\@ip_address:port_number,1\"..., \"ssl\", HASH(0xa5dc68), \"auth_mechanism\", \"MONGODB-X509\", \"username\", ...) called at MysqlDataBaseConnection.pl line 4<br>\n  &lt;&lt;&lt; Process finished (PID=11400). (Exit code 255)  </p>\n  \n  <p>================ READY ================  </p>\n</blockquote>\n\n<h3>Without SSL (Mongodb + perl):</h3>\n\n<pre><code>use MongoDB ();\nuse Data::Dumper qw(Dumper);\n\nmy $client = MongoDB::MongoClient-&gt;new(host =&gt; 'localhost', port =&gt; 27017);\n\nmy $db   = $client-&gt;get_database( 'mydb');\n\nmy $messages_coll = $db-&gt;get_collection('customers');\n\nmy $messages = $messages_coll-&gt;find;\nwhile (my $p = $messages-&gt;next) {\n    print Dumper $p;\n}\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre><code>NPP_EXEC: \"Run Perl\"\nNPP_SAVE: C:\\Users\\royabhix\\Desktop\\perl_program\\MongoDBConnection.pl\nCD: C:\\Users\\royabhix\\Desktop\\perl_program\nCurrent directory: C:\\Users\\royabhix\\Desktop\\perl_program\nC:\\perl64\\bin\\perl \"MongoDBConnection.pl\"\nProcess started (PID=16796) &gt;&gt;&gt;\n$VAR1 = {\n          'password' =&gt; 'intel123',\n          'username' =&gt; 'rpn',\n          '_id' =&gt; bless( {\n                          'value' =&gt; '5b3b96ea7517d164f102d614'\n                        }, 'MongoDB::OID' )\n        };\n$VAR1 = {\n          '_id' =&gt; bless( {\n                          'value' =&gt; '5b3b96f27517d164f102d615'\n                        }, 'MongoDB::OID' ),\n          'username' =&gt; 'faizkhax',\n          'password' =&gt; 'intel456'\n        };\n$VAR1 = {\n          '_id' =&gt; bless( {\n                          'value' =&gt; '5b3b96f27517d164f102d616'\n                        }, 'MongoDB::OID' ),\n          'username' =&gt; 'kunal',\n          'password' =&gt; 'intel789'\n        };\n&lt;&lt;&lt; Process finished (PID=16796). (Exit code 0)\n================ READY ================\n</code></pre>\n\n<h3>The above code snippet is working fine as SSL is not being applied here.</h3>\n\n<h3>But I want to have the same code with SSL.</h3>\n\n<p>Any help would be appreciated. Thank you in advance</p>\n"}, {"tags": ["perl", "csh"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1530633818, "post_id": 51158574, "comment_id": 89301008, "body": "Did you mean to run the <code>sleep</code> command in the background? That seems to defeat the purpose of running the other task in the background and then killing it later."}, {"owner": {"reputation": 1799, "user_id": 3618854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e8563fab07e0c27d82e18d8ba9aa8e?s=128&d=identicon&r=PG&f=1", "display_name": "Yakov Dan", "link": "https://stackoverflow.com/users/3618854/yakov-dan"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1530634811, "post_id": 51158574, "comment_id": 89301476, "body": "Yes, I did.The idea is that there&#39;s a task and a timeout timer. There&#39;s a while loop that &quot;sleeps&quot; for a short interval while both task and timer are running. When the while loop is done,  whoever finishes first, kills the other, reports and exits."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 2, "creation_date": 1530634885, "post_id": 51158574, "comment_id": 89301505, "body": "So your shell script looks nothing like what you&#39;ve put in your question?"}, {"owner": {"reputation": 1799, "user_id": 3618854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e8563fab07e0c27d82e18d8ba9aa8e?s=128&d=identicon&r=PG&f=1", "display_name": "Yakov Dan", "link": "https://stackoverflow.com/users/3618854/yakov-dan"}, "edited": false, "score": 0, "creation_date": 1530635815, "post_id": 51158574, "comment_id": 89301938, "body": "I thought I provided the pertinent details. Question has been edited to reflect your comment."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 3, "creation_date": 1530673799, "post_id": 51158574, "comment_id": 89313724, "body": "the best thing you can do is to add <code>echo &quot;before exit&quot; .... echo &quot;after exit&quot;</code> sort of debugging to your csh code to see what is really going on. And you can use <code>#!&#47;bin&#47;csh -fbvx</code> to turn on debug/trace (I forget what <code>-fb</code> does anymore, but we always used that as well, but check your <code>csh</code> man page to confirm). Good luck."}], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 6479118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63708dea9abc1e12f5c0c38412aad735?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Ohnsorge", "link": "https://stackoverflow.com/users/6479118/theo-ohnsorge"}, "is_accepted": false, "score": 0, "last_activity_date": 1530868135, "creation_date": 1530868135, "answer_id": 51206827, "question_id": 51158574, "link": "https://stackoverflow.com/questions/51158574/c-shell-script-doesnt-exit/51206827#51206827", "title": "c shell script doesn&#39;t exit", "body": "<p><strong>Timeout</strong></p>\n\n<p>One method to return to the calling Perl script is to call the csh script within a timed out call. The trade off is that the csh script will be aborted after reaching the timeout.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings FATAL =&gt; 'all';\nuse strict;\nuse Sys::SigAction qw(timeout_call);\n\nmy $cmd = 'sleep 5';\nmy $timeout = 2;\nif (timeout_call($timeout, sub {\n  my $out = system($cmd);\n})) {\n  print \"command '$cmd' runs into timeout after $timeout s\\n\";\n}\n</code></pre>\n\n<p><strong>Threads</strong></p>\n\n<p>Another approach is to encapsulate each task in a system call within a thread. This is a very simple example that does not consider any timeouts. Detached threads will live on after the Perl script has finished and will be assigned to PPID 1.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings FATAL =&gt; 'all';\nuse strict;\nuse threads;\n\nmy $task1 = threads-&gt;new(sub { \n  print \"start task1\\n\"; qx(sleep 2); print \"stop task1\\n\"; return \n});\nmy $task2 = threads-&gt;new(sub {\n  print \"task2\\n\"; qx(sleep 1); print \"stop task2\\n\"; return \n});\n\n$task2-&gt;join();\n$task1-&gt;detach();\nprint \"Detach task1\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1799, "user_id": 3618854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e8563fab07e0c27d82e18d8ba9aa8e?s=128&d=identicon&r=PG&f=1", "display_name": "Yakov Dan", "link": "https://stackoverflow.com/users/3618854/yakov-dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530868135, "creation_date": 1530632827, "last_edit_date": 1530635788, "question_id": 51158574, "link": "https://stackoverflow.com/questions/51158574/c-shell-script-doesnt-exit", "title": "c shell script doesn&#39;t exit", "body": "<p>I have a perl script that calls a c shell script. \nsomething along the lines of</p>\n\n<pre><code> system($cmd)\n</code></pre>\n\n<p>$cmd contains some c-shell scirpt, which does the following:</p>\n\n<pre><code>some_task1 &amp;\nset task1_id = $!\nsleep 300s &amp;\nset task2_id = $!\n\nwhile (`ps -p \"$task1_id,$task2_id\" | wc -l` &gt; 2)\n     sleep 1m\nend\n\n# assume of the moment that task2 will finish first\nkill -9 $task1_id \nexit\n</code></pre>\n\n<p>I expect that the process task1_id will be terminated and that the c-shell script will finish and return control to the calling perl script once </p>\n\n<pre><code>sleep 300s\n</code></pre>\n\n<p>is done. </p>\n\n<p>however, what actually happens is that after </p>\n\n<pre><code>exit \n</code></pre>\n\n<p>control never returns to the calling script. How do I make sure that nested scripts actually returns?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["database-schema", "derived-class", "dbix-class", "perl"], "answers": [{"tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": false, "score": 1, "last_activity_date": 1530635659, "creation_date": 1530635659, "answer_id": 51159330, "question_id": 51157020, "link": "https://stackoverflow.com/questions/51157020/dbixclassschemaloader-using-different-namespace-for-table-relationships/51159330#51159330", "title": "DBIx::Class::Schema::Loader using different namespace for table relationships", "body": "<p>Nothing related directly to Schema::Loader, check out <a href=\"https://metacpan.org/pod/DBIx::Class::Helper::Row::SubClass\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/DBIx::Class::Helper::Row::SubClass</a>.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530635659, "creation_date": 1530627851, "last_edit_date": 1530628621, "question_id": 51157020, "link": "https://stackoverflow.com/questions/51157020/dbixclassschemaloader-using-different-namespace-for-table-relationships", "title": "DBIx::Class::Schema::Loader using different namespace for table relationships", "body": "<p>I want\n<a href=\"https://metacpan.org/pod/DBIx::Class::Schema::Loader\" rel=\"nofollow noreferrer\"><code>DBIx::Class::Schema::Loader</code></a>\nto create a class (say <code>OurSchemaBase::*</code>) for each of my tables.</p>\n\n<p>Then I want to derive each of these classes and put them in, say, <code>OurSchema::*</code> and I want the relationship to point to my derived class not to the autogenerated base class.</p>\n\n<p>Can I make <code>DBIx::Class::Schema::Loader</code> create relationships in <code>OurSchemaBase::*</code> to <code>OurSchema::*</code> classes instead of to <code>OurSchemaBase::*</code> classes?</p>\n\n<p>Is this possible with <code>DBIx::Class::Schema::Loader</code>?</p>\n"}, {"tags": ["perl", "stored-procedures", "sap-ase"], "comments": [{"owner": {"reputation": 8716, "user_id": 7366100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/426e64e0d4a4ee822821a63c62424ddb?s=128&d=identicon&r=PG&f=1", "display_name": "markp-fuso", "link": "https://stackoverflow.com/users/7366100/markp-fuso"}, "edited": false, "score": 0, "creation_date": 1530637663, "post_id": 51156254, "comment_id": 89302844, "body": "For the ASE side of the issue ... If you run the proc from <code>isql</code> you should find proc <b>does</b> return 2 result sets ... <code>anything</code> and <code>&lt;empty_result_set&gt;</code> (&quot;Duh, Mark!&quot; ?)"}], "answers": [{"comments": [{"owner": {"reputation": 16, "user_id": 10024098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb14fe12fa3c95eda1b7126083056b72?s=128&d=identicon&r=PG&f=1", "display_name": "Vaheen", "link": "https://stackoverflow.com/users/10024098/vaheen"}, "edited": false, "score": 0, "creation_date": 1531116918, "post_id": 51220085, "comment_id": 89457102, "body": "Please note that the lower level your perl library operates at, there are actually even more <code>result set</code>s that you will find. For example: procedure <code>RETURN</code> values will return a <code>result set</code> and so will procedure <code>OUTPUT</code> variables"}], "tags": [], "owner": {"reputation": 16, "user_id": 10024098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb14fe12fa3c95eda1b7126083056b72?s=128&d=identicon&r=PG&f=1", "display_name": "Vaheen", "link": "https://stackoverflow.com/users/10024098/vaheen"}, "is_accepted": true, "score": 0, "last_activity_date": 1530939995, "creation_date": 1530939995, "answer_id": 51220085, "question_id": 51156254, "link": "https://stackoverflow.com/questions/51156254/sybase-procedure-returns-previous-result-set/51220085#51220085", "title": "sybase - procedure returns previous result set", "body": "<p>Every SELECT will produce a result set (with the exception of SELECT @var = ...)</p>\n\n<p>So will first be receiving the 'anything' result set</p>\n\n<p>After that, you will receive the empty result set.</p>\n\n<p>You need to get your perl code to fetch all rows in the first result set, then get the next result set and fetch all rows in that result set.</p>\n\n<p>The functions to get the next result set will greatly depend on the perl library you are using.</p>\n"}], "owner": {"reputation": 3325, "user_id": 210713, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9bd21dc1cd6c769d5cc249e662a1b8fa?s=128&d=identicon&r=PG", "display_name": "TedTrippin", "link": "https://stackoverflow.com/users/210713/tedtrippin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 51220085, "answer_count": 1, "score": 0, "last_activity_date": 1530939995, "creation_date": 1530625641, "question_id": 51156254, "link": "https://stackoverflow.com/questions/51156254/sybase-procedure-returns-previous-result-set", "title": "sybase - procedure returns previous result set", "body": "<p>I have a procedure with 2 selects, looks something like this...</p>\n\n<pre><code>PROCEDURE getRec\n  @pId INTEGER\nAS\nBEGIN\n  SELECT 'anything'\n\n  SELECT id, name\n  FROM my_table\n  WHERE id = @pId\nEND\n</code></pre>\n\n<p>When my perl script calls this stored procedure, if <code>my_table</code> has a matching record then it is displayed. However, if the ID passed in has no matches then the stored procedure returns <code>'anything'</code>.</p>\n\n<p>If there are no rows in the second select then I just want the procedure to return an empty result set. How can I achieve this?</p>\n"}, {"tags": ["database-schema", "dbix-class", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1530626884, "post_id": 51156209, "comment_id": 89296687, "body": "Are you planning to change the schema often? Do you have a lot of tables? Would it not make sense to add the relationships once after you&#39;ve Loadered the classes? If you add them below the checksum, they&#39;ll stick around in case you do need to recreate."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1530627401, "post_id": 51156209, "comment_id": 89297035, "body": "@simbabque The classes should be dumped as Perl files. The schema changes but probably not very often. We have really a lot of tables. I want the relationships which fit in the scheme in my question to be generated automatically, but I want also write derived classes with more relationships and more other properties. I don&#39;t understand what you mean by &quot;the checksum&quot;. I am awaiting for a reply to my question: Can we use <code>DBIx::Class::Schema::Loader</code> for this or do I need to create my own Loader."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1530628128, "post_id": 51156209, "comment_id": 89297541, "body": "If you look at the auto-generated code that D::C::S::L spits out you&#39;ll see that there is a section below the code where you can put custom code. If you rerun the loader, it will keep that custom code. If you change anything above, the checksum will not match and it will abort. // I don&#39;t know if you can do what you want without research."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1531127022, "creation_date": 1531127022, "answer_id": 51241740, "question_id": 51156209, "link": "https://stackoverflow.com/questions/51156209/dbixclassschemaloader-customization/51241740#51241740", "title": "DBIx::Class::Schema::Loader customization", "body": "<p>Don't worry about \"hacking\" DBIx::Class::Schema::Loader to handle this. Just generate the classes and then add the relationships manually.</p>\n\n<p>Every class that you generate with DBIx::Class::Schema::Loader will contain text at the bottom that looks like this:</p>\n\n<pre><code># Created by DBIx::Class::Schema::Loader v0.07043 @ 2018-07-09 09:56:55\n# DO NOT MODIFY THIS OR ANYTHING ABOVE! md5sum:6//4n3Crnz9U/q6GZ0Fwtg\n\n# You can replace this text with custom code or comments, and it will be preserved on regeneration\n</code></pre>\n\n<p>As the last comment says, anything that you insert in the file beneath this text will be preserved if you regenerate the class. So you can safely add the relationship information to this section of the file manually and know that it will still be there the next time you regenerate the class.</p>\n\n<p>Don't forget that you'll need to add both sides of the relationship - for example a <code>has_many</code> relationship in a parent table and the reciprocal <code>belongs_to</code> relationship in the associated child table.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531127022, "creation_date": 1530625493, "question_id": 51156209, "link": "https://stackoverflow.com/questions/51156209/dbixclassschemaloader-customization", "title": "DBIx::Class::Schema::Loader customization", "body": "<p>We have a MyISAM DB (don't ask me why we don't switch to InnoDB, it is not controlled by me).</p>\n\n<p>Now I want <code>DBIx::Class::Schema::Loader</code> to create relationships for <code>*ID</code> columns adding <code>s</code> to get table names. For example, <code>Order.SeanceID</code> should relate table <code>Order</code> with table <code>Seances</code>.</p>\n\n<p>Can <code>DBIx::Class::Schema::Loader</code> be hacked to do this? Or is it better to write my own Loader?</p>\n"}, {"tags": ["html", "css", "perl", "templates", "catalyst"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1530622163, "post_id": 51154248, "comment_id": 89293301, "body": "Typically you&#39;d use a <code>&lt;link ...&gt;</code> tag in the HTML to load a CSS file, for examples, just look at most websites?"}, {"owner": {"reputation": 153, "user_id": 7812937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3efb67c1c6cce7e59b8c133ac95c09a7?s=128&d=identicon&r=PG&f=1", "display_name": "K Soze", "link": "https://stackoverflow.com/users/7812937/k-soze"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1530623091, "post_id": 51154248, "comment_id": 89293970, "body": "Yes, but if I have for example 3 CSS files for 3 different templates. How/where I specify that &#39;x.css&#39; apply to &#39;x.tt&#39; ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1530626526, "post_id": 51154248, "comment_id": 89296458, "body": "Ping. I undeleted my answer that I posted too early by accident. It&#39;s complete now."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 7812937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3efb67c1c6cce7e59b8c133ac95c09a7?s=128&d=identicon&r=PG&f=1", "display_name": "K Soze", "link": "https://stackoverflow.com/users/7812937/k-soze"}, "edited": false, "score": 0, "creation_date": 1530693076, "post_id": 51155918, "comment_id": 89321105, "body": "Thank you for your great answer. So if I understand it well, it&#39;s not a problem to make one main CSS file like the one in the catalyst tutorial. All the different styles will apply correctly to my content, regardless the displayed template."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 153, "user_id": 7812937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3efb67c1c6cce7e59b8c133ac95c09a7?s=128&d=identicon&r=PG&f=1", "display_name": "K Soze", "link": "https://stackoverflow.com/users/7812937/k-soze"}, "edited": false, "score": 0, "creation_date": 1530693447, "post_id": 51155918, "comment_id": 89321289, "body": "@KSoze yes, of course. That&#39;s the whole point of the cascade (that&#39;s the <i>C</i> in CSS). You want to use the same CSS classes throughout your website, to reduce repetition. There are whole books written on this. Maybe also take a look at a grid framework like <a href=\"https://getbootstrap.com/\" rel=\"nofollow noreferrer\">getbootstrap.com</a>. If you&#39;re unfamiliar with all of this, an out-of-the-box solution may be easier for you to use."}, {"owner": {"reputation": 153, "user_id": 7812937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3efb67c1c6cce7e59b8c133ac95c09a7?s=128&d=identicon&r=PG&f=1", "display_name": "K Soze", "link": "https://stackoverflow.com/users/7812937/k-soze"}, "edited": false, "score": 0, "creation_date": 1530694356, "post_id": 51155918, "comment_id": 89321809, "body": "Ok, thank you so much for your time. I will go deeper in the CSS documentation then."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1530658717, "last_edit_date": 1530658717, "creation_date": 1530624682, "answer_id": 51155918, "question_id": 51154248, "link": "https://stackoverflow.com/questions/51154248/how-can-i-apply-css-file-to-specific-template-in-my-catalyst-webapp-using-a-wrap/51155918#51155918", "title": "How can I apply CSS file to specific template in my Catalyst webapp using a wrapper", "body": "<p>You can certainly assign the CSS file to a stash variable in your controller. </p>\n\n<pre><code>sub frobnicate :Local {\n    my ($self, $c) = @_;\n\n    # ...\n\n    # this would probably be implied, i.e. in a properly configured Catalyst\n    # you don't have to actually set this, it will just load the right thing\n    $c-&gt;stash-&gt;{template} = 'frobnicate'; \n\n    # this one is for loading the right CSS\n    $c-&gt;stash-&gt;{css_file} = 'frobnication.css';\n}\n</code></pre>\n\n<p>And then in your TT wrapper, possibly wrapped in <code>[% IF css_file %]...[% END %]</code>:</p>\n\n<pre><code>&lt;head&gt;\n    &lt;link rel=\"stylesheet\" href=\"[% css_file %]\"&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>That would work, but it is not good practice, because you are breaking the <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">separation of concerns</a>. The way the page looks should have nothing to do with your application controller. </p>\n\n<p>You could also just load each CSS file whenever it's needed, but that is bad practice too, because it will impact page load times and the order in which things are loaded. Typically one puts CSS at the top in the <code>&lt;head&gt;</code>, and most javascript files at the end of the page, just before the <code>&lt;/body&gt;</code> so that there is already content rendered before the browser goes off and fetches and runs javascript.</p>\n\n<p>A more flexible, but also more complex solution is to write a method in your View that can be exposed as a TT vmethod to the Template Toolkit, and use it to add CSS files to the stash when needed. You can do that with <a href=\"https://metacpan.org/pod/Catalyst::View::TT#expose_methods\" rel=\"nofollow noreferrer\"><code>expose_methods</code></a>.</p>\n\n<pre><code>package MyApp::View::TT; # or whatever you have called this\n\n# ...\n\nexpose_methods =&gt; [qw/add_css_file/],\n\n# ...\n\nsub add_css_file {\n    my ( $c, $self, $css_file ) = @_;\n\n    push @{ $c-&gt;stash-&gt;{_css_files} }, $css_file;\n\n    return;\n}\n</code></pre>\n\n<p>Now you can use that in your template files. You can have a block at the very top or very bottom of each file to add CSS files to the list of files that should be loaded right where they belong to logically.</p>\n\n<pre><code>&lt;h1&gt;Order Confirmation&lt;/h1&gt;\n[% add_css_file('confirmation.css') %]\n</code></pre>\n\n<p>In your wrapper, you can iterate that list of files and load each of them. As you can see this approach comes with the benefit of allowing you to have more than one file.</p>\n\n<pre><code>&lt;head&gt;\n  [% FOREACH file IN _css_files %]\n    &lt;link rel=\"stylesheet\" href=\"[% file %]\"&gt;\n  [% END %]\n&lt;/head&gt;\n</code></pre>\n\n<p>They'll be available in the stash because the wrapper gets rendered after the inner part of the page, but you can't do it from the template directly, because you cannot change the stash within Template Toolkit. If there are no files, this will not do anything because the loop has nothing to iterate over.</p>\n\n<p>Note how I called the stash key <code>_css_file</code>. The underscore <code>_</code> indicates that it's meant to be a private variable. Perl has no concept of private or public, but that's a convention to tell other developers not to mess with this.</p>\n\n<p>It would be advisable to now add a second method to the View to read the list and return it. That would decouple the implementation detail of how the list of files is stored completely from the template. You could change it entirely without having to touch the template files at all. </p>\n\n<p>If you have that exposed method, it would be smart to for example make sure that each file is only included once, e.g. with <code>List::Util::uniq</code>, or by using a hash and accessing the <code>key</code>s instead of going for an array.</p>\n\n<p>I originally used this approach for javascript files rather than CSS. For CSS in your application I actually believe it would be smarter to condense all the styles into one file, and minify it. Your users will download most of them anyway, so why have the overhead of loading multiple files and making each initial page load a little bit slower, and blowing up their cache, if you can just have the very first page load be a tiny bit longer and then read everything from cache?</p>\n"}], "owner": {"reputation": 153, "user_id": 7812937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3efb67c1c6cce7e59b8c133ac95c09a7?s=128&d=identicon&r=PG&f=1", "display_name": "K Soze", "link": "https://stackoverflow.com/users/7812937/k-soze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 51155918, "answer_count": 1, "score": 0, "last_activity_date": 1530658717, "creation_date": 1530619664, "question_id": 51154248, "link": "https://stackoverflow.com/questions/51154248/how-can-i-apply-css-file-to-specific-template-in-my-catalyst-webapp-using-a-wrap", "title": "How can I apply CSS file to specific template in my Catalyst webapp using a wrapper", "body": "<p>I don't really understand how the wrapper works. I understood the example of the catalyst tutorial but I don't know how to apply specific CSS file for a specific template.\nShould I use [% IF %] statement in my wrapper.tt in order to select a specific template ? Do I call the CSS file with stash, like I do for a template in the controller ?</p>\n\n<p>Some examples or hints would be great, thanks </p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1530617211, "post_id": 51153291, "comment_id": 89290090, "body": "What do you think this code is supposed to do? You usually don&#39;t use filenames with this, but package names. The idea is that the file name and the package name map to each other, and then Perl knows what to do."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530618010, "post_id": 51153291, "comment_id": 89290537, "body": "There is no <code>import</code> function; it is a <i>method</i> defined by modules that wish to export their values to external code, and requires a <i>package name</i> as part of the method call. What is in <code>$projectID.&#39;&#47;&#39;.$gTable</code>? Is it a proper module definition? It isn&#39;t advisable to learn a language by making wild guesses at the correct syntax. Please read the documentation before asking for free world-wide help with nonsensical code."}, {"owner": {"reputation": 11, "user_id": 7414281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ddb9759b961a26b80d90309f904d8b?s=128&d=identicon&r=PG&f=1", "display_name": "scicmb", "link": "https://stackoverflow.com/users/7414281/scicmb"}, "edited": false, "score": 0, "creation_date": 1530620934, "post_id": 51153291, "comment_id": 89292396, "body": "sorry for not being clear with my question. $projectID.&#39;/&#39;.$gTable is my perl module filename. And this perl module is a package that contains hashes. So my idea is after importing the perl module, i wanted to extract the values from it. Here the problem is with filename if it starts with a string, i dont see any import errors but if its numeric then import error."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 16908, "user_id": 3523579, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d2eea8d5e3d38eb31f625e69cb6aad49?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Kholodkov", "link": "https://stackoverflow.com/users/3523579/mikhail-kholodkov"}, "edited": false, "score": 0, "creation_date": 1530623340, "post_id": 51153291, "comment_id": 89294163, "body": "@Mikhail: Your edit has made the question <i>substantially worse</i>. In particular, replacing <b><i>e.g.</i></b> with <b><i>i.e.</i></b> is <i>wrong</i>. Please don&#39;t make corrections if you don&#39;t know the language very well."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1530624209, "post_id": 51153291, "comment_id": 89294803, "body": "Please <a href=\"https://stackoverflow.com/posts/51153291/edit\">edit</a> your question and include an example of one of your packages. What&#39;s in them? You ought to use the package name, not the file name."}, {"owner": {"reputation": 16908, "user_id": 3523579, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d2eea8d5e3d38eb31f625e69cb6aad49?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Kholodkov", "link": "https://stackoverflow.com/users/3523579/mikhail-kholodkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530626827, "post_id": 51153291, "comment_id": 89296653, "body": "@Borodin Thanks for the review. I&#39;ll take this into account."}], "answers": [{"comments": [{"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1530690302, "post_id": 51168093, "comment_id": 89319639, "body": "@ikegami I was quoting <a href=\"http://perldoc.perl.org/functions/import.html\" rel=\"nofollow noreferrer\">the doc</a>. If you could clarify what the distinction is, I can edit my answer."}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 3, "last_activity_date": 1530690573, "last_edit_date": 1530690573, "creation_date": 1530689290, "answer_id": 51168093, "question_id": 51153291, "link": "https://stackoverflow.com/questions/51153291/cant-call-method-import-without-a-package-or-object-reference/51168093#51168093", "title": "Can&#39;t call method &quot;import&quot; without a package or object reference", "body": "<p>What is going on here is that <a href=\"http://perldoc.perl.org/functions/import.html\" rel=\"nofollow noreferrer\"><code>import</code></a> is <em>not</em> a built-in Perl function. Instead, it is a <a href=\"http://perldoc.perl.org/perlobj.html#A-Method-is-Simply-a-Subroutine\" rel=\"nofollow noreferrer\">method</a> that <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\"><code>use</code></a> typically calls on a <em>package</em> after it is loaded - you seem to be trying to call it on a <em>filename</em>, which won't work.</p>\n\n<p>I guess you are trying to dynamically load a package based on the contents of those variables. Here's one way of several to do that:</p>\n\n<pre><code>my $filename = '/path/to/Package/Name.pm';\nmy $packagename = 'Package::Name';\nrequire $filename;\n$packagename-&gt;import();\n</code></pre>\n\n<p>One thing to keep in mind about loading modules dynamically like this is that, unlike modules loaded by <code>use</code>, Perl won't know about the functions exported from those packages at compile time. The consequence is that you can't omit parentheses from calls to those functions.</p>\n\n<p>So for example: If you have a module <code>Foo</code> that exports a function <code>foo</code>, you could say: <code>use Foo; foo \"bar\";</code>. But if you instead load <code>Foo</code> with the above code, you have to say <code>foo(\"bar\");</code>.</p>\n\n<p>By the way, I doubt that <code>0689::vg76</code> is the name of one of your packages. If you could explain more about what you're trying to load, i.e. what the files <code>0689/vg76.pm</code> look like and what you're loading from them (like, do they actually have a <code>sub import</code>?), perhaps we could suggest a more fitting method of loading them.</p>\n\n<hr>\n\n<p>The reason that <code>import $projectID . '/' . $gTable;</code> is still valid syntax is that Perl is interpreting it as <a href=\"http://perldoc.perl.org/perlobj.html#Indirect-Object-Syntax\" rel=\"nofollow noreferrer\">Indirect Object Syntax</a>, wherein <code>method_name $object @parameters;</code> is taken as <code>$object-&gt;method_name(@parameters);</code>.</p>\n\n<p>The indirect object syntax is mostly used when <code>print</code>ing to a filehandle, as in <code>print $filehandle $output</code>, but other than that, its use is <strong>discouraged</strong>, one reason being the confusing syntax issues you are observing here.</p>\n\n<p>You can use use <a href=\"http://perldoc.perl.org/B/Deparse.html\" rel=\"nofollow noreferrer\"><code>B::Deparse</code></a> to see how Perl interprets your source code:</p>\n\n<pre><code>$ perl -MO=Deparse,-p -e 'import $projectID . \"/\" . $gTable;'\n(($projectID-&gt;import . '/') . $gTable);\n</code></pre>\n\n<p>The reason you are getting that error message is that, on Perl releases before v5.18 (references: <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=105922\" rel=\"nofollow noreferrer\">bug</a>, <a href=\"https://perl5.git.perl.org/perl.git/commit/7156e69ab\" rel=\"nofollow noreferrer\">commit</a>, <a href=\"http://perldoc.perl.org/perl5180delta.html#Selected-Bug-Fixes\" rel=\"nofollow noreferrer\">delta</a>), the string on the left of the <code>-&gt;</code> was required to be a known name, or start with an alphanumeric character. (And even though as of v5.18, you can theoretically say <code>\"0689/vg76\"-&gt;import</code>, that's almost certainly not what you want, as I explained above.)</p>\n"}], "owner": {"reputation": 11, "user_id": 7414281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ddb9759b961a26b80d90309f904d8b?s=128&d=identicon&r=PG&f=1", "display_name": "scicmb", "link": "https://stackoverflow.com/users/7414281/scicmb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530690573, "creation_date": 1530616692, "last_edit_date": 1530623687, "question_id": 51153291, "link": "https://stackoverflow.com/questions/51153291/cant-call-method-import-without-a-package-or-object-reference", "title": "Can&#39;t call method &quot;import&quot; without a package or object reference", "body": "<p>My Perl CGI program uses the <code>import</code> function, I am calling a <code>.pm</code> file.</p>\n\n<p>In the following code, when <code>$projectID</code> is a string\u2014for example <code>\"try\"</code>\u2014there are no import errors. But if it is numeric\u2014e.g. <code>\"0689\"</code>\u2014then the following error appears</p>\n\n<blockquote>\n  <p>Can't call method \"import\" without a package or object reference at aa.cgi line 993.</p>\n</blockquote>\n\n<pre><code>my $projectID    = \"0689\"\nmy $gTable       = \"vg\" . $tm . \".pm\";\nmy $new_vPath    = $hconfig::usersPNG . $vnm;\nmy $gen_listPath = $usersTMP . $gTable;\n\nif ( -e $new_venPath &amp;&amp; -e $gen_listPath ) {\n\n    require $projectID . '/' . $gTable;\n    import $projectID . '/' . $gTable;  # try2/vg77.pm -&gt; no error # 0689/vg76.pm -&gt; import error\n\n    ...\n}\n</code></pre>\n"}, {"tags": ["arrays", "string", "perl", "substring"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 1, "creation_date": 1530606393, "post_id": 51149796, "comment_id": 89283313, "body": "&quot;which some parts of it are written in different character&quot; is not a well specified splitting criterion..."}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1530607515, "post_id": 51149796, "comment_id": 89283994, "body": "@timgeb well, I had only this idea. If you have better idea Please write it as answer! :)"}, {"owner": {"reputation": 210, "user_id": 7684247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En7gm.jpg?s=128&g=1", "display_name": "L. O. van Ingen", "link": "https://stackoverflow.com/users/7684247/l-o-van-ingen"}, "edited": false, "score": 6, "creation_date": 1530607922, "post_id": 51149796, "comment_id": 89284232, "body": "@Royeh: Errm, that&#39;s not how it works. Programming starts with outlining your functional requirements as clear as possible... Also, you appear to have forgotten to paste your code. What have you tried so far?"}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "reply_to_user": {"reputation": 210, "user_id": 7684247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En7gm.jpg?s=128&g=1", "display_name": "L. O. van Ingen", "link": "https://stackoverflow.com/users/7684247/l-o-van-ingen"}, "edited": false, "score": 0, "creation_date": 1530683242, "post_id": 51149796, "comment_id": 89316152, "body": "@L.O.vanIngen you can  find now my update to the question and code!"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 9951985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07eccf76753ce6f9ee4cb85b137b54e4?s=128&d=identicon&r=PG&f=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/9951985/arun"}, "edited": false, "score": 0, "creation_date": 1530617144, "post_id": 51151558, "comment_id": 89290040, "body": "Any reason for the downvote? My answer matches the question asked perfectly!"}], "tags": [], "owner": {"reputation": 111, "user_id": 9951985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07eccf76753ce6f9ee4cb85b137b54e4?s=128&d=identicon&r=PG&f=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/9951985/arun"}, "is_accepted": false, "score": 1, "last_activity_date": 1530624501, "last_edit_date": 1530624501, "creation_date": 1530611541, "answer_id": 51151558, "question_id": 51149796, "link": "https://stackoverflow.com/questions/51149796/split-string-to-some-parts-and-replace-a-one-sub-string-with-another-string/51151558#51151558", "title": "split string to some parts and replace a one sub-string with another string", "body": "<p>Try this:</p>\n\n<pre><code>$Text = \"acc\\E34rate\nacc\\?4rate\nacc\u00a754rate\"; # This is the joined string (using enter key) after reading from the file\n$Text =~ s/^acc.*?rate$/accutext/mg;\nprint $Text;\n</code></pre>\n\n<p>I've just tested it in my system and it is working fine.</p>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>accutext<br>\n  accutext<br>\n  accutext</p>\n</blockquote>\n\n<p><code>m</code> is to denote that the string is a multi line string and that each <code>\\n</code> will be treated as an end of string character.</p>\n\n<p><code>g</code> is to replace all possible occurrences.</p>\n\n<p>To get back as an array, split using <code>\\n</code>.</p>\n\n<p>Please note that the above code is written based on the assumption that each line in the file will begin and end with acc and text respectively and that there are no additional text after or before them in that line (ie, File is not having individual lines like <code>\"Driving acc\\?4rate at 60kmph\" and only \"acc\\?4rate\"</code>).<br>\nIn case this word is in between words in a sentence, replace below in the above code.</p>\n\n<pre><code>$Text =~ s/acc.*?rate/accutext/g;\n</code></pre>\n\n<p>Incidentally, this will work in all possible inputs too, including the code at the top.</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 1, "last_activity_date": 1530623654, "creation_date": 1530623654, "answer_id": 51155577, "question_id": 51149796, "link": "https://stackoverflow.com/questions/51149796/split-string-to-some-parts-and-replace-a-one-sub-string-with-another-string/51155577#51155577", "title": "split string to some parts and replace a one sub-string with another string", "body": "<p>I think this is what you want but the requirements are not clear. See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a> for more details.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $begin   = 'acc';\nmy $end     = 'rate';\nmy $replace = 'u';\n\nwhile( my $line = &lt;DATA&gt; ){\n    $line =~ s{ \\Q$begin\\E \\S*? \\Q$end\\E }{$begin$replace$end}gmsx;\n    print $line;\n}\n\n__DATA__\nacc\\E34rate\nacc\\?4rate\nacc\u00a754rate\nacc\\E34rate acc\\?4rate acc\u00a754rate\naccFOOacc\nrateFOOrate\nrateFOOrate accFOOacc\naccFOOacc rateFOOrate\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 51155577, "answer_count": 2, "score": -1, "last_activity_date": 1530683202, "creation_date": 1530606062, "last_edit_date": 1530683202, "question_id": 51149796, "link": "https://stackoverflow.com/questions/51149796/split-string-to-some-parts-and-replace-a-one-sub-string-with-another-string", "title": "split string to some parts and replace a one sub-string with another string", "body": "<p>I am trying to replace a string with a substring which is located in between other two parts.</p>\n\n<p>To describe, I have a file which contains some text in. In this text file there is one word which some parts of it are written in different character, as an example like:</p>\n\n<pre><code>acc\\E34rate\nacc\\?4rate\nacc\u00a754rate\n.....\n</code></pre>\n\n<p>What I want to write as a code is, to lookup for for <code>acc</code> and then <code>rate</code> and then replace what is between them with <code>u</code>. Because all strings are in commen with the the first part and the last part. </p>\n\n<p>I wonder how I can do it in Perl?</p>\n\n<p>Thanks!</p>\n\n<p><strong>Update: including Code</strong></p>\n\n<p>well what I have written is:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @stringArray  = ('acc\\E34rate', 'acc\\?4rate');\nmy $find    = '\\E34';\nmy $replace = 'u';  \nmy @newArray;\n\n    foreach my $str(@stringArray)\n    {\n        my $pos = index($str, $find);\n\n        while($pos &gt; -1) {\n            substr($str, $pos, length($find), $replace);\n            $pos = index($str, $find, $pos + length($replace));\n        }\n\n        push @newSrray, $str;\n    }\n\n    foreach(@newArray)\n    {\n        print \"$_\\r\\n\";\n    }\n</code></pre>\n\n<p>To simplify, I have added an array instead of a file. Because it works for only a proper word rather than the whole array/file.</p>\n"}, {"tags": ["perl", "require", "io-redirection"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1530604659, "post_id": 51148550, "comment_id": 89282389, "body": "xy problem and poor design choices."}, {"owner": {"reputation": 9, "user_id": 9961414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e254b0b303e6e5a703cf53b2a82925?s=128&d=identicon&r=PG", "display_name": "Sandeep Kumar", "link": "https://stackoverflow.com/users/9961414/sandeep-kumar"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1530608225, "post_id": 51148550, "comment_id": 89284417, "body": "@\u0421\u0443\u0445\u043e\u043927 Sir, I have just started learning and practicing perl from a week."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1530609062, "post_id": 51148550, "comment_id": 89284917, "body": "One options is to use <code>select</code> to change the current default handle for output or to reopen <code>STDOUT</code> to the file handle of <code>textfile.txt</code> before the call to <code>require</code>. See <a href=\"https://stackoverflow.com/q/6417185/2173773\">How can close and reopen STDOUT in Perl?</a> for more information."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530613316, "post_id": 51148550, "comment_id": 89287649, "body": "Regardless of how new you are to Perl, it should be very obvious that <code>require</code> imports a module and does not accept shell statements."}], "owner": {"reputation": 9, "user_id": 9961414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e254b0b303e6e5a703cf53b2a82925?s=128&d=identicon&r=PG", "display_name": "Sandeep Kumar", "link": "https://stackoverflow.com/users/9961414/sandeep-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1530610270, "answer_count": 0, "score": 0, "last_activity_date": 1530613085, "creation_date": 1530601842, "last_edit_date": 1530613085, "question_id": 51148550, "link": "https://stackoverflow.com/questions/51148550/output-redirection-using-require", "closed_reason": "Duplicate", "title": "Output redirection using &quot;require&quot;", "body": "<p>In my program <code>c.pl</code> I want to use a variable from script <code>b.pl</code> which uses package <code>a.pm</code>.</p>\n\n<p>I'm using</p>\n\n<pre><code>require 'b.pl'\n</code></pre>\n\n<p>This line runs the script <code>b.pl</code>, but I need to redirect its output to a text file.</p>\n\n<p>I used to run as </p>\n\n<pre><code>perl b.pl &gt; textfile.txt\n</code></pre>\n\n<p>separately, but now I use <code>require</code> to share the variable I need to do output redirection a different way.</p>\n\n<p>I tried this</p>\n\n<pre><code>require 'b.pl &gt; textfile.txt'\n</code></pre>\n\n<p>but it seems not to be working. </p>\n\n<p>Is there any way to redirect the output without using the redirection operator <code>&gt;</code>?</p>\n"}, {"tags": ["linux", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1530596339, "post_id": 51146416, "comment_id": 89278596, "body": "Also, do you tags &#39;linux, perl, awk, sed` mean it doesn&#39;t which is used? You will only need one for the solution."}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530596467, "post_id": 51146416, "comment_id": 89278637, "body": "Any text processing languages can be used, but prefer in awk, sed, perl that commonly used in Linux terminal."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1530597160, "post_id": 51146416, "comment_id": 89278890, "body": "Do all rows have consistent delimiters, and what are they?  So, the second raw after the header (which has no <code>1 1000</code>), does it have two empty fields delimited with the same thing as the first two fields in the first row?"}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530597552, "post_id": 51146416, "comment_id": 89279008, "body": "yes can have consistent delimiters like whitespaces, as long it output only 4 columns."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1530597624, "post_id": 51146416, "comment_id": 89279034, "body": "OK, but what does the input file have? Is it tab delimited? Or just &quot;some&quot; number of spaces between numbers?"}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530597678, "post_id": 51146416, "comment_id": 89279052, "body": "some number of spaces between numbers, yep correct"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1530597741, "post_id": 51146416, "comment_id": 89279073, "body": "What makes this tricky is identifying when you&#39;ve got a &#39;first row&#39; (with 1:1000 for example in columns 1 and 2) versus a second row (with no value in columns 1 or 2) or a third row (where you&#39;ve no value in column 1).  The third row may be easiest; the number of values is odd.  Is it safe to assume that 10 fields means a &#39;first row&#39;?  Or could you have just 1, 2 or 3 pairs (after the key) on a first row?"}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530597950, "post_id": 51146416, "comment_id": 89279146, "body": "A1, B1, Tn and Vn is a headers. A1 have different B1 and B1 consist of different Tn and Vn."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1530598439, "post_id": 51146416, "comment_id": 89279354, "body": "Your input format is unclear. How do you identify columns? Is the first line really there? What is its format?"}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530598493, "post_id": 51146416, "comment_id": 89279374, "body": "The input file have fixed 10 columns and many rows. These 10 columns are A1,B1,T1,V1,T2,V2,T3,V3,T4,V4. Each A1 can consist of a couple of rows that have different B1 and Tn and Vn. Let assume A1 is group, B1 is the name of student, T is time taken and V is velocities. For each group, there are some student, and each student have their own time taken and velocities."}], "answers": [{"comments": [{"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 1, "creation_date": 1530600092, "post_id": 51148062, "comment_id": 89280117, "body": "You definitely get a bonus for both <code>sed</code> and <code>awk</code> solutions... but <code>0    0</code> looks suspicious."}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530600174, "post_id": 51148062, "comment_id": 89280163, "body": "Hi Jonathan, you&#39;re awsome and thank you very much for your advice and answer. We will try these code to see whether it can solve the real problem."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1530601090, "post_id": 51148062, "comment_id": 89280626, "body": "@DavidC.Rankin: Good spot on the <code>0 0</code> \u2014 the problem was partly some trailing blanks, and partly not starting at field 3 in the &#39;nothing in column 1 or column 2&#39; lines (starting at field 5 effectively skipped the first values).  I think the output is now correct \u2014 as expected.  (When I take what my code produces, and what is listed in the question, and run <code>diff -b</code> on the two files, I get no output, so there is no significant difference.  Phew!)"}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1530601298, "post_id": 51148062, "comment_id": 89280727, "body": "Yes, this was one that will leave you scratching your head in a couple of different directions, I had to go add more loops to make bash match the posted output format. (selfishly -- it was kinda fun...)"}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530601560, "post_id": 51148062, "comment_id": 89280871, "body": "This gonna take some time. I will let you know once I have successfully crack it."}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530607489, "post_id": 51148062, "comment_id": 89283978, "body": "This works very well too, but it is quite difficult and time consuming because it doesn&#39;t use the original input. Thank you very much, I can use these script on my other problem."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 3, "last_activity_date": 1530600990, "last_edit_date": 1530600990, "creation_date": 1530599928, "answer_id": 51148062, "question_id": 51146416, "link": "https://stackoverflow.com/questions/51146416/how-to-sort-or-rearrange-numbers-from-multiple-column-into-multiple-row-fixed-i/51148062#51148062", "title": "How to sort or rearrange numbers from multiple column into multiple row [fixed into 4 columns]?", "body": "<p>This isn't easy because it is hard to identify when you have the different styles of row \u2014 those with values in both column 1 and column 2, those with no value in column 1 and a value in column 2, and those no value in column 1 or 2.  A first step is to make this easier \u2014 <code>sed</code> to the rescue:</p>\n\n<pre><code>$ sed 's/[[:space:]]\\{1,\\}$//\ns/^....../&amp;|/\ns/|....../&amp;|/\n:a\ns/|\\(  *[0-9][0-9]* \\)\\( *[^|]\\)/|\\1|\\2/\nt a' data\n    1 | 1000 |   0 |  100 |  10 |  200 |  20 |  300 |  30 |  400\n      |      |  40 |  500 |  50 |  600 |  60 |  700 |  70 |  800\n      | 1010 |   0 |  101 |  10 |  201 |  20 |  301 |  30 |  401\n      |      |  40 |  501 |  50 |  601\n    2 | 1000 |   0 |  110 |  15 |  210 |  25 |  310 |  35 |  410\n      |      |  45 |  510 |  55 |  610 |  65 |  710\n      | 1010 |   0 |  150 |  10 |  250 |  20 |  350 |  30 |  450\n      |      |  40 |  550\n$\n</code></pre>\n\n<p>The first line removes any trailing white space, to avoid confusion. The next two expressions handle the fixed-width columns 1 and 2 (6 characters each). The next line creates a label <code>a</code>; the substitute finds a pipe <code>|</code>, some spaces, some digits, a space, and some trailing material which doesn't include a pipe; and inserts a pipe in the middle.  The <code>t a</code> jumps back to the label if a substitution was done.</p>\n\n<p>With that in place, it becomes easy to manage <code>awk</code> with a field separator of <code>|</code>.\nThis is verbose, but seems to do the trick:</p>\n\n<pre><code>awk -F '|' '\n$1 &gt; 0 { printf \"%5d  %4d  %3d  %3d\\n\", $1, $2, $3, $4\n         for (i = 5; i &lt;= NF; i += 2) { printf \"%5s  %4s  %3d  %3d\\n\", \"\", \"\", $i, $(i+1) }\n         next\n       }\n$2 &gt; 0 { printf \"%5s  %4d  %3d  %3d\\n\", \"\", $2, $3, $4\n         for (i = 5; i &lt;= NF; i += 2) { printf \"%5s  %4s  %3d  %3d\\n\", \"\", \"\", $i, $(i+1) }\n         next\n       }\n       { for (i = 3; i &lt;= NF; i += 2) { printf \"%5s  %4s  %3d  %3d\\n\", \"\", \"\", $i, $(i+1) }\n         next\n       }'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    1  1000    0  100\n              10  200\n              20  300\n              30  400\n              40  500\n              50  600\n              60  700\n              70  800\n       1010    0  101\n              10  201\n              20  301\n              30  401\n              40  501\n              50  601\n    2  1000    0  110\n              15  210\n              25  310\n              35  410\n              45  510\n              55  610\n              65  710\n       1010    0  150\n              10  250\n              20  350\n              30  450\n              40  550\n</code></pre>\n\n<p>If you need to remove the headings, add <code>1d;</code> to the start of the <code>sed</code> script.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530600231, "post_id": 51148073, "comment_id": 89280193, "body": "Hi David, thank you very much for your advice and answer. We will try these code to see whether it can solve the real problem."}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530601569, "post_id": 51148073, "comment_id": 89280874, "body": "This gonna take some time. I will let you know once I have successfully crack it."}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530606868, "post_id": 51148073, "comment_id": 89283605, "body": "Hi David. This script works very well on the real problem. I just need to modified these parameters and conditions. Thank you very much for helping me on this problem."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "reply_to_user": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530607279, "post_id": 51148073, "comment_id": 89283842, "body": "Great, I&#39;m glad it helped. There is very little you can&#39;t do with bash. It&#39;s not always the fastest horse in the stable, but for all but billion record files, it is generally fast enough. But as with my earlier comment, when you are simply grabbing columns and manipulating the values without the same formatting I/O calls, it is generally faster and can readily handle large files. <code>sed</code> is more a stream-editor rather than a formatting utility. @JonathanLeffler answer uses <code>sed</code> to add <code>&#39;|&#39;</code> between the fields to make it easier on <code>awk</code> to parse. That is another good approach."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1530613990, "post_id": 51148073, "comment_id": 89288088, "body": "<i>&quot;There is very little you can&#39;t do with bash&quot;</i> There is also very little that you <i>should</i> do with it. It is also possible to persuade a dog to walk on its hind legs. This is an abomination."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1530614097, "post_id": 51148073, "comment_id": 89288155, "body": "Please don&#39;t pressure people to select an answer unless it really seems that they have overlooked it. 48 hours is a reasonable period for assessment."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1530622631, "post_id": 51148073, "comment_id": 89293614, "body": "Don&#39;t do this. See <a href=\"https://unix.stackexchange.com/questions/169716/why-is-using-a-shell-loop-to-process-text-considered-bad-practice\">why-is-using-a-shell-loop-to-process-text-considered-bad-pra&zwnj;&#8203;ctice</a> for some of the reasons why. wrt the statment at the end <code>As between awk and bash, awk will generally be faster, but here with formatted output, it may be closer than usual</code> - no, that shell script will be <b>several</b> orders of magnitude slower than an awk script for this task. For a moderately large file we&#39;re literally talking hours vs seconds."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1530622750, "post_id": 51148073, "comment_id": 89293718, "body": "@EdMorton - the answer you cite actually supports the propriety of what I have done. There are no utilities called within a loop (the &quot;Performance&quot; penalty), there are no &quot;pipes&quot; (&quot;Conceptual&quot;) and the (&quot;Readability&quot;) is arguable between it and sed/awk. Further, the cited answer was for POSIX shell, not bash."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530623025, "post_id": 51148073, "comment_id": 89293914, "body": "@Borodin - I didn&#39;t pressure anyone to come back within any timeframe - did I? No. The rash of unanswered questions that bob around of ever in that state is something to be avoided. We even have a whole section on &quot;What to do when someone answers my question&quot; that I generally cite."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 2, "creation_date": 1530623325, "post_id": 51148073, "comment_id": 89294150, "body": "You call the <code>read</code> and <code>echo</code> utilities within the loop. The only mention of bash in my comment was your statement which I quoted. You are correct, people can always debate readability but your shell script is 3-4 times longer than <a href=\"https://stackoverflow.com/a/51154942/1745001\">my awk script</a> and contains several non-obvious array manipulation constructs plus nested conditionals within loops within switches within other loops, repeated/redundant code, etc. so I personally don&#39;t see any argument for the shell script being clearer than the awk script in this particular case but YMMV I suppose."}], "tags": [], "owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "is_accepted": true, "score": 0, "last_activity_date": 1530601218, "last_edit_date": 1530601218, "creation_date": 1530599979, "answer_id": 51148073, "question_id": 51146416, "link": "https://stackoverflow.com/questions/51146416/how-to-sort-or-rearrange-numbers-from-multiple-column-into-multiple-row-fixed-i/51148073#51148073", "title": "How to sort or rearrange numbers from multiple column into multiple row [fixed into 4 columns]?", "body": "<p>This is a rather tricky problem that can be handled a number of ways. Whether <code>bash</code>, <code>perl</code> or <code>awk</code>, you will need to handle to number of fields in some semi-generic way instead of just hardcoding values for your example.</p>\n\n<p>Using bash, so long as you can rely on an even-number of fields in all lines (except for the lines with the sole initial value (e.g. <code>1010</code>), you can accommodate the number of fields is a reasonably generic way. For the lines with <code>1, 2</code>, etc.. you know your initial output will contain <code>4-fields</code>. For lines with <code>1010</code>, etc.. you know the output will contain an initial <code>3-fields</code>. For the remaining values you are simply outputting <em>pairs</em>.</p>\n\n<p>The tricky part is handling the <em>alignment</em>. Here is where <code>printf</code> which allows you to set the <em>field-width</em> with a parameter using the form <code>\"%*s\"</code> where the conversion specifier expects the next parameter to be an <code>integer</code> value specifying the <em>field-width</em> followed by a parameter for the string conversion itself. It takes a little gymnastics, but you could do something like the following in bash itself:</p>\n\n<p><strong>(note: edit to match your output header format)</strong></p>\n\n<pre><code>#!/bin/bash\n\ndeclare -i nfields wd=6     ## total no. fields, printf field-width modifier\n\nwhile read -r line; do      ## read each line  (preserve for header line)\n    arr=($line)             ## separate into array\n    first=${arr[0]}         ## check for '#' in first line for header\n    if [ \"${first:0:1}\" = '#' ]; then\n        nfields=$((${#arr[@]} - 2))     ## no. fields in header\n        printf \"##   A1    B1   Tn    Vn ## --&gt; headers\\n\"  ## new header\n        continue\n    fi\n    fields=${#arr[@]}                   ## fields in line\n    case \"$fields\" in\n        $nfields )                      ## fields -eq nfiles?\n            cnt=4                       ## handle 1st 4 values in line\n            printf \" \"\n            for ((i=0; i &lt; cnt; i++)); do\n                if [ \"$i\" -eq '2' ]; then\n                    printf \"%*s\" \"5\" \"${arr[i]}\"\n                else\n                    printf \"%*s\" \"$wd\" \"${arr[i]}\"\n                fi\n            done\n            echo\n            for ((i = cnt; i &lt; $fields; i += 2)); do    ## handle rest\n                printf \"%*s%*s%*s\\n\" \"$((2*wd))\" \" \" \"$wd\" \"${arr[i]}\" \"$wd\" \"${arr[$((i+1))]}\"\n            done\n            ;;\n        $((nfields - 1)) )              ## one less than nfields\n            cnt=3                       ## handle 1st 3 values\n            printf \" %*s%*s\" \"$wd\" \" \"\n            for ((i=0; i &lt; cnt; i++)); do\n                if [ \"$i\" -eq '1' ]; then\n                    printf \"%*s\" \"5\" \"${arr[i]}\"\n                else\n                    printf \"%*s\" \"$wd\" \"${arr[i]}\"\n                fi\n            done\n            echo\n            for ((i = cnt; i &lt; $fields; i += 2)); do    ## handle rest\n                if [ \"$i\" -eq '0' ]; then\n                    printf \"%*s%*s%*s\\n\" \"$((wd+1))\" \" \" \"$wd\" \"${arr[i]}\" \"$wd\" \"${arr[$((i+1))]}\"\n                else\n                    printf \"%*s%*s%*s\\n\" \"$((2*wd))\" \" \" \"$wd\" \"${arr[i]}\" \"$wd\" \"${arr[$((i+1))]}\"\n                fi\n            done\n            ;;\n        * )     ## all other lines format as pairs\n            for ((i = 0; i &lt; $fields; i += 2)); do\n                printf \"%*s%*s%*s\\n\" \"$((2*wd))\" \" \" \"$wd\" \"${arr[i]}\" \"$wd\" \"${arr[$((i+1))]}\"\n            done\n            ;;\n    esac\ndone\n</code></pre>\n\n<p>Rather than reading from a file, just use redirection to redirect the input file to your script (if you want to just provide a filename, then redirect the file to feed the output <code>while read...</code> loop)</p>\n\n<p><strong>Example Use/Output</strong></p>\n\n<pre><code>$ bash text1format.sh &lt;dat/text1.txt\n##   A1    B1   Tn    Vn ## --&gt; headers\n      1  1000    0   100\n                10   200\n                20   300\n                30   400\n                40   500\n                50   600\n                60   700\n                70   800\n         1010    0   101\n                10   201\n                20   301\n                30   401\n                40   501\n                50   601\n      2  1000    0   110\n                15   210\n                25   310\n                35   410\n                45   510\n                55   610\n                65   710\n         1010    0   150\n                10   250\n                20   350\n                30   450\n                40   550\n</code></pre>\n\n<p>As between <code>awk</code> and <code>bash</code>, <code>awk</code> will generally be faster, but here with formatted output, it may be closer than usual. Look things over and let me know if you have questions.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530607004, "post_id": 51149109, "comment_id": 89283696, "body": "Hi potong. This works quite well too, but it is in simplified version. I can use these on other problem too. Thank you very much :)"}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530607346, "post_id": 51149109, "comment_id": 89283888, "body": "Can you explain a little bit on your script?"}, {"owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "reply_to_user": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1530615277, "post_id": 51149109, "comment_id": 89288915, "body": "@Amz See my added edit. For a breakdown of the first script study the crux of the solution <code>sed -r &#39;1d;s&#47;^(.{11}).{11}&#47;&amp;\\n\\1&#47;;P;D&#39; file</code>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1530624437, "post_id": 51149109, "comment_id": 89294961, "body": "<code>sed -r &#39;2!d;s&#47;\\s*\\S*&#47;&#47;3g;s&#47;.\\&gt;&#47;&amp;\\n&#47;;h;s&#47;[^\\n]&#47;.&#47;g;G;s&#47;[^\\n.]&#47; &#47;g;s#(.*)\\n(.*)\\n(.*)\\n(.*)#s&#47;^(\\1\\2)\\1\\2&#47;\\&amp;\\\\n\\\\1&#47;;s&#47;^((\\1)&zwnj;&#8203;.*\\\\n)\\\\2&#47;\\\\1\\3&#47;;s&#47;^&zwnj;&#8203;(\\1(\\2).*\\\\n\\1)\\\\2&#47;\\&zwnj;&#8203;\\1\\4&#47;;&#47;\\\\S&#47;P;D#&#39; file | sed -r -e &#39;1{s&#47;\\[[^]]+\\]\\s*&#47;&#47;5g;y&#47;[]&#47;  &#47;;s&#47;1&#47;n&#47;3g;s&#47;B&#47; B&#47;;G;b}&#39; -f - file</code>. Yup, that&#39;s definitely what you want to find in your code when you go back to enhance it in 6 months :-)."}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 1, "last_activity_date": 1530615466, "last_edit_date": 1530615466, "creation_date": 1530603788, "answer_id": 51149109, "question_id": 51146416, "link": "https://stackoverflow.com/questions/51146416/how-to-sort-or-rearrange-numbers-from-multiple-column-into-multiple-row-fixed-i/51149109#51149109", "title": "How to sort or rearrange numbers from multiple column into multiple row [fixed into 4 columns]?", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r '1d;s/^(.{11}).{11}/&amp;\\n\\1/;s/^((.{5}).*\\n)\\2/\\1     /;s/^(.{5}(.{6}).*\\n.{5})\\2/\\1      /;/\\S/P;D' file\n</code></pre>\n\n<p>Delete the first line (if the header is needed see below). The key fields occupy the first 11 (the first key is 5 characters and the second 6) characters and the data fields occupy the next 11. Insert a newline and the key fields before each pair of data fields. Compare the keys on adjacent lines and replace by spaces if they are duplicated. Do not print any blank lines.</p>\n\n<p>If the header is needed, use the following:</p>\n\n<pre><code>sed -r '1{s/\\[[^]]+\\]\\s*//5g;y/[]/  /;s/1/n/3g;s/B/ B/;G;b};s/^(.{11}).{11}/&amp;\\n\\1/;s/^((.{5}).*\\n)\\2/\\1     /;s/^(.{5}(.{6}).*\\n.{5})\\2/\\1      /;/\\S/P;D' file\n</code></pre>\n\n<p>This does additional formatting on the first line to remove superfluous headings, <code>[]</code>'s, replace <code>1</code>'s by <code>n</code>, add an additional space for alignment and a following empty line.</p>\n\n<p>Further more. By utilising the second line of the input file as a template for the data, a sed script can be created that does not have any <code>hard coded</code> values:</p>\n\n<pre><code>sed -r '2!d;s/\\s*\\S*//3g;s/.\\&gt;/&amp;\\n/;h;s/[^\\n]/./g;G;s/[^\\n.]/ /g;s#(.*)\\n(.*)\\n(.*)\\n(.*)#1d;s/^(\\1\\2)\\1\\2/\\&amp;\\\\n\\\\1/;s/^((\\1).*\\\\n)\\\\2/\\\\1\\3/;s/^(\\1(\\2).*\\\\n\\1)\\\\2/\\\\1\\4/;/\\\\S/P;D#' file |\nsed -r -f - file\n</code></pre>\n\n<p>The script created from the template is piped into a second invocation of the sed as a file and run against the original file to produce the required output.</p>\n\n<p>Likewise the headers may be formatted if need be as so:</p>\n\n<pre><code>sed -r '2!d;s/\\s*\\S*//3g;s/.\\&gt;/&amp;\\n/;h;s/[^\\n]/./g;G;s/[^\\n.]/ /g;s#(.*)\\n(.*)\\n(.*)\\n(.*)#s/^(\\1\\2)\\1\\2/\\&amp;\\\\n\\\\1/;s/^((\\1).*\\\\n)\\\\2/\\\\1\\3/;s/^(\\1(\\2).*\\\\n\\1)\\\\2/\\\\1\\4/;/\\\\S/P;D#' file |\nsed -r -e '1{s/\\[[^]]+\\]\\s*//5g;y/[]/  /;s/1/n/3g;s/B/ B/;G;b}' -f - file\n</code></pre>\n\n<p>By extracting the first four fields from the second line of the input file, Four variables can be made. Two regexp and two values. These variables can be used to build the sed script.</p>\n\n<p>N.B. The sed script is created from strings extracted from the template and the variables produced are also strings so they can be concatenated to produce further new regexp's and new values etc etc</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 1, "creation_date": 1530768686, "post_id": 51154942, "comment_id": 89349610, "body": "Hi Ed, thanks for your help and advise. These code looks really good and useful. I have used it on my real sample and it goes well."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 4, "last_activity_date": 1530624702, "last_edit_date": 1530624702, "creation_date": 1530621749, "answer_id": 51154942, "question_id": 51146416, "link": "https://stackoverflow.com/questions/51146416/how-to-sort-or-rearrange-numbers-from-multiple-column-into-multiple-row-fixed-i/51154942#51154942", "title": "How to sort or rearrange numbers from multiple column into multiple row [fixed into 4 columns]?", "body": "<p>Unlike what is stated elsewhere, there's nothing tricky about this at all, you're just using fixed width fields in your input instead of char/string separated fields.</p>\n\n<p>With GNU awk for FIELDWIDTHS to handle fixed width fields it really couldn't be much simpler:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN {\n    # define the width of the input and output fields\n    FIELDWIDTHS = \"2 4 5 5 6 5 6 5 6 5 6 99\"\n    ofmt = \"%2s%5s%6s%5s%6s%s\\n\"\n}\n{\n    # strip leading/trailing blanks and square brackets from every field\n    for (i=1; i&lt;=NF; i++) {\n         gsub(/^[[\\s]+|[]\\s]+$/,\"\",$i)\n    }\n}\nNR==1 {\n    # print the header line\n    printf ofmt, $1, $2, $3, \"Tn\", \"Vn\", \" \"$NF\n    next\n}\n{\n    # print every other line\n    for (i=4; i&lt;NF; i+=2) {\n        printf ofmt, $1, $2, $3, $i, $(i+1), \"\"\n        $1 = $2 = $3 = \"\"\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>$ awk -f tst.awk file\n##   A1    B1   Tn    Vn ## --&gt; headers\n      1  1000    0   100\n                10   200\n                20   300\n                30   400\n                40   500\n                50   600\n                60   700\n                70   800\n         1010    0   101\n                10   201\n                20   301\n                30   401\n                40   501\n                50   601\n      2  1000    0   110\n                15   210\n                25   310\n                35   410\n                45   510\n                55   610\n                65   710\n         1010    0   150\n                10   250\n                20   350\n                30   450\n                40   550\n</code></pre>\n\n<p>With other awks you'd use a <code>while() { substr() }</code> loop instead of <code>FIELDWIDTHS</code> so it'd be a couple more lines of code but still trivial.</p>\n\n<p>The above will be orders of magnitude faster than an equivalent shell script. See <a href=\"https://unix.stackexchange.com/questions/169716/why-is-using-a-shell-loop-to-process-text-considered-bad-practice\">https://unix.stackexchange.com/questions/169716/why-is-using-a-shell-loop-to-process-text-considered-bad-practice</a>.</p>\n"}], "owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 1, "accepted_answer_id": 51148073, "answer_count": 4, "score": 1, "last_activity_date": 1530624702, "creation_date": 1530589798, "last_edit_date": 1530598936, "question_id": 51146416, "link": "https://stackoverflow.com/questions/51146416/how-to-sort-or-rearrange-numbers-from-multiple-column-into-multiple-row-fixed-i", "title": "How to sort or rearrange numbers from multiple column into multiple row [fixed into 4 columns]?", "body": "<p>I have 1 text file, which is test1.txt.</p>\n\n<p>text1.txt contain as following:\n<br>Input:</p>\n\n<pre><code>##[A1] [B1] [T1]  [V1] [T2]  [V2] [T3]  [V3] [T4]  [V4]## --&gt; headers\n    1  1000    0   100   10   200   20   300   30   400\n              40   500   50   600   60   700   70   800\n       1010    0   101   10   201   20   301   30   401\n              40   501   50   601  \n    2  1000    0   110   15   210   25   310   35   410\n              45   510   55   610   65   710\n       1010    0   150   10   250   20   350   30   450\n              40   550  \n</code></pre>\n\n<p>Condition:<br>\nA1 and B1 -> for each A1 + (B1 + [Tn + Vn]) <br>\nA1 should be in 1 column.<br>\nB1 should be in 1 column.<br>\nT1,T2,T3 and T4 should be in 1 column.<br>\nV1,V2,V3 and V4 should be in 1 column.<br></p>\n\n<p>How do I sort it become like below?\n<br>Desire Output:</p>\n\n<pre><code>##   A1    B1   Tn    Vn ## --&gt; headers\n\n      1  1000    0   100\n                10   200\n                20   300\n                30   400\n                40   500\n                50   600\n                60   700\n                70   800\n         1010    0   101\n                10   201\n                20   301\n                30   401\n                40   501\n                50   601\n      2  1000    0   110\n                15   210\n                25   310\n                35   410\n                45   510\n                55   610\n                65   710\n         1010    0   150\n                10   250\n                20   350\n                30   450\n                40   550\n</code></pre>\n\n<p>Here is my current code:\n<br> First Attempt:\n<br> Input</p>\n\n<pre><code>cat test1.txt | awk ' { a=$1 b=$2 } { for(i=1; i&lt;=5; i=i+1) { t=substr($0,11+i*10,5) v=substr($0,16+i*10,5) if( t ~ /^\\ +[0-9]+$/ || t ~ /^[0-9]+$/ || t ~ /^\\ +[0-9]+\\ +$/ ){ printf \"%7s %7d %8d %8d \\n\",a,b,t,v } }}' | less\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>      1    1000      400        0 \n     40     500      800        0 \n   1010       0      401        0 \n      2    1000      410        0 \n   1010       0      450        0\n</code></pre>\n\n<p>I'm trying using simple awk command, but still can't get the result.<br>\nCan anyone help me on this?</p>\n\n<p>Thanks,\n<br>Am</p>\n"}, {"tags": ["php", "regex", "perl"], "comments": [{"owner": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530589344, "post_id": 51146300, "comment_id": 89276810, "body": "Your question is Unclear to me. Can you ask differently?  There is no <code>ITEM 1. BUSINESS</code> in your regex link.  Please be very precise about your input data and expected output."}, {"owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "reply_to_user": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530589519, "post_id": 51146300, "comment_id": 89276843, "body": "@mickmackusa Yes there is: <code>Item 1.    Business</code> on line 323"}, {"owner": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530589572, "post_id": 51146300, "comment_id": 89276854, "body": "Okay, I&#39;ll have a look in notepad.  (Google Chrome Find can&#39;t find that)  ...notepad couldn&#39;t either (tabbing)"}, {"owner": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530589781, "post_id": 51146300, "comment_id": 89276899, "body": "And you want to stop matching at line 946?  ... that&#39;s a good sized chunk of characters."}, {"owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "reply_to_user": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530589840, "post_id": 51146300, "comment_id": 89276912, "body": "Yes, that is correct. This is just one example 10-K, most are similar with slight difference in how they title ITEM 1, ITEM 2, ITEM 3, etc."}, {"owner": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530589901, "post_id": 51146300, "comment_id": 89276922, "body": "So you want the whole match captured as a single string eventhough <code>Item 2</code> will be in it?  Or is it better to divided the matches into <code>Item 1</code>&#39;s text and <code>Item 2</code>&#39;s text?  What is the next process for you in the project?  What are you doing with the string?"}, {"owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "reply_to_user": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530589970, "post_id": 51146300, "comment_id": 89276937, "body": "It can be divided or as one string, it doesn&#39;t matter. Divided may be better."}, {"owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "reply_to_user": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 1, "creation_date": 1530590057, "post_id": 51146300, "comment_id": 89276953, "body": "I will be running some textual analysis on the extracted string."}, {"owner": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530590741, "post_id": 51146300, "comment_id": 89277085, "body": "I&#39;m still searching.  Here&#39;s food for thought: <a href=\"https://stackoverflow.com/q/8268624/2943403\">stackoverflow.com/q/8268624/2943403</a> and <a href=\"https://stackoverflow.com/q/18296441/2943403\">stackoverflow.com/q/18296441/2943403</a>"}, {"owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "reply_to_user": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530590856, "post_id": 51146300, "comment_id": 89277098, "body": "Does the regex look fine to you? If so, then maybe that is the problem and I&#39;ll tackle this issue another way if regex won&#39;t work."}, {"owner": {"reputation": 7975, "user_id": 3836111, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc8e3526756540925b0536455b280205?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Proske", "link": "https://stackoverflow.com/users/3836111/sebastian-proske"}, "edited": false, "score": 0, "creation_date": 1530591058, "post_id": 51146300, "comment_id": 89277134, "body": "See <a href=\"https://regex101.com/r/zgTiyb/2\" rel=\"nofollow noreferrer\">regex101.com/r/zgTiyb/2</a>, is that what you want?"}, {"owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "edited": false, "score": 0, "creation_date": 1530591178, "post_id": 51146300, "comment_id": 89277156, "body": "Yes, that is perfect!"}, {"owner": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530591476, "post_id": 51146300, "comment_id": 89277212, "body": "...I don&#39;t know if I&#39;d go as far to say &quot;perfect&quot;"}, {"owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "edited": false, "score": 0, "creation_date": 1530591552, "post_id": 51146300, "comment_id": 89277234, "body": "That is true, but it is enough for me to try to finish it."}, {"owner": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1530598920, "post_id": 51146300, "comment_id": 89279561, "body": "Relevant reading from Revo: <a href=\"https://stackoverflow.com/a/39833391/2943403\">Catastrophic backtracking</a>"}, {"owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "edited": false, "score": 0, "creation_date": 1530599249, "post_id": 51146300, "comment_id": 89279706, "body": "Thanks, looking into it because the regex Sebastian shared doesn&#39;t actually run in PHP for something reason (it runs just fine in regex101)..."}, {"owner": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 1, "creation_date": 1530604026, "post_id": 51146300, "comment_id": 89282078, "body": "Another educational page <a href=\"https://stackoverflow.com/questions/27237579/simple-alphanumeric-regex-single-spacing-without-catastrophic-backtracking\" title=\"simple alphanumeric regex single spacing without catastrophic backtracking\">stackoverflow.com/questions/27237579/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "edited": false, "score": 0, "creation_date": 1530599384, "post_id": 51146655, "comment_id": 89279780, "body": "FYI, while this code works in regex101, it crashes in PHP."}], "tags": [], "owner": {"reputation": 7975, "user_id": 3836111, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc8e3526756540925b0536455b280205?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Proske", "link": "https://stackoverflow.com/users/3836111/sebastian-proske"}, "is_accepted": false, "score": 0, "last_activity_date": 1530591879, "creation_date": 1530591879, "answer_id": 51146655, "question_id": 51146300, "link": "https://stackoverflow.com/questions/51146300/extract-all-words-between-two-phrases-using-regex/51146655#51146655", "title": "Extract all words between two phrases using regex", "body": "<p>This isn't really catastrophic backtracking, just a whole lot of text and a comparedly low backtracking limit in regex101. In this scenario the use of <code>.*</code> isn't optimal, as it will match the whole remainder of the textfile once it is reached and then backtrack character after character to match the parts after it - which means a lot of characters to process.</p>\n\n<p>Seems you can stick to <code>\\w+\\W+</code> at that place as well and use lazy matching instead of greedy to get your result, like</p>\n\n<p><a href=\"https://regex101.com/r/zgTiyb/2\" rel=\"nofollow noreferrer\"><code>\\b(?:item\\W+(?:\\w+\\W+){0,2}?(?:1|one)\\W+(?:\\w+\\W+){0,3}?business)\\b\\W+(?:\\w+\\W+)*?\\b(?:item\\W+(?:\\w+\\W+){0,2}?(?:3|three)\\W+(?:\\w+\\W+){0,3}?legal\\W+(?:\\w+\\W+){0,3}?proceedings)\\b</code></a></p>\n\n<p>Note that the pcre engine optimizes <code>(?:\\w+\\W+)</code> to <code>(?&gt;\\w++\\W++)</code> thus working by word-no-word-chunks instead of single characters.</p>\n"}, {"tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": false, "score": 3, "last_activity_date": 1530604985, "creation_date": 1530604985, "answer_id": 51149478, "question_id": 51146300, "link": "https://stackoverflow.com/questions/51146300/extract-all-words-between-two-phrases-using-regex/51149478#51149478", "title": "Extract all words between two phrases using regex", "body": "<p>Catastrophic backtracking has almost one main reason: </p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/a/51149478/1020526\">A possible match is found but can't finish.</a></p>\n</blockquote>\n\n<p>You made too many positions available for regex to try. This hits backtracking limit on PCRE. A quick work around would be removing the only dot-star in regex in order to replace it with a restrictive quantifier i.e. </p>\n\n<pre><code>.{0,200}\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/3ips86/1\" rel=\"nofollow noreferrer\">live demo here</a></p>\n\n<p>But the better approach is re-constructing the regular expression:</p>\n\n<pre><code>\\bitem\\b.*?\\b(?:1|one)\\b(*COMMIT)\\W+(?:\\w+\\W+){0,2}?business\\b\\h*\\R+(?:(?!item\\h+(?:3|three)\\b)[\\s\\S])*+item\\h+(?:3|three)\\b\\W+(?:\\w+\\W+){0,3}?legal\\W+(?:\\w+\\W+){0,3}?proceedings\\b\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/JdYtgK/1\" rel=\"nofollow noreferrer\">live demo here</a></p>\n\n<p>Your own regex needs ~45K steps on given input string to find those two matches. In contrast, this modified regex needs ~8K steps to accomplish the task. That's a huge improvement.</p>\n\n<p>The latter doesn't need <code>s</code> flag (and it shouldn't be enabled). I used <code>(*COMMIT)</code> backtracking verb to cause an early failure if a possible match is found but is likely to not finish.</p>\n\n<p>@<a href=\"https://stackoverflow.com/a/51146655/1020526\">Sebastian Proske</a>'s solution matches three sub-strings but I don't think the third match is an expected match. This huge third match is the only reason for your regex to break.</p>\n\n<p>Please <a href=\"https://stackoverflow.com/a/50511784/1020526\">read this answer</a> to have a better insight into this problem.</p>\n"}], "owner": {"reputation": 591, "user_id": 4951834, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/74e7904eabc6203636bc1620bf2e9bde?s=128&d=identicon&r=PG&f=1", "display_name": "user4951834", "link": "https://stackoverflow.com/users/4951834/user4951834"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "closed_date": 1530787631, "answer_count": 2, "score": 2, "last_activity_date": 1530604985, "creation_date": 1530588757, "question_id": 51146300, "link": "https://stackoverflow.com/questions/51146300/extract-all-words-between-two-phrases-using-regex", "closed_reason": "Duplicate", "title": "Extract all words between two phrases using regex", "body": "<p>I'm trying to extract all the words between two phrases using the following regex:</p>\n\n<pre><code>\\b(?:item\\W+(?:\\w+\\W+){0,2}?(?:1|one)\\W+(?:\\w+\\W+){0,3}?business)\\b(.*)\\b(?:item\\W+(?:\\w+\\W+){0,2}?(?:3|three)\\W+(?:\\w+\\W+){0,3}?legal\\W+(?:\\w+\\W+){0,3}?proceedings)\\b\n</code></pre>\n\n<p>The documents I'm running this regex on are 10-K filings. The filings are too long to post here (see regex101 url below for example), but basically they are something like this:</p>\n\n<pre><code>ITEM 1. BUSINESS\n\nlots of words\n\nITEM 2. PROPERTIES\n\nlots of words\n\nITEM 3. LEGAL PROCEEDINGS\n</code></pre>\n\n<p>I want to extract all the words between <code>ITEM 1</code> and <code>ITEM 3</code>. Note that the subtitles for each ITEM may be slightly different for each 10-K filing, hence I'm allowing for a few words between each word.</p>\n\n<p>I keep getting catastrophic backtracking error, and I cannot figure out why. For example, please see <a href=\"https://regex101.com/r/zgTiyb/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/zgTiyb/1</a>.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["arrays", "perl", "loops", "hash"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1530560836, "post_id": 51142738, "comment_id": 89269742, "body": "Why not use an array of arrays: <code>my @combined_arrays = (\\@numbers, \\@letters, \\@words )</code> ? or <code>my @combined_arrays = ([@numbers], [@letters], [@words] )</code> if you need to make a copy..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1530561500, "post_id": 51142738, "comment_id": 89269998, "body": "Other than the shown hashes it may also be an array-of-arrays as <code>([5,&#39;z&#39;,&#39;tiny&#39;], ...)</code>, if you want to group them by position.  For how to create either see <a href=\"https://stackoverflow.com/q/50960273/4653379\">this recent page</a> (near duplicate)."}, {"owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "edited": false, "score": 0, "creation_date": 1530562184, "post_id": 51142738, "comment_id": 89270291, "body": "I should have mentioned I wanted to pour this into a db at some point. I was thinking that the array of hashes would be easier to iterate over."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530562445, "post_id": 51142738, "comment_id": 89270391, "body": "@user: There seems to be no reason to use hashes. If you know that the items are always in the order <code>number</code>, <code>letter</code>, <code>word</code> then there is no confusion. I also recommend an array of arrays for simplicity and economy of space. (Using hashes, you would be storing many many copies of the three strings <code>&#39;number&#39;</code>, <code>&#39;letter&#39;</code>, and <code>&#39;word&#39;</code>)"}, {"owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "edited": false, "score": 0, "creation_date": 1530563523, "post_id": 51142738, "comment_id": 89270820, "body": "I don&#39;t have a problem with an array of arrays, assuming I understand the proper way to iterate through them.  I originally tried the loop push @hoffmeister suggested, but had trouble breaking out of it and not creating duplicates, but his map solution doesn&#39;t appear to make copies."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530563788, "post_id": 51142738, "comment_id": 89270928, "body": "@user: I don&#39;t see how you could create duplicates unless there are duplicate sets of three in your data that you want to remove. Iterating through an array of arrays should be trivial, and simpler than if you had used hashes. You&#39;ll need to give an example of what you want to do, probably in a new question."}, {"owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "edited": false, "score": 0, "creation_date": 1530565348, "post_id": 51142738, "comment_id": 89271493, "body": "Oh, no the problem was solved for me.  @hoffmeister&#39;s answer did the trick."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1530571913, "post_id": 51142738, "comment_id": 89273488, "body": "@user: Sure, but that answer shows how to build an array of hashes, which as I&#39;ve said is unnecessary, very wasteful, and long-winded to process. I&#39;m trying to address your &quot;trouble breaking out of [the loop] and not creating duplicates&quot;. You should learn how to do this properly sooner rather than later, and not just accept the first example that works."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "edited": false, "score": 0, "creation_date": 1530561949, "post_id": 51143018, "comment_id": 89270181, "body": "I very much, made this more complicated than it needed to be.  Thanks, that does it. :)"}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "reply_to_user": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "edited": false, "score": 1, "creation_date": 1530562116, "post_id": 51143018, "comment_id": 89270259, "body": "NP, map is really handy for one liners where you need to iterate though a list. You could have also done this using a for loop and push each entry onto the array. However, this would take an extra line ;-)"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1530636494, "post_id": 51143018, "comment_id": 89302292, "body": "<code>@letters-1</code> == <code>$#letters</code> :)"}], "tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": true, "score": 4, "last_activity_date": 1530561723, "creation_date": 1530561723, "answer_id": 51143018, "question_id": 51142738, "link": "https://stackoverflow.com/questions/51142738/combining-array-to-get-an-array-of-hashes/51143018#51143018", "title": "Combining array to get an array of hashes", "body": "<p>I would do it like this</p>\n\n<pre><code>my @combined_arrays = map { \"number\" =&gt; $numbers[$_] , \"letter\" =&gt; $letters[$_] , \"word\" =&gt; $words[$_] } , 0..@letters-1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "edited": false, "score": 0, "creation_date": 1530638126, "post_id": 51145729, "comment_id": 89303087, "body": "Thanks, this is helpful."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 3, "last_activity_date": 1530596841, "last_edit_date": 1530596841, "creation_date": 1530583578, "answer_id": 51145729, "question_id": 51142738, "link": "https://stackoverflow.com/questions/51142738/combining-array-to-get-an-array-of-hashes/51145729#51145729", "title": "Combining array to get an array of hashes", "body": "<p>I realise you've already accepted an answer, but I thought I'd just throw out a more concise option that relies on some modules.</p>\n\n<p>I'm using <code>zip</code> (aka <code>mesh</code>, from either <a href=\"https://metacpan.org/pod/List::SomeUtils\" rel=\"nofollow noreferrer\"><code>List::SomeUtils</code></a> or <a href=\"https://metacpan.org/pod/List::MoreUtils\" rel=\"nofollow noreferrer\"><code>List::MoreUtils</code></a>) and <code>zip_by</code> (from <a href=\"https://metacpan.org/pod/List::UtilsBy\" rel=\"nofollow noreferrer\"><code>List::UtilsBy</code></a>), but I'm importing both of them via <a href=\"https://metacpan.org/pod/List::AllUtils\" rel=\"nofollow noreferrer\"><code>List::AllUtils</code></a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::AllUtils qw( zip zip_by );\n\nmy @numbers = (5,2,7,32,9);\nmy @letters = qw(z b t t c);\nmy @words   = qw(tiny book lawn very dance);\nmy @keys    = qw(number letter word);\n\nmy @combined = zip_by { +{ zip @keys, @_ } } \\@numbers, \\@letters, \\@words;\n</code></pre>\n\n<p>It's potentially more readable, but only if you're familiar with what <code>zip</code> and <code>zip_by</code> do. At the very least, it fits inside 80 characters.</p>\n\n<p><strong>Update</strong>\nI originally had <code>\\%{{ zip @keys, @_ }}</code> inside the <code>zip_by</code>. This was to force it to interpret my curlies as a hash-ref. Then I remembered that <code>+{}</code> is a prettier way to disambiguate.</p>\n"}], "owner": {"reputation": 109, "user_id": 3049982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e7f2fdbe260e91d3ab80c687b27fe4?s=128&d=identicon&r=PG&f=1", "display_name": "user3049982", "link": "https://stackoverflow.com/users/3049982/user3049982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 51143018, "answer_count": 2, "score": 0, "last_activity_date": 1530596841, "creation_date": 1530560310, "last_edit_date": 1530561027, "question_id": 51142738, "link": "https://stackoverflow.com/questions/51142738/combining-array-to-get-an-array-of-hashes", "title": "Combining array to get an array of hashes", "body": "<p>I have three arrays that need to be stored together for future use. Each array is related to each other, and every array element per position is meant to be matched together. The arrays elements orders will always be correct, but beyond that, there is no easy way to discern the correct order once lost.</p>\n\n<p>How can I combine these arrays together without losing their original order?</p>\n\n<p>I am assuming that an array of hashes is the best way to go, but, please let me know if I'm wrong in that assumption. </p>\n\n<p>Example Arrays:</p>\n\n<pre><code>my @numbers = (5,2,7,32,9);\nmy @letters = qw(z b t t c);\nmy @words   = qw(tiny book lawn very dance);\n</code></pre>\n\n<p>Example end result. </p>\n\n<pre><code>my @combined_arrays = (\n       {\n           'number' =&gt; '5',\n           'letter' =&gt; 'z',\n           'word'   =&gt; 'tiny',\n       },\n       {\n           'number' =&gt; '2',\n           'letter' =&gt; 'b',\n           'word'   =&gt; 'book',\n       },\n       {\n           'number' =&gt; '7',\n           'letter' =&gt; 't',\n           'word'   =&gt; 'lawn',\n       },\n       {\n           'number' =&gt; '32',\n           'letter' =&gt; 't',\n           'word'   =&gt; 'very',\n       },\n       {\n           'number' =&gt; '9',\n           'letter' =&gt; 'c',\n           'word'   =&gt; 'dance',\n       },\n);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1530544599, "post_id": 51139209, "comment_id": 89262499, "body": "I tried formatting your question, but it&#39;s very hard to understand what&#39;s going on there. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and look at <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you want people to help you. Then <a href=\"https://stackoverflow.com/posts/51139209/edit\">edit</a> your question, fix your typos and make the data and code more readable. It&#39;s not clear what you want to do. Do you want to capture any of the fields in this data? Or do you just want to match to see if your line (in possibly a log file) is relevant? If you want the individual fields, why not <code>split</code> them and then check individually?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1530551767, "post_id": 51139209, "comment_id": 89265834, "body": "The regex which is &quot;<i>working fine</i>&quot; has <code>(in|out|old|new|arch|missing)</code> but none of these words are in the shown string.  (While this is indeed very hard to read).  Can you state what you need to capture from the string?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1530548887, "last_edit_date": 1530548887, "creation_date": 1530546643, "answer_id": 51139776, "question_id": 51139209, "link": "https://stackoverflow.com/questions/51139209/create-a-generic-regex-for-a-string-in-perl/51139776#51139776", "title": "create a generic regex for a string in perl", "body": "<p>The third field</p>\n\n<pre><code>UL_\\d{8}_CCF_ASB001_LU_sou_u02_mlpv0747_Primary.log.csv\n</code></pre>\n\n<p>Contains a backslash, <code>\\</code>, braces <code>{</code> <code>}</code> and dots <code>.</code>. None of these can be matched by <code>\\w</code></p>\n\n<p>Note also that there is no need to escape a pipe <code>|</code> inside a characters class: <code>[^|]+</code> is fine</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1530566447, "post_id": 51143511, "comment_id": 89271875, "body": "Can&#39;t look carefully now, but <code>[^|]</code> will also scoop up <code>\\</code> from <code>\\|</code> -- if it ever bumps into it.  It may be safer to spell out non-word chars that should also be matched, with <code>[\\w.\\&#47;]</code> (etc)"}], "tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": true, "score": 2, "last_activity_date": 1530565583, "last_edit_date": 1530565583, "creation_date": 1530564431, "answer_id": 51143511, "question_id": 51139209, "link": "https://stackoverflow.com/questions/51139209/create-a-generic-regex-for-a-string-in-perl/51143511#51143511", "title": "create a generic regex for a string in perl", "body": "<p>Let's start from a brief look at your source text (the first that you included).</p>\n\n<p>It is composed of \"sections\" separated with <code>|</code> char.</p>\n\n<p>This char (<code>|</code>) must be matched by <code>\\|</code>. Remember about the preceding\nbackslash, otherwise, a \"bare\" <code>|</code> would mean the <strong>alternative separator</strong>\n(you used it in one place).</p>\n\n<p>And now take a look at each section (between <code>|</code>):</p>\n\n<ul>\n<li>Some of them contain only a sequence of <strong>word chars</strong> (and can be matched\nby <code>\\w+</code>).</li>\n<li>Other sections, however, contain also <strong>other chars</strong>, e.g. slashes,\nbackslash, braces and dots, so each such section is actually a sequence\nof chars <strong>other than \"|\"</strong> and must be matched by <code>[^|]+</code> (here,\nbetween <code>[</code> and <code>]</code>, the vertical bar may be unescaped).</li>\n</ul>\n\n<p>Now let's write each section and its \"type\":</p>\n\n<ol>\n<li><code>sou_u02_..._FW_ALERT</code> - word chars.</li>\n<li><code>/opt/app/.../UnifiedLogging</code> - other chars (because of slashes).</li>\n<li><code>UL_\\d{8}_..._Primary.log.csv</code> - other chars (because of <code>\\d{8}</code>\n and dots).</li>\n<li><code>FATAL|red|1h</code> - 3 sections composed of word chars.</li>\n<li>An <strong>empty</strong> section, between 2 consecutive <code>|</code> chars.</li>\n<li><code>fw_alert</code> - word chars.</li>\n</ol>\n\n<p>And now, how to match these groups, and the separating <code>|</code>:</p>\n\n<ul>\n<li>Point 1: <code>\\w+\\|</code> - word chars and (escaped) vertical bar.</li>\n<li>Point 2 and 3 (together): <code>(?:[^|]+\\|){2}</code> - a non-capturing\ngroup - <code>(?:...)</code>, containing a sequence of \"other\" chars - <code>[^|]+</code>\nand a vertical bar - <code>\\|</code>, occurring 2 times <code>{2}</code>.</li>\n<li>Point 4 (three \"word char\" groups): <code>(?:\\w+\\|){3}</code> - similiar to\nthe previous point.</li>\n<li>Point 5: Just as in your solution - <code>([^|]+|)\\|</code>, a capturing group -\n<code>(...)</code>, with 2 alternatives <code>...|...</code>. The first alternative is\n<code>[^|]+</code> (a sequence of \"other\" chars), and the second alternative\nis empty. After the capturing group there is <code>\\|</code> to match the vertical\nbar.</li>\n<li>Point 6: <code>\\w+</code> - word chars. This time no <code>\\|</code>, as this is the last\nsection.</li>\n</ul>\n\n<p>The regex assembled so far must be:</p>\n\n<ul>\n<li>prepended with a <code>^</code> (start of string) and</li>\n<li>appended with a <code>$</code> (end of string).</li>\n</ul>\n\n<p>So the whole regex, matching your source text can be:</p>\n\n<pre><code>^\\w+\\|(?:[^|]+\\|){2}(?:\\w+\\|){3}([^|]+|)\\|\\w+$\n</code></pre>\n\n<p>Actually, the only capturing group can be written another way,\nas <code>([^|]*)</code> - without alternatives, but with <code>*</code> as the\nrepetition count, allowing also empty content.\nYour choice, which variant to apply.</p>\n"}], "owner": {"reputation": 21, "user_id": 9486694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a78e37f21e7034dc729cae0f2e0a882f?s=128&d=identicon&r=PG&f=1", "display_name": "Rashmi Choudhary", "link": "https://stackoverflow.com/users/9486694/rashmi-choudhary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 51143511, "answer_count": 2, "score": 0, "last_activity_date": 1530565583, "creation_date": 1530544427, "last_edit_date": 1530544541, "question_id": 51139209, "link": "https://stackoverflow.com/questions/51139209/create-a-generic-regex-for-a-string-in-perl", "title": "create a generic regex for a string in perl", "body": "<p>I have tried to create regex for the below:</p>\n\n<pre><code>STRING sou_u02_mlpv0747_CCF_ASB001_LU_FW_ALERT|/opt/app/medvhs/mvs/applications/cm_vm5/fwhome/UnifiedLogging|UL_\\d{8}_CCF_ASB001_LU_sou_u02_mlpv0747_Primary.log.csv|FATAL|red|1h||fw_alert\n\nREGEX----&gt; /^[^#]\\w+\\|[^\\|]+\\|\\w+\\|\\w+\\|\\w*\\|\\w*\\|([^\\|]+|)\\|\\w*$/\n</code></pre>\n\n<p>I am unable to figure out the mistake here.</p>\n\n<p>I created the above by referring another regex which working fine and given below</p>\n\n<pre><code>/^[^#]\\w+\\|[^\\|]+\\|([^\\|]+|)\\|[rm]\\|(in|out|old|new|arch|missing)\\|\\w+\\|([0-9-,]+|)\\|\\w*\\|\\w*$/\n\nsou_u02_mlpv0747_CCF_ASB001_LU_ODR|/opt/app/medvhs/mvs/applications/cm_vm5/components/CCF_ASB001_LU/SPOOL/ODR||r|out|30m|0400-1959|30m|gprs_in_stag\n</code></pre>\n\n<p>can some one please help me. Any leads would be highly apprciated.</p>\n"}, {"tags": ["sqlite", "perl", "dancer"], "comments": [{"owner": {"reputation": 879, "user_id": 4037594, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/kYIVz.png?s=128&g=1", "display_name": "Haem", "link": "https://stackoverflow.com/users/4037594/haem"}, "edited": false, "score": 2, "creation_date": 1530535809, "post_id": 51136349, "comment_id": 89257281, "body": "Don&#39;t post screenshots of error messages, they are harder to read on e.g. mobile devices. You could try to write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to reduce the code to text ratio of your question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1530547059, "post_id": 51136349, "comment_id": 89263798, "body": "1. Why are you using Dancer and not Dancer2? 2. Why aren&#39;t you using DBIx::Class to talk to the database?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9924350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SGQxltVEEuc/AAAAAAAAAAI/AAAAAAAAABs/etaTAgLpwM8/photo.jpg?sz=128", "display_name": "Somesh Yadav", "link": "https://stackoverflow.com/users/9924350/somesh-yadav"}, "edited": false, "score": 0, "creation_date": 1530541654, "post_id": 51136990, "comment_id": 89260846, "body": "Thanks man I got it, I added this line &quot;DBI-&gt;connect(&quot;dbi:SQLite:dbname=&quot;.setting(&#39;database&#39;), undef, undef, {RaiseError =&gt; 1}&quot; and changed $db-&gt;errstr;"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 4, "last_activity_date": 1530536925, "creation_date": 1530536925, "answer_id": 51136990, "question_id": 51136349, "link": "https://stackoverflow.com/questions/51136349/perl-dancer-sql-issues/51136990#51136990", "title": "Perl dancer SQL issues", "body": "<pre><code>my $sth = $db-&gt;prepare($sql);\n</code></pre>\n\n<p><code>$sth</code> is undefined because <code>prepare</code> failed, but then you neglected to check for errors. Please see the <a href=\"http://p3rl.org/DBI#prepare\" rel=\"nofollow noreferrer\">documentation for <code>prepare</code></a>.</p>\n\n<p>To simply enable error-checking everywhere, set <a href=\"http://p3rl.org/DBI#RaiseError\" rel=\"nofollow noreferrer\"><code>RaiseError</code></a> in the constructor:</p>\n\n<pre><code>DBI-&gt;connect(\"dbi:SQLite:dbname=\".setting('database'), undef, undef, {RaiseError =&gt; 1}) \u2026\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 9924350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SGQxltVEEuc/AAAAAAAAAAI/AAAAAAAAABs/etaTAgLpwM8/photo.jpg?sz=128", "display_name": "Somesh Yadav", "link": "https://stackoverflow.com/users/9924350/somesh-yadav"}, "edited": false, "score": 0, "creation_date": 1530544899, "post_id": 51138131, "comment_id": 89262664, "body": "I have got error when try to login from student  &quot; if ( params-&gt;{&#39;name&#39;} ne setting(&#39;name&#39;) ) {  &quot; in this line of code . &quot;Use of uninitialized value in string ne&quot;"}, {"owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "reply_to_user": {"reputation": 21, "user_id": 9924350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SGQxltVEEuc/AAAAAAAAAAI/AAAAAAAAABs/etaTAgLpwM8/photo.jpg?sz=128", "display_name": "Somesh Yadav", "link": "https://stackoverflow.com/users/9924350/somesh-yadav"}, "edited": false, "score": 0, "creation_date": 1530545935, "post_id": 51138131, "comment_id": 89263198, "body": "@SomeshYadav: You have not defined the <code>name</code> setting at the top of your module. However, the logic you are using doesn&#39;t really make sense to begin with."}], "tags": [], "owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "is_accepted": false, "score": 1, "last_activity_date": 1530541647, "last_edit_date": 1530541647, "creation_date": 1530540595, "answer_id": 51138131, "question_id": 51136349, "link": "https://stackoverflow.com/questions/51136349/perl-dancer-sql-issues/51138131#51138131", "title": "Perl dancer SQL issues", "body": "<p>Welcome to the site. As Haem mentioned, it is preferable to use text instead of images when posting a question. Nonetheless, perhaps the info below will be of use ...</p>\n\n<h2>SQL placeholders and binding parameters</h2>\n\n<p>Your query is possibly failing because the number of parameters you are binding does not equal the number of SQL placeholders. You have 14 placeholders - but are only binding 12 parameters in your <code>execute(...)</code> statement.</p>\n\n<p>You have the same problem in your <code>/admin</code>, <code>/student</code> and <code>/company</code> route handlers - where in each case you prepare a statement with two placeholders - e.g.</p>\n\n<pre><code>my $sql = 'select name and password from admin WHERE name=?  AND password=?';\nmy $sth = $db-&gt;prepare($sql);\n</code></pre>\n\n<p>but then attempt to execute it without binding any parameters:</p>\n\n<pre><code>$sth-&gt;execute();\n</code></pre>\n\n<p>If you use placeholders in your query, you must bind parameters using either <code>$sth-&gt;bind_param(...)</code> or passing values to <code>$sth-&gt;execute(...)</code>.</p>\n\n<h2>Dancer's database plugin</h2>\n\n<p>Since you are using Dancer's 'Plugin::Database' module, you don't need to establish a new database connection on every request. Instead, the module can connect for you automatically.</p>\n\n<p>You just need to define the relevant database parameters in your <code>config.yml</code> first.</p>\n\n<p>I.e., in your <code>config.yml</code>, add something like the following (since you are using SQLite):</p>\n\n<pre><code>plugins:\n    Database:\n        driver: SQLite\n        database: 'campus.db'\n</code></pre>\n\n<p>Then, replace</p>\n\n<pre><code>my $db = connect_db();\nmy $sth = $db-&gt;prepare($sql);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my $sth = database-&gt;prepare($sql);\n</code></pre>\n\n<p>You can remove your <code>db_connect()</code> function altogether once you have done that.</p>\n\n<p>It is imperative that your database parameters are <a href=\"https://metacpan.org/pod/Dancer::Plugin::Database#CONFIGURATION\" rel=\"nofollow noreferrer\">set correctly</a> in your configuration file beforehand however.</p>\n"}], "owner": {"reputation": 21, "user_id": 9924350, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SGQxltVEEuc/AAAAAAAAAAI/AAAAAAAAABs/etaTAgLpwM8/photo.jpg?sz=128", "display_name": "Somesh Yadav", "link": "https://stackoverflow.com/users/9924350/somesh-yadav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1546710496, "creation_date": 1530534815, "last_edit_date": 1546710496, "question_id": 51136349, "link": "https://stackoverflow.com/questions/51136349/perl-dancer-sql-issues", "title": "Perl dancer SQL issues", "body": "<p>I am making a website with a admin login page, student login, company login and application form.</p>\n\n<p>I am using Perl dancer framework.</p>\n\n<p>The application form contains: </p>\n\n<pre><code>Name\nMobile_no\nGender \nPassword\nEmail \nAddress\nSSLC\nHSC\nCGPA\nProficient languages\nInternships\nPreferred location\n</code></pre>\n\n<p>The corresponding code is the following for the HTML:</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n\n  &lt;title&gt; APPLICATION FORM &lt;/title&gt;\n\n&lt;style&gt;\n*\n{\n    margin: 0;\n    padding: 0;\n}\n.cont {\n    background:url(\"/images/2.jpg\");\n    background-size: 100%;\n    background-repeat: no-repeat;\n    padding: 20px;\n    height: 750px;\n}\nform \n{ \n    height: auto;\n    border-radius:1px;\n    margin: 1% auto;\n    padding: 1%;\n    background-color:darkgrey; \n    margin-left: 38%;\n    width: 30%;\n}\ninput[type=submit] {\n    margin-left: 10%;\n    background-color:#D14B57;\n    color: white;\n    padding: 12px 20px;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\ninput[type=submit]:hover {\n  background-color:green;\n\n}\n&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;div class=\"cont\"&gt;\n  &lt;form method=\"post\"&gt;\n &lt;h2 style=\"text-align: center; text-decoration:underline;\" id=\"contactus\"&gt;APPLICATION FORM &lt;/h2&gt; &lt;br&gt;\n\n   &lt;label for=\"fname\"&gt;&lt;strong&gt;Name*&lt;/strong&gt;&lt;/label&gt;\n    &lt;input style=\"margin-left: 26%;\" type=\"text\" id=\"fname\" name=\"name\" placeholder=\"Your name...\"&gt; &lt;br&gt; &lt;br&gt;\n\n    &lt;label for=\"mno\"&gt;&lt;strong&gt;Mobile Number*&lt;/strong&gt;&lt;/label&gt;\n    &lt;input style=\"margin-left: 7%;\" type=\"text\" id=\"mno\" name=\"mobile_no\" placeholder=\"Your Mobile Number...\"&gt; &lt;br&gt; &lt;br&gt;\n\n    &lt;label&gt;&lt;strong&gt;Gender*&lt;/strong&gt;&lt;/label&gt;\n    &lt;input style=\"margin-left: 22%;\" type=\"radio\" name=\"gender\" value=\"male\" &gt;Male&lt;br&gt;\n    &lt;input style=\"margin-left: 39%;\" type=\"radio\" name=\"gender\" value=\"female\" &gt;Female&lt;br&gt;\n    &lt;br&gt;\n     &lt;label for=\"fname\"&gt;&lt;strong&gt;Password*&lt;/strong&gt;&lt;/label&gt;\n     &lt;input style=\"margin-left: 19%;\"  type=\"password\" name=\"password\" id=\"password\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{7,}\"  title=\"at least one number and one uppercase and lowercase letter, and at least 7 characters\" required&gt;&lt;/td&gt;\n\n     &lt;br&gt; &lt;br&gt;\n     &lt;label for=\"email\"&gt;&lt;strong&gt;Email&lt;/strong&gt;&lt;/label&gt;\n     &lt;input style=\"margin-left: 28%;\" type=\"email\" id=\"em\" name=\"email\" placeholder=\"Your MailId...\"&gt; &lt;br&gt; &lt;br&gt;\n\n    &lt;label for=\"add\"&gt;&lt;strong&gt;Address*&lt;/strong&gt;&lt;/label&gt; \n    &lt;textarea style=\"margin-left: 21%;\" id=\"address\" name=\"address\" style=\"height:50px\"&gt;&lt;/textarea&gt;\n    &lt;br&gt; &lt;br&gt;\n\n    &lt;label for=\"mark1\"&gt;&lt;strong&gt;SSLC %*&lt;/strong&gt;&lt;/label&gt;\n     &lt;input style=\"margin-left: 20%;\" type=\"text\" id=\"sslc\" name=\"sslc\" maxlength=\"2\"&gt; &lt;br&gt; &lt;br&gt;\n\n     &lt;label for=\"mark2\"&gt;&lt;strong&gt;HSC %*&lt;/strong&gt;&lt;/label&gt;\n     &lt;input style=\"margin-left: 22%;\" type=\"text\" id=\"HSC\" name=\"hsc\" maxlength=\"2\"&gt; &lt;br&gt; &lt;br&gt;\n\n    &lt;label for=\"mark\"&gt;&lt;strong&gt; CGPA* &lt;/strong&gt;&lt;/label&gt;\n     &lt;input style=\"margin-left: 25%;\" type=\"text\" id=\"CGPA\" name=\"cgpa\" maxlength=\"3\"&gt; &lt;br&gt; &lt;br&gt;\n\n   &lt;label&gt;&lt;strong&gt;Proficient Languages*&lt;/strong&gt;&lt;/label&gt; \n  &lt;input style=\"margin-left: 12%;\" type=\"checkbox\" name=\"lang\" value=\"C++\"&gt;C and C++ &lt;br&gt;\n  &lt;input style=\"margin-left: 55%;\" type=\"checkbox\" name=\"lang\" value=\"python\"&gt;Python &lt;br&gt;\n  &lt;input style=\"margin-left: 55%;\" type=\"checkbox\" name=\"lang\" value=\"java\"&gt;Java&lt;br&gt;\n  &lt;input style=\"margin-left: 55%;\" type=\"checkbox\" name=\"lang\" value=\"Php\"&gt;PHP &lt;br&gt;\n  &lt;br&gt;\n\n    &lt;label for=\"intern\"&gt;&lt;strong&gt;Internships(if any)*&lt;/strong&gt;&lt;/label&gt; \n    &lt;textarea id=\"int\" name=\"internships\" style=\"height:50px\"&gt;&lt;/textarea&gt;\n    &lt;br&gt; &lt;br&gt;\n\n   &lt;label for=\"country\"&gt;&lt;strong&gt;Preferred location&lt;/strong&gt;&lt;/label&gt;\n    &lt;select id=\"country\" name=\"preferred_loc\"&gt;\n      &lt;option value=\"chennai\"&gt;Chennai&lt;/option&gt;\n      &lt;option value=\"bombay\"&gt;Bombay&lt;/option&gt;\n      &lt;option value=\"bang\"&gt;Bangalore&lt;/option&gt;\n      &lt;option value=\"hyd\"&gt;Hyderabad&lt;/option&gt;\n    &lt;/select&gt; &lt;br&gt; &lt;br&gt;\n    &lt;br&gt;\n   &lt;input type=\"submit\" value=\"SUBMIT\"&gt; \n   &lt;input style=\"margin-left: 10%;\" type=\"reset\" value=\"Reset\"&gt;\n    &lt;a style=\"margin-left: 10%;\" href=http://localhost:3000&gt;BACK&lt;/a&gt;\n     &lt;/form&gt;\n\n\n&lt;/div&gt;\n</code></pre>\n\n<p>The content of my <code>.pm</code> file:</p>\n\n<pre><code>package ors;\nuse Dancer ':syntax';\nuse Dancer::Plugin::Database;\nuse File::Spec;\nuse File::Slurp;\nuse Template;\n\nset 'database'     =&gt; File::Spec-&gt;catfile(File::Spec-&gt;tmpdir(), 'campus.db');\nset 'session'      =&gt; 'Simple';\nset 'template'     =&gt; 'template_toolkit';\nset 'logger'       =&gt; 'console';\nset 'log'          =&gt; 'debug';\nset 'show_errors'  =&gt; 1;\nset 'startup_info' =&gt; 1;\nset 'warnings'     =&gt; 1;\nset 'username'     =&gt; 'admin';\nset 'password'     =&gt; '';\nset 'layout'       =&gt; 'main';\n\nour $VERSION = '0.1';\n\nget '/' =&gt; sub {\n    template 'index';\n};\n\nget '/admin' =&gt; sub {\n    template 'admin';\n}; \n\nget '/student' =&gt; sub {\n    template 'student';\n};\n\nget '/company' =&gt; sub {\n    template 'company';\n};\n\nget '/appform' =&gt; sub {\n    template 'appform';\n};\n\nmy $flash;\n\nsub set_flash {\n       my $message = shift;\n\n       $flash = $message;\n}\n\nsub get_flash {\n\n       my $msg = $flash;\n       $flash = \"\";\n\n       return $msg;\n}\n\nsub connect_db {\n       my $dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=\".setting('database')) or\n               die $DBI::errstr;\n\n       return $dbh;\n}\n\nsub init_db {\n       my $db = connect_db();\n       my $schema = read_file('./schema.sql');\n       $db-&gt;do($schema) or die $db-&gt;errstr;\n}\n\npost '/appform' =&gt; sub {\n\n        my $db = connect_db();\n        my $sql = 'insert into student (name,mobile_no,gender,email,address,sslc,hsc,cgpa,languages,internships,preferred_loc,password,applied_job,company_applied) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)';\n        my $sth = $db-&gt;prepare($sql); \n        $sth -&gt; execute(params-&gt;{'name'},params-&gt;{'mobile_no'},params-&gt;{'gender'},params-&gt;{'email'},params-&gt;{'address'},params-&gt;{'sslc'},params-&gt;{'hsc'},params-&gt;{'cgpa'},params-&gt;{'languages'},params-&gt;{'internships'},params-&gt;{'preferred_loc'},params-&gt;{'password'}) or die $sth-&gt;errstr;\n        #$sth-&gt;execute();   \n        set_flash('New entry posted!');\n            redirect '/';\n    };\n\nany ['get', 'post'] =&gt; '/student' =&gt; sub {\n\n       my $err;\n       my $db = connect_db();\n       my $sql = 'select name and password from student WHERE name=?  AND password=?';\n       my $sth = $db-&gt;prepare($sql) or die $db-&gt;errstr;\n       $sth-&gt;execute();\n\n       if ( request-&gt;method() eq \"POST\" ) {\n\n       if ( params-&gt;{'name'} ne setting('name') ) {\n                       $err = \"Invalid username\";\n        }\n       elsif ( params-&gt;{'password'} ne setting('password') ) {\n                       $err = \"Invalid password\";\n        }\n       else {\n              session 'logged_in' =&gt; true;\n              set_flash('You are logged in.');\n              return redirect '/';\n            }\n       }\n\n       template 'add.tt', {\n               'err' =&gt; $err,\n       }\n    };\n\nany ['get', 'post'] =&gt; '/company' =&gt; sub {\n       my $err;\n       my $db = connect_db();\n       my $sql = 'select name and password from company WHERE name=?  AND password=?';\n       my $sth = $db-&gt;prepare($sql) or die $db-&gt;errstr;\n       $sth-&gt;execute() or die $db-&gt;errstr;\n\n       if ( request-&gt;method() eq \"POST\" ) {\n\n       if ( params-&gt;{'name'} ne setting('name') ) {\n                       $err = \"Invalid username\";\n        }\n       elsif ( params-&gt;{'password'} ne setting('password') ) {\n                       $err = \"Invalid password\";\n        }\n       else {\n              session 'logged_in' =&gt; true;\n              set_flash('You are logged in.');\n              return redirect '/';\n            }\n        }\n\n\n       template 'add.tt', {\n               'err' =&gt; $err,\n       }\n    };\n\nany ['get', 'post'] =&gt; '/admin' =&gt; sub {\n       my $err;\n       my $db = connect_db();\n       my $sql = 'select name and password from admin WHERE name=?  AND password=?';\n       my $sth = $db-&gt;prepare($sql) or die $db-&gt;errstr;\n       $sth-&gt;execute() or die $db-&gt;errstr;\n\n       if ( request-&gt;method() eq \"POST\" ) {\n\n       if ( params-&gt;{'name'} ne setting('name') ) {\n                       $err = \"Invalid username\";\n        }\n       elsif ( params-&gt;{'password'} ne setting('password') ) {\n                       $err = \"Invalid password\";\n        }\n       else {\n              session 'logged_in' =&gt; true;\n              set_flash('You are logged in.');\n              return redirect '/';\n            }\n        }\n\n       template 'add.tt', {\n               'err' =&gt; $err,\n       }  \n\n\n};\n\n\n\n\n\ntrue;\n</code></pre>\n\n<p>The problem is when I try to fill the application form and enter the value in database it shows an error:\n<a href=\"https://i.stack.imgur.com/14UUt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/14UUt.png\" alt=\"Screenshot of the error\"></a></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1530522270, "post_id": 51132446, "comment_id": 89249492, "body": "Anything is possible, if you build it. You will need to show us your code, your real input (or an example that resembles there real data) and your expected output for us to help you. Please also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. (I take it you are not talking about parsing the XML using regular expression, right? You want to use things from an XML file to substitute text in a flat file.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1530533075, "post_id": 51132446, "comment_id": 89255668, "body": "@simbabque:  <i>&quot;You want to use things from an XML file to substitute text in a flat file&quot;</i> I think the opposite: the substitutions are in the text file and are applied to XML files."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530533320, "post_id": 51132446, "comment_id": 89255827, "body": "Well simple search/replace in an XML that only touches text, but not structure, is fair game in my book @Borodin. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1530533428, "post_id": 51132446, "comment_id": 89255892, "body": "Have you tried that? It should already do what you want. The default behaviour is to treat variables like patterns when they are interpolated into a <code>m&#47;&#47;</code> or <code>s&#47;&#47;&#47;</code> on the left-hand-side. You&#39;d have to specifically <code>quotemeta</code> them or wrap them in <code>m&#47;\\Q$pattern\\E&#47;</code> to disable that."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1530534284, "post_id": 51136095, "comment_id": 89256414, "body": "You don&#39;t think that using a heredoc that&#39;s terminated by an empty string is a little obscure for code that&#39;s aimed at a beginner?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1530534316, "post_id": 51136095, "comment_id": 89256432, "body": "@DaveCross I didn&#39;t even know that was possible. :D"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1530534364, "post_id": 51136095, "comment_id": 89256465, "body": "@simbabque: Neither did I, but I was trying to sound cool :-)"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1530534436, "post_id": 51136095, "comment_id": 89256514, "body": "Nah, it&#39;s fine."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 0, "last_activity_date": 1530533973, "creation_date": 1530533973, "answer_id": 51136095, "question_id": 51132446, "link": "https://stackoverflow.com/questions/51132446/perl-interpret-regex-from-text-file/51136095#51136095", "title": "Perl interpret regex from text file", "body": "<p>You need to make a distinction between text keys and regex keys in the code. For regex keys, use double-eval substitution and also <em>backreferences</em> in the corresponding values if there are capture groups.</p>\n\n<pre><code>use 5.026;\nuse Tie::RefHash;\nuse strictures;\n\nmy %subst;\ntie %subst, 'Tie::RefHash';\n%subst = (\n    'mot-cl\u00e9' =&gt; 'mot cl\u00e9',\n    noeud =&gt; 'n\u0153ud',\n    qr'version (\\d)' =&gt; 'version&amp;#8201;$1',\n    'Codename One' =&gt; 'Codename&amp;#8201;One',\n);\n\nmy $text = &lt;&lt;'';\n&lt;title&gt;Codename One&lt;/title&gt;\n&lt;para&gt;Le mot-cl\u00e9 de la version 3 .....&lt;/para&gt;\n&lt;para&gt; .... noeud .... &lt;/para&gt;\n\nforeach my $k (keys %subst) {\n    if (ref $k eq ref qr'') {\n        $text =~ s/$k/qq(\"$subst{$k}\")/eegms;\n    } else {\n        $text =~ s/$k/$subst{$k}/gms;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10020143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10be3451f3e142bf5f5f9ca8a1430095?s=128&d=identicon&r=PG&f=1", "display_name": "prodDBK", "link": "https://stackoverflow.com/users/10020143/proddbk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 51136095, "answer_count": 1, "score": 0, "last_activity_date": 1530533973, "creation_date": 1530522047, "last_edit_date": 1530525612, "question_id": 51132446, "link": "https://stackoverflow.com/questions/51132446/perl-interpret-regex-from-text-file", "title": "Perl interpret regex from text file", "body": "<p>I'm a beginner in Perl and I have a question about regex.\nThe aim of the script I'm working on is to substitute a string by another in an XML file. These strings are on a text file, that looks like this :</p>\n\n<pre><code>mot-cl\u00e9, mot cl\u00e9\nnoeud, n\u0153ud\nversion (\\d), version&amp;#8201;(\\d)\nCodename One, Codename&amp;#8201;One\n</code></pre>\n\n<p>The script takes each lines of this file and put them in a hash table, and then the key is substitute by its value :</p>\n\n<pre><code># Open file text and recupration of the lines in a table @t\n%hach = @t;\nforeach my $k (keys(%hach)) {\n   s/$k/$hach{$k}/sg;\n}\n</code></pre>\n\n<p>Substitutions are made on an XML file. For example, before I run the script, it looks like this :</p>\n\n<pre><code>&lt;title&gt;Codename One&lt;/title&gt;\n&lt;para&gt;Le mot-cl\u00e9 de la version 3 .....&lt;/para&gt;\n&lt;para&gt; .... noeud .... &lt;/para&gt;\n</code></pre>\n\n<p>I'd like it to looks like this after passing the script :</p>\n\n<pre><code>&lt;title&gt;Codename&amp;#8201;One&lt;/title&gt;\n&lt;para&gt; Le mot cl\u00e9 de la version&amp;#8201;3 .....&lt;/para&gt;\n&lt;para&gt; .... n\u0153ud .... &lt;/para&gt;\n</code></pre>\n\n<p>For the moment, the substitution is done for \"normal\" strings but not for the strings that contain regex. For these strings, I woud like perl to interpret characters related to regex as well. Then, the script will be able to make all substitutions.\nHere is my question: is it possible for Perl to interpret these strings as regex ? And if it's possible, how?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["perl", "getopt", "getopt-long"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 8503833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tAeVjqjk2ys/AAAAAAAAAAI/AAAAAAAAAAo/14pqgHVPEHE/photo.jpg?sz=128", "display_name": "Jaya Surya S Athikesavan", "link": "https://stackoverflow.com/users/8503833/jaya-surya-s-athikesavan"}, "edited": false, "score": 0, "creation_date": 1530516891, "post_id": 51131082, "comment_id": 89246861, "body": "ok thanks. Then I want to use GetOptions to do getopts(&quot;yjfei:o:j:z:&quot;, \\%opts); . In GetOptions (Getopt::Long;) can we feed arguments to hash ? and same time I want to get some values to an array. (as i mentioned in question. Can we do both?) I also read that we cannot call GetOptions more than once in program. can you please give me an example were GetOptions is uused to get  getopts(&quot;yjfei:o:j:z:&quot;, \\%opts) into that hash opts. and also get 3 integers into an array as well. Thanks in advance."}, {"owner": {"reputation": 1218, "user_id": 2621408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14qCV.png?s=128&g=1", "display_name": "marderh", "link": "https://stackoverflow.com/users/2621408/marderh"}, "reply_to_user": {"reputation": 79, "user_id": 8503833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tAeVjqjk2ys/AAAAAAAAAAI/AAAAAAAAAAo/14pqgHVPEHE/photo.jpg?sz=128", "display_name": "Jaya Surya S Athikesavan", "link": "https://stackoverflow.com/users/8503833/jaya-surya-s-athikesavan"}, "edited": false, "score": 0, "creation_date": 1530517758, "post_id": 51131082, "comment_id": 89247274, "body": "Please have a look at <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">Getopt::Long</a>! It&#39;s all there: E.g. <a href=\"https://metacpan.org/pod/Getopt::Long#Storing-options-values-in-a-hash\" rel=\"nofollow noreferrer\">Storing options values in a hash</a> or <a href=\"https://metacpan.org/pod/Getopt::Long#Options-with-multiple-values\" rel=\"nofollow noreferrer\">Options with multiple values</a>"}], "tags": [], "owner": {"reputation": 1218, "user_id": 2621408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14qCV.png?s=128&g=1", "display_name": "marderh", "link": "https://stackoverflow.com/users/2621408/marderh"}, "is_accepted": false, "score": 1, "last_activity_date": 1530516567, "creation_date": 1530516567, "answer_id": 51131082, "question_id": 51130844, "link": "https://stackoverflow.com/questions/51130844/using-getoptstd-and-getoptlong-in-a-perl-script/51131082#51131082", "title": "using Getopt::Std and Getopt::Long in a Perl script", "body": "<p>AFAIK you cannot use both, but <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">Getopt::Long</a> supports also short options, so you could stick with it.</p>\n"}, {"tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 4, "last_activity_date": 1530549103, "creation_date": 1530549103, "answer_id": 51140340, "question_id": 51130844, "link": "https://stackoverflow.com/questions/51130844/using-getoptstd-and-getoptlong-in-a-perl-script/51140340#51140340", "title": "using Getopt::Std and Getopt::Long in a Perl script", "body": "<p><a href=\"http://perldoc.perl.org/Getopt/Std.html\" rel=\"nofollow noreferrer\"><code>Getopt::Std</code></a> and <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\"><code>Getopt::Long</code></a> both just interpret <a href=\"http://perldoc.perl.org/perlvar.html#@ARGV\" rel=\"nofollow noreferrer\"><code>@ARGV</code></a>, so if you fiddle with that, it's <em>theoretically</em> possible to use both of them in one script, or to call <code>GetOptions</code> more than once. <strong>However,</strong> I wouldn't recommend it - just use <code>Getopt::Long</code>.</p>\n\n<p>This code:</p>\n\n<pre><code>use Getopt::Std;\ngetopts('a:b', \\my %opts) or die \"Bad options\\n\";\n</code></pre>\n\n<p>can be translated into:</p>\n\n<pre><code>use Getopt::Long;\nGetOptions(\\my %opts, 'a=s', 'b') or die \"Bad options\\n\";\n</code></pre>\n\n<p>and then you can add more options, and long options. Here, I've added a short alias <code>-t</code> for the option <code>--testrun</code>, just to demonstrate:</p>\n\n<pre><code>use Getopt::Long;\nGetOptions(\\my %opts, 'a=s', 'b',\n    'testrun|t', 'cfgarray' ) or die \"Bad options\\n\";\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 8503833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tAeVjqjk2ys/AAAAAAAAAAI/AAAAAAAAAAo/14pqgHVPEHE/photo.jpg?sz=128", "display_name": "Jaya Surya S Athikesavan", "link": "https://stackoverflow.com/users/8503833/jaya-surya-s-athikesavan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1185, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1586051413, "creation_date": 1530515659, "last_edit_date": 1586051413, "question_id": 51130844, "link": "https://stackoverflow.com/questions/51130844/using-getoptstd-and-getoptlong-in-a-perl-script", "title": "using Getopt::Std and Getopt::Long in a Perl script", "body": "<p>I have an existing Perl script which has many command line options which are processed using <code>Getopt::Std</code> (<code>getopts</code> function). But, I want to add 2 new options: <code>--testrun</code> and <code>--cfgarray</code>.</p>\n\n<p>I used <code>use Getopt::Long;</code> and <code>GetOptions('testrun' =&gt; \\$test_flag);</code> \"--testrun\" takes no argument.  I simply used it as a flag like <code>if($test_flag)</code>. It works when run separately. But, since in my Perl script there is both <code>use Getopt::Long;</code> and <code>use Getopt::Std;</code>, I get error:</p>\n\n<blockquote>\n  <p>unknown options</p>\n</blockquote>\n\n<p>from <code>getopts</code> api (when it is called before <code>GetOptions</code>). Can both <code>Getopt::Std</code> and <code>Getopt::Long</code> be used in a single Perl script?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1530456047, "post_id": 51123660, "comment_id": 89233605, "body": "This is a very strange thing to want to do. As your reference says, the best way is probably to encode your UTF-8 string to a byte string before processing it. You ask for a &quot;better replacement&quot; for your regex pattern, but a better question would show a sample of your UTF-8 data and explain what you were trying to do."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530457049, "post_id": 51123660, "comment_id": 89233844, "body": "Note that Perl doesn&#39;t support PCRE. I have changed your tag."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1530458027, "post_id": 51123660, "comment_id": 89234075, "body": "I&#39;m beginning to think that you&#39;re not processing UTF-8 at all, as <code>\\x81</code> and <code>\\x82</code> are not valid initial bytes for a UTF-8 character, and <code>U+0081</code> and <code>U+0082</code> are both little-used control characters. If you are processing an unencoded binary data structure then there is no need for <code>\\C</code> at all, and you just want <code>.</code> with the <code>&#47;s</code> modifier and probably <code>&#47;a</code> as well."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1530550248, "post_id": 51123660, "comment_id": 89265262, "body": "Re &quot;<i>\\C is a &quot;extremely buggy&quot;</i>&quot;, It&#39;s more than that. <code>\\C</code> matches against something other than the string being matched against. That makes no sense, so using <code>\\C</code> makes no sense (and never did). Since <code>\\C</code> is buggy by design, <i>and since all uses of <code>\\C</code> are equally buggy</i>, it was removed."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1530587387, "last_edit_date": 1530587387, "creation_date": 1530549497, "answer_id": 51140429, "question_id": 51123660, "link": "https://stackoverflow.com/questions/51123660/what-is-the-replacement-for-deprecated-c-in-perl/51140429#51140429", "title": "What is the replacement for deprecated &quot;\\C&quot; in Perl?", "body": "<p>A string is an array of integers called characters.</p>\n\n<p>In your case, each character/number appears to a byte read from a stream, and <code>\\xDF \\C \\C</code> appears to be trying to match a character/number/byte with value DF<sub>16</sub> followed by any two other characters/numbers/bytes.</p>\n\n<p>For that, you simply want</p>\n\n<pre><code>\\xDF . .\n</code></pre>\n\n<p>Note that you must also use <code>/s</code>. <code>/s</code> causes <code>.</code> to match any character/number, and thus any byte. (Without <code>/s</code>, <code>.</code> is equivalent to <code>[^\\x0A]</code>.)</p>\n"}], "owner": {"reputation": 7, "user_id": 2098215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGZCC.jpg?s=128&g=1", "display_name": "cem karaca", "link": "https://stackoverflow.com/users/2098215/cem-karaca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1324, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1530587387, "creation_date": 1530451261, "last_edit_date": 1592644375, "question_id": 51123660, "link": "https://stackoverflow.com/questions/51123660/what-is-the-replacement-for-deprecated-c-in-perl", "title": "What is the replacement for deprecated &quot;\\C&quot; in Perl?", "body": "<p>I want to run a Perl script coded before Perl 5.24, and I get the following error:</p>\n<pre><code>Could not load class (GMP::Group) because : \\C no longer supported in regex; marked by &lt;-- HERE in m/  \n        (?&lt;tag&gt; \\xdf \\ &lt;-- HERE C \\C )                                  # tlv tag \n        (?&lt;len&gt; (?| ( \\x81 \\C ) | ( \\x82 \\C \\C ) | ( \\C ) ) )   # tlv length\n        (?&lt;content&gt; (??{ '\\C' x binlen2int($+{len}) }) )                # tlv content\n    / at /opt/tsm-v1/bin/../lib/GMP/Group.pm line 42.\n</code></pre>\n<p>What could be the proper replacement for this line?</p>\n<pre><code>sub tlvre {\n    qr/\n        (?&lt;tag&gt; \\xdf \\C \\C )                                    \n        (?&lt;len&gt; (?| ( \\x81 \\C ) | ( \\x82 \\C \\C ) | ( \\C ) ) )   \n        (?&lt;content&gt; (??{ '\\C' x binlen2int($+{len}) }) )                \n    /x;\n}\n</code></pre>\n<p>The code works on Perl 5.18, but as\n<a href=\"https://perldoc.perl.org/perldiag.html\" rel=\"nofollow noreferrer\"><code>perldiag</code></a>\nstates, <code>\\C</code> is a &quot;extremely buggy&quot;.</p>\n<blockquote>\n<ul>\n<li><p><strong>\\C no longer supported in regex; marked by &lt;-- HERE in m/%s/</strong></p>\n<p>(F) The \\C character class used to allow a match of single byte within a multi-byte utf-8 character, but was removed in v5.24 as it broke encapsulation and its implementation was extremely buggy. If you really need to process the individual bytes, you probably want to convert your string to one where each underlying byte is stored as a character, with utf8::encode().</p>\n</li>\n</ul>\n</blockquote>\n<p>Now I'm using Perl 5.28.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8293461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee863404ce9dd1b3b09d7fa86b3bacab?s=128&d=identicon&r=PG&f=1", "display_name": "ysscotty", "link": "https://stackoverflow.com/users/8293461/ysscotty"}, "edited": false, "score": 0, "creation_date": 1530610641, "post_id": 51123356, "comment_id": 89285882, "body": "I got it~Thanks for your explanation!!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1530448945, "last_edit_date": 1530448945, "creation_date": 1530448553, "answer_id": 51123356, "question_id": 51123070, "link": "https://stackoverflow.com/questions/51123070/why-it-doesnt-work-when-i-want-to-replace-text-by-using-hash-keys-join-functio/51123356#51123356", "title": "why it doesn&#39;t work when I want to replace text by using hash keys&amp; join function?", "body": "<p>Well for one thing you're defining <code>%replacememts</code> and are trying to use <code>%replacements</code>. This is why you <em>must always</em> <code>use strict</code> and <code>use warnings 'all'</code> at the top of every Perl program you write, without exception. You will then need to declare each of your variables with <code>my</code> as late as possible (don't just put a big block of declarations at the top)</p>\n\n<p>Ultimately, you have the right idea but the first parameter to a substitution must be a regex pattern. It will interpolate Perl variables, which is why it worked when you used an array, but you can't just use an arbitrary Perl expression</p>\n\n<p>You need to build your regex pattern into a variable and use that variable in the substitution. Like this. It's also much clearer this way</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $sentence = 'dog cat';\n\nmy %replacements = ( dog =&gt; 'wolf', cat =&gt; 'tiger' );\n\nmy $re = join '|', keys %replacements;\n\n(my $val = $sentence) =~ s/($re)/$replacements{$1}/g;\n\nprint \"$val\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>wolf tiger\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8293461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee863404ce9dd1b3b09d7fa86b3bacab?s=128&d=identicon&r=PG&f=1", "display_name": "ysscotty", "link": "https://stackoverflow.com/users/8293461/ysscotty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 51123356, "answer_count": 1, "score": 0, "last_activity_date": 1530448945, "creation_date": 1530446243, "question_id": 51123070, "link": "https://stackoverflow.com/questions/51123070/why-it-doesnt-work-when-i-want-to-replace-text-by-using-hash-keys-join-functio", "title": "why it doesn&#39;t work when I want to replace text by using hash keys&amp; join function?", "body": "<p>I wrote perl program like this :</p>\n\n<pre><code>#program1\n$sentence = \"dog cat\";\n%replacememts = (\"dog\" =&gt; \"wolf\",\"cat\" =&gt; \"tiger\");\n($val = $sentence) =~ s/(join \"|\",keys %replacements)/$replacements{$1}/g;\nprint \"$val\\n\";\n</code></pre>\n\n<p>It will print <strong>\"dog cat\"</strong> . It  is not the answer I want.\nBut when added anonymous array &amp; dereference array  like this:</p>\n\n<pre><code>#program2\n$sentence = \"dog cat\";\n%replacememts = (\"dog\" =&gt; \"wolf\",\"cat\" =&gt; \"tiger\");\n($val = $sentence) =~ s/(@{[join \"|\",keys %replacements]})/$replacements{$1}/g;\nprint \"$val\\n\";\n</code></pre>\n\n<p>It will print <strong>\"wolf tiger\"</strong>. It is the answer I want. Why? What is different  between the program1 and program2? someone can tell me,thank you! </p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1530405080, "creation_date": 1530405080, "answer_id": 51119550, "question_id": 51119440, "link": "https://stackoverflow.com/questions/51119440/multiple-matching-expressions-using-perl/51119550#51119550", "title": "Multiple Matching Expressions Using Perl", "body": "<p>Replace</p>\n\n<pre><code>if ($line =~ / &gt; P-phase pairs total =.*?(\\d+)/) {\n</code></pre>\n\n<p>with</p>\n\n<pre><code>if ($line =~ / &gt; [PS]-phase pairs total =.*?(\\d+)/) {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if ($line =~ / &gt; .-phase pairs total =.*?(\\d+)/) {\n</code></pre>\n\n<p>We might as well anchor the match to avoid needless matching and backtracking, and <code>.*?</code> should be avoided as it can cause major headaches. So we get:</p>\n\n<pre><code>if ($line =~ /^ &gt; .-phase pairs total =\\s*(\\d+)/) {\n</code></pre>\n"}], "owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1530405419, "creation_date": 1530403411, "last_edit_date": 1530405086, "question_id": 51119440, "link": "https://stackoverflow.com/questions/51119440/multiple-matching-expressions-using-perl", "title": "Multiple Matching Expressions Using Perl", "body": "<p>I have an input file that I want to extract values from.  The input file has this sort of format:</p>\n\n<pre><code> &gt; P-phase pairs total =         5135\n &gt; S-phase pairs total =         4155\n</code></pre>\n\n<p>I want to write a Perl script that matches the expression in this text file and outputs the value after the equals sign.  The code below can handle the output of the first value, but want I want to do is output the second value (4155) as well.  What would be the best way to amend this code, to allow multiple matching expressions? Thanks.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nopen (my $file, \"&lt;\", \"input.txt\") || die (\"cannot open ph2dt file.\\n\");\nopen (my $out, \"&gt;\", \"output.txt\") || die (\"cannot open outfile.\\n\");\n\nwhile(my $line =&lt;$file&gt;) {\n  chomp $line;\n  if ($line =~ / &gt; P-phase pairs total =.*?(\\d+)/) {\n    print $1;\n  }\n}\n</code></pre>\n"}, {"tags": ["dbix-class", "perl"], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1530445823, "post_id": 51121093, "comment_id": 89231085, "body": "I would switch, my boss doesn&#39;t"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1530476962, "post_id": 51121093, "comment_id": 89238479, "body": "@porton: What reasons does he give?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1530556115, "post_id": 51121093, "comment_id": 89267863, "body": "Finally he  agreed to use FastCGI, so we can use <code>DBIx::Class</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1530556385, "post_id": 51121093, "comment_id": 89267979, "body": "@porton: That&#39;s the wrong approach as you&#39;ll need to rewrite stuff. But at least it&#39;s better than where you are now"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1530590006, "post_id": 51121093, "comment_id": 89276944, "body": "@Dave Cross, hum? When we switched to FastCGI, we simply used a wrapper. We didn&#39;t need to rewrite a thing."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1530599784, "post_id": 51121093, "comment_id": 89279978, "body": "@ikegami: It&#39;s likely I&#39;m misremembering then. It&#39;s such a long time since I went from CGI to FastCGI. I remember it being incredibly difficult."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1530456168, "last_edit_date": 1530456168, "creation_date": 1530428253, "answer_id": 51121093, "question_id": 51119120, "link": "https://stackoverflow.com/questions/51119120/use-dbixclass-without-loading-all-tables/51121093#51121093", "title": "Use DBIx::Class without loading all tables", "body": "<p>One way might be to use <a href=\"https://metacpan.org/pod/DBIx::Class::Schema#load_classes\" rel=\"nofollow noreferrer\"><code>load_classes()</code></a> instead of <a href=\"https://metacpan.org/pod/DBIx::Class::Schema#load_namespaces\" rel=\"nofollow noreferrer\"><code>load_namespaces()</code></a>.</p>\n\n<p>But you never explained why you think you can't switch to a persistent environment where this load time wouldn't be a problem.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 51121093, "answer_count": 1, "score": 0, "last_activity_date": 1530456168, "creation_date": 1530399134, "question_id": 51119120, "link": "https://stackoverflow.com/questions/51119120/use-dbixclass-without-loading-all-tables", "title": "Use DBIx::Class without loading all tables", "body": "<p>They <a href=\"https://stackoverflow.com/q/51070019/856090\">say</a> in comments that <code>DBIx::Class</code> can be used without loading all tables.</p>\n\n<p>How to use <code>DBIx::Class</code> without loading all tables? (I need this for performance reasons.)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 23, "user_id": 5518239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9db7fb06f161831e49d08704a526c?s=128&d=identicon&r=PG&f=1", "display_name": "Soham Sengupta", "link": "https://stackoverflow.com/users/5518239/soham-sengupta"}, "reply_to_user": {"reputation": 4513, "user_id": 3416272, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xL2ZJ.jpg?s=128&g=1", "display_name": "Md Johirul Islam", "link": "https://stackoverflow.com/users/3416272/md-johirul-islam"}, "edited": false, "score": 0, "creation_date": 1530397385, "post_id": 51118962, "comment_id": 89223823, "body": "Thank you for your reply @MdJohirulIslam. I am not looking for the smallest number, but the smallest whole number. Whole numbers includes 0 and all positive numbers only."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1530502813, "post_id": 51118962, "comment_id": 89242510, "body": "&quot;Whole number&quot; appears to mean different things to different people. (To many including myself and <a href=\"https://www.google.com/search?q=define%3Awhole+number\" rel=\"nofollow noreferrer\">google</a>, it means a number without a fractional component, which includes -5.) Fixed the question to use unambiguous language."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1530550562, "post_id": 51118962, "comment_id": 89265385, "body": "<a href=\"https://www.perlmonks.org/?node_id=1217669\" rel=\"nofollow noreferrer\">Crossposted to PerlMonks</a>."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1530403389, "post_id": 51119069, "comment_id": 89224638, "body": "Needlessly expensive!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1530404345, "post_id": 51119069, "comment_id": 89224737, "body": "And <code>my $ix = (...)[0];</code> is probably more clearly written as <code>my ($ix) = ...;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1530443586, "post_id": 51119069, "comment_id": 89230628, "body": "It is unnecessary to <code>sort</code> the list. You don&#39;t care that <i>all</i> of the values are in order, only that the smallest whole number comes first."}], "tags": [], "owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "is_accepted": false, "score": 1, "last_activity_date": 1530549060, "last_edit_date": 1530549060, "creation_date": 1530398515, "answer_id": 51119069, "question_id": 51118962, "link": "https://stackoverflow.com/questions/51118962/get-the-index-of-smallest-non-negative-number-in-an-array/51119069#51119069", "title": "Get the index of smallest non-negative number in an array?", "body": "<p>The trick is to sort a list of index numbers, then pick the first one:</p>\n\n<pre><code>my $ix = (sort { $array[$a]) &lt;=&gt; $array[$b] } grep { $array[$_] &gt;= 0 } 0..$#array)[0];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530492493, "post_id": 51119452, "comment_id": 89240936, "body": "The OP is looking for the <i>smallest non-negative number</i> in the list, not the number with the smallest magnitude."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530502957, "post_id": 51119452, "comment_id": 89242532, "body": "Adjusted for clarified question"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1530501708, "last_edit_date": 1530501708, "creation_date": 1530403616, "answer_id": 51119452, "question_id": 51118962, "link": "https://stackoverflow.com/questions/51118962/get-the-index-of-smallest-non-negative-number-in-an-array/51119452#51119452", "title": "Get the index of smallest non-negative number in an array?", "body": "<p>You want to <code>reduce</code> (O(N)), not <code>sort</code> (O(N log N))!</p>\n\n<pre><code>use List::Util qw( reduce );\n\nmy $i =\n   reduce { $array[$a] &lt;= $array[$b] ? $a : $b }\n      grep { $array[$_] &gt;= 0 }\n         0..$#array;\n</code></pre>\n\n<hr>\n\n<p>If you want optimal performance, the following will get you closer:</p>\n\n<pre><code>use Config     qw( %Config );\nuse List::Util qw( minstr );\n\nmy $i =\n   unpack \"x$Config{ivsize} J\",\n      minstr\n         map { pack 'J&gt; J', $array[$_], $_ }\n            grep { $array[$_] &gt;= 0 }\n               0..$#array;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1530549246, "post_id": 51123156, "comment_id": 89264842, "body": "Re &quot;<i>In Perl, indexing starts at zero, so the index is 2 (not 3).</i>&quot;, No, the answer is correctly 3. 0:3, 1:4, 2:71, 3:1, 4:-598, 5:-100203"}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": -1, "last_activity_date": 1530565678, "last_edit_date": 1530565678, "creation_date": 1530446910, "answer_id": 51123156, "question_id": 51118962, "link": "https://stackoverflow.com/questions/51118962/get-the-index-of-smallest-non-negative-number-in-an-array/51123156#51123156", "title": "Get the index of smallest non-negative number in an array?", "body": "<p>The quickest way is to scan the list.</p>\n\n<pre><code>#!/usr/bin/env perl\n\n# always use these two\nuse strict;\nuse warnings;\n\nuse feature qw( :all );\n\n# --------------------------------------\n#       Name: smallest_whole_number\n#      Usage: ( $smallest, $index ) = smallest_whole_number( @array );\n#    Purpose: Find the smallest whole number in an array.\n# Parameters: @array -- array of integers\n#    Returns: ( $smallest, $index ) unless exception.\n#             ( -1, -1 ) if exception.\n#\nsub smallest_whole_number {\n    my @array = @_;\n\n    # check if array empty\n    return ( -1, -1 ) unless @array;\n\n    # scan for first whole number\n    my $index = 0;\n    while( $array[$index] &lt; 0 ){\n\n        # exception if no whole numbers in array\n        return ( -1, -1 ) if $index &gt;= $#array;\n\n        $index ++;\n    }\n\n    # save first whole number found\n    my $smallest = $array[$index];\n\n    # scan the rest of the array\n    for( my $i = $index + 1; $i &lt;= $#array; $i ++ ){\n        my $nbr = $array[$i];\n\n        # skip negative numbers\n        next if $nbr &lt; 0;\n\n        # check if current number smaller\n        if( $smallest &gt; $nbr ){\n            $smallest = $nbr;\n            $index    = $i;\n        }\n    }\n\n    return ( $smallest, $index );\n}\n\n# --------------------------------------\n# main\n\nmy @array = ('3', '4', '71', '1', '-598', '-100203');\n\nmy ( $smallest, $index ) = smallest_whole_number( @array );\nsay \"smallest is $smallest at index $index\";\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5518239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9db7fb06f161831e49d08704a526c?s=128&d=identicon&r=PG&f=1", "display_name": "Soham Sengupta", "link": "https://stackoverflow.com/users/5518239/soham-sengupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 51119452, "answer_count": 3, "score": 0, "last_activity_date": 1530565678, "creation_date": 1530397188, "last_edit_date": 1530502467, "question_id": 51118962, "link": "https://stackoverflow.com/questions/51118962/get-the-index-of-smallest-non-negative-number-in-an-array", "title": "Get the index of smallest non-negative number in an array?", "body": "<p>I have an array which looks like this</p>\n\n<pre><code>@array = ('3', '4', '71', '1', '-598', '-100203');\n</code></pre>\n\n<p>I want to find the index of the smallest non-negative number among the integers in the array.</p>\n\n<p>For this case:</p>\n\n<ul>\n<li><p>smallest non-negative number = 1</p></li>\n<li><p>index of smallest non-negative number = 3</p></li>\n</ul>\n"}, {"tags": ["perl", "printing", "while-loop"], "comments": [{"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 2, "creation_date": 1530390163, "post_id": 51117924, "comment_id": 89222466, "body": "See also the classic <a href=\"https://www.plover.com/~mjd/perl/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">Suffering from Buffering</a>."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1530399546, "post_id": 51117990, "comment_id": 89224180, "body": "Nit: <code>$| = 1</code>; affects the handle returned by <code>select()</code>, not necessarily STDOUT. That said, <code>select()</code> returns STDOUT unless you&#39;ve told it otherwise."}], "tags": [], "owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "is_accepted": true, "score": 6, "last_activity_date": 1530387697, "creation_date": 1530387697, "answer_id": 51117990, "question_id": 51117924, "link": "https://stackoverflow.com/questions/51117924/how-to-print-before-a-while-loop-is-started-in-perl/51117990#51117990", "title": "How to print before a while loop is started in Perl?", "body": "<p>Output is buffered, meaning the program decides when it actually renders what you <code>print</code>ed. You can put</p>\n\n<pre><code>$| = 1;\n</code></pre>\n\n<p>to flush <code>stdout</code> in this single instance. For more methods (auto-flushing, file flushing etc) you can search around SO for questions about this.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1530388343, "last_edit_date": 1530388343, "creation_date": 1530387870, "answer_id": 51118003, "question_id": 51117924, "link": "https://stackoverflow.com/questions/51117924/how-to-print-before-a-while-loop-is-started-in-perl/51118003#51118003", "title": "How to print before a while loop is started in Perl?", "body": "<p>Ordinarily, perl will buffer up to 8KB of output text before flushing it to the device, or up to the next newline if the device is a terminal. You can avoid this by adding</p>\n\n<pre><code>STDOUT-&gt;autoflush\n</code></pre>\n\n<p>to the top of your code, assuming that you are printing to <code>STDOUT</code>. This will force the data to be flushed after every <code>print</code>, <code>say</code> or <code>write</code> operation</p>\n\n<p>Note that this is the same as using <code>$| = 1</code> but is significantly less cryptic and allows you to change the properties of any given file handle</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1530448124, "creation_date": 1530448124, "answer_id": 51123303, "question_id": 51117924, "link": "https://stackoverflow.com/questions/51117924/how-to-print-before-a-while-loop-is-started-in-perl/51123303#51123303", "title": "How to print before a while loop is started in Perl?", "body": "<p>You can see the prints by flushing the buffers immediately after.</p>\n\n<pre><code>print \"Processing ... \";\nSTDOUT-&gt;flush;\n</code></pre>\n\n<p>If you are using <code>autoflush</code>, you should save the current configuration by duplicating the file handle.</p>\n\n<pre><code>use autodie; # dies if error on open and close.\n\n{\n    STDOUT-&gt;flush; # empty its buffer\n    open my $saved_stdout, '&gt;&amp;', \\*STDOUT;\n    STDOUT-&gt;autoflush;\n\n    # ... output with autoflush active\n\n    open STDOUT, '&gt;&amp;', $saved_stdout; # restore old STDOUT\n}\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\"><code>perldoc -f open</code></a> and search for <code>/\\&gt;\\&amp;/</code></p>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 51117990, "answer_count": 3, "score": 1, "last_activity_date": 1530448124, "creation_date": 1530387158, "question_id": 51117924, "link": "https://stackoverflow.com/questions/51117924/how-to-print-before-a-while-loop-is-started-in-perl", "title": "How to print before a while loop is started in Perl?", "body": "<p>I have this code in <code>Perl</code>:</p>\n\n<pre><code>print \"Processing ... \";\nwhile ( some condition ) {\n    # do something over than 10 minutes\n}\nprint \"OK\\n\";\n</code></pre>\n\n<p>Now I get back the first print <strong>after</strong> the while loop is finished.</p>\n\n<p>How can I print the messeage <strong>before</strong> the while loop is started?</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530362502, "post_id": 51114874, "comment_id": 89216263, "body": "Perhaps you should say where you got the notion that your XML data is version 3.5."}, {"owner": {"reputation": 90, "user_id": 817324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb497bfa2a5260e2973cfc1d17e5b970?s=128&d=identicon&r=PG", "display_name": "Ashley Kleynhans", "link": "https://stackoverflow.com/users/817324/ashley-kleynhans"}, "edited": false, "score": 0, "creation_date": 1530363153, "post_id": 51114874, "comment_id": 89216402, "body": "The source file from our supplier has xml version=&quot;3.5&quot;, so I assume they are violating the RFC then?"}, {"owner": {"reputation": 90, "user_id": 817324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb497bfa2a5260e2973cfc1d17e5b970?s=128&d=identicon&r=PG", "display_name": "Ashley Kleynhans", "link": "https://stackoverflow.com/users/817324/ashley-kleynhans"}, "edited": false, "score": 0, "creation_date": 1530363430, "post_id": 51114874, "comment_id": 89216454, "body": "Thanks very much for the help. I see according to the RFC, 1.0 and 1.1 are the only supported versions?"}, {"owner": {"reputation": 64716, "user_id": 157957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBRE7.jpg?s=128&g=1", "display_name": "IMSoP", "link": "https://stackoverflow.com/users/157957/imsop"}, "edited": false, "score": 0, "creation_date": 1530363877, "post_id": 51114874, "comment_id": 89216562, "body": "I have moved my comments into an answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1530384015, "post_id": 51114874, "comment_id": 89221244, "body": "They are probably misusing the XML version field to store the version of their schema. A good place to store that would be as an attribute on the root element."}], "answers": [{"tags": [], "owner": {"reputation": 64716, "user_id": 157957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBRE7.jpg?s=128&g=1", "display_name": "IMSoP", "link": "https://stackoverflow.com/users/157957/imsop"}, "is_accepted": true, "score": 3, "last_activity_date": 1530363848, "creation_date": 1530363848, "answer_id": 51115182, "question_id": 51114874, "link": "https://stackoverflow.com/questions/51114874/getting-a-parser-error-when-trying-to-parse-xml-3-5-files-in-perl/51115182#51115182", "title": "Getting a Parser error when trying to parse XML 3.5 files in Perl", "body": "<p>There is no version 3.5 of XML, only 1.0 and 1.1 (1.0 is the one which is commonly used) as <a href=\"https://www.w3.org/standards/techs/xml\" rel=\"nofollow noreferrer\">standardised by the W3C</a>.</p>\n\n<p>It's tempting to speculate that this data came from the future, where XML actually has versions beyond 1, but I suspect it's more likely that there was some misunderstanding and the document is in version 3.5 of some specific XML-based format, and the version was incorrectly added into the opening header.</p>\n\n<p>Your only options are:</p>\n\n<ul>\n<li>persuade whoever generated the file to fix their mistake</li>\n<li>replace the 3.5 with 1.0 before parsing the file, and hope they haven't made other mistakes which will prevent it being parsed</li>\n</ul>\n"}], "owner": {"reputation": 90, "user_id": 817324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb497bfa2a5260e2973cfc1d17e5b970?s=128&d=identicon&r=PG", "display_name": "Ashley Kleynhans", "link": "https://stackoverflow.com/users/817324/ashley-kleynhans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 51115182, "answer_count": 1, "score": 0, "last_activity_date": 1530363848, "creation_date": 1530361166, "question_id": 51114874, "link": "https://stackoverflow.com/questions/51114874/getting-a-parser-error-when-trying-to-parse-xml-3-5-files-in-perl", "title": "Getting a Parser error when trying to parse XML 3.5 files in Perl", "body": "<p>I am trying to parse XML version 3.5 files in Perl.</p>\n\n<p>The first line of the file looks as follows:</p>\n\n<pre><code>&lt;?xml version=\"3.5\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n</code></pre>\n\n<p>I have tried both XML::Simple and XML::LibXML and they are both resulting in the same error:</p>\n\n<pre><code>parser error : Unsupported version \\'3.5\\' &lt;?xml version=\"3.5\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n</code></pre>\n\n<p>Does anyone perhaps have any suggestions on a way to fix this or an alternate library I can use?  I tried to Google, but there didn't seem to be very many useful solutions to the problem.</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1530352784, "post_id": 51113439, "comment_id": 89213997, "body": "Okay, and does <code>&#47;tmp&#47;1341650.1.longjob.q&#47;dZnCgF1MiR</code> exist when the error appears? (This directory will have a different name each time you run your program.)"}, {"owner": {"reputation": 141, "user_id": 6277637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75bd241571946bd8060b505d56ec4b?s=128&d=identicon&r=PG&f=1", "display_name": "James E Keenan", "link": "https://stackoverflow.com/users/6277637/james-e-keenan"}, "edited": false, "score": 0, "creation_date": 1530361370, "post_id": 51113439, "comment_id": 89215991, "body": "Have you tried processing the errant file just by itself, i.e., outside this attempt at parallel processing?  It would certainly be plausible for Storable to have problems with the file it it were defective."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 141, "user_id": 6277637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75bd241571946bd8060b505d56ec4b?s=128&d=identicon&r=PG&f=1", "display_name": "James E Keenan", "link": "https://stackoverflow.com/users/6277637/james-e-keenan"}, "edited": false, "score": 0, "creation_date": 1530362859, "post_id": 51113439, "comment_id": 89216329, "body": "@James: <code>Storable</code> is used internally by <code>Parallel::ForkManager</code>. It is used to pass information back from the child threads to the parent."}, {"owner": {"reputation": 248, "user_id": 1535915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a7ce1539aaf4c55b983ba12bd4672f?s=128&d=identicon&r=PG", "display_name": "h.mon", "link": "https://stackoverflow.com/users/1535915/h-mon"}, "edited": false, "score": 1, "creation_date": 1530382138, "post_id": 51113439, "comment_id": 89220834, "body": "Cross-posted at Biostars: <a href=\"https://www.biostars.org/p/323998/\" rel=\"nofollow noreferrer\">biostars.org/p/323998</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10014086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1c0d50e537e41b5ee10e428f563b34?s=128&d=identicon&r=PG&f=1", "display_name": "Josquin", "link": "https://stackoverflow.com/users/10014086/josquin"}, "edited": false, "score": 0, "creation_date": 1530625364, "post_id": 51117662, "comment_id": 89295615, "body": "Thanks a lot for your answer."}, {"owner": {"reputation": 1, "user_id": 10014086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1c0d50e537e41b5ee10e428f563b34?s=128&d=identicon&r=PG&f=1", "display_name": "Josquin", "link": "https://stackoverflow.com/users/10014086/josquin"}, "edited": false, "score": 0, "creation_date": 1530625862, "post_id": 51117662, "comment_id": 89295962, "body": "Your solution solved the problem of &quot;storable module&quot;. But I am still getting the &quot;Cannot fork&quot; error message.  I check the ForkManager.pm module and it seams that $pid is not defined when the module launch the line &quot;my $pid=fork();&quot;  However, I can&#39;t figure out why $pid isn&#39;t define.  I wonder if the error is related to the way I code the program: the job a one file will be send to one slot. In my case I have ~300files, the first 70 are running smoothy and then I am getting this error..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 10014086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1c0d50e537e41b5ee10e428f563b34?s=128&d=identicon&r=PG&f=1", "display_name": "Josquin", "link": "https://stackoverflow.com/users/10014086/josquin"}, "edited": false, "score": 0, "creation_date": 1530640069, "post_id": 51117662, "comment_id": 89304067, "body": "<code>$!</code> is set to an error message when <code>fork</code> returns undef. Most likely, you&#39;re hitting the limit on the number of child processes your process can have at once. That might be configurable"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1530384641, "creation_date": 1530384641, "answer_id": 51117662, "question_id": 51113439, "link": "https://stackoverflow.com/questions/51113439/error-using-perl-module-parallelforkmanager/51117662#51117662", "title": "Error using perl module Parallel::ForkManager", "body": "<p>It sounds like the <code>/tmp</code> drive is getting full, or there's some permission issue, or some process is cleaning it up behind your back.</p>\n\n<p>Try using another directory for the temporary file.</p>\n\n<p>To do that, set the environment variable <code>TMPDIR</code>, or pass the name of the directory as a second argument to the constructor:</p>\n\n<pre><code>Parallel::ForkManager-&gt;new($max_process, $tmp_dir_qfn)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10014086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1c0d50e537e41b5ee10e428f563b34?s=128&d=identicon&r=PG&f=1", "display_name": "Josquin", "link": "https://stackoverflow.com/users/10014086/josquin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 811, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1585581319, "creation_date": 1530349418, "question_id": 51113439, "link": "https://stackoverflow.com/questions/51113439/error-using-perl-module-parallelforkmanager", "title": "Error using perl module Parallel::ForkManager", "body": "<p>I am getting the following error message when I am using the perl module Parallel::ForkManager, and I can't figure out what's wrong in my code.</p>\n\n<p>What's weird is that the program run fine for the first 70 bam files it is sending on the different threads and then it output me the error bellow.</p>\n\n<p>Any help would be so appreciate.</p>\n\n<p>Thanks a lot. :)</p>\n\n<p>Here is the errors:</p>\n\n<p>Cannot fork: Cannot allocate memory at /usr/local/perl-5.24.0/lib/site_perl/5.24.0/Parallel/ForkManager.pm line 52,  line 8260.</p>\n\n<p>The storable module was unable to store the child's data structure to the temp file \"/tmp/1341650.1.longjob.q/dZnCgF1MiR/Parallel-ForkManager-28852-28855.txt\":  can't create /tmp/1341650.1.longjob.q/dZnCgF1MiR/Parallel-ForkManager-28852-28855.txt: No such file or directory at /usr/local/perl-5.24.0/lib/site_perl/5.24.0/Parallel/ForkManager.pm line 84.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>if ($threads == 1) {\n    for my $id (0 .. $nbInputFiles) {\n        $self-&gt;{$id}-&gt;{_currentFile} = $self-&gt;{inputFiles}[$id] ;\n        $self-&gt;readBamInputFile($id) ;\n        $self-&gt;correctMatrice($id) ;\n        print STDERR \"INFO $prog $datestring: $self-&gt;{$id}-&gt;{_currentFile} -&gt; correcting matrice done !\\n\" ;\n    }\n}\nelse {\n    my $pm = new Parallel::ForkManager($threads);\n    $pm-&gt;set_waitpid_blocking_sleep(0);\n\n    $pm-&gt;run_on_finish(sub {\n        my ($pid, $exit, $id, $signal, $core, $data) = @_;\n\n        $self-&gt;{$id}-&gt;{cov} = $data-&gt;{ret}-&gt;{$id}-&gt;{cov} ;\n        $self-&gt;{$id}-&gt;{_currentSample} = $data-&gt;{ret}-&gt;{$id}-&gt;{_currentSample} ;\n        $self-&gt;correctMatrice($id) ;\n        print STDERR \"INFO $prog $datestring: $data-&gt;{ret}-&gt;{$id}-&gt;{_currentFile} -&gt; correcting matrice done !\\n\" ;\n\n        $ret[$id] = delete $data-&gt;{ret};\n        $err[$id] = delete $data-&gt;{err};\n    });\n\n    for my $id (0 .. $nbInputFiles) {\n        $self-&gt;{$id}-&gt;{_currentFile} = $self-&gt;{inputFiles}[$id] ;\n        $pm-&gt;start($id) and next;\n\n        # here do the child\n        # my $res = eval { $task[0]-&gt;($self) };\n        my $res = eval { &amp;readBamInputFile($self, $id) };\n        $pm-&gt;finish(0, { ret =&gt; $self, err =&gt; $@ });\n    }\n    $pm-&gt;wait_all_children;\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6762650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e77b1e4568eea4c92041539fcb9067?s=128&d=identicon&r=PG&f=1", "display_name": "kalonkadour", "link": "https://stackoverflow.com/users/6762650/kalonkadour"}, "edited": false, "score": 0, "creation_date": 1530319232, "post_id": 51110734, "comment_id": 89208683, "body": "Thank you for the quick answer!  But unfortunately, this does not fully work. when i print $rule, i get a  &quot;my_checks/VLG6.3&quot;. And i just need what is after the last &quot;/&quot; ..."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1530320407, "post_id": 51110734, "comment_id": 89208846, "body": "Change <code>.*</code> to <code>[^\\&#47;]*</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1530322446, "post_id": 51110734, "comment_id": 89209078, "body": "I have updated my answer to account for that problem too."}, {"owner": {"reputation": 119, "user_id": 963183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c867babb1b402c48e4b9a84f0b82dc?s=128&d=identicon&r=PG", "display_name": "Bruce Van Allen", "link": "https://stackoverflow.com/users/963183/bruce-van-allen"}, "edited": false, "score": 0, "creation_date": 1530663219, "post_id": 51110734, "comment_id": 89311822, "body": "And then circling back to the OP&#39;s goal, you&#39;d want the quantifier INSIDE the parentheses to get the whole desired segment into one capture variable:    <code>my ( $rule ) = $line =~ m{&#47;([^&#47;]*):};</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119, "user_id": 963183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c867babb1b402c48e4b9a84f0b82dc?s=128&d=identicon&r=PG", "display_name": "Bruce Van Allen", "link": "https://stackoverflow.com/users/963183/bruce-van-allen"}, "edited": false, "score": 0, "creation_date": 1530669718, "post_id": 51110734, "comment_id": 89312948, "body": "@Bruce Van Allen, Ack! Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1530667878, "last_edit_date": 1530667878, "creation_date": 1530317825, "answer_id": 51110734, "question_id": 51110725, "link": "https://stackoverflow.com/questions/51110725/capture-a-substring-between-two-characters/51110734#51110734", "title": "Capture a substring between two characters?", "body": "<p>The reason you are getting <code>1</code> is because you are evaluating the match in scalar context. For the match to return the captures, it needs to be evaluated in list context.</p>\n\n<p>You need to evaluate the match in list context by evaluating the <code>=~</code> in list context. Unlike the scalar assignment operator you used, the list assignment operator evaluates its operands in list context. You can cause the list assignment operator to be used by replacing <code>my $rule</code> with <code>my ($rule)</code>.</p>\n\n<pre><code>my ($rule) = $line =~ /\\/(.*)\\:/;\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/50888249/589924\">Why are there parentheses around scalar when assigning the return value of regex match in this Perl snippet?</a>.</p>\n\n<hr>\n\n<p>Furthermore, the match operator will grab more than desired. You can address that by replacing</p>\n\n<pre><code>/\\/(.*)\\:/\n</code></pre>\n\n<p>with</p>\n\n<pre><code>/\\/([^\\/]*)\\:/\n</code></pre>\n\n<p>I would write that as follows:</p>\n\n<pre><code>m{/([^/]*):}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 3, "last_activity_date": 1530329146, "last_edit_date": 1530329146, "creation_date": 1530320395, "answer_id": 51110911, "question_id": 51110725, "link": "https://stackoverflow.com/questions/51110725/capture-a-substring-between-two-characters/51110911#51110911", "title": "Capture a substring between two characters?", "body": "<p>Aside from the issue with assigning a list to a scalar, which ikegami has helpfully pointed out, the regex pattern can use some fixing.</p>\n\n<p>The repeater <code>*</code> in regex is greedy. It gobbles up as many characters as it can as long as it matches. You need to let another repeater do the gobbling up front so that it only leaves just enough for the repeater you really want to match.</p>\n\n<pre><code>my ($rule) = $line =~ /.*\\/(.*):/;\n</code></pre>\n\n<p>Alternatively, in this case you can just use an exclusion class instead of matching any characters.</p>\n\n<pre><code>my ($rule) = $line =~ /\\/([^\\/]*):/;\n</code></pre>\n\n<p>Both of the above will end up with <code>$rule</code> assigned with <code>'VLG6.3'</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": true, "score": 2, "last_activity_date": 1530334918, "creation_date": 1530334918, "answer_id": 51111884, "question_id": 51110725, "link": "https://stackoverflow.com/questions/51110725/capture-a-substring-between-two-characters/51111884#51111884", "title": "Capture a substring between two characters?", "body": "<p>You are interested in a non-empty string, meeting the following conditions:</p>\n\n<ul>\n<li>It is preceded by a <code>/</code>.</li>\n<li>It is followed by a colon.</li>\n<li>It contains neither <code>/</code> nor a colon.</li>\n</ul>\n\n<p>So the intuitive regex, without any capturing group is:\n<code>(?&lt;=\\/)[^\\/:]+(?=:)</code> (positive lookbehind, the actual content\nand positive lookahead).</p>\n\n<p>Using such a regex, you can:</p>\n\n<ul>\n<li>Use the result of <code>=~</code> operator <strong>only</strong> to check whether something has been\nmatched.</li>\n<li>Print the matched text from <code>$&amp;</code> variable.</li>\n</ul>\n\n<p>And the example script can look like below:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $line = 'default_checks/my_checks/VLG6.3: Unsupported system function call';\nprint \"Source: $line\\n\";\nif ($line =~ /(?&lt;=\\/)[^\\/:]+(?=:)/) {\n    print \"Rule: $&amp;\\n\";\n} else {\n    print \"No match.\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1530363840, "last_edit_date": 1530363840, "creation_date": 1530361170, "answer_id": 51114875, "question_id": 51110725, "link": "https://stackoverflow.com/questions/51110725/capture-a-substring-between-two-characters/51114875#51114875", "title": "Capture a substring between two characters?", "body": "<p>To capture a string between two characters, capture everything that is not the two characters.</p>\n\n<pre><code>my $line = 'default_checks/my_checks/VLG6.3: Unsupported system function call';\nmy ( $rule ) = $line =~ /\\/([^\\/:]*):/;\nprint \"$rule\\n\";\n</code></pre>\n\n<p><strong>PS:</strong> To capture content between two string involves skipping sequences of the starting string.</p>\n\n<pre><code>my $line = 'begin not this begin or this begin wanted end not this end or this end';\nmy ( $rule ) = $line =~ m{ (?: begin .* )? begin (.*?) end }msx;\nprint \"$rule\\n\";\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6762650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e77b1e4568eea4c92041539fcb9067?s=128&d=identicon&r=PG&f=1", "display_name": "kalonkadour", "link": "https://stackoverflow.com/users/6762650/kalonkadour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 1, "accepted_answer_id": 51111884, "answer_count": 4, "score": 2, "last_activity_date": 1530667878, "creation_date": 1530317676, "last_edit_date": 1530328371, "question_id": 51110725, "link": "https://stackoverflow.com/questions/51110725/capture-a-substring-between-two-characters", "title": "Capture a substring between two characters?", "body": "<p>I am trying to write a regex pattern which will capture a substring between two characters. The string is</p>\n\n<pre><code>default_checks/my_checks/VLG6.3: Unsupported system function call\n</code></pre>\n\n<p>I need to capture <code>VLG6.3</code>. It is between a slash <code>/</code> and a colon <code>:</code>.</p>\n\n<p>I have tried these ideas</p>\n\n<pre><code>my $rule = $line =~ /\\/(.*)\\:/;\n</code></pre>\n\n\n\n<pre><code>my $rule = $line =~ /\\/(.+?)\\:/ ;\n</code></pre>\n\n\n\n<pre><code>my $rule = $line =~ /\\/(\\w+)\\:/ ; \n</code></pre>\n\n<p>But none of them are working. In the best case I get <code>my_checks/VLG6.3</code></p>\n"}, {"tags": ["perl", "ssl", "lwp", "io-socket-ssl"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 4, "last_activity_date": 1592467176, "last_edit_date": 1592467176, "creation_date": 1530336530, "answer_id": 51112012, "question_id": 51110181, "link": "https://stackoverflow.com/questions/51110181/perl-lwp-why-does-iosocketssl-use-tls-1-0-while-netssl-uses-tls-1-2/51112012#51112012", "title": "Perl LWP: why does IO::Socket::SSL use TLS 1.0, while Net::SSL uses TLS 1.2?", "body": "<p>It should not behave the way you describe and in fact I cannot reproduce your problem with a freshly installed latest Strawberry Perl on Win10, i.e. using the same Perl version you use. Your first code was taken unchanged apart from the destination and using an <code>openssl s_server -www...</code> as target. It perfectly connects with TLS 1.2 and a packet capture clearly shows TLS 1.2 too. </p>\n\n<p>My guess  is that something is messed up with your setup: maybe some older Perl installation still on the system interfering or something similar.  This messed up setup is probably specific to how you run your script since running <code>analyze.pl</code> shows no such problems. Therefore I recommend to actually check inside your script what gets actually used, i.e.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Socket::SSL;\nuse LWP::UserAgent;\nuse LWP::Protocol::https;\n\nprintf(\"openssl version compiled=0x%0x linked=0x%0x -- %s\\n\",\n    Net::SSLeay::OPENSSL_VERSION_NUMBER(),\n    Net::SSLeay::SSLeay(),\n    Net::SSLeay::SSLeay_version(0));\nprintf(\"IO::Socket::SSL version=%s\\n\",$IO::Socket::SSL::VERSION);\nprintf(\"LWP::UserAgent version=%s\\n\",$LWP::UserAgent::VERSION);\nprintf(\"LWP::Protocol::https version=%s\\n\",$LWP::Protocol::https::VERSION);\nprintf(\"Net::HTTPS version=%s\\n\",$Net::HTTPS::VERSION);\n\nmy $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; {\n    verify_hostname =&gt; 0,\n});\n\nmy $res = $ua-&gt;get('https://internal.foo.bar.baz:20002');\nprint $res-&gt;as_string;\n</code></pre>\n\n<p>This gives for me on the fresh setup slightly different versions of LWP (6.33 vs. 6.34) and Net::HTTPS (6.17 vs. 6.18) but the rest fits with your version. But the important part is probably the version of OpenSSL actually loaded by the code. My guess is that in your specific script setup it uses not the OpenSSL 1.1.0 you expect but some old OpenSSL 1.0.0 or older which have no support for TLS 1.2.</p>\n"}, {"comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1530596097, "post_id": 51128762, "comment_id": 89278503, "body": "Your change essentially makes IO::Socket::SSL offer a wide range of ciphers instead of only a small set of ciphers which is modeled after what the browsers do and which is done to work around some broken servers which cannot deal with larger cipher sets. It looks like your server is only supporting  a very limited amount of ciphers. Because of this is  not unlikely that you&#39;ll get problems with this server with other clients too."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1530638286, "post_id": 51128762, "comment_id": 89303180, "body": "@SteffenUllrich Since it&#39;s just for API calls between internal systems, I&#39;m OK with that. The same request works by default in cURL and SoapUI, so they must be offering more ciphers too. Does that make it right? No, but like I said, this is internal use only."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1530652902, "post_id": 51128762, "comment_id": 89309224, "body": "@SteffenUllrich Turns out, the group policy on the server modified the cipher suite order and really made a mess of things (the basis for my original question). Reverting to Server 2016 defaults solved the underlying problem and made everything compliant with HTTP/2 and TLS 1.2. Hooray, enterprise! \u25d4_\u25d4"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1530850911, "post_id": 51128762, "comment_id": 89387095, "body": "On second thought: there must be something else which has been changed apart from the change you are showing. Changes on the cipher list will not magically change the TLS version offered by the client. So you must have been previously running with either different code which somehow enforced TLS 1.0 with a TLS 1.2 capable OpenSSL. Or the code run with an old version of OpenSSL library which only supports up to TLS 1.0."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 3, "last_activity_date": 1530501851, "creation_date": 1530501851, "answer_id": 51128762, "question_id": 51110181, "link": "https://stackoverflow.com/questions/51110181/perl-lwp-why-does-iosocketssl-use-tls-1-0-while-netssl-uses-tls-1-2/51128762#51128762", "title": "Perl LWP: why does IO::Socket::SSL use TLS 1.0, while Net::SSL uses TLS 1.2?", "body": "<p>Since analyze-ssl.pl worked and my test script didn't when pointed at the same server, I started comparing them to find out what the differences were. One of the major differences is that analyze-ssl.pl attempts a connection with <code>SSL_cipher_list =&gt; ''</code>, and it turns out that this was, in fact, the issue. </p>\n\n<p>Changing my LWP::UserAgent instantiation solved the problem:</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; {\n    verify_hostname =&gt; 0,\n    SSL_cipher_list =&gt; '',\n});\n</code></pre>\n"}], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5924, "favorite_count": 1, "accepted_answer_id": 51128762, "answer_count": 2, "score": 4, "last_activity_date": 1592467176, "creation_date": 1530311748, "last_edit_date": 1530501239, "question_id": 51110181, "link": "https://stackoverflow.com/questions/51110181/perl-lwp-why-does-iosocketssl-use-tls-1-0-while-netssl-uses-tls-1-2", "title": "Perl LWP: why does IO::Socket::SSL use TLS 1.0, while Net::SSL uses TLS 1.2?", "body": "<p>When I run the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Socket::SSL;\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; {\n    verify_hostname =&gt; 0,\n});\n\nmy $res = $ua-&gt;get('https://internal.foo.bar.baz:20002');\nprint $res-&gt;as_string;\n</code></pre>\n\n<p>I get an internal error from LWP:</p>\n\n<pre><code>500 Can't connect to internal.foo.bar.baz:20002 (Bad file descriptor)\nContent-Type: text/plain\nClient-Date: Fri, 29 Jun 2018 21:23:13 GMT\nClient-Warning: Internal response\n\nCan't connect to internal.foo.bar.baz:20002 (Bad file descriptor)\n\nBad file descriptor at D:/strawberry/perl/site/lib/LWP/Protocol/http.pm line 50.\n</code></pre>\n\n<p>Network traffic shows that it's a \"client hello\" followed by an immediate reset from the server, and that the protocol is TLSv1. The server only allows TLS 1.2 connections, so that makes sense.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pTGaO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pTGaO.png\" alt=\"Wireshark 1\"></a></p>\n\n<p>When I change my code to specify that the client should <em>only</em> use TLS 1.2, I get the same response.</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; {\n    verify_hostname =&gt; 0,\n    SSL_version =&gt; 'TLSv1_2',\n});\n</code></pre>\n\n<p>And, in fact, the network traffic looks identical:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sDlkR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sDlkR.png\" alt=\"Wireshark 2\"></a></p>\n\n<p>When I explicitly use Net::SSL instead of IO::Socket::SSL:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Net::SSL;\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; {\n    verify_hostname =&gt; 0,\n});\n\nmy $res = $ua-&gt;get('https://internal.foo.bar.baz:20002');\nprint $res-&gt;as_string;\n</code></pre>\n\n<p>It works:</p>\n\n<pre><code>HTTP/1.1 401 Unauthorized\nDate: Fri, 29 Jun 2018 21:33:35 GMT\nServer: Kestrel\nClient-Date: Fri, 29 Jun 2018 21:33:37 GMT\nClient-Peer: ***.**.**.209:20002\nClient-Response-Num: 1\nClient-SSL-Cert-Issuer: *******************************************************\nClient-SSL-Cert-Subject: **************************************************************************\nClient-SSL-Cipher: ECDHE-RSA-AES256-SHA384\nClient-SSL-Socket-Class: Net::SSL\nClient-SSL-Warning: Peer certificate not verified\nClient-Transfer-Encoding: chunked\nClient-Warning: Missing Authenticate header\nStrict-Transport-Security: max-age=2592000\nX-Powered-By: ASP.NET\n</code></pre>\n\n<p>And the protocol is correctly set to TLSv1.2:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vv56r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vv56r.png\" alt=\"Wireshark 3\"></a></p>\n\n<p>Oddly enough, <a href=\"https://github.com/noxxi/p5-ssl-tools/blob/master/analyze-ssl.pl\" rel=\"nofollow noreferrer\">analyze-ssl.pl</a> negotiates TLS 1.2 with IO::Socket::SSL:</p>\n\n<pre><code>-- internal.foo.bar.baz port 20002\n ! using certificate verification (default) -&gt; SSL connect attempt failed error:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed\n * maximum SSL version  : TLSv1_2 (SSLv23)\n * supported SSL versions with handshake used and preferred cipher(s):\n   * handshake protocols ciphers\n   * SSLv23    TLSv1_2   ECDHE-RSA-AES256-SHA384\n   * TLSv1_2   TLSv1_2   ECDHE-RSA-AES256-SHA384\n   * TLSv1_1   FAILED: SSL connect attempt failed\n   * TLSv1     FAILED: SSL connect attempt failed\n * cipher order by      : unknown\n * SNI supported        : certificate verify fails without SNI\n * certificate verified : FAIL: SSL connect attempt failed error:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed\n * chain on ***.**.**.209\n   * [0/0] bits=2048, ocsp_uri=, *******************************************************************************************************\n   * [1/1] bits=2048, ocsp_uri=, *******************************************************\n   * [2/2] bits=2048, ocsp_uri=, ****************************************************************\n</code></pre>\n\n<p>What can I do to prevent IO::Socket::SSL from attempting a TLS 1.0 connection from LWP?</p>\n\n<hr>\n\n<ul>\n<li>Perl 5.26.2 MSWin32-x64-multi-thread (Strawberry)</li>\n<li>OpenSSL 1.1.0h  27 Mar 2018</li>\n<li>LWP 6.34</li>\n<li>Net::HTTPS 6.18</li>\n<li>IO::Socket::SSL 2.056</li>\n<li>Net::SSL 2.86</li>\n</ul>\n\n<hr>\n\n<p>Output from Steffen Ullrich's script:</p>\n\n<pre><code>openssl version compiled=0x1010008f linked=0x1010008f -- OpenSSL 1.1.0h  27 Mar 2018\nIO::Socket::SSL version=2.056\nLWP::UserAgent version=6.34\nLWP::Protocol::https version=6.07\nNet::HTTPS version=6.18\n</code></pre>\n"}, {"tags": ["perl", "xml-twig"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1530316497, "last_edit_date": 1530316497, "creation_date": 1530313452, "answer_id": 51110355, "question_id": 51110091, "link": "https://stackoverflow.com/questions/51110091/extract-subset-of-xml-with-xmltwig/51110355#51110355", "title": "Extract subset of XML with XML::Twig", "body": "<p>You structure has two levels, so you need two levels of loops.</p>\n\n<pre><code>my @data;\nfor my $click_node ( $twig-&gt;findnodes( '/Actions/Click' ) ) {\n   my %click_data;\n   for my $child_node ( $click_node-&gt;findnodes( '*' ) ) {\n      my $key = $child_node-&gt;name;\n      my $val = $child_node-&gt;text;\n      $click_data{$key} = $val;\n   }\n\n   push @data, \\%click_data;\n}\n\nlocal $Data::Dumper::Sortkeys = 1;\nprint(Dumper(\\@data));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'Field1' =&gt; 'Data1',\n            'Field2' =&gt; 'Data2'\n          },\n          {\n            'Field1' =&gt; 'Data3',\n            'Field2' =&gt; 'Data4'\n          }\n        ];\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 4263868, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bGy7BUtOACk/AAAAAAAAAAI/AAAAAAAAACk/otP0ryPeKp0/photo.jpg?sz=128", "display_name": "sqldoug", "link": "https://stackoverflow.com/users/4263868/sqldoug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 51110355, "answer_count": 1, "score": 2, "last_activity_date": 1530328981, "creation_date": 1530311022, "last_edit_date": 1530328981, "question_id": 51110091, "link": "https://stackoverflow.com/questions/51110091/extract-subset-of-xml-with-xmltwig", "title": "Extract subset of XML with XML::Twig", "body": "<p></p>\n\n<p>I'm trying to use\n<a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a>\nto extract a subset of an XML document so that I can convert it to CSV.</p>\n\n<p>Here's a sample of my data</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;Actions&gt;\n  &lt;Click&gt;\n    &lt;Field1&gt;Data1&lt;/Field1&gt;\n    &lt;Field2&gt;Data2&lt;/Field2&gt;\n  &lt;/Click&gt;\n  &lt;Click&gt;\n    &lt;Field1&gt;Data3&lt;/Field1&gt;\n    &lt;Field2&gt;Data4&lt;/Field2&gt;\n  &lt;/Click&gt;\n&lt;/Actions&gt;\n</code></pre>\n\n<p>And here's an attempt at coding the desired outcome</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\nuse Text::CSV; # later\nuse Data::Dumper;\n\nmy $file = shift @ARGV or die \"Need a file to process: $!\";\n\nmy $twig = XML::Twig-&gt;new();\n$twig-&gt;parsefile($file);\nmy $root = $twig-&gt;root;\n\nmy @data;\n\nfor my $node ( $twig-&gt;findnodes( '//Click/*' ) ) {\n  my $key = $node-&gt;name;\n  my $val = $node-&gt;text;\n  push @data, { $key =&gt; $val }\n}\n\nprint Dumper \\@data;\n</code></pre>\n\n<p>which gives</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$VAR1 = [\n          {\n            'Field1' =&gt; 'Data1'\n          },\n          {\n            'Field2' =&gt; 'Data2'\n          },\n          {\n            'Field1' =&gt; 'Data3'\n          },\n          {\n            'Field2' =&gt; 'Data4'\n          }\n        ];\n</code></pre>\n\n<p>What I'm looking to create is an array of hashes, if that's best</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my @AoH = (\n    { Field1 =&gt; 'Data1', Field2 =&gt; 'Data2' },\n    { Field1 =&gt; 'Data3', Field2 =&gt; 'Data4' },\n)\n</code></pre>\n\n<p>I'm not sure how to loop through the data to extract this.</p>\n"}, {"tags": ["perl", "recaptcha", "centos7"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530286841, "post_id": 51105029, "comment_id": 89197553, "body": "The instructions are pretty clear. You need to describe what is confusing you, otherwise the best we can do is repeat what you have already read."}, {"owner": {"reputation": 83, "user_id": 4326181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b2882df9ea455d4a47eba0092a8761d?s=128&d=identicon&r=PG&f=1", "display_name": "Trent Three", "link": "https://stackoverflow.com/users/4326181/trent-three"}, "edited": false, "score": 0, "creation_date": 1530290223, "post_id": 51105029, "comment_id": 89199222, "body": "Yes, I&#39;m looking for V2. - I just tried a few commands and I think I figured it out.  there are a variety of different sets of instructions from different generations of the technology that contradict each other."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1530291370, "post_id": 51105029, "comment_id": 89199728, "body": "@Trent: <i>&quot;there are a variety of different sets of instructions from different generations of the technology that contradict each other&quot;</i> That isn&#39;t true. The <code>cpan</code> utility has behaved pretty much the same since its first non-alpha build in 1996, and the manual method of installing modules described in <a href=\"https://perldoc.perl.org/perlmodinstall.html\" rel=\"nofollow noreferrer\"><code>perlmodinstall</code></a> has been static for much longer. Please give links to some of this variety of contradictory instructions."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1530291520, "post_id": 51106138, "comment_id": 89199800, "body": "Instructions for installing a module from 2001 should still be applicable. Please post a link. Your experience seems very odd, and your final solution is far from complex. Is is hard to imagine what variations on this were confusing you."}], "tags": [], "owner": {"reputation": 83, "user_id": 4326181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b2882df9ea455d4a47eba0092a8761d?s=128&d=identicon&r=PG&f=1", "display_name": "Trent Three", "link": "https://stackoverflow.com/users/4326181/trent-three"}, "is_accepted": true, "score": 0, "last_activity_date": 1530290310, "creation_date": 1530290310, "answer_id": 51106138, "question_id": 51105029, "link": "https://stackoverflow.com/questions/51105029/how-to-install-captcharecaptcha-module/51106138#51106138", "title": "How to install Captcha::reCaptcha module?", "body": "<p>installing cpan:</p>\n\n<pre><code>yum install cpan\n</code></pre>\n\n<p>Looks like this is the command that worked:</p>\n\n<pre><code>cpan Captcha::reCAPTCHA::V2\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 4326181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b2882df9ea455d4a47eba0092a8761d?s=128&d=identicon&r=PG&f=1", "display_name": "Trent Three", "link": "https://stackoverflow.com/users/4326181/trent-three"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 51106138, "answer_count": 1, "score": -3, "last_activity_date": 1530306267, "creation_date": 1530286043, "last_edit_date": 1530306267, "question_id": 51105029, "link": "https://stackoverflow.com/questions/51105029/how-to-install-captcharecaptcha-module", "title": "How to install Captcha::reCaptcha module?", "body": "<p>I'm trying to use Google's reCaptcha v2 system with a Perl script. I can find information on how to use the modules in places like\n<a href=\"https://metacpan.org/pod/Captcha::reCAPTCHA\" rel=\"nofollow noreferrer\"><code>Captcha::reCAPTCHA</code></a>\nand\n<a href=\"https://metacpan.org/pod/Captcha::reCAPTCHA::V2\" rel=\"nofollow noreferrer\"><code>Captcha::reCAPTCHA::V2</code></a>\nbut the instructions on how to install the module are confusing.</p>\n\n<p>I have <code>cpan</code> installed but I don't know the proper command to download and install the module. I'm running CentOS 7.</p>\n\n<p>Can anybody walk me through what I need to do to get these libraries on my system?</p>\n\n<p>Are these the same module/library?</p>\n"}, {"tags": ["perl", "special-characters"], "comments": [{"owner": {"reputation": 11, "user_id": 7593701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b9b52865e8f243518d656cc671bde4?s=128&d=identicon&r=PG&f=1", "display_name": "J. Pan", "link": "https://stackoverflow.com/users/7593701/j-pan"}, "edited": false, "score": 0, "creation_date": 1530240101, "post_id": 51093407, "comment_id": 89175228, "body": "The original pdf (looks like a slide in pdf) does not have &#194;, and the character in the converted text is not visible. Just printed chr() and gave &quot;\\c@&quot;. I can replace it by pasting the (invisible) character into perl expression, but was hoping for a better way to do it."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7593701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b9b52865e8f243518d656cc671bde4?s=128&d=identicon&r=PG&f=1", "display_name": "J. Pan", "link": "https://stackoverflow.com/users/7593701/j-pan"}, "edited": false, "score": 0, "creation_date": 1530241589, "post_id": 51093531, "comment_id": 89175467, "body": "Yes, it is C2 A0. Thanks!"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1530270924, "post_id": 51093531, "comment_id": 89188147, "body": "If the file has UTF-8 encoding, then it should be read as an UTF-8 encoded file. <code>open my $fh, &#39;&lt;:encoding(utf8)&#39;, $file or die $!;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1530295930, "last_edit_date": 1530295930, "creation_date": 1530239844, "answer_id": 51093531, "question_id": 51093407, "link": "https://stackoverflow.com/questions/51093407/remove-2-byte-white-space-in-perl/51093531#51093531", "title": "Remove 2-byte white space in Perl", "body": "<p>The first character is 194<sub>10</sub> = C2<sub>16</sub> = \u00c2</p>\n\n<p>Seeing as that's not whitespace, and seeing that C2<sub>16</sub> is commonly found at the start of UTF-8 multi-byte sequences, it appears that you forgot to decode the text. That's the first thing you need to do.</p>\n\n<p>Then, you'll probably find that you have U+00A0 NO BREAK SPACE. You can remove it with</p>\n\n<pre><code>s/\\xA0//\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7593701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b9b52865e8f243518d656cc671bde4?s=128&d=identicon&r=PG&f=1", "display_name": "J. Pan", "link": "https://stackoverflow.com/users/7593701/j-pan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530295930, "creation_date": 1530238486, "question_id": 51093407, "link": "https://stackoverflow.com/questions/51093407/remove-2-byte-white-space-in-perl", "title": "Remove 2-byte white space in Perl", "body": "<p>I have a text document converted from pdf that contains white space I am not able to match and replace. I managed to print its ord() value and got 194, and length() on the character returned 2 (thus I assume it's 2 bytes). How can I remove this character in Perl? Thanks. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 6, "creation_date": 1530237921, "post_id": 51093300, "comment_id": 89174784, "body": "Does your Windows 8 Server (I think you mean Windows Server 2008) have some firewall restrictions enabled?"}, {"owner": {"reputation": 117, "user_id": 551497, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4bcc5be98f92cb9ce2a1732cd3137783?s=128&d=identicon&r=PG", "display_name": "Stefania Axo", "link": "https://stackoverflow.com/users/551497/stefania-axo"}, "reply_to_user": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 0, "creation_date": 1530280309, "post_id": 51093300, "comment_id": 89193918, "body": "yes sorry Window Server 2008 R2 Standard."}, {"owner": {"reputation": 117, "user_id": 551497, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4bcc5be98f92cb9ce2a1732cd3137783?s=128&d=identicon&r=PG", "display_name": "Stefania Axo", "link": "https://stackoverflow.com/users/551497/stefania-axo"}, "reply_to_user": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 0, "creation_date": 1530280550, "post_id": 51093300, "comment_id": 89194079, "body": "I think the network security should be the same as my system. I know I can send email from that system (Windows 2008 Server) with the Task Scheduler action of Send Email."}, {"owner": {"reputation": 117, "user_id": 551497, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4bcc5be98f92cb9ce2a1732cd3137783?s=128&d=identicon&r=PG", "display_name": "Stefania Axo", "link": "https://stackoverflow.com/users/551497/stefania-axo"}, "reply_to_user": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 0, "creation_date": 1530281494, "post_id": 51093300, "comment_id": 89194601, "body": "I checked the perl version and the one on Windows Server 2008 is a little behind. I wonder if that would help. <code>*** Windows Server 2008 *** c:\\stefy&gt;perl -v  This is perl 5, version 16, subversion 3 (v5.16.3) built for MSWin32-x64-multi-t hread   *** Windows 7 Professional *** C:\\SPoRTBuild&gt;perl -v  This is perl 5, version 24, subversion 1 (v5.24.1) built for MSWin32-x64-multi-t (with 1 registered patch, see perl -V for more detail)</code>"}, {"owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "reply_to_user": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 1, "creation_date": 1530567128, "post_id": 51093300, "comment_id": 89272107, "body": "I have to echo @blhsing.  This has the feel of a firewall issue.  I am not familiar with sending email from the Task Scheduler, it would not surprise me to find out that it talks directly to Microsoft Outlook or some other central email host and not directly to the SMTP server."}], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 551497, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4bcc5be98f92cb9ce2a1732cd3137783?s=128&d=identicon&r=PG", "display_name": "Stefania Axo", "link": "https://stackoverflow.com/users/551497/stefania-axo"}, "is_accepted": false, "score": 0, "last_activity_date": 1530893381, "creation_date": 1530893381, "answer_id": 51214169, "question_id": 51093300, "link": "https://stackoverflow.com/questions/51093300/perl-sending-email-works-on-one-system-but-not-another/51214169#51214169", "title": "perl sending email works on one system but not another", "body": "<p>update of the perl version fixed the problem. </p>\n\n<p>This is perl 5, version 26, subversion 2 (v5.26.2) built for MSWin32-x64-multi-t\nhread</p>\n"}], "owner": {"reputation": 117, "user_id": 551497, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4bcc5be98f92cb9ce2a1732cd3137783?s=128&d=identicon&r=PG", "display_name": "Stefania Axo", "link": "https://stackoverflow.com/users/551497/stefania-axo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530893381, "creation_date": 1530237398, "last_edit_date": 1530283922, "question_id": 51093300, "link": "https://stackoverflow.com/questions/51093300/perl-sending-email-works-on-one-system-but-not-another", "title": "perl sending email works on one system but not another", "body": "<p>I have a simple sending email perl code.</p>\n\n<pre><code> use strict;\n    use warnings;\n    use Time::Format;\n    use Email::MIME;\n    use Email::Sender::Simple qw(sendmail);\n    use Email::Sender::Transport::SMTP;\n    my $message = Email::MIME-&gt;create(\n        header_str =&gt; [\n            From    =&gt; 'me@provider.com',\n            To      =&gt; 'me@provider.com',\n            Subject =&gt; 'test',\n        ],\n        attributes =&gt; {\n            encoding =&gt; 'quoted-printable',\n            charset  =&gt; 'ISO-8859-1',\n        },\n        body_str =&gt; 'stefy test',\n    );\n    my $transport = Email::Sender::Transport::SMTP-&gt;new({\n        host =&gt; 'my.server.smtp',\n        port =&gt; 25,\n    });\n    sendmail($message, { transport =&gt; $transport });\n</code></pre>\n\n<p>I can it run with success in one system but not another.</p>\n\n<ol>\n<li><p>Windows 7 professional -> success </p></li>\n<li><p>Window Server 2008 -> failure</p></li>\n</ol>\n\n<p>this is the exception I get:</p>\n\n<pre><code>unable to establish SMTP connection to my.server.smtp port 25\n\n    Trace begun at D:\\strawberryperl\\perl\\site\\lib\\Email\\Sender\\Transport\\SMTP.pm line 193   Email::Sender::Transport::SMTP::_throw('Email::Sender::Transport::SMTP=HASH(0x38\n    0fef8)', 'unable to establish SMTP connection to my.server.smtp port 25') called at D:\\strawberryperl\\perl\\site\\lib\\Email\\Sender\\Transport\\SMTP.pm line 143\n</code></pre>\n\n<p>Any idea ?</p>\n\n<p>thank you </p>\n"}, {"tags": ["html", "perl", "template-toolkit"], "answers": [{"comments": [{"owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "edited": false, "score": 0, "creation_date": 1534160594, "post_id": 51091282, "comment_id": 90596924, "body": "It must be <code>==</code>, not <code>=</code>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "edited": false, "score": 0, "creation_date": 1534161937, "post_id": 51091282, "comment_id": 90597726, "body": "@GuidoFlohr: Thanks, fixed."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1534161866, "last_edit_date": 1534161866, "creation_date": 1530220219, "answer_id": 51091282, "question_id": 51091139, "link": "https://stackoverflow.com/questions/51091139/current-template-file-name-with-templatetoolkit/51091282#51091282", "title": "Current template file name with Template::Toolkit", "body": "<p>String comparison is case sensitive in Template Toolkit.</p>\n\n<pre><code>[% IF name == 'admin/main.tt' %]\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5538064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0c28321bea9e0d9bdbd5c058f3123d6?s=128&d=identicon&r=PG&f=1", "display_name": "Chi Tran", "link": "https://stackoverflow.com/users/5538064/chi-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 51091282, "answer_count": 1, "score": 1, "last_activity_date": 1534161866, "creation_date": 1530219514, "last_edit_date": 1530230495, "question_id": 51091139, "link": "https://stackoverflow.com/questions/51091139/current-template-file-name-with-templatetoolkit", "title": "Current template file name with Template::Toolkit", "body": "<p>I have read through the\n<a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow noreferrer\"><code>Template::Toolkit</code> documentation</a>\nbut could not figure out how to use <code>template.name</code> (the template being used). The string will be used to check =whether it's a particular template.</p>\n\n<pre><code> [% SET name = template.name %]\n  &lt;span&gt;[% IF name == 'ADMIN/MAIN.TT' %] YES [% ELSE %] NO [% END %]&lt;/span&gt;\n</code></pre>\n\n<p><code>template.name</code> returns <code>admin/main.tt</code> but it would not compare right. It keeps printing <code>NO</code>.</p>\n"}, {"tags": ["regex", "bash", "perl", "logging", "rfc"], "answers": [{"tags": [], "owner": {"reputation": 4756, "user_id": 7120920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f7d6d72efee338dce54998c3f83a18f?s=128&d=identicon&r=PG&f=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/7120920/jake"}, "is_accepted": false, "score": 0, "last_activity_date": 1530200423, "creation_date": 1530200423, "answer_id": 51086840, "question_id": 51086839, "link": "https://stackoverflow.com/questions/51086839/how-can-i-reformat-the-output-of-a-rfc5424-log-tail-to-be-easier-to-read/51086840#51086840", "title": "How can I reformat the output of a RFC5424 log tail to be easier to read?", "body": "<p>I just wanted to put this somewhere in case someone finds a use for it one day.</p>\n\n<p>Working in adonis.js, I found the Logger class very useful, but its output hard to read on the fly.</p>\n\n<p>I did some digging and couldn't find a reasonable solution so I did some legwork to get to this result: </p>\n\n<pre><code>tail path/to/log/file -f | perl -pe 's/^.*?\"level\":\"([^\"]*)\".*?\"message\":\"((\\\\\"|[^\"])*)\".*?\"timestamp\":\"([^\"]*)\".*?$/\\e[0;36m|\\e[0m\\e[1;30m $1: $4\\n\\r\\e[0m\\e[0;36m|\\e[0m $2\\n\\r/'\n</code></pre>\n\n<p>This will turn a typical log of an RFC5424 formatted log file entry of this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/32yM1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/32yM1.png\" alt=\"enter image description here\"></a></p>\n\n<p>To this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/N13bw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N13bw.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope this is useful to someone!</p>\n"}, {"tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 1, "last_activity_date": 1530205382, "creation_date": 1530205382, "answer_id": 51088159, "question_id": 51086839, "link": "https://stackoverflow.com/questions/51086839/how-can-i-reformat-the-output-of-a-rfc5424-log-tail-to-be-easier-to-read/51088159#51088159", "title": "How can I reformat the output of a RFC5424 log tail to be easier to read?", "body": "<p>You could use a JSON module to decode it into a native Perl structure, and view it with <code>Data::Dumper</code></p>\n\n<pre><code>perl -MJSON -MData::Dumper -0 -ne 'print Dumper decode_json($_)' path/to/log/file\n</code></pre>\n\n<p>Optionally, set the Dumper indent to 1 for better viewing: <code>$Data::Dumper::Indent = 1</code></p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1530210148, "creation_date": 1530210148, "answer_id": 51089191, "question_id": 51086839, "link": "https://stackoverflow.com/questions/51086839/how-can-i-reformat-the-output-of-a-rfc5424-log-tail-to-be-easier-to-read/51089191#51089191", "title": "How can I reformat the output of a RFC5424 log tail to be easier to read?", "body": "<p><a href=\"https://brandur.org/logfmt\" rel=\"nofollow noreferrer\">logfmt</a></p>\n\n<p>There is no CPAN module for that, but you can approximate it with code like:</p>\n\n<pre><code>journalctl -o json | perl -MJSON -lne'\n    my $j = decode_json $_;\n    my $out = \"\";\n    for my $k (sort keys %$j) {\n        my $v = $j-&gt;{$k};\n        $v = qq(\"$v\") if $v =~ /\\s/;\n        $out .= \"$k=$v \";\n    };\n    print $out;\n'\n</code></pre>\n\n<p>Consume with <a href=\"https://nojhan.github.io/colout/\" rel=\"nofollow noreferrer\">colout</a> or <a href=\"http://lnav.org/\" rel=\"nofollow noreferrer\">lnav</a> for greater usability.</p>\n"}], "owner": {"reputation": 4756, "user_id": 7120920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f7d6d72efee338dce54998c3f83a18f?s=128&d=identicon&r=PG&f=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/7120920/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1530210148, "creation_date": 1530200423, "question_id": 51086839, "link": "https://stackoverflow.com/questions/51086839/how-can-i-reformat-the-output-of-a-rfc5424-log-tail-to-be-easier-to-read", "title": "How can I reformat the output of a RFC5424 log tail to be easier to read?", "body": "<p>The RFC5424 format of logging messages makes sense, but is hard to read on the fly.</p>\n\n<p>Any ideas on techniques for how to make this easier to read?</p>\n"}, {"tags": ["perl", "ssh", "openssh"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 3344013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/131deed33d242151849bec9de1b661e3?s=128&d=identicon&r=PG&f=1", "display_name": "vatsal", "link": "https://stackoverflow.com/users/3344013/vatsal"}, "edited": false, "score": 0, "creation_date": 1530270728, "post_id": 51098301, "comment_id": 89188019, "body": "Thanks for the reply salva."}, {"owner": {"reputation": 99, "user_id": 3344013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/131deed33d242151849bec9de1b661e3?s=128&d=identicon&r=PG&f=1", "display_name": "vatsal", "link": "https://stackoverflow.com/users/3344013/vatsal"}, "edited": false, "score": 0, "creation_date": 1530271792, "post_id": 51098301, "comment_id": 89188629, "body": "I can only get the password prompt working when I pass the PreferredAuthentications=password option. When I don&#39;t it doesn&#39;t try to use keyboard input if key auth fails. I am using <b>0.64</b> version of the module.  <code>$ssh = Net::OpenSSH-&gt;new($host,         user       =&gt; $login,         key_path      =&gt;  $key,         master_opts    =&gt; [             &#39;-v&#39; #            , -o =&gt; &quot;PreferredAuthentications=password&quot;              , -o =&gt; &quot;PubkeyAuthentication=no&quot;         ],     );</code>  I want to ssh as a user taken from input.Here&#39;s the debug output without any options:"}, {"owner": {"reputation": 99, "user_id": 3344013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/131deed33d242151849bec9de1b661e3?s=128&d=identicon&r=PG&f=1", "display_name": "vatsal", "link": "https://stackoverflow.com/users/3344013/vatsal"}, "edited": false, "score": 0, "creation_date": 1530272059, "post_id": 51098301, "comment_id": 89188763, "body": "debug1: SSH2_MSG_KEX_DH_GEX_INIT sent debug1: got SSH2_MSG_KEX_DH_GEX_REPLY debug1: Host &#39;host&#39; is known and matches the RSA host key. debug1: Found key in ~/.ssh/known_hosts:5 debug1: rekey after 4294967296 blocks debug1: SSH2_MSG_NEWKEYS sent debug1: expecting SSH2_MSG_NEWKEYS debug1: SSH2_MSG_NEWKEYS received debug1: rekey after 4294967296 blocks debug1: SSH2_MSG_SERVICE_ACCEPT received debug1: Authentications that can continue: publickey,password,keyboard-interactive debug1: No more authentication methods to try. Permission denied (publickey,password,keyboard-interactive)."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "reply_to_user": {"reputation": 99, "user_id": 3344013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/131deed33d242151849bec9de1b661e3?s=128&d=identicon&r=PG&f=1", "display_name": "vatsal", "link": "https://stackoverflow.com/users/3344013/vatsal"}, "edited": false, "score": 0, "creation_date": 1530279292, "post_id": 51098301, "comment_id": 89193222, "body": "@vatsal: that happens because the module disables password authentication when you request public key authentication explicitly (i.e. passing the <code>key_path</code> argument)."}, {"owner": {"reputation": 99, "user_id": 3344013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/131deed33d242151849bec9de1b661e3?s=128&d=identicon&r=PG&f=1", "display_name": "vatsal", "link": "https://stackoverflow.com/users/3344013/vatsal"}, "edited": false, "score": 0, "creation_date": 1530455367, "post_id": 51098301, "comment_id": 89233436, "body": "Is there a way to override that? Let&#39;s say if the key fails it falls back to password authentication?"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "reply_to_user": {"reputation": 99, "user_id": 3344013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/131deed33d242151849bec9de1b661e3?s=128&d=identicon&r=PG&f=1", "display_name": "vatsal", "link": "https://stackoverflow.com/users/3344013/vatsal"}, "edited": false, "score": 0, "creation_date": 1530519578, "post_id": 51098301, "comment_id": 89248140, "body": "@vatsal: that isn&#39;t directly supported by the module but again the <code>master_opts</code> ctor argument provides a direct access to the underlaying <code>ssh</code> process command line. For your particular case, just pass the public key path: <code>master_opts =&gt; [-i =&gt; $key_path]</code>"}, {"owner": {"reputation": 99, "user_id": 3344013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/131deed33d242151849bec9de1b661e3?s=128&d=identicon&r=PG&f=1", "display_name": "vatsal", "link": "https://stackoverflow.com/users/3344013/vatsal"}, "edited": false, "score": 0, "creation_date": 1531474455, "post_id": 51098301, "comment_id": 89619462, "body": "How do I disable buffering when running commands? Right now the output only shows when the command fired exits."}, {"owner": {"reputation": 99, "user_id": 3344013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/131deed33d242151849bec9de1b661e3?s=128&d=identicon&r=PG&f=1", "display_name": "vatsal", "link": "https://stackoverflow.com/users/3344013/vatsal"}, "edited": false, "score": 0, "creation_date": 1531475152, "post_id": 51098301, "comment_id": 89619896, "body": "I&#39;m using 0.64 version of the module"}], "tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": true, "score": 1, "last_activity_date": 1530263762, "creation_date": 1530263762, "answer_id": 51098301, "question_id": 51085582, "link": "https://stackoverflow.com/questions/51085582/interactive-mode-in-netopenssh/51098301#51098301", "title": "Interactive mode in Net::OpenSSH", "body": "<p><a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow noreferrer\">Net::OpenSSH</a> already runs in interactive mode by default, letting the underlaying <code>ssh</code> process ask for a password when all the other authentication methods fail (you have to request <a href=\"https://metacpan.org/pod/Net::OpenSSH#batch_mode-=%3E-1\" rel=\"nofollow noreferrer\"><code>batch_mode</code></a> to disable it).</p>\n\n<p>You can pass several keys through the <a href=\"https://metacpan.org/pod/Net::OpenSSH#master_opts-=%3E-[...]\" rel=\"nofollow noreferrer\"><code>master_opts</code></a> constructor argument:</p>\n\n<pre><code>my $ssh = Net::OpenSSH-&gt;new($host, ...\n                            master_opts =&gt; [map { -i =&gt; $_ } @keys]);\n</code></pre>\n\n<p>You can also create a feature request in the GitHub <a href=\"https://github.com/salva/p5-Net-OpenSSH\" rel=\"nofollow noreferrer\">bug-tracker</a> and I will eventually add support for accepting more than one key without using the <code>master_opts</code> hack.</p>\n"}], "owner": {"reputation": 99, "user_id": 3344013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/131deed33d242151849bec9de1b661e3?s=128&d=identicon&r=PG&f=1", "display_name": "vatsal", "link": "https://stackoverflow.com/users/3344013/vatsal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 1, "accepted_answer_id": 51098301, "answer_count": 1, "score": 2, "last_activity_date": 1530263762, "creation_date": 1530196522, "question_id": 51085582, "link": "https://stackoverflow.com/questions/51085582/interactive-mode-in-netopenssh", "title": "Interactive mode in Net::OpenSSH", "body": "<p>I am a beginner in perl and trying to write a script that uses Net::OpenSSH to run commands on the given host. How do I do interactive mode auth in Net::OpenSSH similar to what we have in Net:SSH::Perl. Net:SSH::Perl has an interactive flag which takes in password if set to true otherwise public key auth. Following is the ssh object I have in Net::SSH::Perl which I would like to replicate in Net::OpenSSH :</p>\n\n<pre><code> $ssh = Net::SSH::Perl-&gt;new($host,\n                      debug          =&gt; $debug,\n                      port           =&gt; $port,\n                      interactive    =&gt; $imode,\n                      identity_files =&gt; [ @keys ],\n                      );\n</code></pre>\n\n<p>Also Net::SSH::Perl can take in an array of keys while Net::OpenSSH only one. How do I get around this?</p>\n"}, {"tags": ["perl", "if-statement"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1530197482, "post_id": 51084217, "comment_id": 89160095, "body": "Personally, I&#39;d be pretty happy with this code as written.  I might reorder the conditions to reflect how likely they are to occur as a possible optimization."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 7, "creation_date": 1530193156, "post_id": 51084355, "comment_id": 89157158, "body": "Technically correct, but I think I&#39;d be giving people who did that in production code a pretty hard time over it."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1530193309, "post_id": 51084355, "comment_id": 89157260, "body": "Clever.  Perhaps too clever?"}, {"owner": {"reputation": 163, "user_id": 9886657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6e2be9b677c8ff6f38326df7cafcd4?s=128&d=identicon&r=PG&f=1", "display_name": "Gern Blanston", "link": "https://stackoverflow.com/users/9886657/gern-blanston"}, "edited": false, "score": 0, "creation_date": 1530195196, "post_id": 51084355, "comment_id": 89158585, "body": "I like this one a lot. Especially since I&#39;m iterating this comparison over thousands of data points, so to me it&#39;s nice that each comparison only needs to made one time (as opposed to twice if they&#39;re not equal). But this looks like the kind of thing I&#39;d look at a year from now and not know what in the world it means."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 163, "user_id": 9886657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6e2be9b677c8ff6f38326df7cafcd4?s=128&d=identicon&r=PG&f=1", "display_name": "Gern Blanston", "link": "https://stackoverflow.com/users/9886657/gern-blanston"}, "edited": false, "score": 2, "creation_date": 1530197144, "post_id": 51084355, "comment_id": 89159874, "body": "@GernBlanston This \u201coptimization\u201d is very likely not worth it even from a performance standpoint: subroutine calls tend to be measurably more expensive than simple operations like (non-overloaded) comparisons or if-statements. I&#39;d bet the code in your question is already the fastest, followed by tjd&#39;s for-if pseudoswitch."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1530199452, "post_id": 51084355, "comment_id": 89161490, "body": "OTOH, if the initial expression is <code>[complicated_function_x() &lt;=&gt; complicated_function_y()]</code>, then using <code>&lt;=&gt;</code> might save you a couple of function calls."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1530212551, "post_id": 51084355, "comment_id": 89167687, "body": "@mob <code>my $temp_x = complicated_function_x(); my $temp_y = complicated_function_y();</code> would accomplish much the same goal."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1530213919, "last_edit_date": 1530213919, "creation_date": 1530193001, "answer_id": 51084355, "question_id": 51084217, "link": "https://stackoverflow.com/questions/51084217/is-there-a-way-to-use-the-operator-in-a-perl-if-statement/51084355#51084355", "title": "Is there a way to use the &lt;=&gt; operator in a perl if statement?", "body": "<p>It's kind of obscure, but you can use the <code>&lt;=&gt;</code> operator to get an element of a dispatch table:</p>\n\n<pre><code>(   sub { say 'they are the same' },\n    sub { say 'x is greater' },\n    sub { say 'x is lesser' }\n)[$x &lt;=&gt; $y]-&gt;();\n</code></pre>\n\n<p>It's based on the fact that the index -1 returns the last element of a list.</p>\n\n<p>Using a hash might be more readable.</p>\n\n<pre><code>{    0 =&gt; sub { say 'they are the same' },\n     1 =&gt; sub { say 'x is greater' },\n    -1 =&gt; sub { say 'x is lesser' }\n}-&gt;{ $x &lt;=&gt; $y }-&gt;();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 9886657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6e2be9b677c8ff6f38326df7cafcd4?s=128&d=identicon&r=PG&f=1", "display_name": "Gern Blanston", "link": "https://stackoverflow.com/users/9886657/gern-blanston"}, "edited": false, "score": 0, "creation_date": 1530193305, "post_id": 51084403, "comment_id": 89157255, "body": "Yeah, I caught the thing about variable names $a and $b a couple minutes after I (carelessly) wrote the question with them. I edited to correct that. FWIW, those aren&#39;t the variable names I&#39;m really using."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1530198584, "last_edit_date": 1530198584, "creation_date": 1530193121, "answer_id": 51084403, "question_id": 51084217, "link": "https://stackoverflow.com/questions/51084217/is-there-a-way-to-use-the-operator-in-a-perl-if-statement/51084403#51084403", "title": "Is there a way to use the &lt;=&gt; operator in a perl if statement?", "body": "<p>Well, the operator returns 1, 0 or -1 depending on the test outcome, which is what <code>sort</code> uses. </p>\n\n<p>So it's quite viable to do that. But I'm not sure if it's a particularly clear approach, compared to;</p>\n\n<pre><code>if ( $first &lt; $second ) { do X ; next}\nif ( $first &gt; $second ) { do Y ; next}\ndo Z. #$first == $second\n</code></pre>\n\n<p>I'd strongly suggest avoiding single letter variable names, and most especially <code>$a</code> and <code>$b</code>. It's poor style, and <code>$a</code> and <code>$b</code> are used by <code>sort</code> which could lead to confusion. </p>\n"}, {"tags": [], "owner": {"reputation": 74, "user_id": 3425591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2d2c8d96bccaa502e9413967446d4ae?s=128&d=identicon&r=PG", "display_name": "draxil", "link": "https://stackoverflow.com/users/3425591/draxil"}, "is_accepted": false, "score": 0, "last_activity_date": 1530193341, "creation_date": 1530193341, "answer_id": 51084479, "question_id": 51084217, "link": "https://stackoverflow.com/questions/51084217/is-there-a-way-to-use-the-operator-in-a-perl-if-statement/51084479#51084479", "title": "Is there a way to use the &lt;=&gt; operator in a perl if statement?", "body": "<p>I wouldn't call it elegant, but you could use a given/when to catch all the outcomes:</p>\n\n<pre><code>    use strict;\n    use 5.10.0;\n    use feature \"switch\";\n    use experimental \"smartmatch\";\n\n    my $x = 1;\n    given( $x &lt;=&gt; 2 ){\n        when(-1){\n            say \"stuff\"\n        }\n        when(0){\n            say \"diff stuff\"\n        }\n        when(1){\n            say \"other stuff\"\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 9886657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6e2be9b677c8ff6f38326df7cafcd4?s=128&d=identicon&r=PG&f=1", "display_name": "Gern Blanston", "link": "https://stackoverflow.com/users/9886657/gern-blanston"}, "edited": false, "score": 1, "creation_date": 1530194635, "post_id": 51084647, "comment_id": 89158214, "body": "This looks essentially equivalent to how it&#39;s already written, just with the additional evaluation in the for() statement. I&#39;m not looking to use the &lt;=&gt; operator just for the sake of using it. Just wondering if there was some common function that already did what I&#39;m doing with the if/elsif/else block."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1530193823, "creation_date": 1530193823, "answer_id": 51084647, "question_id": 51084217, "link": "https://stackoverflow.com/questions/51084217/is-there-a-way-to-use-the-operator-in-a-perl-if-statement/51084647#51084647", "title": "Is there a way to use the &lt;=&gt; operator in a perl if statement?", "body": "<p>Taking a cue from draxil w/o the experimental features:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $x = 1;\nfor ( $x &lt;=&gt; 2 ){\n    if ($_ == -1){\n        say \"stuff\"\n    }\n    if ($_ == 0){\n        say \"diff stuff\"\n    }\n    if ($_ == 1){\n        say \"other stuff\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1530197549, "creation_date": 1530197549, "answer_id": 51085911, "question_id": 51084217, "link": "https://stackoverflow.com/questions/51084217/is-there-a-way-to-use-the-operator-in-a-perl-if-statement/51085911#51085911", "title": "Is there a way to use the &lt;=&gt; operator in a perl if statement?", "body": "<p>This uses the result of <code>&lt;=&gt;</code> as an array index like <strong><em>choroba's</em></strong> answer, but there is no need to store and call anonymous subroutines</p>\n\n<p>I still wouldn't use it in live code</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nfor my $x ( 1 .. 3 ) {\n    say ['equal', 'greater than', 'less than']-&gt;[$x &lt;=&gt; 2];\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>less than\nequal\ngreater than\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1530254096, "last_edit_date": 1530254096, "creation_date": 1530199797, "answer_id": 51086663, "question_id": 51084217, "link": "https://stackoverflow.com/questions/51084217/is-there-a-way-to-use-the-operator-in-a-perl-if-statement/51086663#51086663", "title": "Is there a way to use the &lt;=&gt; operator in a perl if statement?", "body": "<pre class=\"lang-perl prettyprint-override\"><code>{\n    goto (qw( EQ GT LS ))[$x &lt;=&gt; $y];\n    LS:\n        say('less');\n        last;\n    EQ:\n        say('equal');\n        last;\n    GT:\n        say('greater');\n}\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/functions/goto.html\" rel=\"nofollow noreferrer\">But</a>:</p>\n\n<blockquote>\n  <p>This isn't necessarily recommended if you're optimizing for maintainability.</p>\n</blockquote>\n"}], "owner": {"reputation": 163, "user_id": 9886657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6e2be9b677c8ff6f38326df7cafcd4?s=128&d=identicon&r=PG&f=1", "display_name": "Gern Blanston", "link": "https://stackoverflow.com/users/9886657/gern-blanston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 51084403, "answer_count": 6, "score": 3, "last_activity_date": 1530254096, "creation_date": 1530192626, "last_edit_date": 1530193048, "question_id": 51084217, "link": "https://stackoverflow.com/questions/51084217/is-there-a-way-to-use-the-operator-in-a-perl-if-statement", "title": "Is there a way to use the &lt;=&gt; operator in a perl if statement?", "body": "<p>To start off with, I realize that I <em>can</em> write an if statement with this operator that compiles and runs. I'm wondering if there's a way it can be used to make an <code>if</code>/<code>elsif</code>/<code>else</code> block a little more elegant.</p>\n\n<p>I currently have a block of code that looks like this</p>\n\n<pre><code> if( $bill == $ted) {\n        # Do some stuff\n} elsif( $bill &lt; $ted) {\n        # Do different stuff\n} else {\n        # Do really weird stuff\n}\n</code></pre>\n\n<p>So there are specific things I want the script to do based on whether the two values are equal, or if they aren't equal, whichever one is lower. It seems like the <code>&lt;=&gt;</code> operator would be well suited to this.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1530191476, "post_id": 51083605, "comment_id": 89155875, "body": "Select your code with the mouse, then click <code>{}</code> button to format as code."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1530191968, "post_id": 51083605, "comment_id": 89156234, "body": "Why do you use <a href=\"http://p3rl.org/Shell\" rel=\"nofollow noreferrer\">Shell</a>? What do you mean by &quot;it&#39;s not working&quot;? Try inspecting the return value of <a href=\"http://p3rl.org/system\" rel=\"nofollow noreferrer\">system</a>."}, {"owner": {"reputation": 176, "user_id": 1989011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95f8b321bf8124baf6bc29c3e8555fc?s=128&d=identicon&r=PG&f=1", "display_name": "Criminally Inane", "link": "https://stackoverflow.com/users/1989011/criminally-inane"}, "edited": false, "score": 1, "creation_date": 1530220470, "post_id": 51083605, "comment_id": 89170841, "body": "Is commands.sh in the same directory as 1.pl? Maybe the path isn&#39;t correct. Try using an absolute path to commands.sh and see if that helps."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1530261422, "post_id": 51083605, "comment_id": 89182720, "body": "The top of the shell script says <code>#!&#47;bin&#47;csh</code> but you call it with <code>&#47;bin&#47;sh</code>, why? Also, you should check the return value of <code>system</code> for errors, the minimum is <code>system(&quot;&#47;bin&#47;sh commands.sh&quot;) == 0 or die &quot;\\$?=$?&quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 663, "user_id": 255981, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/29804f2ad262893d9ae9646dfef3dc60?s=128&d=identicon&r=PG", "display_name": "nebulous", "link": "https://stackoverflow.com/users/255981/nebulous"}, "is_accepted": true, "score": 0, "last_activity_date": 1530273062, "creation_date": 1530273062, "answer_id": 51101117, "question_id": 51083605, "link": "https://stackoverflow.com/questions/51083605/how-to-call-shell-script-from-perl-script/51101117#51101117", "title": "How to call shell script from perl script", "body": "<p>If commands.sh is executable, then all you should need is:</p>\n\n<pre><code>#!/usr/bin/perl\n\nsystem(\"/path/to/commands.sh\")\n</code></pre>\n\n<p>If commands.sh does not have the executable flag set, then</p>\n\n<pre><code>#!/usr/bin/perl\n\nsystem(\"/bin/csh /path/to/commands.sh\");\n</code></pre>\n\n<p>All of the other code appears to be superfluous. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14014424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2cf3ed521de971b62cd75b64d67825?s=128&d=identicon&r=PG", "display_name": "Dave K", "link": "https://stackoverflow.com/users/14014424/dave-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1596030026, "last_edit_date": 1596030026, "creation_date": 1596009595, "answer_id": 63148975, "question_id": 51083605, "link": "https://stackoverflow.com/questions/51083605/how-to-call-shell-script-from-perl-script/63148975#63148975", "title": "How to call shell script from perl script", "body": "<p>The path to the shell script changes now and then for me, so I keep it in a variable at the top of the script where it is easy to update:</p>\n<p>our <code>$pathToShellScript = '/path/to/script.sh';</code></p>\n<pre><code>system(&quot;/bin/sh $pathToShellScript&quot;);\n</code></pre>\n<p><strong>Not sure why this errors:</strong></p>\n<p><code>sh: -c: line 0: unexpected EOF while looking for matching </code>''`</p>\n<p>While the following works:\nsystem (&quot;/bin/sh&quot;, &quot;$renamingScript&quot;);</p>\n"}], "owner": {"reputation": 41, "user_id": 9734457, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pe6I8WLFwpU/AAAAAAAAAAI/AAAAAAAAAIU/uzO6HC1r_p4/photo.jpg?sz=128", "display_name": "Kittu", "link": "https://stackoverflow.com/users/9734457/kittu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1021, "favorite_count": 0, "accepted_answer_id": 51101117, "answer_count": 2, "score": 0, "last_activity_date": 1596030026, "creation_date": 1530190871, "last_edit_date": 1530191547, "question_id": 51083605, "link": "https://stackoverflow.com/questions/51083605/how-to-call-shell-script-from-perl-script", "title": "How to call shell script from perl script", "body": "<p>I'm trying to call already saved shell script from perl script, but it's not working .</p>\n\n<p>1.pl:</p>\n\n<pre><code>#!/usr/bin/perl\n#!/bin/csh -f\n\nuse warnings;\nuse Shell;\n\nsystem (\"/bin/sh commands.sh\");\n</code></pre>\n\n<p>commands.sh:</p>\n\n<pre><code>#!/bin/csh -f\n\necho \"calling shell script from perl script\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1530196594, "post_id": 51083402, "comment_id": 89159526, "body": "You could throw an exception from <code>exec()</code> and put an <code>eval</code> around the <code>in()</code> to catch it"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 4, "last_activity_date": 1530197407, "creation_date": 1530197407, "answer_id": 51085872, "question_id": 51083402, "link": "https://stackoverflow.com/questions/51083402/how-to-limit-results-of-filefindrule/51085872#51085872", "title": "How to limit results of File::Find::Rule", "body": "<p>One way to abort the search, is by calling <code>die</code> from the <code>exec</code> handler, then use <code>eval</code> to catch the exception in the outer scope. For example: </p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse File::Find::Rule;\n\nmy $count = 0;\nmy @files;\neval {\n    File::Find::Rule-&gt;new-&gt;file\n      -&gt;exec( sub { die if $count++ &gt; 10; push @files, $_[2]; return 1; })-&gt;in('.');\n};\nif( $@ ) {\n    say \"Aborted search after \", $count - 1, \" matches\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1218, "user_id": 2621408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14qCV.png?s=128&g=1", "display_name": "marderh", "link": "https://stackoverflow.com/users/2621408/marderh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 51085872, "answer_count": 1, "score": 2, "last_activity_date": 1530209547, "creation_date": 1530190239, "question_id": 51083402, "link": "https://stackoverflow.com/questions/51083402/how-to-limit-results-of-filefindrule", "title": "How to limit results of File::Find::Rule", "body": "<p>I have to search a large directory structure of files with <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow noreferrer\">File::Find::Rule</a> (or similar).</p>\n\n<p>For testing purposes I'd like top stop after a certain ammount of found files.\nI've used <code>-&gt;exec()</code> with <code>state</code> or global scope variables, but i haven`t found a way to quit the searching without the use of Labels... Is there a way to do that elegantly?</p>\n"}, {"tags": ["string", "perl", "hash", "reference"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10005656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49b8fa8e68287f68dc5269a106256a0?s=128&d=identicon&r=PG&f=1", "display_name": "NeedPerlHalp", "link": "https://stackoverflow.com/users/10005656/needperlhalp"}, "edited": false, "score": 0, "creation_date": 1530191205, "post_id": 51083421, "comment_id": 89155682, "body": "hey thank you very much for your answer. The variable contains a reference within a longer string, and the variable itself is the value of a key in a hash. So its kinda a hash within a hash, however when i remove all other chars from the string and try to dereference it like you did: my %hash = %{ $string }; (where the string only contains &quot;HASH(0x5602d43a7648)&quot;) i get an error. i simply want the hash within the hash."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1530197102, "post_id": 51083421, "comment_id": 89159846, "body": "See <a href=\"https://stackoverflow.com/q/1671281\">stackoverflow.com/q/1671281</a>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1530191851, "last_edit_date": 1530191851, "creation_date": 1530190292, "answer_id": 51083421, "question_id": 51083376, "link": "https://stackoverflow.com/questions/51083376/perl-create-hash-from-reference/51083421#51083421", "title": "Perl create Hash from Reference", "body": "<p>You can't, it's too late.</p>\n\n<p>If the variable contains a reference, you can dereference it, though:</p>\n\n<pre><code>my $hash_ref = { a =&gt; 42 };\nmy %hash = %{ $hash_ref };\n</code></pre>\n\n<p>but once you stringify it, there's no way:</p>\n\n<pre><code>my $string = \"$hash_ref\";\n</code></pre>\n\n<p>To create a hash within a hash, or a \"Hash of Hashes (HoH)\", use the references, not strings:</p>\n\n<pre><code>my %hash = ( key1 =&gt; { subkey1 =&gt; 'val1',\n                       subkey2 =&gt; 'val2' },\n             key2 =&gt; { subkey3 =&gt; 'val3' } );\nprint $hash{key1}{subkey2}, \"\\n\";  # val2\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10005656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49b8fa8e68287f68dc5269a106256a0?s=128&d=identicon&r=PG&f=1", "display_name": "NeedPerlHalp", "link": "https://stackoverflow.com/users/10005656/needperlhalp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1530191572, "answer_count": 1, "score": 0, "last_activity_date": 1530191851, "creation_date": 1530190151, "last_edit_date": 1530190253, "question_id": 51083376, "link": "https://stackoverflow.com/questions/51083376/perl-create-hash-from-reference", "closed_reason": "Duplicate", "title": "Perl create Hash from Reference", "body": "<p>i have a String that contains a Hash Reference, for example:</p>\n\n<pre><code>my $string = \"HASH(0x5602d43a7648)\";\n</code></pre>\n\n<p>How can i access the hash from this reference and print out it's values and keys?</p>\n"}, {"tags": ["perl", "hash", "dereference"], "comments": [{"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "edited": false, "score": 2, "creation_date": 1530189443, "post_id": 51083004, "comment_id": 89154546, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/22165108/how-to-print-complex-dataarray-of-hash-structure-in-perl\">How to print complex data(Array of Hash) structure in perl</a>"}, {"owner": {"reputation": 1, "user_id": 9973509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caed30d249c56fdcc2c1e4b3d76a191c?s=128&d=identicon&r=PG&f=1", "display_name": "VBAidontgetitDUDE", "link": "https://stackoverflow.com/users/9973509/vbaidontgetitdude"}, "reply_to_user": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "edited": false, "score": 0, "creation_date": 1530189777, "post_id": 51083004, "comment_id": 89154756, "body": "thanks for the answer, doesnt look like the same thing to me since i have what looks like a hash of strings that contain hash references, i simply want to know how i can create from a string like &quot;HASH(0x5602d430ecd8)&quot; a new hash and print out its keys and values"}, {"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "edited": false, "score": 0, "creation_date": 1530189898, "post_id": 51083004, "comment_id": 89154832, "body": "if you do <code>use Data::Dumper; print Dumper(\\%your_hash);</code>, you&#39;ll see what is contained in your &quot;hash of strings&quot;."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 3, "creation_date": 1530261529, "post_id": 51083004, "comment_id": 89182763, "body": "Please include the code as text in your post, not a screenshot, and please provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> that we can run to reproduce the issue."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1530272843, "post_id": 51083004, "comment_id": 89189214, "body": "I will never understand why people think it&#39;s useful to images that contain code!"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1530273568, "creation_date": 1530273568, "answer_id": 51101261, "question_id": 51083004, "link": "https://stackoverflow.com/questions/51083004/perl-get-value-of-a-hash-in-a-hash/51101261#51101261", "title": "Perl get value of a hash in a hash", "body": "<p>Your <code>getVarHash()</code> method return a hash reference. And when you dereference the hash and look at the contents, you see that it contains references to other hashes.</p>\n\n<p>Actually, those second level hashes aren't just ordinary hash references - they are blessed hashes. You can see that from the <code>Variable=</code> in front of the hash reference in your output. A \"blessed hash\" is an object. So what you have here are a number of objects of the \"Variable\". That doesn't seem to be a standard Perl class so, hopefully, you'll have documentation somewhere on how to use this class.</p>\n\n<p>You should really treat objects as black boxes and use the published interface to access the data inside them. But you can treat them as normal hash references if necessary.</p>\n\n<p>The easiest way to see what is in a complex data structure like this, is to use something like <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a> to display the structure.</p>\n\n<pre><code>use feature 'say';\nuse Data::Dumper;\n\nsay Dumper $vars-&gt;getVarHash();\n</code></pre>\n\n<p>Perl has plenty of good documentation on how to understand and manipulate complex data structures. I recommend taking a look at the <a href=\"https://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">Data Structures Cookbook</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 9973509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caed30d249c56fdcc2c1e4b3d76a191c?s=128&d=identicon&r=PG&f=1", "display_name": "VBAidontgetitDUDE", "link": "https://stackoverflow.com/users/9973509/vbaidontgetitdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1530273568, "creation_date": 1530189090, "last_edit_date": 1530273392, "question_id": 51083004, "link": "https://stackoverflow.com/questions/51083004/perl-get-value-of-a-hash-in-a-hash", "title": "Perl get value of a hash in a hash", "body": "<p>I have a Perl hash and I dont know what its content looks like.</p>\n\n<p>When I print out its keys and values (check attached hash loop picture) I get for values what looks like a string that contains another hash for each value (check output of hash loop picture).</p>\n\n<p>How can I print out the keys and values for these hashes?</p>\n\n<p><a href=\"https://i.stack.imgur.com/jAeG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jAeG4.png\" alt=\"output of hash loop\"></a></p>\n\n<p><img src=\"https://i.stack.imgur.com/erYFe.png\" alt=\"hash loop\"><a href=\"https://i.stack.imgur.com/erYFe.png\" rel=\"nofollow noreferrer\">2</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1368, "user_id": 2194471, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/L6fFG.jpg?s=128&g=1", "display_name": "Fuzzybear", "link": "https://stackoverflow.com/users/2194471/fuzzybear"}, "edited": false, "score": 0, "creation_date": 1530185413, "post_id": 51081590, "comment_id": 89151862, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26785646/perl-warning-use-of-uninitialized-value-in-join-or-string\">Perl warning: Use of uninitialized value in join or string</a>"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1530185439, "creation_date": 1530185439, "answer_id": 51081833, "question_id": 51081590, "link": "https://stackoverflow.com/questions/51081590/perl-table-extract-use-of-uninitialized-value-in-join-or-string-at/51081833#51081833", "title": "perl - table extract - use of uninitialized value in join or string at", "body": "<p>What output do you expect? If an empty string is OK, just replace <code>undef</code>s with empty strings:</p>\n\n<pre><code>for my $row ($ts-&gt;ros) {\n    print join(',', map $_ // \"\", @$row), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 9240529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0198168843da98e81bb7bfab30bc6983?s=128&d=identicon&r=PG&f=1", "display_name": "Mister Lamp", "link": "https://stackoverflow.com/users/9240529/mister-lamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 51081833, "answer_count": 1, "score": -1, "last_activity_date": 1530185439, "creation_date": 1530184730, "question_id": 51081590, "link": "https://stackoverflow.com/questions/51081590/perl-table-extract-use-of-uninitialized-value-in-join-or-string-at", "title": "perl - table extract - use of uninitialized value in join or string at", "body": "<p>I am coding a perl script which extracts all tables from a html webpage and then i iterate over the content.</p>\n\n<p>In my code</p>\n\n<pre><code>foreach my $ts ($te-&gt;tables) {\n    print \"Table (\", join(',', $ts-&gt;coords), \"):\\n\";\n    foreach my $row ($ts-&gt;rows) {\n            print join(',', @$row), \"\\n\";\n    }}\n</code></pre>\n\n<p>I get the </p>\n\n<blockquote>\n  <p>Use of uninitialized value in join or string at</p>\n</blockquote>\n\n<p>Error when there is no value in the cell of the table, for example </p>\n\n<p>I dont want to surpress warnings, I think there is a more elegant way to solve this.</p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["regex", "python-2.7", "perl"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 1, "creation_date": 1530176390, "post_id": 51078665, "comment_id": 89146102, "body": "It&#39;s stopping at the last <code>&#47;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1530176652, "post_id": 51078758, "comment_id": 89146275, "body": "<i>I&#39;m trying to translate some perl code into python... and if you can help me write a regex in python that does the same thing that would be cool</i> - OP does not need a Perl solution. Actually, it is a code conversion request."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 3, "creation_date": 1530176689, "post_id": 51078758, "comment_id": 89146291, "body": "@WiktorStribi\u017cew and I am not giving one. They didn&#39;t ask how to translate it. They asked why it is doing what it does. I&#39;m explaining that, in detail. And I was already done writing my answer when the OP edited in that last request you are quoting."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1530176666, "last_edit_date": 1530176666, "creation_date": 1530176470, "answer_id": 51078758, "question_id": 51078665, "link": "https://stackoverflow.com/questions/51078665/when-does-a-sub-stop-in-perl-regex/51078758#51078758", "title": "when does a sub stop in perl regex", "body": "<blockquote>\n  <p>I really don't know why it is stopping at 'test' as far as I understand it, it replaces any character in the beginning of the string with nothing so why does it stop at test?</p>\n</blockquote>\n\n<p>Because of the <code>\\/</code> being part of the pattern.</p>\n\n<pre><code>#            V here\n$url =~ s/^.*\\///;\n</code></pre>\n\n<p>It would be clearer if the code was using a different quoting delimiter, which is possible in Perl. That way, there would not be the <a href=\"https://en.wikipedia.org/wiki/Leaning_toothpick_syndrome\" rel=\"nofollow noreferrer\"><em>leaning toothpick syndrome</em></a> here.</p>\n\n<pre><code>$url =~ s{^.*/}{};\n</code></pre>\n\n<p>Note that it's greedy by default, so it will gobble up all the slashes until the last one.</p>\n\n<p>You can use the <a href=\"http://perldoc.perl.org/re.html#&#39;debug&#39;-mode\" rel=\"nofollow noreferrer\"><code>re</code> pragma</a> in debug mode to learn more about what the regex engine does under the hood.</p>\n\n<pre><code>use re 'debug';\n\nmy $url = \"http://perltest.my-mobile.org/c/test.cgi?u=USER&amp;p=PASS\";\n\n$url =~ s{^.*/}{};\n</code></pre>\n\n<p>This will output to STDERR.</p>\n\n<pre><code>Compiling REx \"^.*/\"\nFinal program:\n   1: SBOL /^/ (2)\n   2: STAR (4)\n   3:   REG_ANY (0)\n   4: EXACT &lt;/&gt; (6)\n   6: END (0)\nfloating \"/\" at 0..9223372036854775807 (checking floating) anchored(SBOL) minlen 1 \nMatching REx \"^.*/\" against \"http://perltest.my-mobile.org/c/test.cgi?u=USER&amp;p=PASS\"\nIntuit: trying to determine minimum start position...\n  doing 'check' fbm scan, [0..54] gave 5\n  Found floating substr \"/\" at offset 5 (rx_origin now 0)...\n  (multiline anchor test skipped)\nIntuit: Successfully guessed: match at offset 0\n   0 &lt;&gt; &lt;http://per&gt;         |   0| 1:SBOL /^/(2)\n   0 &lt;&gt; &lt;http://per&gt;         |   0| 2:STAR(4)\n                             |   0| REG_ANY can match 54 times out of 2147483647...\n  31 &lt;org/c&gt; &lt;/test.cgi?&gt;    |   1|  4:EXACT &lt;/&gt;(6)\n  32 &lt;rg/c/&gt; &lt;test.cgi?u&gt;    |   1|  6:END(0)\nMatch successful!\nFreeing REx: \"^.*/\"\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9137210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc927234925c53f3312ada443b42a6b1?s=128&d=identicon&r=PG&f=1", "display_name": "Adi Goldner", "link": "https://stackoverflow.com/users/9137210/adi-goldner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 51078758, "answer_count": 1, "score": 0, "last_activity_date": 1530179803, "creation_date": 1530176205, "last_edit_date": 1530179803, "question_id": 51078665, "link": "https://stackoverflow.com/questions/51078665/when-does-a-sub-stop-in-perl-regex", "title": "when does a sub stop in perl regex", "body": "<p>I'm trying to translate some perl code into python and I ran into some problem with a certain regex I just can't figure out what it does or why does it stop </p>\n\n<p><strong>this is the regex</strong></p>\n\n<pre><code>$url =~ s/^.*\\///;\n</code></pre>\n\n<p>now I've tried to pass some urls and see what comes out </p>\n\n<p>so this is what comes out</p>\n\n<pre><code># string input\n\"http://perltest.my-mobile.org/c/test.cgi?u=USER&amp;p=PASS\"\n\n# string output\n\"test.cgi?u=USER&amp;p=PASS\"\n</code></pre>\n\n<p>I really don't know why it is stopping at <code>test</code> as far as I understand it,\nit replaces any character in the beginning of the string with nothing \nso why does it stop at test?</p>\n\n<p>And if you can help me write a regex in python that does the same thing \nthat would be cool</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["arrays", "string", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1530164024, "post_id": 51075165, "comment_id": 89139730, "body": "Try with <code>use warnings; use diagnostics;</code> to get some hints."}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1530164367, "post_id": 51075165, "comment_id": 89139825, "body": "@\u0421\u0443\u0445\u043e\u043927 I have, I have written the main part which shows my question."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1530175864, "post_id": 51075165, "comment_id": 89145753, "body": "<a href=\"https://eval.in/1029566\" rel=\"nofollow noreferrer\">eval.in/1029566</a>"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1530170498, "post_id": 51076186, "comment_id": 89142692, "body": "What do you mean by an extra space? I don&#39;t see any!"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1530171343, "post_id": 51076186, "comment_id": 89143172, "body": "Royeh, I have edited the answer to include an up arrow <code>\u2191</code> to mark the position of the space in the code. Does this help?"}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1530173354, "post_id": 51076186, "comment_id": 89144290, "body": "@daxim Oh, yeah that was really great hint! ;)"}], "tags": [], "owner": {"reputation": 102, "user_id": 9844211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4mqkE.jpg?s=128&g=1", "display_name": "Heyddo", "link": "https://stackoverflow.com/users/9844211/heyddo"}, "is_accepted": true, "score": 5, "last_activity_date": 1530171293, "last_edit_date": 1530171293, "creation_date": 1530167799, "answer_id": 51076186, "question_id": 51075165, "link": "https://stackoverflow.com/questions/51075165/remove-the-first-part-of-string/51076186#51076186", "title": "Remove the first part of string", "body": "<pre><code>$secondElement =~ s/$string //;\n#                          \u2191\n</code></pre>\n\n<p>there is a extra space behind the \"$string\"</p>\n"}], "owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 51076186, "answer_count": 1, "score": 0, "last_activity_date": 1530171293, "creation_date": 1530163021, "question_id": 51075165, "link": "https://stackoverflow.com/questions/51075165/remove-the-first-part-of-string", "title": "Remove the first part of string", "body": "<p>I have an array which includes some string as (here as an example includes three):</p>\n\n<pre><code>@array = (\"Foo\", \"Bar\", \"Baz\");\n</code></pre>\n\n<p>I have another array which includes thousand elements in the following form,</p>\n\n<pre><code>@senocndArray = (test/Foo/the_Rest_of_string, test/Bar/the_Rest_of_string, test/Baz/the_Rest_of_string)\n</code></pre>\n\n<p>Now what I want to do is to remove the part <code>test/$element</code> in the following for loop</p>\n\n<pre><code>for my $element(@array){\n    my $string = \"test/$element\";\n    for $secondElement(@senocndArray){\n        # delete the $string part of each element of @senocndArray\n    }\n}\n</code></pre>\n\n<p>In the second loop I want to remove the first part and save it in another array or overwrite the <code>$secondElement</code>. I tried like</p>\n\n<pre><code>$secondElement =~ s/$string //;\n</code></pre>\n\n<p>But it does not work for me. Does anybody could help me please to know where is my mistake?</p>\n"}]