[{"tags": ["regex", "perl", "date", "parsing"], "comments": [{"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 2, "creation_date": 1492638722, "post_id": 43506622, "comment_id": 74068111, "body": "What did you try?"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 2, "creation_date": 1492638749, "post_id": 43506622, "comment_id": 74068119, "body": "Please provide your attempts and realistic input strings. A simple <a href=\"https://regex101.com/r/Tar2zZ/1\" rel=\"nofollow noreferrer\"><b><code>\\d{1,2}&#47;\\d{1,2}&#47;\\d{4}</code></b></a> will probably do."}, {"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1492640562, "post_id": 43506622, "comment_id": 74068783, "body": "...but don&#39;t forget to escape the slashes: <code>\\d{1,2}\\&#47;\\d{1,2}\\&#47;\\d{4}</code>. (Assuming your regex is delimited by slashes.)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1492641894, "post_id": 43506622, "comment_id": 74069213, "body": "Stack Overflow is not a place where you dump your requirements and get people to do your work for you. What have you tried so far? Show your work!"}], "answers": [{"comments": [{"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "edited": false, "score": 0, "creation_date": 1492654552, "post_id": 43509022, "comment_id": 74072558, "body": "I guess I assumed you could have 2 digit months although you only indicated one digit: m/dd/yyyy"}, {"owner": {"reputation": 19, "user_id": 7873492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7afb0791875c71edf348db2839196cc?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7873492/ryan"}, "edited": false, "score": 0, "creation_date": 1492656484, "post_id": 43509022, "comment_id": 74073005, "body": "No, this is exactly what I was looking for and is very straightforward.  I thought my requirements were pretty clear and based on your response, I can see that you understood perfectly.  The syntax I was using was MUCH too complex, which is probably what lead to my deepening confusion as I continued to make attempts at it.  Thanks for your help, cbmckay!"}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "reply_to_user": {"reputation": 19, "user_id": 7873492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7afb0791875c71edf348db2839196cc?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7873492/ryan"}, "edited": false, "score": 0, "creation_date": 1492659253, "post_id": 43509022, "comment_id": 74073734, "body": "Cool. Could you accept this answer?"}, {"owner": {"reputation": 19, "user_id": 7873492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7afb0791875c71edf348db2839196cc?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7873492/ryan"}, "edited": false, "score": 0, "creation_date": 1492825565, "post_id": 43509022, "comment_id": 74160720, "body": "Yep, sorry for the delay.  I don&#39;t come here often.  : )"}], "tags": [], "owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "is_accepted": true, "score": 0, "last_activity_date": 1492654327, "creation_date": 1492654327, "answer_id": 43509022, "question_id": 43506622, "link": "https://stackoverflow.com/questions/43506622/i-need-to-create-a-perl-5-regex-statement-that-will-parse-2-separate-dates-from/43509022#43509022", "title": "I need to create a Perl 5 regex statement that will parse 2 separate dates from a string", "body": "<p>If your strings are simple enough and follow your format exactly the following will work:</p>\n\n<pre><code>my $string = \"Unwanted words and spaces 3/10/2012 and 12/15/1980\\n\";\nmy ($dt1,$dt2) = $string=~ m|\\d{1,2}/\\d{1,2}/\\d{4}|g;\nsay $dt1 . ' ' . $dt2;\n</code></pre>\n\n<p>output:</p>\n\n<p><code>3/10/2012 12/15/1980</code></p>\n"}], "owner": {"reputation": 19, "user_id": 7873492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7afb0791875c71edf348db2839196cc?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7873492/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1492693958, "accepted_answer_id": 43509022, "answer_count": 1, "score": -3, "last_activity_date": 1492654327, "creation_date": 1492638322, "question_id": 43506622, "link": "https://stackoverflow.com/questions/43506622/i-need-to-create-a-perl-5-regex-statement-that-will-parse-2-separate-dates-from", "closed_reason": "Needs details or clarity", "title": "I need to create a Perl 5 regex statement that will parse 2 separate dates from a string", "body": "<p>The string is of the following format:<br>\n\"Unwanted words and spaces\"  Date1  \"and\" Date2.  Date 2 is at the very end of the whole string.  How can I go about writing this?  The date formats are of the form m/dd/yyyy.</p>\n\n<p>Thanks,\nRyan</p>\n"}, {"tags": ["perl", "unit-testing", "testing"], "comments": [{"owner": {"reputation": 690, "user_id": 2888308, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/61f52262296574a1921a0788aec91f02?s=128&d=identicon&r=PG&f=1", "display_name": "Gunjan Aggarwal", "link": "https://stackoverflow.com/users/2888308/gunjan-aggarwal"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1492626752, "post_id": 43502748, "comment_id": 74061446, "body": "Is there a way (probably via command-line arguments) to skip tests without modifying the test script?"}, {"owner": {"reputation": 690, "user_id": 2888308, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/61f52262296574a1921a0788aec91f02?s=128&d=identicon&r=PG&f=1", "display_name": "Gunjan Aggarwal", "link": "https://stackoverflow.com/users/2888308/gunjan-aggarwal"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 1, "creation_date": 1492628442, "post_id": 43502748, "comment_id": 74062446, "body": "If tests in a test script take significant time to execute and I am only interested in one of these tests, I should be able to execute that particular test. Many other unit testing frameworks have this capability like JUnit, Google Test framework."}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 8, "last_activity_date": 1492630098, "creation_date": 1492630098, "answer_id": 43504482, "question_id": 43502748, "link": "https://stackoverflow.com/questions/43502748/running-only-one-named-test-case-in-a-perl-test-file/43504482#43504482", "title": "Running only one named test case in a Perl test file", "body": "<p>The short answer is: No, with the simple test framework provided by <code>Test::Simple</code> (or <code>Test::More</code>) and the <code>prove</code> command there is no way to single out one specific assertion from a test script and run just that assertion.</p>\n\n<p>However the Perl testing ecosystem has a rich and diverse set of options available.  For example <code>Test::Class</code> allows you to add an object oriented layer on top of the standard test protocol.  This allows you to group tests into methods, add setup and teardown methods, and also to <a href=\"https://metacpan.org/pod/Test::Class#RUNNING-INDIVIDUAL-TESTS\" rel=\"noreferrer\">run individual test methods</a>.  You still won't be able to do it all from the command-line without modifying your test script but it's a step closer to what you're asking for.</p>\n\n<p>Of course a much simpler solution would be to copy out just the the bit you want into its own <code>.t</code> file and run that.</p>\n"}], "owner": {"reputation": 690, "user_id": 2888308, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/61f52262296574a1921a0788aec91f02?s=128&d=identicon&r=PG&f=1", "display_name": "Gunjan Aggarwal", "link": "https://stackoverflow.com/users/2888308/gunjan-aggarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "accepted_answer_id": 43504482, "answer_count": 1, "score": 1, "last_activity_date": 1492630098, "creation_date": 1492624081, "question_id": 43502748, "link": "https://stackoverflow.com/questions/43502748/running-only-one-named-test-case-in-a-perl-test-file", "title": "Running only one named test case in a Perl test file", "body": "<p>I am trying to find if it is possible to run just one test case in a Perl test file. For example, consider the following Perl test file (copied from <a href=\"http://www.thegeekstuff.com/2013/02/perl-test-simple/\" rel=\"nofollow noreferrer\">http://www.thegeekstuff.com/2013/02/perl-test-simple/</a>):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Test::Simple tests =&gt; 2;\n\nsub hello_world\n{\nreturn \"Hello world!\";\n}\n\nsub get_number\n{\nreturn int(rand(1000));\n}\nok( hello_world( ) eq \"Hello world!\", \"My Testcase 1\" );\nok( get_number( ) &gt; 0, \"My Testcase 2\" );\n</code></pre>\n\n<p>When I run this file using command <code>prove -v test.t</code> I get following output:</p>\n\n<pre><code>test.t .. \n1..2\nok 1 - My Testcase 1\nok 2 - My Testcase 2\nok\n</code></pre>\n\n<p>Now, I just want to run the 2nd test case i.e. <code>My Testcase2</code>. Is there a way to execute just one named test case in a test file?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1492659427, "post_id": 43502443, "comment_id": 74073780, "body": "I like your answer and works fine as tested. Would you be able to describe how your regex pattern works?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1492681831, "post_id": 43502443, "comment_id": 74085163, "body": "@criz: I added the pattern details."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1492681774, "last_edit_date": 1492681774, "creation_date": 1492623128, "answer_id": 43502443, "question_id": 43502269, "link": "https://stackoverflow.com/questions/43502269/can-perl-regex-capture-and-split-strings-in-order-of-their-position/43502443#43502443", "title": "Can Perl regex capture and split strings in order of their position?", "body": "<p>Use negated character classes <code>[^...]</code>:</p>\n\n<pre><code>my (@strArr) = $str =~ /[^\\s(]+|\\([^)]*\\)/g;\n</code></pre>\n\n<p>pattern details:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>/\n[^\\s(]+    # one or more characters that aren't opening round brackets or white-spaces\n|        # OR\n\\(         # a literal opening round bracket\n[^)]*      # zero or more characters that aren't closing round brackets\n\\)         # a literal closing round bracket\n/g # perform a global research\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1492658490, "post_id": 43502828, "comment_id": 74073522, "body": "Thank you! Works perfect but I did remove the /g modifier as I got the warning message:  Use of /g modifier is meaningless in split at extract_string.pl"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1492668890, "post_id": 43502828, "comment_id": 74076966, "body": "@criz: True, I forgot to remove it after changing from a matching approach to the splitting one."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1492668837, "last_edit_date": 1492668837, "creation_date": 1492624341, "answer_id": 43502828, "question_id": 43502269, "link": "https://stackoverflow.com/questions/43502269/can-perl-regex-capture-and-split-strings-in-order-of-their-position/43502828#43502828", "title": "Can Perl regex capture and split strings in order of their position?", "body": "<p>You may split the string with <code>(\\([^()]*\\))</code>  pattern that will match a <code>(</code> symbol, then zero or more chars other than <code>(</code> and <code>)</code>, and then a literal <code>)</code>, and will capture the whole substring matched into Group 1 so as Perl could put it to the resulting array.</p>\n\n<p>The only minus is that you need to drop empty matches (with <code>grep {/\\S/}</code>), but the overall solution looks quite readable:</p>\n\n<pre><code>my $str = \"abc(def)ghi\";\nmy $regexp = qr/( \\( [^()]* \\) )/x;\nmy @strArr = grep {/\\S/} split /$regexp/, $str;\nprint join(\", \", @strArr);\n</code></pre>\n\n<p>Output of the <a href=\"http://ideone.com/1CwMSk\" rel=\"nofollow noreferrer\">demo code</a> above: <code>abc, (def), ghi</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1492659177, "post_id": 43509710, "comment_id": 74073710, "body": "I would like to put a check on both because both solutions are working. Casimir&#39;s example is what I am looking for as it&#39;s more simple but Wiktor&#39;s answer is also fine."}], "tags": [], "owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "is_accepted": false, "score": 1, "last_activity_date": 1492668785, "last_edit_date": 1492668785, "creation_date": 1492658979, "answer_id": 43509710, "question_id": 43502269, "link": "https://stackoverflow.com/questions/43502269/can-perl-regex-capture-and-split-strings-in-order-of-their-position/43509710#43509710", "title": "Can Perl regex capture and split strings in order of their position?", "body": "<p>I tried both Wiktor's and Casimir's examples. Both worked fine.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %testHash = (\n    '0' =&gt; '',\n    '1' =&gt; 'abc(def)ghi',\n    '2' =&gt; 'abc(def)ghi(jkl)',\n    '3' =&gt; 'abcdef(ghi)',\n    '4' =&gt; '(abc)',\n    '5' =&gt; '(abcd)efg'\n);\n\n# Solution 1\nprint \"By Wiktor:\\n\";\nforeach my $key ( sort keys %testHash ) {\n    my $str = $testHash{$key};\n    my $regexp = qr/( \\( [^()]* \\) )/x;\n    my @strArr = grep {/\\S/} split /$regexp/, $str;\n\n    print \"$str - \".join(\", \", @strArr).\"\\n\";\n}\n\n# Solution 2\nprint \"\\nBy Casimir:\\n\";\nforeach my $key ( sort keys %testHash ) {\n    my $str = $testHash{$key};\n    my (@strArr) = $str =~ /[^\\s(]+|\\([^)]*\\)/g;\n\n    print \"$str - \".join(\", \", @strArr).\"\\n\";\n}\n\n\n\n\nBy Wiktor:\n -\nabc(def)ghi - abc, (def), ghi\nabc(def)ghi(jkl) - abc, (def), ghi, (jkl)\nabcdef(ghi) - abcdef, (ghi)\n(abc) - (abc)\n(abcd)efg - (abcd), efg\n\nBy Casimir:\n -\nabc(def)ghi - abc, (def), ghi\nabc(def)ghi(jkl) - abc, (def), ghi, (jkl)\nabcdef(ghi) - abcdef, (ghi)\n(abc) - (abc)\n(abcd)efg - (abcd), efg\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 43502828, "answer_count": 3, "score": 1, "last_activity_date": 1492681774, "creation_date": 1492622543, "last_edit_date": 1492651946, "question_id": 43502269, "link": "https://stackoverflow.com/questions/43502269/can-perl-regex-capture-and-split-strings-in-order-of-their-position", "title": "Can Perl regex capture and split strings in order of their position?", "body": "<p>I have a sample string below that I would like to split using some patterns either enclosed in parenthesis or not. They must be split in order of their position of the string so when I join them they will still be the same.</p>\n\n<p>my (@strArr) = $str =~ /^(. *?) |((. *?) )) $/;</p>\n\n<ol>\n<li><p>abc(def)ghi<br>\nResult: abc, (def),ghi</p></li>\n<li><p>abc(def) ghi(jkl)<br>\nResult: abc,(def) ,ghi, (jkl) </p></li>\n<li><p>abcdef(ghi)<br>\nResult :abcdef,(ghi) </p></li>\n<li><p>(abc)<br>\nResult: (abc) </p></li>\n<li><p>(abcd) efg<br>\nResult: (abcd),efg  </p></li>\n</ol>\n\n<p>Are these possible using only one line of regex code? These needs to be stored in order to @strArr</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1492616742, "post_id": 43500295, "comment_id": 74054951, "body": "Please <a href=\"https://stackoverflow.com/posts/43500295/edit\">edit</a> your question and format it properly. Make each piece of code an individual code block. We can&#39;t understand exactly what is code and what is text. Your code obviously has syntax errors. <code>$first=$1 if ?(foo.*)?;</code> is not valid syntax. Probably their online compiler does not complain because it&#39;s not a compiler, just some very simple text parser that doesn&#39;t understand full Perl syntax. The error message you are getting is actually pretty clear. Also, always start your programs with <code>use strict;</code> and <code>use warnings;</code>. Those help you to spot errors early on."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492618356, "post_id": 43500295, "comment_id": 74056080, "body": "@simbabque, It was valid syntax until 5.22"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1492709367, "post_id": 43500902, "comment_id": 74105553, "body": "The documentation has been fixed. I think you&#39;ll find the fix in 5.26 (but maybe not since it&#39;s very late in the release process)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 8, "last_activity_date": 1492709456, "last_edit_date": 1492709456, "creation_date": 1492618226, "answer_id": 43500902, "question_id": 43500295, "link": "https://stackoverflow.com/questions/43500295/the-pattern-operator-is-not-working-for-matching-only-once-in-perl/43500902#43500902", "title": "The ?PATTERN? operator is not working for Matching Only Once in Perl", "body": "<p>Use</p>\n\n<pre><code>$first=$1 if m?(foo.*)?;\n</code></pre>\n\n<p><code>?PATTERN?</code> could be used as a shortcut for <code>m?PATTERN?</code>, but you can no longer omit the match operator's leading <code>m</code> when you use <code>?</code> as the delimiter.</p>\n\n<hr>\n\n<p>5.14 deprecated the ability to omit the leading <code>m</code> from <code>m?PATTERN?flags</code>.</p>\n\n<p>5.22 removed the ability to omit the leading <code>m</code> from <code>m?PATTERN?flags</code>.</p>\n\n<p>5.22 and 5.24's perlop lists both <code>m?PATTERN?flags</code> and <code>?PATTERN?flags</code>, but only the former if legal in these versions.</p>\n\n<p>5.26's documentation will be free of all mentions of <code>?PATTERN?</code> (as opposed to <code>m?PATTERN?</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 7, "last_activity_date": 1492775665, "last_edit_date": 1492775665, "creation_date": 1492618245, "answer_id": 43500913, "question_id": 43500295, "link": "https://stackoverflow.com/questions/43500295/the-pattern-operator-is-not-working-for-matching-only-once-in-perl/43500913#43500913", "title": "The ?PATTERN? operator is not working for Matching Only Once in Perl", "body": "<p>If you are not using the default <code>/</code> pattern delimiters, you <em>must</em> specify the match operation as in <code>$x =~ m{...}</code>, <code>$x =~ m!...!</code> etc.</p>\n\n<p><code>?...?</code> is different than those other alternative delimiters as <code>?...?</code> does something different than <code>/.../</code>. <code>perldoc perlreref</code> currently states:</p>\n\n<blockquote>\n  <p><code>?pattern?</code> is like <code>m/pattern/</code> but matches only once. No alternate delimiters can be used. Must be reset with <code>reset()</code>.</p>\n</blockquote>\n\n<p>That is <a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2017/04/msg244142.html\" rel=\"nofollow noreferrer\">misleading</a> as Perl <em>used to</em> recognize the plain <code>?...?</code>, but support for that <a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2014/01/msg211101.html\" rel=\"nofollow noreferrer\">was completely removed</a> a few years ago:</p>\n\n<blockquote>\n  <p><strong>[perl #120912] [PATCH] Remove support for ?PATTERN? without explicit 'm' operator</strong></p>\n  \n  <p>&hellip;</p>\n  \n  <p>This has issued a deprecation warning since Perl v5.14 (commit\n  <a href=\"https://perl5.git.perl.org/perl.git/commit/725a61d70\" rel=\"nofollow noreferrer\">725a61d70</a>), and precludes using ? as an operator after a unary operator\n  that defaults to $_, such as:</p>\n\n<pre><code>ref ? $_ : [$_]\n</code></pre>\n</blockquote>\n\n<p>Here is the motivation for the deprecation and eventual removal:</p>\n\n<blockquote>\n  <p>Deprecate <code>?PATTERN?</code>, recommending the equivalent <code>m?PATTERN?</code> syntax, in\n  order to eventually allow the question mark to be used in new operators\n  that would currently be ambiguous.</p>\n</blockquote>\n\n<p>If you are just beginning to learn Perl, you ought to enable <code>strict</code> and <code>warnings</code>. Declare your variables in the smallest applicable scope.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @list = qw/food foosball subeo footnote terfoot canic footbridge/;\nmy ($first, $last);\n\nforeach my $item (@list) {\n    $item =~ m?(foo.*)?\n        and $first = $1;\n    $item =~ /(foo.*)/\n        and $last = $1;\n}\nprint \"First: $first, Last: $last\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$ perl tt.pl\nFirst: food, Last: footbridge</pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 1383816, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c23783cfd40a2c207bb08ffedffbd251?s=128&d=identicon&r=PG", "display_name": "sampath", "link": "https://stackoverflow.com/users/1383816/sampath"}, "edited": false, "score": 0, "creation_date": 1492684312, "post_id": 43502418, "comment_id": 74086962, "body": "Thanks Borodin. Yes definitely will follow now on wards."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1492623038, "creation_date": 1492623038, "answer_id": 43502418, "question_id": 43500295, "link": "https://stackoverflow.com/questions/43500295/the-pattern-operator-is-not-working-for-matching-only-once-in-perl/43502418#43502418", "title": "The ?PATTERN? operator is not working for Matching Only Once in Perl", "body": "<p>A lot of things about Perl are unusual for a programming language, and you have happened upon a corner of the language that is rarely used</p>\n\n<p>Perl was designed by a the linguist <a href=\"https://en.wikipedia.org/wiki/Larry_Wall\" rel=\"nofollow noreferrer\"><strong>Larry Wall</strong></a>, and there are many similarities between Perl and spoken languages. Perl allows abbreviations of some constructs, for instance, a pattern match like</p>\n\n<pre><code>/abc/\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>$_ =~ m/abc/\n</code></pre>\n\n<p>That is to say, if it <em>looks like</em> a regex pattern it will be treated as one, regardless of whether the leading <code>m</code> is there or not. Also, many Perl operators work on <code>$_</code> by default, which allows you to write a few lines of code without explicitly mentioning a variable</p>\n\n<p>But <code>m?...?</code> is an old-fashioned construct that has really been edged out by <em>lexical variables</em>. If you declare a variable using <code>my</code> then there is no need for the one-shot match, or the corresponding <code>reset</code> operator. It is your declaration that defines the lifetime of the variable</p>\n\n<p>If you are just starting with Perl, I recommend that you</p>\n\n<ul>\n<li><p><strong><em>Always</em></strong> start <em>every</em> program with <code>use strict</code> and <code>use warnings 'all'</code>. This isn't optional as it's the first line of defence against simple mistakes and errors</p></li>\n<li><p><strong><em>Always</em></strong> declare every variable using <code>my</code> as close as possible to its first use. Occasionally you may want to declare variables before a loop so that its value is kept across iterations, but generally variables should be temporary and useful only for a few lines of code</p></li>\n<li><p>Forget about <code>m?...?</code>. I have never seen a program that uses it in twenty years of writing Perl professionally</p></li>\n</ul>\n\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 23, "user_id": 1383816, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c23783cfd40a2c207bb08ffedffbd251?s=128&d=identicon&r=PG", "display_name": "sampath", "link": "https://stackoverflow.com/users/1383816/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1492775665, "creation_date": 1492616390, "last_edit_date": 1492621960, "question_id": 43500295, "link": "https://stackoverflow.com/questions/43500295/the-pattern-operator-is-not-working-for-matching-only-once-in-perl", "title": "The ?PATTERN? operator is not working for Matching Only Once in Perl", "body": "<p>I am new to Perl and am practising some programs. I have encountered a syntax error. Please help me.</p>\n\n<h3>My Perl program</h3>\n\n<pre><code>#!/usr/bin/perl\n\n@list = qw/ food foosball subeo footnote terfoot canic footbridge /;\n\nforeach ( @list ) {\n    $first = $1 if ?(foo.*)?;\n    $last  = $1 if /(foo.*)/;\n}\n\nprint \"First: $first, Last: $last\\n\";\n</code></pre>\n\n<h3>Output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>syntax error at MatchingOnlyOnce.pl line 9, near \"if ?\"\nExecution of MatchingOnlyOnce.pl aborted due to compilation errors.\n</code></pre>\n\n<h3>Output of <code>perl -v</code></h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>This is perl 5, version 24, subversion 1 (v5.24.1) built for MSWin32-x64-multi-t\nhread\n\nCopyright 1987-2017, Larry Wall\n\nPerl may be copied only under the terms of either the Artistic License or the\nGNU General Public License, which may be found in the Perl 5 source kit.\n\nComplete documentation for Perl, including FAQ lists, should be found on\nthis system using \"man perl\" or \"perldoc perl\".  If you have access to the\nInternet, point your browser at http://www.perl.org/, the Perl Home Page.\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492616847, "post_id": 43499945, "comment_id": 74055039, "body": "Can you install additional modules? If so, look at Capture::Tiny."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492617249, "post_id": 43499945, "comment_id": 74055312, "body": "See also <a href=\"https://metacpan.org/pod/IPC::Open3\" rel=\"nofollow noreferrer\"><code>IPC::Open3</code></a> and <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\"><code>IPC::Run3</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1492618215, "post_id": 43500790, "comment_id": 74055983, "body": "Can you pass <code>$cmd</code> as a list or do you need to sanitize the input?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1492618262, "post_id": 43500790, "comment_id": 74056014, "body": "Yes I think you can pass it as a list, exactly as for the <code>system</code> command, and the shell will not be invoked"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1492619781, "post_id": 43500790, "comment_id": 74057056, "body": "@mob, You can pass an array ref to avoid the shell. For example, <code>my $cmd = [ $prog, @args ]</code> won&#39;t use the shell (even if <code>@args</code> is empty)."}, {"owner": {"reputation": 841, "user_id": 1780027, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fb6924b550df2f89c44647f0a8be19?s=128&d=identicon&r=PG", "display_name": "FredMan", "link": "https://stackoverflow.com/users/1780027/fredman"}, "edited": false, "score": 0, "creation_date": 1492621163, "post_id": 43500790, "comment_id": 74057986, "body": "I wound up using open3 and having stderr and stdout exist in the same var, but this run3 would have worked as well."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 841, "user_id": 1780027, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fb6924b550df2f89c44647f0a8be19?s=128&d=identicon&r=PG", "display_name": "FredMan", "link": "https://stackoverflow.com/users/1780027/fredman"}, "edited": false, "score": 1, "creation_date": 1492621623, "post_id": 43500790, "comment_id": 74058296, "body": "@FredMan. If you used <code>open3</code> to capture the child&#39;s STDOUT and STDERR separately, I bet your code is buggy. Specifically, I bet you have a race condition that can lead to a deadlock. Did you use threads or IO::Select or non-blocking reads?"}, {"owner": {"reputation": 841, "user_id": 1780027, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fb6924b550df2f89c44647f0a8be19?s=128&d=identicon&r=PG", "display_name": "FredMan", "link": "https://stackoverflow.com/users/1780027/fredman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492627395, "post_id": 43500790, "comment_id": 74061827, "body": "@ikegami I didn&#39;t capture it separately.  I set the third parameter to undef so that err and out would go to the same variable."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 841, "user_id": 1780027, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fb6924b550df2f89c44647f0a8be19?s=128&d=identicon&r=PG", "display_name": "FredMan", "link": "https://stackoverflow.com/users/1780027/fredman"}, "edited": false, "score": 0, "creation_date": 1492627896, "post_id": 43500790, "comment_id": 74062129, "body": "@FredMan , That&#39;s fine then :) Could also have used <code>use String::ShellQuote qw( shell_quote ); open(my $pipe, &#39;-|&#39;, shell_quote($prog, @args) . &quot; 2&gt;&amp;1&quot;);</code>"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 4, "last_activity_date": 1492618537, "last_edit_date": 1492618537, "creation_date": 1492617880, "answer_id": 43500790, "question_id": 43499945, "link": "https://stackoverflow.com/questions/43499945/redirect-stderr-in-open-pipe-comand-perl-linux/43500790#43500790", "title": "Redirect STDERR in OPEN pipe comand. Perl Linux", "body": "<p>I would do this using <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\"><code>IPC::Run3</code></a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IPC::Run3;\n\nrun3 ['script2.pl', '-n', $param], undef, \\my $out, \\my $err;\n</code></pre>\n\n<p>This will give you the STDERR of <code>script2.pl</code> in the variable <code>$err</code>.</p>\n\n<p>From the documentation: </p>\n\n<blockquote>\n  <p><strong>run3($cmd, $stdin, $stdout, $stderr, \\%options)</strong>  </p>\n  \n  <p>All parameters after $cmd are optional.</p>\n  \n  <p>The parameters $stdin, $stdout and $stderr indicate how the child's\n  corresponding filehandle (STDIN, STDOUT and STDERR, resp.) will be\n  redirected. Because the redirects come last, this allows STDOUT and\n  STDERR to default to the parent's by just not specifying them -- a\n  common use case.  </p>\n  \n  <p><strong>$cmd</strong></p>\n  \n  <p>Usually $cmd will be an ARRAY reference and the child is invoked via  </p>\n  \n  <p><code>system @$cmd;</code></p>\n</blockquote>\n\n<p>Note that passing <code>$cmd</code> as an array reference will avoid running the command through the shell under the same conditions as for the <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>system()</code></a> command</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1497999806, "last_edit_date": 1497999806, "creation_date": 1492619917, "answer_id": 43501427, "question_id": 43499945, "link": "https://stackoverflow.com/questions/43499945/redirect-stderr-in-open-pipe-comand-perl-linux/43501427#43501427", "title": "Redirect STDERR in OPEN pipe comand. Perl Linux", "body": "<p>If the objective is to capture streams one nice module is <a href=\"http://search.cpan.org/~dagolden/Capture-Tiny-0.46/lib/Capture/Tiny.pm\" rel=\"nofollow noreferrer\">Capture::Tiny</a></p>\n\n<pre><code>use warnings;\nuse strict;\nuse Capture::Tiny qw(capture);\n\nmy $cmd  = '/path/to/script2';\nmy @args = ('-n', $param);\n\nmy ($stdout, $stderr, $exit) = capture {\n    system($cmd, @args);\n};\n</code></pre>\n\n<p>You can put the command and arguments in a list, <code>@cmd = ('ls', '-l', './')</code>. If the command and arguments are lumped into a scalar the shell may get used (if there are shell metacharacters).</p>\n\n<p>This portable module allows you to</p>\n\n<blockquote>\n  <p>capture almost anything sent to STDOUT or STDERR, regardless of whether it comes from Perl, from XS code or from an external program.</p>\n</blockquote>\n\n<p>There is also <code>capture_stderr</code> function if you only want that stream.</p>\n\n<p>Note that many tools, including <code>system</code>, have a provision for bypassing the shell: pass command and/or arguments as a list. (However, if you need <code>STDERR</code> you cannot get it directly with <code>system</code> alone, without using shell redirection.)</p>\n\n<hr>\n\n<p>If there is a possibility that <code>@args</code> would be empty this should be invoked as</p>\n\n<pre><code>system ( {$cmd} $cmd, @args );\n</code></pre>\n\n<p>and the shell is still avoided.  A nice way to try it out is with <code>$cmd = 'echo \"From shell\"'</code>. Thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for noting all this in a comment.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow noreferrer\">exec</a> for this use of the <em>indirect object</em> notation, which</p>\n\n<blockquote>\n  <p>forces interpretation of the LIST as a multivalued list, even if there is only a single scalar in the list</p>\n</blockquote>\n\n<p>and this ensures that the shell is never called.</p>\n"}], "owner": {"reputation": 841, "user_id": 1780027, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fb6924b550df2f89c44647f0a8be19?s=128&d=identicon&r=PG", "display_name": "FredMan", "link": "https://stackoverflow.com/users/1780027/fredman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "accepted_answer_id": 43500790, "answer_count": 2, "score": 2, "last_activity_date": 1497999806, "creation_date": 1492615468, "question_id": 43499945, "link": "https://stackoverflow.com/questions/43499945/redirect-stderr-in-open-pipe-comand-perl-linux", "title": "Redirect STDERR in OPEN pipe comand. Perl Linux", "body": "<p>The version of perl I'm restricted to is v5.10.0;</p>\n\n<p>I have a script, \"script1\" that needs to call another script \"script2.\"</p>\n\n<p>In order to bypass the shell and avoid command line injection I am using \"open\" to do this in perl.</p>\n\n<p>open(my $fh, \"-|\", \"/path/to/script2\", \"-n\", \"$param\") or say \"failure $@\";</p>\n\n<p>I can not modify script2.  </p>\n\n<p>I need to get the output of the stderr from script2 into a variable in script1.</p>\n\n<p>I got the \"-|\" syntax from <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/functions/open.html</a> but the description there is mostly an example of how to do it and not what it is doing so I can't figure out how to redirect err to out or even at least redirect err to some other variable.</p>\n\n<p>I'm hoping for something that will look similar to one of these two options:</p>\n\n<pre><code># option 1)\nopen(my $fh, \"-|\", \"/path/to/script2\", \"-n\", \"$param\") or say \"failure $@\";\nwhile($line = &lt;$fh&gt;) {  # stderr and stdout are both fed to $line\n     print $line;\n}\n\n# option 2)\nopen(STDERR, \"+&lt;\", $stderr);\nopen(my $fh, \"-|\", \"/path/to/script2\", \"-n\", \"$param\") or say \"failure $@\";\nwhile($line = &lt;$fh&gt;) {  #stdout is fed to $line\n     print $line;\n}\nwhile($line = &lt;$stderr&gt;) {  #stderr from script2 is fed to $line\n     print $line;\n}\n</code></pre>\n"}, {"tags": ["perl", "sap"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492609878, "post_id": 43497650, "comment_id": 74049608, "body": "Welcome to Stack Overflow and the Perl tag. Please <a href=\"https://stackoverflow.com/posts/43497650/edit\">edit</a> your question and include a link to the module you are using. It might be <a href=\"https://metacpan.org/pod/sapnwrfc\" rel=\"nofollow noreferrer\">metacpan.org/pod/sapnwrfc</a>, but it has a very uncommon naming scheme, so better be safe then sorry."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492610102, "post_id": 43497650, "comment_id": 74049784, "body": "Does it tell you in what line that error occurs? Please include the exact error message. The part where you iterate over the data is probably interesting too. I would <i>assume</i> that if you properly read the data line-by-line, it will not eat up all your memory."}], "answers": [{"tags": [], "owner": {"reputation": 18082, "user_id": 218890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/t855u.jpg?s=128&g=1", "display_name": "vwegert", "link": "https://stackoverflow.com/users/218890/vwegert"}, "is_accepted": false, "score": 1, "last_activity_date": 1492615545, "creation_date": 1492615545, "answer_id": 43499980, "question_id": 43497650, "link": "https://stackoverflow.com/questions/43497650/perl-module-sapnwrfc-to-retrieve-data-from-a-huge-sap-table-with-rfc-read-table/43499980#43499980", "title": "Perl module sapnwrfc to retrieve data from a huge SAP table with RFC_READ_TABLE", "body": "<p>This is not what RFC_READ_TABLE is intended for. You will have to resort to some other extraction methods.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 7890117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cbe672cfbb77e83095d4e76c0f73dae?s=128&d=identicon&r=PG&f=1", "display_name": "flotux", "link": "https://stackoverflow.com/users/7890117/flotux"}, "is_accepted": false, "score": 2, "last_activity_date": 1492668828, "creation_date": 1492668828, "answer_id": 43511570, "question_id": 43497650, "link": "https://stackoverflow.com/questions/43497650/perl-module-sapnwrfc-to-retrieve-data-from-a-huge-sap-table-with-rfc-read-table/43511570#43511570", "title": "Perl module sapnwrfc to retrieve data from a huge SAP table with RFC_READ_TABLE", "body": "<p>Based on a Python code snippet on <a href=\"https://archive.sap.com/discussions/thread/3569551\" rel=\"nofollow noreferrer\">SAP SCN</a> I found a solution for my problem.</p>\n\n<p>With the import parameters ROWSKIPS and ROWCOUNT of the function module RFC_READ_MODULE I can fetch data with chunks of rows:</p>\n\n<pre><code># Meaning of ROWSKIPS and ROWCOUNT as parameters of function module RFC_READ_TABLE:\n#\n# For example, ROWSKIPS = 0, ROWCOUNT = 500 fetches first 500 records, \n# then ROWSKIPS = 501, ROWCOUNT = 500 gets next 500 records, and so on. \n# If left at 0, then no chunking is implemented. The maximum value to either of these fields is 999999.\nmy $RecordsCounter = 1;\nmy $Iteration = 0;\nmy $FetchSize = 1000;\nmy $RowSkips = 0;\nmy $RowCount = 1000;\n\n# Open RFC connection\nmy $conn = SAPNW::Rfc-&gt;rfc_connect;\n\n# Reference to function module call\nmy $rd = $conn-&gt;function_lookup(\"RFC_READ_TABLE\");\n\n# Reference to later function module call\nmy $rc;\n\n# Loop to get data out of table in several chunks\nwhile ($RecordsCounter &gt; 0){\n\n    # Calculate the already retrieved rows that need to be skipped\n    $RowSkips = $Iteration * $FetchSize;\n\n    # Reference to function module call\n    $rc = $rd-&gt;create_function_call;\n\n    # Table where data needs to be extracted\n    $rc-&gt;QUERY_TABLE(\"/PLMB/AUTH_OBSID\");\n\n    # Delimeter between columns\n    $rc-&gt;DELIMITER(\"@\");\n\n    # Columns to be retrieved\n    $rc-&gt;FIELDS([ {'FIELDNAME' =&gt; 'OBJECT_ID'}, {'FIELDNAME' =&gt; 'SID'} ]);\n\n    # SELECT criteria\n    $rc-&gt;OPTIONS([{'TEXT' =&gt; 'OBJ_TYPE = \\'PLM_DIR\\''}]);\n\n    # Define number of data to be retrieved\n    $rc-&gt;ROWCOUNT($RowCount);\n\n    # Define number of rows to be skipped that have been retrieved in the previous fetch\n    $rc-&gt;ROWSKIPS($RowSkips);\n\n    # Function call\n    $rc-&gt;invoke;\n\n    $Iteration++;\n\n    # Data retrieved        \n    if(defined $rc-&gt;DATA-&gt;[0]){ \n\n      print \"Fetch $Iteration\\n\";\n\n      foreach my $TableLine ( @{ $rc-&gt;DATA } ) {\n        print \"$TableLine-&gt;{WA}\\n\";\n      }\n\n  }\n\n  # No more data to retrieve\n  else{\n\n    # Leave loop\n    $RecordsCounter = 0;\n  }\n\n}\n\n# Disconnect RFC connection\n$conn-&gt;disconnect;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 7890117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cbe672cfbb77e83095d4e76c0f73dae?s=128&d=identicon&r=PG&f=1", "display_name": "flotux", "link": "https://stackoverflow.com/users/7890117/flotux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1523542651, "creation_date": 1492609683, "last_edit_date": 1492615238, "question_id": 43497650, "link": "https://stackoverflow.com/questions/43497650/perl-module-sapnwrfc-to-retrieve-data-from-a-huge-sap-table-with-rfc-read-table", "title": "Perl module sapnwrfc to retrieve data from a huge SAP table with RFC_READ_TABLE", "body": "<p>I'd like to use the Perl module <a href=\"http://search.cpan.org/~piers/sapnwrfc/\" rel=\"nofollow noreferrer\">sapnwrfc</a> to retrieve data from a big SAP table (several million entries) to export it to a CSV file.</p>\n\n<p>The idea was to use the function module RFC_READ_TABLE as following:</p>\n\n<pre><code># Connect to SAP system\n# [...]\nmy $rd = $conn-&gt;function_lookup(\"RFC_READ_TABLE\");\nmy $rc = $rd-&gt;create_function_call;\n$rc-&gt;QUERY_TABLE(\"/PLMB/AUTH_OBSID\");\n$rc-&gt;DELIMITER(\"@\");\n$rc-&gt;FIELDS([ {'FIELDNAME' =&gt; 'OBJECT_ID'}, {'FIELDNAME' =&gt; 'SID'} ]);\n$rc-&gt;OPTIONS([{'TEXT' =&gt; 'OBJ_TYPE = \\'PLM_DIR\\''}]);  \n$rc-&gt;invoke;\n\n# Iterate over $rc-DATA and export it to CSV file\n# [...]\n$conn-&gt;disconnect;\n</code></pre>\n\n<p>The problem is that the script terminates with an out of memory error because the retrieved data exceeds the existing memory.</p>\n\n<p>Is there a possibility to avoid this problem like a paging mechanism or something like that?</p>\n"}, {"tags": ["python", "perl", "dictionary", "data-structures", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492605983, "post_id": 43496148, "comment_id": 74046566, "body": "Convert it to a format that you can read and write in both worlds, like JSON. Also, if there are only three of them, then you are already done, as you&#39;ve done it by hand in your question. :D"}, {"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 3, "creation_date": 1492606061, "post_id": 43496148, "comment_id": 74046622, "body": "Are you sure? You can&#39;t have a python <code>dict</code> with non-unique keys."}], "owner": {"reputation": 1, "user_id": 7844921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9854d43f88ab9e1d672f4c2ce046f59?s=128&d=identicon&r=PG&f=1", "display_name": "sanjaymaniac", "link": "https://stackoverflow.com/users/7844921/sanjaymaniac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "closed_date": 1492606018, "answer_count": 0, "score": 0, "last_activity_date": 1492612394, "creation_date": 1492605902, "last_edit_date": 1492612394, "question_id": 43496148, "link": "https://stackoverflow.com/questions/43496148/convert-perl-hash-with-multiple-values-into-python-dict", "closed_reason": "Duplicate", "title": "Convert perl hash with multiple values into python dict", "body": "<p>I have a perl file named ips.pl at <code>C:\\Perl\\test\\ips.pl</code> which contains 6 perl hashes. Each hash contains 1 key and 2 values.\nThe file contains below data.</p>\n\n<pre><code>{\n '192.168.111.1' =&gt; [\n            '192.168.111.2',\n            '192.168.111.3',\n ],\n\n '192.168.111.4'  =&gt;  [\n                    '192.168.111.5',\n                    '192.168.111.6',\n ],\n\n '192.168.111.7' =&gt; [\n                     '192.168.111.8',\n                     '192.168.111.9',\n ],\n}\n</code></pre>\n\n<p>How Can I convert this perl file to python readable? I need result in 3 separate Python Dict. The required result should be like</p>\n\n<pre><code>dict1 = {'192.168.111.1': '192.168.111.2'}\ndict2 = {'192.168.111.1': '192.168.111.3'}\ndict3 = {'192.168.111.4': '192.168.111.5'}\ndict4 = {'192.168.111.4': '192.168.111.6'}\ndict5 = {'192.168.111.7': '192.168.111.8'}\ndict6 = {'192.168.111.7': '192.168.111.9'}\n</code></pre>\n\n<p>As am new to both perl and python, please suggest me any module which will be a easy solution for me. In case we dont have any such module then please suggest me the steps. Thanks in advance</p>\n\n<p>I tried with below code,</p>\n\n<pre><code>import re\nclass PerlLikeDict( dict ):\npattern_type= type(re.compile(\"\"))\ndef getitem(self, key):\n    F = open(\"resources.pl\", \"r+\")\n    print \"value of F object is\", F\n    print \"type of object is \", type(F)\n    rd=str(F.read())\n    print \"value of string variable rd is\", rd\n    #print \"value of 1st is\", rd[1]\n    #print dict_rd == dict(rd)\n    if key in self:\n        return super( PerlLikeDict, self ).__getitem__( key )\n    for k in self:\n        if type(k) == self.pattern_type:\n            if k.match(key):\n                return self[k]\n    raise KeyError( \"key %r not found\" % ( key, ) )\n\nF = open(\"resources.pl\", \"r+\")\nrd=str(F.read())\nprint \"able to read the file\", rd\nx=PerlLikeDict(rd)\nprint x\n</code></pre>\n\n<p>This is giving error</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Users\\sanjaya.sahoo\\workspace\\my python \nlearning\\src\\workon_local_perlfile.py\", line 23, in &lt;module&gt;\nx=PerlLikeDict(rd)\nValueError: dictionary update sequence element #0 has length 1; 2 is required\n</code></pre>\n"}, {"tags": ["perl", "ubuntu-16.04", "cpan"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492607221, "post_id": 43495396, "comment_id": 74047453, "body": "The module is called <code>Crypt::TEA</code>, not <code>Crypt::Tea</code>. Module names are <b>case-sensitive</b>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492607353, "post_id": 43495396, "comment_id": 74047542, "body": "Nonetheless, the installation for 1.25 fails for me on Perl 5.20.1. I&#39;m on Ubuntu 16.04 too, but my Perl is not the system Perl, so that doesn&#39;t matter. Looks like it stopped working with 5.18: <a href=\"http://matrix.cpantesters.org/?dist=Crypt-TEA+1.25\" rel=\"nofollow noreferrer\">matrix.cpantesters.org/?dist=Crypt-TEA+1.25</a>"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1492617493, "post_id": 43495396, "comment_id": 74055496, "body": "This lib hasn&#39;t changed since 2001, I&#39;m curious, what are you using it for?"}, {"owner": {"reputation": 3577, "user_id": 1328605, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e9acb25cf8f950bf366c68daf06eac7b?s=128&d=identicon&r=PG", "display_name": "Anil", "link": "https://stackoverflow.com/users/1328605/anil"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1492668666, "post_id": 43495396, "comment_id": 74076848, "body": "@Dr.Avalanche, yew this is very old code and its using <code>&amp;encrypt($myjson, $myclient-&gt;{key})</code>"}, {"owner": {"reputation": 3577, "user_id": 1328605, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e9acb25cf8f950bf366c68daf06eac7b?s=128&d=identicon&r=PG", "display_name": "Anil", "link": "https://stackoverflow.com/users/1328605/anil"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492669754, "post_id": 43495396, "comment_id": 74077439, "body": "@simbabque, thank you very much for correcting me, I have updated my question."}, {"owner": {"reputation": 3577, "user_id": 1328605, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e9acb25cf8f950bf366c68daf06eac7b?s=128&d=identicon&r=PG", "display_name": "Anil", "link": "https://stackoverflow.com/users/1328605/anil"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492670609, "post_id": 43495396, "comment_id": 74077938, "body": "@simbabque, I think Crypt::Tea is obsolete now, refer Credit section <code>Based on Crypt::Tea_JS (and, in Old-mode, Crypt::Tea)</code> of <a href=\"http://search.cpan.org/~pjb/Crypt-Tea_JS-2.23/bin/tea\" rel=\"nofollow noreferrer\">search.cpan.org/~pjb/Crypt-Tea_JS-2.23/bin/tea</a>, now its became Crypt::Tea_JS."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492675405, "post_id": 43495396, "comment_id": 74080894, "body": "So did you figure this out?"}, {"owner": {"reputation": 3577, "user_id": 1328605, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e9acb25cf8f950bf366c68daf06eac7b?s=128&d=identicon&r=PG", "display_name": "Anil", "link": "https://stackoverflow.com/users/1328605/anil"}, "edited": false, "score": 0, "creation_date": 1492678207, "post_id": 43495396, "comment_id": 74082583, "body": "Now I am using Crypt::Tea_JS and its working, I have also find out the older version Crypt::Tea, its now in backpan <a href=\"http://backpan.perl.org/authors/id/P/PJ/PJB/Crypt-Tea-2.12.tar.gz\" rel=\"nofollow noreferrer\">backpan.perl.org/authors/id/P/PJ/PJB/Crypt-Tea-2.12.tar.gz</a>."}], "owner": {"reputation": 3577, "user_id": 1328605, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e9acb25cf8f950bf366c68daf06eac7b?s=128&d=identicon&r=PG", "display_name": "Anil", "link": "https://stackoverflow.com/users/1328605/anil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1492669705, "creation_date": 1492603923, "last_edit_date": 1492669705, "question_id": 43495396, "link": "https://stackoverflow.com/questions/43495396/crypttea-installation-error-finding-crypttea-on-cpanmetadb-failed", "title": "Crypt::Tea installation error: Finding Crypt::Tea on cpanmetadb failed", "body": "<p>I am struggling to up my system after updating the <code>Ubuntu</code> from <code>14.04</code> to <code>16.04</code>, A module <code>Crypt::Tea</code> (<a href=\"https://metacpan.org/pod/Crypt::TEA\" rel=\"nofollow noreferrer\">not referring this one with Crypt::TEA)</a> is not getting installed. Its 32bit OS. </p>\n\n<p>Command <code>cpanm Crypt::Tea</code> getting following error.</p>\n\n<p><code>$ sudo cpanm Crypt::Tea\n! Finding Crypt::Tea on cpanmetadb failed.\n! Finding Crypt::Tea () on mirror http://www.cpan.org failed.\n! Couldn't find module or a distribution Crypt::Tea\n</code>\nNow the perl version is <code>5.22.1</code>.</p>\n\n<p>It was working with <code>perl 5.18</code> and <code>Ubuntu 14.04</code>.\nNeed help to resolve this to make available following routine.</p>\n\n<p><code>&amp;encrypt($myjson, $myclient-&gt;{key});</code></p>\n"}, {"tags": ["perl", "perl-packager", "perl2exe"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492603858, "post_id": 43494902, "comment_id": 74044915, "body": "Works fine on Ubuntu 16.10, perl version 5.24.1"}, {"owner": {"reputation": 1, "user_id": 6341868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFDc5.jpg?s=128&g=1", "display_name": "Timo Karhu", "link": "https://stackoverflow.com/users/6341868/timo-karhu"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1492604255, "post_id": 43494902, "comment_id": 74045205, "body": "Oh dear, I was afraid of this. Needed to go down from Perl 5.24.1 64bit to 32bit and finally to 5.22.3 32bit to get cpan to compile pp, which I thought was the best shot to solve this after perl2exe gave same error. Unfortunately I need to stick with Windows perl as the server where I want the tool to run is a Windows. I need to go down the path to test Strawberry perl I guess. And I picked perl for this &quot;as it&#39;s the easiest to get the job done&quot;. Life is.."}, {"owner": {"reputation": 1, "user_id": 6341868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFDc5.jpg?s=128&g=1", "display_name": "Timo Karhu", "link": "https://stackoverflow.com/users/6341868/timo-karhu"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1492610107, "post_id": 43494902, "comment_id": 74049786, "body": "My God! I stared my example and remembered my first pp EXE attemps whining about shebang character where I had linux style forward slashes. Changed them to backslashes and got rid of it. While staring at sheband I thought, does it make any change to put a real path there, in my case c:\\perl\\bin. No other change than now BOTH work pl and pp&#39;d test.exe. I knew it was something simple. Why? No idea and I&#39;m fine having the tool working as EXE now!!"}, {"owner": {"reputation": 1, "user_id": 6341868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFDc5.jpg?s=128&g=1", "display_name": "Timo Karhu", "link": "https://stackoverflow.com/users/6341868/timo-karhu"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492610883, "post_id": 43494902, "comment_id": 74050455, "body": "No, It wasn&#39;t the shebang. Adding -x to pp parameters seems to have resolved the issue. Why? No idea.. e.g &quot;pp -x -o test.exe test.pl&quot; works."}], "owner": {"reputation": 1, "user_id": 6341868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFDc5.jpg?s=128&g=1", "display_name": "Timo Karhu", "link": "https://stackoverflow.com/users/6341868/timo-karhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1492611018, "creation_date": 1492602509, "last_edit_date": 1492611018, "question_id": 43494902, "link": "https://stackoverflow.com/questions/43494902/perl-scalar-found-where-operator-expected-at-script", "title": "perl: Scalar found where operator expected at script", "body": "<p>cannot find answer in Google, nor figure it out myself.\nWin7 64bit\nThis is perl 5, version 22, subversion 3 (v5.22.3) built for MSWin32-x86-multi-thread-64int from Active State\nwith modules List::BinarySearch and PAR::Packer installed with cpan</p>\n\n<p>Idea is to edit a text file and add numbers in sorted order. Below is a short version just to reproduce the problem.</p>\n\n<p>Problem: binsearch_pos works when I run the script as pl but fails when I make a standalone EXE out of it.</p>\n\n<p>Code to reproduce:</p>\n\n<pre><code>    #!\\usr\\bin\\perl\nuse strict;\nuse warnings;\nuse List::BinarySearch qw/binsearch_pos/;\n\nmy @numbers=(0,1,2,4,5,6);\nprint @numbers;\nprint \"\\n\";\n@numbers=searchandadd(\\@numbers,3);\nprint @numbers;\n\n#search right idx and add value\nsub searchandadd {\n    my ($array, $add) = @_;\n    my @array = @{$array};\n    my @sorted = sort { $a &lt;=&gt; $b } @array;\n    my $idx = binsearch_pos { $a &lt;=&gt; $b } $add, @sorted;\n    if (0+@sorted == $idx) {\n        splice @sorted, $idx, 0, $add;\n    } else {\n        splice @sorted, $idx, 0, $add\n        if $sorted[$idx] ne $add;\n    }\n    return @sorted;\n}\n</code></pre>\n\n<p>Expected output (from test.pl currently):</p>\n\n<blockquote>\n  <p>C:\\Users\\timo>test.pl 012456 0123456</p>\n</blockquote>\n\n<p>EXE creation:\npp -o test.exe test.pl</p>\n\n<p>EXE output:</p>\n\n<blockquote>\n  <p>C:\\Users\\timo>test.exe\n  <em>Scalar found where operator expected at script</em>/test.pl line 17, near \"} $add\"\n          (Missing operator before  $add?) syntax error at script/test.pl line 17, near \"} $add\" Global symbol \"$idx\" requires\n  explicit package name (did you forget to declare \"my $idx\"?) at\n  script/test.pl line 18. Global symbol \"$idx\" requires explicit package\n  name (did you forget to declare \"my $idx\"?) at script/test.pl line 19.\n  Global symbol \"$idx\" requires explicit package name (did you forget to\n  declare \"my $idx\"?) at script/test.pl line 21. Global symbol \"$idx\"\n  requires explicit package name (did you forget to declare \"my $idx\"?)\n  at script/test.pl line 22.</p>\n</blockquote>\n\n<p>I get same error when EXE made with perl2exe or pp. Could this be because there is some other version of binsearch_pos lurking somewhere?</p>\n\n<p>I'm lost.</p>\n\n<p>BR,\nTimo</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1492601892, "post_id": 43494625, "comment_id": 74043545, "body": "the line <code>if (length ($line &#47;&#47; &#39;&#39;))</code>  is the Problem. What should it be?"}, {"owner": {"reputation": 689, "user_id": 1307324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/609c8922e01033cab1a1ac0428abc7fe?s=128&d=identicon&r=PG", "display_name": "Undefined Behaviour", "link": "https://stackoverflow.com/users/1307324/undefined-behaviour"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1492601933, "post_id": 43494625, "comment_id": 74043570, "body": "@Jens this line is to skip empty line in file"}], "answers": [{"comments": [{"owner": {"reputation": 689, "user_id": 1307324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/609c8922e01033cab1a1ac0428abc7fe?s=128&d=identicon&r=PG", "display_name": "Undefined Behaviour", "link": "https://stackoverflow.com/users/1307324/undefined-behaviour"}, "edited": false, "score": 0, "creation_date": 1492606208, "post_id": 43494980, "comment_id": 74046707, "body": "Perl version -&gt;  This is perl, v5.8.8 built for x86_64-linux-thread-multi"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 689, "user_id": 1307324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/609c8922e01033cab1a1ac0428abc7fe?s=128&d=identicon&r=PG", "display_name": "Undefined Behaviour", "link": "https://stackoverflow.com/users/1307324/undefined-behaviour"}, "edited": false, "score": 0, "creation_date": 1492613802, "post_id": 43494980, "comment_id": 74052859, "body": "@UndefinedBehaviour: Perl v5.8.8 was released over eleven years ago. Time for an update perhaps?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1492602708, "creation_date": 1492602708, "answer_id": 43494980, "question_id": 43494625, "link": "https://stackoverflow.com/questions/43494625/search-pattern-not-terminated-at-filename-pl-line-15/43494980#43494980", "title": "Search pattern not terminated at filename.pl line 15", "body": "<p>The script misses <code>use 5.010;</code> or <code>use Syntax::Construct '//';</code>. Your Perl version is probably too old and doesn't support the \"defined-or\" operator <code>//</code>.</p>\n\n<p>The exact equivalent would be</p>\n\n<pre><code>if (length (defined($line) ? $line : ''))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1492606400, "creation_date": 1492606400, "answer_id": 43496346, "question_id": 43494625, "link": "https://stackoverflow.com/questions/43494625/search-pattern-not-terminated-at-filename-pl-line-15/43496346#43496346", "title": "Search pattern not terminated at filename.pl line 15", "body": "<p>You are using a version of Perl earlier that v5.10 when the defined-or operator <code>//</code> was introduced, so Perl is treating <code>//</code> as an empty regex pattern </p>\n\n<p>Instead of</p>\n\n<pre><code>if ( length ($line // '') ) { ... }\n</code></pre>\n\n<p>use</p>\n\n<pre><code>if ( $line =~ /\\S/ ) { ... }\n</code></pre>\n\n<p>which also rejects lines consisting only of whitespace characters</p>\n"}], "owner": {"reputation": 689, "user_id": 1307324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/609c8922e01033cab1a1ac0428abc7fe?s=128&d=identicon&r=PG", "display_name": "Undefined Behaviour", "link": "https://stackoverflow.com/users/1307324/undefined-behaviour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1374, "favorite_count": 0, "accepted_answer_id": 43494980, "answer_count": 2, "score": 0, "last_activity_date": 1492606400, "creation_date": 1492601772, "last_edit_date": 1495540465, "question_id": 43494625, "link": "https://stackoverflow.com/questions/43494625/search-pattern-not-terminated-at-filename-pl-line-15", "title": "Search pattern not terminated at filename.pl line 15", "body": "<p><a href=\"https://stackoverflow.com/questions/10299213/search-pattern-not-terminated-in-perl\">Search pattern not terminated in Perl</a>\nThis link is not useful for me.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n#FILE_HANDLE -&gt; name used like that because of Bareword\n#open file passed as argument\nopen FILE_HANDLE, \"&lt;\", \"$ARGV[0]\" or die $!;\n\n#reading file line by line\nwhile (&lt;FILE_HANDLE&gt;)\n{\n    my $var = \"Var\";\n    my $line = $_ if /\\b$var\\b/;\n    #empty string check for $line\n    if (length ($line // ''))\n    {\n        #spliting the string on the basis of space delimiter and stroing in array\n        my @lineWords=split (' ', $line);\n        my $signalname=\"$lineWords[2]\";\n        my $suffix=\"$lineWords[3]\";\n        my $compareWord='l:-1';\n        my $i=3;\n        while ($suffix ne $compareWord)\n        {\n            $i++;\n            $signalname .= $suffix;\n            $suffix=\"$lineWords[$i]\";\n        }\n        $i += 3;\n        print \"$signalname $lineWords[$i]\\n\";\n    }\n}\nclose FILE_HANDLE;\n</code></pre>\n\n<p>In this perl script, I am getting following error :</p>\n\n<blockquote>\n  <p>Search pattern not terminated at\n  CreateNameId.pl line\n  15.</p>\n</blockquote>\n\n<p>This script worked well with some files but give above error for some files.</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4600161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8b0fe14fa6f3f490a15e4aaea8d3f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Bose", "link": "https://stackoverflow.com/users/4600161/kaushik-bose"}, "edited": false, "score": 0, "creation_date": 1492627549, "post_id": 43494699, "comment_id": 74061931, "body": "The Regex provided yielded exactly same results and didn&#39;t worked"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": false, "score": 3, "last_activity_date": 1492603649, "last_edit_date": 1492603649, "creation_date": 1492601968, "answer_id": 43494699, "question_id": 43494611, "link": "https://stackoverflow.com/questions/43494611/appending-values-to-hash-if-key-is-same-in-perl/43494699#43494699", "title": "Appending values to Hash if key is same in Perl", "body": "<p><strong>Your program is behaving correctly, but you are printing the current state of the entire hash after you process each line.</strong></p>\n\n<p>Therefore you are printing hash keys before they have the complete set of values, and you have many duplicated lines.</p>\n\n<p>If you move the <code>foreach</code> loop that prints to the end of your program (or simply use the debugger to inspect the variables) you will find that the final state of the hash is exactly what you expect.</p>\n\n<hr>\n\n<p><strong>Edit:</strong> I previously thought the problem was the below, but it's because I misread the sample data in your question.</p>\n\n<p>This regular expression is not ideal:</p>\n\n<pre><code>if (/(.*),.*,.*,.*,(.*),.*/) {\n</code></pre>\n\n<p>The <code>.*</code> is greedy and will match as much as possible (including some content with commas).  So if any line contains more than six comma-separated items, more than one item will be included in the first matching group.  This may not be a problem in your actual data, but it's not an ideal way to write the code.  The expression is more ambiguous than necessary.</p>\n\n<p>It would be better written like this:</p>\n\n<pre><code>if (/^([^,]*),[^,]*,[^,]*,[^,]*,([^,]*),[^,]*$/) {\n</code></pre>\n\n<p>Which would only match lines with exactly six items.</p>\n\n<p>Or consider using split on the input line, which would be a cleaner solution.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 4600161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8b0fe14fa6f3f490a15e4aaea8d3f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Bose", "link": "https://stackoverflow.com/users/4600161/kaushik-bose"}, "edited": false, "score": 0, "creation_date": 1492668320, "post_id": 43496609, "comment_id": 74076674, "body": "This worked for me. However I do have to remove strict."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 71, "user_id": 4600161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8b0fe14fa6f3f490a15e4aaea8d3f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Bose", "link": "https://stackoverflow.com/users/4600161/kaushik-bose"}, "edited": false, "score": 0, "creation_date": 1492683972, "post_id": 43496609, "comment_id": 74086729, "body": "@KaushikBose: You must <i>never</i> remove <code>use strict</code>. It is there to tell you about mistakes in your code, and you should <i>fix those mistakes</i> rather than remove the advice it&#39;s giving you. You probably just need to declare a variable at the appropriate scope."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1492607065, "creation_date": 1492607065, "answer_id": 43496609, "question_id": 43494611, "link": "https://stackoverflow.com/questions/43494611/appending-values-to-hash-if-key-is-same-in-perl/43496609#43496609", "title": "Appending values to Hash if key is same in Perl", "body": "\n\n<p>This is much simpler than you have made it. You can just split each line into fields and use <code>push</code> to add the value to the list corresponding to the key</p>\n\n<p>I trust you can modify this to read from an external file instead of the <code>DATA</code> file handle?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy %data;\n\nwhile ( &lt;DATA&gt; ) {\n    my @fields = split /,/;\n    push @{ $data{$fields[0]} }, $fields[-2];\n}\n\nfor my $key ( sort keys %data ) {\n    print join(',', $key, @{ $data{$key} }), \"\\n\";\n}\n\n__DATA__\n3ssdwyeim3,3ssdwyeic9,2017-03-16,09:10:35.372,0.476,EndInbound\n3ssdwyeim3,3ssdwyfyyn,2017-03-16,09:10:35.369,0.421,EndOutbound\n3ssdwyfxc0,3ssdwyfxfi,2017-03-16,09:10:35.456,0.509,EndInbound\n3ssdwyfxc0,3ssdwyhg0v,2017-03-16,09:10:35.453,0.436,EndOutbound\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>3ssdwyeim3,0.476,0.421\n3ssdwyfxc0,0.509,0.436\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4600161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8b0fe14fa6f3f490a15e4aaea8d3f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Bose", "link": "https://stackoverflow.com/users/4600161/kaushik-bose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 43496609, "answer_count": 2, "score": 1, "last_activity_date": 1492607410, "creation_date": 1492601727, "last_edit_date": 1492607410, "question_id": 43494611, "link": "https://stackoverflow.com/questions/43494611/appending-values-to-hash-if-key-is-same-in-perl", "title": "Appending values to Hash if key is same in Perl", "body": "<p></p>\n\n<p>Problem is to read a file with value at every new line. Content of file looks like</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>3ssdwyeim3,3ssdwyeic9,2017-03-16,09:10:35.372,0.476,EndInbound\n3ssdwyeim3,3ssdwyfyyn,2017-03-16,09:10:35.369,0.421,EndOutbound\n3ssdwyfxc0,3ssdwyfxfi,2017-03-16,09:10:35.456,0.509,EndInbound\n3ssdwyfxc0,3ssdwyhg0v,2017-03-16,09:10:35.453,0.436,EndOutbound\n</code></pre>\n\n<p>With the string before first comma being the Key and string in between last and second last comma the Value</p>\n\n<p>i.e. for the first line 3ssdwyeim3 becomes the key and 0.476 Value.</p>\n\n<p>Now as we are looping over each line if the key exists we have to concatenate the values separated by comma.</p>\n\n<p>Hence for the next new line as key already exists key remains <code>3ssdwyeim3</code> but the value is updated to <code>0.476,0.421.</code></p>\n\n<p>Finally we have to print the keys and values in a file.</p>\n\n<p>I have written a code to achieve the same, which is as follows.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub findbreakdown {\n    my ( $out ) = @_;\n\n    my %timeLogger;\n\n    open READ, \"out.txt\" or die \"Cannot open out.txt for read :$!\";\n\n    open OUTBD, \"&gt;$out\\_breakdown.csv\" or die \"Cannot open $out\\_breakdown.csv for write :$!\";\n\n    while ( &lt;READ&gt; ) {\n\n        if ( /(.*),.*,.*,.*,(.*),.*/ ) {\n\n            $btxnId = $1;\n            $time   = $2;\n\n            if ( !$timeLogger{$btxnId} ) {\n                $timeLogger{$btxnId} = $time;\n            }\n            else {\n                $previousValue       = $timeLogger{$btxnId};\n                $newValue            = join \",\", $previousValue, $time;\n                $timeLogger{$btxnId} = $newValue;\n            }\n        }\n\n        foreach ( sort keys %timeLogger ) {\n            print OUTBD \"$_ ,$timeLogger{$_}\\n\";\n        }\n    }\n\n    close OUTBD;\n    close READ;\n}\n</code></pre>\n\n<p>However Something is going wrong and its printing like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>3ssdwyeim3,0.476\n3ssdwyeim3,0.476,0.421\n3ssdwyeim3,0.476,0.421\n3ssdwyfxc0,0.509\n3ssdwyeim3,0.476,0.421\n3ssdwyfxc0,0.509,0.436\n3ssdwyeim3,0.476,0.421\n3ssdwyfxc0,0.509,0.436\n</code></pre>\n\n<p>Whereas expected is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>3ssdwyeim3,0.476,0.421\n3ssdwyfxc0,0.509,0.436\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1492598722, "post_id": 43493404, "comment_id": 74041231, "body": "It&#39;s unclear what you want. What output do you expect for the given input?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1492599081, "creation_date": 1492599081, "answer_id": 43493618, "question_id": 43493404, "link": "https://stackoverflow.com/questions/43493404/how-can-i-count-occurrence-of-some-word-in-each-row-by-a-perl-script/43493618#43493618", "title": "how can I count occurrence of some word in each row by a perl script?", "body": "<p>Something like this maybe?</p>\n\n<pre><code>#!/usr/bin/env perl;\nuse strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) { \n    chomp;\n    my %count_of;\n    $count_of{$_}++ for split; \n\n    print \"Row $.:\\n\";\n    foreach my $key ( sort {$count_of{$b} &lt;=&gt; $count_of{$a} } keys %count_of ) { \n       print \"\\t$key: $count_of{$key}\\n\";\n    }\n}\n\n__DATA__\n  TT      AA      TT      GG      CC      AA\n  AA      GG      CC      TT      GG      CC\n  GG      AA      TT      TT      CC      TT\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7889121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/852696836be9e8dc15f5879e387b6498?s=128&d=identicon&r=PG&f=1", "display_name": "Huan", "link": "https://stackoverflow.com/users/7889121/huan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492599081, "creation_date": 1492598521, "last_edit_date": 1492598694, "question_id": 43493404, "link": "https://stackoverflow.com/questions/43493404/how-can-i-count-occurrence-of-some-word-in-each-row-by-a-perl-script", "title": "how can I count occurrence of some word in each row by a perl script?", "body": "<p>The file contains several rows like this,</p>\n\n<pre><code>  TT      AA      TT      GG      CC      AA\n  AA      GG      CC      TT      GG      CC\n  GG      AA      TT      TT      CC      TT\n</code></pre>\n"}, {"tags": ["apache", "perl"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7888335, "user_type": "registered", "profile_image": "https://graph.facebook.com/1404592229586879/picture?type=large", "display_name": "Aditi Goyal", "link": "https://stackoverflow.com/users/7888335/aditi-goyal"}, "edited": false, "score": 0, "creation_date": 1492590655, "post_id": 43489917, "comment_id": 74035621, "body": "Sry, Placed inside &quot;/usr/lib/cgi-bin&quot; but still same 404 error"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 41, "user_id": 7888335, "user_type": "registered", "profile_image": "https://graph.facebook.com/1404592229586879/picture?type=large", "display_name": "Aditi Goyal", "link": "https://stackoverflow.com/users/7888335/aditi-goyal"}, "edited": false, "score": 0, "creation_date": 1492594134, "post_id": 43489917, "comment_id": 74037990, "body": "@AditiGoyal have th pl file execution permisssion? Please take a look into the Apache error log file if there are some entries regarding the file"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 0, "last_activity_date": 1492589044, "creation_date": 1492589044, "answer_id": 43489917, "question_id": 43489873, "link": "https://stackoverflow.com/questions/43489873/perl-script-on-apache-server/43489917#43489917", "title": "perl script on apache server", "body": "<p>Your <code>Directory</code> and <code>ScriptAlias</code> Points to <code>/usr/lib/cgi-bin</code>:</p>\n\n<p><code>&lt;Directory \"/usr/lib/cgi-bin\"&gt;</code></p>\n\n<p>not to <code>\"/var/lib/cgi-bin</code> where your script is located.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 7888335, "user_type": "registered", "profile_image": "https://graph.facebook.com/1404592229586879/picture?type=large", "display_name": "Aditi Goyal", "link": "https://stackoverflow.com/users/7888335/aditi-goyal"}, "edited": false, "score": 0, "creation_date": 1492590533, "post_id": 43489918, "comment_id": 74035543, "body": "Sry, Placed inside &quot;/usr/lib/cgi-bin&quot; but still same 404 error"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1492589045, "last_edit_date": 1592644375, "creation_date": 1492589045, "answer_id": 43489918, "question_id": 43489873, "link": "https://stackoverflow.com/questions/43489873/perl-script-on-apache-server/43489918#43489918", "title": "perl script on apache server", "body": "<blockquote>\n<pre><code>ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/\n</code></pre>\n<p>My echo.pl is placed inside &quot;/var/lib/cgi-bin&quot;</p>\n</blockquote>\n<p><code>/var/lib/cgi-bin</code> and <code>/usr/lib/cgi-bin/</code> are different directories.</p>\n"}], "owner": {"reputation": 41, "user_id": 7888335, "user_type": "registered", "profile_image": "https://graph.facebook.com/1404592229586879/picture?type=large", "display_name": "Aditi Goyal", "link": "https://stackoverflow.com/users/7888335/aditi-goyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1492589103, "creation_date": 1492588917, "last_edit_date": 1492589103, "question_id": 43489873, "link": "https://stackoverflow.com/questions/43489873/perl-script-on-apache-server", "title": "perl script on apache server", "body": "<p>getting 404 not found when hitting <a href=\"http://myServerIp/cgi-bin/echo.pl\" rel=\"nofollow noreferrer\">http://myServerIp/cgi-bin/echo.pl</a></p>\n\n<p>this is my 000-default.conf</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n        # The ServerName directive sets the request scheme, hostname and port that\n        # the server uses to identify itself. This is used when creating\n        # redirection URLs. In the context of virtual hosts, the ServerName\n        # specifies what hostname must appear in the request's Host: header to\n        # match this virtual host. For the default virtual host (this file) this\n        # value is not decisive as it is used as a last resort host regardless.\n        # However, you must set it for any further virtual host explicitly.\n        #ServerName www.example.com\n\n        ServerAdmin webmaster@localhost\n        DocumentRoot /var/www/html\n        ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/\n         &lt;Directory \"/usr/lib/cgi-bin\"&gt;\n                         AllowOverride None\n                         Options +SymLinksIfOwnerMatch +ExecCGI +Includes +IncludesNOEXEC -Indexes\n                         AddHandler cgi-script .pl\n                         Order allow,deny\n                         allow from all\n         &lt;/Directory&gt;\n\n        # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,\n        # error, crit, alert, emerg.\n        # It is also possible to configure the loglevel for particular\n        # modules, e.g.\n        #LogLevel info ssl:warn\n\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n        # For most configuration files from conf-available/, which are\n        # enabled or disabled at a global level, it is possible to\n        # include a line for only one particular virtual host. For example the\n        # following line enables the CGI configuration for this host only\n        # after it has been globally disabled with \"a2disconf\".\n        #Include conf-available/serve-cgi-bin.conf\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>vim: syntax=apache ts=4 sw=4 sts=4 sr noet</p>\n\n<p>My echo.pl is placed inside \"/var/lib/cgi-bin\"\nPlease guide me , where I m doing wrong</p>\n"}, {"tags": ["bash", "perl", "command-line"], "answers": [{"comments": [{"owner": {"reputation": 2142, "user_id": 3190306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/88gOH.png?s=128&g=1", "display_name": "Tadija Bagari\u0107", "link": "https://stackoverflow.com/users/3190306/tadija-bagari%c4%87"}, "edited": false, "score": 0, "creation_date": 1492590065, "post_id": 43489928, "comment_id": 74035234, "body": "result is: &quot;missing argument to <code>-exec</code>&quot;. I understand that this is seen as trivial to someone who know this, but this does not seem trivial to me."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1492590282, "post_id": 43489928, "comment_id": 74035376, "body": "Sounds like you forgot the <code>\\;</code> at the end."}], "tags": [], "owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1492589075, "creation_date": 1492589075, "answer_id": 43489928, "question_id": 43489839, "link": "https://stackoverflow.com/questions/43489839/add-folder-name-to-fgrep-result/43489928#43489928", "title": "Add folder name to fgrep result", "body": "<p>If you use <a href=\"https://linux.die.net/man/1/find\" rel=\"nofollow noreferrer\"><code>find</code></a> to do the recursion then you can get the path for each match, e.g.</p>\n\n<pre><code>find . -name \\*.txt -exec grep \"Print ended\" {} /dev/null \\;\n</code></pre>\n\n<p>Obviously you can pipe the output of this into any further processing you might need to get the results in your required format, but this should be trivial to do.</p>\n"}, {"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1492590323, "post_id": 43490308, "comment_id": 74035396, "body": "<code>grep -F</code> is the modern equivalent to <code>fgrep</code> but both should work."}, {"owner": {"reputation": 2142, "user_id": 3190306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/88gOH.png?s=128&g=1", "display_name": "Tadija Bagari\u0107", "link": "https://stackoverflow.com/users/3190306/tadija-bagari%c4%87"}, "edited": false, "score": 0, "creation_date": 1492591324, "post_id": 43490308, "comment_id": 74036038, "body": "Thank you for your explanation. Could you show me how to edit the command <code>fgrep &quot;Print ended&quot; *.txt -a</code> to include described folder names? And from what location should I execute the command?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 2142, "user_id": 3190306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/88gOH.png?s=128&g=1", "display_name": "Tadija Bagari\u0107", "link": "https://stackoverflow.com/users/3190306/tadija-bagari%c4%87"}, "edited": false, "score": 0, "creation_date": 1492591383, "post_id": 43490308, "comment_id": 74036075, "body": "That&#39;s literally the very first sentence of this answer and the example which follows.  When you run <code>grep</code> on multiple files, it prints the matched file&#39;s name in front of each match, in exactly the form that you passed it in.  So pass it a bunch of file names with the folder structure and that&#39;s what it will print. (Sometimes we add <code>&#47;dev&#47;null</code> to force there to be more than one file name; equivalently, <code>grep -H</code> forces the file name to be printed.)"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 1, "last_activity_date": 1492591348, "last_edit_date": 1492591348, "creation_date": 1492590267, "answer_id": 43490308, "question_id": 43489839, "link": "https://stackoverflow.com/questions/43489839/add-folder-name-to-fgrep-result/43490308#43490308", "title": "Add folder name to fgrep result", "body": "<p>Grepping all the files from the root folder will naturally produce the full path name in front of each match.</p>\n\n<pre><code>cd ../..\ngrep -Fa \"Print ended\" */*/*.txt | ...\n</code></pre>\n\n<p>If the wildcard is too broad, the trivial fix is to tighten it.  Your example would match <code>folder_[12]/subfolder_[12]/*.txt</code> but I guess in reality your paths are possibly a bit more complex than that.  Bash allows for brace expansion like <code>{this,other}/{one,two}/*.txt</code> which expands to <code>this/one/*.txt</code>, <code>other/one/*.txt</code>, <code>this/two/*.txt</code>, <code>other/two/*.txt</code>.</p>\n\n<p>It's not clear what exactly your <code>grep | awk | cut | perl</code> pipeline does but I guess it will need some adjustment.  Generally, anything that looks like <code>grep | awk</code> probably should be reimplemented in Awk or Perl altogether.</p>\n\n<pre><code>perl -lnae 'print(join(\" \", \"TEST\", split(\"/\", $ARGV), $F[0], $F[2]))\n     if /Print ended/' */*/*.txt\n</code></pre>\n\n<p>Splitting the relative file name in <code>$ARGV</code> on slashes and joining with spaces seems counter to reason, but produces the result you are asking about.</p>\n"}], "owner": {"reputation": 2142, "user_id": 3190306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/88gOH.png?s=128&g=1", "display_name": "Tadija Bagari\u0107", "link": "https://stackoverflow.com/users/3190306/tadija-bagari%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 43490308, "answer_count": 2, "score": 0, "last_activity_date": 1492591348, "creation_date": 1492588784, "last_edit_date": 1492590428, "question_id": 43489839, "link": "https://stackoverflow.com/questions/43489839/add-folder-name-to-fgrep-result", "title": "Add folder name to fgrep result", "body": "<p>I'm analysing some log files and I'm trying to prepare data with bash. My folder structure looks like this:</p>\n\n<pre><code>&lt;main_folder&gt;\n    &lt;folder_1&gt;\n        &lt;subfolder_1&gt;\n            &lt;log_1&gt;\n            &lt;log_2&gt;\n        &lt;subfolder_2&gt;\n            &lt;log_1&gt;\n    &lt;folder_2&gt;\n        &lt;subfolder1&gt;\n            &lt;log_1&gt;\n</code></pre>\n\n<p>I would like to go through every <code>&lt;folder_n&gt;</code>and use fgrep to get some lines. I would like to add <code>&lt;folder_n&gt;</code> and <code>&lt;subfolder_n&gt;</code> names (without full path) to the beginning of every line, separated with blank space lines.</p>\n\n<p>So the result would look something like this:</p>\n\n<pre><code>folder_1 subfolder_1 text_1 text_2 text_3\nfolder_1 subfolder_2 text_1 text_2 text_3\nfolder_1 subfolder_2 text_1 text_2 text_3\nfolder_2 subfolder_1 text_1 text_2 text_3\n</code></pre>\n\n<p>I have a command that takes the text lines that I need adds <em>some</em> text to the beginning of the result, but I don't know how to add folder names to result lines.</p>\n\n<pre><code>fgrep \"Print ended\" *.txt -a | awk '{ print $1 \" \" $2 \" \" $4}' | perl -ne 'print \" TEST $_\"'\n</code></pre>\n\n<p>My question is: If I am located in <code>~/main_folder</code>, how to edit the command</p>\n\n<pre><code>fgrep \"Print ended\" *.txt -a | awk '{ print $1 \" \" $2 \" \" $4}'`\n</code></pre>\n\n<p>so that it adds <code>&lt;folder_n&gt;</code> and <code>&lt;subfolder_n&gt;</code> to fgrep result?</p>\n"}, {"tags": ["regex", "xml", "perl"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 1, "creation_date": 1492589128, "post_id": 43489836, "comment_id": 74034644, "body": "use an XML parser"}, {"owner": {"reputation": 322, "user_id": 2024982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sAdb.png?s=128&g=1", "display_name": "Doqnach", "link": "https://stackoverflow.com/users/2024982/doqnach"}, "edited": false, "score": 0, "creation_date": 1492589195, "post_id": 43489836, "comment_id": 74041896, "body": "That doesn&#39;t look like wellformed XML? Have you considered using wellformed XML and a XML parser instead?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492592005, "post_id": 43489836, "comment_id": 74036501, "body": "Two problems: a) that&#39;s not XML. b) if it was XML, parsing it with regular expressions is non trivial, because XML is contextual, and regular expressions aren&#39;t. c) There are modules that are XML parsers. You should use one."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 7630079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a52363d3a17d8838559bb91231cae0?s=128&d=identicon&r=PG&f=1", "display_name": "S. Agrawal", "link": "https://stackoverflow.com/users/7630079/s-agrawal"}, "edited": false, "score": 0, "creation_date": 1492595547, "post_id": 43490479, "comment_id": 74039042, "body": "Its working now, but regex if($line =~ m/&lt;(.*?)&gt;/) working more accurately than  if($line =~ m/&lt;([^&gt;]+(?=\\.)[^&gt;]+)&gt;/) as Tag xpath is missing from the output for this. Thanks :)"}, {"owner": {"reputation": 3431, "user_id": 2988189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/354d420093f27d42eb40752529cc7279?s=128&d=identicon&r=PG&f=1", "display_name": "Plaute", "link": "https://stackoverflow.com/users/2988189/plaute"}, "reply_to_user": {"reputation": 49, "user_id": 7630079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a52363d3a17d8838559bb91231cae0?s=128&d=identicon&r=PG&f=1", "display_name": "S. Agrawal", "link": "https://stackoverflow.com/users/7630079/s-agrawal"}, "edited": false, "score": 0, "creation_date": 1493381955, "post_id": 43490479, "comment_id": 74406133, "body": "Interesting!  With your regex, I got:  ?xml version=&#39;1.0&#39;? bg.tres resume.key=&#39;267298871&#39; score=&#39;5&#39; xpath path=&#39;xpath://resume&#39; resume.pr canonversion=&#39;2&#39; dateversion=&#39;2&#39; present=&#39;734060&#39; /resume.pr /xpath /resume /bg.tres which doesn&#39;t match with your request &quot;XML tags having dots&quot;."}], "tags": [], "owner": {"reputation": 3431, "user_id": 2988189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/354d420093f27d42eb40752529cc7279?s=128&d=identicon&r=PG&f=1", "display_name": "Plaute", "link": "https://stackoverflow.com/users/2988189/plaute"}, "is_accepted": false, "score": -1, "last_activity_date": 1492594309, "last_edit_date": 1492594309, "creation_date": 1492590800, "answer_id": 43490479, "question_id": 43489836, "link": "https://stackoverflow.com/questions/43489836/perl-script-to-traverse-xml-tags-and-list-all-the-tags-having-dot-in-it/43490479#43490479", "title": "Perl script to traverse XML tags and list all the tags having dot in it", "body": "<p>In @xml, you have have only one line, so your regex cannot works.</p>\n\n<p>You need to split your string.</p>\n\n<p>rename @xml in $xml, then</p>\n\n<pre><code>my @xml = split(/\\n/,$xml);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>if ($line =~ m/&lt;([^&gt;]+(?=\\.)[^&gt;]+)&gt;/) \n</code></pre>\n\n<p>This code works for me:</p>\n\n<pre><code>my $xml = q~&lt;?xml version='1.0'?&gt;\n&lt;bg.tres&gt;\n &lt;resume.key='267298871' score='5'&gt;\n  &lt;xpath path='xpath://resume'&gt;\n   &lt;resume.pr canonversion='2' dateversion='2' present='734060'&gt;\n   &lt;/resume.pr&gt;\n  &lt;/xpath&gt;\n &lt;/resume&gt;\n&lt;/bg.tres&gt;~;\n\n\n #print $xml,$/;\nmy @xml = split(/\\n/,$xml);\n\n foreach $line(@xml)\n {\n    if($line =~ m/&lt;([^&gt;]+(?=\\.)[^&gt;]+)&gt;/)\n    {\n        print \"$1\\n\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 7630079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a52363d3a17d8838559bb91231cae0?s=128&d=identicon&r=PG&f=1", "display_name": "S. Agrawal", "link": "https://stackoverflow.com/users/7630079/s-agrawal"}, "edited": false, "score": 0, "creation_date": 1492593793, "post_id": 43491011, "comment_id": 74037767, "body": "Actual requirement is like, I have a XML file and have to list all the tags having (.) dot in it, without use of parser or any XML in build function. So I tried doing it through regular expressions. But as you have mentioned that its incredibly complicated, can you suggest any simple logic, like use of string function or anything else, not parser."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 49, "user_id": 7630079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a52363d3a17d8838559bb91231cae0?s=128&d=identicon&r=PG&f=1", "display_name": "S. Agrawal", "link": "https://stackoverflow.com/users/7630079/s-agrawal"}, "edited": false, "score": 0, "creation_date": 1492594266, "post_id": 43491011, "comment_id": 74038079, "body": "No. There is no &#39;simple logic&#39; because XML <i>isn&#39;t that simple</i>. Not using a parser for a thing that needs a parser, means you need to write a parser yourself. So ... maybe go have a look at the source code for XML::Twig? (Hint: It&#39;s pretty complicated too)"}, {"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 1, "creation_date": 1492614558, "post_id": 43491011, "comment_id": 74053403, "body": "You&#39;re saying there is a requirement to process XML without an XML parser? That&#39;s a bit like a requirement to tighten nuts without a spanner. A requirement to do something with the wrong tools is a requirement you should walk away from."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1493115571, "post_id": 43491011, "comment_id": 74264624, "body": "I tend to use the analogy of &#39;putting in screws with a hammer&#39;. I mean, you technically can. But the result is messy and unreliable, and screwdrivers aren&#39;t all that hard to acquire."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1492592335, "creation_date": 1492592335, "answer_id": 43491011, "question_id": 43489836, "link": "https://stackoverflow.com/questions/43489836/perl-script-to-traverse-xml-tags-and-list-all-the-tags-having-dot-in-it/43491011#43491011", "title": "Perl script to traverse XML tags and list all the tags having dot in it", "body": "<p>There's a couple of problems with your request:</p>\n\n<ol>\n<li><p>That's not XML. If that really is your source XML, I suggest you go and hit whoever gave it to you with a rolled up copy of the XML spec. Because malformed XML is <em>supposed to be fatal</em>. </p></li>\n<li><p>XML is contextual. Regular expressions are not. Parsing XML with regular expressions is therefore incredibly complicated (it's not <em>quite</em> impossible, but it's hard). </p></li>\n<li><p><code>xpath</code> is the XML equivalent of regular expressions. Sort of. It's contextual, and lets you select and match based on XML structure, differentiating between content, tags and attributes. </p></li>\n<li><p>Parsers make the job easy. Use a parser.</p></li>\n<li><p>You're inserting your text into an array <code>@xml</code> but it's a single value. So don't, use a scalar. <code>foreach @xml</code> isn't doing what you think it's doing, as there's only one element in <code>@xml</code>. </p></li>\n</ol>\n\n<p>So with that in mind - and fixing your XML as little as is needed to <em>make</em> it valid XML:</p>\n\n<pre><code>#!/usr/bin/env perl;\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $src = q~&lt;?xml version='1.0'?&gt;\n&lt;bg.tres&gt;\n &lt;resume.key key='267298871' score='5'&gt;\n  &lt;xpath path='xpath://resume'&gt;\n   &lt;resume.pr canonversion='2' dateversion='2' present='734060'&gt;\n   &lt;/resume.pr&gt;\n  &lt;/xpath&gt;\n &lt;/resume.key&gt;\n&lt;/bg.tres&gt;~;\n\nmy $xml = XML::Twig -&gt; parse ( $src ); \n\nforeach my $node ( $xml -&gt; get_xpath ('//*') ) {\n   print $node -&gt; tag,\"\\n\" if $node -&gt; tag =~ m/\\./;\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 7630079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a52363d3a17d8838559bb91231cae0?s=128&d=identicon&r=PG&f=1", "display_name": "S. Agrawal", "link": "https://stackoverflow.com/users/7630079/s-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492594309, "creation_date": 1492588779, "last_edit_date": 1492594148, "question_id": 43489836, "link": "https://stackoverflow.com/questions/43489836/perl-script-to-traverse-xml-tags-and-list-all-the-tags-having-dot-in-it", "title": "Perl script to traverse XML tags and list all the tags having dot in it", "body": "<p>I need to print XML tags having dots in it.\nExample: bg.tres, resume.pr\nBelow is the code I tried, but it stopped after first match. I am trying to first extract the tags and then identify tags having dot in it.</p>\n\n<pre><code>my $xml = q~&lt;?xml version='1.0'?&gt;\n&lt;bg.tres&gt;\n &lt;resume.key='267298871' score='5'&gt;\n  &lt;xpath path='xpath://resume'&gt;\n   &lt;resume.pr canonversion='2' dateversion='2' present='734060'&gt;\n   &lt;/resume.pr&gt;\n  &lt;/xpath&gt;\n &lt;/resume&gt;\n&lt;/bg.tres&gt;~;\n\n #print $xml,$/;\n foreach $line($xml)\n {\n    if($line =~ m/&lt;(.*?)&gt;/)\n    {\n        print \"$1\\n\";\n    }\n}\n</code></pre>\n\n<p>Can anyone please review, as all the examples are present with usage of packages and modules, but I need to perform it with simple logic, without functions. No such examples are present, please suggest.</p>\n"}, {"tags": ["regex", "perl", "ibm-mq"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1492586966, "post_id": 43489119, "comment_id": 74033314, "body": "<code>Use of uninitialized value</code> These are perl <b>warnings</b> not <b>errors</b>!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1492587219, "post_id": 43489119, "comment_id": 74033460, "body": "What is $read? Do you know what <code>=~</code> does?"}, {"owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1492587302, "post_id": 43489119, "comment_id": 74033516, "body": "@AbhiNickz yes, but eventhough I remove the warnings the result still not appear."}, {"owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1492587489, "post_id": 43489119, "comment_id": 74033661, "body": "@choroba I forgot to remove that while posting here, will remove it."}, {"owner": {"reputation": 30566, "user_id": 214668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzaLu.jpg?s=128&g=1", "display_name": "T.Rob", "link": "https://stackoverflow.com/users/214668/t-rob"}, "edited": false, "score": 0, "creation_date": 1494649382, "post_id": 43489119, "comment_id": 74930876, "body": "In modern versions of MQ you can use <code>dmpmqcfg -a -o 1line</code> to output each object on a single line.  This makes it a lot easier to <code>grep</code> out lines of interest, then use <code>awk</code> or <code>cut</code> to extract the fields of interest."}], "answers": [{"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 2, "last_activity_date": 1492587683, "last_edit_date": 1492587683, "creation_date": 1492587207, "answer_id": 43489322, "question_id": 43489119, "link": "https://stackoverflow.com/questions/43489119/data-extract-from-mq-output-issue-in-perl-code/43489322#43489322", "title": "Data extract from MQ output issue in perl code", "body": "<p>You could use the following regular Expression</p>\n\n<pre><code>(?:QUEUE|CURDEPTH|MAXDEPTH)\\(\\K[^()]+\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/XOhFKI/1/\" rel=\"nofollow noreferrer\"><strong>a demo on regex101.com</strong></a>.\n<hr>\nThat is</p>\n\n<pre><code>(?:QUEUE|CURDEPTH|MAXDEPTH) # one of the alternatives\n\\(                          # an opening bracket\n\\K                          # \"forget\" everything\n[^()]+                      # not (), at least once\n</code></pre>\n\n<p><hr>\nIn <code>Perl</code> this would be:</p>\n\n<pre><code>my @matches = $str =~ /(?:QUEUE|CURDEPTH|MAXDEPTH)\\(\\K[^()]+/g;\nprint \"@matches\\n\";\n# XXX.DATATYPE.NETSTATVM\n# 0\n# 20000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "edited": false, "score": 0, "creation_date": 1492669469, "post_id": 43489458, "comment_id": 74077266, "body": "Thanks, this is the correct however at the second code which use hash, the output only comes out for the last QUEUE details since it overwrite the others output for each different QUEUE."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "edited": false, "score": 0, "creation_date": 1492673400, "post_id": 43489458, "comment_id": 74079640, "body": "@Azizul: Your input sample only features one QUEUE. You can use a hash of hashes if you want to store the details of multiple queues at the same time."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1492587961, "last_edit_date": 1492587961, "creation_date": 1492587611, "answer_id": 43489458, "question_id": 43489119, "link": "https://stackoverflow.com/questions/43489119/data-extract-from-mq-output-issue-in-perl-code/43489458#43489458", "title": "Data extract from MQ output issue in perl code", "body": "<p><code>=~</code> is the binding operator. It binds the left hand side string to the match on the right hand side. But you have <code>my $variable</code> on the LHS - so the string is empty. What you want is to match against the implicit variable, and possibly store a part of the match. This is done by normal assignment in list context:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile (&lt;&gt;) {\n    if ( /QUEUE\\(/ ) {\n        my ($QueueName) = /QUEUE\\((\\S+)\\)/;\n        print \"QN: $QueueName\\n\";\n    }\n    if ( /CURDEPTH\\(/ ) {\n        my ($CurDepth) = /CURDEPTH\\((\\d+)/;\n        print \"CD: $CurDepth\\n\";\n    }\n    if ( /MAXDEPTH\\(/ ) {\n        my ($MaxDepth) = /MAXDEPTH\\((\\d+)/;\n        print \"MD: $MaxDepth\\n\";\n    }\n}\n</code></pre>\n\n<p>You can combine all the regexes into one, too, and use a hash to store the values keyed by the word before the parenthesis:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %info;\nwhile (&lt;&gt;) {\n    if (my ($key, $value)\n        = / ( QUEUE | CURDEPTH | MAXDEPTH ) \\( ( [^)]+ ) /x\n    ) {\n        $info{$key} = $value;\n    }\n}\n\nfor my $key (keys %info) {\n    print \"$key: $info{$key}\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "is_accepted": false, "score": 1, "last_activity_date": 1492587628, "creation_date": 1492587628, "answer_id": 43489467, "question_id": 43489119, "link": "https://stackoverflow.com/questions/43489119/data-extract-from-mq-output-issue-in-perl-code/43489467#43489467", "title": "Data extract from MQ output issue in perl code", "body": "<p>I use the following to do something similar with awk:</p>\n\n<pre><code>echo \"DIS QL(*) CURDEPTH MAXDEPTH\"|runmqsc $qm | grep -o '^\\w\\+:\\|\\w\\+[(][^)]\\+[)]' | awk -F '[()]' -v OFS='\\n' 'function printValues() { if (\"QUEUE\" in p) { print p[\"QUEUE\"], p[\"CURDEPTH\"], p[\"MAXDEPTH\"], \"\" } } /^\\w+:/ { printValues(); delete p; next } { p[$1] = $2 } END { printValues() }'\n</code></pre>\n\n<p>Output would look like this:</p>\n\n<pre><code>XXX.DATATYPE.NETSTATVM\n0\n20000\n\nYYY.DATATYPE.NETSTATVM\n50\n10000\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 43489458, "answer_count": 3, "score": 1, "last_activity_date": 1492587961, "creation_date": 1492586570, "last_edit_date": 1492587523, "question_id": 43489119, "link": "https://stackoverflow.com/questions/43489119/data-extract-from-mq-output-issue-in-perl-code", "title": "Data extract from MQ output issue in perl code", "body": "<p>I'm having problem with my perl code, the code that I wrote is suppose to grab some information from <code>MQ</code> command <code>dis ql(*) all</code>,\nbelow is one of the output example from above command,</p>\n\n<pre><code>    AMQ8409: Display Queue details.\n   QUEUE(XXX.DATATYPE.NETSTATVM)           TYPE(QLOCAL)\n   ACCTQ(QMGR)                             ALTDATE(2016-08-01)\n   ALTTIME(18.33.19)                       BOQNAME( )\n   BOTHRESH(0)                             CLUSNL( )\n   CLUSTER( )                              CLCHNAME( )\n   CLWLPRTY(0)                             CLWLRANK(0)\n   CLWLUSEQ(QMGR)                          CRDATE(2016-08-01)\n   CRTIME(18.33.19)                        CURDEPTH(0)\n   CUSTOM( )                               DEFBIND(OPEN)\n   DEFPRTY(0)                              DEFPSIST(YES)\n   DEFPRESP(SYNC)                          DEFREADA(NO)\n   DEFSOPT(SHARED)                         DEFTYPE(PREDEFINED)\n   DESCR(Queue for  XXX.DataType.netstatvm)\n   DISTL(NO)                               GET(ENABLED)\n   HARDENBO                                INITQ( )\n   IPPROCS(1)                              MAXDEPTH(20000)\n   MAXMSGL(33554432)                       MONQ(QMGR)\n   MSGDLVSQ(PRIORITY)                      NOTRIGGER\n   NPMCLASS(NORMAL)                        OPPROCS(0)\n   PROCESS( )                              PUT(ENABLED)\n   PROPCTL(COMPAT)                         QDEPTHHI(80)\n   QDEPTHLO(20)                            QDPHIEV(DISABLED)\n   QDPLOEV(DISABLED)                       QDPMAXEV(ENABLED)\n   QSVCIEV(NONE)                           QSVCINT(999999999)\n   RETINTVL(999999999)                     SCOPE(QMGR)\n   SHARE                                   STATQ(QMGR)\n   TRIGDATA( )                             TRIGDPTH(1)\n   TRIGMPRI(0)                             TRIGTYPE(FIRST)\n   USAGE(NORMAL)                        \n</code></pre>\n\n<p>Above output is grab from one of the queue in <code>MQ</code> instead of <code>all</code> queue which the command run.</p>\n\n<p>From above, I want to extract the value from <code>QUEUE</code>, <code>CURDEPTH</code> and <code>MAXDEPTH</code>, as below:-</p>\n\n<pre><code>QUEUE(XXX.DATATYPE.NETSTATVM)\nCURDEPTH(0)\nMAXDEPTH(20000)\n</code></pre>\n\n<p>So, I wrote a perl code to obtain the value from <code>QUEUE</code>, <code>CURDEPTH</code> and <code>MAXDEPTH</code>, below is my code,</p>\n\n<pre><code>my $qm = XXX;\n\nopen (CHS_OUT, \"echo 'dis ql(*) all'|runmqsc $qm|\");\n\nwhile (&lt;CHS_OUT&gt;) {\n    if ( /QUEUE\\(/ ){\n        my $QueueName =~ /QUEUE/(/\\S+)/g;\n    }\n    if ( /CURDEPTH\\(/ ){\n        my $CurDepth =~ s/\\D//g;\n        chomp $CurDepth;\n        print \"$CurDepth \\n\";\n    }\n    if ( /MAXDEPTH\\(/ ){\n        my $MaxDepth =~ s/\\D//g;\n        chomp $MaxDepth;\n        print \"$MaxDepth \\n\";\n    }\n}\n</code></pre>\n\n<p>The output suppose to be as below,</p>\n\n<pre><code>XXX.DATATYPE.NETSTATVM\n0\n20000\n</code></pre>\n\n<p>However, I received a multiple error to extract all of this 3 information, one of the error as below,</p>\n\n<blockquote>\n  <p>Use of uninitialized value $MaxDepth in substitution (s///) at mq_test.pl line 26,  line 7361.<br>\n      Use of uninitialized value $MaxDepth in scalar chomp at mq_test.pl line 27,  line 7361.<br>\n      Use of uninitialized value $MaxDepth in concatenation (.) or string at mq_test.pl line 28,  line 7361.  </p>\n</blockquote>\n\n<p>This make me confuse since I already do multiples changes of this code but still not success.</p>\n"}, {"tags": ["perl", "unix", "ksh", "anthill"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1492577895, "post_id": 43486458, "comment_id": 74028668, "body": "Give your perl script world read permission (<code>chmod u+r &#47;home&#47;script&#47;conversion.pl</code>) and add execute permission for all directories on the path (<code>chmod u+x &#47;home &#47;home&#47;script</code>)."}, {"owner": {"reputation": 231, "user_id": 1768029, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9f2a51fe26badb08a8601bf9645a4ed5?s=128&d=identicon&r=PG", "display_name": "user1768029", "link": "https://stackoverflow.com/users/1768029/user1768029"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1492584341, "post_id": 43486458, "comment_id": 74031620, "body": "I get the same error even after using these commands in my shell scripts. I will deploying these files in test and prod region, where we can not change execute permission of a directory."}, {"owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "edited": false, "score": 0, "creation_date": 1492595634, "post_id": 43486458, "comment_id": 74039099, "body": "Try /usr/bin/perl --version"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492613785, "post_id": 43486458, "comment_id": 74052850, "body": "Please edit your question to include the output from the command <code>ls -l &#47;home&#47;script&#47;conversion</code>."}, {"owner": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492628412, "post_id": 43486458, "comment_id": 74062423, "body": "To add to @Dave Cross&#39; comment, you might want to check: <code>&#47;bin&#47;ls -ld &#47;usr&#47;bin&#47;perl &#47;home&#47;script&#47;conversion.pl &#47;usr&#47;bin &#47;home&#47;script &#47;usr &#47;home &#47;</code> just for yuks."}, {"owner": {"reputation": 254, "user_id": 1977045, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89fa2f8568df75f1d02e505ce73e284a?s=128&d=identicon&r=PG", "display_name": "Elyahu", "link": "https://stackoverflow.com/users/1977045/elyahu"}, "edited": false, "score": 0, "creation_date": 1492674041, "post_id": 43486458, "comment_id": 74080025, "body": "Try to write the following in the step - echo &quot;Running perl&quot;  pwd ls -ltra  /home/script/conversion.pl $layout_file $format_file $conv_file $base_filenm $COREPATH   ls -ltra /home/script/ ls -ltra /usr/bin/perl  echo &quot;DONE&quot;"}], "owner": {"reputation": 231, "user_id": 1768029, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9f2a51fe26badb08a8601bf9645a4ed5?s=128&d=identicon&r=PG", "display_name": "user1768029", "link": "https://stackoverflow.com/users/1768029/user1768029"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 902, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1492576461, "creation_date": 1492576461, "question_id": 43486458, "link": "https://stackoverflow.com/questions/43486458/execute-permission-denied-for-perl-script", "title": "Execute permission denied for perl script", "body": "<p>I call a perl script from shell script.Since both unix shell script and perl script are created by me, i was able to execute it successfully.But when i deploy the code using anthillpro, permission of the files changed to 644. Hence when others execute this shell script, they are able to run unix script but following error is received while calling perl script.</p>\n\n<pre><code>0403-006 Execute permission denied.\n</code></pre>\n\n<p>Following code is used to invoke my perl script from unix shell script:</p>\n\n<pre><code>/usr/bin/perl /home/script/conversion.pl $layout_file $format_file $conv_file $base_filenm $COREPATH\n</code></pre>\n\n<p>First line of my perl script has following line:</p>\n\n<pre><code>#!/usr/bin/perl\n</code></pre>\n\n<p>Can anyone provide a solution for this issue ?</p>\n"}, {"tags": ["perl", "devops", "sysadmin"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1492578535, "post_id": 43486271, "comment_id": 74028884, "body": "Looks like you are reusing your <code>$num1</code> variable for each file, but you are not resetting it to <code>0</code>.  After the first successful build, the rest will hit your <code>else</code> block because <code>$num1 &gt; 1</code>."}, {"owner": {"reputation": 13, "user_id": 7719603, "user_type": "registered", "profile_image": "https://graph.facebook.com/761484390681358/picture?type=large", "display_name": "Vi\u1ec7t Th\u1eafng", "link": "https://stackoverflow.com/users/7719603/vi%e1%bb%87t-th%e1%ba%afng"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1492596823, "post_id": 43486271, "comment_id": 74039985, "body": "It means I must set $num1 = 0 before foreach loop???"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492612447, "post_id": 43486271, "comment_id": 74051766, "body": "The calculation of <code>$num1</code> is certainly problematic. But that&#39;s not causing this problem. No matter what value <code>$num1</code> has, the file should still be moved out of the current directory and into either the &quot;Successful&quot; or &quot;Failed&quot; directory."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1492634455, "last_edit_date": 1492634455, "creation_date": 1492613631, "answer_id": 43499246, "question_id": 43486271, "link": "https://stackoverflow.com/questions/43486271/fix-issue-on-perl-script/43499246#43499246", "title": "Fix issue on Perl script", "body": "<p>I can't see what is causing the problems that you are describing (\"the log file still on folder current\") but I can certainly help with the other part of your question (\"help me improve my code\"). I'd write this code something like this:</p>\n\n<pre><code># Lexical variable for directory handle\n# Single-quoted string\n# Reverse slash direction to improve readability\nopendir my $dir_h, 'C:/BuildStatus/Current/'\n  or die \"cannot open dir $dir: $!\";\n\nmy @files =  grep ! /^\\.+$/, readdir $dir_h;\n\n# This doesn't change. Move it out of the loop.\nmy $searchsucs = '--BuildSuccessful--';\n\n# Rename $files to $file to improve readability\nforeach my $files (@files) {\n  # Lexical variables (with \"my\")\n  # Use variable interpolation instead of string concatenation\n  # Reverse slash durection for readability\n  # Don't define variables until you need them\n  my $oldLoc2  = \"C:/BuildStatus/Current/$file\";\n\n\n  # Lexical variable for file-handle\n  # Three args in open() call\n  # Use $oldLoc2 variable\n  # Check return value from open()\n  open(my $fh, '&lt;', $oldLoc2)\n    or die \"Cannot open $file: $!\";\n\n  # Use a $found variable\n  my $found;\n\n  # Remove unused $newLoc2 variable\n  # Remove unnecessary @valf2 variable\n  # Process input file a line at a time (use while, not foreach)\n  # Use Perl's default variable $_ for clarity\n  while (&lt;$fh&gt;) {\n    if (/$searchsucs/) {\n      print \"matched\";\n      $found = 1;\n      # Skip rest of loop\n      last;\n    } else {\n      # This will be a bit noisy!\n      print \"not matched\"\n    }\n  }\n\n  # Lexical filehandle means no need to explicitly close file\n\n  print \"moving build status file......\\n\";\n\n  # Simpler logic check\n  if ($found) {\n    my $newLocS2 = \"C:/BuildStatus/History/Successful/$file\";\n    fmove($oldLoc2, $newLocS2)\n      or warn \"$file Warning: Not able to move build status files \\n \";\n    system(qq(E:\\\\depot\\\\builds\\\\PassedBuilds.bat));\n  } else {\n    my $newLocF2 = \"C:/BuildStatus/History/Failed/$file\";\n    fmove($oldLoc2, $newLocF2)\n      or warn \"$file Warning: Not able to move build status files \\n \";\n  }\n}\n</code></pre>\n\n<p>Does that help at all?</p>\n"}], "owner": {"reputation": 13, "user_id": 7719603, "user_type": "registered", "profile_image": "https://graph.facebook.com/761484390681358/picture?type=large", "display_name": "Vi\u1ec7t Th\u1eafng", "link": "https://stackoverflow.com/users/7719603/vi%e1%bb%87t-th%e1%ba%afng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 43499246, "answer_count": 1, "score": 0, "last_activity_date": 1492634455, "creation_date": 1492575434, "last_edit_date": 1492578128, "question_id": 43486271, "link": "https://stackoverflow.com/questions/43486271/fix-issue-on-perl-script", "title": "Fix issue on Perl script", "body": "<p>I have a script to read the log file and search all 41 step if it shows status \"--BuildSuccessful--\",  the log file will move from folder current to successful. It worked but recently, sometimes it was not working correctly. I don't understand what are going on, the log file still on folder current. Please take your time to help me improve my code.</p>\n\n<p>Here log file template:</p>\n\n<pre><code>Build Number::  21.9004.5200.0  BUILT TYPE::     Nightly build\n===========================================================\nProgress                Time                Build Step\nBuildStarted CosmoRR        Tue Apr 11 20:05:38 2017        0\nCheckChanges            Tue Apr 11 20:05:38 2017            0\nPreBuildToolsSLN        Tue Apr 11 20:14:07 2017        0\nReportDevEnvErrs        Tue Apr 11 20:14:12 2017        0\nCheckDevenvErrs     Tue Apr 11 20:14:12 2017        0\nReplaceUCBVersionNumber Tue Apr 11 20:14:27 2017    1\nBuildVPresent           Tue Apr 11 20:14:27 2017            2\nBuildFlashAndFlex       Tue Apr 11 20:14:35 2017        3\nBuildFlexTop            Tue Apr 11 20:15:00 2017            4\nObfuscatePHP            Tue Apr 11 20:15:07 2017            5\nReplaceSTVersionNumber      Tue Apr 11 20:15:11 2017        6\nRunGetEnums         Tue Apr 11 20:15:11 2017            7\nReplaceClientVersionNum Tue Apr 11 20:15:11 2017    8\nBuildAllSLN         Tue Apr 11 20:15:11 2017            9\nReportDevEnvErrs        Tue Apr 11 20:35:32 2017        9\nCheckDevenvErrs     Tue Apr 11 20:35:32 2017        9\nReportDevEnvErrs        Tue Apr 11 20:35:32 2017        9\nCheckDevenvErrs     Tue Apr 11 20:35:32 2017        9\nReportDevEnvErrs        Tue Apr 11 20:35:32 2017        9\nCheckDevenvErrs     Tue Apr 11 20:35:32 2017        9\nReportDevEnvErrs        Tue Apr 11 20:35:32 2017        9\nCheckDevenvErrs     Tue Apr 11 20:35:32 2017        9\nBuildSolution           Tue Apr 11 20:35:32 2017            10\nReportDevEnvErrs        Tue Apr 11 20:43:20 2017        10\nCheckDevenvErrs     Tue Apr 11 20:43:20 2017        10\nBuildPresenterInstaller Tue Apr 11 20:43:20 2017    11\nBuildMsiInstaller       Tue Apr 11 20:43:20 2017        11\nCheckSignCodeErrors     Tue Apr 11 20:43:23 2017        11\nBuildAcceleratorInstaller   Tue Apr 11 20:43:23 2017    11\nBuildMsiInstaller       Tue Apr 11 20:43:23 2017        11\nCheckSignCodeErrors     Tue Apr 11 20:43:24 2017        11\nCheckSignCodeErrors     Tue Apr 11 20:44:24 2017        11\nCheckSignCodeErrors     Tue Apr 11 20:44:24 2017        11\nGetPhoneInstaller       Tue Apr 11 20:44:24 2017        12\nGetManhattanClientExo       Tue Apr 11 20:44:28 2017        13\nGetManhattanClientEndo      Tue Apr 11 20:44:29 2017        14\nGetManhattanClient      Tue Apr 11 20:44:29 2017        15\nGetShoreTelPlayer       Tue Apr 11 20:44:34 2017        16\nGetConnectforMSFT       Tue Apr 11 20:44:35 2017        17\nGetCCClient         Tue Apr 11 20:44:37 2017            18\nSpawnLinuxBuild     Tue Apr 11 20:44:38 2017        19\nBuildSwitches           Tue Apr 11 20:44:39 2017            20\nBuildFilesys            Tue Apr 11 21:07:07 2017            20\nReportDevEnvErrs        Tue Apr 11 21:07:13 2017        20\nCheckDevenvErrs     Tue Apr 11 21:07:13 2017        20\nBuildCASTestingTools        Tue Apr 11 21:07:17 2017        21\nReportDevEnvErrs        Tue Apr 11 21:07:33 2017        21\nCheckDevenvErrs     Tue Apr 11 21:07:33 2017        21\nBuildPHR            Tue Apr 11 21:07:33 2017            22\nBuildRuby           Tue Apr 11 21:07:36 2017            23\nBuildRubyDirector2      Tue Apr 11 21:07:52 2017        24\nCreateTAPISDK           Tue Apr 11 21:13:30 2017            25\nSignTDIMedia            Tue Apr 11 21:13:31 2017            26\nBuildAPPFolder          Tue Apr 11 21:13:32 2017            27\nBuildRubywin            Tue Apr 11 21:13:40 2017            28\nBuildRubymingw          Tue Apr 11 21:18:06 2017            29\nBuildNginx          Tue Apr 11 21:22:05 2017            30\nBuildNginx          Tue Apr 11 21:22:06 2017            31\nGetSalesforcePlugin     Tue Apr 11 21:22:19 2017        32\nRunPrep4Install     Tue Apr 11 21:22:23 2017        33\nRunPrep4Install_iteration_1 Tue Apr 11 21:27:23 2017    33\nRunPrep4Install_iteration_2 Tue Apr 11 21:32:23 2017    33\nRunPrep4Install_iteration_3 Tue Apr 11 21:37:23 2017    33\nRunPrep4Install_iteration_4 Tue Apr 11 21:42:23 2017    33\nRunPrep4Install_iteration_5 Tue Apr 11 21:47:23 2017    33\nCheckSignCodeErrors     Tue Apr 11 21:47:48 2017        33\nClient_3rdParty_DiagMonitoring_Installer    Tue Apr 11 21:47:48 2017    34\nBuild3rdPartyInstaller      Tue Apr 11 21:47:48 2017        34\nBuildMsiInstaller       Tue Apr 11 21:47:48 2017        34\nBuildDiagMonitoringInstaller    Tue Apr 11 21:47:50 2017    34\nBuildMsiInstaller       Tue Apr 11 21:47:50 2017        34\nBuildDMuiInstaller      Tue Apr 11 21:47:51 2017        34\nBuildMsiInstaller       Tue Apr 11 21:47:51 2017        34\nCheckSignCodeErrors     Tue Apr 11 21:49:54 2017        34\nCheckSignCodeErrors     Tue Apr 11 21:49:54 2017        34\nBuildRemoteServer       Tue Apr 11 21:49:54 2017        35\nBuildMsiInstaller       Tue Apr 11 21:49:54 2017        35\nCheckSignCodeErrors     Tue Apr 11 22:01:25 2017        35\nBuildRemoteServerDC     Tue Apr 11 22:01:25 2017        36\nBuildMsiInstaller       Tue Apr 11 22:01:25 2017        36\nCheckSignCodeErrors     Tue Apr 11 22:08:12 2017        36\nServer_LinuxDVX_Switch_Platform_DC_Installer    Tue Apr 11 22:08:12 2017    37\nBuildDataCenterServerInstaller  Tue Apr 11 22:08:12 2017    37\nBuildMsiInstaller       Tue Apr 11 22:08:12 2017        37\nBuildLinuxDVSInstaller      Tue Apr 11 22:08:14 2017        37\nBuildMsiInstaller       Tue Apr 11 22:08:14 2017        37\nBuildSwitchInstaller        Tue Apr 11 22:08:14 2017        37\nBuildMsiInstaller       Tue Apr 11 22:08:14 2017        37\nBuildPlatformInstaller      Tue Apr 11 22:13:15 2017        37\nBuildMsiInstaller       Tue Apr 11 22:13:15 2017        37\nBuildServerInstaller        Tue Apr 11 22:13:15 2017        37\nBuildMsiInstaller       Tue Apr 11 22:13:15 2017        37\nCheckSignCodeErrors     Tue Apr 11 22:59:44 2017        37\nCheckSignCodeErrors     Tue Apr 11 22:59:46 2017        37\nCheckSignCodeErrors     Tue Apr 11 22:59:46 2017        37\nCheckSignCodeErrors     Tue Apr 11 22:59:47 2017        37\nCheckSignCodeErrors     Tue Apr 11 22:59:47 2017        37\nRunpostInstall          Tue Apr 11 22:59:47 2017            38\nReportVersions          Tue Apr 11 23:00:03 2017            39\nBuildAllSims            Tue Apr 11 23:00:04 2017            40\nReportSIMDevEnvErrors       Tue Apr 11 23:02:41 2017        40\nCheckDevenvErrs     Tue Apr 11 23:02:41 2017        40\nBuildAllSimsVS2010      Tue Apr 11 23:03:44 2017        41\nReportSIMDevEnvErrors       Tue Apr 11 23:03:57 2017        41\nCheckDevenvErrs     Tue Apr 11 23:03:57 2017        41\n===========================================================\n--BuildSuccessful--\nSuccessful          Tue Apr 11 23:05:55 2017            41\n</code></pre>\n\n<p>And my script:</p>\n\n<pre><code>opendir DIR1, \"C:\\\\BuildStatus\\\\Current\\\\\" or die \"cannot open dir $dir: $!\";\nmy @files=  grep ! /^\\.+$/, readdir DIR1;\nforeach my $files (@files) \n{ \n    $searchsucs = \"--BuildSuccessful--\";\n    $oldLoc2 = \"C:\\\\BuildStatus\\\\Current\\\\\".$files;\n    $newLocS2 = \"C:\\\\BuildStatus\\\\History\\\\Successful\\\\\".$files;\n    $newLocF2 = \"C:\\\\BuildStatus\\\\History\\\\Failed\\\\\".$files;\n    open(E_FILE,\"C:\\\\BuildStatus\\\\Current\\\\\".$files);\n    @valf2 = &lt;E_FILE&gt;;\n    my $newLoc2 = \"\";\n    foreach $searchf2 (@valf2)\n    {\n        if ($searchf2=~/$searchsucs/)\n            { print \"matched\";\n                $num1 =$num1 + 1;\n            }else\n            { print \"not matched\";\n                $num1 = $num1 + 0;\n            }\n    }\n    close E_FILE;\n    print \"moving build status file......\\n\";\n    if($num1 == 1) {\n      fmove($oldLoc2, $newLocS2) or warn \"$file Warning: Not able to move build status files \\n \";\n      system(qq(E:\\\\depot\\\\builds\\\\PassedBuilds.bat));\n    } else {\n      fmove($oldLoc2, $newLocF2) or warn \"$file Warning: Not able to move build status files \\n \";\n    }\n}\nclosedir DIR1;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492574869, "post_id": 43486128, "comment_id": 74027654, "body": "You have the answer about <code>\\d{8}</code>, but also note that you don&#39;t need parenthesis if you need to merely check the format of that string.  Parenthesis &quot;<i>capture</i>&quot; the match so it can be returned, or used in <code>$1, $2 ...</code> variables."}], "answers": [{"tags": [], "owner": {"reputation": 144, "user_id": 6155139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c09d1f850551b06ef91daa250c86a8?s=128&d=identicon&r=PG", "display_name": "Fashim", "link": "https://stackoverflow.com/users/6155139/fashim"}, "is_accepted": false, "score": 4, "last_activity_date": 1492574728, "creation_date": 1492574728, "answer_id": 43486162, "question_id": 43486128, "link": "https://stackoverflow.com/questions/43486128/check-filename-with-certain-start-string-and-end-string/43486162#43486162", "title": "Check filename with certain start string and end string?", "body": "<p>You need to add a quantifier to the \\d, {8} would match 8 digits in a row only.</p>\n\n<pre><code>$oldfile=~ m/^(test1_ab_pls_)\\d{8}(.csv)$/\n</code></pre>\n\n<p>See <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">Perlre</a> for more details on Regex.</p>\n"}, {"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1492577555, "post_id": 43486376, "comment_id": 74028513, "body": "if date will check by particularly?"}, {"owner": {"reputation": 11116, "user_id": 4539709, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/0pdoL.jpg?s=128&g=1", "display_name": "0m3r", "link": "https://stackoverflow.com/users/4539709/0m3r"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1492577697, "post_id": 43486376, "comment_id": 74028577, "body": "Sorry confused :(? what you mean?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1492578427, "post_id": 43486376, "comment_id": 74028850, "body": "Just a question. If the OP checks the date today or yesterday it will matches the regex you were provided. In the multiple files available of CSV format if he wants the particular/exact date might be regex will failed."}, {"owner": {"reputation": 41, "user_id": 7140416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91d51a1c9618d1904ebb15ed1ddea1c7?s=128&d=identicon&r=PG&f=1", "display_name": "kirrame1100", "link": "https://stackoverflow.com/users/7140416/kirrame1100"}, "edited": false, "score": 1, "creation_date": 1492581983, "post_id": 43486376, "comment_id": 74030335, "body": "your answer is more complex. I just need to get those the certain prefix text (test1_ab_pls_). But, still thanks for your flexible answer! :)"}], "tags": [], "owner": {"reputation": 11116, "user_id": 4539709, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/0pdoL.jpg?s=128&g=1", "display_name": "0m3r", "link": "https://stackoverflow.com/users/4539709/0m3r"}, "is_accepted": false, "score": 2, "last_activity_date": 1492579642, "last_edit_date": 1592644375, "creation_date": 1492575994, "answer_id": 43486376, "question_id": 43486128, "link": "https://stackoverflow.com/questions/43486128/check-filename-with-certain-start-string-and-end-string/43486376#43486376", "title": "Check filename with certain start string and end string?", "body": "<p><em>This should do it</em></p>\n<p><em><strong><code>\\w{4}\\d\\_\\w{2}\\_\\w{3}\\_\\d{8}[.csv|.CSV]+</code></strong></em></p>\n<p><em><strong>Demo</strong></em></p>\n<p><em><strong><a href=\"https://regex101.com/r/JVKZYP/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/JVKZYP/3</a></strong></em></p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/53GwV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53GwV.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong><code>\\w{4}</code></strong> matches any word character (equal to <code>[a-zA-Z0-9_]</code>) <strong><code>{4}</code></strong> Matches exactly 4 times<br>\n<strong><code>\\d</code></strong> matches a digit (<code>equal to [0-9]</code>)<br>\n<strong><code>\\_</code></strong> matches the character <strong><code>_</code></strong> literally (case sensitive)<br>\n<strong><code>\\d{8}</code></strong> matches a digit (<code>equal to [0-9]</code>) <code>{8}</code> Matches exactly 8 times<br>\n<strong><code>[.csv|.CSV]</code></strong> Match a single character in the list <code>.csv|CSV</code> (case sensitive)</em></p>\n</blockquote>\n<hr />\n<p><em>Or Fix yours <code>[test1_ab_pls_]+\\d{8}(.csv)</code></em></p>\n<hr />\n<p><em><strong>Or another match <a href=\"https://regex101.com/r/cAKUQN/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/cAKUQN/1</a></strong></em></p>\n<p><em><strong><code>\\w{4}\\d\\_\\w{2}\\_\\w{3}\\_(20\\d{2})(\\d{2})(\\d{2})[.csv|.CSV]+</code></strong></em></p>\n<hr />\n<p><em>For exact date</em> <em><strong><code>([2017]{4})([04]{2})([18]{2})</code></strong></em></p>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1492609834, "last_edit_date": 1492609834, "creation_date": 1492586096, "answer_id": 43488955, "question_id": 43486128, "link": "https://stackoverflow.com/questions/43486128/check-filename-with-certain-start-string-and-end-string/43488955#43488955", "title": "Check filename with certain start string and end string?", "body": "<p>It's not pretty, but this is another way.</p>\n\n<pre><code>if ( index( $oldfile, 'test1_ab_pls_' ) == 0\n    &amp;&amp; rindex( $oldfile, '.csv' ) == length($oldfile) - 4 )\n{ print \"It matches!\" }\n</code></pre>\n\n<p>I benchmarked it, and it's faster than Fashim's regex for positive matches, but slower for negative matches.</p>\n"}], "owner": {"reputation": 41, "user_id": 7140416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91d51a1c9618d1904ebb15ed1ddea1c7?s=128&d=identicon&r=PG&f=1", "display_name": "kirrame1100", "link": "https://stackoverflow.com/users/7140416/kirrame1100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1492609834, "creation_date": 1492574461, "last_edit_date": 1492575285, "question_id": 43486128, "link": "https://stackoverflow.com/questions/43486128/check-filename-with-certain-start-string-and-end-string", "title": "Check filename with certain start string and end string?", "body": "<p>I need to use perl to check a file name is match the format or not.</p>\n\n<pre><code>example: test1_ab_pls_20170418.csv \n1. test1_ab_pls_ is fixed, and the file name will start with it.\n2. 20170418 is date, those will be numbers\n3. .csv is ending string\n</code></pre>\n\n<p>I've tried regular expression like </p>\n\n<pre><code>$oldfile=~ m/^(test1_ab_pls_)\\d(.csv)$/\n</code></pre>\n\n<p>but it failed. How can I modified it?</p>\n"}, {"tags": ["pipe", "perl"], "comments": [{"owner": {"reputation": 187, "user_id": 78248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/py5BZ.png?s=128&g=1", "display_name": "Tanami", "link": "https://stackoverflow.com/users/78248/tanami"}, "edited": false, "score": 0, "creation_date": 1492575675, "post_id": 43491041, "comment_id": 74036802, "body": "Why not put your processed blocks into an array and then process that array later in the execution?"}, {"owner": {"reputation": 89955, "user_id": 130758, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/MbIFT.jpg?s=128&g=1", "display_name": "devoured elysium", "link": "https://stackoverflow.com/users/130758/devoured-elysium"}, "reply_to_user": {"reputation": 187, "user_id": 78248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/py5BZ.png?s=128&g=1", "display_name": "Tanami", "link": "https://stackoverflow.com/users/78248/tanami"}, "edited": false, "score": 0, "creation_date": 1492585922, "post_id": 43491041, "comment_id": 74036803, "body": "Yes, it&#39;s the alternative I was thinking about."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492592912, "post_id": 43491041, "comment_id": 74037144, "body": "There is no need for <i>piping</i> at all. But you probably didn&#39;t actually mean two programs anyway. How much data do you expect? Can you keep all of it in memory? You&#39;re currently not showing how your input works. Is one block the complete input for one invocation of this program? Do you have to run it like that, or is writing it in one go in a Perl program an option?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492592922, "post_id": 43491041, "comment_id": 74037151, "body": "(You don&#39;t need <code>-w</code> in the shebang if you have <code>use warnings</code>)"}, {"owner": {"reputation": 89955, "user_id": 130758, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/MbIFT.jpg?s=128&g=1", "display_name": "devoured elysium", "link": "https://stackoverflow.com/users/130758/devoured-elysium"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492593185, "post_id": 43491041, "comment_id": 74037337, "body": "@simbabque: I can&#39;t keep the whole file in memory, it&#39;s potentially GBs in size, although I can certainly keep all the lines for a given block in memory (the average should be just 1-5 lines, once in a while 30-50 max)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492593407, "post_id": 43491041, "comment_id": 74037491, "body": "I think I would just do that it at the same time. Instead of the upper <code>print $block</code> I&#39;d do <code>process($block)</code> and have function do the processing. Pretty straight-forward. Don&#39;t keep around the stuff. Just deal with it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492597766, "post_id": 43491041, "comment_id": 74040582, "body": "I think this is easier than it sounds, but ... some sample input would help, as would some desired output. I think you&#39;ll <i>probably</i> find setting <code>$&#47;</code> to something appropriate for the record format you&#39;re using, will let you do what you want."}, {"owner": {"reputation": 89955, "user_id": 130758, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/MbIFT.jpg?s=128&g=1", "display_name": "devoured elysium", "link": "https://stackoverflow.com/users/130758/devoured-elysium"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492631947, "post_id": 43491041, "comment_id": 74064573, "body": "@Sobrique I don&#39;t think the $/ will work, from what I saw. Because I would need a regexp to know when a new line is really starting. Or is it possible to use $/ with regexps?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1493115493, "post_id": 43491041, "comment_id": 74264566, "body": "No, you cannot regex match it. However you probably can set it to <code>\\n[</code> in your example."}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1492592410, "question_id": 359818}, "owner": {"reputation": 89955, "user_id": 130758, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/MbIFT.jpg?s=128&g=1", "display_name": "devoured elysium", "link": "https://stackoverflow.com/users/130758/devoured-elysium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1492631701, "creation_date": 1492560678, "last_edit_date": 1492631701, "question_id": 43491041, "link": "https://stackoverflow.com/questions/43491041/piping-internally-in-perl", "title": "Piping internally in Perl", "body": "<p>I have a script that consists roughly of two parts:</p>\n\n<ol>\n<li>A preprocessing of the incoming input (where I may omit, merge, add lines to the output);</li>\n<li>A second stage where I do the actual processing.</li>\n</ol>\n\n<p>Would it be possible to somehow pipe that first part of the program to the second part of the (Perl) program? I would prefer doing that to having to do both things at the same time.</p>\n\n<p>Just to give a rough idea of what I currently have for step 1:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy $block = '';\nwhile (my $line = &lt;&gt;) {\n  if ($line =~ /^\\[.*\\] \\[.*\\] \\[.*\\] .*: /) {\n    if ($block ne '') {\n        print $block;\n    }\n    $block = $line;\n  } else {\n    $block = $block . $line;\n  }\n}\n\nif ($block ne '') {\n  print $block;\n}\n</code></pre>\n\n<p>(Step 2 should only deal with blocks, not with individual lines)</p>\n\n<p>EDIT:</p>\n\n<p>Example of input:</p>\n\n<pre><code>[global-akka.actor.default-dispatcher-2973] [DEBUG] [2017-04-18 15:41:07,077] c.e.d.s.o.AbcService: Dropping update:  (ID: 1644856891, Version: 7\nname: \"BBB CCC\"\ndisabled_position: true\n, status id 128385 )\n[global-akka.actor.default-dispatcher-2973] [DEBUG] [2017-04-18 15:41:07,077] c.e.d.s.o.AbcService: something else\n[global-akka.actor.default] [ERROR] [2017-04-18 15:41:07,077] c.e.d.s.o.DefService: yet something else\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1492555586, "post_id": 43483405, "comment_id": 74022702, "body": "That code is almost as old as I am. That scares me."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492555724, "post_id": 43483405, "comment_id": 74022737, "body": "<code>if ($foo eq &#39;Y&#39;) { print &quot;foo is y\\n&quot;; }</code> is all you need. <code>$is4ge = &quot;Y&quot;</code> is always <code>&quot;Y&quot;</code>. Comparing non-numerals needs <code>eq</code>. You say it dies. What is the error message?"}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492557400, "post_id": 43483405, "comment_id": 74023223, "body": "<code>if (!($is4ge = &quot;Y&quot;))</code> here you are assigning Y to $is4age and that makes it &quot;true&quot; - the assignment was sucessful. <code>==</code> tests if two things are &quot;equal&quot;. And in this case you would be better served using <code>if ($is4ge ne &#39;Y&#39;) </code> - a string comparison. But, as @simbabque mentioned, can&#39;t see why that would die or the next test would die. Do you mean it has no result and prints nothing?"}], "answers": [{"comments": [{"owner": {"reputation": 2559, "user_id": 652269, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/473159c4f8e609f70f7fe8149e7b7931?s=128&d=identicon&r=PG", "display_name": "Belmiris", "link": "https://stackoverflow.com/users/652269/belmiris"}, "edited": false, "score": 0, "creation_date": 1492609286, "post_id": 43483886, "comment_id": 74049145, "body": "Thanks very much."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1492558411, "creation_date": 1492558411, "answer_id": 43483886, "question_id": 43483405, "link": "https://stackoverflow.com/questions/43483405/how-do-i-compare-two-strings-using-perl/43483886#43483886", "title": "How do I compare two strings using Perl", "body": "<p>Curlies around the body of flow control statements are not optional in Perl.</p>\n\n<p><code>eq</code> is indeed the string comparison operator in Perl.</p>\n\n<p>So,</p>\n\n<pre><code>if (!($is4ge eq \"Y\")) {\n    $canrun = \"N\";\n}\n</code></pre>\n\n<p>Or just</p>\n\n<pre><code>if ($is4ge ne \"Y\") {\n    $canrun = \"N\";\n}\n</code></pre>\n\n<hr>\n\n<p>You really should be using <code>1</code> and <code>0</code> instead of <code>'Y'</code> and <code>'N'</code>, since they are true and a false values that can more easily be tested.</p>\n"}, {"comments": [{"owner": {"reputation": 2559, "user_id": 652269, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/473159c4f8e609f70f7fe8149e7b7931?s=128&d=identicon&r=PG", "display_name": "Belmiris", "link": "https://stackoverflow.com/users/652269/belmiris"}, "edited": false, "score": 0, "creation_date": 1492607737, "post_id": 43490064, "comment_id": 74047834, "body": "Thank you very much for you patience with my inexperience and your excellent answer! It seems the immediate culprit was not the compare operator but the lack if curly braces after the if statement (doh!). I will follow up with the reading you recommended."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1492589485, "creation_date": 1492589485, "answer_id": 43490064, "question_id": 43483405, "link": "https://stackoverflow.com/questions/43483405/how-do-i-compare-two-strings-using-perl/43490064#43490064", "title": "How do I compare two strings using Perl", "body": "<p>You have a good answer to your question, but it might be useful to point out how you could have investigated this yourself.</p>\n\n<p>Firstly, your original title for this question was \"How do I compare two strings in a CGI page under Apache?\" That title has been corrected because this problem has nothing to do with CGI or Apache, it's simply a misunderstanding about Perl syntax. I know you couldn't have known that initially, but a good way to investigate strange errors like this is to eliminate as many of the complications as possible. So forget about CGI and web servers - just write a simple Perl program.</p>\n\n<pre><code>#!/usr/bin/perl\n\n$canrun = 'N';\n$is4ge  = 'Y';\n\nif (!$is4ge eq 'Y')\n  $canrun = 'Y';\n\nprint $canrun;\n</code></pre>\n\n<p>Running this, we get:</p>\n\n<pre><code>$ perl testif\nScalar found where operator expected at testif line 7, near \")\n  $canrun\"\n    (Missing operator before $canrun?)\nsyntax error at testif line 7, near \")\n  $canrun \"\nExecution of testif aborted due to compilation errors.\n</code></pre>\n\n<p>That makes it clear that the problem is the syntax around lines 6 and 7. That might be enough to send you off to the <a href=\"https://perldoc.perl.org/perlsyn.html\" rel=\"noreferrer\">Perl syntax manual page</a>, where you would learn that condition statements in Perl always require braces around the block. If not, you could add the <code>diagnostics</code> pragma to get more information.</p>\n\n<p>So as you've already been told, the correct format for your test is</p>\n\n<pre><code>if ($is4ge ne 'Y') {\n   $canrun = 'Y';\n}\n</code></pre>\n\n<p>But there are a few other things in this program that will make it hard to maintain in the future. Basically, it is rather falling behind with Perl best practices.</p>\n\n<ul>\n<li>You use <code>-w</code> when that was replaced with <code>use warnings</code> in Perl 5.6.0 (released in 2000)</li>\n<li>You don't have <code>use strict</code> in the code (that will point out many bad practices in your code which you'll want to fix - in particular, you'll need to declare your variables).</li>\n<li>The two libraries that are <code>require</code>d at the top of the program might well be better rewritten as proper Perl modules.</li>\n<li>I worry that <code>jwshttpdutil.pl</code> might be a home-baked CGI parser that should be replaced with CGI.pm.</li>\n<li>The embedded HTML in the code should be replaced with a templating engine of some kind.</li>\n</ul>\n\n<p>Also, I recommend reading <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"noreferrer\">CGI::Alternatives</a> to bring yourself up to date with modern Perl methods for writing web applications. You are using techniques that were out of date before the end of the last millennium.</p>\n"}], "owner": {"reputation": 2559, "user_id": 652269, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/473159c4f8e609f70f7fe8149e7b7931?s=128&d=identicon&r=PG", "display_name": "Belmiris", "link": "https://stackoverflow.com/users/652269/belmiris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2957, "favorite_count": 0, "accepted_answer_id": 43490064, "answer_count": 2, "score": 1, "last_activity_date": 1492589485, "creation_date": 1492555422, "last_edit_date": 1492558803, "question_id": 43483405, "link": "https://stackoverflow.com/questions/43483405/how-do-i-compare-two-strings-using-perl", "title": "How do I compare two strings using Perl", "body": "<p>I have googled until I ran out of options. I must be doing something wrong but I cannot figure out what. (obviously I am new to Perl and inherited this project).\nI am just trying to see if a variable is equal to 'Y'. As you can see towards the bottom of the code below, I have tried 'eq', '=' and '=='. Other than setting a new variable equal to the result of an 'eq' operation, all the attempts result in the page blowing up. The result of the string test ($stringtest) appears to be empty and I would not know how to test it if it wasn't.</p>\n\n<pre><code>#!/usr/bin/perl -w\n#######################################################################\n# Test script to show how we can pass in the needed information\n# to a web page and use it to run a program on the webserver and\n# redirect its output to a text file.\n#######################################################################\nrequire 5;  #Perl 5 or greater\nrequire \"jwshttputil.pl\";\nrequire \"jwsdbutil.pl\";\n\n# Parse QUERY_STRING\n&amp;HTTPGet;\n# Parse POST_STRING - NOTE: This CLEARS the post data\n&amp;HTTPPost;\n\nprint STDOUT \"Content-type: text/html\\n\\n\";\nprint STDOUT \"&lt;HTML&gt;&lt;BODY&gt;\";\n\n$canrun = \"Y\";\n$is4ge = $Data{'is4ge'};\n$sYes = \"Y\";\n\n#Step 1: Check for needed values\nif ( !($Data{'user'}) )\n{\n    print \"user was not found&lt;br/&gt;\";\n    $canrun = \"N\";\n}\nif ( !($Data{'pwd'}) )\n{\n    print \"pwd was not found&lt;br/&gt;\";\n    $canrun = \"N\";\n}\nif ( !($Data{'is4ge'}) )\n{\n    print \"is4ge was not found&lt;br/&gt;\";\n    $canrun = \"N\";\n}\nprint \"$Data{'is4ge'}\";         #prints Y\nprint $is4ge;                   #prints Y\nif ( !($Data{'db'}) )\n{\n    print \"db was not found&lt;br/&gt;\";\n    #if (!($is4ge = \"Y\"))       #dies\n    #    $canrun = \"N\";\n\n    #if (!($is4ge eq \"Y\"))  #dies\n    #    $canrun = \"N\";\n\n    #$stringtest = ($is4ge eq $sYes);\n    #print $stringtest;     #displays nothing\n\n    #if (($is4ge == $sYes)) #dies\n    #    $canrun = \"N\";\n}\n\nprint STDOUT \"&lt;/BODY&gt;&lt;/HTML&gt;\";\n</code></pre>\n"}, {"tags": ["perl", "oop", "code-generation", "moose"], "answers": [{"tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": 0, "last_activity_date": 1493397462, "last_edit_date": 1493397462, "creation_date": 1492588282, "answer_id": 43489667, "question_id": 43482508, "link": "https://stackoverflow.com/questions/43482508/right-dynamic-class-generation-using-moosemetaclass-or-classmopclass/43489667#43489667", "title": "Right dynamic class generation using Moose::Meta::Class or Class::MOP::Class", "body": "<p>Who will respond to constructor creation?</p>\n\n<p>Another way is using of metaclass variables directly.</p>\n\n<p><a href=\"https://gist.github.com/akzhan/421579163dfc86f570809f50d239800f\" rel=\"nofollow noreferrer\">https://gist.github.com/akzhan/421579163dfc86f570809f50d239800f</a></p>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1493397462, "creation_date": 1492550896, "question_id": 43482508, "link": "https://stackoverflow.com/questions/43482508/right-dynamic-class-generation-using-moosemetaclass-or-classmopclass", "title": "Right dynamic class generation using Moose::Meta::Class or Class::MOP::Class", "body": "<p>I'd like to implement simple method chaining, for that methods must return objects. Since my code is using Moose already and my future classes are almost empty and return only one attribute with instance of another class I decided to generate them programmatically with <a href=\"https://metacpan.org/pod/Moose::Meta::Class\" rel=\"nofollow noreferrer\">Moose::Meta::Class</a> (that is subclass of <a href=\"https://metacpan.org/pod/Class::MOP::Class\" rel=\"nofollow noreferrer\">Class::MOP::Class</a>). First time working with Moose metaclasses so I wrote a simple code to try:</p>\n\n<pre><code>package Cat;\nuse Moose;\n\n\npackage Generator;\nuse Moose;\n\nsub generate {\n\n    Class::MOP::Class-&gt;create(\n       'Siberian' =&gt; (\n           methods =&gt; {\n                echo =&gt; sub { print 'yeah!' }\n            }\n       )\n    );\n\n    Class::MOP::Class-&gt;create(\n       'Tiger' =&gt; (\n           attributes   =&gt; [\n               Class::MOP::Attribute-&gt;new('Siberian' =&gt; (\n                default =&gt; sub { require Siberian; Siberian-&gt;new; }\n               )),\n           ],\n       )\n    );\n\n    Cat-&gt;meta-&gt;add_attribute(Class::MOP::Attribute-&gt;new(\n        Tiger =&gt; (\n            default   =&gt; sub { require Tiger; Tiger-&gt;new }\n        )\n    ));\n\n    print \"Generation done!\\n\";\n\n}\n\ngenerate();\n\n\npackage main;\nuse Generator;\n\nmy $a = Cat-&gt;new;\nwarn  $a-&gt;Tiger-&gt;Siberian-&gt;echo; # must print 'yeah!' but prints Can't locate object method \"new\" via package \"Tiger\" at dynamic.pl line 33\n</code></pre>\n\n<p>Instead of expected <code>yeah!</code> in output I see</p>\n\n<blockquote>\n  <p>Can't locate object method \"new\" via package \"Tiger\" at dynamic.pl\n  line 33</p>\n</blockquote>\n\n<p>What is wrong ?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1492548130, "post_id": 43481755, "comment_id": 74019545, "body": "Note that you can put the <code>\\K</code> after the first quote (and eventually use a lookahead for the second.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1492548373, "post_id": 43481755, "comment_id": 74019698, "body": "@CasimiretHippolyte Correct, however I thought it be clearer to have both quote marks handled in a consistent (same) way."}, {"owner": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 0, "creation_date": 1492612992, "post_id": 43481755, "comment_id": 74052211, "body": "The alternative answer looks great, but I&#39;m getting a syntax error &quot;near unexpected token `(&#39;&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 1, "creation_date": 1492622495, "post_id": 43481755, "comment_id": 74058860, "body": "@VagueExplanation Both of these work for me as they are, copy-pasted from here (just tested again). It sounds like something didn&#39;t get copied when you try it?  (Is this a normal line in a normal Perl script?)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 1, "creation_date": 1492622827, "post_id": 43481755, "comment_id": 74059062, "body": "@VagueExplanation Those <code>&#39;</code> won&#39;t work in a one-liner, if that&#39;s what is going on.  To get <code>&#39;</code> in a one-liner a little more is needed.  One way is to use ascii for <code>&#39;</code>, ie. <code>\\047</code>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1492577766, "last_edit_date": 1492577766, "creation_date": 1492547847, "answer_id": 43481755, "question_id": 43481594, "link": "https://stackoverflow.com/questions/43481594/perl-regex-increment-number-after-string-in-text-file/43481755#43481755", "title": "Perl Regex: Increment number after string in text file", "body": "<p>Presuming that you read line by line into a <code>$line</code> variable</p>\n\n<pre><code>$line =~ s/^\\$cacheVersion_conference\\s*=\\s*\\K'(\\d+)'/ q(') . (1+$1) . q(') /e;\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\"><code>\\K</code></a> is a form of <a href=\"http://perldoc.perl.org/5.8.9/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">lookbehind</a>, an <em>assertion</em> that the pattern that precedes it is indeed there. It also discards all previous matches, what allows <code>\\K</code> to also handle variable length patterns.</p>\n\n<p>The <code>/e</code> makes the replacement side be evaluated as code, and there we increment the number and reassemble the quoted number, <code>'N'</code>.  It's got to be legal code so literals need be quoted, <code>q(')</code>, we need to concatenate strings with <code>.</code> and with the expression in parenthesis, <code>(1+$1)</code>.</p>\n\n<p>Alternatively, you can just capture it all and then reassemble the whole thing</p>\n\n<pre><code>$line =~ s/^(\\$cacheVersion_conference\\s*=\\s*)'(\\d+)'/$1.q(').(1+$2).q(')/e;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1492553319, "creation_date": 1492553319, "answer_id": 43483017, "question_id": 43481594, "link": "https://stackoverflow.com/questions/43481594/perl-regex-increment-number-after-string-in-text-file/43483017#43483017", "title": "Perl Regex: Increment number after string in text file", "body": "<p>It sounds like you have read an entire file into a scalar variable. The approach is inexplicably popular and makes tasks such as this a lot more awkward than they need to be while using up much more memory than necessary</p>\n\n<p>Unless there is a good reason to have the whole file in memory at once you should read it a line at a time. If this is <em>all</em> you have to do to the file then it would look like this</p>\n\n<pre><code>open my $fh, '&lt;', 'myfile.txt' or die $!;\n\nwhile ( &lt;$fh&gt; ) {\n    s/(\\d+)/$1+1/e if /\\$cacheVersion_conference/;\n    print;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 0, "creation_date": 1492704657, "post_id": 43484179, "comment_id": 74102768, "body": "One thing that needs to be updated is the if statement missing the semicolon."}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "reply_to_user": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 1, "creation_date": 1492706080, "post_id": 43484179, "comment_id": 74103606, "body": "I didn&#39;t think about printing back to the file. I added some lines to print back to a new file."}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "reply_to_user": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 1, "creation_date": 1492706723, "post_id": 43484179, "comment_id": 74103954, "body": "Your semicolon is not important to the match. In fact, you could have left most of the line out of the matching criteria. Then you&#39;ll see patterns like: \\s[^\\s]{4,7}.+? etc. etc. - which are awesome in their power  - but, when I come back to the script later, I have to re-figure out what that super creative pattern was doing. I find it easier to use human readable text in the pattern whenever I can. All you really needed to do in that match was have enough in your pattern to match that unique line and capture the digits."}, {"owner": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 0, "creation_date": 1492706957, "post_id": 43484179, "comment_id": 74104102, "body": "For some reason the semicolon gave me problems, generating a multitude of &quot;$cacheVersion_conference =...&quot; in my text file."}, {"owner": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 0, "creation_date": 1492716526, "post_id": 43484179, "comment_id": 74109570, "body": "Not a huge issue, but is there a way of preventing it adding an additional new line when it saves the data to the text file? Every time I save, it makes an additional new line, so eventually it stacks up all this blank space."}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "reply_to_user": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 1, "creation_date": 1492718358, "post_id": 43484179, "comment_id": 74110560, "body": "You appear to be slurping the entire file into the var $data and doing a substitution on the slurped file then outputting it. No need to do any of that. Print the file back out line-by-line as you read it in. See my updated answer. (I don&#39;t know why that works at all)"}, {"owner": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 0, "creation_date": 1492790552, "post_id": 43484179, "comment_id": 74146506, "body": "I&#39;m setting the same $IN and $OUT destination. Is that not okay? It deletes all the text in my file."}, {"owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "reply_to_user": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 0, "creation_date": 1492791514, "post_id": 43484179, "comment_id": 74147114, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/142303/discussion-between-cbmckay-and-vagueexplanation\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "is_accepted": true, "score": 2, "last_activity_date": 1492705941, "last_edit_date": 1492705941, "creation_date": 1492560761, "answer_id": 43484179, "question_id": 43481594, "link": "https://stackoverflow.com/questions/43481594/perl-regex-increment-number-after-string-in-text-file/43484179#43484179", "title": "Perl Regex: Increment number after string in text file", "body": "<p>What you would want to do is something like this:</p>\n\n<pre><code>open (my $IN, '&lt;', 'yourFile.txt') or die ('IN File err: '. $!);\nopen (my $OUT, '&gt;', 'newFile.txt') or die ('OUT file err: '. $!);\n\nwhile (&lt;$IN&gt;) {  # read the file line by line\n    if (/\\$cacheVersion_conference = '(\\d+)'/) { # match the line &amp; capture the digit(s)\n       my $new_ver = $1 + 1; # increment the digit\n       print $OUT \"\\$cacheVersion_conference = '$new_ver';\\n\"; # print newly constructed line \n    }\n    else {print $OUT} # print out the unmatched, unchanged lines\n}\n</code></pre>\n\n<p>That might be a little easier to understand than an inline substitution</p>\n"}], "owner": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "accepted_answer_id": 43484179, "answer_count": 3, "score": 1, "last_activity_date": 1492705941, "creation_date": 1492547239, "last_edit_date": 1492705146, "question_id": 43481594, "link": "https://stackoverflow.com/questions/43481594/perl-regex-increment-number-after-string-in-text-file", "title": "Perl Regex: Increment number after string in text file", "body": "<p>I have a line in a text file that says:</p>\n\n<pre><code>$cacheVersion_conference = '2';\n</code></pre>\n\n<p>I want to increment the number 2.</p>\n\n<p>I think I got as far as matching <code>\"$cacheVersion_conference = \"</code> with:</p>\n\n<pre><code>[\\n\\r].*$cacheVersion_conference = \\\\s*([^\\n\\r]*)\n</code></pre>\n\n<p>This way, I could possibly match that and replace everything until the next line with the incremented number. </p>\n\n<p><strong>UPDATE</strong> - Answer for writing back onto the source file. Requires installing Path::Tiny</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n\nuse Path::Tiny qw(path);\n\nmy $filename = 'my/source/file.php';\n\nmy $file = path($filename);\n\nopen my $fh, '&lt;', $filename or die \"File open err: $!\";\n\nwhile (&lt;$fh&gt;) {  # read the file line by line\n    if (/\\$cacheVersion_conference = '(\\d+)';/) { # match the line &amp; capture the digit(s)\n       my $new_ver = $1 + 1; # increment the digit\n       my $line = &lt;$fh&gt;;\n       chomp $line;\n\n       my $replacement = \"\\$cacheVersion_conference = '$new_ver';\\n\"; \n\n       my $data = $file-&gt;slurp_utf8;\n       $data =~ s/$line/$replacement/g;\n       $file-&gt;spew_utf8( $data );\n\n       print $replacement; # print newly constructed line \n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "file-io", "heredoc"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1492545462, "post_id": 43481030, "comment_id": 74018008, "body": "Try using IO::Handle and the $fh-&gt;print() syntax."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1492549511, "post_id": 43481030, "comment_id": 74020343, "body": "@AKHolland: Conveniently, <code>IO::File</code> (and so <code>IO::Handle</code>) is loaded on demand by any Perl v5.14 or later. That means you can just use any file handle as if it&#39;s an <code>IO::File</code> object without adding an explicit <code>use IO::File</code> beforehand."}], "answers": [{"comments": [{"owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1492547730, "post_id": 43481616, "comment_id": 74019290, "body": "<code>perldoc perlop</code> : &quot;There may not be a space between the &lt;&lt; and the identifier, unless the identifier is explicitly quoted.&quot;  The OP uses explicit quotes."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 1, "creation_date": 1492547771, "post_id": 43481616, "comment_id": 74019318, "body": "@toolic: I guess that&#39;s just wrong. I&#39;ll submit a bug report"}, {"owner": {"reputation": 1770, "user_id": 1054397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8218beaae675c36460465d04d068e69?s=128&d=identicon&r=PG", "display_name": "ardnew", "link": "https://stackoverflow.com/users/1054397/ardnew"}, "edited": false, "score": 0, "creation_date": 1492548090, "post_id": 43481616, "comment_id": 74019514, "body": "also remember in the bug report that this behavior only occurs when using lexical filehandles, it&#39;s more specific than just the spacing around the <code>&lt;&lt;</code> operator. and thanks for the insight!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1770, "user_id": 1054397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8218beaae675c36460465d04d068e69?s=128&d=identicon&r=PG", "display_name": "ardnew", "link": "https://stackoverflow.com/users/1054397/ardnew"}, "edited": false, "score": 0, "creation_date": 1492549327, "post_id": 43481616, "comment_id": 74020254, "body": "@ardnew: It&#39;s more general than that. A here document can be used anywhere a string may appear in a program, and so it may be preceded by many things other than a <code>print</code> call. Without a space after the <code>&lt;&lt;</code> it will be treated as a left-shift if it makes syntactic sense."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1770, "user_id": 1054397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8218beaae675c36460465d04d068e69?s=128&d=identicon&r=PG", "display_name": "ardnew", "link": "https://stackoverflow.com/users/1054397/ardnew"}, "edited": false, "score": 0, "creation_date": 1492554151, "post_id": 43481616, "comment_id": 74022268, "body": "@ardnew, There&#39;s no bug. Generally speaking, <code>&lt;&lt; &quot;EOF&quot;</code> works perfectly fine. The actual problem is that you encountered a grammatical ambiguity. Claims that there shouldn&#39;t be a after the <code>&lt;&lt;</code> marking the here-document are false (if what follows is quoted)."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1492547905, "last_edit_date": 1492547905, "creation_date": 1492547313, "answer_id": 43481616, "question_id": 43481030, "link": "https://stackoverflow.com/questions/43481030/how-to-print-code-embedded-in-a-here-doc-to-lexical-filehandle/43481616#43481616", "title": "How to print code embedded in a here-doc to lexical filehandle", "body": "<p>There should be no space after <code>&lt;&lt;</code> marking the here document, so</p>\n\n<pre><code>print $fh &lt;&lt; \"MODULE\";\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>print $fh &lt;&lt;\"MODULE\";\n</code></pre>\n\n<p>or more neatly</p>\n\n<pre><code>print $fh &lt;&lt;MODULE;\n</code></pre>\n\n<p>or perhaps</p>\n\n<pre><code>print $fh (&lt;&lt; \"MODULE\");\n</code></pre>\n\n<p>As it is the <code>&lt;&lt;</code> is being treated as a left-shift operator and Perl continues to try to compile the <code>package</code> statement. Finding no valid package name it tries to use <code>$name</code>as a version number, and complains because it isn't one</p>\n"}, {"comments": [{"owner": {"reputation": 1770, "user_id": 1054397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8218beaae675c36460465d04d068e69?s=128&d=identicon&r=PG", "display_name": "ardnew", "link": "https://stackoverflow.com/users/1054397/ardnew"}, "edited": false, "score": 0, "creation_date": 1493066166, "post_id": 43482987, "comment_id": 74244797, "body": "it seems strange to me that the ambiguity is resolved by assuming a left-shift operation <i>when one of the operands is a literal, non-numeric string</i>. even the <code>use warnings</code> pragma knows <code>&quot;MODULE&quot;</code> is an invalid argument to <code>&lt;&lt;</code> (although the pragma checks are prob way too late to be resolving semantics)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1492553897, "last_edit_date": 1492553897, "creation_date": 1492553163, "answer_id": 43482987, "question_id": 43481030, "link": "https://stackoverflow.com/questions/43481030/how-to-print-code-embedded-in-a-here-doc-to-lexical-filehandle/43482987#43482987", "title": "How to print code embedded in a here-doc to lexical filehandle", "body": "<p>Perl is an ambiguous language. It means that it's not always clear how it should be parsed. In some situations, <code>perl</code> has to guess how to parse something. There's a grammatical ambiguity in</p>\n\n<pre><code>print $fh &lt;&lt; \"MODULE\";\n</code></pre>\n\n<p>Specifically, the <code>&lt;&lt;</code> can be a left shift operator or the start of here-doc. </p>\n\n<hr>\n\n<p>There are two paths you can follow to address the issue.</p>\n\n<ul>\n<li><p>You can remove the ambiguity:</p>\n\n<pre><code>print $fh +&lt;&lt; \"MODULE\";\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>print $fh (&lt;&lt; \"MODULE\");\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>print { $fh } &lt;&lt; \"MODULE\";\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$fh-&gt;print(&lt;&lt; \"MODULE\");\n</code></pre></li>\n<li><p>You can trick <code>perl</code> into guessing correctly:</p>\n\n<pre><code>print $fh &lt;&lt;\"MODULE\";\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>Note that <code>print $fh +&lt;&lt; \"MODULE\";</code> introduces an alternate ambiguity. Is <code>+</code> a binary or unary <code>+</code> operator? Thankfully, it's interpreted as a unary-<code>+</code> as desired.</p>\n\n<hr>\n\n<p>By the way, <code>&lt;&lt;\"MODULE\"</code> can be shortened to <code>&lt;&lt;MODULE</code>.</p>\n"}], "owner": {"reputation": 1770, "user_id": 1054397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8218beaae675c36460465d04d068e69?s=128&d=identicon&r=PG", "display_name": "ardnew", "link": "https://stackoverflow.com/users/1054397/ardnew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 43482987, "answer_count": 2, "score": 1, "last_activity_date": 1492553897, "creation_date": 1492545154, "question_id": 43481030, "link": "https://stackoverflow.com/questions/43481030/how-to-print-code-embedded-in-a-here-doc-to-lexical-filehandle", "title": "How to print code embedded in a here-doc to lexical filehandle", "body": "<p>I'm trying to create a script that will generate perl code from a template, and I'm having trouble understanding the error being thrown and why my workaround fixes it.</p>\n\n<p>This example is contrived, but it demonstrates the issue:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $name = shift; # from @ARGV\nmy $file = sprintf \"%s.pm\", $name;\n\nopen my $fh, \"&gt;\", $file\n  or die \"error: open(&gt;, '$file'): $!\";\n\nprint $fh &lt;&lt; \"MODULE\";\npackage $name;\n\n#\n# blah blah\n#\n\nuse strict;\nuse warnings;\n\nrequire Exporter;\n\nour \\@ISA       = qw| Exporter |;\nour \\@EXPORT    = qw| |; # automatic exports\nour \\@EXPORT_OK = qw| |; # on-demand exports\n\n# CODE\n\n1;\nMODULE\n\nclose $fh;\n</code></pre>\n\n<p>When running this script, I get the following error:</p>\n\n<pre><code>$ perl script.pl Foo\nInvalid version format (non-numeric data) at script.pl line 11, near \"package \"\nsyntax error at script.pl line 11, near \"package $name\"\nBEGIN not safe after errors--compilation aborted at script.pl line 17.\n</code></pre>\n\n<p>Originally this script was just printing to stdout instead of writing to file -- no errors thrown. After adding the file handling and receiving this error, I then tried to just use a bare filehandle -- again no errors thrown.</p>\n\n<p>So if I merely replace \"$fh\" with \"FH\" everywhere, the script works as expected. What is it about the lexical filehandle causing this to choke?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1492545223, "last_edit_date": 1492545223, "creation_date": 1492544838, "answer_id": 43480945, "question_id": 43480870, "link": "https://stackoverflow.com/questions/43480870/assign-value-to-array-unless-defined-in-perl/43480945#43480945", "title": "Assign value to array unless defined in perl", "body": "<blockquote>\n  <p><em>Assign value to array unless defined</em></p>\n</blockquote>\n\n<p>There's no such thing as a defined or undefined array.</p>\n\n<p>To assign to an array if it's <em>empty</em>,</p>\n\n<pre><code>@arr = 'def' if !@arr;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>Exists some shorten way to assign default values to the array if here no <code>@ARGV</code>?</em></p>\n</blockquote>\n\n<p><code>@ARGV</code> always exists.</p>\n\n<p>To copy an array into another, using alternate values if the source array is <em>empty</em>, you can use the following:</p>\n\n<pre><code>my @arr = @ARGV ? @ARGV : 'def';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1492546128, "last_edit_date": 1492546128, "creation_date": 1492544860, "answer_id": 43480953, "question_id": 43480870, "link": "https://stackoverflow.com/questions/43480870/assign-value-to-array-unless-defined-in-perl/43480953#43480953", "title": "Assign value to array unless defined in perl", "body": "<p>The simple</p>\n\n<pre><code>my @arr = @ARGV ? @ARGV : ('def');\n</code></pre>\n\n<p>where you may omit the parenthesis if there is indeed just one value to assign.</p>\n\n<p>That last example doesn't work because <code>//</code>, <code>||</code>, and <code>&amp;&amp;</code> evaluate the definedness or truth of their left-hand side, so they impose a scalar context on their left-hand side (coerceing the array into a count of its elements). See <a href=\"http://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow noreferrer\">it in perlop</a>.</p>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 43480953, "answer_count": 2, "score": 1, "last_activity_date": 1492546128, "creation_date": 1492544612, "question_id": 43480870, "link": "https://stackoverflow.com/questions/43480870/assign-value-to-array-unless-defined-in-perl", "title": "Assign value to array unless defined in perl", "body": "<p>Let have a code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use 5.014;\nuse warnings;\n\nmy $def = 'default_value';\n\n# this works,.\n# e.g. unless here are some arguments\n# assigns to element0 the value $def\nmy(@arr) = (@ARGV);\npush @arr, $def unless @arr;\nsay \"args: @arr\";\n\n# this also works\n# same for scalar - ARGV[0]\nmy $a1 = $ARGV[0] // $def;\nsay \"arg1: $a1\";\n</code></pre>\n\n<p>Exists some shorten way to assign default values to the array if here no <code>@ARGV</code>?</p>\n\n<pre><code>#this not works\n#my(@arr) = (@ARGV) // ('def');\n</code></pre>\n"}, {"tags": ["perl", "hash", "reference"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1492536239, "post_id": 43478483, "comment_id": 74012419, "body": "<a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlreftut.html</a>"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1492537680, "post_id": 43478483, "comment_id": 74013264, "body": "Actually $target_parser_list isnt a hash but a reference to a hash so you&#39;d have to: for my $key (sort keys %$target_parser_list) { print $key }"}, {"owner": {"reputation": 95, "user_id": 7522582, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ogQgj.png?s=128&g=1", "display_name": "yankel", "link": "https://stackoverflow.com/users/7522582/yankel"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1492539720, "post_id": 43478483, "comment_id": 74014585, "body": "@Kjetil, that&#39;s what I did to solve this, Thanks"}], "owner": {"reputation": 95, "user_id": 7522582, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ogQgj.png?s=128&g=1", "display_name": "yankel", "link": "https://stackoverflow.com/users/7522582/yankel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "closed_date": 1492536602, "answer_count": 0, "score": 0, "last_activity_date": 1492536303, "creation_date": 1492535997, "last_edit_date": 1492536303, "question_id": 43478483, "link": "https://stackoverflow.com/questions/43478483/how-to-iterate-over-the-values-of-my-hash-in-perl", "closed_reason": "Duplicate", "title": "how to iterate over the values of my hash in perl", "body": "<p>I have a hash saved in $target_parser_list</p>\n\n<p>In the debugger this is what I have </p>\n\n<pre><code>   DB&lt;3&gt; x  $target_parser_list\n0  HASH(0xd570d28)\n   'ASCE::ASCE' =&gt; undef\n   'Bulk::BULK' =&gt; undef\n   'Bulk::BULKdoi' =&gt; undef\n   'CQ::Researcher' =&gt; undef\n   'Highwire::OUP' =&gt; undef\n   'Highwire::highwire' =&gt; undef\n   'INFORMIT::INFORMIT' =&gt; undef\n</code></pre>\n\n<p>but then when I try to iterate over it </p>\n\n<pre><code>foreach my $key(keys %target_parser_list ){\n    print $key;\n</code></pre>\n\n<p>}</p>\n\n<p>I get the error that </p>\n\n<pre><code>Global symbol \"%target_parser_list\" requires explicit package name\n</code></pre>\n\n<p>When I try to change it to</p>\n\n<pre><code>foreach my $key(keys $target_parser_list ){\n</code></pre>\n\n<p>Then I get an error saying that I need a hash, </p>\n\n<pre><code>Type of arg 1 to keys must be hash (not private variable\n</code></pre>\n\n<p>If I change the $target_parset_list variable to hash</p>\n\n<pre><code>my %target_parser_list =  $target_parser_list_conf-&gt;getSection('target_parser') || '';\n</code></pre>\n\n<p>Then the output is </p>\n\n<pre><code>DB&lt;2&gt; x  %target_parser_list\n0  'HASH(0xc758888)'\n1  undef\n</code></pre>\n\n<p>and when I print my key it's </p>\n\n<pre><code>DB&lt;3&gt; x $key\n0  'HASH(0xd5353d0)'\n</code></pre>\n\n<p>Please show me how to iterate over my keys like you see in the beggining.</p>\n"}, {"tags": ["excel", "perl", "scripting", "report"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492543192, "post_id": 43476857, "comment_id": 74016688, "body": "Please try to keep your code tidy, especially before asking for help with it. It helps enormously to follow a program if it is properly indented and laid out. I have done it for you this time, and I hope you can see the improvement? Please also <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of <i>every</i> Perl program you write. It is your first line of defence against basic errors and mistakes and should never be omitted even in the simplest of programs."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 6076762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf70be52c927c14377b15432dd6273e?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh k", "link": "https://stackoverflow.com/users/6076762/venkatesh-k"}, "edited": false, "score": 0, "creation_date": 1492571133, "post_id": 43477361, "comment_id": 74026614, "body": "Borodin:I tried using  ColorIdxToRGB  and it gives me  error:                                  Can&#39;t locate object method &quot;ColorIdxToRGB&quot; via package &quot;Spreadsheet::ParseExcel::Workbook&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 6076762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf70be52c927c14377b15432dd6273e?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh k", "link": "https://stackoverflow.com/users/6076762/venkatesh-k"}, "edited": false, "score": 0, "creation_date": 1492597730, "post_id": 43477361, "comment_id": 74040560, "body": "@Venkateshk: I imagine that you have an old copy of <code>Spreadsheet::ParseExcel</code>. What is the output of <code>perl -MSpreadsheet::ParseExcel -E &#39;say Spreadsheet::ParseExcel-&gt;VERSION&#39;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 6076762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf70be52c927c14377b15432dd6273e?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh k", "link": "https://stackoverflow.com/users/6076762/venkatesh-k"}, "edited": false, "score": 0, "creation_date": 1492603056, "post_id": 43477361, "comment_id": 74044341, "body": "@Venkateshk: Please see the update to my answer. I&#39;ve looked at the source of the module, and it seems that the documentation is wrong. You need to call <code>$workbook-&gt;color_idx_to_rgb($color_index)</code> instead."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1492602952, "last_edit_date": 1592644375, "creation_date": 1492532302, "answer_id": 43477361, "question_id": 43476857, "link": "https://stackoverflow.com/questions/43476857/getting-the-background-color-of-a-cell-in-an-existing-excel-spreadsheet/43477361#43477361", "title": "Getting the background color of a cell in an existing Excel spreadsheet", "body": "<h3>Update</h3>\n<p>It appears that the documentation is wrong. The name of the workbook object method is different from that of the class method, and you need to call</p>\n<pre><code>$workbook-&gt;color_idx_to_rgb($color_index)\n</code></pre>\n<p>instead</p>\n<br/>\n<hr />\n<p>The <a href=\"https://metacpan.org/pod/Spreadsheet::ParseExcel#$font-%3E%7BColor%7D\" rel=\"nofollow noreferrer\">documentation for <code>Spreadsheet::ParseExcel</code></a> says this</p>\n<blockquote>\n<p><strong>$font-&gt;{Color}</strong></p>\n<p>Returns the color index for the font. The mapping to an RGB color is defined by each workbook.</p>\n<p>The index can be converted to a RGB string using the <code>$workbook-&gt;ColorIdxToRGB()</code> Parser method.</p>\n<p>(Older versions of <code>Spreadsheet::ParseExcel</code> provided the <code>ColorIdxToRGB</code> class method, which is deprecated.)</p>\n</blockquote>\n<p>I expect that the colour indexes in the <code>$format-&gt;{Fill}</code> array can be translated similarly</p>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 6076762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf70be52c927c14377b15432dd6273e?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh k", "link": "https://stackoverflow.com/users/6076762/venkatesh-k"}, "edited": false, "score": 0, "creation_date": 1492593874, "post_id": 43491170, "comment_id": 74037811, "body": "Hello Thanos:Thanx for the answer.But I am not looking for setting the font color. I am looking for to read a background color of a cell and apply the same background color to the cell which is in new Spreadsheet.Background color of a cell can be set through set_bg_color() of Spreadsheet::WriteExcel.The thing is when I am reading the background color throuh $format-&gt;{Fill}[2] method I am getting 65(if no bg color) or 64 irrespective of the background color."}, {"owner": {"reputation": 1010, "user_id": 2418001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a85d8e000f6904783dc322a8a3eef90f?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/2418001/thanos"}, "reply_to_user": {"reputation": 19, "user_id": 6076762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf70be52c927c14377b15432dd6273e?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh k", "link": "https://stackoverflow.com/users/6076762/venkatesh-k"}, "edited": false, "score": 0, "creation_date": 1492595393, "post_id": 43491170, "comment_id": 74038926, "body": "@Venkateshk take a look on the update solution. Try it and let me know if it also works for you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492597899, "post_id": 43491170, "comment_id": 74040661, "body": "The &quot;palette&quot;\u2014the mapping between a colour index and an actual colour value\u2014is specific to each spreadsheet. You can&#39;t just copy colour indexes from one spreadsheet to another and expect the same result."}, {"owner": {"reputation": 1010, "user_id": 2418001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a85d8e000f6904783dc322a8a3eef90f?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/2418001/thanos"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492599714, "post_id": 43491170, "comment_id": 74041988, "body": "@Borodin correct if I am wrong, but the OP wants to read and parse an excel file and create an &quot;alternate/copy&quot; of the same xls file format. So why not using the same index?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492603124, "post_id": 43491170, "comment_id": 74044386, "body": "@Thanos: That&#39;s what I was trying to explain. You can use the same index, but there&#39;s no way of knowing what actual colour it will map to in the new Excel workbook. It may be the same colour, but there&#39;s no guarantee. That&#39;s why the the module has been changed from using a class method <code>Spreadsheet::ParseExcel-&gt;ColorIdxToRGB($colour_index)</code> to a workbook object method <code>$workbook-&gt;color_idx_to_rgb($color_index)</code>."}, {"owner": {"reputation": 1010, "user_id": 2418001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a85d8e000f6904783dc322a8a3eef90f?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/2418001/thanos"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492641265, "post_id": 43491170, "comment_id": 74069020, "body": "@Borodin: I understand your point but I am facing a problem. I get the color from <code>my $sRGB_2 = $workbook-&gt;color_idx_to_rgb($format-&gt;{Fill}-&gt;[2]);</code> but when I set the color in hex format e.g. (<code>ffff00</code>) with the method <code>add_format(bg_color =&gt; &quot;ffff00&quot;)</code> it does not create the correct background color, but when I define it like <code>add_format(bg_color =&gt; $format-&gt;{Fill}-&gt;[2])</code> works just fine. Any ideas why?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492644599, "post_id": 43491170, "comment_id": 74070051, "body": "@Thanos: If you have a problem of your own then please post a question, giving as much detail as possible. You shouldn&#39;t hijack someone else&#39;s thread. Stack Overflow is a knowledge base, not a chat forum."}], "tags": [], "owner": {"reputation": 1010, "user_id": 2418001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a85d8e000f6904783dc322a8a3eef90f?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/2418001/thanos"}, "is_accepted": false, "score": -1, "last_activity_date": 1492597583, "last_edit_date": 1492597583, "creation_date": 1492592787, "answer_id": 43491170, "question_id": 43476857, "link": "https://stackoverflow.com/questions/43476857/getting-the-background-color-of-a-cell-in-an-existing-excel-spreadsheet/43491170#43491170", "title": "Getting the background color of a cell in an existing Excel spreadsheet", "body": "<p>Hello <a href=\"https://stackoverflow.com/users/6076762/venkatesh-k\">Venkatesh k</a>,</p>\n\n<p>Try the <a href=\"http://search.cpan.org/~jmcnamara/Spreadsheet-WriteExcel-2.40/lib/Spreadsheet/WriteExcel.pm#set_color()\" rel=\"nofollow noreferrer\">set_color()</a> method from (<a href=\"http://search.cpan.org/~jmcnamara/Spreadsheet-WriteExcel-2.40/lib/Spreadsheet/WriteExcel.pm#set_color()\" rel=\"nofollow noreferrer\">Spreadsheet::WriteExcel</a>).</p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n<pre><code> Default state:      Excels default color, usually black\n Default action:     Set the default color\n Valid args:         Integers from 8..63 or the following strings:\n                    'black'\n                    'blue'\n                    'brown'\n                    'cyan'\n                    'gray'\n                    'green'\n                    'lime'\n                    'magenta'\n                    'navy'\n                    'orange'\n                    'pink'\n                    'purple'\n                    'red'\n                    'silver'\n                    'white'\n                    'yellow'\n</code></pre>\n</blockquote>\n\n<p><strong>Update:</strong> try this, it seems to be working for my example spread sheet.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Spreadsheet::WriteExcel;\nuse Spreadsheet::ParseExcel;\n\nsub create_new_worksheet {\n    my ($row, $col, $value, $backgroundcolor) = @_;\n\n    # Create a new Excel workbook\n    my $workbook = Spreadsheet::WriteExcel-&gt;new('perl.xls');\n\n    # Add a worksheet\n    my $worksheet = $workbook-&gt;add_worksheet();\n\n    #  Add and define a format\n    my $format = $workbook-&gt;add_format(bg_color =&gt; $backgroundcolor);\n    $format-&gt;set_align('center');\n\n    # Write a formatted and unformatted string, row and column notation.\n    $worksheet-&gt;write($row, $col, $value, $format);\n}\n\nmy $parser          = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook_parse  = $parser-&gt;Parse( 'Report.xls' );\nmy $worksheet_parse = $workbook_parse-&gt;Worksheet(\"Sheet1\");\nmy ( $col_min, $col_max ) = $worksheet_parse-&gt;col_range();\nmy ( $row_min, $row_max ) = $worksheet_parse-&gt;row_range();\n\nfor my $col ( $col_min .. $col_max ) {\n\n    for my $row ( $row_min .. $row_max ) {\n\n    # Return the cell object at $row and $col\n\n    my $cell = $worksheet_parse-&gt;get_cell( $row, $col );\n    next unless $cell;\n\n    my $value           = $cell-&gt;value();\n    my $format          = $cell-&gt;get_format();\n    my $backgroundcolor = $format-&gt;{Fill}-&gt;[2];\n\n    print \"Row, Col    = ($row, $col) \";\n    print \"Value       = $value\\n\";\n    print \"Format      = $backgroundcolor\\n\";\n\n    create_new_worksheet($row, $col, $value, $backgroundcolor);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6076762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf70be52c927c14377b15432dd6273e?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh k", "link": "https://stackoverflow.com/users/6076762/venkatesh-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2024, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1492602952, "creation_date": 1492530784, "last_edit_date": 1492542999, "question_id": 43476857, "link": "https://stackoverflow.com/questions/43476857/getting-the-background-color-of-a-cell-in-an-existing-excel-spreadsheet", "title": "Getting the background color of a cell in an existing Excel spreadsheet", "body": "\n\n<p>I am trying to read an existing Excel spreadsheet and write it into a new Excel document with all the same format options.</p>\n\n<p>I am able to read the cell contents and write them into the new Excel sheet, but I cannot get the background color of the cell.</p>\n\n<p>If I use the <code>$cell-&gt;get_format-&gt;{Fill}[2]</code> method it gives me numbers like either 64 or 65 if the cell has a background color.</p>\n\n<p>How can I get the actual color of a cell and apply the same background color to the cell in new Excel sheet?</p>\n\n<p>I am doing all these things as there is no method available in the <code>Spreadsheet::ParseExcel</code> module to set the background color for a cell after appending data to an existing Excel sheet.</p>\n\n<p>Here is my code</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Spreadsheet::WriteExcel;\nuse Spreadsheet::ParseExcel;\n\nmy $parser          = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook_parse  = $parser-&gt;Parse( 'Report.xls' );\nmy $worksheet_parse = $workbook_parse-&gt;Worksheet( \"Health_Report\" );\nmy ( $col_min, $col_max ) = $worksheet_parse-&gt;col_range();\nmy ( $row_min, $row_max ) = $worksheet_parse-&gt;row_range();\n\nmy $workbook   = Spreadsheet::WriteExcel-&gt;new( \"Report_new.xls\" );\nmy $worksheet  = $workbook-&gt;addworksheet( \"Health_Report\" );\nmy $bkgd_color = $workbook-&gt;addformat();\n\nfor my $col ( $col_min .. $col_max ) {\n\n    for my $row ( $row_min .. $row_max ) {\n\n        # Return the cell object at $row and $col\n\n        my $cell = $worksheet_parse-&gt;get_cell( $row, $col );\n        next unless $cell;\n\n        my $value           = $cell-&gt;value();\n        my $format          = $cell-&gt;get_format();\n        my $backgroundcolor = $format-&gt;{Fill}-&gt;[2];\n\n        print \"Row, Col    = ($row, $col) \";\n        print \"Value       = $value\\n\";\n        print \"Format      = $backgroundcolor\\n\";\n\n        $bkgd_color-&gt;set_bg_color( $backgroundcolor );\n\n        ### Here trying to rewrite into Excel and apply the\n        ### same background color which the cell had previously\n\n        $worksheet-&gt;write( $row, $col, $value, $bkgd_color );\n    }\n}\n</code></pre>\n\n<p>Part of my output from print statements:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Format      = 65\nRow, Col    = (25, 4) Value       = -115966\nFormat      = 65\nRow, Col    = (10, 5) Value       = 20170417\nFormat      = 65\nRow, Col    = (11, 5) Value       = 0\nFormat      = 64\nRow, Col    = (16, 5) Value       = 0\nFormat      = 64\n</code></pre>\n"}, {"tags": ["perl", "hash", "getopt-long"], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1492538890, "post_id": 43477400, "comment_id": 74014012, "body": "Thanks for the answer! I don&#39;t like the first option really. First of all because it will generate empty arrays even if an option is not specified in the CLI. This is simply not practical: simple checking for the existence of the option with <code>exists $h{&#39;option&#39;}</code> will always return true, even if not set. I cannot imagine that the developers of GetOpt intended this usage. The second suggestion does work fine though, so I&#39;ll use that. Thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1492535926, "last_edit_date": 1492535926, "creation_date": 1492532437, "answer_id": 43477400, "question_id": 43476079, "link": "https://stackoverflow.com/questions/43476079/add-getoptlong-options-in-a-hash-even-when-using-a-repeat-specifier/43477400#43477400", "title": "Add Getopt::Long options in a hash, even when using a repeat specifier", "body": "<p>If you want an array, you need to give it a reference to an array.</p>\n\n<pre><code>local @ARGV = qw( --x y z );\nmy %h = ( x =&gt; [] );\nGetOptions(\\%h, 'x=s{2}');\nprint(Dumper(\\%h));\n</code></pre>\n\n<p>Or you need to specify that you want an array.</p>\n\n<pre><code>local @ARGV = qw( --x y z );\nGetOptions(\\my %h, 'x=s@{2}');\nprint(Dumper(\\%h));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'x' =&gt; [\n                   'y',\n                   'z'\n                 ]\n        };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 1, "creation_date": 1492539035, "post_id": 43477548, "comment_id": 74014114, "body": "Considering the other answers here, do you still think this is a bug? The suggested answer of using <code>@{1,2}</code> works fine, but perhaps you think it should also work without a type declaration?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1492548675, "post_id": 43477548, "comment_id": 74019867, "body": "@BramVanroy: Absolutely. If the syntax that you used is incorrect then it shouldn&#39;t be accepted by the module. If it is correct then it should work. Under no circumstances should it silently &quot;lose&quot; all but one value of a parameter that has been specifically defined to be multi-valued. I&#39;ll raise the issue myself if you prefer?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1492548820, "post_id": 43477548, "comment_id": 74019955, "body": "@BramVanroy: I guess I&#39;m saying that <code>parents=s{1,2}</code> should always behave as <code>parents=s@{1,2}</code> because treating such a value as a simple scalar is nonsense."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1492532896, "creation_date": 1492532896, "answer_id": 43477548, "question_id": 43476079, "link": "https://stackoverflow.com/questions/43476079/add-getoptlong-options-in-a-hash-even-when-using-a-repeat-specifier/43477548#43477548", "title": "Add Getopt::Long options in a hash, even when using a repeat specifier", "body": "<p>The <a href=\"http://perldoc.perl.org/Getopt/Long.html#Options-with-multiple-values\" rel=\"nofollow noreferrer\"><em>Options with multiple values</em></a> section of the documentation that you link to also says this</p>\n\n<blockquote>\n  <p>Warning: What follows is an experimental feature.</p>\n</blockquote>\n\n<p>It says earlier on</p>\n\n<blockquote>\n  <p>GetOptions (\\%h, 'colours=s@');   # will push to @{$h{colours}}</p>\n</blockquote>\n\n<p>so I guess that it was the author's intent for it to work the same way with repeat specifiers, and that you have found a bug</p>\n\n<p>I suggest that you report it to the Perl 5 Porters using the <code>perlbug</code> utility that is part of the Perl installation</p>\n"}, {"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1492538988, "post_id": 43477595, "comment_id": 74014083, "body": "I wanted <code>bday</code> as an array, but indeed. I need the <code>@{}</code> notation. Thanks!"}], "tags": [], "owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "is_accepted": true, "score": 7, "last_activity_date": 1492533033, "creation_date": 1492533033, "answer_id": 43477595, "question_id": 43476079, "link": "https://stackoverflow.com/questions/43476079/add-getoptlong-options-in-a-hash-even-when-using-a-repeat-specifier/43477595#43477595", "title": "Add Getopt::Long options in a hash, even when using a repeat specifier", "body": "<pre><code>use Getopt::Long;\n# enable for debugging purposes\n# Getopt::Long::Configure(\"debug\");\nuse Data::Dumper;\n\nmy %h = ();\nGetOptions(\\%h, 'bday=i{3}', 'parents=s@{1,2}', 'name=s@{1}');\n\nprint Dumper(\\%h);\n</code></pre>\n\n<p>Is that what you want?</p>\n\n<pre><code>$VAR1 = { \n          'bday' =&gt; 1986,\n          'name' =&gt; [ \n                      'ellen'\n                    ],\n          'parents' =&gt; [ \n                         'john',\n                         'mary'\n                       ]\n        };\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 43477595, "answer_count": 3, "score": 4, "last_activity_date": 1492549000, "creation_date": 1492528671, "last_edit_date": 1492549000, "question_id": 43476079, "link": "https://stackoverflow.com/questions/43476079/add-getoptlong-options-in-a-hash-even-when-using-a-repeat-specifier", "title": "Add Getopt::Long options in a hash, even when using a repeat specifier", "body": "<p>Perl's <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\"><code>Getopt::Long</code></a> allows a developer to add their own options to a script. It's also possible to allow multiple values for an option by the <a href=\"http://perldoc.perl.org/Getopt/Long.html#Options-with-multiple-values\" rel=\"nofollow noreferrer\">use of a repeat specifier</a>, as seen in regular expressions. For example:</p>\n\n<pre><code>GetOptions('coordinates=f{2}' =&gt; \\@coor, 'rgbcolor=i{3}' =&gt; \\@color);\n</code></pre>\n\n<p>Furthermore, <a href=\"http://perldoc.perl.org/Getopt/Long.html#Storing-options-values-in-a-hash\" rel=\"nofollow noreferrer\">option values can be stored in a hash</a>, like so:</p>\n\n<pre><code>my %h = ();\nGetOptions(\\%h, 'length=i');    # will store in $h{length}\n</code></pre>\n\n<p>What I'm trying to do is, combine these two methods to end up with a hash of my options, even when they have multiple values. </p>\n\n<p>As an example, say I want to allow three options: birthday (three integers), parents (one or two strings), first name (exactly one string).\nLet's also say that I want to put these values into a hash. I tried the following:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Getopt::Long;\nuse Data::Dumper;\n\nmy %h = ();\nGetOptions(\\%h, 'bday=i{3}', 'parents=s{1,2}', 'name=s{1}');\n\nprint Dumper(\\%h);\n</code></pre>\n\n<p>And tested it, but the output was as follows:</p>\n\n<pre><code>perl optstest.pl --bday 22 3 1986 --parents john mary --name ellen\n$VAR1 = {\n    'name' =&gt; 'ellen',\n    'parents' =&gt; 'mary',\n    'bday' =&gt; 1986\n};\n</code></pre>\n\n<p>Only the last value of each option is actually used in the hash. What I would like, though, is:</p>\n\n<pre><code>$VAR1 = {\n    'name' =&gt; 'ellen',\n    'parents' =&gt; ['mary', 'john'],\n    'bday' =&gt; [22, 3, 1986]\n};\n</code></pre>\n\n<p>If 'ellen' would be in an array, or if everything was inside a hash, that'd be fine as well.</p>\n\n<p>Is it not possible to combine these two functionalities of <code>Getopt::Long</code>, i.e. putting options in a hash and using repeat specifiers?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "edited": false, "score": 0, "creation_date": 1492526045, "post_id": 43475026, "comment_id": 74005213, "body": "can&#39;t you just do this in unix with cat file* | sort"}, {"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "reply_to_user": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "edited": false, "score": 1, "creation_date": 1492526417, "post_id": 43475026, "comment_id": 74005516, "body": "@EssexBoy, actually you can just do <code>sort file*</code> and if they are sorted inside each file you can even do <code>sort -m file*</code> to merge sort the files."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1492526925, "post_id": 43475026, "comment_id": 74005957, "body": "@CoderHat <code>&gt;</code> this handle for write the content I don&#39;t know how do you reading it. ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492526927, "post_id": 43475026, "comment_id": 74005959, "body": "While you may inflict on yourself whatever hardships you like, please at least indent your code and .lay it out clearly if you are asking other people to read it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492527586, "post_id": 43475026, "comment_id": 74006501, "body": "That code doesn&#39;t create the output you say it does. The first thing that happens is that your two input files are emptied. Please show your real code if you want help."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 0, "creation_date": 1492529839, "post_id": 43475026, "comment_id": 74008283, "body": "A Perl on-liner alternative for the sort command above: <code>perl -e &quot;print foreach sort &lt;&gt;&quot; File1 File2</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492530412, "post_id": 43475026, "comment_id": 74008705, "body": "Do you actually need the <code>foreach</code> there? <code>print</code> should work in a list context."}, {"owner": {"reputation": 11, "user_id": 7858081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3822aee182c342f7d0acd812d4e36ed6?s=128&d=identicon&r=PG&f=1", "display_name": "CoderHat", "link": "https://stackoverflow.com/users/7858081/coderhat"}, "edited": false, "score": 0, "creation_date": 1492535183, "post_id": 43475026, "comment_id": 74011760, "body": "i just edited the sample i/p and o/p. The lines are not in an alphabetic order to use sort."}, {"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "edited": false, "score": 0, "creation_date": 1492539967, "post_id": 43475026, "comment_id": 74014737, "body": "@CoderHat, you are going to have to explain what you are trying to achieve much more clearly.   At first you post something that looks like you want sorting help, now you&#39;re saying you want a merge that preserves order, while somehow taking into account the first few characters of the lines involved.  How many characters in the prefix need to match?  Does the order of the files provided matter?  How big are the files you are processing--can they fit in memory?  Unless you can describe <i>exactly</i> how the files are to be merged it will be impossible for anyone to write a program to do it."}, {"owner": {"reputation": 11, "user_id": 7858081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3822aee182c342f7d0acd812d4e36ed6?s=128&d=identicon&r=PG&f=1", "display_name": "CoderHat", "link": "https://stackoverflow.com/users/7858081/coderhat"}, "reply_to_user": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "edited": false, "score": 0, "creation_date": 1492579290, "post_id": 43475026, "comment_id": 74029202, "body": "@daotoad, both the files will contain around 1000 lines each. And I know that these lines will be started with XDC and BB alone followed by few numbers. I want to merge them in such a way that I have XDC lines from file1 first, XDC lines from file2 next, BB lines from file1 and BB lines from file2 irrespective of the numbers following them. I want to maintain this order."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7858081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3822aee182c342f7d0acd812d4e36ed6?s=128&d=identicon&r=PG&f=1", "display_name": "CoderHat", "link": "https://stackoverflow.com/users/7858081/coderhat"}, "edited": false, "score": 0, "creation_date": 1492537070, "post_id": 43476696, "comment_id": 74012947, "body": "Thanks for you answer. The merged file is not about sorting. I just want to merge based on the start of the line maintaining the order."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 11, "user_id": 7858081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3822aee182c342f7d0acd812d4e36ed6?s=128&d=identicon&r=PG&f=1", "display_name": "CoderHat", "link": "https://stackoverflow.com/users/7858081/coderhat"}, "edited": false, "score": 0, "creation_date": 1493115629, "post_id": 43476696, "comment_id": 74264677, "body": "The second preserves the ordering for all but the leading non-numeric characters."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1492530685, "last_edit_date": 1492530685, "creation_date": 1492530359, "answer_id": 43476696, "question_id": 43475026, "link": "https://stackoverflow.com/questions/43475026/merge-two-files-based-on-the-starting-of-the-line/43476696#43476696", "title": "Merge two files based on the starting of the line", "body": "<p>The problem is, you iterate each file to the end, but never 'rewind' for if you're wanting to start over. </p>\n\n<p>So your <code>while ( &lt;FILEONE&gt; ) {</code> line <em>consumes</em> (and discards) the first line that matches <code>m/^BB/</code> - the <code>last</code> exits the \"while\" loop, but <em>only</em> after it's already read the line. </p>\n\n<p>However that's assuming you get your <code>open</code> statements right, because:</p>\n\n<pre><code>open( FILEONE,   '&gt;$file1' );\n</code></pre>\n\n<p>Actually empties it, it doesn't read from it. So I am assuming you've transposed your code, and introduced new errors whilst doing so.</p>\n\n<p>As a style point - you should really use 3 argument open, with lexical filehandles. </p>\n\n<p>So instead: </p>\n\n<pre><code>#!/usr/bin/env perl;\nuse strict;\nuse warnings;\n\nmy $file1 = 'C:/File1';\nmy $file2 = 'C:/File2';\nmy $file3 = 'C:/File3';\n\nmy @lines;\nforeach my $file ( $file1, $file2 ) {\n   open( my $input, '&lt;', $file ) or die $!;\n   push( @lines, &lt;$input&gt; );\n   close($input);\n}\n\nopen( my $output, '&gt;', $file3 ) or die $!;\nprint {$output} sort @lines;\nclose($output)\n</code></pre>\n\n<p>(Although as noted in the comments - if that's <em>all</em> you want to do,  the unix <code>sort</code> utility is probably sufficient).</p>\n\n<p>However, if you need to preserve the numeric ordering, whilst sorting on the alphabetical, you need a slightly different data structure:</p>\n\n<pre><code>#!/usr/bin/env perl;\nuse strict;\nuse warnings;\n\nmy $file1 = 'C:/File1';\nmy $file2 = 'C:/File2';\nmy $file3 = 'C:/File3';\n\nmy %lines; \nforeach my $file ( $file1, $file2 ) {\n   open( my $input, '&lt;', $file ) or die $!;\n   while ( my $line = &lt;$file&gt; ) { \n       my ( $key ) = $line =~ m/^(\\D+)/; \n       push %{$lines{$key}}, $line; \n   }\n   close($input);\n}\n\nopen( my $output, '&gt;', $file3 ) or die $!;\n\nforeach my $key ( sort keys %lines ) {\n   print {$output} @{$lines{$key}};\n}\nclose($output)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7858081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3822aee182c342f7d0acd812d4e36ed6?s=128&d=identicon&r=PG&f=1", "display_name": "CoderHat", "link": "https://stackoverflow.com/users/7858081/coderhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1492536327, "creation_date": 1492525852, "last_edit_date": 1492536327, "question_id": 43475026, "link": "https://stackoverflow.com/questions/43475026/merge-two-files-based-on-the-starting-of-the-line", "title": "Merge two files based on the starting of the line", "body": "<p>I want to merge two files into one using perl. Below are the sample files.</p>\n\n<pre><code>***FILE 1***\nXDC123\nXDC456\nXDC678\nBB987\nBB654\n\n*** FILE 2 ***\nXDC876\nXDC234\nXDC789\nBB456\nBB678\n</code></pre>\n\n<p>And I want the merged file to look like:</p>\n\n<pre><code>***MERGED FILE***\nXDC123\nXDC456\nXDC678\nXDC876\nXDC234\nXDC789\nBB987\nBB654\nBB456\nBB678\n</code></pre>\n\n<p>For the above functionality I have written the below perl script snippet:</p>\n\n<pre><code>#!/usr/bin/env perl;\nuse strict;\nuse warnings;\n\nmy $file1 = 'C:/File1';\nmy $file2 = 'C:/File2';\nmy $file3 = 'C:/File3';\n\nopen( FILEONE,   '&lt;$file1' );\nopen( FILETWO,   '&lt;$file2' );\nopen( FILETHREE, '&gt;$file3' );\n\nwhile (&lt;FILEONE&gt;) {\n   if (/^XDC/) {\n      print FILETHREE;\n   }\n   if (/^BB/) {\n      last;\n   }\n}\nwhile (&lt;FILETWO&gt;) {\n   if (/^XDC/) {\n      print FILETHREE;\n   }\n   if (/^BB/) {\n      last;\n   }\n}\nwhile (&lt;FILEONE&gt;) {\n   if (/^BB/) {\n      print FILETHREE;\n   }\n}\nwhile (&lt;FILETWO&gt;) {\n   if (/^BB/) {\n      print FILETHREE;\n   }\n}\nclose($file1);\nclose($file2);\nclose($file3);\n</code></pre>\n\n<p>But the merged file that is generated from the above code looks like:</p>\n\n<pre><code>***FILE 3***\nXDC123\nXDC456\nXDC678\nXDC876\nXDC234\nXDC789\nBB654\nBB678\n</code></pre>\n\n<p>The first line that starts from BB is missed out from both the files. Any help on this will be appreciated. Thank you.</p>\n"}, {"tags": ["arrays", "string", "perl", "www-mechanize", "www-mechanize-firefox"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7798131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b93dba452c476ca85b71d47889786a1c?s=128&d=identicon&r=PG&f=1", "display_name": "Jamal Mahroof", "link": "https://stackoverflow.com/users/7798131/jamal-mahroof"}, "edited": false, "score": 0, "creation_date": 1492523712, "post_id": 43474092, "comment_id": 74003328, "body": "This removes everything after but not before the word which is what I require. Also the &quot;word&quot; as I might have wrongly called it is this <code>CSR1.1.2.BOI46</code> hence only <code>CSR</code> is captured and not anything after the first period."}, {"owner": {"reputation": 23, "user_id": 7798131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b93dba452c476ca85b71d47889786a1c?s=128&d=identicon&r=PG&f=1", "display_name": "Jamal Mahroof", "link": "https://stackoverflow.com/users/7798131/jamal-mahroof"}, "edited": false, "score": 0, "creation_date": 1492526098, "post_id": 43474092, "comment_id": 74005260, "body": "Works perfectly, as well as when the &quot;word&quot; is in a different place amongst the string. Thank You"}], "tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": true, "score": 1, "last_activity_date": 1492524338, "last_edit_date": 1492524338, "creation_date": 1492523307, "answer_id": 43474092, "question_id": 43473863, "link": "https://stackoverflow.com/questions/43473863/how-to-find-a-word-beginning-with-specified-letters-then-remove-everything-else/43474092#43474092", "title": "How to find a word beginning with specified letters then remove everything else in the string?", "body": "<p>You may match the desired word using <code>m//</code> storing it in a capture group and then replace the whole original string with that matched group:</p>\n\n<pre><code>do {$_ = $1 if /(?:^|\\s)(CSR\\S*)/} foreach @buildno;\n</code></pre>\n\n<p>Demo: <a href=\"https://ideone.com/1l7YJb\" rel=\"nofollow noreferrer\">https://ideone.com/1l7YJb</a></p>\n"}], "owner": {"reputation": 23, "user_id": 7798131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b93dba452c476ca85b71d47889786a1c?s=128&d=identicon&r=PG&f=1", "display_name": "Jamal Mahroof", "link": "https://stackoverflow.com/users/7798131/jamal-mahroof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 43474092, "answer_count": 1, "score": -1, "last_activity_date": 1492524338, "creation_date": 1492522749, "last_edit_date": 1492523231, "question_id": 43473863, "link": "https://stackoverflow.com/questions/43473863/how-to-find-a-word-beginning-with-specified-letters-then-remove-everything-else", "title": "How to find a word beginning with specified letters then remove everything else in the string?", "body": "<pre><code>my @buildno = $mech-&gt;xpath('/html/body/form/table/tbody/tr[2]/td[3]/table\n/tbody/tr[2]/td/table/tbody/tr[1]/td/table/tbody/tr[1]/td', type =&gt; \n$mech-&gt;xpathResult('STRING_TYPE'));\n</code></pre>\n\n<p>I have the above code which contains a string. I need to capture the word beginning with <code>CSR</code> contained in the array within a string. There is only one element  <code>@buildno[0]</code>. I need to keep the word and remove everything else in the string. I have tried using the <code>m//</code> way however it only returns a boolean telling me that the word exists. I have also tried subtituting <code>s///</code> however I can only remove the word that I need to keep, I cannot figure out a way to reverse that function.</p>\n\n<p>EDIT\nI have managed to split the string up and put it into a new array so each word is a seperate index. </p>\n\n<pre><code>my $buildno = join('', @buildno);\nmy @build = split(' ',$buildno);\nprint @build[1];\n</code></pre>\n\n<p>The word I am looking for in this instance is the second element in the array as it is the second word <code>@build[1]</code>however the word may not always be the second word in the string, it could be the fourth word for example. My purpose is to capture that specific word for later use.</p>\n"}, {"tags": ["perl", "shell", "docker", "environment"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1492510947, "post_id": 43469455, "comment_id": 73994015, "body": "@Jens: Works for me without the import (Perl 5.18.2)."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1492511676, "post_id": 43469455, "comment_id": 73994494, "body": "Works on v5.10.0 without import"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1492511946, "post_id": 43469455, "comment_id": 73994639, "body": "What output do you get from <code>perl -E &#39;say for keys %ENV&#39;</code>?"}, {"owner": {"reputation": 6928, "user_id": 1015385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc84a03227c566697c4a16b2e9f8782?s=128&d=identicon&r=PG", "display_name": "JRFerguson", "link": "https://stackoverflow.com/users/1015385/jrferguson"}, "edited": false, "score": 0, "creation_date": 1492511972, "post_id": 43469455, "comment_id": 73994657, "body": "Enable warnings with <code>-w</code>.  I think you will see that <code>$ENV{SHELL}</code> is undefined."}, {"owner": {"reputation": 89, "user_id": 6181762, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a27f4cae1760d8f3e582b7dbe6481134?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dwojc", "link": "https://stackoverflow.com/users/6181762/andrew-dwojc"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1492511989, "post_id": 43469455, "comment_id": 73994666, "body": "@Thilo: Works on many perls for me as well, including perl-5.14.2, except for the one scenario I described in the question. I&#39;m guessing something perl takes for granted is missing in the bootstrapped Debian image or there is some weirdness going on related to docker."}, {"owner": {"reputation": 89, "user_id": 6181762, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a27f4cae1760d8f3e582b7dbe6481134?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dwojc", "link": "https://stackoverflow.com/users/6181762/andrew-dwojc"}, "reply_to_user": {"reputation": 6928, "user_id": 1015385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc84a03227c566697c4a16b2e9f8782?s=128&d=identicon&r=PG", "display_name": "JRFerguson", "link": "https://stackoverflow.com/users/1015385/jrferguson"}, "edited": false, "score": 0, "creation_date": 1492512072, "post_id": 43469455, "comment_id": 73994724, "body": "@JRFerguson. We already know it is undefined. The question is why? It should be placed in the $ENV hash."}, {"owner": {"reputation": 89, "user_id": 6181762, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a27f4cae1760d8f3e582b7dbe6481134?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dwojc", "link": "https://stackoverflow.com/users/6181762/andrew-dwojc"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1492512456, "post_id": 43469455, "comment_id": 73994960, "body": "@H&#229;kon Only 7 entries (way fewer than &#39;set&#39; shows in /bin/bash): HOME SHLVL HOSTNAME PWD TERM _ PAT"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1492512643, "post_id": 43469455, "comment_id": 73995088, "body": "@AndrewDwojc: I would guess that it hasn&#39;t been exported for some reason. Does it help if you <code>export SHELL</code> before running the perl command? It&#39;s possible that there&#39;s a <code>typeset +x SHELL</code> command in your startup files."}, {"owner": {"reputation": 89, "user_id": 6181762, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a27f4cae1760d8f3e582b7dbe6481134?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dwojc", "link": "https://stackoverflow.com/users/6181762/andrew-dwojc"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492513188, "post_id": 43469455, "comment_id": 73995426, "body": "@Borodin No, I had tried <code>export SHELL=&#47;bin&#47;bash</code> and it did not help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492514194, "post_id": 43469455, "comment_id": 73996044, "body": "@AndrewDwojc: And <code>env | sort</code> from bash lists <code>SHELL</code>?"}, {"owner": {"reputation": 89, "user_id": 6181762, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a27f4cae1760d8f3e582b7dbe6481134?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dwojc", "link": "https://stackoverflow.com/users/6181762/andrew-dwojc"}, "edited": false, "score": 0, "creation_date": 1492514851, "post_id": 43469455, "comment_id": 73996481, "body": "<code>env | grep SHELL</code> shows <code>SHELL=&#47;bin&#47;bash</code>, however, <code>perl -e &#39;warn $INC{SHELL}&#39;</code> still tells me <code>Warning: something&#39;s wrong at -e line 1</code>."}, {"owner": {"reputation": 89, "user_id": 6181762, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a27f4cae1760d8f3e582b7dbe6481134?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dwojc", "link": "https://stackoverflow.com/users/6181762/andrew-dwojc"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492515148, "post_id": 43469455, "comment_id": 73996682, "body": "@Borodin: I started a new bash from inside bash the docker gave me and exported SHELL in the new bash (and then perl was giving me a warning). However, when I do <code>export SHELL=...</code> in the bash docker gave me then it starts working. So 1) the SHELL variable is set (and visible with bash&#39; <code>set</code> command) but not exported (and not shown by bash&#39; <code>env</code> command - thanks for mentioning <code>env</code>). 2) I still do not understand why it does not work when I do export in the &#39;nested&#39; bash."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492515709, "post_id": 43469455, "comment_id": 73997080, "body": "@AndrewDwojc: Don&#39;t get confused between <code>%ENV</code> and <code>@INC</code>"}, {"owner": {"reputation": 89, "user_id": 6181762, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a27f4cae1760d8f3e582b7dbe6481134?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dwojc", "link": "https://stackoverflow.com/users/6181762/andrew-dwojc"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492516881, "post_id": 43469455, "comment_id": 73997951, "body": "@Borodin Argh, silly typo (<code>INC</code> vs <code>ENV</code>) on top of everything. So you basically solved my mistery. <code>SHELL</code> is set but not exported. (And I should have used <code>env</code> rather <code>set</code> at the bash prompt to verify which variables are exported.)"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1492520775, "post_id": 43469455, "comment_id": 74000912, "body": "What happens if you are not logged in as <code>root</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": false, "score": 1, "last_activity_date": 1492529434, "creation_date": 1492529434, "answer_id": 43476361, "question_id": 43469455, "link": "https://stackoverflow.com/questions/43469455/why-some-entries-are-missing-in-perl-env-hash/43476361#43476361", "title": "Why some entries are missing in Perl ENV hash", "body": "<p>The error message</p>\n\n<pre><code>Warning: something's wrong at -e line 1.\n</code></pre>\n\n<p>indicates that the environment variable $SHELL does not exist or <strong>is not exported</strong>.</p>\n\n<p>You can list the exported variables using the <code>export</code> command. You can add SHELL to the exported variables using the command:</p>\n\n<pre><code>export SHELL\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1492535499, "creation_date": 1492535499, "answer_id": 43478332, "question_id": 43469455, "link": "https://stackoverflow.com/questions/43469455/why-some-entries-are-missing-in-perl-env-hash/43478332#43478332", "title": "Why some entries are missing in Perl ENV hash", "body": "<p>Something is wrong with your installation. It looks like the string</p>\n\n<blockquote>\n  <p><code>Warning: something's wrong at -e line 1.</code></p>\n</blockquote>\n\n<p>would only ever be produced by the following code on line 461 in <a href=\"https://perl5.git.perl.org/perl.git/blob/305ff1d4a79c10f61723b1d623e63193aa451a01:/pp_sys.c#l461\" rel=\"nofollow noreferrer\">pp_sys.c</a> (that is, when the argument to <code>warn</code> is undefined). Therefore, I am going to deduce that something sanitizes the environment before <code>perl</code> is invoked. You might also want to examine <code>root</code>'s <code>.profile</code>, <code>.bashrc</code>, <code>.bash_profile</code> and other possibly relevant configuration files.</p>\n\n<pre><code> 421 PP(pp_warn)\n 422 {\n 423     dSP; dMARK;\n 424     SV *exsv;\n 425     STRLEN len;\n 426     if (SP - MARK &gt; 1) {\n 427         dTARGET;\n 428         do_join(TARG, &amp;PL_sv_no, MARK, SP);\n 429         exsv = TARG;\n 430         SP = MARK + 1;\n 431     }\n 432     else if (SP == MARK) {\n 433         exsv = &amp;PL_sv_no;\n 434         EXTEND(SP, 1);\n 435         SP = MARK + 1;\n 436     }\n 437     else {\n 438         exsv = TOPs;\n 439         if (SvGMAGICAL(exsv)) exsv = sv_mortalcopy(exsv);\n 440     }\n 441 \n 442     if (SvROK(exsv) || (SvPV_const(exsv, len), len)) {\n 443         /* well-formed exception supplied */\n 444     }\n 445     else {\n 446       SV * const errsv = ERRSV;\n 447       SvGETMAGIC(errsv);\n 448       if (SvROK(errsv)) {\n 449         if (SvGMAGICAL(errsv)) {\n 450             exsv = sv_newmortal();\n 451             sv_setsv_nomg(exsv, errsv);\n 452         }\n 453         else exsv = errsv;\n 454       }\n 455       else if (SvPOKp(errsv) ? SvCUR(errsv) : SvNIOKp(errsv)) {\n 456         exsv = sv_newmortal();\n 457         sv_setsv_nomg(exsv, errsv);\n 458         sv_catpvs(exsv, \"\\t...caught\");\n 459       }\n 460       else {\n 461         exsv = newSVpvs_flags(\"Warning: something's wrong\", SVs_TEMP); ## &lt;-- Here ...\n 462       }\n 463     }\n 464     if (SvROK(exsv) &amp;&amp; !PL_warnhook)\n 465          Perl_warn(aTHX_ \"%\" SVf, SVfARG(exsv));\n 466     else warn_sv(exsv);\n 467     RETSETYES;\n 468 }\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 6181762, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a27f4cae1760d8f3e582b7dbe6481134?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dwojc", "link": "https://stackoverflow.com/users/6181762/andrew-dwojc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492535499, "creation_date": 1492510686, "last_edit_date": 1492513217, "question_id": 43469455, "link": "https://stackoverflow.com/questions/43469455/why-some-entries-are-missing-in-perl-env-hash", "title": "Why some entries are missing in Perl ENV hash", "body": "<p>Perl is giving me an undef value when I access a variable that is supposed to be defined in the <strong>%ENV</strong> hash. How is this possible?</p>\n\n<pre><code>root@23cd5f45def7:~/bin$ perl -e 'warn $ENV{SHELL}'\nWarning: something's wrong at -e line 1.\n</code></pre>\n\n<p>I would expect perl to output <strong>/bin/bash</strong> instead. </p>\n\n<p>More info on the environment:</p>\n\n<pre><code>root@23cd5f45def7:~/bin$ echo $SHELL\n/bin/bash\n\nroot@23cd5f45def7:~/bin$ $SHELL --version\nGNU bash, version 4.2.37(1)-release (x86_64-pc-linux-gnu)\nCopyright (C) 2011 Free Software Foundation, Inc.\n...\n\nroot@23cd5f45def7:~/bin$ perl -v\n\nThis is perl 5, version 14, subversion 2 (v5.14.2) built for x86_64-linux-gnu-thread-multi\n(with 91 registered patches, see perl -V for more detail)\n...\n</code></pre>\n\n<p>I am running this on Debian wheezy in a docker container.</p>\n\n<p>The image was created with </p>\n\n<pre><code>sudo debootstrap wheezy ../_build  http://ftp.us.debian.org/debian\nsudo tar -C ../_build -c . | docker import - wheezy/bootstrap\n</code></pre>\n\n<p>I get the same beheviour with perl-5.24.1 compiled manually from sources.</p>\n"}, {"tags": ["perl", "hash", "hashmap"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492509942, "post_id": 43469102, "comment_id": 73993306, "body": "A hash is just a list. If you want the debugger to show it in key/value form, you need to give it a reference. <code>x \\%hash</code>."}, {"owner": {"reputation": 875, "user_id": 6918481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949bc6de647c79a6a432bc8ed1a51b5b?s=128&d=identicon&r=PG&f=1", "display_name": "Shiping", "link": "https://stackoverflow.com/users/6918481/shiping"}, "edited": false, "score": 0, "creation_date": 1492510125, "post_id": 43469102, "comment_id": 73993434, "body": "%hash{parser} should be $hash{parser}."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492530159, "post_id": 43469102, "comment_id": 74008529, "body": "Faster, simpler: <code>my %hash; @hash{@key} = @values;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492511490, "post_id": 43469335, "comment_id": 73994380, "body": "@Borodin I needed something so I could stop it to output the values. Otherwise it would finish immediately."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1492510322, "creation_date": 1492510322, "answer_id": 43469335, "question_id": 43469102, "link": "https://stackoverflow.com/questions/43469102/how-to-make-a-hash-map-key-value-pair-from-two-arrays-in-perl/43469335#43469335", "title": "how to make a hash map (key value pair) from two arrays in perl", "body": "<p>The <code>x</code> command in the Perl debugger takes a list of values. Since a hash in list context is simply a list of values, it cannot see that there are key/value pairs. If you want to see the output as pairs, pass it a reference to your hash.</p>\n\n<pre><code>$ perl -d -e 'my %hash = foo =&gt; 123; sleep 1;'\nLoading DB routines from perl5db.pl version 1.44\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(-e:1):   my %hash = foo =&gt; 123; sleep 1;\n  DB&lt;1&gt; s\nmain::(-e:1):   my %hash = ( foo =&gt; 123 ); sleep 1;\n  DB&lt;1&gt; x %hash\n0  'foo'\n1  123\n  DB&lt;2&gt; x \\%hash   \n0  HASH(0x122e9c8)\n   'foo' =&gt; 123\n  DB&lt;3&gt; \n</code></pre>\n\n<p>If you want to access an individual hash element, use the correct sigil. To access a scalar value, the sigil is always a <code>$</code>.</p>\n\n<pre><code>  DB&lt;2&gt; x $hash{foo}\n0  'foo'\n1  123\n</code></pre>\n\n<p>However, doing <code>%hash{foo}</code> should work too if you don't have <code>use strict</code> and <code>use warnings</code>. Of course you don't want to do that.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492530360, "post_id": 43469366, "comment_id": 74008670, "body": "I personally would not be able to write that hash slice line on a MacBook. :("}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1492511194, "last_edit_date": 1492511194, "creation_date": 1492510441, "answer_id": 43469366, "question_id": 43469102, "link": "https://stackoverflow.com/questions/43469102/how-to-make-a-hash-map-key-value-pair-from-two-arrays-in-perl/43469366#43469366", "title": "how to make a hash map (key value pair) from two arrays in perl", "body": "\n\n<p>Use a <em>hash slice</em> to define it</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my %hash;\n@hash{@key} = @values;\n</code></pre>\n\n<p>But the output from the debugger is what you should expect as the hash is expanded into a key/value list before being passed to <code>x</code>. To see the internal structure of composite data you should pass a <em>reference</em> to <code>x</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>  DB&lt;104&gt; x \\%hash\n0  HASH(0xe7c88880)\n   'linking_parameter_1' =&gt; '$$SHIBBOLETH'\n   'service_type' =&gt; 'getFullTxt'\n   'crossref_supported' =&gt; 'Yes'\n   'parser' =&gt; 'Bulk::BULK'\n   'internal_name' =&gt; 'ELSEVIER_SD_EBOOK-COMPLETE_COLLECTION_1995-20065'\n   'object_lookup' =&gt; 'yes'\n   'linking_level' =&gt; 'BOOK'\n   'displayer' =&gt; 'FT::NO_FILL_IN'\n   'parse_param' =&gt; ''\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 7522582, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ogQgj.png?s=128&g=1", "display_name": "yankel", "link": "https://stackoverflow.com/users/7522582/yankel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "accepted_answer_id": 43469335, "answer_count": 2, "score": 1, "last_activity_date": 1492606933, "creation_date": 1492509632, "question_id": 43469102, "link": "https://stackoverflow.com/questions/43469102/how-to-make-a-hash-map-key-value-pair-from-two-arrays-in-perl", "title": "how to make a hash map (key value pair) from two arrays in perl", "body": "<p>I have two arrays of equal length one contains the keys and the other the values. </p>\n\n<p>How do I make them into one hash where I can access it by hash{key} and get the value.</p>\n\n<p>I tried</p>\n\n<pre><code>        my %hash = map { $key[$_], $values[$_] } 0..$#key;\n</code></pre>\n\n<p>but it kinda saved everything in one long list where every second value is the value as you can see from the debugger.</p>\n\n<pre><code> DB&lt;104&gt; x %hash\n0  'linking_parameter_1'\n1  '$$SHIBBOLETH'\n2  'service_type'\n3  'getFullTxt'\n4  'crossref_supported'\n5  'Yes'\n6  'parser'\n7  'Bulk::BULK'\n8  'internal_name'\n9  'ELSEVIER_SD_EBOOK-COMPLETE_COLLECTION_1995-20065'\n10  'object_lookup'\n11  'yes'\n12  'linking_level'\n13  'BOOK'\n14  'displayer'\n15  'FT::NO_FILL_IN'\n16  'parse_param'\n17  ''\n</code></pre>\n\n<p>When I type </p>\n\n<pre><code>x %hash{parser}\n</code></pre>\n\n<p>it can't evaluate that. maybe I'm just not trying to access it in the right way?</p>\n"}, {"tags": ["perl", "log4perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 9, "user_id": 7725913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d15164b1c2e42fef19fe67141509be3?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_perl", "link": "https://stackoverflow.com/users/7725913/mr-perl"}, "edited": false, "score": 1, "creation_date": 1492508704, "post_id": 43468333, "comment_id": 73992447, "body": "@Mr_perl I don&#39;t know. Please include the things you already know in your question next time. It took me a few minutes to find this in the documentation, and I would not have needed to do that had you included your own research."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9, "user_id": 7725913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d15164b1c2e42fef19fe67141509be3?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_perl", "link": "https://stackoverflow.com/users/7725913/mr-perl"}, "edited": false, "score": 0, "creation_date": 1492513762, "post_id": 43468333, "comment_id": 73995754, "body": "@Mr_perl: Then I don&#39;t understand your requirement. It sounds like you want to get the name of the calling module from within that module, but it already knows its own name. Please give a proper example of the code you want to write."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 9, "user_id": 7725913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d15164b1c2e42fef19fe67141509be3?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_perl", "link": "https://stackoverflow.com/users/7725913/mr-perl"}, "edited": false, "score": 1, "creation_date": 1492515442, "post_id": 43468333, "comment_id": 73996901, "body": "@Mr_perl please include more information into your question. You can <a href=\"http://stackoverflow.com/posts/43467923/edit\">edit your question</a>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1492507432, "creation_date": 1492507432, "answer_id": 43468333, "question_id": 43467923, "link": "https://stackoverflow.com/questions/43467923/getting-a-name-of-module-or-script-which-logs-messages-using-log4perl/43468333#43468333", "title": "getting a name of module or script which logs messages using log4perl", "body": "<p>For classes or packages, you can do that. It's <a href=\"https://metacpan.org/pod/Log::Log4perl#Log::Log4perl::Layout::PatternLayout\" rel=\"nofollow noreferrer\">documented with Log::Log4perl::Layout::PatternLayout</a>. In your log pattern, use one of the following.</p>\n\n<blockquote>\n<pre><code>%C Fully qualified package (or class) name of the caller\n</code></pre>\n</blockquote>\n\n<p>And for the name of a script:</p>\n\n<blockquote>\n<pre><code>%F File where the logging event occurred\n</code></pre>\n</blockquote>\n\n<p>These ones are also useful:</p>\n\n<blockquote>\n<pre><code>%l Fully qualified name of the calling method followed by the\n   callers source the file name and line number between \n   parentheses.\n%L Line number within the file where the log statement was issued\n</code></pre>\n</blockquote>\n\n<p>The documentation of <a href=\"https://metacpan.org/pod/Log::Log4perl::Layout::PatternLayout\" rel=\"nofollow noreferrer\">Log::Log4perl::Layout::PatternLayout</a> itself has even more details.</p>\n\n<p><a href=\"https://metacpan.org/pod/Log::Log4perl#Initialize-via-a-configuration-file\" rel=\"nofollow noreferrer\">Here's an example</a> of how to use this with a config file.</p>\n\n<blockquote>\n<pre><code>log4perl.appender.LOGFILE.layout=PatternLayout\nlog4perl.appender.LOGFILE.layout.ConversionPattern=[%r] %F %L %c - %m%n\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 9, "user_id": 7725913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d15164b1c2e42fef19fe67141509be3?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_perl", "link": "https://stackoverflow.com/users/7725913/mr-perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492507432, "creation_date": 1492506256, "question_id": 43467923, "link": "https://stackoverflow.com/questions/43467923/getting-a-name-of-module-or-script-which-logs-messages-using-log4perl", "title": "getting a name of module or script which logs messages using log4perl", "body": "<p>If a particular module is logging using log4perl then is there any way to get the name of that module using log4perl internally.  or message is logged from srcipt(.pl) can we get the name of script also using log4perl only apart from using caller or any function which doesnt use log4perl function explicitly. </p>\n"}, {"tags": ["perl", "backslash"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 3, "creation_date": 1492499767, "post_id": 43465911, "comment_id": 73986958, "body": "Add code as text not as immage"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1492504458, "post_id": 43465911, "comment_id": 73989756, "body": "Code is text. Why do some many people think it&#39;s useful to post images of code?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1492504473, "post_id": 43465911, "comment_id": 73989761, "body": "Please, do some research before asking questions. If you had, you would have found this similar question: <a href=\"http://stackoverflow.com/q/4173496/4990392\">What does &#39;\\&#39; mean in Perl?</a>. (your question should be closed as dupe of this one in my opinion - I can&#39;t vote to close though)"}, {"owner": {"reputation": 55, "user_id": 2873403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0e60ca093e2f0e670e6ba841bcc416f6?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce", "link": "https://stackoverflow.com/users/2873403/bruce"}, "edited": false, "score": 0, "creation_date": 1492589833, "post_id": 43465911, "comment_id": 74035084, "body": "Yes, I know, but how to close this question?"}], "answers": [{"comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1492579349, "post_id": 43465939, "comment_id": 74029228, "body": "@ downvoter thanks dir downvoting without explanation"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 0, "last_activity_date": 1492499789, "creation_date": 1492499789, "answer_id": 43465939, "question_id": 43465911, "link": "https://stackoverflow.com/questions/43465911/what-does-backslash-mean-in-perl-language/43465939#43465939", "title": "what does backslash &#39;\\&#39; mean in perl language?", "body": "<p>backslash in this case means the reference of the variable.</p>\n\n<p>Read <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">here</a> for more informations</p>\n"}, {"tags": [], "owner": {"reputation": 923, "user_id": 7727546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fe3d80f5c8283fb372c4f3aec775df8?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Krupp", "link": "https://stackoverflow.com/users/7727546/benjamin-krupp"}, "is_accepted": false, "score": 1, "last_activity_date": 1492500523, "creation_date": 1492500523, "answer_id": 43466166, "question_id": 43465911, "link": "https://stackoverflow.com/questions/43465911/what-does-backslash-mean-in-perl-language/43466166#43466166", "title": "what does backslash &#39;\\&#39; mean in perl language?", "body": "<p>In Perl you can save a reference to another variable in a scalar variable:</p>\n\n<pre><code>my $string = \"Test\";\nmy $str_ref = \\$string;\n\nmy @list = (1, 2, 3);\nmy $lst_ref = \\@list;\n\nmy %hash = ('a' =&gt; 1, 'b' =&gt; 2);\nmy $hsh_ref = \\%hash;\n</code></pre>\n\n<p>To read or modify the referenced variable you have to dereference it. For that you use the funny character of the original variable type:</p>\n\n<pre><code>$$str_ref = \"Something else\";\nprint $string; # -&gt; Something else\nprint $$str_ref; # -&gt; The same\n\n@$lst_ref = (4, 5, 6);\nprint join(' ', @list); # -&gt; 4 5 6\nprint join(' ', @$lst_ref); # The same\n\n%$hsh_ref = ('c' =&gt; 3, 'd' =&gt; 4);\nprint join(' ', sort values %hash); # -&gt; 3 4\nprint join(' ', sort values %$hsh_ref); # The same\n</code></pre>\n\n<p>The referenced values of list and hash references can be accessed with the <code>-&gt;</code> operator:</p>\n\n<pre><code>print $lst_ref-&gt;[0]; # -&gt; 4\n\nprint $hsh_ref-&gt;{'c'}; # -&gt; 3\n</code></pre>\n\n<p>The longer syntax for dereferencing is using <code>{}</code>: <code>${$str_ref}</code>, <code>@{$lst_ref}</code> and <code>%{$hsh_ref}</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 2873403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0e60ca093e2f0e670e6ba841bcc416f6?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce", "link": "https://stackoverflow.com/users/2873403/bruce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "closed_date": 1492504536, "answer_count": 2, "score": -2, "last_activity_date": 1492500523, "creation_date": 1492499712, "last_edit_date": 1592644375, "question_id": 43465911, "link": "https://stackoverflow.com/questions/43465911/what-does-backslash-mean-in-perl-language", "closed_reason": "Duplicate", "title": "what does backslash &#39;\\&#39; mean in perl language?", "body": "<p><a href=\"https://i.stack.imgur.com/2EcSN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2EcSN.png\" alt=\"enter image description here\" /></a></p>\n<p>in the above picture, there are \\ before perl variables, what does the backslash mean?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 2, "creation_date": 1492495683, "post_id": 43464451, "comment_id": 73984967, "body": "Double-quoted strings includes <code>qq</code>, so <code>perl -e &quot;print qq(\\x6f\\xe3\\xff\\xff\\xff\\x7f) x 10&quot;</code> would also work. This is useful on platforms like Windows where single quotes don&#39;t work on the command line."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492528577, "post_id": 43464451, "comment_id": 74007251, "body": "You should explain about <code>-CS</code> rather than leaving it as an incantation!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492529105, "post_id": 43464451, "comment_id": 74007722, "body": "@Borodin: Good idea. Done."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1492529092, "last_edit_date": 1492529092, "creation_date": 1492494234, "answer_id": 43464451, "question_id": 43463940, "link": "https://stackoverflow.com/questions/43463940/how-to-print-hex-string-in-linux-shell-with-perl/43464451#43464451", "title": "How to print hex string in linux shell with perl", "body": "<p>Escape sequences like <code>\\x6f</code> are only expanded in double-quoted strings. You have them in a single-quoted string. Reverse the use of quotes in your example (I've also added <code>-CS</code> to make the characters print properly):</p>\n\n<pre><code>$ perl -CS -e 'print \"\\x6f\\xe3\\xff\\xff\\xff\\x7f\" x 10'\no\u00e3\u00ff\u00ff\u00ffo\u00e3\u00ff\u00ff\u00ffo\u00e3\u00ff\u00ff\u00ffo\u00e3\u00ff\u00ff\u00ffo\u00e3\u00ff\u00ff\u00ffo\u00e3\u00ff\u00ff\u00ffo\u00e3\u00ff\u00ff\u00ffo\u00e3\u00ff\u00ff\u00ffo\u00e3\u00ff\u00ff\u00ffo\u00e3\u00ff\u00ff\u00ff\n</code></pre>\n\n<p><strong>Update:</strong> The <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun manual page</a> explains about the various Perl command-line switches.</p>\n\n<p>The <code>-C</code> switch controls various Unicode features. <code>-CS</code> is a quick way to tell Perl that the three standard filehandles (STDIN, STDOUT and STDERR) should be treated as providing or expecting a stream of UTF8-encoded data. This means that anything read from STDIN will be decoded from UTF8 to Perl characters and anything sent to STDOUT or STDERR will be encoded from Perl characters to UTF8. In this case, I only really needed <code>-CI</code> (which only applies that transformation to STDOUT) but I have got into the habit of handling all three filehandles together.</p>\n"}], "owner": {"reputation": 53, "user_id": 7861561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cce0f7fffaad937943d6fcf09cdf718b?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7861561/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 43464451, "answer_count": 1, "score": -2, "last_activity_date": 1492529092, "creation_date": 1492491836, "question_id": 43463940, "link": "https://stackoverflow.com/questions/43463940/how-to-print-hex-string-in-linux-shell-with-perl", "title": "How to print hex string in linux shell with perl", "body": "<p>In linux shell, if I do <code>perl -e \"print '\\x6f\\xe3\\xff\\xff\\xff\\x7f' x 10\"</code>, the out put is:</p>\n\n<blockquote>\n  <p>\\x6f\\xe3\\xff\\xff\\xff\\x7f\\x6f\\xe3\\xff\\xff\\xff\\x7f\\x6f\\xe3\\xff\\xff\\xff\\x7f\\x6f\\xe3\\xff\\xff\\xff\\x7f\\x6f\\xe3\\xff\\xff\\xff\\x7f\\x6f\\xe3\\xff\\xff\\xff\\x7f\\x6f\\xe3\\xff\\xff\\xff\\x7f\\x6f\\xe3\\xff\\xff\\xff\\x7f\\x6f\\xe3\\xff\\xff\\xff\\x7f\\x6f\\xe3\\xff\\xff\\xff\\x7f  </p>\n</blockquote>\n\n<p>But what I need is the ascii string of <code>\\x6f\\xe3\\xff\\xff\\xff\\x7f</code>, how to make it?</p>\n"}, {"tags": ["perl", "parallel-processing"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1492491992, "post_id": 43463831, "comment_id": 73983451, "body": "split using for <code>comma</code> or <code>semicolon</code>"}, {"owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1492492057, "post_id": 43463831, "comment_id": 73983478, "body": "@ssr1012, kindly request you to please elaborate a bit.."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1492492108, "post_id": 43463831, "comment_id": 73983497, "body": "<code>perl example.pl $entry</code> instead of <code>system(&quot;call perl example.pl $entry&quot;)</code>. try to find out some information&#39;s in search engine."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492494657, "post_id": 43463831, "comment_id": 73984495, "body": "There are many ways. Perhaps try <a href=\"http://search.cpan.org/~dlux/Parallel-ForkManager-0.7.5/ForkManager.pm\" rel=\"nofollow noreferrer\">Parallel::ForkManager</a>.  You will need to learn a bit about what is behind it but this may be an easiest one to start with.  Search this site, there are many many posts about what you are asking."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492495010, "post_id": 43463831, "comment_id": 73984640, "body": "See the bar with links on the right side of this very page, under <b>Related</b>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1492495153, "post_id": 43463831, "comment_id": 73984720, "body": "Voting to close as duplicate of <a href=\"http://stackoverflow.com/questions/14585603/how-to-call-single-perl-script-to-run-parallely-through-loop-for-different-input?rq=1\">how-to-call-single-perl-script-to-run-parallely-through-loop&zwnj;&#8203;-for-different-input</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "edited": false, "score": 0, "creation_date": 1493015430, "post_id": 43467395, "comment_id": 74211585, "body": "Thanks a lot @Sobrique for a detailed explanation, it helped a lot in understanding the intrinsics. For now I am using the ForkManager method for parallel builds and its giving me expected results. Just for inquisitiveness, is it also possible to implement nested forks? I want to do this to parallelise the builds even more.."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "edited": false, "score": 0, "creation_date": 1493115300, "post_id": 43467395, "comment_id": 74264455, "body": "Yes. You can fork and fork again - each time you &#39;fork&#39; you split your process into two identical copies with exactly the same state, aside from the return code of <code>fork</code>. Doing this however, is a pretty good way to go exponential and &#39;fork bomb&#39; if you&#39;re not REALLY careful. So better to stick with Parallel::ForkManager generally."}, {"owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "edited": false, "score": 0, "creation_date": 1493185619, "post_id": 43467395, "comment_id": 74300574, "body": "Thanks @Sobrique !"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1492504528, "last_edit_date": 1592644375, "creation_date": 1492504528, "answer_id": 43467395, "question_id": 43463831, "link": "https://stackoverflow.com/questions/43463831/how-to-run-a-perl-script-in-parallel/43467395#43467395", "title": "How to run a perl script in parallel", "body": "<p>You're asking about something that seems pretty simple, but is actually altogether more complicated than it seems.</p>\n<p>It's not too hard to parallelise in perl, but ... here be  dragons. Parallel code introduces a whole new set of bugs and race conditions as your program becomes non deterministic. You can no longer know the sequence of execution reliably. (And if you <em>assume</em> that you do, you'll create a race condition).</p>\n<p>But with that in mind - there's really 3 (ish?) ways go go about it.</p>\n<h2>Fork</h2>\n<p>Use <code>Parallel::ForkManager</code> and enclose your inner loop in a fork. This works nicely for 'simple' parallelism, but communicating between your forks is difficult.</p>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Parallel::ForkManager;\n\nmy $manager = Parallel::ForkManager-&gt;new(2);    #2 concurrent\n\nmy $params = '1,2,3,4,5';\nmy @all_params = split( /,/, $params );\n\nforeach my $entry (@all_param) {\n   $manager-&gt;start and next;\n   #your code to run in parallel here;\n   print $entry;\n   $manager-&gt;finish;\n}\n</code></pre>\n<p>You can just roll your own using <code>fork</code> but you're probably going to trip over doing that. So <code>Parallel::ForkManager</code> is the tool for the job.</p>\n<h2>Thread:</h2>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse threads;\nuse Thread::Queue\n\n  my $work_q = Thread::Queue-&gt;new;\n\nsub worker {\n   while ( my $item = $work_q-&gt;dequeue ) {\n      print $item, &quot;\\n&quot;;\n   }\n}\n\nmy $params = '1,2,3,4,5';\nmy @all_params = split( /,/, $params );\n$work_q-&gt;enqueue(@all_params);\n$work_q-&gt;end;\n\nthreads-&gt;create( \\&amp;worker ) for 1 .. 2;    #2 in parallel\nforeach my $thr ( threads-&gt;list ) {\n   $thr-&gt;join;\n}\n</code></pre>\n<p>This is more suitable if you need to do more IPC - threading is (IMO) generally better for that. However, you <em>shouldn't</em> treat threads as lightweight (like forks) because despite what you may think from other languages - perl threading doesn't work like that.</p>\n<h2>Using IO::Select and multiple <code>open</code> calls to parallelise:</h2>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse IO::Select; \n\nmy $params = '1,2,3,4,5';\nmy @all_params = split( /,/, $params );\n\nforeach my $param ( @all_params ) { \n   open ( my $io, '-|', &quot;program_name $param&quot; ); \n   $select -&gt; add ( $io ); \n}\n\nwhile ( my $fh = $select -&gt; can_read ) { \n   my $line = &lt;$fh&gt;;\n   print $line; \n}      \n</code></pre>\n<p>You can do something similar via <code>IPC::Run2</code> to open file descriptors for STDIN and STDERR.</p>\n<h2>Should I?</h2>\n<p>Parallel code isn't a magic bullet. What it does is reduce 'blocks' and lets you consume resources. If your limiting resource is CPU, and you have 10 CPUs, then using 10 in parallel is going to speed you up.</p>\n<p>... but if your limiting resource is IO - network or disk bandwidth - it often doesn't help, because contention actually makes the problem worse. Disk controllers in particular already parallelise, prefetch and cache quite efficiently, so your gains from hitting them in parallel are often quite marginal.</p>\n"}, {"comments": [{"owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "edited": false, "score": 0, "creation_date": 1492749115, "post_id": 43470862, "comment_id": 74120155, "body": "Thanks Mark, yes we can do it this way. I generally use this way while running scripts directly from bash prompt. This usecase that i want to implement is in Jenkins2.x where i want to run some build scripts in parallel. Unfortunately i&#39;m facing issues in using the built in jenkins &quot;parallel&quot; command for this purpose."}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 5, "last_activity_date": 1492514750, "creation_date": 1492514750, "answer_id": 43470862, "question_id": 43463831, "link": "https://stackoverflow.com/questions/43463831/how-to-run-a-perl-script-in-parallel/43470862#43470862", "title": "How to run a perl script in parallel", "body": "<p>There's no real need to write any code (Perl or otherwise) to run your scripts in parallel, you can just use <strong>GNU Parallel</strong> and control how many run at time, how many different servers the scripts are run across and where the results go and just about any other aspect.</p>\n\n<p>So, if you have a file called <code>params.txt</code> which contains:</p>\n\n<pre><code>param1 param2\nparam3 param4\n</code></pre>\n\n<p>you can just do this in the Terminal:</p>\n\n<pre><code>parallel -a params.txt perl {1} {2}\n</code></pre>\n\n<p>If you want a progress bar, just add <code>--bar</code>:</p>\n\n<pre><code>parallel --bar ...\n</code></pre>\n\n<p>If you want to run exactly 8 at a time:</p>\n\n<pre><code>parallel -j 8 ...\n</code></pre>\n\n<p>If you want to see what it would do without actually doing anything:</p>\n\n<pre><code>parallel --dry-run ...\n</code></pre>\n"}], "owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2881, "favorite_count": 1, "accepted_answer_id": 43467395, "answer_count": 2, "score": 3, "last_activity_date": 1492514750, "creation_date": 1492491267, "question_id": 43463831, "link": "https://stackoverflow.com/questions/43463831/how-to-run-a-perl-script-in-parallel", "title": "How to run a perl script in parallel", "body": "<p>How can I run a perl script in parallel with different input params each time:</p>\n\n<p>Illustration:</p>\n\n<pre><code>perl example.pl param1 param2\nperl example.pl param3 param4\n</code></pre>\n\n<p>i want to run the perl script <code>example.pl</code> 2 or more times with different input <code>paramsX</code>. Everytime it should run in parallel.</p>\n\n<p>A sample algo is as under:</p>\n\n<pre><code>my $params='1,2,3,4,5';   \nmy @all_params = split(/\\;/, $params);\nforeach my $entry (@all_param)\n    {\n      perl example.pl $entry\n    }\n</code></pre>\n\n<p>i want to run the perl script in parallel for each loop.</p>\n"}, {"tags": ["perl", "web-applications", "frameworks", "mason"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492514831, "post_id": 43463613, "comment_id": 73996468, "body": "Mason on its own is not MVC. It&#39;s just V (as in <i>view</i>). How are you using it? Do you use your own route handling, or are you using another web framework with it? You probably have to do that in your dispatcher. Mason itself doesn&#39;t provide what you want. See the <a href=\"https://metacpan.org/source/JSWARTZ/Mason-2.24/lib/Mason/Interp.pm#L358\" rel=\"nofollow noreferrer\">source for <code>run</code></a> and <a href=\"https://metacpan.org/source/JSWARTZ/Mason-2.24/lib/Mason/Interp.pm#L679\" rel=\"nofollow noreferrer\"><code>_make_request</code></a>."}, {"owner": {"reputation": 44607, "user_id": 833073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b2e4376123477a31727c54096d1d117?s=128&d=identicon&r=PG", "display_name": "fthiella", "link": "https://stackoverflow.com/users/833073/fthiella"}, "edited": false, "score": 1, "creation_date": 1492603488, "post_id": 43463613, "comment_id": 74044646, "body": "I am not familiar with the interceptor concept, maybe do you need something like  Mason::Plugin::RouterSimple? Please see this question if it is useful for you <a href=\"http://stackoverflow.com/questions/32353992/specify-route-rules-and-route-to-different-components\" title=\"specify route rules and route to different components\">stackoverflow.com/questions/32353992/&hellip;</a>"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1493595784, "post_id": 43463613, "comment_id": 74468915, "body": "@simbabque your comment isn&#39;t fully true. Mason usually is used as view, <b>but</b> you can use it alone, and it have support for controller parts of the app too. (Enough if you check how the request dispatching works to components, autohandlers and dhandlers). Also, Mason fully supports routing by Mason::Plugin::RouterSimple. All together provides enough powerful &quot;C&quot; part too. :)  Read more in older tutorial (the current tutorial it is moved to Poet, but the old is still fully valid): <a href=\"https://metacpan.org/pod/release/JSWARTZ/Mason-2.16/lib/Mason/Manual/Tutorial.pod#MASON-AND-MVC\" rel=\"nofollow noreferrer\">metacpan.org/pod/release/JSWARTZ/Mason-2.16/lib/Mason/Manual&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 886, "user_id": 1222612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fec93ceb0df2b8c76fbf3309ff3803c?s=128&d=identicon&r=PG", "display_name": "Avi", "link": "https://stackoverflow.com/users/1222612/avi"}, "is_accepted": false, "score": 0, "last_activity_date": 1511327873, "creation_date": 1511327873, "answer_id": 47427306, "question_id": 43463613, "link": "https://stackoverflow.com/questions/43463613/how-can-we-implement-interceptor-in-mason-perl-based-webapplication/47427306#47427306", "title": "How can we implement interceptor in Mason-perl based webapplication", "body": "<p>The conventional way to do something like that in mason is to utilize autohandlers in the wrapping chain.</p>\n\n<p>If you have a dhandler or .m file, you can add an autohandler file in the same directory to perform the checks before passing off the processing to the other file. If you're already using autohandlers in various places and want to ensure every page has the checks performed, place an autohandler in the root directory and perform the checks there.</p>\n\n<p>For a more comprehensive discussion, see the <a href=\"http://masonbook.houseabsolute.com/book/chapter-3.html\" rel=\"nofollow noreferrer\">Mason Book chapter 3</a> (start with the <strong>Autohandlers</strong> section).</p>\n"}], "owner": {"reputation": 1, "user_id": 7632799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24cb6079093e4282cc0115ce24e34ceb?s=128&d=identicon&r=PG&f=1", "display_name": "Sarat", "link": "https://stackoverflow.com/users/7632799/sarat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511327873, "creation_date": 1492490021, "question_id": 43463613, "link": "https://stackoverflow.com/questions/43463613/how-can-we-implement-interceptor-in-mason-perl-based-webapplication", "title": "How can we implement interceptor in Mason-perl based webapplication", "body": "<p>I am working on a Mason-perl based webapplication and want to intercept a particular url before it hitting the flow and generating the view (I will be having some condition checks and redirect to different URL if that condition met). In spring based mvc we have concept of <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-config-interceptors\" rel=\"nofollow noreferrer\">interceptor</a> which helps us to achieve this. Can some one point out a way how can I achieve this in Mason-perl based webapplication</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 6, "creation_date": 1492461181, "post_id": 43459009, "comment_id": 73974280, "body": "Welcome to Stack Overflow and the Perl tag. Please always <code>use strict;</code> and <code>use warnings;</code> in all your programs. They help you to spot syntax errors and other problems early on. You should also indent your code properly. It currently is pretty hard to read. You can <a href=\"https://stackoverflow.com/posts/43459009/edit\">edit</a> your question and update the code. Also include the error messages that you are seeing, so we know what the problem is. You might also want to tell us what input you are using, as that is not obvious from the code, as well as an explanation of what your code is supposed to do. Also see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7880564"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492461774, "post_id": 43459009, "comment_id": 73974561, "body": "Well the perl is supposed to error check the input of an html form so that   Reservation Number May Not Be Blank  Reservation Create Date may not be blank  The Room Type Must be leters S,D,K,or M  The Start Date Must Not be Blank  The Room cost must be between .00 and .00  The payment method must be 1 thru 4  The discount code must be two digits and be one of the following numbers 5,10,17,20                                                                           display message pertaining to which field has an error.it&#39;s displaying all the error messages even if there are none"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1492462411, "post_id": 43459009, "comment_id": 73974859, "body": "Don&#39;t use string comparison operators like <code>le</code> or <code>gt</code> with numbers."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1492462450, "post_id": 43459009, "comment_id": 73974873, "body": "Is this code straight from 1994?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1492491791, "last_edit_date": 1492491791, "creation_date": 1492463571, "answer_id": 43459708, "question_id": 43459009, "link": "https://stackoverflow.com/questions/43459009/how-to-debug-a-perl-script-that-displays-error-message-even-when-it-shouldnt/43459708#43459708", "title": "How to debug a Perl script that displays error message even when it shouldn&#39;t?", "body": "<p>It works in my tests. The only thing I can think of is that the names of your parameters aren't what you say they are. You haven't shown us your HTML form, so I can't know for sure.</p>\n\n<p>Your code is rather strange. You're using string comparison operators (<code>gt</code>, <code>le</code>) to compare numbers. And your error messages don't seem to match the comparisons you are making.</p>\n\n<p>In addition, your error checking technique is rather clunky. The version below uses fewer variables and might be more maintainable.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CGI qw(:standard);\n\nprint header;\n\nmy $rn = param(\"Reservation Name\");\nmy $rc = param(\"Reservation Create Date\");\nmy $rr = param(\"Reservation Room Type\");\nmy $rnd = param(\"Reservation Number of Days\");\nmy $rs = param(\"Reservation Start Date\");\nmy $re = param(\"Reservation Room Cost\");\nmy $rp = param(\"Reservation Payment Method\");\nmy $rd = param(\"Reservation Discount Code\");\n\nmy @errors;\n\nif ( $rn eq \"\") {\n  push @errors, 'Reservation Number May Not Be Blank';\n}\n\nif ( $rc eq \"\") {\n  push @errors, 'Reservation Create Date may not be blank';\n}\n\nmy %valid_rr = map { $_ =&gt; 1 } qw[s d k m];\n\nif ( !$valid_rr{$rr} ) {\n  push @errors, 'The Room Type Must be leters S,D,K,or M';\n}\n\nif ( $rnd == 0 || ($rnd &gt; 7 )) {\n  push @errors, 'The number of days must be greate than zero and less than 7';\n}\n\nif ( $rs eq \"\") {\n  push @errors, 'The Start Date Must Not be Blank';\n}\n\nif ( $re &lt;= 65.00 || ($re &gt; 490.00)) {\n  push @errors, 'The Room cost must be between $65.00 and $490.00';\n}\n\nif ( $rp &lt;= 1 || ($rp &gt; 4 )) {\n  push @errors, 'The payment method must be 1 thru 4';\n}\n\nif ($rd &lt;= 5 || $rd &gt; 99) {\n  push @errors, 'The discount code must be two digits and be on of the following \n  numbers 5,10,17,20';\n}\n\nif ( @errors ) {\n  print map { \"&lt;br&gt;$_&lt;br&gt;\" } @errors;\n} else {\n  print \"&lt;html&gt;&lt;body&gt;Thank you for making your reservation&lt;/body&gt;&lt;/html&gt;\";\n}\n</code></pre>\n\n<p>You should also revisit your checks for valid strings. With <code>use warnings</code> turned on, you'll get lots of \"use of uninitialised value\" errors.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7880564"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 43459708, "answer_count": 1, "score": 0, "last_activity_date": 1492491791, "creation_date": 1492460565, "last_edit_date": 1492461349, "question_id": 43459009, "link": "https://stackoverflow.com/questions/43459009/how-to-debug-a-perl-script-that-displays-error-message-even-when-it-shouldnt", "title": "How to debug a Perl script that displays error message even when it shouldn&#39;t?", "body": "<p>I'm a student and very new to Perl and could use some help on why this isn't executing properly. Even when the criteria entered in is proper it will display all the error messages. I wanted it to display the errors that apply if need be or to display the thank you message if it all fields meet the proper criteria.</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"Content-type: text/html\\n\\n\";\nuse CGI qw(:standard);\n\n$rn = param(\"Reservation Name\");\n$rc = param(\"Reservation Create Date\");\n$rr = param(\"Reservation Room Type\");\n$rnd = param(\"Reservation Number of Days\");\n$rs = param(\"Reservation Start Date\");\n$re = param(\"Reservation Room Cost\");\n$rp = param(\"Reservation Payment Method\");\n$rd = param(\"Reservation Discount Code\");\n$e1 = 0;\n$e2 = 0;\n$e3 = 0;\n$e4 = 0;\n$e5 = 0;\n$e6 = 0;\n$e7 = 0;\n$e8 = 0;\n$errors = 0;\nif ( $rn eq \"\")\n{\n$e1 = 1;\n$errors =1;\n}\nif ( $rc eq \"\")\n{\n$e2 = 1;\n$errors = 1;\n}\nif ($rr ne \"s\" &amp;&amp; $rr ne \"d\" &amp;&amp; $rr ne \"k\" &amp;&amp; $rr ne \"m\")\n{\n$e3 = 1;\n$errors = 1;\n}\nif ( $rnd eq 0 || ($rnd gt 7 ))\n{\n$e4 = 1;\n$errors = 1;\n}\nif ( $rs eq \"\")\n{\n$e5 = 1;\n$errors = 1;\n}\nif ( $re le 65.00 || ($re gt 490.00))\n{\n$e6 = 1;\n$errors = 1;\n}\nif ( $rp le 1 || ($rp gt 4 ))\n{\n$e7 = 1;\n$errors = 1;\n}\nif ($rd le 5 || $rd gt 99)\n{\n$e8 = 1;\n$errors = 1;\n}\nif ( $errors == 0 )\n{\nprint \"&lt;html&gt;&lt;body&gt;Thank you for making your reservation&lt;/body&gt;&lt;/html&gt;\";\n}\nelse\n{\nif ($e1 == 1)\n{\nprint \"&lt;br&gt;Reservation Number May Not Be Blank&lt;br&gt;\";\n}\nif ($e2 == 1)\n{\nprint \"&lt;br&gt;Reservation Create Date may not be blank&lt;br&gt;\";\n}\nif ($e3 == 1)\n{\nprint \"&lt;br&gt;The Room Type Must be leters S,D,K,or M&lt;br&gt;\";\n}\nif  ($e4 == 1)\n{\nprint \"&lt;br&gt;The number of days must be greate than zero and less than 7&lt;br&gt;\";\n}\nif ($e5 == 1)\n{\nprint \"&lt;br&gt;The Start Date Must Not be Blank&lt;br&gt;\";\n}\nif ($e6 == 1)\n{\nprint \"&lt;br&gt;The Room cost must be between $65.00 and $490.00&lt;br&gt;\";\n}\nif ($e7 == 1)\n{\nprint \"&lt;br&gt;The payment method must be 1 thru 4&lt;br&gt;\";\n}\nif ($e8 == 1)\n{\nprint \"&lt;br&gt;The discount code must be two digits and be on of the following \nnumbers 5,10,17,20&lt;br&gt;\";\n}\n}\n</code></pre>\n"}, {"tags": ["perl", "email", "digital-ocean"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 4475743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72f34b10028f7c27433b1314f9c19c5?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Stephenson", "link": "https://stackoverflow.com/users/4475743/bill-stephenson"}, "edited": false, "score": 0, "creation_date": 1492460510, "post_id": 43458701, "comment_id": 73973873, "body": "Thank you Steffen. I&#39;ll follow up on this and learn what I can."}, {"owner": {"reputation": 141, "user_id": 4475743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72f34b10028f7c27433b1314f9c19c5?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Stephenson", "link": "https://stackoverflow.com/users/4475743/bill-stephenson"}, "edited": false, "score": 1, "creation_date": 1492465459, "post_id": 43458701, "comment_id": 73976260, "body": "I found the answer was to add the &quot;appserver.com&quot; IP address to the &quot;mynetworks&quot; parameter in &quot;/etc/postfix/main.cf&quot; and then run &quot;postfix reload&quot;"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1492459205, "creation_date": 1492459205, "answer_id": 43458701, "question_id": 43458525, "link": "https://stackoverflow.com/questions/43458525/using-perl-to-send-emails-from-remote-mail-in-abox-server/43458701#43458701", "title": "Using Perl to send emails from remote &quot;Mail-in-aBox&quot; server", "body": "<pre><code>Net::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 220 box.emailserver.com ESMTP Hi, I'm a Mail-in-a-Box (Ubuntu/Postfix; see https://mailinabox.email/)\nNet::SMTPS=GLOB(0x33b7958)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-box.emailserver.com\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-PIPELINING\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-SIZE 134217728\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-VRFY\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-ETRN\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-STARTTLS\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-8BITMIME\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250 DSN\n</code></pre>\n\n<p>Based on this output from the EHLO command the server does not support any kind of authentication. If it would there would be a line like <code>250-AUTH LOGIN PLAIN ...</code>, i.e. a line which declares support for the AUTH command and shows which authentication methods are supported. But since there is no such line the server does not support authentication. </p>\n\n<p>If you want to use authentication you need to fix this at the server setup. While I can find no information about it in the setup guid of MIAB it uses Postfix underneath which support authentication and there are various tutorials online which describe the process. But, any questions for this server setup are probably more on-topic at serverfault.com.</p>\n"}, {"tags": [], "owner": {"reputation": 1343, "user_id": 1423189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46bad9390779f986b0a9a32b8fdfc02a?s=128&d=identicon&r=PG", "display_name": "schulwitz", "link": "https://stackoverflow.com/users/1423189/schulwitz"}, "is_accepted": false, "score": 1, "last_activity_date": 1503098025, "creation_date": 1503098025, "answer_id": 45766146, "question_id": 43458525, "link": "https://stackoverflow.com/questions/43458525/using-perl-to-send-emails-from-remote-mail-in-abox-server/45766146#45766146", "title": "Using Perl to send emails from remote &quot;Mail-in-aBox&quot; server", "body": "<p>None of the instructions here or elsewhere worked for me, so I crafted my own solution using Net::SMTP.  I have Mail-In-A-Box working successfully on Namecheap with full STARTTLS support using a Perl script. The e-mails pass Gmail's spam folder, passing all their authenticity tests.  Once you have your mailinabox server fully configured, this script can be used to send e-mails via SMTP.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Net::SMTP;\nuse Authen::SASL;\n\nmy $host = 'box.yoursite.com'; #server1.yoursite.com if on namecheap\nmy $port = 587;\nmy $username   = 'you@yoursite.com';\nmy $password = 'yourpassword';\nmy $sendto = 'your@friend.com';\n\nmy $smtp = Net::SMTP-&gt;new(\n        $host,\n        Port =&gt; $port,\n        SSL =&gt; 0, #No SSL on initial handshake.\n        Timeout =&gt; 10,\n        Debug =&gt; 1\n);\n\n#Postfix has no AUTH option until STARTTLS.\n$smtp-&gt;starttls();\n$smtp-&gt;auth($username, $password);\n$smtp-&gt;mail($username);\nif ($smtp-&gt;to($sendto)) {\n        $smtp-&gt;data();\n        $smtp-&gt;datasend(\"From: $username\\n\");\n        $smtp-&gt;datasend(\"To: $sendto\\n\");\n        $smtp-&gt;datasend(\"Subject: Test message\\n\");\n        $smtp-&gt;datasend(\"\\n\");\n        $smtp-&gt;datasend(\"The test works!\\n\");\n        $smtp-&gt;dataend();\n} else {\n        print \"Error: \", $smtp-&gt;message();\n}\n$smtp-&gt;quit;\n</code></pre>\n\n<p>A few notes:</p>\n\n<ul>\n<li>The first EHLO handshake needs to be performed without SSL (<code>SSL=&gt;0</code>), and once initiated, a STARTTLS connection can then be established. Hence, this initial EHLO handshake fails to return a <code>250-AUTH</code> response from the mailinabox server, but upgrading the SMTP connection constructor to STARTTLS (<code>$smtp-&gt;starttls()</code>) succeeds in returning <code>250-AUTH PLAIN LOGIN</code>, at which point, you can proceed to authenticate with the SMTP server in the normal way.</li>\n<li>Make sure both the Net::SMTP and Authen::SASL cpan modules are both installed/upgraded.</li>\n<li>I added the server IP address to mynetworks as described by Bill Stephenson, but did not find it to be necessary.</li>\n</ul>\n"}], "owner": {"reputation": 141, "user_id": 4475743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72f34b10028f7c27433b1314f9c19c5?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Stephenson", "link": "https://stackoverflow.com/users/4475743/bill-stephenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1503098025, "creation_date": 1492458475, "question_id": 43458525, "link": "https://stackoverflow.com/questions/43458525/using-perl-to-send-emails-from-remote-mail-in-abox-server", "title": "Using Perl to send emails from remote &quot;Mail-in-aBox&quot; server", "body": "<p>On DigitalOcean I've got a vps running MIAB (\"<a href=\"https://mailinabox.email\" rel=\"nofollow noreferrer\">Mail-in-aBox</a>\") at box.emailserver.com and a web app server on another vps at appserver.com.</p>\n\n<p>I want to send emails from the web app using a Perl script.</p>\n\n<p>I'm using the MIAB DNS server for both domain names. With the MIAB server I can send and receive email using my Mac Mini \"Mail\" app so that's working great.</p>\n\n<p>I've edited a perl script <a href=\"http://search.cpan.org/~fayland/Email-Sender-Transport-SMTPS-0.03/lib/Email/Sender/Transport/SMTPS.pm\" rel=\"nofollow noreferrer\">I found on CPAN</a> that attempts to authenticate a user and send a simple email from appserver.com but it is not passing the auth stage. I get this error:</p>\n\n<p><strong>Error sending email: failed AUTH: Command unknown: 'AUTH'</strong></p>\n\n<p>Anyone have any ideas on what I'm doing wrong?</p>\n\n<p>Here's the script on the web app server, the mail.log from the MIAB, and what the script outputs when run:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Email::Sender::Simple qw(sendmail);\nuse Email::Sender::Transport::SMTPS;\nuse Try::Tiny;\n\nmy $transport = Email::Sender::Transport::SMTPS-&gt;new(\n    host =&gt; 'box.emailserver.com',\n    ssl  =&gt; 'starttls',\n    sasl_username =&gt; 'hostmaster@emailserver.com',\n    sasl_password =&gt; 'xxxx',\n    debug =&gt; 1, # or 1\n);\n\nuse Email::Simple::Creator; # or other Email::\nmy $message = Email::Simple-&gt;create(\n    header =&gt; [\n        From    =&gt; 'hostmaster@emailserver.com',\n        To      =&gt; 'bill@my.com',\n        Subject =&gt; 'appserver.com perl test',\n    ],\n    body =&gt; 'This is the test.',\n);\n\ntry {\n    sendmail($message, { transport =&gt; $transport });\n} catch {\n    die \"Error sending email: $_\";\n};\n</code></pre>\n\n<p>MIAB mail.log:</p>\n\n<pre><code>Apr 16 13:17:10 box postfix/submission/smtpd[31729]: connect from appserver.com[45.55.229.99]\nApr 16 13:17:10 box postfix/submission/smtpd[31729]: lost connection after EHLO from appserver.com[45.55.229.99]\nApr 16 13:17:10 box postfix/submission/smtpd[31729]: disconnect from appserver.com[45.55.229.99]\n</code></pre>\n\n<hr>\n\n<p>appserver.com perl script output</p>\n\n<pre><code>root@appserver:/usr/lib/cgi-bin# perl test6.pl\nNet::SMTPS&gt;&gt;&gt; Net::SMTPS(0.06)\nNet::SMTPS&gt;&gt;&gt; IO::Socket::IP(0.37)\nNet::SMTPS&gt;&gt;&gt; IO::Socket(1.38)\nNet::SMTPS&gt;&gt;&gt; IO::Handle(1.35)\nNet::SMTPS&gt;&gt;&gt; Exporter(5.72)\nNet::SMTPS&gt;&gt;&gt; Net::SMTP(3.10)\nNet::SMTPS&gt;&gt;&gt; Net::Cmd(3.10)\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 220 box.emailserver.com ESMTP Hi, I'm a Mail-in-a-Box (Ubuntu/Postfix; see https://mailinabox.email/)\nNet::SMTPS=GLOB(0x33b7958)&gt;&gt;&gt; EHLO localhost.localdomain\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-box.emailserver.com\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-PIPELINING\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-SIZE 134217728\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-VRFY\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-ETRN\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-STARTTLS\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250-8BITMIME\nNet::SMTPS=GLOB(0x33b7958)&lt;&lt;&lt; 250 DSN\nError sending email: failed AUTH: Command unknown: 'AUTH'\n\nTrace begun at /usr/local/share/perl/5.22.1/Email/Sender/Transport/SMTPS.pm line 98\nEmail::Sender::Transport::SMTPS::_throw('Email::Sender::Transport::SMTPS=HASH(0x24d8b80)', 'failed AUTH', 'Net::SMTPS=GLOB(0x33b7958)') called at /usr/local/share/perl/5.22.1/Email/Sender/Transport/SMTPS.pm line 71\nEmail::Sender::Transport::SMTPS::smtpclient('Email::Sender::Transport::SMTPS=HASH(0x24d8b80)') called at /usr/local/share/perl/5.22.1/Email/Sender/Transport/SMTPS.pm line 107\nEmail::Sender::Transport::SMTPS::send_email('Email::Sender::Transport::SMTPS=HASH(0x24d8b80)', 'Email::Abstract=ARRAY(0x3023ae0)', 'HASH(0x3023ca8)') called at /usr/local/share/perl/5.22.1/Email/Sender/Role/CommonSending.pm line 45\nEmail::Sender::Role::CommonSending::try {...} at /usr/share/perl5/Try/Tiny.pm line 92\neval {...} at /usr/share/perl5/Try/Tiny.pm line 83\nTry::Tiny::try('CODE(0x307b370)', 'Try::Tiny::Catch=REF(0x3023d38)') called at /usr/local/share/perl/5.22.1/Email/Sender/Role/CommonSending.pm line 58\nEmail::Sender::Role::CommonSending::send('Email::Sender::Transport::SMTPS=HASH(0x24d8b80)', 'Email::Abstract=ARRAY(0x3023ae0)', 'HASH(0x3069a30)') called at /usr/local/share/perl/5.22.1/Email/Sender/Simple.pm line 119\nEmail::Sender::Simple::send_email('Email::Sender::Simple', 'Email::Abstract=ARRAY(0x3023ae0)', 'HASH(0x3023cf0)') called at /usr/local/share/perl/5.22.1/Email/Sender/Role/CommonSending.pm line 45\nEmail::Sender::Role::CommonSending::try {...} at /usr/share/perl5/Try/Tiny.pm line 92\neval {...} at /usr/share/perl5/Try/Tiny.pm line 83\nTry::Tiny::try('CODE(0x3023b58)', 'Try::Tiny::Catch=REF(0x3005228)') called at /usr/local/share/perl/5.22.1/Email/Sender/Role/CommonSending.pm line 58\nEmail::Sender::Role::CommonSending::send('Email::Sender::Simple', 'Email::Simple=HASH(0x3004f88)', 'HASH(0x3004ee0)') called at /usr/share/perl5/Sub/Exporter/Util.pm line 18\nSub::Exporter::Util::ANON('Email::Simple=HASH(0x3004f88)', 'HASH(0x3004ee0)') called at test6.pl line 26\nmain::try {...} at /usr/share/perl5/Try/Tiny.pm line 92\neval {...} at /usr/share/perl5/Try/Tiny.pm line 83\nTry::Tiny::try('CODE(0x2fd50b0)', 'Try::Tiny::Catch=REF(0x2f96d08)') called at test6.pl line 29\n</code></pre>\n"}, {"tags": ["linux", "perl", "unix", "filesystems"], "comments": [{"owner": {"reputation": 100758, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 1, "creation_date": 1492458367, "post_id": 43458387, "comment_id": 73972727, "body": "Is it a broken symlink perhaps?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492458815, "post_id": 43458387, "comment_id": 73972990, "body": "What do you see in the shell?  <code>ls -l</code>? <code>stat</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 100758, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 1, "creation_date": 1492458842, "post_id": 43458387, "comment_id": 73973000, "body": "@that other guy, Good guess, except <code>-e</code> returns false of a broken symlink."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492458909, "post_id": 43458387, "comment_id": 73973045, "body": "Note that <code>unlink $cachepath</code> and <code>open my($in), &#39;&lt;:raw&#39;, $cachepath</code> can fail even if a file exists, so that whole bit about similar errors is meanlingless unless <code>$!</code> was <code>No such file or directory</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492459224, "post_id": 43458387, "comment_id": 73973219, "body": "According to you, <code>unlink</code> and <code>open</code> in the same process says the file doesn&#39;t exist, and <code>open</code> in an external process (<code>cat</code>) says the file doesn&#39;t exist. If it was just the last, I&#39;d suspect a possibly-unprintable shell meta-character. But give that you are only getting this problem intermittently (right?), and that your own process says the file doesn&#39;t exist, I believe the file doesn&#39;t exist."}], "answers": [{"tags": [], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1492474529, "creation_date": 1492474529, "answer_id": 43461584, "question_id": 43458387, "link": "https://stackoverflow.com/questions/43458387/the-file-says-its-there-but-its-not-really-there-at-all/43461584#43461584", "title": "the file says it&#39;s there, but it&#39;s not really there at all", "body": "<p>It turns out it really was child processes and race conditions. The newer code in Test::Simple doesn't work well with nested subtests. Anyway, thanks for allowing me to rule out some obscure filesystem thing that I didn't know about.</p>\n"}], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 43461584, "answer_count": 1, "score": 1, "last_activity_date": 1492474529, "creation_date": 1492457988, "question_id": 43458387, "link": "https://stackoverflow.com/questions/43458387/the-file-says-its-there-but-its-not-really-there-at-all", "title": "the file says it&#39;s there, but it&#39;s not really there at all", "body": "<p>What condition could cause this?</p>\n\n<ol>\n<li>a dentry for the file exists\n<li>-e says the file is there\n<li>cat says \"No such file or directory\"\n</ol>\n\n<pre><code>opendir(my $dh, $tdir) or die \"Could not open temp dir: $!\";\nfor my $file (readdir($dh)) {\n    print STDERR \"checking file $tdir/$file\\n\";\n    next unless -e \"$tdir/$file\";\n    print STDERR \"here's the file for $tdir/$file: \";\n    print STDERR `cat $tdir/$file`;\n    die \"Not all files from hub '$hid' have been collected!: $tdir/$file\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>checking file \n/tmp/test2~22363~0G0Tjv/22363~0~4~22380~0~1~Test2~Event~Note\nhere's the file for /tmp/test2~22363~0G0Tjv/22363~0~4~22380~0~1~Test2~Event~Note: \ncat: /tmp/test2~22363~0G0Tjv/22363~0~4~22380~0~1~Test2~Event~Note: No such file or directory\nIPC Fatal Error: Not all files from hub '22363~0~4' have been collected!:\n</code></pre>\n\n<p>I realize that theoretically some other process or thread could be stepping on my file in between cycles, but this is Perl (single-threaded) and Test2/Test::Simple's test directory, which should be limited to being managed by the master process.</p>\n\n<p>What's brought me here is that I've seen similar errors in other code we have:</p>\n\n<pre><code>if(-e $cachepath) {\n    unlink $cachepath\n        or Carp::carp(\"cannot unlink...\n</code></pre>\n\n<p>which throws \"cannot unlink...\"</p>\n\n<p>also</p>\n\n<pre><code>$cache_mtime = (stat($cachepath))[_ST_MTIME];\n....\nif ($cache_mtime){\n       open my($in), '&lt;:raw', $cachepath\n            or $self-&gt;_error(\"LoadError: Cannot open $cachepath for reading:\n</code></pre>\n\n<p>which throws that \"LoadError: cannot open...\" exception</p>\n\n<p>Those are in cases which <em>also</em> should only have the one process operating on the directory, and that all makes me suspect there's something going on.</p>\n\n<p>This is linux kernel, fully up-to-date with vendor patches.</p>\n"}, {"tags": ["perl", "asynchronous", "dns", "anyevent"], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 7757812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8bb8d0f617ac02473b73e4e66a8e5fa5?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/7757812/dmitriy"}, "edited": false, "score": 0, "creation_date": 1492466052, "post_id": 43458960, "comment_id": 73976494, "body": "Once again I say thank you. I do not quite understand what defines reuse in the settings of the AnyEvent::DNS. The description says: &quot;The number of seconds (default: 300) that a query id cannot be re-used after a timeout. If there was no time-out then query ids can be reused immediately.&quot; What is a &quot;query id&quot; and why does it wait for 300 seconds?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 443, "user_id": 7757812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8bb8d0f617ac02473b73e4e66a8e5fa5?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/7757812/dmitriy"}, "edited": false, "score": 0, "creation_date": 1492466981, "post_id": 43458960, "comment_id": 73976808, "body": "Don&#39;t know. . ."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1492460272, "creation_date": 1492460272, "answer_id": 43458960, "question_id": 43458369, "link": "https://stackoverflow.com/questions/43458369/how-to-configure-anyeventdns-resolver-by-default/43458960#43458960", "title": "How to configure AnyEvent::DNS resolver by default?", "body": "<p><code>$ENV{PERL_ANYEVENT_MAX_OUTSTANDING_DNS}</code> is only used if the default resolver is used, so you must be using the default resolver, so you can just change the default resolver.</p>\n\n<pre><code>use AnyEvent::DNS qw( );\n\nmy $resolver = AnyEvent::DNS-&gt;new(\n   untaint         =&gt; 1,\n   max_outstanding =&gt; $ENV{PERL_ANYEVENT_MAX_OUTSTANDING_DNS}*1 || ...,\n   reuse           =&gt; ...,\n   timeout         =&gt; ...,\n);\n\n$ENV{PERL_ANYEVENT_RESOLV_CONF}\n   ? $resolver-&gt;_load_resolv_conf_file($ENV{PERL_ANYEVENT_RESOLV_CONF})\n   : $resolver-&gt;os_config;\n\n$AnyEvent::DNS::RESOLVER = $resolver;\n</code></pre>\n"}], "owner": {"reputation": 443, "user_id": 7757812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8bb8d0f617ac02473b73e4e66a8e5fa5?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/7757812/dmitriy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 43458960, "answer_count": 1, "score": 0, "last_activity_date": 1492460272, "creation_date": 1492457921, "question_id": 43458369, "link": "https://stackoverflow.com/questions/43458369/how-to-configure-anyeventdns-resolver-by-default", "title": "How to configure AnyEvent::DNS resolver by default?", "body": "<p>How to configure <code>AnyEvent::DNS</code> resolver by default, I want to change <code>max_outstanding</code>, <code>reuse</code>, <code>timeout</code>.\nThere is an environment variable <code>$ENV{PERL_ANYEVENT_MAX_OUTSTANDING_DNS}</code>, but how to change <code>reuse</code> and <code>timeout</code> ?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492457017, "post_id": 43457704, "comment_id": 73972002, "body": "Should it match <code>find find</code>?"}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492457370, "post_id": 43457704, "comment_id": 73972197, "body": "Ideally it should match &#39;find&#39; and &#39;two&#39; but  &#39;find&#39; and &#39;find&#39; would also be plausible."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492457472, "post_id": 43457704, "comment_id": 73972264, "body": "It&#39;s a yes or no kind of question..."}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492458064, "post_id": 43457704, "comment_id": 73972582, "body": "Yes si the answer then"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492458212, "post_id": 43457704, "comment_id": 73972661, "body": "Then you want strings with two or more instances of the keywords."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "edited": false, "score": 0, "creation_date": 1492460340, "post_id": 43458180, "comment_id": 73973790, "body": "Ok One more query can I use the tags \\Q and \\E because in my array there might be phrases which need to be matched too."}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "edited": false, "score": 0, "creation_date": 1492461098, "post_id": 43458180, "comment_id": 73974243, "body": "Am asking because I would have to escape special characters So hence the query."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "edited": false, "score": 0, "creation_date": 1492461796, "post_id": 43458180, "comment_id": 73974577, "body": "I don&#39;t see how that answers my question. I presume you&#39;re not asking about your ability to use <code>\\Q</code> and <code>\\E</code>, and I presume you&#39;re not asking if it&#39;s possible to use <code>\\Q</code> and <code>\\E</code> (seeing as it&#39;s possible to use them in every program), so I presume that you are asking if you <i>should</i> use <code>\\Q</code> and <code>\\E</code>, and that would be entirely dependent on how you plan to use them."}, {"owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "edited": false, "score": 0, "creation_date": 1492462672, "post_id": 43458180, "comment_id": 73974959, "body": "OK i don&#39;t know where to place them but my array will have also strings like &#39;I am&#39; or &#39;May not&#39; or &#39;to-be&#39; .Right now to match sentences having elements from my array i use :  if ( any { $line =~ /\\Q$_\\E/ } @names ) { \t\t        print ... \t\t    }"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1492458147, "last_edit_date": 1492458147, "creation_date": 1492457161, "answer_id": 43458180, "question_id": 43457704, "link": "https://stackoverflow.com/questions/43457704/perl-capture-sentences-with-occurrence-of-more-than1-element-of-an-array/43458180#43458180", "title": "Perl - Capture sentences with occurrence of more than1 element of an array", "body": "<p>If you want strings with two or more instances of the keywords:</p>\n\n<pre><code>my @keywords = (\"find\", \"two\", \"way\");\nmy %keywords = map { $_ =&gt; 1 } @keywords;\n\nfor my $string (@strings) {\n   my @words = $string =~ /\\w+/g;\n   my $count = grep { $keywords{$_} } @words;   # Count words that are keywords.\n   if ($count &gt;= 2) {\n      ...\n   }\n}\n</code></pre>\n\n<p>Short-circuiting alternate (i.e. good for extremely long strings):</p>\n\n<pre><code>my @keywords = (\"find\", \"two\", \"way\");\nmy %keywords = map { $_ =&gt; 1 } @keywords;\n\nfor my $string (@strings) {\n   my $count = 0;\n   while ($string =~ /\\w+/g) {\n      if ($keywords{$_} &amp;&amp; ++$count == 2) {\n         ...\n         last;\n      }\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>If you want strings with instances of two or more keywords:</p>\n\n<pre><code>my @keywords = (\"find\", \"two\", \"way\");\n\nfor my $string (@strings) {\n   my @words = $string =~ /\\w+/g;\n   my %seen; ++$seen{$_} for @words;\n   my $count = grep { $seen{$_} } @keywords;   # Count keywords that were seen.\n   if ($count &gt;= 2) {\n      ...\n   }\n}\n</code></pre>\n\n<p>Alternate:</p>\n\n<pre><code>my @keywords = (\"find\", \"two\", \"way\");\n\nfor my $string (@strings) {\n   my @words = $string =~ /\\w+/g;\n   my %seen = map { $_ =&gt; -1 } @keywords;\n   my $count = grep { ++$seen{$_} == 0 } @words;\n   if ($count &gt;= 2) {\n      ...\n   }\n}\n</code></pre>\n\n<p>Short-circuiting alternate (i.e. good for extremely long strings):</p>\n\n<pre><code>my @keywords = (\"find\", \"two\", \"way\");\n\nfor my $string (@strings) {\n   my $count = 0;\n   my %seen = map { $_ =&gt; -1 } @keywords;\n   while ($string =~ /\\w+/g) {\n      if (++$seen{$_} == 0 &amp;&amp; ++$count == 2) {\n         ...\n         last;\n      }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 7700359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-wEdE_ERIePM/AAAAAAAAAAI/AAAAAAAAJGQ/k2ceucupQb4/photo.jpg?sz=128", "display_name": "ary", "link": "https://stackoverflow.com/users/7700359/ary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 43458180, "answer_count": 1, "score": 1, "last_activity_date": 1492458147, "creation_date": 1492455390, "last_edit_date": 1492456907, "question_id": 43457704, "link": "https://stackoverflow.com/questions/43457704/perl-capture-sentences-with-occurrence-of-more-than1-element-of-an-array", "title": "Perl - Capture sentences with occurrence of more than1 element of an array", "body": "<p>I have a text file and a array which has a list of words. I need to find a way where I can filter out the sentences with occurrence of more than 1 . I am just not able to formulate how to write the code. Here is an example :</p>\n\n<p>Input : </p>\n\n<pre><code>my @strings = (\n    \"i'm going to find the occurrence of two words if possible\",\n    \"i'm going to find the occurrence of two words if possible\",\n    \"to find a solution to this problem\",\n    \"i will try my best for a way to this problem\"\n);\n\nmy @words = (\"find\", \"two\", \"way\");\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>i'm going to find the occurrence of two words if possible\ni'm going to find the occurrence of two words if possible\n</code></pre>\n\n<p>And I do understand it's a simple problem but my mind seems to have hit a road block.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1492452894, "post_id": 43456952, "comment_id": 73969715, "body": "You need the <code>s</code>modifier if you want to span multiple lines <code>if($fileContent =~ &#47;\\b$beginString\\b(.*?)\\b$endString\\b&#47;s</code> <code>s</code> allows `dot&#39; to match newlines."}, {"owner": {"reputation": 38, "user_id": 7880048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb90cadcb2c7308e358fc8dde1d3ef8a?s=128&d=identicon&r=PG&f=1", "display_name": "victorz22", "link": "https://stackoverflow.com/users/7880048/victorz22"}, "reply_to_user": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1492454000, "post_id": 43456952, "comment_id": 73970276, "body": "Thank you! however it wasn&#39;t the full solution. What it did was return everything up to the $endString but i still got everything before the $beginString."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492454889, "post_id": 43456952, "comment_id": 73970774, "body": "Tip: It&#39;s called a &quot;file handle&quot; (something that holds a resource), not a &quot;file handler&quot; (something that takes care of files)."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6917153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431ecc5de08434b5000edd0e307b19f4?s=128&d=identicon&r=PG&f=1", "display_name": "Dirk", "link": "https://stackoverflow.com/users/6917153/dirk"}, "is_accepted": false, "score": 0, "last_activity_date": 1492469608, "creation_date": 1492469608, "answer_id": 43460893, "question_id": 43456952, "link": "https://stackoverflow.com/questions/43456952/perl-reading-in-a-file-and-getting-a-string-in-between-two-strings/43460893#43460893", "title": "Perl reading in a file and getting a string in between two strings", "body": "<p>An adaptation of <a href=\"http://www.perlmonks.org/?node_id=979946\" rel=\"nofollow noreferrer\">the perl monks' solution</a> could be..</p>\n\n<pre><code>my $beginString = \"SEARCH\";\nmy $endString = \"TEST\";\n\nmy $fileContent;\nopen(my $fileHandler, $inputFile) or die \"Could not open file '$inputFile' $!\";\nwhile(&lt;$fileHandler&gt;) {\n  if(/$beginString/../$endString/) {  $fileContent .= $_ unless(/$beginString/ or /$endString/) }\n}\nclose($fileHandler);\nprint Dumper($fileContent);\n</code></pre>\n"}], "owner": {"reputation": 38, "user_id": 7880048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb90cadcb2c7308e358fc8dde1d3ef8a?s=128&d=identicon&r=PG&f=1", "display_name": "victorz22", "link": "https://stackoverflow.com/users/7880048/victorz22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492469608, "creation_date": 1492452574, "question_id": 43456952, "link": "https://stackoverflow.com/questions/43456952/perl-reading-in-a-file-and-getting-a-string-in-between-two-strings", "title": "Perl reading in a file and getting a string in between two strings", "body": "<p>I am trying to read in a file and gather everything in between two hash keys. I want to access everything between the $beginString and $endString variables. I have tried multiple regular expressions but haven't been able to get one to work.</p>\n\n<pre><code>my $beginString = \"SEARCH\";\nmy $endString = \"TEST\";\n\n\nmy $fileContent;\nopen(my $fileHandler, $inputFile) or die \"Could not open file '$inputFile' $!\";\n{\n    local $/;\n    $fileContent = &lt;$fileHandler&gt;;\n}\nclose($fileHandler);\n\n\n\nif($fileContent =~ /\\b$beginString\\b(.*?)\\b$endString\\b/){\n    my $result = $1;\n    print $result;\n}\n\nprint Dumper($fileContent); \n</code></pre>\n"}, {"tags": ["perl", "max"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1492451640, "post_id": 43456543, "comment_id": 73969024, "body": "You could create a hash, for example <code>%h = ( a =&gt; 1, b =&gt; 2, c=&gt; 3 )</code> then loop through the keys and save both max value and corresponding key value"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1492451744, "post_id": 43456543, "comment_id": 73969075, "body": "List::Util doesn&#39;t know that it got variables at all. It just sees a list. The values it gets for sorting/checking could also be one or more arrays, or the return value of a function. No luck there I&#39;m afraid."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1492454797, "last_edit_date": 1492454797, "creation_date": 1492452257, "answer_id": 43456866, "question_id": 43456543, "link": "https://stackoverflow.com/questions/43456543/is-there-a-way-to-return-the-variable-name-from-perls-max-function/43456866#43456866", "title": "Is there a way to return the variable name from Perl&#39;s max function?", "body": "<pre><code>sub pairmax {\n    my $name = shift;\n    my $max  = shift;\n    while (@_) {\n       if ($_[1] &gt; $max) {\n          $name = shift;\n          $max  = shift;\n       } else {\n          shift;\n          shift;\n       }\n    }\n\n    return wantarray ? ($name,$max) : $name;\n}\n\nmy $key_of_max = pairmax( a=&gt;$a, b=&gt;$b, c=&gt;$c );\n\nmy ($key_of_max, $max) = pairmax( a=&gt;$a, b=&gt;$b, c=&gt;$c );\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492454797, "creation_date": 1492451010, "question_id": 43456543, "link": "https://stackoverflow.com/questions/43456543/is-there-a-way-to-return-the-variable-name-from-perls-max-function", "title": "Is there a way to return the variable name from Perl&#39;s max function?", "body": "<p>Using Perl's <code>List::Util</code> module, is there a way to return the variable name from <code>max()</code>, along with the actual value? Example:</p>\n\n<pre><code>my $a = 1;\nmy $b = 2;\nmy $c = 3;\n\nmy $max = max($a,$b,$c);\n</code></pre>\n\n<p>How can I get 3, as well as the variable name <code>$c</code>? My intention is to do something like: </p>\n\n<pre><code>#psuedocode\nif(max is from $c) {\nprint \"Max from C\";\n}\n</code></pre>\n\n<p>Or maybe a way to do this w/o <code>List::Util</code>?</p>\n"}, {"tags": ["perl", "mechanize", "www-mechanize"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492448455, "post_id": 43452547, "comment_id": 73967256, "body": "<i>&quot;download the result when the job is completed&quot;</i> Are you hoping to poll that address until it provides a finished result?"}, {"owner": {"reputation": 177, "user_id": 2525186, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd560cef83df54a5198cc3d03c0acbc2?s=128&d=identicon&r=PG", "display_name": "pali", "link": "https://stackoverflow.com/users/2525186/pali"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492449556, "post_id": 43452547, "comment_id": 73967826, "body": "Actually my final goal is to extract the result that appear on that address. But I am not sure how long it will take. Therefore I am think to extract the address (<a href=\"http://bioinfo.noble.org/TrSSP/?sessionid=1492435151653763\" rel=\"nofollow noreferrer\">bioinfo.noble.org/TrSSP/?sessionid=1492435151653763</a>) and then pull the result after sometime later. But again I am not sure that this will be the best way to do this job. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 2525186, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd560cef83df54a5198cc3d03c0acbc2?s=128&d=identicon&r=PG", "display_name": "pali", "link": "https://stackoverflow.com/users/2525186/pali"}, "edited": false, "score": 0, "creation_date": 1492519717, "post_id": 43468747, "comment_id": 74000071, "body": "Thanks a lot. I was doing the whole process in multiple steps by multiple scripts. After submission, I was extracting the right url. After that I was downloading the web page and finally html table parsing. You make my life easier :). Now I think I can directly parse my result like this  my $text = <code>read_file($mech); my $te = new HTML::TableExtract();  $te-&gt;parse($text);  foreach my $ts ($te -&gt;table_states) {         foreach my $row ($ts-&gt;rows)  {        print &quot;   &quot;, join(&#39;,&#39;, @$row), &quot;\\n&quot;;      }  } </code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 177, "user_id": 2525186, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd560cef83df54a5198cc3d03c0acbc2?s=128&d=identicon&r=PG", "display_name": "pali", "link": "https://stackoverflow.com/users/2525186/pali"}, "edited": false, "score": 0, "creation_date": 1492523727, "post_id": 43468747, "comment_id": 74003340, "body": "@pali glad to hear that it works. While you&#39;re at it, stop using indirect object notation. Don&#39;t do <code>new HTML::TableExtract</code>. Do <code>HTML::TableExtract-&gt;new</code> instead. The indirect object notation can lead to ambiguous syntax where perl gets confused, among other things. :)"}, {"owner": {"reputation": 177, "user_id": 2525186, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd560cef83df54a5198cc3d03c0acbc2?s=128&d=identicon&r=PG", "display_name": "pali", "link": "https://stackoverflow.com/users/2525186/pali"}, "edited": false, "score": 0, "creation_date": 1492529076, "post_id": 43468747, "comment_id": 74007698, "body": "Thanks for your insights."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1492508635, "last_edit_date": 1495535462, "creation_date": 1492508635, "answer_id": 43468747, "question_id": 43452547, "link": "https://stackoverflow.com/questions/43452547/perl-geturls-with-wwwmechanize/43468747#43468747", "title": "Perl - geturls with WWW::Mechanize", "body": "<p>We don't know how long this is backend process there is going to take. If it's minutes, you could have your program wait. Even if it's hours, waiting is reasonable.</p>\n\n<p>In a browser, the page is going to refresh on its own. There are two auto-refresh mechanisms implemented in the response you are showing.</p>\n\n<pre><code>&lt;script language=\"JavaScript\" type=\"text/JavaScript\"&gt;\nfunction doit()\n{\n    window.location.href=\"/TrSSP/?sessionid=1492435151653763\";\n}\nsetTimeout(\"doit()\",9000);\n&lt;/script&gt;\n</code></pre>\n\n<p>The javascript <code>setTimeout</code> takes an argument in milliseconds, so this will be done after 9 seconds.</p>\n\n<p>There is also a meta tag that tells the browser to auto-refresh:</p>\n\n<pre><code>&lt;meta http-equiv=\"refresh\" content=\"4;url=/TrSSP/?sessionid=1492435151653763\"&gt;\n</code></pre>\n\n<p>Here, the <code>4</code> in the <code>content</code> means 4 seconds. So this would be done earlier.</p>\n\n<p>Of course we also don't know how long they keep the session around. It might be a safe approach to reload that page every ten seconds (or more often, if you want).</p>\n\n<p>You can do that by building a simple <code>while</code> loop and checking if the refresh is still in the response.</p>\n\n<pre><code># do the initial submit here\n\n... \n\n# assign this by grabbing it from the page\n$mech-&gt;content =~ m{&lt;strong&gt;(\\Qhttp://bioinfo.noble.org/TrSSP/?sessionid=\\E\\d+)&lt;/strong&gt;};\nmy $url = $1; # in this case, regex on HTML is fine\n\nprint \"Waiting for $url\\n\";\nwhile (1) {\n     $mech-&gt;get($url);\n     last unless $mech-&gt;content =~ m/refresh/;\n     sleep 10; # or whatever number of seconds\n}\n\n# process the final response ...\n</code></pre>\n\n<p>We first submit the data. We then extract the URL that you're supposed to call until they are done processing. Since this is a pretty straight-forward document, we can safely use a pattern match. The URL is always the same, and it's clearly marked with the <code>&lt;strong&gt;</code> tag. In <a href=\"https://stackoverflow.com/a/1732454/1331451\">general it's not a good idea to use regex to parse HTML</a>, but we're not really parsing, we are just <a href=\"https://en.wikipedia.org/wiki/Data_scraping#Screen_scraping\" rel=\"nofollow noreferrer\">screenscraping</a> a single value. The <code>\\Q</code> and <code>\\E</code> are the same as <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\"><code>quotemeta</code></a> and make sure that we don't have to escape the <code>.</code> and <code>?</code>, which is then easier to read than having a buch of backslashes <code>\\</code> in the pattern.</p>\n\n<p>The script will <a href=\"http://perldoc.perl.org/functions/sleep.html\" rel=\"nofollow noreferrer\"><code>sleep</code></a> for ten seconds after every attempt before trying again. Once it matches, it breaks out of the endless loop, so you can put the processing of the actual response that has the data you wanted behind that loop.</p>\n\n<p>It might make sense to add some output into the loop so you can see that it's still running. </p>\n\n<p>Note that this needs to really keep running until it's done. Don't stop the process.</p>\n"}], "owner": {"reputation": 177, "user_id": 2525186, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd560cef83df54a5198cc3d03c0acbc2?s=128&d=identicon&r=PG", "display_name": "pali", "link": "https://stackoverflow.com/users/2525186/pali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 43468747, "answer_count": 1, "score": -1, "last_activity_date": 1492508635, "creation_date": 1492436072, "last_edit_date": 1492437862, "question_id": 43452547, "link": "https://stackoverflow.com/questions/43452547/perl-geturls-with-wwwmechanize", "title": "Perl - geturls with WWW::Mechanize", "body": "<p></p>\n\n<p>I am trying to submit a form on <code>http://bioinfo.noble.org/TrSSP/</code> and want to extract the result.</p>\n\n<p>My query data looks like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;ATCG00270\nMTIALGKFTKDEKDLFDIMDDWLRRDRFVFVGWSGLLLFPCAYFALGGWFTGTTFVTSWYTHGLASSYLEGCNFLTAA    VSTPANSLAHSLLLLWGPEAQGDFTRWCQLGGLWAFVALHGAFALIGFMLRQFELARSVQLRPYNAIAFSGPIAVFVSVFLIYPLGQSGWFFAPSFGVAAIFRFILFFQGFHNWTLNPFHMMGVAGVLGAALLCAIHGATVENTLFEDGDGANTFRAFNPTQAEETYSMVTANRFWSQIFGVAFSNKRWLHFFMLFVPVTGLWMSALGVVGLALNLRAYDFVSQEIRAAEDPEFETFYTKNILLNEGIRAWMAAQDQPHENLIFPEEVLPRGNAL\n</code></pre>\n\n<p>My script looks like this </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse File::Slurp;\nuse WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new;\n\nmy $sequence = $ARGV[0];\n\n$mech-&gt;get( 'http://bioinfo.noble.org/TrSSP' );\n$mech-&gt;submit_form( fields =&gt; { 'query_file' =&gt; $sequence, }, );\n\nprint $mech-&gt;content;\n\n#sleep (10);\n\nopen( OUT, \"&gt;out.txt\" );\n\nmy @a = $mech-&gt;find_all_links();\n\nprint OUT \"\\n\", $a[$_]-&gt;url for ( 0 .. $#a );\n</code></pre>\n\n<p><code>print $mech-&gt;content</code> gives a result like this </p>\n\n<pre class=\"lang-none prettyprint-override\"><code> &lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\n    \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n   &lt;html&gt;\n\n    &lt;head&gt;\n      &lt;title&gt;The job is running, please wait...&lt;/title&gt;\n      &lt;meta http-equiv=\"refresh\" content=\"4;url=/TrSSP/?sessionid=1492435151653763\"&gt;\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"interface/style.css\" type=\"text/css\"&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;table width=\"90%\" align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"  class=\"table1\"&gt;\n\n  &lt;tr align=\"center\"&gt;\n    &lt;td width=\"50\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n  &lt;/tr&gt;\n\n  &lt;tr align=\"left\" height=\"30\" valign=\"middle\"&gt;\n    &lt;td width=\"30\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;td bgColor=\"#CCCCFF\"&gt;&amp;nbsp;Your sequences have been submitted to backend pipeline, please wait for result:&lt;/td&gt;\n    &lt;td width=\"30\"&gt;&amp;nbsp;&lt;/td&gt;\n  &lt;/tr&gt;\n\n  &lt;tr align=\"left\"&gt;\n    &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;td&gt;\n\n&lt;br&gt;&lt;br&gt;&lt;font color=\"#0000FF\"&gt;&lt;strong&gt;\n&amp;nbsp;&lt;/strong&gt;&lt;/font&gt;\n&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;br&gt;&lt;br&gt;&lt;BR&gt;&lt;br&gt;&lt;br&gt;&lt;hr&gt;\nIf you don't want to wait online, please copy and keep the following link to retrieve your result later:&lt;br&gt;\n\n&lt;strong&gt;http://bioinfo.noble.org/TrSSP/?sessionid=1492435151653763&lt;/strong&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/JavaScript\"&gt;\nfunction doit()\n{\n    window.location.href=\"/TrSSP/?sessionid=1492435151653763\";\n}\nsetTimeout(\"doit()\",9000);\n&lt;/script&gt;\n\n    &lt;/td&gt;\n    &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>I want to extract this link</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>http://bioinfo.noble.org/TrSSP/?sessionid=1492435151653763\n</code></pre>\n\n<p>and download the result when the job is completed. But <code>find_all_links()</code> is recognizing <code>/TrSSP/?sessionid=1492434554474809</code> as a link.</p>\n"}, {"tags": ["perl", "anonymous-function", "plack"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1492434469, "post_id": 43451911, "comment_id": 73959512, "body": "<code>&amp;GET($get_root);</code> perhaps?"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1492439116, "post_id": 43451911, "comment_id": 73962068, "body": "\u0421\u0443\u0445\u043e\u043927, this works, make it a proper answer below so I can upvote you."}], "answers": [{"comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1492440405, "post_id": 43453494, "comment_id": 73962783, "body": "This does work, have an upvote. Unfortunately, it turns out it&#39;s not suitable for me. I&#39;m sorry, my test case was too simplistic. Once you put arguments into the generic function, this fails with <code>\u2026 must be block or sub {} (not reference constructor)</code>. Code: <code>my $get_generic = sub { my ($body) = @_; return sub { [200, [], [$body]] }; };</code> \u2026\u2026\u2026 <code>GET \\&amp;$get_generic-&gt;(&#39;get &#47;&#39;);</code>"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1492440947, "post_id": 43453494, "comment_id": 73963106, "body": "Perfect! I prefer this syntax over disabling prototypes."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1492441673, "last_edit_date": 1495540020, "creation_date": 1492439551, "answer_id": 43453494, "question_id": 43451911, "link": "https://stackoverflow.com/questions/43451911/how-can-i-use-coderefs-instead-literal-subs-when-there-is-a-prototype/43453494#43453494", "title": "How can I use coderefs instead literal subs when there is a `&amp;` prototype?", "body": "<p><code>GET \\&amp;$get_root</code> seems to work.</p>\n\n<p>For a more complicated expression like what you refer to in the comments, you can use</p>\n\n<pre><code>GET \\&amp;{$get_generic-&gt;('get /')}\n</code></pre>\n\n<p>The <code>\\&amp;{...}</code> operation coerces its contents to a code reference that is suitable to use with a <code>&amp;</code> prototype. Likewise, you can use <code>@{[...]}</code> and <code>%{{...}}</code> in <a href=\"https://stackoverflow.com/a/39022313/168657\">contexts where you want to workaround a <code>\\@</code> or <code>\\%</code> prototype</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1492447927, "creation_date": 1492447927, "answer_id": 43455742, "question_id": 43451911, "link": "https://stackoverflow.com/questions/43451911/how-can-i-use-coderefs-instead-literal-subs-when-there-is-a-prototype/43455742#43455742", "title": "How can I use coderefs instead literal subs when there is a `&amp;` prototype?", "body": "<p>Options:</p>\n\n<ul>\n<li><p>Bypass the prototype.</p>\n\n<pre><code>&amp;GET($get_root)\n</code></pre></li>\n<li><p>Provide a <code>BLOCK</code> as requested by the error message.</p>\n\n<pre><code>GET { $get_root-&gt;(@_) }\n</code></pre></li>\n<li><p>Provide a <code>sub { }</code> as requested by the error message.</p>\n\n<pre><code>GET(sub { $get_root-&gt;(@_) })\n</code></pre></li>\n<li><p>Use something that starts with <code>\\&amp;</code>. (Undocumented)</p>\n\n<pre><code>GET(\\&amp;$get_root)\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "accepted_answer_id": 43453494, "answer_count": 2, "score": 4, "last_activity_date": 1492447927, "creation_date": 1492433583, "question_id": 43451911, "link": "https://stackoverflow.com/questions/43451911/how-can-i-use-coderefs-instead-literal-subs-when-there-is-a-prototype", "title": "How can I use coderefs instead literal subs when there is a `&amp;` prototype?", "body": "<p>I'm trying to make <a href=\"http://p3rl.org/Router::Resource\" rel=\"nofollow noreferrer\">Router::Resource</a> work\nwhere the parameters to the functions are not literal anonymous subs, but\ncoderefs defined earlier. I am doing this to curtail code duplication.</p>\n\n<p>Here's the code from the synopsis in a minimal but working fashion. This works.</p>\n\n<pre><code># app.psgi\nuse 5.024;\nuse Router::Resource qw(resource router GET POST);\nmy $app = sub {\n    my ($env) = @_;\n    my $router = router {\n        resource '/' =&gt; sub {\n            GET { [200, [], ['get /']] };\n        };\n        resource '/blog/{year}/{month}' =&gt; sub {\n            GET  { [200, [], ['get /blog']] };\n            POST { [200, [], ['post /blog']] };\n        };\n    };\n    $router-&gt;dispatch($env);\n}\n__END__\n$ plackup &amp;\n$ http -b :5000\n127.0.0.1 - - [17/Apr/2017:14:25:28 +0200] \"GET / HTTP/1.1\" 200 5 \"-\" \"HTTPie/0.9.2\"\nget /\n$ http -b :5000/blog/2017/4\n127.0.0.1 - - [17/Apr/2017:14:26:15 +0200] \"GET /blog/2017/4 HTTP/1.1\" 200 9 \"-\" \"HTTPie/0.9.2\"\nget /blog\n$ http -b POST :5000/blog/2017/4\n127.0.0.1 - - [17/Apr/2017:14:26:28 +0200] \"POST /blog/2017/4 HTTP/1.1\" 200 10 \"-\" \"HTTPie/0.9.2\"\npost /blog\n$ pkill -f plackup\n</code></pre>\n\n<p>After changing the inner PSGI code from a literal anonymous to a coderef, thus:</p>\n\n<pre><code>my $get_root = sub { [200, [], ['get /']] };\n\u22ee\n        resource '/' =&gt; sub {\n            GET $get_root;\n        };\n</code></pre>\n\n<p>Then the program will not compile anymore:</p>\n\n<pre><code>$ perl -c app.psgi\nType of arg 1 to Router::Resource::GET must be block or sub {} (not private variable) at app.psgi line 8, near \"$get_root;\"\n</code></pre>\n\n<p>The function prototype is <a href=\"https://metacpan.org/source/DWHEELER/Router-Resource-0.21/lib/Router/Resource.pm#L48\" rel=\"nofollow noreferrer\"><code>GET(&amp;)</code></a>. When <code>&amp;</code> is the first position, it allows the caller to use the abbreviated syntax, sort of like with <code>sort { \u2026 } @list</code> and <code>map { \u2026 }</code> instead of <code>sort sub { \u2026 }, @list</code> etc., see <a href=\"http://p3rl.org/perlsub#Prototypes\" rel=\"nofollow noreferrer\">perlsub#Prototypes</a>:</p>\n\n<blockquote>\n  <p>An <code>&amp;</code> requires an anonymous subroutine, which, if passed as the first argument, does not require the <code>sub</code> keyword or a subsequent comma.</p>\n</blockquote>\n\n<p>How can I use coderefs instead literal subs when there is a prototype?</p>\n"}, {"tags": ["perl", "scripting"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1492422280, "post_id": 43448944, "comment_id": 73953574, "body": "Check the <b>permission</b> of <code>$ref_files[0]</code> file."}, {"owner": {"reputation": 123, "user_id": 2362482, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/605c788d71f9716e57ad373f2754bceb?s=128&d=identicon&r=PG", "display_name": "Maximus", "link": "https://stackoverflow.com/users/2362482/maximus"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1492422583, "post_id": 43448944, "comment_id": 73953707, "body": "it works when I give the file name as a string directly. So it is not a permission issue."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 2362482, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/605c788d71f9716e57ad373f2754bceb?s=128&d=identicon&r=PG", "display_name": "Maximus", "link": "https://stackoverflow.com/users/2362482/maximus"}, "edited": false, "score": 0, "creation_date": 1492425706, "post_id": 43449729, "comment_id": 73955291, "body": "Thanks. The issue is fixed now"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1492425018, "creation_date": 1492425018, "answer_id": 43449729, "question_id": 43448944, "link": "https://stackoverflow.com/questions/43448944/read-and-compare-images-in-folder-using-perl/43449729#43449729", "title": "Read and compare images in folder using Perl", "body": "<p>The error message seems pretty clear.</p>\n\n<blockquote>\n  <p>Unable to read image data from file './.': 'Could not open ./.: Permission denied</p>\n</blockquote>\n\n<p>The first file you're getting back from <code>opendir()</code> is the current directory (<code>.</code>) - and it's no surprise that Image::Compare can't get the image data that it wants from that file!</p>\n\n<p>Perhaps you should add a filter to only return the files you're interested in.</p>\n\n<pre><code>my @ref_files = grep { -f } readdir $ref_dir;\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 2362482, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/605c788d71f9716e57ad373f2754bceb?s=128&d=identicon&r=PG", "display_name": "Maximus", "link": "https://stackoverflow.com/users/2362482/maximus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 43449729, "answer_count": 1, "score": 0, "last_activity_date": 1492425018, "creation_date": 1492422036, "last_edit_date": 1492422534, "question_id": 43448944, "link": "https://stackoverflow.com/questions/43448944/read-and-compare-images-in-folder-using-perl", "title": "Read and compare images in folder using Perl", "body": "<p>I am trying to read and compare large number of image files in a folder. But I am not able to read the image file.</p>\n\n<p>Code snippet : </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Image::Compare;\n\nopendir my $ref_dir, \"./\" or die \"Cannot open directory: $!\";\nmy @ref_files = readdir $ref_dir;\nclosedir $ref_dir;\n\nprint $#ref_files;\n\nmy($cmp) = Image::Compare-&gt;new();\n\n\n$cmp-&gt;set_image1(\n        img  =&gt; './'.$ref_files[0],  #one instance - reading first file in the folder\n        type =&gt; 'bmp',\n    );\n</code></pre>\n\n<p>The code is throwing the following error - \"Unable to read image data from file './.': 'Could not open ./.: Permission denied' at C:/Perl64/site/lib/Image/Compare.pm line 162. \"</p>\n\n<p>The code works fine if I provide the file name directly - img  => './image.bmp'. So it can't be a permission issue.</p>\n"}, {"tags": ["perl", "syntax-error"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1492423184, "post_id": 43447894, "comment_id": 73954024, "body": "Running your code with Perl 5.24.1, I see both compilation errors."}, {"owner": {"reputation": 2797, "user_id": 668445, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/78545c73f086c800f7e8f787c67b48b2?s=128&d=identicon&r=PG", "display_name": "Bill Evans at Mariposa", "link": "https://stackoverflow.com/users/668445/bill-evans-at-mariposa"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492424892, "post_id": 43447894, "comment_id": 73954885, "body": "Dave, that&#39;s puzzling. There should be only one compilation error. Maybe they made a stab at fixing the bug (since my Perl 5.20.3), but didn&#39;t do it thoroughly enough. Certainly 5.24.1 is an improvement, because one <i>is</i> pointed to the correct line."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1492425291, "post_id": 43447894, "comment_id": 73955091, "body": "@BillEvansatMariposa You can get more information about the errors by adding <a href=\"http://perldoc.perl.org/diagnostics.html\" rel=\"nofollow noreferrer\"><code>use diagnostics</code></a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1492425841, "post_id": 43447894, "comment_id": 73955347, "body": "I get the same behavior as @DaveCross: It seems like the compiler tries to continue after it finds undefined global symbol <code>$error_phyle</code> then it bails out at <code>&quot;dye&quot;</code> at line 19. But since the warnings are fatal, it should not try to continue at all?? So this is strange.. ( I am also using 5.24.1)"}, {"owner": {"reputation": 2797, "user_id": 668445, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/78545c73f086c800f7e8f787c67b48b2?s=128&d=identicon&r=PG", "display_name": "Bill Evans at Mariposa", "link": "https://stackoverflow.com/users/668445/bill-evans-at-mariposa"}, "edited": false, "score": 1, "creation_date": 1492427481, "post_id": 43447894, "comment_id": 73956128, "body": "H&#229;kon, the <code>use diagnostics</code> suggestion is useful because with even my ancient version of Perl it shows both error messages; that&#39;s not as clean as showing only the one that is true, but it saves me from having to rip apart my code to find the error, which can take quite a while. So that really solves my problem. Write it up as a solution, and I&#39;ll approve it, if you&#39;re interested in points."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1492450132, "post_id": 43447894, "comment_id": 73968124, "body": "See the documentation of <a href=\"http://search.cpan.org/perldoc?strictures\" rel=\"nofollow noreferrer\">strictures</a> for warnings you shouldn&#39;t make fatal."}, {"owner": {"reputation": 2797, "user_id": 668445, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/78545c73f086c800f7e8f787c67b48b2?s=128&d=identicon&r=PG", "display_name": "Bill Evans at Mariposa", "link": "https://stackoverflow.com/users/668445/bill-evans-at-mariposa"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492452801, "post_id": 43447894, "comment_id": 73969674, "body": "@ikegami This is quite useful. I once was writing a program where I wanted to call a function recursively more than 100 deep, and Perl told me not to do that. Knowing what I know now, I could have recursed to my heart&#39;s content. As it was, I just threw up in disgust and did it in Lisp instead. Sigh."}], "answers": [{"comments": [{"owner": {"reputation": 2797, "user_id": 668445, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/78545c73f086c800f7e8f787c67b48b2?s=128&d=identicon&r=PG", "display_name": "Bill Evans at Mariposa", "link": "https://stackoverflow.com/users/668445/bill-evans-at-mariposa"}, "edited": false, "score": 1, "creation_date": 1492452386, "post_id": 43450639, "comment_id": 73969432, "body": "I just note in passing the use in the documentation you quote of the word &quot;pragmata&quot;. &quot;Pragma&quot; isn&#39;t found in all dictionaries (not even the online Oxford); not all of the dictionaries in which I found it are particularly technical dictionaries, but <i>no</i> dictionaries in which I found it list a plural for it. &quot;Pragmata&quot; is a cool plural form. The author of that sentence in the documentation probably knows his Greek."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1492428763, "creation_date": 1492428763, "answer_id": 43450639, "question_id": 43447894, "link": "https://stackoverflow.com/questions/43447894/incorrect-perl-syntax-yields-incorrect-error-message/43450639#43450639", "title": "incorrect Perl syntax yields incorrect error message", "body": "<p>You can use the <a href=\"http://perldoc.perl.org/diagnostics.html\" rel=\"nofollow noreferrer\">diagnostics</a> pragma to get more information about the errors. </p>\n\n<blockquote>\n  <p>The <code>diagnostics</code> Pragma  </p>\n  \n  <p>This module extends the terse diagnostics normally emitted by both the\n  perl compiler and the perl interpreter (from running perl with a -w\n  switch or use warnings ), augmenting them with the more explicative\n  and endearing descriptions found in <code>perldiag</code>. Like the other pragmata,\n  it affects the compilation phase of your program rather than merely\n  the execution phase. To use in your program as a pragma, merely invoke  </p>\n\n<pre><code>use diagnostics;  \n</code></pre>\n  \n  <p>at the start (or near the start) of your program. \n  (Note that this does enable perl's -w flag.) Your whole compilation\n  will then be subject(ed :-) to the enhanced diagnostics. These still\n  go out STDERR.</p>\n</blockquote>\n\n<p>Based on your comments: this can also make older versions of perl show both error messages, which could save you some debugging effort to find the location of the real error.</p>\n"}, {"comments": [{"owner": {"reputation": 2797, "user_id": 668445, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/78545c73f086c800f7e8f787c67b48b2?s=128&d=identicon&r=PG", "display_name": "Bill Evans at Mariposa", "link": "https://stackoverflow.com/users/668445/bill-evans-at-mariposa"}, "edited": false, "score": 0, "creation_date": 1492445692, "post_id": 43450825, "comment_id": 73965830, "body": "This is most interesting, thank you. I would point out, though, that it doesn&#39;t seem (please correct me if I&#39;m wrong) that the &quot;error&quot; on line 19 is an actual error; fixing the error on line 11 makes the sample Perl chunk compile with no syntax errors. I could understand it if the first error were a misplaced parenthesis or something, because that can fry the syntax for the rest of the compilation, but the error on line 11 was nothing like that."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 2797, "user_id": 668445, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/78545c73f086c800f7e8f787c67b48b2?s=128&d=identicon&r=PG", "display_name": "Bill Evans at Mariposa", "link": "https://stackoverflow.com/users/668445/bill-evans-at-mariposa"}, "edited": false, "score": 2, "creation_date": 1492447254, "post_id": 43450825, "comment_id": 73966660, "body": "@BillEvansatMariposa After the error on line 11, perl goes into error recovery mode. In this mode, <code>sub</code> definitions are &quot;neutered&quot; and subroutines aren&#39;t added to the symbol table, so <code>sub dye {}</code> is effectively a no-op. That&#39;s why in the last line <code>dye</code> can&#39;t be resolved and <code>dye &quot;...&quot;</code> is a parse error."}, {"owner": {"reputation": 2797, "user_id": 668445, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/78545c73f086c800f7e8f787c67b48b2?s=128&d=identicon&r=PG", "display_name": "Bill Evans at Mariposa", "link": "https://stackoverflow.com/users/668445/bill-evans-at-mariposa"}, "edited": false, "score": 0, "creation_date": 1492451269, "post_id": 43450825, "comment_id": 73968805, "body": "Fascinating. I think that explains why putting parentheses around the argument to <code>dye</code> eliminates the error notification for line 19. It&#39;s conversations like this that help me use Perl in a mode which is less superstitious (&quot;it just works if you do it this way, so do it this way&quot;) and more knowledge-based."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 6, "last_activity_date": 1492429451, "creation_date": 1492429451, "answer_id": 43450825, "question_id": 43447894, "link": "https://stackoverflow.com/questions/43447894/incorrect-perl-syntax-yields-incorrect-error-message/43450825#43450825", "title": "incorrect Perl syntax yields incorrect error message", "body": "<p>The root cause of this issue is that perl's (yacc-based) parser tries to recover and continue after errors. The original idea behind this strategy is that running a compiler used to be a slow and expensive task, so you want it to catch as many errors as possible in a single run, not just the first error. This is why perl queues up errors encountered during parsing before giving up and printing them all at once.</p>\n\n<p>However, there's an unfortunate interaction with fatal warnings. The compiler can emit warnings at compile time, and fatalizing a warning makes it throw an exception. So if the parser is in error recovery mode and encounters a fatal warning, an exception is thrown and all the queued actual errors are lost.</p>\n\n<p>The <code>String found where operator expected</code> message is a warning (category <code>syntax</code>). By fatalizing all warnings you've turned it into an exception that immediately aborts parsing, losing all preceding errors. (By the way, fatalizing all warnings is a bad idea: See <a href=\"https://metacpan.org/pod/strictures#CATEGORY-SELECTIONS\" rel=\"noreferrer\"><code>perldoc strictures</code></a> for which warning categories are unsafe to fatalize.)</p>\n\n<p>You can see that something isn't quite right even without fatalizing warnings: The <code>String found ...</code> message has a line number of 19, yet it appears before the syntax error in line 11. This is because warnings are emitted immediately, not queued like parse errors.</p>\n\n<p>This problem was reported as <a href=\"https://rt.perl.org/Ticket/Display.html?id=122966\" rel=\"noreferrer\">bug #122966</a> and fixed in perl 5.22. Now fatal warnings thrown during parsing are treated like parse errors and queued the same way. (As a side effect, it also makes the error messages appear in the right order: The first error is reported first.)</p>\n\n<p>So yes, this behavior is a bug in perl, but one that was already fixed in a later release.</p>\n"}], "owner": {"reputation": 2797, "user_id": 668445, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/78545c73f086c800f7e8f787c67b48b2?s=128&d=identicon&r=PG", "display_name": "Bill Evans at Mariposa", "link": "https://stackoverflow.com/users/668445/bill-evans-at-mariposa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 43450639, "answer_count": 2, "score": 1, "last_activity_date": 1492429451, "creation_date": 1492417797, "question_id": 43447894, "link": "https://stackoverflow.com/questions/43447894/incorrect-perl-syntax-yields-incorrect-error-message", "title": "incorrect Perl syntax yields incorrect error message", "body": "<p>The following (much stripped-down) code has an obvious error.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings FATAL=&gt;\"all\";\n\nmy $err_phyle;\nmy $verb;\n\nsub do_measure\n{\n  print($error_phyle \"xxx\");\n\n}\n\nsub dye\n{\n}\n\ndye \"invalid verb \\\"$verb\\\"\";\n</code></pre>\n\n<p>You'd expect the error message to be:</p>\n\n<pre><code>Global symbol \"$error_phyle\" requires explicit package name at example.pl line 11.\nexample.pl had compilation errors.\n</code></pre>\n\n<p>... but it's actually ...</p>\n\n<pre><code>String found where operator expected at example.pl line 19, near \"dye \"invalid verb \\\"$verb\\\"\"\"\n</code></pre>\n\n<p>(Note that the second error message doesn't add \"example.pl had compilation errors.\".)</p>\n\n<p>In the real program, the error message pointed to a line hundreds of lines of code away from the actual error. Incorrect error messages, pointing to the wrong line, can lead to much merriment trying to track down the syntax error.</p>\n\n<p>I can \"fix\" this in the above program by surrounding the argument of the call to function <code>dye</code> with parentheses, and I guess I'll go through the program and do this. But is this a bug in Perl, or (as is more likely the case) am I missing something about how Perl works?</p>\n"}, {"tags": ["html", "perl", "html-tableextract"], "comments": [{"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 2, "creation_date": 1492423706, "post_id": 43445887, "comment_id": 73954261, "body": "Your file is actually an HTML page which contains the (escaped) source of another page. You probably want the original HTML, not the encoded version of it."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1492439564, "post_id": 43445887, "comment_id": 73962320, "body": "<a href=\"https://www.nu42.com/2012/04/htmltableextract-is-beautiful.html\" rel=\"nofollow noreferrer\">HTML::TableExtract is beautiful</a> ... &quot;does not work&quot; does not help."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1492424539, "last_edit_date": 1495540946, "creation_date": 1492424539, "answer_id": 43449598, "question_id": 43445887, "link": "https://stackoverflow.com/questions/43445887/htmltableextract-doesnt-work/43449598#43449598", "title": "HTML::TableExtract doesn&#39;t work", "body": "<p>Two problems here.</p>\n\n<p>Firstly, as <a href=\"https://stackoverflow.com/users/3527940/jcaron\">jcaron</a> points out <a href=\"https://stackoverflow.com/questions/43445887/htmltableextract-doesnt-work/43449598#comment73954261_43445887\">in a comment</a>, you're not parsing the right thing. You seem to be parsing a \"view source\" page. You need to get the HTML directly. You can do that with <a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow noreferrer\">LWP::Simple</a>.</p>\n\n<pre><code>use LWP::Simple;\n\nmy $url = 'http://www.nasdaq.com/dividend-stocks/dividend-calendar.aspx?date=2017-Apr-19';\n\nmy $content = get $url;\n</code></pre>\n\n<p>Running your code now gives no errors but, unfortunately, it gives no output either. That's because you're defining the <code>headers</code> argument to the object constructor incorrectly. You use <code>qw(Announcement_Date)</code> but there is no table header with the value \"Announcement_Date\", so no matching table is found.</p>\n\n<p>If you change the constructor call to this:</p>\n\n<pre><code>$te = HTML::TableExtract-&gt;new( headers =&gt; ['Announcement Date'] );\n</code></pre>\n\n<p>Then you get the expected output.</p>\n"}], "owner": {"reputation": 1037, "user_id": 2769148, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/OoW95.png?s=128&g=1", "display_name": "Shicheng Guo", "link": "https://stackoverflow.com/users/2769148/shicheng-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "closed_date": 1492456644, "answer_count": 1, "score": -1, "last_activity_date": 1492424539, "creation_date": 1492408353, "last_edit_date": 1492422292, "question_id": 43445887, "link": "https://stackoverflow.com/questions/43445887/htmltableextract-doesnt-work", "closed_reason": "Not suitable for this site", "title": "HTML::TableExtract doesn&#39;t work", "body": "<p>The input html is <a href=\"https://www.dropbox.com/s/ka3hc6x4feo5ubr/view-source_www.nasdaq.com_dividend-stocks_dividend-calendar.aspx_date%3D2017-Apr-19.html?dl=0\" rel=\"nofollow noreferrer\">attached (my $file)</a>, With the following script, I cannot extract the table I want. Any suggestions? </p>\n\n<pre><code>use strict;\nuse warnings;\nuse HTML::TableExtract;\n\nmy $file=\"view-source_www.nasdaq.com_dividend-stocks_dividend-calendar.aspx_date=2017-Apr-19.html\";\nopen DATA,$file || die \"cannot\";\n\nmy $content;\n{\n    local $/ = undef; # slurp mode\n    $content = &lt;DATA&gt;;\n}\nclose DATA;\n\nmy $te;\n$te = HTML::TableExtract-&gt;new( headers =&gt; [qw(Announcement_Date)] );\n$te-&gt; parse($content);\n\n# Examine all matching tables\nforeach my $ts ($te-&gt;tables) {\n  print \"Table (\", join(',', $ts-&gt;coords), \"):\\n\";\n  foreach my $row ($ts-&gt;rows) {\n     print join(',', @$row), \"\\n\";\n  }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1492397552, "post_id": 43444310, "comment_id": 73945522, "body": "Check the value of <code>$.</code>. Don&#39;t do anything until it&#39;s at least 12."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1492397712, "post_id": 43444310, "comment_id": 73945554, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4272484/perl-start-reading-from-specific-line-and-only-get-first-column-of-it-line-u\">Perl - Start reading from specific line, and only get first column of it line, until end</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492399584, "post_id": 43444310, "comment_id": 73945884, "body": "What <a href=\"http://stackoverflow.com/users/82262/matt-jacob\">Matt</a> means is just add the line <code>next if $. &lt; 12;</code> before <code>chomp</code> and you&#39;re good.  See <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles\" rel=\"nofollow noreferrer\"><code>$.</code> in perlvar</a>"}], "answers": [{"tags": [], "owner": {"reputation": 28, "user_id": 1500617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ac5d22ad2724d24566c475f56c2070?s=128&d=identicon&r=PG", "display_name": "praveenzx", "link": "https://stackoverflow.com/users/1500617/praveenzx"}, "is_accepted": false, "score": -1, "last_activity_date": 1492412586, "creation_date": 1492412586, "answer_id": 43446799, "question_id": 43444310, "link": "https://stackoverflow.com/questions/43444310/perl-read-file-from-specified-line-thru-the-end/43446799#43446799", "title": "perl read file from specified line thru the end", "body": "<p>please assign a variable to count the lines processed like <code>my $line_count = 0;</code></p>\n\n<p>and inside the beginning of while loop increment the varialbe <code>$line_count++;</code></p>\n\n<p>and skip if the line count is below 12 ie , <code>next if $line_count > 12;</code></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1492428596, "last_edit_date": 1492428596, "creation_date": 1492428170, "answer_id": 43450468, "question_id": 43444310, "link": "https://stackoverflow.com/questions/43444310/perl-read-file-from-specified-line-thru-the-end/43450468#43450468", "title": "perl read file from specified line thru the end", "body": "\n\n<p>Rather than skipping until a specific line number, which may vary from file to file, it is best to keep track of the current section of the file marked by <code>[Header]</code>, <code>[Data]</code> etc.</p>\n\n<p>This solution keeps a state variable <code>$section</code> which is updated to the current section name every time a <code>[Section]</code> label is encountered in the file. Everything from the <code>Data</code> section is summarised and printed</p>\n\n<p>A similar thing could be done with the column headers, using names instead of numbers to select the fields to be output, but I have chosen to keep the complexity down instead</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $filename = 'file_to_read.csv';\n\nopen my $fh, '&lt;', $filename or die qq{Unable to open \"$filename\" for input: $!};\n\nmy $section = \"\";\n\nwhile ( &lt;$fh&gt; ) {\n\n    next unless /\\S/;            # Skip empty lines\n\n    if ( $section eq 'Data' ) {  # Skip unless we're in the [Data] section\n        chomp;\n        my @fields = split /,/;\n        say join ',', @fields[0,3,10,11];\n    }\n    elsif ( /\\[(\\w+)\\]/ ) {\n        $section = $1;\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>SNP Name,GC Score,B Allele Freq,Log R Ratio\n1:10001102-G-T,0.4159,0.0000,-0.2581\n1:100011159-T-G,0.4259,0.9942,-0.0304\n1:10002775-GA,0.4234,0.9892,0.0111\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5423248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6d982ea1eff1528f58062f15baf304d?s=128&d=identicon&r=PG&f=1", "display_name": "RJP", "link": "https://stackoverflow.com/users/5423248/rjp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492428596, "creation_date": 1492395804, "last_edit_date": 1492395935, "question_id": 43444310, "link": "https://stackoverflow.com/questions/43444310/perl-read-file-from-specified-line-thru-the-end", "title": "perl read file from specified line thru the end", "body": "<p>I'm new with perl. I'm trying to read a large comma separate file, split and grab only some columns. I could create it with some internet help, but I'm struggling to change to code to start reading from a specific line thru the end of the file.\nmy need is open file start reading on line 12, split ',' grab column 0,2,10,11 and concatenate those needed columns with '\\t'.</p>\n\n<p>here is my code</p>\n\n<pre><code>#!/usr/bin/perl\nmy $filename = 'file_to_read.csv';\nopen(FILER, $filename) or die \"Could not read $filename.\";\nopen(FILEW, \"&gt;$filename.txt\")     || die \"couldn't create the file\\n\";\nwhile(&lt;FILER&gt;) {\n  chomp;\n  my @fields = split(',', $_);\n  print FILEW \"$fields[0]\\t$fields[3]\\t$fields[10]\\t$fields[11]\\n\";\n}\nclose FILER;\nclose FILEW;\n</code></pre>\n\n<p>here is the file example:</p>\n\n<pre><code>[Header]\nGSGT Version: X\nProcessing Date:12/01/2010 7:20 PM\nContent:\nNum SNPs:\nTotal SNPs:\nNum Samples:\nTotal Samples:\nSample:\n[Data]\n\nSNP Name,Chromosome,Pos,GC Score,Theta,R,X,Y,X Raw,Y Raw,B Allele Freq,Log R Ratio,Allele1 - TOP,Allele2 - TOP\n1:10001102-G-T,1,10001102,0.4159,0.007,0.477,0.472,0.005,6281,126,0.0000,-0.2581,A,A\n1:100011159-T-G,1,100011159,0.4259,0.972,0.859,0.036,0.822,807,3648,0.9942,-0.0304,C,C\n1:10002775-GA,1,10002775,0.4234,0.977,1.271,0.043,1.228,809,5140,0.9892,0.0111,G,G\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1492359985, "post_id": 43439168, "comment_id": 73935639, "body": "What have you tried? Please include the tables as text in your question. It enables easy cut and paste, and makes your question valid if the external data should be removed in the future"}, {"owner": {"reputation": 1, "user_id": 7875055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49e66a8a55354bb71886415e584b024?s=128&d=identicon&r=PG&f=1", "display_name": "Z. Johns", "link": "https://stackoverflow.com/users/7875055/z-johns"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492360823, "post_id": 43439168, "comment_id": 73935924, "body": "Hi ...were you able to see the pics of the tables that I attached?I have tried using this code below but it only combines both tables into one text file. I would like to convert the format that is in Table 1 into the format that is in Table 2.  @docList = glob (&#39;*&#39;);  open(OUTPUT, &quot;&gt;combined.txt&quot;);  foreach $filename(@docList) {  \topen(INPUT, $filename);  \tprint OUTPUT &lt;INPUT&gt;;  \tclose(INPUT);  }  close(OUTPUT);"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492361611, "post_id": 43439168, "comment_id": 73936201, "body": "Try this: <code>perl -anE &#39;say join &quot;\\t&quot;, &quot;chr$F[0]&quot;, &quot;dbSNP&quot;, &quot;SNV&quot;, $F[3], 20, &quot;+&quot;, 0, $F[1] &#39; table1.txt</code>"}, {"owner": {"reputation": 1, "user_id": 7875055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49e66a8a55354bb71886415e584b024?s=128&d=identicon&r=PG&f=1", "display_name": "Z. Johns", "link": "https://stackoverflow.com/users/7875055/z-johns"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492362314, "post_id": 43439168, "comment_id": 73936445, "body": "Hi...I am new at learning Perl. Where would I insert your code in the code that I listed above?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492362573, "post_id": 43439168, "comment_id": 73936537, "body": "You have to modify the input before you write it to the output handle. First split each line on space into fields, then combine new fields as I showed, and finally print new line to file"}, {"owner": {"reputation": 1, "user_id": 7875055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49e66a8a55354bb71886415e584b024?s=128&d=identicon&r=PG&f=1", "display_name": "Z. Johns", "link": "https://stackoverflow.com/users/7875055/z-johns"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492365579, "post_id": 43439168, "comment_id": 73937534, "body": "I am not sure if this is what I should do? and how would I convert the input into the output?                                                  open (FILE, &quot;Table1.txt&quot;); print &lt;FILE&gt;;  open(OUTPUT, &quot;Table2.txt&quot;); foreach $filename(@docList){ \topen (INPUT, $filename); \tprint OUTPUT &lt;INPUT&gt;;  while (&lt;FILE&gt;)     &#39;chomp;    my @f = split /\\t/;    &#39;say join &quot;\\t&quot;,       &quot;chr&quot;.$f[0],       &quot;dbSNP&quot;,       &quot;SNV&quot;,       $f[3],       $f[3],       &quot;20&quot;,       &quot;+&quot;,       $f[2],       $f[1]&#39;; } print &lt;FILE&gt;;  \tclose (INPUT);  close (OUTPUT)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7875055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49e66a8a55354bb71886415e584b024?s=128&d=identicon&r=PG&f=1", "display_name": "Z. Johns", "link": "https://stackoverflow.com/users/7875055/z-johns"}, "edited": false, "score": 0, "creation_date": 1492362120, "post_id": 43439636, "comment_id": 73936368, "body": "Hi...where would I insert your code in the one below?                                       @docList = glob (&#39;*&#39;); open(OUTPUT, &quot;&gt;combined.txt&quot;); foreach $filename(@docList) {     open(INPUT, $filename);     print OUTPUT &lt;INPUT&gt;;     close(INPUT); } close(OUTPUT);"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 7875055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49e66a8a55354bb71886415e584b024?s=128&d=identicon&r=PG&f=1", "display_name": "Z. Johns", "link": "https://stackoverflow.com/users/7875055/z-johns"}, "edited": false, "score": 0, "creation_date": 1492362402, "post_id": 43439636, "comment_id": 73936480, "body": "First of all, don&#39;t use global variables. Use <code>open(my $OUTPUT, ...)</code>. You can specify the handle from which <code>&lt;&gt;</code> reads by placing it within (<code>&lt;$INPUT&gt;</code>). As for telling <code>say</code> where to output? That&#39;s one&#39;s trivial to find in the docs."}, {"owner": {"reputation": 1, "user_id": 7875055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49e66a8a55354bb71886415e584b024?s=128&d=identicon&r=PG&f=1", "display_name": "Z. Johns", "link": "https://stackoverflow.com/users/7875055/z-johns"}, "edited": false, "score": 0, "creation_date": 1492365409, "post_id": 43439636, "comment_id": 73937472, "body": "Ok...this is what I put together, but I am still learning perl..so everything is relatively new to me.                                                                                open (FILE, &quot;Table1.txt&quot;); print &lt;FILE&gt;;  open(OUTPUT, &quot;Table2.txt&quot;); foreach $filename(@docList){ \topen (INPUT, $filename); \tprint OUTPUT &lt;INPUT&gt;;  while (&lt;FILE&gt;)     &#39;chomp;    my @f = split /\\t/;    &#39;say join &quot;\\t&quot;,       &quot;chr&quot;.$f[0],       &quot;dbSNP&quot;,       &quot;SNV&quot;,       $f[3],       $f[3],       &quot;20&quot;,       &quot;+&quot;,       $f[2],       $f[1]&#39;; } print &lt;FILE&gt;;  \tclose (INPUT);  close (OUTPUT)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 7875055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49e66a8a55354bb71886415e584b024?s=128&d=identicon&r=PG&f=1", "display_name": "Z. Johns", "link": "https://stackoverflow.com/users/7875055/z-johns"}, "edited": false, "score": 1, "creation_date": 1492422712, "post_id": 43439636, "comment_id": 73953779, "body": "@Z.Johns Please don&#39;t put large amounts of code into comments. Instead, please edit your question to add the new code."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1492370868, "last_edit_date": 1492370868, "creation_date": 1492361574, "answer_id": 43439636, "question_id": 43439168, "link": "https://stackoverflow.com/questions/43439168/how-to-use-perl-to-write-a-script-to-convert-one-table-into-another/43439636#43439636", "title": "How to use Perl to write a script to convert one table into another?", "body": "<pre><code>while (&lt;$INPUT&gt;) {\n   chomp;\n   my @f = split /\\t/;\n   say $OUTPUT join \"\\t\",\n      \"chr\".$f[0],\n      \"dbSNP\",\n      \"SNV\",\n      $f[3],\n      $f[3],\n      \"20\",\n      \"+\",\n      $f[2],\n      $f[1];\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7875055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49e66a8a55354bb71886415e584b024?s=128&d=identicon&r=PG&f=1", "display_name": "Z. Johns", "link": "https://stackoverflow.com/users/7875055/z-johns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1492370868, "creation_date": 1492358859, "last_edit_date": 1492365030, "question_id": 43439168, "link": "https://stackoverflow.com/questions/43439168/how-to-use-perl-to-write-a-script-to-convert-one-table-into-another", "title": "How to use Perl to write a script to convert one table into another?", "body": "<p>I am trying to write a Perl script to convert Table 1 into Table 2:</p>\n\n<p>Table 1 </p>\n\n<pre><code>1   rs2905037-G-A   0   775426\n1   rs6701114-C-T   0   1022037\n2   SNP1-G-T    0   2\n10  rs7918734-C-A   0   192533\n10  rs1476129-A-C   0   265520\n10  rs1476130-T-A   0   274675\n10  rs17221239-C-G  0   285113\n23  rs17537524-C-A  0   816304\n23  rs17461767-G-A  0   2335503\n24  SNP2-T-C    0   48\n</code></pre>\n\n<p>Table 2 </p>\n\n<pre><code>chr1    dbSNP   SNV 775426  775426  20  +   0   rs2905037-G-A\nchr1    dbSNP   SNV 1022037 1022037 20  +   0   rs6701114-C-T\nchr2    dbSNP   SNV 2   2   20  +   0   SNP1-G-T\nchr10   dbSNP   SNV 192533  192533  20  +   0   rs7918734-C-A\nchr10   dbSNP   SNV 265520  265520  20  +   0   rs1476129-A-C\nchr10   dbSNP   SNV 274675  274675  20  +   0   rs1476130-T-A\nchr10   dbSNP   SNV 285113  285113  20  +   0   rs17221239-C-G\nchrX    dbSNP   SNV 816304  816304  20  +   0   rs17537524-C-A\nchrX    dbSNP   SNV 2335503 2335503 20  +   0   rs17461767-G-A\nchrY    dbSNP   SNV 48  48  20  +   0   SNP2-T-C\n</code></pre>\n\n<p>I have tried to use this code below....however ...it is only placing both of the tables in a new text file. I would like to convert the format that is in Table 1 into the format that is in Table 2.</p>\n\n<pre><code>@docList = glob ('*');\nopen(OUTPUT, \"&gt;combined.txt\");\nforeach $filename(@docList) {\n    open(INPUT, $filename);\n    print OUTPUT &lt;INPUT&gt;;\n    close(INPUT);\n}\nclose(OUTPUT);\n</code></pre>\n\n<p>I need a Perl script to convert Table 1 into Table 2?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "email", "smtp", "sendmail"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1492341856, "post_id": 43436375, "comment_id": 73930389, "body": "It would help if you could explain exactly what unexpected behaviour you are seeing. Also, show us your previous code that worked, so we can compare."}, {"owner": {"reputation": 1149, "user_id": 1009504, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/72e0a2778528fc5aa75bfcabf3e16664?s=128&d=identicon&r=PG", "display_name": "freeworlder", "link": "https://stackoverflow.com/users/1009504/freeworlder"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492342319, "post_id": 43436375, "comment_id": 73930504, "body": "The mail doesn&#39;t send. I&#39;m not even sure how to debug this or where to check for any errors. This is on a shared hosting server. The only difference between the above code and the one that works is the addition of the line:  <code>MIME::Lite-&gt;send(&#39;smtp&#39;, $mailHost, AuthUser=&gt;$user, AuthPass=&gt;$pass);</code> Which, according to CPAN doc invokes Net::SMTP to send the message."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492342436, "post_id": 43436375, "comment_id": 73930531, "body": "Do you get any error messages? Is anything written to the mail log?"}, {"owner": {"reputation": 1149, "user_id": 1009504, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/72e0a2778528fc5aa75bfcabf3e16664?s=128&d=identicon&r=PG", "display_name": "freeworlder", "link": "https://stackoverflow.com/users/1009504/freeworlder"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492342615, "post_id": 43436375, "comment_id": 73930570, "body": "Where would I find that? I&#39;m using cPanel on a  Linux server."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492343156, "post_id": 43436375, "comment_id": 73930713, "body": "Depends on which Linux distribution you&#39;re using. In /var/log. Perhaps called maillog."}, {"owner": {"reputation": 1149, "user_id": 1009504, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/72e0a2778528fc5aa75bfcabf3e16664?s=128&d=identicon&r=PG", "display_name": "freeworlder", "link": "https://stackoverflow.com/users/1009504/freeworlder"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492343699, "post_id": 43436375, "comment_id": 73930866, "body": "Sorry can&#39;t find it.  Nothing in var/log. No maillog. Possibly I should look for another package to use anyway."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1492406977, "post_id": 43436375, "comment_id": 73947483, "body": "Add <code>Debug</code> option to Net::SMTP params : <code>MIME::Lite-&gt;send( &#39;smtp&#39;, $mailHost,  Debug=&gt;1, ...);</code> . It may provide you some useful hints."}, {"owner": {"reputation": 339, "user_id": 1223758, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7O4NB.jpg?s=128&g=1", "display_name": "Paul Allen", "link": "https://stackoverflow.com/users/1223758/paul-allen"}, "edited": false, "score": 1, "creation_date": 1492445089, "post_id": 43436375, "comment_id": 73965491, "body": "also, try just setting the values in &quot;MIME::Lite-&gt;send&quot; in the call to $msg-&gt;send();   since it looks like your mailhost, user,pass stay the same anyway, setting the default via MIME::Lite-&gt;send probably doesn&#39;t add that much value.   Then look at answer and prepare to switch to a better supported module."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1492344374, "creation_date": 1492344374, "answer_id": 43437053, "question_id": 43436375, "link": "https://stackoverflow.com/questions/43436375/mimelite-not-working-with-smtp/43437053#43437053", "title": "MIME::Lite not working with SMTP", "body": "<p>I don't recommend MIME::Lite. And I'm not alone in that. The current <a href=\"https://metacpan.org/pod/MIME::Lite#WAIT!\" rel=\"nofollow noreferrer\">documentation for the module</a> says:</p>\n\n<blockquote>\n  <p><strong>WAIT!</strong></p>\n  \n  <p>MIME::Lite is not recommended by its current maintainer. There are a\n  number of alternatives, like Email::MIME or MIME::Entity and\n  Email::Sender, which you should probably use instead. MIME::Lite\n  continues to accrue weird bug reports, and it is not receiving a large\n  amount of refactoring due to the availability of better alternatives.\n  Please consider using something else.</p>\n</blockquote>\n\n<p>I'd recommend <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow noreferrer\">Email::Sender</a> or <a href=\"https://metacpan.org/pod/Email::Stuffer\" rel=\"nofollow noreferrer\">Email::Stuffer</a>. They both have support for SMTP authentication.</p>\n\n<p>But, of course, this might not solve your problem at all. If the problem is with your SMTP configuration then this change will get you no closer. I recommend asking the sysadmin where the mail logs are kept so you can see what the actual problems are.</p>\n"}, {"tags": [], "owner": {"reputation": 1149, "user_id": 1009504, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/72e0a2778528fc5aa75bfcabf3e16664?s=128&d=identicon&r=PG", "display_name": "freeworlder", "link": "https://stackoverflow.com/users/1009504/freeworlder"}, "is_accepted": true, "score": 0, "last_activity_date": 1496827984, "creation_date": 1496827984, "answer_id": 44408808, "question_id": 43436375, "link": "https://stackoverflow.com/questions/43436375/mimelite-not-working-with-smtp/44408808#44408808", "title": "MIME::Lite not working with SMTP", "body": "<p>I found the solution. Authenticating through SMTP requires <code>NET::SMTP</code>. The following code now works for sending email with <code>MIME::LITE</code> and <code>SMTP</code>:</p>\n\n<pre><code>my $mailHost = 'domain.com';\nmy $user     = 'username';\nmy $pass     = 'password';\nmy $html     = 'someHTML';\nmy $text     = 'someText';\n\nuse MIME::Lite;\nuse Net::SMTP;\n\nMIME::Lite-&gt;send( 'smtp', $mailHost, AuthUser =&gt; $user, AuthPass =&gt; $pass );\n\nmy $msg = MIME::Lite-&gt;new(\n    From    =&gt; 'Mailing list &lt;list@domain.com&gt;',\n    To      =&gt; $email,\n    Subject =&gt; $subject,\n    Type    =&gt; 'multipart/alternative'\n);\n\n$msg-&gt;attach(\n    Type =&gt; 'TEXT',\n    Data =&gt; $text\n);\n\n$msg-&gt;attach(\n    Type =&gt; 'text/html',\n    Data =&gt; $html\n);\n\n$msg-&gt;send();\n</code></pre>\n"}], "owner": {"reputation": 1149, "user_id": 1009504, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/72e0a2778528fc5aa75bfcabf3e16664?s=128&d=identicon&r=PG", "display_name": "freeworlder", "link": "https://stackoverflow.com/users/1009504/freeworlder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 0, "accepted_answer_id": 44408808, "answer_count": 2, "score": 0, "last_activity_date": 1496827984, "creation_date": 1492339602, "last_edit_date": 1492349734, "question_id": 43436375, "link": "https://stackoverflow.com/questions/43436375/mimelite-not-working-with-smtp", "title": "MIME::Lite not working with SMTP", "body": "<p>I have been using <a href=\"https://metacpan.org/pod/MIME::Lite\" rel=\"nofollow noreferrer\"><code>MIME::Lite</code></a> for a while to send to my mailing list without any problems, but have recently decided to use SMTP authentication as I've heard it's better for email source verification.</p>\n\n<p>I can't get it to work. I checked for and installed the <a href=\"https://metacpan.org/pod/Net::SMTP\" rel=\"nofollow noreferrer\"><code>Net::SMTP</code></a> module which I understand <code>Mime::Lite</code> uses for this.</p>\n\n<p>Any ideas?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>my $mailHost = 'mail.domain.com';\nmy $user     = 'username';\nmy $pass     = 'password';\nmy $html     = 'someHTML';\nmy $text     = 'someText';\n\nuse MIME::Lite;\n\nMIME::Lite-&gt;send( 'smtp', $mailHost, AuthUser =&gt; $user, AuthPass =&gt; $pass );\n\nmy $msg = MIME::Lite-&gt;new(\n    From    =&gt; 'Mailing list &lt;list@domain.com&gt;',\n    To      =&gt; $email,\n    Subject =&gt; $subject,\n    Type    =&gt; 'multipart/alternative'\n);\n\n$msg-&gt;attach(\n    Type =&gt; 'TEXT',\n    Data =&gt; $text\n);\n\n$msg-&gt;attach(\n    Type =&gt; 'text/html',\n    Data =&gt; $html\n);\n\n$msg-&gt;send();\n</code></pre>\n"}, {"tags": ["perl", "file", "file-handling"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "edited": false, "score": 0, "creation_date": 1492236694, "post_id": 43422549, "comment_id": 73904324, "body": "_open(f1, &quot;&lt;pdb1.pdb&quot;) or die &quot;$!&quot; ; open(f2, &quot;&lt;pdb2.pdb&quot;) or die &quot;$!&quot; ;  foreach $file1 (&lt;f1&gt;) { my $atomno1=(split &quot; &quot;, $file1)[1]; my $atomname1=(split &quot; &quot;, $file1)[2]; my $xx=(split &quot; &quot;, $file1)[5]; my $yy=(split &quot; &quot;, $file1)[6]; while ($file2=&lt;f2&gt;) {  my $atomno2=(split &quot; &quot;, $file2)[1];  my $atomname2=(split &quot; &quot;, $file2)[2];  my $x=(split &quot; &quot;, $file2)[5];  my $y=(split &quot; &quot;, $file2)[6];   my $dis=sqrt((($x-$xx)*($x-$xx))+ (($y-$yy)*($y-$yy))); print &quot;$atomno1 $atomname1  $atomno2 $atomname2   $dis  $xx  $yy $x  $y\\n&quot; ; } $file1++; } close (f1); _"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "edited": false, "score": 0, "creation_date": 1492237542, "post_id": 43422549, "comment_id": 73904525, "body": "Please explain @ruchika"}, {"owner": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "edited": false, "score": 0, "creation_date": 1492240450, "post_id": 43422549, "comment_id": 73905199, "body": "I am not getting how to print the said thing as code (script)"}, {"owner": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "edited": false, "score": 0, "creation_date": 1492240714, "post_id": 43422549, "comment_id": 73905252, "body": "but it&#39;s just running for one time for file1 is getting read only once.. What i need is to run the program for one line in file one versus each line in file 2, till the end of file 1. Right now only file 1 first line with each line of file 2 is running. Do u know how to make the code run foreach line in file1"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "edited": false, "score": 0, "creation_date": 1492248256, "post_id": 43422549, "comment_id": 73907064, "body": "@ruchika did that help?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492271296, "post_id": 43422549, "comment_id": 73913993, "body": "Do you really need to split every line five times? And why are you ignoring the z coordinates in column eight in your second attempt?"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492405906, "post_id": 43422549, "comment_id": 73947232, "body": "@Borodin Yes I know that didnt want to change the OP&#39;s code and corrected just the required part as stated in comment by OP"}, {"owner": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "edited": false, "score": 0, "creation_date": 1492431876, "post_id": 43422549, "comment_id": 73958229, "body": "@ Nagaraju ... yes it did! thanks for your help and guidance sir."}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "edited": false, "score": 0, "creation_date": 1493008934, "post_id": 43422549, "comment_id": 74209333, "body": "@ruchika if the answer helped you, you may upvote, accept it"}, {"owner": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "edited": false, "score": 0, "creation_date": 1493100535, "post_id": 43422549, "comment_id": 74255088, "body": "@Nagaraju... I already tried.. but as per policy persons with 15 + reputations can upvote only"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "edited": false, "score": 0, "creation_date": 1493105024, "post_id": 43422549, "comment_id": 74257491, "body": "@ruchika oh sorry about that, I didnt notice"}], "tags": [], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "is_accepted": true, "score": 0, "last_activity_date": 1492241454, "last_edit_date": 1592644375, "creation_date": 1492233944, "answer_id": 43422549, "question_id": 43421940, "link": "https://stackoverflow.com/questions/43421940/print-and-use-the-data-from-two-files-simultaenously/43422549#43422549", "title": "Print and use the data from two files simultaenously", "body": "<p>Your code has lot of syntactical errors. I had made some changes to your code and this will get you started to what you want.</p>\n<p>First of all <code>use strict</code> and <code>use warnings</code> by this way you would have already got a lot of noise removed.</p>\n<pre><code>use strict;\nuse warnings;\n\nopen(my $f1, &quot;pdb1.pdb&quot;) or die $!;    \nopen(my $f2, &quot;pdb2.pdb&quot;) or die $!;\n\nwhile(defined(my $line1 = &lt;$f1&gt;) and defined(my $line2 = &lt;$f2&gt;))\n{\n   # print &quot;Iam here&quot;;\n   my  @splitted = split(' ',$line1);\n\n    my @fields = split / /, $line1;\n\n    #print $fields[1], &quot;\\n&quot;;\n\n    my $atom1 = @{[$line1 =~ m/\\S+/g]}[2];\n    my $no1   = @{[$line1 =~ m/\\w+/g]}[3];\n\n    my $x1 = @{[$line1 =~ m/\\w+/g]}[6];\n    my $y1 = @{[$line1 =~ m/\\w+/g]}[7];\n    my $z1 = @{[$line1 =~ m/\\w+/g]}[8];\n\n    my $atom2 = @{[$line2 =~ m/\\w+/g]}[2];\n    my $no2   = @{[$line2 =~ m/\\w+/g]}[3];\n\n    my $x2 = @{[$line2 =~ m/\\w+/g]}[6];\n    my $y2 = @{[$line2 =~ m/\\w+/g]}[7];\n    my $z2 = @{[$line2 =~ m/\\w+/g]}[8];\n\n    #print $atom1;\n\n    for ($f1, $f2) { \n        print &quot;$atom1 $no1 $x1 $y1 $z1 $atom2 $no2 $x2 $y2 $z2 \\n&quot;; \n    }\n}\n\nclose ($f1);\nclose ($f2);\n</code></pre>\n<p>Now coming to your question, your expected output seems to be different from what you are doing in your logic. You are looping two files simultaneously which will do a one one one iteration rather than each line from file1 with all lines in file2. So I think you might need to look at looping part.</p>\n<p>And the next thing you need to know is about column splitting.</p>\n<pre><code>@splitted = split(' ',$line1);\n</code></pre>\n<p>if you split a line in the above mentioned way you get all columns in the array. SO now your column1 is in zeroth index, column2 in first index and so on.</p>\n<p>SO to get first column you should do</p>\n<pre><code>my $col1 = @splitted[0];\n</code></pre>\n<p>If you are using those regexs just for getting columns then its not needed as you are splitting those already and you have each column indpendently in the array.</p>\n<p><strong>Update:</strong></p>\n<p>The problem that you were getting was that you were using filehandles to iterate which is causing the issue.</p>\n<pre><code>use strict;\nuse warnings;\n\nopen(my $f1, &quot;&lt;pdb1.pdb&quot;) or die &quot;$!&quot; ;\nopen(my $f2, &quot;&lt;pdb2.pdb&quot;) or die &quot;$!&quot; ; \nmy @in1 = &lt;$f1&gt;;\nmy @in2 = &lt;$f2&gt;;\n\nforeach my $file1 (@in1) {       #use array to iterate\n    chomp($file1);\n    #print &quot;File1 $file1\\n&quot;;\n    my $atomno1=(split &quot; &quot;, $file1)[1];\n    my $atomname1=(split &quot; &quot;, $file1)[2];\n    my $xx=(split &quot; &quot;, $file1)[5];\n    my $yy=(split &quot; &quot;, $file1)[6];\n    foreach my  $file2(@in2) {\n\n        chomp($file2);\n        #print &quot;File2 $file2\\n&quot;;\n\n\n        my $atomno2=(split &quot; &quot;, $file2)[1]; \n        my $atomname2=(split &quot; &quot;, $file2)[2];\n        my $x=(split &quot; &quot;, $file2)[5];\n        my $y=(split &quot; &quot;, $file2)[6];\n        my $dis=sqrt((($x-$xx)*($x-$xx))+ (($y-$yy)*($y-$yy)));\n        print &quot;$atomno1 $atomname1 $atomno2 $atomname2 $dis $xx $yy $x $y\\n&quot; ; \n    }\n    #$file1++;\n} \nclose ($f1); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1492270971, "creation_date": 1492270971, "answer_id": 43428011, "question_id": 43421940, "link": "https://stackoverflow.com/questions/43421940/print-and-use-the-data-from-two-files-simultaenously/43428011#43428011", "title": "Print and use the data from two files simultaenously", "body": "<p></p>\n\n<p>It's probably simplest to read both files into memory unless they're enormous</p>\n\n<p>This solution calls subroutine <code>read_file</code> to build an array of hashes of all five fields of interest from each file. It then calculates the delta and reformats the data for output</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $f1 = read_file('file1.txt');\nmy $f2 = read_file('file2.txt');\n\nfor my $r1 ( @$f1 ) {\n\n    for my $r2 ( @$f2 ) {\n\n        my ($dx, $dy, $dz) = map { $r1-&gt;{$_} - $r2-&gt;{$_} } qw/ x y z /;\n        my $delta = sqrt( $dx * $dx + $dy * $dy + $dz * $dz );\n\n        my @rec = (\n            @{$r1}{qw/ id name /},\n            @{$r2}{qw/ id name /},\n            sprintf('%5.3f', $delta),\n            @{$r1}{qw/ x y z /},\n            @{$r2}{qw/ x y z /},\n        );\n\n        print \"@rec\\n\";\n    }\n}\n\nsub read_file {\n    my ($file_name) = @_;\n\n    open my $fh, '&lt;', $file_name or die qq{Unable to open \"$file_name\" for input: $!};\n\n    my @records;\n\n    while ( &lt;$fh&gt; ) {\n        next unless /\\S/;\n        my %record;\n        @record{qw/ id name x y z /} = (split)[1,2,5,6,7];\n        push @records, \\%record;\n    }\n\n    \\@records;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>709 CA 765 N 1.478 -29.789 33.001 72.164 -30.838 33.150 73.195\n709 CA 764 N 2.427 -29.789 33.001 72.164 -29.457 33.193 69.767\n709 CA 783 N 5.845 -29.789 33.001 72.164 -30.286 31.938 66.438\n709 CA 798 N 8.374 -29.789 33.001 72.164 -28.076 30.044 64.519\n711 CB 765 N 2.471 -29.013 31.703 72.370 -30.838 33.150 73.195\n711 CB 764 N 3.032 -29.013 31.703 72.370 -29.457 33.193 69.767\n711 CB 783 N 6.072 -29.013 31.703 72.370 -30.286 31.938 66.438\n711 CB 798 N 8.079 -29.013 31.703 72.370 -28.076 30.044 64.519\n734 CG 765 N 2.938 -29.838 30.458 72.573 -30.838 33.150 73.195\n734 CG 764 N 3.937 -29.838 30.458 72.573 -29.457 33.193 69.767\n734 CG 783 N 6.327 -29.838 30.458 72.573 -30.286 31.938 66.438\n734 CG 798 N 8.255 -29.838 30.458 72.573 -28.076 30.044 64.519\n768 CE 765 N 5.646 -28.541 28.330 71.361 -30.838 33.150 73.195\n768 CE 764 N 5.199 -28.541 28.330 71.361 -29.457 33.193 69.767\n768 CE 783 N 6.348 -28.541 28.330 71.361 -30.286 31.938 66.438\n768 CE 798 N 7.069 -28.541 28.330 71.361 -28.076 30.044 64.519\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6503405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b8d7e175d1d8e9dc96d33a6fbd4ca8?s=128&d=identicon&r=PG", "display_name": "ruchika", "link": "https://stackoverflow.com/users/6503405/ruchika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 43422549, "answer_count": 2, "score": 1, "last_activity_date": 1492343288, "creation_date": 1492227576, "last_edit_date": 1492343288, "question_id": 43421940, "link": "https://stackoverflow.com/questions/43421940/print-and-use-the-data-from-two-files-simultaenously", "title": "Print and use the data from two files simultaenously", "body": "\n\n<h3>pdb1.pdb</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ATOM    709  CA  THR    25     -29.789  33.001  72.164  1.00  0.00\nATOM    711  CB  THR    25     -29.013  31.703  72.370  1.00  0.00\nATOM    734  CG  THR    25     -29.838  30.458  72.573  1.00  0.00\nATOM    768  CE  THR    25     -28.541  28.330  71.361  1.00  0.00\n</code></pre>\n\n<h3>pdb2.pdb</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ATOM    765  N   ALA    25     -30.838  33.150  73.195  1.00  0.00\nATOM    764  N   LEU    26     -29.457  33.193  69.767  1.00  0.00\nATOM    783  N   VAL    27     -30.286  31.938  66.438  1.00  0.00\nATOM    798  N   GLY    28     -28.076  30.044  64.519  1.00  0.00\n</code></pre>\n\n<h3>output desired</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>709 CA 765 N 1.477 -29.789 33.001 72.164 -30.838 33.150 73.195\n709 CA 764 N 2.427 -29.789 33.001 72.164 -29.457 33.193 69.767\n709 CA 783 N 5.844 -29.789 33.001 72.164 -30.286 31.938 66.438\n</code></pre>\n\n<p>and so on.</p>\n\n<p>The content from <code>pdb1.pdb</code> and <code>pdb2.pdb</code> is to read values in column 2,3,6,7 and 8 and then using column 6,7,8 do distance calculations.</p>\n\n<p>I tried with this but the output is not getting printed.</p>\n\n<h3>Perl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>open( f1, \"pdb1.pdb\" or die $! );\nopen( f2, \"pdb2.pdb\" or die $! );\n\nwhile ( ( $line1 = &lt;$f1&gt; ) and ( $line2 = &lt;$f2&gt; ) ) {\n\n    @splitted = split( ' ', $line1 );\n\n    my @fields = split / /, $line1;\n\n    print $fields[1], \"\\n\";\n\n    my $atom1 = @{ [ $line1 =~ m/\\S+/g ] }[2];\n    my $no1   = @{ [ $line1 =~ m/\\w+/g ] }[3];\n\n    my $x1 = @{ [ $line1 =~ m/\\w+/g ] }[6];\n    my $y1 = @{ [ $line1 =~ m/\\w+/g ] }[7];\n    my $z1 = @{ [ $line1 =~ m/\\w+/g ] }[8];\n\n    my $atom2 = @{ [ $line2 =~ m/\\w+/g ] }[2];\n    my $no2   = @{ [ $line2 =~ m/\\w+/g ] }[3];\n\n    my $x2 = @{ [ $line2 =~ m/\\w+/g ] }[6];\n    my $y2 = @{ [ $line2 =~ m/\\w+/g ] }[7];\n    my $z2 = @{ [ $line2 =~ m/\\w+/g ] }[8];\n\n    print $atom1;\n\n    for ( $f1, $f2 ) {\n        print $atom1 $no1 $x1 $y1 $z1 $atom2 $no2 $x2 $y2 $z2 \"\\n\";\n    }\n}\n\nclose( $f1 );\nclose( $f2 );\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1492190139, "post_id": 43416098, "comment_id": 73891012, "body": "You can write <code>$str =~ s&#47;.{4}\\K(?!$))&#47; &#47;g;</code> but you can also chomp the result."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1492196775, "post_id": 43416098, "comment_id": 73894399, "body": "The intro paragraph of your now deleted answer where you said &quot;<i>I notice mistake while writing the question</i>&quot; made it sound like you made a mistake when phrasing the question and that&#39;s why suggested you update your question instead. Looking at it now, I realize it was an attempt to point out the specific problem with <code>s&#47;((?:.{4})?=.)&#47;$1 &#47;g;</code> ... Sorry."}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 0, "creation_date": 1492211286, "post_id": 43416098, "comment_id": 73899756, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2677783/can-i-use-unpack-to-split-a-string-into-characters-in-perl\">Can I use unpack to split a string into characters in Perl?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1492190174, "post_id": 43416128, "comment_id": 73891032, "body": "This is interesting. Thanks"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1492192110, "post_id": 43416128, "comment_id": 73892087, "body": "I use lookahead to prevent trailing space"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 6, "last_activity_date": 1492197993, "last_edit_date": 1492197993, "creation_date": 1492190136, "answer_id": 43416128, "question_id": 43416098, "link": "https://stackoverflow.com/questions/43416098/how-to-group-string-of-characters-by-4/43416128#43416128", "title": "How to group string of characters by 4?", "body": "<p>Context is your friend:</p>\n\n<pre><code>join(' ', $str =~ /(.{1,4})/g)\n</code></pre>\n\n<p>In list context, the match will all four character chunks (and anything shorter than that at the end of the string -- thanks to greediness). <code>join</code> will ensure the chunks are separated by spaces and there are no trailing spaces at the end.</p>\n\n<p>If <code>$str</code> is huge and the temporary list increases the memory footprint too much, then you might just want to do the <code>s///g</code> and strip the trailing space.</p>\n\n<p>My preference is for using the simplest possible patterns in regexes. Also, I haven't measured but with long strings, just a single <code>chop</code> might be cheaper than a conditional pattern in the <code>s///g</code>:</p>\n\n<pre><code>$ echo $'12345678\\n123456789' | perl -lnE 's/(.{1,4})/$1 /g; chop; say \"&gt;&gt;$_&lt;&lt;\"'\n&gt;&gt;1234 5678&lt;&lt;\n&gt;&gt;1234 5678 9&lt;&lt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 3, "last_activity_date": 1492272537, "last_edit_date": 1492272537, "creation_date": 1492190139, "answer_id": 43416129, "question_id": 43416098, "link": "https://stackoverflow.com/questions/43416098/how-to-group-string-of-characters-by-4/43416129#43416129", "title": "How to group string of characters by 4?", "body": "<p>To fix the regex I should write:</p>\n\n<pre><code>$str =~ s/(.{4}(?=.))/$1 /g;\n</code></pre>\n\n<p>I should just add parentheses around <code>?=.</code>. Without them <code>?=.</code> is counted as non greed match followed by <code>=.</code></p>\n\n<p>So we match four characters and append space after them. Then I look ahead that there are still characters. For example, the regex will not match for string <code>1234</code></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 8, "last_activity_date": 1492190958, "creation_date": 1492190958, "answer_id": 43416333, "question_id": 43416098, "link": "https://stackoverflow.com/questions/43416098/how-to-group-string-of-characters-by-4/43416333#43416333", "title": "How to group string of characters by 4?", "body": "<p>Just use <code>unpack</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nfor ( qw/ 12345678 1234567890 / ) {\n    printf \"&gt;&gt;%s&lt;&lt;\\n\", join ' ', unpack '(A4)*';\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>&gt;&gt;1234 5678&lt;&lt;\n&gt;&gt;1234 5678 90&lt;&lt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1492196691, "creation_date": 1492196691, "answer_id": 43417694, "question_id": 43416098, "link": "https://stackoverflow.com/questions/43416098/how-to-group-string-of-characters-by-4/43417694#43417694", "title": "How to group string of characters by 4?", "body": "<p>Just use a look ahead to see that you have at least one character remaining:</p>\n\n<pre><code>$ echo $'12345678\\n123456789' | perl -lnE 's/.{4}\\K(?=.{1})/ /g; say \"&gt;&gt;$_&lt;&lt;\"'\n&gt;&gt;1234 5678&lt;&lt;\n&gt;&gt;1234 5678 9&lt;&lt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1492239276, "post_id": 43419435, "comment_id": 73904909, "body": "strange, but my own answer where I use <code>s&#47;(.{4}(?=.))&#47;$1 &#47;g</code> was deleted by moderator ("}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1492273349, "post_id": 43419435, "comment_id": 73914611, "body": "@EugenKonkov Sorry, my bad. It was flagged as &quot;must be an edit to the post&quot;, I read the first sentence and it looked like a correction to the question and hence I deleted it. (used to seeing bad posts, about 2500 flags per day, so my eyes lied to me). Sorry again. :("}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 4, "last_activity_date": 1492215174, "last_edit_date": 1492215174, "creation_date": 1492204892, "answer_id": 43419435, "question_id": 43416098, "link": "https://stackoverflow.com/questions/43416098/how-to-group-string-of-characters-by-4/43419435#43419435", "title": "How to group string of characters by 4?", "body": "<p>You had the syntax almost right.  Instead of just <code>?=.</code>, you need <code>(?=.)</code> (parens are part of the lookahead syntax).  So:</p>\n\n<pre><code>s/((?:.{4})(?=.))/$1 /g\n</code></pre>\n\n<p>But you don't need the non-capturing grouping:</p>\n\n<pre><code>s/(.{4}(?=.))/$1 /g\n</code></pre>\n\n<p>And I think it is more clear if the capture doesn't include the lookahead:</p>\n\n<pre><code>s/(.{4})(?=.)/$1 /g\n</code></pre>\n\n<p>And given your example data, a non-word-boundary assertion works too:</p>\n\n<pre><code>s/(.{4})\\B/$1 /g\n</code></pre>\n\n<p>Or using \\K to automatically Keep the matched part:</p>\n\n<pre><code>s/.{4}\\B\\K/ /g\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 43416333, "answer_count": 5, "score": 3, "last_activity_date": 1492272537, "creation_date": 1492190028, "question_id": 43416098, "link": "https://stackoverflow.com/questions/43416098/how-to-group-string-of-characters-by-4", "title": "How to group string of characters by 4?", "body": "<p>I have string <code>1234567890</code> and I want to format it as <code>1234 5678 90</code></p>\n\n<p>I write this regex:</p>\n\n<pre><code>$str =~ s/(.{4})/$1 /g;\n</code></pre>\n\n<p>But for this case <code>12345678</code> this does not work. I get excess whitespace at the end: </p>\n\n<pre><code>&gt;&gt;1234 5678 &lt;&lt;\n</code></pre>\n\n<p>I try to rewrite regex with lookahead: </p>\n\n<pre><code>s/((?:.{4})?=.)/$1 /g;\n</code></pre>\n\n<p><strong>How to rewrite regex to fix that case?</strong></p>\n"}, {"tags": ["javascript", "jquery", "ajax", "perl"], "comments": [{"owner": {"reputation": 162900, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1492187742, "post_id": 43415329, "comment_id": 73889882, "body": "check for <code>xhr.responseJSON</code> in <code>ajaxSuccess</code> ... will not be truthy if dataType is html, xml or text  <b><a href=\"https://jsfiddle.net/1orxvwue/\" rel=\"nofollow noreferrer\">jsfiddle.net/1orxvwue</a></b>. Or check response headers if that is how you identify login status"}, {"owner": {"reputation": 162900, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1492188158, "post_id": 43415329, "comment_id": 73890043, "body": "Or perhaps better ajaxComplete if you don&#39;t return 200 status"}, {"owner": {"reputation": 848, "user_id": 823197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Hi4z9.jpg?s=128&g=1", "display_name": "jamadri", "link": "https://stackoverflow.com/users/823197/jamadri"}, "reply_to_user": {"reputation": 162900, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1492188590, "post_id": 43415329, "comment_id": 73890222, "body": "@charlietfl Thank you! xhr was undefined based on success but adding the ajaxComplete instead allowed my xhr response to come through clean. This is exactly what I was looking for!"}], "owner": {"reputation": 848, "user_id": 823197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Hi4z9.jpg?s=128&g=1", "display_name": "jamadri", "link": "https://stackoverflow.com/users/823197/jamadri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1492187063, "answer_count": 0, "score": 0, "last_activity_date": 1492190081, "creation_date": 1492186603, "last_edit_date": 1492190081, "question_id": 43415329, "link": "https://stackoverflow.com/questions/43415329/how-can-i-retrieve-data-from-any-ajax-request-being-completed-using-jquery", "closed_reason": "Duplicate", "title": "How can I retrieve data from &#39;any&#39; ajax request being completed using jQuery?", "body": "<p>I need to check whether or not a user is logged in or not based on a session. I know there are other ways like setting setInterval, etc to get this data back, but what I'm wondering is there a way to see the data requested back from a ajax request on a global scale such as: </p>\n\n<pre><code>$(document).ajaxStop(function(){ //show data });\n</code></pre>\n\n<p>I'm wondering this specifically because I have all my ajax calls on the front end being filtered through one method on the server side and in that method, I'm just returning a variable if the session is dead. I'd much rather be able to check that variable from one place rather than have to check it in every method before throwing a session error.</p>\n\n<p>Is this possible or is there a way to retrieve the data through the global request?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 287, "user_id": 3586606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/636d3767d1bfe8261766799095f10f9a?s=128&d=identicon&r=PG&f=1", "display_name": "CleverDev", "link": "https://stackoverflow.com/users/3586606/cleverdev"}, "edited": false, "score": 0, "creation_date": 1492182882, "post_id": 43414183, "comment_id": 73887356, "body": "Thank you for that!"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1492182269, "creation_date": 1492182269, "answer_id": 43414183, "question_id": 43414090, "link": "https://stackoverflow.com/questions/43414090/using-one-grep-operation-instead-of-two/43414183#43414183", "title": "Using one grep operation instead of two?", "body": "<p>Sure, you can do this:</p>\n\n<pre><code>@found = grep { /1010/ &amp;&amp; !/$IP/ } `$SSH $IPs[0] netstat -Aan`;\n</code></pre>\n\n<p>The condition you use in <code>grep</code> can be not just an arbitrary expression, but even a full block of code if need be.</p>\n"}], "owner": {"reputation": 287, "user_id": 3586606, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/636d3767d1bfe8261766799095f10f9a?s=128&d=identicon&r=PG&f=1", "display_name": "CleverDev", "link": "https://stackoverflow.com/users/3586606/cleverdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 43414183, "answer_count": 1, "score": 0, "last_activity_date": 1492184776, "creation_date": 1492181971, "last_edit_date": 1492184776, "question_id": 43414090, "link": "https://stackoverflow.com/questions/43414090/using-one-grep-operation-instead-of-two", "title": "Using one grep operation instead of two?", "body": "<p>Is there an efficient way to use <code>grep</code> in the following command that I am running, since I want to use only Perl's <code>grep</code>?</p>\n\n<pre><code>@found = grep { !/$IP/ } `$SSH $IPs[0] netstat -Aan | /bin/grep 1010`;\n</code></pre>\n\n<p>Basically, I am connecting to a fileserver, executing <code>netstat</code> command and grep IP addresses containing 1010. Then on this output I need to use <code>grep</code> to find a specific IP address.\nCan this be done somehow using only one Perl command?</p>\n"}, {"tags": ["linux", "bash", "perl", "shell", "delete-file"], "comments": [{"owner": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "edited": false, "score": 0, "creation_date": 1492178297, "post_id": 43412885, "comment_id": 73884758, "body": "Correct me if I am wrong, you are trying to delete only the files, and only those directly under your current directory or directly under the directories in your current directory. So for example you want to delete <code>out.txt</code> <code>.&#47;a&#47;out.txt</code> but not <code>.&#47;a&#47;out&#47;</code> nor <code>.&#47;a&#47;b&#47;out.txt</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492178344, "post_id": 43412885, "comment_id": 73884788, "body": "What is <code>( (stat)[9] &lt; (unlink) )</code> supposed to do? <code>(stat)[9]</code> is the modification time of the file, while <code>unlink</code> returns the number of files deleted, so I don&#39;t understand what you expect to achieve by comparing them in void context."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1492178782, "post_id": 43412885, "comment_id": 73885040, "body": "I don&#39;t think you&#39;re going to do any better than the <code>rm</code> command. Deleting 50,000 files shouldn&#39;t take that long; are these files on a network drive?"}, {"owner": {"reputation": 451, "user_id": 6195489, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/23738e3e4a2e3cc508d90a7a8b9a78b0?s=128&d=identicon&r=PG", "display_name": "abinitio", "link": "https://stackoverflow.com/users/6195489/abinitio"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492244050, "post_id": 43412885, "comment_id": 73906066, "body": "@Borodin - Not sure what  <code>( (stat)[9] &lt; (unlink) )</code> is supposed to do, never used perl before. I found it on a post claiming it was the fastest way to achieve what I wanted <a href=\"http://www.slashroot.in/which-is-the-fastest-method-to-delete-files-in-linux\" rel=\"nofollow noreferrer\">link</a>. @silel - I want to delete ./a/*out*, that&#39;s all the output files I need to get rid of."}, {"owner": {"reputation": 451, "user_id": 6195489, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/23738e3e4a2e3cc508d90a7a8b9a78b0?s=128&d=identicon&r=PG", "display_name": "abinitio", "link": "https://stackoverflow.com/users/6195489/abinitio"}, "edited": false, "score": 0, "creation_date": 1492244127, "post_id": 43412885, "comment_id": 73906085, "body": "The files are on a scratch partition of a hpc cluster."}, {"owner": {"reputation": 9168, "user_id": 1921273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LREX2.png?s=128&g=1", "display_name": "MrSmith42", "link": "https://stackoverflow.com/users/1921273/mrsmith42"}, "edited": false, "score": 0, "creation_date": 1521475969, "post_id": 43412885, "comment_id": 85735848, "body": "In my case a <code>updatedb.mlocate</code> process was slowing down my delete operation by a factor of 5. So maybe have a look at your io with <code>iotop</code> , maybe some other process messes a round with your io before trying to optimize the delete functionality."}], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "edited": false, "score": 2, "creation_date": 1492177918, "post_id": 43412907, "comment_id": 73884531, "body": "without the <code>*</code> after <code>find</code>, or replace it with <code>path&#47;to&#47;dir</code>"}, {"owner": {"reputation": 980, "user_id": 5401777, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207823338127007/picture?type=large", "display_name": "fedterzi", "link": "https://stackoverflow.com/users/5401777/fedterzi"}, "edited": false, "score": 0, "creation_date": 1492178086, "post_id": 43412907, "comment_id": 73884630, "body": "<code>-delete</code> requires GNU find"}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 980, "user_id": 5401777, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207823338127007/picture?type=large", "display_name": "fedterzi", "link": "https://stackoverflow.com/users/5401777/fedterzi"}, "edited": false, "score": 0, "creation_date": 1492178603, "post_id": 43412907, "comment_id": 73884934, "body": "@fedterzi: <code>-delete</code> also works with BSD/macOS <code>find</code>, but it&#39;s not POSIX-compliant."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 0, "creation_date": 1492562038, "post_id": 43412907, "comment_id": 74024398, "body": "To my surprise, constraining the hierarchy level at which deletion happens using <code>-mindepth</code> and <code>-maxdepth</code> does <i>not</i> seem to help performance; please see my answer (and do tell us if your findings are different)."}], "tags": [], "owner": {"reputation": 1751, "user_id": 3536140, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fcc1b905bfd7fe58a60cbf8bc991408a?s=128&d=identicon&r=PG&f=1", "display_name": "vdavid", "link": "https://stackoverflow.com/users/3536140/vdavid"}, "is_accepted": false, "score": -1, "last_activity_date": 1492180217, "last_edit_date": 1492180217, "creation_date": 1492177780, "answer_id": 43412907, "question_id": 43412885, "link": "https://stackoverflow.com/questions/43412885/fastest-way-to-delete-files-from-a-directory-tree-whose-names-contain-a-certain/43412907#43412907", "title": "Fastest way to delete files from a directory tree whose names contain a certain string", "body": "<p>What about:</p>\n\n<pre><code>find . -mindepth 2 -maxdepth 2 -name '*out*' -delete\n</code></pre>\n\n<p>With <code>find . -mindepth 2 -maxdepth 2</code> you get all elements with a depth of 2 within <code>.</code>, which means every file inside a subdirectory of the current directory (<code>.</code>). In this case, a \u201cfile\u201d can be anything: a regular file, a directory, a pipe, etc. you can add the <code>-type f</code> option if you want to remove regular files only:</p>\n\n<pre><code>find . -mindepth 2 -maxdepth 2 -name '*out*' -type f -delete\n</code></pre>\n\n<p>With <code>-name '*out*'</code> you get all files which name contains <code>out</code>.</p>\n\n<p>And <code>-delete</code> tells <code>find</code> to delete every file found. It should be noted that <code>-delete</code> is not supported by all versions of <code>find</code>, though it is very likely that your <code>find</code> already supports it.</p>\n"}, {"comments": [{"owner": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "edited": false, "score": 0, "creation_date": 1492178122, "post_id": 43412986, "comment_id": 73884658, "body": "I don&#39;t think he&#39;ll gain anythin by doing that, using a &#39;single&#39; rm is already what the OP does. Maybe he can gain a little time by starting to delete files as he find them."}, {"owner": {"reputation": 1751, "user_id": 3536140, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fcc1b905bfd7fe58a60cbf8bc991408a?s=128&d=identicon&r=PG&f=1", "display_name": "vdavid", "link": "https://stackoverflow.com/users/3536140/vdavid"}, "edited": false, "score": 0, "creation_date": 1492178299, "post_id": 43412986, "comment_id": 73884760, "body": "Basically you\u2019re just writing <code>rm *&#47;*out*</code> in a more complicated way."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "edited": false, "score": 1, "creation_date": 1492178410, "post_id": 43412986, "comment_id": 73884824, "body": "@silel: Terminating <code>-exec</code> with <code>+</code> rather than <code>\\;</code> is what passes as many filenames as will fit to a <i>single</i> invocation of <code>rm</code>, which makes a big difference. In the typical case - unless your platform has an unusually low command-line length limit and/or your list of filenames is very large - that&#39;ll result in a <i>single</i> <code>rm</code> call <i>overall</i>."}, {"owner": {"reputation": 980, "user_id": 5401777, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207823338127007/picture?type=large", "display_name": "fedterzi", "link": "https://stackoverflow.com/users/5401777/fedterzi"}, "edited": false, "score": 0, "creation_date": 1492178499, "post_id": 43412986, "comment_id": 73884887, "body": "Also, in <code>rm *&#47;*out*</code> the wildcard expansion is done by the shell, that&#39;s why <code>find</code> will perform better"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492178868, "post_id": 43412986, "comment_id": 73885093, "body": "@fedterzi: Why should <code>find</code> be faster than the shell?"}, {"owner": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 0, "creation_date": 1492187227, "post_id": 43412986, "comment_id": 73889644, "body": "@mklement0 and I don&#39;t think running it all in a single <code>rm</code> is a good thing, you have to wait for the lookup part of <code>find</code> to terminate before actually deleting anything."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "edited": false, "score": 0, "creation_date": 1492187564, "post_id": 43412986, "comment_id": 73889814, "body": "@sile: While that is technically true, why would that matter here? But I agree that - if supported by one&#39;s <code>find</code> implementation (Linux, BSD/macOS) - using the nonstandard <code>-delete</code> action is preferable. This answer&#39;s <code>-exec rm {} +</code> approach is POSIX-compliant. (Btw, I misread your original comment about the single <code>rm</code> call - I mistakenly thought that you thought <code>rm</code> was invoked <i>once per filename</i>)."}, {"owner": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1492188056, "post_id": 43412986, "comment_id": 73890000, "body": "@mklement0 No trouble. My idea is that if we found the fastest lookup command, (and assuming <code>rm</code> is the fastest deleting command), to go any faster, we will have to do some operations in parallel. One way to go is to run the lookup and the deletion in parallel. A probably even better way would be to parallelize the lookup itself (for example by running multiple find commands, each on a subset of the directories)."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492561560, "post_id": 43412986, "comment_id": 74024286, "body": "@Borodin: <code>rm *&#47;*out*</code> not only slows down compared to <code>find</code> as the input set grows larger, but more importantly it runs the risk of exceeding the max. command-line length; see my answer."}], "tags": [], "owner": {"reputation": 980, "user_id": 5401777, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207823338127007/picture?type=large", "display_name": "fedterzi", "link": "https://stackoverflow.com/users/5401777/fedterzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1492178034, "creation_date": 1492178034, "answer_id": 43412986, "question_id": 43412885, "link": "https://stackoverflow.com/questions/43412885/fastest-way-to-delete-files-from-a-directory-tree-whose-names-contain-a-certain/43412986#43412986", "title": "Fastest way to delete files from a directory tree whose names contain a certain string", "body": "<p>To remove all files with a single rm (using <code>find</code>):</p>\n\n<p><code>find /path/to/dir -name \"*out*\" -exec rm {} +</code></p>\n"}, {"comments": [{"owner": {"reputation": 451, "user_id": 6195489, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/23738e3e4a2e3cc508d90a7a8b9a78b0?s=128&d=identicon&r=PG", "display_name": "abinitio", "link": "https://stackoverflow.com/users/6195489/abinitio"}, "edited": false, "score": 0, "creation_date": 1492258161, "post_id": 43415680, "comment_id": 73909763, "body": "Haven&#39;t uesd gnu parallel, but the test5 command seems to do the job fastest for me. ~89 sec. Thanks."}], "tags": [], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "is_accepted": false, "score": 5, "last_activity_date": 1492198806, "last_edit_date": 1492198806, "creation_date": 1492188150, "answer_id": 43415680, "question_id": 43412885, "link": "https://stackoverflow.com/questions/43412885/fastest-way-to-delete-files-from-a-directory-tree-whose-names-contain-a-certain/43415680#43415680", "title": "Fastest way to delete files from a directory tree whose names contain a certain string", "body": "<p>I find <code>test3</code> is the fastest (11-25 sec). But why not test it yourself?</p>\n\n<p>Your filesystem can have a big impact on the performance.</p>\n\n<p>The test uses <a href=\"https://www.gnu.org/software/parallel/\" rel=\"nofollow noreferrer\">GNU Parallel</a>.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># Make test set: 150000 files, 50000 named *.seq\ntestset() {\n  doit() { mkdir -p $1 ; cd $1 &amp;&amp; parallel --results ./{} seq ::: {1..50}; }\n  export -f doit\n  seq 1000 | parallel --bar doit &gt;/dev/null\n\n  # Drop caches before starting a test\n  echo 3 | sudo tee /proc/sys/vm/drop_caches &gt;/dev/null\n}\nexport -f testset\n\n# Define tests\ntest1() {\n  find . -name '*seq' | perl -ne 'chop;unlink'\n}\nexport -f test1\ntest2() {\n  find . -name '*seq' -delete\n}\nexport -f test2\ntest3() {\n  find . -name '*seq' | parallel --pipe -N1000 -q perl -ne 'chop;unlink'\n}\nexport -f test3\ntest4() {\n  find . -name '*seq' -print0 | xargs -0 -P2 rm\n}\nexport -f test4\ntest5() {\n  find . -name '*seq' -print0 | xargs -0 rm\n}\nexport -f test5\ntest6() {\n  find . -name '*seq' | perl -e 'chomp(@a=&lt;&gt;);unlink @a'\n}\nexport -f test6\ntest7() {\n  # sort by inode\n  ls -U -i */*seq* | sort -k1,1 -n| cut -d' ' -f2- | perl -e 'chomp(@a=&lt;&gt;);unlink @a'\n}\nexport -f test7\n\n# Run testset/test? alternating\neval parallel --joblog jl -uj1 ::: testset' 'test{1..7} \n# sort by runtime\nsort -nk4 jl\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1492284273, "creation_date": 1492284273, "answer_id": 43430315, "question_id": 43412885, "link": "https://stackoverflow.com/questions/43412885/fastest-way-to-delete-files-from-a-directory-tree-whose-names-contain-a-certain/43430315#43430315", "title": "Fastest way to delete files from a directory tree whose names contain a certain string", "body": "<p>I once had a similar problem with a tool that went berserk and left 400.000 temporary files behind after some time.\nI experimented a lot with <code>rm *</code>, <code>find . -name ... -exec rm {} +</code> and some Perl solutions.</p>\n\n<p>Surprisingly to me this was by far the fastest approach:</p>\n\n<ul>\n<li>determine the filenames in Perl and store them in a list.</li>\n<li>call <code>unlink @list</code></li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>if ( my $dh = IO::Dir-&gt;new($dir) ) {\n    my @files_to_delete = ();\n    while ( my $file = $dh-&gt;read() ) {\n        $file = \"$dir/$file\";\n        if ( -f $file ) {\n            push @files_to_delete, $file;\n        }\n    }\n    $dh-&gt;close();\n\n    my $deleted = unlink @files_to_delete;\n    print \"deleted $deleted files\\n\";\n}\n</code></pre>\n\n<p>There are other ways to determine <code>@files_to_delete</code> (like <code>glob</code> etc.) but the crucial point is the <code>unlink @files_to_delete</code> step.\nCall <code>unlink</code> with as many files as possible at once. There seems to be no limit in the number of files (except memory).</p>\n\n<p>This actually surprised me because I thougt <code>rm *</code> (or its equivalents) would be faster than Perl's <code>unlink</code> \u2013 but it wasn't. </p>\n"}, {"tags": [], "owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "is_accepted": false, "score": 2, "last_activity_date": 1492561449, "creation_date": 1492561449, "answer_id": 43484256, "question_id": 43412885, "link": "https://stackoverflow.com/questions/43412885/fastest-way-to-delete-files-from-a-directory-tree-whose-names-contain-a-certain/43484256#43484256", "title": "Fastest way to delete files from a directory tree whose names contain a certain string", "body": "<p>Your commands indeed seem to execute unusually slowly.</p>\n\n<p>As for <strong>what you tried</strong>:</p>\n\n<ul>\n<li><p><code>rm */*out*</code>:</p>\n\n<ul>\n<li>is fine for smallish sets of matching files.</li>\n<li>slows down for large sets of files and, more importantly, <strong>runs the risk of <em>breaking</em> due to exceeding the max. command-line length</strong>, as reported by <code>getconf ARG_MAX</code>, because the pattern (glob) <code>*/*out*</code> is expanded by the shell <em>up front</em>, and the resulting list of filenames is passed to external utility <code>rm</code> <em>at once</em>.</li>\n</ul></li>\n<li><p>I'm assuming that the <code>perl</code> command you <em>meant</em> to use is <code>perl -e 'unlink &lt;*/*out*&gt;'</code>:</p>\n\n<ul>\n<li>In my tests it outperformed <code>rm */*out*</code>, but <a href=\"https://en.wiktionary.org/wiki/your_mileage_may_vary\" rel=\"nofollow noreferrer\">YMMV</a> (see below); it does have the distinct advantage of not being subject to the <code>getconf ARG_MAX</code> limit; however, it does slow down as the input set grows larger - see below.</li>\n</ul></li>\n</ul>\n\n<hr>\n\n<ul>\n<li><p><strong>Using <em>parallel</em> execution <em>can</em> help</strong>:</p>\n\n<ul>\n<li><p><strong>GNU and BSD/macOS <code>xargs</code> have a nonstandard <code>-P &lt;n&gt;</code> option</strong> that allows running at most <code>&lt;n&gt;</code> instances of the specified command in parallel; <em>GNU</em> <code>xargs</code> supports <code>0</code> for <code>&lt;n&gt;</code>, which means that \"xargs will run as many processes as possible\", according to <code>man</code> page; while the specifics are unclear, and given that it also says, \"Use the <code>-n</code> option or the <code>-L</code> option with <code>-P</code>; otherwise chances are that only one exec will be  done\", in practice it does seem to make a difference.</p>\n\n<ul>\n<li><strong><code>find . -name '*out*' -print0 | xargs -0 -P0 rm</code> proved to be the fastest in my tests</strong> - YMMV.</li>\n</ul></li>\n<li><p><strong><a href=\"https://www.gnu.org/software/parallel/\" rel=\"nofollow noreferrer\">GNU Parallel</a></strong> - which is typically <em>not</em> preinstalled - is worth considering for sophisticated control of parallel execution in general, though it <strong>may not help in this particular case</strong>; it's a powerful tool, but not a magic bullet - YMMV.</p></li>\n</ul></li>\n</ul>\n\n<hr>\n\n<p>Below is <strong>a <code>bash</code> script that times various commands</strong>; by default, it uses the following parameters:</p>\n\n<ul>\n<li>1000 subfolders</li>\n<li>50 files to delete in <em>each</em> subfolder</li>\n<li>an additional 100 files alongside the files to delete in each folder.</li>\n</ul>\n\n<p>The script cleans up after itself and has no prerequisites other than <code>bash</code> (so you can run it on macOS as well, for instance); those tests that assume the presence of GNU <code>parallel</code> will simply fail if it's not present.<br>\nYou can easily tweak the script by passing arguments from the command line or modifying the defaults, and by adding/removing commands to time.</p>\n\n<hr>\n\n<p>The following are <strong><em>sample</em> timings</strong> from a 2-core VMware Fusion VM running Ubuntu 16.04 on a macOS 10.12.4 host that's a late-2012 4-core Intel i5 3.2 Ghz machine with a Fusion Drive (hybrid SSD + HHD).</p>\n\n<p><em>Again: YMMV - there are numerous factors at play, such as filesystem, HDD, number of CPU cores, system load, ...</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>find . -name '*out*' -print0 | xargs -0 -P0 rm                                       0.704\nfind . -name '*out*' -print0 | xargs -0 -P2 rm                                       0.745\nfind . -name '*out*' -print0 | xargs -0 rm                                           1.067\nfind . -name '*out*' | perl -e 'chomp(@a=&lt;&gt;); unlink @a'                             1.070\nperl -e 'unlink &lt;*/*out*&gt;'                                                           1.089\nfind . -name '*out*' -delete                                                         1.094\nfind . -mindepth 2 -maxdepth 2 -name '*out*' -delete                                 1.110\nrm */*out*                                                                           1.369\nfind . -name '*out*' | parallel --pipe -n 1000 perl -nle 'unlink'                    1.460\nfind . -name '*out*' | parallel --pipe -n 1000 -q perl -e 'chomp(@a=&lt;&gt;); unlink @a'  1.493\nfind . -name '*out*' | parallel --xargs rm                                           2.294\nfind . -name '*out*' | parallel -n 1000 rm                                           2.465\n</code></pre>\n\n<p>Combining <code>find</code> with <code>xargs -P0</code> seems to be the winner here, and even <code>xargs</code> without parallel invocations is fast.</p>\n\n<p>Perhaps surprisingly, the single-utility solutions (<code>rm</code>, <code>perl</code>) are <em>not</em> the fastest, and as the input set increases in size, parallel solutions become relatively faster.</p>\n\n<p>Using GNU <code>parallel</code> doesn't help here, though it may with <em>larger</em> numbers.</p>\n\n<hr>\n\n<p>Here's <strong>the test script's source code</strong>, whose only prerequisite is Bash v3+; a missing / different GNU <code>parallel</code> and/or the size of the <code>rm</code> command line exceeding the limit will simply be noted as such in the results.</p>\n\n<pre><code>#!/bin/bash\n\n# ----- BEGIN: CUSTOMIZE HERE\nnumDirs=${1:-1000}       # Number of directories to create\nnumFilesPerDir=${2:-50}  # Number of target files per directory to delete\nnumFilesOtherPerDir=${3:-$(( numFilesPerDir * 2 ))} # Number of additional files per directory.\n\n# Define the commands to test here, as you would execute them directly.\nIFS=$'\\n' read -d '' -ra cmdLines &lt;&lt;'EOF'\nfind . -name '*out*' -print0 | xargs -0 rm\nfind . -name '*out*' -print0 | xargs -0 -P2 rm\nfind . -name '*out*' -print0 | xargs -0 -P0 rm\nfind . -name '*out*' -delete\nfind . -mindepth 2 -maxdepth 2 -name '*out*' -delete\nperl -e 'unlink &lt;*/*out*&gt;'\nfind . -name '*out*' | perl -e 'chomp(@a=&lt;&gt;); unlink @a'\nfind . -name '*out*' | parallel --pipe -n 1000 -q perl -e 'chomp(@a=&lt;&gt;); unlink @a'\nfind . -name '*out*' | parallel --pipe -n 1000 perl -nle 'unlink'\nfind . -name '*out*' | parallel -n 1000 rm\nfind . -name '*out*' | parallel --xargs rm\nrm */*out*\nEOF\n\n# ----- END: CUSTOMIZE HERE\n\n# Set up execution of the teardown function on exit.\nkeepTmpDir=0\ntrap '(( keepTmpDir )) || teardownOnExit' EXIT\n\n# Initial, one-time setup.\nsetupInitial() {\n  tmpDir=/tmp/test-$$\n  [[ -e $tmpDir ]] &amp;&amp; { echo \"Directory $tmpDir already exists. To run these tests, remove it first.\" &gt;&amp;2; exit 2; }\n  mkdir \"$tmpDir\" &amp;&amp; cd \"$tmpDir\" || exit\n}\n\n# Teardown on overall exit.\nteardownOnExit() {\n  # echo \"Removing $tmpDir...\"\n  rm -rf \"$tmpDir\"\n}\n\n# Set up the dirs. and files for each test.\nsetupBeforeEachTest() {\n\n  # To save time, only recreate the deleted files to set up for subsequent\n  # test runs.\n  local recreateFilesOnly=0\n  [[ -d '1' ]] &amp;&amp; recreateFilesOnly=1\n\n  local dirNames=( $(seq $numDirs) )\n\n  local fileNames=( $(seq $numFilesPerDir) )\n  local fileNames=( \"${fileNames[@]/%/-out}\" )\n\n  (( recreateFilesOnly )) || fileNamesOther=( $(seq $numFilesOtherPerDir) )\n\n  (( recreateFilesOnly )) || mkdir -p \"${dirNames[@]}\" || exit\n  for d in \"${dirNames[@]}\"; do\n    cd \"$d\"\n    touch \"${fileNames[@]}\"\n    (( recreateFilesOnly )) || touch \"${fileNamesOther[@]}\"\n    cd ..\n  done\n\n  # Activate the next line to inspect the temp. dir. before each test run.\n  # showInFileManager \"$PWD\"; read -p \"Attempting to show '$PWD' in the file manager; press Enter to continue.\"\n\n}\n\n# Verify that the most recent test ran correctly.\nverifyAfterEachTest() {\n  local count=$(find . -name '*out*' | wc -l)\n  (( count == 0 )) || { echo \"  ERROR: There are still $count '*out*' file(s) present.\" &gt;&amp;2; return 1; }\n}\n\n# --- Generic helper functions\n\nshowInFileManager() {\n  local dir=$1\n  case $(uname) in\n    Linux)\n      xdg \"$dir\"\n      ;;\n    Darwin)\n      open \"$dir\"\n      ;;\n    *)\n      echo \"WARNING: Don't know how to open a dir. in the platform's file manager on  $(uname).\" &gt;&amp;2\n      ;;\n  esac  \n}\n\n# Helper function for resetting the disk cache between runs.\nresetDiskCache() {\n  case $(uname) in\n    Linux)\n      sudo sync &amp;&amp; echo 3 | sudo tee /proc/sys/vm/drop_caches &gt;/dev/null\n      ;;\n    Darwin)\n      sudo sync &amp;&amp; sudo purge    \n      ;;\n    *)\n      echo \"ERROR: Don't know how to clear caches on $(uname).\" &gt;&amp;2\n      exit 1\n      ;;\n  esac\n}\n\n# ==== MAIN BODY\n\nsetupInitial || exit\n\ncat &lt;&lt;EOF\n\nTests will run in dir. $tmpDir, which will be removed on termination.\n\nParameters:\n  # of subdirs.:                         $numDirs\n    # of target files in each subdir.:   $numFilesPerDir\n    # of other files in each subdir.:    $numFilesOtherPerDir\n\nEOF\n\n# To reset the disk cache, we need `sudo` - prompt up front.\nsudo -v -p 'Please enter your password to allow clearing the disk cache between runs, which requires `sudo`: ' || exit 2\n\n# Make `time` report total time elapsed only.\nTIMEFORMAT='%3R'\n\nquiet=0  # Set this to 1 to suppress the status messages\n{\n  # Loop over all tests\n  for cmdLine in \"${cmdLines[@]}\"; do\n    (( quiet )) || echo \"&gt;&gt; $cmdLine &lt;&lt;\"\n    (( quiet )) || echo \"  setting up...\"\n    setupBeforeEachTest || exit\n    resetDiskCache || exit\n    (( quiet )) || echo \"  running...\"\n    timing=$({ time eval \"$cmdLine\"; } 2&gt;&amp;1 1&gt;/dev/tty)\n    (( quiet )) || echo \"  verifying...\"\n    if verifyAfterEachTest; then\n      echo \"  OK\"\n    else\n      echo \"  FAILED\"\n      timing=$'(n/a)\\t'\"$(sed '$d' &lt;&lt;&lt;\"$timing\")\"\n    fi\n    printf '%s\\t%s\\n' \"$cmdLine\" \"$timing\" &gt;&amp;3\n  done 3&gt;&amp;1 &gt;/dev/tty\n  (( quiet )) || echo \"--- RESULTS (in secs., fastest first) ---\" &gt;/dev/tty\n  # Sort and columnate the results below.\n} |\n  sort -t$'\\t' -k2,2n |\n    column -s$'\\t' -t\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 6195489, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/23738e3e4a2e3cc508d90a7a8b9a78b0?s=128&d=identicon&r=PG", "display_name": "abinitio", "link": "https://stackoverflow.com/users/6195489/abinitio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1831, "favorite_count": 1, "answer_count": 5, "score": 3, "last_activity_date": 1492561449, "creation_date": 1492177664, "last_edit_date": 1492179283, "question_id": 43412885, "link": "https://stackoverflow.com/questions/43412885/fastest-way-to-delete-files-from-a-directory-tree-whose-names-contain-a-certain", "title": "Fastest way to delete files from a directory tree whose names contain a certain string", "body": "<p>I have a directory containing subdirectories from which I would like to delete any files whose names contain <code>out</code>. What is the fastest method of doing this?</p>\n\n<p>I have tried several things.</p>\n\n<p>A simple: </p>\n\n<pre><code>rm */*out*\n</code></pre>\n\n<p>Perl:</p>\n\n<pre><code>perl -e 'for ( &lt;*/*out*&gt; ) { ( (stat)[9] &lt; (unlink) ) }'\n</code></pre>\n\n<p>Each of which seem to take a serious amount of time. For 1,000 subdirectories, each of which contain around 50 files matching <code>*out*</code>, it takes:</p>\n\n<pre><code>Perl:        ~25 mins\nrm */*out* : ~18 mins\n</code></pre>\n\n<p>I also tried <code>rsync</code>, moving the files to a folder first and then syncing with delete, but that took ages. </p>\n\n<p>Does anyone have a faster way of getting rid of these files, as this seems inordinately slow to me?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1492156370, "post_id": 43407327, "comment_id": 73874304, "body": "Please indent the code nicely when you post questions, if you expect people to read through it.  As you nicely declare <code>@s_arr</code> on top a conceivable reason would be that there is actually nothing in it, but <code>Dumper</code>&#39;s print of <code>%hash</code> indicates otherwise. So ... does your <code>$c</code> actually get to be equal <code>30</code> by any chance, so the program quietly <code>exit</code>s?  (Btw, should use <code>==</code> there.)"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1, "user_id": 5268562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc023e2e13753b9ddc81982a7665108c?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh Sharma", "link": "https://stackoverflow.com/users/5268562/dinesh-sharma"}, "edited": false, "score": 2, "creation_date": 1492162492, "post_id": 43407708, "comment_id": 73876938, "body": "@DineshSharma please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn what to do when someone answers your question."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1492157379, "last_edit_date": 1495542343, "creation_date": 1492157379, "answer_id": 43407708, "question_id": 43407327, "link": "https://stackoverflow.com/questions/43407327/perl-variable-not-storing-data-outside-block/43407708#43407708", "title": "perl variable not storing data outside block", "body": "<p>You are calling <a href=\"http://perldoc.perl.org/functions/exit.html\" rel=\"nofollow noreferrer\"><code>exit</code></a> inside of your <code>foreach</code> loop. That makes the program stop, and the <code>print Dumper @s_arr</code> is never reached.</p>\n\n<p>To break out of a loop you need to use <a href=\"http://perldoc.perl.org/functions/last.html\" rel=\"nofollow noreferrer\"><code>last</code></a>.</p>\n\n<pre><code>foreach my $name ( sort ...  ) {\n\n    # ...\n\n    $c++;\n\n    last if $c == 30; # break out of the loop when $c reaches 30\n\n}\n</code></pre>\n\n<p>I used the <em>postfix</em> variant of <code>if</code> here because that makes it way easier to read. Also note that <a href=\"https://stackoverflow.com/questions/43407327/perl-varibale-not-storing-data-outside-block/43407708#comment73874304_43407327\">as zdim pointed out above</a>, you should use the numerical equality check <code>==</code> when checking for numbers. <code>eq</code> is for strings.</p>\n"}], "owner": {"reputation": 1, "user_id": 5268562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc023e2e13753b9ddc81982a7665108c?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh Sharma", "link": "https://stackoverflow.com/users/5268562/dinesh-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492202904, "creation_date": 1492155687, "last_edit_date": 1492202904, "question_id": 43407327, "link": "https://stackoverflow.com/questions/43407327/perl-variable-not-storing-data-outside-block", "title": "perl variable not storing data outside block", "body": "<p>I have written below mention code to read a file and and storing data to array <code>@s_arr</code>.</p>\n\n<p>But when I am trying to print that <code>@s_arr</code> array outside the block it shows nothing.</p>\n\n<pre><code>use Data::Dumper;\n\nmy @s_arr;\nmy @err;\nmy %sort_h_1;\n\n$fname = '/qv/Error.log';\n\nopen( IN, \"&lt;$fname\" );\n\nforeach $line ( &lt;IN&gt; ) {\n\n    if ( $line =~ /CODE\\+(\\w{3})(\\d{5})/ ) {\n        $a = \"$1$2\";\n        push @err, $a;\n    }\n}\n\nclose IN;\n\n$prev  = \"\";\n$count = 0;\n\nmy %hash;\n\nforeach ( sort @err ) {\n\n    if ( $prev ne $_ ) {\n\n        if ( $count ) {\n            $hash{$prev} = $count;\n        }\n\n        $prev  = $_;\n        $count = 0;\n    }\n\n    $count++;\n}\n\nprint Dumper \\%hash;\n\nprintf( \"%s:%d\\n\", $prev, $count ) if $count;\n\n$hash{$prev} = $count;\nmy $c = 0;\n\nprint \"Today Error Count\\n\";\n\nforeach my $name ( sort { $hash{$b} &lt;=&gt; $hash{$a} } keys %hash ) {\n\n    #printf \"%-8s %s\\n\", $name, $hash{$name};\n    #my %sort_h ;\n\n    push @s_arr, $name;\n    push @s_arr, $hash{$name};\n\n    #$sort_h{$name} = $hash{$name} ;\n    #print Dumper \\%sort_h ;\n    #print Dumper \\@s_arr ;\n\n    $c++;\n\n    if ( $c eq 30 ) {\n        exit;\n    }\n}\n\nprint Dumper \\@s_arr;    #  It's showing nothing\n</code></pre>\n"}, {"tags": ["perl", "initialization", "boolean"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1492154430, "post_id": 43406465, "comment_id": 73873581, "body": "Why would you want that? What should <code>print $var</code> output in such case?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1492154728, "post_id": 43406465, "comment_id": 73873689, "body": "I think you want to use hash, so <code>if ($var eq &quot;A&quot;)</code> should translate to <code>if ($var{A})</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3431, "user_id": 2988189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/354d420093f27d42eb40752529cc7279?s=128&d=identicon&r=PG&f=1", "display_name": "Plaute", "link": "https://stackoverflow.com/users/2988189/plaute"}, "is_accepted": false, "score": 0, "last_activity_date": 1492154142, "creation_date": 1492154142, "answer_id": 43406974, "question_id": 43406465, "link": "https://stackoverflow.com/questions/43406465/is-it-allowed-to-use-boolean-operators-when-initializing-scalar-variables-in-per/43406974#43406974", "title": "Is it allowed to use Boolean operators when initializing scalar variables in Perl?", "body": "<p>You cannot. It sounds like you misunderstand logical operator and bitwise operator.</p>\n\n<p><strong>|</strong> is bitwise operator, it works on bits.</p>\n\n<p><strong>||</strong> is logical operator</p>\n\n<p>From what you say, I presume you need logical operator, but be more specific.</p>\n\n<p>You can get some help there: <a href=\"http://www.perlmonks.org/?node_id=301355\" rel=\"nofollow noreferrer\">http://www.perlmonks.org/?node_id=301355</a></p>\n"}, {"comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 3, "creation_date": 1492157350, "post_id": 43407566, "comment_id": 73874697, "body": "Of all the modules I&#39;ve never found a practical use for, Quantum::Superpositions has always been my favorite."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492164673, "post_id": 43407566, "comment_id": 73877957, "body": "I think you need to include an example. This is pretty weird stuff. :)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492165577, "post_id": 43407566, "comment_id": 73878353, "body": "@simbabque: Good idea. Done :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1492168462, "post_id": 43407566, "comment_id": 73879595, "body": "Wow! I&#39;d never noticed this module before. How bizarre. Good call for an answer though, but on the face of it I would use <code>my $var = { A =&gt; 1, B =&gt; 1}</code> and <code>if ( $var-&gt;{$_} )</code>"}, {"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492196854, "post_id": 43407566, "comment_id": 73894441, "body": "@DaveCross Interesting! Thanks for the example."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492202030, "post_id": 43407566, "comment_id": 73896688, "body": "@Borodin: Were you not in the Perl community in the early 2000s when Damian Conway was giving his Quantum Superpositions talk to any Perl Monger group that would listen? :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1492203388, "post_id": 43407566, "comment_id": 73897247, "body": "@DaveCross: I did see his 2016 YAPC talk <a href=\"http://youtu.be/Nq2HkAYbG5o\" rel=\"nofollow noreferrer\"><b><i>On The Shoulders Of Giants</i></b></a> which is an excellent run through of Perl 6 where he talks about nondeterminism and quantum computing as a way of checking for prime numbers, but I had no idea he was into such stuff so long ago."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 7, "last_activity_date": 1494859623, "last_edit_date": 1494859623, "creation_date": 1492156785, "answer_id": 43407566, "question_id": 43406465, "link": "https://stackoverflow.com/questions/43406465/is-it-allowed-to-use-boolean-operators-when-initializing-scalar-variables-in-per/43407566#43407566", "title": "Is it allowed to use Boolean operators when initializing scalar variables in Perl?", "body": "<p>Are you looking for <a href=\"https://metacpan.org/pod/Quantum::Superpositions\" rel=\"nofollow noreferrer\">Quantum::Superpositions</a>?</p>\n\n<p><strong>Update:</strong> An example.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse Quantum::Superpositions;\n\nmy $var = any('A', 'B', 'C');\n\nfor ('A', 'B') {\n  if ($var eq $_) {\n    say \"\\$var equals $_\";\n  } else {\n    say \"\\$var doesn't equal $_\";\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$var equals A\n$var equals B\n$var doesn't equal C\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 923, "user_id": 7727546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fe3d80f5c8283fb372c4f3aec775df8?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Krupp", "link": "https://stackoverflow.com/users/7727546/benjamin-krupp"}, "is_accepted": false, "score": 1, "last_activity_date": 1492269489, "last_edit_date": 1492269489, "creation_date": 1492268026, "answer_id": 43427497, "question_id": 43406465, "link": "https://stackoverflow.com/questions/43406465/is-it-allowed-to-use-boolean-operators-when-initializing-scalar-variables-in-per/43427497#43427497", "title": "Is it allowed to use Boolean operators when initializing scalar variables in Perl?", "body": "<p><strong>EDIT:</strong>\nFrom what I've gathered from your comments and previous question you have a string with chars and just want to check if one char is inside of it. Instead of constructing something like <code>$var = \"A\" || \"B\"</code> (which doesn't work) you can simply check if the needed char is in the string (with a simple regex):</p>\n\n<pre><code>$var = \"AB\";\nif ($var =~ /A/) { # True\n    # Calculations\n}\nif ($var =~ /B/) { # Also true\n    # Other calculations\n}\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1494859623, "creation_date": 1492151811, "last_edit_date": 1492196631, "question_id": 43406465, "link": "https://stackoverflow.com/questions/43406465/is-it-allowed-to-use-boolean-operators-when-initializing-scalar-variables-in-per", "title": "Is it allowed to use Boolean operators when initializing scalar variables in Perl?", "body": "<p>For example, could I write something like:</p>\n\n<p><code>my $var = \"A\" || \"B\";</code></p>\n\n<p>where <code>($var eq \"A\")</code> and <code>($var eq \"B\")</code> would both evaluate to true? If not, is there some way around this? </p>\n"}, {"tags": ["perl", "unix", "text-processing"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492151651, "post_id": 43405337, "comment_id": 73872559, "body": "Welcome to SO.  Please note that questions here are expected to be about details of <i>your code</i> (and why it&#39;s failing).  Look over <a href=\"http://stackoverflow.com/help\">Help pages</a>, they are short and informative."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7865388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4beb903a8ccc93611c8a0b45f2e152ff?s=128&d=identicon&r=PG&f=1", "display_name": "bio_datawalker", "link": "https://stackoverflow.com/users/7865388/bio-datawalker"}, "edited": false, "score": 0, "creation_date": 1492196142, "post_id": 43405819, "comment_id": 73894100, "body": "Thank you zdim! The comments are very helpful and helped me learn your code."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1492754107, "last_edit_date": 1492754107, "creation_date": 1492148479, "answer_id": 43405819, "question_id": 43405337, "link": "https://stackoverflow.com/questions/43405337/match-substring-from-a-list-to-multiple-columns-in-another-file/43405819#43405819", "title": "Match substring from a list to multiple columns in another file", "body": "<p>A little heavy if the files are very large but that problem isn't  mentioned</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse Path::Tiny;\nuse List::Util qw(uniq any all);\n\nmy ($file, $flist) = ('master.txt', 'list.txt'); \n\nmy @search = path($flist)-&gt;lines({ chomp =&gt; 1 });\n\n# Sort words within each line so then filter out duplicate lines\nmy @filtered = uniq map { join ' ', sort split } path($file)-&gt;lines;\n\n# Each word on the line needs to match a word in @search list\nmy @result = grep { all { found($_, \\@search) } split } @filtered;\n\nsay for @result;\n\nsub found { return any { $_[0] =~ /^$_/ } @{$_[1]} }\n</code></pre>\n\n<p>The output agrees with my understanding of the problem description</p>\n\n<pre>\nAppleP001 BallP002\nAppleP002 CatP001\nBallP001 DogP001\n</pre>\n\n<p>If you can't have <a href=\"http://search.cpan.org/~dagolden/Path-Tiny-0.104/lib/Path/Tiny.pm\" rel=\"nofollow noreferrer\">Path::Tiny</a> that provides <code>path</code> for some reason, open files and check that, and instead of <code>path(...)-&gt;lines</code> read filehandles (so in list context) and do <code>chomp @search;</code></p>\n\n<hr>\n\n<p>The last part, written out a bit</p>\n\n<pre><code># Each word on the line needs to match a word in @search list\nmy @result = grep { \n    my ($w1, $w2) = split; \n    any { $w1 =~ /^$_/ } @search  and  any { $w2 =~ /^$_/ } @search;\n} @filtered;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": false, "score": 0, "last_activity_date": 1492168645, "creation_date": 1492168645, "answer_id": 43410469, "question_id": 43405337, "link": "https://stackoverflow.com/questions/43405337/match-substring-from-a-list-to-multiple-columns-in-another-file/43410469#43410469", "title": "Match substring from a list to multiple columns in another file", "body": "<p>Here is one in awk:</p>\n\n<pre><code>$ awk '\nNR==FNR { a[$1]; next }    # read list and hash to a\n{                          # process master\n    b=\"\"                   # reset buffer\n    for(i in a)            # iterate thru a\n        if(index($0,i)) {  # if list item is found in current master record\n            b=$0           # set the record to buffer\n            delete a[i]    # remove list entry from a\n        }\n        if(b) print b      # print b\n}' list master             # mind the order\nAppleP001   BallP002\nAppleP002   CatP001 \nBallP001    DogP001\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7865388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4beb903a8ccc93611c8a0b45f2e152ff?s=128&d=identicon&r=PG&f=1", "display_name": "bio_datawalker", "link": "https://stackoverflow.com/users/7865388/bio-datawalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 43405819, "answer_count": 2, "score": 1, "last_activity_date": 1492754107, "creation_date": 1492145192, "question_id": 43405337, "link": "https://stackoverflow.com/questions/43405337/match-substring-from-a-list-to-multiple-columns-in-another-file", "title": "Match substring from a list to multiple columns in another file", "body": "<p>I am fairly new to linux and to perl programming. I have exhausted all search options with no answer.\nI have a master file \"master.txt\" that contains all the interactions known with 2 columns in which the items on same row are known to interact. I have a list of items \"list.txt\" that I want to be the search criteria to return results from the master file if it is contained in Column 1 as well as Column 2. All files are tab delimited. For eg: \nIf this is the master file: \"master.txt\"</p>\n\n<pre><code>AppleP001   BallP002\nAppleP002   CatP001 \nBallP001    DogP001\nBallP002    AppleP001\nCatP001 AppleP002\nDogP001 BallP001\nDogP002 ZebraP001\nElephantP001    CardinalP001\nFishP001    AntelopeP001\n</code></pre>\n\n<p>And this search file: \"list.txt\"</p>\n\n<pre><code>Apple\nBall\nCat\nDog\n</code></pre>\n\n<p>The resulting file should only contain Apple* ,Ball*, Cat* and Dog* on both columns but remove duplicate items:</p>\n\n<p>I tried using grep:</p>\n\n<pre><code>grep -f list.txt master.txt &gt; Sub_list.txt\n</code></pre>\n\n<p>But I get this:</p>\n\n<pre><code>AppleP001       BallP002\nAppleP002       CatP001\nBallP001        DogP001\nBallP002        AppleP001\nCatP001 AppleP002\nDogP001 BallP001\nDogP002 ZebraP001\n</code></pre>\n\n<p>How do I remove duplicates (consider it a duplicate if both items are in the same row, does not matter what column they are in) and remove unrelated data from the output file and get this? </p>\n\n<pre><code>AppleP001   BallP002\nAppleP002   CatP001 \nBallP001    DogP001 \n</code></pre>\n\n<p>Any help is greatly appreciated! Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492168281, "post_id": 43404275, "comment_id": 73879504, "body": "You are only doing one assignment to <code>$hostname</code>. The second line is not an assignment. You are operating on the variable. Why do you care?"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 5, "last_activity_date": 1492142991, "creation_date": 1492142991, "answer_id": 43405075, "question_id": 43404275, "link": "https://stackoverflow.com/questions/43404275/capture-short-host-name-using-built-in-perl-modules/43405075#43405075", "title": "Capture short host name using built-in Perl modules?", "body": "<p>Using <code>Sys::Hostname</code>:</p>\n\n<pre><code>use Sys::Hostname;\n\nmy ($short_hostname) = split /\\./, hostname(); # Split by '.', keep the first part\n</code></pre>\n\n<p>Using system hostname command:</p>\n\n<pre><code>chomp(my ($short_hostname) = `hostname | cut -f 1 -d.`);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "is_accepted": false, "score": 4, "last_activity_date": 1492198467, "creation_date": 1492198467, "answer_id": 43418094, "question_id": 43404275, "link": "https://stackoverflow.com/questions/43404275/capture-short-host-name-using-built-in-perl-modules/43418094#43418094", "title": "Capture short host name using built-in Perl modules?", "body": "<p>You may use <a href=\"http://perldoc.perl.org/Net/Domain.html\" rel=\"nofollow noreferrer\"><code>Net::Domain</code></a>'s <code>hostname</code> instead</p>\n\n<blockquote>\n  <p>Returns the smallest part of the FQDN which can be used to identify the host.</p>\n</blockquote>\n\n<pre><code>use Net::Domain qw(hostname);\nmy $hostname = hostname();\n</code></pre>\n\n<hr>\n\n<p>Without additional modules, call external command <a href=\"http://man7.org/linux/man-pages/man1/hostname.1.html\" rel=\"nofollow noreferrer\"><code>hostname -s</code></a></p>\n\n<blockquote>\n  <p>-s, --short<br>\n  Display the short host name. This is the host name cut at the\n  first dot.</p>\n</blockquote>\n\n<pre><code>chomp(my $hostname = `hostname -s`);\n</code></pre>\n"}], "owner": {"reputation": 982, "user_id": 1602022, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e36f31b1645542323074d1ffc1bfbfc5?s=128&d=identicon&r=PG", "display_name": "theillien", "link": "https://stackoverflow.com/users/1602022/theillien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3654, "favorite_count": 0, "accepted_answer_id": 43405075, "answer_count": 2, "score": 2, "last_activity_date": 1584944658, "creation_date": 1492135818, "last_edit_date": 1584944658, "question_id": 43404275, "link": "https://stackoverflow.com/questions/43404275/capture-short-host-name-using-built-in-perl-modules", "title": "Capture short host name using built-in Perl modules?", "body": "<p>Is there a cleaner way to do</p>\n\n<pre><code>use Sys::Hostname qw(hostname);\n\nmy $hostname = hostname();\n$hostname =~ s/\\.domain//;\n</code></pre>\n\n<p>Basically, is it possible to strip the hostname down to its short name without running two <code>$hostname</code> assignments and without additional modules?</p>\n"}, {"tags": ["regex", "perl", "regex-negation", "regex-group"], "comments": [{"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1492120832, "post_id": 43402393, "comment_id": 73865272, "body": "sorry about the editing - result_array wouldn&#39;t format correctly"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1492121446, "post_id": 43402393, "comment_id": 73865492, "body": "The problem is nobody knows it 2 colons is ok. What about 3 colons or 4 colons? If it is a standalone colon you need, just split using <code>(?&lt;!:);(?!:)</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492121564, "post_id": 43402393, "comment_id": 73865529, "body": "I repaired formatting but I am not sure what that is supposed to mean in the question? Can you clarify?"}, {"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 1, "creation_date": 1492122748, "post_id": 43402393, "comment_id": 73865965, "body": "You could cheat and change <code>::</code> to a unique string not including any colons.  Then split, and then change the unique string in the substrings back to <code>::</code>"}, {"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1492122894, "post_id": 43402393, "comment_id": 73866011, "body": "I&#39;ve updated the description sln and zdim. Does it make more sense?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492124366, "post_id": 43402393, "comment_id": 73866467, "body": "The question is very fine, I have no idea how I misunderstood it (in my answer).  The question I raised above is about the second chunk of displayed code -- I don&#39;t see what it is meant to show (and whether I missed the intention with &quot;fixing&quot; the formatting)."}, {"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1492126803, "post_id": 43402393, "comment_id": 73867073, "body": "ah, my apologies - I didn&#39;t want to confuse people by leaving that block of code un-formatted, that&#39;s why I made the comment :)"}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1492124000, "post_id": 43402526, "comment_id": 73866368, "body": "tried accepting your response as the answer as-well...doesn&#39;t look like it&#39;s possible.  Didn&#39;t know about Test::Deep though, thank you for teaching me something new"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1492121558, "creation_date": 1492121558, "answer_id": 43402526, "question_id": 43402393, "link": "https://stackoverflow.com/questions/43402393/validating-initialization-variables-in-perl-constructor-using-ref/43402526#43402526", "title": "validating initialization variables in perl constructor using ref", "body": "<p>You can use look-around assertions, i.e. split on semicolon not preceded nor followed by a semicolon:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Test::Deep;\n\nmy $example_string = \"_Fruit|Apple:~Vegetable|Carrot:~fruitfunc|Package::User::Today:~datefunct|{~date}\";\n\nmy $result_array = [\"_Fruit|Apple\",\"~Vegetable|Carrot\",\"~fruitfunc|Package::User::Today\",\"~datefunct|{~date}\"];\n\ncmp_deeply( [ split /(?&lt;!:):(?!:)/, $example_string ], $result_array );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1492122451, "post_id": 43402527, "comment_id": 73865859, "body": "Does not seem to split on a <code>:</code> not followed by a <code>~</code>.  While the example does not include that case, the text description seems to"}, {"owner": {"reputation": 3136, "user_id": 7557538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpca.jpg?s=128&g=1", "display_name": "Stephane Janicaud", "link": "https://stackoverflow.com/users/7557538/stephane-janicaud"}, "reply_to_user": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 0, "creation_date": 1492122572, "post_id": 43402527, "comment_id": 73865903, "body": "No, it&#39;s a positive lookahead, it finds <code>:</code> followed by a <code>~</code>"}, {"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1492123930, "post_id": 43402527, "comment_id": 73866340, "body": "Clarified the text, seems like the example gave the impression that a colon could only be followed by a ~, which is not always the case."}], "tags": [], "owner": {"reputation": 3136, "user_id": 7557538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpca.jpg?s=128&g=1", "display_name": "Stephane Janicaud", "link": "https://stackoverflow.com/users/7557538/stephane-janicaud"}, "is_accepted": false, "score": 1, "last_activity_date": 1492121565, "creation_date": 1492121565, "answer_id": 43402527, "question_id": 43402393, "link": "https://stackoverflow.com/questions/43402393/validating-initialization-variables-in-perl-constructor-using-ref/43402527#43402527", "title": "validating initialization variables in perl constructor using ref", "body": "<p>This one should do the job : <code>:(?=~)</code></p>\n\n<p><a href=\"https://regex101.com/r/i0nmUn/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1492124053, "post_id": 43402535, "comment_id": 73866386, "body": "Works great! Thank you"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1492124134, "post_id": 43402535, "comment_id": 73866411, "body": "@user3166881 yvw, enjoy :)"}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": true, "score": 1, "last_activity_date": 1492121635, "creation_date": 1492121635, "answer_id": 43402535, "question_id": 43402393, "link": "https://stackoverflow.com/questions/43402393/validating-initialization-variables-in-perl-constructor-using-ref/43402535#43402535", "title": "validating initialization variables in perl constructor using ref", "body": "<p>Maybe overkill, but i would use the</p>\n\n<pre><code>split /(?&lt;!:):(?!:)/, $str;\n</code></pre>\n\n<p>demo</p>\n\n<pre><code>use 5.014;\nuse warnings;\nuse Test::More;\n\nmy $str = \"_Fruit|Apple:~Vegetable|Carrot:~fruitfunc|Package::User::Today:~datefunct|{~date}\";\nmy @wanted = (\"_Fruit|Apple\",\"~Vegetable|Carrot\",\"~fruitfunc|Package::User::Today\",\"~datefunct|{~date}\");\n\nmy @arr = split /(?&lt;!:):(?!:)/, $str;\nis_deeply(\\@arr, \\@wanted);\ndone_testing(1);\n\n#ok 1\n#1..1\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 43402535, "answer_count": 3, "score": 1, "last_activity_date": 1492188268, "creation_date": 1492120792, "last_edit_date": 1492123896, "question_id": 43402393, "link": "https://stackoverflow.com/questions/43402393/validating-initialization-variables-in-perl-constructor-using-ref", "title": "validating initialization variables in perl constructor using ref", "body": "<p>I'm trying to apply a split function on a string only where 1 colon (:) exists using regular expressions. The problem is that while a colon could exist multiple times consecutively, I'm only interested in instances where a colon is not preceded or followed by another colon . Any other character could precede or follow the colon.</p>\n\n<p>Example string:</p>\n\n<pre><code>my $example_string = \"_Fruit|Apple:~Vegetable|Carrot:~fruitfunc|Package::User::Today:~datefunct|{~date}\"\n</code></pre>\n\n<p>Expected result:</p>\n\n<pre><code>my @result_array = [\"_Fruit|Apple\",\"~Vegetable|Carrot\",\"~fruitfunc|Package::User::Today\",\"~datefunct|{~date}\"];\n</code></pre>\n\n<p>What I've tried so far is a combination of negation and group regular expressions...one example that got me close:</p>\n\n<ol>\n<li><p>Cuts off 1 value before and after colon</p>\n\n<pre><code>my @result_array= split(/[^:][:][^:]/g, $example_string )\n\n@result_array = [\n    '_targetfund|tes',\n    'rowcountmax|10',\n    'test|YE',\n    'fruit|appl',\n    'date|\\'12/31/2016\\''\n];\n</code></pre></li>\n</ol>\n\n<p>I was playing around with <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a>, thought maybe there was a way to return $1 within the same regex or something which could be done recursively.</p>\n\n<p>Any help would be appreciated</p>\n"}, {"tags": ["string", "perl", "date"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1492119815, "post_id": 43402185, "comment_id": 73864891, "body": "What have you tried so far, and how is it not working?"}, {"owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1492119946, "post_id": 43402185, "comment_id": 73864944, "body": "I have a long set of code that splits the date and then a hash that outputs the value... Just wondered if Perl had a &quot;date-like&quot; class like Java."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1492120063, "post_id": 43402185, "comment_id": 73864998, "body": "There are many Perl date modules. DateTime is probably the best, but Time::Piece is core."}, {"owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1492120132, "post_id": 43402185, "comment_id": 73865023, "body": "Thanks for the help! It&#39;s a piece of cake to find now! I struggled to find it!!!"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1492120172, "post_id": 43402185, "comment_id": 73865042, "body": "For example: <code>perl -MTime::Piece -e &#39;print Time::Piece-&gt;strptime($ARGV[0], &quot;%Y%m%d&quot;)-&gt;strftime(&quot;%d-%b-%Y&quot;)&#39; 19001201</code>"}, {"owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1492121001, "post_id": 43402185, "comment_id": 73865331, "body": "Matt Jacob, I&#39;ll accept your answer if you post it! I up-voted the other one!"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1492120128, "creation_date": 1492120128, "answer_id": 43402262, "question_id": 43402185, "link": "https://stackoverflow.com/questions/43402185/convert-date-format-perl/43402262#43402262", "title": "Convert Date Format Perl", "body": "<pre><code>use DateTime::Format::Strptime qw( );\n\nmy $format1 = DateTime::Format::Strptime-&gt;new(\n   pattern  =&gt; '%Y%m%d',\n   on_error =&gt; 'croak',\n);\n\nmy $format2 = DateTime::Format::Strptime-&gt;new(\n   pattern  =&gt; '%d-%b-%Y',\n   locale   =&gt; 'en',\n   on_error =&gt; 'croak',\n);\n\nmy $dt = $format1-&gt;parse_datetime('19001201');\nsay uc($format2-&gt;format_datetime($dt));          # 01-DEC-1900\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1492474859, "creation_date": 1492474859, "answer_id": 43461632, "question_id": 43402185, "link": "https://stackoverflow.com/questions/43402185/convert-date-format-perl/43461632#43461632", "title": "Convert Date Format Perl", "body": "<p>I normally prefer <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow noreferrer\">DateTime</a> over <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a>, but Time::Piece has the advantage of being a core module, and in this case, it does everything you need.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    say Time::Piece-&gt;strptime($_, '%Y%m%d')-&gt;strftime('%d-%b-%Y');\n}\n\n__DATA__\n19001201\n20170417\n20170505\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>01-Dec-1900\n17-Apr-2017\n05-May-2017\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1621, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1492474859, "creation_date": 1492119667, "last_edit_date": 1492121126, "question_id": 43402185, "link": "https://stackoverflow.com/questions/43402185/convert-date-format-perl", "title": "Convert Date Format Perl", "body": "<p>I have dates in YYYYMMDD format and need it in DD-MON-YYYY format. For example, if I input 19001201, then I want 01-DEC-1900 out. Is there a somewhat easy way to do this? I.e. I am currently splitting the string, then using a hash to convert the month... What modules in Perl can easily edit dates?</p>\n"}, {"tags": ["python", "python-2.7", "perl"], "comments": [{"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1492119275, "post_id": 43401974, "comment_id": 73864699, "body": "Have you considered to reduce right-hand-side instead of unpacking a whole tuple?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1492120008, "post_id": 43401974, "comment_id": 73864973, "body": "@rth Yes. But that&#39;s not feasable in my case. I&#39;m writing plugins for a 3rd party tool and the function I&#39;m supposed to write hands me a tuple with N items, but I&#39;m only interested in some of them."}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "edited": false, "score": 0, "creation_date": 1492120771, "post_id": 43401974, "comment_id": 73865244, "body": "If you save your tuple, you can manipulate it, like this <code>x=(1,2,3),A,B=x[:1]+x[2:]</code>, isn&#39;t it? But it isn&#39;t good, I know. numpy can do fancy thing, but only with numbers."}, {"owner": {"reputation": 171, "user_id": 5971855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UAKeO.jpg?s=128&g=1", "display_name": "ryugie", "link": "https://stackoverflow.com/users/5971855/ryugie"}, "edited": false, "score": 1, "creation_date": 1492121260, "post_id": 43401974, "comment_id": 73865429, "body": "<code>a, _, c = toople</code> - Yes, it&#39;s just <code>b</code> by another name but <code>_</code> is generally accepted to be a throwaway variable name, and you can repeat it a la <code>a, _, _, _, e</code>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1492121536, "post_id": 43401974, "comment_id": 73865519, "body": "Hmm. There was a nice answer which suggested <code>a, _, c = (1,2,3)</code>. It was downvoted and deleted. But I liked it because it suggested there is no <i>real</i> way to avoid the extra variable and that&#39;s what I wanted to know."}, {"owner": {"reputation": 171, "user_id": 5971855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UAKeO.jpg?s=128&g=1", "display_name": "ryugie", "link": "https://stackoverflow.com/users/5971855/ryugie"}, "edited": false, "score": 1, "creation_date": 1492121778, "post_id": 43401974, "comment_id": 73865605, "body": "@PerlDuck - Do note that if you&#39;re doing any internationalization or localization, <code>_</code> is often already in use"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 171, "user_id": 5971855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UAKeO.jpg?s=128&g=1", "display_name": "ryugie", "link": "https://stackoverflow.com/users/5971855/ryugie"}, "edited": false, "score": 0, "creation_date": 1492122825, "post_id": 43401974, "comment_id": 73865989, "body": "@ryugie Ahh, very good point. My plugin&#39;s framework already makes heavy use of <code>_(&quot;terms to be translated&quot;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1492122501, "post_id": 43402128, "comment_id": 73865874, "body": "Hey zdim! :-) I wasn&#39;t aware you&#39;re also familiar with Python. Albeit your proposal does exactly what I asked for, it seems over-complicated compared to the Perl thing. But if that is the solution, I&#39;ll consider it. My tuple only has few elements (5\u202615). Depending on my actual case, I&#39;ll use your solution or some naming convention (like <code>_no_b</code>)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1492123538, "post_id": 43402128, "comment_id": 73866218, "body": "Hey :)))   There are ways to &#39;filter&#39; on assignment but I don&#39;t know that there&#39;s anything equivalent to the Perl&#39;s <code>undef</code> ... &quot;placeholder&quot; (? how do I even call that :).  The <i>list comprehensions</i> are good.  With contiguous indices (ranges) the slices are better of course."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1492449904, "post_id": 43402128, "comment_id": 73968009, "body": "@PerlDuck  I added another way which is better alined with excluding a small set of specific indices, and noted <code>_</code> with a link to a nice page about it"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1492930461, "last_edit_date": 1495541864, "creation_date": 1492119389, "answer_id": 43402128, "question_id": 43401974, "link": "https://stackoverflow.com/questions/43401974/how-to-ignore-certain-tuple-members-when-assigning-to-explicit-variables/43402128#43402128", "title": "How to ignore certain tuple members when assigning to explicit variables?", "body": "<p>Since you select by position either take specific elements</p>\n\n<pre><code>a, c = [ toople[i] for i in [0,2] ]\n</code></pre>\n\n<p>or exclude the others</p>\n\n<pre><code>a, c = [ item for i, item in enumerate(toople) if i not in [1] ] \n</code></pre>\n\n<p>These use <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehension</a> and <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow noreferrer\">enumerate</a></p>\n\n<p>A way reminiscent of Perl's <code>undef</code> is to use <code>_</code> as a throwaway variable, but as noted in comments this conflicts with internationalization where <code>_</code> may be in use.  See <a href=\"https://stackoverflow.com/questions/4859909/reason-for-assignment-to\">answers in this post</a>.</p>\n"}], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 43402128, "answer_count": 1, "score": 2, "last_activity_date": 1497420813, "creation_date": 1492118779, "last_edit_date": 1497420813, "question_id": 43401974, "link": "https://stackoverflow.com/questions/43401974/how-to-ignore-certain-tuple-members-when-assigning-to-explicit-variables", "title": "How to ignore certain tuple members when assigning to explicit variables?", "body": "<p>I'm a Perl guy and currently learning Python. If I have a list in Perl, I can assign its values (members) to explicit variables like so:</p>\n\n<pre><code>my ($a, $b, $c) = ('one', 'two', 'three');\n</code></pre>\n\n<p>Now <code>$a == 'one'</code>, <code>$b == 'two'</code>, <code>$c == 'three'</code>. Very similar to Python.</p>\n\n<p>If I'm not interested in e.g. the second member, I can write this in Perl:</p>\n\n<pre><code>my ($a, undef, $c) = ('one', 'two', 'three');\n</code></pre>\n\n<p>Now <code>$a == 'one'</code>, and <code>$c == 'three'</code>. There is no <code>$b</code>. The <code>'two'</code> is simply discarded by Perl. This avoids <em>inventing</em> useless variables (<code>$b</code> in this case) and polluting the namespace, which I appreciate.</p>\n\n<p>Is there a similar idiom in Python?</p>\n\n<pre><code>toople = (1, 2, 3)\na, None, c = toople\n</code></pre>\n\n<p>gives <code>SyntaxError: cannot assign to None</code> which sounds reasonable to me.</p>\n\n<p><strong>Is there a way to avoid the (useless) variable <code>b</code> in Python?</strong></p>\n\n<p>Besides namespace pollution there's another issue that concerns me: readability and maintainability. When <code>b</code> is defined, a potential maintainer has to search where <code>b</code> is used (if at all). One solution would be a naming convention, like <code>_unused_b</code>. Is that the solution?</p>\n"}, {"tags": ["html", "perl", "url", "http-status-code-404", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492118941, "post_id": 43401124, "comment_id": 73864563, "body": "If that is your real code, then there are a bunch of things wrong with it. For startes, you cannot put spaces between the sigil of a variable and the name. <code>$ mydata</code> is a syntax error. Start by putting <code>use strict</code> and <code>use warnings</code> on top of your script, and then fix the errors. Also I suggest you go and read your course material, because (no offence) it looks like you have no idea what you&#39;re doing. We can&#39;t teach you programming here, sorry."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1492119763, "post_id": 43401124, "comment_id": 73864873, "body": "Why so many extra spaces? Surely that&#39;s a copy-and-paste error?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1492156358, "creation_date": 1492156358, "answer_id": 43407465, "question_id": 43401124, "link": "https://stackoverflow.com/questions/43401124/perl-why-am-i-getting-404-in-html-response/43407465#43407465", "title": "perl: Why am I getting 404 in html response?", "body": "<p>There are so many problems in your code. I'm not sure how you're attempting to learn Perl, but I think you need to put a little more effort in :-)</p>\n\n<p>Your description isn't very clear, but I think you're saying that you get a 404 error when submitting the form in your HTML page. That almost certainly means that the \"action\" attribute on the form element contains an invalid URL. So let's start by looking at that line:</p>\n\n<pre><code>&lt;Form METHOD = GET ACTION = echo site_url (\"C: \\ xampp \\ cgi-bin \\ cgiDemo.pl\")&gt;\n</code></pre>\n\n<p>As people have mentioned in the comments, there are too many spaces in this code. Hopefully that's a problem that has been added in the process of cutting the code from your machine to this site. So perhaps it really looks like this:</p>\n\n<pre><code>&lt;Form METHOD=\"GET\" ACTION='echo site_url (\"C:\\xampp\\cgi-bin\\cgiDemo.pl')&gt;\n</code></pre>\n\n<p>Then there's that weird <code>echo site_url(...)</code> call. I'm not at all sure what technology that is - but you have a file path there, not a URL. I think it should be more like:</p>\n\n<pre><code>&lt;Form METHOD=\"GET\" ACTION=\"cgi-bin/cgiDemo.pl\"&gt;\n</code></pre>\n\n<p>With changes along those lines, your CGI program should be found. You can then start to think about the many syntax errors in your Perl code.</p>\n"}], "owner": {"reputation": 1, "user_id": 7864175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5173d6bfca3b76e735449855c3411658?s=128&d=identicon&r=PG&f=1", "display_name": "user7864175", "link": "https://stackoverflow.com/users/7864175/user7864175"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1494201798, "creation_date": 1492115092, "last_edit_date": 1494201798, "question_id": 43401124, "link": "https://stackoverflow.com/questions/43401124/perl-why-am-i-getting-404-in-html-response", "title": "perl: Why am I getting 404 in html response?", "body": "<p>I used Sublime Text 3 and xampp to write an html response perl cgi encountered error 404</p>\n\n<p>The first page is index.html\nURL: <code>http: // localhost / aa /</code>\nAa folder on xampp inside htdocs</p>\n\n<pre><code>&lt;HTML&gt;\n&lt;HEAD&gt; &lt;Title&gt; CGI with lighttpd and Perl &lt;/ Title&gt; &lt;/ HEAD&gt;\n&lt;BODY&gt;\n\n&lt;Form METHOD = GET ACTION = echo site_url (\"C: \\ xampp \\ cgi-bin \\ cgiDemo.pl\")&gt; &lt;BR&gt;\nClass:\n\n&lt;INPUT type = radio name = class value = \"3A\"&gt; 3A\n&lt;INPUT type = radio name = class value = \"3B\"&gt; 3B\n&lt;P&gt;\nInput Your ID Here: &lt;input type = \"text\" name = \"studentID\"&gt;\n&lt;BR&gt;\nInput Your Name Here: &lt;input type = \"text\" name = \"studentName\"&gt;\n&lt;P&gt;\n&lt;INPUT TYPE = submit VALUE = \"Send\"&gt; &lt;INPUT TYPE = reset VALUE = \"Clear\"&gt;\n&lt;/ P&gt;\n&lt;/ Form&gt;\n\n&lt;/ BODY&gt;\n&lt;/ HTML&gt;\n</code></pre>\n\n<p>The second page is cgiDemo.pl\nURL: <code>http: // localhost / aa / echo? Class = 3A &amp; studentID = &amp; studentName =</code>\nCgiDemo.pl is placed in xampp cgi-bin folder\nAlways show the requested url</p>\n\n<pre><code>#! \"C: \\ xampp \\ perl \\ bin \\ perl.exe\"\n\nPrint \"Content-type: text / html \\ n \\ n\";\n\nPrint \"&lt;html&gt; &lt;head&gt; &lt;title&gt; HELLO! &lt;/ Title&gt; &lt;/ head&gt;\";\nPrint \"&lt;body&gt; \\ n\";\nPrint \"&lt;h2&gt; CGI is working !!! &lt;/ h2&gt; \\ n\";\n\n# Print \"String = $ ENV {'QUERY_STRING'} \\ n \\ n &lt;p&gt;\";\n@values \u200b\u200b= split (/ &amp; /, $ ENV {'QUERY_STRING'});\nForeach $ i (@values) {\n($ Varname, $ mydata) = split (/ = /, $ i);\nPrint \"$ varname = $ mydata \\ n \\ n &lt;p&gt;\";\n}\nPrint \"&lt;/ body&gt; &lt;/ html&gt; \\ n\";\n</code></pre>\n\n<p>Which side is a problem\nThank you</p>\n"}, {"tags": ["perl", "rmdir"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 4, "creation_date": 1492114828, "post_id": 43401051, "comment_id": 73862767, "body": "Could you explain what you mean by &quot;empty parent directories&quot;, perhaps with an example? Being a parent directory implies a child directory which implies it&#39;s not empty."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1492115148, "post_id": 43401051, "comment_id": 73862935, "body": "I meant how to remove a directory and its ancestors."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1492115204, "post_id": 43401051, "comment_id": 73862957, "body": "So we can ignore the word &quot;empty&quot;?"}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1492115259, "post_id": 43401051, "comment_id": 73862979, "body": "Nope. If you remove a directory, its parent may become empty."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492115303, "post_id": 43401051, "comment_id": 73863001, "body": "Hang on ... why would it not remove <code>b</code> in your example?"}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1492115337, "post_id": 43401051, "comment_id": 73863023, "body": "yes, sorry, let me change the example"}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492115481, "post_id": 43401051, "comment_id": 73863096, "body": "@zdim No. <code>remove_tree</code> would remove <code>x</code> but <code>x</code> is not an ancestor of <code>d</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492115803, "post_id": 43401051, "comment_id": 73863251, "body": "@n.r Right, I see -- I had thought that there was an option.  Removing that comment ..."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492115982, "post_id": 43401051, "comment_id": 73863333, "body": "@zdim Also notice that <code>remove_tree</code> deletes directories and <b>files</b>, that is, it&#39;s not meant to remove empty directories, but everything it finds downwards into a tree."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492116081, "post_id": 43401051, "comment_id": 73863383, "body": "@n.r Yes, it works like <code>rm -rf</code>.  I mis-remembered that it had an option to only remove empty, but it doesn&#39;t."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1492118690, "post_id": 43401360, "comment_id": 73864455, "body": "Needless initial <code>-d</code> (since <code>-&gt;children</code> will perform the same check). Needless <code>readdir</code>. Race condition (from the use of <code>readdir</code>). Doesn&#39;t handle a drive that just contains <code>a&#47;b&#47;c&#47;d</code>."}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 3, "last_activity_date": 1492116448, "last_edit_date": 1492116448, "creation_date": 1492116151, "answer_id": 43401360, "question_id": 43401051, "link": "https://stackoverflow.com/questions/43401051/how-to-remove-a-directory-and-its-empty-ancestors-with-perl/43401360#43401360", "title": "How to remove a directory and its empty ancestors with Perl?", "body": "<p>As always, using my favorite <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a></p>\n\n<pre><code>use 5.014;\nuse warnings;\nuse Path::Tiny;\nuse autodie;\n\nmy $p = path('a/b/c/d');     # starting\ndie \"$p is not a dir\" unless -d $p;\n\nwhile( ! $p-&gt;children ) {    # if it is empty\n        rmdir $p;            # remove it\n        $p = $p-&gt;parent;     # go upward\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1492116796, "post_id": 43401367, "comment_id": 73863700, "body": "It would stop at <code>a</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1492117604, "post_id": 43401367, "comment_id": 73864028, "body": "@n.r. Turns out it would stop, but only because <code>rmdir(&#39;.&#39;)</code> fails. I fixed it to stop at the root of the given path, empty or not. Now <code>path(&quot;c&#47;d&quot;)-&gt;rmdir_if_empty</code> won&#39;t delete <code>b</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492117735, "post_id": 43401367, "comment_id": 73864085, "body": "@ikegami To make the recursion work better, and because Path::Tiny doesn&#39;t subclass well (peek inside <code>Path::Tiny-&gt;new</code> to see why). Adding a method is safe-ish, safer than altering an existing one. You can do it as a function. YMMV."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1492117811, "post_id": 43401367, "comment_id": 73864109, "body": "The non-intrusive solution (<code>sub rmdir_if_empty { ... return rmdir_if_empty($self-&gt;parent); } rmdir_if_empty(path(&quot;a&#47;b&#47;c&#47;d&quot;));</code>) recurses just as easily. Noone suggested altering an existing method."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492118695, "post_id": 43401367, "comment_id": 73864461, "body": "Needless <code>readdir</code>. Race condition (from the use of <code>readdir</code>). Doesn&#39;t handle a drive that just contains <code>a&#47;b&#47;c&#47;d</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1492118734, "post_id": 43401367, "comment_id": 73864475, "body": "@ikegami Can you provide any details about those assertions? Ahh, I see your answer now, very clever!"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1492117546, "last_edit_date": 1492117546, "creation_date": 1492116188, "answer_id": 43401367, "question_id": 43401051, "link": "https://stackoverflow.com/questions/43401051/how-to-remove-a-directory-and-its-empty-ancestors-with-perl/43401367#43401367", "title": "How to remove a directory and its empty ancestors with Perl?", "body": "<p>AFAIK this doesn't exist. You can write it yourself fairly easily with <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a>. It's a simple recursive function.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse Carp;\nuse Path::Tiny;\nuse autodie;\n\nsub Path::Tiny::rmdir_if_empty {\n    my $self = shift;\n\n    # Stop when we reach the parent.\n    # You can't rmdir('.') anyway.\n    return if $self eq '.';\n\n    croak \"$self is not a directory\" if !$self-&gt;is_dir;\n\n    # Stop if the directory contains anything.\n    # I use an iterator to avoid a possibly very long list.\n    my $iter = $self-&gt;iterator;\n    return if defined $iter-&gt;();\n\n    # rmdir will not delete a non-empty directory, a second safeguard\n    rmdir $self;\n\n    return $self-&gt;parent-&gt;rmdir_if_empty;\n}\n\npath(\"a/b/c/d\")-&gt;rmdir_if_empty;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1492118423, "creation_date": 1492118423, "answer_id": 43401890, "question_id": 43401051, "link": "https://stackoverflow.com/questions/43401051/how-to-remove-a-directory-and-its-empty-ancestors-with-perl/43401890#43401890", "title": "How to remove a directory and its empty ancestors with Perl?", "body": "<pre><code>use Path::Tiny qw( path );\n\nmy $p = path('a/b/c/d');\n\nwhile (!$p-&gt;is_rootdir()) {\n    if (!rmdir($p)) {\n        last if $!{ENOTEMPTY};\n        die(\"Can't remove \\\"$p\\\": $!\\n\");\n    }\n\n    $p = $p-&gt;parent;\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>Efficient. By checking the result of <code>rmdir</code> instead of using <code>-&gt;children</code> or <code>-&gt;iterator</code>, this solution is avoids needless calls to <code>readdir</code>.</p></li>\n<li><p>No race conditions. Unlike the solutions that use <code>readdir</code> (via <code>-&gt;children</code> or <code>-&gt;iterator</code>), this solution doesn't suffer from a race condition.</p></li>\n<li><p>This solution also avoids the redundant <code>-d</code> check used by an earlier solution.</p></li>\n<li><p>This solution, unlike those before it, will handle a tree that's empty except for the directories to remove.</p></li>\n</ul>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "accepted_answer_id": 43401890, "answer_count": 3, "score": 2, "last_activity_date": 1492118423, "creation_date": 1492114737, "last_edit_date": 1492116722, "question_id": 43401051, "link": "https://stackoverflow.com/questions/43401051/how-to-remove-a-directory-and-its-empty-ancestors-with-perl", "title": "How to remove a directory and its empty ancestors with Perl?", "body": "<p>What is the Perl way of removing a directory and then all <strong><em>empty</em></strong> <strong>parent</strong> directories up to the first non-empty one? In other words, what could one use instead of:</p>\n\n<pre><code>system 'rmdir', '-p', $directory;\n</code></pre>\n\n<p>which, in starting with <code>d</code>, would first remove <code>d</code> and then <code>c</code>, and then <code>b</code>, but not <code>a</code>, since <code>a</code> would still contain <code>x</code>, like this:</p>\n\n<pre><code>a\na/b\na/b/c\na/b/c/d\na/x\n</code></pre>\n\n<p>resulting in</p>\n\n<pre><code>a\na/x\n</code></pre>\n\n<p>It's not the built-in <code>rmdir</code>, as it can only remove a <strong>single</strong> directory. (<a href=\"https://perldoc.perl.org/functions/rmdir.html\" rel=\"nofollow noreferrer\">doc</a>)</p>\n\n<p>It's not <code>finddepth ( sub {rmdir}, '.' )</code>, using <code>File::Find</code>, as it removes <strong>children</strong>, not parents. (<a href=\"http://duramecho.com/ComputerPrograms/DeleteEmptyDirectories/\" rel=\"nofollow noreferrer\">doc</a>)</p>\n\n<p>It's not the <code>remove_tree</code> function of the <code>File::Path</code> module either, since it not only removes children directories but <strong>files</strong> as well. (<a href=\"https://perldoc.perl.org/File/Path.html\" rel=\"nofollow noreferrer\">doc</a>)</p>\n\n<p>Notice, <code>remove_tree</code> and <code>finddepth</code> work in the opposite direction of Bash <code>rmdir --parent</code>.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 0, "creation_date": 1492113490, "post_id": 43400714, "comment_id": 73862083, "body": "What environment are you using the regex in (C#, F#, C++, bash, perl). There may be another solution that doesn&#39;t involve regex at all."}, {"owner": {"reputation": 35, "user_id": 7864116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9703a8b666e1b881f56f5844565e18e?s=128&d=identicon&r=PG&f=1", "display_name": "Karthick G", "link": "https://stackoverflow.com/users/7864116/karthick-g"}, "reply_to_user": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 1, "creation_date": 1492439258, "post_id": 43400714, "comment_id": 73962149, "body": "Hi msanford, its perl and also i found one more option to filter this:"}, {"owner": {"reputation": 35, "user_id": 7864116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9703a8b666e1b881f56f5844565e18e?s=128&d=identicon&r=PG&f=1", "display_name": "Karthick G", "link": "https://stackoverflow.com/users/7864116/karthick-g"}, "reply_to_user": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 0, "creation_date": 1492439267, "post_id": 43400714, "comment_id": 73962152, "body": "UTC\tmsg=.*[&quot;&#39;]\\s(.*?)[&quot;&#39;]"}], "answers": [{"comments": [{"owner": {"reputation": 3136, "user_id": 7557538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpca.jpg?s=128&g=1", "display_name": "Stephane Janicaud", "link": "https://stackoverflow.com/users/7557538/stephane-janicaud"}, "edited": false, "score": 0, "creation_date": 1492181326, "post_id": 43400823, "comment_id": 73886454, "body": "@karthick-g if you upvoted don&#39;t forget to accept answer in order to help other people : <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3136, "user_id": 7557538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpca.jpg?s=128&g=1", "display_name": "Stephane Janicaud", "link": "https://stackoverflow.com/users/7557538/stephane-janicaud"}, "is_accepted": true, "score": 1, "last_activity_date": 1492114618, "last_edit_date": 1492114618, "creation_date": 1492113779, "answer_id": 43400823, "question_id": 43400714, "link": "https://stackoverflow.com/questions/43400714/i-need-to-capture-the-action-status-within-apostrophe-symbol-using-regex/43400823#43400823", "title": "I need to capture the action status within apostrophe symbol using regex", "body": "<p>This one will only match what's inside last apostrophes : <code>(?&lt;=\\s').*?(?='\\.$)</code></p>\n\n<p><a href=\"https://regex101.com/r/VcVzRa/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>There are also other possibilities, for example :</p>\n\n<p>this one, result is in Group 1 : <code>'.*?'.*?'(.*?)'.$</code></p>\n\n<p><a href=\"https://regex101.com/r/oo2OW9/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>or this other one, result is also in Group 1 : <code>\\s'(.*?)'.$</code></p>\n\n<p><a href=\"https://regex101.com/r/VcVzRa/2\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 35, "user_id": 7864116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9703a8b666e1b881f56f5844565e18e?s=128&d=identicon&r=PG&f=1", "display_name": "Karthick G", "link": "https://stackoverflow.com/users/7864116/karthick-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 43400823, "answer_count": 1, "score": 1, "last_activity_date": 1492520161, "creation_date": 1492113338, "last_edit_date": 1492520161, "question_id": 43400714, "link": "https://stackoverflow.com/questions/43400714/i-need-to-capture-the-action-status-within-apostrophe-symbol-using-regex", "title": "I need to capture the action status within apostrophe symbol using regex", "body": "<p>I want to create custom property field as File Action was: and need to capture the file action result \" was Created by\" from below payload using regex. I have bit challenge to capture the \"was created by\" character from this payload using regex. </p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Payload:</p>\n\n<pre><code>UTC msg='c:\\program files\\test\\test.dll' was created by 'NT AUTHORITY\\SYSTEM'.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492098631, "post_id": 43396640, "comment_id": 73854275, "body": "That&#39;s not binary OR, it&#39;s an OR in a regular expression. Without seeing your real input, we don&#39;t know if your pattern works. Without <code>&#47;g</code> you will never get more than one match unless there are zero."}, {"owner": {"reputation": 63, "user_id": 5893493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1c2095d3185b739a729dc2b4c6fdc257?s=128&d=identicon&r=PG&f=1", "display_name": "Hukh", "link": "https://stackoverflow.com/users/5893493/hukh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492099793, "post_id": 43396640, "comment_id": 73854993, "body": "The input is big file with more than 1000 line. The file has exactly &quot;issue #&quot; and &quot;fix #&quot;."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492100161, "post_id": 43396640, "comment_id": 73855221, "body": "The size of the file doesn&#39;t really matter to us. You can include one line that you think should match, and one that shouldn&#39;t. Better yet, <a href=\"https://stackoverflow.com/posts/43396640/edit\">edit</a> your question and include the full program you&#39;ve written. As choroba below points out, this should work. So the bug is probably in the code we don&#39;t see."}, {"owner": {"reputation": 63, "user_id": 5893493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1c2095d3185b739a729dc2b4c6fdc257?s=128&d=identicon&r=PG&f=1", "display_name": "Hukh", "link": "https://stackoverflow.com/users/5893493/hukh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492100611, "post_id": 43396640, "comment_id": 73855477, "body": "I copy paste two lines form the file. Thank you for that."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492101001, "post_id": 43396640, "comment_id": 73855682, "body": "So we are building a git log parser to auto-close tickets or identify mentioned tickets. That&#39;s info you could have given us."}, {"owner": {"reputation": 63, "user_id": 5893493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1c2095d3185b739a729dc2b4c6fdc257?s=128&d=identicon&r=PG&f=1", "display_name": "Hukh", "link": "https://stackoverflow.com/users/5893493/hukh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1492101261, "post_id": 43396640, "comment_id": 73855825, "body": "I did not really understand your comment . But yes the file has part of git log, and I want to know how many issue and fix in it.  Is that different from normal string file?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1492101442, "post_id": 43396640, "comment_id": 73855911, "body": "There is no difference, but it helps to give context. Now please show your code."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 5893493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1c2095d3185b739a729dc2b4c6fdc257?s=128&d=identicon&r=PG&f=1", "display_name": "Hukh", "link": "https://stackoverflow.com/users/5893493/hukh"}, "edited": false, "score": 0, "creation_date": 1492100906, "post_id": 43396977, "comment_id": 73855639, "body": "Sorry, I mixed between them i meant the OR in regular expression. Thank you for help."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 63, "user_id": 5893493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1c2095d3185b739a729dc2b4c6fdc257?s=128&d=identicon&r=PG&f=1", "display_name": "Hukh", "link": "https://stackoverflow.com/users/5893493/hukh"}, "edited": false, "score": 2, "creation_date": 1492114898, "post_id": 43396977, "comment_id": 73862800, "body": "@Hukh: you&#39;ve accepted an answer which basically says that your original code should have worked. It might be helpful to anyone having similar problems in the future, if you were to explain why your code didn&#39;t work."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1492099492, "creation_date": 1492099492, "answer_id": 43396977, "question_id": 43396640, "link": "https://stackoverflow.com/questions/43396640/why-this-or-operator-not-working-in-perl/43396977#43396977", "title": "Why this OR operator not working in perl", "body": "<p>It works for me. It matches once per line as the <code>/g</code> wasn't given. Also, <code>/m</code> is useless as neither <code>^</code> nor <code>$</code> are used. <code>/i</code> makes <code>ISSUE #</code> match, too.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nwhile (&lt;DATA&gt;) {\n    say \"Matched $1\" if /(fix|issue)\\s*#/mi;\n}\n\n__DATA__\nfix #\nfix # fix #\n---\nissue #\nissue # issue #\n</code></pre>\n\n<p>Note that \"binary or\" is a different operator used outside of regular expressions:</p>\n\n<pre><code>say 4 | 8;  # 12\n</code></pre>\n\n<p><code>|</code> in a regex is called \"alternation\".</p>\n"}], "owner": {"reputation": 63, "user_id": 5893493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1c2095d3185b739a729dc2b4c6fdc257?s=128&d=identicon&r=PG&f=1", "display_name": "Hukh", "link": "https://stackoverflow.com/users/5893493/hukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 43396977, "answer_count": 1, "score": 0, "last_activity_date": 1492100972, "creation_date": 1492098461, "last_edit_date": 1492100972, "question_id": 43396640, "link": "https://stackoverflow.com/questions/43396640/why-this-or-operator-not-working-in-perl", "title": "Why this OR operator not working in perl", "body": "<p>I am trying to use Binary OR operator in perl to get some information from a file. I used this regular expression</p>\n\n<pre><code> /(fix|issue)\\s*#/mi\n</code></pre>\n\n<p>but it does not find any match. \nin the file there are 4 matches for 'fix #' and 3 match for 'issue #', and I got that right when using them separately without OR operator. </p>\n\n<pre><code>   /fix\\s*#/mi\n\n   /issue\\s*#/mi\n</code></pre>\n\n<p>So the OR suppose to return 7 matches, but it return nothing.</p>\n\n<p>These two lines are exactly in the file </p>\n\n<pre><code>Add test for the example in issue #142.\n\n Fix #1190\n</code></pre>\n\n<p>Am I doing that correct?</p>\n\n<p>Thanks for help</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 2, "creation_date": 1492097912, "post_id": 43396433, "comment_id": 73853845, "body": "Sorry, this is not how StackOverflow Works. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively. You must show us the code that isn&#39;t working and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 2, "creation_date": 1492103883, "post_id": 43396433, "comment_id": 73857174, "body": "Added the example, how you should ask next time.. ;)"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1492184690, "post_id": 43396433, "comment_id": 73888385, "body": "You might want to take a look at the Formatter Class section of the documentation. It appears to me the &quot;TRUE/FALSE&quot; is converted to Numeric type and treated as such. Providing a ValFmt method in the Formatter class may allow you to have it treated as a String instead. I have not tried this."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1492220537, "post_id": 43396433, "comment_id": 73901534, "body": "what platform are you running -- Windows or Linux?  My AciveState Perl did not locate a Spreadsheet::XLSX module via the PPM.  Are you intent on using Spreadsheet::XLSX or would another Perl module be ok?"}, {"owner": {"reputation": 75, "user_id": 7773733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b370c31cb262b2b15835fbcda16d7e4?s=128&d=identicon&r=PG&f=1", "display_name": "Shan Mugam", "link": "https://stackoverflow.com/users/7773733/shan-mugam"}, "edited": false, "score": 0, "creation_date": 1492241981, "post_id": 43396433, "comment_id": 73905554, "body": "We are running in Linux platform. Yes, we need a code on Spreadsheet::XLSX module only as we are running the entire script in Spreadsheet::XLSX module only."}], "owner": {"reputation": 75, "user_id": 7773733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b370c31cb262b2b15835fbcda16d7e4?s=128&d=identicon&r=PG&f=1", "display_name": "Shan Mugam", "link": "https://stackoverflow.com/users/7773733/shan-mugam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1492103576, "creation_date": 1492097809, "last_edit_date": 1492103576, "question_id": 43396433, "link": "https://stackoverflow.com/questions/43396433/excel-cell-value-true-false-is-being-converted-to-1-0-respectively-when-we-conve", "title": "Excel Cell value TRUE/FALSE is being Converted to 1/0 respectively when we convert the excel workbook to text file using perl script", "body": "<p>We have a requirement to convert the excel workbook to text. We are using the perl package \"Spreadsheet::XLSX\" to achieve this. In that, Excel Cell value \"TRUE\" is being changed to \"1\" in text, same way \"FALSE\" is changing to \"0\". Can someone please help how to write the cell value \"TRUE\" as \"TRUE\" &amp; \"FALSE\" AS \"FALSE\" in text file. Thank you in advise.</p>\n\n<p><strong>EDIT - added the demo</strong></p>\n\n<p>Demo spreadsheet:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nu4Y3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nu4Y3.png\" alt=\"demo true\"></a></p>\n\n<p><a href=\"https://docs.google.com/spreadsheets/d/1XtHCER3mSP_D0zwaCdoc8XnfGHGaS60foaDc2Q5TEbs/edit?usp=sharing\" rel=\"nofollow noreferrer\">https://docs.google.com/spreadsheets/d/1XtHCER3mSP_D0zwaCdoc8XnfGHGaS60foaDc2Q5TEbs/edit?usp=sharing</a></p>\n\n<p>Choose File->Download As->Excel xlsx</p>\n\n<p>Tried this code (it is simple, without any errorhandling):</p>\n\n<pre><code>use 5.014;\nuse warnings;\n\nuse Spreadsheet::XLSX;\n\nmy $workbook = Spreadsheet::XLSX -&gt; new ('true.xlsx');\nmy $worksheet = $workbook-&gt;worksheet(0);\ndump_cell($worksheet, $_, 0) for (0..1);\n\nsub dump_cell {\n    my($sheet, $row, $col) = @_;\n    my $cell = $sheet-&gt;get_cell($row, $col);\n    say \"Row, Col    = ($row, $col)\";\n    say \"Value       = \", $cell-&gt;value();\n    say \"Unformatted = \", $cell-&gt;unformatted();\n    say \"Type        = \", $cell-&gt;type();\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Row, Col    = (0, 0)\nValue       = 1\nUnformatted = 1\nType        = Numeric\nRow, Col    = (1, 0)\nValue       = 1\nUnformatted = 1\nType        = Numeric\n</code></pre>\n\n<p>It shows <code>1</code> but the spreasheet contains <code>TRUE</code>.</p>\n"}, {"tags": ["regex", "perl", "pcre", "regex-group"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492094309, "post_id": 43395133, "comment_id": 73851346, "body": "What <i>should</i> your output look like, given that input?"}, {"owner": {"reputation": 25, "user_id": 7736417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3341889021681379d9e914cd10f7b6b?s=128&d=identicon&r=PG&f=1", "display_name": "CGhost", "link": "https://stackoverflow.com/users/7736417/cghost"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492094980, "post_id": 43395133, "comment_id": 73851869, "body": "Post edited to show what the output should look like."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492095269, "post_id": 43395268, "comment_id": 73852077, "body": "Yep. Edited it again, now I&#39;ve got your desired output. Hopefully that does the trick?"}, {"owner": {"reputation": 25, "user_id": 7736417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3341889021681379d9e914cd10f7b6b?s=128&d=identicon&r=PG&f=1", "display_name": "CGhost", "link": "https://stackoverflow.com/users/7736417/cghost"}, "edited": false, "score": 0, "creation_date": 1492104977, "post_id": 43395268, "comment_id": 73857738, "body": "I was having some trouble with this for a minute since I had to adapt this to meet my syntax posted above (since this is a small portion of a larger script), which meant keeping the surrounding foreach loop instead of a while loop. I was stuck for a bit, but eventually I changed my if statement to a foreach statement and it worked perfectly. For future reference, does that mean I can&#39;t match/capture the same string multiple times in a line within the same if statement? That I need to use a foreach or while for &#39;plural&#39; operations?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1492095220, "last_edit_date": 1492095220, "creation_date": 1492094486, "answer_id": 43395268, "question_id": 43395133, "link": "https://stackoverflow.com/questions/43395133/perl-capture-and-substitute-multiple-matches-in-an-if-statement/43395268#43395268", "title": "Perl - Capture and Substitute Multiple Matches in an If Statement", "body": "<p>The root of your problem is here:</p>\n\n<pre><code>/\\n(-\\d+(\\.\\d+)?)\\n/\\n -9 \\\"Missing\\\"\\n/g;\n</code></pre>\n\n<p>Because you prefix <em>and</em> suffix your pattern with <code>\\n</code> it means your <em>second</em> \"\\n\" is consumed by the previous match - so it won't match twice.</p>\n\n<p>Change that to </p>\n\n<pre><code>/\\n(-\\d+(\\.\\d+)?)(?=\\n)/\\n -9 \\\"Missing\\\"\\n/g;\n</code></pre>\n\n<p>(or probably better just <code>$</code>) and it should be ok. </p>\n\n<p>E.g.:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = '';\n\nwhile ( &lt;DATA&gt; ) {\n   s/\\n(-\\d+(\\.\\d+)?)(?=\\n)/\\n -9 \\\"Missing\\\"/g;\n   print;\n}\n\n__DATA__\nVALUE LABELS V10\n-1\n 1 \"Yes\".\n\nVALUE LABELS V11\n-50.00\n-33.33\n -10 \"Don't Know\".\n</code></pre>\n\n<p>Your 'push' line:</p>\n\n<pre><code>       push my @negname, $label_name;\n</code></pre>\n\n<p>Isn't going to be doing much though - probably best to do without that. I would also suggest you set the record separator, because that means you can work record by record.</p>\n\n<p><code>$/</code> set to <code>''</code> will work in \"paragraph mode\" - blank line separated. </p>\n\n<p>Maybe something like this?:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %recode; \n\nlocal $/ = '';\n\nwhile ( &lt;DATA&gt; ) {\n   my ( $label_name ) = m/VALUE LABELS (\\S+)/;\n   my @recode = m/^\\s*(\\-[\\d\\.]+)$/gm;\n   $recode{$label_name} = \\@recode;\n\n   s/\\n(-\\d+(\\.\\d+)?)(?=\\n)/\\n -9 \\\"Missing\\\"/g;\n   print;\n}\n\nprint \"\\n\\n\";\n\nforeach my $key ( sort keys %recode ) {\n   foreach my $value ( @{$recode{$key}} ) {\n     print \"RECODE $key ( $value = -9 )\\n\";\n   }\n}\n\n__DATA__\nVALUE LABELS V10\n-1\n 1 \"Yes\".\n\nVALUE LABELS V11\n-50.00\n-33.33\n -10 \"Don't Know\".\n</code></pre>\n\n<p>This gives output of:</p>\n\n<pre><code>VALUE LABELS V10\n -9 \"Missing\"\n 1 \"Yes\".\n\nVALUE LABELS V11\n -9 \"Missing\"\n -9 \"Missing\"\n -10 \"Don't Know\".\n\nRECODE V10 ( -1 = -9 )\nRECODE V11 ( -50.00 = -9 )\nRECODE V11 ( -33.33 = -9 )\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7736417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3341889021681379d9e914cd10f7b6b?s=128&d=identicon&r=PG&f=1", "display_name": "CGhost", "link": "https://stackoverflow.com/users/7736417/cghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 43395268, "answer_count": 1, "score": 0, "last_activity_date": 1492095220, "creation_date": 1492094116, "last_edit_date": 1492094955, "question_id": 43395133, "link": "https://stackoverflow.com/questions/43395133/perl-capture-and-substitute-multiple-matches-in-an-if-statement", "title": "Perl - Capture and Substitute Multiple Matches in an If Statement", "body": "<p>I've been building a script to take some output from IBM's SPSS Statistics package and turn it into SPSS input syntax. I'm currently having the following problem that I can't seem to figure out. I've got some text that looks like the following:</p>\n\n<pre><code>VALUE LABELS V10\n-1\n 1 \"Yes\".\n\nVALUE LABELS V11\n-50.00\n-33.33\n -10 \"Don't Know\".\n</code></pre>\n\n<p>I want to replace the negative values that aren't followed by labels in quotations and that don't have a space indentation with a label that says ' -9 \"Missing\"', and then I want to capture each of these negative values in a hash along with the variable name (i.e., V10, V11) so that I can print them in a recode statement later on. I'm reading this file through perl, splitting the \"lines\" by the literal period followed by a new line (which signifies the end of a command in SPSS). However, the code I've come up with so far is only replacing and capturing one negative value match per \"line\", and I'm not sure what I'm doing wrong. My current code looks like this:</p>\n\n<pre><code>my %negmiss;\nmy @lines = split(/(\\.\\n)/,$_);\nforeach my $line (@lines) {\n    my $modline = $line;\n    if ($line =~ /VALUE LABELS\\s(\\S+)/g) {\n       my $label_name = $1;\n       if ($line =~ /\\n(-\\d+(\\.\\d+)?)\\n/g) {\n           $modline =~ /\\n(-\\d+(\\.\\d+)?)\\n/\\n -9 \\\"Missing\\\"\\n/g;\n           push my @negname, $label_name;\n           push @{$negmiss{$label_name}}, $1;\n       }\n    }\nprint $modline;\n}\nforeach (@negname) {\n    print \"RECODE $_ (@{ $negmiss{$_} } = -9\\.\\n\";\n}\n</code></pre>\n\n<p>It partially works, but again, it's only substituting and capturing one negative value per each of the \"lines\", so my output looks like this:</p>\n\n<pre><code>VALUE LABELS V10\n -9 \"Missing\"\n 1 \"Yes\".\n\nVALUE LABELS V11\n -9 \"Missing\"\n-33.33\n -10 \"Don't Know\".\n\nRECODE V10 (-1 = -9).\nRECODE V11 (-50.00 = -9).\n</code></pre>\n\n<p>How can I capture and replace both the -50.00 and the -33.33 for the V11 \"line\"?</p>\n\n<p>Edit: I want my output to look like this:</p>\n\n<pre><code>VALUE LABELS V10\n -9 \"Missing\"\n 1 \"Yes\".\n\nVALUE LABELS V11\n -9 \"Missing\"\n -9 \"Missing\"\n -10 \"Don't Know\".\n\nRECODE V10 (-1 = -9).\nRECODE V11 (-50.00 = -9).\nRECODE V11 (-33.33 = -9).\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1492093580, "post_id": 43394880, "comment_id": 73850813, "body": "If you can do it in a perl or bash script, why do you want to do it in sed or awk? And if you did... it&#39;d probably help elict good answers to show what you&#39;ve tried so far."}, {"owner": {"reputation": 235, "user_id": 652448, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bjNDA.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/652448/ravi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492095006, "post_id": 43394880, "comment_id": 73851887, "body": "@Sobrique I just wanted to learn sed/awk way of doing these things. and also i have been facing instances where i have to write perl scripts for smallest of tasks , I think there is definitely value in learning sed/awk which will save me a lot of time. anyway, please see the edit above , i have updated the question with the perl script"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492095429, "post_id": 43394880, "comment_id": 73852187, "body": "I just don&#39;t agree actually. <code>perl</code> is a programming language, and can do everything just fine."}, {"owner": {"reputation": 235, "user_id": 652448, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bjNDA.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/652448/ravi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492095665, "post_id": 43394880, "comment_id": 73852362, "body": "Not saying perl is inadequate, It&#39;s my handicap to not be able to come up with scripts as quickly in perl. I might be completely wrong in assuming that sed/awk will speed things up for me but that is something i will have to   try and conclude. Thanks for the input."}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 652448, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bjNDA.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/652448/ravi"}, "edited": false, "score": 0, "creation_date": 1492095822, "post_id": 43395346, "comment_id": 73852465, "body": "are NR FNR  ORS special keywords in awk?"}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "reply_to_user": {"reputation": 235, "user_id": 652448, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bjNDA.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/652448/ravi"}, "edited": false, "score": 1, "creation_date": 1492103485, "post_id": 43395346, "comment_id": 73856978, "body": "@Ravi Yes. <code>NR</code> is the (global) number of records as opposed to <code>FNR</code>, current file&#39;s number of records and <code>ORS</code> is the output record separator; usually a record ends in a newline but necessarily."}], "tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": false, "score": 2, "last_activity_date": 1492095194, "last_edit_date": 1492095194, "creation_date": 1492094702, "answer_id": 43395346, "question_id": 43394880, "link": "https://stackoverflow.com/questions/43394880/token-substitution-using-values-from-file-and-create-multiple-files-one-for-on/43395346#43395346", "title": "token substitution using values from file and create multiple files , one for one substitution each", "body": "<p>In awk:</p>\n\n<pre><code>$ awk '\nNR==FNR {                  # for the data file\n    b=b (NR==1?\"\":ORS) $0  # buffer the records from the data file\n    next                   # next record\n}\n{\n    close(file)            # close previous file\n    file=\"file_\" $1        # name current file \n    t=b                    # t is for tmp, b for buffer, baby\n    sub(/::tok::/,$1,t)    # replace token with the key\n    print t &gt; file         # dump the t to file\n}' file2 file1             # mind the order\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2682, "user_id": 6404949, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-ksf1VmNZnPA/AAAAAAAAAAI/AAAAAAAAExQ/uleAWJ-xbJg/photo.jpg?sz=128", "display_name": "VIPIN KUMAR", "link": "https://stackoverflow.com/users/6404949/vipin-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1492101988, "creation_date": 1492101988, "answer_id": 43397676, "question_id": 43394880, "link": "https://stackoverflow.com/questions/43394880/token-substitution-using-values-from-file-and-create-multiple-files-one-for-on/43397676#43397676", "title": "token substitution using values from file and create multiple files , one for one substitution each", "body": "<p>Try this - </p>\n\n<pre><code>$head f?\n==&gt; f1 &lt;==\nkey1\nkey2\nkey3\n\n==&gt; f2 &lt;==\nsome useful or useless text\n::tok::\nsome more useful or useless text\n</code></pre>\n\n<hr>\n\n<pre><code>$cat script.sh\n#!/bin/bash\nfile1=$1\nfile2=$2\nwhile IFS= read line\ndo\nawk -v line=\"$line\"  '{gsub(/::tok::/,line); print &gt; \"fil_\"line }'  $file2\ndone &lt; $file1\n</code></pre>\n\n<hr>\n\n<pre><code>$./script.sh f1 f2\n$head fil_key?\n==&gt; fil_key1 &lt;==\nsome useful or useless text\nkey1\nsome more useful or useless text\n\n==&gt; fil_key2 &lt;==\nsome useful or useless text\nkey2\nsome more useful or useless text\n\n==&gt; fil_key3 &lt;==\nsome useful or useless text\nkey3\nsome more useful or useless text\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 652448, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bjNDA.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/652448/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492101988, "creation_date": 1492093492, "last_edit_date": 1492094766, "question_id": 43394880, "link": "https://stackoverflow.com/questions/43394880/token-substitution-using-values-from-file-and-create-multiple-files-one-for-on", "title": "token substitution using values from file and create multiple files , one for one substitution each", "body": "<p>I have two files : </p>\n\n<p>file1 : </p>\n\n<pre><code>key1\nkey2\nkey3\n</code></pre>\n\n<p>file2: </p>\n\n<pre><code>some useful or useless text\n::tok::\nsome more useful or useless text\n</code></pre>\n\n<p>I want to create multiple files :</p>\n\n<p>file_key1:</p>\n\n<pre><code>some useful or useless text\nkey1\nsome more useful or useless text\n</code></pre>\n\n<p>file_key2:</p>\n\n<pre><code>some useful or useless text\nkey2\nsome more useful or useless text\n</code></pre>\n\n<p>file_key3:</p>\n\n<pre><code>some useful or useless text\nkey3\nsome more useful or useless text\n</code></pre>\n\n<p>I am extreme noob when it comes to sed or awk. I can do the above using a perl script or bash script. Is there a way to do it using sed or awk?</p>\n\n<p>Edit : as demanded the perl script i am using to do the above task</p>\n\n<pre><code>$newFileCount= 1;\n\nopen IFH,$filename || die \"cannot open the file\";\n\nsub CreateNewFiles{\n\n        my ($cid) = @_;\n        open TIFH, $templateFile; # this is the template file file2 from the above problem description\n        open OFH,\"&gt;$templateFileTemp\";\n        while(&lt;TIFH&gt;) {\n                s/::tok::/$cid/g;\n                print OFH $_;\n        }\n        close TIFH;\n        close OFH;\n        move($templateFileTemp,$newFilePrefix.$newFileCount.\".ext\"); # using a library File::Copy for move operation\n\n}\nwhile(&lt;IFH&gt;) {\n        chomp($_);\n        $newFileCount= $newFileCount + 1;\n        CreateNewFiles($_);\n\n}\n</code></pre>\n"}, {"tags": ["sql", "perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 3353, "user_id": 164497, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d05b698f55a4c81a7bba6f307a0ea4db?s=128&d=identicon&r=PG", "display_name": "mouthpiec", "link": "https://stackoverflow.com/users/164497/mouthpiec"}, "edited": false, "score": 0, "creation_date": 1492085728, "post_id": 43391990, "comment_id": 73844948, "body": "thanks, understood ... but I would also need to include the single quotes. how can i add those?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3353, "user_id": 164497, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d05b698f55a4c81a7bba6f307a0ea4db?s=128&d=identicon&r=PG", "display_name": "mouthpiec", "link": "https://stackoverflow.com/users/164497/mouthpiec"}, "edited": false, "score": 1, "creation_date": 1492085857, "post_id": 43391990, "comment_id": 73845032, "body": "@mouthpiec no, you do not need to include the quotes. DBI does that for you. That&#39;s my point. ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3353, "user_id": 164497, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d05b698f55a4c81a7bba6f307a0ea4db?s=128&d=identicon&r=PG", "display_name": "mouthpiec", "link": "https://stackoverflow.com/users/164497/mouthpiec"}, "edited": false, "score": 1, "creation_date": 1492086190, "post_id": 43391990, "comment_id": 73845273, "body": "@mouth If you want to look at what DBI is doing, you can start your program with the environment variable <code>DBI_TRACE=3|SQL</code> or set <code>$check_name-&gt;{TraceLevel} = &quot;3|SQL|&quot;;</code> . Also see <a href=\"https://metacpan.org/pod/DBI#DBI_TRACE\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBI#DBI_TRACE</a> and <a href=\"https://metacpan.org/pod/DBI#TRACING\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBI#TRACING</a>."}, {"owner": {"reputation": 3353, "user_id": 164497, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d05b698f55a4c81a7bba6f307a0ea4db?s=128&d=identicon&r=PG", "display_name": "mouthpiec", "link": "https://stackoverflow.com/users/164497/mouthpiec"}, "edited": false, "score": 0, "creation_date": 1492086336, "post_id": 43391990, "comment_id": 73845373, "body": "i think I could have also added the % in the part $my_name = &quot;Jo&quot; . &#39;%&#39;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3353, "user_id": 164497, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d05b698f55a4c81a7bba6f307a0ea4db?s=128&d=identicon&r=PG", "display_name": "mouthpiec", "link": "https://stackoverflow.com/users/164497/mouthpiec"}, "edited": false, "score": 0, "creation_date": 1492086374, "post_id": 43391990, "comment_id": 73845403, "body": "@mouthpiec yes, obviously. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3353, "user_id": 164497, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d05b698f55a4c81a7bba6f307a0ea4db?s=128&d=identicon&r=PG", "display_name": "mouthpiec", "link": "https://stackoverflow.com/users/164497/mouthpiec"}, "edited": false, "score": 0, "creation_date": 1492086630, "post_id": 43391990, "comment_id": 73845606, "body": "@mouthpiec on the other hand, if your input is not variable, why use a variable at all? If the query is always the same, you don&#39;t need to use a placeholder. <code>SELECT tac FROM lte_models WHERE tac LIKE &#39;JO%&#39;</code> will work just as well. What I&#39;m trying to say is that changing the input (the <code>&quot;Jo&quot;</code>) is a valid solution, but probably it&#39;s better to just append the <code>%</code> when you pass it to DBI, because you might need it somewhere else in an unaltered form."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1570120947, "post_id": 43391990, "comment_id": 102822333, "body": "This answer is correct, but the full truth is that <code>LIKE</code> is somehow difficult to handle because the match pattern itself might already contain special characters which the database treats specially after <code>LIKE</code>. As an example, imagine that <code>$my_name</code> already contains a <code>%</code> character. The DBI driver will <i>not</i> magically quote this for you."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1492085467, "creation_date": 1492085467, "answer_id": 43391990, "question_id": 43391963, "link": "https://stackoverflow.com/questions/43391963/sql-like-with-query-for-text-in-perl/43391990#43391990", "title": "SQL LIKE with % query for text in Perl", "body": "<p>You need to include the <code>%</code> in your parameter. Otherwise you'll get additional quoting as DBI handles that for you.</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare( \"SELECT tac FROM lte_modems WHERE tac LIKE ?\" );\n$sth-&gt;execute( $my_name . '%' );\n</code></pre>\n\n<p>The trick is really to always let DBI do all the quoting and do none of it yourself. DBI doesn't care if the placeholder <code>?</code> is after an equals <code>=</code>, a <code>LIKE</code> or a <code>REGEXP</code> or something else. It escapes quotes properly and adds quotes if necessary. You don't want to interfere with that at all.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1492095514, "creation_date": 1492095514, "answer_id": 43395636, "question_id": 43391963, "link": "https://stackoverflow.com/questions/43391963/sql-like-with-query-for-text-in-perl/43395636#43395636", "title": "SQL LIKE with % query for text in Perl", "body": "<p>You quoted the <code>?</code>, turning it from a placeholder into a string. Use</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"SELECT tac FROM lte_modems WHERE tac LIKE ?\");\n$sth-&gt;execute($my_name . '%');\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"SELECT tac FROM lte_modems WHERE tac LIKE CONCAT(?, '%')\");\n</code></pre>\n"}], "owner": {"reputation": 3353, "user_id": 164497, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d05b698f55a4c81a7bba6f307a0ea4db?s=128&d=identicon&r=PG", "display_name": "mouthpiec", "link": "https://stackoverflow.com/users/164497/mouthpiec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "accepted_answer_id": 43391990, "answer_count": 2, "score": 3, "last_activity_date": 1492095514, "creation_date": 1492085364, "last_edit_date": 1492085547, "question_id": 43391963, "link": "https://stackoverflow.com/questions/43391963/sql-like-with-query-for-text-in-perl", "title": "SQL LIKE with % query for text in Perl", "body": "<p>I have the following piece of code:</p>\n\n<pre><code>$query = \"SELECT tac FROM lte_modems WHERE tac = ?\";\n$check_name = $dbh-&gt;prepare($query);\n$my_name = \"Jo\"         \n$check_name-&gt;execute($my_name);\nmy @result = $check_name-&gt;fetchrow_array();\n</code></pre>\n\n<p>which works perfectly fine.\nI would like to change the SQL query to get back names starting with \"Jo\":\nie my SQL query should be </p>\n\n<pre><code>   $query = \"SELECT tac FROM lte_modems WHERE tac LIKE '?%'\";\n</code></pre>\n\n<p>but this is not working out. any help pls? maybe I need to escape some characters?</p>\n\n<p>thanks in advance</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1492091106, "post_id": 43391388, "comment_id": 73848983, "body": "Please show what you have written and explain in detail what problems you have with it."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1492084132, "post_id": 43391457, "comment_id": 73843751, "body": "It&#39;s good that you are trying to answer your own question, but at least actually answer the question you asked. You had <code>5</code> in the question, and you said <i>less than</i>. Now you&#39;re showing <code>9</code> and lesser-equal. That&#39;s not the right answer. Also, please <a href=\"https://stackoverflow.com/posts/43391457/edit\">edit</a> and use code-formatting and add an explanation of why this answers the question and how it works. Code-only answers are frowned upon."}], "tags": [], "owner": {"reputation": 71, "user_id": 4600161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8b0fe14fa6f3f490a15e4aaea8d3f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Bose", "link": "https://stackoverflow.com/users/4600161/kaushik-bose"}, "is_accepted": false, "score": -4, "last_activity_date": 1492410181, "last_edit_date": 1492410181, "creation_date": 1492083970, "answer_id": 43391457, "question_id": 43391388, "link": "https://stackoverflow.com/questions/43391388/how-to-remove-elements-from-array-in-perl-less-than-a-number-in-best-possible-wa/43391457#43391457", "title": "How to remove elements from Array in Perl less than a number in best possible way", "body": "<p>$cutOut = 5;</p>\n\n<p>@Array = grep {$_ &lt;= $cutOut} @Array ;</p>\n"}, {"comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1492093021, "post_id": 43391461, "comment_id": 73850390, "body": "<a href=\"https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it\" rel=\"nofollow noreferrer\">TIMTOWTDI</a> :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1492083978, "creation_date": 1492083978, "answer_id": 43391461, "question_id": 43391388, "link": "https://stackoverflow.com/questions/43391388/how-to-remove-elements-from-array-in-perl-less-than-a-number-in-best-possible-wa/43391461#43391461", "title": "How to remove elements from Array in Perl less than a number in best possible way", "body": "<p>There is no <em>best way</em>, because that depends on what you like. Do you want it to be short? Easy to read? Easy to understand for the new guy?</p>\n\n<p>There is more than one way in Perl though.</p>\n\n<p>The most concise one is probably to use <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\"><code>grep</code></a>.</p>\n\n<pre><code>@Array = grep { $_ &lt; 5 } @Array;\n</code></pre>\n\n<p>If you think that's too weird and the maintenance guy will not understand it, write your own loop.</p>\n"}], "owner": {"reputation": 71, "user_id": 4600161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8b0fe14fa6f3f490a15e4aaea8d3f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Bose", "link": "https://stackoverflow.com/users/4600161/kaushik-bose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 43391461, "answer_count": 2, "score": -4, "last_activity_date": 1492410181, "creation_date": 1492083777, "question_id": 43391388, "link": "https://stackoverflow.com/questions/43391388/how-to-remove-elements-from-array-in-perl-less-than-a-number-in-best-possible-wa", "title": "How to remove elements from Array in Perl less than a number in best possible way", "body": "<p>Input Array : @Array = (1,2,3,4,3,4,5,6,7,8,9,9,100)</p>\n\n<p>Threashold : 5</p>\n\n<p>Output Array : @Array = (5,6,7,8,9,9,100)</p>\n"}, {"tags": ["perl", "hash", "merge"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1492081120, "post_id": 43390245, "comment_id": 73841569, "body": "What if the values are different? For instance, <code>$h1{k1}{a} eq &#39;a1&#39;</code> while <code>$h2{k1}{a} eq &#39;a9&#39;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492081764, "post_id": 43390245, "comment_id": 73841996, "body": "See also <a href=\"http://stackoverflow.com/q/26547424/2173773\">Merge hashes with arrays with Hash::Merge</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492082054, "post_id": 43390245, "comment_id": 73842229, "body": "You need to put the sub hashes in braces not parenthesis"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1492092018, "post_id": 43390245, "comment_id": 73849619, "body": "I&#39;m also for the usage of the Hash::Merge. Here are already developed (and debugged) modules. They saves time. Much time..."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1492083403, "last_edit_date": 1492083403, "creation_date": 1492083101, "answer_id": 43391145, "question_id": 43390245, "link": "https://stackoverflow.com/questions/43390245/merging-hashes-containing-common-keys-and-values-perl/43391145#43391145", "title": "Merging hashes containing common keys and values, perl", "body": "<p>You can try something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n$Data::Dumper::Terse = 1;\n\nmy %h1 = (\n    k1 =&gt; {a =&gt; \"a1\",\n           b =&gt; \"b1\"},\n    k2 =&gt; {a =&gt; \"a2\",\n           b =&gt; \"b2\"},\n    k3 =&gt; {a =&gt; \"a3\",\n           b =&gt; \"b3\"},\n    k4 =&gt; {a =&gt; \"a4\",\n           b =&gt; \"b4\"}\n);\nmy %h2 = (\n    k2 =&gt; {c =&gt; \"c2\",\n           b =&gt; \"b2\"},\n    k3 =&gt; {c =&gt; \"c3\",\n           b =&gt; \"b3\"},\n    k4 =&gt; {c =&gt; \"c4\",\n           b =&gt; \"b\"}\n);\n\nmy $h3 = merge( \\%h1, \\%h2 );\nprint Dumper( $h3 );\n\nsub merge {\n    my ( $h1, $h2 ) = @_;\n\n    my @keys = keys %{ {map {$_ =&gt; 1} keys %$h1, keys %$h2} };\n    my @sub_keys = keys %{ {map {$_ =&gt; 1} map { keys %{ $_ } } values %$h1, values %$h2} };\n\n    my %h;\n    for my $k1 (@keys) {\n        for my $k2 (@sub_keys) {\n            $h{$k1}{$k2} = $h1-&gt;{$k1}{$k2} // $h2-&gt;{$k1}{$k2} // \"0\";\n        }\n    }\n    return \\%h;\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>{      \n  'k1' =&gt; {\n            'b' =&gt; 'b1',\n            'c' =&gt; '0',\n            'a' =&gt; 'a1'\n          },\n  'k2' =&gt; {\n            'a' =&gt; 'a2',\n            'b' =&gt; 'b2',\n            'c' =&gt; 'c2'\n          },\n  'k3' =&gt; {\n            'c' =&gt; 'c3',\n            'b' =&gt; 'b3',\n            'a' =&gt; 'a3'\n          },\n  'k4' =&gt; {\n            'a' =&gt; 'a4',\n            'c' =&gt; 'c4',\n            'b' =&gt; 'b4'\n          }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": -1, "last_activity_date": 1492093075, "last_edit_date": 1492093075, "creation_date": 1492087932, "answer_id": 43392872, "question_id": 43390245, "link": "https://stackoverflow.com/questions/43390245/merging-hashes-containing-common-keys-and-values-perl/43392872#43392872", "title": "Merging hashes containing common keys and values, perl", "body": "<p>Try this</p>\n\n<pre><code>my %h3;\nfor my $k1 (keys %h1)\n{\n\n     $h3{$k1} = ($h2{$k1})?\\(%{$h1{$k1}},%{$h2{$k1}}):\\%{$h1{$k1}};\n     delete $h2{$k1};   \n}\n\nfor my $k2 (keys %h2)\n{\n    $h3{$k2} = \\%{$h2{$k2}};\n}\n\nprint Dumper \\%h3;\n</code></pre>\n\n<p><strong>Note:</strong> <code>%h2</code> keys are deleted. If you want <code>%h2</code> value, please make a copy before looping</p>\n"}], "owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547649633, "creation_date": 1492080553, "last_edit_date": 1547649633, "question_id": 43390245, "link": "https://stackoverflow.com/questions/43390245/merging-hashes-containing-common-keys-and-values-perl", "title": "Merging hashes containing common keys and values, perl", "body": "<p>For example, we have two hashes. We don't know their size, but we know that they have common data</p>\n\n<pre><code>%h1 = (\n    k1 =&gt; (a =&gt; \"a1\",\n           b =&gt; \"b1\"),\n    k2 =&gt; (a =&gt; \"a2\",\n           b =&gt; \"b2\")\n    k3 =&gt; (a =&gt; \"a3\",\n           b =&gt; \"b3\"),\n    k4 =&gt; (a =&gt; \"a4\",\n           b =&gt; \"b4\")\n);\n%h2 = (\n    k2 =&gt; (c =&gt; \"c2\",\n           b =&gt; \"b2\"),\n    k3 =&gt; (c =&gt; \"c3\",\n           b =&gt; \"b3\")\n    k4 =&gt; (c =&gt; \"c4\",\n           b =&gt; \"b\")\n)\n</code></pre>\n\n<p>How to merge them to get something like this?\nNote, that exact keys are unknown, but has common keys-values.</p>\n\n<pre><code>%h3 = (\n        k1 =&gt; (a =&gt; \"a1\",\n               b =&gt; \"b1\",\n               c =&gt; \"0\"),\n        k2 =&gt; (a =&gt; \"a2\",\n               b =&gt; \"b2\",\n               c =&gt; \"c2\"),\n        k3 =&gt; (a =&gt; \"a3\",\n               b =&gt; \"b3\",\n               c =&gt; \"c3\"),\n        k4 =&gt; (a =&gt; \"a4\",\n               b =&gt; \"b4\",\n               c =&gt; \"c4\")\n    )\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 1, "creation_date": 1492079549, "post_id": 43389118, "comment_id": 73840503, "body": "show the code you have tried"}, {"owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1492085439, "post_id": 43389118, "comment_id": 73844731, "body": "I wrote for this: opendir(DH,$ISF_dir); my @files = readdir(DH); closedir(DH);  foreach my $file (@files) { \t\tnext if($file =~ /^\\.$/); \t\tnext if($file =~ /^\\.\\.$/); \t\tprint &quot;$file\\n&quot;; \t\t \t\tif (-d $file){                  # is this a directory?            \t\t\t print &quot;\\n1\\n&quot;;         \t\t} }  But it was never detecting the folders as directories."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1492087275, "post_id": 43389118, "comment_id": 73846087, "body": "put it in the post, not a comment"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1492080204, "last_edit_date": 1492080204, "creation_date": 1492078240, "answer_id": 43389428, "question_id": 43389118, "link": "https://stackoverflow.com/questions/43389118/multiple-level-iteration-inside-folder-to-find-all-the-text-files-on-windows/43389428#43389428", "title": "Multiple level iteration inside folder to find all the text files on Windows", "body": "<p>Use the <code>File::Find</code> module to do it.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse File::Find 'find';\n\nmy @files;\n\nfind(sub {\n    push @files, $File::Find::name if -f and /\\.txt$/i;\n}, 'C:\\A');\n\nprint \"$_\\n\" for @files;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1492080071, "last_edit_date": 1492080071, "creation_date": 1492079234, "answer_id": 43389788, "question_id": 43389118, "link": "https://stackoverflow.com/questions/43389118/multiple-level-iteration-inside-folder-to-find-all-the-text-files-on-windows/43389788#43389788", "title": "Multiple level iteration inside folder to find all the text files on Windows", "body": "<p>I'd use <a href=\"http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow noreferrer\"><code>File::Find::Rule</code></a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse File::Find::Rule;\n\nmy @files = File::Find::Rule -&gt; file() \n                             -&gt; name('sample*.txt')\n                             -&gt; in ( 'C:\\\\A' );\n\nforeach my $file ( @files ) {\n   print \"Found: $file\\n\";\n   #process it here. \n}\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1492124497, "creation_date": 1492077470, "last_edit_date": 1492124497, "question_id": 43389118, "link": "https://stackoverflow.com/questions/43389118/multiple-level-iteration-inside-folder-to-find-all-the-text-files-on-windows", "title": "Multiple level iteration inside folder to find all the text files on Windows", "body": "<p>I have a scenario where I need to loop through multiple level directories to find text files.</p>\n\n<p>Say, I start from the folder <code>C:\\A</code> and then I want to read all the text files inside it. But they are not placed at same level.</p>\n\n<p>Some text files are arranged at <code>C:\\A\\A1\\sample1.txt</code></p>\n\n<p>Some as <code>C:\\A\\sample2.txt</code></p>\n\n<p>Some as <code>C:\\A\\A2\\A3\\sample.txt</code></p>\n\n<p>I am able to loop inside the folder A which returns me <code>A1</code> and <code>A2</code>, but I wanted to know is there a way it would iterate automatically to every level and return me the text files along with its path.\nance!</p>\n"}, {"tags": ["perl", "mojolicious"], "owner": {"reputation": 827, "user_id": 3353752, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2LunI.jpg?s=128&g=1", "display_name": "dipl0", "link": "https://stackoverflow.com/users/3353752/dipl0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1492080886, "creation_date": 1492074944, "last_edit_date": 1492080886, "question_id": 43388172, "link": "https://stackoverflow.com/questions/43388172/mojolicious-return-flow-dependent-on-values", "title": "Mojolicious - return flow dependent on values", "body": "<p>How would I go about if the value isn't a number (as in the <code>host_id</code> is invalid)? At present it just returns the <code>not_found</code> page instead of executing the <code>get_host_id</code> function.</p>\n\n<p>The ideal behaviour of the function is that, if it receives a number it will execute the first part of the if statement but if it is say a string it will return the <code>not_found</code> page.</p>\n\n<pre><code>sub get_host_id {\n    my $self = shift;\n    my $host_id = $self-&gt;stash('host_id');\n\n    if ( $RE{num}{int}-&gt;matches($host_id) ) {\n        my $hostid = $host_id = $self-&gt;hosts-&gt;get_host_id($host_id);\n        return $self;\n    }\n    else{\n        return $self-&gt;redirect_to('/not_found');\n    }\n</code></pre>\n"}, {"tags": ["perl", "unix", "ssh", "openssh", "remote-host"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1492069526, "post_id": 43386250, "comment_id": 73834129, "body": "What problem you are having?"}, {"owner": {"reputation": 85, "user_id": 7854056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d75dfefc367145352edc4341c08a4025?s=128&d=identicon&r=PG&f=1", "display_name": "emma", "link": "https://stackoverflow.com/users/7854056/emma"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1492069854, "post_id": 43386250, "comment_id": 73834312, "body": "it says Can&#39;t locate File/Remote.pm"}, {"owner": {"reputation": 192, "user_id": 3548251, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100002421418230/picture?type=large", "display_name": "Shubham Pendharkar", "link": "https://stackoverflow.com/users/3548251/shubham-pendharkar"}, "edited": false, "score": 0, "creation_date": 1492073051, "post_id": 43386250, "comment_id": 73836277, "body": "have you configured the File::remote perl module ?"}, {"owner": {"reputation": 85, "user_id": 7854056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d75dfefc367145352edc4341c08a4025?s=128&d=identicon&r=PG&f=1", "display_name": "emma", "link": "https://stackoverflow.com/users/7854056/emma"}, "reply_to_user": {"reputation": 192, "user_id": 3548251, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100002421418230/picture?type=large", "display_name": "Shubham Pendharkar", "link": "https://stackoverflow.com/users/3548251/shubham-pendharkar"}, "edited": false, "score": 0, "creation_date": 1492075278, "post_id": 43386250, "comment_id": 73837705, "body": "@RAFA I have included the &lt;use File::Remote in my code&gt;. Do I have to do something else also? Sorry, I am new to perl."}, {"owner": {"reputation": 192, "user_id": 3548251, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100002421418230/picture?type=large", "display_name": "Shubham Pendharkar", "link": "https://stackoverflow.com/users/3548251/shubham-pendharkar"}, "edited": false, "score": 0, "creation_date": 1492075698, "post_id": 43386250, "comment_id": 73837989, "body": "@emma you need to configure the File::remote perl module using cpan."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 192, "user_id": 3548251, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100002421418230/picture?type=large", "display_name": "Shubham Pendharkar", "link": "https://stackoverflow.com/users/3548251/shubham-pendharkar"}, "edited": false, "score": 0, "creation_date": 1492113945, "post_id": 43386250, "comment_id": 73862321, "body": "@RAFA: She doesn&#39;t need to <b>configure</b> the File::Remote module, she needs to <b>install</b> the File::Remote module. Using inaccurate terminology just confuses people."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1492586378, "post_id": 43386250, "comment_id": 74032942, "body": "Instead of File::Remote, which is based in the limited SCP and has not been updated in more than a decade, you should try <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign\" rel=\"nofollow noreferrer\">Net::SFTP::Foreign</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": false, "score": 0, "last_activity_date": 1492087889, "creation_date": 1492087889, "answer_id": 43392850, "question_id": 43386250, "link": "https://stackoverflow.com/questions/43386250/reading-a-file-on-a-remote-host/43392850#43392850", "title": "Reading a file on a remote host", "body": "<p>When performing remote actions in batch, the first principle is to reduce the number of ssh connections (ideally only one). Using shell or perl one liner, you can do very complex actions. Here is my understanding of your need:</p>\n\n<pre><code>ssh hostname 'find dirname -name \\*.pl| xargs grep -l pattern /dev/null'\n</code></pre>\n\n<p>You can pipe further processing in the same line. If you want to process the files locally, you can transfer all the files in a single command. Here is a full example:</p>\n\n<pre><code>use Archive::Tar;\n\nopen my $file, '-|', 'ssh -C hostname \"find dirname -name \\*.pl | xargs grep -l pattern /dev/null | xargs tar c\"'\n    or die \"Can't pipe: $!\";\n\nmy $tar = Archive::Tar-&gt;new($file);\nforeach my $file ($tar-&gt;get_files()) {\n    print $file-&gt;name, ', ', $file-&gt;size, \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1492114338, "creation_date": 1492114338, "answer_id": 43400965, "question_id": 43386250, "link": "https://stackoverflow.com/questions/43386250/reading-a-file-on-a-remote-host/43400965#43400965", "title": "Reading a file on a remote host", "body": "<p>The File::Remote module is not part of a standard Perl installation. If you want to use this module, then you need to install it.</p>\n\n<p>How you install it will depend on what platform you're using and how you have installed Perl. On a Linux installation where you are using the system Perl you could try <code>sudo yum install perl-File-Remote</code> (on a RedHat-based system) or <code>sudo apt-get install libfile-remote-perl</code> (on a Debian/Ubuntu-based system). You could also try using <a href=\"https://metacpan.org/pod/distribution/CPAN/scripts/cpan\" rel=\"nofollow noreferrer\">cpan</a> or <a href=\"https://metacpan.org/pod/distribution/App-cpanminus/bin/cpanm\" rel=\"nofollow noreferrer\">cpanm</a> to install it. </p>\n\n<p>I'd also suggest that as this module was last updated in 2005, it's quite likely that it is unmaintained, so I would be wary of using it.</p>\n"}], "owner": {"reputation": 85, "user_id": 7854056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d75dfefc367145352edc4341c08a4025?s=128&d=identicon&r=PG&f=1", "display_name": "emma", "link": "https://stackoverflow.com/users/7854056/emma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 548, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492114338, "creation_date": 1492069040, "question_id": 43386250, "link": "https://stackoverflow.com/questions/43386250/reading-a-file-on-a-remote-host", "title": "Reading a file on a remote host", "body": "<p>My code involves going to a host(doing with openSSH), getting the list of files matching a pattern(doing using remote find command-OpenSSH) and then opening each file I have got and processing each(grepping etc).\nI am done with getting the file names and passing to a function. Now, I have to pass these filename to a function where I open each and process it. I am trying to do it using File::Remote as follows:</p>\n\n<pre><code>sub processFiles{\n    my $fileList =shift;\n#Iterate over the file and try to find start and stop time stamps from the file\nfor my $file ( @{$fileList}) {\n#finding start time of file:its found in lines of file\nmy $HEAD;\nopen $HEAD, \"host:head -1000 $File|\" or die \"Unable to check file for starting time\";\n while ( &lt;$HEAD&gt; ) {\n #process...\n</code></pre>\n\n<p>But I am unable to open the file on the host an I am getting an error.</p>\n"}, {"tags": ["perl", "split", "space"], "comments": [{"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 4, "creation_date": 1492068748, "post_id": 43386066, "comment_id": 73833692, "body": "What did you try?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 2, "creation_date": 1492069574, "post_id": 43386066, "comment_id": 73834161, "body": "<a href=\"http://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492074167, "post_id": 43386066, "comment_id": 73836916, "body": "I edited your question, but I am not sure if I got it right. Please review the edit"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1492074004, "post_id": 43387433, "comment_id": 73836812, "body": "Please add this info to your question and delete this answer. Answers should not be used for comments"}], "tags": [], "owner": {"reputation": 11, "user_id": 6134457, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i_T1SZ9h_NE/AAAAAAAAAAI/AAAAAAAAAGs/hnfRcjKBKgQ/photo.jpg?sz=128", "display_name": "Kanika Sharma", "link": "https://stackoverflow.com/users/6134457/kanika-sharma"}, "is_accepted": false, "score": -1, "last_activity_date": 1492072878, "creation_date": 1492072878, "answer_id": 43387433, "question_id": 43386066, "link": "https://stackoverflow.com/questions/43386066/want-to-search-last-space-of-the-line-and-split-it-after-finding-the-space-in-pe/43387433#43387433", "title": "want to search last space of the line and split it after finding the space in perl", "body": "<p>i am simply count total no of character .</p>\n\n<p>$str_len = length($line3);\n   if($str_len > 72){}\nthen i am simply  searching for last  charcter ending with d and space and chacter starting with i (d i)\nif((@split_line = ~/[\\s+.]+|_$/) and @split_line=~ /\\d$|^ i/ ){\nn then unpacking it </p>\n\n<p>but its not a correct way to do it .</p>\n"}, {"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1492082178, "creation_date": 1492082178, "answer_id": 43390796, "question_id": 43386066, "link": "https://stackoverflow.com/questions/43386066/want-to-search-last-space-of-the-line-and-split-it-after-finding-the-space-in-pe/43390796#43390796", "title": "want to search last space of the line and split it after finding the space in perl", "body": "<p>The question is a tad unintelligible. Expected output adds an extra space before the >, which I think is just a misprint. This is my suggestion anyway:</p>\n\n<pre><code>my $str=q(&lt;--TD: 2. Set inputs 'i_open1' = \"0\" and 'i_open2' = \"0\" and i_cntrl_pwr_down&gt;);\n$str =~ s/(.*) /$1\\n /;\nprint $str;\n</code></pre>\n\n<p><a href=\"https://tio.run/nexus/perl5#@59bqaBSXFKkYKtQqGGjqxviYqVgpKcQnFqikJlXUFpSrKCeGZ9fkJpnqA5UomSgpJCYlwITM0IWy4xPzispyokvKC@KT8kvz7PTtOYCmWxbV6yvoaelqaCvYhiTp6BvzVVQlJlXArbV@v9/AA\" rel=\"nofollow noreferrer\" title=\"Perl 5 \u2013 TIO Nexus\">Try it online!</a></p>\n"}], "owner": {"reputation": 11, "user_id": 6134457, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i_T1SZ9h_NE/AAAAAAAAAAI/AAAAAAAAAGs/hnfRcjKBKgQ/photo.jpg?sz=128", "display_name": "Kanika Sharma", "link": "https://stackoverflow.com/users/6134457/kanika-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1492082178, "creation_date": 1492068483, "last_edit_date": 1492074115, "question_id": 43386066, "link": "https://stackoverflow.com/questions/43386066/want-to-search-last-space-of-the-line-and-split-it-after-finding-the-space-in-pe", "title": "want to search last space of the line and split it after finding the space in perl", "body": "<p>Input:</p>\n\n<pre><code>&lt;--TD: 2. Set inputs 'i_open1' = \"0\" and 'i_open2' = \"0\" and i_cntrl_pwr_down&gt;\n</code></pre>\n\n<p>I want to check for last space of the line and split it from last space.</p>\n\n<p><strong>Expected output</strong>:</p>\n\n<pre><code>&lt;--TD: 2. Set inputs 'i_open1' = \"0\" and 'i_open2' = \"0\" and\n i_cntrl_pwr_down &gt;\n</code></pre>\n\n<p>How can I do that in Perl? </p>\n"}, {"tags": ["arrays", "perl", "for-loop", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6607117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc9cb413e7a2d9579eac7b6a3838a86?s=128&d=identicon&r=PG&f=1", "display_name": "kriti awasthi", "link": "https://stackoverflow.com/users/6607117/kriti-awasthi"}, "edited": false, "score": 0, "creation_date": 1492067759, "post_id": 43384780, "comment_id": 73833090, "body": "if i have to match the two numbers in the two dataset how to skip that index if both the number is 0. the code I am using is   if ($count_f_dataset2[$i]||$count_f_dataset1[$i]==0) { next;  } but this doesn&#39;t seems to work."}, {"owner": {"reputation": 1528, "user_id": 7573791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e5e5cf864fb33229ca56750a51d6674?s=128&d=identicon&r=PG&f=1", "display_name": "Sajin", "link": "https://stackoverflow.com/users/7573791/sajin"}, "reply_to_user": {"reputation": 31, "user_id": 6607117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc9cb413e7a2d9579eac7b6a3838a86?s=128&d=identicon&r=PG&f=1", "display_name": "kriti awasthi", "link": "https://stackoverflow.com/users/6607117/kriti-awasthi"}, "edited": false, "score": 0, "creation_date": 1492069294, "post_id": 43384780, "comment_id": 73833999, "body": "what is $count_f_dataset2?"}, {"owner": {"reputation": 31, "user_id": 6607117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc9cb413e7a2d9579eac7b6a3838a86?s=128&d=identicon&r=PG&f=1", "display_name": "kriti awasthi", "link": "https://stackoverflow.com/users/6607117/kriti-awasthi"}, "edited": false, "score": 0, "creation_date": 1492073762, "post_id": 43384780, "comment_id": 73836667, "body": "Count_f_dataset1 is an array is this-&gt; AAAAAAA\t 0  AAAAAAT\t 0 AAAAAAG\t 0 AAAAAAC\t 1 and count_f_dataset2 is another array AAAAAAA\t 0  AAAAAAT\t        3  AAAAAAG\t 5  AAAAAAC\t 0  so if the string AAAAAAA value is 0 in both the arrays it should skip that string."}], "tags": [], "owner": {"reputation": 1528, "user_id": 7573791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e5e5cf864fb33229ca56750a51d6674?s=128&d=identicon&r=PG&f=1", "display_name": "Sajin", "link": "https://stackoverflow.com/users/7573791/sajin"}, "is_accepted": true, "score": 0, "last_activity_date": 1492064114, "creation_date": 1492064114, "answer_id": 43384780, "question_id": 43384521, "link": "https://stackoverflow.com/questions/43384521/to-compare-each-element-of-the-array-and-subtract-the-larger-number-from-the-sma/43384780#43384780", "title": "to compare each element of the array and subtract the larger number from the smaller one? or is there any possible way to do it", "body": "<p>You can use absolute value.</p>\n\n<pre><code>$minus=abs($dataset2[$i]-$dataset1[$i]);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6607117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc9cb413e7a2d9579eac7b6a3838a86?s=128&d=identicon&r=PG&f=1", "display_name": "kriti awasthi", "link": "https://stackoverflow.com/users/6607117/kriti-awasthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 43384780, "answer_count": 1, "score": -2, "last_activity_date": 1492064114, "creation_date": 1492062935, "question_id": 43384521, "link": "https://stackoverflow.com/questions/43384521/to-compare-each-element-of-the-array-and-subtract-the-larger-number-from-the-sma", "title": "to compare each element of the array and subtract the larger number from the smaller one? or is there any possible way to do it", "body": "<p>I am  writing a perl code which subtracts the number from array B to A ie. B-A but the problem is if array B element is greater it is not able to minus the vice versa.  </p>\n\n<pre><code>      @dataset1= (\"2\", \"1\", \"1\", \"1\");\n      @dataset2= (\"3\",\"3\",\"2\",\"0\");\n       print \"dat1 @dataset1\\n\";\n       print \"dat2 @dataset2\\n\";\n\n\n      for(my $i=0;$i&lt;=$#dataset1;$i++){\n\n       $minus=$dataset2[$i]-$dataset1[$i];\n       print \" $minus\\n\";\n\n      }\n</code></pre>\n\n<p>the output is :</p>\n\n<pre><code> dat1 2 1 1 1\n dat2 3 3 2 0\n this 1\n this 2\n this 1\n this -1\n</code></pre>\n\n<p>But the way I want my output to be is:</p>\n\n<pre><code> dat1 2 1 1 1\n dat2 3 3 2 0\n this 1\n this 2\n this 1\n this 1\n</code></pre>\n\n<p>Please suggest something. Thanks in advance. </p>\n"}, {"tags": ["string", "perl", "escaping"], "answers": [{"tags": [], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "is_accepted": false, "score": 2, "last_activity_date": 1492063354, "last_edit_date": 1492063354, "creation_date": 1492062994, "answer_id": 43384533, "question_id": 43384428, "link": "https://stackoverflow.com/questions/43384428/how-to-sanitize-string-for-unix-filename/43384533#43384533", "title": "How to sanitize string for unix filename?", "body": "<p>The <a href=\"http://search.cpan.org/~tommy/File-Util-3.27/Util.pod#escape_filename\" rel=\"nofollow noreferrer\"><code>File::Util</code> function <code>escape_filename</code></a> does exactly this.</p>\n\n<pre><code>use File::Util;\n$result = escape_filename($str);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1492066773, "post_id": 43385326, "comment_id": 73832518, "body": "So why does <code>escape_filename</code> get rid of other characters as well as <code>&#47;</code>?"}, {"owner": {"reputation": 12658, "user_id": 5920214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4bbe6feca39eebe96274d3f07c44d9?s=128&d=identicon&r=PG", "display_name": "tfb", "link": "https://stackoverflow.com/users/5920214/tfb"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1492069194, "post_id": 43385326, "comment_id": 73833957, "body": "@CJ7 There are a lot of characters which are legal in file names but extremely awkward if they are present, especially for command-line interfaces.  <code>escape_filename</code> addresses those too."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1492071914, "post_id": 43385326, "comment_id": 73835568, "body": "@CJ7 <code>mkdir chtest &amp;&amp; cd chtest &amp;&amp; perl -E &#39;mkdir $_ or warn &quot;$! $_&quot; for map { chr } (0..127)&#39;</code> - will refuse the <code>.</code> (because current dir) and the <code>\\0</code> and <code>&#47;</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1492066471, "last_edit_date": 1492066471, "creation_date": 1492065944, "answer_id": 43385326, "question_id": 43384428, "link": "https://stackoverflow.com/questions/43384428/how-to-sanitize-string-for-unix-filename/43385326#43385326", "title": "How to sanitize string for unix filename?", "body": "<p>A unix file name can contain any character except <code>/</code> and NUL, so the following makes sure <code>$fn</code> is a valid file name.</p>\n\n<pre><code>warn(\"Invalid file name\") if $fn =~ m{[/\\0]};\n</code></pre>\n\n<p>But you didn't say you wanted to detect bad file names; you said you wanted to sanitize them. However, you didn't say how. Perhaps you wish to replace the illegal characters with others? If so, you can use the following:</p>\n\n<pre><code>$fn =~ s{[/\\0]}{_}g;\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492066471, "creation_date": 1492062465, "question_id": 43384428, "link": "https://stackoverflow.com/questions/43384428/how-to-sanitize-string-for-unix-filename", "title": "How to sanitize string for unix filename?", "body": "<p>In perl, how can I sanitise a string to be used as a filename in a Unix based system?</p>\n\n<p>eg. AX/1234/BB would obviously need to have the forward slashes dealt with in some way.</p>\n\n<p>Are there any modules that deal with this issue?</p>\n"}, {"tags": ["arrays", "perl", "parsing"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1492052392, "post_id": 43382666, "comment_id": 73827477, "body": "Is this a puzzle?  What kind of a counting system has <code>K</code> with indices <code>(2,4)</code>, and <code>N</code> with <code>(1,0)</code>?  Can you explain? But first -- can you show us what you did and what problem you have with that?  Questions here are expected to be about <i>your code</i>."}, {"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492052900, "post_id": 43382666, "comment_id": 73827601, "body": "@zdim my mistake! just fixed those and added the code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492053077, "post_id": 43382666, "comment_id": 73827655, "body": "That&#39;s better, thank you  (Still, I think you mean <code>a[2][2] == K</code> ...?)  As for the code: you make multidimensional structures by having a data structure carry <i>references</i> to another in each slot.  Reading on references: tutorial <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>, and a cookbook <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>.  You want array-of-arrays, in <code>pelrdsc</code>"}, {"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492053180, "post_id": 43382666, "comment_id": 73827687, "body": "@zdim Jesus hahaha, yes that is what I mean"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1492057795, "post_id": 43382666, "comment_id": 73828798, "body": "So, as you read the file: in the first slot of an array (row 1) put an arrayref -- a reference to an array with elements of that row. The second element of that array is a reference to an array with letters from the next row, etc. So, go line by line. Break each into letters <code>(my @line = split &#39;&#39;, $_)</code>, put a reference to that array in the element of the &quot;main&quot; array for that line. (For example, <code>$a[$cnt] = \\@line</code> where <code>$cnt</code> starts from zero, or so.) Etc. Give it a shot."}], "answers": [{"comments": [{"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492054734, "post_id": 43383053, "comment_id": 73828097, "body": "Okay awesome, that makes sense. But my intention was to have two separate arrays, this currently only has one."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492058144, "post_id": 43383053, "comment_id": 73828917, "body": "@KyleWeise Oh, I see now what you mean by two arrays.  You are right -- this would store both blocks of text into one, with a mess on empty line.  It was meant as a basic demonstration. For your whole problem write it out as a loop, as outlined in that comment.  When you hit an empty line, start with the second array."}, {"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492058752, "post_id": 43383053, "comment_id": 73829106, "body": "I&#39;m a little confused by &quot; the above should be written out as a loop over lines with explicit assignments to each array element, and the empty line can be used to start the next block. &quot; Could you perhaps word this differently?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492066697, "post_id": 43383053, "comment_id": 73832454, "body": "@KyleWeise  Added a full program to the answer, thank you for the comment."}, {"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492129223, "post_id": 43383053, "comment_id": 73867600, "body": "So I&#39;m playing around with this and something strange is happening. The print statement works for <code>matrices-&gt;[0][2][2]</code> , but not when I switch the 0&#39;s to 1&#39;s. So the 0&#39;s give me K, which is correct, but if I replace them, shouldn&#39;t the output be W ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492141290, "post_id": 43383053, "comment_id": 73870069, "body": "@KyleWeise  Yes it should, by all means.  Apparently I forgot to copy the line -- <i>after</i> the loop we need to add to <code>$matrices</code> the last matrix computed. Fixed.  Sorry about that."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1492157094, "last_edit_date": 1495540456, "creation_date": 1492054072, "answer_id": 43383053, "question_id": 43382666, "link": "https://stackoverflow.com/questions/43382666/how-to-split-a-text-file-into-two-arrays/43383053#43383053", "title": "How to split a text file into two arrays?", "body": "<p>The procedure explained in a comment, condensed    </p>\n\n<pre><code>my @matrix = map { [ split '', $_ ]  } &lt;$fh&gt;;\n</code></pre>\n\n<p>The <em>diamond operator</em> <code>&lt;&gt;</code> in the <a href=\"http://perldoc.perl.org/perldata.html#Context\" rel=\"nofollow noreferrer\">list context</a> returns all lines (see <a href=\"https://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">I/O operators</a>), whereby each is processed by the block in <a href=\"https://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">map</a> and the returned list is assigned to <code>@matrix</code>. </p>\n\n<p>In the block <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> breaks each line (<a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>$_</code></a>) into characters (<code>''</code>), and an <a href=\"http://perldoc.perl.org/perlreftut.html#Making-References\" rel=\"nofollow noreferrer\">anonymous array</a> is made of that list (<code>[...]</code>).  Given <code>split</code>'s defaults this can be written as <code>map { [ split '' ] }</code>.</p>\n\n<p>Always use <em>lexical filehandles</em>, it's better that way</p>\n\n<pre><code>my $file = 'gwas.txt';\nopen my $fh, '&lt;', $file or die \"Couldn't open $file: $!\";\n</code></pre>\n\n<hr>\n\n<p>As pointed out in comments, this processes the whole file into one array.  To process two blocks of text, each into its own array, we can write it as a loop (and use empty lines to distinguish blocks).</p>\n\n<pre><code>my @matrix;\nmy $index = 0;    \nwhile (&lt;$fh&gt;) {\n    $matrix[$index++] = [ split '', $_ ];\n}\n</code></pre>\n\n<p>This makes an <em>anonymous array</em> <code>[ ... ]</code> with line elements and assigns it to <code>$index</code> spot in the array <code>@matrix</code> (and increments index).  Another way of doing this is</p>\n\n<pre><code>my @row = split '', $_;\n$matrix[$index++] = \\@row;\n</code></pre>\n\n<p>where a new array is constructed on every iteration and a reference to it assigned.</p>\n\n<p>Then we need to use empty lines to tell blocks apart. We also need to manage the two arrays, what is nicely done by having references to arrays (matrices) in another data structure, say an array.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Data::Dump qw(dd);\n\nmy $matrices;  # will be an arrayref, for references to matrices\n\nmy $file = 'matrices.txt';\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy @matrix;\nmy $index = 0;   \nwhile (&lt;$fh&gt;) {\n    chomp;\n\n    if (/^\\s*$/) {                     # blank line, done with one matrix\n        $index = 0;                    # reset index\n        push @$matrices, [ @matrix ];  # store anonymous array for @matrix\n    }\n    else {\n        @matrix[$index] = [ split '', $_ ];\n        ++$index;\n    }\n}\npush @$matrices, [ @matrix ];          # the last one in the file\n\nclose $fh;\n\nprint \"Spot check: \\$matrices-&gt;[0][2][2]: $matrices-&gt;[0][2][2]\\n\";\ndd($matrices);\n</code></pre>\n\n<p>This holds assumptions about the data, in general that it has the exact expected format.</p>\n\n<p>Please see the tutorial on references <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and a cookbook on data strucures <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>.</p>\n\n<p>Also see the <a href=\"https://stackoverflow.com/a/43383092/4653379\">answer by xxfelixxx</a>, with all this in a very slightly different way.</p>\n\n<p>There are a number of other ways to do this.</p>\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1492054391, "creation_date": 1492054391, "answer_id": 43383092, "question_id": 43382666, "link": "https://stackoverflow.com/questions/43382666/how-to-split-a-text-file-into-two-arrays/43383092#43383092", "title": "How to split a text file into two arrays?", "body": "<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $arrays = [];\nmy $count = 0;\nmy $row = 0;\n\n# Read data and store in $arrays\nwhile(&lt;DATA&gt;) {\n    if (my ($letters) = m/^(\\w+)\\s*$/) {\n        # Store letters\n        $arrays-&gt;[$count]-&gt;[$row] = [ split //, $letters ];\n        $row++;\n    } else {\n        # Next batch\n        $count++;\n        $row = 0;\n    }\n}\n\n# Print it out with indices\nfor my $iarray ( 0 .. $count ) {\n    print \"------ Matrix $iarray ------\\n\";\n    my @rows = @{ $arrays-&gt;[$iarray] };\n    for my $irow ( 0 .. $#rows) {\n        my @cols = @{ $rows[$irow] };\n        for my $icol ( 0 .. $#cols ) {\n            print \"($irow,$icol) -&gt; \" . $cols[$icol] . \"\\n\";\n        }\n    }\n}\n\n__DATA__\nABCD\nEFGH\nIJKL\n\nMNOP\nQRST\nUVWX\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>------ Matrix 0 ------\n(0,0) -&gt; A\n(0,1) -&gt; B\n(0,2) -&gt; C\n(0,3) -&gt; D\n(1,0) -&gt; E\n(1,1) -&gt; F\n(1,2) -&gt; G\n(1,3) -&gt; H\n(2,0) -&gt; I\n(2,1) -&gt; J\n(2,2) -&gt; K\n(2,3) -&gt; L\n------ Matrix 1 ------\n(0,0) -&gt; M\n(0,1) -&gt; N\n(0,2) -&gt; O\n(0,3) -&gt; P\n(1,0) -&gt; Q\n(1,1) -&gt; R\n(1,2) -&gt; S\n(1,3) -&gt; T\n(2,0) -&gt; U\n(2,1) -&gt; V\n(2,2) -&gt; W\n(2,3) -&gt; X\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492116647, "post_id": 43383913, "comment_id": 73863635, "body": "Thanks! this seems very straightforward. Can you explain the reason by the open/closed curly brackets? Are they associated with the declaration of <code>@arrays</code> or is there another meaning?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492116889, "post_id": 43383913, "comment_id": 73863741, "body": "They are part of <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a>&#39;s <code>map BLOCK LIST</code> syntax."}, {"owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "edited": false, "score": 0, "creation_date": 1492127742, "post_id": 43383913, "comment_id": 73867308, "body": "Could you almost include how you printed the output? I assume <code>Data::Dumper</code> because of the format."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1492060579, "last_edit_date": 1492060579, "creation_date": 1492059977, "answer_id": 43383913, "question_id": 43382666, "link": "https://stackoverflow.com/questions/43382666/how-to-split-a-text-file-into-two-arrays/43383913#43383913", "title": "How to split a text file into two arrays?", "body": "<ol>\n<li>Split the data into an array of paragraphs.</li>\n<li>Split every paragraph into an array of lines.</li>\n<li>Split every line into an array of characters.</li>\n</ol>\n\n<p>This can be achieved using the either following:</p>\n\n<pre><code>my @arrays;\n{\n   local $/ = \"\";  # Paragraph mode\n   @arrays = map { [ map { [ split // ] } split /\\n/ ] } &lt;&gt;;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my @arrays;\n{\n   local $/ = \"\";  # Paragraph mode\n   push @arrays, [ map { [ split // ] } split /\\n/ ] while &lt;&gt;;\n}\n</code></pre>\n\n<p>They produce:</p>\n\n<pre><code>$VAR1 = [\n          [\n            [ 'A', 'B', 'C', 'D' ],\n            [ 'E', 'F', 'G', 'H' ],\n            [ 'I', 'J', 'K', 'L' ]\n          ],\n          [\n            [ 'M', 'N', 'O', 'P' ],\n            [ 'Q', 'R', 'S', 'T' ],\n            [ 'U', 'V', 'W', 'X' ]\n          ]\n        ];\n</code></pre>\n\n<p>So,</p>\n\n<pre><code>say $arrays[0][2][2];  # K\nsay $arrays[1][0][1];  # N\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 43383053, "answer_count": 3, "score": 1, "last_activity_date": 1492157094, "creation_date": 1492051349, "last_edit_date": 1492053139, "question_id": 43382666, "link": "https://stackoverflow.com/questions/43382666/how-to-split-a-text-file-into-two-arrays", "title": "How to split a text file into two arrays?", "body": "<p>I am parsing a text file that looks like this:</p>\n\n<pre><code>ABCD\nEFGH\nIJKL\n\nMNOP\nQRST\nUVWX\n</code></pre>\n\n<p>Is it possible to parse this in Perl in a way which results in two 4x3 arrays? So for example,  <code>array1[2][2] = K</code> <code>and array2[0][1] = N</code>.\nCode:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse diagnostics;\n\nopen(FH, '&lt;', 'gwas.txt') or die \"Couldn't open file $!\";\n\nwhile(&lt;FH&gt;) {\n\n    #parse file into 2 arrays\n}\nclose(FH);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1492044854, "post_id": 43381476, "comment_id": 73825749, "body": "Hi, and welcome to StackOverflow! We prefer it if you show us what you&#39;ve tried and work with you on it. So give it a shot with loops, that is the right way to do it. If you can&#39;t figure it out, edit the question with what you&#39;ve tried."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1492046563, "post_id": 43381476, "comment_id": 73826102, "body": "@sharks48 clue <code>$.</code> and <code>s&#47;^\\d+&#47;&#47;</code>;"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1492080701, "post_id": 43382072, "comment_id": 73841256, "body": "I think I&#39;d put that first one as <code>perl -pe &#39;print &quot;$. - &quot;&#39; file</code>"}, {"owner": {"reputation": 2685, "user_id": 293023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/96ae36cc4310f8658e2ef09730ac191d?s=128&d=identicon&r=PG&f=1", "display_name": "niry", "link": "https://stackoverflow.com/users/293023/niry"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492112964, "post_id": 43382072, "comment_id": 73861784, "body": "@Sobrique, that how I&#39;d do it, however, note the <code>&quot;01 - &quot;</code> in the question"}, {"owner": {"reputation": 2685, "user_id": 293023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/96ae36cc4310f8658e2ef09730ac191d?s=128&d=identicon&r=PG&f=1", "display_name": "niry", "link": "https://stackoverflow.com/users/293023/niry"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492113428, "post_id": 43382072, "comment_id": 73862046, "body": "@Sobrique, as far as the -p flag, that&#39;s shorter, agreed."}, {"owner": {"reputation": 2685, "user_id": 293023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/96ae36cc4310f8658e2ef09730ac191d?s=128&d=identicon&r=PG&f=1", "display_name": "niry", "link": "https://stackoverflow.com/users/293023/niry"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1492118902, "post_id": 43382072, "comment_id": 73864540, "body": "added Update section with @Sobrique&#39;s comment (-p)"}], "tags": [], "owner": {"reputation": 2685, "user_id": 293023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/96ae36cc4310f8658e2ef09730ac191d?s=128&d=identicon&r=PG&f=1", "display_name": "niry", "link": "https://stackoverflow.com/users/293023/niry"}, "is_accepted": false, "score": 3, "last_activity_date": 1492114254, "last_edit_date": 1492114254, "creation_date": 1492046574, "answer_id": 43382072, "question_id": 43381476, "link": "https://stackoverflow.com/questions/43381476/perl-prepend-remove-line-numbers-to-a-file/43382072#43382072", "title": "Perl - prepend/remove line numbers to a file", "body": "<p>From the command line:</p>\n\n<p>To add the line numbers as requested:</p>\n\n<pre><code>perl -ne 'printf(\"%02d - \",$.);print' &lt; file &gt; newfile\n</code></pre>\n\n<p>To remove the line numbers:</p>\n\n<pre><code>perl -ne 's/^\\d* - //;print' &lt; newfile\n</code></pre>\n\n<h2>Update</h2>\n\n<p>To edit the file \"in place\" use the -i flag. Also -p instead of -n and print. From the command line:</p>\n\n<p>To add the line numbers as requested:</p>\n\n<pre><code>perl -pe 'printf(\"%02d - \",$.)' -i file\n</code></pre>\n\n<p>To remove the line numbers:</p>\n\n<pre><code>perl -pe 's/^\\d* - //' -i file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 923, "user_id": 7727546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fe3d80f5c8283fb372c4f3aec775df8?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Krupp", "link": "https://stackoverflow.com/users/7727546/benjamin-krupp"}, "is_accepted": false, "score": 0, "last_activity_date": 1492092718, "creation_date": 1492092718, "answer_id": 43394569, "question_id": 43381476, "link": "https://stackoverflow.com/questions/43381476/perl-prepend-remove-line-numbers-to-a-file/43394569#43394569", "title": "Perl - prepend/remove line numbers to a file", "body": "<p>Since you want to use it in a script I am going to extend on nirys answer:\nI don't think there is going to be a more simple and mainainable solution than using a loop. One example with <code>foreach</code>:</p>\n\n<pre><code>sub addLinenumbersToFile {\n    my($file) = @_;\n\n    open my $in_handle, \"&lt;\", $file;\n    my @lines = &lt;$in_handle&gt;;\n    close $in_handle;\n    my $line_count = 1;\n    foreach my $line (@lines) {\n        # modify element directly:\n        $line = sprintf(\"%02d - \", $line_count) . $line;\n        $line_count++;\n    }\n    open my $out_handle, \"&gt;\", $file;\n    print $out_handle join('', @lines);\n}\n</code></pre>\n\n<p>You can then call this function with the filename as parameter: <code>addLinenumbersToFile(\"inputfile.txt\");</code></p>\n\n<p>And to return the file to it's original state:</p>\n\n<pre><code>    sub removeLinenumbersFromFile {\n        my($file) = @_;\n\n        open my $in_handle, \"&lt;\", $file;\n        my @lines = &lt;$in_handle&gt;;\n        close $in_handle;\n        my $line_count = 1;\n        foreach my $line (@lines) {\n            my $formatted_line_count = sprintf(\"%02d - \", $line_count);\n            # modify element directly:\n            $line =~ s/^$formatted_line_count//;\n            $line_count++;\n        }\n        open my $out_handle, \"&gt;\", $file;\n        print $out_handle join('', @lines);\n    }\n</code></pre>\n\n<p>Since the line number remover uses the exact same format the chances of modifying the wrong file by accident are not very big. They could be further reduced by leaving the function after one line didn't match.</p>\n"}], "owner": {"reputation": 1, "user_id": 7859251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/024f13b548cf134c436c5dd7b8aef765?s=128&d=identicon&r=PG&f=1", "display_name": "sharks48", "link": "https://stackoverflow.com/users/7859251/sharks48"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492114254, "creation_date": 1492041656, "last_edit_date": 1492044864, "question_id": 43381476, "link": "https://stackoverflow.com/questions/43381476/perl-prepend-remove-line-numbers-to-a-file", "title": "Perl - prepend/remove line numbers to a file", "body": "<p>I'm currently writing a Perl script that needs to have an option within a menu that will prepend line numbers to a file and another option to remove those line numbers. </p>\n\n<p>example outputs: <code>\"This is the first line of my file\"</code> should be changed to <code>\"01 - This is the first line of my file\"</code></p>\n\n<p>and </p>\n\n<p><code>\"01 - This is the first line of my file\"</code> should be changed to <code>\"This is the first line of my file\"</code></p>\n\n<p>I've thought of using loops to accomplish this but I have a feeling that there might be a more simple solution. How should I go about solving this?</p>\n"}]