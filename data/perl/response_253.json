[{"tags": ["bash", "shell", "perl", "pack", "unpack"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1573688507, "post_id": 58847069, "comment_id": 103968097, "body": "The variable you define in the shell is &quot;local,&quot; not an &quot;environment&quot; variable so it isn&#39;t seen by <code>%ENV</code>.  You need to &quot;export&quot; it, <code>export rawHex=...</code> (or just <code>export rawHex</code> if it&#39;s already been set up).  Now <code>%ENV</code> will have it.  (Alternatively, you can pass it to your Perl command-line program, as a command line argument or a switch)"}, {"owner": {"reputation": 53, "user_id": 10830140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1735b806c5c6629b74475276243490?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/10830140/dan"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573688861, "post_id": 58847069, "comment_id": 103968189, "body": "I attempted to verify that the variable was accessible this way by evaluating:<code>echo $(perl -e &#39;print $ENV{rawHex}&#39;)</code> and the result was 0x41000000 as expected."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573689026, "post_id": 58847069, "comment_id": 103968232, "body": "See <a href=\"https://stackoverflow.com/a/55753111/4653379\">this post</a> for the explanation and then <a href=\"https://stackoverflow.com/a/58705112/4653379\">this one</a> (with its links) should be useful, too"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573714960, "post_id": 58847069, "comment_id": 103974736, "body": "(to round off these comments: you also need <a href=\"https://perldoc.perl.org/functions/hex.html\" rel=\"nofollow noreferrer\">hex</a>. It&#39;s now all done in ikegami&#39;s answer)"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10830140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1735b806c5c6629b74475276243490?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/10830140/dan"}, "edited": false, "score": 0, "creation_date": 1573688112, "post_id": 58847165, "comment_id": 103968012, "body": "I had tried a permutation of this, but I had an unnecessary set of parentheses, and it was not returning a consistent result. Now that I&#39;ve removed the parentheses, it&#39;s working. Thank you!"}, {"owner": {"reputation": 616, "user_id": 1930495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pirg4.jpg?s=128&g=1", "display_name": "Michele Dorigatti", "link": "https://stackoverflow.com/users/1930495/michele-dorigatti"}, "reply_to_user": {"reputation": 53, "user_id": 10830140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1735b806c5c6629b74475276243490?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/10830140/dan"}, "edited": false, "score": 0, "creation_date": 1573688159, "post_id": 58847165, "comment_id": 103968021, "body": "Remember to accept my answer if it solved your problem ;)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1573688618, "post_id": 58847165, "comment_id": 103968127, "body": "While this is correct technically (it&#39;ll work) I&#39;ll have to speak against &quot;injection&quot; -- it opens the whole (Perl one-line) script to who-knows-what.  There are other ways to pass a shell variable to a program, one by <code>export</code>-ing whereby it becomes an &quot;environment&quot; variable and can be accessed in <code>%ENV</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1573692896, "post_id": 58847165, "comment_id": 103969111, "body": "Re &quot;<i>variables between single quotes &#39; will not be evaluated.</i>&quot;, That&#39;s a good thing. Generating code is not a good idea."}], "tags": [], "owner": {"reputation": 616, "user_id": 1930495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pirg4.jpg?s=128&g=1", "display_name": "Michele Dorigatti", "link": "https://stackoverflow.com/users/1930495/michele-dorigatti"}, "is_accepted": false, "score": 1, "last_activity_date": 1573687737, "creation_date": 1573687737, "answer_id": 58847165, "question_id": 58847069, "link": "https://stackoverflow.com/questions/58847069/perl-pack-unpack-on-shell-variable/58847165#58847165", "title": "Perl Pack Unpack on Shell Variable", "body": "<p>A working solution is</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>rawHex=0x41000000\necho $(perl -e \"print unpack 'f', pack 'L', ${rawHex}\")\n</code></pre>\n\n<p>Your code has two problems. The first is that in bash, variables between single quotes <code>'</code> will not be evaluated. That's why I inverted single and double quotes in your example.</p>\n\n<p>The second problem is the use of <code>ENV</code>. I am not sure why you use it, but you don't need it.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1573706397, "last_edit_date": 1573706397, "creation_date": 1573692766, "answer_id": 58847829, "question_id": 58847069, "link": "https://stackoverflow.com/questions/58847069/perl-pack-unpack-on-shell-variable/58847829#58847829", "title": "Perl Pack Unpack on Shell Variable", "body": "<pre><code>export rawHex=0x41000000\nperl -le'print unpack \"f\", pack \"L\", hex($ENV{rawHex})'\n</code></pre>\n\n<hr>\n\n<p>As you discovered, your code isn't equivalent to the following:</p>\n\n<pre><code>perl -e 'print unpack \"f\", pack \"L\", 0x41000000'\n</code></pre>\n\n<p>Your code is equivalent to the following:</p>\n\n<pre><code>perl -e 'print unpack \"f\", pack \"L\", \"0x41000000\"'\n</code></pre>\n\n<p>Like <code>\"0x41000000\"</code>, <code>$ENV{rawHex}</code> produces the <em>string</em> <code>0x41000000</code>. On the other hand, <code>0x41000000</code> produces the <em>number</em> one billion, ninety million, five hundred nineteen thousand and forty.</p>\n\n<p>To convert the hex representation of a number into the number it represents, one uses <code>hex</code>. Simply replace <code>$ENV{rawHex}</code> with <code>hex($ENV{rawHex})</code>.</p>\n\n<pre><code>export rawHex=0x41000000\nperl -le'print unpack \"f\", pack \"L\", hex($ENV{rawHex})'\n</code></pre>\n\n<p>The <code>-l</code> causes a line feed to be added to the output so you don't need to use <code>echo</code>. Feel free to remove the <code>l</code> if you're not actually using <code>echo</code></p>\n\n<p>Generating code (as suggested in the earlier answer) is a horrible practice.</p>\n"}], "owner": {"reputation": 53, "user_id": 10830140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1735b806c5c6629b74475276243490?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/10830140/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 58847829, "answer_count": 2, "score": 2, "last_activity_date": 1573706397, "creation_date": 1573687020, "question_id": 58847069, "link": "https://stackoverflow.com/questions/58847069/perl-pack-unpack-on-shell-variable", "title": "Perl Pack Unpack on Shell Variable", "body": "<p>Ultimately my goal is to convert a hexdump of data to the correct floating point value. I have set up my shell script to isolate the individual hex values I need to look at and arrange them in the correct order for a little Endian float conversion.</p>\n\n<p>To simplify everything, I'll bypass the code I have managed to get working, and I'll start with:</p>\n\n<pre><code>rawHex=0x41000000\necho $(perl -e 'print unpack \"f\", pack \"L\", $ENV{rawHex}')\n</code></pre>\n\n<p>When I execute this code, the result is 0. However if I were to execute the code without attempting to pull the value of the shell variable:</p>\n\n<pre><code>echo $(perl -e 'print unpack \"f\", pack \"L\", 0x41000000')\n</code></pre>\n\n<p>The result is 8, which is what I am expecting.</p>\n\n<p>I'd appreciate any help on how I can update my Perl expression to properly interpret the value of the shell variable. Thanks.</p>\n"}, {"tags": ["perl", "data-dumper"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1573693161, "post_id": 58846884, "comment_id": 103969163, "body": "It sounds like you&#39;re using Data::Dumper as more than a debugging aid. I recommend against that. If you&#39;re using it for data storage, JSON and YAML are far better choices."}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1581599898, "post_id": 58846884, "comment_id": 106495394, "body": "For debugging, perhaps try <a href=\"https://metacpan.org/pod/Data::Show\" rel=\"nofollow noreferrer\">Data::Show</a>?"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1581600553, "post_id": 58846884, "comment_id": 106495827, "body": "If you are trying to store data and aren&#39;t ready to try ikegami&#39;s suggestion of using JSON or YAML, you might want to check out <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\">Data::Dump</a>. But, JSON is very nice and more universal, in the sense that there are parsers for it in many languages, making it easier to share data with other people (or libraries, etc)."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1573725630, "last_edit_date": 1573725630, "creation_date": 1573693064, "answer_id": 58847863, "question_id": 58846884, "link": "https://stackoverflow.com/questions/58846884/how-do-i-control-the-whitespace-in-perls-datadumper/58847863#58847863", "title": "How do I control the whitespace in Perl&#39;s Data::Dumper?", "body": "<p>No. <code>$Data::Dumper::Indent</code> and <code>$Data::Dumper::Terse</code> are the only means of controlling the indenting.</p>\n"}], "owner": {"reputation": 49, "user_id": 9760498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-h1bj8imNXB4/AAAAAAAAAAI/AAAAAAAADUs/ME3JHSMt6qs/photo.jpg?sz=128", "display_name": "Vishwasu Deshpande", "link": "https://stackoverflow.com/users/9760498/vishwasu-deshpande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1581600106, "creation_date": 1573685761, "last_edit_date": 1581600106, "question_id": 58846884, "link": "https://stackoverflow.com/questions/58846884/how-do-i-control-the-whitespace-in-perls-datadumper", "title": "How do I control the whitespace in Perl&#39;s Data::Dumper?", "body": "<p>For <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a>, we have options for indentation:</p>\n\n<p><code>$Data::Dumper::Indent     = 1;</code></p>\n\n<p>I don't prefer 2 or 3. In option 1, it was 2 whitespace added. Can I change?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1573677135, "post_id": 58845033, "comment_id": 103963927, "body": "These would be features/rules of your &quot;Box Trapper&quot; thing, so it seems.  I&#39;d expect that there is some documentation for it, that&#39;ll explain what you can do. Perl is a programming language, which can also be used internally by other tools, but I do not at all understand from your question how it&#39;s involved with what you email-blocking need."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12369031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a28b1cb39c81c4e20ef7b008c82a72?s=128&d=identicon&r=PG&f=1", "display_name": "Tiago", "link": "https://stackoverflow.com/users/12369031/tiago"}, "edited": false, "score": 0, "creation_date": 1573816657, "post_id": 58846533, "comment_id": 104019337, "body": "Thank you so much for your help! I think that&#39;s exactly what I need :) I will try it and if that works as expect, I will definitely come back here and let you know!"}, {"owner": {"reputation": 3, "user_id": 12369031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a28b1cb39c81c4e20ef7b008c82a72?s=128&d=identicon&r=PG&f=1", "display_name": "Tiago", "link": "https://stackoverflow.com/users/12369031/tiago"}, "edited": false, "score": 0, "creation_date": 1574352604, "post_id": 58846533, "comment_id": 104211399, "body": "As promised, here&#39;s my comment: it works like a charm! I can&#39;t thank you enough for your help!"}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 3, "user_id": 12369031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a28b1cb39c81c4e20ef7b008c82a72?s=128&d=identicon&r=PG&f=1", "display_name": "Tiago", "link": "https://stackoverflow.com/users/12369031/tiago"}, "edited": false, "score": 0, "creation_date": 1574379616, "post_id": 58846533, "comment_id": 104223198, "body": "It should handle most email addresses -- even those which are incorrect: for example <code>!#$%^^&amp;*()@!#$%^&amp;*()_=.server.net</code>. In real life <code>.+</code> should be more specific something like <code>\\w+</code> [letters and digits] or <code>[\\w.]+</code> [letters,digits and .]. But valid emails will get <i>swallowed</i> just fine."}], "tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1573697858, "last_edit_date": 1573697858, "creation_date": 1573683734, "answer_id": 58846533, "question_id": 58845033, "link": "https://stackoverflow.com/questions/58845033/perl-expression-to-block-emails/58846533#58846533", "title": "Perl expression to block emails", "body": "<p>Well I recommend you do some reading on <strong>regex</strong> -- you will have a beautiful tool in your possession</p>\n\n<p>Now in regex: [minimal basics]</p>\n\n<pre><code>. - any symbol\n+ - 1 or more  (repeats)\n* - 0 or more  (repeats)\n{1,8} - 1 to 8 (repeats)\n? - stop symbol (none greedy match)\n</code></pre>\n\n<p>Now your regex will be <code>.+@.+\\.stream</code> :: any symbols followed with '@' followed by any symbols then '.' and ending in 'stream'. As you refer to e-mails then '@' is a critical element of pattern.</p>\n\n<p>Sample of perl code</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $debug = 0;\n\nwhile( &lt;DATA&gt; ) {\n    print if /.+@.+\\.stream/;\n}\n\n__DATA__\nuser1@subdomain1.stream\nuser2@subdomain2.stream\nuser3@sub.sub.domain.stream\nuser4@sub.domain.com\nuser5@sub.domain.org\nuser6@sub.sub.domain.net\n</code></pre>\n\n<p>For better understanding <strong>regex</strong> read following <a href=\"https://docstore.mik.ua/orelly/perl4/lperl/ch07_01.htm\" rel=\"nofollow noreferrer\">chapter</a></p>\n"}], "owner": {"reputation": 3, "user_id": 12369031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a28b1cb39c81c4e20ef7b008c82a72?s=128&d=identicon&r=PG&f=1", "display_name": "Tiago", "link": "https://stackoverflow.com/users/12369031/tiago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573697858, "creation_date": 1573676565, "question_id": 58845033, "link": "https://stackoverflow.com/questions/58845033/perl-expression-to-block-emails", "title": "Perl expression to block emails", "body": "<p>Before I begin: I have 0 clue what Perl is so please, don't \"kill\" me ;)\nWhat I'm about to ask is based on info on my CPanel for my domain/hosting (I'm not a developer or anything)</p>\n\n<p>So, on my CPanel I have this feature called \"Box Trapper\" to whitelist and blacklist emails.\nThey say that in order for me to block emails that come from a specific domain, I should use this:</p>\n\n<p><strong><em>from .+@gapot.stream</em></strong> (so that would block all emails coming from @gapot.stream</p>\n\n<p>now my question is: how would I write an expression if I wanted to block all emails that end with <strong><em>.stream</em></strong>, regardless of the beginning being \"gapot\" or anything else, for example:</p>\n\n<p><strong><em>@name1.stream</em></strong>, <strong><em>@name2.stream</em></strong> and any combination that ends with .stream would be blocked</p>\n\n<p>Hope it makes sense and someone here can help me (without being too technical, because I will not understand)</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["php", "regex", "perl"], "comments": [{"owner": {"reputation": 73199, "user_id": 2844319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYfls.png?s=128&g=1", "display_name": "AbraCadaver", "link": "https://stackoverflow.com/users/2844319/abracadaver"}, "edited": false, "score": 1, "creation_date": 1573663370, "post_id": 58841571, "comment_id": 103957610, "body": "Well just change <code>%tr</code> into a PHP array and run <code>strtr()</code> or for this just <a href=\"https://www.php.net/manual/en/function.htmlentities.php\" rel=\"nofollow noreferrer\">php.net/manual/en/function.htmlentities.php</a>."}, {"owner": {"reputation": 73, "user_id": 4824853, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d9f8d2f08a010e3595b5b7322404eda0?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Bloom", "link": "https://stackoverflow.com/users/4824853/alex-bloom"}, "reply_to_user": {"reputation": 73199, "user_id": 2844319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYfls.png?s=128&g=1", "display_name": "AbraCadaver", "link": "https://stackoverflow.com/users/2844319/abracadaver"}, "edited": false, "score": 0, "creation_date": 1573664514, "post_id": 58841571, "comment_id": 103958194, "body": "I had tried running htmlentities on this but my output came out blank which was strange. The input is coming from a db field from a pdo call. but if i feed it data from a string it does what it should do."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4824853, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d9f8d2f08a010e3595b5b7322404eda0?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Bloom", "link": "https://stackoverflow.com/users/4824853/alex-bloom"}, "edited": false, "score": 0, "creation_date": 1573665256, "post_id": 58842216, "comment_id": 103958557, "body": "Thanks so much. this did exactly what I needed it to do =)"}], "tags": [], "owner": {"reputation": 730, "user_id": 6009051, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/077b5fa5d4fce7acc4362c52fcd4de36?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Heinrich", "link": "https://stackoverflow.com/users/6009051/daniel-heinrich"}, "is_accepted": true, "score": -1, "last_activity_date": 1573664892, "creation_date": 1573664892, "answer_id": 58842216, "question_id": 58841571, "link": "https://stackoverflow.com/questions/58841571/perl-regex-to-php-function/58842216#58842216", "title": "Perl regex to php function", "body": "<p>You could use something like preg_replace_callback ( <a href=\"https://www.php.net/manual/function.preg-replace-callback.php\" rel=\"nofollow noreferrer\">https://www.php.net/manual/function.preg-replace-callback.php</a> )</p>\n\n<p>It might look something like this:</p>\n\n<pre><code>&lt;?\nfunction rssEnc($data) {\n    $tr = array(\n        \"'\" =&gt; '&amp;#34;',\n        \"\" =&gt; '&amp;#34;',\n        '\"' =&gt; '&amp;quot;',\n        '&amp;' =&gt; '&amp;amp;',\n        '$' =&gt; '&amp;#36;',\n        '&lt;' =&gt; '&amp;lt;',\n        '&gt;' =&gt; '&amp;gt;',\n        '' =&gt; '&amp;#39;'\n    );\n\n    $data = preg_replace_callback('/(&amp;(?!(#\\w*|quo|apo|amp|lt|gt);)|[\"\\'\\&lt;\\&gt;\\$])/m', \n        function($match) use($tr) {return $tr[$match[1]];}, \n        $data);\n    $data = preg_replace('/[^\\x21-\\x7e\\s\\t\\n\\r]/', '', $data);\n    return $data;\n};\n?&gt;\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4824853, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d9f8d2f08a010e3595b5b7322404eda0?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Bloom", "link": "https://stackoverflow.com/users/4824853/alex-bloom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58842216, "answer_count": 1, "score": -1, "last_activity_date": 1573664892, "creation_date": 1573662834, "question_id": 58841571, "link": "https://stackoverflow.com/questions/58841571/perl-regex-to-php-function", "title": "Perl regex to php function", "body": "<p>I lack basic understandings of RegEx, however I was tasked in converting this perl snippet into php with preg_replace and I cannot quite figure out how to get it to function properly as I cannot figure out how to properly escape the regex string into a var in php.</p>\n\n<pre><code>sub rssEnc {\n    my $DATA=shift;\n    my %tr=(\n    \"'\" =&gt; '&amp;#34;',\n    \"\" =&gt; '&amp;#34;',\n    '\"' =&gt; '&amp;quot;',\n    '&amp;' =&gt; '&amp;amp;',\n    '$' =&gt; '&amp;#36;',\n    '&lt;' =&gt; '&amp;lt;',\n    '&gt;' =&gt; '&amp;gt;',\n    '' =&gt; '&amp;#39;'\n    );\n    $DATA=~s/(&amp;(?!(#\\w*|quo|apo|amp|lt|gt);)|[\"'\\&lt;\\&gt;\\$])/$tr{$1}/g;\n    $DATA=~s/[^\\x{21}-\\x{7E}\\s\\t\\n\\r]//g;\nreturn $DATA;\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 124, "user_id": 795916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b22ecbc83632b26e8ff855ad9d4e4b?s=128&d=identicon&r=PG", "display_name": "Gaspode", "link": "https://stackoverflow.com/users/795916/gaspode"}, "edited": false, "score": 0, "creation_date": 1573655277, "post_id": 58838742, "comment_id": 103952830, "body": "Most of the time, it&#39;ll either be a hash or an array of hashes."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 124, "user_id": 795916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b22ecbc83632b26e8ff855ad9d4e4b?s=128&d=identicon&r=PG", "display_name": "Gaspode", "link": "https://stackoverflow.com/users/795916/gaspode"}, "edited": false, "score": 0, "creation_date": 1573655316, "post_id": 58838742, "comment_id": 103952857, "body": "Then you&#39;ll need to check the specific value of <code>ref $foo{blah}</code>"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 6, "last_activity_date": 1573653406, "creation_date": 1573653406, "answer_id": 58838742, "question_id": 58838590, "link": "https://stackoverflow.com/questions/58838590/always-treat-hash-element-as-array/58838742#58838742", "title": "Always treat hash element as array?", "body": "<p>Assuming it will always be either a scalar number or an array reference:</p>\n\n<p>Test, explicitly, if it is a reference. If it is, then assign it back to itself. Otherwise, wrap it in an array reference and assign that instead.</p>\n\n<pre><code>$foo{blah} = (ref $foo{blah}) ? $foo{blah} : [ $foo{blah} ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1573680919, "creation_date": 1573680919, "answer_id": 58845974, "question_id": 58838590, "link": "https://stackoverflow.com/questions/58838590/always-treat-hash-element-as-array/58845974#58845974", "title": "Always treat hash element as array?", "body": "<p>It is not clear what you try to achieve, more details with sample code demonstrating the usage would be more helpful</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $debug = 0;\n\nmy %hash = ( 'a' =&gt; 1, \n             'b' =&gt; [2,3,4,5,6,7,8,9], \n             'c' =&gt; { 'x' =&gt; 'one', 'y' =&gt; 'two', 'z' =&gt; 'three' }\n            );\n\nprint Dumper(\\%hash) if $debug;\n\nwhile( my ($k,$v) = each %hash ){\n     print \"[variable] $k = $v\\n\"        if ref $v eq '';\n     print \"[array   ] $k\\n\", Dumper($v) if ref $v eq 'ARRAY';\n     print \"[hash    ] $k\\n\", Dumper($v) if ref $v eq 'HASH';\n}\n</code></pre>\n\n<p>Please visit following <a href=\"https://docstore.mik.ua/orelly/bookshelfs.html\" rel=\"nofollow noreferrer\">webpage</a>, I believe you will find it useful</p>\n"}], "owner": {"reputation": 124, "user_id": 795916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b22ecbc83632b26e8ff855ad9d4e4b?s=128&d=identicon&r=PG", "display_name": "Gaspode", "link": "https://stackoverflow.com/users/795916/gaspode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 58838742, "answer_count": 2, "score": 2, "last_activity_date": 1573680919, "creation_date": 1573652946, "question_id": 58838590, "link": "https://stackoverflow.com/questions/58838590/always-treat-hash-element-as-array", "title": "Always treat hash element as array?", "body": "<p>If I have a hash of data from a JSON import, is there a neat way to handle cases where an element could be either a value or an array of values? </p>\n\n<p>So it could be </p>\n\n<pre><code>'blah' =&gt; [1,2,3,4,5]\n</code></pre>\n\n<p>or </p>\n\n<pre><code>'blah' =&gt; 1\n</code></pre>\n\n<p>Can I 'force' <code>blah</code> to be an array, even if it's not, so I can iterate over it and not worry about the number of elements?</p>\n\n<p>I thought I could possibly push the contents of <code>blah</code> onto an empty array which would either push the single value onto the array or join the two arrays together. Is there a neat/best way to do this?</p>\n"}, {"tags": ["perl", "fork", "ipc"], "comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1573656827, "post_id": 58838349, "comment_id": 103953676, "body": "I don&#39;t see what is <i>safe</i> about your <code>run_cmd</code> function vis-a-vis the perl docs you reference.  Those are specifically discussing the special construct of opening <code>&quot;|-&quot;</code> and <code>&quot;-|&quot;</code>, neither of which is what you are doing.  Please see <a href=\"https://perldoc.perl.org/perlsec.html\" rel=\"nofollow noreferrer\"><code>perlsec</code></a> for a discussion of untrusted/tainted inputs (e.g., your <code>$cmd</code>)."}, {"owner": {"reputation": 1563, "user_id": 7334162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2aa3c8e148927fb3ca4c94b03f051711?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre", "link": "https://stackoverflow.com/users/7334162/pierre"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1573656989, "post_id": 58838349, "comment_id": 103953771, "body": "@pilcrow <code>open($fcmd, &quot;$cmd 2&gt;&amp;1 |&quot;)</code> is equivalent to <code>open($fcmd, &quot;-|&quot;, &quot;$cmd 2&gt;&amp;1&quot;)</code>. See <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/open.html</a>."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1573657941, "post_id": 58838349, "comment_id": 103954312, "body": "Thanks, @Pierre.  It&#39;s my understanding that the <i>safety</i> referenced has to do primarily with avoiding shell parsing of (possibly <a href=\"https://perldoc.perl.org/perlsec.html#Taint-mode\" rel=\"nofollow noreferrer\">tainted</a>) command arguments, by controlling precisely what the child does or exec()s.  (Also, <code>open($fh, $mode, @list)</code>.) That seems to me to apply here."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573668287, "post_id": 58838349, "comment_id": 103960006, "body": "I see that you found your answer on the account of what  <code>FATAL</code> does ... still, a comment: the <code>open</code> has to fork, how else would it run another process? And it can&#39;t know whether that new process is fine or not before that gets run.  Also note that here a shell will be started (to get that <code>2&gt;&amp;1</code> done) and I think that it, too, will fork to run the job."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1573669071, "post_id": 58838349, "comment_id": 103960364, "body": "Note: there are a number of good modules for running (and controlling external commands), with control over standard streams as well.  In the order of increasing capability and complexity, see for example <code>Capture::Tiny</code>, <code>IPC::Run3</code>, <code>IPC::Run</code>.  Also note <code>IPC::System::Simple</code>"}, {"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 0, "creation_date": 1574046363, "post_id": 58838349, "comment_id": 104077498, "body": "That &quot;cannot fork&quot; error message is wrong and misleading. <code>open -|</code> will also fail if the the child process has immediately exited because of execve(2) errors. Example: <code>perl -e &#39;$SIG{CLD}=sub{warn &quot;the child forked &#47;me&#47;\\n&quot;};open my $fh, &quot;-|&quot;, &quot;nope&quot; or print &quot;open failed\\n&quot;&#39;</code>"}, {"owner": {"reputation": 2385, "user_id": 10306503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c5d6c9b08dd045f4876591d703bda6?s=128&d=identicon&r=PG", "display_name": "mosvy", "link": "https://stackoverflow.com/users/10306503/mosvy"}, "edited": false, "score": 0, "creation_date": 1574047855, "post_id": 58838349, "comment_id": 104077806, "body": "And there&#39;s no way fork/clone could fail with <code>ENOENT</code> (&quot;No such file or directory&quot;). For anybody who may wonder, perl is <a href=\"https://perl5.git.perl.org/perl.git/blob/37e7f9c10d7c4b145b48133dcde5058d875bed7b:/doio.c#l2280\" rel=\"nofollow noreferrer\">using a pipe</a> to transmit the execve errno from the parent to the child."}], "answers": [{"tags": [], "owner": {"reputation": 1563, "user_id": 7334162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2aa3c8e148927fb3ca4c94b03f051711?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre", "link": "https://stackoverflow.com/users/7334162/pierre"}, "is_accepted": true, "score": 2, "last_activity_date": 1573655587, "creation_date": 1573655587, "answer_id": 58839422, "question_id": 58838349, "link": "https://stackoverflow.com/questions/58838349/why-open-function-forks-when-the-given-command-is-wrong/58839422#58839422", "title": "Why open function forks when the given command is wrong?", "body": "<p>The use of <code>warnings FATAL =&gt; 'all'</code> has a side-effect on the <code>open</code> function. Indeed, if <code>open</code> gets a warning, it immediately dies. So, if I remove it from the code, I get a correct output:</p>\n\n<pre><code>Cannot fork: No such file or directory\nCannot fork: No such file or directory\nCannot fork: No such file or directory\nCannot fork: No such file or directory\nCannot fork: No such file or directory\nCannot fork: No such file or directory\nCannot fork: No such file or directory\nCannot fork: No such file or directory\npierre 207725  2.3  0.0  21644  4432 pts/1    S+   15:28   0:00 perl open.pl\npierre 207750  0.0  0.0   4320   816 pts/1    S+   15:28   0:00 sh -c ps aux | egrep open\npierre 207752  0.0  0.0  12752   984 pts/1    S+   15:28   0:00 grep -E open\n-----\ngood_command\nEnd safe_run_cmd\npierre 207725  2.3  0.0  21644  4448 pts/1    S+   15:28   0:00 perl open.pl\npierre 207754  0.0  0.0   4320   748 pts/1    S+   15:28   0:00 sh -c ps aux | egrep open\npierre 207756  0.0  0.0  12752   996 pts/1    S+   15:28   0:00 grep -E open\n</code></pre>\n\n<p>To automaticly die if the command doesn't exist, it is possible to use <a href=\"https://perldoc.perl.org/autodie.html\" rel=\"nofollow noreferrer\"><code>autodie</code></a> instead of the <code>do</code> block:</p>\n\n<pre><code>sub safe_run_cmd {\n    my ($cmd) = @_;\n    my $pid;\n    my $sleep_count;\n    my $fcmd;\n\n    use autodie;\n    $pid = open($fcmd, \"$cmd 2&gt;&amp;1 |\");\n\n    while ( my $line = &lt;$fcmd&gt; ) {\n        print $line;\n    }\n    close $fcmd;\n\n    print(\"End safe_run_cmd\\n\");\n}\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>pierre 211968 11.5  0.0  26544  7244 pts/1    S+   15:32   0:00 perl open.pl\npierre 211971  0.0  0.0   4320   768 pts/1    S+   15:32   0:00 sh -c ps aux | egrep open\npierre 211973  0.0  0.0  12752  1064 pts/1    S+   15:32   0:00 grep -E open\n-----\ngood_command\nEnd safe_run_cmd\npierre 211968 11.5  0.0  26544  7264 pts/1    S+   15:32   0:00 perl open.pl\npierre 211975  0.0  0.0   4320   792 pts/1    S+   15:32   0:00 sh -c ps aux | egrep open\npierre 211977  0.0  0.0  12752  1032 pts/1    S+   15:32   0:00 grep -E open\n</code></pre>\n"}], "owner": {"reputation": 1563, "user_id": 7334162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2aa3c8e148927fb3ca4c94b03f051711?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre", "link": "https://stackoverflow.com/users/7334162/pierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 58839422, "answer_count": 1, "score": 1, "last_activity_date": 1573655587, "creation_date": 1573652111, "last_edit_date": 1573654228, "question_id": 58838349, "link": "https://stackoverflow.com/questions/58838349/why-open-function-forks-when-the-given-command-is-wrong", "title": "Why open function forks when the given command is wrong?", "body": "<p>In a Perl script, I want to execute a system command and write the output in the console. Here is a snippet who reproduce the behavior of my script:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings FATAL =&gt; 'all';\n\nsub safe_run_cmd {\n    my ($cmd) = @_;\n    my $pid;\n    my $sleep_count;\n    my $fcmd;\n\n    do {\n        $pid = open($fcmd, \"$cmd 2&gt;&amp;1 |\");\n        unless(defined $pid) {\n            warn(\"Cannot fork: $!\\n\");\n            die(\"Bailing out\\n\") if $sleep_count++ &gt; 6;\n            sleep(1);\n        }\n    } until (defined $pid);\n\n    if($pid) {\n        while ( my $line = &lt;$fcmd&gt; ) {\n            print $line;\n        }\n        close $fcmd;\n    } else {\n        exit(0);\n    }\n\n    print(\"End safe_run_cmd\\n\");\n}   \n\neval{safe_run_cmd(\"bad_command\")};\nprint(`ps aux | egrep open`);\n\nprint(\"-----\\n\");\n\neval{safe_run_cmd(\"echo good_command\")};\nprint(`ps aux | egrep open`);\n</code></pre>\n\n<p>I called the function <em>safe</em> because I follow what is described in the <a href=\"https://perldoc.perl.org/perlipc.html#Safe-Pipe-Opens\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>If I run my script, I get this:</p>\n\n<pre><code>pierre 146161 21.0  0.0  21916  4548 pts/1    S+   14:32   0:00 perl open.pl\npierre 146163  0.0  0.0  21916  2816 pts/1    S+   14:32   0:00 perl open.pl\npierre 146164  0.0  0.0   4320   756 pts/1    S+   14:32   0:00 sh -c ps aux | egrep open\npierre 146166  0.0  0.0  12752  1008 pts/1    S+   14:32   0:00 grep -E open\n-----\ngood_command\nEnd safe_run_cmd\npierre 146161 10.5  0.0  21916  4548 pts/1    S+   14:32   0:00 perl open.pl\npierre 146163  0.0  0.0  21916  3516 pts/1    S+   14:32   0:00 perl open.pl\npierre 146168  0.0  0.0   4320   756 pts/1    S+   14:32   0:00 sh -c ps aux | egrep open\npierre 146170  0.0  0.0  12752   996 pts/1    S+   14:32   0:00 grep -E open\nEnd safe_run_cmd\npierre 146161 10.5  0.0  21916  4744 pts/1    S+   14:32   0:00 perl open.pl\npierre 146171  0.0  0.0   4320   708 pts/1    S+   14:32   0:00 sh -c ps aux | egrep open\npierre 146173  0.0  0.0  12752  1008 pts/1    S+   14:32   0:00 grep -E open\n-----\ngood_command\nEnd safe_run_cmd\npierre 146161 10.5  0.0  21916  4744 pts/1    S+   14:32   0:00 perl open.pl\npierre 146175  0.0  0.0   4320   788 pts/1    S+   14:32   0:00 sh -c ps aux | egrep open\npierre 146177  0.0  0.0  12752  1012 pts/1    S+   14:32   0:00 grep -E open\n</code></pre>\n\n<p>We can see, when I print the list of the processes after running the bad command, I have two perl forks. When the first one ends, the second one continue from the call of <code>open</code>. But, when the command is right, <code>open</code> doesn't fork.</p>\n\n<p>What can I do to avoid this fork (or to manage it) and to display an error message when the command is bad?</p>\n"}, {"tags": ["arrays", "perl", "pass-by-reference"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1573644822, "post_id": 58835742, "comment_id": 103947062, "body": "Start with <code>use strict;</code> and <code>use warnings;</code> along with a tool like Perl Tidy to fix your indentation."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1573644879, "post_id": 58835742, "comment_id": 103947085, "body": "Also start by adding a bit of whitespace and cleaning up the indentation :-)"}, {"owner": {"reputation": 51, "user_id": 3718359, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001378034042/picture?type=large", "display_name": "user3718359", "link": "https://stackoverflow.com/users/3718359/user3718359"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1573650098, "post_id": 58835742, "comment_id": 103949722, "body": "@Quentin tidy failed to make it tidy. I will try other ways... I need to do manually as commented by Dave cross"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1573684042, "post_id": 58835742, "comment_id": 103966826, "body": "ALWAYS use <code>use strict; use warnings;</code>. And stop cluttering your code with attempts to clear your vars. In particular, <code>undef $var; my $var</code> makes no sense. It clears an (unused) package var named <code>$var</code>, then creates a new completely unrelated variable with the same name."}, {"owner": {"reputation": 51, "user_id": 3718359, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001378034042/picture?type=large", "display_name": "user3718359", "link": "https://stackoverflow.com/users/3718359/user3718359"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573802662, "post_id": 58835742, "comment_id": 104012314, "body": "@ikegami thanks for the suggestions.. The undef was used as an attempt to clear variable to avoid any copies. The above code was part of a big code which I did when I started perl coding as a hobby 5 years ago. After putting strict for the complete code and fixing them all, the code went to infinite loop. Any way this snippet works as intented now."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1573722172, "post_id": 58841638, "comment_id": 103977971, "body": "<i>I was using it as a variable instead of declaring as array.</i> Er... that makes no sense. What (I think) you mean is that you were declaring it as a scalar variable, but you should have declared it as a hash variable."}], "tags": [], "owner": {"reputation": 51, "user_id": 3718359, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001378034042/picture?type=large", "display_name": "user3718359", "link": "https://stackoverflow.com/users/3718359/user3718359"}, "is_accepted": false, "score": 0, "last_activity_date": 1573663053, "creation_date": 1573663053, "answer_id": 58841638, "question_id": 58835742, "link": "https://stackoverflow.com/questions/58835742/passing-array-by-reference-perl/58841638#58841638", "title": "passing Array by reference perl", "body": "<p>Thanks for the guidance. The strict and warnings helped. The actual issue was \"my $_petArray;\" had to be \"my %_petArray;\". I was using it as a variable instead of declaring as array.</p>\n"}], "owner": {"reputation": 51, "user_id": 3718359, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001378034042/picture?type=large", "display_name": "user3718359", "link": "https://stackoverflow.com/users/3718359/user3718359"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573663053, "creation_date": 1573643115, "last_edit_date": 1573644645, "question_id": 58835742, "link": "https://stackoverflow.com/questions/58835742/passing-array-by-reference-perl", "title": "passing Array by reference perl", "body": "<p>The problem with code is petlist2_out has last lines of petlist1_out when inputfile1 has more lines  than inputfile2. it looks like array passed by reference is to function and copied back is keeping older array content. Please help. the code is working perfectly for all other cases. i am not sure on how to clean the arrays and varaibles other than using undef. When using references how to avoid using same location when function is called multiple times?</p>\n\n<p>i am not a professional in Perl coding.</p>\n\n<pre><code>use File::Basename;\n\n#use warnings;\nif ($#ARGV != 1 ) \n     {\n     print \"usage: sort_petlist_extract.pl old-petlist new-petlist\";\n    exit;\n     }\n\nprint \"\\n******    Reading petlist .....\\n\";\n\n$inputfile1 = shift(@ARGV);                     #get text based IN filename\n$inputfile2 = shift(@ARGV);                     #get text based IN filename\n\nmy $result   = dirname $inputfile2;\nprint $result;\n#my $filename = basename $filespec;\n\n#$result = 'C:\\\\temp\\\\';\n\n#my $inputfile=$ARGV[0];\n\nopen(log_file, \"&gt; \".$result.'\\\\'.\"debug.log\");\nopen(diff_rpt_file, \"&gt; \".$result.'\\\\'.\"diff_report.txt\");\n\nprint log_file  $inputfile1.\"\\n\";\nprint  log_file $inputfile2.\"\\n\";\n\nopen(petlist1, \"&lt; $inputfile1\") or die \"\\nCouldn't open input file\\n\";\nmy @input_lines1 = &lt;petlist1&gt;;\nclose petlist1;\nchomp @input_lines1;\n#foreach(@input_lines1){print log_file $_.\"\\n\";}\nmy($petlist1_2d_ref)=extract_petlist_file(\\@input_lines1);\nmy %petArray1 = %{$petlist1_2d_ref};\nundef @input_lines1;\nprint log_file $petArray1_ref .\"\\n\";\nprint scalar keys %petArray1;\nopen(petlist1_out, \"&gt; \".$result.'\\\\'.\"petlist1_out.txt\");       \n#just test a display\n for($i=0;$i&lt;(scalar keys %petArray1);$i++)#just a display\n     {\n     print petlist1_out \"${$petArray1{$i}}[0] \\t ${$petArray1{$i}}[1] \\n\";\n     }\nclose petlist1_out;\nundef %petArray1;\nprint log_file \"###############################################################################first file copied to array#######################################\\n\";\nprint \"####################first file copied to array########################\\n\";\n\n\n\nopen(petlist2, \"&lt; $inputfile2\") or die \"\\nCouldn't open input file\\n\";  \nmy @input_lines2 = &lt;petlist2&gt;;\nclose petlist2;\nchomp @input_lines2;\n#foreach(@input_lines2){print log_file $_.\"\\n\";}\nundef $petlist2_2d_ref;\nmy($petlist2_2d_ref)=extract_petlist_file(\\@input_lines2);\nmy %petArray2 = %{$petlist2_2d_ref};\n#my($page_petname)=extract_page_petname(\\@input_lines2);### page number extracttion\nundef @input_lines2;\nprint log_file $petArray2_ref.\"\\n\";\nprint scalar keys %petArray2;\nopen(petlist2_out, \"&gt; \".$result.'\\\\'.\"petlist2_out.txt\");\n#just test a display\n for($i=0;$i&lt;(scalar keys %petArray2);$i++)#just a display\n     {\n     print petlist2_out \"${$petArray2{$i}}[0] \\t ${$petArray2{$i}}[1] \\n\";\n     }\nclose petlist2_out; \nprint log_file \"###############################################################################second file copied to array #######################################\\n\";\nprint \"####################second file copied to array ######################\\n\";\n\n\n\n####################### sub routines\nsub extract_petlist_file\n{\nundef $arr1;\nmy $arr1=$_[0];\nundef @petlist;\nmy @petlist=@$arr1;\n#foreach(@petlist){print log_file $_.\"\\n\";}\nmy $temp1='';\nmy $temp2='';\nundef @temp;#clear 1D array\nmy @temp;\nundef $_petArray;\nmy $_petArray;\nundef $i;\nprint log_file scalar @petlist.\"\\n\";\nmy $k=0;\nmy $pattern1='PET_NAME';\n\nfor(my $i=0;$i&lt;(scalar @petlist);$i++)\n        {\n#print \"$i\\n\";\n#print log_file $_;\n        $_=$petlist[$i];\n\n        if ((m/$pattern1/) &amp;&amp; $combine_flag eq 0)# first time ever in the loop\n                    {\n\n\n                    }\n\n\n        }\n\n#store the last pet connection to array\n@temp=($temp1,$temp2); \n$_petArray{$k}=[@temp];     \nundef @temp;\nundef $temp1;\nundef $temp2;       \n\n\nreturn \\%_petArray;\n}\n</code></pre>\n"}, {"tags": ["perl", "conditional-statements"], "answers": [{"comments": [{"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1573662259, "post_id": 58834669, "comment_id": 103956922, "body": "This may not apply to the OP&#39;s question, but in general <code>any</code> is faster than <code>grep</code>. From the docs: <i>Many cases of using &quot;grep&quot; in a conditional can be written using &quot;any&quot; instead, as <b>it can short-circuit after the first true result</b>.</i>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1573684670, "post_id": 58834669, "comment_id": 103967044, "body": "@Timur Sharland, <code>grep</code> is <a href=\"https://pastebin.com/6g6QgGg2\" rel=\"nofollow noreferrer\">more than twice as fast</a> in the case here most favorable to <code>any</code> here. The reason is that the <code>any</code> version requires two subroutine calls, while the <code>grep</code> version requires none. Both the call to <code>any</code> and the condition &quot;block&quot; passed to <code>any</code> are subroutine calls, and those are expensive. <code>grep</code> is an operator (not a subroutine), and the block passed to <code>grep</code> is truly a block (not a subroutine)."}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 5, "last_activity_date": 1573639683, "creation_date": 1573639683, "answer_id": 58834669, "question_id": 58834446, "link": "https://stackoverflow.com/questions/58834446/perl-or-conditions/58834669#58834669", "title": "Perl OR conditions", "body": "<p>Using <a href=\"https://metacpan.org/pod/List::Util\" rel=\"noreferrer\">handy module <code>List::Util</code></a>, you can do something like:</p>\n\n<pre><code>use List::Util qw/any/;\n\n...\nelsif (any { !$params{$_} } qw/account type sampledate lastpwchange system wspass/) {\n    print $cgi-&gt;header(\"text/plain\"), \"some mandatory parameters are missing\";\n}\n</code></pre>\n\n<p>Please note that your expression does not <em>exactly</em> checks for emptiness; it actually performs a boolean check, so a parameter having value <code>0</code> would also fail the check. This might, or might not be what you want.</p>\n"}, {"comments": [{"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1573662531, "post_id": 58834700, "comment_id": 103957089, "body": "<code>grep</code> is the best solution if you either do not want to use any modules, or if you want to keep <b>all</b> keys selected by the condition (e.g., to print as part of the error message), e.g, <code>my @missing = grep ... ; print &quot;missing arguments: @missing&quot; if @missing;</code>"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1573639780, "creation_date": 1573639780, "answer_id": 58834700, "question_id": 58834446, "link": "https://stackoverflow.com/questions/58834446/perl-or-conditions/58834700#58834700", "title": "Perl OR conditions", "body": "<p>You can use <a href=\"https://perldoc.perl.org/functions/grep.html\" rel=\"noreferrer\"><code>grep</code></a> to do that.</p>\n\n<pre><code>my %stuff = map { $_ =&gt; 1 } qw/ foo bar baz qrr qux asdf hello world /;\n$stuff{foo} = 1; # toggle here\n\nmy $missing = grep { ! $stuff{$_} } qw/ foo bar baz qrr qux asdf hello world /;\nprint \"missing argument\" if $missing;\n</code></pre>\n"}], "owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 58834669, "answer_count": 2, "score": 4, "last_activity_date": 1573640125, "creation_date": 1573639038, "last_edit_date": 1573640125, "question_id": 58834446, "link": "https://stackoverflow.com/questions/58834446/perl-or-conditions", "title": "Perl OR conditions", "body": "<p>i have a code with many OR conditions like this (working fine) to check if one of the values is empty, then we throw an error message (all of them must be filled) </p>\n\n<pre><code> } elsif (\n    !$params{'account'} \n    || !$params{'type'} \n    || !$params{'sampledate'} \n    || !$params{'lastpwchange'} \n    || !$params{'system'} \n    || !$params{'wspass'}\n) {\n    print $cgi-&gt;header(\"text/plain\"), \"some mandatory parameters are missing\";\n}\n</code></pre>\n\n<p>i need to add many other variables in that condition, making the line a bit unreadable.</p>\n\n<p>i was wondering if there was a more elegant way of specifying all of them, maybe using an array/list of some kind ?</p>\n\n<p>thank you</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 2, "creation_date": 1573634666, "post_id": 58833082, "comment_id": 103941623, "body": "What do you expect your code to do, and what does it actually do?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1573634807, "post_id": 58833082, "comment_id": 103941697, "body": "Did you mean <code>print &quot;$hash{$wafer[0]}{$site[0]} \\n&quot;;</code> on the last line?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1573634865, "post_id": 58833082, "comment_id": 103941728, "body": "Also, if you run <code>last</code> unconditionally, you don&#39;t need a loop. You just always use <code>$result = $res[0];</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1573636906, "post_id": 58833082, "comment_id": 103942822, "body": "I&#39;m afraid that just showing us (broken?) code isn&#39;t very helpful. Please edit your question to add a description of what you expect to see. What output are you looking for?"}, {"owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 0, "creation_date": 1573642193, "post_id": 58833082, "comment_id": 103945696, "body": "i wanted to print the variable wafer, site and res side by side so it will look like this 1, 1, 63 then next row 1,  2,  -53 then 1, 3, 9.47  then 1, 4, 9.55 then lastly 1, 5, -8.32"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1573643703, "post_id": 58833082, "comment_id": 103946529, "body": "@kayegabato: Please <a href=\"https://stackoverflow.com/posts/58833082/edit\">edit your question</a> to add this new information."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 1, "creation_date": 1573645960, "post_id": 58835507, "comment_id": 103947595, "body": "for my $index (0 .. $#wafer) - may i ask what this $#wafer stands for?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 1, "creation_date": 1573646494, "post_id": 58835507, "comment_id": 103947847, "body": "@kayegabato: If you have an array called <code>@some_array_name</code> then Perl gives you an extra scalar variable, called <code>$#some_array_name</code> which always contains the value of the last index in the array (or -1 if the array is empty)."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1573642376, "creation_date": 1573642376, "answer_id": 58835507, "question_id": 58833082, "link": "https://stackoverflow.com/questions/58833082/declare-hash-variable-in-loop/58835507#58835507", "title": "Declare hash variable in loop", "body": "<p>When you want to iterate several arrays synchronously, iterate over the indices:</p>\n\n<pre><code>for my $index (0 .. $#wafer) {\n    print \"$wafer[$index] $site[$index] $res[$index]\\n\";\n}\n</code></pre>\n\n<p>You also might want to build a hash keyed by the site (as it's the only unique value):</p>\n\n<pre><code>for my $index (0 .. $#wafer) {\n    $hash{ $site[$index] } = { wafer =&gt; $wafer[$index],\n                               res   =&gt; $res[$index] };\n}\n</code></pre>\n\n<p>This will create a hash like this:</p>\n\n<pre><code>%hash = (\n      '4' =&gt; {\n               'res' =&gt; '9.55',\n               'wafer' =&gt; '1'\n             },\n      '3' =&gt; {\n               'wafer' =&gt; '1',\n               'res' =&gt; '9.47'\n             },\n      '1' =&gt; {\n               'res' =&gt; '63',\n               'wafer' =&gt; '1'\n             },\n      '2' =&gt; {\n               'res' =&gt; '-53',\n               'wafer' =&gt; '1'\n             },\n      '5' =&gt; {\n               'res' =&gt; '-8.32',\n               'wafer' =&gt; '1'\n             }\n    );\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 58835507, "answer_count": 1, "score": 0, "last_activity_date": 1573646474, "creation_date": 1573633973, "last_edit_date": 1573646474, "question_id": 58833082, "link": "https://stackoverflow.com/questions/58833082/declare-hash-variable-in-loop", "title": "Declare hash variable in loop", "body": "<p>I need to use a hash and loop in my code. Please see the sample code it's not working. i wanted to print the variable wafer, site and res side by side so it will look like this </p>\n\n<pre><code>1, 1, 63 \n1, 2, -53 \n1, 3, 9.47 \n1, 4, 9.55 \n1, 5, -8.32\n\nmy @wafer = (\"1\",\"1\",\"1\",\"1\",\"1\");\nmy @site = (\"1\", \"2\", \"3\", \"4\", \"5\");\nmy @res = (\"63\",\"-53\",\"9.47\",\"9.55\",\"-8.32\");\n\nmy %hash;\nforeach my $result(@res) {\n    $hash{$wafer[0]}{$site[0]} = $result;\n    last;\n}\n\nprint \"$wafer{$wafer[0]}{$site[0]} \\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1573675594, "post_id": 58826323, "comment_id": 103963258, "body": "Following web page explains it all <a href=\"https://perlmaven.com/the-diamond-operator\" rel=\"nofollow noreferrer\">perlmaven.com/the-diamond-operator</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573597981, "post_id": 58826334, "comment_id": 103931733, "body": "And the third operand defaults to 0. <code>split(&#47;,&#47;)</code> is short for <code>split(&#47;,&#47;, $_, 0)</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1573610273, "post_id": 58826334, "comment_id": 103934613, "body": "@ysth, What I said is correct. <code>split(&#47;,&#47;)</code> is short for <code>split(&#47;,&#47;, $_, 0)</code>. But yeah, <code>split(&#47;,&#47;, $_, 0)</code> and thus <code>split(&#47;,&#47;)</code> get optimized to <code>split(&#47;,&#47;, $_, 5)</code> when on the RHS of a 4-item assignment. And this is actually documented (because it&#39;s an imperfect optimization because it happens even if the assignment is evaluated in scalar context)."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573613699, "post_id": 58826334, "comment_id": 103935323, "body": "@ikegami you are arguably correct, it defaults to 0 and then the 0 is optimized to 5.  deleting my comment"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 3, "last_activity_date": 1573597943, "last_edit_date": 1573597943, "creation_date": 1573591212, "answer_id": 58826334, "question_id": 58826323, "link": "https://stackoverflow.com/questions/58826323/missing-expression-in-split-syntax-in-perl/58826334#58826334", "title": "Missing expression in split syntax in perl", "body": "<p>The <a href=\"https://perldoc.pl/functions/split\" rel=\"nofollow noreferrer\">split documentation</a> explains what happens when each argument is omitted.</p>\n\n<blockquote>\n  <p>If only PATTERN is given, EXPR defaults to <code>$_</code>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1573613735, "last_edit_date": 1573613735, "creation_date": 1573604862, "answer_id": 58828660, "question_id": 58826323, "link": "https://stackoverflow.com/questions/58826323/missing-expression-in-split-syntax-in-perl/58828660#58828660", "title": "Missing expression in split syntax in perl", "body": "<p>This code uses a number of shortcuts.  It is equivalent to this:</p>\n\n<pre><code>while(defined($_ = readline(ARGV))) {\n   chomp($_);\n   my($v1, $v2, $v3, $v4) = split(/,/, $_, 5);\n</code></pre>\n"}], "owner": {"reputation": 8788, "user_id": 2236401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06a91e6a7b9d4c46e5a39e18a5491a93?s=128&d=identicon&r=PG", "display_name": "sedavidw", "link": "https://stackoverflow.com/users/2236401/sedavidw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 58826334, "answer_count": 2, "score": 1, "last_activity_date": 1573613735, "creation_date": 1573591142, "question_id": 58826323, "link": "https://stackoverflow.com/questions/58826323/missing-expression-in-split-syntax-in-perl", "title": "Missing expression in split syntax in perl", "body": "<p>I haven't done much (any really) perl programming and today someone sent me some code to review in perl.  Mostly I can understand what's happening but there was one line that I simply cannot get my head around, the split function in the code block below</p>\n\n<pre><code> while(&lt;&gt;) {\n   chomp;\n   my($v1, $v2, $v3, $v4) = split(/,/);\n\n   # ....\n</code></pre>\n\n<p>I read this <a href=\"https://www.geeksforgeeks.org/perl-split-function/\" rel=\"nofollow noreferrer\">blog post</a> and it suggests that the syntax is valid (and I believe that it is).  But what I don't understand is what exactly is being split with the <code>Expression</code> missing</p>\n"}, {"tags": ["perl", "subroutine", "declare"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573580354, "post_id": 58823042, "comment_id": 103924667, "body": "See also <a href=\"https://stackoverflow.com/q/36361651/2173773\">Getting all arguments passed to a subroutine as a string in Perl</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573580550, "post_id": 58823042, "comment_id": 103924751, "body": "<a href=\"https://metacpan.org/pod/Debug::Show\" rel=\"nofollow noreferrer\">Debug::Show</a> or <a href=\"https://metacpan.org/pod/Debug::ShowStuff::ShowVar\" rel=\"nofollow noreferrer\">Debug::ShowStuff::ShowVar</a> looks promising"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1573580971, "post_id": 58823042, "comment_id": 103924940, "body": "I also created a pull request to <a href=\"https://github.com/garu/Data-Printer/pull/74\" rel=\"nofollow noreferrer\">Data::Printer</a> 4 years ago that does this."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1573577877, "creation_date": 1573577877, "answer_id": 58823319, "question_id": 58823042, "link": "https://stackoverflow.com/questions/58823042/how-can-i-display-a-variables-name-in-perl-along-with-the-value-of-the-variabl/58823319#58823319", "title": "how can I display a variable&#39;s name in perl, along with the value of the variable?", "body": "<p>You can do something like this with <a href=\"https://metacpan.org/pod/PadWalker\" rel=\"nofollow noreferrer\">PadWalker</a> (which you'll need to install from CPAN). But it's almost certainly far more complex than you'd like it to be.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings; \nuse PadWalker 'peek_my';\n\nmy $dog=\"pitbull\";\nprint STDERR \"dog=$dog\\n\";\nsub checkvariable {\n  my $h = peek_my(0);\n  foreach (@_) {\n    print '$', $_,'=', ${$h-&gt;{'$'. $_}}, \"\\n\";\n  }\n}\ncheckvariable \"dog\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 2, "last_activity_date": 1573578461, "creation_date": 1573578461, "answer_id": 58823458, "question_id": 58823042, "link": "https://stackoverflow.com/questions/58823042/how-can-i-display-a-variables-name-in-perl-along-with-the-value-of-the-variabl/58823458#58823458", "title": "how can I display a variable&#39;s name in perl, along with the value of the variable?", "body": "<p>(not an answer, a formatted comment) </p>\n\n<p>The checkvariable sub receives only a value, and there's no (simple or reliable) way to find out what <em>variable</em> holds that <em>value</em>.</p>\n\n<p>This is why Data::Dumper forces you to specify the varnames as strings:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>perl -MData::Dumper -E '\n  my $x = 42;\n  my $y = \"x\";\n  say Data::Dumper-&gt;Dump([$x, $y]);\n  say Data::Dumper-&gt;Dump([$x, $y], [qw/x y/])\n'\n</code></pre>\n\n<pre><code>$VAR1 = 42;\n$VAR2 = 'x';\n\n$x = 42;\n$y = 'x';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "is_accepted": false, "score": 3, "last_activity_date": 1573592139, "creation_date": 1573592139, "answer_id": 58826527, "question_id": 58823042, "link": "https://stackoverflow.com/questions/58823042/how-can-i-display-a-variables-name-in-perl-along-with-the-value-of-the-variabl/58826527#58826527", "title": "how can I display a variable&#39;s name in perl, along with the value of the variable?", "body": "<p><a href=\"https://metacpan.org/pod/distribution/Data-Dumper-Names/lib/Data/Dumper/Names.pm\" rel=\"nofollow noreferrer\">Data::Dumper::Names</a> may be what you're looking for.</p>\n\n<pre><code>#! perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper::Names;\n\nmy $dog = 'pitbull';\nmy $cat = 'lynx';\nmy @mice = qw(jumping brown field);\n\ncheckvariable($dog, $cat, \\@mice);\n\nsub checkvariable {\n    print Dumper @_;\n}\n\n1;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>perl test.pl\n\n$dog = 'pitbull';\n$cat = 'lynx';\n@mice = (\n          'jumping',\n          'brown',\n          'field'\n        );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1573677909, "creation_date": 1573677909, "answer_id": 58845348, "question_id": 58823042, "link": "https://stackoverflow.com/questions/58823042/how-can-i-display-a-variables-name-in-perl-along-with-the-value-of-the-variabl/58845348#58845348", "title": "how can I display a variable&#39;s name in perl, along with the value of the variable?", "body": "<p>Something as following usually helps</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $debug = 1;\n\nmy $container = 20;\nmy %hash      = ( 'a' =&gt; 7, 'b' =&gt; 2, 'c' =&gt; 0 );\nmy @array     = [ 1, 7, 9, 8, 21, 16, 37, 42];\n\ndebug('container',$container) if $debug;\ndebug('%hash',  \\%hash)       if $debug;\ndebug('@array', @array)       if $debug;\n\nsub debug {\n    my $name  = shift;\n    my $value = shift;\n\n    print \"DEBUG: $name [ARRAY]\\n\", Dumper($value) if ref $value eq 'ARRAY';\n    print \"DEBUG: $name [HASH]\\n\",  Dumper($value) if ref $value eq 'HASH';\n    print \"DEBUG: $name = $value\\n\"                if ref $value eq '';\n}\n</code></pre>\n\n<p>But why not run perl script under build-in debugger? Option <strong>-d</strong></p>\n\n<p><a href=\"https://perldoc.perl.org/perldebug.html\" rel=\"nofollow noreferrer\">The Perl Debugger</a></p>\n"}], "owner": {"reputation": 914, "user_id": 1461307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhYSU.png?s=128&g=1", "display_name": "Jacob Wegelin", "link": "https://stackoverflow.com/users/1461307/jacob-wegelin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1573677909, "creation_date": 1573576823, "last_edit_date": 1573577691, "question_id": 58823042, "link": "https://stackoverflow.com/questions/58823042/how-can-i-display-a-variables-name-in-perl-along-with-the-value-of-the-variabl", "title": "how can I display a variable&#39;s name in perl, along with the value of the variable?", "body": "<p>To diagnose or debug my perl code, I would like to easily display the name of a variable along with its value. In <code>bash</code>, one types the following:</p>\n\n<pre><code>#!/bin/bash\ndog=pitbull\ndeclare -p dog\n</code></pre>\n\n<p>In <code>perl</code>, consider the following script, <code>junk.pl</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; use warnings; \nmy $dog=\"pitbull\";\nmy $diagnosticstring;\nprint STDERR \"dog=$dog\\n\";\nsub checkvariable {\n    foreach $diagnosticstring (@_) { print \"nameofdiagnosticstring=$diagnosticstring\\n\"; }\n}\ncheckvariable \"$dog\";\n</code></pre>\n\n<p>If we call this script, we obtain</p>\n\n<pre><code>bash&gt; junk.pl\ndog=pitbull\nnameofdiagnosticstring=pitbull\nbash&gt; \n</code></pre>\n\n<p>But instead, when the subroutine <code>checkvariable</code> is called, I would like the following to be printed:</p>\n\n<pre><code>dog=pitbull\n</code></pre>\n\n<p>This would make coding easier and less error-prone, since one would not have to type the variable's name twice.</p>\n"}, {"tags": ["windows", "perl", "par", "perl-packager"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573565959, "post_id": 58817812, "comment_id": 103917085, "body": "What operating system is the local machine?"}, {"owner": {"reputation": 472, "user_id": 2001559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L1bvT.png?s=128&g=1", "display_name": "Maverick", "link": "https://stackoverflow.com/users/2001559/maverick"}, "edited": false, "score": 0, "creation_date": 1573576403, "post_id": 58817812, "comment_id": 103922694, "body": "I have also faced the similar issue. Put &#39;$| = 1&#39;at the top of print in perl script and after that make exe. Hopefully it will worked. You print data is in output buffer. More info <a href=\"https://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html</a> (look for $|)"}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1573592736, "post_id": 58817812, "comment_id": 103929902, "body": "Please check the size of the <b>exe</b> file -- it might be that some library is not available on <b>other machine</b> or some critical piece is missing."}, {"owner": {"reputation": 11, "user_id": 11902234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a10674a5fe9543722bc6a14cd193233f?s=128&d=identicon&r=PG&f=1", "display_name": "ThomasE", "link": "https://stackoverflow.com/users/11902234/thomase"}, "edited": false, "score": 0, "creation_date": 1573654374, "post_id": 58817812, "comment_id": 103952228, "body": "Hey Maverick, wonderful, you saved my day - when you are in germany - you are welcome . That was the solution. Thanx again from an old unix men."}], "owner": {"reputation": 11, "user_id": 11902234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a10674a5fe9543722bc6a14cd193233f?s=128&d=identicon&r=PG&f=1", "display_name": "ThomasE", "link": "https://stackoverflow.com/users/11902234/thomase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573558224, "creation_date": 1573558224, "question_id": 58817812, "link": "https://stackoverflow.com/questions/58817812/win32-strawberry-perl-par-packer-make-exe-file", "title": "win32 strawberry perl PAR Packer make exe file", "body": "<p>i use on windows server :\nSummary of my perl5 (revision 5 version 30 subversion 0) configuration\nPAR::Packer is up to date (1.049).</p>\n\n<p>I can successfully build an exe file without error message.</p>\n\n<p>pp -o p.exe p.pl</p>\n\n<p>content p.pl</p>\n\n<pre><code>use warnings;\nuse strict;\nprint \"This is the Perl code!\\n\";\n</code></pre>\n\n<p>on the local machine run fine. Transfer the exe to other windows host and run script. No output :-(</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Regards\nThomas</p>\n"}, {"tags": ["linux", "perl", "unix"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1573529414, "post_id": 58811542, "comment_id": 103902236, "body": "isn&#39;t the <code>core</code> file dumped in the &quot;current working directory&quot; of <code>SOME_CMD</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1573548656, "post_id": 58811542, "comment_id": 103908058, "body": "<a href=\"https://unix.stackexchange.com\">unix.stackexchange.com</a> is probably a better place for this question, but figuring out how to get a core file in order to debug a program is also programming-related, and thus allowed on this site."}], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 4685758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6459711581ed5aef648fae9d8070cad6?s=128&d=identicon&r=PG", "display_name": "Bernhard M.", "link": "https://stackoverflow.com/users/4685758/bernhard-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1573548679, "last_edit_date": 1573548679, "creation_date": 1573537392, "answer_id": 58812687, "question_id": 58811542, "link": "https://stackoverflow.com/questions/58811542/get-the-core-file-in-perl-script-with-backtick/58812687#58812687", "title": "get the core file in perl script with backtick", "body": "<p><code>ulimit -c 0</code> prevents core files to be written. You need to use\n<code>ulimit -c unlimited</code></p>\n\n<p>Btw: you should upgrade to a maintained OS.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "accepted_answer_id": 58812687, "answer_count": 1, "score": 0, "last_activity_date": 1573548679, "creation_date": 1573528839, "question_id": 58811542, "link": "https://stackoverflow.com/questions/58811542/get-the-core-file-in-perl-script-with-backtick", "title": "get the core file in perl script with backtick", "body": "<p>On my ubuntu 14.04 (Linux 3.19.0 64bit) PC, I ran a perl program that has the following in a loop</p>\n\n<pre><code>$params = setupParams();\n$ret = `SOME_CMD $params`;\n...\n</code></pre>\n\n<p>But for some reason, SOME_CMD sometimes gaves <code>Segmentation fault (core dumped)</code> occasionally. In order to figure out the cause of the core dump, I need to get the core file. \nUnfortunately I tried <code>ulimit -S -c 0</code> on the terminal where I ran the perl script, but it didn't produce a core file.</p>\n\n<p>Any ideas would be appreciated. </p>\n"}, {"tags": ["perl", "fuzzy-comparison"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 4, "creation_date": 1573528244, "post_id": 58811392, "comment_id": 103902005, "body": "See <a href=\"https://stackoverflow.com/a/40010321/4653379\">this post</a> for a scoop on modules and approaches, with links"}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573530231, "post_id": 58811392, "comment_id": 103902378, "body": "I like the <code>String::Similarity</code> one. :) It&#39;s easy to use."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1573530435, "post_id": 58811392, "comment_id": 103902415, "body": "Yeah, it&#39;s nice to have options to choose from :).  They all differ a little in best uses.  Another example in <a href=\"https://stackoverflow.com/a/52712576/4653379\">this post</a> ...  I hope these are useful enough so there is no need to write them up here?"}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573532206, "post_id": 58811392, "comment_id": 103902722, "body": "Good tutorial already. <code>String::Approx</code> is perfect for another scenario I was thinking about: Add HTML tags around a fuzzy match of a target string. :)"}], "answers": [{"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1573591834, "creation_date": 1573591834, "answer_id": 58826466, "question_id": 58811392, "link": "https://stackoverflow.com/questions/58811392/fuzzy-matching-in-perl/58826466#58826466", "title": "Fuzzy matching in Perl", "body": "<p>Something like following code does the job</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $regex = qr/air.twists{0,1}/;\n\nwhile( &lt;DATA&gt; ) {\n    print if /$regex/;\n}\n\n__DATA__\nair-twist\nair balloon\nair twists\nfried potato\nair-twist\nCesar salad\nair-propeller\nair show\nbroken car\nnew bicycle\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10586, "user_id": 170383, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4d9f7a30948dca1bbd05eaf27f277ae6?s=128&d=identicon&r=PG", "display_name": "David R Tribble", "link": "https://stackoverflow.com/users/170383/david-r-tribble"}, "is_accepted": false, "score": 0, "last_activity_date": 1573598295, "creation_date": 1573598295, "answer_id": 58827748, "question_id": 58811392, "link": "https://stackoverflow.com/questions/58811392/fuzzy-matching-in-perl/58827748#58827748", "title": "Fuzzy matching in Perl", "body": "<p>If you just want to match any non-alphanumeric character between two specific words, you could use a regex like this:</p>\n\n<pre><code>/air[^a-z0-9]twists/i\n</code></pre>\n\n<p>The <code>[^a-z0-9]</code> matches any character that is <em>not</em> a letter or digit; so it will match things like a space or punctuation character. The trailing <code>i</code> suffix tells the regex to ignore letter case.</p>\n\n<p>This particular regex will match strings like the following:</p>\n\n<pre><code>air twists\nAIR TWISTS\nAir-Twists\nAIR_TWISTS\nair/twists\nair.twists\nair:twists\n</code></pre>\n\n<p>... and so on.</p>\n\n<p>If you want to match more than one non-alphanumeric character separating the words, add a <code>+</code> to the regex:</p>\n\n<pre><code>/air[^a-z0-9]+twists/i\n</code></pre>\n\n<p>This matches more strings, like these:</p>\n\n<pre><code>air  twists\nair---twists\nair, twists\nair &amp;&amp; twists\nair&lt;=&gt;twists\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1573598295, "creation_date": 1573527757, "question_id": 58811392, "link": "https://stackoverflow.com/questions/58811392/fuzzy-matching-in-perl", "title": "Fuzzy matching in Perl", "body": "<p>I want to do some fuzzy matching with different strings, like,\n<code>air twist</code> should match with <code>air-twist</code> or <code>air twists</code> or <code>air-twists</code>.</p>\n\n<p>In perl, do we have some module to do that? or can we do that manually, like using Regex?</p>\n"}, {"tags": ["string", "perl", "split"], "comments": [{"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 3, "creation_date": 1573515880, "post_id": 58810118, "comment_id": 103899700, "body": "Misses a <code>;</code> after the assignment (<code>$line=&quot;...&quot;</code> should read <code>$line=&quot;...&quot;;</code>)..."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 2, "creation_date": 1573515948, "post_id": 58810118, "comment_id": 103899716, "body": "And <code>${line)</code> should probably be <code>${line}</code> or just <code>$line</code>..."}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 1, "creation_date": 1573516271, "post_id": 58810118, "comment_id": 103899788, "body": "Just fix the typos identified by @stickybit and your code should produce the expected results."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573550350, "post_id": 58810118, "comment_id": 103908902, "body": "The code you posted doesn&#39;t result in the error you claim it does. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573553198, "post_id": 58810118, "comment_id": 103910425, "body": "A regex match or subtitution is probably more appropriate than <code>split</code> here."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1573550236, "creation_date": 1573550236, "answer_id": 58815453, "question_id": 58810118, "link": "https://stackoverflow.com/questions/58810118/spliting-a-line-at-a-parentheses-in-perl/58815453#58815453", "title": "spliting a line at a parentheses in perl", "body": "\n\n<p>The code you posted doesn't result in the error you claim it does.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'\n   $line=\" SUBJ/TROPICAL DEPRESSION 26W (TWENTYSIX) WARNING NR 002/\"\n   @namearr = split /\\(/, ${line);\n' &amp;&amp; echo ok\nArray found where operator expected at -e line 3, near \"@namearr\"\n        (Missing semicolon on previous line?)\nsyntax error at -e line 3, near \"@namearr \"\nMissing right curly or square bracket at -e line 4, at end of line\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>There are three errors in the code you posted.</p>\n\n<ol>\n<li>Missing <code>;</code> between the statements.</li>\n<li><code>${line)</code> is a typo for <code>${line}</code>, which should be <code>$line</code>. <code>${line}</code> works, but this is undocumented and unusual.</li>\n<li>You didn't limit the scope of your variables. Always use <code>use strict; use warnings;</code>!</li>\n</ol>\n\n<p>&#x20;</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'\n   use strict;\n   use warnings;\n   my $line = \" SUBJ/TROPICAL DEPRESSION 26W (TWENTYSIX) WARNING NR 002/\";\n   my @namearr = split /\\(/, $line;\n' &amp;&amp; echo ok\nok\n</code></pre>\n\n<hr>\n\n<p>The error you asked about usually happens when you are missing a closing delimiter (quote), or perhaps when your literal has an unescaped delimiter.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'\n   my $s1 = \"foo;\n   my $s2 = \"bar\";\n'\nBareword found where operator expected at -e line 3, near \"my $s2 = \"bar\"\n  (Might be a runaway multi-line \"\" string starting on line 2)\n        (Do you need to predeclare my?)\nString found where operator expected at -e line 3, at end of line\n        (Missing semicolon on previous line?)\nsyntax error at -e line 3, near \"my $s2 = \"bar\"\nCan't find string terminator '\"' anywhere before EOF at -e line 3.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1573591032, "creation_date": 1573591032, "answer_id": 58826295, "question_id": 58810118, "link": "https://stackoverflow.com/questions/58810118/spliting-a-line-at-a-parentheses-in-perl/58826295#58826295", "title": "spliting a line at a parentheses in perl", "body": "<p>Hmm, why not to try something like this instead of <strong>split</strong>?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $debug = 1;\n\nmy @parts;\n\nwhile( &lt;DATA&gt; ) {\n    chomp;\n    @parts = /(.+)\\((.*)\\)(.*)/;\n}\n\nprint Dumper(\\@parts) if $debug;\n\n__DATA__\nSUBJ/TROPICAL DEPRESSION 26W (TWENTYSIX) WARNING NR 002/\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 3586305, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/464ee72c175d2c8cbb8488ec020ef5b8?s=128&d=identicon&r=PG&f=1", "display_name": "jms1980", "link": "https://stackoverflow.com/users/3586305/jms1980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 58815453, "answer_count": 2, "score": -1, "last_activity_date": 1573591032, "creation_date": 1573515756, "last_edit_date": 1573516230, "question_id": 58810118, "link": "https://stackoverflow.com/questions/58810118/spliting-a-line-at-a-parentheses-in-perl", "title": "spliting a line at a parentheses in perl", "body": "<p>I have this string that I want to split at the opening parentheses.</p>\n\n<pre><code>SUBJ/TROPICAL DEPRESSION 26W (TWENTYSIX) WARNING NR 002/\n</code></pre>\n\n<p>In this case I would have two strings which would be </p>\n\n<pre><code>SUBJ/TROPICAL DEPRESSION 26W \n</code></pre>\n\n<p>and</p>\n\n<pre><code>TWENTYSIX) WARNING NR 002/\n</code></pre>\n\n<p>I have tried to use the split function for this doing</p>\n\n<pre><code>$line=\" SUBJ/TROPICAL DEPRESSION 26W (TWENTYSIX) WARNING NR 002/\"\n@namearr = split /\\(/, ${line);\n</code></pre>\n\n<p>but I wind up getting an error message.</p>\n\n<pre><code>(Might be a runaway multi-line \"\" string starting on line )\n</code></pre>\n\n<p>How do I tweak the code above so that I can successfully split the line based on the parentheses?</p>\n"}, {"tags": ["c", "function", "perl", "return", "return-value"], "comments": [{"owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1573508670, "post_id": 58809041, "comment_id": 103897616, "body": "@Jean-Fran&#231;oisFabre what is solution? Because I need to return value back to parent process."}, {"owner": {"reputation": 2311, "user_id": 6032010, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cCbzrdp-8HI/AAAAAAAAAAI/AAAAAAAAAAA/g1GQeurueXA/photo.jpg?sz=128", "display_name": "SHG", "link": "https://stackoverflow.com/users/6032010/shg"}, "edited": false, "score": 2, "creation_date": 1573508686, "post_id": 58809041, "comment_id": 103897622, "body": "<code>main()</code> return value won&#39;t be received by the parent process. You&#39;d need to use some other mechanism to pass it, like IPC, files, shared memory, etc"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1573508850, "post_id": 58809041, "comment_id": 103897678, "body": "According to <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">perldoc system</a> : <i>&quot;The return value is the exit status of the program as returned by the wait call. To get the actual exit value, shift right by eight.&quot;</i>"}, {"owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573509230, "post_id": 58809041, "comment_id": 103897822, "body": "@H&#229;konH&#230;gland if I shifted right by eight value <code>53400</code> in C, I got value <code>152</code> in Perl."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1573509543, "post_id": 58809041, "comment_id": 103897922, "body": "@tomsk I think only return values between 0 and 255 are valid. It seems like the return value from the C program is logical <code>AND</code>ed with <code>0xff</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573509936, "post_id": 58809041, "comment_id": 103898085, "body": "@tomsk See also <a href=\"https://unix.stackexchange.com/q/418784/45537\">What is the min and max values of exit codes in Linux?</a>"}, {"owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "edited": false, "score": 0, "creation_date": 1573510435, "post_id": 58809041, "comment_id": 103898247, "body": "Im thinking what is easiest solution to return that value from child process back to parent, because I need it."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1573511899, "post_id": 58809041, "comment_id": 103898667, "body": "@tomsk Maybe just push it to STDOUT: <code>std::cout &lt;&lt; i;</code> from C++ and then use backticks in Perl: <code>my $out = `.&#47;app` </code> to retrieve the output from the command"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573549797, "post_id": 58809041, "comment_id": 103908636, "body": "(<code>printf(&quot;%d&quot;, i)</code> in C)"}], "owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 1, "closed_date": 1573508613, "answer_count": 0, "score": 0, "last_activity_date": 1573508806, "creation_date": 1573508385, "last_edit_date": 1573508806, "question_id": 58809041, "link": "https://stackoverflow.com/questions/58809041/main-function-returns-wrong-value-in-c", "closed_reason": "Duplicate", "title": "Main function returns wrong value in C", "body": "<p>I have program in C where I compute something and result of that (integer) I need to return back to parent process, but it returns wrong values.</p>\n\n<p>For example <code>app.cpp</code>:</p>\n\n<pre><code>#include &lt;stdio&gt;\n\nint main()\n{\n    int i = 53400;\n\n    return i;\n}\n</code></pre>\n\n<p>Parent process (in Perl language):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $res = system(\"./app\");\nprint $res.\"\\n\";\n</code></pre>\n\n<p>If I return <code>0</code> in C, I get in parent process value of <code>0</code>.\nIf I return <code>1</code> in C, I get in parent process value of <code>256</code>.\nIf I return <code>2</code> in C, I get in parent process value of <code>512</code>.</p>\n\n<p>So I thought that it is just multiples by 256, but I was wrong because if I return <code>53400</code> in C, I get in parent process value of <code>38912</code> which is not multiple of 256.</p>\n\n<p>So how can I get correct value from child process in parent?</p>\n"}, {"tags": ["perl", "xlsx"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573502171, "post_id": 58807744, "comment_id": 103895112, "body": "What line is line #128?"}, {"owner": {"reputation": 33, "user_id": 11731055, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JNFeCzC7YB0/AAAAAAAAAAI/AAAAAAAAAgw/6G3RDkH9SpA/photo.jpg?sz=128", "display_name": "Taylor Stevens", "link": "https://stackoverflow.com/users/11731055/taylor-stevens"}, "edited": false, "score": 0, "creation_date": 1573502302, "post_id": 58807744, "comment_id": 103895166, "body": "line 128 is &quot;my $value = $a-&gt;value();&quot; under the if statement"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1573504411, "post_id": 58807744, "comment_id": 103895932, "body": "You should consider using arrays!"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1573551876, "creation_date": 1573551876, "answer_id": 58815902, "question_id": 58807744, "link": "https://stackoverflow.com/questions/58807744/what-is-causing-the-error-with-declaring-my-value-in-perl-for-loop/58815902#58815902", "title": "What is causing the error with declaring my $value in Perl for loop?", "body": "<p>The solution is already given in the comments, but it might help to make it clearer for anyone else who comes across this problem in the future.</p>\n\n<p>The code contains an <code>if</code> statement that was written like this (simplified massively):</p>\n\n<pre><code>if ($some_condition) \n  # do something\n</code></pre>\n\n<p>But in Perl, the code attached to an <code>if</code> statement needs to be in a code block. So it should be written like this:</p>\n\n<pre><code>if ($some_condition) {\n  # do something\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11731055, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JNFeCzC7YB0/AAAAAAAAAAI/AAAAAAAAAgw/6G3RDkH9SpA/photo.jpg?sz=128", "display_name": "Taylor Stevens", "link": "https://stackoverflow.com/users/11731055/taylor-stevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 58815902, "answer_count": 1, "score": -1, "last_activity_date": 1575997050, "creation_date": 1573501650, "last_edit_date": 1575997050, "question_id": 58807744, "link": "https://stackoverflow.com/questions/58807744/what-is-causing-the-error-with-declaring-my-value-in-perl-for-loop", "title": "What is causing the error with declaring my $value in Perl for loop?", "body": "<p>I am writing code to parse sales information for a auto generated excel report. I am able to pull the data from each cell for a row and print it to a text file. The issue begins when I attempt to loop reading rows. The spreadsheet is setup with data on every other cell. I attempted to create a for loop to increment the cells but get an error.</p>\n\n<pre><code>syntax error at C:\\taylor\\perl\\test_parse.pl line 128, near \")\n                my \"\nGlobal symbol \"$value\" requires explicit package name (did you forget to declare \"my $value\"?) at C:\\taylor\\perl\\test_parse.pl line 128.\nGlobal symbol \"$value\" requires explicit package name (did you forget to declare \"my $value\"?) at C:\\taylor\\perl\\test_parse.pl line 129.\nGlobal symbol \"$value\" requires explicit package name (did you forget to declare \"my $value\"?) at C:\\taylor\\perl\\test_parse.pl line 168.\nExecution of C:\\taylor\\perl\\test_parse.pl aborted due to compilation errors.\"\n</code></pre>\n\n<p>I have lookled into moving the variables out of the scope of the if block but am unsure if this is possible. </p>\n\n<pre><code>#!/usr/bin/perl \n\nuse warnings;\nuse strict;\nuse Spreadsheet::ParseXLSX;\nuse Spreadsheet::ParseExcel;\nuse Spreadsheet::XLSX;\nuse Date::Format;\n\nmy $filename = \"c:/taylor/perl/DCS8.xlsx\";\nmy $files = \"C:\\\\Taylor\\\\perl\\\\imports.csv\";\n\n#Parse excel file\n\nmy $parser = Spreadsheet::ParseXLSX-&gt;new();\nmy $workbook = $parser-&gt;parse(\"$filename\");\n\nfor (my $i=0; $i &lt;= 200; $i+=2) {\nmy $worksheet1 = $workbook-&gt;worksheet('Sheet1');\n    my $a = $worksheet1-&gt;get_cell(15+$i,0);\n    my $d = $worksheet1-&gt;get_cell(15+$i,3);\n    my $f = $worksheet1-&gt;get_cell(15+$i,5);\n    my $h = $worksheet1-&gt;get_cell(15+$i,7);\n    my $j = $worksheet1-&gt;get_cell(15+$i,9);\n    my $l = $worksheet1-&gt;get_cell(15+$i,11);\n    my $n = $worksheet1-&gt;get_cell(15+$i,13);\n    my $p = $worksheet1-&gt;get_cell(15+$i,15);\n    my $r = $worksheet1-&gt;get_cell(15+$i,17);\n    my $t = $worksheet1-&gt;get_cell(15+$i,19);\n    my $v = $worksheet1-&gt;get_cell(15+$i,21);\n    my $x = $worksheet1-&gt;get_cell(15+$i,23);\n    my $z = $worksheet1-&gt;get_cell(15+$i,25);\n    my $ab = $worksheet1-&gt;get_cell(15+$i,27);\n    my $af = $worksheet1-&gt;get_cell(15+$i,29);\n    my $ah = $worksheet1-&gt;get_cell(15+$i,31);\n    my $aj = $worksheet1-&gt;get_cell(15+$i,33);\n    my $ao = $worksheet1-&gt;get_cell(15+$i,35);\n\nif (( defined $a and $a-&gt;value() ne \"\")\n    or ( defined $d and $d-&gt;value() ne \"\")\n    or ( defined $f and $f-&gt;value() ne \"\")\n    or ( defined $h and $h-&gt;value() ne \"\")\n    or ( defined $j and $j-&gt;value() ne \"\")\n    or ( defined $l and $l-&gt;value() ne \"\")\n    or ( defined $n and $n-&gt;value() ne \"\")\n    or ( defined $p and $p-&gt;value() ne \"\")\n    or ( defined $r and $r-&gt;value() ne \"\")\n    or ( defined $t and $t-&gt;value() ne \"\")\n    or ( defined $v and $v-&gt;value() ne \"\")\n    or ( defined $x and $x-&gt;value() ne \"\")\n    or ( defined $z and $z-&gt;value() ne \"\")\n    or ( defined $ab and $ab-&gt;value() ne \"\")\n    or ( defined $af and $af-&gt;value() ne \"\")\n    or ( defined $ah and $ah-&gt;value() ne \"\")\n    or ( defined $aj and $aj-&gt;value() ne \"\")\n    or ( defined $ao and $ao-&gt;value() ne \"\"))\n\n        my $value = $a-&gt;value();\n        $value =~ s/[_, -]//g;\n        my $value2 = $d-&gt;value();\n        $value2 =~ s/[_, -]//g;\n        my $value3 = $f-&gt;value();\n        $value3 =~ s/[_, -]//g;\n        my $value4 = $h-&gt;value();\n        $value4 =~ s/[_, -]//g;\n        my $value5 = $j-&gt;value();\n        $value5 =~ s/[_, -]//g;\n        my $value6 = $l-&gt;value();\n        $value6 =~ s/[_, -]//g;\n        my $value7 = $n-&gt;value();\n        $value7 =~ s/[^a-zA-Z0-9,]//g;\n        my $value8 = $p-&gt;value();\n        $value8 =~ s/[_, -]//g;\n        my $value9 = $r-&gt;value();\n        $value9 =~ s/[_, -]//g;\n        my $value10 = $t-&gt;value();\n        $value10 =~ s/[_, -]//g;\n        my $value11 = $v-&gt;value();\n        $value11 =~ s/[_, -]//g;\n        my $value12 = $x-&gt;value();\n        $value12 =~ s/[_, -]//g;\n        my $value13 = $z-&gt;value();\n        $value13 =~ s/[_, -]//g;\n        my $value14 = $ab-&gt;value();\n        $value14 =~ s/[_, -]//g;\n        my $value15 = $af-&gt;value();\n        $value15 =~ s/[_, -]//g;\n        my $value16 = $ah-&gt;value();\n        $value16 =~ s/[^a-zA-Z0-9,]//g;\n        my $value17 = $aj-&gt;value();\n        $value17 =~ s/[^a-zA-Z0-9,]//g;\n        my $value18 = $ao-&gt;value();\n        $value18 =~ s/[^a-zA-Z0-9,]//g;\n\nmy $files = \"C:\\\\Taylor\\\\perl\\\\imports.csv\";\nunlink ($files);\nopen (OUTFILE, \"&gt;&gt;$files\"); \nprint OUTFILE \"$value,$value2,$value3,$value4,$value5,$value6,$value7,$value8,$value9,$value10,$value11,$value12,$value13,$value14,$value15,$value16,$value17,$value18\\n\";\n}\n</code></pre>\n\n<p>Ideally this would loop through the get cells adding 2 rows each time, instead it seems when the loop begins it breaks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573497307, "post_id": 58806363, "comment_id": 103893293, "body": "Please show the complete loop"}, {"owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573498887, "post_id": 58806363, "comment_id": 103893873, "body": "@H&#229;konH&#230;gland I have added the entire loop"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1573499016, "post_id": 58806363, "comment_id": 103893931, "body": "It looks like <code>$TestNum</code> and <code>$SectionNum</code> are global variables. You need to pass a copy of these to the closure function <code>scratch()</code> or alternatively make the variables local to the loop"}, {"owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573499336, "post_id": 58806363, "comment_id": 103894066, "body": "I updated it again. $TestNum and $SectionNum are defined in the subroutine, but they are set within the loop."}, {"owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1573499415, "post_id": 58806363, "comment_id": 103894096, "body": "@H&#229;konH&#230;gland Making the variables local to the loop worked! Thank you so much!"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1573552697, "creation_date": 1573552697, "answer_id": 58816173, "question_id": 58806363, "link": "https://stackoverflow.com/questions/58806363/how-does-perl-store-and-execute-menu-commands/58816173#58816173", "title": "How does Perl store and execute menu commands?", "body": "<p>From <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perldoc perlref</a>: </p>\n\n<blockquote>\n  <p>Anonymous subroutines act as closures with respect to <strong>my</strong>() variables,\n  that is, variables lexically visible within the current scope. Closure\n  is a notion out of the Lisp world that says if you define an anonymous\n  function in a particular lexical context, it pretends to run in that\n  context even when it's called outside the context.</p>\n</blockquote>\n\n<p>So if a closure uses a lexical variable defined in its surrounding lexical scope (like <code>$TestNum</code> or <code>$SectNum</code> in your example), it saves a <em>reference</em> to that variable such that it can use it when called later ( and also such that the reference count of the variable is increased and it will not be destroyed before after the anonymous sub is destroyed itself). </p>\n\n<p>The problem with defining <code>$SectNum</code> outside the loop is that the reference of the <em>same</em> variable <code>$SectNum</code> is taken for each closure generated in the <code>for</code> loop, and when the <code>for</code> loop finished, the variable <code>$SectNum</code> will have the value of the last iteration, and later the anonymous subs are called and extract this particular value from their reference to <code>$SectNum</code>. On the other hand, if <code>$SectNum</code> is declared <em>within</em> the loop, a new variable is generated for each iteration and the closures will refer to that particular value.</p>\n"}], "owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1573552697, "creation_date": 1573494898, "last_edit_date": 1573499288, "question_id": 58806363, "link": "https://stackoverflow.com/questions/58806363/how-does-perl-store-and-execute-menu-commands", "title": "How does Perl store and execute menu commands?", "body": "<p>I'm new to Perl. I'm creating a menu drop down on a GUI that updates whenever the GUI is updated. </p>\n\n<p>The GUI is the UI for a tool that executes Perl code, then saves it off so it can be accessed later and continues on to the next set of code. In this menu, I'd like to access the previous sections that have been tested.</p>\n\n<p>I have this looping through the existing sections:</p>\n\n<pre><code># All this is in one subroutine\n\nmy $TestNum;\nmy $SectionNum;\n\nforeach my $key ( @myDirs )\n{\n   if( $key =~ m/(\\d+)\\.(\\d+)/ )\n   {\n      $TestNum= $1;\n      $SectionNum = $2;\n\n      my $paragraphFile = \"$sectionDir/$key/title.paragraph\";\n      open( my $fh, '&lt;:encoding(UTF-8)', $paragraphFile ) or die \"Could not open file '$paragraphFile' $!\";\n\n      while( my $row = &lt;$fh&gt;)\n      {\n         $paraTitle = \"\";\n         chomp $row;\n         $paraTitle = $row;\n      }\n\n      close( $fh );\n\n      $dataMenu-&gt;add( 'command',\n                      -label =&gt; \"$TestNum.$SectionNum $paraTitle\",\n                      -command =&gt; sub { scratch( $requestFile, \"Request\" ); scratch( $resumeFile, \"Switch to $TestNum.$SectionNum\" ); } );\n\n   }\n}\n</code></pre>\n\n<p>Everything that is seen is correct; it's generating the label tag correctly. However, the command always returns the current $TestNum and $SectionNum instead of the numbers on the label. I thought that the single selection on the menu acts as an independent button, so the label and command gets saved to it and doesn't change.</p>\n\n<p>Why is it doing this, and how can I fix it so the command stores earlier data? </p>\n"}, {"tags": ["perl", "installation"], "comments": [{"owner": {"reputation": 316, "user_id": 10391013, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YezHzUNmNHE/AAAAAAAAAAI/AAAAAAAAAn0/DEZ_Mi0MXKw/photo.jpg?sz=128", "display_name": "Paulo Sergio Schlogl", "link": "https://stackoverflow.com/users/10391013/paulo-sergio-schlogl"}, "edited": false, "score": 0, "creation_date": 1573489520, "post_id": 58805088, "comment_id": 103889978, "body": "PS- I tried to install bioconda::perl-algorithm-diff-1.1903-pl526_2 separatelly, but didn&#39;t work too."}, {"owner": {"reputation": 8699, "user_id": 1726083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757452f7cd7ba2347c667ef9298ceadb?s=128&d=identicon&r=PG", "display_name": "Daniel Farrell", "link": "https://stackoverflow.com/users/1726083/daniel-farrell"}, "edited": false, "score": 0, "creation_date": 1573490089, "post_id": 58805088, "comment_id": 103890214, "body": "Have you looked at <code>&#47;home&#47;paulo&#47;anaconda3&#47;lib&#47;site_perl&#47;5.26.2&#47;Algorithm</code> and who owns it?  A hunch might be that you used <code>sudo</code> to install part of that package as <code>root</code> but under your user, and now your user can&#39;t modify."}, {"owner": {"reputation": 316, "user_id": 10391013, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YezHzUNmNHE/AAAAAAAAAAI/AAAAAAAAAn0/DEZ_Mi0MXKw/photo.jpg?sz=128", "display_name": "Paulo Sergio Schlogl", "link": "https://stackoverflow.com/users/10391013/paulo-sergio-schlogl"}, "reply_to_user": {"reputation": 8699, "user_id": 1726083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757452f7cd7ba2347c667ef9298ceadb?s=128&d=identicon&r=PG", "display_name": "Daniel Farrell", "link": "https://stackoverflow.com/users/1726083/daniel-farrell"}, "edited": false, "score": 0, "creation_date": 1573490727, "post_id": 58805088, "comment_id": 103890555, "body": "I try this:  ls -l /home/paulo/anaconda3/lib/site_perl/5.26.2/Algorithmls: cannot access &#39;/home/paulo/anaconda3/lib/site_perl/5.26.2/Algorithm&#39;: No such file or directory"}, {"owner": {"reputation": 8699, "user_id": 1726083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757452f7cd7ba2347c667ef9298ceadb?s=128&d=identicon&r=PG", "display_name": "Daniel Farrell", "link": "https://stackoverflow.com/users/1726083/daniel-farrell"}, "edited": false, "score": 0, "creation_date": 1573491368, "post_id": 58805088, "comment_id": 103890888, "body": "maybe it&#39;s <code>5.26.2</code> or a prior path component that has a permissions issue?"}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1573590472, "post_id": 58805088, "comment_id": 103928996, "body": "probably you meant to install with <code>cpan install [MODULE]</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1573491588, "creation_date": 1573491588, "answer_id": 58805651, "question_id": 58805088, "link": "https://stackoverflow.com/questions/58805088/i-got-a-error-message-tryinh-to-install-prokka/58805651#58805651", "title": "I got a error message tryinh to install Prokka", "body": "<blockquote>\n  <p>I tried to install the XML with: sudo cpan install But not worked to.</p>\n</blockquote>\n\n<p>It would be helpful to know exactly how this failed. What error messages you got.</p>\n\n<p>You don't say what kind of system you're trying to work on, but if you're using a Linux distribution, it's almost certain that there's a pre-build package for XML::Simple. Try <code>sudo dnf install Perl-XML-Simple</code> on a Red Hat-based system and <code>sudo apt-get install libxml-simple-perl</code> on a Debian-based system.</p>\n"}, {"tags": [], "owner": {"reputation": 316, "user_id": 10391013, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YezHzUNmNHE/AAAAAAAAAAI/AAAAAAAAAn0/DEZ_Mi0MXKw/photo.jpg?sz=128", "display_name": "Paulo Sergio Schlogl", "link": "https://stackoverflow.com/users/10391013/paulo-sergio-schlogl"}, "is_accepted": true, "score": 0, "last_activity_date": 1573657375, "creation_date": 1573657375, "answer_id": 58839926, "question_id": 58805088, "link": "https://stackoverflow.com/questions/58805088/i-got-a-error-message-tryinh-to-install-prokka/58839926#58839926", "title": "I got a error message tryinh to install Prokka", "body": "<p>Just make a conda update all, crate a env prokka and it was done.\nThank you for your help and time guys.</p>\n\n<p>Paulo</p>\n"}], "owner": {"reputation": 316, "user_id": 10391013, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YezHzUNmNHE/AAAAAAAAAAI/AAAAAAAAAn0/DEZ_Mi0MXKw/photo.jpg?sz=128", "display_name": "Paulo Sergio Schlogl", "link": "https://stackoverflow.com/users/10391013/paulo-sergio-schlogl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 58839926, "answer_count": 2, "score": 0, "last_activity_date": 1573657375, "creation_date": 1573489446, "last_edit_date": 1573491856, "question_id": 58805088, "link": "https://stackoverflow.com/questions/58805088/i-got-a-error-message-tryinh-to-install-prokka", "title": "I got a error message tryinh to install Prokka", "body": "<p>I am trying to install a software called prokka(<a href=\"http://www.vicbioinformatics.com/software.prokka.shtml\" rel=\"nofollow noreferrer\">http://www.vicbioinformatics.com/software.prokka.shtml</a>)\nBut i got a error in installation.</p>\n\n<p>I tried install as indicated  via git hub clone:\nand got this:</p>\n\n<p>Can't locate XML/Simple.pm in @INC (you may need to install the XML::Simple module) (@INC contains: /home/paulo/anaconda3/lib/site_perl/5.26.2/x86_64-linux-thread-multi /home/paulo/anaconda3/lib/site_perl/5.26.2 /home/paulo/anaconda3/lib/5.26.2/x86_64-linux-thread-multi /home/paulo/anaconda3/lib/5.26.2 .) at /home/paulo/prokka/bin/prokka line 29.\nBEGIN failed--compilation aborted at /home/paulo/prokka/bin/prokka line 29.</p>\n\n<p>I tried to install the XML with:</p>\n\n<pre><code>sudo cpan install\n</code></pre>\n\n<p>But not worked to.</p>\n\n<p>I also installed successively all other dependencies as asked but seems not work.</p>\n\n<p>Then I tried with conda and got this:</p>\n\n<blockquote>\n  <p>ERROR conda.core.link:_execute(700): An error occurred while\n  installing package 'bioconda::perl-algorithm-diff-1.1903-pl526_2'.\n  Rolling back transaction: done [Errno 13] Permission denied:\n  '/home/paulo/anaconda3/lib/site_perl/5.26.2/Algorithm' () </p>\n</blockquote>\n\n<p>Now I dont know what else to do.</p>\n\n<p>Any help?</p>\n\n<p>Thank you by your time.</p>\n\n<p>Paulo</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573473649, "post_id": 58800885, "comment_id": 103882039, "body": "What problem are you having?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1573473825, "post_id": 58800885, "comment_id": 103882111, "body": "Why not use the <i>Core</i> version module instead of getting the version module from <i>CPAN</i>?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 6, "creation_date": 1573473947, "post_id": 58800885, "comment_id": 103882151, "body": "<a href=\"https://metacpan.org/pod/distribution/version/lib/version/Internals.pod\" rel=\"nofollow noreferrer\"><code>version</code></a> <b>is</b> simple Perl."}, {"owner": {"reputation": 980, "user_id": 2486083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pZudJ.jpg?s=128&g=1", "display_name": "Chetan", "link": "https://stackoverflow.com/users/2486083/chetan"}, "edited": false, "score": 0, "creation_date": 1573474064, "post_id": 58800885, "comment_id": 103882197, "body": "I have a read only system where i cannot add any modules"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 6, "creation_date": 1573474145, "post_id": 58800885, "comment_id": 103882241, "body": "Again, the version modules come with Perl, so it doesn&#39;t need to be added. (Also, you don&#39;t need any special permissions to install modules. If you can add a script, you can install a module.)"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1573483127, "post_id": 58800885, "comment_id": 103886762, "body": "What error are you seeing by adding <code>use version</code> to the top of your script?"}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1573581470, "post_id": 58801059, "comment_id": 103925164, "body": "Standard comparison operators will not work for these versions, consider: <code>1.2.9</code> vs <code>1.2.10</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1573583010, "post_id": 58801059, "comment_id": 103925830, "body": "@Grinnz, My answer was technically correct since I only promised it would work for the strings <code>1.2.3</code> and <code>1.2.4</code>. :) But that wasn&#39;t my intention or the implication. I have adjusted my answer. I was very tired at the time, which is very evident because 1) that should have been obvious to me, and 2) I knew something was wrong, so I actually tested the solution I posted, including something in the tens vs something not in the tens. Either I misread the output, or I forgot the quotes (because <code>perl -E&#39;say 1.2.9 cmp 1.2.10&#39;</code> works because they&#39;re vstrings). Pretty sure it was the latter."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1573582679, "last_edit_date": 1573582679, "creation_date": 1573474102, "answer_id": 58801059, "question_id": 58800885, "link": "https://stackoverflow.com/questions/58800885/compare-versions-without-using-version-cpan-module/58801059#58801059", "title": "Compare versions without using version CPAN module", "body": "<p>For the strings you posted, the standard string comparison operators (<code>cmp</code>, <code>lt</code>, etc) will work as long as every component is less than 10.</p>\n\n<p>For the strings you posted, the standard string comparison operators (<code>cmp</code>, <code>lt</code>, etc) will work as long as every component is less than 2<sup>32</sup> if you transform them using <code>pack('N*', split(/\\./, $v))</code> first.</p>\n\n<p>But that won't work for all versions commonly seen in the Perl world. If that's the kind of versions with which you must deal, use the version module. (This doesn't require installing anything from CPAN, so it meets your demands.)</p>\n\n<pre><code>my $v1 = version-&gt;parse($one);\nmy $v2 = version-&gt;parse($two);\n</code></pre>\n\n<p>The created objects override the numerical and string comparison operators so that they may be used to compare the objects.</p>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1573589187, "creation_date": 1573589187, "answer_id": 58825939, "question_id": 58800885, "link": "https://stackoverflow.com/questions/58800885/compare-versions-without-using-version-cpan-module/58825939#58825939", "title": "Compare versions without using version CPAN module", "body": "<p>Please see if the following solution will fit your requirements</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $sign;\n\nmy $prev = &lt;DATA&gt;;\n\nchomp $prev;\n\nwhile( my $new = &lt;DATA&gt; ) {\n    chomp $new;\n\n    my $str_new  = $new;\n    my $str_prev = $prev;\n\n    $str_prev =~ s/\\.//g;\n    $str_new  =~ s/\\.//g;\n\n    my $d_length = length($str_prev) - length($str_new);\n\n    $str_new  .= '0' x  $d_length if $d_length &gt; 0;\n    $str_prev .= '0' x -$d_length if $d_length &lt; 0;\n\n    $sign = \"=\" if $str_new == $str_prev;\n    $sign = \"&gt;\" if $str_new &gt; $str_prev;\n    $sign = \"&lt;\" if $str_new &lt; $str_prev;\n\n    printf \"%-5s %s %-5s\\n\", $new, $sign, $prev;\n\n    $prev = $new;\n}\n\n\n__DATA__\n1.2.3\n1.2.4\n1.2\n1.3.5\n1.3.5\n1.3.0\n</code></pre>\n\n<p>The code is open to productive critique. </p>\n\n<p>If you need to know which version is <em>bigger</em>, <em>smaller</em> or <em>equal</em> then <strong>cmp</strong> on two numbers would be sufficient.</p>\n"}], "owner": {"reputation": 980, "user_id": 2486083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pZudJ.jpg?s=128&g=1", "display_name": "Chetan", "link": "https://stackoverflow.com/users/2486083/chetan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 58801059, "answer_count": 2, "score": -1, "last_activity_date": 1573589187, "creation_date": 1573473325, "last_edit_date": 1573475898, "question_id": 58800885, "link": "https://stackoverflow.com/questions/58800885/compare-versions-without-using-version-cpan-module", "title": "Compare versions without using version CPAN module", "body": "<p>Assume I have 2 version variables:</p>\n\n<pre><code>$one = \"1.2.3\"\n$two = \"1.2.4\"\n</code></pre>\n\n<p>How do I compare these two version variables on whether the versions match OR one > two OR one &lt; two?</p>\n\n<p>Please note that I have a read-only system where I cannot add any Perl modules. Hence I cannot add <code>version</code> Perl module.</p>\n"}, {"tags": ["linux", "perl", "centos7"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573470382, "post_id": 58799917, "comment_id": 103880538, "body": "Thanks dear Dave,   I mean by this command ( perl -e &#39;print join &quot;\\n&quot;, @INC&#39; )  to show you directories where is Perl install, in order to get exact help commands"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573471142, "post_id": 58799917, "comment_id": 103880898, "body": "@AmerAlharthi: Please don&#39;t edit your question to remove bits that people have already replied to. It makes it confusing for people reading this page in the future."}, {"owner": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573471941, "post_id": 58799917, "comment_id": 103881213, "body": "Many thanks Dave Actually, I need to enable other users to use perl models that installed by root   this is part of root models  <code>[root@mu ~]# instmodsh Available commands are:    l            - List all installed modules    m &lt;module&gt;   - Select a module    q            - Quit the program cmd? l Installed modules are:    Acme::Damn    Bio::GFF3    BioPerl    Capture::Tiny    Class::Data::Inheritable    Data    Devel::Cycle    Devel::Size    Devel::StackTrace    Exception::Class </code>  and this is normal user modules   <code>Installed modules are:    Perl    Sys::Virt </code>"}, {"owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "edited": false, "score": 0, "creation_date": 1573472180, "post_id": 58799917, "comment_id": 103881335, "body": "@DaveCross Very useful answer. How to check this <code>perldoc</code> command in windows? I have installed <code>strawberry perl</code> on windows 10 &amp; how to install <code>perldoc</code> on windows?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573473351, "post_id": 58799917, "comment_id": 103881906, "body": "@AmerAlharthi: If you have more useful information, then please edit your question and add it there, instead of in a comment here."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573473399, "post_id": 58799917, "comment_id": 103881925, "body": "@AmerAlharthi: I&#39;m not sure I understand you. Perl modules that are installed by root should be available to all users."}, {"owner": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573475131, "post_id": 58799917, "comment_id": 103882671, "body": "Exactly, that is what I want"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573476930, "post_id": 58799917, "comment_id": 103883545, "body": "@AmerAlharthi: But why do you think that isn&#39;t what you have?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573482149, "post_id": 58799917, "comment_id": 103886221, "body": "@AmerAlharthi: See my most recent update for a suggestion."}, {"owner": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573534697, "post_id": 58799917, "comment_id": 103903178, "body": "@DaveCross <code>which perl</code> for root user <code>&#47;usr&#47;bin&#47;perl</code>  and for non root users  <code>&#47;bin&#47;perl</code>    , <b>perl version</b> for all users is <code>This is perl 5, version 16, subversion 3 (v5.16.3)</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573541826, "post_id": 58799917, "comment_id": 103905194, "body": "@AmerAlharthi Why did you ignore the bit where I said &quot;and add the output to your question&quot;?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573541919, "post_id": 58799917, "comment_id": 103905229, "body": "@AmerAlharthi: So you need to fix the <code>PATH</code> for non-root users so that they use <code>&#47;usr&#47;bin&#47;perl</code> as well."}, {"owner": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573544158, "post_id": 58799917, "comment_id": 103906066, "body": "@DaveCross: am not ignored, am just edit the question and return the command that was removed based on your advice in order to clarify the issue :)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573550314, "post_id": 58799917, "comment_id": 103908884, "body": "@AmerAlharthi: Attention to detail is a really important part of being a developer. I said &quot;Try running <code>which perl</code> as both types of user and add the output to your question.&quot; You ran the commands, but you left the output as a comment rather than adding it to your question. Comments are harder to read and many people who might be able to help with your problem won&#39;t read comments on other answers."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "edited": false, "score": 0, "creation_date": 1573554386, "post_id": 58799917, "comment_id": 103911046, "body": "@AmerAlharthi: Ok. Now we&#39;re getting somewhere. Can you please also run (as both types of user) <code>echo $PATH</code> and <code>echo $PERL5LIB</code>. And put the results in your question."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 5, "last_activity_date": 1573575846, "last_edit_date": 1573575846, "creation_date": 1573469325, "answer_id": 58799917, "question_id": 58799849, "link": "https://stackoverflow.com/questions/58799849/how-can-allow-for-non-root-users-to-use-perl-modules-that-are-installed-by-root/58799917#58799917", "title": "How can allow for non root users to use Perl modules that are installed by root?", "body": "<p>I think you're slightly confused. <code>@INC</code> contains a list of <strong>directories</strong> where Perl will search for modules. You won't see the names of individual modules when printing the contents of <code>@INC</code>. The actual modules will have been installed under the directories listed in your output.</p>\n\n<p>If you want to see where a module has been installed, you can use <code>perldoc -lm</code>.</p>\n\n<pre><code>$ perldoc -lm Template\n/usr/lib64/perl5/vendor_perl/Template.pm\n$ perldoc -lm Time::Piece\n/usr/lib64/perl5/Time/Piece.pm\n</code></pre>\n\n<p><strong>Update:</strong> You can get a complete list of the modules that are installed in the various <code>@INC</code> directories by running a command like this:</p>\n\n<pre><code>$ perl -MFile::Find -E'find sub { say $File::Find::name if -f and /\\.pm$/ }, @INC'\n</code></pre>\n\n<p><strong>Update:</strong> Changed <code>perldoc -l</code> to (better) <code>perldoc -lm</code>.</p>\n\n<p><strong>Update:</strong> If there are differences between the lists of modules that users and root are seeing, then the most obvious problem is that the two types of user are running different versions of Perl. Try running <code>which perl</code> as both types of user and add the output to your question.</p>\n\n<p><strong>Another Update:</strong> Ok, looking at the paths that you have added to the question, it looks like there are several versions of Perl installed. There's the system Perl in <code>/usr/bin/</code>, there's another Perl in <code>/bin/</code> and it looks like there's at least one more in <code>/lustre/bio/perl5/bin</code>. There may well be more.</p>\n\n<p>Each installation of Perl will have its own module library. And it's really not a good idea to use one Perl installation's module library with a different Perl installation. Even if they are the same version of Perl, then they could have been built with different compiler flags which would affect how well compiled modules would work.</p>\n\n<p>When you install a Perl module from CPAN, it installs it in the module library associated with the Perl installation that you are currently using. So it looks like your root user has been installing modules into the library directories associated with the system Perl.</p>\n\n<p>So you need to pick a Perl installation that you want to use. It seems likely that you want to use the system Perl as that's the one that the root user is using and it appears to be the one with the most modules installed. But someone who knows more about why there are multiple installations on that machine may be able to give you better advice on why you should choose between the various Perl installations on the machine.</p>\n\n<p>Once you've picked a Perl installation, you need to ensure that your <code>$APTH</code> variable is set so that your shell finds that Perl executable first. And you need to set your <code>$PERL5LIB</code> variable so that it finds the correct module library for that installation (although it's worth pointing out that all Perl installations have a default module search path \"burnt into\" them as they are built and unless you're doing something clever, it's likely that you don't actually need <code>$PERL5LIB</code> to be set at all.</p>\n\n<p>All in all, it seems that your server has been configured by various people over the years and they've all installed their own version of Perl for reasons that I can only guess at. The best option is almost certainly to talk to people who have more knowledge of the history of that server.</p>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 0, "last_activity_date": 1573580885, "creation_date": 1573580885, "answer_id": 58824049, "question_id": 58799849, "link": "https://stackoverflow.com/questions/58799849/how-can-allow-for-non-root-users-to-use-perl-modules-that-are-installed-by-root/58824049#58824049", "title": "How can allow for non root users to use Perl modules that are installed by root?", "body": "<p>The problem is that the perl-homedir RPM sets up a local::lib for all users, including root, so any modules installed as root get installed to its local::lib instead of the global sitelib as expected. You can either remove perl-homedir, or exclude the root user as detailed at <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1709491\" rel=\"nofollow noreferrer\">https://bugzilla.redhat.com/show_bug.cgi?id=1709491</a>.</p>\n\n<p>Since installing to sitelib can cause issues by changing what the package manager expects to be globally installed, and modules in either the sitelib or any local::lib will be broken when the package manager updates to a new major version of Perl, my preferred solution is instead to either install to a custom <a href=\"https://metacpan.org/pod/local::lib\" rel=\"nofollow noreferrer\">local::lib</a> (easily done with <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow noreferrer\">cpanm</a>) and then add that directory to the PERL5LIB for all users that wish to use it:</p>\n\n<pre><code>cpanm -l /opt/perllib Foo::Bar\nexport PERL5LIB=/opt/perllib/lib/perl5:$PERL5LIB\n# or to activate it in the current environment so any modules get installed there\neval \"$(perl -I/opt/perllib/lib/perl5 -Mlocal::lib=/opt/perllib)\"\n</code></pre>\n\n<p>Or, install an entirely separate Perl and add this Perl's bin directory to the path for any users that wish to use it - this Perl's sitelib can then be customized without affecting the system. This is easily done with <a href=\"https://metacpan.org/pod/perl-build\" rel=\"nofollow noreferrer\">perl-build</a>.</p>\n\n<pre><code>perl-build 5.30.1 /opt/perl-5.30.1\nexport PATH=/opt/perl-5.30.1/bin:$PATH\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 2082320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7654b7db80ed02520ffe9f6ab633b4?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/2082320/amer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1573580885, "creation_date": 1573469030, "last_edit_date": 1573555495, "question_id": 58799849, "link": "https://stackoverflow.com/questions/58799849/how-can-allow-for-non-root-users-to-use-perl-modules-that-are-installed-by-root", "title": "How can allow for non root users to use Perl modules that are installed by root?", "body": "<p>I am using centos7 cluster, and I use root to install all required perl modules, but when I check on the installed perl modules form normal user account there is no modules listed as root user.</p>\n\n<p>How can allow for non root users to use Perl modules that are installed by root?</p>\n\n<p>This is directories where is Perl install</p>\n\n<pre><code>[root@mu ~]#  perl -e 'print join \"\\n\", @INC'\n/root/perl5/lib/perl5/x86_64-linux-thread-multi\n/root/perl5/lib/perl5\n/usr/local/lib64/perl5\n/usr/local/share/perl5\n/usr/lib64/perl5/vendor_perl\n/usr/share/perl5/vendor_perl\n/usr/lib64/perl5\n/usr/share/perl5\n</code></pre>\n\n<p>For root user </p>\n\n<pre><code>[root@mu ~]# which perl\n/usr/bin/perl\n</code></pre>\n\n<p>For non root users</p>\n\n<pre><code>[bio@mu ~]$ which perl\n/bin/perl\n</code></pre>\n\n<p>perl version for all users is </p>\n\n<pre><code>[root@mu ~]# perl -v\n\nThis is perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux-thread-multi\n</code></pre>\n\n<p>For root user : echo $PATH and $PERL5LIB </p>\n\n<pre><code>[root@mu ~]# echo $PATH\n/opt/software/edirect:/opt/software/BEASTv1.10.1/bin:/opt/software/genometools-1.5.9/bin:/opt/software/ncbi-blast-2.7.1+/bin:/opt/software/bedtools2/bin:/opt/intel//impi/5.0.2.044/intel64/bin:/opt/intel/composer_xe_2015.1.133/bin/intel64:/opt/intel/composer_xe_2015.1.133/debugger/gdb/intel64_mic/bin:/usr/java/jre1.8.0_151/bin:/usr/java/jre1.8.0_151/bin:/opt/tsce/maui/sbin:/opt/tsce/maui/bin:/opt/tsce/torque6/bin:/opt/tsce/torque6/sbin:/usr/local/bin:/usr/lib64/qt-3.3/bin:/root/perl5/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/ibutils/bin:.:/lustre/shared/software/maker/bin:/root/bin\n[root@mu ~]#  \n[root@mu ~]# echo $PERL5LIB\n/root/perl5/lib/perl5:\n[root@mu ~]# \n</code></pre>\n\n<p>For non root user : echo $PATH and $PERL5LIB </p>\n\n<pre><code>[bio@mu ~]$ echo $PATH\n/opt/software/edirect:/opt/software/BEASTv1.10.1/bin:/opt/software/genometools-1.5.9/bin:/opt/software/ncbi-blast-2.7.1+/bin:/opt/software/bedtools2/bin:/opt/intel//impi/5.0.2.044/intel64/bin:/opt/intel/composer_xe_2015.1.133/bin/intel64:/opt/intel/composer_xe_2015.1.133/debugger/gdb/intel64_mic/bin:/usr/java/jre1.8.0_151/bin:/usr/java/jre1.8.0_151/bin:/opt/tsce/maui/sbin:/opt/tsce/maui/bin:/opt/tsce/torque6/bin:/opt/tsce/torque6/sbin:/usr/local/bin:/usr/lib64/qt-3.3/bin:/lustre/bio/perl5/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/ibutils/bin:.:/lustre/shared/software/maker/bin\n[bio@mu ~]$ \n[bio@mu ~]$ echo $PERL5LIB\n/lustre/bio/perl5/lib/perl5:\n[bio@mu ~]$ \n</code></pre>\n"}, {"tags": ["string", "perl", "sed", "replace", "grep"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573454066, "post_id": 58796407, "comment_id": 103874011, "body": "&quot;<i>Using perl is also fine</i>&quot;  -- so what <i>are</i> you using?  Or are you simply asking for someone to just write it for you?  Is this in a Perl program (it&#39;s valid Perl), or is it in a text file (as it says)?"}, {"owner": {"reputation": 11, "user_id": 12350791, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCT40hjU2QNREs3KJiMNSuEtjjQlSpd1MN4Zq3T=k-s128", "display_name": "Vamshi Rapol", "link": "https://stackoverflow.com/users/12350791/vamshi-rapol"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573454304, "post_id": 58796407, "comment_id": 103874099, "body": "This is an script file which needs to be modified(consider it as text)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573531111, "post_id": 58796407, "comment_id": 103902530, "body": "A reminder, have a look at <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>  If things still aren&#39;t resolved or clear please let us know"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12350791, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCT40hjU2QNREs3KJiMNSuEtjjQlSpd1MN4Zq3T=k-s128", "display_name": "Vamshi Rapol", "link": "https://stackoverflow.com/users/12350791/vamshi-rapol"}, "edited": false, "score": 0, "creation_date": 1573454732, "post_id": 58796581, "comment_id": 103874221, "body": "This is an script file which needs to be modified(consider it as text)"}], "tags": [], "owner": {"reputation": 74, "user_id": 322911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da94bdd9d8412aeb1c46509732f5084?s=128&d=identicon&r=PG", "display_name": "SpiceMan", "link": "https://stackoverflow.com/users/322911/spiceman"}, "is_accepted": false, "score": 0, "last_activity_date": 1573454059, "creation_date": 1573454059, "answer_id": 58796581, "question_id": 58796407, "link": "https://stackoverflow.com/questions/58796407/grep-and-replace-a-string-in-a-particular-pattern/58796581#58796581", "title": "Grep and Replace a string in a particular pattern", "body": "<p>That looks like a perl data structure.</p>\n\n<p>Any reason why can't just push <code>\"-error=all\"</code> into <code>$hash{search_this}{-vlog_opts}-&gt;@*</code></p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 4, "last_activity_date": 1573538347, "last_edit_date": 1573538347, "creation_date": 1573462570, "answer_id": 58798197, "question_id": 58796407, "link": "https://stackoverflow.com/questions/58796407/grep-and-replace-a-string-in-a-particular-pattern/58798197#58798197", "title": "Grep and Replace a string in a particular pattern", "body": "<p>I can't help it but think that there's got to be a better way than editing the source code ... ?</p>\n\n<p>Read the whole script file into a string and then follow the trail to identify the place to change</p>\n\n<pre><code>perl -0777 -wpe'\n    s/\"search_this\"\\s+=&gt;\\s+\\{.*?\\-vlog_opts\\s+=&gt;\\s+[^\\]]+\\K/ADD_THIS/s; \n' file\n</code></pre>\n\n<p>(broken over lines for readability)</p>\n\n<p>Notes</p>\n\n<ul>\n<li><p><code>0777</code> <a href=\"https://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">switch</a> unsets the <a href=\"https://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">input record separator</a>, so the file is \"slurped\" whole as one \"line\"</p></li>\n<li><p>the <code>/s</code> <a href=\"https://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">modifier</a> makes it so that <code>.</code> matches the newline as well</p></li>\n<li><p>the <code>\\K</code> makes it so that all matches up to that point are dropped (not consumed) so they don't have to be (captured and) entered in the replacement part. So we literally add <code>ADD_THIS</code></p></li>\n<li><p>Good information about <code>\\K</code> is under \"<em>Lookaround Assertions</em>\" <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">in Extended Patterns in perlre</a> but keep in mind that it subtly differs from other lookarounds</p></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 12350791, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCT40hjU2QNREs3KJiMNSuEtjjQlSpd1MN4Zq3T=k-s128", "display_name": "Vamshi Rapol", "link": "https://stackoverflow.com/users/12350791/vamshi-rapol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573538347, "creation_date": 1573453150, "last_edit_date": 1573467385, "question_id": 58796407, "link": "https://stackoverflow.com/questions/58796407/grep-and-replace-a-string-in-a-particular-pattern", "title": "Grep and Replace a string in a particular pattern", "body": "<p>I want to add/replace a string in a file with in a particular pattern. Please refer below</p>\n\n<pre><code>\"dont_search_this\"   =&gt; {\n    -tag =&gt; \"qwerty\",\n    -abc_asd =&gt; [ \"q/rg/dfg.txt\",],\n    -dependent_fcv =&gt; [\"me_lib\",  \"you_lib\",], \n    -vlog_opts =&gt; (($ENV{ABC_PROJECT}) eq \"xuv\")\n      ? [ \"-error=AMR\", \"-error=GHJ\", \"-error=TYU\", \"-error=IJK\", ]\n      : [] ,\n},\n\n\"search_this\"   =&gt; {\n    -tag =&gt; \"qwerty\",\n    -abc_asd =&gt; [ \"q/rg/dfg.txt\",],\n    -dependent_fcv =&gt; [\"me_lib\",  \"you_lib\",], \n    -vlog_opts =&gt; (($ENV{ABC_PROJECT}) eq \"xuv\")\n      ? [ \"-error=AMR\", \"-error=GHJ\", \"-error=TYU\", \"-error=IJK\", ]\n      :[],\n},\n</code></pre>\n\n<p>In above data, I want to add string \"-error=all\", in the line -vlog_opts in search_this paragraph only. Modified should be as follows</p>\n\n<pre><code>\"dont_search_this\"   =&gt; {\n    -tag =&gt; \"qwerty\",\n    -abc_asd =&gt; [ \"q/rg/dfg.txt\",],\n    -dependent_fcv =&gt; [\"me_lib\",  \"you_lib\",], \n    -vlog_opts =&gt; (($ENV{ABC_PROJECT}) eq \"xuv\")\n      ? [ \"-error=AMR\", \"-error=GHJ\", \"-error=TYU\", \"-error=IJK\", ]\n      :[],\n},\n\n\"search_this\"   =&gt; {\n    -tag =&gt; \"qwerty\",\n    -abc_asd =&gt; [ \"q/rg/dfg.txt\",],\n    -dependent_fcv =&gt; [\"me_lib\",  \"you_lib\",], \n    -vlog_opts =&gt; (($ENV{ABC_PROJECT}) eq \"xuv\")\n      ? [ \"-error=AMR\", \"-error=GHJ\", \"-error=TYU\", \"-error=IJK\", \"-error=all\" ]\n      :[],\n},\n</code></pre>\n\n<p>Please help me in this.\nUsing perl is also fine.</p>\n\n<p>Thank You very much!</p>\n"}, {"tags": ["regex", "string", "perl", "split"], "comments": [{"owner": {"reputation": 77, "user_id": 12048496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db6f93649ce5966f7c5903f00aa6dc5?s=128&d=identicon&r=PG&f=1", "display_name": "lara_g1999", "link": "https://stackoverflow.com/users/12048496/lara-g1999"}, "edited": false, "score": 0, "creation_date": 1573434444, "post_id": 58794406, "comment_id": 103870291, "body": "Is my approach right?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1573436746, "post_id": 58794406, "comment_id": 103870652, "body": "<a href=\"https://metacpan.org/pod/Net::Traceroute\" rel=\"nofollow noreferrer\">Net::Traceroute</a> might be useful."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573445902, "post_id": 58794406, "comment_id": 103872162, "body": "Tip on <code>split</code>: a pattern <code>&#39; &#39;</code> (single space between quote marks) splits on any amount of any whitespace (and discards leading and trailing space; see docs).  Then if your line is certainly always in the same format you can do that and count positions: <code>my @delays = (split &#39; &#39;, $str)[3,5,7];</code>.  The bad: relying on whitespace (or, number of fields). So perhaps regex is better here."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1573446483, "post_id": 58794448, "comment_id": 103872269, "body": "Note: if there can be <i>another</i> <code>N ms</code> (apart from these three), then listing all three in succession makes sure we don&#39;t pick that other one.  If not, can do <code>my @delays = $str =~ &#47;([0-9.]+)\\s+ms&#47;g;</code>"}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 4, "last_activity_date": 1573435219, "last_edit_date": 1573435219, "creation_date": 1573434845, "answer_id": 58794448, "question_id": 58794406, "link": "https://stackoverflow.com/questions/58794406/parsing-string-and-performing-operation-in-perl/58794448#58794448", "title": "Parsing string and performing operation in perl", "body": "<p>You can do this with a regexp instead of splitting:</p>\n\n<pre><code>my $str = \" 1  sgp-1.valve.net (103.28.54.1)  1.030 ms  1.040 ms  1.212 ms\";\nmy ($delaya, $delayb, $delayc) =\n    ($str =~ /([0-9.]+)\\s+ms\\s+([0-9.]+)\\s+ms\\s+([0-9.]+)\\s+ms/);\nprint join \"\\n\", $delaya, $delayb, $delayc, \"\\n\";\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>1.030\n1.040\n1.212\n</code></pre>\n\n<p>Regexp breakdown (below expression is repeated 3 times):</p>\n\n<pre><code>(               # beginning of a capturing group\n    [0-9.]+         # a sequence of numbers and dot (at least one character)\n)               # end of a capturing group\n\\s+             # at least one space\nms              # string 'ms'\n</code></pre>\n\n<hr>\n\n<p>If you want the average then:</p>\n\n<pre><code>my $str = \" 1  sgp-1.valve.net (103.28.54.1)  1.030 ms  1.040 ms  1.212 ms\";\nmy @delays = ($str =~ /([0-9.]+)\\s+ms\\s+([0-9.]+)\\s+ms\\s+([0-9.]+)\\s+ms/);\nmy $total;\n$total += $_ for @delays;\nmy $avg = $total/@delays;\nprint $avg, \"\\n\";\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>1.094\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 2, "last_activity_date": 1573465625, "creation_date": 1573465625, "answer_id": 58798980, "question_id": 58794406, "link": "https://stackoverflow.com/questions/58794406/parsing-string-and-performing-operation-in-perl/58798980#58798980", "title": "Parsing string and performing operation in perl", "body": "<p>Probably the following code is what you are looking for (note: I print all 3 delays on same line for debug purpose).</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $debug = 1;\n\nwhile( &lt;DATA&gt; ) {\n    my @delay = /(\\S+) ms/g;\n    printf \"%.3f %.3f %.3f\\n\",@delay if $debug;\n}\n\n__DATA__\n 1  sgp-1.valve.net (103.28.54.1)  1.030 ms  1.040 ms  1.212 ms\n 2    abcd.some.net (104.62.71.8)  1.302 ms  1.510 ms  1.621 ms\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 12048496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db6f93649ce5966f7c5903f00aa6dc5?s=128&d=identicon&r=PG&f=1", "display_name": "lara_g1999", "link": "https://stackoverflow.com/users/12048496/lara-g1999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "accepted_answer_id": 58794448, "answer_count": 2, "score": 3, "last_activity_date": 1590929420, "creation_date": 1573434415, "last_edit_date": 1590929420, "question_id": 58794406, "link": "https://stackoverflow.com/questions/58794406/parsing-string-and-performing-operation-in-perl", "title": "Parsing string and performing operation in perl", "body": "<p>I am trying to parse a traceroute string and get the server delays. I've managed to do that but the output includes the delay and \"ms\". How do i get rid of the \"ms\" and is it possible to do an average of the three delays?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $str = \" 1  sgp-1.valve.net (103.28.54.1)  1.030 ms  1.040 ms  1.212 ms\";\nmy ($a, $b, $delaya, $delayb, $delayc) = split /  /, $str;\n\nprint \"$delaya\\n\";\nprint \"$delayb\\n\";\nprint \"$delayc\\n\";\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>1.030 ms\n1.040 ms\n1.212 ms\n</code></pre>\n\n<p>Expected:</p>\n\n<pre><code>1.030\n1.040\n1.212\n</code></pre>\n"}, {"tags": ["perl", "cloudflare"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12005420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8913c090dfb70ad36d4b5f1579edca?s=128&d=identicon&r=PG&f=1", "display_name": "Fazri", "link": "https://stackoverflow.com/users/12005420/fazri"}, "edited": false, "score": 0, "creation_date": 1573470552, "post_id": 58795290, "comment_id": 103880603, "body": "Thank you for your answer. I have tried set_cookie with the cookie value. But the result still the same waiting page content."}, {"owner": {"reputation": 1461, "user_id": 11413106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb804df0cd07dea005f85e7b3e9a0d42?s=128&d=identicon&r=PG&f=1", "display_name": "lordadmira", "link": "https://stackoverflow.com/users/11413106/lordadmira"}, "reply_to_user": {"reputation": 11, "user_id": 12005420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8913c090dfb70ad36d4b5f1579edca?s=128&d=identicon&r=PG&f=1", "display_name": "Fazri", "link": "https://stackoverflow.com/users/12005420/fazri"}, "edited": false, "score": 0, "creation_date": 1573510035, "post_id": 58795290, "comment_id": 103898120, "body": "I&#39;ll need more information to troubleshoot it any further.  Try dumping the request and response objects to make sure the cookie was set correctly.  Otherwise there could additional checks done by the website.  Try setting the browser string (user agent)."}], "tags": [], "owner": {"reputation": 1461, "user_id": 11413106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb804df0cd07dea005f85e7b3e9a0d42?s=128&d=identicon&r=PG&f=1", "display_name": "lordadmira", "link": "https://stackoverflow.com/users/11413106/lordadmira"}, "is_accepted": false, "score": 1, "last_activity_date": 1573443757, "creation_date": 1573443757, "answer_id": 58795290, "question_id": 58790078, "link": "https://stackoverflow.com/questions/58790078/perl-bypass-5-seconds-waiting-page/58795290#58795290", "title": "Perl Bypass 5 Seconds Waiting Page", "body": "<p>That is an anti-scraping javascript snippet meant to stop people like from doing things like this.  The website will not return content until the cookie WebResolverSecurityCode is set.  All you have to do is parse the initial response to get the cookie value and set it on your $mech object.  Then re-request the page.</p>\n\n<pre><code>$document = q{ ... &lt;script&gt;setTimeout(function() {\n  document.cookie=\"WebResolverSecurityCode=bb4dfd133db6478f397a8175b9ced3b0; \n  expires=Mon, 11 Nov 2019 00:00:00 GMT; path=/\";\n  location.href=\"https://webresolver.nl/\";}, 500);&lt;/script&gt; ... };\n\n$cookie_value = \n  $document =~ m{\\bdocument\\.cookie=\"WebResolverSecurityCode=(\\w+);} ?\n  $1 : die \"cookie value not found\";\n</code></pre>\n\n<p>Read perlre for more information.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 11, "user_id": 12005420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8913c090dfb70ad36d4b5f1579edca?s=128&d=identicon&r=PG&f=1", "display_name": "Fazri", "link": "https://stackoverflow.com/users/12005420/fazri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573443757, "creation_date": 1573399510, "question_id": 58790078, "link": "https://stackoverflow.com/questions/58790078/perl-bypass-5-seconds-waiting-page", "title": "Perl Bypass 5 Seconds Waiting Page", "body": "I'm trying to get webpage content of [webresolver.nl][1]. I've tried several codes. One of them is: \n<pre><code>use warnings;\nuse HTTP::Cookies;\nuse WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new();\n$mech-&gt;agent_alias('Windows IE 6');\n$mech-&gt;cookie_jar(HTTP::Cookies-&gt;new(autosave =&gt; 1));\n$mech-&gt;add_header('Content-Type' =&gt; 'text/html; charset=UTF-8', 'Referer' =&gt; 'https://webresolver.nl');\n$mech-&gt;get('https://webresolver.nl');\nprint $mech-&gt;content;\n</code></pre>\n\n<p>And the result is:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"/&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/&gt;\n        &lt;meta name=\"robots\" content=\"index, follow\"&gt;\n        &lt;meta name=\"keywords\" content=\"skype resolver, skyperesolver, free resolver api, skype, tools, resolve, resolver, database, resolvedb, ip2skype, ip to skype, ip, free, api, php, free api, web tools, advanced, webresolver, web, resolver, skype, api, skypebot, bot, 2017, 2018, leaked, whois, screenshot, website, geoip, ping, phone, lookup, number, cloudflare, working, blacklist, portscan\" /&gt;\n        &lt;meta name=\"description\" content=\"Webresolver.nl - Free API, Skype Resolver, Resolver, Email To Skype, Huge Database, Resolve Database, Leaked Databases\"&gt;\n\n        &lt;meta name=\"twitter:card\" value=\"summary\"&gt;\n        &lt;meta property=\"og:type\" content=\"website\" /&gt;\n        &lt;meta property=\"og:title\" content=\"Easy to use API's - Webresolver.nl\" /&gt;\n        &lt;meta property=\"og:description\" content=\"Webresolver.nl - Free API, Skype Resolver, Resolver, Email To Skype, Huge Database, Resolve Database, Leaked Databases\" /&gt;\n        &lt;meta property=\"og:image\" content=\"https://webresolver.nl/social.png\" /&gt;\n\n        &lt;link rel=\"image_src\" href=\"https://webresolver.nl/social.png\" /&gt;\n\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n        &lt;meta name=\"google-site-verification\" content=\"kRHprU08vhp4g31pv2u8CsIqWZ5_XDlaou5T3P-5wv0\" /&gt;\n        &lt;meta name=\"wot-verification\" content=\"5e516c32e271c87e073a\"/&gt;\n\n        &lt;meta name=\"mobile-web-app-capable\" content=\"yes\"&gt;\n        &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\"&gt;\n\n        &lt;link rel=\"shortcut icon\" href=\"https://webresolver.nl/favicon.ico\"&gt;\n        &lt;link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"https://webresolver.nl/public/images/browsericons/apple-icon-57x57.png\"&gt;\n        &lt;link rel=\"apple-touch-icon\" sizes=\"60x60\" href=\"https://webresolver.nl/public/images/browsericons/apple-icon-60x60.png\"&gt;\n        &lt;link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"https://webresolver.nl/public/images/browsericons/apple-icon-72x72.png\"&gt;\n        &lt;link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"https://webresolver.nl/public/images/browsericons/apple-icon-76x76.png\"&gt;\n        &lt;link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"https://webresolver.nl/public/images/browsericons/apple-icon-114x114.png\"&gt;\n        &lt;link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"https://webresolver.nl/public/images/browsericons/apple-icon-120x120.png\"&gt;\n        &lt;link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"https://webresolver.nl/public/images/browsericons/apple-icon-144x144.png\"&gt;\n        &lt;link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"https://webresolver.nl/public/images/browsericons/apple-icon-152x152.png\"&gt;\n        &lt;link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"https://webresolver.nl/public/images/browsericons/apple-icon-180x180.png\"&gt;\n        &lt;link rel=\"icon\" type=\"image/png\" sizes=\"192x192\"  href=\"https://webresolver.nl/public/images/browsericons/android-icon-192x192.png\"&gt;\n        &lt;link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"https://webresolver.nl/public/images/browsericons/favicon-32x32.png\"&gt;\n        &lt;link rel=\"icon\" type=\"image/png\" sizes=\"96x96\" href=\"https://webresolver.nl/public/images/browsericons/favicon-96x96.png\"&gt;\n        &lt;link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"https://webresolver.nl/public/images/browsericons/favicon-16x16.png\"&gt;\n        &lt;meta name=\"msapplication-TileColor\" content=\"#37BC9B\"&gt;\n        &lt;meta name=\"theme-color\" content=\"#37BC9B\"&gt;\n        &lt;meta name=\"msapplication-TileImage\" content=\"https://webresolver.nl/public/images/browsericons/ms-icon-144x144.png\"&gt;\n\n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css\" /&gt;\n        &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js\"&gt;&lt;/script&gt;\n        &lt;script&gt;\n        window.addEventListener(\"load\", function(){\n        window.cookieconsent.initialise({\n          \"palette\": {\n            \"popup\": {\n              \"background\": \"#000\"\n            },\n            \"button\": {\n              \"background\": \"transparent\",\n              \"text\": \"#f1d600\",\n              \"border\": \"#f1d600\"\n            }\n          },\n          \"content\": {\n            \"message\": \"By using this website, you agree that we and our partners may set cookies for purposes such as customizing content and advertising. Cookies may get shared with third-party applications for analytics and statistics.\",\n            \"href\": \"https://webresolver.nl/cookie-policy\"\n          }\n        })});\n        &lt;/script&gt;\n\n        &lt;title&gt;Webresolver.nl - The best Skype Resolver&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n        Validating browser, please wait...&lt;br /&gt;&lt;br /&gt;\n\n        &lt;i&gt;&lt;small&gt;If this message persists after 10 seconds, please check you have cookies and JavaScript enabled in your browser.&lt;/small&gt;&lt;/i&gt; &lt;br /&gt;&lt;br /&gt;\n        &lt;i&gt;&lt;small&gt;&lt;small&gt;Protection by &lt;a href=\"https://webresolver.nl/\"&gt;webresolver.nl&lt;/a&gt; - Token: 5dc811c2424b9&lt;/small&gt;&lt;/small&gt;&lt;/i&gt;\n\n        &lt;script&gt;setTimeout(function() {document.cookie=\"WebResolverSecurityCode=bb4dfd133db6478f397a8175b9ced3b0; expires=Mon, 11 Nov 2019 00:00:00 GMT; path=/\";location.href=\"https://webresolver.nl/\";}, 500);&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I expected the webpage content is the real one (the homepage of the web), not the waiting page. I'm curious to know the code to make this work. I'm pretty new to Perl. So, if anyone can help me, i would appreciate it.</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573356924, "post_id": 58785476, "comment_id": 103854010, "body": "and then <a href=\"https://metacpan.org/pod/List::MoreUtils#any-BLOCK-LIST\" rel=\"nofollow noreferrer\">List::MoreUtils::any</a> is more efficient (exits on first find), what may add up here since it checks every single time.  Also, you&#39;d need to check whether <code>$ci_name</code> key <code>exists</code> in the first place"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573357473, "post_id": 58785476, "comment_id": 103854051, "body": "(if the key doesn&#39;t exist and we still try to use it then <i>it is created</i> ... so then <i>it does exist</i>, even though no such data has been seen and there&#39;s nothing there.  That may --  or may not -- be a problem later)"}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": false, "score": 2, "last_activity_date": 1573356262, "creation_date": 1573356262, "answer_id": 58785476, "question_id": 58785443, "link": "https://stackoverflow.com/questions/58785443/perl-hash-of-array-how-to-check-if-the-object-exists-before-adding/58785476#58785476", "title": "Perl hash of array how to check if the object exists before adding", "body": "<p>You can use <a href=\"https://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\">grep()</a> with a block, that checks if the <code>app_id</code> equals the one to be inserted.</p>\n\n<pre><code>...\npush @{$data{$ci_name}}, {app_id =&gt; $app_id, app_name =&gt; $app_name } unless grep { $_-&gt;{'app_id'} == $app_id; } @{$data{$ci_name}};\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 6667387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff4567bca091a3ec2a3cdf68b76233bb?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi M", "link": "https://stackoverflow.com/users/6667387/ravi-m"}, "edited": false, "score": 0, "creation_date": 1573387284, "post_id": 58785980, "comment_id": 103858910, "body": "I can&#39;t use <code>next if $seen{$app_id}++;</code> since the same app_id may be a valid row for multiple hosts but not for the same host. So for example 2345,hostb,Tableou and 2345,hosta,Tableou"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 6667387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff4567bca091a3ec2a3cdf68b76233bb?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi M", "link": "https://stackoverflow.com/users/6667387/ravi-m"}, "edited": false, "score": 0, "creation_date": 1573388229, "post_id": 58785980, "comment_id": 103859134, "body": "That&#39;s not what your question said, so I fixed it. You can use <code>$seen{$ci_name}{$app_id}++</code>. See updated answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1573388262, "last_edit_date": 1573388262, "creation_date": 1573363675, "answer_id": 58785980, "question_id": 58785443, "link": "https://stackoverflow.com/questions/58785443/perl-hash-of-array-how-to-check-if-the-object-exists-before-adding/58785980#58785980", "title": "Perl hash of array how to check if the object exists before adding", "body": "<p>You could temporarily use a HoH instead of a HoA.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\n&lt;DATA&gt;;  # Skip header.\n\nmy %data;\nmy %seen;\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my ($app_id, $ci_name, $app_name) = split /,/;\n    $data{$ci_name}{$app_id} //= { app_id =&gt; $app_id, app_name =&gt; $app_name };\n}\n\n# Convert HoH to HoA.\n$data{$_} = [ values(%{ $data{$_} }) ]\n   for keys(%data);\n\nprint Dumper(\\%data);\n</code></pre>\n\n<p>The above keeps the first of the duplicates, and it doesn't preserve order. Change <code>//=</code> to <code>=</code> to keep the last of the duplicates. Read on for a solution that preserves order.</p>\n\n<hr>\n\n<p>The following is a common way of removing duplicates while preserving order:</p>\n\n<pre><code>my %seen;\nmy @uniq = grep !$seen{$_}++, @values;\n</code></pre>\n\n<p>We can adapt that idiom to our needs.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\n&lt;DATA&gt;;  # Skip header.\n\nmy %data;\nmy %seen;\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my ($app_id, $ci_name, $app_name) = split /,/;\n    push @{ $data{$ci_name} }, { app_id =&gt; $app_id, app_name =&gt; $app_name }\n       if !$seen{$ci_name}{$app_id}++;\n}\n\nprint Dumper(\\%data);\n</code></pre>\n\n<p>The above keeps the first of the duplicates, and it preserves order.</p>\n\n<hr>\n\n<p>Both of these solution have a speed of O(N), whereas the previously posted solution has a speed of O(N<sup>2</sup>), so this solution scales much better. To be honest though, the previously posted solution has a practical speed of O(N) unless there's a lot of duplicates.</p>\n\n<hr>\n\n<p>Note how I added <code>&lt;DATA&gt;</code> before the loop? It's far better than skipping all lines that contain <code>app_id</code> anywhere in the line!</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573421574, "post_id": 58791763, "comment_id": 103867907, "body": "This still keeps the duplicate, no?  (It adds the same hashref twice to <code>@{$data{hostb}{2345}}</code> array ?)  They specifically don&#39;t want them"}], "tags": [], "owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "is_accepted": false, "score": 0, "last_activity_date": 1573410946, "creation_date": 1573410946, "answer_id": 58791763, "question_id": 58785443, "link": "https://stackoverflow.com/questions/58785443/perl-hash-of-array-how-to-check-if-the-object-exists-before-adding/58791763#58791763", "title": "Perl hash of array how to check if the object exists before adding", "body": "<p>If you want to keep all records (adapted from @ikegami):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\n&lt;DATA&gt;;  # Skip header.\n\nmy %data;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my ($app_id, $ci_name, $app_name) = split /,/;\n    push @{ $data{$ci_name}{$app_id} }, { app_id =&gt; $app_id, app_name =&gt; $app_name };\n}\n\nprint Dumper(\\%data);\n</code></pre>\n\n<p>But then it would be better to code:</p>\n\n<pre><code>$data{$ci_name}{$app_id}{$app_name}++;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 6667387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff4567bca091a3ec2a3cdf68b76233bb?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi M", "link": "https://stackoverflow.com/users/6667387/ravi-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1573410946, "creation_date": 1573355764, "last_edit_date": 1573388199, "question_id": 58785443, "link": "https://stackoverflow.com/questions/58785443/perl-hash-of-array-how-to-check-if-the-object-exists-before-adding", "title": "Perl hash of array how to check if the object exists before adding", "body": "<p>I have this code to take rows and place them into <code>%data</code>. One row in DATA (last row) is a duplicate so I don\u2019t want it to be added to <code>%data</code>. How do I check of the <code>app_id</code> and <code>ci_name</code> combination doesn\u2019t already exist before pushing the row into <code>%data</code>? Something like</p>\n\n<pre><code>push .. unless {app_id already exists}\n</code></pre>\n\n<p>The code to modify:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %data;\n\nwhile( &lt;DATA&gt; ) {\n    chomp;\n    next if /app_id/;\n    my ($app_id,$ci_name,$app_name) = split /,/;\n    push @{$data{$ci_name}}, {app_id =&gt; $app_id, app_name =&gt; $app_name };\n}\n\nprint Dumper(\\%data);\n\n__DATA__\napp_id,ci_name,app_name\n1234,hosta7,Managed File Transfer\n1235,hosta7,Patrtol\n1236,hosta7,RELATIONAL DATA WAREHOUSE\n1237,hosta7,Managed File Transfer\n1238,hosta7,Initio Application\n1239,hosta7,Data Warehouse Operations Infrastructure\n2345,hostb,Tableou\n2345,hostb,Tableou\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 3575623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1wTy.png?s=128&g=1", "display_name": "Whitehot", "link": "https://stackoverflow.com/users/3575623/whitehot"}, "edited": false, "score": 0, "creation_date": 1573340617, "post_id": 58784171, "comment_id": 103851933, "body": "The &quot;use open ...&quot; solution worked, but not the binmode for some reason..."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 207, "user_id": 3575623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1wTy.png?s=128&g=1", "display_name": "Whitehot", "link": "https://stackoverflow.com/users/3575623/whitehot"}, "edited": false, "score": 0, "creation_date": 1573341388, "post_id": 58784171, "comment_id": 103852094, "body": "Because you&#39;re reading from the <code>*ARGV</code> handle, not <code>*STDIN</code>; but you can&#39;t set binmode on it, as it&#39;s not opened before you enter the loop."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 207, "user_id": 3575623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1wTy.png?s=128&g=1", "display_name": "Whitehot", "link": "https://stackoverflow.com/users/3575623/whitehot"}, "edited": false, "score": 1, "creation_date": 1573365001, "post_id": 58784171, "comment_id": 103854856, "body": "@Whitehot, <code>binmode</code> does work as long as 1) you place it before the loop, and 2) you are actually reading from STDIN. <code>&lt;&gt;</code> is short for <code>&lt;ARGV&gt;</code> which only reads from <code>STDIN</code> when no arguments are provided. For example, it would work for <code>script &lt;file</code>, but not for <code>script file</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 207, "user_id": 3575623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1wTy.png?s=128&g=1", "display_name": "Whitehot", "link": "https://stackoverflow.com/users/3575623/whitehot"}, "edited": false, "score": 1, "creation_date": 1573365068, "post_id": 58784171, "comment_id": 103854864, "body": "@Whitehot, <code>use open IN =&gt; &#39;:encoding(UTF-8)&#39;, &#39;:std&#39;;</code> does <code>binmode STDIN, &quot;:encoding(UTF-8)&quot;</code>, and it sets the default encoding for files opened in scope, so it works for both <code>script &lt;file</code> and <code>script file</code>. In fact, you should use <code>use open &#39;:encoding(UTF-8)&#39;, &#39;:std&#39;;</code> to encode STDOUT too."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1573580295, "post_id": 58784171, "comment_id": 103924643, "body": "You can also simply decode each line from UTF-8 using <a href=\"https://perldoc.pl/Encode#decode\" rel=\"nofollow noreferrer\">Encode</a> or <a href=\"https://metacpan.org/pod/Encode::Simple#decode_utf8\" rel=\"nofollow noreferrer\">Encode::Simple</a>, for example."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1573341443, "last_edit_date": 1573341443, "creation_date": 1573339186, "answer_id": 58784171, "question_id": 58784042, "link": "https://stackoverflow.com/questions/58784042/perl-textunidecode-not-producing-correct-output/58784171#58784171", "title": "Perl Text::Unidecode not producing correct output", "body": "<p><code>use utf8</code> tells Perl what encoding you use in the source code. To set the encoding of the input, use</p>\n\n<pre><code>use open IN =&gt; ':encoding(UTF-8)', ':std';\n</code></pre>\n\n<p>Or, if you're not reading from a file, set the encoding of the *STDIN handle:</p>\n\n<pre><code>binmode *STDIN, ':encoding(UTF-8)';\n</code></pre>\n\n<p>See <a href=\"http://p3rl.org/open\" rel=\"nofollow noreferrer\">open</a> and <a href=\"http://p3rl.org/binmode\" rel=\"nofollow noreferrer\">binmode</a>.</p>\n"}], "owner": {"reputation": 207, "user_id": 3575623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1wTy.png?s=128&g=1", "display_name": "Whitehot", "link": "https://stackoverflow.com/users/3575623/whitehot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58784171, "answer_count": 1, "score": 1, "last_activity_date": 1573341443, "creation_date": 1573338163, "question_id": 58784042, "link": "https://stackoverflow.com/questions/58784042/perl-textunidecode-not-producing-correct-output", "title": "Perl Text::Unidecode not producing correct output", "body": "<p>I am attempting to use <code>Text::Unidecode</code> to transform all accented characters (\u00e9,\u00e7,\u00e8,\u00e0, etc) in a text file into their non accented counterparts (e, c, e, a, in this case). The function <code>unidecode()</code> should do just that, but I am getting strange output...</p>\n\n<p>Each accented character seems to be replaced by 'A' followed by one or two other characters. For example, the input <code>\"\u00e9\u00e8\u00e7\u00e0\u00f6\u00f4\u00e4\u00fc\u00fb\"</code> produces the output <code>\"A(c)A\"ASSA APA'A$?A1/4A&gt;&gt;\"</code>.</p>\n\n<p>The function works fine if I use it on some user defined string in a script, but not when I use it in a while loop, like this:</p>\n\n<pre><code>#!/bin/usr/perl\nuse utf8;\nuse Text::Unidecode;\nwhile(&lt;&gt;){\n    print(unidecode($_));\n}\n#end\n</code></pre>\n\n<p>The problem persists with or without <code>use utf8;</code>, but could the text file format still cause issues? Is this a known issue with the module?</p>\n"}, {"tags": ["perl", "debugging"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 3575623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1wTy.png?s=128&g=1", "display_name": "Whitehot", "link": "https://stackoverflow.com/users/3575623/whitehot"}, "edited": false, "score": 0, "creation_date": 1573327564, "post_id": 58782752, "comment_id": 103849154, "body": "That appeared to be it, thanks! Not sure how it got turned into a -s..."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1573327814, "last_edit_date": 1573327814, "creation_date": 1573327409, "answer_id": 58782752, "question_id": 58782729, "link": "https://stackoverflow.com/questions/58782729/perl-modification-of-a-read-only-value-for-one-line-script-that-used-to-work/58782752#58782752", "title": "Perl: &quot;Modification of a read-only value&quot; for one line script that used to work", "body": "<p>Are you sure you had <code>-s</code> there? Try replacing it with <code>$_</code>:</p>\n\n<pre><code>decode_entities($_)\n</code></pre>\n\n<p><code>-s</code> returns a file size, see <a href=\"http://p3rl.org/-x\" rel=\"nofollow noreferrer\">-x</a></p>\n\n<blockquote>\n  <p>-s  File has nonzero size (returns size in bytes).</p>\n</blockquote>\n\n<p>While <code>$_</code> contains the line read from the input.</p>\n"}], "owner": {"reputation": 207, "user_id": 3575623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1wTy.png?s=128&g=1", "display_name": "Whitehot", "link": "https://stackoverflow.com/users/3575623/whitehot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 58782752, "answer_count": 1, "score": 1, "last_activity_date": 1573327814, "creation_date": 1573327249, "question_id": 58782729, "link": "https://stackoverflow.com/questions/58782729/perl-modification-of-a-read-only-value-for-one-line-script-that-used-to-work", "title": "Perl: &quot;Modification of a read-only value&quot; for one line script that used to work", "body": "<p>I am using this little line which is quite useful for parsing some data in HTML format, specifically for converting the HTML \"special characters\" into \"real characters\":</p>\n\n<pre><code>perl -MHTML::Entities -pe 'decode_entities(-s);' &lt;tmp1 &gt;tmp2\n</code></pre>\n\n<p>It used to work just fine, however now it's telling me</p>\n\n<pre><code>Modification of a read-only value attempted at -e line 1, &lt;&gt; line 1.\n</code></pre>\n\n<p>Can you help me find out why? Am I missing a library?</p>\n"}, {"tags": ["perl", "oop", "inheritance", "model-view-controller", "mojolicious"], "comments": [{"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 1, "creation_date": 1573342403, "post_id": 58781577, "comment_id": 103852247, "body": "What does &quot;I didn&#39;t have any luck&quot; mean? Your code is working fine. Can you post a minimal example of your usage and what behaviour you expect?"}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 3, "creation_date": 1573343073, "post_id": 58781577, "comment_id": 103852370, "body": "You call -&gt;param() in your commented code line. Initialization of your Controller is not within a request cycle, so this might be why you think your code does not work?"}], "owner": {"reputation": 629, "user_id": 722785, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/683b39730e13bd63a2286f882b82e638?s=128&d=identicon&r=PG", "display_name": "Ryan Dunphy", "link": "https://stackoverflow.com/users/722785/ryan-dunphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573319041, "creation_date": 1573319041, "question_id": 58781577, "link": "https://stackoverflow.com/questions/58781577/how-do-i-override-a-mojoliciouscontroller-new-method", "title": "How do I override a Mojolicious::Controller-&gt;new method", "body": "<p>Let's assume I have a Mojo controller with a <em>virtual-esque</em> method <code>init</code> in it.</p>\n\n<pre><code>package App::Controller \nuse Mojo::Base 'Mojolicious::Controller';\n\nsub init {\n  my $self = shift;\n  # Do things with $self-&gt;param('myparam');\n}\n...\n</code></pre>\n\n<p>And I would like to extend it and make changes to the <code>init</code> method.  </p>\n\n<p>In this example, I make a subclass <code>App::Controller::Person</code> and I want to pull a value out of params and do something different with it.</p>\n\n<pre><code>package App::Controller::Person;\nuse parent 'App::Controller';\n\nsub init {\n  my $self = shift;\n  # Do different things with $self-&gt;param('myparam');\n}\n...\n</code></pre>\n\n<p>I <em>want</em> to be able to inject or call the init method when the Controller is instantiated, but can't seem to figure out how to go about doing that.  </p>\n\n<p>Initially, I wanted to just override the <code>new</code> method in <code>App::Controller</code> by doing something like this:</p>\n\n<pre><code>package App::Controller \nuse Mojo::Base 'Mojolicious::Controller';\n\nsub new {\n  my ($class, @args) = @_;\n  my $self = $class-&gt;SUPER::new(@args);\n  $self-&gt;init();\n  return $self;\n}\n</code></pre>\n\n<p>I but didn't have any luck with that.  I'm guessing that I am not passing things correctly to SUPER, but can't seem to figure out what I would need to do in order to get this to work.</p>\n\n<p>How do I go about implementing something like this?</p>\n"}, {"tags": ["file", "perl", "split"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 0, "last_activity_date": 1573320411, "creation_date": 1573320411, "answer_id": 58781758, "question_id": 58781417, "link": "https://stackoverflow.com/questions/58781417/perl-given-a-text-file-i-have-to-save-in-a-matrix-only-the-lines-of-text-that/58781758#58781758", "title": "Perl: Given a text file, I have to save in a matrix only the lines of text that contain a certain word", "body": "<p>Try this:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $fn = 'file.txt';\nopen ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\nmy @ip;\nmy @date;\nwhile( my $line = &lt;$fh&gt; ) {\n    chomp $line;\n    if  ($line =~ /ExitAddress\\s+(\\S+)\\s+(\\S+)/) {\n        push @ip, $1;\n        push @date, $2;\n    }\n}\nclose $fh;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1573464128, "creation_date": 1573464128, "answer_id": 58798576, "question_id": 58781417, "link": "https://stackoverflow.com/questions/58781417/perl-given-a-text-file-i-have-to-save-in-a-matrix-only-the-lines-of-text-that/58798576#58798576", "title": "Perl: Given a text file, I have to save in a matrix only the lines of text that contain a certain word", "body": "<p>I am not sure that I understood your problem correctly but anyway my solution will look like following</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $debug = 0;\n\nmy @data;\n\nwhile( &lt;DATA&gt; ) {\n    if( $_ =~ /ExitAddress\\s+(\\S+)\\s+(\\S+)\\s+(\\S+)/ ) {\n        my($ip,$date,$time) = ($1,$2,$3);\n        printf \"IP: %15s DATE: %10s TIME: %8s\\n\", \n                     $ip, $date, $time if $debug;\n        push @data , [$ip,$date,$time];\n    }\n}\n\nprint Dumper(\\@data) if $debug;\n\nforeach my $e (@data) {\n    printf \"%15s %10s %8s\\n\", @{$e};\n}\n\n__DATA__\nExitNode 0011BD2485AD45D984EC4159C88FC066E5E3300E\nPublished 2019-11-09 02:20:53\nLastStatus 2019-11-09 03:02:54\nExitAddress 162.247.74.201 2019-11-09 03:03:21\n\nExitNode 0011BD2485AD45D984EC4159C87FC066E5E6F01A\nPublished 2019-11-09 03:40:12\nLastStatus 2019-11-09 04:7:48\nExitAddress 162.247.74.167 2019-11-09 04:08:03\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12347709, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624932237586289/picture?type=large", "display_name": "Adamo Branz", "link": "https://stackoverflow.com/users/12347709/adamo-branz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 1, "accepted_answer_id": 58781758, "answer_count": 2, "score": 0, "last_activity_date": 1573464128, "creation_date": 1573318037, "question_id": 58781417, "link": "https://stackoverflow.com/questions/58781417/perl-given-a-text-file-i-have-to-save-in-a-matrix-only-the-lines-of-text-that", "title": "Perl: Given a text file, I have to save in a matrix only the lines of text that contain a certain word", "body": "<p>I'm using a script that saves an html page to a text file.\nInside this text file I have several lines.\nI would like to save some of these in a matrix (2 x n) that I will use in the future to fill a postgres table.</p>\n\n<p>the file has many repetitions of these 4 lines:</p>\n\n<pre><code>ExitNode 0011BD2485AD45D984EC4159C88FC066E5E3300E\nPublished 2019-11-09 02:20:53\nLastStatus 2019-11-09 03:02:54\nExitAddress 162.247.74.201 2019-11-09 03:03:21\n</code></pre>\n\n<p>I would like to save in the matrix, the Ip and date for each ExitAddress that I find in the file</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1573310607, "post_id": 58780224, "comment_id": 103844757, "body": "What if the line contains both delimiters? Are lines with the same delimiter always adjacent?"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 2, "creation_date": 1573310709, "post_id": 58780224, "comment_id": 103844778, "body": "Welcome to Stack Overflow. SO is a question and answer site for professional and enthusiast programmers. The goal is that you add some code of your own to your question to show at least the research effort you made to solve this yourself."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573322390, "post_id": 58780224, "comment_id": 103847808, "body": "&quot;<i>Can it be done in using any simple command?</i>&quot;  -- I wouldn&#39;t think so, given what need be done---  Either: Read the whole file in, and in the process find the maximum width for each column; then write it out, now knowing how wide each field should be; Or: make one pass over the file to find those maximum widths, then another pass to read a line and write out with right field widths, to a new file that you&#39;ll eventually move over the original (advantage of this approach: you never read the <i>whole</i> file in, it&#39;s always one line at a time)."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1573345976, "last_edit_date": 1573345976, "creation_date": 1573345527, "answer_id": 58784765, "question_id": 58780224, "link": "https://stackoverflow.com/questions/58780224/how-to-align-different-part-of-a-text-file-which-contain-the-distinct-delimiters/58784765#58784765", "title": "How to align different part of a text file which contain the distinct delimiters in Linux?", "body": "<p>First, you need to find the width of each column. Once you have that, you can easily create a <code>sprintf</code> format.</p>\n\n<pre><code>use List::Util qw( max );\n\nmy @a = (\n    [qw( b b c )],\n    [qw( aaaaaaaa b c )],\n);\n\nmy @col_widths =\n   map {\n      my $col_idx = $_;\n      max\n         map { length($a[$_][$col_idx]) }\n            0..$#a\n   }\n      0..$#{ $a[0] };\n\n# 8, 1, 1 =&gt; \"%-8s | %-1s | %s\"\nmy $format =\n   join \" | \",\n      map(\"%-${_}s\", @col_widths[ 0..$#col_widths-1 ]),\n      \"%s\";\n\nsay sprintf($format, @$_)\n   for @a;\n</code></pre>\n\n<p>In the second case, a space for the comma needs to be included in the format width, and a comma needs to be added to each column value except the last.</p>\n\n<pre><code># 5, 1, 1 =&gt; \"%-6s %-2s %s\"\nmy $format =\n   join \" \",\n      map({ sprintf(\"%%-%ss\", $col_widths[$_]+1) }\n         0..$#col_widths-1\n      ),\n      \"%s\";\n\nsay\n   sprintf($format,\n      map(\"$_,\", @$_[ 0..$#$_-1 ]),\n      $_-&gt;[-1],\n   )\n      for @a;\n</code></pre>\n\n<p>The solutions assume that each row has the same number of columns. Adjust as necessary.</p>\n"}], "owner": {"reputation": 309, "user_id": 5409274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ad42D.jpg?s=128&g=1", "display_name": "Rohan Ghige", "link": "https://stackoverflow.com/users/5409274/rohan-ghige"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "closed_date": 1573382027, "answer_count": 1, "score": 0, "last_activity_date": 1573345976, "creation_date": 1573309738, "question_id": 58780224, "link": "https://stackoverflow.com/questions/58780224/how-to-align-different-part-of-a-text-file-which-contain-the-distinct-delimiters", "closed_reason": "Not suitable for this site", "title": "How to align different part of a text file which contain the distinct delimiters in Linux?", "body": "<p>I have a file as follows,</p>\n\n<pre><code>b | b | c\naaaaaaaa | b |    c\n\n1,2,3\n10000,3,4,\n</code></pre>\n\n<p>I want to align it with both delimiters i.e. <code>|</code> and <code>,</code>. Expected output file is</p>\n\n<pre><code>b        | b | c\naaaaaaaa | b | c\n\n1,     2, 3\n10000, 3, 4,\n</code></pre>\n\n<p>Can it be done in using any simple command? Command should not disturb other text in the file (which does not contain that delimiter).</p>\n"}, {"tags": ["perl", "dbix-class"], "answers": [{"tags": [], "owner": {"reputation": 564, "user_id": 158575, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/50c5f04c098fa8e109cbccc2d116a4d5?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/158575/todd"}, "is_accepted": true, "score": 1, "last_activity_date": 1573684350, "creation_date": 1573684350, "answer_id": 58846649, "question_id": 58774712, "link": "https://stackoverflow.com/questions/58774712/is-it-possible-for-dbixclassschemaloader-dbicdump-to-auto-add-serializer-f/58846649#58846649", "title": "Is it possible for DBIx::Class::Schema::Loader dbicdump to auto add serializer for JSYNC", "body": "<p>Not sure this is possible from the dbicdump program, but if you use the the following perl program, you can do exactly what I want:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse DBIx::Class::Schema::Loader qw/make_schema_at/;\n\nmake_schema_at(\n    'Foo::Schema',\n    {\n        dump_directory =&gt; './lib',\n        components     =&gt; [ \"InflateColumn::Serializer\", \"InflateColumn::DateTime\" ],\n        db_schema      =&gt; 1,\n        qualify_objects =&gt; 1,\n        custom_column_info =&gt; sub {\n            my ($table, $column_name, $column_info) = @_;\n            if ( $column_info-&gt;{data_type} eq \"json\" ) {\n                return { serializer_class =&gt; \"JSYNC\" };\n            }\n        },\n    },\n    [\n         \"dbi:Pg:dbname=foo',\n         \"username\",\n         \"password\"\n     ]\n);\n</code></pre>\n\n<p>Hope this saves someone some research time.</p>\n"}], "owner": {"reputation": 564, "user_id": 158575, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/50c5f04c098fa8e109cbccc2d116a4d5?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/158575/todd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58846649, "answer_count": 1, "score": 1, "last_activity_date": 1573684350, "creation_date": 1573253618, "question_id": 58774712, "link": "https://stackoverflow.com/questions/58774712/is-it-possible-for-dbixclassschemaloader-dbicdump-to-auto-add-serializer-f", "title": "Is it possible for DBIx::Class::Schema::Loader dbicdump to auto add serializer for JSYNC", "body": "<p>I'm running </p>\n\n<pre><code>dbicdump -o dump_directory=./lib \\\n          -o components='[\"InflateColumn::DateTime\", \"InflateColumn::Serializer\"]' \\\n          -o debug=1 \\\n          -o db_schema=foo \\\n          -o qualify_objects=1 \\\n          Foo::Schema \\\n          'dbi:Pg:dbname=foo' username password\n</code></pre>\n\n<p>against a Postgres database with the hopes that the generated schema will generate the code necessary to inflate timestamp and JSON column types.</p>\n\n<p>Looking at the generated Schema files, I see the </p>\n\n<pre><code>__PACKAGE__-&gt;load_components(\"InflateColumn::Serializer\", \"InflateColumn::DateTime\");\n</code></pre>\n\n<p>line, but now I have to add <code>serializer_class =&gt; 'JSYNC'</code> to each of the JSON columns I want to inflate and deflate.  </p>\n\n<p>Is there a way to get dbicdump to do this automatically or is it expected practice to manually set these accessors?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c", "linux", "perl", "cygwin"], "comments": [{"owner": {"reputation": 1220, "user_id": 5878272, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14e96159153b67fab5222b7c5fa18c71?s=128&d=identicon&r=PG&f=1", "display_name": "Fredrik", "link": "https://stackoverflow.com/users/5878272/fredrik"}, "edited": false, "score": 0, "creation_date": 1573253288, "post_id": 58774625, "comment_id": 103835319, "body": "printf(%d\\r&quot;, i);  You are missing a quote \u201d"}, {"owner": {"reputation": 106418, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "edited": false, "score": 0, "creation_date": 1573253637, "post_id": 58774625, "comment_id": 103835419, "body": "You should make <code>stdout</code> unbuffered (not <code>stdin</code>): <code>setvbuf(stdout, NULL, _IONBF, 0);</code>."}, {"owner": {"reputation": 4396, "user_id": 2064196, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YOB5j.jpg?s=128&g=1", "display_name": "Bulletmagnet", "link": "https://stackoverflow.com/users/2064196/bulletmagnet"}, "edited": false, "score": 0, "creation_date": 1573253911, "post_id": 58774625, "comment_id": 103835483, "body": "<code>setvbuf(stdout, NULL, _IONBF, 0)</code> doesn&#39;t help either :("}, {"owner": {"reputation": 106418, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "edited": false, "score": 0, "creation_date": 1573254398, "post_id": 58774625, "comment_id": 103835599, "body": "@Bulletmagnet This <code>stdbuf -i0 -o0 -e0 long_running_program | tee output | .&#47;progr</code>?"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1573267067, "post_id": 58774625, "comment_id": 103837538, "body": "The question does not have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for the C case. Pipes are not line-buffered. perl -wle does not flush"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573274894, "post_id": 58774625, "comment_id": 103838401, "body": "By the way, you aren&#39;t reading from STDIN (at least not directly). <code>&lt;&gt;</code> is short for <code>&lt;ARGV&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4396, "user_id": 2064196, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YOB5j.jpg?s=128&g=1", "display_name": "Bulletmagnet", "link": "https://stackoverflow.com/users/2064196/bulletmagnet"}, "edited": false, "score": 0, "creation_date": 1573254220, "post_id": 58774669, "comment_id": 103835564, "body": "The Perl one-liner&#39;s output has no carriage returns. It has newlines. Only the second program outputs carriage returns."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 4396, "user_id": 2064196, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YOB5j.jpg?s=128&g=1", "display_name": "Bulletmagnet", "link": "https://stackoverflow.com/users/2064196/bulletmagnet"}, "edited": false, "score": 0, "creation_date": 1573254470, "post_id": 58774669, "comment_id": 103835611, "body": "@Bulletmagnet The one-liner also buffers its output because stdout is a pipe. The progr.pl script doesn&#39;t see any input until the one-liner&#39;s finished. You have to flush output; see edit."}], "tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": -1, "last_activity_date": 1573254705, "last_edit_date": 1573254705, "creation_date": 1573253228, "answer_id": 58774669, "question_id": 58774625, "link": "https://stackoverflow.com/questions/58774625/flushing-stdout-appears-to-have-no-effect-if-reading-from-stdin/58774669#58774669", "title": "Flushing stdout appears to have no effect if reading from stdin", "body": "<p>In most of those examples, you're piping output that only has carriage returns (until the program ends and prints a newline (Or two for the C version)) to programs that are reading a newline-terminated line at a time. Of course you're not going to see output from the second program until the first program ends -- it's waiting on a newline or end of file to return the first line. </p>\n\n<hr>\n\n<p>In the <code>perl -wle 'foreach (1..5) { print $_; sleep 1 }' | ./progr.pl</code> case, yes, there are newlines thanks to the <code>-l</code> option, but the output is buffered because it's to a pipe, and <code>progr.pl</code> doesn't see any input until the first part finishes. Add a <code>$|=1;</code> at the beginning before the loop and you'll get different results.</p>\n"}, {"comments": [{"owner": {"reputation": 4396, "user_id": 2064196, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YOB5j.jpg?s=128&g=1", "display_name": "Bulletmagnet", "link": "https://stackoverflow.com/users/2064196/bulletmagnet"}, "edited": false, "score": 0, "creation_date": 1573512329, "post_id": 58776490, "comment_id": 103898775, "body": "Thanks for a well-written explanation, and for the suggestion to use <code>unbuffer</code>, which worked."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1573275384, "last_edit_date": 1573275384, "creation_date": 1573274628, "answer_id": 58776490, "question_id": 58774625, "link": "https://stackoverflow.com/questions/58774625/flushing-stdout-appears-to-have-no-effect-if-reading-from-stdin/58776490#58776490", "title": "Flushing stdout appears to have no effect if reading from stdin", "body": "<p>You're looking at the wrong program. You turned off output buffering in the second program of the pipeline, but not the first.</p>\n\n<hr>\n\n<p>STDOUT is line-buffered if connected to a terminal, block-buffered otherwised. </p>\n\n<p>Line-buffered: Flushed when a Line Feed is output.</p>\n\n<p>Block-buffered: Flushed when the buffer is filled.</p>\n\n<p>Since the STDOUT of the first program of the pipeline (the input generator) is connected to a pipe, its output is block-buffered. And since the buffer is large enough to hold the entirety of the program's output, your input generator doesn't actually output anything until it exits.</p>\n\n<p>Change</p>\n\n<pre><code>perl -wle 'foreach (1..5) { print $_; sleep 1 }' | ./progr.pl\n</code></pre>\n\n<p>to</p>\n\n<pre><code>perl -wle '$| = 1; foreach (1..5) { print $_; sleep 1 }' | ./progr.pl\n</code></pre>\n\n<p>But what if you have no control over the program? You can sometimes coax other program to turn off buffering by using <code>unbuffer</code>.</p>\n\n<pre><code>unbuffer perl -wle 'foreach (1..5) { print $_; sleep 1 }' | ./progr.pl\n</code></pre>\n"}], "owner": {"reputation": 4396, "user_id": 2064196, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YOB5j.jpg?s=128&g=1", "display_name": "Bulletmagnet", "link": "https://stackoverflow.com/users/2064196/bulletmagnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 58776490, "answer_count": 2, "score": 0, "last_activity_date": 1573275384, "creation_date": 1573252888, "last_edit_date": 1573253998, "question_id": 58774625, "link": "https://stackoverflow.com/questions/58774625/flushing-stdout-appears-to-have-no-effect-if-reading-from-stdin", "title": "Flushing stdout appears to have no effect if reading from stdin", "body": "<p>I have the following script:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n$| = 1;\nforeach (1..5) {\n    print $_ . \"\\r\";\n    sleep 1;\n}\nprint \"\\n\";\n</code></pre>\n\n<p>This behaves as expected: the numbers 1,2,3,4,5 overwrite each other on the console. </p>\n\n<pre><code>$ ./loop.pl | hexdump -C\n00000000  31 0d 32 0d 33 0d 34 0d  35 0d 0a                 |1.2.3.4.5..|\n</code></pre>\n\n<p>However, a different script (intended to show hide the large output of a long-running program like this: <code>long_running_program | tee output | ./progr</code>)</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n$| = 1;\nwhile (&lt;&gt;) {\n    chomp;\n    print $_ . \"\\r\";\n}\nprint \"\\n\";\n</code></pre>\n\n<p>produces different behavior when input is redirected:</p>\n\n<pre><code> perl -wle 'foreach (1..5) { print $_; sleep 1 }' | ./progr.pl\n</code></pre>\n\n<p>No output is seen for five seconds, then a '5' can be seen. Yet hexdump shows the same output (after five seconds)</p>\n\n<pre><code>$ perl -wle 'foreach (1..5) { print $_; sleep 1 }' | ./progr.pl | hexdump.exe -C\n00000000  31 0d 32 0d 33 0d 34 0d  35 0d 0a                 |1.2.3.4.5..|\n</code></pre>\n\n<p>This is not Perl-specific. The following C code</p>\n\n<pre><code>for (int i = 0; i &lt; 6; ++i) {\n    printf(\"%d\\r\", i);\n    fflush(stdout);\n    sleep(1);\n}\nputs(\"\\n\");\n</code></pre>\n\n<p>shows digits overwriting each other, but</p>\n\n<pre><code>#define SIZE (256 * 1024)\nchar buffer[SIZE];\nint line = 0;\nwhile (fgets(buffer, SIZE, stdin)) {\n    printf(\"%d\\r\", ++line);\n    fflush(stdout);\n}\nputs(\"\\n\");\n</code></pre>\n\n<p>when at the end of a pipe, only shows output after the input is exhausted.</p>\n\n<p>Not even </p>\n\n<pre><code>setvbuf(stdout, NULL, _IONBF, 0);\n</code></pre>\n\n<p>appears to help.</p>\n\n<p>I tried all these through an SSH connection to a remote Linux (RHEL6) system, and locally under Cygwin.</p>\n\n<p>(Edited with corrections from @Fredrik and @usr)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1573251560, "post_id": 58774441, "comment_id": 103834882, "body": "I deleted the link. Please don&#39;t link to pirated books! (I note that it was also a book for Perl 4. It is <b>horribly</b> out of date and far FAR away from best practise)"}, {"owner": {"reputation": 5170, "user_id": 2645713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efef9add043f756851612ae611f282f7?s=128&d=identicon&r=PG", "display_name": "Markus Zeller", "link": "https://stackoverflow.com/users/2645713/markus-zeller"}, "edited": false, "score": 1, "creation_date": 1573251996, "post_id": 58774441, "comment_id": 103834995, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10084715/unable-to-send-a-mail-using-perl-mimelite\">Unable to send a mail using perl Mime::Lite</a>"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1573252308, "post_id": 58774441, "comment_id": 103835084, "body": "@Quentin Despite that URL, the Perl Cookbook is perl5. Still horribly outdated since it&#39;s from 2003 though."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1573252748, "post_id": 58774441, "comment_id": 103835191, "body": "Take a look at the <a href=\"https://metacpan.org/pod/perlfaq9#How-do-I-send-email?\" rel=\"nofollow noreferrer\">recently updated perlfaq entry</a> on this topic."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1573279131, "post_id": 58774441, "comment_id": 103838876, "body": "I&#39;ve used core <a href=\"https://perldoc.perl.org/Net/SMTP.html\" rel=\"nofollow noreferrer\">Net::SMTP</a>, and directly <code>sendmail</code> (with <code>-oi -t</code>) and both have been fine (where the second one is limited to machines with <code>sendmail</code>)"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1573279573, "post_id": 58774441, "comment_id": 103838942, "body": "Sorry, but this looks like fiddling around without any kind of understanding what you are doing and  especially without reading documentation - therefore downvoted. It isn&#39;t even possible to send email with IMAP in the first place since IMAP protocol is just for reading mails."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1573252523, "last_edit_date": 1592644375, "creation_date": 1573252523, "answer_id": 58774583, "question_id": 58774441, "link": "https://stackoverflow.com/questions/58774441/how-can-i-send-mail-in-a-perl-script/58774583#58774583", "title": "How can I send mail in a Perl script?", "body": "<p>The Perl Cookbook is 20 years old and its recommendations will be out of date.  <a href=\"https://metacpan.org/pod/MIME::Lite#WAIT!\" rel=\"nofollow noreferrer\">Using MIME::Lite is discouraged</a>.</p>\n<blockquote>\n<p>MIME::Lite is not recommended by its current maintainer. There are a number of alternatives, like Email::MIME or MIME::Entity and Email::Sender, which you should probably use instead. MIME::Lite continues to accrue weird bug reports, and it is not receiving a large amount of refactoring due to the availability of better alternatives. Please consider using something else.</p>\n</blockquote>\n<p>You should probably follow their recommendation and use <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow noreferrer\">Email::Sender</a>.</p>\n<hr />\n<blockquote>\n<p><em>&quot;Can't locate object method &quot;new&quot; via package Email::Send::Gmail&quot;</em></p>\n</blockquote>\n<p>You need to load Email::Send::Gmail with <code>use Email::Send::Gmail</code>.</p>\n<p>You may need to install the <a href=\"https://metacpan.org/pod/Email::Send::Gmail\" rel=\"nofollow noreferrer\">Email::Send::Gmail</a> module. It's simplest to do this using either <a href=\"https://github.com/miyagawa/cpanminus/tree/devel/App-cpanminus\" rel=\"nofollow noreferrer\">cpanminus</a> or <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">install a fresh Perl with perlbrew</a> and then use cpanminus.</p>\n<hr />\n<blockquote>\n<p>Then I tried</p>\n<pre><code>$msg = Net::IMAP::Simple::SSL-&gt;new(From =&gt; 'zmumba@gmail.com',\n</code></pre>\n<p>and I get &quot;Odd number of elements in hash assignment at /home/zmumba/perl5/lib/perl5/Net/IMAP/Simple.pm line 25.</p>\n</blockquote>\n<p>MIME::Lite, Email::Send::Gmail, and <a href=\"https://metacpan.org/pod/Net::IMAP::Simple::SSL\" rel=\"nofollow noreferrer\">Net::IMAP::Simple::SSL</a> are different libraries with different interfaces that take different arguments differently. Refer to their documentation for how to use them.</p>\n"}, {"tags": [], "owner": {"reputation": 472, "user_id": 2001559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L1bvT.png?s=128&g=1", "display_name": "Maverick", "link": "https://stackoverflow.com/users/2001559/maverick"}, "is_accepted": false, "score": 2, "last_activity_date": 1587889547, "last_edit_date": 1587889547, "creation_date": 1573287871, "answer_id": 58777587, "question_id": 58774441, "link": "https://stackoverflow.com/questions/58774441/how-can-i-send-mail-in-a-perl-script/58777587#58777587", "title": "How can I send mail in a Perl script?", "body": "<p>As mentioned before, both MIME::Lite and Email::Send is discouraged -</p>\n\n<blockquote>\n  <p>Email::Send is going away... well, not really going away, but it's\n  being officially marked \"out of favor.\" It has API design problems\n  that make it hard to usefully extend and rather than try to deprecate\n  features and slowly ease in a new interface, we've released\n  Email::Sender which fixes these problems and others</p>\n</blockquote>\n\n<p>I have created a script which uses Email::MIME, Email::Sender::Simple, Email::Sender::Transport::SMTP for sending mail. You can take a look at <a href=\"https://github.com/rai-gaurav/perl-toolkit/tree/master/Mail\" rel=\"nofollow noreferrer\">https://github.com/rai-gaurav/perl-toolkit/tree/master/Mail</a> and use it as per your requirement.\nImportant lines from that code are -</p>\n\n<pre><code>sub create_mail {\n    my ( $self, $file_attachments, $mail_subject, $mail_body ) = @_;\n\n    my @mail_attachments;\n    if (@$file_attachments) {\n        foreach my $attachment (@$file_attachments) {\n            my $single_attachment = Email::MIME-&gt;create(\n                attributes =&gt; {\n                    filename     =&gt; basename($attachment),\n                    content_type =&gt; \"application/json\",\n                    disposition  =&gt; 'attachment',\n                    encoding     =&gt; 'base64',\n                    name         =&gt; basename($attachment)\n                },\n                body =&gt; io-&gt;file($attachment)-&gt;all\n            );\n            push( @mail_attachments, $single_attachment );\n        }\n    }\n    # Multipart message : It contains attachment as well as html body\n    my @parts = (\n        @mail_attachments,\n        Email::MIME-&gt;create(\n            attributes =&gt; {\n                content_type =&gt; 'text/html',\n                encoding     =&gt; 'quoted-printable',\n                charset      =&gt; 'US-ASCII'\n            },\n            body_str =&gt; $mail_body,\n        ),\n    );\n\n    my $mail_to_users    = join ', ', @{ $self-&gt;{config}-&gt;{mail_to} };\n    my $cc_mail_to_users = join ', ', @{ $self-&gt;{config}-&gt;{mail_cc_to} };\n\n    my $email = Email::MIME-&gt;create(\n        header =&gt; [\n            From    =&gt; $self-&gt;{config}-&gt;{mail_from},\n            To      =&gt; $mail_to_users,\n            Cc      =&gt; $cc_mail_to_users,\n            Subject =&gt; $mail_subject,\n        ],\n        parts =&gt; [@parts],\n    );\n    return $email;\n}\n\nsub send_mail {\n    my ( $self, $email ) = @_;\n    my $transport = Email::Sender::Transport::SMTP-&gt;new(\n        {\n            host =&gt; $self-&gt;{config}-&gt;{smtp_server}\n        }\n    );\n    eval { sendmail( $email, { transport =&gt; $transport } ); };\n    if ($@) {\n        return 0, $@;\n    }\n    else {\n        return 1;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12005420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8913c090dfb70ad36d4b5f1579edca?s=128&d=identicon&r=PG&f=1", "display_name": "Fazri", "link": "https://stackoverflow.com/users/12005420/fazri"}, "is_accepted": false, "score": 0, "last_activity_date": 1573399977, "creation_date": 1573399977, "answer_id": 58790127, "question_id": 58774441, "link": "https://stackoverflow.com/questions/58774441/how-can-i-send-mail-in-a-perl-script/58790127#58790127", "title": "How can I send mail in a Perl script?", "body": "<p>Take a look at <a href=\"https://metacpan.org/pod/Email::Send::Gmail\" rel=\"nofollow noreferrer\">Email::Send::Gmail</a> module. It might solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 3631856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUUwT.jpg?s=128&g=1", "display_name": "Helmut Wollmersdorfer", "link": "https://stackoverflow.com/users/3631856/helmut-wollmersdorfer"}, "is_accepted": false, "score": 1, "last_activity_date": 1573406914, "creation_date": 1573406914, "answer_id": 58791185, "question_id": 58774441, "link": "https://stackoverflow.com/questions/58774441/how-can-i-send-mail-in-a-perl-script/58791185#58791185", "title": "How can I send mail in a Perl script?", "body": "<p>Gmail and other mail servers will not allow unauthorized relay. In most cases you will need authorized access.</p>\n\n<p>Here is what I use, after also trying many modules. Maybe this solution seems a little bit overdone, but it's easy to change for HTML with plain text as alternative or other attachments. Parameters of the transport are the most common ones.</p>\n\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\nuse utf8;\n\nuse Email::Sender::Simple qw(sendmail try_to_sendmail);\nuse Email::Sender::Transport::SMTPS;\nuse Email::Simple ();\nuse Email::Simple::Creator ();\nuse Email::MIME;\n\nsend_my_mail('john.doe@hisdomain.com','Test','Test, pls ignore');\n\nsub send_my_mail {\n  my ($to_mail_address, $subject, $body_text) = @_;\n\n  my $smtpserver   = 'smtp.mydomain.com';\n  my $smtpport     = 587;\n  my $smtpuser     = 'me@mydomain.com';\n  my $smtppassword = 'mysecret';\n\n  my $transport = Email::Sender::Transport::SMTPS-&gt;new({\n    host          =&gt; $smtpserver,\n    ssl           =&gt; 'starttls',\n    port          =&gt; $smtpport,\n    sasl_username =&gt; $smtpuser,\n    sasl_password =&gt; $smtppassword,\n    #debug =&gt; 1,\n  });\n\n  my $text_part = Email::MIME-&gt;create(\n    attributes =&gt; {\n        'encoding'     =&gt; 'quoted-printable',\n        'content_type' =&gt; 'text/plain',\n        'charset'      =&gt; 'UTF-8',\n    },\n    'body_str' =&gt; $body_text,\n  );\n\n  my $alternative_part = Email::MIME-&gt;create(\n    attributes =&gt; {\n        'content_type' =&gt; 'multipart/alternative',\n    },\n    parts =&gt; [ $text_part, ],\n  );\n\n  my $email = Email::MIME-&gt;create(\n    header_str =&gt; [\n        To      =&gt; $to_mail_address,\n        From    =&gt; \"Website &lt;$smtpuser&gt;\",\n        Subject =&gt; $subject,\n    ],\n    attributes =&gt; {\n             'content_type' =&gt; 'multipart/mixed',\n         },\n    parts =&gt; [  $alternative_part   ],\n  );\n\n  my $status = try_to_sendmail($email, { transport =&gt; $transport });\n\n  return $status;\n}\n</code></pre>\n"}], "owner": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1587889547, "creation_date": 1573251442, "last_edit_date": 1573251548, "question_id": 58774441, "link": "https://stackoverflow.com/questions/58774441/how-can-i-send-mail-in-a-perl-script", "title": "How can I send mail in a Perl script?", "body": "<p>I have adapted a script from the Perl Cookbook. I am testing it to send mail to myself in gmail.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse MIME::Lite;\nmy $msg;\n    $msg = MIME::Lite-&gt;new(From =&gt; 'zmumba@gmail.com',\n    To =&gt; 'zmumba@gmail.com',\n    Subject =&gt; 'My office photo',\n    Type =&gt; 'multipart/mixed');\n\n $msg-&gt;attach(Type =&gt; 'image/png',\n         Path =&gt; '/home/zmumba/ZMD_Proj/Docs/Reporting',\n         Filename =&gt; 'office_lyout.png');\n\n$msg-&gt;attach(Type =&gt; 'TEXT',\n         Data =&gt; 'I hope you can use this!');\n\n  $msg-&gt;send( );\n</code></pre>\n\n<p>When I run this script, I get the message \"/home/zmumba/ZMD_Proj/Docs/Reporting\" not readable.\nFrom here <a href=\"https://stackoverflow.com/questions/279757/how-can-i-send-mail-through-gmail-with-perl\">How can I send mail through Gmail with Perl?</a> , I now understand that I have to send mail through a mailserver to use MIME::Lite. So I replaced</p>\n\n<pre><code>$msg = MIME::Lite-&gt;new(From =&gt; 'zmumba@gmail.com\n</code></pre>\n\n<p>with</p>\n\n<pre><code>$msg = Email::Send::Gmail-&gt;new(From =&gt; 'zmumba@gmail.com\n</code></pre>\n\n<p>and I get the error \"Can't locate object method \"new\" via package Email::Send::Gmail\".</p>\n\n<p>Then I tried</p>\n\n<pre><code>    $msg = Net::IMAP::Simple::SSL-&gt;new(From =&gt; 'zmumba@gmail.com',\n</code></pre>\n\n<p>and I get \"Odd number of elements in hash assignment at /home/zmumba/perl5/lib/perl5/Net/IMAP/Simple.pm line 25.\nCan't call method \"attach\" on an undefined value at ...\".\nAny assistance on how to go about it?\nThanks in anticipation.</p>\n"}, {"tags": ["perl", "variables", "scope", "package"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1573224942, "post_id": 58767845, "comment_id": 103823555, "body": "See also <a href=\"https://stackoverflow.com/q/4379257/2173773\">In Perl, how can I access a scalar defined in another package?</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573225894, "post_id": 58767845, "comment_id": 103824110, "body": "It is possible to access lexical variables of other scopes than the current, see e.g. <a href=\"https://metacpan.org/pod/PadWalker\" rel=\"nofollow noreferrer\">PadWalker</a>, but that usually works if the other scope has called the current scope (so we can use <a href=\"https://perldoc.perl.org/functions/caller.html\" rel=\"nofollow noreferrer\"><code>caller</code></a>) to trace back the stack. I am not sure how to do it for another package that is not on the call stack of the current sub."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1573227035, "post_id": 58767845, "comment_id": 103824776, "body": "@H&#229;konH&#230;gland <code>s&#47;my pets&#47;our pets&#47;</code> before <code>do</code>  on the package file contents?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1573252241, "post_id": 58767845, "comment_id": 103835070, "body": "@H&#229;kon H&#230;gland, If there was a sub that used <code>%pets</code>, you could used PadWalker&#39;s <code>closed_over</code> to get to <code>%pets</code>. If there isn&#39;t, then I imagine that <code>%pets</code> is cleared when the module finishes executing (just like if it was a sub that finished executing)."}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 3, "creation_date": 1573228322, "post_id": 58769395, "comment_id": 103825508, "body": "I would add, the better option than either of these is to provide an interface to the variable via subroutines, which operate like package variables but would only allow as much access as you design."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1573229565, "post_id": 58769395, "comment_id": 103826167, "body": "@Grinnz: I agree completely. I only omitted that because the OP said they had no control over the module - so I went for the minimal solutions."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1573226676, "creation_date": 1573226676, "answer_id": 58769395, "question_id": 58767845, "link": "https://stackoverflow.com/questions/58767845/in-perl-how-to-access-a-variable-defined-in-another-package/58769395#58769395", "title": "In Perl, how to access a variable defined in another package", "body": "<p>The point of a lexical variable (i.e. one that is declared with <code>my</code>) is that it can only be seen inside its own lexical scope. Its lexical scope is the innermost code block that encloses the variable declaration or (in the absence of such a block) the file that contains the variable declaration.</p>\n\n<p>Outside of the variable's lexical scope, there may be deep magic that you can use to access the variable, but that's really not recommended. A lexical scope is intended to be seen (at least as far as its variables are seen) as a black box. You cannot see the lexical variables inside it.</p>\n\n<p>If you have a variable that needs to be seen across lexical scopes, then you need to make it a package variable. That is, you should declare it with <code>our</code> instead of <code>my</code>.</p>\n\n<p>In your case, the smallest change that you can make to the generated module is to change <code>my</code> to <code>our</code>. It would also be useful if you could add the variable to the modules optional export list.</p>\n\n<pre><code>our @EXPORT_OK = qw[%pets];\nour %pets = ( ... );\n</code></pre>\n\n<p>If you access a variable using a package name as you have here, then you are explicitly trying to access a package variable. Currently, this will fail for you as there is no package variable of that name.</p>\n\n<p>If you just change <code>my</code> to <code>our</code>, then your code will work as it is currently written. If you make the additional <code>@EXPORT_OK</code> change, then you can simplify your code to:</p>\n\n<pre><code>use Animals qw[%pets];\n\nprint $pets-&gt;{'bird'}-&gt;{'speak'};\n</code></pre>\n\n<p>as <code>%pets</code> will have been imported into your package's symbol table.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1573251891, "last_edit_date": 1573251891, "creation_date": 1573251230, "answer_id": 58774402, "question_id": 58767845, "link": "https://stackoverflow.com/questions/58767845/in-perl-how-to-access-a-variable-defined-in-another-package/58774402#58774402", "title": "In Perl, how to access a variable defined in another package", "body": "<p>Since the assignment to the hash is the last thing in the file, you could use</p>\n\n<pre><code>my %pets = do('Animals.pm');\n$pets{bird}{speak}\n</code></pre>\n\n<p>But the whole concept of \"I have a generated file that's in an unusable format\" makes no sense. When you change the output you generate, make sure to use something proper like JSON or YAML.</p>\n"}], "owner": {"reputation": 11, "user_id": 9793312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6141ff5a95748329f2b858bb8fbf635e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/9793312/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573251891, "creation_date": 1573220989, "last_edit_date": 1573251270, "question_id": 58767845, "link": "https://stackoverflow.com/questions/58767845/in-perl-how-to-access-a-variable-defined-in-another-package", "title": "In Perl, how to access a variable defined in another package", "body": "<p>I have a generated perl script which I have no control over. It defines a package and a hash. I need to access the hash from another perl script that I do have full control over.</p>\n\n<p>generated perl script:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package Animals;\n\nmy %pets = (\n  'cat' =&gt; {\n     'legs' =&gt; 4,\n     'name' =&gt; 'Garfield',\n     'speak' =&gt; 'Meowrrr!'\n  },\n  'bird' =&gt; {\n     'legs' =&gt; 2,\n     'name' =&gt; 'Tweety',\n     'speak' =&gt; 'Pi pi pi!'\n  },\n  'dog' =&gt; {\n     'legs' =&gt; 4,\n     'name' =&gt; 'Pluto',\n     'speak' =&gt; 'Wooof wooof!'\n  }\n)\n</code></pre>\n\n<p>The other perl script I have control over:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub main {\n  #some other code\n  require Animals;\n  #some other code\n  #print for instance the what the bird's saying\n  print $Animals::pets-&gt;{'bird'}-&gt;{'speak'};\n}\n</code></pre>\n\n<p>I tried a variety of different syntaxes, but nothing worked for me. I'm completely new to perl so this is no big surprise really...</p>\n"}, {"tags": ["perl", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 3, "creation_date": 1573216517, "post_id": 58766452, "comment_id": 103819070, "body": "I personally think that even though a regex for a fixed string is overkill, it&#39;s much easier to read, and therefore a better solution than <code>index</code>."}, {"owner": {"reputation": 610, "user_id": 1171331, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/62ce41800c82f8bcfa54ac60f47d8ea8?s=128&d=identicon&r=PG", "display_name": "Joanne", "link": "https://stackoverflow.com/users/1171331/joanne"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1573217514, "post_id": 58766452, "comment_id": 103819525, "body": "@Dada it&#39;s for me indeed &quot;better&quot; readable and understandable."}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1573234143, "post_id": 58766452, "comment_id": 103828463, "body": "Unless performance is key, regex (<code>=~</code>) compared to <code>index</code> is (a) more readable and easy understand, as @Dada and @Joanne mentioned, (b) more commonly used, and (c) more maintainable and extensible, for example if the developer needs to find the version later: <code>my ($distro, $version) = $os =~ &#47; ( centos | ubuntu | ... ) \\s* (...version pattern...) }xmsi;</code>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1573215467, "creation_date": 1573215467, "answer_id": 58766452, "question_id": 58766386, "link": "https://stackoverflow.com/questions/58766386/is-it-possible-to-match-a-partial-word-in-perl-when-using-an-if-statement-bash/58766452#58766452", "title": "Is it possible to match a partial word in perl when using an if statement (bash example included)", "body": "<p>You can use the <a href=\"https://perldoc.perl.org/functions/index.html\" rel=\"noreferrer\"><code>index()</code></a> function - which looks for strings inside other strings.</p>\n\n<pre><code>if (index($os, 'CentOS') != -1) {\n  print \"$centosversion\";\n} else {\n  print \"$differentos\";\n}\n</code></pre>\n\n<p>Another alternative would be a regex match. But, for fixed strings, that would probably be overkill.</p>\n\n<pre><code>if ($os =~ /CentOS/) {\n  print \"$centosversion\";\n} else {\n  print \"$differentos\";\n}\n</code></pre>\n"}], "owner": {"reputation": 610, "user_id": 1171331, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/62ce41800c82f8bcfa54ac60f47d8ea8?s=128&d=identicon&r=PG", "display_name": "Joanne", "link": "https://stackoverflow.com/users/1171331/joanne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 58766452, "answer_count": 1, "score": 4, "last_activity_date": 1573215467, "creation_date": 1573215219, "question_id": 58766386, "link": "https://stackoverflow.com/questions/58766386/is-it-possible-to-match-a-partial-word-in-perl-when-using-an-if-statement-bash", "title": "Is it possible to match a partial word in perl when using an if statement (bash example included)", "body": "<p>What's is the correct way to match a partial word in perl? For example I want to match \"CentOS\" so results like CentOS 6, CentOS 7 and CentOS 8 are matched.</p>\n\n<p>I know how to do this in bash, like this:</p>\n\n<pre><code>if [[ \"$os\" == *\"CentOS\"* ]]; then\n   echo $centosversion\nelse\n   echo $differentos\nfi\n</code></pre>\n\n<p>With the above bash example it will find any result with \"CentOS\" inside.</p>\n\n<p>How do I achieve this with the perl code below?</p>\n\n<pre><code>if ($os eq \"CentOS\") {\n    print \"$centosversion\";\n} else {\n    print \"$differentos\";\n}\n</code></pre>\n\n<p>I tried using:</p>\n\n<pre><code>($os eq *\"CentOS\"*)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>(($os eq *\"CentOS\"*))\n</code></pre>\n\n<p>But that seems to be incorrect?</p>\n\n<p>Maybe I am doing it completely wrong, but I don't know much about perl.\nI am hoping someone can point me in the right direction.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1573203001, "post_id": 58763156, "comment_id": 103812621, "body": "I think beyond <code>5.0</code> its not working without <code>&amp;</code> in subroutine... Later versions are controlled the <code>&amp;</code> might be"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1573204483, "post_id": 58763156, "comment_id": 103813315, "body": "in short, it&#39;s not needed there and you almost surely don&#39;t ever need it in your own code"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7018389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29e64bded767410e15eaa9b13956473f?s=128&d=identicon&r=PG&f=1", "display_name": "bdem", "link": "https://stackoverflow.com/users/7018389/bdem"}, "edited": false, "score": 0, "creation_date": 1573207233, "post_id": 58763329, "comment_id": 103814653, "body": "Thanks for the detailed answer ! So, as pointed out in comments, I probably won&#39;t need it in my code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53, "user_id": 7018389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29e64bded767410e15eaa9b13956473f?s=128&d=identicon&r=PG&f=1", "display_name": "bdem", "link": "https://stackoverflow.com/users/7018389/bdem"}, "edited": false, "score": 2, "creation_date": 1573207537, "post_id": 58763329, "comment_id": 103814794, "body": "That is correct. I don&#39;t think I&#39;ve ever had to use it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1573204426, "last_edit_date": 1573204426, "creation_date": 1573203439, "answer_id": 58763329, "question_id": 58763156, "link": "https://stackoverflow.com/questions/58763156/why-use-getcwd-and-not-getcwd-in-perl/58763329#58763329", "title": "Why use &amp;getcwd() and not getcwd() in Perl?", "body": "<p>It causes the subroutine's prototype to be ignored.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'\n   sub f($@) { print(\"@_\\n\"); }\n   my @a = (4,5,6);\n   f(4,5,6);\n   f(@a);\n   &amp;f(@a);\n'\n4 5 6\n3\n4 5 6\n</code></pre>\n\n<p>But that's probably not the reason it's used here. After all, <code>Cwd::getcwd</code> doesn't have a prototype. <code>&amp;</code> can't be used on named operators (i.e. the functions of <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"noreferrer\">perlfunc</a>, e.g. <code>print</code>), so some beginners use it on subroutines to distinguish them from operators. I believe this is a practice recommended by a popular Perl book.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1573203779, "post_id": 58763405, "comment_id": 103812989, "body": "It&#39;s not actually an optional decoration; it has an effect. See my answer."}], "tags": [], "owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "is_accepted": false, "score": 2, "last_activity_date": 1573205678, "last_edit_date": 1573205678, "creation_date": 1573203735, "answer_id": 58763405, "question_id": 58763156, "link": "https://stackoverflow.com/questions/58763156/why-use-getcwd-and-not-getcwd-in-perl/58763405#58763405", "title": "Why use &amp;getcwd() and not getcwd() in Perl?", "body": "<p>Short answer is that it is optional unless you are running a really old version of perl.</p>\n\n<p>For more detail see the <a href=\"https://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\"><strong>perlsub</strong></a> man page (run <code>perldoc perlsub</code> or <code>man perlsub</code> depending on your environment)</p>\n\n<blockquote>\n  <p>A subroutine may be called using an explicit \"&amp;\" prefix. The \"&amp;\" is optional in modern Perl, as are parentheses if the subroutine has been predeclared. The \"&amp;\" is not optional when just naming the subroutine, such as when it's used as an argument to defined() or undef(). Nor is it optional when you want to do an indirect subroutine call with a subroutine name or reference using the \"&amp;$subref()\" or \"&amp;{$subref}()\" constructs, although the \"$subref->()\" notation solves that problem. See perlref for more about all that.</p>\n</blockquote>\n"}], "owner": {"reputation": 53, "user_id": 7018389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29e64bded767410e15eaa9b13956473f?s=128&d=identicon&r=PG&f=1", "display_name": "bdem", "link": "https://stackoverflow.com/users/7018389/bdem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 2, "accepted_answer_id": 58763329, "answer_count": 2, "score": 3, "last_activity_date": 1573205678, "creation_date": 1573202716, "question_id": 58763156, "link": "https://stackoverflow.com/questions/58763156/why-use-getcwd-and-not-getcwd-in-perl", "title": "Why use &amp;getcwd() and not getcwd() in Perl?", "body": "<p>I am new to Perl language, and in the code I am using there is this line :</p>\n\n<pre><code>$BASEDIR = &amp;getcwd();\n</code></pre>\n\n<p>I am wondering why there is a <code>&amp;</code> in front of the call to <code>getcwd</code>, and I could not find any reference about that. Could someone help me with this ?</p>\n\n<p>Thanks a lot !</p>\n"}, {"tags": ["perl", "dist-zilla"], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1573228016, "post_id": 58766962, "comment_id": 103825334, "body": "The other solution is to just specify -phase and -relationship options explicitly. But the Prereqs plugin often needs an alias either way so that you can use it multiple times for different phases."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1573217444, "creation_date": 1573217444, "answer_id": 58766962, "question_id": 58762399, "link": "https://stackoverflow.com/questions/58762399/no-phase-or-relationship-specified-error-when-running-dzil-build/58766962#58766962", "title": "&quot;No -phase or -relationship specified&quot; error when running dzil build", "body": "<p>According to <a href=\"https://metacpan.org/pod/Dist::Zilla::Plugin::Prereqs\" rel=\"nofollow noreferrer\">Dist::Zilla::Plugin::Prereqs</a>: </p>\n\n<blockquote>\n  <p>If the name is the CamelCase concatenation of a phase and relationship\n  (or just a relationship), it will set those parameters implicitly. If\n  you use a custom name, but it does not specify the relationship, and\n  you didn't specify either <code>-phase</code> or <code>-relationship</code>, it throws the error\n  <code>No -phase or -relationship specified</code>. This is to prevent a typo that\n  makes the name meaningless from slipping by unnoticed.</p>\n</blockquote>\n\n<p>The <code>dist.ini</code> does not specify a phase or a relationship for the <code>[Prereqs/Test]</code> plugin, also the name <code>Test</code> is not a camel case concatenation of a phase and a relationship (as defined in <a href=\"https://metacpan.org/pod/CPAN::Meta::Spec#Phases\" rel=\"nofollow noreferrer\">CPAN::Meta</a>), hence <code>dzil build</code> throws an error to warn that the name <code>Test</code> is meaningless.</p>\n\n<p><strong>Solution</strong>:</p>\n\n<p>Add a relationship to the name, e.g. <code>Requires</code>:</p>\n\n<pre><code>[Prereqs/TestRequires]\nEV = 4.0\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573217444, "creation_date": 1573198887, "question_id": 58762399, "link": "https://stackoverflow.com/questions/58762399/no-phase-or-relationship-specified-error-when-running-dzil-build", "title": "&quot;No -phase or -relationship specified&quot; error when running dzil build", "body": "<p>I am trying to build <a href=\"https://github.com/jrockway/anyevent-subprocess\" rel=\"nofollow noreferrer\">this</a> Perl module:</p>\n\n<pre><code>git clone git@github.com:jrockway/anyevent-subprocess.git\ncd anyevent-subprocess\ndzil authordeps --missing | cpanm\ndzil build\n</code></pre>\n\n<p>But the build aborts with an error:</p>\n\n<pre><code>[Test] No -phase or -relationship specified\n[Test] No -phase or -relationship specified at /home/hakon/perlbrew/perls/perl-5.30.0/lib/site_perl/5.30.0/Dist/Zilla/Plugin/Prereqs.pm line 162.\n</code></pre>\n\n<p>The <code>dist.ini</code> file looks like this:</p>\n\n<pre><code>name = AnyEvent-Subprocess\n[@JROCKWAY]\n[Prereqs]\nMoose = 1.15\nEvent::Join = 0.05\nJSON = 2\n\n[Prereqs/Test]\nEV = 4.0\n</code></pre>\n\n<p>Why am I getting this error?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 1, "creation_date": 1573199175, "post_id": 58762152, "comment_id": 103811246, "body": "Please show the code you currently have."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1573199754, "post_id": 58762152, "comment_id": 103811454, "body": "Re &quot;<i>Here is a example of the epoch time output.</i>&quot;, Times of what?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1573199765, "post_id": 58762152, "comment_id": 103811458, "body": "Re &quot;<i>we are missing out on that 0.00100</i>&quot;, What does that mean? What&#39;s a 0.00100?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1573200050, "post_id": 58762152, "comment_id": 103811553, "body": "&quot;<i>we have a wait time inplace</i>&quot; -- what &quot;wait time&quot; ?  You are asking how to reduce &quot;wait time&quot; so presumably you haven&#39;t set it up  yourself  ...?"}, {"owner": {"reputation": 11, "user_id": 4223842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa5a170ffe2dba5750db9215b330638?s=128&d=identicon&r=PG", "display_name": "so cils", "link": "https://stackoverflow.com/users/4223842/so-cils"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573206473, "post_id": 58762152, "comment_id": 103814287, "body": "@ikegami -  Sorry about the mix up with  query - i have updated the post. The output is of the query run time - how long it took to perform it. The wait time is the difference between the 2 values e.g. 313-413 first line in the query."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573206678, "post_id": 58762152, "comment_id": 103814400, "body": "Re &quot;<i>The output is of the query run time - how long it took to perform it.</i>&quot;, It took 2019 years to perform?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573212245, "post_id": 58762673, "comment_id": 103817043, "body": "Launching threads is pretty expensive. This would end up drifting if you sleep for <code>$wait_time</code>. That&#39;s the case even if launching threads wasn&#39;t that expensive. Doing something 36,000 times adds up."}], "tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 1, "last_activity_date": 1573200217, "creation_date": 1573200217, "answer_id": 58762673, "question_id": 58762152, "link": "https://stackoverflow.com/questions/58762152/how-to-reduce-wait-time-in-perl/58762673#58762673", "title": "how to reduce wait time in perl", "body": "<p>Well, your processing of the query needs time. A fragile solution, if i interpret your problem right, is to measure the time the current processing takes and substract that from the next sleep time. Of course that would break if the processing time equals or exceeds the sleep time.</p>\n\n<p>A clean solution would be to have a dedicated main loop that does nothing but sleeping and firing off queries in separate threads.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1573275782, "post_id": 58764308, "comment_id": 103838503, "body": "Fixed bug. . . ."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1573275772, "last_edit_date": 1573275772, "creation_date": 1573207244, "answer_id": 58764308, "question_id": 58762152, "link": "https://stackoverflow.com/questions/58762152/how-to-reduce-wait-time-in-perl/58764308#58764308", "title": "how to reduce wait time in perl", "body": "<p>I'm not sure if this will help because I have a very hard time understanding your question. I think you are concerned that you aren't making queries at the rate you desire.</p>\n\n<p>It could be because you think of the wait time as being static. It's not the <em>wait time</em> that's static &mdash;that's dependent on how long the previous query took&mdash; it's the <em>interval</em> that's static.</p>\n\n<pre><code>use Time::HiRes qw( time sleep );  # Add support for fractional times.\n\nmy $interval = (1 / $qpm) * 60 * 1;  # In (fractional) seconds.\nmy $next_run = time;\nwhile (1) {\n   my $wait = $next_run - time;\n   sleep($wait) if $wait &gt; 0;\n   $next_run += $interval;\n\n   ... do work ...\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4223842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa5a170ffe2dba5750db9215b330638?s=128&d=identicon&r=PG", "display_name": "so cils", "link": "https://stackoverflow.com/users/4223842/so-cils"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1573275772, "creation_date": 1573197819, "last_edit_date": 1573206611, "question_id": 58762152, "link": "https://stackoverflow.com/questions/58762152/how-to-reduce-wait-time-in-perl", "title": "how to reduce wait time in perl", "body": "<p>I have script that queries a database a variable number of times per second.</p>\n\n<p>For example, to achieve <strong>36,000 queries per hour</strong> we input <strong>600 queries</strong> per minute into our script.  <strong>600 x  60 = 36,000</strong></p>\n\n<p>This is the output we get you can see the delay between each query</p>\n\n<pre><code>{1} [2019-11-06 21:38:01.313]\n{1} [2019-11-06 21:38:01.413]\n{1} [2019-11-06 21:38:01.513]\n{1} [2019-11-06 21:38:01.613]\n{1} [2019-11-06 21:38:01.713]\n{1} [2019-11-06 21:38:01.813]\n</code></pre>\n\n<p>My problem is we are missing out on that 0.0100 because we have a wait time inplace. </p>\n\n<p>rates per minute = varies we can change this to a max of 960 queries per min but we would want fourmla that is flexible for 0-960.</p>\n\n<p>my $wait_time = (1 / $rpm) * 60 * 1(connection); (max of 4 connections) wait time increases based on number of connections </p>\n\n<p>Does anyone know how to reduce the wait time in between queries ?</p>\n\n<p>thanks </p>\n\n<p>This is the code line </p>\n\n<blockquote>\n  <p>my $wait_time = (1 / $rpm) * 60 * 1;</p>\n</blockquote>\n\n<p>So when i enter in 600 queries per min</p>\n\n<p>This code line calcuates the wait time based on number of connection we have </p>\n\n<p>my $wait_time = (1 / 600) * 60 * 1;  </p>\n\n<p>1/600 * 60 * 1 = WAIT: 0.1 </p>\n"}, {"tags": ["excel", "csv", "perl", "parsing"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573208849, "post_id": 58760375, "comment_id": 103815433, "body": "What do you mean by &quot;parse&quot;? Do you mean extract the data? Is the file a CSV file (i.e. plain text file) or an <code>.xlsx</code> file?"}, {"owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1573436580, "post_id": 58760375, "comment_id": 103870618, "body": "yes to extract the  data . it&#39;s a CSV file."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 0, "creation_date": 1573525401, "post_id": 58798565, "comment_id": 103901511, "body": "i wanted to learn the hash version on how to extract the data result if column A + B is true then print column C &amp; D an so on if there&#39;s any more columns."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 0, "creation_date": 1573541184, "post_id": 58798565, "comment_id": 103905009, "body": "@kayegabato What do you mean by <i>&quot;A + B is true&quot;</i>? Can you give some examples?"}, {"owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 0, "creation_date": 1573542664, "post_id": 58798565, "comment_id": 103905472, "body": "i am referring to my sample csv file, if you see column A  &amp; B is true then will print column C&amp;D. based on my data if you can see column A is 1 and column B is 1 then will 5.6 &amp; 63 will be printed and the rest of the rows til the end."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 0, "creation_date": 1573542839, "post_id": 58798565, "comment_id": 103905530, "body": "So the condition is true if not both A and B are zero? Like A=2 and B=10 is true, but A=0 and B=0 is false?"}, {"owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 0, "creation_date": 1573543318, "post_id": 58798565, "comment_id": 103905716, "body": "based on column A &amp; B  it needs be true same as the same data, then will print the result which is column C &amp; D. when its false i don&#39;t need to display anything since its wrong. I more concern if the column A &amp; B are true then print the result column C &amp;D"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 0, "creation_date": 1573544016, "post_id": 58798565, "comment_id": 103906017, "body": "<i>&quot; it needs be true same as the same data&quot;</i> what does that mean? What is the data? Do you mean column C and D?"}, {"owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 0, "creation_date": 1573544181, "post_id": 58798565, "comment_id": 103906076, "body": "please see the sample data <a href=\"https://i.stack.imgur.com/irFRB.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/irFRB.png</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "edited": false, "score": 0, "creation_date": 1573544569, "post_id": 58798565, "comment_id": 103906235, "body": "sorry that picture does not clarify, I think. (By the way it is the same image as in your question right?) The image just says <i>&quot;if ID=1 and ID=1 then will parse column C &amp; D&quot;</i>"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1573464075, "creation_date": 1573464075, "answer_id": 58798565, "question_id": 58760375, "link": "https://stackoverflow.com/questions/58760375/i-wanted-to-parse-the-data-with-the-same-label-id-column-a-b-the-difference/58798565#58798565", "title": "I wanted to parse the data with the same label ID (column A &amp; B) the difference is that column in excel csv file then parse column C,D", "body": "<p>Here is an example that prints the lines which have col0 == col1:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $fn = 'file.csv';\nopen ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\nwhile( my $line = &lt;$fh&gt; ) {\n    chomp $line;\n    my @arr = split /,/, $line;\n    next if @arr &lt; 2;\n    next if $arr[0] !~ /^\\d+$/;\n    next if $arr[1] !~ /^\\d+$/;\n    say join ',', @arr if $arr[0] == $arr[1];\n}\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 12180563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDxhiUrJ7tIDezwiI9S0kUhFs4-2-xvnAceVjtQ=k-s128", "display_name": "kaye", "link": "https://stackoverflow.com/users/12180563/kaye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1573464075, "creation_date": 1573187311, "last_edit_date": 1573208957, "question_id": 58760375, "link": "https://stackoverflow.com/questions/58760375/i-wanted-to-parse-the-data-with-the-same-label-id-column-a-b-the-difference", "title": "I wanted to parse the data with the same label ID (column A &amp; B) the difference is that column in excel csv file then parse column C,D", "body": "<p>I have excel csv file to parse with 2 columns A &amp; B, my objective is if the column A &amp; B condition will meet then it will parse the column C &amp; D. Please help me code this in perl. Kindly see the sample data to parse. </p>\n\n<p><a href=\"https://i.stack.imgur.com/irFRB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/irFRB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl", "batch-file"], "comments": [{"owner": {"reputation": 4732, "user_id": 8477999, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8172e1919af53269de92316dcf03a03?s=128&d=identicon&r=PG&f=1", "display_name": "Gem Taylor", "link": "https://stackoverflow.com/users/8477999/gem-taylor"}, "edited": false, "score": 1, "creation_date": 1573158349, "post_id": 58756212, "comment_id": 103800523, "body": "If you have a choice, do the dir search in perl? batch file directory tracking is a pain!"}], "answers": [{"comments": [{"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1573166898, "post_id": 58757881, "comment_id": 103803624, "body": "The above is very dependent upon no characters like for example spaces and ampersands..."}, {"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1573203219, "post_id": 58757881, "comment_id": 103812734, "body": "Take it, in this context, to mean the opposite of some characters."}], "tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 1, "last_activity_date": 1573166674, "last_edit_date": 1573166674, "creation_date": 1573166318, "answer_id": 58757881, "question_id": 58756212, "link": "https://stackoverflow.com/questions/58756212/bat-file-to-run-perl-script-on-all-sub-directories/58757881#58757881", "title": "bat file to run perl script on all sub directories", "body": "<p>This should work:</p>\n\n<pre><code>for /D %%d in (Q:\\Research\\Images(new)\\MuseumSpecimens\\DBG\\DBG_Specimens\\DBG_ToBeRenamed\\*) do pushd %%d &amp;&amp; perl Q:\\Research\\Images(new)\\MuseumSpecimens\\DBG\\DBG_Specimens\\zbar\\barcode.pl &amp;&amp; popd\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4603196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4f4c90b366f793a52e58e5b4bf990e0?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/4603196/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573166674, "creation_date": 1573157271, "question_id": 58756212, "link": "https://stackoverflow.com/questions/58756212/bat-file-to-run-perl-script-on-all-sub-directories", "title": "bat file to run perl script on all sub directories", "body": "<p>I have a simple bat file that sets a directory and runs a perl on the directory.</p>\n\n<pre><code>cd Q:\\Research\\Images(new)\\MuseumSpecimens\\DBG\\DBG_Specimens\\DBG_ToBeRenamed\nperl Q:\\Research\\Images(new)\\MuseumSpecimens\\DBG\\DBG_Specimens\\zbar\\barcode.pl\n</code></pre>\n\n<p>I want to modify the bat file so that it runs the perl script on each sub directory within the directory (each folder within DBG_ToBe_Renamed) in this case. So far I have the following, but it isn't quite right.</p>\n\n<pre><code>FOR /R Q:\\Research\\Images(new)\\MuseumSpecimens\\DBG\\DBG_Specimens\\test\\ %%G IN (.) DO perl Q:\\Research\\Images(new)\\MuseumSpecimens\\DBG\\DBG_Specimens\\zbar\\barcode.pl\n</code></pre>\n\n<p>Thanks, I appreciate any help.</p>\n\n<p>If it helps, the perl script reads barcodes from JPEGs and creates new files with the JPEG and associated RAW file renamed using the barcode value (<a href=\"https://github.com/psweeney-YU/reBar/blob/master/reBar.pl\" rel=\"nofollow noreferrer\">https://github.com/psweeney-YU/reBar/blob/master/reBar.pl</a>)</p>\n"}, {"tags": ["bash", "perl", "for-loop", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1573147293, "post_id": 58753912, "comment_id": 103795828, "body": "Passing the shell variable to perl through the environment is another approach, much less awful than the referenced injection."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 3, "last_activity_date": 1573147892, "last_edit_date": 1573147892, "creation_date": 1573146842, "answer_id": 58753912, "question_id": 58753780, "link": "https://stackoverflow.com/questions/58753780/how-to-fix-errorenous-variable-substitution-in-perl/58753912#58753912", "title": "How to fix errorenous variable substitution in perl", "body": "<p>Perl doesn't have access to the shell's variables, and the shell doesn't get to change anything in single quotes - there is no \"invalid substitution\" here because there is no substitution at all here. The solution is to pass the value to Perl as an argument, or (less ideally) have the shell inject the value into the Perl source e.g. by switching from single to double quotes around part of the Perl script.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>for ngram in $(seq 3 1 9)\ndo\n    perl -ne 'BEGIN { $ngram = shift @ARGV; }\n        chomp;\n        @tok = split(/\\s+/);\n        $ntoprint = $#tok;\n        if ($ngram &lt; $ntoprint) {$ntoprint = $ngram};\n        for ($i = 1; $i &lt;= $ntoprint; $i++) {\n           printf(\"%s\\t%s\\n\", join(\"\", @tok[1..$i]), join(\" \", @tok[1..$i]));\n        }' \"$ngram\" &lt; /Lexicon/whole_lexicon.lex &gt; lexicons/\"lex$ngram.txt\"\ndone\n</code></pre>\n\n<p>This also removes the <a href=\"/questions/11710552/useless-use-of-cat\">useless <code>cat</code></a> and fixes a minor quoting error.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1573147793, "creation_date": 1573147793, "answer_id": 58754153, "question_id": 58753780, "link": "https://stackoverflow.com/questions/58753780/how-to-fix-errorenous-variable-substitution-in-perl/58754153#58754153", "title": "How to fix errorenous variable substitution in perl", "body": "<p>In your original code, <code>$ngram</code> is a shell variable. But make it into an environment variable and Perl will be able to access it through the special hash <a href=\"http://metacpan.org/pod/perlvar#ENV\" rel=\"nofollow noreferrer\"><code>%ENV</code></a>.</p>\n\n<pre><code>export ngram       # upgrade $ngram from shell to environment variable\nfor ngram in $ngrams\ndo\n\n    perl -ne 'chomp; @tok = split(/\\s+/); $ntoprint = $#tok; \n          if ($ENV{ngram} &lt; $ntoprint) {$ntoprint = $ENV{ngram}};\n          for ($i = 1; $i &lt;= $ntoprint; $i++) {\n              printf(\"%s\\t%s\\n\", join(\"\", @tok[1..$i]), join(\" \", @tok[1..$i]));\n          }' &lt; /Lexicon/whole_lexicon.lex &gt; lexicons/lex$ngram.txt\n\ndone\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 11131164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14700f12ad78e13b61e6355a2e1f4eb6?s=128&d=identicon&r=PG&f=1", "display_name": "hyhno01", "link": "https://stackoverflow.com/users/11131164/hyhno01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 58753912, "answer_count": 2, "score": 0, "last_activity_date": 1573147892, "creation_date": 1573146350, "question_id": 58753780, "link": "https://stackoverflow.com/questions/58753780/how-to-fix-errorenous-variable-substitution-in-perl", "title": "How to fix errorenous variable substitution in perl", "body": "<p>I'm creating several lexicons for a word recognition program containing only the x first sounds of a word (henceforth ngram). Therefore, I extract the needed words from an existing lexicon. However, I would like to do this automatically, i.e. find all words of a ngram (e.g. ngram = 3), save them, increase ngram (= 4) and repeat the process. The code looks like this:</p>\n\n<pre><code>ngrams=$(seq 3 1 9)\nfor ngram in $ngrams\ndo\n\ncat /Lexicon/whole_lexicon.lex | perl -ne 'chomp; @tok = split(/\\s+/); $ntoprint = $#tok; if ($ngram &lt; $ntoprint) {$ntoprint = $ngram}; for ($i = 1; $i &lt;= $ntoprint; $i++) {printf(\"%s\\t%s\\n\", join(\"\", @tok[1..$i]), join(\" \", @tok[1..$i])); }' &gt; lexicons/lex$ngram.txt\n\ndone\n</code></pre>\n\n<p>Unfortunately, the value <code>$ngram</code> is not recognised by perl and the command is not working properly. For comparison, this script is working:</p>\n\n<pre><code>ngram=3\ncat /Lexicon/whole_lexicon.lex | perl -ne 'chomp; @tok = split(/\\s+/); $ntoprint = $#tok; if (3 &lt; $ntoprint) {$ntoprint = 3}; for ($i = 1; $i &lt;= $ntoprint; $i++) {printf(\"%s\\t%s\\n\", join(\"\", @tok[1..$i]), join(\" \", @tok[1..$i])); }' &gt; lexicons/lex$ngram.txt\n</code></pre>\n\n<p>I know now after some research that I could write a perl script an pass the variable value <code>$ngram</code> to this script, where I can use it with <code>@ARGV</code>. However, I'm looking for a solution so that I can just run a command in the terminal.</p>\n"}, {"tags": ["windows", "perl", "openssl"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12335840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894f7f4a96587e24308f3d2e8e835b41?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/12335840/jim"}, "edited": false, "score": 0, "creation_date": 1573164962, "post_id": 58745612, "comment_id": 103803010, "body": "Ah my mistake. I clicked one of the first links on the downloads page.  Thanks!"}], "tags": [], "owner": {"reputation": 5562, "user_id": 1946679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed74e2cdc59d058b76a76c90dd3c3bdc?s=128&d=identicon&r=PG", "display_name": "Matt Caswell", "link": "https://stackoverflow.com/users/1946679/matt-caswell"}, "is_accepted": false, "score": 2, "last_activity_date": 1573118834, "creation_date": 1573118834, "answer_id": 58745612, "question_id": 58742806, "link": "https://stackoverflow.com/questions/58742806/openssl-nmake-unresolved-external-symbol/58745612#58745612", "title": "OpenSSL NMAKE Unresolved External Symbol", "body": "<p>You seem  to be using OpenSSL 3.0 which is the as-yet-unreleased still in development version of OpenSSL that you (presumably) downloaded from the git master branch - which is where all active OpenSSL development goes on. As a development branch this should be considered as unstable and not really suitable for any \"real\" use. It looks like the no-dsa support is currently broken. A fix is here:</p>\n\n<p><a href=\"https://github.com/openssl/openssl/pull/10375\" rel=\"nofollow noreferrer\">https://github.com/openssl/openssl/pull/10375</a></p>\n\n<p>One way to get things working would be to drop \"no-dsa\" from your Configure line. Or you could apply the fix at the above URL (or wait a couple of days for it to be merged). Probably though the best route is to just use a stable version of OpenSSL. The latest stable version is 1.1.1d which you can download as a tar from here:</p>\n\n<p><a href=\"https://www.openssl.org/source/\" rel=\"nofollow noreferrer\">https://www.openssl.org/source/</a></p>\n\n<p>Alternatively if you have the git repo cloned locally then you can check that version out like this:</p>\n\n<pre><code>$ git checkout OpenSSL_1_1_1d\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12335840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894f7f4a96587e24308f3d2e8e835b41?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/12335840/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573118834, "creation_date": 1573106563, "question_id": 58742806, "link": "https://stackoverflow.com/questions/58742806/openssl-nmake-unresolved-external-symbol", "title": "OpenSSL NMAKE Unresolved External Symbol", "body": "<p>I'm trying to compile a very light version of OpenSSL with many of the features disabled. </p>\n\n<p>Using the post <a href=\"https://stackoverflow.com/questions/7827836/build-openssl-with-just-rsa-and-aes\">Build openssl with just RSA and AES</a> I have run the build step successfully, but I have a problem when running nmake. </p>\n\n<p>The first time it ran for a few minutes before failing. Now when I run nmake, it fails in the same way without all the previous text. Output shown below.</p>\n\n<pre><code>D:\\xxxxxxxx\\openssl-master&gt;nmake\n\nMicrosoft (R) Program Maintenance Utility Version 14.23.28106.4\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.23.28105\\bin\\HostX64\\x64\\nmake.exe\" /                   depend &amp;&amp; \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.23.28105\\bin\\HostX64\\x64\\nmake.exe\" /                   _all\n\nMicrosoft (R) Program Maintenance Utility Version 14.23.28106.4\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n\nMicrosoft (R) Program Maintenance Utility Version 14.23.28106.4\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        IF EXIST test\\evp_extra_test.exe.manifest DEL /F /Q test\\evp_extra_test.exe.manifest\n        link /nologo /debug /subsystem:console /opt:ref  /nologo /debug /out:test\\evp_extra_test.exe @C:\\Users\\Jim\\AppData\\Local\\Temp\\nmBFB6.tmp\nevp_extra_test-bin-evp_extra_test.obj : error LNK2019: unresolved external symbol d2i_DSAPrivateKey referenced in function load_example_dsa_key\n\nevp_extra_test-bin-evp_extra_test.obj : error LNK2019: unresolved external symbol EVP_PKEY_set1_DSA referenced in function load_example_dsa_key\n\nevp_extra_test-bin-evp_extra_test.obj : error LNK2019: unresolved external symbol DSA_free referenced in function load_example_dsa_key\n\ntest\\evp_extra_test.exe : fatal error LNK1120: 3 unresolved externals\n\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.23.28105\\bin\\HostX64\\x64\\link.EXE\"' : return code '0x460'\n\nStop.\n\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.23.28105\\bin\\HostX64\\x64\\nmake.exe\"' : return code '0x2'\n\nStop.\n</code></pre>\n\n<p>I am using:</p>\n\n<p>Windows 10</p>\n\n<p>Start->Visual Studio 2019->x64 Native Tools Command Prompt for VS 2019 (Run as Administrator)</p>\n\n<p>OpenSSL version 3.0.0 according to VERSION file. Downloaded 20191107</p>\n\n<p>The build command:</p>\n\n<p>perl Configure VC-WIN64A no-idea no-camellia no-seed no-bf no-cast no-des no-rc2 no-rc4 no-rc5 no-md2 no-md4 no-ripemd no-mdc2 no-dsa no-dh no-ec no-ecdsa no-ecdh no-sock no-ssl2 no-ssl3 no-err no-engine no-hw no-asm</p>\n\n<p>Thanks in advance,</p>\n\n<p>Jim</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 1, "creation_date": 1573104886, "post_id": 58742471, "comment_id": 103774193, "body": "Could you please show a simple example of the input and the desired output, as well as the code you tried?"}, {"owner": {"reputation": 9, "user_id": 8655964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZUf6Y3ZLRXI/AAAAAAAAAAI/AAAAAAAAAWQ/I22EU1qAEkM/photo.jpg?sz=128", "display_name": "Milan ", "link": "https://stackoverflow.com/users/8655964/milan"}, "reply_to_user": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1573105419, "post_id": 58742471, "comment_id": 103774357, "body": "Hi @TimurShtatland I&#39;ve just edited the question explaining desired output and input"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8655964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZUf6Y3ZLRXI/AAAAAAAAAAI/AAAAAAAAAWQ/I22EU1qAEkM/photo.jpg?sz=128", "display_name": "Milan ", "link": "https://stackoverflow.com/users/8655964/milan"}, "edited": false, "score": 0, "creation_date": 1573106302, "post_id": 58742666, "comment_id": 103774586, "body": "It&#39;s working. But if I want to do it with perl then how can i achieve the same thing. I&#39;ve tried below code,  open(FILE,&quot;&lt;file.f&quot;);   while(&lt;FILE&gt;) {     if(/-f/s+(/w+)/) {        print &quot;$1&quot;;      }   }  but it&#39;s giving me the same strings without removing &quot;-f  &quot;"}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "reply_to_user": {"reputation": 9, "user_id": 8655964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZUf6Y3ZLRXI/AAAAAAAAAAI/AAAAAAAAAWQ/I22EU1qAEkM/photo.jpg?sz=128", "display_name": "Milan ", "link": "https://stackoverflow.com/users/8655964/milan"}, "edited": false, "score": 0, "creation_date": 1573108452, "post_id": 58742666, "comment_id": 103775296, "body": "The second example I gave is actually a Perl one-liner. You can expand it into an actual Perl script with open, while, split, etc. As for the example in your comment, you probably need to change forward slash to backward slash in a few places where it means a special character or a character class, e.g. \\s and \\w . And change word character \\w to non whitespace character \\S."}], "tags": [], "owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "is_accepted": false, "score": 1, "last_activity_date": 1573106119, "last_edit_date": 1573106119, "creation_date": 1573105725, "answer_id": 58742666, "question_id": 58742471, "link": "https://stackoverflow.com/questions/58742471/how-to-extract-a-specific-string-using-perl/58742666#58742666", "title": "How to extract a specific string using perl?", "body": "<p>The simplest way is using cut:</p>\n\n<pre><code>cut -f2 -d\u2019 \u2018 input_file &gt; output_file\n</code></pre>\n\n<p>Or you can use Perl:</p>\n\n<pre><code>perl -lane \u2018print $F[1]\u2019 input_file &gt; output_file\n</code></pre>\n\n<p>These solutions extract the second field of the input and print it. </p>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": true, "score": 1, "last_activity_date": 1573114360, "last_edit_date": 1573114360, "creation_date": 1573108300, "answer_id": 58743150, "question_id": 58742471, "link": "https://stackoverflow.com/questions/58742471/how-to-extract-a-specific-string-using-perl/58743150#58743150", "title": "How to extract a specific string using perl?", "body": "<p>Some perl code to solve your problem:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $fhi, \"&lt;\", \"file.f\" or die \"Error: $!\";\nopen my $fho, \"&gt;\", \"output.f\" or die \"Error: $!\";\n\nwhile( &lt;$fhi&gt; ) {  # Read each line in $_ variable\n    s/^-f //;      # Remove \"-f \" at the beginning of $_ \n    print $fho $_; # print $_ to output.f file\n}\nclose $fhi;\nclose $fho;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2402, "user_id": 6124824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc81b6fda21a94d3f337e2e28463295e?s=128&d=identicon&r=PG", "display_name": "vkk05", "link": "https://stackoverflow.com/users/6124824/vkk05"}, "is_accepted": false, "score": 1, "last_activity_date": 1573108344, "creation_date": 1573108344, "answer_id": 58743161, "question_id": 58742471, "link": "https://stackoverflow.com/questions/58742471/how-to-extract-a-specific-string-using-perl/58743161#58743161", "title": "How to extract a specific string using perl?", "body": "<p>Look into the below solution - </p>\n\n<p>Here everything after <code>-f</code> will be taken out.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nopen(FILE,\"&lt;file.f\"); \nwhile(&lt;FILE&gt;) \n    print \"$1\\n\" if($_ =~ /^-f\\s(.*)/);\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8655964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZUf6Y3ZLRXI/AAAAAAAAAAI/AAAAAAAAAWQ/I22EU1qAEkM/photo.jpg?sz=128", "display_name": "Milan ", "link": "https://stackoverflow.com/users/8655964/milan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 58743150, "answer_count": 3, "score": -1, "last_activity_date": 1573114360, "creation_date": 1573104511, "last_edit_date": 1573105300, "question_id": 58742471, "link": "https://stackoverflow.com/questions/58742471/how-to-extract-a-specific-string-using-perl", "title": "How to extract a specific string using perl?", "body": "<p>I have set of strings say \"-f /path/filename1.f\", \"-f $path/filename2.f\", etc in a single file file.f I want to read file.f and extract /path/filename1.f, $path/filename2.f, etc in another file.\nI tried finding solution online but it looks like a mess.</p>\n\n<p>Is there any clean and simple solution there for these kind of simple pattern searching? </p>\n\n<p>below is the requirement\nExample,</p>\n\n<pre><code>file.f (input file to perl script)\n-f /path/filename1.f\n-f $path1/filename2.f\n-f /path/filename3.f\n-f $path2/filename4.f\n\noutputfile.f\n/path/filename1.f\n$path1/filename2.f\n/path/filename3.f\n$path2/filename4.f\n</code></pre>\n\n<p>Basically I just want path string from the file.f</p>\n"}]