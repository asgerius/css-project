[{"tags": ["perl", "strict"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1425512679, "post_id": 28867039, "comment_id": 45999247, "body": "I&#39;ll confirm this is a good idea to <i>temporarily</i> work with existing code. Even better would be to put your additions into functions in a separate library file.  You&#39;ll eventually want to bring it all under strict."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1425512832, "post_id": 28867039, "comment_id": 45999307, "body": "Someone who doesn&#39;t <code>use strict</code> of course doesn&#39;t also allow easy code encapsulation... I have to add to their eleventytwo global hashtables, you see..."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1425513131, "post_id": 28867039, "comment_id": 45999426, "body": "Yes, it&#39;s frustrating, but it doesn&#39;t prevent you from using library subroutines.  You can refer to their globals with <code>%main::blah</code> (assuming it&#39;s in package main).  Even better, pass their globals you need to modify into your subroutines by reference: <code>some_new_sub(\\%blah)</code>.  It will prevent their global mess from infecting new code.  This will be messy at first, but it will give you a better idea of what code needs what data.  Through all this, the Extract Method pattern will be your strongest tool."}], "answers": [{"comments": [{"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1425512505, "post_id": 28867188, "comment_id": 45999191, "body": "Good illustration, thanks.  I had two concerns:  1.) There are few examples of people using <code>no strict</code> for this, to bracket changes to unstrict code.  2.) I was worried there was a sort of 2-pass interpretation of scope that might make things not work like illustrated, so the confirmation is good."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1425512511, "post_id": 28867188, "comment_id": 45999194, "body": "&quot;Block scope&quot; is also referred to as &quot;lexical scope&quot;.  It&#39;s important to note that lexical scope does <i>not</i> enter subroutine calls.  &quot;Lexical&quot; as in &quot;what you read on the page&quot;.  <code>no strict</code> in small blocks is often used on the rare occasions when you want to use symbolic references.  A common use is creating subroutines on the fly.  <code>{ no strict &#39;refs&#39;; *{$sub_name} = sub { ... } }</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1425515102, "post_id": 28867188, "comment_id": 46000041, "body": "as opposed to &quot;dynamic scope&quot; which does enter subroutine calls"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 11, "last_activity_date": 1425511976, "creation_date": 1425511976, "answer_id": 28867188, "question_id": 28867039, "link": "https://stackoverflow.com/questions/28867039/bracket-code-section-in-use-strict-no-strict/28867188#28867188", "title": "Bracket code section in use strict / no strict?", "body": "<p>\"block scope\" means both <code>use strict;</code> and <code>no strict;</code> have effect from where they are to the end of the innermost enclosing block, so no, a later <code>no strict</code> doesn't undo an earlier <code>use strict</code>.  It just changes it for the innermost scope from that point in the code on.  So:</p>\n\n<pre><code>{\n    use strict;\n    # strict in effect\n    {\n        # strict still in effect\n        no strict;\n        # strict not in effect\n    }\n    # strict in effect\n    no strict;\n    # strict not in effect\n    use strict;\n    # strict in effect\n}\n</code></pre>\n"}], "owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 1, "accepted_answer_id": 28867188, "answer_count": 1, "score": 6, "last_activity_date": 1425511976, "creation_date": 1425511235, "question_id": 28867039, "link": "https://stackoverflow.com/questions/28867039/bracket-code-section-in-use-strict-no-strict", "title": "Bracket code section in use strict / no strict?", "body": "<p>I inherited some perl code that of course doesn't use either strict or warnings, and I keep using uninitialized variables and the like.</p>\n\n<p>I'd like to bracket the sections of code that I'm modifying like this:</p>\n\n<pre><code>use warnings;\nuse strict;\n\n... my code changes and additions ...\n\nno strict;\nno warnings;\n</code></pre>\n\n<p>And that seems to work, but I'm having issues deciphering what <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"noreferrer\">the perldoc on use</a> means when it says these are compiler directives that import into the current \"block scope.\"   Does that mean that any scope can have a <code>use strict</code> unpaired with a <code>no strict</code>?  Is the <code>no strict</code> at the tail of the global scope essentially undoing the meaning of <code>use strict</code> earlier in the same scope?</p>\n"}, {"tags": ["xml", "perl"], "answers": [{"tags": [], "owner": {"reputation": 33858, "user_id": 773159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fcd72af6d7d5fdd28fc45289da3792a?s=128&d=identicon&r=PG", "display_name": "Birei", "link": "https://stackoverflow.com/users/773159/birei"}, "is_accepted": true, "score": 3, "last_activity_date": 1425510862, "creation_date": 1425510862, "answer_id": 28866963, "question_id": 28866886, "link": "https://stackoverflow.com/questions/28866886/perl-extract-element-from-xmltwig/28866963#28866963", "title": "Perl: Extract element from XML::Twig", "body": "<p>It's because in the anonymous subrutine, <code>$_</code> is the element object. If you want to print the text of the element use:</p>\n\n<pre><code>printf qq|%s\\n|, $_-&gt;text_only;\n</code></pre>\n\n<p>That yields:</p>\n\n<pre><code>February 2015\n</code></pre>\n\n<p>Or if you want to print the whole element, use instead:</p>\n\n<pre><code>printf qq|%s\\n|, $_-&gt;outer_xml;\n</code></pre>\n\n<p>That yields:</p>\n\n<pre><code>&lt;month&gt;February 2015&lt;/month&gt;\n</code></pre>\n\n<p>And you can look at the docs, they are pretty clear.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425593625, "post_id": 28884892, "comment_id": 46038661, "body": "Agreed. Callbacks are great for extract-and-purge type operations, but can quickly become messy and confusing to no real benefit otherwise."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1425579500, "creation_date": 1425579500, "answer_id": 28884892, "question_id": 28866886, "link": "https://stackoverflow.com/questions/28866886/perl-extract-element-from-xmltwig/28884892#28884892", "title": "Perl: Extract element from XML::Twig", "body": "<p>Although it is tempting to use the callback system of <code>XML::Twig</code>, it is often more simple to simply parse the entire XML data into an 'XML::Twig' data structure and access the contents of that using <code>findnodes</code> etc.</p>\n\n<p>Here's an example that prints the text content of all elements that match the XPath expression <code>/report/reportheader/month</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;     # For `say`\n\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new;\n$twig-&gt;parsefile(shift @ARGV);\n\nfor my $report_month ( $twig-&gt;findnodes('/report/reportheader/month') ) {\n  say $report_month-&gt;trimmed_text;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>February 2015\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 28866963, "answer_count": 2, "score": 1, "last_activity_date": 1425579500, "creation_date": 1425510527, "question_id": 28866886, "link": "https://stackoverflow.com/questions/28866886/perl-extract-element-from-xmltwig", "title": "Perl: Extract element from XML::Twig", "body": "<p>How would I extract a single element from an XML document using XML::Twig?</p>\n\n<p><strong>XML Code:</strong></p>\n\n<pre><code>&lt;report&gt;\n    &lt;reportheader&gt;\n        &lt;month&gt;February 2015&lt;/month&gt;\n    &lt;/reportheader&gt;\n&lt;/report&gt;\n</code></pre>\n\n<p><strong>What I've tried</strong></p>\n\n<pre><code>XML::Twig-&gt;new(\n    twig_handlers =&gt; {\n        '/report/reportheader/month' =&gt; sub {\n            printf qq|%s\\n|, $_;\n        },\n    },  \n)-&gt;parsefile($ARGV[0]);\n</code></pre>\n\n<p>But this just outputs <code>XML::Twig::Elt=HASH(0x343af70)</code>. What am I missing?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 1, "creation_date": 1425510627, "post_id": 28866880, "comment_id": 45998564, "body": "I don&#39;t understand, you want to replace the user portion, but your example, it is everthing before @gmail.com"}, {"owner": {"reputation": 3, "user_id": 2752437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e63e374f5e7c8007294f5e4da8209f31?s=128&d=identicon&r=PG&f=1", "display_name": "lili327", "link": "https://stackoverflow.com/users/2752437/lili327"}, "reply_to_user": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1425513258, "post_id": 28866880, "comment_id": 45999475, "body": "what I want to do is just replace the user portion. In my example I said it is wrong, that is just what I have at the moment."}, {"owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1425515703, "post_id": 28866880, "comment_id": 46000214, "body": "please add a correct example, sorry I&#39;m still unclear about what you want to achieve"}, {"owner": {"reputation": 3, "user_id": 2752437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e63e374f5e7c8007294f5e4da8209f31?s=128&d=identicon&r=PG&f=1", "display_name": "lili327", "link": "https://stackoverflow.com/users/2752437/lili327"}, "reply_to_user": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1425519264, "post_id": 28866880, "comment_id": 46001256, "body": "if i give you a file, and in this file there is a string &quot;user@gmail.com&quot; I would like to replace &quot;user&quot; with some other string. I can&#39;t add a correct example because I do not know how to do it."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 2752437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e63e374f5e7c8007294f5e4da8209f31?s=128&d=identicon&r=PG&f=1", "display_name": "lili327", "link": "https://stackoverflow.com/users/2752437/lili327"}, "edited": false, "score": 0, "creation_date": 1425513177, "post_id": 28867119, "comment_id": 45999447, "body": "this ends up replacing the &quot;gmail&quot; text and not the &quot;user&quot; portion before @gmail.com"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1425514203, "post_id": 28867119, "comment_id": 45999734, "body": "Please have a look at <a href=\"https://regex101.com/r/lT0tT4/1\" rel=\"nofollow noreferrer\">regex101.com/r/lT0tT4/1</a>. It looks working, it replaces the user part. Or, provide us with your input data."}, {"owner": {"reputation": 3, "user_id": 2752437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e63e374f5e7c8007294f5e4da8209f31?s=128&d=identicon&r=PG&f=1", "display_name": "lili327", "link": "https://stackoverflow.com/users/2752437/lili327"}, "edited": false, "score": 0, "creation_date": 1425565905, "post_id": 28867119, "comment_id": 46021954, "body": "this ended up giving what i needed thanks!! (I had to also escape the @ in order for it to work)"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 0, "last_activity_date": 1425511663, "creation_date": 1425511663, "answer_id": 28867119, "question_id": 28866880, "link": "https://stackoverflow.com/questions/28866880/perl-find-and-replace-a-part-of-the-matching-string-regex-issue/28867119#28867119", "title": "perl find and replace a part of the matching string (regex issue)", "body": "<p>use a character class that takes all except whitespaces and @:</p>\n\n<pre><code>s/[^\\s@]+(?=@gmail\\.com)/replacement/g\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1425511719, "creation_date": 1425511719, "answer_id": 28867138, "question_id": 28866880, "link": "https://stackoverflow.com/questions/28866880/perl-find-and-replace-a-part-of-the-matching-string-regex-issue/28867138#28867138", "title": "perl find and replace a part of the matching string (regex issue)", "body": "<p>You could always just use the html5 email validator to get the user name.<br>\n<a href=\"http://www.w3.org/TR/html5/forms.html#valid-e-mail-address\" rel=\"nofollow\">http://www.w3.org/TR/html5/forms.html#valid-e-mail-address</a></p>\n\n<pre><code>$string =~ s/[a-zA-Z0-9.!#$%&amp;'*+\\/=?^_`{|}~-]+(@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)/$1/g;  \n</code></pre>\n\n<p>Expanded:</p>\n\n<pre><code> [a-zA-Z0-9.!#$%&amp;'*+/=?^_`{|}~-]+ \n (                                      # (1 start)\n      @\n      [a-zA-Z0-9] \n      (?:\n           [a-zA-Z0-9-]{0,61} \n           [a-zA-Z0-9] \n      )?\n      (?:\n           \\. \n           [a-zA-Z0-9] \n           (?:\n                [a-zA-Z0-9-]{0,61} \n                [a-zA-Z0-9] \n           )?\n      )*\n )                                      # (1 end)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1425520293, "post_id": 28868602, "comment_id": 46001566, "body": "if there is only 1 string to be expected you don&#39;t need the g flag in the regex"}], "tags": [], "owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "is_accepted": false, "score": 0, "last_activity_date": 1425523842, "last_edit_date": 1425523842, "creation_date": 1425520094, "answer_id": 28868602, "question_id": 28866880, "link": "https://stackoverflow.com/questions/28866880/perl-find-and-replace-a-part-of-the-matching-string-regex-issue/28868602#28868602", "title": "perl find and replace a part of the matching string (regex issue)", "body": "<pre><code>s/ (\\S+)@gmail\\.com/replacement string/g;\n</code></pre>\n\n<p>I think this will resolve your problem for this scenario</p>\n\n<pre><code>&lt;email&gt;this is user@gmail.com&lt;/email&gt;\n</code></pre>\n\n<p>This regex</p>\n\n<pre><code>s/([^&gt;]+)@gmail\\.com/replacement string/g\n</code></pre>\n\n<p>will resolve this scenario</p>\n\n<pre><code>&lt;email&gt;user@gmail.com&lt;/email&gt;\n</code></pre>\n\n<p>And this</p>\n\n<pre><code>s/([^\"]+)@gmail\\.com/replacement string/g\n</code></pre>\n\n<p>will resolve this</p>\n\n<pre><code>&lt;person email=\"user@gmail.com\"&gt;&lt;/person&gt;\n</code></pre>\n\n<p>So combined, we have</p>\n\n<pre><code>s/(\\S+|[^&gt;]+|[^\"]+)@gmail\\.com/replacement string/g\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2752437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e63e374f5e7c8007294f5e4da8209f31?s=128&d=identicon&r=PG&f=1", "display_name": "lili327", "link": "https://stackoverflow.com/users/2752437/lili327"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 28867119, "answer_count": 3, "score": 0, "last_activity_date": 1425523842, "creation_date": 1425510490, "question_id": 28866880, "link": "https://stackoverflow.com/questions/28866880/perl-find-and-replace-a-part-of-the-matching-string-regex-issue", "title": "perl find and replace a part of the matching string (regex issue)", "body": "<p>Suppose I have a huge xml file that contains a bunch of information including email addresses. So all email addresses will be something like the following:</p>\n\n<p><em>user</em>@gmail.com </p>\n\n<p>The issue I'm running into deals with regular expressions. How do i match on the email address but only replace the <em>user</em> portion? I tried using look ahead anchors with no luck, (it ends up replacing EVERYTHING before the @gmail.com) Is there a way to use look-ahead but only up to the white-space before user? Or is there a simple solution to this? Right now I have something like the following:</p>\n\n<p>perl 's/(?=@gmail.com)/replacement$&amp;/ge' file.xml</p>\n\n<p>which doesn't work obviously. Any help is much appreciated! </p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "is_accepted": true, "score": 2, "last_activity_date": 1425509144, "last_edit_date": 1425509144, "creation_date": 1425508773, "answer_id": 28866511, "question_id": 28866383, "link": "https://stackoverflow.com/questions/28866383/how-to-keep-only-the-last-line-of-consecutive-lines-starting-with-the-same-word/28866511#28866511", "title": "How to KEEP only the last line of consecutive lines starting with the same word?", "body": "<p>With sed:</p>\n\n<pre><code>sed '/^TITLE/ { :a $! { N; /\\nTITLE/ { s/.*\\n//; ba; }; }; }' filename\n</code></pre>\n\n<p>That is:</p>\n\n<pre><code>/^TITLE/ {          # if a line begins with TITLE\n  :a                # jump label for looping.\n   $! {             # unless we hit the end of input (in case the file\n                    # ends with title lines)\n     N              # fetch the next line\n     /\\nTITLE/ {    # if it begins with TITLE as well\n       s/.*\\n//     # remove the first\n       ba           # go back to a\n     }\n   }\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1425509693, "last_edit_date": 1425509693, "creation_date": 1425509379, "answer_id": 28866644, "question_id": 28866383, "link": "https://stackoverflow.com/questions/28866383/how-to-keep-only-the-last-line-of-consecutive-lines-starting-with-the-same-word/28866644#28866644", "title": "How to KEEP only the last line of consecutive lines starting with the same word?", "body": "<p>Just reverse the order of lines, then print the now-first occurrence, then reverse them again:</p>\n\n<pre><code>$ tac file | awk '$1!=prev; {prev=$1}' | tac                  \nTITLE something\nDATA some data\nTITLE something else\nDATA some other data\nTITLE extra info\nDATA some more data\n</code></pre>\n\n<p>or if there can be multiple consecutive DATA lines and you want to keep all of those:</p>\n\n<pre><code>$ tac file | awk '!($1==\"TITLE\" &amp;&amp; $1==prev); {prev=$1}' | tac\nTITLE something\nDATA some data\nTITLE something else\nDATA some other data\nTITLE extra info\nDATA some more data\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425568819, "post_id": 28866713, "comment_id": 46023978, "body": "If the title can appear on the last line, you&#39;ll need to add <code>END { print $title }</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1425509744, "creation_date": 1425509744, "answer_id": 28866713, "question_id": 28866383, "link": "https://stackoverflow.com/questions/28866383/how-to-keep-only-the-last-line-of-consecutive-lines-starting-with-the-same-word/28866713#28866713", "title": "How to KEEP only the last line of consecutive lines starting with the same word?", "body": "<p>If you're looking for a Perl one-line solution, like the one in the question that you linked, then this will do</p>\n\n<pre><code>perl -ne'if (/^TITLE/) {$t = $_} else {print $t, $_; $t = \"\"}' myfile\n</code></pre>\n\n<p>Note that it will <em>not</em> print a <code>TITLE</code> line at all unless it is followed by a line that doesn't begin with <code>TITLE</code></p>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 1, "last_activity_date": 1425542265, "creation_date": 1425542265, "answer_id": 28872713, "question_id": 28866383, "link": "https://stackoverflow.com/questions/28866383/how-to-keep-only-the-last-line-of-consecutive-lines-starting-with-the-same-word/28872713#28872713", "title": "How to KEEP only the last line of consecutive lines starting with the same word?", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r 'N;/^(TITLE ).*\\n\\1/!P;D' file\n</code></pre>\n\n<p>This compares 2 lines and if the first is the same as the second does not print the first. </p>\n"}], "owner": {"reputation": 25, "user_id": 4630586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08bfa585ec82d356e21361448570bae2?s=128&d=identicon&r=PG&f=1", "display_name": "opharmos19", "link": "https://stackoverflow.com/users/4630586/opharmos19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 1, "accepted_answer_id": 28866511, "answer_count": 4, "score": 2, "last_activity_date": 1425542265, "creation_date": 1425508223, "last_edit_date": 1495542668, "question_id": 28866383, "link": "https://stackoverflow.com/questions/28866383/how-to-keep-only-the-last-line-of-consecutive-lines-starting-with-the-same-word", "title": "How to KEEP only the last line of consecutive lines starting with the same word?", "body": "<p>See this thread : <a href=\"https://stackoverflow.com/questions/15430810/how-to-remove-the-second-line-of-consecutive-lines-starting-with-the-same-word\">How to remove the second line of consecutive lines starting with the same word?</a></p>\n\n<p>Instead of keeping the first duplicate consecutive line starting with \"TITLE\", I would like to only keep the last one, to get from this input: </p>\n\n<blockquote>\n  <p>TITLE something<br>\n  DATA some data<br>\n  TITLE something else<br>\n  DATA some other data<br>\n  TITLE some more<br>\n  TITLE extra info<br>\n  DATA some more data</p>\n</blockquote>\n\n<p>This output:</p>\n\n<blockquote>\n  <p>TITLE something<br>\n  DATA some data<br>\n  TITLE something else<br>\n  DATA some other data<br>\n  TITLE extra info<br>\n  DATA some more data</p>\n</blockquote>\n\n<p>Also, I'd like to be able to handle an arbitrary number of repetitions, and not only 2 (if by example 7 lines in a row start by \"TITLE\", only keep the last one).</p>\n\n<p>Like the other post, it can be a <code>perl</code>/<code>bash</code>/<code>sed</code>/<code>awk</code> command that only keep the last line and output the rest of the file as well. I've been workng on this for a long time, but I could only find solutions that does the opposite of what I want.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1425507385, "post_id": 28865979, "comment_id": 45997177, "body": "Whats your <code>$&#47;</code> set to ?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1425507420, "post_id": 28865979, "comment_id": 45997188, "body": "try pipe the output to <code>od -bc</code> and you probably will find the reason. <code>\\r</code>"}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1425507703, "post_id": 28865979, "comment_id": 45997336, "body": "<code>chomp</code> isn&#39;t portable, so if you read files in different formats/from different platforms they might use different line endings. Use a regex to clean your data instead, like <code>$rdLine =~ s{[\\f\\n\\r]*$}{};</code>. It cleans &quot;Traditional Mac&quot;, Windows, and *nix/OSX line endings."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1425510098, "post_id": 28865979, "comment_id": 45998377, "body": "a hex character is <code>[0-9A-Fa-f]</code>, not <code>[0-9a-z]</code>. You could also use just <code>\\p{hex}</code>"}, {"owner": {"reputation": 369, "user_id": 3576684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beb681ae0941477036f45967ab2378b?s=128&d=identicon&r=PG&f=1", "display_name": "peaxol", "link": "https://stackoverflow.com/users/3576684/peaxol"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1425625673, "post_id": 28865979, "comment_id": 46047813, "body": "@jm666 - Thanks for the suggestion to try od -bc, the \\r was the reason."}], "answers": [{"comments": [{"owner": {"reputation": 369, "user_id": 3576684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beb681ae0941477036f45967ab2378b?s=128&d=identicon&r=PG&f=1", "display_name": "peaxol", "link": "https://stackoverflow.com/users/3576684/peaxol"}, "edited": false, "score": 0, "creation_date": 1425626070, "post_id": 28867263, "comment_id": 46047929, "body": "Thanks for the explanation. This was a  DOS file and it used the CR -LF at the end and that was the culprit as you mentioned. This was causing also the leading H to be removed in the print as the CR would take it to the beginning of the line and overwrite the H. The substitue you mentioned fixed the issue. Thanks also for the tip for hex detection."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1425512332, "last_edit_date": 1592644375, "creation_date": 1425512332, "answer_id": 28867263, "question_id": 28865979, "link": "https://stackoverflow.com/questions/28865979/matching-the-end-of-line-in-perl-print-showing-different-behavior-with-chomp/28867263#28867263", "title": "Matching the end of line $ in perl; print showing different behavior with chomp", "body": "<blockquote>\n<p><em>&quot;other files produced thru the exact same script (ie no extra spaces, formats etc) do not match when the last $ is present on the match condition&quot;</em></p>\n</blockquote>\n<p>Although you deny it, I am certain that your file contains a single space character directly before the end of the line. You should check by using <a href=\"https://metacpan.org/module/Data::Dump\" rel=\"nofollow noreferrer\"><code>Data::Dump</code></a> to display the true contents of each file record. Like this</p>\n<pre><code>use Data::Dump;\ndd \\$read_line;\n</code></pre>\n<p>It is probably best to use</p>\n<pre><code>$read_line =~ s/\\s+\\z//;\n</code></pre>\n<p>in place of <code>chomp</code>. That will remove all spaces and tabs, as well as line endings like carriage-return and linefeed from the end of each line.</p>\n<blockquote>\n<p><em>&quot;If I remove the chomp, it prints the Hey correctly instead of just ey.&quot;</em></p>\n</blockquote>\n<p>It looks like you are working on a Linux machine, processing a file that was generated on a Windows platform. Windows uses the two characters CR LF as a record separator, whereas Linux uses just LF, so a <code>chomp</code> removes just the trailing LF, leaving CR to cause the start of the string to be overwritten.</p>\n<p>If it wasn't for your secondary problem of having trailing whitespace, tThe best solution here would be to replace <code>chomp $read_line</code> with <code>$read_line =~ s/\\R\\z//</code>. The <a href=\"http://www.perl.com/pub/2012/05/perlunicook-match-unicode-linebreak-sequence.html\" rel=\"nofollow noreferrer\"><code>\\R</code> character class</a> matches the Unicode idea of a line break sequence, and was introduced in version 10 of Perl 5. However, the aforementioned <code>s/\\s+\\z//</code> will deal with your line endings as well, and should be all that you need.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2868313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yvKLt.jpg?s=128&g=1", "display_name": "gdupuis", "link": "https://stackoverflow.com/users/2868313/gdupuis"}, "is_accepted": false, "score": 0, "last_activity_date": 1425581889, "creation_date": 1425581889, "answer_id": 28885563, "question_id": 28865979, "link": "https://stackoverflow.com/questions/28865979/matching-the-end-of-line-in-perl-print-showing-different-behavior-with-chomp/28885563#28885563", "title": "Matching the end of line $ in perl; print showing different behavior with chomp", "body": "<p>Borodin is right, \\r\\n is the culprit.</p>\n\n<p>I used a less elegant solution, but it works:</p>\n\n<pre><code>$rdLine =~ s/\\r//g;\n</code></pre>\n\n<p>followed by:</p>\n\n<pre><code>chomp $rdLine;\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 3576684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beb681ae0941477036f45967ab2378b?s=128&d=identicon&r=PG&f=1", "display_name": "peaxol", "link": "https://stackoverflow.com/users/3576684/peaxol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425581889, "creation_date": 1425506835, "question_id": 28865979, "link": "https://stackoverflow.com/questions/28865979/matching-the-end-of-line-in-perl-print-showing-different-behavior-with-chomp", "title": "Matching the end of line $ in perl; print showing different behavior with chomp", "body": "<p>I am reading a file and matching a regex for lines with a hex number at the start followed by few dot separated hex values followed by optional array name which may contain an option index. For eg:</p>\n\n<blockquote>\n  <p>010c10  00000000.00000000.0000a000.02300000  myFooArray[0]</p>\n</blockquote>\n\n<pre><code>while (my $rdLine = &lt;RDHANDLE&gt;) {\n  chomp $rdLine;\n\n  if ($rdLine =~ m/^([0-9a-z]+)[ \\t]+([0-9.a-z]+)[ \\t]*([A-Za-z_0-9]*)\\[*[0-9]*\\]*$/) {\n  ...\n</code></pre>\n\n<p>My source file containing these hex strings is also script generated. This match works fine for some files but other files produced thru the exact same script (ie no extra spaces, formats etc) do not match when the last $ is present on the match condition.\nIf I modify the condition to not have the end $, lines match as expected.</p>\n\n<p>Another curious thing is for debugging this, I added a print statement like this:</p>\n\n<pre><code>if ($rdLine =~ m/^([0-9a-z]+)[ \\t]+/) {\n    print \"Hey first part matched for $rdLine \\n\";\n}   \nif ($rdLine =~ m/^([0-9a-z]+)[ \\t]+([0-9.a-z]+)/) {\n    print \"Hey second part matched for $rdLine \\n\";\n}\n</code></pre>\n\n<p>The output on the terminal for the following input eats the first character :</p>\n\n<blockquote>\n  <p>010000                             00000000  foo</p>\n</blockquote>\n\n<pre><code>   \"ey first part matched for 010000                             00000000  foo\n    ey second part matched for 010000                             00000000  foo\"\n</code></pre>\n\n<p>If I remove the chomp, it prints the Hey correctly instead of just ey.</p>\n\n<p>Any clues appreciated!</p>\n"}, {"tags": ["regex", "bash", "perl", "shell", "data-structures"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425503247, "post_id": 28864895, "comment_id": 45994938, "body": "Can you give an example of a source file? But this sounds pretty straightfoward using perl and a hash."}, {"owner": {"reputation": 245, "user_id": 2572762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c13aa1414af84dcdc8a5758731b7e051?s=128&d=identicon&r=PG", "display_name": "dangenet", "link": "https://stackoverflow.com/users/2572762/dangenet"}, "edited": false, "score": 2, "creation_date": 1425504895, "post_id": 28864895, "comment_id": 45995858, "body": "Agreed, perl can handle it. But you can&#39;t parse something unless you know what it looks like."}, {"owner": {"reputation": 11, "user_id": 4634026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6cb9e69c3327f0e2dd7f90efc54b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Glenn Booth", "link": "https://stackoverflow.com/users/4634026/glenn-booth"}, "edited": false, "score": 1, "creation_date": 1425507715, "post_id": 28864895, "comment_id": 45997342, "body": "Thanks. I&#39;ve added a snippet of sample data to the original question."}, {"owner": {"reputation": 11, "user_id": 4634026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6cb9e69c3327f0e2dd7f90efc54b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Glenn Booth", "link": "https://stackoverflow.com/users/4634026/glenn-booth"}, "edited": false, "score": 1, "creation_date": 1425581140, "post_id": 28864895, "comment_id": 46031858, "body": "Thank you Shellter for sorting my formatting out - I struggled with that!"}], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425587221, "post_id": 28864978, "comment_id": 46035366, "body": "++ read it all into an SQLIte database ... but use perl ;-)  <a href=\"http://perlmaven.com/simple-database-access-using-perl-dbi-and-sql\" rel=\"nofollow noreferrer\">perlmaven.com/simple-database-access-using-perl-dbi-and-sql</a>"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1425503315, "creation_date": 1425503315, "answer_id": 28864978, "question_id": 28864895, "link": "https://stackoverflow.com/questions/28864895/search-for-multiple-strings-in-many-text-files-count-hits-on-combinations/28864978#28864978", "title": "Search for multiple strings in many text files, count hits on combinations", "body": "<p>First, read everything into an SQLite database, then run queries against it to your heart's content. Putting the data in an SQL database is going to save you time if you need to tweak anything. Besides, even simple SQL can tackle this kind of thing if you have the right tables set up.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4634026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6cb9e69c3327f0e2dd7f90efc54b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Glenn Booth", "link": "https://stackoverflow.com/users/4634026/glenn-booth"}, "edited": false, "score": 1, "creation_date": 1425712818, "post_id": 28886973, "comment_id": 46083389, "body": "Thanks - that&#39;s really appreciated. I haven&#39;t had chance to give it a try yet, but I&#39;ll do so as soon as I can. It&#39;s going to take me a while to understand what&#39;s going on in the code though!"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 11, "user_id": 4634026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6cb9e69c3327f0e2dd7f90efc54b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Glenn Booth", "link": "https://stackoverflow.com/users/4634026/glenn-booth"}, "edited": false, "score": 0, "creation_date": 1425744159, "post_id": 28886973, "comment_id": 46091374, "body": "@GlennBooth OK I added some explanatory comments to my code  ... hope it works with your data!  A more thorough explanation for <code>$_ = &lt;&gt; unless eof;</code> (or an alternative) might improve things (I will think about this a bit more). Hope it helps."}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1425744046, "last_edit_date": 1425744046, "creation_date": 1425586874, "answer_id": 28886973, "question_id": 28864895, "link": "https://stackoverflow.com/questions/28864895/search-for-multiple-strings-in-many-text-files-count-hits-on-combinations/28886973#28886973", "title": "Search for multiple strings in many text files, count hits on combinations", "body": "<p>First of all I agree with @Sinan :-)  </p>\n\n<p>The following might work as hack to make a hash out of your file data.</p>\n\n<pre><code># report.pl\nuse strict;\nuse warnings;    \nuse Data::Dumper;\n\nmy %report;\nmy ($date, $device) ;\n\nwhile (&lt;&gt;) {\n\n next unless m/^ .* \n    (?&lt;device&gt;\\/00[1-3]\\/) .* \n    (?&lt;date&gt;\\d{2}\\.\\d{2}\\.\\d{2}) \n    .*$/x ; \n\n  ($date, $device,) = ($+{date}, $+{device});\n\n  $_ = &lt;&gt; unless eof;\n\n  if (/Contents/) { \n     $report{$date}{$device}{\"u_count\"}++ ;\n  } \n  else {\n     $report{$date}{$device}{\"count\"}++ ; \n  }\n}\n\nprint Dumper(\\%report)\n</code></pre>\n\n<p>This seems to work with a collection of data files in the format shown below (since you don't say or show where the <code>Contents = Not Settled</code> appears, I assume it is <em>either</em> part of the last line along with the device ID <em>or</em> in a separate and final line for each file).</p>\n\n<p><strong>Explanation</strong>:</p>\n\n<ul>\n<li><p>The script reads the STDIN of all the files passed as a glob in <code>while(&lt;&gt;){}</code> loop. First, <code>next unless m/ ...</code> skips forward lines of input until it matches the line with device and date information. </p></li>\n<li><p>Next, the match then uses <a href=\"http://perldoc.perl.org/perlre.html#Capture-groups\" rel=\"nofollow\">named capture groups</a> (<code>?&lt;device&gt; ?&lt;date&gt;</code> to hold the values of the patterns it finds and places those values in corresponding variables (<code>($date, $device,) = ($+{date}, $+{device});</code>). These could simply be <code>$1</code> and <code>$2</code> but naming keeps me organized here. </p></li>\n<li><p>Then, in case there is another line to read <code>$_ = &lt;&gt; unless eof;</code> reads it and tries the final set of conditional matches in order to add to <code>$counts</code> and <code>$u_counts</code>.</p></li>\n</ul>\n\n<p><strong>Data file format:</strong></p>\n\n<p><code>file1.data</code></p>\n\n<pre><code>c0! SUBTOTAL 11.37\nc0! ! T O T A L 11.37! c0! 19 ITEMS\nc0! C a s h ? 11.37\nvu p022c0!\nc0! NET TOTAL VAT A 10.87\nc0! VAT 00.0% 0.00\nc0! NET TOTAL VAT B 0.42\nc0! VAT 20.0% 0.08\nc0! *4300 772/080/003/132 08.01.15 11:18 A-00   \n</code></pre>\n\n<p><code>file2.data</code></p>\n\n<pre><code>c0! SUBTOTAL 11.37\nc0! ! T O T A L 11.37! c0! 19 ITEMS\nc0! C a s h ? 11.37\nvu p022c0!\nc0! NET TOTAL VAT A 10.87\nc0! VAT 00.0% 0.00\nc0! NET TOTAL VAT B 0.42\nc0! VAT 20.0% 0.08\nc0! *4300 772/080/002/132 08.01.15 11:18 A-00 \nContents = Not Settled\n</code></pre>\n\n<p>(a set of files for testing are listed here: <a href=\"http://pastebin.com/raw.php?i=7ALU80fE\" rel=\"nofollow\">http://pastebin.com/raw.php?i=7ALU80fE</a>).</p>\n\n<p><code>perl report.pl file*.data</code></p>\n\n<p><a href=\"http://metacpan.org/pod/Data::Dumper\" rel=\"nofollow\"><code>Data::Dumper</code></a> <strong>Output</strong>:</p>\n\n<pre><code>$VAR1 = {\n          '08.01.15' =&gt; {\n                          '/002/' =&gt; {\n                                       'u_count' =&gt; 4\n                                     },\n                          '/003/' =&gt; {\n                                       'count' =&gt; 1\n                                     }\n                        },\n          '08.12.15' =&gt; {\n                          '/003/' =&gt; {\n                                       'count' =&gt; 1\n                                     }\n                        }\n        };\n</code></pre>\n\n<p>From that you can make a report by iterating through the hash with <code>keys()</code> (the date) and retrieving the inner hash and count values per machine. Really it would be a good idea to have some tests to make sure everything works as expected - that or just do as @sinan_\u00dcn\u00fcr suggests: use SQLite!</p>\n\n<p><strong>NB</strong>: this code was not extensively tested :-)</p>\n"}], "owner": {"reputation": 11, "user_id": 4634026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6cb9e69c3327f0e2dd7f90efc54b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Glenn Booth", "link": "https://stackoverflow.com/users/4634026/glenn-booth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1425744046, "creation_date": 1425503063, "last_edit_date": 1425588212, "question_id": 28864895, "link": "https://stackoverflow.com/questions/28864895/search-for-multiple-strings-in-many-text-files-count-hits-on-combinations", "title": "Search for multiple strings in many text files, count hits on combinations", "body": "<p>I'm struggling to automate a reporting exercise, and would appreciate some pointers or advice please.</p>\n\n<p>I have several hundred thousand small (&lt;5kb) text files. Each contains a few variables, and I need to count the number of files that match each combination of variables.</p>\n\n<p>Each file contains a device number, such as /001/ /002/.../006/. </p>\n\n<p>Each file also contains a date string, such as 01.10.14 (dd.mm.yy)</p>\n\n<p>Some files contain a 'status' string which is always \"Not Settled\"</p>\n\n<p>I need a way to trawl through each file on a Linux system (spread across several subdirectories), and produce a report file that counts 'per device' how many files include each date stamp (6 month range) and for each of those dates, how many contain the status string.</p>\n\n<p>The report might look like this:\ndevice, date, total count of files\ndevice, date, total \"not settled\" count</p>\n\n<p>e.g.</p>\n\n<pre><code>/001/, 01.12.14, 356\n/001/, 01.12.14, 12\n/001/, 02.12.14, 209\n/001/, 02.12.14, 8 \n/002/, 01.12.14, 209\n/002/, 01.12.14, 7\n</code></pre>\n\n<p>etc etc</p>\n\n<p>In other words:</p>\n\n<pre><code>Foreach /device/\nForeach &lt;date&gt;\ncount total matching files - write number to file\ncount toal matching 'not settled' files - write number to file\n</code></pre>\n\n<p>Each string to match could appear anywhere in the file.</p>\n\n<p>I tried using grep piped to a second (and third) grep commands, but I'd like to automate this and loop through the variables (6 devices, about 180 dates, 2 status strings) . I suspect Perl and Bash is the answer, but I'm out of my depth.</p>\n\n<p>Please can anyone recommend an approach to this?</p>\n\n<p>Edit: Some sample data as mentioned in the comments. The information is basically receipt data from tills - as would be sent to a printer. Here's a sample (identifying bits stripped out).</p>\n\n<pre><code>c0!                       SUBTOTAL     11.37   \nc0!   ! T O T A L      11.37! \nc0!   19 ITEMS                                 \nc0!   C a s h             ?            11.37   \nvu p022c0!                                            \nc0!   NET TOTAL           VAT  A       10.87   \nc0!   VAT                 00.0%         0.00   \nc0!   NET TOTAL           VAT  B        0.42   \nc0!   VAT                 20.0%         0.08   \nc0!  *4300 772/080/003/132 08.01.15 11:18 A-00 \n\n      Contents = Not Settled\n</code></pre>\n\n<p>In the case above, I'd be looking for /003/ , 08.01.15, and \"Not Settled\"</p>\n\n<p>Many thanks.</p>\n"}, {"tags": ["perl", "csv", "awk", "transpose"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1425499773, "post_id": 28863868, "comment_id": 45992908, "body": "<code>-e</code> is best used with single line scripts. This sprawling monstrosity you have here <i>really</i> should be in a script file."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 2, "creation_date": 1425499851, "post_id": 28863868, "comment_id": 45992955, "body": "it will be much easier to help, if you edit  your question to include sample input and expected output from that input. Good luck."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1425499860, "post_id": 28863868, "comment_id": 45992961, "body": "Post the sample input you are using to generate that output. and add sample input/output to show what you&#39;re taking about wrt adding fields."}], "answers": [{"tags": [], "owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "is_accepted": true, "score": 0, "last_activity_date": 1425560299, "creation_date": 1425560299, "answer_id": 28878431, "question_id": 28863868, "link": "https://stackoverflow.com/questions/28863868/awk-or-perl-to-modify-data/28878431#28878431", "title": "awk or Perl to modify data", "body": "<p>Save this to the ntab.pl file, do chmod +x ntab.pl and run it: cat ntab.txt | ./ntab.pl</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse constant CSV_SEP=&gt;';';\nmy ($name,%flds);\nmy @fl=qw(displayName capacityInKB consumedCapacityInKB dpPoolID);\nsub csv4name {\n my ($name,$vals)=@_;\n return 0 unless $name and %$vals;\n print join(\"\\n\",map { my $i=$_; join(CSV_SEP,$name,map { $vals-&gt;{$_}[$i]||='' } @fl) } 0..$#{$vals-&gt;{'displayName'}}).\"\\n\";\n}\nwhile (my ($attr,$val)=split /\\s+/,&lt;&gt;) {\n if ($attr eq 'name') {\n  csv4name($name,\\%flds);\n  $name=$val;\n  %flds=();\n  next;\n }\n push $flds{$attr}||=[],$val;\n}\ncsv4name($name,\\%flds);\n</code></pre>\n\n<p>Thare are no any performance-optimizations, but with not very large files  (&lt;3G) this scripts will work smoothly.</p>\n"}], "owner": {"reputation": 33, "user_id": 4562084, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9a31559d444c09eb2dcd5a4887dd0f87?s=128&d=identicon&r=PG&f=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/4562084/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 28878431, "answer_count": 1, "score": 0, "last_activity_date": 1431307795, "creation_date": 1425499603, "last_edit_date": 1425511299, "question_id": 28863868, "link": "https://stackoverflow.com/questions/28863868/awk-or-perl-to-modify-data", "title": "awk or Perl to modify data", "body": "<p>using the below awk and Perl solutions: I need to understand how to add additional field that don't repeat their output much like \"name\" in these examples.\nie devtwr1 only occurs once in the sample data, If i need to add additional fields that also only occur once, how is this done?\nSorry Tried extensively but can't work it out... </p>\n\n<p>here is the source:</p>\n\n<p>have a file: Ntab.txt which is a sample file of two hosts, there is numerous hosts in the real file one after each other.</p>\n\n<p>Each host has multiple \"displayName\"s (addresses) with corresponding figures for each 'displayName'.</p>\n\n<pre><code>&gt;cat Ntab.txt\nname    devtwr1\ndisplayName     00:67:BB\ncapacityInKB    104,857,600\nconsumedCapacityInKB    4,042,752\ndpPoolID        20\ndisplayName     00:7B:FD\ncapacityInKB    52,428,800\nconsumedCapacityInKB    14,880,768\ndpPoolID        10\ndisplayName     00:7C:28\ncapacityInKB    34,179,712\nconsumedCapacityInKB    29,804,544\ndpPoolID        20\ndisplayName     00:7C:29\ncapacityInKB    34,179,712\nconsumedCapacityInKB    5,462,016\ndpPoolID        20\nname    devtwr2\ndisplayName     00:67:BB\ncapacityInKB    104,857,600\nconsumedCapacityInKB    4,042,752\ndpPoolID        20\ndisplayName     00:7B:FD\ncapacityInKB    52,428,800\nconsumedCapacityInKB    14,880,768\ndpPoolID        10\ndisplayName     00:7C:28\ncapacityInKB    34,179,712\nconsumedCapacityInKB    29,804,544\ndpPoolID        20\ndisplayName     00:7C:29\ncapacityInKB    34,179,712\nconsumedCapacityInKB    5,462,016\ndpPoolID        20\n</code></pre>\n\n<p>I need to be able to produce the $2 data from the rows into columns after each 'name' (host) and in csv type format, headings optional. I cant use (,:) as separators as the data includes them so either (tab or ;).</p>\n\n<p>Like:</p>\n\n<pre><code>name;displayName;capacityInKB;consumedCapacityInKB;dpPoolID        \ndevtwr1;00:67:BB;104,857,600;4,042,752;20\ndevtwr1;00:7B:FD;52,428,800;14,880,768;10\ndevtwr1;00:7C:28;34,179,712;29,804,544;20\ndevtwr1;00:7C:29;34,179,712;5,462,016;20\ndevtwr2;00:67:BB;104,857,600;4,042,752;20\ndevtwr1;00:7B:FD;52,428,800;14,880,768;10\ndevtwr1;00:7C:28;34,179,712;29,804,544;20\ndevtwr1;00:7C:29;34,179,712;5,462,016;20\n</code></pre>\n\n<p>Here is a Awk solution but cant work out how to add additional field like \"name\" that dosn't have data in all fields.</p>\n\n<pre><code>$ awk '$1==\"name\"{name=$2}\n    $1 ~/^(displayName|capacityInKB|consumedCapacityInKB)$/{out=out\";\"$2} \n    $1==\"dpPoolID\"{print name out\";\"$2; out=\"\"}' tmp2.txt\ndevtwr1;00:67:BB;104,857,600;4,042,752;20\ndevtwr1;00:7B:FD;52,428,800;14,880,768;10\ndevtwr1;00:7C:28;34,179,712;29,804,544;20\ndevtwr1;00:7C:29;34,179,712;5,462,016;20\ndevtwr2;00:67:BB;104,857,600;4,042,752;20\ndevtwr2;00:7B:FD;52,428,800;14,880,768;10\ndevtwr2;00:7C:28;34,179,712;29,804,544;20\ndevtwr2;00:7C:29;34,179,712;5,462,016;20\n</code></pre>\n\n<p>And here is a Perl solution but once again couldn't work out how to add additional fields like the \"name\" field that dosn't always have data.</p>\n\n<pre><code>perl -lane '\nBEGIN {\n  @fields = qw(name displayName capacityInKB consumedCapacityInKB dpPoolID);\n  print join \";\", @fields;\n}\nif (/^(name|displayName)/ &amp;&amp; $data{displayName}) {\n  print join \";\", @data{@fields};\n  %data = ( name =&gt; $data{name} );\n}\n$data{$F[0]} = $F[1];\nEND {\n  print join \";\",@data{@fields};\n}' tmp2.txt &gt; Report.csv\n</code></pre>\n\n<p>Hope that provides enough info to get a firm understanding.\nthanks in advance.</p>\n"}, {"tags": ["python", "macos", "perl", "sign"], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555172724, "post_id": 31411289, "comment_id": 98021513, "body": "I tried this script with an executable created with PAR/pp but it fires the following error: File &quot;python_prepare_codesign.py&quot;, line 67, in &lt;module&gt; sys.exit(main()) File &quot;python_prepare_codesign.py&quot;, line 63, in main _main(print_file)"}, {"owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "reply_to_user": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555274055, "post_id": 31411289, "comment_id": 98044109, "body": "That is a python error, you&#39;re running something incorrectly or didn&#39;t import the modules using pip. That being said, this code will only work for universal binary (32 &amp; 64-bit) architectures, since there are some changes for 64-bit only binaries."}, {"owner": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555276740, "post_id": 31411289, "comment_id": 98044707, "body": "Thanks. Yeah, I missed a module (however the script breaks out, probably because the executable has the wrong architecture?). We are using a 64-bit binary. Do not know if using universal binaries makes much sense nowadays or it is possible to compile our application like that. Have you ever solved the issue also on 64-bit binaries? I&#39;ve been scanning the web all week with no success."}, {"owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "reply_to_user": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555383019, "post_id": 31411289, "comment_id": 98081415, "body": "Universal binaries don&#39;t make much sense anymore; in fact, Apple is requiring 64-bit only for the AppStore. Yes, I solved the issue, but it took a lot of investment and creativity and can&#39;t share it here on SO."}, {"owner": {"reputation": 381, "user_id": 2532496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e909f97d766493ba4541bd917b9cf075?s=128&d=identicon&r=PG", "display_name": "Kelly o&#39;Brian", "link": "https://stackoverflow.com/users/2532496/kelly-obrian"}, "edited": false, "score": 0, "creation_date": 1555399277, "post_id": 31411289, "comment_id": 98086351, "body": "Please, write to me in private mail (added now to profile) or give me your contact so that we can discuss it professionally."}], "tags": [], "owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "is_accepted": true, "score": 1, "last_activity_date": 1436888560, "creation_date": 1436888560, "answer_id": 31411289, "question_id": 28863500, "link": "https://stackoverflow.com/questions/28863500/code-signing-in-mac-with-perl-scripts-compiled-with-parpacker-fails/31411289#31411289", "title": "Code signing in Mac with Perl scripts compiled with PAR::Packer fails", "body": "<p>I've figured out how to fix this. It's a solution that I adapted based on the Python solution written here:</p>\n\n<p><a href=\"https://github.com/pyinstaller/pyinstaller/wiki/Recipe-OSX-Code-Signing\" rel=\"nofollow\">https://github.com/pyinstaller/pyinstaller/wiki/Recipe-OSX-Code-Signing</a></p>\n\n<p>It's a problem caused by the Mach-O headers. Hopefully this helps someone else. After running this python script on the PAR executable, it will codesign.</p>\n\n<p>Some modifications are still required to PAR to get this to run, however, since PAR looks for the <code>\\nPAR.pm\\n</code> signature at the end of the file... which now contains the code signature. I have a working solution for that as well, and can share if others are interested.</p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom __future__ import print_function\n\nimport os\nimport sys\n\nfrom macholib._cmdline import main as _main\nfrom macholib.MachO import MachO\nfrom macholib.mach_o import *\n\nARCH_MAP={\n    ('&lt;', '64-bit'): 'x86_64',\n    ('&lt;', '32-bit'): 'i386',\n    ('&gt;', '64-bit'): 'ppc64',\n    ('&gt;', '32-bit'): 'ppc',\n}\n\ndef print_file(fp, path):\n    print(path, file=fp)\n    exe_data = MachO(path)\n\n    for header in exe_data.headers:\n        seen = set()\n        if header.MH_MAGIC == MH_MAGIC_64:\n            sz = '64-bit'\n        else:\n            sz = '32-bit'\n\n        arch = CPU_TYPE_NAMES.get(header.header.cputype,\n                header.header.cputype)\n\n        print('    [%s endian=%r size=%r arch=%r]' % (header.__class__.__name__,\n                header.endian, sz, arch), file=fp)\n        for idx, name, other in header.walkRelocatables():\n            if other not in seen:\n                seen.add(other)\n                print('\\t' + other, file=fp)\n    print('', file=fp)\n\n    cmds = exe_data.headers[0].commands  # '0' - Exe contains only one architecture.\n    file_size = exe_data.headers[0].size\n\n    linkedit = cmds[3][1] # __LINKEDIT\n    new_segsize = file_size - linkedit.fileoff\n    linkedit.filesize = new_segsize\n\n    alignment = 4096\n    linkedit.vmsize = new_segsize + (alignment - (new_segsize % alignment)) # alignment\n\n    data = cmds[4][1] # LC_SYMTAB\n    new_strsize = file_size - data.stroff\n    data.strsize = new_strsize\n\n    # Write changes back.\n    fp = open(exe_data.filename, 'rb+')\n    exe_data.write(fp)\n    fp.close()\n\n    print (\"Successfully modified headers.\\n\")\n\ndef main():\n    _main(print_file)\n\nif __name__ == '__main__':\n    try:\n        sys.exit(main())\n    except KeyboardInterrupt:\n        pass\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 4626770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e9e815e7d0314c0a4b81f870aad5dd?s=128&d=identicon&r=PG&f=1", "display_name": "dxdc", "link": "https://stackoverflow.com/users/4626770/dxdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 31411289, "answer_count": 1, "score": 0, "last_activity_date": 1555171917, "creation_date": 1425498400, "last_edit_date": 1425523638, "question_id": 28863500, "link": "https://stackoverflow.com/questions/28863500/code-signing-in-mac-with-perl-scripts-compiled-with-parpacker-fails", "title": "Code signing in Mac with Perl scripts compiled with PAR::Packer fails", "body": "<p>Does anyone have experience getting compiled Perl binaries to code sign on OSX? When trying to compile a Perl script in PAR, it returns an error when I try to code sign it. I've gotten around this error by not trying to code sign it as a binary (e.g., inside the \"Resources\" folder within a .app), but if I put it in the proper MacOS directory it fails on the signature.</p>\n\n<p>I've seen numerous fixes for python scripts (<a href=\"https://github.com/kamillus/py2app-pyqt-codesign-fix-os-x\" rel=\"nofollow\">https://github.com/kamillus/py2app-pyqt-codesign-fix-os-x</a>), but not any for Perl!</p>\n\n<p>The error message reported by codesign -s is \"main executable failed strict validation\". I've tried the --deep option as well with no success.</p>\n"}, {"tags": ["perl", "perl-critic", "cpanm"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1425494500, "post_id": 28862237, "comment_id": 45989843, "body": "why don&#39;t you have I18N::Langinfo installed?  or if you do, why isn&#39;t cpanm finding it?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1425494809, "post_id": 28862237, "comment_id": 45990028, "body": "@ysth Mighty fine questions both.  I&#39;ve re-downloaded the zip file &amp; Langinfo does not seem to exist."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1425496979, "post_id": 28862237, "comment_id": 45991318, "body": "Hmm, <code>I18N::Langinfo</code> does not seem to be installed in ActiveState 5.20.1.  And I didn&#39;t find a copy in the Strawberry 5.20.2 Portable w/ extra PDL libs either..."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1425497316, "post_id": 28862237, "comment_id": 45991514, "body": "probably it just doesn&#39;t work on MSWin so isn&#39;t built there.  maybe cygwin has it?"}], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1425502444, "post_id": 28864253, "comment_id": 45994451, "body": "My motivation for wanting to install <code>Pod::Spell</code> is because it is a dependency of <code>Perl::Critic</code>.  <code>Aspell</code> may be slightly more work than I need in this specific case.  ;)"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1425502484, "post_id": 28864253, "comment_id": 45994483, "body": "OK, that makes sense."}, {"owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "edited": false, "score": 2, "creation_date": 1425505705, "post_id": 28864253, "comment_id": 45996266, "body": "dolmen added the dependency to the <code>podspell</code> in the last release, Pod::Spell does not depend on it, but I didn&#39;t closely enough check his work and so the dependency made it to the global dependency list. Installing the previous version or next version will work"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1425501951, "last_edit_date": 1425501951, "creation_date": 1425500876, "answer_id": 28864253, "question_id": 28862237, "link": "https://stackoverflow.com/questions/28862237/install-of-podspell-failing-on-strawberry-portable-5-20-2/28864253#28864253", "title": "Install of Pod::Spell failing on Strawberry Portable 5.20.2", "body": "<p>Interesting. I looked for <a href=\"http://perl5.git.perl.org/perl.git/blob?f=ext/I18N-Langinfo/Langinfo.xs\" rel=\"nofollow noreferrer\">I18N::Langinfo</a> on my self-built Perl on Windows, and it is not installed either. I would have expected it to be installed so that it could croak:</p>\n\n<pre><code>croak(\"nl_langinfo() not implemented on this architecture\");\n</code></pre>\n\n<p>It seems to me the problem is not Strawberry or ActiveState specific (because I am building from source). It maybe worth building the current blead, and if <code>I18N::Langinfo</code> is still not being installed, reporting this as a bug to p5p.</p>\n\n<p>Now, even if you could install the module however, I would not expect it to work with a non-Cygwin <code>perl</code> on Windows. Therefore, if <code>Pod::Spell</code> really depends on the module, it wouldn't work properly anyway.</p>\n\n<p>But, frankly, looking at the code for <code>Pod::Spell</code> it is not immediately obvious to me why it should depend on <code>I18N::Langinfo</code>.</p>\n\n<p>Therefore, I switched to <code>cpanm</code>s work directory for <code>Pod::Spell</code>, and an <code>nmake test</code> (in your case, this would be <code>dmake test</code> with Strawberry Perl):</p>\n\n<pre># *** WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING ***\n#\n# The following REQUIRED prerequisites were not satisfied:\n#\n# I18N::Langinfo is not installed (any version required)\n#\nt\\00-report-prereqs.t .. ok\nt\\basic.t .............. ok\nt\\debug.t .............. ok\nt\\get-stopwords.t ...... ok\nt\\text-block.t ......... ok\nt\\utf8.t ............... ok\nAll tests successful.\nFiles=7, Tests=24,  9 wallclock secs ( 0.13 usr +  0.02 sys =  0.14 CPU)\nResult: PASS</pre>\n\n<p>Therefore, I went ahead, and installed the module using <code>nmake install</code> (in your case <code>dmake install</code>).</p>\n\n<p><code>podspell</code> seemed to work.</p>\n\n<p>But, IMHO, you are better off just using <code>aspell</code> as in:</p>\n\n<pre>C:\\...> aspell --mode=perl lib\\Pod\\Spell.pm</pre>\n\n<p><img src=\"https://i.stack.imgur.com/S0lof.png\" alt=\"aspell spell checking Pod::Spell\"></p>\n\n<p>Note: I am using Aspell 0.60.6.1 installed using Cygwin.</p>\n"}, {"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1425510801, "post_id": 28865743, "comment_id": 45998622, "body": "Before trying Sinan&#39;s make-install-dispite-make-test solution, I did try to specifically install prior version numbers by distribution path.  I&#39;d assumed your CPAN directory was the correct one.  The current distribution is the only one I saw in your directory.  Is it available elsewhere?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1425515503, "post_id": 28865743, "comment_id": 46000163, "body": "I see <a href=\"http://search.cpan.org/CPAN/authors/id/X/XE/XENO/Pod-Spell-1.16.tar.gz\" rel=\"nofollow noreferrer\">search.cpan.org/CPAN/authors/id/X/XE/XENO/Pod-Spell-1.16.tar&zwnj;&#8203;.gz</a> and (from a year ago) <a href=\"http://search.cpan.org/CPAN/authors/id/X/XE/XENO/Pod-Spell-1.15.tar.gz\" rel=\"nofollow noreferrer\">search.cpan.org/CPAN/authors/id/X/XE/XENO/Pod-Spell-1.15.tar&zwnj;&#8203;.gz</a>.  Older versions are at <a href=\"http://backpan.perl.org/authors/id/X/XE/XENO/\" rel=\"nofollow noreferrer\">backpan.perl.org/authors/id/X/XE/XENO</a>"}, {"owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "edited": false, "score": 0, "creation_date": 1425529038, "post_id": 28865743, "comment_id": 46003684, "body": "<a href=\"https://metacpan.org/pod/Pod::Spell\" rel=\"nofollow noreferrer\">metacpan.org/pod/Pod::Spell</a> all versions can be found on metacpan, but yeah 1.15 is still published and cpanm can be used to install a specified version"}], "tags": [], "owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "is_accepted": false, "score": 3, "last_activity_date": 1425505947, "creation_date": 1425505947, "answer_id": 28865743, "question_id": 28862237, "link": "https://stackoverflow.com/questions/28862237/install-of-podspell-failing-on-strawberry-portable-5-20-2/28865743#28865743", "title": "Install of Pod::Spell failing on Strawberry Portable 5.20.2", "body": "<p>It's a bug that Pod::Spell depends on this module, I didn't carefully enough check someone else's patch in the last release. I temporary fix would be to install the previous release as the only real changes in this release were to <code>podspell</code> and not the whole module. It will be fixed in the future.</p>\n"}], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 28864253, "answer_count": 2, "score": 0, "last_activity_date": 1425505947, "creation_date": 1425494119, "last_edit_date": 1425503481, "question_id": 28862237, "link": "https://stackoverflow.com/questions/28862237/install-of-podspell-failing-on-strawberry-portable-5-20-2", "title": "Install of Pod::Spell failing on Strawberry Portable 5.20.2", "body": "<p>When I try to <code>cpanm Pod::Spell</code> on Strawberry 5.20.2 (64bit PortableZIP edition), it flags <code>I18N::Langinfo</code> as a dependency.  When it tries to download the distribution for <code>I18N::Langinfo</code> it locates it in <code>R/RJ/RJBS/perl-520.0.tar.gz</code> and, wisely, thinks better of continuing.</p>\n\n<p><code>Pod::Spell</code> is of interest only as a dependency of <code>Perl::Critic</code>.</p>\n\n<p>Any suggestions as to how to untangle this dependency issue?</p>\n"}, {"tags": ["perl", "cgi", "url-encoding"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2542664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b17d8bd7c556b2d448276793b35c0e?s=128&d=identicon&r=PG", "display_name": "Aakash Gupta", "link": "https://stackoverflow.com/users/2542664/aakash-gupta"}, "edited": false, "score": 0, "creation_date": 1425490776, "post_id": 28860992, "comment_id": 45987741, "body": "Thanks for the quick response, but problem is if the user directly puts wrong URL in the browser <a href=\"http://google.com/&gt;&quot;&lt;script&gt;alert(2121)&lt;/script\" rel=\"nofollow noreferrer\">google.com/&gt;&quot;&lt;script&gt;alert(2121)&lt;/script</a>&gt; then it triggers the javascript for that i am using above code please correct me if i am wrong"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 39, "user_id": 2542664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b17d8bd7c556b2d448276793b35c0e?s=128&d=identicon&r=PG", "display_name": "Aakash Gupta", "link": "https://stackoverflow.com/users/2542664/aakash-gupta"}, "edited": false, "score": 1, "creation_date": 1425490985, "post_id": 28860992, "comment_id": 45987837, "body": "If they place that in the URL in the browser address box, they get a 404 page from Google. The JavaScript is not executed. The JavaScript is only executed if <i>your script</i> improperly builds HTML, and I showed you how to properly build HTML."}, {"owner": {"reputation": 39, "user_id": 2542664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b17d8bd7c556b2d448276793b35c0e?s=128&d=identicon&r=PG", "display_name": "Aakash Gupta", "link": "https://stackoverflow.com/users/2542664/aakash-gupta"}, "edited": false, "score": 0, "creation_date": 1425491125, "post_id": 28860992, "comment_id": 45987928, "body": "i am not talking about google :) this for some other site which is in cgi perl <a href=\"http://example.com/&gt;&quot;&lt;script&gt;alert(2121)&lt;/script\" rel=\"nofollow noreferrer\">example.com/&gt;&quot;&lt;script&gt;alert(2121)&lt;/script</a>&gt;, if you hit this url to browser it executes the popup first and i need to eliminate those script tags from the URL"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 39, "user_id": 2542664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b17d8bd7c556b2d448276793b35c0e?s=128&d=identicon&r=PG", "display_name": "Aakash Gupta", "link": "https://stackoverflow.com/users/2542664/aakash-gupta"}, "edited": false, "score": 2, "creation_date": 1425491149, "post_id": 28860992, "comment_id": 45987938, "body": "No, it doesn&#39;t. The JavaScript is only executed if <i>your script</i> improperly builds HTML, and I showed you how to properly build HTML."}, {"owner": {"reputation": 39, "user_id": 2542664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b17d8bd7c556b2d448276793b35c0e?s=128&d=identicon&r=PG", "display_name": "Aakash Gupta", "link": "https://stackoverflow.com/users/2542664/aakash-gupta"}, "edited": false, "score": 0, "creation_date": 1425491463, "post_id": 28860992, "comment_id": 45988090, "body": "i am facing this issue in IE browser only http:/example.com/&gt;&quot;&lt;script&gt;alert(2121)&lt;/script&gt;, popups the javascript anyways thanks for the help :)"}, {"owner": {"reputation": 39, "user_id": 2542664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b17d8bd7c556b2d448276793b35c0e?s=128&d=identicon&r=PG", "display_name": "Aakash Gupta", "link": "https://stackoverflow.com/users/2542664/aakash-gupta"}, "edited": false, "score": 0, "creation_date": 1425493172, "post_id": 28860992, "comment_id": 45989088, "body": "can you explain this with a example of a link?"}, {"owner": {"reputation": 39, "user_id": 2542664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b17d8bd7c556b2d448276793b35c0e?s=128&d=identicon&r=PG", "display_name": "Aakash Gupta", "link": "https://stackoverflow.com/users/2542664/aakash-gupta"}, "edited": false, "score": 0, "creation_date": 1425493181, "post_id": 28860992, "comment_id": 45989096, "body": "for this code use CGI qw( escapeHTML );  my $link_url_html  = escapeHTML($link_url); my $link_text_html = escapeHTML($link_text);  print(qq{&lt;a href=&quot;$link_url_html&quot;&gt;$link_text_html&lt;/a&gt;\\n});"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1425490243, "creation_date": 1425490243, "answer_id": 28860992, "question_id": 28859904, "link": "https://stackoverflow.com/questions/28859904/htmlentities-for-url-encoding/28860992#28860992", "title": "HTML::ENTITIES for URL encoding", "body": "<p>How do you output your HTML now? Say you have</p>\n\n<pre><code>print(qq{&lt;a href=\"$link_url\"&gt;$link_text&lt;/a&gt;\\n});\n</code></pre>\n\n<p>Replace it with</p>\n\n<pre><code>use CGI qw( escapeHTML );\n\nmy $link_url_html  = escapeHTML($link_url);\nmy $link_text_html = escapeHTML($link_text);\n\nprint(qq{&lt;a href=\"$link_url_html\"&gt;$link_text_html&lt;/a&gt;\\n});\n</code></pre>\n\n<p>Personally, I use Template-Toolkit.</p>\n\n<pre><code>&lt;a href=\"[% link.url %]\"&gt;[% link.text %]&lt;/a&gt;                # WRONG!\n&lt;a href=\"[% link.url | html %]\"&gt;[% link.text | html %]&lt;/a&gt;  # ok\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2542664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b17d8bd7c556b2d448276793b35c0e?s=128&d=identicon&r=PG", "display_name": "Aakash Gupta", "link": "https://stackoverflow.com/users/2542664/aakash-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1425490243, "creation_date": 1425487079, "last_edit_date": 1425489929, "question_id": 28859904, "link": "https://stackoverflow.com/questions/28859904/htmlentities-for-url-encoding", "title": "HTML::ENTITIES for URL encoding", "body": "<p>i am not sure what is wrong with this code, i am trying to remove special characters from the URL\nfor example:- <code>http://google.com/&gt;\"&lt;script&gt;alert(2121)&lt;/script&gt;</code></p>\n\n<p>this triggers the javscript, i want to encode the '&lt;>&amp;\"' from URL\nso this is my code which i am trying to execute.</p>\n\n<pre><code>my $cgi = CGI-&gt;new();\nuse HTML::Entities;\nsub escapeParams {\n       my( $self ) = shift;\n\n        my @params  = $self-&gt;query-&gt;param('&lt;&gt;&amp;\"');\n\n        foreach my $param ( @params ) {\n            #    $self-&gt;query-&gt;param( $param, HTML::Entities::encode( $self-&gt;query-&gt;param( $param ) ) );\n            $self-&gt;query-&gt;param( HTML::Entities::encode($param), HTML::Entities::encode( $self-&gt;query-&gt;param( $param ) ) );\n            print $self-&gt;query-&gt;param( $param );\n        }\n\n}\nescapeParams($cgi);\n</code></pre>\n"}, {"tags": ["perl", "sorting", "matrix", "sql-order-by"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1425486852, "creation_date": 1425486852, "answer_id": 28859810, "question_id": 28859154, "link": "https://stackoverflow.com/questions/28859154/how-to-sort-an-all-digit-matrix-in-perl/28859810#28859810", "title": "How to sort an all-digit matrix in perl", "body": "<p>You will loop through the indices, breaking out of the loop when the comparison shows a difference.</p>\n\n<pre><code>@M = map{$a=$_;map{$b=$_;map{$c=$_;map{$d=$_;\n         map[$a,$b,$c,$d,$_],2,1}1,2}2,1}1,2}2,1;\n\nsub by_cols {\n    my ($row1,$row2,@indices) = @_;\n    foreach my $col (@indices) {\n        my $d = $row1-&gt;[$col] &lt;=&gt; $row2-&gt;[$col];\n        return $d if $d;\n    }\n    return 0;\n}\n\nprint \"@$_\\n\" for sort { by_cols($a,$b, 3,4,1) } @M;\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>2 1 2 1 1\n2 1 1 1 1\n1 1 2 1 1\n1 1 1 1 1\n2 2 2 1 1\n2 2 1 1 1\n1 2 2 1 1\n1 2 1 1 1\n2 1 2 1 2\n2 1 1 1 2\n1 1 2 1 2\n1 1 1 1 2\n2 2 2 1 2\n2 2 1 1 2\n1 2 2 1 2\n1 2 1 1 2\n2 1 2 2 1\n2 1 1 2 1\n1 1 2 2 1\n1 1 1 2 1\n2 2 2 2 1\n2 2 1 2 1\n1 2 2 2 1\n1 2 1 2 1\n2 1 2 2 2\n2 1 1 2 2\n1 1 2 2 2\n1 1 1 2 2\n2 2 2 2 2\n2 2 1 2 2\n1 2 2 2 2\n1 2 1 2 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 3, "last_activity_date": 1425486875, "creation_date": 1425486875, "answer_id": 28859818, "question_id": 28859154, "link": "https://stackoverflow.com/questions/28859154/how-to-sort-an-all-digit-matrix-in-perl/28859818#28859818", "title": "How to sort an all-digit matrix in perl", "body": "<p>You can sort by an arbitrary number of fields </p>\n\n<pre><code># note, your columns start at 1, while arrays index from 0\nmy @cols = map($_-1, @param_cols);\nmy @sorted = sort {\n    my $r = 0;\n    $r ||= $a-&gt;[$_] &lt;=&gt; $b-&gt;[$_] for @cols;\n    return $r;\n} @matrix;\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 1549118, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f322fcc274f27841bba1cce1d72558d?s=128&d=identicon&r=PG", "display_name": "Charlie Yen", "link": "https://stackoverflow.com/users/1549118/charlie-yen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1425488336, "creation_date": 1425485086, "last_edit_date": 1425488336, "question_id": 28859154, "link": "https://stackoverflow.com/questions/28859154/how-to-sort-an-all-digit-matrix-in-perl", "title": "How to sort an all-digit matrix in perl", "body": "<p>Assume there is an m by n all-digit matrix:</p>\n\n<pre><code>X11 X12 ... X1n&lt;br&gt;\nX21 X22 ... X2n&lt;br&gt;\n...&lt;br&gt;\nXmn Xmn ... Xmn \n</code></pre>\n\n<p>I need help to write a method that somewhat like 'order by' in ansi sql. This method shall be able to sort the matrix by ANY number of column indices passed in at cmdline.</p>\n\n<p>For example, if cmdline is:</p>\n\n<pre><code>% myOrderby -col 1,2,5\n</code></pre>\n\n<p>It'll sort the matrix by columns 1, 2 and 5.</p>\n\n<p>However, if cmdline is</p>\n\n<pre><code>% myOrderby -col 1,4,8,11\n</code></pre>\n\n<p>then it would sort the matrix by columns 1, 4, 8 and 11.</p>\n\n<p>I know how to implement the method if there was a fixed maximum number of columns to \"order by\". I am looking for a method that can sort a matrix based on any number of columns.</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1425484362, "post_id": 28858833, "comment_id": 45983394, "body": "an example with expected output would be better."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1425484393, "post_id": 28858833, "comment_id": 45983422, "body": "you mean <code>string.index(text)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4629251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f071d3b556770cec3501f69c95f8b9?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Mustafa Zinoor", "link": "https://stackoverflow.com/users/4629251/syed-mustafa-zinoor"}, "edited": false, "score": 0, "creation_date": 1425484828, "post_id": 28858903, "comment_id": 45983734, "body": "can it be done when we do not know what we are searching for(using a regex to find the substring)  ex : m = re.findall(&#39;&lt;a href=&quot;/(.+?)&quot; title=&#39;,page) but I want to return &#39;m&#39; only when a particular condition is satisfied( like startpoint &lt; endpoint)"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 39, "user_id": 4629251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f071d3b556770cec3501f69c95f8b9?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Mustafa Zinoor", "link": "https://stackoverflow.com/users/4629251/syed-mustafa-zinoor"}, "edited": false, "score": 0, "creation_date": 1425484886, "post_id": 28858903, "comment_id": 45983777, "body": "@SyedMustafaZinoor Sorry i cant understand what you mean by <i>when we do not know what we are searching</i> can you show an example?"}, {"owner": {"reputation": 39, "user_id": 4629251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f071d3b556770cec3501f69c95f8b9?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Mustafa Zinoor", "link": "https://stackoverflow.com/users/4629251/syed-mustafa-zinoor"}, "edited": false, "score": 0, "creation_date": 1425485114, "post_id": 28858903, "comment_id": 45983923, "body": "can it be done when we do not know what we are searching for(using a regex to find the substring)  ex : m = re.findall(&#39;&lt;a href=&quot;/(.+?)&quot; title=&#39;,page) but I want to return &#39;m&#39; only when a particular condition is satisfied( like startpoint &lt; endpoint)"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 39, "user_id": 4629251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f071d3b556770cec3501f69c95f8b9?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Mustafa Zinoor", "link": "https://stackoverflow.com/users/4629251/syed-mustafa-zinoor"}, "edited": false, "score": 1, "creation_date": 1425485217, "post_id": 28858903, "comment_id": 45984000, "body": "@SyedMustafaZinoor Pleas add this explains to your question with a sample input and a desire output!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 3, "last_activity_date": 1425484794, "last_edit_date": 1425484794, "creation_date": 1425484470, "answer_id": 28858903, "question_id": 28858833, "link": "https://stackoverflow.com/questions/28858833/perl-index-function-equivalent-in-python/28858903#28858903", "title": "Perl index function equivalent in Python", "body": "<p>In python you can use <a href=\"https://docs.python.org/2/library/string.html#string.find\" rel=\"nofollow\"><code>str.find()</code></a> to find the index of a sub-string inside a string :</p>\n\n<pre><code>&gt;&gt;&gt; s\n'123string 1abcabcstring 2123string 3abc123stringnabc'\n\n&gt;&gt;&gt; s.find('3a')\n35\n</code></pre>\n\n<blockquote>\n  <p><strong>string.find(s, sub[, start[, end]])</strong>\n  Return the lowest index in s where the substring sub is found such that sub is wholly contained in s[start:end]. Return -1 on failure. Defaults for start and end and interpretation of negative values is the same as for slices.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 3737529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2712e5192e011ce96327eecc64da3e5e?s=128&d=identicon&r=PG&f=1", "display_name": "komaromy", "link": "https://stackoverflow.com/users/3737529/komaromy"}, "is_accepted": false, "score": 0, "last_activity_date": 1425484473, "creation_date": 1425484473, "answer_id": 28858906, "question_id": 28858833, "link": "https://stackoverflow.com/questions/28858833/perl-index-function-equivalent-in-python/28858906#28858906", "title": "Perl index function equivalent in Python", "body": "<p>Assuming by \"text\" you mean string,</p>\n\n<pre><code>myString.find(substring)\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4629251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f071d3b556770cec3501f69c95f8b9?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Mustafa Zinoor", "link": "https://stackoverflow.com/users/4629251/syed-mustafa-zinoor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 1, "accepted_answer_id": 28858903, "answer_count": 2, "score": 0, "last_activity_date": 1425485915, "creation_date": 1425484277, "last_edit_date": 1425485915, "question_id": 28858833, "link": "https://stackoverflow.com/questions/28858833/perl-index-function-equivalent-in-python", "title": "Perl index function equivalent in Python", "body": "<p>The index() in Perl returns the location of a text between a start point and an endpoint. Is there something similar in Python. If not how can this be implemented.</p>\n\n<p>Example : \nin Perl, I would write an index function to return the index of a string as follows</p>\n\n<pre><code>start = index(input_text,text_to_search,starting_point_of_search)+off_set_length\n</code></pre>\n\n<p>What should be the equivalent in Python?</p>\n"}, {"tags": ["perl", "encoding", "endianness", "utf-16"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1425482476, "last_edit_date": 1425482476, "creation_date": 1425482041, "answer_id": 28857958, "question_id": 28857025, "link": "https://stackoverflow.com/questions/28857025/perl-open-output-file-in-same-endianess-as-input-file-utf-16be-vs-utf-16le/28857958#28857958", "title": "Perl: Open output file in same endianess as input file \u2013 UTF-16be vs. UTF-16le", "body": "<p>You'll have to read the BOM yourself.</p>\n\n<pre><code>use IO::Unread qw( unread );\n\nopen(my $fh_in, \"&lt;:raw\", $qfn)\n   or die;\n\nmy $rv = read($fh_in, my $buf, 4);\ndefined($rv)\n   or die;\n\nmy $encoding;\nmy $bom_present;\nif    ($buf =~ s/^\\x00\\x00\\xFE\\xFF//) { $encoding = 'UTF-32be'; $bom_present = 1; }\nelsif ($buf =~ s/^\\xFF\\xFE\\x00\\x00//) { $encoding = 'UTF-32le'; $bom_present = 1; }\nelsif ($buf =~ s/^\\xFE\\xFF//        ) { $encoding = 'UTF-16be'; $bom_present = 1; }\nelsif ($buf =~ s/^\\xFF\\xFE//        ) { $encoding = 'UTF-16le'; $bom_present = 1; }\nelsif ($buf =~ s/^\\xEF\\xBB\\xBF//    ) { $encoding = 'UTF-8';    $bom_present = 1; }\nelse {\n   $encoding = 'UTF-8';\n   $bom_present = 0;\n}\n\nunread($fh_in, $buf) if length($buf);\n\nbinmode($fh_in, \":encoding($encoding)\");\nbinmode($fh_in, \":crlf\") if $^O eq 'MSWin32';\n</code></pre>\n\n<p>But someone's already done that for you:</p>\n\n<pre><code>use File::BOM qw( open_bom );\n\nmy $encoding = open_bom(my $fh_in, $qfn, ':encoding(UTF-8)');\n</code></pre>\n"}], "owner": {"reputation": 5707, "user_id": 2556118, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/GBgbz.jpg?s=128&g=1", "display_name": "Hans Ginzel", "link": "https://stackoverflow.com/users/2556118/hans-ginzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "accepted_answer_id": 28857958, "answer_count": 1, "score": 1, "last_activity_date": 1425482476, "creation_date": 1425479442, "question_id": 28857025, "link": "https://stackoverflow.com/questions/28857025/perl-open-output-file-in-same-endianess-as-input-file-utf-16be-vs-utf-16le", "title": "Perl: Open output file in same endianess as input file \u2013 UTF-16be vs. UTF-16le", "body": "<p>When Perl opens an UTF-16 encoded file,</p>\n\n<p><code>open my $in, \"&lt; :encoding(UTF-16)\", \"text-utf16le.txt\" or die \"Error $!\\n\";</code></p>\n\n<p>it automatically detects the <a href=\"http://en.wikipedia.org/wiki/Endianness\" rel=\"nofollow\">endianess</a> thanks <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow\">Byte Order Mark</a>.</p>\n\n<p>But when I open file for writing</p>\n\n<p><code>open my $out, \"&gt; :encoding(UTF-16)\", \"output.txt\" or die \"Error $!\\n\";</code></p>\n\n<p>Perl opens it as big endian by default.</p>\n\n<p>How to specify to open output file in the same endianness as input file, please?</p>\n\n<p>How to get endianness/encoding from the input file handle <code>$in</code>? <code>PerlIO::get_layers($in)</code> returns among other layers <code>encoding(UTF-16)</code>.</p>\n"}, {"tags": ["perl", "sockets", "smtp", "socks"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425480519, "post_id": 28857021, "comment_id": 45980653, "body": "You should probably show more code here - i.e. the part of your script that does the set up of the SOCKS connection (file descriptor etc.). Perhaps something like <a href=\"https://metacpan.org/pod/IO::Socket::Socks::Wrapper\" rel=\"nofollow noreferrer\"><code>IO::Socket::Socks::Wrapper</code></a> would help?"}, {"owner": {"reputation": 409, "user_id": 3751471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c90be57c058861e813b9469729ac063b?s=128&d=identicon&r=PG&f=1", "display_name": "Kostiuk Aleksandr", "link": "https://stackoverflow.com/users/3751471/kostiuk-aleksandr"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425481150, "post_id": 28857021, "comment_id": 45981150, "body": "I add realization of bind socks. I already see this module, but still cannot understand, how use established connection. And i don&#39;t want change realization of socks because it&#39;s already works with IMAP."}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 3751471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c90be57c058861e813b9469729ac063b?s=128&d=identicon&r=PG&f=1", "display_name": "Kostiuk Aleksandr", "link": "https://stackoverflow.com/users/3751471/kostiuk-aleksandr"}, "edited": false, "score": 0, "creation_date": 1426164819, "post_id": 28993638, "comment_id": 46265657, "body": "IMAP instead of SMTP? Protocols for completely different purposes."}], "tags": [], "owner": {"reputation": 359, "user_id": 1001500, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/eCNDe.png?s=128&g=1", "display_name": "gfunk", "link": "https://stackoverflow.com/users/1001500/gfunk"}, "is_accepted": false, "score": 0, "last_activity_date": 1426095619, "creation_date": 1426095619, "answer_id": 28993638, "question_id": 28857021, "link": "https://stackoverflow.com/questions/28857021/use-netsmtp-ssl-tls-with-socks/28993638#28993638", "title": "use NET::SMTP SSL/TLS with SOCKS", "body": "<p>If you are okay with IMAP instead of SMTP this might help, but prob not what you're looking for:</p>\n\n<pre><code>sub login() {\n\n  ## Connect to the IMAP server via SSL\n  my $socket = IO::Socket::SSL-&gt;new(PeerAddr =&gt; 'imap.gmail.com',PeerPort =&gt; 993);\n  if(!$socket) {\n    # handle\n  }\n\n  ## Build up a client attached to the SSL socket.\n  ## Login is automatic as usual when we provide User and Password\n  my $imap = Mail::IMAPClient-&gt;new(Socket   =&gt; $socket,\n                                   User     =&gt; $username,\n                                   Password =&gt; $password,);\n  if(!$imap) {\n    # handle\n  }\n\n  if(!$imap-&gt;IsAuthenticated() &amp;&amp; ...) {\n    # handle\n  }\n\n  ## good to go\n  my @folders = $imap-&gt;folders();\n  ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 409, "user_id": 3751471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c90be57c058861e813b9469729ac063b?s=128&d=identicon&r=PG&f=1", "display_name": "Kostiuk Aleksandr", "link": "https://stackoverflow.com/users/3751471/kostiuk-aleksandr"}, "is_accepted": true, "score": 0, "last_activity_date": 1426167837, "last_edit_date": 1495541649, "creation_date": 1426167837, "answer_id": 29011452, "question_id": 28857021, "link": "https://stackoverflow.com/questions/28857021/use-netsmtp-ssl-tls-with-socks/29011452#29011452", "title": "use NET::SMTP SSL/TLS with SOCKS", "body": "<p><a href=\"https://stackoverflow.com/questions/28904106/problems-with-smtp-via-socks/29010752\">Here</a> is my beta code to use SMTP via socks proxy. SSL is working correctly with all servers tested by me. With TLS still have sometimes problems, probably something not according to the RFC.</p>\n"}], "owner": {"reputation": 409, "user_id": 3751471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c90be57c058861e813b9469729ac063b?s=128&d=identicon&r=PG&f=1", "display_name": "Kostiuk Aleksandr", "link": "https://stackoverflow.com/users/3751471/kostiuk-aleksandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 1, "accepted_answer_id": 29011452, "answer_count": 2, "score": 2, "last_activity_date": 1426167837, "creation_date": 1425479422, "last_edit_date": 1495540278, "question_id": 28857021, "link": "https://stackoverflow.com/questions/28857021/use-netsmtp-ssl-tls-with-socks", "title": "use NET::SMTP SSL/TLS with SOCKS", "body": "<p>I have some realization of bind, connect to SOCKS and connect to SMTP server through SOCKS. How i can use this connect with SSL/TLS NET::SMTP? This <a href=\"https://stackoverflow.com/questions/3253360/using-socks5-proxy-with-netsmtp\">question</a> not help me, because SSL handshake can't start.</p>\n\n<pre><code>DEBUG: .../IO/Socket/SSL.pm:683: waiting for fd to become ready: SSL wants a read first\nDEBUG: .../IO/Socket/SSL.pm:693: handshake failed because socket did not became ready\n</code></pre>\n\n<p>Here realization of connect to remote server via proxy:</p>\n\n<pre><code>sub connect {\n    my ($ip, $port, $is_ssl, $pid, $server) = @_;\n    if (defined $socket) {\n        my ($packed_cmd, $buffer, @data, %response);\n        $packed_cmd = pack(\"C4Nn\", 0x05, 0x01, 0x00, 0x01, $ip, $port);\n        $socket-&gt;send($packed_cmd);\n        if (defined $socket-&gt;recv($buffer, 1024)) {\n            @data = unpack(\"C4 L S\", $buffer);\n            $response{'version'} = $data[0];\n            $response{'result'} = $data[1];\n            $response{'reg'} = $data[2];\n            $response{'type'} = $data[3];\n            $response{'ip'} = $data[4];\n            $response{'port'} = $data[5];\n            $socket-&gt;blocking(0);\n            if ($is_ssl) {\n                &amp;debug(3, $pid, \"Try start SSL handshake with [$server]\\n\");\n                IO::Socket::SSL-&gt;start_SSL($socket, SSL_version =&gt; 'SSLv23', SSL_ca_file =&gt; SSL_CA_FILE) or &amp;debug(3, $pid, \"Cannot start SSL handshake! $@\\n\") and return 0; \n                &amp;debug(3, $pid, \"SSL handshake done!\\n\");\n            }\n            # TODO: Make TLS support\n            return 1;\n        }\n    }\n    &amp;debug(3, $pid, \"Cannot connect to [$server:$port] through socks server [$socks_name:$socks_server]\\n\");\n    return 0;\n}\n</code></pre>\n\n<p>Bind SOCKS</p>\n\n<pre><code>sub bind_socks {\n    my ($pid) = @_;\n    my ($method, $packed_cmd, $buffer, @data, %response);\n    $socket = IO::Socket::INET-&gt;new(\n        PeerAddr =&gt; $socks_server,\n        PeerPort =&gt; $socks_port,\n        Proto =&gt; 'tcp',\n        Timeout  =&gt; SOCKS5_CONNECT_TIMEOUT\n    ) or &amp;debug(3, $pid, \"Cannot connect to the socks server [$socks_server] $@\\n\") and return 0;\n    &amp;debug(3, $pid, \"Connected to the socks server [$socks_name:$socks_server]\\n\");\n    $socket-&gt;blocking(1);\n    if ($socks_username &amp;&amp; $socks_password) {\n        $method = 0x02;\n    } else {\n        $method = 0x00;\n    }\n    $packed_cmd = pack(\"C3\", 0x05, 0x01, $method);\n    $socket-&gt;send($packed_cmd);\n    if (defined $socket-&gt;recv($buffer, 1024)) {\n        @data = unpack(\"C2\", $buffer);\n        $response{'version'} = $data[0];\n        $response{'method'} = $data[1];\n        if ((defined $response{'version'}) &amp;&amp; (defined $response{'method'}) &amp;&amp; ($response{'version'} eq 5) &amp;&amp; ($response{'method'} eq $method)) {\n            if ($method == 2) {\n                $packed_cmd = pack(\"CC\", 0x01, length($socks_username)) . $socks_username . pack(\"C\", length($socks_password)) . $socks_password;\n                $socket-&gt;send($packed_cmd);\n                if (defined $socket-&gt;recv($buffer, 1024)) {\n                    @data = unpack(\"C2\", $buffer);\n                    $response{'version'} = $data[0];\n                    $response{'status'} = $data[1];\n                    return 1;\n                }\n            } else {\n                return 1;\n            }\n        } else {\n            &amp;debug(3, $pid, \"Cannot authenticate on socks server [$socks_name:$socks_server]\\n\");\n            return 0;\n        }\n    }\n    &amp;debug(3, $pid, \"Cannot authenticate on socks server [$socks_name:$socks_server]\\n\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["json", "perl", "cpan", "finalbuilder", "slack-api"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1425477695, "post_id": 28856329, "comment_id": 45978733, "body": "Current versions of Strawberry Perl ship already with the necessary modules. Simply use a newer version."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425479099, "post_id": 28856329, "comment_id": 45979699, "body": "You are misinterpreting the error message. LWP is reporting that LWP::Protocol::https isn&#39;t installed because it got an error when trying to load LWP::Protocol::https. That error being the one thrown by Net::SSLeay: Can&#39;t load &#39;C:/Strawberry/perl/site/lib/auto/Net/SSLeay/SSLeay.dll&#39;. That means Net::SSLeay isn&#39;t properly installed."}, {"owner": {"reputation": 445, "user_id": 3067891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CXm12.jpg?s=128&g=1", "display_name": "Bj&#248;rnar Hagen", "link": "https://stackoverflow.com/users/3067891/bj%c3%b8rnar-hagen"}, "edited": false, "score": 0, "creation_date": 1425479567, "post_id": 28856329, "comment_id": 45980000, "body": "Sorry if my question is poorly asked, I&#39;m not familiar with Perl. I have Net-SSLeay-1.68 installed., and Net::SSLeay passes the cpan test."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425482648, "post_id": 28856329, "comment_id": 45982208, "body": "You say that, yet when you you did <code>use Net::SSLeay;</code>, you got <code>Can&#39;t load &#39;C:&#47;Strawberry&#47;perl&#47;site&#47;lib&#47;auto&#47;Net&#47;SSLeay&#47;SSLeay.dll&#39;</code>. That means you ran your code in a different environment than the one in which you ran your tests. (Include <code>@username</code> when talking to someone so they get notified.)"}, {"owner": {"reputation": 445, "user_id": 3067891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CXm12.jpg?s=128&g=1", "display_name": "Bj&#248;rnar Hagen", "link": "https://stackoverflow.com/users/3067891/bj%c3%b8rnar-hagen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425484832, "post_id": 28856329, "comment_id": 45983739, "body": "@ikegami I don&#39;t have <code>use Net::SSLeay</code> in the code. Here is my Perl script: <a href=\"https://gist.github.com/bearhagen/e969eaa23673e9484614\" rel=\"nofollow noreferrer\">gist.github.com/bearhagen/e969eaa23673e9484614</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425485057, "post_id": 28856329, "comment_id": 45983889, "body": "Not directly, but the code behind line 100 does."}, {"owner": {"reputation": 445, "user_id": 3067891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CXm12.jpg?s=128&g=1", "display_name": "Bj&#248;rnar Hagen", "link": "https://stackoverflow.com/users/3067891/bj%c3%b8rnar-hagen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425485596, "post_id": 28856329, "comment_id": 45984286, "body": "@ikegami Oh okey. But it&#39;s in the same environment as the one I ran my tests. Continua CI (which starts the Finalbuilder project) is logged on as Adminstrator, which is the user I did my tests from. I installed Strawberry Perl earlier today."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425486062, "post_id": 28856329, "comment_id": 45984612, "body": "You say they&#39;re the same, but then you spend the rest of your comment specifying differences."}], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1425504865, "creation_date": 1425504865, "answer_id": 28865450, "question_id": 28856329, "link": "https://stackoverflow.com/questions/28856329/perl-cant-load-ssleay-dll-because-lwpprotocolhttps-is-not-installed/28865450#28865450", "title": "Perl can&#39;t load SSLeay.dll because LWP::Protocol::https is not installed", "body": "<p>Have you loaded the header files? I don't know what they are for Windows but in Linux, they're called: <code>libssl-dev</code> and <code>zlib1g-dev</code></p>\n"}, {"tags": [], "owner": {"reputation": 416, "user_id": 2497783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P67rz.png?s=128&g=1", "display_name": "2D1C", "link": "https://stackoverflow.com/users/2497783/2d1c"}, "is_accepted": false, "score": 0, "last_activity_date": 1435156512, "creation_date": 1435156512, "answer_id": 31029510, "question_id": 28856329, "link": "https://stackoverflow.com/questions/28856329/perl-cant-load-ssleay-dll-because-lwpprotocolhttps-is-not-installed/31029510#31029510", "title": "Perl can&#39;t load SSLeay.dll because LWP::Protocol::https is not installed", "body": "<p>I also had this error for awhile. In my case the solution was quiet simple. It turned out that I hadn't restarted the SVN service, so when it ran the post-commit.bat file the PATH environment hadn't been updated to reflect the new paths that had been added during the Perl install. </p>\n\n<p>While I was testing I was running from a new console window which had the correct Path, but as soon as it ran from the batch file via SVN it broke, with exactly the same error you posted.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1917821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73346ce44c3232c2992f8f1c6c6c7e6b?s=128&d=identicon&r=PG", "display_name": "user1917821", "link": "https://stackoverflow.com/users/1917821/user1917821"}, "is_accepted": false, "score": 1, "last_activity_date": 1555702657, "creation_date": 1555702657, "answer_id": 55766997, "question_id": 28856329, "link": "https://stackoverflow.com/questions/28856329/perl-cant-load-ssleay-dll-because-lwpprotocolhttps-is-not-installed/55766997#55766997", "title": "Perl can&#39;t load SSLeay.dll because LWP::Protocol::https is not installed", "body": "<p>I got this same error while running scripts from IDE, but not from command line (same issue).</p>\n\n<p>My command line was adding these to the path:( these were not globally defined)\nc:\\perl\\perl\\bin;c:\\perl\\sup\\bin;c:\\perl\\c\\bin;</p>\n\n<p>But the IDE didn't have these. So same fix should work for FinalBuilder, it is missing the perl path information. </p>\n"}], "owner": {"reputation": 445, "user_id": 3067891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CXm12.jpg?s=128&g=1", "display_name": "Bj&#248;rnar Hagen", "link": "https://stackoverflow.com/users/3067891/bj%c3%b8rnar-hagen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1792, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1555702657, "creation_date": 1425477470, "last_edit_date": 1425481523, "question_id": 28856329, "link": "https://stackoverflow.com/questions/28856329/perl-cant-load-ssleay-dll-because-lwpprotocolhttps-is-not-installed", "title": "Perl can&#39;t load SSLeay.dll because LWP::Protocol::https is not installed", "body": "<p>For internal messaging the company I work for uses <a href=\"https://slack.com/\" rel=\"nofollow\">Slack</a>. It allows for a lot of awesome integration with tons of different software and services. I'm making my own bot for sending webhooks to Slack.</p>\n\n<p>I got everything set up and working, I have a Perl script that sends a JSON payload. If I trigger the script manually, everything works flawlessly and my Slack bot sends messages.</p>\n\n<p>However, when the script gets triggered by <a href=\"https://www.finalbuilder.com/finalbuilder\" rel=\"nofollow\">Finalbuilder</a> (Software for automatic build processing), it it fails.\nI get the following response:</p>\n\n<pre><code>501 Can't load 'C:/Strawberry/perl/site/lib/auto/Net/SSLeay/SSLeay.dll' for module Net::SSLeay: load_file:The specified module could not be found (LWP::Protocol::https not installed)\n</code></pre>\n\n<p>So I figured I needed to install the \"LWP::Protocol::https\" module. I just opened my cpan client and wrote <code>install LWP::Protocol::https</code></p>\n\n<p>Still get the error after installing the module.\nI wrote <code>test LWP::Protocol:https</code>, which gave the following response:</p>\n\n<pre><code>Running test for module 'LWP::Protocol::https'\nRunning make for M/MS/MSCHILLI/LWP-Protocol-https-6.06.tar.gz\nChecksum for C:\\Strawberry\\cpan\\sources\\authors\\id\\M\\MS\\MSCHILLI\\LWP-Protocol-https-6.06.tar.gz ok\nScanning cache C:\\Strawberry\\cpan\\build for sizes\n............................................................................DONE\n\n  CPAN.pm: Going to build M/MS/MSCHILLI/LWP-Protocol-https-6.06.tar.gz\n\nChecking if your kit is complete...\nLooks good\nWriting Makefile for LWP::Protocol::https\nCould not read metadata file. Falling back to other methods to determine prerequisites\ncp lib/LWP/Protocol/https.pm blib\\lib\\LWP\\Protocol\\https.pm\n  MSCHILLI/LWP-Protocol-https-6.06.tar.gz\n  C:\\Strawberry\\c\\bin\\dmake.EXE -- OK\nRunning make test\nC:\\Strawberry\\perl\\bin\\perl.exe \"-MExtUtils::Command::MM\" \"-e\" \"test_harness(0,'blib\\lib', 'blib\\arch')\" t/*.t\nt/apache.t ....... ok\nt/https_proxy.t .. 1/56 # creating cert for direct.ssl.access\n# creating cert for direct.ssl.access\n# creating cert for foo\n# creating cert for bar\n# creating cert for foo\n# creating cert for foo\n# creating cert for bar\n# creating cert for bar\nt/https_proxy.t .. ok\nAll tests successful.\nFiles=2, Tests=61,  8 wallclock secs ( 0.02 usr +  0.01 sys =  0.03 CPU)\nResult: PASS\n  MSCHILLI/LWP-Protocol-https-6.06.tar.gz\n  C:\\Strawberry\\c\\bin\\dmake.EXE test -- OK\n</code></pre>\n\n<p><strong>I can trigger my script with windows CMD, or Finalbuilder. Both will work just fine</strong>, but when the Finalbuilder project gets activated through Continua CI, I get the \"can't load ssleay.dll\" error.</p>\n\n<p><strong>I have no clue what to do now. Does anyone know how I can fix the Perl error?</strong></p>\n"}, {"tags": ["perl", "java", "javascript"], "comments": [{"owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 0, "creation_date": 1425509878, "post_id": 28870309, "comment_id": 46004283, "body": "What do you mean by \u201cIt is working but it doesn&#39;t show my output\u201d? Is it working or not? Anyway your question is off-topic here, this site is for usage and administration, not for programming. You can ask programming questions on <a href=\"https://stackoverflow.com\">Stack Overflow</a>."}, {"owner": {"reputation": 11, "user_id": 4633668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwE0C.jpg?s=128&g=1", "display_name": "shashwatup9k", "link": "https://stackoverflow.com/users/4633668/shashwatup9k"}, "reply_to_user": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 0, "creation_date": 1425530389, "post_id": 28870309, "comment_id": 46004284, "body": "Yes. It is working but it doesn&#39;t show my output."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4633668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwE0C.jpg?s=128&g=1", "display_name": "shashwatup9k", "link": "https://stackoverflow.com/users/4633668/shashwatup9k"}, "edited": false, "score": 0, "creation_date": 1425587134, "post_id": 28872919, "comment_id": 46035307, "body": "First of thanks for reply, jagadish. I have tried but in error no changes. And one things, I want to add output is never generated."}], "tags": [], "owner": {"reputation": 633, "user_id": 540627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GLldX.jpg?s=128&g=1", "display_name": "Jagadish G", "link": "https://stackoverflow.com/users/540627/jagadish-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1425543059, "creation_date": 1425543059, "answer_id": 28872919, "question_id": 28870309, "link": "https://stackoverflow.com/questions/28870309/error-in-build-to-process-builder-in-java/28872919#28872919", "title": "error in build to process builder in java", "body": "<p>First, your perl script redirects its standard output to a file (\n/home/tomcat4.1.40/webapps/pos/textfile/output.txt). So there is no way, you can capture standard output in Java.</p>\n\n<p>Instead, you can use <a href=\"http://linux.101hacks.com/unix/tee-command-examples/\" rel=\"nofollow\">tee</a> command which can write the output to both your output file and the standard output. Now, this can be captured in Java.</p>\n\n<p>Second, use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow\">ProcessBuilder</a> instead of Runtime. Process Builder is more flexible and gives you options to capture the standard output / input / error.</p>\n\n<pre><code>ProcessBuilder p = new ProcessBuilder();\np.inheritIO(); // Sets the source and destination for subprocess standard I/O to be the same as those of the current Java process.\np.command(\"perl\", \"somescript.pl\");\np.start();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 3644902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sirTA.png?s=128&g=1", "display_name": "A.B.", "link": "https://stackoverflow.com/users/3644902/a-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1432408335, "last_edit_date": 1492086159, "creation_date": 1432408335, "answer_id": 30416599, "question_id": 28870309, "link": "https://stackoverflow.com/questions/28870309/error-in-build-to-process-builder-in-java/30416599#30416599", "title": "error in build to process builder in java", "body": "<p>As I wrote <a href=\"https://askubuntu.com/a/627443/367165\">here</a>:</p>\n\n<p>Sorry for the harsh words, but your code is a disaster. No compiler do something with it.</p>\n\n<p><em>I have made <strong>no further tweaks</strong> to your code</em>, I have the code modified so that it works at least:</p>\n\n<pre><code>package stackoverflow;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class ExeCommand {\n\n    /**\n     * \n     * run the Unix \"type your terminal command\" command\n     * \n     * @param args\n     */\n    public static void main(String[] args) {\n\n        System.out.println(\"Running tagger!\");\n\n        String command = \"perl /home/svmtool_v1.3.2/bin/SVMTagger.pl -V 4 -S LRL /home/svmtool_v1.3.2/models/ih/IN &lt; /home/tomcat4.1.40/webapps/pos/textfile/tests.txt &gt; /home/tomcat4.1.40/webapps/pos/textfile/output.txt\";\n//      String command = \"ls -og\";\n\n        Process p = null;\n\n        try {\n            p = Runtime.getRuntime().exec(command);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        // read the output from the command\n        System.out.println(\"It will take time so keep the patience:\\n\" + command);\n        BufferedReader stdError = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n        try {\n            System.out.println(\": \" + stdError.readLine());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        // read any errors from the attempted command\n        System.out.println(\"Please check your command (if any):\\n\");\n        try {\n            String errS = \"\";\n            while ((errS = stdError.readLine()) != null) {\n                System.out.println(\"Error:\\t\" + errS);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n            stdError.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        try {\n            System.out.println(\"First output line: \" + stdInput.readLine());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n            String outS = \"\";\n            while ((outS = stdInput.readLine()) != null) {\n                System.out.println(\"Output:\\t\" + outS);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n            stdInput.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(\"Finished!\");\n    }\n}\n</code></pre>\n\n<p>Replace the lines 19 and 20</p>\n\n<pre><code>        String command = \"perl /home/svmtool_v1.3.2/bin/SVMTagger.pl -V 4 -S LRL /home/svmtool_v1.3.2/models/ih/IN &lt; /home/tomcat4.1.40/webapps/pos/textfile/tests.txt &gt; /home/tomcat4.1.40/webapps/pos/textfile/output.txt\";\n//      String command = \"ls -og\";\n</code></pre>\n\n<p>with</p>\n\n<pre><code>//      String command = \"perl /home/svmtool_v1.3.2/bin/SVMTagger.pl -V 4 -S LRL /home/svmtool_v1.3.2/models/ih/IN &lt; /home/tomcat4.1.40/webapps/pos/textfile/tests.txt &gt; /home/tomcat4.1.40/webapps/pos/textfile/output.txt\";\n        String command = \"ls -og\";\n</code></pre>\n\n<p>Then you get this output:</p>\n\n<pre><code>Running tagger!\nIt will take time so keep the patience:\nls -og\n: null\nPlease check your command (if any):\n\nFirst output line: insgesamt 12\nOutput: drwxrwxr-x 3 4096 Mai 23 20:51 bin\nOutput: drwxrwxr-x 3 4096 Apr 26 15:49 src\nOutput: -rw-rw-r-- 1   28 Apr 26 15:51 test\nFinished!\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1425531389, "question_id": 188132}, "owner": {"reputation": 11, "user_id": 4633668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwE0C.jpg?s=128&g=1", "display_name": "shashwatup9k", "link": "https://stackoverflow.com/users/4633668/shashwatup9k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1432408335, "creation_date": 1425475149, "last_edit_date": 1425531890, "question_id": 28870309, "link": "https://stackoverflow.com/questions/28870309/error-in-build-to-process-builder-in-java", "title": "error in build to process builder in java", "body": "<p>I have devloped myself tagger and I want to host on the web. my server is based on jsp. But This tagger is based on svmtool and it has been written in Perl script. That's why, I have created one \".java\" file. In this file I've created Processor builder and via the Runtime.getRuntime().exec through this process I am calling this file. It is working but it doesn't show my output. Plz help to solve this issue. For the better under standing below I am giving my java code and also given last line of output/stop the process: \nimport java.io.*;</p>\n\n<pre><code>public class ExeCommand { String outS = \"\", errS=\"\";\ntry {\n\n    // run the Unix \"type your  terminal command\" command\n        System.out.println (\"Running tagger!\");\nString command = \"perl /home/svmtool_v1.3.2/bin/SVMTagger.pl -V 4 -S LRL /home/svmtool_v1.3.2/models/ih/IN &lt; /home/tomcat4.1.40/webapps/pos/textfile/tests.txt &gt; /home/tomcat4.1.40/webapps/pos/textfile/output.txt\"; Process p = Runtime.getRuntime().exec(command);\nBufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n            BufferedReader stdError = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n\n            // read the output from the command\n\n            System.out.println(\"It will take time so keep the patience:\\n\" + command);\nSystem.out.println (\"First error line: \" + stdError.readLine());\n\n            // read any errors from the attempted command\n\n            System.out.println(\"Please check your command (if any):\\n\");\n            while ((errS = stdError.readLine()) != null) {\n                System.out.println(\"Error:\\t\" + errS);\n            }\nstdError.close();\n\n\n        System.out.println (\"First output line: \" + stdInput.readLine());\n            while ((outS = stdInput.readLine()) != null) {\n                System.out.println(\"Output:\\t\" + outS);\n            }\nstdInput.close();\n\n             System.out.println(\"Finished!\");           \n        }\n\n        catch (Exception e) {\n            System.out.println(\"found exception: \" + e);\n            e.printStackTrace();\n            //System.exit(-1);  \n        }\n    System.out.println(\"Finished all!\");\n    }\n}\n</code></pre>\n\n<p>After this nothing doing/ last output shows in terminal:\nTAGGING &lt; DIRECTION = left-to-right then right-to-left ></p>\n"}, {"tags": ["perl", "prototype"], "comments": [{"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1425473540, "post_id": 28854589, "comment_id": 45975936, "body": "A guess (not an answer): Maybe because it would be time-consuming to implement in the parser, have exceptions, and be of questionable benefit even where it could be made to work. IMO the second line of code is far easier for a human to read, and the cost of doing it is well worth that payback."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1425477603, "post_id": 28854589, "comment_id": 45978659, "body": "You do know that you should not use prototypes, right? You don&#39;t really need them for anything. Their only use is to make subroutines that emulate how some of the built-in functions work."}], "answers": [{"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1425476655, "post_id": 28855808, "comment_id": 45977988, "body": "This doesn&#39;t seem like an answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 3, "creation_date": 1425476719, "post_id": 28855808, "comment_id": 45978030, "body": "@Hunter McMillen, How does giving two excellent reasons for not doing something not answer why that thing isn&#39;t done?"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1425482792, "post_id": 28855808, "comment_id": 45982316, "body": "@ikegami it doesn&#39;t fail silently, calling a function prototyped like atan($$) with more than 2 arguments yields a syntax error at compile time."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 1, "creation_date": 1425483313, "post_id": 28855808, "comment_id": 45982671, "body": "@Ben Grimm, Re-read the question. The OP didn&#39;t ask what the current behaviour of prototypes is. He asked why <code>atan2 1, 2, 3</code> doesn&#39;t mean <code>atan2(1, 2), 3</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 8290, "user_id": 604097, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1753587879/picture?type=large", "display_name": "AtanuCSE", "link": "https://stackoverflow.com/users/604097/atanucse"}, "edited": false, "score": 0, "creation_date": 1425626798, "post_id": 28855808, "comment_id": 46048196, "body": "@AtanuCSE This does provide an answer, the OP is asking why the language was designed one way and not another.  Prototypes are about forcing context, but they&#39;re also about avoiding errors.  One could go through the perl5-porters mailing list archive and see if there was ever any debate."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8290, "user_id": 604097, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1753587879/picture?type=large", "display_name": "AtanuCSE", "link": "https://stackoverflow.com/users/604097/atanucse"}, "edited": false, "score": 0, "creation_date": 1425842593, "post_id": 28855808, "comment_id": 46117366, "body": "@AtanuCSE, How does giving two excellent reasons for not doing something not answer why that thing isn&#39;t done?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1425655389, "last_edit_date": 1425655389, "creation_date": 1425476045, "answer_id": 28855808, "question_id": 28854589, "link": "https://stackoverflow.com/questions/28854589/why-perl-prototype-not-grab-two-arguments/28855808#28855808", "title": "Why perl $$ prototype not grab two arguments", "body": "<p>It would be extremely misleading to the reader, and forgetting the parens would fail silently (in your example, at least). I can't think of any reason you'd want that behaviour.</p>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1425489012, "post_id": 28859323, "comment_id": 45986618, "body": "The question is, <i>why</i>?"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1425489835, "post_id": 28859323, "comment_id": 45987149, "body": "The OP is asking the question from the wrong perspective. Prototypes exist to assist in type checking and allow user functions to work in the same manner as builtins -- not to break or override something as fundamental as list syntax. That a monadic function even <i>appears</i> to pull a single item out of a list is an exceptional case in Perl&#39;s grammar."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425490568, "post_id": 28859323, "comment_id": 45987620, "body": "@Ben Grimm, Backwards. Prototypes actually change parsing rules and semantics. They don&#39;t provide any type checking. (e.g. <code>perl -E&#39;sub foo ($) { } foo(@a); say &quot;ok&quot;&#39;</code>) That&#39;s why people are told to avoid prototypes when they start using them for type checking."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425493962, "post_id": 28859323, "comment_id": 45989546, "body": "@ikegami I need to dig deeper to fully understand it, but the apidoc above <code>ck_entersub_args_proto</code> in <code>op.c</code> states that prototypes provide type checking (among other things). <code>@a</code> in your example is converted to a scalar because it <i>can</i> be -- and there is nothing wrong with that so long as everyone understands what&#39;s going on -- but passing a scalar to a function which expects a coderef will yield an error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425495610, "post_id": 28859323, "comment_id": 45990516, "body": "You can&#39;t specify that a code ref is expected. You can specify that the sub call&#39;s arguments must start with a block. When you do, you can&#39;t pass a code ref any more than another reference. You will receive a code ref, but only because the user passed a block  in the call."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1425495626, "post_id": 28859323, "comment_id": 45990529, "body": "<code>sub t(&amp;) {}   t(\\&amp;t);</code> only works because the argument type is checked."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425495668, "post_id": 28859323, "comment_id": 45990555, "body": "<code>sub t(&amp;) {} $r=\\&amp;t;  t($r);</code> doesn&#39;t work, so it&#39;s a syntax restriction, not a type check."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1425495807, "post_id": 28859323, "comment_id": 45990628, "body": "Fair enough -- the parser can only know that <code>$r</code> is a scalar unless it is cast <code>\\&amp;$r</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425495914, "post_id": 28859323, "comment_id": 45990691, "body": "And the nail in the coffin, <code>sub t(&amp;) {} t(\\@a);</code> also works (until 5.22)"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1425497757, "post_id": 28859323, "comment_id": 45991761, "body": "Okay, in contrast to <code>$, % and @</code>, the code for <code>&amp;</code> only checks what the argument <i><a href=\"http://perl5.git.perl.org/perl.git/blob?f=op.c#l11425\" rel=\"nofollow noreferrer\">is not</a></i>. That has to be a bug."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425655278, "post_id": 28859323, "comment_id": 46063077, "body": "It is. As I mentioned, this has been fixed in 5.22"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1425656143, "post_id": 28859323, "comment_id": 46063651, "body": "Gotcha - mistook that to mean you had tested on the latest dev release. But I see that it was fixed in <a href=\"http://search.cpan.org/~xsawyerx/perl-5.21.9/pod/perl5217delta.pod#&amp;_and_%5C&amp;_prototypes_accepts_only_subs\" rel=\"nofollow noreferrer\">5.21.7</a>."}], "tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 1, "last_activity_date": 1425485582, "creation_date": 1425485582, "answer_id": 28859323, "question_id": 28854589, "link": "https://stackoverflow.com/questions/28854589/why-perl-prototype-not-grab-two-arguments/28859323#28859323", "title": "Why perl $$ prototype not grab two arguments", "body": "<p>Perl passes lists of parameters to functions, and <code>1, 2, 3</code> is a list. An exception to this rule is a monadic function (e.g. <code>sub func($) { ... }</code>) which is handled in a special way to allow you to construct lists like this in a very natural way:</p>\n\n<pre><code>sub double($) { $_[0] * 2 }\nsub triple($) { $_[0] * 3 }\nmy @a = (1, double 2, triple 3, 4);\n</code></pre>\n\n<p>Apart from the special cases, the parser handles all function calls the same way, with the <em>entire list</em> following the function name being compared to the prototype, if any. When the type(s) and/or length do not match, the compiler throws a syntax error.</p>\n"}, {"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1425624647, "post_id": 28863144, "comment_id": 46047519, "body": "You can simulate to grab two arguments and do not touch others with some trick: <code>sub test { my $a = shift @_; my $b = shift @_; my $c = calculate( $a, $b ); return ($c, @_); } say 1,2,test 3,4,5,6;</code>"}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1425497247, "creation_date": 1425497247, "answer_id": 28863144, "question_id": 28854589, "link": "https://stackoverflow.com/questions/28854589/why-perl-prototype-not-grab-two-arguments/28863144#28863144", "title": "Why perl $$ prototype not grab two arguments", "body": "<p>Reading documentation more accuracy. I have found this:\n<strong>\"a list operator tends to gobble up all the arguments that follow it</strong>\"\nand only after gobbling parser checks count of that arguments to much prototype.\nIt seems the prototyping is like <strong>to constraint a number of arguments</strong> a function can take.</p>\n\n<p>So we do not allow parser to grab two, three, four argument\nbecause this will break main rule:</p>\n\n<ol>\n<li><strong>\"a list operator tends to gobble up all the arguments that follow it</strong>\"</li>\n<li><p>If we break that rule, it will confuse reader. What does this mean:</p>\n\n<p>say atan2 1, 2, 3, 4;</p>\n\n<ul>\n<li><p>say atan2( 1, 2 ), 3, 4;</p></li>\n<li><p>say atan2( 1, 2 , 3), 4;</p></li>\n<li><p>say atan2( 1, 2 , 3, 4 );</p></li>\n</ul></li>\n</ol>\n\n<p>thus force programmer to read source code.</p>\n\n<p>.</p>\n\n<p>What about unary?</p>\n\n<p>DOC: <strong>unary operators are treated as functions with one argument.</strong></p>\n\n<p>They are exception because of unary functions are simple and easily noticeable. It is hard to think wrong when you see unary. So it is OK, to grab one argument, but allowing grab two, three etc arguments make source ambiguous</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 3, "accepted_answer_id": 28863144, "answer_count": 3, "score": 0, "last_activity_date": 1425655389, "creation_date": 1425472240, "question_id": 28854589, "link": "https://stackoverflow.com/questions/28854589/why-perl-prototype-not-grab-two-arguments", "title": "Why perl $$ prototype not grab two arguments", "body": "<p>I read now <a href=\"http://www.perlmonks.org/?node_id=861966\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=861966</a>\nBut I have a question about internals</p>\n\n<p>What is cause that prototype sub atan2($$); not cause the parser to grab only two arguments:</p>\n\n<p>So</p>\n\n<pre><code>@a = (atan2 1, 2, 3);\n</code></pre>\n\n<p>does not become </p>\n\n<pre><code>@a = (atan2(1, 2), 3);\n</code></pre>\n\n<p>What is a cause to not allow perl to do that?</p>\n"}, {"tags": ["perl", "email"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1425483064, "post_id": 28854572, "comment_id": 45982495, "body": "It is possible that one of the mail servers uses an RBL to block spam. Some RBLs like Spamhaus&#39; PBL block end-user IP addresses, so if you&#39;re connecting from such an address, this would explain what you&#39;re seeing."}, {"owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1425495902, "post_id": 28854572, "comment_id": 45990682, "body": "If there a clear and  straightforward way to use a kind of proxy?  Same like you can do with LWP::UserAgent?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1425673389, "post_id": 28854572, "comment_id": 46073445, "body": "Your ISP&#39;s mail server will happily accept a message from you to an external user, and relay it in your behalf. With a store-and-forward protocol, this is built in. A &quot;relay&quot; is not quite the same thing as a &quot;proxy&quot; but there you go."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1425671603, "last_edit_date": 1425671603, "creation_date": 1425671180, "answer_id": 28906456, "question_id": 28854572, "link": "https://stackoverflow.com/questions/28854572/veryfing-emails-perl-with-say-mailvrfy/28906456#28906456", "title": "Veryfing emails perl with, say Mail::VRFY", "body": "<p>There is no good way to verify that an email address exists without attempting delivery.  verify-email.org, Mail::CheckUser and Mail::VRFY appear to be using the same technique, sending <code>MAIL FROM</code> and <code>RCPT TO</code> and then closing the connection after hearing the response but before sending the actual mail.</p>\n\n<p>Sending an email has evolved into complicated measures, counter-measures, counter-counter-measures, and so on... between spammers and mail servers.  verify-email.org likely knows how to do this dance which can include things such as special setup of the MX and DNS records.  J.RANDOM.COMPUTER.net doesn't have that, and if you're doing it from a home network you're <a href=\"http://whatismyipaddress.com/blacklist-check\" rel=\"nofollow\">probably already on a blacklist</a>, not because you've done anything wrong, it's just assumed.  Mail::VRFY and Mail::CheckUser probably do not know how to look like legit mail servers.</p>\n\n<p>Mail::CheckUser is not being entirely accurate with you when it says <code>No such user</code>.  A peak at the <a href=\"https://metacpan.org/source/ILYAM/Mail-CheckUser-1.21/CheckUser.pm#L464\" rel=\"nofollow\">code in Mail::CheckUser::check_user_on_host()</a> shows why.</p>\n\n<pre><code>    if($code == 550 or $code == 551 or $code == 553) {\n        return _result(CU_UNKNOWN_USER, 'no such user');\n    }\n</code></pre>\n\n<p><a href=\"http://email.about.com/cs/standards/a/smtp_error_code_2.htm\" rel=\"nofollow\">Those SMTP codes are</a>...</p>\n\n<ul>\n<li>550 - The requested command failed because the user's mailbox was unavailable (for example because it was not found, or because the command was rejected for policy reasons).</li>\n<li>551 - The recipient is not local to the server. The server then gives a forward address to try.</li>\n<li>553 - The command was aborted because the mailbox name is invalid. </li>\n</ul>\n\n<p><a href=\"https://metacpan.org/source/JKISTER/Mail-VRFY-1.01/VRFY.pm#L348\" rel=\"nofollow\">Mail::VRFY is doing the same thing</a> but for all 500 codes.</p>\n\n<pre><code>}elsif($rt[-1] =~ /^5\\d{2}/){\n    # host rejected\n    return 7;\n}\n</code></pre>\n\n<p>Where 7 is \"One Advertised SMTP server permanently refused mail.\"</p>\n\n<p>Meanwhile, <a href=\"http://metacpan.org/pod/Email::Valid\" rel=\"nofollow\">Email::Valid</a> will validate the syntax and validate the domain exists.</p>\n\n<p>Your best bet is to either use a pre-existing external service, or get full access to a real mail server you can control, or to do all the work to set up a real mail server.</p>\n"}], "owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1425671603, "creation_date": 1425472179, "question_id": 28854572, "link": "https://stackoverflow.com/questions/28854572/veryfing-emails-perl-with-say-mailvrfy", "title": "Veryfing emails perl with, say Mail::VRFY", "body": "<p>I am trying to verify couple of emails. \nThe thing is that I have different results with <a href=\"http://verify-email.org/\" rel=\"nofollow\">http://verify-email.org/</a> and Mail::VRFY, where 1st is more close to reality.</p>\n\n<p>Yes I know that checking the existing user is unreliable, but still. </p>\n\n<p>What I receive is </p>\n\n<pre><code> One Advertised SMTP server permanently refused mail\n</code></pre>\n\n<p>Or if I try with Mail::CheckUser </p>\n\n<pre><code> No such user\n</code></pre>\n\n<p>Could it be that the server is refusing my request by IP filtering? Like if I run my script from suspicious region I get refused? </p>\n\n<p>And if it is, how can overcome this... Doesn\u2019t looks as simple as LWP with proxies :-(</p>\n"}, {"tags": ["perl", "cgi", "server"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1425470671, "post_id": 28852856, "comment_id": 45974107, "body": "Why don&#39;t you use the cgi method <code>param</code> to retrieve the data?"}, {"owner": {"reputation": 318, "user_id": 1530467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/j0Xwn.jpg?s=128&g=1", "display_name": "touchStone", "link": "https://stackoverflow.com/users/1530467/touchstone"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1425471033, "post_id": 28852856, "comment_id": 45974361, "body": "@JE SUIS CHARLIE Its another option to retrieve the data, I know but even that did not help my case."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1425471323, "post_id": 28852856, "comment_id": 45974572, "body": "You should always test the result of  <code>open</code>."}, {"owner": {"reputation": 318, "user_id": 1530467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/j0Xwn.jpg?s=128&g=1", "display_name": "touchStone", "link": "https://stackoverflow.com/users/1530467/touchstone"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1425472000, "post_id": 28852856, "comment_id": 45975012, "body": "The added a die statement , to check is open was successful. Also mkdir $folder is not successful but mkdir &quot;myFolder&quot; is even though $folder = query-&gt;param(&#39;folder&#39;)."}], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 1530467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/j0Xwn.jpg?s=128&g=1", "display_name": "touchStone", "link": "https://stackoverflow.com/users/1530467/touchstone"}, "edited": false, "score": 0, "creation_date": 1425480530, "post_id": 28855701, "comment_id": 45980668, "body": "If the filename/folder was part of a string literal the folders/files get created perfectly but same thing doesn&#39;t work with POST params. These params are printing right but I am unable to use them to create a file while the string literal way works.I don&#39;t understand this hypocrisy."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 318, "user_id": 1530467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/j0Xwn.jpg?s=128&g=1", "display_name": "touchStone", "link": "https://stackoverflow.com/users/1530467/touchstone"}, "edited": false, "score": 0, "creation_date": 1425481711, "post_id": 28855701, "comment_id": 45981521, "body": "Then I can only reiterate my suggestion about the enhanced error logging around the call to <code>open()</code>. Try that and then update your post with details of what you get in the error log. There must be some weird characters getting into your parameters."}, {"owner": {"reputation": 318, "user_id": 1530467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/j0Xwn.jpg?s=128&g=1", "display_name": "touchStone", "link": "https://stackoverflow.com/users/1530467/touchstone"}, "edited": false, "score": 0, "creation_date": 1425496981, "post_id": 28855701, "comment_id": 45991321, "body": "Nailed it. It was all due to the &quot;taint or -T&quot; flag set for the perl command. This prevented it from executing variables received from form data. Check: <a href=\"http://stackoverflow.com/questions/4239076/t-option-in-perl\">stackoverflow.com/questions/4239076/t-option-in-perl</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 318, "user_id": 1530467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/j0Xwn.jpg?s=128&g=1", "display_name": "touchStone", "link": "https://stackoverflow.com/users/1530467/touchstone"}, "edited": false, "score": 0, "creation_date": 1425497290, "post_id": 28855701, "comment_id": 45991504, "body": "So, once you improved your error logging, you immediately saw what the problem was?"}, {"owner": {"reputation": 318, "user_id": 1530467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/j0Xwn.jpg?s=128&g=1", "display_name": "touchStone", "link": "https://stackoverflow.com/users/1530467/touchstone"}, "edited": false, "score": 0, "creation_date": 1425497826, "post_id": 28855701, "comment_id": 45991807, "body": "I do always check the apache/logs/error.txt but didn&#39;t pay much attention to -T flag thing because the error was not very specific to this issue and the above link , supplemented the theory about &quot;taint&quot;. Anyways thanks :) for all your help."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1425481633, "last_edit_date": 1425481633, "creation_date": 1425475732, "answer_id": 28855701, "question_id": 28852856, "link": "https://stackoverflow.com/questions/28852856/writing-post-data-to-a-file-using-cgi-perl/28855701#28855701", "title": "Writing post data to a file using CGI-perl", "body": "<blockquote>\n  <p>i am unable to create a file/folder using these form data in the\n  script, yet i am able to print these values using print</p>\n</blockquote>\n\n<p>Almost certainly, the problem is that your web server doesn't have permissions to create a file in the directory where you are trying to create it. You can check that theory by improving the error checking for the <code>open()</code> call and looking in the web server error log.</p>\n\n<pre><code># $! contains the details of the error\nopen(OS,\"&gt;$folder/$file\") or die(\"Cannot write to file '$folder/$file': $!\");\n</code></pre>\n\n<p>You'll then have to change your processing so that you're writing to a directory where you have the correct permissions.</p>\n\n<p>Some other suggestions.</p>\n\n<ul>\n<li>Always include <code>use strict</code> and <code>use warnings</code>.</li>\n<li>Use <code>my $query = CGI-&gt;new</code> rather than <code>$query = new CGI</code>.</li>\n<li>Use lexical filehandles and three arguments to <code>open()</code>\n<ul>\n<li><code>open my $os_fh, '&gt;', \"$folder/$file\" or die \"...\"</code></li>\n</ul></li>\n<li>Consider moving away from CGI to a modern solution like <a href=\"http://perldancer.org/\" rel=\"nofollow\">Dancer</a>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1425478282, "post_id": 28855933, "comment_id": 45979161, "body": "None of this will help solve the actual problem. Which almost certainly comes down to file permissions."}], "tags": [], "owner": {"reputation": 147, "user_id": 2135249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43f472fea09b5628a8ae35dad342c46e?s=128&d=identicon&r=PG", "display_name": "gutschilla", "link": "https://stackoverflow.com/users/2135249/gutschilla"}, "is_accepted": false, "score": -1, "last_activity_date": 1425476363, "creation_date": 1425476363, "answer_id": 28855933, "question_id": 28852856, "link": "https://stackoverflow.com/questions/28852856/writing-post-data-to-a-file-using-cgi-perl/28855933#28855933", "title": "Writing post data to a file using CGI-perl", "body": "<p>I don't know whether you can install modules on your server. If yes, I would definitely advise you to use some abstraction layer like IO::All.</p>\n\n<pre><code>...\n$folder  = $query-&gt;param(\"folder\");\n$file    = $query-&gt;param(\"file\");\n$content = $query-&gt;param(\"content\");\n\n# very minimal folder and filename sanitizing: allow only \n# alphanumeric characters. No slashes!\n$folder =~ s{[^a-z0-9_\\-.]}{}gi;\n$file   =~ s{[^a-z0-9_\\-.]}{}gi;\n\nuse IO::All;\nio( $folder )-&gt;mkdir;\nio( \"$folder/$file\" ) &lt; $content; # yes, the &lt; is like \"put into\"\n</code></pre>\n\n<p>The cool thing about IO::All is that is hides the handling of file handles, buffers and such and will die with an error when something goes wrong - like when the directory cannot be created.</p>\n\n<p>See: <a href=\"https://metacpan.org/pod/distribution/IO-All/lib/IO/All.pod\" rel=\"nofollow\">IO::All on metacpan</a></p>\n\n<p>The sanitizing is very minimal and does not allow for subdirctories, but you don't want anybody to write send something like </p>\n\n<pre><code>{ \n    folder:  \"/var/www-data/.evil\", \n    file:    \"hacker.zip\",\n    content: \"..someting really evil..\"\n}\n</code></pre>\n\n<p>to upload this to your server.</p>\n\n<p>Anyhow, to install IO::All use either</p>\n\n<pre><code>cpan IO::All\n</code></pre>\n\n<p>or on Debian/Ubuntu</p>\n\n<pre><code>sudo apt-get install libio-all-perl\n</code></pre>\n"}], "owner": {"reputation": 318, "user_id": 1530467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/j0Xwn.jpg?s=128&g=1", "display_name": "touchStone", "link": "https://stackoverflow.com/users/1530467/touchstone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1477, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1425496687, "creation_date": 1425467120, "last_edit_date": 1425496687, "question_id": 28852856, "link": "https://stackoverflow.com/questions/28852856/writing-post-data-to-a-file-using-cgi-perl", "title": "Writing post data to a file using CGI-perl", "body": "<p>I was working on client program in pure html/javascript which would be able to send the folder, file and its contents as paramaters in a post request to the target cgi script (i.e saveFile.cgi ).</p>\n\n<p>I am able to retrieve the data from the post request , but i am unable to create a file/folder using these form data in the script, yet i am able to print these values using print.</p>\n\n<p>Also, I am able to create file/folder using the exact string literal which I was trying to retrieve from the post request.I am not understanding where i am going wrong.</p>\n\n<p>I am programming in a windows environment:</p>\n\n<p>Client Code :</p>\n\n<pre><code>var data = {\n             \"folder\": variant,\n             \"file\"  : \"metadata.json\",\n             \"content\": response\n           };\n\n           $.post('../cgi-bin/demos/saveJSON.cgi', data, function(resp) {\n                  // Do something with the request\n           }, 'json');\n</code></pre>\n\n<p>Server-Side/CGI Script:</p>\n\n<pre><code>#!C:\\perl\\bin\\perl.exe -wT\n    use CGI;\n    use JSON;\n\n    print \"Content-type: text/html\\n\\n\";\n\n    $query = new CGI;\n\n    $folder  = $query-&gt;param(\"folder\");\n    $file    = $query-&gt;param(\"file\");\n    $content = $query-&gt;param(\"content\");\n\n    #print \"Folder \" . $folder .\"&lt;br/&gt;\";\n    #print \"File \" . $file .\"&lt;br/&gt;\";\n    #print \"Content \" . $content .\"&lt;br/&gt;\";\n\n    mkdir($folder, 0700) unless(-d $folder);\n    open(OS,\"&gt;$folder/$file\") or die(\"Cannot write to file\");\n    print OS $content;\n    close(OS);\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "edited": false, "score": 2, "creation_date": 1425464975, "post_id": 28852066, "comment_id": 45970983, "body": "Why is it in <code>&#47;usr&#47;local&#47;lib&#47;perl5&#47;5.10.1</code> but you set <code>PERL5LIB=&quot;&#47;usr&#47;local&#47;lib&#47;perl5&#47;site_perl&#47;5.10.1&#47;&quot;</code>?"}, {"owner": {"reputation": 297, "user_id": 3607869, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3fb399908c4a954de136cbc36cbf2500?s=128&d=identicon&r=PG&f=1", "display_name": "user3607869", "link": "https://stackoverflow.com/users/3607869/user3607869"}, "reply_to_user": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "edited": false, "score": 0, "creation_date": 1425466189, "post_id": 28852066, "comment_id": 45971628, "body": "i set it to /usr/local/lib/perl5/5.10.1 also, then i got"}, {"owner": {"reputation": 297, "user_id": 3607869, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3fb399908c4a954de136cbc36cbf2500?s=128&d=identicon&r=PG&f=1", "display_name": "user3607869", "link": "https://stackoverflow.com/users/3607869/user3607869"}, "reply_to_user": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "edited": false, "score": 0, "creation_date": 1425466196, "post_id": 28852066, "comment_id": 45971638, "body": "Perl lib version (5.10.1) doesn&#39;t match executable version (v5.18.4) at /usr/local/lib/perl5/5.10.1//x86_64-linux-thread-multi/Confi&zwnj;&#8203;g.pm line 50. Compilation failed in require at /usr/local/lib/perl5/5.10.1/Env.pm line 122. BEGIN failed--compilation aborted at /usr/local/lib/perl5/5.10.1/Env.pm line 122"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1425469252, "post_id": 28852066, "comment_id": 45973298, "body": "You seem to have a very strange Perl set-up. You are sunning Perl 5.18.4, but you are looking for modules in a library configured for 5.10.1. That&#39;s not a recipe for success. How did you install Perl? How did you install these modules?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1425477860, "post_id": 28852066, "comment_id": 45978865, "body": "Isn&#39;t <code>Switch</code> deprecated? And the same goes for the feature <code>given&#47;when</code>. Just use <code>if</code> statements instead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425483069, "post_id": 28852066, "comment_id": 45982499, "body": "Why are you telling Perl 5.18.4 to use modules installed using 5.10.1? Did you ever install that module using 5.18.4?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1425483759, "post_id": 28852066, "comment_id": 45982955, "body": "The docs at Perl <a href=\"http://perldoc.perl.org/perlsyn.html#Switch-Statements\" rel=\"nofollow noreferrer\">switch statements</a> don&#39;t mention deprecation of <code>given</code>/<code>when</code> (but do mention version-dependent behaviour all over the place).  The <a href=\"http://search.cpan.org/perldoc?Switch\" rel=\"nofollow noreferrer\">Switch</a> module does say &quot;Use <code>given</code>/<code>when</code> when you can&quot;."}, {"owner": {"reputation": 297, "user_id": 3607869, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3fb399908c4a954de136cbc36cbf2500?s=128&d=identicon&r=PG&f=1", "display_name": "user3607869", "link": "https://stackoverflow.com/users/3607869/user3607869"}, "edited": false, "score": 0, "creation_date": 1425885001, "post_id": 28852066, "comment_id": 46128573, "body": "the version of the perl installed is v5.18.4, but i want to install 5.10.1 now, how do i unistall 5.18.4"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1425986985, "creation_date": 1425986985, "answer_id": 28962574, "question_id": 28852066, "link": "https://stackoverflow.com/questions/28852066/cant-locate-switch-pm-module-even-though-it-is-there/28962574#28962574", "title": "Can&#39;t locate Switch.pm module even though it is there", "body": "<p>Based on comments:</p>\n\n<p>Don't do this. You're loading modules from an old version of perl (5.10) into a newer version (5.18). This is always a hacky bodge at best, and a source of glitches, chaos and axe-wielding maintenance programmers in your future. </p>\n\n<p>Just install the library for the version of perl you're using. You <em>might</em> find perl 5.10 is installed somewhere, and will work - but it's quite an old version, so you may not want to go down that road, when updating things generally means improvements. </p>\n"}], "owner": {"reputation": 297, "user_id": 3607869, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3fb399908c4a954de136cbc36cbf2500?s=128&d=identicon&r=PG&f=1", "display_name": "user3607869", "link": "https://stackoverflow.com/users/3607869/user3607869"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5059, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425986985, "creation_date": 1425464867, "last_edit_date": 1425482925, "question_id": 28852066, "link": "https://stackoverflow.com/questions/28852066/cant-locate-switch-pm-module-even-though-it-is-there", "title": "Can&#39;t locate Switch.pm module even though it is there", "body": "<pre><code>Can't locate Switch.pm in @INC (you may need to install the Switch module)\n(@INC contains:\n    /usr/local/lib/perl5/site_perl/5.10.1//x86_64-linux-thread-multi \n    /usr/local/lib/perl5/site_perl/5.10.1/\n    /usr/local/lib64/perl5\n    /usr/local/share/perl5\n    /usr/lib64/perl5/vendor_perl\n    /usr/share/perl5/vendor_perl\n    /usr/lib64/perl5\n    /usr/share/perl5\n    .\n)\n</code></pre>\n\n<p>(Line breaks added for readability.) But when i try to locate the file, it is there in the following paths</p>\n\n<pre><code>/usr/local/lib/perl5/5.10.1/Switch.pm\n/usr/local/lib/perl5/5.10.1/CGI/Switch.pm\n/usr/share/perl5/vendor_perl/CGI/Switch.pm\n</code></pre>\n\n<p>I tried to add location of perl containing Switch.pm using</p>\n\n<pre><code>echo $PERL5LIB \nexport PERL5LIB=\"/usr/local/lib/perl5/site_perl/5.10.1/\"\nexport PATH=$JAVA_HOME/bin:$ANT_HOME/bin:$PERL5LIB:$PATH \nsource /.bash_profile\necho $PERL5LIB\n</code></pre>\n\n<p>Even then its not able to locate Switch.pm</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1425463402, "post_id": 28851465, "comment_id": 45970001, "body": "Hover your mouse over the <code>api</code> tag you used on this question. See how it says &quot;DO NOT USE THIS TAG!!&quot;? That&#39;s good advice. I can think of at least two completely different things you might be asking about so you really should clarify your question. Preferably with an example."}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1425463599, "post_id": 28851465, "comment_id": 45970113, "body": "tq sir, for example if i want to count the number of lines in the file , and i want to create one API for that in perl, so that i can use that API for more than one time in any platform.,,, now did you get my problem??"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1425463757, "post_id": 28851465, "comment_id": 45970214, "body": "Those are called modules. See <a href=\"http://perldoc.perl.org/perlmod.html#Perl-Modules\" rel=\"nofollow noreferrer\">the manual</a> or <a href=\"http://stackoverflow.com/questions/1731089/how-do-i-get-started-writing-a-module-for-cpan\">this duplicate</a> or <a href=\"http://stackoverflow.com/questions/550831/how-do-you-create-a-perl-module\">this other duplicate</a>."}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 1, "creation_date": 1425463822, "post_id": 28851465, "comment_id": 45970261, "body": "It looks like you want to create a Perl module. You could start here for an introduction: <a href=\"http://en.wikipedia.org/wiki/Perl_module\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Perl_module</a> , then study any &quot;learn to program in Perl&quot; book, online tutorial etc. It is not really a question for Stack Overflow, but please do ask again if you have some specific code you are working on, and are stuck"}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425463833, "post_id": 28851465, "comment_id": 45970269, "body": "is it possible to create?? if yes than kindly help me out !!!!"}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425463970, "post_id": 28851465, "comment_id": 45970356, "body": "#!usr/bin/perl #use strict; #use warning;  open IP,&quot;&lt;test1.txt&quot;; my ($line_count,$word_count)=(0,0);  while(my $line=&lt;IP&gt;)       { \t$line_count++; \tmy @words_on_this_line= split(&quot; &quot;,$line); \t$word_count+= scalar(@words_on_this_line); \t       } print&quot;This file contains $line_count lines\\n&quot;; \tprint&quot;this file contains $word_count words\\n&quot;; foreach $line(@IP) { if($line =~ /^&gt;/) { print $line;  } }  close IP;  in this script i am getting partial output, after foreach statement its not showing any kind of output. kindly help me to fix this problem?"}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1425464364, "post_id": 28851465, "comment_id": 45970595, "body": "Probably you should close and reopen the file after the count, I don&#39;t think <code>@IP</code> does what you expect. If that doesn&#39;t help, I suggest you make your code a new question, it is not possible to answer in comments, and is completely different to your first question. Please take a little time to format it correctly and explain more about what is wrong."}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425464455, "post_id": 28851465, "comment_id": 45970660, "body": "tq Mr.Neil,sure i will take some time n prepare nice question"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1425467995, "post_id": 28851465, "comment_id": 45972640, "body": "Please don&#39;t dump code in a comment like that. If you want to share code with us, then edit your question and add the code there (properly formatted)."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425473303, "post_id": 28853436, "comment_id": 45975803, "body": "Thank you Mr.DAVE, its working nice !!!!!!and one more thing Mr.Dave if i want to count the character in file, than where i have to add the script ? kindly suggest me it will be much more helpful for me . once again i would like to thank you for your previous script !!!!!"}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425474045, "post_id": 28853436, "comment_id": 45976228, "body": "Sir the above code , how i have to give input file from external disk?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425474922, "post_id": 28853436, "comment_id": 45976829, "body": "Well, I&#39;d rather that you were grateful for my explanations than my code. It&#39;s always a worry when I answer questions with working code that someone will just cut and paste the code without understanding what&#39;s going on. So I&#39;m not going to try and decipher what your subsequent questions mean. I&#39;ll just post a link to the <a href=\"http://learn.perl.org/\" rel=\"nofollow noreferrer\">Learn Perl</a> web site and suggest that you spend a few days working through one of their <a href=\"http://learn.perl.org/books/\" rel=\"nofollow noreferrer\">recommended books</a>."}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425622253, "post_id": 28853436, "comment_id": 46046795, "body": "package My::count use Exporter qw(import); our @Export_ok=qw(line_count);  sub line_count {my $line=@_; return $line; }   I saved above code in count.pm  use My::count qw(line_count); open INPUT,&quot;&lt;filename.txt&quot;; $line++; print line count is $line \\n&quot;; ` I saved this file in a.pl"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425649177, "post_id": 28853436, "comment_id": 46059197, "body": "As I said, in a comment on your original question, putting code in a Stack Overflow comment is a <i>terrible</i> idea. No-one is going to take the time to decipher it."}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425706283, "post_id": 28853436, "comment_id": 46082187, "body": "i am not getting how to post the code sir !!!"}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425711097, "post_id": 28853436, "comment_id": 46083049, "body": "hello Mr.DAVE, $. expression is not working for other script, what i can do further? kindly help me out"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1425737564, "post_id": 28853436, "comment_id": 46089571, "body": "If you have a new question,  then post it as a new question (including the code)."}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1426134311, "post_id": 28853436, "comment_id": 46251220, "body": "$. this operator is not working properly, is there any alternative way to count the lines in the file???"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1426145374, "post_id": 28853436, "comment_id": 46254692, "body": "&quot;is not working properly&quot; is a terrible way to describe a problem. If you have a new question, then please post it as a new question along with a small self-contained example which demonstrates the problem."}, {"owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1426147236, "post_id": 28853436, "comment_id": 46255459, "body": "i wish to create my own module and i want to use that module name for further use, the main concept is, create a module which should contains subroutines for line count, word-count and character count, and in main program i should use that module and i should read the file and the output should show me total number of lines , total number of words and total number of characters in that file.  i think this much information is enough to create, if u need any further information than let me know !!!!  kindly help me to create complete this task."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1426153473, "post_id": 28853436, "comment_id": 46258464, "body": "That comment doesn&#39;t explain the way in which <code>$.</code> is not working properly for you."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "edited": false, "score": 0, "creation_date": 1426153773, "post_id": 28853436, "comment_id": 46258626, "body": "Look, this question has been closed as unclear. So forget about it and start again. Post a completely new question explaining exactly how far you have got and what problems you are currently having."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1425468972, "creation_date": 1425468972, "answer_id": 28853436, "question_id": 28851465, "link": "https://stackoverflow.com/questions/28851465/can-any-one-help-me-to-fix-the-error-from-this-script/28853436#28853436", "title": "can any one help me to fix the error from this script?", "body": "<p>Let's look at this code in some detail.</p>\n\n<pre><code># There's a typo on the line below. It should be /usr/bin/perl\n#!usr/bin/perl\n\n# Never comment out these lines.\n# Instead, take the time to fix the problems.\n# Oh, and it's \"warnings\", not \"warning\".\n#use strict;\n#use warning;\n\n# Always check the return value from open()\n# Please use lexical filehandles.\n# Please use three-arguments to open().\n# open my $ip_fh, '&lt;', 'test1.txt' or die $!;\nopen IP,\"&lt;test1.txt\";\nmy ($line_count,$word_count)=(0,0);\n\n# You're rather fighting against Perl here.\n# If you do things in a Perlish manner then it all becomes easier\nwhile(my $line=&lt;IP&gt;) {\n  $line_count++;\n  my @words_on_this_line= split(\" \",$line);\n  $word_count+= scalar(@words_on_this_line);\n}\n\nprint\"This file contains $line_count lines\\n\";\nprint\"this file contains $word_count words\\n\";\n\n# It all goes a bit wrong here. You don't have an array called @IP.\n# I think you wanted to iterate across the file again.\n# Either use seek() to return to the start of the file, or store\n# the lines in @IP as you're reading them.\n# Also, you need to declare $line.\nforeach $line(@IP) {\n  if ($line =~ /^&gt;/) {\n    print $line;\n  }\n}\n\nclose IP;\n</code></pre>\n\n<p>I would do something like this.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010; # for say()\n\nmy $filename = shift || die \"Must give file name\\n\";\n\nopen my $fh, '&lt;', $filename or die \"Can't open $filename: $!\\n\";\n\nmy ($word_count, @matches);\n\nwhile (&lt;$fh&gt;) {\n  # By default, split() splits $_ on whitespace\n  my @words_on_line = split;\n  $word_count += @words_on_line;\n  push @matches, $_ if /^&gt;/;\n}\n\n# No need to count lines, Perl does that for us (in $.)\nsay \"This file contains $. lines\";\nsay \"This file contains $word_count words\";\nprint @matches;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 2431939, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4eb0e3ec89cc3a87b0054bdcb77f9987?s=128&d=identicon&r=PG", "display_name": "Aditya Acharya", "link": "https://stackoverflow.com/users/2431939/aditya-acharya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "closed_date": 1425483096, "answer_count": 1, "score": -3, "last_activity_date": 1426153552, "creation_date": 1425463211, "last_edit_date": 1426153552, "question_id": 28851465, "link": "https://stackoverflow.com/questions/28851465/can-any-one-help-me-to-fix-the-error-from-this-script", "closed_reason": "Needs details or clarity", "title": "can any one help me to fix the error from this script?", "body": "<p>The below code is showing errors kindly help me to solve the errors in the code</p>\n\n<pre><code>package My::count\nuse Exporter qw(import);\nour @Export_ok=qw(line_count);\n\nsub line_count {\n    my $line=@_;\n    return $line;\n}\n</code></pre>\n\n<p>I saved above code in count.pm</p>\n\n<pre><code>use My::count qw(line_count);\nopen INPUT,\"&lt;filename.txt\";\n$line++;\nprint line count is $line \\n\";\n</code></pre>\n\n<p>I saved this file in a.pl </p>\n"}, {"tags": ["perl", "shell", "automation", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "edited": false, "score": 0, "creation_date": 1425461321, "post_id": 28850738, "comment_id": 45968705, "body": "This is not seem to be an option since this script could be run from any random host within the network."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "edited": false, "score": 0, "creation_date": 1425463521, "post_id": 28850738, "comment_id": 45970068, "body": "@manpreetbhamba: You can send the two lines to the standard input of <code>cpan</code>, or you can change the config file in a different way."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1425461120, "creation_date": 1425461120, "answer_id": 28850738, "question_id": 28850485, "link": "https://stackoverflow.com/questions/28850485/perl-automate-installation-of-sax-module/28850738#28850738", "title": "perl automate installation of SAX module", "body": "<p>Configure your cpan client to use <code>follow</code> as the <code>prerequisites_policy</code>. In the cpan shell, enter:</p>\n\n<pre><code>o conf prerequisites_policy follow\no conf commit\n</code></pre>\n"}], "owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 28850738, "answer_count": 1, "score": 0, "last_activity_date": 1425461120, "creation_date": 1425460330, "question_id": 28850485, "link": "https://stackoverflow.com/questions/28850485/perl-automate-installation-of-sax-module", "title": "perl automate installation of SAX module", "body": "<p>One of my perl script uses XML::SAX module. As this script would be run from any system on the network, I am working on writing a shell script which would automatically download the module and install it in a private lib.</p>\n\n<p>The script works fine but in the middle of it, this question comes up:</p>\n\n<pre><code>Checking if your kit is complete...\nLooks good\nWarning: prerequisite XML::SAX::Base 1.05 not found. We have 1.04.\nDo you want XML::SAX to alter ParserDetails.ini? [Y]\n</code></pre>\n\n<p>And the program waits for user input. Is there any way to skip this? \nThese scripts will be run as remote jobs and the people running the jobs aren't going to be looking at the console very often. </p>\n\n<p>Also, I tried working with expect, but I get the error 'spawn' not found. So I'm thinking it's not a part of the standard shell utility.</p>\n\n<p>Please advise if this is possible at all.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1425460877, "post_id": 28850094, "comment_id": 45968434, "body": "Every process has its own set of environment variables. A child processes gets a copy of the set of its parent process, but it really is a copy, any change is not reflected in the parent process. You cannot change environment variables of one process from another process. That is why this doesn&#39;t work."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 2, "creation_date": 1425461023, "post_id": 28850094, "comment_id": 45968526, "body": "Your script <b>is working</b>, and correctly set the environment variable for the <i>new</i> shell, started by the <code>system</code> function. Its lifetime is finished when the shell is finished. (immediatelly after the <code>export</code>)."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1425461136, "post_id": 28850094, "comment_id": 45968588, "body": "<code>system</code> spawns a new child process, changing the environment in this child process is futile. You can only change the environment of the running perl process by using <code>%ENV</code> (e.g. <code>$ENV{&#39;TEST_ENV&#39;}=&#39;TEST123&#39;;</code>. You <b>cannot</b> change the environment of the shell that started the perl process. This can only happen from within the shell itself."}, {"owner": {"reputation": 444, "user_id": 2877493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/42d5594210d4bc1b04100586a707b92f?s=128&d=identicon&r=PG&f=1", "display_name": "nairb", "link": "https://stackoverflow.com/users/2877493/nairb"}, "edited": false, "score": 0, "creation_date": 1425469639, "post_id": 28850094, "comment_id": 45973512, "body": "thanks for all of your answers but I managed to do a resolution for this now, and still using a perl script :D"}], "answers": [{"comments": [{"owner": {"reputation": 444, "user_id": 2877493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/42d5594210d4bc1b04100586a707b92f?s=128&d=identicon&r=PG&f=1", "display_name": "nairb", "link": "https://stackoverflow.com/users/2877493/nairb"}, "edited": false, "score": 0, "creation_date": 1425460028, "post_id": 28850190, "comment_id": 45967950, "body": "tried your code but it&#39;s not working also."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1425460140, "post_id": 28850190, "comment_id": 45968004, "body": "Where do you plan to use the environment variable? Inside the Perl script?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1425460192, "post_id": 28850190, "comment_id": 45968030, "body": "Where do you try to use the variable?"}, {"owner": {"reputation": 444, "user_id": 2877493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/42d5594210d4bc1b04100586a707b92f?s=128&d=identicon&r=PG&f=1", "display_name": "nairb", "link": "https://stackoverflow.com/users/2877493/nairb"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1425462008, "post_id": 28850190, "comment_id": 45969112, "body": "@Quentin not inside the perl script. I need to add a new system environment variable on a linux machine using a perl script."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 444, "user_id": 2877493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/42d5594210d4bc1b04100586a707b92f?s=128&d=identicon&r=PG&f=1", "display_name": "nairb", "link": "https://stackoverflow.com/users/2877493/nairb"}, "edited": false, "score": 0, "creation_date": 1425462361, "post_id": 28850190, "comment_id": 45969362, "body": "@nairb why you have to use perl? why not a shell script?"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1425459406, "creation_date": 1425459406, "answer_id": 28850190, "question_id": 28850094, "link": "https://stackoverflow.com/questions/28850094/how-to-set-environment-variable-in-linux-using-perl-script/28850190#28850190", "title": "how to set environment variable in linux using perl script", "body": "<p>use <code>%ENV</code> for that:</p>\n\n<pre><code>#!/usr/bin/perl\n\n$ENV{'TEST_ENV'} = 'TEST123';\n</code></pre>\n"}], "owner": {"reputation": 444, "user_id": 2877493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/42d5594210d4bc1b04100586a707b92f?s=128&d=identicon&r=PG&f=1", "display_name": "nairb", "link": "https://stackoverflow.com/users/2877493/nairb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 1, "closed_date": 1425462086, "answer_count": 1, "score": -2, "last_activity_date": 1425461741, "creation_date": 1425459073, "last_edit_date": 1425459313, "question_id": 28850094, "link": "https://stackoverflow.com/questions/28850094/how-to-set-environment-variable-in-linux-using-perl-script", "closed_reason": "Duplicate", "title": "how to set environment variable in linux using perl script", "body": "<p>how do you set environment variable in linux using perl script. </p>\n\n<p>Code: </p>\n\n<pre><code>#!/usr/bin/perl\nsystem ('export TEST_ENV=TEST123'); \n</code></pre>\n\n<p>not working. Please help</p>\n"}, {"tags": ["python", "perl", "file"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1425459564, "post_id": 28849902, "comment_id": 45967676, "body": "If <code>somescript</code> doesn&#39;t accept <code>-</code> as a file name to read standard input, does it accept <code>&#47;dev&#47;stdin</code>?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1425459592, "post_id": 28849902, "comment_id": 45967696, "body": "That&#39;s not valid Perl.  Maybe <code>my $output = ...;</code>?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1425461005, "post_id": 28849902, "comment_id": 45968515, "body": "Do you really have a separate subscript for each protein?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 2, "creation_date": 1425461117, "post_id": 28849902, "comment_id": 45968578, "body": "It will be more efficient to use one Perl script to call the subscripts, and to use <code>require</code> to pull them in instead of invoking them through <code>exec</code> or a shell, which is what the backticks do.  You will be invoking the Perl compiler once instead of 30000 times."}, {"owner": {"reputation": 3385, "user_id": 4555249, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh3.googleusercontent.com/-Cn5zv2Ynjq4/AAAAAAAAAAI/AAAAAAAAAGE/TMgHJCU_uVQ/photo.jpg?sz=128", "display_name": "G&#225;bor Erd\u0151s", "link": "https://stackoverflow.com/users/4555249/g%c3%a1bor-erd%c5%91s"}, "edited": false, "score": 0, "creation_date": 1425462005, "post_id": 28849902, "comment_id": 45969111, "body": "The thing i did was to make 30000 files, each containing one protein, make a list of their names, and iterate over them, so i can call     <code>my $output =`somescript -do_something n_th_protein`</code>; And i would like to avoid makeing 30000 files"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1425462376, "post_id": 28849902, "comment_id": 45969375, "body": "@reinerpost provided that <code>somescript</code> is also Perl code, of course."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1425467006, "post_id": 28849902, "comment_id": 45972076, "body": "@reinierpost: You realise that <code>require</code> invokes the compiler at run time? There is no way to run a Perl script without compiling it."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425550959, "post_id": 28849902, "comment_id": 46012939, "body": "@Borodin: Hmm, yes, <a href=\"http://perldoc.perl.org/functions/do.html\" rel=\"nofollow noreferrer\"><code>require</code></a> really compiles and executes the script. So I&#39;ll correct what I wrote (ignore the above):"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1425550973, "post_id": 28849902, "comment_id": 46012948, "body": "It will be more efficient to use one Perl script to call the subscripts, and to use require to pull them in instead of invoking them through exec or a shell, which is what the backticks do. You will be running everything in a single Perl process instead of forking 2*30000 subprocesses."}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1425462458, "post_id": 28851139, "comment_id": 45969438, "body": "Then why use Perl for the wrapper script at all?  <code>while read -r protein; do somescript -do_something -with_this_single_protein_file &lt;(echo &quot;$protein&quot;); done &lt;dataset</code>"}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1425462534, "post_id": 28851139, "comment_id": 45969486, "body": "@triplee That&#39;s better. I was assuming this was supposed to be part of a larger script."}], "tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": false, "score": 0, "last_activity_date": 1425462271, "creation_date": 1425462271, "answer_id": 28851139, "question_id": 28849902, "link": "https://stackoverflow.com/questions/28849902/can-i-somehow-avoid-giving-a-subscript-a-real-file/28851139#28851139", "title": "Can i somehow avoid giving a subscript a real file?", "body": "<p>You can use Bash's <a href=\"http://mywiki.wooledge.org/ProcessSubstitution\" rel=\"nofollow\">process substitution</a> to automatically create the temporary files you need.</p>\n\n<pre><code>while(&lt;DATASET&gt;) {\n   my $output = system(\"/bin/bash\", \"-c\", \"somescript -do_something -with_this_single_protein_file &lt;(echo \\\"$_\\\")\");\n}\n</code></pre>\n"}], "owner": {"reputation": 3385, "user_id": 4555249, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh3.googleusercontent.com/-Cn5zv2Ynjq4/AAAAAAAAAAI/AAAAAAAAAGE/TMgHJCU_uVQ/photo.jpg?sz=128", "display_name": "G&#225;bor Erd\u0151s", "link": "https://stackoverflow.com/users/4555249/g%c3%a1bor-erd%c5%91s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425462271, "creation_date": 1425458441, "question_id": 28849902, "link": "https://stackoverflow.com/questions/28849902/can-i-somehow-avoid-giving-a-subscript-a-real-file", "title": "Can i somehow avoid giving a subscript a real file?", "body": "<p>I have to calculate a lot of stuff for a huge proteome file, were i have ~ 30000 preteins in the dataset. \nI have a script where there are a lot of sub scripts which requires a single protein file</p>\n\n<p>In perl:</p>\n\n<pre><code>my output = `somescript -do_something -with_this_single_protein_file`\n</code></pre>\n\n<p>I would like to ask, is there any way to avoid splitting the dataset into 30000 files each containing a single protein? Maybe in Python is there a way to give a Popen a stringIO, a file handler or something?</p>\n\n<p>Thanks, G\u00e1bor</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1425453283, "post_id": 28848521, "comment_id": 45964889, "body": "Have you tried to escape the singl quotes too?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1425453474, "post_id": 28848521, "comment_id": 45964953, "body": "@Jens No.. but in the real code the string is input as a variable to a sub routine, so I cannot just manually insert backslashes as in this question. I think I would have to write some code to scan the string for quotes.."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1425453576, "post_id": 28848521, "comment_id": 45964993, "body": "use regex for this. <code>$string =~ s&#47;\\&#39;&#47;\\\\\\&#39;&#47;g</code> and <code>$string =~ s&#47;\\&quot;&#47;\\\\\\&quot;&#47;g</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1425454051, "post_id": 28848521, "comment_id": 45965176, "body": "@Jens Thanks!! I think this should work for the general case: <code>$str =~ s&#47;\\&quot;&#47;\\\\\\&quot;&#47;g; eval(&quot;say \\&quot;$str\\&quot;&quot;);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 4, "last_activity_date": 1425457346, "creation_date": 1425457346, "answer_id": 28849610, "question_id": 28848521, "link": "https://stackoverflow.com/questions/28848521/using-eval-to-print-quoted-string-in-perl/28849610#28849610", "title": "Using eval to print quoted string in Perl", "body": "<p>The easiest way is probably to use the <code>q</code> (equivalent to single quotes) and <code>qq</code> (equivalent to double quotes) operators:</p>\n\n<pre><code>my $str_with_quotes = qq(Hello \"'world'\"!);\nmy $cmd3 = qq(say q(c: $str_with_quotes));\n</code></pre>\n\n<p>Note that, when using <code>q</code>/<code>qq</code>, you do <em>not</em> escape any single/double quotes in the string.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 28849610, "answer_count": 1, "score": 0, "last_activity_date": 1425457346, "creation_date": 1425453074, "question_id": 28848521, "link": "https://stackoverflow.com/questions/28848521/using-eval-to-print-quoted-string-in-perl", "title": "Using eval to print quoted string in Perl", "body": "<p>I am trying to use <code>eval</code> to print a string containing quotes. For example:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $str_with_double_quotes = 'Hello \"world\"!';\nmy $str_with_single_quotes = \"Hello 'world'!\";\nmy $str_with_quotes = \"Hello \\\"'world'\\\"!\";\n\nsay \"1. $str_with_double_quotes\";\nsay \"2. $str_with_single_quotes\";\nsay \"3. $str_with_quotes\";\n\nmy $cmd1 = \"say 'a: $str_with_double_quotes'\";\nmy $cmd2 = \"say \\\"b: $str_with_single_quotes\\\"\";\nmy $cmd3 = \"say 'c: $str_with_quotes'\";\n\neval($cmd1);\neval($cmd2);\neval($cmd3);\n</code></pre>\n\n<p>This works for case 1 and case 2, but not for case 3, since the string contains both single and double quotes. Is there an easy way to solve this problem? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1425437510, "post_id": 28845713, "comment_id": 45960367, "body": "Can you explain how you expect strings composed of entirely digits to increment? This may help: <a href=\"http://stackoverflow.com/questions/3508362/autoincrementing-letters-in-perl\" title=\"autoincrementing letters in perl\">stackoverflow.com/questions/3508362/&hellip;</a> You might have to write your own &quot;increment&quot; function for this."}, {"owner": {"reputation": 3938, "user_id": 605922, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83cc6929f48de9ccbebd5e68150b9e41?s=128&d=identicon&r=PG", "display_name": "jaymmer - Reinstate Monica", "link": "https://stackoverflow.com/users/605922/jaymmer-reinstate-monica"}, "reply_to_user": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1425437961, "post_id": 28845713, "comment_id": 45960463, "body": "I&#39;d expect <code>++(my $v = &quot;0001&quot;)</code> to become &quot;0002&quot; instead of just &quot;2&quot;, for example. Of course, this isn&#39;t limited to just strings composed entirely of digits - after <code>++(my $a = &quot;M2U0&quot;)</code>, for example, <code>$a</code> becomes <code>1</code> instead of <code>&quot;M2U1&quot;</code> which is what I want."}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1425438262, "post_id": 28845713, "comment_id": 45960536, "body": "<code>0001</code> should become <code>0002</code> but I don&#39;t think your other example would work. This is because for the variable to be incremented as a string, it has to 1. match the regex <code>&#47;^[a-zA-Z]*[0-9]*\\z&#47;</code> and 2. only be used in string contexts. This was explained in the docs you linked to."}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 1, "creation_date": 1425438402, "post_id": 28845713, "comment_id": 45960571, "body": "Just tested this, <code>perl -e&#39;my $var = &quot;0001&quot;; $var++; print $var&#39;</code> prints <code>0002</code>. So that part works. <code>perl -e&#39;my $var = &quot;M2U0&quot;; $var++; print $var&#39;</code> prints <code>1</code> because it doesn&#39;t match the regex and is being treated in numeric context."}, {"owner": {"reputation": 3938, "user_id": 605922, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83cc6929f48de9ccbebd5e68150b9e41?s=128&d=identicon&r=PG", "display_name": "jaymmer - Reinstate Monica", "link": "https://stackoverflow.com/users/605922/jaymmer-reinstate-monica"}, "reply_to_user": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1425438527, "post_id": 28845713, "comment_id": 45960601, "body": "Hm, I just tried it as well and it works just fine for me as well, I must have messed something up. I didn&#39;t think to actually take a good look at the regular expression itself; it seems that the auto-increment magic won&#39;t do the job after all."}], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425484465, "post_id": 28846135, "comment_id": 45983478, "body": "I&#39;ve always assumed there were easy to use functions in a <code>Util</code> module somewhere that could do fancy incrementation but never can find them. Thanks!  <a href=\"https://metacpan.org/pod/String::Incremental\" rel=\"nofollow noreferrer\"><code>String::Incremental</code></a> is pretty cool but seems a bit heavy-duty for what is seems (deceptively) like a simple problem."}], "tags": [], "owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "is_accepted": true, "score": 2, "last_activity_date": 1425440882, "last_edit_date": 1495542037, "creation_date": 1425439294, "answer_id": 28846135, "question_id": 28845713, "link": "https://stackoverflow.com/questions/28845713/force-auto-increment-to-treat-its-argument-as-string/28846135#28846135", "title": "Force auto-increment to treat its argument as string", "body": "<p>Here's the related question about how auto incrementing works: <a href=\"https://stackoverflow.com/questions/3508362/autoincrementing-letters-in-perl\">Autoincrementing letters in Perl</a></p>\n\n<p>Like the <a href=\"http://perldoc.perl.org/perlop.html#Auto-increment-and-Auto-decrement\" rel=\"nofollow noreferrer\">docs</a> explained, basically you need the variable to </p>\n\n<ol>\n<li>match the regex <code>/^[a-zA-Z]*[0-9]*\\z/</code> and </li>\n<li>only be used in string contexts.</li>\n</ol>\n\n<p>Because you have variables that don't match the regex, those ones will be treated as numbers. You can write your own increment function to get your desired functionality. Here's an idea I had about how it could work to get you started.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\nmy $test = \"1000\";\nfor (0..100) {\n    $test = increment($test);\n}\nprint $test . \"\\n\";\n\n$test = \"M2V3\";\nfor (0..100) {\n    $test = increment($test);\n}\nprint $test . \"\\n\";\n\n\nsub increment {\n    my ($str) = @_;\n\n    my @letters = reverse split //, $str;\n\n    my $add = \"\";\n    my $increment = 1;\n    my $result = \"\";\n\n\n    for my $let (@letters) {\n        if ( $increment == 1 ) {\n            ++$let;\n        }\n        if ( $let =~ /(.)(.)/ ) {\n            $add = $2;\n            $increment = 1;\n        } else {\n            $add = $let;\n            $increment = 0;\n        }\n        $result = $add . $result;\n    }\n    return $result;\n}\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>1101\nM3F4\n</code></pre>\n\n<p>I didn't calculate to confirm that <code>M3F4</code> is the correct result but it seems close.</p>\n"}], "owner": {"reputation": 3938, "user_id": 605922, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83cc6929f48de9ccbebd5e68150b9e41?s=128&d=identicon&r=PG", "display_name": "jaymmer - Reinstate Monica", "link": "https://stackoverflow.com/users/605922/jaymmer-reinstate-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 28846135, "answer_count": 1, "score": 1, "last_activity_date": 1425440882, "creation_date": 1425436350, "question_id": 28845713, "link": "https://stackoverflow.com/questions/28845713/force-auto-increment-to-treat-its-argument-as-string", "title": "Force auto-increment to treat its argument as string", "body": "<p>I need Perl's <a href=\"http://perldoc.perl.org/perlop.html#Auto-increment-and-Auto-decrement\" rel=\"nofollow\">auto-increment magic</a> for strings, but some strings (such as those composed entirely of digits) are interpreted as numbers and a normal increment is performed instead. How would I force Perl to treat a value passed to <code>++</code> as a string?</p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1425445833, "post_id": 28844856, "comment_id": 45962382, "body": "If I understand what you&#39;re asking, you want to put defaults into an HTML form?  Like if it&#39;s a credit card payment form and you already know their zip code you can fill it in for them?"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 1, "last_activity_date": 1425446225, "creation_date": 1425446225, "answer_id": 28847122, "question_id": 28844856, "link": "https://stackoverflow.com/questions/28844856/pass-data-from-a-cgi-perl-script-to-an-html-form/28847122#28847122", "title": "Pass data from a CGI Perl script to an html form", "body": "<p>When you create the form, supply the information as defaults with <code>-defaults</code>.</p>\n\n<pre><code>print $obj-&gt;textfield( -name =&gt; 'name', -default =&gt; \"$fname $lname\");\n</code></pre>\n\n<p>Alternatively, write the HTML normally and use Javascript to query a Perl program that returns the user's information as JSON.  Javascript can then fill in the blanks.  That is the better way to do it, it allows front-end designers to work with the HTML without needing to know Perl.</p>\n"}], "owner": {"reputation": 3, "user_id": 4143222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fa97e632927670a5bbe972c208a7f6?s=128&d=identicon&r=PG&f=1", "display_name": "Dbavetta", "link": "https://stackoverflow.com/users/4143222/dbavetta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 28847122, "answer_count": 1, "score": 0, "last_activity_date": 1425446225, "creation_date": 1425430233, "question_id": 28844856, "link": "https://stackoverflow.com/questions/28844856/pass-data-from-a-cgi-perl-script-to-an-html-form", "title": "Pass data from a CGI Perl script to an html form", "body": "<p>Ive built a website using CGI and Perl that has a few pages to it. I have an account registration page that saves the the users information into a data file which can be accessed by the login page to actually sign the user in. The problem Im having here is that I have all this account information saved but I'm not sure how to display it back on an html page. I know how to generate a simple html page in the .cgi script itself but thats not what I want to do. I have a .css file that I've set up which does most of the entire websites formatting for me, I want to pre-build an html form and just load the saved data up on that but I'm not quite sure how to accomplish it in CGI Perl. </p>\n\n<p>As of right now I'm just generating a basic html page in the .cgi code as I mentioned before, like so </p>\n\n<pre><code>#Send the info back\nprint $obj-&gt;header( \"text/html\" ),\n$obj-&gt;start_html(\n    -title    =&gt; \"Form Data\",           \n    -topmargin =&gt;\"0\"\n    ),  \n$obj-&gt;h1(\"Submitted Form Data Detail\"),\n$obj-&gt;p(\"Name:  $fname $lname\"),\n$obj-&gt;p(\"Login name, password, and user name:  $login, $password, $email\"),\n$obj-&gt;p(\"Gender:  $gender\"),\n$obj-&gt;p(\"Streaming Services:  $stream_services2\"),  \n$obj-&gt;p(\"Comments: $comments\"),\n$obj-&gt;end_html;\n</code></pre>\n\n<p>Everywhere I've read online basically tried to use javascript or php which I dont want to do. Is there any way I can accomplish this in the perl code? Any suggestions or references would be greatly appreciated!</p>\n"}, {"tags": ["perl", "try-catch", "signals"], "answers": [{"tags": [], "owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "is_accepted": true, "score": 3, "last_activity_date": 1425443862, "last_edit_date": 1425443862, "creation_date": 1425433584, "answer_id": 28845336, "question_id": 28844851, "link": "https://stackoverflow.com/questions/28844851/die-reliably-in-response-to-a-signal/28845336#28845336", "title": "Die reliably in response to a signal", "body": "<p>If you want to end your program, you can call <a href=\"http://perldoc.perl.org/functions/exit.html\" rel=\"nofollow\">exit</a> from your signal function. If you have an <a href=\"http://perldoc.perl.org/perlmod.html#BEGIN%2C-UNITCHECK%2C-CHECK%2C-INIT-and-END\" rel=\"nofollow\">END</a> block, it will still execute that.</p>\n\n<p>Here's a code example. I used <code>SIGINT</code> for it, but <code>SIGALRM</code> works the same way.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Try::Tiny;\n\nsub sig_int_handler() {\n#   die \"Dying from SIGINT\\n\";\n    warn \"Exiting from SIGINT\\n\";\n    exit(128 | 2);   # 2 = SIGINT\n};\n\n$SIG{INT} = \\&amp;sig_int_handler;\nmy $i = 0;\ntry {\n    while (1) {\n\n    }\n} catch {\n    print \"caught exception\\n\";\n};\n\nprint \"continuing execution\\n\";\n</code></pre>\n\n<p>In this example, if you hit <code>ctrl-c</code> while it is running, it will exit without printing the two <code>print</code> statements. However if you uncomment the line with <code>die</code> on it in the <code>sig_int_handler</code> subroutine, it will print them both when you send the <code>INT</code> signal.</p>\n"}], "owner": {"reputation": 10537, "user_id": 1157237, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f2f62795a806ed2f35d96af1ba9a539e?s=128&d=identicon&r=PG", "display_name": "gcbenison", "link": "https://stackoverflow.com/users/1157237/gcbenison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 28845336, "answer_count": 1, "score": 1, "last_activity_date": 1425443862, "creation_date": 1425430205, "question_id": 28844851, "link": "https://stackoverflow.com/questions/28844851/die-reliably-in-response-to-a-signal", "title": "Die reliably in response to a signal", "body": "<p>The following code is supposed to time out after a certain period, due to arrival of SIGALRM -</p>\n\n<pre><code>sub sig_alrm_handler() { die \"Timed out, sorry\" }\n\n$SIG{ALRM} = \\&amp;sig_alrm_handler;\nmain();\n</code></pre>\n\n<p>Usually this approach works, except sometimes main() includes a Try::Tiny 'try' block which intercepts the \"die\" from sig_alrm_handler, effectively ignoring the timeout.  How can this approach be changed so that SIGALRM will reliably terminate the program, even when main() catches exceptions?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2279, "user_id": 827519, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/43dfb8ba76634e125e17aceafd92d254?s=128&d=identicon&r=PG", "display_name": "wsdookadr", "link": "https://stackoverflow.com/users/827519/wsdookadr"}, "edited": false, "score": 0, "creation_date": 1425425705, "post_id": 28843644, "comment_id": 45957142, "body": "Maybe build the regex string and when you have everything you need, only then create the regex object ? Would this work ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425446822, "post_id": 28843644, "comment_id": 45962625, "body": "btw, <code>caller</code> could provide default values for <code>$file</code> and <code>$line</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425488700, "post_id": 28843644, "comment_id": 45986429, "body": "@ikegami I thought about that.  It places too many assumptions on the error message being checked.  It won&#39;t always be <code>__LINE__-1</code> nor even <code>__FILE__</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425489799, "post_id": 28843644, "comment_id": 45987121, "body": "I did say they&#39;d be <i>defaults</i>, meaning you&#39;d only use <code>caller</code> when the file and line weren&#39;t provided."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425492226, "post_id": 28843644, "comment_id": 45988542, "body": "@ikegami They&#39;d be wrong more often than they&#39;re right, which makes poor defaults.  In most cases I&#39;d want to leave them off entirely... which says something about the current quality of the error messages.  One could make an argument for a file default to ensure the error at least got the right stack frame.  Anyhow, by putting it in a function rather than inlining the regexes I can add this feature later when the error quality improves."}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1425492428, "post_id": 28844204, "comment_id": 45988673, "body": "Thanks for the answer.  I considered that approach.  I like to avoid solutions based on escaping because it doesn&#39;t nest well.  BTW quotemeta can be done inline with <code>\\Q$file\\E</code>."}], "tags": [], "owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "is_accepted": false, "score": 1, "last_activity_date": 1425426237, "creation_date": 1425426237, "answer_id": 28844204, "question_id": 28843644, "link": "https://stackoverflow.com/questions/28843644/how-do-i-append-to-a-compiled-regex-in-perl/28844204#28844204", "title": "How do I append to a compiled regex in Perl?", "body": "<p>I would probably do something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $file = \"\\\\\\\\FILE\";\nmy $line = \"50\";\n\nmy $regex = _add_context(qr/^Something /ms,$file,$line);\n\nsub _add_context {\n    my ($reg, $file, $line) = @_;\n    my $file_regex = quotemeta $file;\n    my $line_regex = quotemeta $line;\n    return qr/${reg}${file_regex}${line_regex}/;\n}\n\nmy $string = &lt;&lt;'EOD';\ntest\nSomething \\\\FILE50\nEOD\n\nprint $string . \"\\n\";\nprint $regex . \"\\n\";\n\nif ( $string =~ /$regex/ ) {\n    print \"Match\\n\";    \n} else {\n    print \"No match\\n\"; \n}\n</code></pre>\n\n<p>It uses <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">quotemeta</a> and you can test it on <a href=\"https://ideone.com/1wP5J2\" rel=\"nofollow\">ideone</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1425488797, "post_id": 28846865, "comment_id": 45986481, "body": "Thanks, <code>qr[${re} ...]</code> is what I went with.  It felt yicky and I supposed there must be a better way."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1425481342, "last_edit_date": 1425481342, "creation_date": 1425444681, "answer_id": 28846865, "question_id": 28843644, "link": "https://stackoverflow.com/questions/28843644/how-do-i-append-to-a-compiled-regex-in-perl/28846865#28846865", "title": "How do I append to a compiled regex in Perl?", "body": "<p>There's no way to add to a compiled pattern without recompiling the entire new pattern. Even <code>/^$re$/</code> and <code>qr/^$re$/</code> needs to recompile the entire pattern (although <code>/$re/</code> doesn't). But if it'll ever be possible to extend already compiled patterns, surely <code>/^$re$/</code> and <code>qr/^$re$/</code> will do that. So that's your best option.</p>\n\n<pre><code>sub _add_context {\n    my ($re, $file, $line) = @_;\n    return qr/${re}at \\Q$file\\E line \\Q$line\\E\\.$/m;\n}\n</code></pre>\n\n<p>But should <code>/m</code> always be specified? What if you want the presence or absence of <code>/m</code> from <code>$re</code> to apply to the extended pattern? For that, you can use the following: </p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse re qw( is_regexp regexp_pattern );\n\nsub _add_context {\n    my ($re, $file, $line) = @_;\n    my $context_pat = \"at \\Q$file\\E line \\Q$line\\E\\\\.\\$\";\n\n    return $re . $context_pat\n        if !is_regexp($re);\n\n    my ($pat, $mods) = regexp_pattern($re);\n    my $context_mods = $mods =~ /m/ ? 'm' : '';\n    $re = eval('qr/$pat(?^$context_mods:$context_pat)/'.$mods)\n        or die($@);\n\n    return $re;\n}\n\n#line 1\nsay _add_context(qr{^Cannot have more than one slurpy parameter }ms, __FILE__, __LINE__);\nsay _add_context(qr{^Cannot have more than one slurpy parameter }s,  __FILE__, __LINE__);\nsay _add_context(qr{^Cannot have more than one slurpy parameter }is, __FILE__, __LINE__);\nsay _add_context(  \"^Cannot have more than one slurpy parameter \",   __FILE__, __LINE__);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>(?^ms:^Cannot have more than one slurpy parameter (?^m:at a\\.pl line 1\\.$))\n(?^s:^Cannot have more than one slurpy parameter (?^:at a\\.pl line 2\\.$))\n(?^si:^Cannot have more than one slurpy parameter (?^:at a\\.pl line 3\\.$))\n^Cannot have more than one slurpy parameter at a\\.pl line 4\\.$\n</code></pre>\n"}], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 28846865, "answer_count": 2, "score": 1, "last_activity_date": 1425481342, "creation_date": 1425423512, "last_edit_date": 1425444899, "question_id": 28843644, "link": "https://stackoverflow.com/questions/28843644/how-do-i-append-to-a-compiled-regex-in-perl", "title": "How do I append to a compiled regex in Perl?", "body": "<p>I'm writing functions to generate regular expressions to match various error messages.  For example...</p>\n\n<pre><code>sub more_than_one_slurpy_error {\n    return qr{^Cannot have more than one slurpy parameter }ms;\n}\n</code></pre>\n\n<p>Then I can use them for testing to make it easier to deal with small changes in error messages.</p>\n\n<pre><code>eval q[ method two_array_params ($a, @b, @c) {} ];\nlike $@, more_than_one_slurpy_error;\n</code></pre>\n\n<p>I would like to optionally allow the user to pass in the file and line number they expect the error to come from.</p>\n\n<pre><code>eval q[ method two_array_params ($a, @b, @c) {} ];\nlike $@, more_than_one_slurpy_error(__FILE__, __LINE__-1);\n</code></pre>\n\n<p>I would write something like...</p>\n\n<pre><code>sub more_than_one_slurpy_error {\n    my($file, $line) = @_;\n    return _add_context(\n        qr{^Cannot have more than one slurpy parameter }ms,\n        $file, $line\n    );\n}\n</code></pre>\n\n<p>The end result would be <code>qr{^Cannot have more than one slurpy parameter at \\Q$file\\E line \\Q$line\\E\\.$}ms</code>.</p>\n\n<p>What would <code>_add_context</code> look like?  How do I append to a compiled regex, or accomplish this using a better method?</p>\n"}, {"tags": ["regex", "perl", "variables", "csv"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1425419124, "post_id": 28842093, "comment_id": 45954090, "body": "Most CSV parsers have options that include a header as the first record. That usually gives the amount of columns. You can always parse the records yourself and extract any column you like, based on the field data that you could examine with your regexes."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1425462435, "post_id": 28842093, "comment_id": 45969423, "body": "An alternative approach is to set up a relational database in which you retain the original data in separate tables and build up the inferred table with <code>SELECT</code> ... <code>UNION</code> queries (or <code>INSERT</code> ... <code>SELECT</code>).  That way you can always any mistakes in your inferences.  You could use <a href=\"http://search.cpan.org/perldoc?DBD::CSV\" rel=\"nofollow noreferrer\"><code>DBD::CSV</code></a> to read the tables and <a href=\"http://search.cpan.org/perldoc?DBD::SQLite\" rel=\"nofollow noreferrer\"><code>DBD::SQLite</code></a> to create the database."}], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 3842777, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bFxen.jpg?s=128&g=1", "display_name": "JDE876", "link": "https://stackoverflow.com/users/3842777/jde876"}, "edited": false, "score": 0, "creation_date": 1425500936, "post_id": 28842554, "comment_id": 45993585, "body": "what if there is no header to read or the header does not match the given layout, and I want to put those rows in a separate file? @ikegami"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1425501804, "last_edit_date": 1425501804, "creation_date": 1425419188, "answer_id": 28842554, "question_id": 28842093, "link": "https://stackoverflow.com/questions/28842093/parse-csv-based-on-random-header-layout-perl/28842554#28842554", "title": "Parse CSV based on random header layout perl", "body": "<p>You never use <code>$name1</code>, <code>$name2</code>, etc, much less in a match (or substitution) operator, so you ever execute any regex match.</p>\n\n<pre><code>my $field_names = $csv_fh-&gt;header();\n\nmy ($name1_header) = grep /First Name|^Name$|1st Name/i,     @$field_names;\nmy ($name2_header) = grep /Last Name|Maiden Name|2nd Name/i, @$field_names;\nmy ($dob_header  ) = grep /date of birth|D\\.O\\.B/i,          @$field_names;\nmy ($city_header ) = grep /city|town/i,                      @$field_names;\n\nmy @recognized_fields = ( $name1_header, $name2_header, $dob_header, $city_header );\nmy %recognized_fields = map { $_ =&gt; 1 } @recognized_fields;\nmy @other_headers = grep !$recognized_fields{$_}, @$field_names;\n\nwhile (my $row = &lt;$csv_fh&gt;) {\n   my $name1 = $name1_header ? $row-&gt;{$name1_header} : undef;\n   my $name2 = $name2_header ? $row-&gt;{$name2_header} : undef;\n   my $dob   = $dob_header   ? $row-&gt;{$dob_header  } : undef;\n   my $city  = $city_header  ? $row-&gt;{$city_header } : undef;\n\n   my @other_fields = @$row{@other_headers};\n\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 3842777, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bFxen.jpg?s=128&g=1", "display_name": "JDE876", "link": "https://stackoverflow.com/users/3842777/jde876"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 28842554, "answer_count": 1, "score": 1, "last_activity_date": 1425501804, "creation_date": 1425417590, "question_id": 28842093, "link": "https://stackoverflow.com/questions/28842093/parse-csv-based-on-random-header-layout-perl", "title": "Parse CSV based on random header layout perl", "body": "<p>I am trying some code using Tie::Handle::CSV, however I suppose this could be done using other modules or none at all.</p>\n\n<p>What I want to do is take a file of random layout and match it to what I predict the headers will be.  Then I want to arrange it to my table structure.</p>\n\n<p><strong>DATA</strong></p>\n\n<p>First Name,last name,date of birth<br>\nJim,Johansen,08/25/1989  </p>\n\n<p>OR</p>\n\n<p>2nd Name,1st Name,D.O.B<br>\nJohansen,Jim,08/25/1989  </p>\n\n<p>OR</p>\n\n<p>2nd Name,1st Name,D.O.B,city,county<br>\nJohansen,Jim,08/25/1989,milwaukee,N/A  </p>\n\n<p>As you can see, I have varying data structures.  I want it to arrange them to my schema, even if the fields I request are empty.  The way I want to do this is by searching my input with my column variables.</p>\n\n<p>Here is what I am trying.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>use Tie::Handle::CSV;\nmy $name1 =qr/First Name|Name|1st Name/i;\nmy $name2 =qr/Last Name|Maiden Name|2nd Name/i;\nmy $date_of_birth =qr/date of birth|D.O.B/i;\nmy $city =qr/city|town/i;\n   my $csv_fh = Tie::Handle::CSV-&gt;new('list.txt', header =&gt; 1);\n   while (my $csv_line = &lt;$csv_fh&gt;)\n      {\n      print $csv_line-&gt;{'$date_of_birth'}.\",\".$csv_line-&gt;{'$name1'}.\" \".$csv_line-&gt;{'$name2'}.\",\".$csv_line-&gt;{'$city'}.\\n\";  ##note I am searching for the column {$'colummn regex'} instead of {'column'} to see if my input file matches any of the header options.\n      }\n   close $csv_fh;\n</code></pre>\n\n<p>My output is blank since this module is not understanding the regex I am implimenting.  However, my output would contain the columns specified if I used their literal names, i.e.</p>\n\n<p>The out put I want would be:</p>\n\n<p><strong>Scenario 1</strong></p>\n\n<p>Date of Birth,Name,City  ##my implemented header<br>\n08/25/1989,Jim Johansen,  ##noting also that if there is no 'city' in the input  data, leave blank.</p>\n\n<p><strong>Scenario 2</strong></p>\n\n<p>Date of Birth,Name,City  ##my implemented header<br>\n08/25/1989,Jim Johansen,  </p>\n\n<p><strong>Scenario 3</strong>\nDate of Birth,Name,City  ##my implemented header<br>\n08/25/1989,Jim Johansen,milwaukee  </p>\n\n<p>Perhaps there is a better option than a module or even my regex variables.  Has anyone had to parse csvs in ever changing layouts?</p>\n"}, {"tags": ["apache", "perl", "mod-perl"], "answers": [{"comments": [{"owner": {"reputation": 3844, "user_id": 711654, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Eyh5u.jpg?s=128&g=1", "display_name": "Boris Ivanov", "link": "https://stackoverflow.com/users/711654/boris-ivanov"}, "edited": false, "score": 0, "creation_date": 1425474653, "post_id": 28841175, "comment_id": 45976635, "body": "Did it as u and article told. Now I am getting 200 OK with Content-type httpd/unix-directory"}], "tags": [], "owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "is_accepted": false, "score": 2, "last_activity_date": 1425413954, "creation_date": 1425413954, "answer_id": 28841175, "question_id": 28838496, "link": "https://stackoverflow.com/questions/28838496/mod-perl-how-to-return-511-status/28841175#28841175", "title": "mod_perl How to return 511 status?", "body": "<p>ModPerl 2?</p>\n\n<p>You can use <code>$r-&gt;status_line(\"511 Network Authentication Requred\")</code> and then return <code>Apache2::Const::OK</code> (0) </p>\n\n<p>See: <a href=\"http://perl.apache.org/docs/2.0/api/Apache2/RequestRec.html#C_status_line_\" rel=\"nofollow\">http://perl.apache.org/docs/2.0/api/Apache2/RequestRec.html#C_status_line_</a></p>\n"}, {"tags": [], "owner": {"reputation": 3844, "user_id": 711654, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Eyh5u.jpg?s=128&g=1", "display_name": "Boris Ivanov", "link": "https://stackoverflow.com/users/711654/boris-ivanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1430235017, "creation_date": 1430235017, "answer_id": 29923626, "question_id": 28838496, "link": "https://stackoverflow.com/questions/28838496/mod-perl-how-to-return-511-status/29923626#29923626", "title": "mod_perl How to return 511 status?", "body": "<p>I solved that issue. \nIt has nothing to do with ModPerl2 but Apache itself.\nIt is not a problem for Apache 2.4 only 2.2 affected.\nAfter looking into Apache 2.2 source code and patching some lines to accept 511 (you can copy/paste those lines from source of Apache 2.4) it starts correctly to return code 511.</p>\n"}], "owner": {"reputation": 3844, "user_id": 711654, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Eyh5u.jpg?s=128&g=1", "display_name": "Boris Ivanov", "link": "https://stackoverflow.com/users/711654/boris-ivanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1430235017, "creation_date": 1425404976, "last_edit_date": 1425483147, "question_id": 28838496, "link": "https://stackoverflow.com/questions/28838496/mod-perl-how-to-return-511-status", "title": "mod_perl How to return 511 status?", "body": "<p>I am writing perl handler for Apache2.</p>\n\n<p>This is my config:</p>\n\n<pre><code>PerlModule xxx::andsf \n&lt;Location / &gt;\n  SetHandler perl-script\n  PerlHandler xxx::andsf\n  PerlSendHeader On\n&lt;/Location&gt;\n</code></pre>\n\n<p>My handler need to return to client 511 HTTP Status code.\nYou can read about 511 here:</p>\n\n<ul>\n<li><a href=\"http://www.askapache.com/net/http-status-odes.html#Network_Authentication_Required\" rel=\"nofollow\">http://www.askapache.com/net/http-status-odes.html#Network_Authentication_Required</a></li>\n<li><a href=\"http://greenbytes.de/tech/webdav/rfc6585.html#status-511\" rel=\"nofollow\">http://greenbytes.de/tech/webdav/rfc6585.html#status-511</a></li>\n</ul>\n\n<p>if my code \n   return 505;\nI receive correct status <strong>505 HTTP Version not supported</strong>.\nBut if I put\n   return 511;\nI get <strong>500 - Internal server error.</strong>\nIt seems Apache ignoring <strong>strange</strong> error code.</p>\n\n<p>Any ideas how to return 511?</p>\n\n<p><strong>Update</strong> handler's code:</p>\n\n<pre><code>package xxx::andsf;\nuse Apache2::Const\n  qw( :common );\nuse Apache2::RequestRec ();\nuse Apache2::RequestIO  ();\n\nsub handler {\n  my $r = shift;\n  $r-&gt;status_line(\"511 Network Authentication Requred\");\n  return Apache2::Const::OK;\n}\n1;\n</code></pre>\n"}, {"tags": ["regex", "perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "edited": false, "score": 0, "creation_date": 1425402436, "post_id": 28837716, "comment_id": 45944822, "body": "What if there are other backslashes in the file that OP wants to keep?"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "edited": false, "score": 0, "creation_date": 1425402614, "post_id": 28837716, "comment_id": 45944950, "body": "Yes I updated the answer with more precise regex using <code>perl</code>"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425402949, "post_id": 28837716, "comment_id": 45945159, "body": "Thanks so much @ikegami"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 2, "creation_date": 1425409338, "post_id": 28837716, "comment_id": 45948892, "body": "Excellent, this is exactly what I was looking for. However, does somebody knows why it works with Perl, but not with PCRE? <a href=\"https://regex101.com/r/cL3iU3/1\" rel=\"nofollow noreferrer\">regex101.com/r/cL3iU3/1</a>"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1425409803, "post_id": 28837716, "comment_id": 45949106, "body": "Actually it works, just need to exclude <code>\\n</code> in regex match. <a href=\"https://regex101.com/r/vE8mX2/1\" rel=\"nofollow noreferrer\">See this demo</a>"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 1, "last_activity_date": 1425403176, "last_edit_date": 1425403176, "creation_date": 1425402341, "answer_id": 28837716, "question_id": 28837660, "link": "https://stackoverflow.com/questions/28837660/how-to-replace-backslashes-with-forward-slashes-in-all-include/28837716#28837716", "title": "How to replace backslashes with forward slashes in all #include &quot;...\\...&quot;", "body": "<p>Using <code>perl</code>:</p>\n\n<pre><code>perl -pe 's~(?:#include|(?!^)\\G)[^\\\\]*\\K\\\\~/~g' file\n#include \"foo/bar/something/else\"\n#include \"../../foo.h\"\n</code></pre>\n\n<p>Using <code>sed</code>:</p>\n\n<pre><code>sed '/#include/s~\\\\~/~g' file\n#include \"foo/bar/something/else\"\n#include \"../../foo.h\"\n</code></pre>\n\n<p>Or if you want to replace all <code>\\</code> with <code>/</code> then use <code>tr</code>:</p>\n\n<pre><code>tr '\\\\' \"/\" &lt; file\n#include \"foo/bar/something/else\"\n#include \"../../foo.h\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "is_accepted": false, "score": 0, "last_activity_date": 1425402845, "last_edit_date": 1425402845, "creation_date": 1425402499, "answer_id": 28837765, "question_id": 28837660, "link": "https://stackoverflow.com/questions/28837660/how-to-replace-backslashes-with-forward-slashes-in-all-include/28837765#28837765", "title": "How to replace backslashes with forward slashes in all #include &quot;...\\...&quot;", "body": "<p>Yo can use <code>sed</code></p>\n\n<pre><code>sed 's|\\|/||g' file\n#include \"foo\\bar\\something\\else\"\n#include \"..\\..\\foo.h\"\n</code></pre>\n\n<p>Replace only in lines with <code>#include</code></p>\n\n<pre><code>sed '/#include/s|\\\\|/|g' file\n#include \"foo/bar/something/else\"\n#include \"../../foo.h\"\n</code></pre>\n\n<p>\n\n<pre><code>awk '/^#include/ {gsub(/\\\\/,\"/\")}1' file\n#include \"foo/bar/something/else\"\n#include \"../../foo.h\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1425403172, "post_id": 28837813, "comment_id": 45945295, "body": "Actually in my brief testing <code>sed</code> solution is coming up way faster than both <code>perl</code> solutions"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1425403236, "post_id": 28837813, "comment_id": 45945338, "body": "I&#39;m surprised at all. I hadn&#39;t noticed your <code>sed</code> solution, and I have adjusted my answer accordingly."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1425408459, "last_edit_date": 1425408459, "creation_date": 1425402666, "answer_id": 28837813, "question_id": 28837660, "link": "https://stackoverflow.com/questions/28837660/how-to-replace-backslashes-with-forward-slashes-in-all-include/28837813#28837813", "title": "How to replace backslashes with forward slashes in all #include &quot;...\\...&quot;", "body": "<pre><code>perl -pe'tr{\\\\}{/} if /^\\s*#\\s*include/'\n</code></pre>\n\n<p>Some of the text is matched against twice, but the amount is very minor. The alternative (as seen in anubhava's answer) is rather messy and probably ends up being no faster than matching against some of the text twice.</p>\n\n<p>A <code>sed</code> version of this approach has since been added to anubhava's answer, and it's faster.</p>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 28837716, "answer_count": 3, "score": 2, "last_activity_date": 1425408459, "creation_date": 1425402194, "last_edit_date": 1425402820, "question_id": 28837660, "link": "https://stackoverflow.com/questions/28837660/how-to-replace-backslashes-with-forward-slashes-in-all-include", "title": "How to replace backslashes with forward slashes in all #include &quot;...\\...&quot;", "body": "<p>I am wondering if it is possible to replace in files statements like: </p>\n\n<pre><code>#include \"foo\\bar\\something\\else\"\n#include \"..\\..\\foo.h\"\n</code></pre>\n\n<p>with </p>\n\n<pre><code>#include \"foo/bar/something/else\"\n#include \"../../foo.h\"\n</code></pre>\n\n<p>I can use Perl pie or sed multiple times with:</p>\n\n<pre><code>s|(\\#include.*)\\\\|\\1/|\n</code></pre>\n\n<p>But I would like to know if there is something like a first directive in a regex <em>i.e.</em> <code>s|^#include\\Z\\\\|/|g</code> where <code>\\Z</code> is the modifier I am looking for.</p>\n\n<p><strong>EDIT</strong>\nOf course I shall only replace backslashes on a #include directive. </p>\n\n<pre><code>s@\\@/@g\n</code></pre>\n\n<p>Will not work in my case</p>\n"}, {"tags": ["json", "perl", "webpage"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1425398893, "post_id": 28836360, "comment_id": 45942418, "body": "Take a look at <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize</code></a>, or if the page requires JavaScript, <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize::Firefox</code></a>, <a href=\"https://metacpan.org/pod/WWW::Mechanize::PhantomJS\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize::PhantomJS</code></a>, or one of their buddies."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425400975, "post_id": 28836360, "comment_id": 45943851, "body": "We need a bit more detail about what you&#39;re trying to accomplish. At a basic level <code>LWP</code> can fetch web pages and then you can dump the content to a file."}, {"owner": {"reputation": 11, "user_id": 3715425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e6aa9963467f6d3cd35aa2b0fb5821?s=128&d=identicon&r=PG&f=1", "display_name": "Karlyr", "link": "https://stackoverflow.com/users/3715425/karlyr"}, "edited": false, "score": 0, "creation_date": 1425402699, "post_id": 28836360, "comment_id": 45945004, "body": "well, I need to get the content of a web page (which is a json file) into a variable in perl (array/hash of arrays/hashes).  I have the exact url of the location of that file. It&#39;s a request to an API in short. so it returns me a text file containing the information that I need."}, {"owner": {"reputation": 11, "user_id": 3715425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e6aa9963467f6d3cd35aa2b0fb5821?s=128&d=identicon&r=PG&f=1", "display_name": "Karlyr", "link": "https://stackoverflow.com/users/3715425/karlyr"}, "edited": false, "score": 0, "creation_date": 1425402806, "post_id": 28836360, "comment_id": 45945069, "body": "I found my way with WWW::Mechanize. thanks ThisSuitIsBlackNot"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1425401876, "creation_date": 1425401876, "answer_id": 28837531, "question_id": 28836360, "link": "https://stackoverflow.com/questions/28836360/saving-a-webpage-for-perl-use/28837531#28837531", "title": "Saving a webpage for perl use", "body": "<p>If you just want a command line program to download and save a web page then look at <a href=\"https://www.gnu.org/software/wget/\" rel=\"nofollow\">wget</a>, <a href=\"http://curl.haxx.se/\" rel=\"nofollow\">curl</a> or <a href=\"https://metacpan.org/pod/distribution/libwww-perl/bin/lwp-request\" rel=\"nofollow\">lwp-request</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425414658, "post_id": 28837689, "comment_id": 45951774, "body": "Re &quot;you may find it useful to parse the JSON using the JSON library and potentially save the parsed JSON using Storable.&quot;, I don&#39;t think any such person exists."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1425414544, "last_edit_date": 1425414544, "creation_date": 1425402257, "answer_id": 28837689, "question_id": 28836360, "link": "https://stackoverflow.com/questions/28836360/saving-a-webpage-for-perl-use/28837689#28837689", "title": "Saving a webpage for perl use", "body": "<p>At a very basic level you can get a web page like this using <a href=\"http://search.cpan.org/dist/libwww-perl/lib/LWP.pm\" rel=\"nofollow\"><code>LWP</code></a>:</p>\n\n<pre><code># Create a user agent object\nuse LWP::UserAgent;\nuse HTTP::Request::Common qw( POST );\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;agent(\"MyApp/0.1 \");\n\n# Create a request\nmy $req = POST('http://search.cpan.org/search', [\n   query =&gt; 'libwww-perl',\n   mode  =&gt; 'dist',\n]);\n\n# Pass request to the user agent and get a response back\nmy $res = $ua-&gt;request($req);\n\n# Check the outcome of the response\nif ($res-&gt;is_success) {\n    print $res-&gt;content;\n}\nelse {\n    die $res-&gt;status_line . \"\\n\";\n}\n</code></pre>\n\n<p>You can write <code>$res -&gt; content</code> to a file easily enough, and that saves the JSON. </p>\n\n<p>If it's JSON, you may find it useful to parse the JSON using the <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm\" rel=\"nofollow\"><code>JSON</code></a> library and potentially save the parsed JSON using <a href=\"http://perldoc.perl.org/Storable.html\" rel=\"nofollow\"><code>Storable</code></a>. (I'd generally suggest just saving the JSON as text and parsing it each time you load, but thought I'd offer <code>Storable</code> as it's quite a good way to turn an arbitrary perl data structure to an object on disk. )</p>\n"}], "owner": {"reputation": 11, "user_id": 3715425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e6aa9963467f6d3cd35aa2b0fb5821?s=128&d=identicon&r=PG&f=1", "display_name": "Karlyr", "link": "https://stackoverflow.com/users/3715425/karlyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1425414544, "creation_date": 1425398700, "question_id": 28836360, "link": "https://stackoverflow.com/questions/28836360/saving-a-webpage-for-perl-use", "title": "Saving a webpage for perl use", "body": "<p>I'm trying to save a webpage during one of my perl scripts, but currently I can't find a way to properly save or get its content.</p>\n\n<p>The web page content is basically a json file.</p>\n\n<p>I looked for the chrome command line option \"--save-page-as-mhtml\" but I couldn't find a way to pass him the save location.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425395853, "post_id": 28835256, "comment_id": 45940238, "body": "priority queue. if i push based on the length of  $CS, PQ will keep it in order so it would be O(1) for pop. but im not sure if its shareable"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425395870, "post_id": 28835256, "comment_id": 45940244, "body": "im using threads::shared"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1425396053, "post_id": 28835256, "comment_id": 45940387, "body": "I think this might need a bit more clarification what you&#39;re trying to accomplish and why. You&#39;re iterating keys and values in a hash, which may not be exactly what you&#39;re after. I don&#39;t think you can find the longest any more efficiently than O(N) simply because one way or another, you need to inspect every element at least once."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425396854, "post_id": 28835256, "comment_id": 45940959, "body": "Adding the N items to the queue is at least O(N)"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1425396879, "post_id": 28835256, "comment_id": 45940985, "body": "im okay with insertion being O(N)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425396926, "post_id": 28835256, "comment_id": 45941020, "body": "I don&#39;t know what you mean by that. You asked if finding the longest using a PQ would take less than O(N). The answer is no."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1425397071, "post_id": 28835256, "comment_id": 45941127, "body": "yes it would. its just a pop which is O(1)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425397121, "post_id": 28835256, "comment_id": 45941158, "body": "No, O(N + 1) = O(N). And I just checked. Inserting into Hash::PriorityQueue is far worse than O(N) because it checks if the item is already in the queue. That makes it O(N^2)!!!"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1425397406, "post_id": 28835256, "comment_id": 45941355, "body": "Inserting happens on a separate thread which i dont care about"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1425397444, "post_id": 28835256, "comment_id": 45941389, "body": "Inserting can be worse than O(N) for all i know. In this context, pop is a separate operation from insertion. and now pop is O(N) since im iterating. i want it to be less than than if possible"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1425397549, "post_id": 28835256, "comment_id": 45941470, "body": "i was just thinking of different ways while writing this question., i think using PQ is &quot;a&quot; way or maybe using other data structures. but im not sure if such data structure is thread-safe and sharable."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425397635, "post_id": 28835256, "comment_id": 45941535, "body": "You can make a thread-safe PQ."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425397933, "post_id": 28835256, "comment_id": 45941744, "body": "Sounds like you want to have threads processing a number of items in order of length. The best way to do that would be to sort the strings by length and use a Thread::Queue. Then, the workers will start working on the items in the right order. They might finish in the wrong order, though, You&#39;ll need more if you wish to prevent that. We can&#39;t help you if you don&#39;t tell us what your problem is."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425401490, "post_id": 28835256, "comment_id": 45944204, "body": "I&#39;m not sure exactly what you&#39;re trying to do, but if you&#39;re just trying to get the length of the longest string in a list, <a href=\"http://perldoc.perl.org/List/Util.html#%24num-=-max-@list\" rel=\"nofollow noreferrer\"><code>List::Util::max</code></a> will be significantly faster than the code you&#39;ve shown, although still O(N)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425402040, "post_id": 28835256, "comment_id": 45944564, "body": "@ThisSuitIsBlackNot, Actually, that&#39;s <a href=\"https://gist.github.com/anonymous/0a5b893f1540492ed2e4\" rel=\"nofollow noreferrer\">slower</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425402684, "post_id": 28835256, "comment_id": 45944995, "body": "@ikegami I ran your benchmark three times and maxmap was the winner every time. Granted, the margin was smaller than I got with my own benchmark earlier, but still..."}], "answers": [{"comments": [{"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1425396249, "post_id": 28835439, "comment_id": 45940504, "body": "but whats the cost for sorting the string?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 2, "creation_date": 1425398006, "post_id": 28835439, "comment_id": 45941798, "body": "Sorting can be as good as O(N log N), but it&#39;s O(N^2) using Hash::PriorityQueue because it checks for duplicates entries."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1425400843, "post_id": 28835439, "comment_id": 45943756, "body": "Turns out sorting can be as good as O(N) in this particular case (<code>push @{ $sorted[ length($_) ] }, $length for @inputs;</code>) because we can effectively compare one element to all elements at once."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1425399324, "last_edit_date": 1425399324, "creation_date": 1425396068, "answer_id": 28835439, "question_id": 28835256, "link": "https://stackoverflow.com/questions/28835256/perl-getting-the-maximum-length-of-a-value-in-a-perl-better-than-on/28835439#28835439", "title": "Perl: getting the maximum length of a value in a perl, better than O(N)?", "body": "<blockquote>\n  <p>Can the above be done in better than O(N)? Maybe in a different data structure other than a hash?</p>\n</blockquote>\n\n<p>No, finding the longest of N items can't normally be done in less than O(N).</p>\n\n<p>With no extra information, it's impossible to find the longest of N elements in less than O(N) time since it requires getting the length of all N strings. Dividing the work between threads divides the work by a factor, so the best solution remains O(N).</p>\n\n<p>If you have extra information, then a solution that's better than O(N) could possibly be devised. For example, if the strings are sorted by length, there exists an O(1) solution.</p>\n\n<blockquote>\n  <p>Is a priority queue shareable between threads?</p>\n</blockquote>\n\n<p>Any data structure can be made thread-safe.</p>\n\n<blockquote>\n  <p>Can <a href=\"http://search.cpan.org/perldoc?Hash::PriorityQueue\" rel=\"nofollow\">Hash::PriorityQueue</a> be shared between threads using <a href=\"http://search.cpan.org/perldoc?threads::shared\" rel=\"nofollow\">threads::shared</a>?</p>\n</blockquote>\n\n<p>No.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1425399649, "creation_date": 1425399649, "answer_id": 28836696, "question_id": 28835256, "link": "https://stackoverflow.com/questions/28835256/perl-getting-the-maximum-length-of-a-value-in-a-perl-better-than-on/28836696#28836696", "title": "Perl: getting the maximum length of a value in a perl, better than O(N)?", "body": "<p>To discover the longest hash value, every value has to be measured and compared. That is an O(N) operation.</p>\n\n<p>Computer processors don't really do several things at once - the software just makes it seem that way. So unless you have a way of using multiple processors simultaneously, your idea will simply waste time splitting the process into multiple threads that cannot be executed in parallel.</p>\n\n<p>Parallelism is generally useful only for something like IO operations that <em>can</em> run simultaneously.</p>\n\n<p>If you are having problems with the speed of execution, then your best solution is to keep a separate sorted list of the hash values as the hash is created, if that is possible.</p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1425399649, "creation_date": 1425395499, "last_edit_date": 1425399172, "question_id": 28835256, "link": "https://stackoverflow.com/questions/28835256/perl-getting-the-maximum-length-of-a-value-in-a-perl-better-than-on", "title": "Perl: getting the maximum length of a value in a perl, better than O(N)?", "body": "<pre><code>my $max_cs = 0;\nforeach my $cs (values %{$j{$type}}) {\n    $max_cs = length($cs) &gt; $max_cs ? length($cs) : $max_cs;\n}\n</code></pre>\n\n<p>Can the above be done in better than O(N)? Maybe in a different data structure other than a hash?</p>\n\n<p>Is a priority queue shareable between threads?</p>\n\n<p>Can <a href=\"http://search.cpan.org/perldoc?Hash::PriorityQueue\" rel=\"nofollow\">Hash::PriorityQueue</a> be shared between threads using <a href=\"http://search.cpan.org/perldoc?threads::shared\" rel=\"nofollow\">threads::shared</a>?</p>\n"}, {"tags": ["perl", "redhat"], "comments": [{"owner": {"reputation": 3881, "user_id": 1337398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EL4Rs.png?s=128&g=1", "display_name": "speakr", "link": "https://stackoverflow.com/users/1337398/speakr"}, "edited": false, "score": 2, "creation_date": 1425395531, "post_id": 28835191, "comment_id": 45939988, "body": "Why don&#39;t you change the directory permissions to 775, then change the group owner to, let&#39;s say &quot;somegroup&quot;, then add your user to that group?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3007526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6387c09c3a5b17a633044e9a9addbceb?s=128&d=identicon&r=PG&f=1", "display_name": "user3007526", "link": "https://stackoverflow.com/users/3007526/user3007526"}, "edited": false, "score": 0, "creation_date": 1425460972, "post_id": 28836234, "comment_id": 45968503, "body": "yes the directory is under /etc/ and I have to give other user(rajesh) to write permission for that particular directory. I can&#39;t create any group."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1, "user_id": 3007526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6387c09c3a5b17a633044e9a9addbceb?s=128&d=identicon&r=PG&f=1", "display_name": "user3007526", "link": "https://stackoverflow.com/users/3007526/user3007526"}, "edited": false, "score": 0, "creation_date": 1425480700, "post_id": 28836234, "comment_id": 45980803, "body": "@user3007526 Why are you able to modify <code>&#47;etc&#47;sudoers</code> but unable to create a group? Regardless, as David said, you probably don&#39;t want random users writing to system directories anyway. What directory are you trying to write to and what exactly are you trying to do?"}], "tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1425398363, "creation_date": 1425398363, "answer_id": 28836234, "question_id": 28835191, "link": "https://stackoverflow.com/questions/28835191/running-perl-file-as-other-user-to-modify-directory-with-root-permission-755/28836234#28836234", "title": "running perl file as other user to modify directory with root permission 755", "body": "<p>What is the issue about changing the directory's permission? What about changing ownership, so user rajesh<code>owns that particular directory? Even if the directory was owned by</code>rajesh<code>, user</code>root` would also have write permissions.</p>\n\n<p>Is this a directory like <code>/usr/bin</code> or <code>/etc</code> that is normally owned by <code>root</code>? In that case, I wouldn't want any user writing to those particular directories at all.</p>\n\n<p>What about adding user <code>rajesh</code> to a group, and then set the group ownership of that directory to the group you put <code>rajesh</code> in, and then changing the permissions to <code>775</code>. User <code>rajash</code> could write to that directory, but still not write to other directories owned by root.</p>\n"}], "owner": {"reputation": 1, "user_id": 3007526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6387c09c3a5b17a633044e9a9addbceb?s=128&d=identicon&r=PG&f=1", "display_name": "user3007526", "link": "https://stackoverflow.com/users/3007526/user3007526"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425398363, "creation_date": 1425395294, "question_id": 28835191, "link": "https://stackoverflow.com/questions/28835191/running-perl-file-as-other-user-to-modify-directory-with-root-permission-755", "title": "running perl file as other user to modify directory with root permission 755", "body": "<p>I have a perl file that I am executing as other user(Rajesh).\nThat is trying to write a file into a directory which is owned by root and has 755 as directory permission. There are other directories also but I don't want user(Rajesh) to write into them only that particular directory.</p>\n\n<p>How can I achieve this without modifying directory permission to 777.\nI am free to modify /etc/sudoers.\nOther suggestions are welcome(I am using red-hat 6)</p>\n\n<p>Regards,\nKuwarbi</p>\n"}, {"tags": ["perl", "dbi", "argv"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1425396994, "post_id": 28834790, "comment_id": 45941065, "body": "Why not <code>(&quot;dbi:Oracle:$ARGV[0]&quot;, \u2026)</code>?  The pair of adjacent single quotes is a little pointless anyway, isn&#39;t it, being intended to concatenate an empty string?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4616308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8640847879b9d988cecf2b3249cb5cc?s=128&d=identicon&r=PG&f=1", "display_name": "MaverickMegastah", "link": "https://stackoverflow.com/users/4616308/maverickmegastah"}, "edited": false, "score": 0, "creation_date": 1425583015, "post_id": 28834856, "comment_id": 46032891, "body": "Thanks ikegami. I have stored passwords in a shell script which I am using to run the perl script."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 4616308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8640847879b9d988cecf2b3249cb5cc?s=128&d=identicon&r=PG&f=1", "display_name": "MaverickMegastah", "link": "https://stackoverflow.com/users/4616308/maverickmegastah"}, "edited": false, "score": 0, "creation_date": 1425585219, "post_id": 28834856, "comment_id": 46034263, "body": "You could use an environment var (e.g. <code>PASSWORD=foo perl -E&#39;say $ENV{PASSWORD}&#39;</code>), or pipe it in via STDIN"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1425402550, "last_edit_date": 1425402550, "creation_date": 1425394361, "answer_id": 28834856, "question_id": 28834790, "link": "https://stackoverflow.com/questions/28834790/argv-arguments-syntax-in-dbi/28834856#28834856", "title": "ARGV arguments syntax in DBI", "body": "<p><code>.</code> is the concatenation operator.</p>\n\n<pre><code>DBI-&gt;connect('dbi:Oracle:' . $ARGV[0], 'XXXXXXXXXXX', $ARGV[1])\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>DBI-&gt;connect(\"dbi:Oracle:$ARGV[0]\", 'XXXXXXXXXXX', $ARGV[1])\n</code></pre>\n\n<p>By the way, you shouldn't pass passwords on the command line since they can be seen by other users on the machine.</p>\n"}], "owner": {"reputation": 11, "user_id": 4616308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8640847879b9d988cecf2b3249cb5cc?s=128&d=identicon&r=PG&f=1", "display_name": "MaverickMegastah", "link": "https://stackoverflow.com/users/4616308/maverickmegastah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425402550, "creation_date": 1425394165, "question_id": 28834790, "link": "https://stackoverflow.com/questions/28834790/argv-arguments-syntax-in-dbi", "title": "ARGV arguments syntax in DBI", "body": "<p>I am trying to connect to different instances of oracle databases by passing values through the DBI command but still can't. What I am using now is:</p>\n\n<pre><code>$dbh = DBI-&gt;connect('dbi:Oracle:'$ARGV[0]'','XXXXXXXXXXX', '$ARGV[1]')\nor die \"Connection Error: $DBI::errstr\\n\";\n</code></pre>\n\n<p>I tried printing ARGV[0] and ARGV[1] and it's giving me syntax errors even when I try different combinations of ' &amp; \". Am i doing something evidently wrong here? Also want to point out that when I actually replace this with the values I do get connected so I am definitely using the '\"' wrong. </p>\n"}, {"tags": ["bash", "perl", "shell", "awk", "sed"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1425393033, "post_id": 28834287, "comment_id": 45938150, "body": "did you get anything from <a href=\"http://unix.stackexchange.com/questions/187889/how-do-i-replace-the-last-occurrence-of-a-character-in-a-string-using-sed\">this</a> post? <code>sed &#39;s&#47;\\(.*\\)-.*&#47;\\1&#47;&#39;</code> derived from @jimmiji&#39;s post."}], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1425393185, "post_id": 28834318, "comment_id": 45938252, "body": "Ah, I was somehow thinking &quot;first -&quot;"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1425393563, "post_id": 28834318, "comment_id": 45938533, "body": "@fedorqui what about python? I think most linux distributions has python pre-installed."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1425393675, "post_id": 28834318, "comment_id": 45938611, "body": "@AvinashRaj you are missing Ruby, c, Java and Haskell :-D I am not experienced enough with Python, so I guess I would decrease the quality of the answer by adding such approach."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1425394235, "post_id": 28834318, "comment_id": 45939026, "body": "@AvinashRaj I would be more than pleased to learn from you, so please go ahead!"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1425394402, "post_id": 28834318, "comment_id": 45939153, "body": "identation is very important in python. <code>fileinput.input()</code> gets the input from  standard input. <code>for line in f:</code> iterates over each line and then it splits the line according to <code>-</code> and then join the splitted items with <code>-</code> as delimiter by excluding the last splitted item."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1425395566, "post_id": 28834318, "comment_id": 45940024, "body": "@AvinashRaj thanks a lot! I included your explanation in the answer as well :)"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1425405016, "post_id": 28834318, "comment_id": 45946353, "body": "This is a job for sed. I expect you&#39;ll be hearing from seds union rep any day now with a cease and desist for those other solutions :-). The awk solution will only work in some awks, btw, e.g. neither nawk nor /usr/xpg4/bin/awk would support it."}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": true, "score": 11, "last_activity_date": 1425395138, "last_edit_date": 1495542215, "creation_date": 1425392931, "answer_id": 28834318, "question_id": 28834287, "link": "https://stackoverflow.com/questions/28834287/print-contents-of-lines-up-to-a-specific-character/28834318#28834318", "title": "Print contents of lines up to a specific character", "body": "<p><code>sed</code> does it quite quickly:</p>\n\n<pre><code>$ sed 's/-[^-]*$//' file\nKernel release..............2.6.18-194.26.1.el5\nMaster disk release.........swp-RedHat-Linux-OS-5.5.0.0\n</code></pre>\n\n<p>This finds the last <code>-</code> followed by any number of non <code>-</code> characters up to the end of the line. Then, it replaces them with the empty string, so that they are removed.</p>\n\n<p>Although an idiomatic <code>awk</code> solution is also nice:</p>\n\n<pre><code>$ awk -F- 'NF--' file\nKernel release..............2.6.18 194.26.1.el5\nMaster disk release.........swp RedHat Linux OS 5.5.0.0\n</code></pre>\n\n<p>This sets the field separator to <code>-</code> and decrements the number of fields in <code>1</code>. This works just if you have one <code>-</code>. Otherwise, the lines format would work (<code>-</code> would convert into space. For this, you would need to say <code>awk -F- -v OFS=- 'NF--' file</code>.</p>\n\n<p>And you can also play with <code>rev</code> and <code>cut</code>:</p>\n\n<pre><code>$ rev file | cut -d- -f2- | rev\nKernel release..............2.6.18-194.26.1.el5\nMaster disk release.........swp-RedHat-Linux-OS-5.5.0.0\n</code></pre>\n\n<p><code>rev</code> reverses the line, so that then we can get from the 2nd <code>-</code> on. Finally, we reverse back to get the initial format.</p>\n\n<p>Through <code>python3</code>:</p>\n\n<pre><code>$ python3 -c 'import fileinput\nwith fileinput.input() as f:\n    for line in f:\n        print(\"-\".join(line.split(\"-\")[:-1]))' file\nKernel release..............2.6.18-194.26.1.el5\nMaster disk release.........swp-RedHat-Linux-OS-5.5.0.0\n</code></pre>\n\n<p><em><code>fileinput.input()</code> gets the input from standard input. <code>for line in f:</code> iterates over each line and then it splits the line according to <code>-</code> and then joins the splitted items with <code>-</code> as a delimiter by excluding the last splitted item.</em> <a href=\"https://stackoverflow.com/questions/28834287/linux-print-line-until-specific-last-character/28834318#comment45939153_28834318\">Credits to Avinash Raj!</a></p>\n"}, {"tags": [], "owner": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "is_accepted": false, "score": 4, "last_activity_date": 1425400117, "last_edit_date": 1425400117, "creation_date": 1425393957, "answer_id": 28834719, "question_id": 28834287, "link": "https://stackoverflow.com/questions/28834287/print-contents-of-lines-up-to-a-specific-character/28834719#28834719", "title": "Print contents of lines up to a specific character", "body": "<p>With <code>bash</code>:</p>\n\n<pre><code>while read; do echo \"${REPLY%-*}\"; done &lt; infile\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Kernel release..............2.6.18-194.26.1.el5\nMaster disk release.........swp-RedHat-Linux-OS-5.5.0.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425398746, "post_id": 28834862, "comment_id": 45942314, "body": "+ but the perl can be shortened since it will print only the match :-)"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425399228, "post_id": 28834862, "comment_id": 45942670, "body": "@G.Cito,  you mean <code>perl -nE &#39;say &#47;(.*)-&#47; &#39;  </code> ?"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425399551, "post_id": 28834862, "comment_id": 45942885, "body": "yeah I posted it ;-) wheee!"}], "tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 2, "last_activity_date": 1425399329, "last_edit_date": 1425399329, "creation_date": 1425394376, "answer_id": 28834862, "question_id": 28834287, "link": "https://stackoverflow.com/questions/28834287/print-contents-of-lines-up-to-a-specific-character/28834862#28834862", "title": "Print contents of lines up to a specific character", "body": "<p>with grep</p>\n\n<pre><code>grep -oP '.*(?=-)' file\n</code></pre>\n\n<p>with perl</p>\n\n<pre><code>perl -nE '/(.*)-/ and say $1' file\n</code></pre>\n\n<p>See also @G.Cito</p>\n"}, {"comments": [{"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "edited": false, "score": 0, "creation_date": 1425399468, "post_id": 28836518, "comment_id": 45942838, "body": "+ Sorry I commented before I see your answer :-)"}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 2, "last_activity_date": 1425399449, "last_edit_date": 1425399449, "creation_date": 1425399106, "answer_id": 28836518, "question_id": 28834287, "link": "https://stackoverflow.com/questions/28834287/print-contents-of-lines-up-to-a-specific-character/28836518#28836518", "title": "Print contents of lines up to a specific character", "body": "<p>Loop through with an implicit <code>while(){}</code> and <code>say</code> what matches:</p>\n\n<pre><code>perl -nE 'say /(.*)-/' kernelverstion-data.txt\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perlrun</code></a>.</p>\n"}], "owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1471, "favorite_count": 0, "accepted_answer_id": 28834318, "answer_count": 4, "score": 0, "last_activity_date": 1425501819, "creation_date": 1425392831, "last_edit_date": 1425501819, "question_id": 28834287, "link": "https://stackoverflow.com/questions/28834287/print-contents-of-lines-up-to-a-specific-character", "title": "Print contents of lines up to a specific character", "body": "<p>how to print line until specific <strong>last</strong> character <code>-</code> , using sed or awk or perl one liners:</p>\n\n<p>Given this input:</p>\n\n<pre><code>Kernel release..............2.6.18-194.26.1.el5-PAE\nMaster disk release.........swp-RedHat-Linux-OS-5.5.0.0-03\n</code></pre>\n\n<p>The requested output is:</p>\n\n<pre><code>Kernel release..............2.6.18-194.26.1.el5\nMaster disk release.........swp-RedHat-Linux-OS-5.5.0.0\n</code></pre>\n"}, {"tags": ["perl", "grep", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "edited": false, "score": 0, "creation_date": 1425726962, "post_id": 28833624, "comment_id": 46086650, "body": "Nice neat and short solution, thank you for contributing. I would love to know how you would adapt if the key file lines were <code>z y x code foo</code> etc and desired output lines were <code>a b c z y x code</code> etc (input lines are the same as before <code>a b c foo</code> etc)"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 4, "last_activity_date": 1425802885, "last_edit_date": 1425802885, "creation_date": 1425390978, "answer_id": 28833624, "question_id": 28833292, "link": "https://stackoverflow.com/questions/28833292/grep-within-perl-substitution-rhs/28833624#28833624", "title": "Grep within Perl substitution (RHS)", "body": "<p>Using perl from command line,</p>\n\n<pre><code>perl -lane'\n  BEGIN{ local @ARGV = pop; %h = reverse map split, &lt;&gt; }\n  print join \" \", @F[0..2], $h{$F[3]};\n\n' input key\n</code></pre>\n\n<p>output</p>\n\n<pre><code>a b c code\nd e f cow\ng h i ghost\n</code></pre>\n\n<p>update</p>\n\n<pre><code>perl -lane'\n  BEGIN{ local @ARGV = pop; %h = reverse map /(.+)\\s+(\\S+)$/, &lt;&gt; }\n  print join \" \", @F[0..2], $h{$F[3]};\n\n' input key\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1425420133, "post_id": 28833644, "comment_id": 45954698, "body": "That will fail if <code>a[$NF]</code> evaluates numerically to zero. +1 for the right approach though."}], "tags": [], "owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "is_accepted": false, "score": 3, "last_activity_date": 1425447590, "last_edit_date": 1425447590, "creation_date": 1425391041, "answer_id": 28833644, "question_id": 28833292, "link": "https://stackoverflow.com/questions/28833292/grep-within-perl-substitution-rhs/28833644#28833644", "title": "Grep within Perl substitution (RHS)", "body": "<p>Here is how you can use <code>awk</code></p>\n\n<pre><code>awk 'FNR==NR {a[$2]=$1;next} $NF=a[$NF]' key input\na b c code\nd e f cow\ng h i ghost\n</code></pre>\n\n<p>It reads the <code>key</code> file to array <code>a</code><br>\nThen print <code>input</code> file using keys for array <code>a</code> to change last field.</p>\n\n<p>If <code>a[$NF]</code> may be <code>0</code>, use:</p>\n\n<pre><code>awk 'FNR==NR {a[$2]=$1;next} {$NF=a[$NF];print}' key input\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "edited": false, "score": 0, "creation_date": 1425392883, "post_id": 28833686, "comment_id": 45938057, "body": "does <code>$1 . qx{grep -oP &quot;.*(?=\\s$2)&quot; $key}</code> work in this case? With this (your) correction, on my machine I get an error, and if I&#39;m not mistaken, the process does not exit (no new prompt, had to ^c). error: <code>Unrecognized escape \\s passed through at -e line 1.</code> <code>Name &quot;main::key&quot; used only once: possible typo at -e line 1. </code>Use of uninitialized value $key in concatenation (.) or string at -e line 1, &lt;&gt; line 1.`"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "edited": false, "score": 0, "creation_date": 1425393235, "post_id": 28833686, "comment_id": 45938295, "body": "@okapiho, I hadn&#39;t checked if you had made other errors, but it turns out you had. You also forgot to escape the <code>\\ </code>, and you never assigned a value to <code>$key</code>. There could be more."}, {"owner": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "edited": false, "score": 0, "creation_date": 1425727591, "post_id": 28833686, "comment_id": 46086830, "body": "For some reason (outside my skill level), for me your <code>die</code> on line 14 prints <code>Can&#39;t find \\n</code> instead of <code>Can&#39;t find $f[3]\\n</code>. Otherwise it works great and I was easily able to understand your code, adapt it to my needs, and learn a lot along the way with the help of <code>perldoc.perl.org&#47;perlintro.html</code>, thank you :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "edited": false, "score": 0, "creation_date": 1425740284, "post_id": 28833686, "comment_id": 46090309, "body": "It should never print <code>$F[3]</code> but its value when it can&#39;t find it in the other file. It means one of your records had a blank value for the fourth field, which means one of your records had less than four fields. Maybe you have a blank line?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "edited": false, "score": 0, "creation_date": 1425842914, "post_id": 28833686, "comment_id": 46117479, "body": "Oops, because of the order things were done in, the error message may have been misleading. Fixed the error message."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1425842794, "last_edit_date": 1425842794, "creation_date": 1425391150, "answer_id": 28833686, "question_id": 28833292, "link": "https://stackoverflow.com/questions/28833292/grep-within-perl-substitution-rhs/28833686#28833686", "title": "Grep within Perl substitution (RHS)", "body": "<pre><code>$1qq{grep -oP \".*(?=\\s$2)\" $key}\n</code></pre>\n\n<p>is not a valid Perl expression. Maybe you meant</p>\n\n<pre><code>$1 . qq{grep -oP \".*(?=\\s$2)\" $key}\n</code></pre>\n\n<p>although there are numerous other errors in that expression. (You used <code>qq{}</code> where you should have used <code>qx{}</code>, you forgot to escape the <code>\\</code>, you used <code>$key</code> without having assigned a value to it, maybe more.)</p>\n\n<p>Maintainable solution that only reads the key file once:</p>\n\n<pre><code>perl -e'\n   my %lookup;\n   open(my $fh, \"&lt;\", shift(@ARGV))\n      or die $!;\n\n   while (&lt;$fh&gt;) {\n      my ($v,$k) = split;\n      $lookup{$k} = $v;\n   }\n\n   while (&lt;&gt;) {\n      my @f = split;\n\n      next if !@f;  # Skip blank lines.\n\n      if (defined($lookup{$f[3]})) {\n         warn(\"Can'\\''t find key \\\"$f[3]\\\". Copying record unchanged.\\n\");\n         print;\n         next;\n      }\n\n      $f[3] = $lookup{$f[3]};\n      print(\"@f\\n\");\n   }\n' keyfile.txt input.txt &gt;output.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "edited": false, "score": 0, "creation_date": 1425393201, "post_id": 28833739, "comment_id": 45938272, "body": "Could you clarify what you mean by &quot;Looks like your keys are reversed in your example&quot;? I am not seeing what I think you mean in my example"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "edited": false, "score": 0, "creation_date": 1425393398, "post_id": 28833739, "comment_id": 45938428, "body": "@okapiho, He means the key field is usually the first field (<code>key value</code>). The order of the columns in your input is unusual (<code>value key</code>), but not wrong. I&#39;ve fixed his code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "edited": false, "score": 0, "creation_date": 1425393547, "post_id": 28833739, "comment_id": 45938515, "body": "@okapiho, Note: Sobrique&#39;s code replaces values in all columns of the input, not just the fourth."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1425393478, "last_edit_date": 1425393478, "creation_date": 1425391296, "answer_id": 28833739, "question_id": 28833292, "link": "https://stackoverflow.com/questions/28833292/grep-within-perl-substitution-rhs/28833739#28833739", "title": "Grep within Perl substitution (RHS)", "body": "<p>Personally - I don't like doing one liners, because they're hard to read. </p>\n\n<p>The general trick for pattern replacement is this:</p>\n\n<pre><code>my %replacements;\nopen ( my $keyfile, \"&lt;\", \"key_file.txt\" ) or die $!;\nwhile ( $keyfile ) {\n     chomp;\n     my ( $value, $key ) = split;\n     $replacements{$key} = $value; \n}\n\nmy $regex = join ( \"\\b|\\b\", keys %replacements ); \n$regex = qr/$regex/; \n\nopen ( my $replace_fh, \"&lt;\", \"input_file\" ) or die $!; \nwhile ( &lt;$replace_fh&gt; ) {\n    s/\\b($regex)\\b/$replacements{$1}/g;\n    print;\n}\n</code></pre>\n\n<p>Which turns your input into a hash of replacements, constructs a regular expression that matches any word in it, and then uses that regex to 'match' - using <code>$1</code> a lookup key for the hash. </p>\n"}], "owner": {"reputation": 79, "user_id": 3197893, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff51d9314bc32098d28aac46fba5c0ba?s=128&d=identicon&r=PG&f=1", "display_name": "okapiho", "link": "https://stackoverflow.com/users/3197893/okapiho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1425842794, "creation_date": 1425390037, "question_id": 28833292, "link": "https://stackoverflow.com/questions/28833292/grep-within-perl-substitution-rhs", "title": "Grep within Perl substitution (RHS)", "body": "<p><em>I would like to replace text based on a \"string string\" pairs defined in file $key.</em></p>\n\n<p>Sample Input file <strong>$input</strong></p>\n\n<pre><code>a b c foo\nd e f moo\ng h i boo\n</code></pre>\n\n<p>Predefined \"Key\" file <strong>$key</strong></p>\n\n<pre><code>cow moo\ncode foo\nghost boo\ncheer woo\n</code></pre>\n\n<p>Desired Output</p>\n\n<pre><code>a b c code\nd e f cow\ng h i ghost\n</code></pre>\n\n<h1>My Attempt</h1>\n\n<pre><code>perl -pe 's/(.*?)(\\woo)/$1qq{grep -oP \".*(?=\\s$2)\" $key}/e' $input &gt; $output\n</code></pre>\n\n<p>error returned</p>\n\n<pre><code>syntax error at -e line 1, near \"$1qq{grep -oP \".*(?=\\s$2)\" $key}\"\nsyntax error at -e line 1, near \"s/(.*?)(\\woo)/$1qq{grep -oP \".*(?=\\s$2)\" $key}/ee\"\n</code></pre>\n\n<p><em>Any help would be appreciated.</em></p>\n\n<p><em>Suggestions for a better approach to achieve the desired result are very much welcome, but an accepted answer would ideally</em> also <em>include a solution or comment on using perl substition.</em></p>\n"}, {"tags": ["perl", "if-statement"], "comments": [{"owner": {"reputation": 775, "user_id": 498125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SwLCo.jpg?s=128&g=1", "display_name": "jpstrube", "link": "https://stackoverflow.com/users/498125/jpstrube"}, "edited": false, "score": 1, "creation_date": 1425388337, "post_id": 28832661, "comment_id": 45934916, "body": "You are right. And there is no difference. If you put the &quot;if&quot; in front you just have to put curly braces around the assignment."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 1, "creation_date": 1425389024, "post_id": 28832661, "comment_id": 45935379, "body": "Perl allows for post-<code>if</code> statements and also allows for post-<code>while</code>, and post-<code>for</code> loops too. However, these things are usually discouraged because people scanning the code may miss the <code>if</code>. Plus, if you realize you need to add another statement in the <code>if</code>, you have to rewrite the statement."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1425389306, "post_id": 28832661, "comment_id": 45935572, "body": "@DavidW.: . . . and post-<code>unless</code> and post-<code>until</code> :)"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1425390124, "post_id": 28832661, "comment_id": 45936130, "body": "One advantage is that it allows you to use fewer parentheses: <code>$result{$key} .= &#39;;&#39; if exists $result{$key};</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425390181, "post_id": 28832661, "comment_id": 45936163, "body": "I would generally avoid post statements, but make exceptions for <code>next unless </code> or <code>return if</code> type constructs, because I consider the &#39;flow control&#39; element important the more important one."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1425389604, "post_id": 28832733, "comment_id": 45935764, "body": "The OP is strictly <i>wrong</i> when he says, <i>\u201cIt looks like it adds &quot;;&quot; at the end of key when it already exists\u201d</i> as the semicolon is added at the end of the hash <i>value</i>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1425390239, "last_edit_date": 1425390239, "creation_date": 1425388427, "answer_id": 28832733, "question_id": 28832661, "link": "https://stackoverflow.com/questions/28832661/if-after-assignment/28832733#28832733", "title": "if after assignment", "body": "<p>Perl allows you to do conditional statements either before or after. </p>\n\n<p>This is to allow you to do things like:</p>\n\n<pre><code>return unless $configured;\nexit if $bored;\n\nprint \"Debug statement\\n\" if $debug; \n\nwhile ( &lt;STDIN&gt; ) {\n    print if m/text/; \n}\n</code></pre>\n\n<p>So yes, you're right - that's a conditional append, that if the key exists it'll stick a semicolon on the end of <em>the value</em>. (As noted in comments - it does <em>NOT</em> change the key)</p>\n\n<p>It's no different to:</p>\n\n<pre><code>if ( exists ( $result{$key} ) ) {\n    $result{$key} .= ';';\n}\n</code></pre>\n\n<p>Generally, it's a style and maintainability question as to which you use. I would <em>generally</em> suggest avoiding it, because it <em>generally</em> makes things less clear. (But not always - see above for a couple of examples).  </p>\n"}, {"tags": [], "owner": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "is_accepted": false, "score": 0, "last_activity_date": 1425388490, "creation_date": 1425388490, "answer_id": 28832767, "question_id": 28832661, "link": "https://stackoverflow.com/questions/28832661/if-after-assignment/28832767#28832767", "title": "if after assignment", "body": "<pre><code>$result{$key} .= \";\" if (exists($result{$key}));\n</code></pre>\n\n<p>and</p>\n\n<pre><code>if (exists($result{$key})) {\n    $result{$key} .= \";\";\n}\n</code></pre>\n\n<p>do exactly the same thing. There are times where you may prefer one over another for better readability.</p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1425388707, "creation_date": 1425388707, "answer_id": 28832836, "question_id": 28832661, "link": "https://stackoverflow.com/questions/28832661/if-after-assignment/28832836#28832836", "title": "if after assignment", "body": "<pre><code>$result{$key} .= \";\" if (exists($result{$key}));\n</code></pre>\n\n<p>can be written as :</p>\n\n<pre><code>if (exists($result{$key}))\n{\n    $result{$key} .= ';';\n}\n</code></pre>\n\n<p>There is no difference.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1425389231, "last_edit_date": 1425389231, "creation_date": 1425388710, "answer_id": 28832837, "question_id": 28832661, "link": "https://stackoverflow.com/questions/28832661/if-after-assignment/28832837#28832837", "title": "if after assignment", "body": "<p>It's exactly as you said. It means:</p>\n\n<blockquote>\n  <p>If the hash <code>%result</code> has an element with key <code>$key</code>, append <code>;</code> to the element's value.</p>\n</blockquote>\n\n<p>because</p>\n\n<pre><code>$result{$key} .= \";\" if (exists($result{$key}));\n</code></pre>\n\n<p>is just another way of writing</p>\n\n<pre><code>if ((exists($result{$key}))) {\n    $result{$key} .= \";\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3047, "user_id": 1982677, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4747c1108b8ae3ee8ac15502e0c3b046?s=128&d=identicon&r=PG", "display_name": "kvivek", "link": "https://stackoverflow.com/users/1982677/kvivek"}, "is_accepted": false, "score": 2, "last_activity_date": 1425390290, "last_edit_date": 1425390290, "creation_date": 1425388807, "answer_id": 28832872, "question_id": 28832661, "link": "https://stackoverflow.com/questions/28832661/if-after-assignment/28832872#28832872", "title": "if after assignment", "body": "<p>1)  Could someone tell me what is this line supposed to do in perl:</p>\n\n<pre><code>$result{$key} .= \";\" if (exists($result{$key}));\n</code></pre>\n\n<p>Answer:\nThe above expression can be read as</p>\n\n<pre><code>if ( exists ( $result{$key} ) ) {   \n    $result{$key} .= ';';\n}\n</code></pre>\n\n<p>Explanation:\nif condition checks for existence of value obtained from the hash result(<code>%result</code>) with the key as <code>$key</code>, If the value exists then append the semicolon to the end of the value. </p>\n\n<p>2) It looks like it adds \";\" at the end of key when it already exists, is it true? </p>\n\n<p>NO, Semicolon will be added to the end of the value and not at the end of the key, when it(value) exists, as value for a key is obtained from hash via\n$hashName{$keyName}</p>\n\n<p>Example:</p>\n\n<pre><code>C:\\Users\\kvivek&gt;perl\n\nmy %fruit_color = (\n    apple  =&gt; \"red\",\n    banana =&gt; \"yellow\",\n);\n\nprint $fruit_color{\"apple\"};\nprint \"\\n\";\n__END__\nred\n\nC:\\Users\\kvivek&gt;\n</code></pre>\n\n<p>3)Is it different than putting \"if\" statement before assigning?</p>\n\n<p>No, It is not different, but an another way writing.</p>\n"}], "owner": {"reputation": 780, "user_id": 3117006, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1074696394/picture?type=large", "display_name": "zlenyk", "link": "https://stackoverflow.com/users/3117006/zlenyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 28832733, "answer_count": 5, "score": 1, "last_activity_date": 1425390290, "creation_date": 1425388199, "last_edit_date": 1425388300, "question_id": 28832661, "link": "https://stackoverflow.com/questions/28832661/if-after-assignment", "title": "if after assignment", "body": "<p>Could someone tell me what is this line supposed to do in perl:</p>\n\n<pre><code>$result{$key} .= \";\" if (exists($result{$key}));\n</code></pre>\n\n<p>It looks like it adds \";\" at the end of key when it already exists, is it true?\nIs it different than putting \"if\" statement before assigning?</p>\n"}, {"tags": ["python", "perl", "popen"], "comments": [{"owner": {"reputation": 4301, "user_id": 423955, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/21306ab5c55a1e70ae23991665941efe?s=128&d=identicon&r=PG", "display_name": "Alessandro Da Rugna", "link": "https://stackoverflow.com/users/423955/alessandro-da-rugna"}, "edited": false, "score": 0, "creation_date": 1425386057, "post_id": 28831747, "comment_id": 45933500, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/109124/how-do-you-capture-stderr-stdout-and-the-exit-code-all-at-once-in-perl\">How do you capture stderr, stdout, and the exit code all at once, in Perl?</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425386101, "post_id": 28831747, "comment_id": 45933521, "body": "Can you give some example of the output you&#39;re parsing?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4301, "user_id": 423955, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/21306ab5c55a1e70ae23991665941efe?s=128&d=identicon&r=PG", "display_name": "Alessandro Da Rugna", "link": "https://stackoverflow.com/users/423955/alessandro-da-rugna"}, "edited": false, "score": 0, "creation_date": 1425387282, "post_id": 28831747, "comment_id": 45934233, "body": "@AlessandroDaRugna: The return code and the contents of <code>stderr</code> are being ignored in that Python code"}, {"owner": {"reputation": 343895, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1425463050, "post_id": 28831747, "comment_id": 45969788, "body": "your Python code accumulates <code>stderr</code> in memory and then just discards it at the end. To get stdout lines from a shell command as a list and to discard its stderr: <code>lines = check_output(out_cmd, shell=True, stderr=DEVNULL).splitlines()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425386589, "post_id": 28832078, "comment_id": 45933788, "body": "I wasn&#39;t sure about the <code>strip</code> - that looks like it&#39;s deleting some characters I think?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425386694, "post_id": 28832078, "comment_id": 45933857, "body": "@Sobrique: It&#39;s removing all tabs, newlines, and carriage returns from the beginning and end of the string. Otherwise <code>split</code> will return an empty string at the end."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1425386448, "creation_date": 1425386448, "answer_id": 28832078, "question_id": 28831747, "link": "https://stackoverflow.com/questions/28831747/executing-command-and-storing-output-in-array-variable/28832078#28832078", "title": "Executing command and storing output in array variable", "body": "<p>As far as I can tell from your question, all you need is</p>\n\n<pre><code>my @split = `$our_cmd`;\nchomp @split;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1425387445, "post_id": 28832108, "comment_id": 45934328, "body": "The Python code only removes those characters from the beginning of the first line and the end of the last line of the output. There should never be any CR characters anyway."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1425387468, "last_edit_date": 1425387468, "creation_date": 1425386529, "answer_id": 28832108, "question_id": 28831747, "link": "https://stackoverflow.com/questions/28831747/executing-command-and-storing-output-in-array-variable/28832108#28832108", "title": "Executing command and storing output in array variable", "body": "<p>I think you're misunderstanding a couple of perl concepts here. For example - you're <code>split</code>ing an array - which doesn't make a lot of sense, because <code>split</code> turns a <em>string</em> into an array, based on a delimiter. </p>\n\n<p>Likewise <code>grep</code> - that's quite an unusual use of <code>grep</code> because you've got a search and replace pattern embedded - usually <code>grep</code> is for filtering based on some boolean expression. (I suspect it works like that, but I'm not entirely sure if your replacement pattern returns true/false, which'll do odd things in a <code>grep</code> context). </p>\n\n<p>So how about instead:</p>\n\n<pre><code>my @output = `$our_command`;\n\nchomp @output; #removes linefeeds from each element. \n\nfor ( @output ) { s/[\\t\\r]//g; }; #removes linefeeds and carriage returns\n</code></pre>\n\n<p>This will put into <code>@output</code> one element per line (including linefeed) and then remove any <code>\\t</code> or <code>\\r</code> in there. If you don't want the linefeed, as Borodin says - <code>chomp @output;</code> will deal with that. </p>\n\n<p>As mentioned in comments - this may not exactly reproduce what <code>strip</code> is doing, and the <code>strip</code> operation may be irrelevant in perl. </p>\n\n<p>Testing your grep:</p>\n\n<pre><code>my @test =  ( \"test aaa bbb\", \"mooo\", \" aaa Moo MMOoo\", \"no thing in it\" );\nprint join (\"\\n\", grep { s/aaa//g } @test );\n</code></pre>\n\n<p>This <em>does</em> do the search and replace on <code>$_</code> (each line of the <code>grep</code>), but the replace expression does return a 'true/false' - meaning you effectively discard elements that don't contain the pattern at all. </p>\n"}], "owner": {"reputation": 19, "user_id": 4627588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02edb5472aced8f7abd0921f8d39813e?s=128&d=identicon&r=PG&f=1", "display_name": "hari kathed", "link": "https://stackoverflow.com/users/4627588/hari-kathed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1425411932, "creation_date": 1425385364, "last_edit_date": 1425411932, "question_id": 28831747, "link": "https://stackoverflow.com/questions/28831747/executing-command-and-storing-output-in-array-variable", "title": "Executing command and storing output in array variable", "body": "<pre><code>p = Popen(our_cmd, shell=True, stdout=PIPE, stderr=PIPE)\noutput = p.communicate()[0]\nsplit = output.strip('\\n\\t\\r').split(\"\\n\")\n</code></pre>\n\n<p>I want to execute this command which is in string <code>our_cmd</code></p>\n\n<p>what I have tried is this</p>\n\n<pre><code>my @output = `$our_cmd`; ## here command is executing\nmy @split = grep(s/\\s*$//g, @output); ## the format and putting in new array\n@split = split(\"\\n\", @split);\n</code></pre>\n\n<p>My command is executing but not taking input properly. I need output in array in format as in Python code.</p>\n"}, {"tags": ["xml", "perl", "utf-8"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1425383900, "post_id": 28830876, "comment_id": 45932201, "body": "You are confused about something but I can&#39;t really figure out exactly what: What do you think <code>\\.</code> and <code>\\&#39;</code> do?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425385775, "post_id": 28830876, "comment_id": 45933356, "body": "You might want to try <code>$document =~ s&#47;\\P{ascii}+&#47;&#47;g</code> to remove all non-ASCII characters. But that is a very broad brush that may remove text that you want to retain."}, {"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1425388788, "post_id": 28830876, "comment_id": 45935211, "body": "Its not question mark . I have edited and put the exact symbol which is \uf0b7(box entity)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425393858, "post_id": 28830876, "comment_id": 45938749, "body": "You made an edit to your question that fixed the problem, so I reverted it."}], "answers": [{"comments": [{"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1425389058, "post_id": 28832697, "comment_id": 45935406, "body": "It is not question mark . But it is \uf0b7(box entity) which have to be a bullet point. So how can i capture such unknown entities"}, {"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1425389881, "post_id": 28832697, "comment_id": 45935957, "body": "Thanks ikegami for the invalid character literal !!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1425392968, "post_id": 28832697, "comment_id": 45938106, "body": "Nit: U+FFFD is the replacement character used for invalid input. What you have is U+F0B7, a valid character available for <a href=\"http://www.unicode.org/faq/private_use.html\" rel=\"nofollow noreferrer\">private use</a>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1425394008, "last_edit_date": 1425394008, "creation_date": 1425388312, "answer_id": 28832697, "question_id": 28830876, "link": "https://stackoverflow.com/questions/28830876/bullet-point-entity-is-shown-as-box-type-unknown-entity-in-the-data-which-ha/28832697#28832697", "title": "Bullet point entity is shown as \uf0b7 (box type unknown entity) in the data which have to be captured by Perl program", "body": "<p>My browser shows a box with F0B7 in it, meaning the character is U+F0B7, a <a href=\"http://www.unicode.org/faq/private_use.html\" rel=\"nofollow\">private use character</a>.</p>\n\n<p>If your Perl code file is encoded using UTF-8 and it contains <code>use utf8;</code>, you could simply use that character as the regex</p>\n\n<pre><code>s/\uf0b7\\s*//g\n</code></pre>\n\n<p>But it will be more readable to name it instead.</p>\n\n<pre><code>s/\\x{F0B7}\\s*//g\n\ns/\\N{U+F0B7}\\s*//g\n</code></pre>\n\n<p>In all cases, the input file will need to be properly decoded.</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n</code></pre>\n"}], "owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 28832697, "answer_count": 1, "score": 0, "last_activity_date": 1425394008, "creation_date": 1425382736, "last_edit_date": 1425393869, "question_id": 28830876, "link": "https://stackoverflow.com/questions/28830876/bullet-point-entity-is-shown-as-box-type-unknown-entity-in-the-data-which-ha", "title": "Bullet point entity is shown as \uf0b7 (box type unknown entity) in the data which have to be captured by Perl program", "body": "<p>I have an xml file where the data of the bullet point is shown in the form of box entity \uf0b7 which i am unable to capture using Perl program.Can someone help me on this point !!</p>\n\n<p><strong>Part of Input Data :</strong></p>\n\n<blockquote>\n  <p>&lt;p>\uf0b7 Adding Basic Requirements: AU sec. 334 suggests procedures for the auditor's consideration, noting that not all of them may be required in every audit.&lt;/p></p>\n</blockquote>\n\n<p><strong>Expected output :</strong></p>\n\n<blockquote>\n  <p>&lt;p>Adding Basic Requirements: AU sec. 334 suggests procedures for the auditor's consideration, noting that not all of them may be required in every audit.&lt;/p></p>\n</blockquote>\n\n<p><strong>Perl Program :</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nmy $filename = $ARGV[0];\nmy $ext = $ARGV[1];\nmy $inputfile = $filename . \"\\.\" . $ext;\nmy $document = do {\n         local $/ = undef;\n         open my $fh,'&lt;',$inputfile or die \"Couldn't open the file $inputfile:$!\";\n       &lt;$fh&gt;;\n      };\n\nopen my $out,\"&gt;$filename.sgm\" or die \"Couldn\\'t write to the file $filename.sgm:$!\"; \n\n$document =~ s/?/&lt;i&gt;/isg;\n\nprint $out $document;\n</code></pre>\n\n<p><strong>Output :</strong></p>\n\n<p>Program unable to capture that box type entity and results nothing . No change in the output</p>\n"}, {"tags": ["perl", "pipe"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425396217, "post_id": 28830736, "comment_id": 45940483, "body": "When trying to pass data back and forth, I often think threads are a bit easier to work with. Is that an option here?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425396727, "post_id": 28830736, "comment_id": 45940864, "body": "@Sobrique: In theory, yes. But the <a href=\"http://perldoc.perl.org/threads.html#WARNING\" rel=\"nofollow noreferrer\">documentation for <code>threads</code></a> carries the warning <i>&quot;The use of interpreter-based threads in perl is officially discouraged&quot;</i>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425397222, "post_id": 28830736, "comment_id": 45941236, "body": "True, but I always thought that was more because of general misunderstanding of the threading paradigm in perl (e.g. how they&#39;re totally not lightweight) than because of any specific &#39;problem&#39;. And for specific use cases (active IPC) they&#39;re quite handy."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425397560, "post_id": 28830736, "comment_id": 45941479, "body": "@Sobrique: Maybe, but the big disadvantage they have for me is that there is no sharing of data without adding <a href=\"https://metacpan.org/module/threads::shared\" rel=\"nofollow noreferrer\"><code>threads::shared</code></a> to what is already an emulation built into the perl executable. In any case I would rather not defy that official discouragement by going into how to use them in this case."}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1425389806, "post_id": 28832970, "comment_id": 45935894, "body": "if i create the pipe inside the for Loop, wouldn&#39;t that overwrite my old pipe? I want to run 5 forks parallel, so all 5 Need to write back to the same pipe"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1425390041, "post_id": 28832970, "comment_id": 45936084, "body": "You can&#39;t read from multiple child processes at the same time on the same pipe. Pipes can have only two ends. It may be that you need to save the handles in an array before reading from them, but you don&#39;t say enough about your application to be able to tell."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1425391715, "post_id": 28832970, "comment_id": 45937194, "body": "i&#39;m not sure which part you are missing, so i hope my edit will clean this out. if not, please tell me which Information is desired"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1425396228, "post_id": 28832970, "comment_id": 45940489, "body": "@chenino: I&#39;ve added a working program that works as I described. Let me know if it does what you need."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1425397474, "post_id": 28832970, "comment_id": 45941412, "body": "if i dont get this code wrong, it still executes each fork after another, and reads after that, or am i wrong?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1425397748, "post_id": 28832970, "comment_id": 45941619, "body": "@chenino: Correct. If the parent read the data from the first pipe before starting the second child then it would be waiting for each child to complete before starting another, which defeats the point of the forking.  As it is, it starts all children in a fraction of a second, som that they all run in parallel, and then prints all return data as it becomes available."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425397837, "post_id": 28832970, "comment_id": 45941679, "body": "Presumably you could use <code>select</code> to async read from the pipes, but doing it this way means you retrieve the results in a defined order, which is often useful."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425397988, "post_id": 28832970, "comment_id": 45941787, "body": "@Sobrique: <code>select</code> is for output streams. Here you would just use <code>&lt;$pipes[$i]&gt;</code> as appropriate. With more code you could collect the return data in the order that the child processes completed. But, as you say, I suspect that a fixed order is more useful, and it is likely that one child&#39;s results are of no use without all the rest. Regardless, the goal of running the OP&#39;s server requests in parallel has been accomplished."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425398229, "post_id": 28832970, "comment_id": 45941947, "body": "@sobrique well, i dont need an specific order, i just Need to not 2 values from the child processes."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1425398280, "post_id": 28832970, "comment_id": 45941990, "body": "@borodin as those calls are slow, those should be executed parallel. the main process just reads the values they returned. so, i am grateful for your help, but as you say, it defeats why i am forking.  i would Need an Approach to start those simualtaeniously and read them &quot;as they come&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1425398301, "post_id": 28832970, "comment_id": 45942008, "body": "@chenino: Please understand <b><i>the child processes are being started simultaneously</i></b>. Also, the output completes as soon as the last child process has finished. Note that in my example code, each child process is sleeping for two seconds, yet the parent process delays for only two seconds because they are running in parallel. I siggest you run the program I have written and experiment with it yourself."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425398449, "post_id": 28832970, "comment_id": 45942111, "body": "Indeed - the <code>fork</code>ed bit is run in parallel, and the &quot;main&quot; bit moves on to start reading input immediately after <i>starting</i> the children."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425398522, "post_id": 28832970, "comment_id": 45942152, "body": "@Sobrique: Yes. I thought I said that :)  The <i>first</i> <code>for</code> loop starts all the children, and the second <code>for</code> loop prints their output."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425398544, "post_id": 28832970, "comment_id": 45942167, "body": "I was thinking of a more general case - I like <code>Thread::Queue</code> for task dispatching when threading. <code>fork</code> is a different paradigm though, so I&#39;m still building my understanding."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1425398599, "post_id": 28832970, "comment_id": 45942216, "body": "@chenino: As you said yourself, <i>&quot; it still executes each fork after another, and reads after that&quot;</i> which is exactly what you want"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425398983, "post_id": 28832970, "comment_id": 45942485, "body": "@Sobrique: Maybe, but <a href=\"https://metacpan.org/module/Thread::Queue\" rel=\"nofollow noreferrer\"><code>Thread::Queue</code></a> just uses <a href=\"https://metacpan.org/module/threads\" rel=\"nofollow noreferrer\"><code>threads</code></a> and <a href=\"https://metacpan.org/module/threads::shared\" rel=\"nofollow noreferrer\"><code>threads::shared</code></a> under the hood, but makes it all seem a lot less messy than it really is. You won&#39;t learn the basic principles if you stick to employing convenience modules."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 2, "creation_date": 1425407122, "post_id": 28832970, "comment_id": 45947481, "body": "@Borodin : I think i got it now, at least after fitting in my program is works as supposed. Thank you very much !"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1425396124, "last_edit_date": 1425396124, "creation_date": 1425389072, "answer_id": 28832970, "question_id": 28830736, "link": "https://stackoverflow.com/questions/28830736/multiple-forks-and-iopipe/28832970#28832970", "title": "Multiple forks and IO:Pipe", "body": "<p>The problem is that you are forking multiple child processes but trying to use the same pipe for all of them.</p>\n\n<p>The <code>reader</code> method converts <code>$pipe</code> into an <code>IO::Pipe::End</code> object that you can read data from, so the first child is connected correctly. But you then call <code>reader</code> again on the same <code>$pipe</code>, and the error is thrown because it is no longer an object of the right class.</p>\n\n<p>You simply need to create a new pipe for each child process:</p>\n\n<pre><code>sub fork_requests {\n\n    for my $feature ( @features ) {\n\n        my $pipe = IO::Pipe-&gt;new;\n        my $pid;\n\n        if ( $pid = fork ) {\n            $pipe-&gt;reader;\n            print while &lt;$pipe&gt;;\n        }\n        elsif ( defined $pid ) {\n            $pipe-&gt;writer;\n            # some calculations . . .\n            print $pipe $calcresults;\n            exit;\n        }\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Okay I think I understand what it is you need. This complete program should show you.</p>\n\n<p>I have written <code>fork_requests</code> so that it expects a list of features as parameters, and I have written the child code so that it sleeps for two seconds to emulate the processing time and then simply prints the name of the feature.</p>\n\n<p>The parent code stores all the pipes in an array, as I suggested, and prints the output from each of them in the order they were queued. All five child processes complete after two seconds, so the parent is suspended for that time and then prints the features originally passed in.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Pipe;\n\nSTDOUT-&gt;autoflush;\n\nfork_requests('A' .. 'E');\n\nsub fork_requests {\n\n    my @pipes;\n\n    for my $feature ( @_ ) {\n\n        my $pipe = IO::Pipe-&gt;new;\n        my $pid;\n\n        if ( $pid = fork ) {\n            $pipe-&gt;reader;\n            push @pipes, $pipe;\n        }\n        elsif ( defined $pid ) {\n            $pipe-&gt;writer;\n            select $pipe;\n            # some calculations . . .\n            sleep 2;\n            my $calcresults = $feature;\n            print $calcresults, \"\\n\";\n            exit;\n        }\n    }\n\n    for my $pipe ( @pipes ) {\n      print while &lt;$pipe&gt;;\n    }\n\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>A\nB\nC\nD\nE\n</code></pre>\n"}], "owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 1, "accepted_answer_id": 28832970, "answer_count": 1, "score": 0, "last_activity_date": 1425397060, "creation_date": 1425382280, "last_edit_date": 1425397060, "question_id": 28830736, "link": "https://stackoverflow.com/questions/28830736/multiple-forks-and-iopipe", "title": "Multiple forks and IO:Pipe", "body": "<p>I am trying to build a program wich creates some forks and writes the results of the forks back to the main program. Thereby I try to use <a href=\"http://perldoc.perl.org/IO/Pipe.html\" rel=\"nofollow\"><code>IO::Pipe</code></a></p>\n\n<pre><code>sub ForkRequests {\n\n  my $pipe = IO::Pipe-&gt;new();\n  my $pid;\n\n  foreach my $feature ( @features ) {\n\n    if ( $pid = fork() ) {\n      $pipe-&gt;reader();\n      while ( &lt;$pipe&gt; ) {\n        print $_. \"\\n\";\n      }\n    }\n    elsif ( defined $pid ) {\n\n      #child\n      $pipe-&gt;writer();\n\n      #somecalculations [...]\n      print $pipe $calcresults;\n    }\n  }\n}\n</code></pre>\n\n<p>I got my code for doing a pipe from the module's documentation.</p>\n\n<p>If i now try to execute, I get an error message</p>\n\n<pre><code>Can't locate object method \"reader\" via package \"IO::Pipe::End\" at lmtest3.pl line 56.\nCan't locate object method \"writer\" via package \"IO::Pipe::End\" at lmtest3.pl line 63.\nCan't locate object method \"reader\" via package \"IO::Pipe::End\" at lmtest3.pl line 56, &lt;GEN0&gt; line 1.\nCan't locate object method \"writer\" via package \"IO::Pipe::End\" at lmtest3.pl line 63, &lt;GEN0&gt; line 1.\n</code></pre>\n\n<p>So, my code does not seem to initiate a pipe object, but an <code>IO::Pipe::End</code>.\nSo my question is, can anybody see the mistake in there? Why does it return the wrong object, and how would this be done correctly?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have some requests to some servers (most of the time 1 request to 7 ervers).\nThose request names are saved in <code>@features</code>, and will be executed at the point of <code>#somecalculations</code>.</p>\n\n<p>Because the server response is pretty slow, I want those requests to start in parallel. They all have to get back to the main program and print the reply to the console.</p>\n\n<p>I tried this code</p>\n\n<pre><code>sub ForkRequests {\n\n  my $i = 0;\n  my @pipes;\n  my $pid;\n\n  foreach my $feature ( @features ) {\n\n    @pipes[$i] = IO::Pipe-&gt;new();\n    if ( $pid = fork() ) {\n      @pipes[$i]-&gt;reader();\n    }\n    elsif ( defined $pid ) {\n\n      #child\n      @pipes[$i]-&gt;writer();\n\n      # calculations\n      my $w = @pipes[$i];\n      print $w $calc;\n      print $w \"end\\n\";\n    }\n\n    $i++;\n  }\n}\n\nif ( $pid == 1 ) {\n  while ( 1 ) {\n    foreach my $pipe ( @pipes ) {\n      while ( &lt;$pipe&gt; ) {\n        unless ( $_ == \"end\" ) {\n          print $_. \"\\n\";\n        }\n        else { last; }\n      }\n    }\n  }\n}\nelse {\n  exit;\n}\n\n}\n</code></pre>\n\n<p>as said, to save those pipes, but I still got a problem in reading them, as the program exits before it gets answers.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425388998, "post_id": 28830394, "comment_id": 45935363, "body": "The REF prints HASH so you know it is <i>a reference</i> to a hash."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1425381829, "last_edit_date": 1425381829, "creation_date": 1425381424, "answer_id": 28830465, "question_id": 28830394, "link": "https://stackoverflow.com/questions/28830394/perl-array-of-hashes-keys-return-an-error/28830465#28830465", "title": "Perl array of hashes, keys return an error", "body": "<p><code>$hash</code> isn't a hash, it's a hash reference. Therefore you need to dereference it before you can run keys on it. </p>\n\n<p>Simplest way of doing this:</p>\n\n<pre><code>keys %$hash; \n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>foreach my $key ( keys %$hash ) {\n    print $key, \" =&gt; \", $hash -&gt; {$key},\"\\n\"; \n}\n</code></pre>\n\n<p>And yes, I am mixing two dereference methods deliberately. The <code>-&gt;</code> notation says 'dereference this' - it's commonly used for object oriented stuff. </p>\n\n<p>For more complex dereferencing <code>%$hash{'key'}</code> is ambiguous, so you start needing brackets - <code>%{$hash{'key'}}</code> for example. </p>\n\n<p>See:</p>\n\n<p><a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">http://perldoc.perl.org/perlreftut.html</a></p>\n\n<p><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">http://perldoc.perl.org/perlref.html</a></p>\n"}], "owner": {"reputation": 359, "user_id": 1885095, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f27e7d08b8cfbdb044e48ac4de4cf370?s=128&d=identicon&r=PG", "display_name": "AJ Gottes", "link": "https://stackoverflow.com/users/1885095/aj-gottes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 28830465, "answer_count": 1, "score": 1, "last_activity_date": 1425381829, "creation_date": 1425381190, "question_id": 28830394, "link": "https://stackoverflow.com/questions/28830394/perl-array-of-hashes-keys-return-an-error", "title": "Perl array of hashes, keys return an error", "body": "<p>I have this code where array is an array of hashes:</p>\n\n<pre><code>my $hash = $array[0];\nprint \"REF: \" . ref($hash) . \"\\n\";\nmy @names = keys ($hash);\n</code></pre>\n\n<p>The REF prints HASH so I know it is a hash.</p>\n\n<p>But then the keys function returns an error:</p>\n\n<p>Type of arg 1 to keys must be hash</p>\n\n<p>How can I use the $hash as a hash?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["mysql", "perl"], "answers": [{"tags": [], "owner": {"reputation": 22293, "user_id": 767881, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/zFYAF.png?s=128&g=1", "display_name": "Ravinder Reddy", "link": "https://stackoverflow.com/users/767881/ravinder-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1425380286, "last_edit_date": 1425380286, "creation_date": 1425379945, "answer_id": 28829930, "question_id": 28829854, "link": "https://stackoverflow.com/questions/28829854/mysql-trigger-after-insert-and-add-timestamp-when-data-changed/28829930#28829930", "title": "MySQL Trigger after insert and add timestamp when data changed", "body": "<p>Triggers are <em>event</em> specific.</p>\n\n<p>You are using an <code>INSERT</code> and hence <code>AFTER</code> or <code>BEFORE</code> Trigger works defined for <code>INSERT</code> events.</p>\n\n<p>You actually need a <code>BEFORE UPDATE</code> trigger.\nAdd a similar trigger for <code>BEFORE TRIGGER</code></p>\n\n<p><strong>Example</strong>:  </p>\n\n<pre><code>CREATE TRIGGER bu_on_Test BEFORE UPDATE ON Test1\nFOR EACH ROW\nBEGIN\n   IF OLD.MAC &lt;&gt; NEW.MAC THEN\n       SET NEW.TIME='$datestring';\n   END IF;\nEND;\n</code></pre>\n\n<p>But note that Triggers won't take dynamic input parameters like <code>'$datestring'</code>.<br>\nIf such a value is set in your scripting language, that is for lifetime of trigger definition and is not going to change during its execution.</p>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425436758, "post_id": 28830119, "comment_id": 45960152, "body": "but <code>ON DUPLICATE KEY UPDATE</code> seems don&#39;t count as update, so the trigger of update won&#39;t work."}, {"owner": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425436888, "post_id": 28830119, "comment_id": 45960184, "body": "and trigger of insert works again. the result of table will be both two TIME modified. PrevTIME still both NULL."}, {"owner": {"reputation": 42883, "user_id": 1039843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YPZCC.jpg?s=128&g=1", "display_name": "Abhik Chakraborty", "link": "https://stackoverflow.com/users/1039843/abhik-chakraborty"}, "reply_to_user": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425450595, "post_id": 28830119, "comment_id": 45963857, "body": "Thats correct on duplicate update wount count as update command and its insert instead."}, {"owner": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425450825, "post_id": 28830119, "comment_id": 45963931, "body": "then is there any solution to replace <code>ON DUPLICATE KEY UPDATE</code> and still same function?"}, {"owner": {"reputation": 42883, "user_id": 1039843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YPZCC.jpg?s=128&g=1", "display_name": "Abhik Chakraborty", "link": "https://stackoverflow.com/users/1039843/abhik-chakraborty"}, "reply_to_user": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425451764, "post_id": 28830119, "comment_id": 45964287, "body": "Well that will be fairly difficult one thing could be done to remove the on-duplicate from the table definition and handle everything from the trigger or may be use trigger signal when duplicate happens."}, {"owner": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425453735, "post_id": 28830119, "comment_id": 45965054, "body": "what about using <code>IF EXISTS(SELECT * FROM Test1 WHERE MAC=&#39;$mac1&#39;)</code> ,will it work? I tried and show up syntax error..."}, {"owner": {"reputation": 42883, "user_id": 1039843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YPZCC.jpg?s=128&g=1", "display_name": "Abhik Chakraborty", "link": "https://stackoverflow.com/users/1039843/abhik-chakraborty"}, "reply_to_user": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425454144, "post_id": 28830119, "comment_id": 45965211, "body": "No the query is not correct you can use something as <code>insert into test1 (IP,MAC) select * from (select &#39;ip input&#39;,&#39;mac input&#39;) as t where not exists ( select 1 from test1 where IP = &#39;ip input&#39; ) limit 1</code>;"}, {"owner": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425456032, "post_id": 28830119, "comment_id": 45965952, "body": "hey! I found that <a href=\"http://dev.mysql.com/doc/refman/5.0/en/insert-on-duplicate.html\" rel=\"nofollow noreferrer\">link</a> said that it&#39;s possible be <code>UPDATE</code> statement if use <code>UNIQUE KEY</code>,is it true?"}, {"owner": {"reputation": 42883, "user_id": 1039843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YPZCC.jpg?s=128&g=1", "display_name": "Abhik Chakraborty", "link": "https://stackoverflow.com/users/1039843/abhik-chakraborty"}, "reply_to_user": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425456257, "post_id": 28830119, "comment_id": 45966043, "body": "Yes unique will force you to enter unique value for the defined column"}, {"owner": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425457098, "post_id": 28830119, "comment_id": 45966440, "body": "then why I added <code>UNIQUE KEY</code> to MAC but still doing &#39;delete-insert&#39; to table? weird..."}, {"owner": {"reputation": 42883, "user_id": 1039843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YPZCC.jpg?s=128&g=1", "display_name": "Abhik Chakraborty", "link": "https://stackoverflow.com/users/1039843/abhik-chakraborty"}, "reply_to_user": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425457295, "post_id": 28830119, "comment_id": 45966527, "body": "unique key is a constraint to the table to ensure that you do not have duplicate records based on a key."}, {"owner": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "edited": false, "score": 0, "creation_date": 1425460131, "post_id": 28830119, "comment_id": 45968000, "body": "I understand what you said, but it mentioned that to prevent unique key duplicate and it will update so that duplicate won&#39;t happen. and please help me tried the example code I post."}], "tags": [], "owner": {"reputation": 42883, "user_id": 1039843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YPZCC.jpg?s=128&g=1", "display_name": "Abhik Chakraborty", "link": "https://stackoverflow.com/users/1039843/abhik-chakraborty"}, "is_accepted": true, "score": 1, "last_activity_date": 1425380405, "creation_date": 1425380405, "answer_id": 28830119, "question_id": 28829854, "link": "https://stackoverflow.com/questions/28829854/mysql-trigger-after-insert-and-add-timestamp-when-data-changed/28830119#28830119", "title": "MySQL Trigger after insert and add timestamp when data changed", "body": "<p>You actually need 2 triggers one <code>before insert</code> and one <code>before update</code>. The before insert will set the TIME to <code>now()</code>, while the before update will check the old and new values of mac and set the <code>PrevTime</code> to old TIME and TIME to <code>now()</code></p>\n\n<p>Here are the triggers, you can have them in your code</p>\n\n<pre><code>delimiter //\ncreate trigger trigger1 before insert on Test1\nfor each row\nbegin\n  set new.TIME = now();\nend ; //\n\n\ndelimiter //\ncreate trigger trigger2 before update on Test1\nfor each row\nbegin\n  if old.MAC &lt;&gt; new.MAC then\n    set new.PrevTime = old.TIME ;\n    set new.TIME = now();\n  end if;\nend ;// \n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 4532214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc62b1e2eec6d968f66e9b5c29139984?s=128&d=identicon&r=PG&f=1", "display_name": "Okazaki Naoki", "link": "https://stackoverflow.com/users/4532214/okazaki-naoki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 971, "favorite_count": 0, "accepted_answer_id": 28830119, "answer_count": 2, "score": 0, "last_activity_date": 1425973729, "creation_date": 1425379733, "last_edit_date": 1425973729, "question_id": 28829854, "link": "https://stackoverflow.com/questions/28829854/mysql-trigger-after-insert-and-add-timestamp-when-data-changed", "title": "MySQL Trigger after insert and add timestamp when data changed", "body": "<p>This is my perl sample code and what i needed is add a timestamp into columns when data changed(updated).<br/><br/></p>\n\n<pre><code>use strict;\nuse DBI;\nuse POSIX qw(strftime);\n\nmy $datestring = strftime \"%Y-%m-%d %H:%M:%S\",localtime;\nmy $dbh = DBI-&gt;(\"dbi:mysql:dbname=perldb\",\"root\",\"111111\",{RaiseError=&gt;1})\n    or die DBI::errstr();\n\nmy $mac1='mac1';\nmy $ip1='ip1';\nmy $mac2='mac2';\nmy $ip2='ip2';\n\n$dbh-&gt;do(\"DROP TABLE IF EXISTS Test1\");\n$dbh-&gt;do(\"CREATE TABLE Test1(Id INT PRIMARY KEY AUTO_INCREMENT,IP TEXT,MAC TEXT,TIME DATETIME,PrevTime DATETIME) ENGINE=InnoDB\");\n$dbh-&gt;do(\"CREATE Trigger trigger1 AFTER INSERT ON Test1\n        FOR EACH ROW\n        BEGIN\n        IF OLD.MAC!=NEW.MAC\n        THEN SET NEW.TIME='$datestring';\n        END IF;\n        END;\")\n\n$dbh-&gt;do(\"INSERT INTO Test1(IP,MAC) VALUES('$ip1','$mac1') ON DUPLICATE KEY UPDATE IP=VALUE(IP)\");\n$dbh-&gt;do(\"INSERT INTO Test1(IP,MAC) VALUES('$ip2','$mac2') ON DUPLICATE KEY UPDATE IP=VALUE(IP)\");\n\n$dbh-&gt;disconnect();\n</code></pre>\n\n<p><br/>\nThe goal I want to reach is run this code once then modify $mac1 to 'mac3'.<br/>\nSo that it will trigger SET timestamp because the data was changed.<br/>\nAlso SET old one timestamp to PrevTIME, but OLD for INSERT.<br/><br/></p>\n\n<p>Result I need maybe like this:\n    <code>\n    +----+------+------+---------------------+----------+\n    | Id | IP   | MAC  | TIME                | PrevTime |\n    +----+------+------+---------------------+----------+\n    |  1 | ip1  | mac1 | 2015-03-03 12:34:56 | NULL     |\n    |  2 | ip2  | mac2 | 2015-03-03 12:34:56 | NULL     |\n    +----+------+------+---------------------+----------+</code></p>\n\n<p>Then\n    <code>\n    +----+------+------+---------------------+---------------------+\n    | Id | IP   | MAC  | TIME                | PrevTime            |\n    +----+------+------+---------------------+---------------------+\n    |  1 | ip1  | mac3 | 2015-03-03 12:40:00 | 2015-03-03 12:34:56 |\n    |  2 | ip2  | mac2 | 2015-03-03 12:34:56 | NULL                |\n    +----+------+------+---------------------+---------------------+\n</code></p>\n\n<p>Anyidea? Please help me figure out,THANK YOU.</p>\n\n<p>-------------------------------SOLUTION---------------------------------------</p>\n\n<pre><code>use strict;\nuse DBI;\nuse POSIX qw(strftime);\n\nmy $datestring = strftime \"%Y-%m-%d %H:%M:%S\",localtime;\nmy $dbh = DBI-&gt;(\"dbi:mysql:dbname=perldb\",\"root\",\"111111\",{RaiseError=&gt;1})\n    or die DBI::errstr();\n\nmy $mac1='mac1';\nmy $ip1='ip1';\nmy $mac2='mac2';\nmy $ip2='ip2';\n\n$dbh-&gt;do(\"CREATE TABLE IF NOT EXISTS Test1(Id INT PRIMARY KEY AUTO_INCREMENT,IP TEXT,MAC TEXT,TIME DATETIME,PrevTime DATETIME,UNIQUE(IP)) ENGINE=InnoDB\");\n$dbh-&gt;do(\"CREATE Trigger trigger1 BEFORE INSERT ON Test1\n        FOR EACH ROW\n        BEGIN\n        SET NEW.TIME='$datestring';\n        END;\")\n$dbh-&gt;do(\"CREATE Trigger trigger2 BEFORE UPDATE ON Test1\n        FOR EACH ROW\n        BEGIN\n        IF OLD.MAC &lt;&gt; NEW.MAC\n        THEN\n        SET NEW.PrevTIME=OLD.TIME;\n        SET NEW.TIME='$datestring';\n        END IF;\n        END;\")\n\n$dbh-&gt;do(\"INSERT INTO Test1(IP,MAC) VALUES('$ip1','$mac1') ON DUPLICATE KEY UPDATE IP=VALUE(MAC)\");\n$dbh-&gt;do(\"INSERT INTO Test1(IP,MAC) VALUES('$ip2','$mac2') ON DUPLICATE KEY UPDATE IP=VALUE(MAC)\");\n\n$dbh-&gt;disconnect();\n</code></pre>\n"}, {"tags": ["perl", "shell", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 3, "creation_date": 1425378063, "post_id": 28829211, "comment_id": 45928660, "body": "You&#39;ve been asking questions here for a while. Try to format them properly, give feedback to the answerers and eventually accept an answer if it was useful."}], "answers": [{"comments": [{"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1425378176, "post_id": 28829246, "comment_id": 45928728, "body": "Go for the <code>grep</code> version.. the <code>awk</code> command isn&#39;t reliable - if the location of java changes, <code>{10}</code> might point to a different part."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1425378309, "post_id": 28829246, "comment_id": 45928812, "body": "note you can use <code>awk &#39;...&#39; &lt;&lt;&lt; &quot;string&quot;</code> instead of <code>echo &quot;string&quot; | awk &#39;...&#39;</code>. This helps to show the relevant code instead of the echo"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 1, "last_activity_date": 1425378274, "last_edit_date": 1425378274, "creation_date": 1425377948, "answer_id": 28829246, "question_id": 28829211, "link": "https://stackoverflow.com/questions/28829211/get-the-all-the-process-names-with-process-id-in-linux/28829246#28829246", "title": "Get the all the process names with process id in linux", "body": "<p>You could Use grep.</p>\n\n<pre><code>ps ax -o rss,command | sort -nr | head -n 10 | grep -oP 'data/vmware/server/\\K[^/]*'\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>$ echo '856232 /usr/java/jdk1.7.0/bin/java -Djava.util.logging.config.file=/data/vmware/server/xxxxx/conf/logging.properties -XX:MaxPermSize=512m -Xmx1024m -Xms1024m -XX:PermSize=256m -Xss256k -' | grep -oP 'data/vmware/server/\\K[^/]*'\nxxxxx\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>sed.</p>\n\n<pre><code>$ echo '856232 /usr/java/jdk1.7.0/bin/java -Djava.util.logging.config.file=/data/vmware/server/xxxxx/conf/logging.properties -XX:MaxPermSize=512m -Xmx1024m -Xms1024m -XX:PermSize=256m -Xss256k -' | sed 's~.*data/vmware/server/\\([^/]*\\).*~\\1~'\nxxxxx\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 3967481, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/18ef28e7fc91685ecc3091c4f7dcdb18?s=128&d=identicon&r=PG&f=1", "display_name": "Sarath S", "link": "https://stackoverflow.com/users/3967481/sarath-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 28829246, "answer_count": 1, "score": -1, "last_activity_date": 1425378274, "creation_date": 1425377844, "last_edit_date": 1425377927, "question_id": 28829211, "link": "https://stackoverflow.com/questions/28829211/get-the-all-the-process-names-with-process-id-in-linux", "title": "Get the all the process names with process id in linux", "body": "<p>I am trying with the below options</p>\n\n<p>1.copied the data i need in text from out put of </p>\n\n<pre><code>ps ax -o rss,command | sort -nr | head -n 10\n</code></pre>\n\n<p>2.But this output contains extract like below</p>\n\n<pre><code>856232 /usr/java/jdk1.7.0/bin/java -Djava.util.logging.config.file=/data/vmware/server/xxxxx/conf/logging.properties -XX:MaxPermSize=512m -Xmx1024m -Xms1024m -XX:PermSize=256m -Xss256k -\n</code></pre>\n\n<p>but i need the string only after <code>/data/vmware/server</code> ie <code>xxxxx</code>.</p>\n\n<p>i tried sed and awk but not getting intended ones.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1425376468, "post_id": 28828077, "comment_id": 45927600, "body": "Don&#39;t use XML::Simple. XML::Simple is for simple XML and there is no such thing. Use XML::Trig instead. <a href=\"http://shadow.cat/blog/matt-s-trout/mstpan-3/\" rel=\"nofollow noreferrer\">shadow.cat/blog/matt-s-trout/mstpan-3</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425376501, "post_id": 28828077, "comment_id": 45927623, "body": "What&#39;s your target output?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425376556, "post_id": 28828077, "comment_id": 45927654, "body": "@Sobrique \u2014 See the first code block in the question"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425376671, "post_id": 28828077, "comment_id": 45927726, "body": "Sorry, yes - I mean what&#39;s the transform you&#39;re trying to do here? E.g. input vs. output. Stripping attributes?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425376811, "post_id": 28828077, "comment_id": 45927826, "body": "I would also note - using <code>diff</code> to validate XML is asking for pain."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4456735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8f44b3f84c375b8292a16741d78e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4456735/pete"}, "edited": false, "score": 0, "creation_date": 1425539655, "post_id": 28829038, "comment_id": 46007061, "body": "Twig is the solution for me. =&gt; Thank you very much"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1425377410, "last_edit_date": 1592644375, "creation_date": 1425377410, "answer_id": 28829038, "question_id": 28828077, "link": "https://stackoverflow.com/questions/28828077/xmlsimple-output-style/28829038#28829038", "title": "XML::Simple output style", "body": "<p>First off - <a href=\"http://search.cpan.org/%7Egrantm/XML-Simple-2.20/lib/XML/Simple.pm\" rel=\"nofollow noreferrer\"><code>XML::Simple</code></a> lies. It isn't, it's for simple XML. From it's docs:</p>\n<blockquote>\n<p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces.</p>\n</blockquote>\n<p>NoAttr is doing this to you:</p>\n<blockquote>\n<p>NoAttr =&gt; 1 # in+out - handy</p>\n<p>When used with XMLout(), the generated XML will contain no attributes. All hash key/values will be represented as nested elements instead.</p>\n<p>When used with XMLin(), any attributes in the XML will be ignored.</p>\n</blockquote>\n<p>You <em>might</em> find that specifying <code>NoAttr</code> on the <code>XMLin</code> will do what you want?</p>\n<p>However I would suggest instead - use <a href=\"http://search.cpan.org/%7Emirod/XML-Twig-3.48/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a></p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $xml =\n    '&lt;language name=&quot;en_US&quot; title=&quot;sprint&quot; subtitle=&quot;&quot; url=&quot;sprint/en_US/index.html&quot; /&gt;';\n\nmy $twig = XML::Twig-&gt;new-&gt;parse($xml);\n\nforeach my $key ( keys %{ $twig-&gt;root-&gt;atts() } ) {\n    print &quot;$key =&gt; &quot;, $twig-&gt;root-&gt;att($key), &quot;\\n&quot;;\n}\n\n$twig-&gt;root-&gt;del_att('name');\n\nprint &quot;With 'name' removed:\\n&quot;;\n$twig-&gt;root-&gt;print;\n</code></pre>\n<p>If you can give me a bit more of a sample of input/output to compare, I can flesh out this example a bit more. You probably don't want to be using <code>root</code> here, because that's only really for the 'top' element - but consider this illustrative. You can do a <code>foreach ( $twig -&gt; root -&gt; children ) {</code> type iteration.</p>\n"}], "owner": {"reputation": 15, "user_id": 4456735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8f44b3f84c375b8292a16741d78e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4456735/pete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 28829038, "answer_count": 1, "score": 1, "last_activity_date": 1425377410, "creation_date": 1425374435, "question_id": 28828077, "link": "https://stackoverflow.com/questions/28828077/xmlsimple-output-style", "title": "XML::Simple output style", "body": "<p>i need to edit a xml file wihich contains lines like:</p>\n\n<pre><code>&lt;language name=\"en_US\" title=\"sprint\" subtitle=\"\" url=\"sprint/en_US/index.html\"&gt;\n</code></pre>\n\n<p>My perl script with XML::Simple is working fine expect i'n not able to have the output in exact this format. I get:</p>\n\n<pre><code>&lt;language&gt;\n  &lt;name&gt;en_US&lt;/name&gt;\n  &lt;subtitle&gt;My new subtitle&lt;/subtitle&gt;\n  &lt;title&gt;sprint&lt;/title&gt;\n  &lt;url&gt;sprint/en_US/index.html&lt;/url&gt;\n&lt;/language&gt;\n</code></pre>\n\n<p>In principle this is fine, but here the output files are comared with the input files using diff. Can i force XML::Simple to use the same output style like the input style?\nMy code is:\n    use XML::Simple;</p>\n\n<pre><code>my $xml = XMLin(\n  'a.xml',\n  KeepRoot =&gt; 1,\n  ForceArray =&gt; 1,\n);\n\n# editing xml\n\nXMLout(\n  $xml,\n  KeepRoot =&gt; 1,\n  NoAttr =&gt; 1,\n  OutputFile =&gt; 'b.xml',\n);\n</code></pre>\n\n<p>Thx</p>\n"}, {"tags": ["perl", "batch-file", "exif", "exiftool", "pyexiv2"], "answers": [{"tags": [], "owner": {"reputation": 7483, "user_id": 188963, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c76255b9a96d7e087522477fc278631a?s=128&d=identicon&r=PG", "display_name": "abalter", "link": "https://stackoverflow.com/users/188963/abalter"}, "is_accepted": false, "score": 2, "last_activity_date": 1425491296, "creation_date": 1425491296, "answer_id": 28861344, "question_id": 28825433, "link": "https://stackoverflow.com/questions/28825433/bulk-change-date-to-present-date-with-exiftool/28861344#28861344", "title": "Bulk change date to present date with ExifTool", "body": "<p>I crossposted to the ExifTool forum, and ExifTool author Phil Harvey responded that you need to use double quotes. The single quotes from the linked blog post don't do it in Windows.</p>\n\n<p>So, one would use </p>\n\n<pre><code>exiftool -AllDates=\"2010:08:08 15:35:33\" IMG_01.jpg\n</code></pre>\n\n<p>I tested it and (of course) it worked.</p>\n"}], "owner": {"reputation": 7483, "user_id": 188963, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c76255b9a96d7e087522477fc278631a?s=128&d=identicon&r=PG", "display_name": "abalter", "link": "https://stackoverflow.com/users/188963/abalter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425491296, "creation_date": 1425364111, "last_edit_date": 1425365982, "question_id": 28825433, "link": "https://stackoverflow.com/questions/28825433/bulk-change-date-to-present-date-with-exiftool", "title": "Bulk change date to present date with ExifTool", "body": "<p>I have a bunch of images with different create dates. I want to normalize them all to a given date (say today's date) using a batch file (Windows). Can ExifTool set dates? I only see documentation and examples for shifting dates. To shift the date to present, I would need to somehow read the date for each file, calculate the difference, and then shift. That would be ok, but I don't know how to read the create date into a variable using ExifTool.</p>\n\n<p>One obstacle for me is that I don't speak Perl. I do Python, and there is pyexiv2. This allows to write the \"date\", but I can't see anywhere if that is just create date or all dates.</p>\n\n<p><strong><em>Edit</em></strong></p>\n\n<p><a href=\"http://dimitar.me/change-the-date-and-time-or-any-other-exif-image-meta-data-of-pictures-with-ubuntu/\" rel=\"nofollow\">Here</a> shows using, for example, </p>\n\n<pre><code>exiftool -AllDates='2010:08:08 15:35:33' -overwrite_original IMG_01.jpg\n</code></pre>\n\n<p>in Ubuntu linux, but I could not get that to work in Windows.</p>\n\n<p>As a hack, I tried</p>\n\n<pre><code>exiftool -AllDates+=2015:03:02 IMG_8220.JPG\n</code></pre>\n\n<p>which set the dates to the time executed, probably because the shift was so completely crazy. But I'd like to have control, and, specifically be able to change YYYY:MM:DD without changing the time.</p>\n\n<p>Consequently, help still appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 1, "creation_date": 1425362330, "post_id": 28824936, "comment_id": 45920885, "body": "Why can&#39;t you initialize it before foreach(@array) ? And do yourself a favor and <code>use strict; use warnings;</code> just silly not to."}, {"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "reply_to_user": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 0, "creation_date": 1425362894, "post_id": 28824936, "comment_id": 45921093, "body": "Thank you for your comments @salparadise; Yes it worked by initializing it before @array, but for that I have to first declare the <code>@gene2refseq</code>, which I did and it worked fine. <i>Also, I said I am not good at use strict and use warnings; but at no place I mentioned that I am not using them.</i>"}, {"owner": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 0, "creation_date": 1425363271, "post_id": 28824936, "comment_id": 45921232, "body": "As mentioned in the answer. @array is probably empty, or it might just have one value and only populating <code>$gene2refseq[0]</code>"}, {"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "reply_to_user": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 0, "creation_date": 1425364096, "post_id": 28824936, "comment_id": 45921528, "body": "@salparadise no <code>@array</code> has more than 1 element and I have checked that; the problem was with initializing the variable; which I did my initializing it before <code>@array</code> Thanks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1425365837, "post_id": 28824936, "comment_id": 45922263, "body": "What do you mean by <i>\u201cDisclaimer: I am not very good with use warnings and use strict\u201d</i>? They&#39;re not hard to use! Are you saying that you often forget them? Or perhaps that you don&#39;t understand the resulting messages?"}, {"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425379584, "post_id": 28824936, "comment_id": 45929535, "body": "@Borodin I am just getting into the music, I earlier wrote scripts without them, but now when I have to deal with big files they got important"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1425379675, "post_id": 28824936, "comment_id": 45929580, "body": "@Rajinder: You were wrong: they have always been important"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1425380284, "post_id": 28824936, "comment_id": 45929962, "body": "Your use of <code>@::ids</code> is a bit of a red flag. That&#39;s going to be a package variables. And package variables are almost always the wrong approach. You should consider changing that to a lexical variable."}, {"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425387026, "post_id": 28824936, "comment_id": 45934052, "body": "@Borodin Yeah surely from now on I will always make use of them."}, {"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1425387030, "post_id": 28824936, "comment_id": 45934056, "body": "@DaveCross can you please suggest some good reading?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1425388879, "post_id": 28824936, "comment_id": 45935274, "body": "@Rajinder: Start at <a href=\"http://learn.perl.org/\" rel=\"nofollow noreferrer\">learn.perl.org</a> (in particular their <a href=\"http://learn.perl.org/books/\" rel=\"nofollow noreferrer\">suggested books</a>)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1425390689, "post_id": 28824936, "comment_id": 45936523, "body": "There&#39;s also the <a href=\"http://perl-tutorial.org/\" rel=\"nofollow noreferrer\">Perl tutorial hub</a>."}, {"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1425443327, "post_id": 28824936, "comment_id": 45961727, "body": "@DaveCross Thanks a lot"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "edited": false, "score": 0, "creation_date": 1425363006, "post_id": 28825127, "comment_id": 45921134, "body": "No the <code>@array</code> is not empty; I have checked that Also this loop structure is in between a <code>while loop</code> for a file with more than 10M lines (tab separated), so I want to keep only a single line of the file for processing at any moment. Also you mentioned that <code>&quot;Using @::ids and @::prot_gi is odd&quot;</code> what other way is to use them, as they are global variables."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "edited": false, "score": 1, "creation_date": 1425363586, "post_id": 28825127, "comment_id": 45921361, "body": "@Rajinder Check <code>@::ids</code> as well, it could contain uninitialized values.  It should not be necessary to qualify <code>@ids</code> and <code>@prot_gi</code>, I suspect you&#39;re working around <code>strict</code> poorly.  Declare them with <code>our @ids</code> and <code>our @prot_gi</code> or better yet, make them lexical (ie. only existing within the declared scope) with <code>my @ids</code> and <code>my @prot_gi</code> if there&#39;s no pressing need for them to be global."}, {"owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "edited": false, "score": 0, "creation_date": 1425364216, "post_id": 28825127, "comment_id": 45921575, "body": "yes these are global and in the other part of my code I have defined them as <code>our</code> but here is given just the snippet of my code"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1425363921, "last_edit_date": 1425363921, "creation_date": 1425362559, "answer_id": 28825127, "question_id": 28824936, "link": "https://stackoverflow.com/questions/28824936/warning-use-of-uninitialized-value-in-numeric-eq-in-perl/28825127#28825127", "title": "Warning: &#39;Use of uninitialized value in numeric eq&#39; in Perl", "body": "<p>If <code>@gene2refeq</code> is empty and <code>@array</code> is empty before the start of that code snippet, then <code>@gene2refeq</code> will be empty by line 53.</p>\n\n<p>To find out, print the contents of <code>@array</code> and <code>@gene2refeq</code>.  It's also possible <code>@::ids</code> contains uninitialized values, check that too.  Add a separator so you can see what's in them.</p>\n\n<pre><code>print \"\\@array is \".join(\", \", @array).\"\\n\";\nprint \"\\@gene2refeq is \".join(\", \", @gene2refeq).\"\\n\";\nprint \"\\@::ids is \".join(\", \", @::ids).\"\\n\";\n</code></pre>\n\n<p>As to your question about when to initialize things, there's a difference between <em>declaring</em> a variable and <em>initializing</em> it.  <code>my</code> and <code>our</code> declare a variable to exist lexically and globally respectively.  Then you can populate (initialize) it.</p>\n\n<p>The basic pattern of your program might look something like this.</p>\n\n<pre><code>my @ids;\n...code to populate @ids...\n\nmy @gene2refeq;\n...code to populate @gene2refeq...\n\nmy @array;\n...code to populate @array...\n\npush @gene2refeq, @array;\n\ndie \"\\@gene2refeq is not long enough, \".join(\", \", @gene2refeq)\n    unless @gene2refeq &gt;= 7;\n\nmy @prot_gi;\nforeach my $id (@ids) {\n    if($id == $gene2refseq[1])\n    {\n        push @prot_gi, $gene2refseq[6];\n    }\n}\n</code></pre>\n\n<p>A few other points.  That first <code>foreach</code> loop is better written as simply...</p>\n\n<pre><code>push @gene2refseq, @array;\n</code></pre>\n\n<p>Using <code>@::ids</code> and <code>@::prot_gi</code> is odd.  That's shorthand for getting the global variable <code>@ids</code> in the <code>main</code> package.  It shouldn't be necessary and smells like cargo culting.</p>\n"}], "owner": {"reputation": 41, "user_id": 3578365, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/009903058faf046f8073b778843c00c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3578365/rajinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4157, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1498095896, "creation_date": 1425361596, "last_edit_date": 1498095896, "question_id": 28824936, "link": "https://stackoverflow.com/questions/28824936/warning-use-of-uninitialized-value-in-numeric-eq-in-perl", "title": "Warning: &#39;Use of uninitialized value in numeric eq&#39; in Perl", "body": "<p>I am getting a warning as:</p>\n\n<blockquote>\n  <p>Use of uninitialized value in numeric eq (==) at script.pl line 53<code>; line 53 is</code>if statement`</p>\n</blockquote>\n\n<p>My code snippet:</p>\n\n<pre><code>foreach(@array)\n{\n    push @gene2refseq, $_;\n}\n\nforeach(@::ids)\n{\n    if($_ == $gene2refseq[1])\n    {\n        push @::prot_gi, $gene2refseq[6];\n    }\n}\n</code></pre>\n\n<p>Now if I declare <code>$gene2refseq[1]</code> before <code>foreach(@::ids)</code> the same error persists; but if I initialize it before <code>foreach(@::ids)</code> viz. <code>$gene2refseq[1] = 0</code> it didn't give the error but also no results; as the value is initialized to <code>0</code>.</p>\n\n<p>I think I am initializing it at a wrong place, but then where have I to initialize it? As I can't initialize it before or in <code>foreach(@array)</code></p>\n\n<hr>\n\n<p><em>Disclaimer: I am not very good with <code>use warnings</code> and <code>use strict</code></em></p>\n\n<hr>\n\n<h2>Edit: Solved</h2>\n\n<p>Thanks for the help; I just declared the <code>@gene2refseq</code> and initialized <code>$gene2refseq[1] = 0</code> before the <code>foreach(@array)</code>, and it worked fine.</p>\n\n<p>Also thanks for correcting me on <code>foreach</code> usage.</p>\n\n<h2>A question:</h2>\n\n<p>What if I have to access multiple indexes of an array? Do I have to initialize them all? As here I need to access only a single index, so I initialized it.</p>\n"}, {"tags": ["regex", "perl", "pipe", "strip"], "comments": [{"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425344495, "post_id": 28822260, "comment_id": 45916149, "body": "Here is the string with tags used in the example:  &#39;&quot;&lt;script&gt;Keep THIS&lt;/Script&gt;&quot;&#39;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425347056, "post_id": 28822260, "comment_id": 45916885, "body": "Please <i>always</i> show your Perl code. There are many ways to combine the components you have shown."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425345236, "post_id": 28822380, "comment_id": 45916330, "body": "Thank you Avinash for the prompt response!  Are you saying that there is an order of matching?  Does the order begin from the right with the period before the last &quot;|&quot;?  1. First match is by &#39;&quot;|.&quot;&#39; which is the whole string,  2. Second match are the tags and 3. Third match is the remaining string."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425345464, "post_id": 28822380, "comment_id": 45916407, "body": "At first <code>([\\w\\.!?,\\s-]+)</code> matches all the word characters, spaces etc except <code>&lt;</code>, <code>&gt;</code>. Then after it sees the pattern <code>&lt;.*?&gt;</code>, it matches the tag strings leaves only the remaining in-between <code>Keep THis</code> string. But i always suggest you to write <code>&lt;.*?&gt;|([\\w\\.!?,\\s-])|.</code> . Finally the . matches all the remaining characters which are not matched."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425345669, "post_id": 28822380, "comment_id": 45916486, "body": "NOte that the regex engine parses the string from left to right."}, {"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425345757, "post_id": 28822380, "comment_id": 45916512, "body": "Avinash, I removed the last  &#39;&quot;|.&quot;&#39; it will not work without it.  Thanks!"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425345822, "post_id": 28822380, "comment_id": 45916531, "body": "yep, the  final <code>|.</code> is used to match all the remaining characters. So it&#39;s must."}, {"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425346128, "post_id": 28822380, "comment_id": 45916634, "body": "my comments treating each case separately:                                          ( group and capture to \\1:     [\\w\\.!?,\\s-]             any character of: word characters (a-z,                              A-Z, 0-9, _), &#39;\\.&#39;, &#39;!&#39;, &#39;?&#39;, &#39;,&#39;,                              whitespace (\\n, \\r, \\t, \\f, and &quot; &quot;), &#39;-                              &#39;   ) end of \\1                            by itself matches &lt;script&gt;Keep THIS&lt;/Script&gt;"}, {"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425346316, "post_id": 28822380, "comment_id": 45916687, "body": "|                        OR   &lt;                        &#39;&lt;&#39;   .?                       any character except \\n (optional                            (matching the most amount possible))   &gt;                        &#39;&gt;&#39;                            by itself matches &lt;script&gt;     &lt;/Script&gt;  |                        OR   .                        any character except \\n                            by itself matches &lt;script&gt;Keep THIS&lt;/Script&gt;Here are"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425346503, "post_id": 28822380, "comment_id": 45916735, "body": "note that at the end of <code>\\1</code>, it matches <code>script</code> , <code>Keep THIS</code>, <code>Script</code> any single character from each. It won&#39;t match <code>&lt;</code> or <code>&gt;</code> or <code>&#47;</code> because we failed to include that inside the character class. So once it see  <code>&lt;</code> , it matches all the <code>&lt;</code> chars and from that it matches all the characters non-greedily upto the next closing <code>&gt;</code> symbol. THis is it matches  each char in this string <code>script</code> for second time."}, {"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425346723, "post_id": 28822380, "comment_id": 45916795, "body": "Avinash,  its pretty straightforward is we take each case separately, but then when we put them together in the same line it matches first the whole string as a capture group so it can be used in memory as $1, then it matches the &#39;&quot;&lt;Script&gt;&quot;&#39; which means it strips it with an Or ?  and then it uses the last period to bring what?  ???"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425346832, "post_id": 28822380, "comment_id": 45916825, "body": "<code>and then it uses the last period to bring what? ???</code>  see <a href=\"https://regex101.com/r/cF9oW4/3\" rel=\"nofollow noreferrer\">regex101.com/r/cF9oW4/3</a> the last colon was matched by the last <code>|.</code> pattern. It is used to match all the other remaining charcaters."}, {"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425347177, "post_id": 28822380, "comment_id": 45916908, "body": "I think I finally get it.  It first matches the whole string but in parts: first as only characters in first group, secondly as &lt; or &gt; or /. But since the first group is placed in memory $1 we are set, but we still need to match each string a second time.  I assume the second time around it shows: &#39;&quot;&lt;script&gt;Keep THIS&lt;/Script&gt;&quot;&#39; right? Thanks!"}, {"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425347399, "post_id": 28822380, "comment_id": 45916969, "body": "Avinash, I take your word for it, the second time around it matches only &quot;Keep THIS&quot; and disregards the second group (I wonder how?).  It would be great to look under the hood and see the matching process.  Thanks!"}, {"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425347723, "post_id": 28822380, "comment_id": 45917047, "body": "Avinash, Thank you for all your help!  Juan"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425347730, "post_id": 28822380, "comment_id": 45917051, "body": "@quinoa since <code>&lt;</code>, <code>&gt;</code> are not matched by the first pattern, second pattern tries to match from <code>&lt;</code> to <code>&gt;</code> and this makes the first pattern to leave the it&#39;s previous matches. If <code>&lt;</code>, <code>&gt;</code> is included inside the char class of first pattern then it wont happens."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425347806, "post_id": 28822380, "comment_id": 45917062, "body": "Accept an answer from here which helps you the most."}, {"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425348007, "post_id": 28822380, "comment_id": 45917102, "body": "Thanks again!  How do I vote for you?  Thanks for helping me think this through!  Respectfully, Quinoa"}, {"owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425348575, "post_id": 28822380, "comment_id": 45917222, "body": "I did not receive the option to accept your answer.  I am new at this site. Thanks!  Quinoa"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "edited": false, "score": 0, "creation_date": 1425348859, "post_id": 28822380, "comment_id": 45917314, "body": "press the tick mark below the down arrow which belongs to this answer."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1425375105, "post_id": 28822380, "comment_id": 45926752, "body": "I give you upvote to nullify the downvote, it&#39;s a pity when the downvoter doesn&#39;t explain."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 1, "last_activity_date": 1425345528, "last_edit_date": 1425345528, "creation_date": 1425344955, "answer_id": 28822380, "question_id": 28822260, "link": "https://stackoverflow.com/questions/28822260/what-is-happening-inside-this-regex-alteration-expression/28822380#28822380", "title": "What is happening inside this regex alteration expression", "body": "<p><code>&lt;.*?&gt;</code>  matches all the tags , that is it matches all the strings which starts with <code>&lt;</code> and endswith <code>&gt;</code>. Then from the remaining string this <code>([\\w\\.!?,\\s-])</code> regex would capture all the word character or dot or <code>!</code> or <code>?</code> or space or comma or hyphen. Note that it would capture each single character into group 1.</p>\n\n<p>If you want to capture the whole string <code>Keep THIS</code> into group 1 then you need to add <code>+</code> quantifier next to the character class. <code>+</code> repeats the previous token one or more times.</p>\n\n<pre><code>([\\w\\.!?,\\s-]+)|&lt;.*?&gt;|.\n</code></pre>\n\n<p>Finally the <code>.</code> matches all the remaining characters which are not matched.</p>\n\n<p><a href=\"https://regex101.com/r/cF9oW4/2\" rel=\"nofollow\">DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1425346969, "creation_date": 1425346969, "answer_id": 28822671, "question_id": 28822260, "link": "https://stackoverflow.com/questions/28822260/what-is-happening-inside-this-regex-alteration-expression/28822671#28822671", "title": "What is happening inside this regex alteration expression", "body": "<p>The only way this does what you say is if you are using a <em>global</em> match in a loop, and don't have <code>use warnings</code> in place as you should.</p>\n\n<p>Here's what I think you have, but using <code>Data::Dump</code> to display the contents of <code>$1</code> instead of what is presumably <code>print $1</code> in your own code. (It <em>really</em> helps a lot to show your <em>actual</em> Perl code instead of selected snippets.)</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nmy $s = '&lt;script&gt;Keep THIS&lt;/Script&gt;';\n\nmy $re = qr/(?x)\n([\\w\\.!?,\\s-])|&lt;.*?&gt;|./;\n\nwhile ( $s =~ /$re/g ) {\n  dd $1;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>undef\n\"K\"\n\"e\"\n\"e\"\n\"p\"\n\" \"\n\"T\"\n\"H\"\n\"I\"\n\"S\"\nundef\n</code></pre>\n\n<ul>\n<li>The first pass is matching <code>&lt;script&gt;</code>, which isn't captured so <code>$1</code> is undefined.</li>\n<li>Subsequent passes match a <em>single character</em> from the class <code>[\\w\\.!?,\\s-]</code>, which consumes the string <code>Keep THIS</code> one character at a time.</li>\n<li>Finally, the closing <code>&lt;/Script&gt;</code> is matched without capturing, and leaves <code>$1</code> undefined again.</li>\n</ul>\n\n<p><code>undef</code> is printed as a null string, and without <code>warnings</code> enabled you won't be alerted to it.</p>\n\n<p>The solution is to <em>always</em> use a poper HTML parser to process HTML. Regular expressions are the wrong tool for the job.</p>\n"}], "owner": {"reputation": 13, "user_id": 4625657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae7c9f61e8d5ca3ed6aef51334522f3?s=128&d=identicon&r=PG&f=1", "display_name": "quinoa", "link": "https://stackoverflow.com/users/4625657/quinoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 28822380, "answer_count": 2, "score": -1, "last_activity_date": 1425346969, "creation_date": 1425344263, "last_edit_date": 1425344677, "question_id": 28822260, "link": "https://stackoverflow.com/questions/28822260/what-is-happening-inside-this-regex-alteration-expression", "title": "What is happening inside this regex alteration expression", "body": "<p>The following regular expresion works but can anyone explain how?\nAny comment is appreciated!  Thanks!  Quinoa</p>\n\n<p>What is the regex \"|\" doing to strip the tags \"\" and \"\" from  <code>&lt;script&gt;Keep THIS&lt;/Script&gt;</code> to get <code>\"Keep THIS\"</code> into memory $1?</p>\n\n<p>Here is the REGEX:</p>\n\n<pre><code>(?x)\n([\\w\\.!?,\\s-])|&lt;.*?&gt;|.\n</code></pre>\n\n<p>Here is the string:</p>\n\n<pre><code> &lt;script&gt;Keep THIS&lt;/Script&gt;\n</code></pre>\n\n<p>Results: $1 = \"Keep THIS\"</p>\n\n<p>Commented below:</p>\n\n<pre><code>  (?x)                     set flags for this block (disregarding\n                           whitespace and comments) (case-sensitive)\n                           (with ^ and $ matching normally) (with .\n                           not matching \\n)\n\n  (                        group and capture to \\1:\n    [\\w\\.!?,\\s-]             any character of: word characters (a-z,\n                             A-Z, 0-9, _), '\\.', '!', '?', ',',\n                             whitespace (\\n, \\r, \\t, \\f, and \" \"), '-\n                             '\n  )                        end of \\1\n |                        OR\n  &lt;                        '&lt;'\n  .?                       any character except \\n (optional\n                           (matching the most amount possible))\n  &gt;                        '&gt;'\n |                        OR\n  .                        any character except \\n\n</code></pre>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 2744953, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/277529f3d005ce1516f2127f415ff562?s=128&d=identicon&r=PG&f=1", "display_name": "Bintz", "link": "https://stackoverflow.com/users/2744953/bintz"}, "edited": false, "score": 1, "creation_date": 1425340787, "post_id": 28821588, "comment_id": 45915076, "body": "Beautiful! Thanks. Filing under &quot;why didn&#39;t I think of that?!&quot;"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1425341672, "post_id": 28821588, "comment_id": 45915360, "body": "The answer to &quot;why isn&#39;t this working?&quot; is that <i><a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">slices in scalar context return the last item of the slice</a></i> (like <a href=\"http://perldoc.perl.org/perldata.html#List-value-constructors\" rel=\"nofollow noreferrer\">list literals</a>)."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1425342142, "post_id": 28821588, "comment_id": 45915477, "body": "@pilcrow tnx for comment."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1425342457, "last_edit_date": 1425342457, "creation_date": 1425340127, "answer_id": 28821588, "question_id": 28821551, "link": "https://stackoverflow.com/questions/28821551/perl-testing-hash-slice-doesnt-produce-expected-outcome/28821588#28821588", "title": "Perl: testing hash slice doesn&#39;t produce expected outcome", "body": "<p><a href=\"http://perldoc.perl.org/functions/defined.html\" rel=\"nofollow\">perldoc -f defined</a> doesn't mention hash slice, and warnings don't warn you about this, but what you want is,</p>\n\n<pre><code>if (grep defined, @hash{qw{value1 value2 value3}}) {\n  # code block\n}\n</code></pre>\n\n<p>as <code>defined()</code> forces scalar context, and <em>slices</em> in such case return last element.</p>\n\n<pre><code>use warnings;\n\nsub context {\n  print wantarray ? \"LIST\" : \"SCALAR\";\n}\n\nmy $def = defined(context());\n</code></pre>\n\n<p>outputs <code>SCALAR</code></p>\n"}], "owner": {"reputation": 605, "user_id": 2744953, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/277529f3d005ce1516f2127f415ff562?s=128&d=identicon&r=PG&f=1", "display_name": "Bintz", "link": "https://stackoverflow.com/users/2744953/bintz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 28821588, "answer_count": 1, "score": 1, "last_activity_date": 1425342457, "creation_date": 1425339862, "question_id": 28821551, "link": "https://stackoverflow.com/questions/28821551/perl-testing-hash-slice-doesnt-produce-expected-outcome", "title": "Perl: testing hash slice doesn&#39;t produce expected outcome", "body": "<p>I have the following code:</p>\n\n<pre><code>if (defined(@hash{qw{value1 value2 value3}})){\n    # code block\n}\n</code></pre>\n\n<p>What I want to happen is for the code block to execute if either $hash{value1}, $hash{value2} or $hash{value3} is defined. However, what happens is that the code block executes if and only if $hash{value3} is defined:</p>\n\n<pre><code>$hash{value3}='yep, here!';\nif (defined(@hash{qw{value1 value2 value3}})){\n    print \"yay!\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>yay!\n</code></pre>\n\n<p>But:</p>\n\n<pre><code>$hash{value2}='yep, here!';\nif (defined(@hash{qw{value1 value2 value3}})){\n    print \"yay!\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;nothing&gt;\n</code></pre>\n\n<p>Why isn't this working right and what should I do?</p>\n"}, {"tags": ["arrays", "regex", "perl", "list", "grep"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1425338800, "creation_date": 1425338800, "answer_id": 28821354, "question_id": 28821298, "link": "https://stackoverflow.com/questions/28821298/how-do-i-use-perls-grep-function-with-an-array/28821354#28821354", "title": "How do I use Perl&#39;s grep function with an array?", "body": "<p>The syntax <code>[ ... ]</code> defines a reference to an array, not a list, and your declaration</p>\n\n<pre><code>my @test2 = [\"AAA\", \"AAB\", \"AAC\"];\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>my @test2;\n$test2[0] = [\"AAA\", \"AAB\", \"AAC\"];\n</code></pre>\n\n<p>You probably wanted to assign a list of 3 elements to <code>@test2</code>. The way to do this is with <code>( ... )</code> notation.</p>\n\n<pre><code>my @test2 = ('AAA', 'AAB', 'AAC');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4625236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abe1fe03296ea74a3ae0b759aa1f6f4?s=128&d=identicon&r=PG&f=1", "display_name": "Jamison Rose", "link": "https://stackoverflow.com/users/4625236/jamison-rose"}, "edited": false, "score": 1, "creation_date": 1425339770, "post_id": 28821402, "comment_id": 45914776, "body": "This makes sense. I did not realize that that the square brackets created a reference to an array rather than just filling in its indexes."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 4, "last_activity_date": 1425339481, "last_edit_date": 1425339481, "creation_date": 1425339049, "answer_id": 28821402, "question_id": 28821298, "link": "https://stackoverflow.com/questions/28821298/how-do-i-use-perls-grep-function-with-an-array/28821402#28821402", "title": "How do I use Perl&#39;s grep function with an array?", "body": "<p><code>@test2</code> consist of exactly one element which is array reference, and regex forces stringification, something you probably didn't expect,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @test = qw(AAA AAB AAC);\nmy @test2 = [\"AAA\", \"AAB\", \"AAC\"];\n\nprint \"$_\\n\" for @test;\nprint \"$_\\n\" for @test2;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>AAA\nAAB\nAAC\nARRAY(0x85bfda8)\n</code></pre>\n\n<p>Use <code>my @test2 = (\"AAA\", \"AAB\", \"AAC\");</code> or <code>quote word</code> operator alternative <code>my @test2 = qw(AAA AAB AAC);</code></p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1442454376, "last_edit_date": 1442454376, "creation_date": 1425486227, "answer_id": 28859575, "question_id": 28821298, "link": "https://stackoverflow.com/questions/28821298/how-do-i-use-perls-grep-function-with-an-array/28859575#28859575", "title": "How do I use Perl&#39;s grep function with an array?", "body": "<p>If you intended the variable \"<code>@test2</code>\" to be an <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">array reference</a> (since <code>[ ]</code> is the anonymous array constructor here) then you should give it a name like <code>$test2</code> (i.e. a scalar variable) and then dereference it when using <code>grep</code>:</p>\n\n<pre><code>my $test2 = [\"AAA\", \"AAB\", \"AAC\"];\n\nmy @results = grep(m/AA./, @test);\nmy @results2 = grep(m/AA./, @$test2);\n</code></pre>\n\n<p>If you then print <code>@results</code> and <code>@results2</code> concatenating them with \"<code>.\"\\n\";</code> this creates scalar context for your output. Scalar context for an array will show the number of elements in the array. If you use <code>join</code> to print it will show the elements:</p>\n\n<pre><code>print join \"\\n\", @results2 ;\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>AAA\nAAB\nAAC\n</code></pre>\n\n<p>The documentation in <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\"><code>perldoc perlreftut</code></a> explains why references are a good thing ;-)</p>\n"}], "owner": {"reputation": 23, "user_id": 4625236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abe1fe03296ea74a3ae0b759aa1f6f4?s=128&d=identicon&r=PG&f=1", "display_name": "Jamison Rose", "link": "https://stackoverflow.com/users/4625236/jamison-rose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 28821402, "answer_count": 3, "score": 2, "last_activity_date": 1442454376, "creation_date": 1425338534, "question_id": 28821298, "link": "https://stackoverflow.com/questions/28821298/how-do-i-use-perls-grep-function-with-an-array", "title": "How do I use Perl&#39;s grep function with an array?", "body": "<p>I am trying to use the grep function in Perl to find the number of matches for a regexp in an array. I know grep is supposed to take a list as its parameter, but unfortunately the data I am trying to access is in the form of an array. Here is a simplified example of my problem:</p>\n\n<pre><code>using strict;\nusing warnings;\n\nmy @test = qw(AAA AAB AAC);\nmy @test2 = [\"AAA\", \"AAB\", \"AAC\"];\n\nmy @results = grep(m/AA./, @test);\nmy @results2 = grep(m/AA./, @test2);\n\nprint @results . \"\\n\";\nprint @results2 . \"\\n\";\n</code></pre>\n\n<p>The first print puts out 3 since every member of the list matches. The second print prints out 0 which I'm assuming is because grep does not like the array. Is there an alternative I should be using or is my syntax incorrect? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 33858, "user_id": 773159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fcd72af6d7d5fdd28fc45289da3792a?s=128&d=identicon&r=PG", "display_name": "Birei", "link": "https://stackoverflow.com/users/773159/birei"}, "edited": false, "score": 1, "creation_date": 1425336603, "post_id": 28820880, "comment_id": 45913657, "body": "I think this post can help you to get an answer: <a href=\"http://stackoverflow.com/questions/24936145/perl-empty-1-regex-value-when-matching\" title=\"perl empty 1 regex value when matching\">stackoverflow.com/questions/24936145/&hellip;</a>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 4, "creation_date": 1425337067, "post_id": 28820880, "comment_id": 45913852, "body": "Hint: <code>use warnings</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1425336896, "post_id": 28820923, "comment_id": 45913777, "body": "yes, it works, thank you."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1425363588, "post_id": 28820923, "comment_id": 45921362, "body": "@Krish : If this solved your problem, accept this as an answer and close this."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1425336643, "creation_date": 1425336643, "answer_id": 28820923, "question_id": 28820880, "link": "https://stackoverflow.com/questions/28820880/print-the-matched-string-in-perl-pattern-match/28820923#28820923", "title": "Print the matched string in Perl pattern match", "body": "<p>You aren't capturing anything inside your regex. Your parentheses need to be <em>inside</em> the pattern, like this</p>\n\n<pre><code>if ( $type =~ /(build|test)/ ) {\n    print \"type=$1\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425365366, "post_id": 28821806, "comment_id": 45922085, "body": "I don&#39;t understand what you&#39;re saying here. Are you simply demonstrating that the parentheses make no difference? That doesn&#39;t seem to be a solution to the question."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425366451, "post_id": 28821806, "comment_id": 45922468, "body": "Yes, and solution is suggested at the end of the answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425366570, "post_id": 28821806, "comment_id": 45922530, "body": "Okay. But <i>\u201c<code>&#47;(build|test)&#47;</code> should be completely another story\u201d</i> doesn&#39;t look a lot like a proposed solution, or even a recommendation!"}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1425393712, "post_id": 28821806, "comment_id": 45938638, "body": "@Cyxon27, Thanks for showing Deparse feature, but it throws below error when I try to check the same, I got the answer to my problem, but like to know how to use Deparse.   <code>C:\\&gt;perl -MO=Deparse -e &#39;use strict; my $type = &quot;build&quot;; if ($type =~ (&#47;build|test&#47;))  { print &quot;type=$1&quot;; }&#39;</code> <i>Search pattern not terminated at -e line 1.  test: extra argument `&#39;</i>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1425500752, "post_id": 28821806, "comment_id": 45993474, "body": "@Krish under win you&#39;ll have to use <code>perl -e &quot;..&quot;</code>, and <code>qq()</code> instead of <code>&quot;&quot;</code>."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1425341590, "creation_date": 1425341590, "answer_id": 28821806, "question_id": 28820880, "link": "https://stackoverflow.com/questions/28820880/print-the-matched-string-in-perl-pattern-match/28821806#28821806", "title": "Print the matched string in Perl pattern match", "body": "<p>It looks like you're not capturing anything with your parentheses,</p>\n\n<pre><code>perl -MO=Deparse -e'\n  use strict;\n\n  my $type = \"build\";\n  if ($type =~ (/build|test/))\n  {\n     print \"type=$1\";\n  }\n  '\n</code></pre>\n\n<p>output</p>\n\n<pre><code>use strict;\nmy $type = 'build';\nif ($type =~ /build|test/) {\n    print \"type=$1\";\n}\n</code></pre>\n\n<p>but <code>/(build|test)/</code> should be completely another story.</p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1425360562, "creation_date": 1425360562, "answer_id": 28824719, "question_id": 28820880, "link": "https://stackoverflow.com/questions/28820880/print-the-matched-string-in-perl-pattern-match/28824719#28824719", "title": "Print the matched string in Perl pattern match", "body": "<p>That is the reason people here suggest to use <code>use warnings</code> and <code>use strict</code>.\nIf you add <code>use warnings</code> in your code you will get a warning:</p>\n\n<pre><code>Use of uninitialized value $1 in concatenation (.) or string at type.pl line 7\n</code></pre>\n\n<p>code is :</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $type = \"build\";\nif ($type =~ /(build|test)/)\n{\n   print \"type=$1\";\n}\n</code></pre>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "closed_date": 1425382908, "accepted_answer_id": 28821806, "answer_count": 3, "score": 0, "last_activity_date": 1425360562, "creation_date": 1425336431, "question_id": 28820880, "link": "https://stackoverflow.com/questions/28820880/print-the-matched-string-in-perl-pattern-match", "closed_reason": "Duplicate", "title": "Print the matched string in Perl pattern match", "body": "<pre><code>use strict;\n\nmy $type = \"build\";\nif ($type =~ (/build|test/))\n{\n   print \"type=$1\";\n}\n</code></pre>\n\n<p>I expect it to print \"type=build\", but $1 gets nothing and it prints \"type=\", what am I doing wrong?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1425331865, "post_id": 28819770, "comment_id": 45911388, "body": "Aren&#39;t you testing if your match is successful or not?"}, {"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "edited": false, "score": 0, "creation_date": 1425332113, "post_id": 28819770, "comment_id": 45911488, "body": "Post a little sample code, please.  In general you should only be accessing $1 if you have a positive pattern match result."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425332207, "post_id": 28819770, "comment_id": 45911536, "body": "Typically you do something like this: <code>print $1 if m&#47;foo (bar)&#47;;</code> (replace <code>print</code> with whatever you&#39;re doing to manipulate <code>$1</code>)"}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425332714, "post_id": 28819770, "comment_id": 45911786, "body": "@ThisSuitIsBlackNot: That did not work, i used <code>$hash{$_[1]} = $1 if $val =~ &#47;giveaways_nonce&quot; value=&quot;(.*?)&quot;&#47;;</code> and it outputted same thing"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425334544, "post_id": 28819770, "comment_id": 45912676, "body": "@Bijan I assume you&#39;re using <code>WWW::Mechanize</code>? If so, are you using <code>autocheck =&gt; 1</code> (the default)? This will <code>croak</code> on error, so you shouldn&#39;t even get to the regex for the failed request. Regardless, the assignment in <code>$hash{$_[1]} = $1 if $val =~ &#47;giveaways_nonce&quot; value=&quot;(.*?)&quot;&#47;;</code> will only run if the match succeeds; double check the contents of <code>$val</code>. In your snippet, <code>$val</code> appears to be a global, or at least a lexical variable that you&#39;re not passing as a parameter; I wouldn&#39;t be surprised if it was being changed elsewhere in your code."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 1, "creation_date": 1425335472, "post_id": 28819770, "comment_id": 45913132, "body": "I am using <code>WWW::Mechanize::PhantomJS</code>. The problem was that on an invalid url, $mech-&gt;content was not updating which would leave <code>$val</code> as the old value"}], "answers": [{"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1425334291, "post_id": 28820063, "comment_id": 45912552, "body": "Your code is providing the same output but I found out why.. I moved declaration of <code>$mech</code> to beginning of subroutine"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1425332842, "creation_date": 1425332842, "answer_id": 28820063, "question_id": 28819770, "link": "https://stackoverflow.com/questions/28819770/perl-reset-1-variable/28820063#28820063", "title": "Perl: Reset $1 variable", "body": "<p>I'd suggest not using <code>$1</code>, and instead:</p>\n\n<pre><code>my ( $match ) = ( $val =~ m/value=\"(.*?)\"/ );\n</code></pre>\n\n<p>Useful feature of pattern matching like this - in a scalar context, it's a 'true/false' but in a list context, it returns a list of matches. Which you can then assign to individual scalars. </p>\n\n<p>So anyway - <code>$match</code> is <code>undef</code> if the match fails, and whatever is in the match if it worked. You should make a point of using <code>defined</code> to test this though, because if the value in <code>$match</code> is <code>0</code> or <code>''</code> it'll <em>evaluate</em> false, despite having worked. </p>\n\n<p>E.g.:</p>\n\n<pre><code>our %hash;\nsub GetOnce{\n    my ( $url, $key ) = @_; \n    $mech-&gt;get($url);\n    my ( $match ) = ( $mech -&gt; content =~ m/value=\"(.*?)\"/ ); \n    #may not need to test it -  you could just have an undef value. \n    if ( defined $match ) { $hash{$key} = $match };\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1425336343, "creation_date": 1425336343, "answer_id": 28820856, "question_id": 28819770, "link": "https://stackoverflow.com/questions/28819770/perl-reset-1-variable/28820856#28820856", "title": "Perl: Reset $1 variable", "body": "<p>You should test the regex match itself, rather than the value of the captures. It is also best to <em>name</em> the values in <code>@_</code>, and to use a complementary character class instead of a non-greedy match in your regex.</p>\n\n<p>Like this</p>\n\n<pre><code>our %hash;\n\nsub get_once {\n    my ($url, $key) = @_;\n    $mech-&gt;get($url);\n    my $content = $mech-&gt;content;\n    $hash{$key} = $1 if $content =~ /value=\"([^\"]*)\"/;\n}\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 1, "accepted_answer_id": 28820063, "answer_count": 2, "score": 0, "last_activity_date": 1425336343, "creation_date": 1425331743, "last_edit_date": 1425332536, "question_id": 28819770, "link": "https://stackoverflow.com/questions/28819770/perl-reset-1-variable", "title": "Perl: Reset $1 variable", "body": "<p>I have a subroutine that works on the first time it is called but on the second time, if the URL is not valid, it uses the previous value of <code>$1</code>. Is there a simple way to rest the value of <code>$1</code> or to be equal to a NULL value?</p>\n\n<p>Edit: Here is my code</p>\n\n<pre><code>our %hash;\nsub GetOnce{\n    $mech-&gt;get($_[0]);\n    $val = $mech-&gt;content;\n    $val =~ /value=\"(.*?)\"/;\n    if($1 ne \"\") {$hash{$_[1]} = $1;}\n}\nGetNonce(\"http://URL1\", \"VAR1\"); #Valid URL\nGetNonce(\"http://URL2\", \"VAR2\"); #Timesout\n</code></pre>\n\n<p>I just want to reset the value for Error Handling. I.e. if URL1 is valid but URL2 is invalid or timesout, then <code>$1</code> will be the same for both of them. If URL1 is invalid/timesout and URL2 is valid, then only the $1 from URL2 is saved. And if they're both valid, then the program stores each of their $1's. </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1425329676, "creation_date": 1425329676, "answer_id": 28819252, "question_id": 28819035, "link": "https://stackoverflow.com/questions/28819035/reference-to-a-hash-with-struct-class/28819252#28819252", "title": "Reference to a hash with struct class", "body": "<p>To change the content of the structure, just use the appropriate method:</p>\n\n<pre><code>$library{one}-&gt;content(\"Second text\\n\");\n</code></pre>\n\n<p>If you really want to break encapsulation, you can try</p>\n\n<pre><code>my $ref = \\$library{one}{'lib::content'};\n$$ref = \"Second text\\n\";\nprint $$ref;\nprint $library{one}-&gt;content;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 1750851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c759e38c5b9869093695c5fb0220812?s=128&d=identicon&r=PG", "display_name": "hrodic", "link": "https://stackoverflow.com/users/1750851/hrodic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 28819252, "answer_count": 1, "score": 1, "last_activity_date": 1425329676, "creation_date": 1425328739, "question_id": 28819035, "link": "https://stackoverflow.com/questions/28819035/reference-to-a-hash-with-struct-class", "title": "Reference to a hash with struct class", "body": "<p>Hello I'm tryting to reference a hash array with a structure, but doesn't work when I need to write on it.</p>\n\n<pre><code>use warnings;\nuse Class::Struct;\n\nstruct lib  =&gt; {\n    content   =&gt;    '$',\n    type       =&gt;   '$',\n};\n\nmy %library ;\n\n$library{\"one\"} = lib-&gt;new();\n$library{\"one\"}-&gt;content(\"first text here \\n\");\nmy $ref = \\$library{\"one\"}-&gt;content();\nprint $$ref ;\n$$ref = \"Second text\\n\" ;\nprint $$ref ;\nprint $library{\"one\"}-&gt;content() ;\n</code></pre>\n\n<p>How can I make the reference to update the content ?</p>\n"}, {"tags": ["arrays", "regex", "perl", "grep"], "comments": [{"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1425328355, "post_id": 28818912, "comment_id": 45909545, "body": "Just for note. I used the command.     print map {&quot;$_\\n&quot;} @lines;  To see if my input.txt was inside the array @list and it worked....at least this :)"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1425328542, "post_id": 28818912, "comment_id": 45909655, "body": "Unless you&#39;re doing more within the <code>while</code> loop than just <code>push</code>ing the individual lines into an array you might as well just: <code>@lines = &lt;$input&gt;;</code>"}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1425328745, "post_id": 28818912, "comment_id": 45909771, "body": "Something like this you mean?     <code>open (FILE, &#39;input.txt&#39;);     chomp (my @input = (&lt;FILE&gt;));     close(FILE);</code>  But I got what you wanted to say!"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1425328935, "post_id": 28818912, "comment_id": 45909864, "body": "I&#39;d stick with the lexical file handles instead of switching to the global bare word versions, but otherwise, you&#39;ve got the idea."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425338754, "post_id": 28819834, "comment_id": 45914453, "body": "It&#39;s ironic that you recommend hiding the loop with <code>my @lines = &lt;$input&gt;</code> and then reject doing the same thing with <code>grep</code>!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425369131, "post_id": 28819834, "comment_id": 45923679, "body": "It&#39;s not so much loop hiding, as I find both grep and map prone to making hard to understand code. A matter of opinion, I will grant, but will tend to avoid them when offering solutions. Your code below is a perfect example - entirely correct, efficient and concise, but something I had to look at twice as a less experienced programmer to understand what it was doing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425369551, "post_id": 28819834, "comment_id": 45923832, "body": "Yes, I agree they are prone to misuse. I like to think that when they appear in my code they make it clearer than the equivalent <code>for</code>, but of course that&#39;s always a matter of perception, like some people can&#39;t handle <code>unless</code>. But surely you would choose a simple <code>@matches = grep &#47;pattern&#47;, @list</code> over the equivalent <code>for</code> and <code>push</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1425376219, "post_id": 28819834, "comment_id": 45927433, "body": "Probably, yes. Matter of taste and style so nothing I&#39;m firmly adverse to - and something I tend to use more in my code than I would in snippets. To each their own really :)"}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425382419, "post_id": 28819834, "comment_id": 45931315, "body": "Nice @Sobrique! As a new guy in programming I indeed think the code of @Sobrique easier to understand. But the @Borodin is also a really good one, especially the thing about <code>quotemeta</code> . Thank you both! I&#39;ll come with the answer @Sobrique, if it worked of not for me!!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 1, "creation_date": 1425383261, "post_id": 28819834, "comment_id": 45931821, "body": "@guidebortoli: If you&#39;re going with this answer then you will need to <code>chomp @lines</code> before the <code>for</code> loop for it to work properly. Also, my point about regex metacharacters applies here as well."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425383403, "post_id": 28819834, "comment_id": 45931891, "body": "Edited to include - well spotted."}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1425383566, "post_id": 28819834, "comment_id": 45931991, "body": "@Sobrique. Worked! I&#39;ll give you the positive answer because yours was easier for me to understand! Thank you very much, I really appreciated!!!"}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1425383629, "post_id": 28819834, "comment_id": 45932020, "body": "About the <code>chomp @lines</code> I could figured out by myself! At least this, hahaha! Thank you guys!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1425383384, "last_edit_date": 1425383384, "creation_date": 1425332043, "answer_id": 28819834, "question_id": 28818912, "link": "https://stackoverflow.com/questions/28818912/perl-matching-files-of-a-directory-using-an-array-with-part-of-the-these-file/28819834#28819834", "title": "Perl, matching files of a directory, using an array with part of the these file names", "body": "<p>OK, first off - your while loop is redundant. If you read from a filehandle in a list context, it reads the whole thing. </p>\n\n<pre><code>my @lines = &lt;$input&gt;; \n</code></pre>\n\n<p>will do the same as your while loop. </p>\n\n<p>Now, for your patterns - you're matching one list against another list, but partial matches. </p>\n\n<pre><code>chomp ( @lines );\nforeach my $file ( @files ) {\n    foreach my $line ( @lines ) {\n        if ( $file =~ m/$line/ ) { print \"$file matches $line\"; }\n    }\n}\n</code></pre>\n\n<p>(And yes, something like grep or map can do this, but I always find those two make my head hurt - they're neater, but they're implicitly looping so you don't really gain much algorithmic efficiency). </p>\n"}, {"comments": [{"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1425382146, "post_id": 28821285, "comment_id": 45931148, "body": "Thank you very much @Borodin. I&#39;ll have a look now and see if it&#39;ll work for me (which probably will)..."}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1425383397, "post_id": 28821285, "comment_id": 45931887, "body": "Alright @Borodin!!! Your code worked for me. I&#39;ll stick with the answer of @Sobrique, because for me it was easier to understand. But You code also worked!!! thank you very much!!!!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1425398282, "last_edit_date": 1425398282, "creation_date": 1425338501, "answer_id": 28821285, "question_id": 28818912, "link": "https://stackoverflow.com/questions/28818912/perl-matching-files-of-a-directory-using-an-array-with-part-of-the-these-file/28821285#28821285", "title": "Perl, matching files of a directory, using an array with part of the these file names", "body": "<p>You can build a regular expression from the contents of <code>input.txt</code> like this</p>\n\n<pre><code>my @lines = do {    \n    open my $fh, '&lt;', 'input.txt' or die $!;         \n    &lt;$fh&gt;;\n};\nchomp @lines;\nmy $re = join '|', @lines;\n</code></pre>\n\n<p>and then find the required files using</p>\n\n<pre><code>my @files = grep /^(?:$re)/, glob '*.mapped*';\n</code></pre>\n\n<p>Note that, if the list in <code>input.txt</code> contains any regex metacharacters, such as <code>.</code>, <code>*</code>, <code>+</code> etc. you will need to escape them, probably using <code>quotemeta</code> like this</p>\n\n<pre><code>my $re = join '|', map quotemeta, @lines;\n</code></pre>\n\n<p>and it may be best to do this anyway unless you are <em>certain</em> that there will <em>never ever</em> be such characters in the file.</p>\n"}], "owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 28819834, "answer_count": 2, "score": 0, "last_activity_date": 1425398282, "creation_date": 1425328197, "last_edit_date": 1425330946, "question_id": 28818912, "link": "https://stackoverflow.com/questions/28818912/perl-matching-files-of-a-directory-using-an-array-with-part-of-the-these-file", "title": "Perl, matching files of a directory, using an array with part of the these file names", "body": "<p>So, I have this directory with files named like this:</p>\n\n<pre><code>HG00119.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.bam.bai\nHG00119.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_herc2_data.bam\nHG00117.mapped.illumina.mosaik.GBR.exome.20110411.bam_herc2_phase1.bam\nHG00117.mapped.illumina.mosaik.GBR.exome.20110411.bam.bai\nNA20828.mapped.illumina.mosaik.TSI.exome.20110411.bam_herc2_phase1.bam\nNA20828.mapped.ILLUMINA.bwa.TSI.low_coverage.20130415.bam_herc2_data.bam\n</code></pre>\n\n<p>And I have a input.txt file that contains in each line.</p>\n\n<pre><code>NA20828  \nHG00119\n</code></pre>\n\n<p>As you can see, the input.txt file has the beginning of the name of the files inside the directory.</p>\n\n<p>What I want to do is to filter the files in the directory that have the name (in this case just the beginning), inside the input.txt.\nI don't know if I was clear, but here is the code I've done so far.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @lines;                              \nmy @files = glob(\"*.mapped*\");\n\nopen (my $input,'&lt;','input.txt') or die $!;         \nwhile (my $line = &lt;$input&gt;) {\n    push (@lines, $line);               \n}\nclose $input;\n</code></pre>\n\n<p>I used the glob to filter only the files with mapped in the name, since I have other files there that I don't want to look for.</p>\n\n<p>I tried some foreach loops, tried grep and regex also, and I'm pretty sure that I was going in the right way, and I think my mistake might be about scope.</p>\n\n<p>I would appreciate any help guys! thanks!</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1425326416, "post_id": 28818128, "comment_id": 45908450, "body": "The docs seem to imply the History plugin isn&#39;t necessary just for up-arrow to work.  I find the debugger interface ugly and just do <code>perl -wnE&#39;say eval()&#47;&#47;$@&#39;</code>.  Make it <code>rlwrap perl -wnE&#39;say eval()&#47;&#47;$@&#39;</code> and you get history too."}, {"owner": {"reputation": 225, "user_id": 3698821, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001441122770/picture?type=large", "display_name": "AlvaPan", "link": "https://stackoverflow.com/users/3698821/alvapan"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1425359070, "post_id": 28818128, "comment_id": 45919844, "body": "@Brian, @j, both <code>Devel::REPL::Plugin::ReadLineHistory</code> and <code>Devel::REPL::Plugin::History</code> are already bundled with Devel::REPL, it seems that just running <code>re.pl</code> won&#39;t enable up-arrow to work, and what do I need to do to enable it?  @ysth, thanks for the tip. After <code>sudo port install rlwrap</code> and running the command you said, I got the minimum up-arrow command history support."}, {"owner": {"reputation": 225, "user_id": 3698821, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001441122770/picture?type=large", "display_name": "AlvaPan", "link": "https://stackoverflow.com/users/3698821/alvapan"}, "edited": false, "score": 0, "creation_date": 1425359468, "post_id": 28818128, "comment_id": 45919991, "body": "@j, I suppose that the perl debugger hack does not provide command history support."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 225, "user_id": 3698821, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001441122770/picture?type=large", "display_name": "AlvaPan", "link": "https://stackoverflow.com/users/3698821/alvapan"}, "edited": false, "score": 0, "creation_date": 1425393702, "post_id": 28818128, "comment_id": 45938629, "body": "@AlvaPan: the perl debugger itself will do command history if it finds the readline modules it needs, but people often seem to have a lot of trouble getting it to work right"}, {"owner": {"reputation": 71, "user_id": 4438373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQj8h.jpg?s=128&g=1", "display_name": "josh", "link": "https://stackoverflow.com/users/4438373/josh"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1425408299, "post_id": 28818128, "comment_id": 45948203, "body": "These are some great alternative suggestions. Classic Perl TMTOWTDI.  The debugger has worked well for my needs so far.  I plan on trying the suggestion from @ysth as well."}], "tags": [], "owner": {"reputation": 71, "user_id": 4438373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQj8h.jpg?s=128&g=1", "display_name": "josh", "link": "https://stackoverflow.com/users/4438373/josh"}, "is_accepted": false, "score": 0, "last_activity_date": 1425325180, "creation_date": 1425325180, "answer_id": 28818128, "question_id": 28817565, "link": "https://stackoverflow.com/questions/28817565/re-pl-perl-interactive-shell-command-history/28818128#28818128", "title": "re.pl (Perl interactive shell) command history?", "body": "<p>Looks like history is enabled through the <a href=\"http://search.cpan.org/~ether/Devel-REPL-1.003026/lib/Devel/REPL/Plugin/History.pm\" rel=\"nofollow\">Devl::REPL::History</a> plugin.</p>\n\n<p>Alternatively, I use perl -del which runs the debugger in a fashion similar to a REPL. I got the idea from this <a href=\"http://perlmaven.com/using-the-built-in-debugger-of-perl-as-repl\" rel=\"nofollow\">post</a> on Perl Maven.</p>\n"}, {"comments": [{"owner": {"reputation": 225, "user_id": 3698821, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001441122770/picture?type=large", "display_name": "AlvaPan", "link": "https://stackoverflow.com/users/3698821/alvapan"}, "edited": false, "score": 1, "creation_date": 1425359789, "post_id": 28818133, "comment_id": 45920097, "body": "Brian, thank you very much. After <code>cpanm Term::ReadLine::Gnu</code>, the command history support for <code>re.pl</code> is enabled now."}], "tags": [], "owner": {"reputation": 15440, "user_id": 321527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ueZvi.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/321527/brian"}, "is_accepted": true, "score": 2, "last_activity_date": 1425325196, "creation_date": 1425325196, "answer_id": 28818133, "question_id": 28817565, "link": "https://stackoverflow.com/questions/28817565/re-pl-perl-interactive-shell-command-history/28818133#28818133", "title": "re.pl (Perl interactive shell) command history?", "body": "<p>You probably need to install one of the <code>Term::ReadLine</code> modules.  See the docs for <a href=\"https://metacpan.org/pod/Devel::REPL::Plugin::ReadLineHistory\" rel=\"nofollow\">Devel::REPL::Plugin::ReadLineHistory</a>.</p>\n"}], "owner": {"reputation": 225, "user_id": 3698821, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001441122770/picture?type=large", "display_name": "AlvaPan", "link": "https://stackoverflow.com/users/3698821/alvapan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 0, "accepted_answer_id": 28818133, "answer_count": 2, "score": 0, "last_activity_date": 1425325196, "creation_date": 1425323310, "question_id": 28817565, "link": "https://stackoverflow.com/questions/28817565/re-pl-perl-interactive-shell-command-history", "title": "re.pl (Perl interactive shell) command history?", "body": "<p>I just use perlbrew / cpanm to install Devel::REPL module, and would like to use its accompanied re.pl script to learn Perl in an interactive REPL shell under Mac OS X Mavericks. After entering re.pl and typing some simple perl commands, I tried to use up-arrow key or ctrl-p to go back to previous commands I just typed, but no luck, only got ^[[A or ^P keycodes displayed. Please help. Thanks a lot.</p>\n"}, {"tags": ["linux", "perl", "file", "sleep", "nfs"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425327140, "post_id": 28817332, "comment_id": 45908859, "body": "Just out of curiosity, what command are you running that outputs <code>_OK_</code> on failure and hangs on success?"}, {"owner": {"reputation": 1, "user_id": 1418323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fae4243910d16e583ca87a21159c8ad?s=128&d=identicon&r=PG", "display_name": "sfbayarea", "link": "https://stackoverflow.com/users/1418323/sfbayarea"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425327599, "post_id": 28817332, "comment_id": 45909108, "body": "For hang, I don&#39;t have any thing right now in the above code. I am planning to add a try-catch. If the access timesouts, I expect there was  a hang. Still testing this. Please advise."}, {"owner": {"reputation": 1, "user_id": 1418323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fae4243910d16e583ca87a21159c8ad?s=128&d=identicon&r=PG", "display_name": "sfbayarea", "link": "https://stackoverflow.com/users/1418323/sfbayarea"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425328047, "post_id": 28817332, "comment_id": 45909360, "body": "The &quot;client=&gt;execute(command =&gt;&quot; command above is a  method to execute commands on clients."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425328288, "post_id": 28817332, "comment_id": 45909505, "body": "I mean, what exactly are you doing such that you can only tell it was successful if it hangs? I can think of at least one application where this would make sense (adding a successively-increasing wait after multiple failed login attempts to slow down brute force attacks), but in most cases, it seems counter-intuitive and fragile. What happens if someone decides to fix the hanging behavior that your script is relying on?"}, {"owner": {"reputation": 1, "user_id": 1418323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fae4243910d16e583ca87a21159c8ad?s=128&d=identicon&r=PG", "display_name": "sfbayarea", "link": "https://stackoverflow.com/users/1418323/sfbayarea"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1425335067, "post_id": 28817332, "comment_id": 45912922, "body": "This is used in a unit test. I will see a hang when the DNS server is down or not responding. So this &quot;hang&quot; would always exist. The outcome of the above subroutine should be either : hang exists or access succeeds/denied"}], "answers": [{"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 1, "last_activity_date": 1425328009, "creation_date": 1425328009, "answer_id": 28818861, "question_id": 28817332, "link": "https://stackoverflow.com/questions/28817332/how-to-handle-a-hang-scenario-in-perl-after-accessing-a-file/28818861#28818861", "title": "How to handle a hang scenario in perl? After accessing a file", "body": "<p>Try <a href=\"http://perldoc.perl.org/functions/alarm.html\" rel=\"nofollow\"><strong><code>alarm</code></strong></a>. This will throw a <em>signal</em>, identified as <code>SIGALRM</code>. All the rest can be gotten from the link.</p>\n"}], "owner": {"reputation": 1, "user_id": 1418323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fae4243910d16e583ca87a21159c8ad?s=128&d=identicon&r=PG", "display_name": "sfbayarea", "link": "https://stackoverflow.com/users/1418323/sfbayarea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425328009, "creation_date": 1425322426, "question_id": 28817332, "link": "https://stackoverflow.com/questions/28817332/how-to-handle-a-hang-scenario-in-perl-after-accessing-a-file", "title": "How to handle a hang scenario in perl? After accessing a file", "body": "<p>I need to access a file that is in a nfs mountpath.\nAfter I access, I need to see a hang. If the hang succeeds, then my scenario passes.\nIf I see a \"permission denied\" or if access succeeds, the scenario fails.</p>\n\n<p>How do I hadle the hang? After hang, how do I exit/kill that operation and proceed with my program's next set of steps. I am currently doing this.\nCan I do something like this if(sleep = 10 seconds) {</p>\n\n<pre><code>The subroutine takes the command to execute, file path.\n\n\nsub access_timeout($$) {\n     my $cmd = shift;\n     my $file_path = shift;\n\n     print(qq{Running the command \"$cmd $file_path\" on the client});\n     # Here, I need to handle sleep. Sleep is expected case here. something like if ($result = sleep(10)) { success}\n\n\n     my $output = $client=&gt;execute(command =&gt; qq{$cmd $file_path &amp;&amp; echo _OK_});\n     if ($output =~ /(.*)_OK_/s) {\n        croak(qq{Expected a hang, access should not work});\n     } elsif ($output =~ /permission denied/s || $output =~ /No such file or directory/s) {\n        croak(qq{expected a hang but there is response});\n     }\n}\n</code></pre>\n"}, {"tags": ["bash", "perl", "shell", "unix"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1425316637, "post_id": 28815589, "comment_id": 45903055, "body": "Are the existing files tab-delimited?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1425317014, "post_id": 28815589, "comment_id": 45903267, "body": "Is the number of lines the same in all the files?"}], "answers": [{"comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 1, "creation_date": 1425317234, "post_id": 28815809, "comment_id": 45903409, "body": "I don&#39;t think using <code>PS</code> makes much sense when you want to explain something. It is not something you just forgot after sending but a valuable information."}, {"owner": {"reputation": 6709, "user_id": 3640161, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/065307b80129366f064b9b99811658aa?s=128&d=identicon&r=PG", "display_name": "Tiago Lopo", "link": "https://stackoverflow.com/users/3640161/tiago-lopo"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1425317346, "post_id": 28815809, "comment_id": 45903487, "body": "Does <code>NOTE</code> makes it any better? sorry non native speaker here :)"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 1, "creation_date": 1425317420, "post_id": 28815809, "comment_id": 45903523, "body": "The point here is that you are adding valuable information, by saying &quot;PS&quot; or &quot;NOTE&quot; it looks like it is something less important. I am not the one to indicate what to use (not native speaker either :) ) but something like &quot;explanation&quot; looks better to me :)"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1425317686, "post_id": 28815809, "comment_id": 45903679, "body": "The OP said he has a &quot;large number&quot; of files, so having to write a process substitution for each one individually seems cruel."}], "tags": [], "owner": {"reputation": 6709, "user_id": 3640161, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/065307b80129366f064b9b99811658aa?s=128&d=identicon&r=PG", "display_name": "Tiago Lopo", "link": "https://stackoverflow.com/users/3640161/tiago-lopo"}, "is_accepted": false, "score": 1, "last_activity_date": 1425317027, "creation_date": 1425317027, "answer_id": 28815809, "question_id": 28815589, "link": "https://stackoverflow.com/questions/28815589/unix-compile-a-single-column-from-many-files-into-a-single-tab-delimited-file/28815809#28815809", "title": "Unix - Compile a single column from many files into a single, tab-delimited file", "body": "<p>You can use <code>awk</code> to select the columns you want and <code>paste</code> to paste them together.</p>\n\n<p>Example:</p>\n\n<pre><code>paste -d '\\t' &lt;(awk '{print $2}' file1.tsv) &lt;(awk '{print $3}' file2.tsv) \n</code></pre>\n\n<p><strong>NOTE:</strong> <code>&lt;(command)</code> Allows the output of your command to be used as file.</p>\n"}, {"comments": [{"owner": {"reputation": 1926, "user_id": 2396037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fff799fabee7a56dd5c44abdbff815d3?s=128&d=identicon&r=PG", "display_name": "Slavatron", "link": "https://stackoverflow.com/users/2396037/slavatron"}, "edited": false, "score": 0, "creation_date": 1425317327, "post_id": 28815841, "comment_id": 45903475, "body": "How would I run this script? &quot;perl Script *.txt&quot; ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1926, "user_id": 2396037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fff799fabee7a56dd5c44abdbff815d3?s=128&d=identicon&r=PG", "display_name": "Slavatron", "link": "https://stackoverflow.com/users/2396037/slavatron"}, "edited": false, "score": 1, "creation_date": 1425317365, "post_id": 28815841, "comment_id": 45903498, "body": "@Slavatron: As indicated in the comment: <code>perl script.pl output *.txt</code>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1425317164, "creation_date": 1425317164, "answer_id": 28815841, "question_id": 28815589, "link": "https://stackoverflow.com/questions/28815589/unix-compile-a-single-column-from-many-files-into-a-single-tab-delimited-file/28815841#28815841", "title": "Unix - Compile a single column from many files into a single, tab-delimited file", "body": "<p>You can do all the work in Perl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy ($result, @input) = @ARGV;        # output input1 input2...\n\nmy @table;\n\nfor my $i (0 .. $#input) {\n    my $infile = $input[$i];\n    open my $IN, '&lt;', $infile or die \"$infile: $!\";\n    while (&lt;$IN&gt;) {\n        $table[ $. - 1 ][$i] = (split)[1];\n    }\n}\n\nopen my $OUT, '&gt;', $result or die \"$result: $!\";\nfor my $row (@table) {\n    print {$OUT} join(\"\\t\", @$row), \"\\n\";\n}\nclose $OUT;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 4, "last_activity_date": 1425317317, "creation_date": 1425317317, "answer_id": 28815890, "question_id": 28815589, "link": "https://stackoverflow.com/questions/28815589/unix-compile-a-single-column-from-many-files-into-a-single-tab-delimited-file/28815890#28815890", "title": "Unix - Compile a single column from many files into a single, tab-delimited file", "body": "<p>bash:</p>\n\n<pre><code>paste -d'\\t' input*.txt | \nawk -F'\\t' '{for (i=2; i&lt;=NF; i+=2) printf \"%s%s\", $i, FS; print \"\"}'\n</code></pre>\n\n<p>This pastes all the files together, with all columns, then use awk to extract only the even-numbered columns.</p>\n"}], "owner": {"reputation": 1926, "user_id": 2396037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fff799fabee7a56dd5c44abdbff815d3?s=128&d=identicon&r=PG", "display_name": "Slavatron", "link": "https://stackoverflow.com/users/2396037/slavatron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 28815841, "answer_count": 3, "score": 1, "last_activity_date": 1429713297, "creation_date": 1425316252, "last_edit_date": 1425316997, "question_id": 28815589, "link": "https://stackoverflow.com/questions/28815589/unix-compile-a-single-column-from-many-files-into-a-single-tab-delimited-file", "title": "Unix - Compile a single column from many files into a single, tab-delimited file", "body": "<p>I have a large number of files with the same, tab-delimited format:</p>\n\n<pre><code>Column A    Column B\nData_A1      Data_B1\nData_A2      Data_B2\nData_A3      Data_B3\n</code></pre>\n\n<p>These files all have the same number of lines.</p>\n\n<p>I want to compile every file's Column B data into a single tab-delimited file. Right now, my best plan is to write a Perl script along these lines:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $file = shift @ARGV;\nmy $ref = shift @ARGV;\nopen ( FILE, $file ); # FILE WITH FORMAT DESCRIBED ABOVE\nwhile (&lt;FILE&gt;) {\n        chomp;\n        my @a = split(\"\\t\", $_);\n        push(@B, $a[1]);\n}\nclose FILE;\n\nmy $counter = 0;\nopen (REF, $ref); # TAB-DELIMITED COMPILATION OF EVERY FILE'S COLUMN B\nwhile (&lt;REF&gt;) {\n        chomp;\n        print \"$_\\t$B[$counter]\\n\";\n}\nclose REF;\n</code></pre>\n\n<p>Then, write a BASH script that loops through all the files and saving the output of the Perl script as its input for the next iteration of the shell loop:</p>\n\n<pre><code>#!/bin/bash\n\nfor file in *.txt \n     do \n          perl Script.pl $file Infile &gt; Temp\n          mv Temp Infile\n     done\n</code></pre>\n\n<p>But this feels like a huge amount of work for something so simple. Is there a simple Unix command that can do the same thing?</p>\n\n<p>Expected Output:</p>\n\n<pre><code>File1_Column_B    File2_Column_B    File3_Column_B    ...\nData_B1           Data_B1           Data_B1           ...\nData_B2           Data_B2           Data_B2           ...\nData_B3           Data_B3           Data_B3           ...\n...\n</code></pre>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 3, "creation_date": 1425314346, "post_id": 28814782, "comment_id": 45901611, "body": "Your machine is 64 bit, your Perl is 64 bit, but your Oracle is 32 bit. Can you install the 64 bit version of Oracle? I see the error <code>skipping incompatible ...&#47;libclntsh.so</code>. If the file exists, it could be that the 32 bit version of that file can&#39;t be used in the compile phase."}, {"owner": {"reputation": 1, "user_id": 4624197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8fa27217c31ab7b7dd406fc9d951aa3?s=128&d=identicon&r=PG&f=1", "display_name": "Quang Nguyen", "link": "https://stackoverflow.com/users/4624197/quang-nguyen"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1425361614, "post_id": 28814782, "comment_id": 45920638, "body": "Yes, you are right. I wonder if there is a way to config Perl 64 use Oracle 32 lib?"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1425388821, "post_id": 28814782, "comment_id": 45935242, "body": "It&#39;s been a long time since I&#39;ve worked with the C compiler. However, 32 bit code cannot be compiled on a 64 bit system without a 32 bit compatible compiler and a complete set of 32 bit libraries. I doubt 32 bit compiled code can work with 64 bit compiled Perl. However, others more familiar with C might know better."}, {"owner": {"reputation": 1, "user_id": 4624197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8fa27217c31ab7b7dd406fc9d951aa3?s=128&d=identicon&r=PG&f=1", "display_name": "Quang Nguyen", "link": "https://stackoverflow.com/users/4624197/quang-nguyen"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1425449991, "post_id": 28814782, "comment_id": 45963622, "body": "I removed the Oracle 32 and then install Oracle 64, everything is ok now. Thx all :)"}], "owner": {"reputation": 1, "user_id": 4624197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8fa27217c31ab7b7dd406fc9d951aa3?s=128&d=identicon&r=PG&f=1", "display_name": "Quang Nguyen", "link": "https://stackoverflow.com/users/4624197/quang-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425313885, "creation_date": 1425313885, "question_id": 28814782, "link": "https://stackoverflow.com/questions/28814782/how-to-install-perl-module-dbdoracle-oracle-10g-32-bit-and-perl-5-18-64-bit", "title": "How to install Perl Module DBD:Oracle: Oracle 10g (32 bit) and Perl 5.18 (64 bit)", "body": "<p>I have problem when try to install Perl module DBD:Oracle with below env</p>\n\n<ul>\n<li>Fedora 20 64 bit</li>\n<li>Perl 5.18 64 bit</li>\n<li>Oracle 10g 32 bit</li>\n</ul>\n\n<p>When try to make, it inform below error</p>\n\n<pre><code>Running Mkbootstrap for DBD::Oracle ()\nchmod 644 Oracle.bs\nrm -f blib/arch/auto/DBD/Oracle/Oracle.so\ngcc  -shared -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -Wl,-z,relro  Oracle.o dbdimp.o oci8.o  -o blib/arch/auto/DBD/Oracle/Oracle.so    \\\n   -L/usr/lib/oracle/xe/app/oracle/product/10.2.0/server/lib/ -lclntsh -lpthread -lperl     \\\n/bin/ld: skipping incompatible /usr/lib/oracle/xe/app/oracle/product/10.2.0/server/lib//libclntsh.so when searching for -lclntsh\n/bin/ld: cannot find -lclntsh\ncollect2: error: ld returned 1 exit status\nmake: *** [blib/arch/auto/DBD/Oracle/Oracle.so] Error 1\n  PYTHIAN/DBD-Oracle-1.74.tar.gz\n  /bin/make -- NOT OK\nRunning make test\n  Can't test without successful make\nRunning make install\n  Make had returned bad status, install seems impossible\nFailed during this command:\n PYTHIAN/DBD-Oracle-1.74.tar.gz               : make NO\n</code></pre>\n\n<p>It seems that Perl try to search for Oralce 64bit lib but can not and error occur.</p>\n\n<p>Can any one help me on this if I need to config anything before build the package?</p>\n\n<p>Thanks,\nQuang</p>\n"}, {"tags": ["perl", "command-line-arguments"], "answers": [{"comments": [{"owner": {"reputation": 11722, "user_id": 1981275, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f3e2752d5fbb3693863943132ffa39f6?s=128&d=identicon&r=PG", "display_name": "user1981275", "link": "https://stackoverflow.com/users/1981275/user1981275"}, "edited": false, "score": 0, "creation_date": 1425373044, "post_id": 28819896, "comment_id": 45925497, "body": "Yes, this works for me! I&#39;ve seen that <code>App::Cmd::Tester</code> does it in a similar way. Why does ARGV to be declared <code>local</code> though?"}, {"owner": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "reply_to_user": {"reputation": 11722, "user_id": 1981275, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f3e2752d5fbb3693863943132ffa39f6?s=128&d=identicon&r=PG", "display_name": "user1981275", "link": "https://stackoverflow.com/users/1981275/user1981275"}, "edited": false, "score": 0, "creation_date": 1425375681, "post_id": 28819896, "comment_id": 45927119, "body": "oh, the <code>local</code> is not mandatory. I did that for a series of tests in my t scripts."}], "tags": [], "owner": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "is_accepted": true, "score": 1, "last_activity_date": 1425332254, "creation_date": 1425332254, "answer_id": 28819896, "question_id": 28811000, "link": "https://stackoverflow.com/questions/28811000/perl-appcmd-call-subcommand-from-script/28819896#28819896", "title": "perl App::Cmd call subcommand from script", "body": "<p>Because it is a command-line app it needs to interact with <code>@ARGV</code>. So if you manually set the options in <code>@ARGV</code> and call <code>YourApp-&gt;run</code>, it will read those options and App::Cmd will make the call to <code>execute()</code>.</p>\n\n<pre><code>use YourApp;\nlocal @ARGV = qw( initialize --myoption aaa );\nYourApp-&gt;run;\n</code></pre>\n"}], "owner": {"reputation": 11722, "user_id": 1981275, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f3e2752d5fbb3693863943132ffa39f6?s=128&d=identicon&r=PG", "display_name": "user1981275", "link": "https://stackoverflow.com/users/1981275/user1981275"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 28819896, "answer_count": 1, "score": 1, "last_activity_date": 1425332254, "creation_date": 1425302957, "question_id": 28811000, "link": "https://stackoverflow.com/questions/28811000/perl-appcmd-call-subcommand-from-script", "title": "perl App::Cmd call subcommand from script", "body": "<p>I am trying to call a command line application implemented using <code>App::Cmd</code> from another script (without a system call).</p>\n\n<p>My application is taken from the <a href=\"http://search.cpan.org/dist/App-Cmd/lib/App/Cmd/Tutorial.pod\" rel=\"nofollow\">tutorial</a>  for the package, having a  a script <code>yourapp</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse YourApp;\n</code></pre>\n\n<p>an application class <code>YourApp.pm</code>:</p>\n\n<pre><code>package YourApp;\nuse App::Cmd::Setup -app;\n1;\n</code></pre>\n\n<p>and a command class <code>YourApp/Command/initialize.pm</code> with one option <code>myoption</code>:</p>\n\n<pre><code>package YourApp::Command::initialize;\nuse YourApp -command;\n\nsub opt_spec {\n    return ( [ \"myoption|m=s\",  \"my option\", ],);\n}\n\nsub execute {\n    my ($self, $opt, $args) = @_;        \n    my $mo = $opt-&gt;myoption;\n    print \"Options : $mo \\n\";\n}\n\n1;\n</code></pre>\n\n<p>Executing the subcommand from a script works fine, calling: </p>\n\n<p><code>./yourapp initialize --myoption aaa</code> prints the desired result <code>Options : aaa</code>.</p>\n\n<p>Now I would like to invoke the <code>execute</code> subroutine from another perl script, but when I pass the option as a hash reference to <code>execute</code> as below:</p>\n\n<pre><code>my $opts = {m=&gt;\"aa\"}; \nuse YourApp::Command::initialize;\nYourApp::Command::initialize-&gt;execute($opts);\n</code></pre>\n\n<p>perl complains <code>Can't call method \"myoption\" on unblessed reference</code>.\nWhen calling <code>execute</code> via the command, <code>$opts</code> is blessed as <code>Getopt::Long::Descriptive::Opts::__OPT__::2</code>. However, blessing <code>$opts</code> in my script still causes an error.</p>\n\n<p>Any hints how to call <code>execute</code> from a script?</p>\n"}, {"tags": ["multithreading", "perl", "system"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1425297302, "post_id": 28808926, "comment_id": 45890612, "body": "Parallel::ForkManager"}, {"owner": {"reputation": 4385, "user_id": 24937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/322909928165a193e16c12fd6cfad8ce?s=128&d=identicon&r=PG", "display_name": "edgar.holleis", "link": "https://stackoverflow.com/users/24937/edgar-holleis"}, "edited": false, "score": 1, "creation_date": 1425298150, "post_id": 28808926, "comment_id": 45891058, "body": "<code>system(&quot;perl parse.pl $file &amp;&quot;);</code>    C.f. <a href=\"http://stackoverflow.com/questions/2711520/how-can-i-run-perl-system-commands-in-the-background\" title=\"how can i run perl system commands in the background\">stackoverflow.com/questions/2711520/&hellip;</a>"}, {"owner": {"reputation": 5, "user_id": 4602803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e99d6d6d5dd998d85e025e1d8787200?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Geig", "link": "https://stackoverflow.com/users/4602803/tim-geig"}, "edited": false, "score": 0, "creation_date": 1425299281, "post_id": 28808926, "comment_id": 45891679, "body": "&quot;background&quot; that was the term my intial search was missing - Thanks a lot"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1425300892, "post_id": 28809723, "comment_id": 45892673, "body": "<code>system(&quot;perl parse.pl $file&quot;); $manager-&gt;finish;</code> is wasteful (three processes per worker). Use: <code>exec(&quot;perl&quot;, &quot;parse.pl&quot;, $file) or die &quot;exec: $!&quot;;</code> (one process per worker)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1425304664, "last_edit_date": 1495541192, "creation_date": 1425299098, "answer_id": 28809723, "question_id": 28808926, "link": "https://stackoverflow.com/questions/28808926/invoke-mutilple-threads-by-perl-system-function/28809723#28809723", "title": "Invoke mutilple threads by perl system function", "body": "<p>Taking advantage of multiple cores for implicitly parallel workloads has many ways to do it. </p>\n\n<p>The most obvious is - suffix an ampersand after your system call, and it'll charge off and do it in the background. </p>\n\n<pre><code>my @filenames = (\"file1.xml\",\"file2.xml\",\"file3.xml\",file4.xml\");\nforeach my $file (@filenames)\n{   \n    #Scripts which parses the XML file\n    system(\"perl parse.pl $file &amp;\");\n\n    #Go-On don't wait till parse.pl has finished\n\n}\n</code></pre>\n\n<p>That's pretty simplistic, but should do the trick. The downside of this approach is it doesn't scale too well - if you had a long list of files (say, 1000?) then they'd all kick off at once, and you may drain system resources and cause problems by doing it. </p>\n\n<p>So if you want a more controlled approach - you can use either forking or threading. <code>fork</code>ing uses the C system call, and starts  duplicate process instances. </p>\n\n<pre><code>use Parallel::ForkManager;\nmy $manager = Parallel::ForkManager -&gt; new ( 4 ); #number of CPUs\nmy @filenames = (\"file1.xml\",\"file2.xml\",\"file3.xml\",file4.xml\");\nforeach my $file (@filenames)\n{   \n    #Scripts which parses the XML file\n    $manager -&gt; start and next; \n    exec(\"perl\", \"parse.pl\", $file) or die \"exec: $!\";\n    $manager -&gt; finish; \n\n    #Go-On don't wait till parse.pl has finished\n\n}\n\n# and if you want to wait:\n$manager -&gt; wait_all_children(); \n</code></pre>\n\n<p>And if you wanted to do something that involved capturing output and post-processing it, I'd be suggesting thinking in terms of <code>threads</code> and <code>Thread::Queue</code>. But that's unnecessary if there's no synchronisation required.</p>\n\n<p>(If you're thinking that might be useful, I'll offer:\n<a href=\"https://stackoverflow.com/questions/26296206/perl-daemonize-with-child-daemons/26297240#26297240\">Perl daemonize with child daemons</a>)</p>\n\n<p>Edit: Amended based on comments. Ikegami correctly points out:</p>\n\n<blockquote>\n  <p>system(\"perl parse.pl $file\"); $manager->finish; is wasteful (three processes per worker). Use: exec(\"perl\", \"parse.pl\", $file) or die \"exec: $!\"; (one process per worker).</p>\n</blockquote>\n"}], "owner": {"reputation": 5, "user_id": 4602803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e99d6d6d5dd998d85e025e1d8787200?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Geig", "link": "https://stackoverflow.com/users/4602803/tim-geig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 28809723, "answer_count": 1, "score": 0, "last_activity_date": 1425304664, "creation_date": 1425296433, "question_id": 28808926, "link": "https://stackoverflow.com/questions/28808926/invoke-mutilple-threads-by-perl-system-function", "title": "Invoke mutilple threads by perl system function", "body": "<p>I'd like to invoke multiple perl instances/scripts from one perl script. Please see the simple script below which illustrates the problme nicely</p>\n\n<pre><code>my @filenames = {\"file1.xml\",\"file2.xml\",\"file3.xml\",file4.xml\"}\nforeach my $file (@filenames)\n{   \n    #Scripts which parses the XML file\n    system(\"perl parse.pl $file\");\n\n    #Go-On don't wait till parse.pl has finished\n\n}\n</code></pre>\n\n<p>As I'm on a quad-core CPU and the parsing of a single file takes a while, I want to split the Job. Could someone point me in a good direction?</p>\n\n<p>Thanks and best,\nTim</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1425288820, "post_id": 28806374, "comment_id": 45885907, "body": "echo $value total 451052 -r-xr-xr-x 1 root root 761 May 30 2014 ASCBMon.conf -r-xr-xr-x 1 root root 699 May 30 2014 ascbmon.pl drwxr-xr-x 2 roog ( this print one long line ) not as I want , and cat $value not illegale"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 3, "creation_date": 1425289206, "post_id": 28806374, "comment_id": 45886088, "body": "You need to put double quotes around <code>&quot;$value&quot;</code> when you echo it, otherwise the white space will be lost."}, {"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "edited": false, "score": 0, "creation_date": 1425289415, "post_id": 28806374, "comment_id": 45886208, "body": "WOW its work - write your answer - so I will can vote and select your answer,"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425293033, "post_id": 28806374, "comment_id": 45888232, "body": "I&#39;d suggest not mixing and matching between two scripting languages unless there&#39;s a particularly compelling need. That&#39;s a road to confusion and maintenance headaches."}], "answers": [{"tags": [], "owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "is_accepted": true, "score": 4, "last_activity_date": 1425289427, "creation_date": 1425289427, "answer_id": 28806621, "question_id": 28806374, "link": "https://stackoverflow.com/questions/28806374/combine-perl-command-inside-the-bash-script/28806621#28806621", "title": "combine perl command inside the bash script", "body": "<p>You don't need perl for this, your shell can handle it:</p>\n\n<pre><code>value=$(ls -ltr)\necho \"$value\"\n</code></pre>\n\n<p>The quotes when you echo are important.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1425292202, "creation_date": 1425292202, "answer_id": 28807548, "question_id": 28806374, "link": "https://stackoverflow.com/questions/28806374/combine-perl-command-inside-the-bash-script/28807548#28807548", "title": "combine perl command inside the bash script", "body": "<p>In Perl:</p>\n\n<pre><code>$var = `shell command`;\n$var = qx( shell command );\n</code></pre>\n\n<p>In <code>sh</code>:</p>\n\n<pre><code>var=`shell command`\nvar=$( shell command )\n</code></pre>\n"}], "owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 28806621, "answer_count": 2, "score": 1, "last_activity_date": 1425292202, "creation_date": 1425288587, "last_edit_date": 1425288964, "question_id": 28806374, "link": "https://stackoverflow.com/questions/28806374/combine-perl-command-inside-the-bash-script", "title": "combine perl command inside the bash script", "body": "<p>Perl is excellent language to store command output to variable\nAs I know bash isn\u2019t support that</p>\n\n<p>for example</p>\n\n<pre><code>my $value = qx(ls -ltr);\nprint $value;\n</code></pre>\n\n<p>it will print: ( example )</p>\n\n<pre><code> -r-xr-xr-x 1 root     root          761 May 30  2014 ASon.conf\n -r-xr-xr-x 1 root     root          699 May 30  2014 ascpl\n drwxr-xr-x 2 root     root         4096 Feb 24 13:22 da\n drwx------ 2 root     root         4096 Feb 25 08:08 vm-root\n drwxr-x--- 2 root     root         4096 Feb 25 08:10 hspeoot\n -rw-r--r-- 1 root     root         2451 Feb 25 16:12 gry.txt\n -rw-r--r-- 1 root     root         3112 Mar  1 09:49 new.xml\n -rw-r--r-- 1 root     root        44893 Mar  1 12:13 SMports.xml\n -rwxr-xr-x 1 root     root          101 Mar  2 09:56 test\n -rwxr-xr-x 1 root     root    461340404 Mar  2 10:20 audin.log\n</code></pre>\n\n<p>the problem is that I write my code with bash\nand I want to use the Perl add value in my bash script</p>\n\n<p>so is it possible to combine the following line in my bash script?</p>\n\n<pre><code>  my $value = qx(ls -ltr);\n</code></pre>\n\n<p>in way that when I print the <strong>value</strong> variable it will print the <strong>ls -ltr</strong> output</p>\n"}, {"tags": ["perl", "recursion"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425309564, "post_id": 28805712, "comment_id": 45898311, "body": "<code>if defined</code> followed by <code>while defined</code> is redundant - if it&#39;s the same condition, the <code>while</code> will bypass if the condition is untrue."}, {"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "edited": false, "score": 0, "creation_date": 1425333194, "post_id": 28805712, "comment_id": 45912015, "body": "Ugh.  &quot;hash&quot; and &quot;array&quot; are terrible names for variables.  How about &quot;repo&quot; or, even better, &quot;current_repo&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "edited": false, "score": 0, "creation_date": 1425293249, "post_id": 28806996, "comment_id": 45888332, "body": "Each response will list only 10 repos and a marker for &quot;next&quot; 10 repos. Hence, I need to run the same procedure multiple times unlit I reach the &quot;last&quot; page. As I had to figure out the &quot;marker&quot; in each response and make the exact same LWP call, I made it recursive. Thanks."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "edited": false, "score": 2, "creation_date": 1425293592, "post_id": 28806996, "comment_id": 45888517, "body": "I&#39;d consider recursive subs for things like tree traversals - e.g. following every link from a web page. Fetching pages until you stop getting &quot;next&quot; feels more like a <code>while</code> loop to me. But as said - it&#39;s not a massive problem if you want to do it that way."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "edited": false, "score": 1, "creation_date": 1425294142, "post_id": 28806996, "comment_id": 45888818, "body": "@slayedbylucifer, Doing something until a condition is met is exactly what a while loop does. Sobrique is right; recursion should not be used here."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425305961, "post_id": 28806996, "comment_id": 45895888, "body": "@ikegami: I don&#39;t see a reason to not use recursion for this work. But it has to be done right. Imagine there are languages without while and other loops at all and you can do everything as well. Lack of tail call optimization is perl&#39;s problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425306479, "post_id": 28806996, "comment_id": 45896254, "body": "@Hynek -Pichi- Vychodil, What are you talking about? There are numerous reasons not to use recursion here. It&#39;s a big perfomance sink, and it needlessly complex code. In turn, this negatively affects maintainability, readability, reliability, etc. There&#39;s not a single good reason to use it, so I reiterate: <b>Recursion should absolutely not be used here.</b> (What other languages can or can&#39;t do has no effect on any of that. No idea why you brought that up.)"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425306650, "post_id": 28806996, "comment_id": 45896360, "body": "@ikegami: Are you sure about performance sink? Have you compared mine tricky_tail_recursion with the while loop? I strongly doubt it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 1, "creation_date": 1425306901, "post_id": 28806996, "comment_id": 45896528, "body": "@Hynek -Pichi- Vychodil, Yeah, <code>goto &amp;</code> actually makes things <i>slower</i> than a normal call, and that&#39;s slower than no call at all. On top of that, sub calls are one of the slower Perl ops."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1425309718, "last_edit_date": 1425309718, "creation_date": 1425290602, "answer_id": 28806996, "question_id": 28805712, "link": "https://stackoverflow.com/questions/28805712/perl-recursive-subroutine-accessing-variable-defined-outside-of-subroutine/28806996#28806996", "title": "Perl + recursive subroutine + accessing variable defined outside of subroutine", "body": "<p>A variable defined outside any closures is available to the whole program. It works fine, there's nothing to worry about. Some might call it 'bad style' in certain cases (mostly around program length and action at distance) but that's not a hard constraint. </p>\n\n<p>I'm not sure I necessarily see the advantage of recursion here though - your problem doesn't <em>seem</em> to warrant it. That's not a problem per-se, but it can be a little confusing for future maintenance programmers ;). </p>\n\n<p>I'd be thinking something along the lines of (non recursive):</p>\n\n<pre><code>my $url = \"my_bitbucket_url\";\n\nwhile ( defined $url ) {\n    ##LWP Stuff;\n\n    my $hash = decode_json $response-&gt;decoded_content;\n\n    foreach my $element ( @{ $hash-&gt;{values} } ) {\n        print join( \"\\n\", @{ $element-&gt;{links}-&gt;{self}-&gt;{href} } ), \"\\n\";\n    }\n\n    $url = $hash-&gt;{next}; #undef if it doesn't exist, so loop breaks. \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "edited": false, "score": 0, "creation_date": 1425293588, "post_id": 28807790, "comment_id": 45888513, "body": "Agree on your last statement. Thanks for providing a dummy code which explains my question. So, per your response, this works however it should be avoided. So then, How to go about appending the values from each call to the subroutine to an array. Not sure if my question is little confusing, however, as you have pointed out, this code should be avoided. So, is there a better approach?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "edited": false, "score": 0, "creation_date": 1425293723, "post_id": 28807790, "comment_id": 45888581, "body": "Same thing you&#39;d do for <code>sum</code>: Move the var into the sub and use <code>return</code> to return its contents"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425293781, "post_id": 28807790, "comment_id": 45888611, "body": "I think that might be worth asking as a separate question if you want a fuller answer."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425309060, "post_id": 28807790, "comment_id": 45897975, "body": "Might need to undef <code>$url</code> in that <code>else</code> block."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "edited": false, "score": 1, "creation_date": 1425309143, "post_id": 28807790, "comment_id": 45898026, "body": "@slayedbylucifer, The <code>if (defined $hash-&gt;{next})</code> is unnecessary, and I&#39;d try to remove that duplicated foreach. But there&#39;s a sister site for code reviews."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425309180, "post_id": 28807790, "comment_id": 45898054, "body": "@Sobrique, Indeed. Fixed."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "edited": false, "score": 0, "creation_date": 1425310079, "post_id": 28807790, "comment_id": 45898658, "body": "@slayedbylucifer, Added simple version of your latest code."}, {"owner": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425356836, "post_id": 28807790, "comment_id": 45919244, "body": "@ikegami, as always, many thanks for your elaborative answer. Wish I could +1 many time. I would accept @Sobrique&#39;s answer as he got me thinking into <code>while</code> approach instead of recursive sub. Nonetheless, your responses always trigger a lot of self-learning. Thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1425310025, "last_edit_date": 1425310025, "creation_date": 1425292924, "answer_id": 28807790, "question_id": 28805712, "link": "https://stackoverflow.com/questions/28805712/perl-recursive-subroutine-accessing-variable-defined-outside-of-subroutine/28807790#28807790", "title": "Perl + recursive subroutine + accessing variable defined outside of subroutine", "body": "<p>Using global variables to return values demonstrates <a href=\"https://en.wikipedia.org/wiki/Coupling_%28computer_programming%29\" rel=\"nofollow\">high coupling</a>, something to be avoided.</p>\n\n<p>You're asking if the following is acceptable:</p>\n\n<pre><code>my $sum;\nsum(4, 5);\nprint(\"$sum\\n\");\nsub sum {\n   my ($x, $y) = @_;\n   $sum = $x + $y;\n}\n</code></pre>\n\n<p>The fact that the sub is recursive is completely irrelevant; it just makes your example larger.</p>\n\n<hr>\n\n<p>Problem fixed:</p>\n\n<pre><code>sub recursive\n{\n    my $url = $_[0];\n\n    my @array;\n\n    my $hash = ...;\n\n    foreach my $a ( @{$hash-&gt;{values}} )\n    {\n        push @array, $a-&gt;{links}-&gt;{self}-&gt;{href};\n    }\n\n    if ( defined $hash-&gt;{next})\n    {\n        print \"Next page Exists \\n\";\n        print \"Recursing with $hash-&gt;{next} \\n\";\n        push @array, recursive( $hash-&gt;{next} );\n    }\n    else\n    {\n        print \"Last page reached. No more recursion \\n\"\n    }\n\n    return @array;\n}\n\n{\n    my @array = recursive(\"my_bitbucket_url\");\n    foreach ( @array ) { print $_.\"\\n\"; }\n}\n</code></pre>\n\n<hr>\n\n<p>Recursion removed:</p>\n\n<pre><code>sub recursive\n{\n    my $url = $_[0];\n\n    my @array;\n    while (defined($url)) {    \n        my $hash = ...;\n\n        foreach my $a ( @{$hash-&gt;{values}} )\n        {\n            push @array, $a-&gt;{links}-&gt;{self}-&gt;{href};\n        }\n\n        $url = $hash-&gt;{next};\n\n        if ( defined $url)\n        {\n            print \"Next page Exists \\n\";\n            print \"Recursing with $url\\n\";\n        }\n        else\n        {\n            print \"Last page reached. No more recursion \\n\"\n        }\n    }\n\n    return @array;\n}\n\n{\n    my @array = recursive(\"my_bitbucket_url\");\n    foreach ( @array ) { print $_.\"\\n\"; }\n}\n</code></pre>\n\n<hr>\n\n<p>Clean up of the latest code you posted:</p>\n\n<pre><code>my $url = \"my_bitbucket_url\";\n\nmy @array;\nwhile ($url) {\n    my $hash = call_url($url);\n\n    for my $value ( @{ $hash-&gt;{values} } ) {\n       push @array, $value-&gt;{links}{self}{href};\n    }\n\n    $url = $hash-&gt;{next};\n}\n\nprint(\"$_\\n\") for @array;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425308767, "post_id": 28811650, "comment_id": 45897753, "body": "@ikegami: Yeah, I can do 3.7 million <code>goto &amp;code;</code> calls per second which is 270ns vs 32ns while loops. It really bothers me in the loop with  <code>LWP</code> usage. Sorry, you made me laugh. Yep, it is less readable than the while loop in this particular case, but it is mostly Perl problem. There is not any reason why it should be slow at first, and complicated at second."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425309246, "post_id": 28811650, "comment_id": 45898106, "body": "You&#39;re the one who brought up efficiency. Efficiency is not the reason I gave for why your solution is bad. What about the extra complexity you added to added to make your code slower? That affects readability, maintainability, etc, etc. You&#39;re providing bad advice."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425309314, "post_id": 28811650, "comment_id": 45898147, "body": "I think a discussion about recursion might be interesting, but perhaps not in the comments :). I&#39;m sure there&#39;s a question that could be posed...."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425309965, "post_id": 28811650, "comment_id": 45898590, "body": "@ikegami: &quot;It&#39;s a big perfomance sink.&quot; Yep, it was me who brought up efficiency :-)"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425310256, "post_id": 28811650, "comment_id": 45898766, "body": "@ikegami: There is not anything wrong with recursion. There is a lot of wrong with recursion in Perl. Recursion is simpler, less complex and easyer to maintain that imperative loops like <code>while</code>. All problems what you are talking are Perl problems, not recursion at all."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425310671, "post_id": 28811650, "comment_id": 45899049, "body": "@ikegami: &quot;<b>Recursion should absolutely not be used here.</b>&quot; Original code was written with recursion. Maybe because it was the natural way to thing about it for the original author of the code. So rewriting to imperative while loop is <b>forcing</b> the other unnatural way to thing about the problem. So show me way how to writte it better in recursion but without growing stack in Perl. It should not be problem for you when you insist &quot;You&#39;re providing bad advice.&quot;"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425311075, "post_id": 28811650, "comment_id": 45899353, "body": "So you could not write better recursive version and you criticise mine one. Nice, what else you got? I&#39;m glad we both agree Perl is bad language to express natural way to thing about problems."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425311306, "post_id": 28811650, "comment_id": 45899528, "body": "It is disputable if it is the better solution to change the algorithm to nonrecursive when question is about recursive one."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425311484, "post_id": 28811650, "comment_id": 45899654, "body": "I did solve scoping as well as you. Or do solve your solution scoping better than mine? It was started with &quot;<b>Recursion should absolutely not be used here.</b>&quot; Do you remember? Or help me to recall what is problem there."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425311559, "post_id": 28811650, "comment_id": 45899717, "body": "I didn&#39;t wrote you wrote mine solution didn&#39;t work. Straw man."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425311648, "post_id": 28811650, "comment_id": 45899773, "body": "&quot;Or do solve your solution scoping better than mine?&quot; -- Implies it in any part what so ever <b>it didn&#39;t work</b>?"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425311778, "post_id": 28811650, "comment_id": 45899858, "body": "And your solution introduces other problems as well. For example, you force imperative loop where it is natural to thing about it recursively. It is bad for maintainability and readability of code."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425312179, "post_id": 28811650, "comment_id": 45900140, "body": "It was definitely natural way for the original question. The original code was: Read Document, If there is next do it again. It is the natural way to thing about it for me, it is the natural way for the author of the original question and it is even natural way for children to thing in this way. It is the lack of abilities of Perl you can&#39;t write the problem in natural way."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425327369, "post_id": 28811650, "comment_id": 45908966, "body": "@ikegami: So you are again referring to crap Perl support for even basic recursive functions. Thanks."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425333918, "post_id": 28811650, "comment_id": 45912375, "body": "The code is complex because Perl has wrong argument handling and lack of tail call elimination. It is very simple in any sane programming language. It is usually as simple as <code>foo(Url) -&gt; foo(Url, []). foo(Url, Acc) -&gt; Data = call_url(URL), NewAcc = add_refs(Data, Acc), case get_next(Data) of undefined -&gt; NewAcc; NextUrl -&gt; foo(NextUrl, NewAcc)  end.</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425390439, "post_id": 28811650, "comment_id": 45936353, "body": "The code is complex because of optimizations you chose to add. There are less complex solutions available."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425390670, "post_id": 28811650, "comment_id": 45936508, "body": "Have you seen example code in Erlang? What is complex about it? Why original question contain recursive code? You are just choosing to be blind  and it is your choose. Keep going blind."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425392440, "post_id": 28811650, "comment_id": 45937715, "body": "I said <b>Your solution is needlessly complex</b>. Erlang has nothing to do with it your code being complex. By pointing out it&#39;s simpler in other language, you are proving that your code is complex."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1425402762, "post_id": 28811650, "comment_id": 45945040, "body": "<b>Perl lack support for writing clean and natural recursive code!</b> That&#39;s the point. You just can&#39;t accept this simple true. So keep living in your imaginary world."}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 2, "last_activity_date": 1425309286, "last_edit_date": 1425309286, "creation_date": 1425304822, "answer_id": 28811650, "question_id": 28805712, "link": "https://stackoverflow.com/questions/28805712/perl-recursive-subroutine-accessing-variable-defined-outside-of-subroutine/28811650#28811650", "title": "Perl + recursive subroutine + accessing variable defined outside of subroutine", "body": "<p>Yes, using a global variable is bad habit even it is lexical scoped variable.</p>\n\n<p>Each recursive code can be rewritten into its imperative loop version and vice versa. It is because all of this is implemented on CPU which doesn't know anything about recursion at all. Thre are only jumps. All calls and returns are just jumps with some stack manipulation so you can rewrite your recursion algorithm into loop. If it is not obvious and simple as in this case you can even emulate stack and behaviour as it is done in your favourite language interpreter or compiler. In this case it's very simple:</p>\n\n<pre><code>my @array = with_loop(\"my_bitbucket_url\");\nforeach ( @array ) { print $_.\"\\n\"; }\n\nsub with_loop\n{\n    my $url    = $_[0];\n    my @array;\n    while(1) \n    {\n\n    ### here goes my LWP::UserAgent code which connects to bitbucket and \n    ### pulls back the response in a JSON as $response-&gt;decoded_content \n    ### hence, removing this code for brevity\n\n        my $hash = decode_json $response-&gt;decoded_content;\n        #print Dumper ($hash);\n\n        foreach my $a ( @{$hash-&gt;{values}} )\n        {\n            push @array, $a-&gt;{links}-&gt;{self}-&gt;{href};\n        }\n\n        unless ( defined $hash-&gt;{next})\n        {\n            print \"Last page reached. No more recursion \\n\";\n            last\n        };\n\n        print \"Next page Exists \\n\";\n        print \"Recursing with $hash-&gt;{next} \\n\";\n        $url = $hash-&gt;{next};\n    };\n    return @array;\n}\n</code></pre>\n\n<p>But when you would like to stick with recursion you can but it is a little bit more tricky. First of all, there is not tail call optimization so you don't have to try write tail call code as your original version does. So you can do this:</p>\n\n<pre><code>my @array = recursion(\"my_bitbucket_url\");\nforeach ( @array ) { print $_.\"\\n\"; }\n\nsub recursion\n{\n    my $url    = $_[0];\n\n    ### here goes my LWP::UserAgent code which connects to bitbucket and \n    ### pulls back the response in a JSON as $response-&gt;decoded_content \n    ### hence, removing this code for brevity\n\n    my $hash = decode_json $response-&gt;decoded_content;\n    #print Dumper ($hash);\n\n    # this map version is same as foreach with push but more perlish\n    my @array = map $_-&gt;{links}-&gt;{self}-&gt;{href}, @{$hash-&gt;{values}};\n\n    if (defined $hash-&gt;{next})\n    {\n        print \"Next page Exists \\n\";\n        print \"Recursing with $hash-&gt;{next} \\n\";\n        push @array, recursive( $hash-&gt;{next} );\n    }\n    else\n    {\n        print \"Last page reached. No more recursion \\n\"\n    }\n    return @array;\n}\n</code></pre>\n\n<p>But this version is not very efficient so there is way how to write tail call recursive version in perl which is a little bit tricky.</p>\n\n<pre><code>my @array = tail_recursive(\"my_bitbucket_url\");\nforeach ( @array ) { print $_.\"\\n\"; }\n\nsub tail_recursive\n{\n    my $url    = $_[0];\n    my @array;\n    return tail_recursive_inner($url, \\@array); \n    # url is mutable parameter\n}\n\nsub tail_recursive_inner\n{\n    my $url = $_[0];\n    my $array = $_[1]; \n    # $array is reference to accumulator @array \n    # from tail_recursive function\n\n   ### here goes my LWP::UserAgent code which connects to bitbucket and \n   ### pulls back the response in a JSON as $response-&gt;decoded_content \n   ### hence, removing this code for brevity\n\n    my $hash = decode_json $response-&gt;decoded_content;\n    #print Dumper ($hash);\n\n    foreach my $a ( @{$hash-&gt;{values}} )\n    {\n        push @$array, $a-&gt;{links}-&gt;{self}-&gt;{href};\n    }\n\n    if (defined $hash-&gt;{next})\n    {\n        print \"Next page Exists \\n\";\n        print \"Recursing with $hash-&gt;{next} \\n\";\n\n        # first parameter is mutable so its OK to assign\n        $_[0] = $hash-&gt;{next};\n        goto &amp;tail_recursive_inner;\n    }\n    else\n    {\n        print \"Last page reached. No more recursion \\n\"\n    }\n    return @$array;\n}\n</code></pre>\n\n<p>And if you are interested in some real perl trickery</p>\n\n<pre><code>print $_.\"\\n\" for tricky_tail_recursion(\"my_bitbucket_url\");\n\nsub tricky_tail_recursion {\n    my $url = shift;\n\n   ### here goes my LWP::UserAgent code which connects to bitbucket and \n   ### pulls back the response in a JSON as $response-&gt;decoded_content \n   ### hence, removing this code for brevity\n\n    my $hash = decode_json $response-&gt;decoded_content;\n    #print Dumper ($hash);\n\n    push @_, $_-&gt;{links}-&gt;{self}-&gt;{href} for @{$hash-&gt;{values}}; \n\n    if (defined $hash-&gt;{next}) {\n        print \"Next page Exists \\n\";\n        print \"Recursing with $hash-&gt;{next} \\n\";\n        unshift @_, $hash-&gt;{next};\n        goto &amp;tricky_tail_recursion;\n    } else {\n        print \"Last page reached. No more recursion \\n\"\n    };\n    return @_;\n}\n</code></pre>\n\n<hr>\n\n<p>See also: <a href=\"http://www.metacpan.org/LWP::UserAgent\" rel=\"nofollow\"><code>LWP::UserAgent</code></a> docs.</p>\n"}], "owner": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "accepted_answer_id": 28806996, "answer_count": 3, "score": 1, "last_activity_date": 1425310025, "creation_date": 1425286243, "last_edit_date": 1425308355, "question_id": 28805712, "link": "https://stackoverflow.com/questions/28805712/perl-recursive-subroutine-accessing-variable-defined-outside-of-subroutine", "title": "Perl + recursive subroutine + accessing variable defined outside of subroutine", "body": "<p>I am pulling bitbucket repo list using Perl. The response from bitbucket will contain only 10 repositories and a marker for the next page where there will be another 10 repos and so on ... (they call it paging response)</p>\n\n<p>So, I wrote a recursive subroutine which calls itself if the next page marker is present. This will continue until it reaches the last page.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Data::Dumper;\nuse LWP::UserAgent;\nuse JSON;\n\nmy @array;\n\nrecursive(\"my_bitbucket_url\");\nforeach ( @array ) { print $_.\"\\n\"; }\n\nsub recursive\n{\n    my $url    = $_[0];\n\n    ### here goes my LWP::UserAgent code which connects to bitbucket and pulls back the response in a JSON as $response-&gt;decoded_content \n    ### hence, removing this code for brevity\n\n    my $hash = decode_json $response-&gt;decoded_content;\n    #print Dumper ($hash);\n\n    foreach my $a ( @{$hash-&gt;{values}} )\n    {\n        push @array, $a-&gt;{links}-&gt;{self}-&gt;{href};\n    }\n\n    if ( defined $hash-&gt;{next})\n    {\n        print \"Next page Exists \\n\";\n        print \"Recursing with $hash-&gt;{next} \\n\";\n        recursive( $hash-&gt;{next} );\n    }\n    else\n    {\n        print \"Last page reached. No more recursion \\n\"\n    }\n}\n</code></pre>\n\n<p>Now, my code works fine and it lists all the repos.</p>\n\n<p><strong>Question:</strong>\nI am not sure about the way I have used the variable <strong><code>my @array;</code></strong> above. I have defined it outside the subroutine, However, I am accessing it directly from the subroutine. Somehow, I feel this is not right. </p>\n\n<p>So, how to append to an array using a recursive subroutine in such cases. Does my code obey Perl ethics or is it something really absurd (yet correct because it works) ?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After following suggestions from @ikegami, @Sobrique and @Hynek -Pichi- Vychodil, I have come with below code which uses <code>while</code> loop and avoids recusrsion.</p>\n\n<p>Here is my thought process:</p>\n\n<ol>\n<li>Define an array <code>@array</code>.</li>\n<li>Call the subroutine <code>call_url</code> with initial bitbucket URL and save the response in <code>$hash</code></li>\n<li>Check the <code>$hash</code> for the <em>next</em> page marker\n<ul>\n<li>If <em>next</em> page marker exists, then push the elements to <code>@array</code> and call <code>call_url</code> with the new marker. This will be done with the <code>while</code> loop.</li>\n<li>If the <em>next</em> page marker does <strong>NOT</strong> exists, then push the elements to <code>@array</code>. Period.</li>\n</ul></li>\n<li>Print <code>@array</code> content.</li>\n</ol>\n\n<p>And here is my code:</p>\n\n<pre><code>my @array;\nmy $hash = call_url(\"my_bitbucket_url \");\n\nif (defined $hash-&gt;{next})\n{\n    while (defined $hash-&gt;{next})\n    {\n        foreach my $a ( @{$hash-&gt;{values}} )\n        {\n            push @array, $a-&gt;{links}-&gt;{self}-&gt;{href};\n        }\n        $hash = call_url($hash-&gt;{next});\n    }\n}\n\nforeach my $a ( @{$hash-&gt;{values}} )\n{\n    push @array, $a-&gt;{links}-&gt;{self}-&gt;{href};\n}\n\nforeach (@array) { print $_.\"\\n\"; }\n\nsub call_url\n{\n    ### here goes my LWP::UserAgent code which connects to bitbucket and pulls back the response in a JSON as $response-&gt;decoded_content \n    ### hence, removing this code for brevity    \n\n    my $hash = decode_json $response-&gt;decoded_content;\n    #print Dumper ($hash);\n\n    return $hash;\n}\n</code></pre>\n\n<p>Would definitely like to hear whether this looks OK or is there still a room for improvement.</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1425285511, "post_id": 28805357, "comment_id": 45884142, "body": "so you don&#39;t want to calculate the semicolon which was present inside the <code>[]</code> ?"}, {"owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1425286349, "post_id": 28805357, "comment_id": 45884571, "body": "right, nor <code>;</code> in <code>\\;</code> for same reason"}], "answers": [{"comments": [{"owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "edited": false, "score": 1, "creation_date": 1425291440, "post_id": 28805884, "comment_id": 45887322, "body": "seems perfect :-) perl can use back reference. Thks"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 0, "last_activity_date": 1425286879, "creation_date": 1425286879, "answer_id": 28805884, "question_id": 28805357, "link": "https://stackoverflow.com/questions/28805357/add-a-string-in-regex-pattern/28805884#28805884", "title": "add a string in regex pattern", "body": "<p>Through Perl.</p>\n\n<pre><code>$ perl -pe 's/(?&lt;!\\\\);((?:\\[[^\\]]*\\]|\\\\;|[^;])+)$/;[^;]*;\\1/g' file\nlazy;dog;are;[^;]*;running\n[^;]*;dog;are;[^;]*;[^;]*\n[^,;:0-9]*;dog;are;[^;]*;\\;running\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/yW4aZ3/214\" rel=\"nofollow\">REGEX Demo</a></p>\n"}], "owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 28805884, "answer_count": 1, "score": 1, "last_activity_date": 1425286879, "creation_date": 1425284853, "question_id": 28805357, "link": "https://stackoverflow.com/questions/28805357/add-a-string-in-regex-pattern", "title": "add a string in regex pattern", "body": "<p>any idea to insert a substring (<code>;[^;]*</code> in this case) into a regex pattern that is <code>;</code> separated in a specific place (add a 4th field in my case where there is ALWAYS 4 field). \nProblem is that value in \"field\" are regex and the char <code>;</code> could exist  as pattern (like in class or escaped char) and not separator.</p>\n\n<p>It's on a AIX so no GNU tools available (posix sed or awk).</p>\n\n<p>sample of possible string and expected result</p>\n\n<pre><code>lazy;dog;are;running\n-&gt; lazy;dog;are;[^;]*;running\n\n[^;]*;dog;are;[^;]*\n-&gt; [^;]*;dog;are;[^;]*;[^;]*\n\n[^,;:0-9]*;dog;are;\\;running\n-&gt; [^,;:0-9]*;dog;are;[^;]*;\\;running\n</code></pre>\n\n<p>i try a  <code>sed 's/;[^;]*$/[^;]*;&amp;/'</code> based on first string but cannot build the modification on sed for other special case due to lack of back reference value\n(i think a perl or maybe an awk to avoid a heavy batch/sed</p>\n"}, {"tags": ["windows", "perl", "soap", "build", "activestate"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425290717, "post_id": 28804854, "comment_id": 45886928, "body": "If it won&#39;t build from source, you may find that using <code>ppm</code> to install it will work."}, {"owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425290840, "post_id": 28804854, "comment_id": 45886995, "body": "ppm itself is failing to build the package and therefore doesn&#39;t provide it, as my links show."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425291467, "post_id": 28804854, "comment_id": 45887340, "body": "OK, fair enough. I usually find between <code>ppm</code> and <code>cpan install</code> I can get <i>most</i> stuff working, But generally I think ActiveState aren&#39;t really interested unless you&#39;re a paying customer."}], "answers": [{"comments": [{"owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "edited": false, "score": 0, "creation_date": 1425308121, "post_id": 28810962, "comment_id": 45897340, "body": "Thanks for the answer, but the intention of my question is not how to make it on my own, but instead how to deal with ActiveState. They should fix their build setup and maybe they just don&#39;t know about the problem or they are known to not care or whatever... I just can&#39;t find any info."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1425302840, "creation_date": 1425302840, "answer_id": 28810962, "question_id": 28804854, "link": "https://stackoverflow.com/questions/28804854/how-to-deal-with-build-problems-of-activestate-for-its-ppm/28810962#28810962", "title": "How to deal with build problems of ActiveState for its ppm?", "body": "<p>In this case, <code>Crypt::SSLeay</code> fails to build because it cannot deduce where ActiveState keeps OpenSSL when building PPM modules. I do not know why <a href=\"http://www.nu42.com/2014/08/dont-declare-dependency-on-cryptssleay.html\" rel=\"nofollow\">SOAP::Lite declares a dependency on Crypt::SSLeay</a>, but, unfortunately it does.</p>\n\n<p>So, the package manager fails to package the module.</p>\n\n<p>Since it doesn't look like there are any problems building <a href=\"https://metacpan.org/pod/SOAP::Lite\" rel=\"nofollow\">SOAP::Lite</a> itself, do download the package, extract, and do the </p>\n\n<pre>C:\\...> perl Makefile.PL\nC:\\...> dmake\nC:\\...> dmake test\n</pre>\n\n<p>and finally, if tests pass,</p>\n\n<pre>dmake install</pre>\n\n<p>dance.</p>\n\n<p>The module's <code>Makefile.PL</code> is interesting because it declares explicit dependencies on both <code>IO::Socket::SSL</code> <em>and</em> <code>Crypt::SSLeay</code> when all it needs is to recommend a dependency on <code>LWP::Protocol::https</code>.</p>\n\n<p>I should point out that <a href=\"http://www.nu42.com/2014/04/does-your-code-really-depend-on.html\" rel=\"nofollow\">IO::Socket::SSL is what you want</a>.</p>\n"}], "owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425302840, "creation_date": 1425282540, "question_id": 28804854, "link": "https://stackoverflow.com/questions/28804854/how-to-deal-with-build-problems-of-activestate-for-its-ppm", "title": "How to deal with build problems of ActiveState for its ppm?", "body": "<p>I use community version of ActiveState Perl under Windows and therefore need to either keep older versions around or use the most current releases. Problem is that I often found that some of my used packages do not build on their current Perl distributions, some of those build problems get fixed \"sometime\". Currently <a href=\"https://code.activestate.com/ppm/SOAP-Lite/\" rel=\"nofollow\">SOAP::Lite</a> is marked as to not build successfully, looks like because of some <a href=\"https://code.activestate.com/ppm/Crypt-SSLeay/\" rel=\"nofollow\">missing dependencies</a>, though the tests of SOAP::Lite itself seems to pass. Only waiting until this gets fixed doesn't seem like a good solution to me, so I wonder:</p>\n\n<p>Is there any known best practice how to deal with such build problems regarding ActiveState? Is there any bug tracker or else to get them having a look at those problems? Would there be any chance to provide patches, if one would have a solutions for some problems? Or would one need to always contact the project for the package not building? Because some problems are clearly related to ActiveStates environment.</p>\n\n<p>I couldn't find anything to contact Activestate or whatever regarding such build problems. Seems to me the only possible way is to buy support.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 553, "user_id": 1171163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6e1013351707fada043aa99c6c184204?s=128&d=identicon&r=PG", "display_name": "Bad_ptr", "link": "https://stackoverflow.com/users/1171163/bad-ptr"}, "reply_to_user": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 0, "creation_date": 1425286054, "post_id": 28804512, "comment_id": 45884417, "body": "@martinclayton I tested it with perl v5.18.2, and it works for me). The problem is to write a function that can access the calling function arguments, like shift does(however I do not need to change the arguments, only to read). Is it possible? (it is not a very practical problem, of course)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425293500, "post_id": 28804512, "comment_id": 45888467, "body": "Not without a call checker or other comparable messing with internals."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425294011, "post_id": 28804512, "comment_id": 45888750, "body": "I&#39;d be wondering what you&#39;re trying to accomplish. This isn&#39;t necessarily a good solution to most problems."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1425294122, "post_id": 28804512, "comment_id": 45888808, "body": "<a href=\"http://stackoverflow.com/questions/1347396/when-should-i-use-the-to-call-a-perl-subroutine\" title=\"when should i use the to call a perl subroutine\">stackoverflow.com/questions/1347396/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425337530, "post_id": 28804512, "comment_id": 45914023, "body": "@ikegami: Nonsense. This is exactly what the <code>&amp;subroutine</code> call does."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425392056, "post_id": 28804512, "comment_id": 45937435, "body": "@Borordin, <code>subroutine(@_)</code>, <code>subroutine(\\@_)</code> and <code>&amp;subroutine</code> don&#39;t cause calls to <code>subroutine</code> to default to using <code>@_</code>; it&#39;s being explicit about it. If you want to default to be <code>@_</code> (like <code>shift</code>), you need a call checker or some other comparable use of the Perl API or internals."}], "answers": [{"tags": [], "owner": {"reputation": 553, "user_id": 1171163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6e1013351707fada043aa99c6c184204?s=128&d=identicon&r=PG", "display_name": "Bad_ptr", "link": "https://stackoverflow.com/users/1171163/bad-ptr"}, "is_accepted": false, "score": 1, "last_activity_date": 1425292343, "last_edit_date": 1425292343, "creation_date": 1425290212, "answer_id": 28806867, "question_id": 28804512, "link": "https://stackoverflow.com/questions/28804512/perl-access-caller-arguments-like-shift-pop-etc/28806867#28806867", "title": "Perl. Access caller arguments (like shift, pop, etc)", "body": "<p>Ok, I found an answer:</p>\n\n<pre><code>use feature 'say';\n\nsub my_shift {\n say \"Arguments before shift: \", @_;\n shift;\n say \"Arguments after shift: \", @_;\n}\n\nsub test {\n say \"Arguments before my_shift: \", @_;\n &amp;my_shift;\n say \"Arguments after my_shift: \", @_;\n}\n</code></pre>\n\n<p>The 'tricky' thing here is to call the <code>my_shift</code> with an ampersand(<code>&amp;</code>) before the function name -- then the function gets arguments of the calling function as it's input.</p>\n\n<p>However I'll not accept this self-answer, because I'm still interested if it possible to do this without that ampersand magic and what if i need to pass other arguments and access the calling function arguments at the same time, etc.</p>\n"}], "owner": {"reputation": 553, "user_id": 1171163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6e1013351707fada043aa99c6c184204?s=128&d=identicon&r=PG", "display_name": "Bad_ptr", "link": "https://stackoverflow.com/users/1171163/bad-ptr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1425292343, "creation_date": 1425280841, "last_edit_date": 1425285644, "question_id": 28804512, "link": "https://stackoverflow.com/questions/28804512/perl-access-caller-arguments-like-shift-pop-etc", "title": "Perl. Access caller arguments (like shift, pop, etc)", "body": "<p>In perl there is the <code>shift</code> function that can act on the <code>@_</code>(arguments of a function in scope of which it was called) if no arguments supplied.</p>\n\n<p>Can I write a custom function in perl with the same behavior(some kind of my_shift)?</p>\n\n<p>I tried this:</p>\n\n<pre><code>use Data::Dumper;\n\nsub get_caller_args (;$) {\n  my $n = shift;\n  $n = defined $n? $n:1;\n  my $ret;\n  package DB {\n    my($t,$t1) = caller($n);\n  };\n  $ret = \\@DB::args;\n  return $ret;\n}\n\nsub test ($@) {\n  my $self = shift;\n  print \"Self: $self.\\n\";\n  print Dumper(get_caller_args()), \"\\n\";\n}\n</code></pre>\n\n<p>It kind of works, but</p>\n\n<pre><code>test(1,2,3)\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>Self: 1.\n$VAR1 = [\n          1,\n          2,\n          3\n        ];\n</code></pre>\n\n<p>So it doesn't see changes made by <code>shift</code> (though it can see changes made by <code>pop</code>).</p>\n\n<p>But I want it to act like this:</p>\n\n<pre><code>sub test {\n  my $self = shift;\n  print my_function;\n}\n</code></pre>\n\n<p>Here the <code>my_function</code> called without arguments must act on the <code>@_</code>, in this case on the rest of the arguments, without the first as it was shifted(actually I need only to read arguments, not to do changes).</p>\n"}, {"tags": ["bash", "perl", "shell", "unix"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1425275378, "post_id": 28803343, "comment_id": 45880254, "body": "Please clarify your question.  It sounds a bit as if you want to have: (1) dir1/fileA and dir2/fileA both exist, and (2) you want to move dir1/fileA to dir3/fileA, and (3) you want to move dir2/fileA to dir4/fileA.  Is that what you&#39;re seeking?  If so, please say so in the question.  If not, please explain what you do want in more detail."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1425276045, "post_id": 28803343, "comment_id": 45880468, "body": "Also, what did you try?  There are many questions on StackOverflow which are simiar or variants of your scenario; see e.g. <a href=\"http://stackoverflow.com/questions/1644593/unix-compare-two-folders-which-has-many-files-inside-contents\" title=\"unix compare two folders which has many files inside contents\">stackoverflow.com/questions/1644593/&hellip;</a> <a href=\"http://stackoverflow.com/questions/20014987/bash-script-that-copies-the-differences-in-two-directories-to-a-third-directory\" title=\"bash script that copies the differences in two directories to a third directory\">stackoverflow.com/questions/20014987/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/2019857/diff-files-present-in-two-different-directories\" title=\"diff files present in two different directories\">stackoverflow.com/questions/2019857/&hellip;</a>, etc"}, {"owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "edited": false, "score": 0, "creation_date": 1425276837, "post_id": 28803343, "comment_id": 45880690, "body": "Yep..exactly what you have explained. Here is a point to note - the files with same name in 2 directories contains different content. That&#39;s why I want to extract the files in dir1 that have same name with dir2 files to dir3 and similarly dir2 files that have same name with dir1 files to dir4."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1425285485, "post_id": 28803343, "comment_id": 45884129, "body": "Erm, you have duplicates in your duplicates so you want to duplicate the duplicates?  Yo, dawg."}, {"owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "edited": false, "score": 0, "creation_date": 1425290711, "post_id": 28803343, "comment_id": 45886927, "body": "Of course the statement is appropriate for the file names. <b>But as I&#39;ve mentioned the content is different in both files that have same name.</b>"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1425305497, "post_id": 28803343, "comment_id": 45895591, "body": "What good will this do? You already have the files. How does it help to have another copy of the files in <code>dir3</code> and <code>dir4</code>?"}, {"owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "edited": false, "score": 0, "creation_date": 1425315764, "post_id": 28803343, "comment_id": 45902526, "body": "that&#39;s where my work starts..after having files in dir3 and dir4, I will append the sequence present in the dir3 files to the files of dir4 keeping in mind that <b>I am appending the sequence of file1(file name) of dir3 to the sequence of file1(file name) of dir4</b> . Then further analysis starts.."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425383136, "post_id": 28803343, "comment_id": 45931752, "body": "The clarification comments here would be best to merge into the original question - comments are ephemeral, and it would be useful to understand the context."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "edited": false, "score": 0, "creation_date": 1425291106, "post_id": 28805792, "comment_id": 45887144, "body": "Thank you..that&#39;s enough for me..I can modify it for my problem::"}, {"owner": {"reputation": 1, "user_id": 4622606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50570e739a07eb36ac9bdf8d6e467e8?s=128&d=identicon&r=PG&f=1", "display_name": "DonkoXI", "link": "https://stackoverflow.com/users/4622606/donkoxi"}, "reply_to_user": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "edited": false, "score": 0, "creation_date": 1425293311, "post_id": 28805792, "comment_id": 45888361, "body": "You&#39;re welcome. All you need to do is change the /path/to/dir&#39;s and it should work as is. Just paste it into a file, fix the dir paths, chmod +x and run. Note: I tested it on my computer and the pathnames needed to be the full name (i.e. ~/dir did not work in some places)"}, {"owner": {"reputation": 3935, "user_id": 1301627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b601d8a6c093c67968d77585290bf23e?s=128&d=identicon&r=PG&f=1", "display_name": "fatal_error", "link": "https://stackoverflow.com/users/1301627/fatal-error"}, "edited": false, "score": 0, "creation_date": 1479086443, "post_id": 28805792, "comment_id": 68397010, "body": "See also fdupes, although it doesn&#39;t have the ability to move files into multiple directories. It&#39;s good for finding duplicate files, and optionally eliminating all but the first found duplicate."}, {"owner": {"reputation": 1, "user_id": 4622606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50570e739a07eb36ac9bdf8d6e467e8?s=128&d=identicon&r=PG&f=1", "display_name": "DonkoXI", "link": "https://stackoverflow.com/users/4622606/donkoxi"}, "edited": false, "score": 0, "creation_date": 1479088242, "post_id": 28805792, "comment_id": 68397371, "body": "I&#39;ll have too look into that. I would usually use cmp for that."}], "tags": [], "owner": {"reputation": 1, "user_id": 4622606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50570e739a07eb36ac9bdf8d6e467e8?s=128&d=identicon&r=PG&f=1", "display_name": "DonkoXI", "link": "https://stackoverflow.com/users/4622606/donkoxi"}, "is_accepted": false, "score": 0, "last_activity_date": 1425290641, "last_edit_date": 1425290641, "creation_date": 1425286578, "answer_id": 28805792, "question_id": 28803343, "link": "https://stackoverflow.com/questions/28803343/common-files-in-2-directories/28805792#28805792", "title": "Common files in 2 directories", "body": "<p>If I understand correctly, you are looking for something like this</p>\n\n<pre><code>#!/bin/bash\n\ndir1list=(/path/to/dir1/*)\ndir2list=(/path/to/dir2/*)\n\nmkdir /tmp/dirlist\n\nfor(( n=0; n&lt;${#dir1list}; n++)); do\n   echo \"${dir1list[n]##/*/}\" &gt;&gt; /tmp/dirlist/dir1.list\ndone\n\nfor(( n=0; n&lt;${#dir2list}; n++)); do\n   echo \"${dir2list[n]##/*/}\" &gt;&gt; /tmp/dirlist/dir2.list\ndone\n\ngrep -Fx -f /tmp/dirlist/dir2.list /tmp/dirlist/dir1.list &gt; /tmp/dirlist/difflist1.txt\n\ngrep -Fx -f /tmp/dirlist/dir1.list /tmp/dirlist/dir2.list &gt; /tmp/dirlist/difflist2.txt\n\nXIFS=$IFS\nIFS=$'\\n'\nDifflist1=($(&lt;/tmp/dirlist/difflist1.txt))\nDifflist2=($(&lt;/tmp/dirlist/difflist2.txt))\nIFS=$XIFS\n\nfor(( n=0; n&lt;${#Difflist1}; n++)); do\n   mv \"/path/to/dir1/${Difflist1[n]}\" /path/to/dir3\ndone\n\nfor(( n=0; n&lt;${#Difflist2}; n++)); do\n   mv \"/path/to/dir2/${Difflist2[n]}\" /path/to/dir4\ndone\n</code></pre>\n\n<p>There may be a more elegant way to do this. I based this off of a much more complicated script I had to write a few months ago, so it may not be optimized for your specific job.</p>\n"}], "owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1425305397, "creation_date": 1425274918, "last_edit_date": 1425305397, "question_id": 28803343, "link": "https://stackoverflow.com/questions/28803343/common-files-in-2-directories", "title": "Common files in 2 directories", "body": "<p>I've 2 directories dir1 and dir2 containing more than 8000 files each. I want to extract the files from dir1 that has same name in dir 2 to one directory and also the files in dir2 that has the same name in dir1 into another directory.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "is_accepted": false, "score": 1, "last_activity_date": 1425274283, "creation_date": 1425274283, "answer_id": 28803233, "question_id": 28803194, "link": "https://stackoverflow.com/questions/28803194/get-a-reference-to-a-sub-array-of-a-reference-to-an-array/28803233#28803233", "title": "Get a reference to a sub array of a reference to an array", "body": "<p>I dont think that is possible the better way is to take subarray in new array\nand then take the reference to that new array.</p>\n\n<pre><code>@x = (1,2,3,4,5,6);\n@y = @x[1 .. 4];\n\nmy $arrf = \\@y\nprint \"@$arrf\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1425279931, "post_id": 28803283, "comment_id": 45881793, "body": "you can get actual aliases with <code>$y=sub{\\@_}-&gt;(@$x[1..4])</code>"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1425274571, "creation_date": 1425274571, "answer_id": 28803283, "question_id": 28803194, "link": "https://stackoverflow.com/questions/28803194/get-a-reference-to-a-sub-array-of-a-reference-to-an-array/28803283#28803283", "title": "Get a reference to a sub array of a reference to an array", "body": "<p>An array slice isn't a variable, you can't take a reference to it. But if you want a reference to a <em>new</em> anonymous array created from a slice of the original array you can do</p>\n\n<pre><code>$y = [ @$x[1 .. 4] ];\n</code></pre>\n\n<p>where <code>@$x[1 .. 4]</code> slices <code>@$x</code> in the same way as <code>@x[1 .. 4]</code> slices <code>@x</code>, and the<br>\n<code>[ ... ]</code> operator creates a reference to a new array. The elements of <code>@$y</code> are shallow copies of the elements in <code>@$x</code>; modifying <code>@$y</code> doesn't modify <code>@$x</code> (but if some of those elements are references, they will still reference the same data).</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1425294695, "creation_date": 1425294695, "answer_id": 28808352, "question_id": 28803194, "link": "https://stackoverflow.com/questions/28803194/get-a-reference-to-a-sub-array-of-a-reference-to-an-array/28808352#28808352", "title": "Get a reference to a sub array of a reference to an array", "body": "<p>The equivalent of</p>\n\n<pre><code>my @x = (1,2,3,4,5,6);\nmy @y = @x[1..4]\n</code></pre>\n\n<p>is</p>\n\n<pre><code>my $x = [ (1,2,3,4,5,6) ];      (Parens can be removed)\nmy $y = [ @$x[1..4] ];\n</code></pre>\n\n<p>which is basically the same as</p>\n\n<pre><code>my @x = (1,2,3,4,5,6);   my $x = \\@x;\nmy @y = @$x[1..4];       my $y = \\@y;\n</code></pre>\n\n<p>There's no such thing as a sub array or a reference to one.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 28808352, "answer_count": 3, "score": 1, "last_activity_date": 1425294695, "creation_date": 1425274053, "question_id": 28803194, "link": "https://stackoverflow.com/questions/28803194/get-a-reference-to-a-sub-array-of-a-reference-to-an-array", "title": "Get a reference to a sub array of a reference to an array", "body": "<p>To get a sub array of an array, we can do something like:</p>\n\n<pre><code>@x = (1,2,3,4,5,6);\n@y = @x[1 .. 4]\n</code></pre>\n\n<p>What I have reference to an array</p>\n\n<pre><code>$x = [1,2,3,4,5,6];\n</code></pre>\n\n<p>What is an easy way to get a reference to a sub array</p>\n\n<pre><code>$y = $x-&gt;[1 .. 4]; #doesn't work.\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1425253229, "post_id": 28800284, "comment_id": 45875053, "body": "the while loop also gives the wrong result if you happen to have called each on the hash before without exhausting or later resetting the iterator."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 6, "last_activity_date": 1523936914, "last_edit_date": 1523936914, "creation_date": 1425251549, "answer_id": 28800423, "question_id": 28800284, "link": "https://stackoverflow.com/questions/28800284/determine-size-of-perl-hash/28800423#28800423", "title": "Determine size of Perl hash", "body": "<p>I cannot read the mind of whomever might have written that piece of code, but he/she likely thought:</p>\n\n<pre><code>my $n = keys %hash;\n</code></pre>\n\n<p>used more memory than iterating through everything using <a href=\"https://metacpan.org/pod/perlfunc#each\" rel=\"nofollow noreferrer\"><code>each</code></a>.</p>\n\n<p>Note that the scalar on the left hand side of the assignment creates scalar context: There is no need for <code>scalar</code> unless you want to create a scalar context in what would otherwise have been list context.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1425261349, "creation_date": 1425261349, "answer_id": 28801594, "question_id": 28800284, "link": "https://stackoverflow.com/questions/28800284/determine-size-of-perl-hash/28801594#28801594", "title": "Determine size of Perl hash", "body": "<p>Because he didn't know about <code>keys</code>'s ability to return the number of elements in the hash.</p>\n"}], "owner": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5093, "favorite_count": 0, "accepted_answer_id": 28800423, "answer_count": 2, "score": 6, "last_activity_date": 1523936914, "creation_date": 1425250699, "last_edit_date": 1443641898, "question_id": 28800284, "link": "https://stackoverflow.com/questions/28800284/determine-size-of-perl-hash", "title": "Determine size of Perl hash", "body": "<p>I was browsing through some Perl code in a popular repositiory on <a href=\"http://en.wikipedia.org/wiki/GitHub\" rel=\"nofollow\">GitHub</a> and ran across this method to calculate the size of a hash:</p>\n\n<blockquote>\n<pre><code>while ( my ($a, undef ) = each %h ) { $num++; }\n</code></pre>\n</blockquote>\n\n<p>I thought why would one go through the trouble of writing all that code when it could more simply be written as</p>\n\n<pre><code>$num = scalar keys %h;\n</code></pre>\n\n<p>So, I compared both methods with Benchmark.</p>\n\n<pre><code>my %h = (1 .. 1000);\n    cmpthese(-10, {\n        keys      =&gt; sub {\n                             my $num  = 0;\n                             $num = scalar keys %h;\n                         },\n        whileloop =&gt; sub {\n                             my $num = 0;\n                             while ( my ($a, undef ) = each %h ) {\n                                 $num++;\n                             }\n                         },\n});\n</code></pre>\n\n<pre> RESULTS\n                Rate whileloop      keys\n whileloop    5090/s        --     -100%\n keys      7234884/s   142047%        --</pre>\n\n<p>The results show that using <code>keys</code> is MUCH faster than the while loop. My question is this: why would the original coder use such a slow method? Is there something that I'm missing? Also, is there a faster way?</p>\n"}, {"tags": ["windows", "perl", "nmake", "strawberry-perl", "activeperl"], "comments": [{"owner": {"reputation": 169, "user_id": 3748944, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4bcc4d704b14945b7e14aed5065b9981?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Kovtunenko", "link": "https://stackoverflow.com/users/3748944/oleksandr-kovtunenko"}, "reply_to_user": {"reputation": 5222, "user_id": 1765866, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EVSS2.jpg?s=128&g=1", "display_name": "Daryl Gill", "link": "https://stackoverflow.com/users/1765866/daryl-gill"}, "edited": false, "score": 0, "creation_date": 1425214089, "post_id": 28793603, "comment_id": 45861939, "body": "Yes I have tried once time I get reference to the empty  Microsoft page  <a href=\"http://johnbokma.com/perl/make-for-windows.html\" rel=\"nofollow noreferrer\">johnbokma.com/perl/make-for-windows.html</a>  . And second time I download nmake and get message like this  (see my sceenshot) . Looks like I need nmake 64 bit"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1425215126, "post_id": 28793603, "comment_id": 45862261, "body": "John Bokma&#39;s advice is for a foregone era. He built that web site almost a decade ago, and that page seems not to have been updated since then."}], "answers": [{"comments": [{"owner": {"reputation": 127019, "user_id": 59303, "user_type": "moderator", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/gIt1g.png?s=128&g=1", "display_name": "ChrisF", "link": "https://stackoverflow.com/users/59303/chrisf"}, "edited": false, "score": 1, "creation_date": 1425392379, "post_id": 28793706, "comment_id": 45937666, "body": "Comments purged as they were getting heated."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 9, "last_activity_date": 1425502600, "last_edit_date": 1592644375, "creation_date": 1425214056, "answer_id": 28793706, "question_id": 28793603, "link": "https://stackoverflow.com/questions/28793603/how-can-i-obtain-tools-to-build-perl-modules-on-windows/28793706#28793706", "title": "How can I obtain tools to build Perl modules on Windows?", "body": "<p>Visual Studio 2013 Community Edition is <a href=\"http://www.visualstudio.com/news/vs2013-community-vs\" rel=\"nofollow noreferrer\">freely available under certain conditions</a>:</p>\n<blockquote>\n<p>Q: Who can use Visual Studio Community?</p>\n<p>A: Here\u2019s how individual developers can use Visual Studio Community:</p>\n<p>Any individual developer can use Visual Studio Community to create their own free or paid apps.</p>\n<p>Here\u2019s how Visual Studio Community can be used in organizations:</p>\n<p>An unlimited number of users within an organization can use Visual Studio Community for the following scenarios: in a classroom learning environment, for academic research, or for contributing to open source projects.</p>\n<p>For all other usage scenarios: In non-enterprise organizations, up to 5 users can use Visual Studio Community. In enterprise organizations (meaning those with &gt;250 PCs or &gt; $1MM in annual revenue), no use is permitted beyond the open source, academic research, and classroom learning environment scenarios described above.</p>\n</blockquote>\n<p>Now, if you are going to use Visual Studio tools to build your Perl modules, you are going to have to build your <code>perl</code> using those tools as well.</p>\n<p>If you have one of the major Perl distributions such as <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">StrawberryPerl</a> or <a href=\"http://www.activestate.com/activeperl\" rel=\"nofollow noreferrer\">ActivePerl</a>, and you are getting a message about needing a make tool, then you have a configuration issue.</p>\n<p>Strawberry Perl already comes with bundled build tools using the MinGW toolchain. ActiveState provides a <a href=\"https://code.activestate.com/ppm/MinGW/\" rel=\"nofollow noreferrer\">MinGW package</a> which you can install using PPM.</p>\n<p>From your screenshot, I can see that you are rather confused. You have downloaded ActivePerl and StrawberryPerl distributions, and several copies of an ancient 32-bit <code>nmake</code>.</p>\n<p>For the time being, you must choose one among the following and stick with it.</p>\n<ul>\n<li><a href=\"http://www.activestate.com/activeperl\" rel=\"nofollow noreferrer\">ActivePerl</a> or</li>\n<li><a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">StrawberryPerl</a> or</li>\n<li><a href=\"http://www.nu42.com/2014/11/64-bit-perl-5201-with-visual-studio.html\" rel=\"nofollow noreferrer\">Self-compiled <code>perl</code></a></li>\n</ul>\n<p>If you are careful with your <code>%PATH%</code>, and know what you are doing, multiple distributions can co-exist on your system, but, until then, stick with one and become comfortable using it.</p>\n<p>ActivePerl gives you the benefit of pre-packaged CPAN libraries which you can just install from a decent but not stellar package management system called <a href=\"http://www.activestate.com/activeperl/ppm-perl-modules\" rel=\"nofollow noreferrer\">ppm</a>. For any module you need, first see if <code>ppm install Name::of::Module</code> works. If not, you can use <code>perl Makefile.PL</code>, <code>dmake test</code>, <code>dmake install</code> to build and install them in most cases. Make sure the MinGW package I mention above is installed via <code>ppm</code>.</p>\n<p>If you choose StrawberryPerl, make sure you have set the paths correctly in your command prompt. It comes <a href=\"http://strawberryperl.com/release-notes/5.20.2.1-64bit.html\" rel=\"nofollow noreferrer\">pre-packaged with many essential C libraries and Perl modules</a>, and provides the environment to build others you might need. StrawberryPerl also uses <code>dmake</code> as its build tool.</p>\n<p>If you decide to build your own <code>perl</code>, you can use VS 2013 CE if Microsoft's terms apply to your situation. Keep in mind that if you choose that route, you are pretty much going to have to compile every C library needed for any modules you are going to use such as <a href=\"http://www.nu42.com/2014/04/building-openssl-101g-on-64-bit-windows.html\" rel=\"nofollow noreferrer\">OpenSSL</a>, <a href=\"http://www.nu42.com/2015/02/building-libexpat-and-xmlparser-on.html\" rel=\"nofollow noreferrer\">libexpat</a>, <code>sqlite</code>, <code>zlib</code>, <code>libpng</code> etc etc.</p>\n"}], "owner": {"reputation": 169, "user_id": 3748944, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4bcc4d704b14945b7e14aed5065b9981?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Kovtunenko", "link": "https://stackoverflow.com/users/3748944/oleksandr-kovtunenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 28793706, "answer_count": 1, "score": 4, "last_activity_date": 1425502600, "creation_date": 1425213389, "last_edit_date": 1425227508, "question_id": 28793603, "link": "https://stackoverflow.com/questions/28793603/how-can-i-obtain-tools-to-build-perl-modules-on-windows", "title": "How can I obtain tools to build Perl modules on Windows?", "body": "<p>I need to install a few modules required my Perl program on Windows. It looks like I need a 64-bit <code>nmake</code> to build those modules. I found <code>nmake15</code> online, but it does not work on my system.</p>\n\n<p>How can I build those Perl modules on Windows?</p>\n\n<p><img src=\"https://i.stack.imgur.com/Bp8fJ.png\" alt=\"Screenshot of my download directory\"></p>\n"}, {"tags": ["c++", "perl", "nlp"], "comments": [{"owner": {"reputation": 532, "user_id": 2238884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26f28ec1ff8e20ef3320690a36e9cb5b?s=128&d=identicon&r=PG", "display_name": "user2238884", "link": "https://stackoverflow.com/users/2238884/user2238884"}, "edited": false, "score": 0, "creation_date": 1441663701, "post_id": 28792024, "comment_id": 52756549, "body": "Was your problem solved ?"}, {"owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "reply_to_user": {"reputation": 532, "user_id": 2238884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26f28ec1ff8e20ef3320690a36e9cb5b?s=128&d=identicon&r=PG", "display_name": "user2238884", "link": "https://stackoverflow.com/users/2238884/user2238884"}, "edited": false, "score": 0, "creation_date": 1441699351, "post_id": 28792024, "comment_id": 52767151, "body": "yeah, I just had to look closer at the documentation- as lame an answer as that is. I mean, when people tell me that- usually i&#39;m pretty... displeased. but anyway- thats the truth"}], "answers": [{"comments": [{"owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1425358928, "post_id": 28823843, "comment_id": 45919801, "body": "what do you mean the underlying feature is \u5f00? aren&#39;t we considering \u4e1c? I want to know what is the POS of \u4e1c. What do you mean by &#39;similar for bigrams&#39;, would you please show me an example?"}, {"owner": {"reputation": 96, "user_id": 2710459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e2d16d62f746d45d47a611fd3cd1bc?s=128&d=identicon&r=PG&f=1", "display_name": "yiping", "link": "https://stackoverflow.com/users/2710459/yiping"}, "reply_to_user": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1425449435, "post_id": 28823843, "comment_id": 45963407, "body": "when you are classifying current word &quot;\u4e1c&quot;, you not just take it as a feature but also can take surrounding words. That&#39;s why the index %x[1,0] means the next word and %x[-1,0] means the previous word."}, {"owner": {"reputation": 96, "user_id": 2710459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e2d16d62f746d45d47a611fd3cd1bc?s=128&d=identicon&r=PG&f=1", "display_name": "yiping", "link": "https://stackoverflow.com/users/2710459/yiping"}, "reply_to_user": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1425449480, "post_id": 28823843, "comment_id": 45963426, "body": "bigram is just conjunction of two words. e.g. the previous two words"}, {"owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1425453538, "post_id": 28823843, "comment_id": 45964975, "body": "I&#39;m at SUTD, are you also in Singapore?"}], "tags": [], "owner": {"reputation": 96, "user_id": 2710459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e2d16d62f746d45d47a611fd3cd1bc?s=128&d=identicon&r=PG&f=1", "display_name": "yiping", "link": "https://stackoverflow.com/users/2710459/yiping"}, "is_accepted": true, "score": 0, "last_activity_date": 1425355043, "last_edit_date": 1592644375, "creation_date": 1425355043, "answer_id": 28823843, "question_id": 28792024, "link": "https://stackoverflow.com/questions/28792024/define-crf-template-file/28823843#28823843", "title": "define CRF++ template file", "body": "<p>CRF++ is extremely easy to use. The instructions on the website explains it clearly.</p>\n<p><a href=\"http://crfpp.googlecode.com/svn/trunk/doc/index.html\" rel=\"nofollow noreferrer\">http://crfpp.googlecode.com/svn/trunk/doc/index.html</a></p>\n<p>Suppose we extract feature for the line\n\u4e1c   L-NR</p>\n<p>Unigram</p>\n<blockquote>\n<p>U02:%x[0,0] #means column 0 of the current line</p>\n<p>U03:%x[1,0] #means column 0 of the next line</p>\n</blockquote>\n<p>So the underlying feature is &quot;column0=\u5f00&quot;</p>\n<p>Similar for bigrams</p>\n"}, {"tags": [], "owner": {"reputation": 531, "user_id": 1586094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb985c1850d3eda0f9dbf105cb848a66?s=128&d=identicon&r=PG", "display_name": "vrume21", "link": "https://stackoverflow.com/users/1586094/vrume21"}, "is_accepted": false, "score": 0, "last_activity_date": 1428075012, "creation_date": 1428075012, "answer_id": 29435120, "question_id": 28792024, "link": "https://stackoverflow.com/questions/28792024/define-crf-template-file/29435120#29435120", "title": "define CRF++ template file", "body": "<p>It seems that this issue arises from not clearly understanding how CRF++ is processing the training file.  Your features may not include the values in the last column.  These are the labels!  If you were to include them in your features, your model would be trivially perfect!  When you define your template file, because you only have two columns, it can only include rules of the form %x[n,0].  It is hardcoded into CRF++ (though not clearly documented, as far as I can tell), that -4 &lt;= n &lt;= 4.  </p>\n"}], "owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1145, "favorite_count": 0, "accepted_answer_id": 28823843, "answer_count": 2, "score": 0, "last_activity_date": 1428075012, "creation_date": 1425202543, "last_edit_date": 1495539883, "question_id": 28792024, "link": "https://stackoverflow.com/questions/28792024/define-crf-template-file", "title": "define CRF++ template file", "body": "<p><a href=\"https://stackoverflow.com/questions/16886251/faliure-in-reading-training-data-tagger-cpp-393-crf\"><strong>This</strong></a> is my issue, but it doesn't say HOW to define the template file correctly. </p>\n\n<p>My training file looks like this:</p>\n\n<pre><code>\u4e0a   B-NR\n\u6d77   L-NR\n\u6d66   B-NR\n\u4e1c   L-NR\n\u5f00   B-NN\n\u53d1   L-NN\n\u4e0e   U-CC\n\u6cd5   B-NN\n\u5236   L-NN\n\u5efa   B-NN\n...\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 0, "creation_date": 1425197310, "post_id": 28791174, "comment_id": 45857921, "body": "do you need the XML for the content, or only the text content?"}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 0, "creation_date": 1425197382, "post_id": 28791174, "comment_id": 45857937, "body": "and what do you need to do with the data? store it in a variable, print it, output it to a file, to several files? And yes, XML::Twig can do this in a fairly simple way."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 0, "creation_date": 1425197815, "post_id": 28791174, "comment_id": 45858006, "body": "last question, when you say &#39;type&#39;, do you mean the element name (the tag)?"}, {"owner": {"reputation": 3222, "user_id": 1946636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cZEPK.jpg?s=128&g=1", "display_name": "Dan Goodspeed", "link": "https://stackoverflow.com/users/1946636/dan-goodspeed"}, "reply_to_user": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 0, "creation_date": 1425198079, "post_id": 28791174, "comment_id": 45858060, "body": "Kind of for the content.  What I do with the content depends on the type (element name).  For most types, I will just be saving the content into an array of strings, sometimes doing something special with the string depending on the type.  And for other types, I&#39;m interested in the attribute data, to save into a different array."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425233106, "post_id": 28791174, "comment_id": 45868526, "body": "If you&#39;ve got a specific example, then I&#39;m sure someone&#39;ll knock up something suitable in <code>XML::Twig</code>. There&#39;s two sorts of patterns really - one is load the whole structure as a hash. The other is to use twig handlers to extract just the bits you&#39;re interested in (and because you can <code>purge</code> you can keep the memory footprint down)."}, {"owner": {"reputation": 3222, "user_id": 1946636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cZEPK.jpg?s=128&g=1", "display_name": "Dan Goodspeed", "link": "https://stackoverflow.com/users/1946636/dan-goodspeed"}, "edited": false, "score": 0, "creation_date": 1425238481, "post_id": 28791174, "comment_id": 45870463, "body": "I&#39;m definitely interested in the whole data.  I just made a very rough pastebin of what the XML may look like - <a href=\"http://pastebin.com/Wb19XX3T\" rel=\"nofollow noreferrer\">pastebin.com/Wb19XX3T</a>"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1425305821, "post_id": 28791174, "comment_id": 45895804, "body": "I switched to <a href=\"http://search.cpan.org/perldoc?XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a> because libxml2 is so widely used and available outside of Perl."}], "answers": [{"comments": [{"owner": {"reputation": 3222, "user_id": 1946636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cZEPK.jpg?s=128&g=1", "display_name": "Dan Goodspeed", "link": "https://stackoverflow.com/users/1946636/dan-goodspeed"}, "edited": false, "score": 0, "creation_date": 1425197039, "post_id": 28791319, "comment_id": 45857873, "body": "Alas, it looks like XML::LibXML won&#39;t install on the server I&#39;m using."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1425252250, "post_id": 28791319, "comment_id": 45874796, "body": "Is it a Linux server? If so, you can probably install the XML::LibXML module from an OS package (e.g. <code>apt-get install libxml-libxml-perl</code> on debian).  For Windows, I believe XML::LibXML is bundled with the popular Perl distributions."}, {"owner": {"reputation": 3222, "user_id": 1946636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cZEPK.jpg?s=128&g=1", "display_name": "Dan Goodspeed", "link": "https://stackoverflow.com/users/1946636/dan-goodspeed"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1425917782, "post_id": 28791319, "comment_id": 46147579, "body": "Oh hey, @GrantMcLean!  I still remember your name fondly from 10 years ago when I decided to shift to XML from tab-delimited text.  I learned a lot from your writing and went all-in with XML because of it.  As far as your question... it&#39;s an old Linux server.   Lots of problems with it, things won&#39;t install.  I managed for force-install TWIG so that&#39;s what I&#39;m working with.  The server is on its way out, I don&#39;t even work at the company any more, they just asked me to help get the data out of it for the transition to a new system."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1425196220, "creation_date": 1425196220, "answer_id": 28791319, "question_id": 28791174, "link": "https://stackoverflow.com/questions/28791174/basic-parsing-of-xml-string-with-xmltwig/28791319#28791319", "title": "Basic parsing of XML string with XML::Twig", "body": "<p>I prefer <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>. Its <code>Reader</code> doesn't need to keep the whole structure in memory, so it can process large files:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse XML::LibXML::Reader;\n\nmy $reader = 'XML::LibXML::Reader'-&gt;new( location =&gt; 'file.xml' );\nwhile ($reader-&gt;read) {\n    if (1 == $reader-&gt;depth\n        and XML_READER_TYPE_ELEMENT == $reader-&gt;nodeType\n       ) {\n        my @info = ($reader-&gt;name);\n        my $inner = $reader-&gt;readInnerXml;\n        for my $idx (0 .. $reader-&gt;attributeCount - 1) {\n            $reader-&gt;moveToAttributeNo($idx);\n            push @info, $reader-&gt;name . '=' . $reader-&gt;value;\n        }\n        push @info, $inner;\n        print \"@info\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": false, "score": 1, "last_activity_date": 1425198973, "creation_date": 1425198973, "answer_id": 28791586, "question_id": 28791174, "link": "https://stackoverflow.com/questions/28791174/basic-parsing-of-xml-string-with-xmltwig/28791586#28791586", "title": "Basic parsing of XML string with XML::Twig", "body": "<p>The code below should give you enough information to get started.</p>\n\n<p>A few notes: </p>\n\n<ul>\n<li>to parse a file use <code>parsefile</code> instead of <code>parse</code></li>\n<li>you can also use <code>'level(1)'</code> instead of <code>'/root/*'</code></li>\n<li>using a closure to call the handler (<code>process_elt</code>), passing <code>$atts</code> and <code>$strings</code> is the clean way to do this, if you want <code>$atts</code> and <code>$strings</code> to be global variables you can just write <code>'/root/*' =&gt; \\&amp;process_elt</code> and the handler will be called with the twig and the element as parameters</li>\n<li>the <code>$t-&gt;purge</code> bit is there to free the memory used by the element you just processed, it is useful if the file is too big to fit in memory, otherwise you don't need to use it</li>\n<li><code>DDP</code> is <code>Data::Printer</code>, it's only there to check the output, you can use any other way to do this (<code>Data::Dumper</code>, <code>YAML</code>, prints...) </li>\n</ul>\n\n<p>Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $atts    = []; # attributes\nmy $strings = []; # text content\n\nXML::Twig-&gt;new( twig_handlers =&gt; \n                 { '/root/*' =&gt; sub { process_elt( @_, $strings, $atts); } })\n         -&gt;parse( \\*DATA);\n\nuse DDP; p $atts; p $strings;\n\nsub process_elt\n  { my( $t, $elt, $strings, $atts)= @_;\n\n    push @$atts, $elt-&gt;atts;\n\n    my $string= $elt-&gt;text;\n    if( $elt-&gt;tag eq 'e1')\n      { $string=~ s{text}{modified}; }\n    push @$strings, $string;\n\n    $t-&gt;purge;\n  }\n\n__DATA__\n&lt;root&gt;\n  &lt;e1 att_1=\"val_1_1\" att2= \"val_2_1\"&gt;text content of element 1&lt;/e1&gt;\n  &lt;e1 att_1=\"val_1_2\" att2= \"val_2_2\"&gt;text content of element 2&lt;/e1&gt;\n  &lt;e2 att_3=\"val_3_1\" att2= \"val_2_3\"&gt;element with &lt;sub_elt&gt;sub element&lt;/sub_elt&gt; inside&lt;/e2&gt;\n&lt;/root&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3222, "user_id": 1946636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cZEPK.jpg?s=128&g=1", "display_name": "Dan Goodspeed", "link": "https://stackoverflow.com/users/1946636/dan-goodspeed"}, "edited": false, "score": 0, "creation_date": 1425238811, "post_id": 28797210, "comment_id": 45870587, "body": "This helps me a lot, except I don&#39;t see how to figure out when going through each element, how to figure out what the type/name of that element is.  You said <code>print $element -&gt; text;</code> ... is there a <code>print $element -&gt; name;</code>?  Because what I do with each element, it depends on the element name.. if it&#39;s &quot;p&quot; I do one thing, if it&#39;s &quot;h3&quot; I do something else, if it&#39;s &quot;inline&quot; I do something else, etc, and if it&#39;s an unknown element type, it should error out and let me know what the element type/name is so I can figure out how to handle it."}, {"owner": {"reputation": 3222, "user_id": 1946636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cZEPK.jpg?s=128&g=1", "display_name": "Dan Goodspeed", "link": "https://stackoverflow.com/users/1946636/dan-goodspeed"}, "edited": false, "score": 0, "creation_date": 1425239470, "post_id": 28797210, "comment_id": 45870807, "body": "Update, I just tried <code>$element -&gt; name</code> and that worked."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3222, "user_id": 1946636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cZEPK.jpg?s=128&g=1", "display_name": "Dan Goodspeed", "link": "https://stackoverflow.com/users/1946636/dan-goodspeed"}, "edited": false, "score": 0, "creation_date": 1425241649, "post_id": 28797210, "comment_id": 45871562, "body": "Text is the content outside the tags. If you&#39;re after an attribute, <code>$element -&gt; att(&#39;name&#39;);</code> should do it, generally. (I didn&#39;t think <code>$element -&gt; name</code> would, but if it does, it does :))"}, {"owner": {"reputation": 3222, "user_id": 1946636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cZEPK.jpg?s=128&g=1", "display_name": "Dan Goodspeed", "link": "https://stackoverflow.com/users/1946636/dan-goodspeed"}, "edited": false, "score": 0, "creation_date": 1425253741, "post_id": 28797210, "comment_id": 45875207, "body": "Yeah... I figured out how to get the attributes from your post, I just couldn&#39;t figure out how to find out if it&#39;s a &quot;p&quot; tag or a &quot;h3&quot; tag or something else.  The <code>-&gt;name</code> thing worked for that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1425271351, "post_id": 28797210, "comment_id": 45879214, "body": "@DanGodspeed: The <code>XML::Twig</code> documentation contains <a href=\"https://metacpan.org/pod/XML::Twig#XML::Twig::Elt\" rel=\"nofollow noreferrer\">a section on <code>XML::Twig::Elt</code></a> that describes element objects and their methods.  <code>name</code>, <code>tag</code>, and <code>gi</code> (generic identifier) are all aliases for the same method that returns an element&#39;s tag name."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 1, "creation_date": 1425274155, "post_id": 28797210, "comment_id": 45879886, "body": "if you do different things depending on the type of the element, then consider using different handlers, one for each element type you process, like (and a <code>__default__</code> one for errors), see the 101 section in the docs."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1425233811, "creation_date": 1425233811, "answer_id": 28797210, "question_id": 28791174, "link": "https://stackoverflow.com/questions/28791174/basic-parsing-of-xml-string-with-xmltwig/28797210#28797210", "title": "Basic parsing of XML string with XML::Twig", "body": "<p>At a simple level - <code>XML::Twig</code> - traversing children:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings; \n\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; new -&gt; parsefile ( 'myxml.xml' );\n\nforeach my $element ( $twig -&gt; root -&gt; children ) { \n    print $element -&gt; text; #element content. \n}\n</code></pre>\n\n<p>Extracting element attributes is either done with:</p>\n\n<pre><code> $element -&gt; att('attributename');\n</code></pre>\n\n<p>Or you can fetch a hash ref with <code>atts</code>:</p>\n\n<pre><code> my $attributes = $element -&gt; atts();\n foreach my $key ( keys %$attributes ) {\n     print \"$key =&gt; \", $attributes -&gt; {$key}, \"\\n\";\n }\n</code></pre>\n\n<p>The thing I particularly like though, is that for XML where you've a long list of similar elements, where you're trying to process - you can define a handler - that's called each time the parser encounters and is handed that subset of XML.</p>\n\n<pre><code>sub process_book {\n     my ( $twig, $book )  = @_;\n     print $book -&gt; first_child ('title'); \n     $twig -&gt; purge; #discard anything we've already seen. \n}\n\nmy $twig = XML::Twig -&gt; new ( twig_handlers =&gt; { 'book' =&gt; \\&amp;process_book } ); \n$twig -&gt; parsefile ( 'books.xml' ); \n</code></pre>\n\n<p>Sample XML:</p>\n\n<pre><code>&lt;XML&gt;\n   &lt;BOOK&gt;\n       &lt;title&gt;Elements of style&lt;/title&gt;\n       &lt;author&gt;Strunk and White&lt;/author&gt;\n   &lt;/BOOK&gt;\n&lt;/XML&gt;\n</code></pre>\n"}], "owner": {"reputation": 3222, "user_id": 1946636, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/cZEPK.jpg?s=128&g=1", "display_name": "Dan Goodspeed", "link": "https://stackoverflow.com/users/1946636/dan-goodspeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2337, "favorite_count": 1, "accepted_answer_id": 28797210, "answer_count": 3, "score": 2, "last_activity_date": 1425233811, "creation_date": 1425194755, "question_id": 28791174, "link": "https://stackoverflow.com/questions/28791174/basic-parsing-of-xml-string-with-xmltwig", "title": "Basic parsing of XML string with XML::Twig", "body": "<p>I've used XML::Simple for over a decade and it's done everything I need it to, and I barely ever touch Perl any more.  Though right now I need to parse an XML string to simply: get all of the elements that are children of the root, and for each get their element type, attributes, and content (I don't care if there is any nested elements, just reading the content as a string is perfect).  I can do all that with XML::Simple EXCEPT I also need to keep the order, which Simple can't do when there are multiple element types.  </p>\n\n<p>I just installed Twig and it looks very overwhelming for something I hoped would be a quick script. It's unlikely that I'll ever use Twig again after this, is this something that Twig can do easily?</p>\n"}, {"tags": ["perl", "hash", "subroutine"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1425192567, "post_id": 28790530, "comment_id": 45857006, "body": "What is wrong with your program? What is it that you want to fix?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425383359, "post_id": 28790530, "comment_id": 45931860, "body": "This question would benefit from elaborating exactly what&#39;s wrong - without the source data you&#39;re using, it&#39;s very difficult to second guess what it&#39;s doing."}], "answers": [{"tags": [], "owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "is_accepted": false, "score": 0, "last_activity_date": 1425206036, "creation_date": 1425206036, "answer_id": 28792533, "question_id": 28790530, "link": "https://stackoverflow.com/questions/28790530/looping-through-hash-of-hashes-reference-perl/28792533#28792533", "title": "looping through hash of hashes reference perl", "body": "<p>It is not very clear what your data structures should contain. So I made up an example for what I think that you have meant. The max value can occur more than once, so I keep track of all occurrences.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util qw( min max );\nuse Data::Dumper;\n\n# for each outer key we want to get the max of values of the associated hashref\n# outer_a: 3\n# outer_b: 100\nmy %hash_of_hashes = (\n    outer_a =&gt; {\n        inner_a_x =&gt; 1,\n        inner_a_y =&gt; 2,\n        inner_a_z =&gt; 3,\n    },\n    outer_b =&gt; {\n        inner_a_x =&gt; -100,\n        inner_a_y =&gt; 100,\n    },\n    outer_c =&gt; {\n        inner_a_x =&gt; 100,\n        inner_a_y =&gt; 1,\n    }\n); \n\nmy ($max_value, $keys_of_max_value) = get_max( \\%hash_of_hashes );\n\nprint \"The max value $max_value occured in \", join( ' ,',  @{$keys_of_max_value} ), \".\\n\";\n\nsub get_max {\n    my ($hoh_ref) = @_;  # reference to a hash of hashes\n\n    # %tmp keeps track of the outer_key for the max of the inner values\n    # %tmp = (\n    #     3 =&gt; ['outer_a'],\n    #     100 =&gt; ['outer_b', 'outer_c']\n    # )\n    my %tmp;\n    while ( my ($outer_key, $inner_hashref) = each %{$hoh_ref} ) {\n\n        my @inner_values = values %{$inner_hashref};\n        my $max_inner_values = max( @inner_values );\n        $tmp{$max_inner_values} ||= [];  # for clarity create the arref expiclitly\n        push @{$tmp{$max_inner_values}}, $outer_key;\n    }\n\n    my $max_value = max( keys %tmp ); # 100\n\n    return ( $max_value, $tmp{$max_value} ); # 100, ['outer_a', 'outer_b'] \n}\n</code></pre>\n"}], "owner": {"reputation": 128, "user_id": 1917026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f3aef788df6e4b09855c4c9c4de8914e?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Jafri", "link": "https://stackoverflow.com/users/1917026/syed-jafri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425206036, "creation_date": 1425188431, "question_id": 28790530, "link": "https://stackoverflow.com/questions/28790530/looping-through-hash-of-hashes-reference-perl", "title": "looping through hash of hashes reference perl", "body": "<p>I have a hash of hashes that I am passing to a subroutine. In the subroutine I need to loop over the hash of hashes and access the value of the inner hash based on the outer hash's key. I am having trouble referencing and dereferencing the hash of hashes.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>use List::Util qw( min max );\n\n#@testingWords is array of strings\nforeach(@testingWords)\n{\n    #skip values that are '[' or ']' and move onto next value in array.\n    if($_ eq '[' or $_ eq ']')\n    {\n        next;\n    }\n    #if value in array matches key in %trainingHashRaw (hash of hashes)pass key to getMax.\n    if($trainingHashRaw{$_})\n    {\n        #key is $_, value is returned string from getMax\n        #%trainingHashRelative is hash of hashes\n        $testingHash{$_} = getMax($_, \\%trainingHashRelative);\n    }\n}\n\nsub getMax\n{\n    my $key = shift;\n    my $hash = shift;\n    my @max = ();\n    my $max = 0;\n    my $tag = \"\";\n\n    for my $i(keys $hash)\n    {\n        for my $j(keys $hash-&gt;{$i})\n        {\n            if($key eq $i)\n            {\n                push(@max, $hash-&gt;{$i}-&gt;{$j});\n            }\n        }\n        if(@max)\n        {\n            $max = max @max;    \n        }\n    }\n    for my $i(keys $hash)\n    {\n        for my $j(keys $hash-&gt;{$i})\n        {\n            if($max == $hash-&gt;{$i}-&gt;{$j})\n            {\n                $tag = $j;\n            }\n        }\n    }\n    return $tag;\n }\n</code></pre>\n"}, {"tags": ["arrays", "perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 3462, "user_id": 654946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af6adb6ed10ca7bf9e6df666437520ba?s=128&d=identicon&r=PG", "display_name": "Kevin Richardson", "link": "https://stackoverflow.com/users/654946/kevin-richardson"}, "edited": false, "score": 1, "creation_date": 1425175230, "post_id": 28789187, "comment_id": 45854003, "body": "You could generate a hash of arrays, i.e. <code>{ key1 =&gt; (val1, val2), key2 =&gt; (val1), ... }</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1425178506, "post_id": 28789187, "comment_id": 45854599, "body": "hashes <i>don&#39;t</i> preserve duplicate keys.  why do you want the data in a hash?  how do you need to actually access it?  what you should do depends on that."}], "answers": [{"comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1425208082, "post_id": 28789226, "comment_id": 45860475, "body": "I think OP wants the oppposite, years as keys and animals as values. That&#39;s why he has dupplicate keys (1995)."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1425174892, "creation_date": 1425174892, "answer_id": 28789226, "question_id": 28789187, "link": "https://stackoverflow.com/questions/28789187/how-to-convert-two-arrays-into-a-hash-without-losing-duplicates-in-perl/28789226#28789226", "title": "How to convert two arrays into a hash without losing duplicates in Perl", "body": "<p>The values in <code>@title</code> should probably be the keys then since they don't contain duplicates. If you still wanted to use a hash, that could look something like below where you use a <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\"><code>hash slice</code></a> to assign an array of values to an array of keys:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy @year = ('1995', '2003', '1997', '1995', '2012');\nmy @title = ('dog', 'rabbit', 'tiger', 'lion', 'elephant');\n\nmy %h;\n\n@h{@title} = @year;\nprint Dumper \\%h;\n\n__END__\n$VAR1 = {\n          'tiger' =&gt; '1997',\n          'elephant' =&gt; '2012',\n          'dog' =&gt; '1995',\n          'rabbit' =&gt; '2003',\n          'lion' =&gt; '1995'\n        };\n</code></pre>\n\n<p>If you elaborate more on how you want to sort your data, there may be an alternate solution that is better.</p>\n"}, {"comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1425196759, "post_id": 28791035, "comment_id": 45857823, "body": "Nice solution - have my vote.... but go on and sortt them for the OP too - you know you want to ;-)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1425197080, "post_id": 28791035, "comment_id": 45857881, "body": "@MarkSetchell: Updated."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 8, "last_activity_date": 1425197073, "last_edit_date": 1425197073, "creation_date": 1425193447, "answer_id": 28791035, "question_id": 28789187, "link": "https://stackoverflow.com/questions/28789187/how-to-convert-two-arrays-into-a-hash-without-losing-duplicates-in-perl/28791035#28791035", "title": "How to convert two arrays into a hash without losing duplicates in Perl", "body": "<p>Use hash of arrays (HoA):</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @year  = qw(1995 2003 1997 1995 2012);\nmy @title = qw(dog rabbit tiger lion elephant);\n\nmy %hash;\nfor my $idx (0 .. $#year) {\n    push @{ $hash{ $year[$idx] } }, $title[$idx];\n}\n\nfor my $year (sort { $a &lt;=&gt; $b } keys %hash) {\n    print \"$year: \", join(', ', @{ $hash{$year} }), \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1995: dog, lion\n1997: tiger\n2003: rabbit\n2012: elephant\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1425255318, "last_edit_date": 1495539805, "creation_date": 1425255318, "answer_id": 28800907, "question_id": 28789187, "link": "https://stackoverflow.com/questions/28789187/how-to-convert-two-arrays-into-a-hash-without-losing-duplicates-in-perl/28800907#28800907", "title": "How to convert two arrays into a hash without losing duplicates in Perl", "body": "<p>\"Slice assignment \" makes this so easy to do when there's no duplicate keys or multiple values (<em>e.g</em> <code>my %hash; @hash{@year}=@title</code>) but keys with multiple  values are a pretty typical  data structure. The standard way to handle this when you want multiple values is with a hash of arrays (<em>i.e</em> where the values are anonymous array references surrounded by <code>[ ]</code>) as shown above by @choroba. But for reference, see also @miygawa's <a href=\"https://metacpan.org/pod/Hash::MultiValue\" rel=\"nofollow noreferrer\"><code>Hash::MultiValue</code></a> which creates an object and a plain hash reference along with some methods for working with multiple values per key. It's pretty neat. </p>\n\n<p>Here I use <a href=\"http://metacpan.org/pod/List::MoreUtils\" rel=\"nofollow noreferrer\"><code>List::MoreUtils</code></a> first to create the list of pairs for the constructor:</p>\n\n<pre><code>use Hash::MultiValue;\nuse List::MoreUtils qw(zip);\n\nmy @year  = qw(1995 2003 1997 1995 2012);\nmy @title = qw(dog rabbit tiger lion elephant);\n\nmy $hash = Hash::MultiValue-&gt;new( zip @year, @title );\n</code></pre>\n\n<p>Then to query a key use:</p>\n\n<pre><code>print join \" \" , $hash-&gt;get_all(1995)\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>dog lion\n</code></pre>\n\n<hr>\n\n<p><em>c.f.</em> </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18166156/handling-multiple-file-uploads-with-plack/18166401#18166401\">Miyagawa himself answering a question about <code>Hash::MultiValue</code> usage</a>.</li>\n<li><a href=\"https://stackoverflow.com/a/23797643/2019415\">Another of my own answers that mentions <code>Hash::MultiValue</code></a>.</li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 4619176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ffdf119cfd9caa4aee943dd9d07472d?s=128&d=identicon&r=PG&f=1", "display_name": "KiloD", "link": "https://stackoverflow.com/users/4619176/kilod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1425255318, "creation_date": 1425174436, "question_id": 28789187, "link": "https://stackoverflow.com/questions/28789187/how-to-convert-two-arrays-into-a-hash-without-losing-duplicates-in-perl", "title": "How to convert two arrays into a hash without losing duplicates in Perl", "body": "<p>I have two Perl arrays of equal length, for example-</p>\n\n<pre><code>@year = ('1995', '2003', '1997', '1995', '2012');\n@title = ('dog', 'rabbit', 'tiger', 'lion', 'elephant');\n</code></pre>\n\n<p>I would like to convert them into a hash with years as key and titles as value so I can sort them, manipulate them etc, but converting them into a direct hash will remove the duplicates such as 1995 occurring twice.</p>\n\n<p>What is the best way to convert this data into a hash while preserving duplicate instances of keys?</p>\n"}, {"tags": ["arrays", "perl", "utf-8", "bytearray"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 9, "last_activity_date": 1425302196, "last_edit_date": 1425302196, "creation_date": 1425171211, "answer_id": 28788821, "question_id": 28788262, "link": "https://stackoverflow.com/questions/28788262/in-perl-how-can-i-convert-an-array-of-bytes-to-a-unicode-string/28788821#28788821", "title": "In Perl, how can I convert an array of bytes to a Unicode string?", "body": "<p>Of course, it is possible. If you have the byte array</p>\n\n<pre><code>my @bytes = (0xce, 0xb1, 0xce, 0xb2, 0xce, 0xb3);\n</code></pre>\n\n<p>you need to first combine those into a string of octets:</p>\n\n<pre><code>my $x = join '', map chr, @bytes;\n</code></pre>\n\n<p>Then, you can use <a href=\"https://metacpan.org/pod/utf8#Utility-functions\" rel=\"noreferrer\">utf8::decode</a> to convert that to UTF-8 <em>in place</em>:</p>\n\n<pre><code>utf8::decode($x)\n    or die \"Failed to decode UTF-8\";\n</code></pre>\n\n<p>You can also use <a href=\"https://metacpan.org/pod/Encode#decode_utf8\" rel=\"noreferrer\">Encode::decode_utf8</a>.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse 5.020; # why not?!\nuse strict;\nuse warnings;\n\nuse Encode qw( decode_utf8 );\nuse open qw(:std :utf8);\n\nmy @bytes = (0xce, 0xb1, 0xce, 0xb2, 0xce, 0xb3);\nmy $x = join '', map chr, @bytes;\n\nsay \"Using Encode::decode_utf8\";\nsay decode_utf8($x);\n\nutf8::decode($x)\n    or die \"Failed to decode in place\";\n\nsay \"Using utf8::decode\";\nsay $x;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>C:\\Temp> perl tt.pl  \nUsing Encode::decode_utf8                      \n\u03b1\u03b2\u03b3                                            \nUsing utf8::decode                             \n\u03b1\u03b2\u03b3</pre>\n\n<p><code>Encode</code> allows you to convert among many character encodings. Its functions allow you to specify what happens in case the <a href=\"https://metacpan.org/pod/Encode#Handling-Malformed-Data\" rel=\"noreferrer\">encoding/decoding operations fail</a> whereas with <code>utf8::decode</code> you are limited to explicitly checking success/failure.</p>\n"}], "owner": {"reputation": 370, "user_id": 2864630, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SI8JZ.jpg?s=128&g=1", "display_name": "nelt22", "link": "https://stackoverflow.com/users/2864630/nelt22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2222, "favorite_count": 1, "accepted_answer_id": 28788821, "answer_count": 1, "score": 3, "last_activity_date": 1425302196, "creation_date": 1425166643, "last_edit_date": 1425301153, "question_id": 28788262, "link": "https://stackoverflow.com/questions/28788262/in-perl-how-can-i-convert-an-array-of-bytes-to-a-unicode-string", "title": "In Perl, how can I convert an array of bytes to a Unicode string?", "body": "<p>Does anyone knows how to do this? Is this even possible?</p>\n\n<p>I've read about decode and encode but since I'm not an expert I don't know if it will help.    </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2198, "user_id": 1696825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iq0Ce.jpg?s=128&g=1", "display_name": "DT.", "link": "https://stackoverflow.com/users/1696825/dt"}, "edited": false, "score": 0, "creation_date": 1425154024, "post_id": 28786086, "comment_id": 45848663, "body": "system(&quot;export /opt/SMAW/SMAWsuf; push @INC, /opt/SMAW/SMAWsuf; perl -V ;/opt/SMAW/SMAWsuf/bin/displayPD -n Node03 &gt;&gt; /tmp/Details.txt&quot;);  I tried multiple wasy to set still no sucess"}], "answers": [{"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": true, "score": 0, "last_activity_date": 1425172426, "creation_date": 1425172426, "answer_id": 28788972, "question_id": 28786086, "link": "https://stackoverflow.com/questions/28786086/for-different-login-id-my-perl-environment-variable-and-inc-have-different-valu/28788972#28788972", "title": "for different login id my perl environment variable and @INC have different values", "body": "<p>For each user, you'll have to set the <code>PERL5LIB</code> environment variable. if you have control over the system, and everyone is using Bash shell, you should look at the <code>/etc/profile</code>file since this is executed first when a new user logs in. You shouldn't modify that file directly since it can be modified by an OS update. Instead look at it and see if there is some extension mechanism (for example, it sources in all files in the <code>/etc/profile.d</code> directory). </p>\n\n<p>Even better, <a href=\"http://perldoc.perl.org/perlnewmod.html\" rel=\"nofollow\">create modules</a> that get installed in your Perl distribution. It's fun and exciting!</p>\n\n<p>Okay, it's not fun and exciting, but learning how to create good Perl modules and how to create unit tests for those modules will improve your Perl and increase portability. What if you're on a new machine? No problem because you can install those modules on a new machine. No need to modify PERL5LIB. No need to worry about side effects. You'll learn to write better code, and maybe learn a few things in the process that many Perl developers don't know, but should:</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow\">Namespace</a> and the <code>package</code> command</li>\n<li><a href=\"http://perldoc.perl.org/perlpod.html\" rel=\"nofollow\">Plain Old Doc</a> and the Perl <a href=\"http://perldoc.perl.org/Pod/Usage.html\" rel=\"nofollow\">(<code>POD::Usage</code></a> Module</li>\n<li>How <a href=\"http://perldoc.perl.org/perlmodstyle.html\" rel=\"nofollow\">modules</a> are structured. </li>\n<li><a href=\"http://perldoc.perl.org/Test.html\" rel=\"nofollow\">Unit testing</a> you code. </li>\n</ul>\n\n<p>If you already know a lot of this information, then creating a module that can be installed in the default location shouldn't be difficult to do. </p>\n\n<p>Yes, it takes more time, especially if you have to learn a lot of this, but doing something the right way takes much less time and effort in the end. If multiple users share the same modules on the same system, installing them correctly rather than hoping <code>$PERL5LIB</code> Is in sync between various users is the way to go. </p>\n"}], "owner": {"reputation": 2198, "user_id": 1696825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iq0Ce.jpg?s=128&g=1", "display_name": "DT.", "link": "https://stackoverflow.com/users/1696825/dt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 28788972, "answer_count": 1, "score": 1, "last_activity_date": 1425172426, "creation_date": 1425152802, "question_id": 28786086, "link": "https://stackoverflow.com/questions/28786086/for-different-login-id-my-perl-environment-variable-and-inc-have-different-valu", "title": "for different login id my perl environment variable and @INC have different values", "body": "<p>I find that for different login id my perl environment variable and @INC have different settings as below</p>\n\n<p>sufuser (perl -V)</p>\n\n<p>==========================</p>\n\n<p>%ENV:</p>\n\n<pre><code>PERL5LIB=\"/opt/SMAW/SMAWsuf\"\n</code></pre>\n\n<p>@INC:</p>\n\n<pre><code>/opt/SMAW/SMAWsuf\n/opt/SMAW/SMAWrtppl/5.8.9-03/lib/perl5/5.8.9/x86_64-linux\n/opt/SMAW/SMAWrtppl/5.8.9-03/lib/perl5/5.8.9\n/opt/SMAW/SMAWrtppl/5.8.9-03/lib/perl5/site_perl/5.8.9/x86_64-linux\n/opt/SMAW/SMAWrtppl/5.8.9-03/lib/perl5/site_perl/5.8.9\n</code></pre>\n\n<p>root (perl -V)</p>\n\n<p>========================== </p>\n\n<p>@INC:</p>\n\n<pre><code>/opt/SMAW/SMAWrtppl/5.8.9-03/lib/perl5/5.8.9/x86_64-linux\n/opt/SMAW/SMAWrtppl/5.8.9-03/lib/perl5/5.8.9\n/opt/SMAW/SMAWrtppl/5.8.9-03/lib/perl5/site_perl/5.8.9/x86_64-linux\n/opt/SMAW/SMAWrtppl/5.8.9-03/lib/perl5/site_perl/5.8.9\n</code></pre>\n\n<p>how do i make them same for root users as in sufuser(persistent method is what i am trying to find)</p>\n\n<p>First how to Set %ENV: for root in permanent way</p>\n\n<p>Second Add  /opt/SMAW/SMAWsuf line to root user @INC section</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 4, "creation_date": 1425142053, "post_id": 28784130, "comment_id": 45844667, "body": "<code>;</code> is not optional as a statement separator."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1425144592, "post_id": 28784130, "comment_id": 45845557, "body": "But the script worked when I declared the array initially @Mat. I did not change anything else. Just declared the variable initially and removed <code>my</code> from the line following print."}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1425144669, "post_id": 28784571, "comment_id": 45845581, "body": "Thanks for the pointer. Will be careful and check the preceding line from now on."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 1, "last_activity_date": 1425143850, "creation_date": 1425143850, "answer_id": 28784571, "question_id": 28784130, "link": "https://stackoverflow.com/questions/28784130/error-on-saving-user-input-to-an-array-perl/28784571#28784571", "title": "Error on saving user input to an array perl", "body": "<p>There's nothing wrong with how you've declared <code>@ak</code>.  The problem is you're missing a semi-colon on line 6 just before the declaration.</p>\n\n<p>Perl fails to recognize <code>my @ak</code> because it was in the middle of parsing the print statement.  This has confused the compiler and it doesn't give you a more useful error message.  In general, it's useful to look just before a syntax error in addition to the line the error is on.</p>\n"}], "owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 28784571, "answer_count": 1, "score": 0, "last_activity_date": 1425143850, "creation_date": 1425141525, "question_id": 28784130, "link": "https://stackoverflow.com/questions/28784130/error-on-saving-user-input-to-an-array-perl", "title": "Error on saving user input to an array perl", "body": "<p>I keep getting error in my perl script when using strict with array variables. </p>\n\n<pre><code>   #!/bin/perl\n\n   use strict;\n   use warnings;\n\n   print \"Enter Attributes for query: \"\n   my @ak = split(/\\s+/, &lt;&gt;);\n   foreach (@ak) {\n       printf \"%s\\n\", $_;\n   }\n   exit;\n</code></pre>\n\n<p>I keep getting this error:</p>\n\n<pre><code>Global symbol \"@ak\" requires explicit package name at ./test2.pl line 7.\nGlobal symbol \"@ak\" requires explicit package name at ./test2.pl line 8.\nExecution of ./test2.pl aborted due to compilation errors.\n</code></pre>\n\n<p>I used the page <a href=\"http://www.linuxquestions.org/questions/programming-9/perl-stdin-to-array-881748/\" rel=\"nofollow\">here</a> as an example as to get user input.</p>\n\n<p>What is wrong with my array declaration?</p>\n\n<hr>\n\n<p>I found out that the script works without error if I declare the array at the top like: <code>my @ak;</code> and remove the <code>my</code> from the subsequent use of <code>@ak</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1425140962, "post_id": 28783943, "comment_id": 45844284, "body": "Did you look at the docs for the ` -i` flag? What did you learn?"}, {"owner": {"reputation": 22448, "user_id": 1870481, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/478e3c60bf48e069b2f79bddd202d600?s=128&d=identicon&r=PG", "display_name": "michas", "link": "https://stackoverflow.com/users/1870481/michas"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1425141159, "post_id": 28783943, "comment_id": 45844337, "body": "Yes, I first looked for the <code>-i</code> option in <code>man perlrun</code>. I couldn&#39;t find the answer there."}], "answers": [{"comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 22448, "user_id": 1870481, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/478e3c60bf48e069b2f79bddd202d600?s=128&d=identicon&r=PG", "display_name": "michas", "link": "https://stackoverflow.com/users/1870481/michas"}, "edited": false, "score": 0, "creation_date": 1425142244, "post_id": 28784026, "comment_id": 45844749, "body": "ARGVOUT is special only during execution of code under <code>-i</code>.  I&#39;m sorry if you thought I implied otherwise."}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 22448, "user_id": 1870481, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/478e3c60bf48e069b2f79bddd202d600?s=128&d=identicon&r=PG", "display_name": "michas", "link": "https://stackoverflow.com/users/1870481/michas"}, "edited": false, "score": 0, "creation_date": 1425142325, "post_id": 28784026, "comment_id": 45844775, "body": "Use <code>select</code> with no argument to get the currently selected filehandle."}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 4, "last_activity_date": 1425143790, "last_edit_date": 1425143790, "creation_date": 1425140962, "answer_id": 28784026, "question_id": 28783943, "link": "https://stackoverflow.com/questions/28783943/what-is-the-default-perl-print-target/28784026#28784026", "title": "What is the default `perl` print target?", "body": "<p>The default filehandle for <code>print</code> is controlled by the <a href=\"http://perldoc.perl.org/functions/select.html\" rel=\"nofollow\"><code>select</code></a> function.  It defaults to <code>STDOUT</code>, but can be changed at any time.</p>\n\n<p>To quote <a href=\"http://perldoc.perl.org/functions/select.html\" rel=\"nofollow\">the documentation</a>:</p>\n\n<blockquote>\n  <ul>\n  <li>select FILEHANDLE</li>\n  <li><p>select</p>\n  \n  <p>Returns the currently selected filehandle. If FILEHANDLE is supplied, sets the new current default filehandle for output. This has\n  two effects: first, a <code>write</code> or a <code>print</code> without a filehandle default to\n  this FILEHANDLE. Second, references to variables related to output\n  will refer to this output channel.</p></li>\n  </ul>\n</blockquote>\n\n<p>If you look at the <a href=\"http://perldoc.perl.org/perlrun.html#*-i*%5B_extension_%5D\" rel=\"nofollow\">documentation for the <code>-i</code> option</a>, you'll see that the expansion includes the line <code>select(ARGVOUT)</code>.  That's what causes output to go back to the file you're editing.</p>\n\n<p>ARGVOUT is special only during <code>-i</code> processing, but it does work there:</p>\n\n<pre><code>$ cat foo\na1\nb1\na2\nb2\n$ perl -i -wne 'print {/b/ ? STDOUT : ARGVOUT } $_' foo\nb1\nb2\n$ cat foo \na1\na2\n</code></pre>\n\n<p>You can also use <code>perl -i -wne 'print {/b/ ? STDOUT : select } $_' foo</code> since ARGVOUT will be the currently selected filehandle.</p>\n"}, {"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1425141080, "creation_date": 1425141080, "answer_id": 28784049, "question_id": 28783943, "link": "https://stackoverflow.com/questions/28783943/what-is-the-default-perl-print-target/28784049#28784049", "title": "What is the default `perl` print target?", "body": "<p>It prints to the currently-selected handle, which is <code>STDOUT</code> by default. You can change the selected handle yourself using the one-argument form of <a href=\"http://perldoc.perl.org/perlfunc.html#select\" rel=\"nofollow\">select</a>, and in-place editing mode <code>-i</code> flag / <code>$^I</code> automatically selects the destination file for you (see the description of <code>-i</code> in <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">perlrun</a> for code equivalent to what <code>-i</code> does).</p>\n"}], "owner": {"reputation": 22448, "user_id": 1870481, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/478e3c60bf48e069b2f79bddd202d600?s=128&d=identicon&r=PG", "display_name": "michas", "link": "https://stackoverflow.com/users/1870481/michas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 28784026, "answer_count": 2, "score": 1, "last_activity_date": 1425143790, "creation_date": 1425140520, "last_edit_date": 1425142143, "question_id": 28783943, "link": "https://stackoverflow.com/questions/28783943/what-is-the-default-perl-print-target", "title": "What is the default `perl` print target?", "body": "<p>I was assuming that <code>print \"foo\"</code> is just a shortcut for <code>print STDOUT \"foo\"</code>.</p>\n\n<p>However I noticed that (at least) in combination with the <code>-i</code> switch this assumption no longer holds:</p>\n\n<pre><code>perl -ni 'print $_' file\n</code></pre>\n\n<p>this simply does not change the content of the file.</p>\n\n<pre><code>perl -ni 'print STDOUT $_' file\n</code></pre>\n\n<p>This however prints the content to the terminal and leaves the file empty.</p>\n\n<p>Therefore the question: What is the default target of print? I.e. where does the first print print to?</p>\n\n<p><code>perldoc -f print</code> says:</p>\n\n<blockquote>\n  <p>To set the default output handle to something other than STDOUT, use the select operation.</p>\n</blockquote>\n\n<p>Obviously perl internally used the select operation to set the default output handle to something else. Is there any way to explicitly specify the current default output handle?</p>\n\n<p>This would allow me to write something like</p>\n\n<pre><code>perl -i -wne 'print {/b/ ? STDOUT : XXX } $_' file\n</code></pre>\n\n<p>to build a <code>grep</code> which removes all printed lines.</p>\n"}, {"tags": ["javascript", "xml", "perl"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425306717, "post_id": 28783805, "comment_id": 45896408, "body": "Do the logs on the web server show <code>test.pl</code> being served?"}, {"owner": {"reputation": 120, "user_id": 4257334, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea1abdb13c00e9b97abed0ce7af7d6cb?s=128&d=identicon&r=PG&f=1", "display_name": "Airman", "link": "https://stackoverflow.com/users/4257334/airman"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425340778, "post_id": 28783805, "comment_id": 45915070, "body": "To get it to work I changed the initial link that serves the above javascript from <code>&lt;a href=&quot;http:&#47;&#47;www.website.com&#47;test&#47;&quot;&gt;TEST&lt;&#47;a&gt;</code> to <code>&lt;a href=&quot;https:&#47;&#47;www.website.com&#47;test&#47;&quot;&gt;TEST&lt;&#47;a&gt;;</code>. Not sure why but all references need to stay within https or all within http. ???"}, {"owner": {"reputation": 120, "user_id": 4257334, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea1abdb13c00e9b97abed0ce7af7d6cb?s=128&d=identicon&r=PG&f=1", "display_name": "Airman", "link": "https://stackoverflow.com/users/4257334/airman"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425342807, "post_id": 28783805, "comment_id": 45915677, "body": "The more I read this may have been a cross domain issue."}], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 4257334, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea1abdb13c00e9b97abed0ce7af7d6cb?s=128&d=identicon&r=PG&f=1", "display_name": "Airman", "link": "https://stackoverflow.com/users/4257334/airman"}, "is_accepted": false, "score": 0, "last_activity_date": 1426392602, "creation_date": 1426392602, "answer_id": 29057145, "question_id": 28783805, "link": "https://stackoverflow.com/questions/28783805/xml-fails-when-using-ssl-https-request/29057145#29057145", "title": "xml fails when using SSL https request", "body": "<p>This was do to a cross domain issues. I loaded the site via http @ xyz.com and switched to https @ 123.com.</p>\n"}], "owner": {"reputation": 120, "user_id": 4257334, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea1abdb13c00e9b97abed0ce7af7d6cb?s=128&d=identicon&r=PG&f=1", "display_name": "Airman", "link": "https://stackoverflow.com/users/4257334/airman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426392602, "creation_date": 1425139713, "last_edit_date": 1425303760, "question_id": 28783805, "link": "https://stackoverflow.com/questions/28783805/xml-fails-when-using-ssl-https-request", "title": "xml fails when using SSL https request", "body": "<p>I have the following javascript that works fine when http is used but not https from IE 11.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n function checkloginform() {\n   if (window.XMLHttpRequest) {\n       xmlhttp=new XMLHttpRequest(); // code for IE7+, Firefox, Chrome, Opera, Safari\n   } else {\n       xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\"); // code for IE6, IE5\n   }\n   xmlhttp.onreadystatechange=function() {\n     if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) {\n         var y = xmlhttp.responseText;\n         document.getElementById(\"memo\").innerHTML = y;\n     } else {\n         document.getElementById(\"memo\").innerHTML =\n          'Error: '+ xmlhttp.readyState + ' ' + xmlhttp.status;\n     }\n   }\n   xmlhttp.open(\"GET\",\"/test/test.pl\",true);\n   xmlhttp.send();\n }\n&lt;/script&gt;\n</code></pre>\n\n<p>if I change </p>\n\n<pre><code>xmlhttp.open(\"GET\",\"/test/test.pl\",true);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>xmlhttp.open(\"GET\",\"https://www.website.com/test/test.pl\",true);\n</code></pre>\n\n<p>I get nothing back and no status errors?</p>\n\n<p>If I access the url directly from the same browser it does return the expected output.</p>\n\n<p>here is the server side test.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\nMAIN:\n{\n print qq~content-type: text/xml\\n\\nTEST\\n ~;\n exit;\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425136644, "post_id": 28780771, "comment_id": 45842920, "body": "Why are you so determined to write it in a single regex?"}], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 0, "last_activity_date": 1425121134, "last_edit_date": 1425121134, "creation_date": 1425120186, "answer_id": 28780790, "question_id": 28780771, "link": "https://stackoverflow.com/questions/28780771/regexp-not-in-string-in-perl/28780790#28780790", "title": "Regexp (not in string) in perl", "body": "<p>You need to use a  negative lookahead assertion at the start.</p>\n\n<pre><code>print $file =~ m/^(?!.*\\.part$).{3,}/i;\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/vW6jU8/3\" rel=\"nofollow\">DEMO</a></p>\n\n<p>Asserts that the string going to be matched won't contain <code>.part</code> string at the last. If yes, then match the string which has three or more characters. <code>$</code> asserts that we are at the end.</p>\n"}], "owner": {"reputation": 432, "user_id": 3530942, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/m94FP.jpg?s=128&g=1", "display_name": "Mr.Glaurung", "link": "https://stackoverflow.com/users/3530942/mr-glaurung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 28780790, "answer_count": 1, "score": 1, "last_activity_date": 1425121134, "creation_date": 1425120087, "question_id": 28780771, "link": "https://stackoverflow.com/questions/28780771/regexp-not-in-string-in-perl", "title": "Regexp (not in string) in perl", "body": "<p>Okie, I have the following files:</p>\n\n<pre><code>total 32\ndrwxr-xr-x  12 al  staff   408B Feb 28 11:36 ./\ndrwxr-xr-x+ 40 al  staff   1.3K Feb 28 10:07 ../\ndrwxr-xr-x   3 al  staff   102B Oct 19 20:38 Install OS X Yosemite.app/\n-rw-r--r--   1 al  staff     7B Dec 15 13:35 file1\n-rw-r--r--   1 al  staff     4B Dec 15 13:35 file2\n-rw-r--r--   1 al  staff    11B Dec 15 13:35 file3.part\n-rw-r--r--   1 al  staff     0B Feb 28 11:36 file4.art\n-rwxr-xr-x   1 al  staff   1.9K Feb 28 11:35 show.pl*\ndrwxr-xr-x   2 al  staff    68B Feb 28 10:07 test1/\ndrwxr-xr-x   6 al  staff   204B Feb 28 10:12 test2/\ndrwxr-xr-x   3 al  staff   102B Feb 28 10:07 test3/\ndrwxr-xr-x   3 al  staff   102B Feb 28 10:12 test4/\n</code></pre>\n\n<p>Now I need a regexp that will do the following:</p>\n\n<p>3 or more characters (to omit . and ..) of any type <em>NOT</em> ending in the string .part (but ending in anything else is OK).</p>\n\n<p>The following almost works, but it will not match .app and .art (which it should).</p>\n\n<pre><code>print $file =~ m/^.{3,}[^(\\.part)]$/i;\n</code></pre>\n\n<p>And please believe me when I say... I have TRIED (for a loooong time)</p>\n"}, {"tags": ["perl", "shell", "unix", "scripting", "makefile"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1425103097, "post_id": 28778427, "comment_id": 45834855, "body": "Post your script. what you  try?"}], "answers": [{"tags": [], "owner": {"reputation": 3973, "user_id": 266747, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/da5e3914edcd58b1abd64a38a2cff8a5?s=128&d=identicon&r=PG", "display_name": "Barton Chittenden", "link": "https://stackoverflow.com/users/266747/barton-chittenden"}, "is_accepted": false, "score": 0, "last_activity_date": 1425105085, "creation_date": 1425105085, "answer_id": 28778911, "question_id": 28778427, "link": "https://stackoverflow.com/questions/28778427/how-to-define-list-of-items-in-groups-in-perl/28778911#28778911", "title": "How to define list of items in groups in PERL", "body": "<p>The functionality that you're looking for is called data marshaling, and like all things Perl, there's more than one way to do it. The three most commonly used methods of data serialization (the opposite of data marshaling -- writing data to a file in a way that preserves its structure) are YAML, Data::Dumper and JSON.</p>\n\n<p>Data::Dumper writes the data out as native perl code: your examples above might look something like this:</p>\n\n<pre><code>$VAR1 = (\n    { group1 =&gt; [ 'abc', 'def' ] },\n    { group2 =&gt; [ 'red', 'blue' ] }\n);\n</code></pre>\n\n<p>YAML and JSON are cousins... they use different text formats to represent arrays and hashes. YAML is typically used for configuration files, whereas JSON is emitted by javascript, and is more likely to be found in perl scripts that send and receive data on the web.</p>\n\n<p>Data::Dumper is part of the Perl standard library. YAML and JSON libraries can be found on CPAN.</p>\n\n<p>the output from Data::Dumper can be used directly as Perl code, and there are funtions in both the YAML and JSON libraries which will load data directly into Perl data structures.</p>\n"}], "owner": {"reputation": 11, "user_id": 1989981, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/bCY4z.jpg?s=128&g=1", "display_name": "SanjChau", "link": "https://stackoverflow.com/users/1989981/sanjchau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1425105085, "creation_date": 1425100998, "question_id": 28778427, "link": "https://stackoverflow.com/questions/28778427/how-to-define-list-of-items-in-groups-in-perl", "title": "How to define list of items in groups in PERL", "body": "<p>I have a list of multiple variables and a perl script which operates on those variables.</p>\n\n<p>The list is something like ::\ngroup A :\nvar 1\nvar 2 \nand so on</p>\n\n<p>group B :\nvar 1 \nvar 2\nand so on</p>\n\n<p>My perl script operates on these variables depending on which group i want.</p>\n\n<p>Is there a way that I can put all the groups (and the variables) in a single file using some perl-functionality so that all i need is to pass the group name to the script. The script will automatically pick the related variables of that group from the pre-defined list and operate on them ( something like we do using a makefile ).</p>\n\n<p>Even a shell-script would be fine.</p>\n"}, {"tags": ["regex", "perl", "registry", "registrykey"], "comments": [{"owner": {"reputation": 17349, "user_id": 1951708, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/uUTYl.jpg?s=128&g=1", "display_name": "Lorenz Meyer", "link": "https://stackoverflow.com/users/1951708/lorenz-meyer"}, "edited": false, "score": 1, "creation_date": 1425108978, "post_id": 28778005, "comment_id": 45835993, "body": "<code>it dies</code>. Without a error message and any indication what&#39;s wrong? Try to debug to get closer to the root of the problem."}, {"owner": {"reputation": 53, "user_id": 4616852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69221709d8fd25b24702707e85c37b1a?s=128&d=identicon&r=PG&f=1", "display_name": "Deepankumar", "link": "https://stackoverflow.com/users/4616852/deepankumar"}, "reply_to_user": {"reputation": 17349, "user_id": 1951708, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/uUTYl.jpg?s=128&g=1", "display_name": "Lorenz Meyer", "link": "https://stackoverflow.com/users/1951708/lorenz-meyer"}, "edited": false, "score": 1, "creation_date": 1425109577, "post_id": 28778005, "comment_id": 45836116, "body": "Now working access permission is the problem thanks."}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1440673787, "creation_date": 1440673787, "answer_id": 32247797, "question_id": 28778005, "link": "https://stackoverflow.com/questions/28778005/cant-able-to-acces-root-in-regedit/32247797#32247797", "title": "Can&#39;t able to acces root in regedit", "body": "<p>Now working access permission is the problem thanks. \u2013  Deepankumar</p>\n"}], "owner": {"reputation": 53, "user_id": 4616852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69221709d8fd25b24702707e85c37b1a?s=128&d=identicon&r=PG&f=1", "display_name": "Deepankumar", "link": "https://stackoverflow.com/users/4616852/deepankumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440673787, "creation_date": 1425096715, "question_id": 28778005, "link": "https://stackoverflow.com/questions/28778005/cant-able-to-acces-root-in-regedit", "title": "Can&#39;t able to acces root in regedit", "body": "<p>I want to validate xmlfile using my exe. so i want to set the argument and calling exe path in registry.</p>\n\n<p>the below code cannot locate the registry path it dies when i executed.</p>\n\n<p>i cannot able get progid from registery userchoice.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Win32;\nuse File::Basename;\nuse Win32::TieRegistry(Delimiter=&gt;\"/\");\nmy $reg,$tmval;\n$reg = $Registry-&gt;Open(\"HKEY_CURRENT_USER/Software/Microsoft/Windows/CurrentVersion/Explorer/FileExts/.xml/UserChoice\") or die;\n        ($tmval) = $reg-&gt;GetValue('Progid');\n        if(defined($tmval) and $tmval ne \"\") {\n            # Parse .xml\n                $reg=$Registry-&gt;Open(\"HKEY_CLASSES_ROOT/$tmval/shell\") or die;\n                $reg=$reg-&gt;CreateKey( \"XMLValidate\" );\n                $reg=$reg-&gt;CreateKey( \"command\");\n                # $reg=$reg-&gt;SetValue( \"\",\"\\\"C:\\\\itools\\\\ePUB-Conversion\\\\ePUB_PopupSupport.exe\\\" \\\"\\%1\\\" \\\"P\\\"\",\"REG_SZ\");\n                $reg=$reg-&gt;SetValue( \"\",\"\\\"calling exe\\\" \\\"\\%1\\\"\",\"REG_SZ\");\n        }\n        else {\n            if(!defined($tmval)){$tmval = \"xmlfile\";}\n            $reg=$Registry-&gt;Open(\"HKEY_CLASSES_ROOT\") or die;\n            $reg=$reg-&gt;CreateKey( \"$tmval\" );\n            $reg=$reg-&gt;CreateKey( \"shell\");\n            $reg=$reg-&gt;CreateKey( \"XMLValidate\" );\n            $reg=$reg-&gt;CreateKey( \"command\");\n            # $reg=$reg-&gt;SetValue( \"\",\"\\\"C:\\\\itools\\\\ePUB-Conversion\\\\ePUB_PopupSupport.exe\\\" \\\"\\%1\\\" \\\"P\\\"\",\"REG_SZ\");\n            $reg=$reg-&gt;SetValue( \"\",\"\\\"calling exe\" \\\"\\%1\\\"\",\"REG_SZ\");\n        }\n</code></pre>\n\n<p>please help thanks advance.</p>\n"}, {"tags": ["perl", "data-structures", "hashtable", "associative-array", "perl-data-structures"], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425107600, "post_id": 28778661, "comment_id": 45835719, "body": "Nice self documenting with variable names.  Good practice (<i>mea culpa</i>!).  Possible  typo? don&#39;t  you want <code>[ $file_base_name, $given_name, $sex  ]</code> rather than <code>( $file_base_name, $given_name, $sex ) </code>?"}], "tags": [], "owner": {"reputation": 3973, "user_id": 266747, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/da5e3914edcd58b1abd64a38a2cff8a5?s=128&d=identicon&r=PG", "display_name": "Barton Chittenden", "link": "https://stackoverflow.com/users/266747/barton-chittenden"}, "is_accepted": true, "score": 3, "last_activity_date": 1425253084, "last_edit_date": 1425253084, "creation_date": 1425102999, "answer_id": 28778661, "question_id": 28776993, "link": "https://stackoverflow.com/questions/28776993/adding-a-new-element-to-an-array-in-a-hash-of-arrays/28778661#28778661", "title": "Adding a new element to an array in a hash of arrays", "body": "<p>I think that</p>\n\n<pre><code>        my @element = split(' ', $element);\n        if ($file =~ m/$element[0]/) {\n            push @{$all_samples{$element}}, $file;\n        }\n</code></pre>\n\n<p>Is not doing the right thing, so <code>$all_samples{$element}}</code> is a new arrayref. You're printing six one element arrays rather than three  two element arrays.</p>\n\n<p>But then it doesn't help that you're printing the array elements one per line.</p>\n\n<p>I think that your final section should look more like this:</p>\n\n<pre><code>foreach my $k (keys %all_samples) {\n    print join( \"\\t\", @{ $all_samples{$k} } ) . \"\\n\"\n}\n</code></pre>\n\n<p>In general, I think that you're overcomplicating this script. Here's how I would write it:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $all_samples={};\n\nwhile(&lt;&gt;) {\n    chomp;\n    # Note that I'm using variable names here to document\n    # The format of the file being read. This makes for\n    # easier trouble-shooting -- if a column is missing,\n    # It's easier to tell that $file_base_name shouldn't be\n    # 'Anna' than that $line[0] should not be 'Anna'.\n    my ( $file_base_name, $given_name, $sex ) = split(\"\\t\", $_);\n    push(@{$all_samples-&gt;{$file_base_name} }, ( $file_base_name, $given_name, $sex ) );\n}\n\nmy $dir = \".\";\nopendir(DIR, $dir);\nmy @files = grep(/\\.txt$/,readdir(DIR));\nclosedir(DIR);\n\nFILE: foreach my $file (@files) {\n    BASE: foreach my $base (keys %{$all_samples}){\n        next BASE unless( $file =~ /$base/ );\n        push @{$all_samples-&gt;{$base}}, $file;\n    }\n}\n\nforeach my $k (keys %{$all_samples} ) {\n    print join( \"\\t\", @{ $all_samples-&gt;{$k} } ) . \"\\n\";\n}\n</code></pre>\n\n<p>I prefer hashrefs to hashes, simply because I tend to deal with nested data structures -- I'm simply more used to seeing <code>$all_samples-&gt;{$k}</code> than <code>$all_samples{$k}</code>... more importantly, I'm using the full power of the arrayref, meaning that I'm not having to re-split the array that's already been split once.</p>\n\n<p>G. Cito brings up an interesting point: why did I use</p>\n\n<pre><code>push(@{$all_samples-&gt;{$file_base_name} }, ( $file_base_name, $given_name, $sex ) );\n</code></pre>\n\n<p>Rather than</p>\n\n<pre><code>push(@{$all_samples-&gt;{$file_base_name} }, [ $file_base_name, $given_name, $sex ] );\n</code></pre>\n\n<p>There's nothing syntactically wrong with the latter, but it wasn't what I was trying to accomplish:</p>\n\n<p>Let's look at what $all_samples->{$base} would look like after </p>\n\n<pre><code>push @{$all_samples-&gt;{$base}}, $file;\n</code></pre>\n\n<p>If the original push had been this:</p>\n\n<pre><code>push(@{$all_samples-&gt;{$file_base_name} }, [ $file_base_name, $given_name, $sex ] );\n</code></pre>\n\n<p><code>@{$all_samples-&gt;{$base}}</code> would look like this:</p>\n\n<pre><code>(\n    [ $file_base_name, $given_name, $sex ],\n    $file\n)\n</code></pre>\n\n<p>If instead, we use</p>\n\n<pre><code>push(@{$all_samples-&gt;{$file_base_name} }, ( $file_base_name, $given_name, $sex ) );\n</code></pre>\n\n<p><code>@{$all_samples-&gt;{$base}}</code> looks like this after <code>push @{$all_samples-&gt;{$base}}, $file</code>:</p>\n\n<pre><code>(\n    $file_base_name, \n    $given_name, \n    $sex, \n    $file\n)\n</code></pre>\n\n<p>For instance:</p>\n\n<pre><code>(\n    \"AANB\",\n    \"John\",   \n    \"male\",    \n    \"AANB.txt\"\n)\n</code></pre>\n\n<p>So when we print the array:</p>\n\n<pre><code>print join( \"\\t\", @{ $all_samples-&gt;{$k} } ) . \"\\n\";\n</code></pre>\n\n<p>Will print</p>\n\n<pre><code>AANB    John    male    AANB.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1425106918, "creation_date": 1425106918, "answer_id": 28779106, "question_id": 28776993, "link": "https://stackoverflow.com/questions/28776993/adding-a-new-element-to-an-array-in-a-hash-of-arrays/28779106#28779106", "title": "Adding a new element to an array in a hash of arrays", "body": "<p>Here is somewhat simpler way of creating the hash of arrays - reading from <code>DATA</code> here instead of a file only for convenience:  </p>\n\n<pre><code>#!perl\nuse strict ;\nuse warnings ; \nuse Data::Dumper ;\n\nmy $samples  ; \n\nwhile (&lt;DATA&gt;){\n      chomp;\n      map { $samples-&gt;{$_-&gt;[0]} = [@$_[1..2]] } [ split/\\s+/ ];\n }\n\n push @{$samples-&gt;{$_}} , $_.\".txt\" for keys %$samples ;\n\n print  Dumper  \\$samples ;\n\n __DATA__\nAANB    John    male\nS00V    Sara    female\nSBBA    Anna    female\n</code></pre>\n\n<p>Since the filenames are known, you can just construct them from strings. Or is that not possible ?  Perhaps confirming they exist with a file test (see <code>perldoc -f -X</code>) before pushing onto the array would avoid creating bad data but still allow you to build the entries this way.</p>\n"}], "owner": {"reputation": 809, "user_id": 1807188, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c7ee44e93251baa141d4c169ed31a3bd?s=128&d=identicon&r=PG", "display_name": "EpiMan", "link": "https://stackoverflow.com/users/1807188/epiman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 1, "accepted_answer_id": 28778661, "answer_count": 2, "score": 3, "last_activity_date": 1425931425, "creation_date": 1425086649, "last_edit_date": 1425931425, "question_id": 28776993, "link": "https://stackoverflow.com/questions/28776993/adding-a-new-element-to-an-array-in-a-hash-of-arrays", "title": "Adding a new element to an array in a hash of arrays", "body": "<p>I want to read and save the content of a file in a hash of array. The first column of each row would be the key.\nThen, I want to read the files in a directory and add the file name to the end of the array according to the key!</p>\n\n<p>file ($file_info)</p>\n\n<pre><code>AANB    John    male\nS00V    Sara    female\nSBBA    Anna    female\n</code></pre>\n\n<p>files in the directory:</p>\n\n<pre><code>AANB.txt\nSBBA.txt\nS00V.txt\n</code></pre>\n\n<p>expected output:</p>\n\n<pre><code>AANB    John    male    AANB.txt\nS00V    Sara    female  S00V.txt\nSBBA    Anna    female  SBBA.txt\n</code></pre>\n\n<p>Here's the script itself:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %all_samples=();\nmy $file_info = $ARGV[0];\n\nopen(FH, \"&lt;$file_info\");\n\nwhile(&lt;FH&gt;) {\n    chomp;\n    my @line = split(\"\\t| \", $_);\n\n    push(@{$all_samples{$line[0]}}, $_);\n}\n\nmy $dir = \".\";\nopendir(DIR, $dir);\nmy @files = grep(/\\.txt$/,readdir(DIR));\nclosedir(DIR);\n\nforeach my $file (@files) {\n    foreach my $k (keys %all_samples){\n        foreach my $element (@{ $all_samples{$k} }){\n            my @element = split(' ', $element);\n            if ($file =~ m/$element[0]/) {\n                push @{$all_samples{$element}}, $file;\n            }\n            else {\n                next;\n            }\n        }\n    }\n\n}\n\nforeach my $k (keys %all_samples) {\n    foreach my $element (@{ $all_samples{$k} }) {\n        print $element,\"\\n\";\n    }\n}\n</code></pre>\n\n<p>But the output is not what I expected</p>\n\n<pre><code>AANB    John    male\nSBBA.txt1\nS00V    Sara    female\nSBBA    Anna    female\nS00V.txt1\nAANB.txt1\n</code></pre>\n"}, {"tags": ["linux", "perl", "scripting", "installation", "simics"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1425086354, "post_id": 28776918, "comment_id": 45832011, "body": "The script expects to find a program named <code>build-###-installer</code> (where <code>###</code> is some number) in your current directory . Do you have such a file?"}, {"owner": {"reputation": 2119, "user_id": 3230626, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fe50022a8a66d837e8b23f207704d9e7?s=128&d=identicon&r=PG", "display_name": "nikk", "link": "https://stackoverflow.com/users/3230626/nikk"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1425109514, "post_id": 28776918, "comment_id": 45836099, "body": "@Barmar: yes, there is. The file is build-4607-installer.pl. And I wonder why the script is not seeing it? I don&#39;t know Pearl scripting language."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1425110359, "post_id": 28776918, "comment_id": 45836279, "body": "Is it executable? The file test is requiring <code>-x</code> before defining <code>$installer </code>."}, {"owner": {"reputation": 145, "user_id": 3849291, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xnvBk.jpg?s=128&g=1", "display_name": "TheJester1977", "link": "https://stackoverflow.com/users/3849291/thejester1977"}, "edited": false, "score": 1, "creation_date": 1425117092, "post_id": 28776918, "comment_id": 45837711, "body": "I just replicated most of your code above on my Linux machine, and it works fine.  Leads me to believe, like G. Cito above, it must be an issue with the installer perms.  Please post the output of <code>ls -al build-4607-installer.pl</code> so we can see the perms on the file..."}, {"owner": {"reputation": 2119, "user_id": 3230626, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fe50022a8a66d837e8b23f207704d9e7?s=128&d=identicon&r=PG", "display_name": "nikk", "link": "https://stackoverflow.com/users/3230626/nikk"}, "edited": false, "score": 0, "creation_date": 1425123681, "post_id": 28776918, "comment_id": 45839356, "body": "thanks. The output is <code>-rw------- 1 nikk nikk 52238 Feb 27 20:50 build-4607-installer.pl</code>"}, {"owner": {"reputation": 2119, "user_id": 3230626, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fe50022a8a66d837e8b23f207704d9e7?s=128&d=identicon&r=PG", "display_name": "nikk", "link": "https://stackoverflow.com/users/3230626/nikk"}, "edited": false, "score": 0, "creation_date": 1425124824, "post_id": 28776918, "comment_id": 45839634, "body": "chmod 666 build-4607-installer.pl ls -al build-4607-installer.pl       -rwx-rwx-rwx- Problem solved. Thank you, you all for helping me figure this out. Much appreaciate it. How/who should get the &quot;correct answer&quot; mark?"}], "answers": [{"tags": [], "owner": {"reputation": 870, "user_id": 604464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c71612818ca9b86bc9906d47afd0e2f?s=128&d=identicon&r=PG", "display_name": "ratsbane", "link": "https://stackoverflow.com/users/604464/ratsbane"}, "is_accepted": false, "score": 0, "last_activity_date": 1425169478, "creation_date": 1425169478, "answer_id": 28788625, "question_id": 28776918, "link": "https://stackoverflow.com/questions/28776918/installation-script-in-perl-not-functioning-correctly/28788625#28788625", "title": "Installation script in Perl not functioning correctly", "body": "<p>Stepping through your code above, this line:</p>\n\n<pre><code>foreach (readdir $d) {\n</code></pre>\n\n<p>reads the name of each of the files in the directory you opened to the handle \"$d\" and assigns each of those files in turn to the thing variable ($<em>).  (This variable is one of those weird but brilliant Perl idiosyncrasies.  You don't have to mention $</em> in most cases; it's just there.)</p>\n\n<p>Then in the next line:</p>\n\n<pre><code>if (-f &amp;&amp; -x &amp;&amp; /^build-(\\d+)-installer/) {\n</code></pre>\n\n<p>The \"-f\" and the \"-x\" are <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">file test operators</a>.  Since neither one has an explicit argument (e.g., -f \"myfile.txt\") they will use the implied thing variable, $_.  The -f operator just checks to see if something is a file and the -x checks to see if the file is executable, (as indicated by the executable bit being set.)  The third part, /^build-(\\d+)-installer/, checks to see if it matches that pattern.</p>\n\n<p>As you mentioned in your comment above, the directory listing shows</p>\n\n<pre><code>-rw------- 1 nikk nikk 52238 Feb 27 20:50 build-4607-installer.pl\n</code></pre>\n\n<p>The rw------- shows the file permissions for each of three groups, the owner (\"nikk\") and the group that owns the file (second \"nikk\").  The first three characters, starting with rw-, show that nikk can read and write from the file - but not execute.  The listing would show rwx if nikk could execute the file.  The next two groups of three characters, --- and --- show that neither the group nikk nor anyone else on the machine can read, write, or execute.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/File_system_permissions\" rel=\"nofollow\">More information on Unix file system permissions</a></p>\n\n<p>The lack of execute permission is causing the \"-x\" test to fail.  There are two ways of fixing this.  Either remove the -x from the if test so that it looks like this:</p>\n\n<pre><code>if (-f &amp;&amp; /^build-(\\d+)-installer/) {\n</code></pre>\n\n<p>Or add execute permission to the file.  To do that just for the owner (assuming your program is running as user nikk or as root, do this:</p>\n\n<p>chmod u+x build-4607-installer.pl</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Chmod\" rel=\"nofollow\">More information on chmod.</a></p>\n\n<p>I hope that's helpful!</p>\n"}], "owner": {"reputation": 2119, "user_id": 3230626, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fe50022a8a66d837e8b23f207704d9e7?s=128&d=identicon&r=PG", "display_name": "nikk", "link": "https://stackoverflow.com/users/3230626/nikk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425169478, "creation_date": 1425085888, "last_edit_date": 1425107117, "question_id": 28776918, "link": "https://stackoverflow.com/questions/28776918/installation-script-in-perl-not-functioning-correctly", "title": "Installation script in Perl not functioning correctly", "body": "<p>I have a program that gets installed using the following Perl script. The installation does not work and I get the message\"No installer found.\" Obviously, nothing was done as the script just simply dies.  </p>\n\n<p>Here is the Perl install script <em>(it is for installing a program called Simics)</em>: </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n# Find the most recent installer in the current working directory.\nmy $installer;\nmy $highest_build = 0;\nopendir my $d, \".\" or die $!;\nforeach (readdir $d) {\n    if (-f &amp;&amp; -x &amp;&amp; /^build-(\\d+)-installer/) {\n    if ($1 &gt; $highest_build) {\n        $highest_build = $1;\n        $installer = $_;\n    }\n    }\n}\nclosedir $d;\n\ndie \"No installers found.\\n\" unless defined $installer;\nexec \"./$installer\", @ARGV;\n</code></pre>\n"}, {"tags": ["sql", "perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4616308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8640847879b9d988cecf2b3249cb5cc?s=128&d=identicon&r=PG&f=1", "display_name": "MaverickMegastah", "link": "https://stackoverflow.com/users/4616308/maverickmegastah"}, "edited": false, "score": 0, "creation_date": 1425324503, "post_id": 28776364, "comment_id": 45907458, "body": "Hey Ian, thanks for pointing that out. To answer your question and put things into perspective, I want to output two columns of a  SQL query I mentioned in an array and then generate alerts(emails) based on the stored values."}, {"owner": {"reputation": 11, "user_id": 4616308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8640847879b9d988cecf2b3249cb5cc?s=128&d=identicon&r=PG&f=1", "display_name": "MaverickMegastah", "link": "https://stackoverflow.com/users/4616308/maverickmegastah"}, "edited": false, "score": 0, "creation_date": 1425324817, "post_id": 28776364, "comment_id": 45907621, "body": "Also I was trying to print it just because of testing purposes to see whether the value is captured.."}], "tags": [], "owner": {"reputation": 44, "user_id": 4616534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ca9d18ebd1997e06996c5e3b6a2f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Blaylock", "link": "https://stackoverflow.com/users/4616534/ian-blaylock"}, "is_accepted": false, "score": 1, "last_activity_date": 1425081544, "creation_date": 1425081544, "answer_id": 28776364, "question_id": 28775245, "link": "https://stackoverflow.com/questions/28775245/perl-dbi-outputting-different-table-values-and-saving-them/28776364#28776364", "title": "Perl DBI: Outputting different table values and saving them", "body": "<p>Referring to your first you posted, I see two things that really stand out to me:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"SELECT \"Tablespace\" FROM &lt;TABLE&gt;\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>while (@schemaname = $sth-&gt;fetchrow_array()){\n</code></pre>\n\n<p>You're only requesting a single variable in your SQL query (\"Tablespace\"), and thus assigning the output of $sth->fetchrow_array() to @schemaname will result in @schemaname only being defined at $schemaname[0].</p>\n\n<p>What exactly does your output look like when you run that first code block?</p>\n\n<p>If you're trying to save all of the returned values into an array, try something like this.</p>\n\n<pre><code>my $i=0;\nwhile(my ($schema_name) = $sth-&gt;fetchrow_array()) {\n    $schematable[$i++][0] = $schema_name;\n}\n\n#blah blah blah\n\n$i=0;\nwhile(my ($used_schema_space) = $ssth-&gt;fetchrow_array()) {\n    $schematable[$i++][1] = $used_schema_space;\n}\n</code></pre>\n\n<p>I'm not sure why you're trying to print $schematable[2][2] at the end, because you never defined it early on in your script.</p>\n\n<p>I hope this helps...I'm not 100% sure what sort of data structure you're trying to use or what you're aiming to achieve.</p>\n"}], "owner": {"reputation": 11, "user_id": 4616308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8640847879b9d988cecf2b3249cb5cc?s=128&d=identicon&r=PG&f=1", "display_name": "MaverickMegastah", "link": "https://stackoverflow.com/users/4616308/maverickmegastah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1425081544, "creation_date": 1425075205, "last_edit_date": 1425077287, "question_id": 28775245, "link": "https://stackoverflow.com/questions/28775245/perl-dbi-outputting-different-table-values-and-saving-them", "title": "Perl DBI: Outputting different table values and saving them", "body": "<p>My code looks something like this:</p>\n\n<pre><code>use DBI;\n$dbh = DBI-&gt;connect( 'dbi:XYZ:ABC','ABCD', 'XXXX' )\nor die \"Connection Error: $DBI::errstr\\n\";\n\nmy $sth = $dbh-&gt;prepare('select \"Tablespace\" from &lt;TABLE&gt;')\nor die \"Couldn't prepare statement: \" . $dbh-&gt;errstr;\n$dbh-&gt;errstr;\n$sth-&gt;execute\nor die \"Can't execute SQL statement: $DBI::errstr\\n\";\n\nmy @schemaname;\nmy @schematable;\nwhile (@schemaname = $sth-&gt;fetchrow_array()){\nprint \"SchemaName is: @schemaname\\n\";\n$schematable[0][0]= $schemaname[0];\n$schematable[1][0]= $schemaname[1];\n$schematable[2][0]= $schemaname[2];\n$schematable[3][0]= $schemaname[3];\n$schematable[4][0]= $schemaname[4];\n\n}\nwarn \"Data fetching terminated early by error: $DBI::errstr\\n\"\nif $DBI::err;\nprint($schematable[0][0]);\nprint($schematable[1][0]);\nprint($schematable[2][0]);\nprint($schematable[3][0]);\nprint($schematable[4][0]);\n$sth-&gt;finish();\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>What I am trying to do here is output from a SQl database but save it in an array so that I can probably use that data for generating alerts.I keep getting the same string from the last 7 lines. Also when I try the same thing with some other code in the database to save numbers:</p>\n\n<pre><code>my $ssth = $dbh-&gt;prepare(\"SELECT STORAGE FROM database\")\nor die \"Couldn't prepare statement: \" . $dbh-&gt;errstr;\n$dbh-&gt;errstr;\n$ssth-&gt;execute\nor die \"Can't execute SQL statement: $DBI::errstr\\n\";\n\nmy @usedschemaspace;\nwhile (@usedschemaspace = $ssth-&gt;fetchrow_array( )){\nprint \"Used Schema space: @usedschemaspace\\n\";\n$us= $usedschemaspace[0];\n$schematable[0][1]= $schemaname[0];\n$schematable[1][1]= $schemaname[1];\n$schematable[2][1]= $schemaname[2];\n$schematable[3][1]= $schemaname[3];\n$schematable[4][1]= $schemaname[4];\n\n}\nwarn \"Data fetching terminated early by error: $DBI::errstr\\n\"\nif $DBI::err;\n\n$ssth-&gt;finish();\n$sth-&gt;finish();\nprint($schematable[2][1]);\nprint($schematable[2][2]);\n.....\n</code></pre>\n\n<h3>Disconnect from the database</h3>\n\n<pre><code>$dbh-&gt;disconnect;\n</code></pre>\n\n<p>In both the above cases I do not see anything except the last variable getting stored in schematable[i][j]. Anything evident that I am doing wrong?</p>\n"}, {"tags": ["xml", "perl", "unicode", "utf-8"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1425111664, "post_id": 28774793, "comment_id": 45836524, "body": "What version of perl? What have you tried so far? Are you cutting and pasting; extracting the text using perl; using an editor? What platform are you on ? You need to show your work. It probably  <i>does</i> have something to do with Unicode, encoding, etc. so try looking at <a href=\"http://perldoc.perl.org/perlunitut.html\" rel=\"nofollow noreferrer\"><code>perlunitut</code></a> and  <a href=\"http://perldoc.perl.org/perlunicode.html\" rel=\"nofollow noreferrer\"><code>perlunicode</code></a>, but in order to help you people  are going to need more information."}, {"owner": {"reputation": 175, "user_id": 1406679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1OHaa.jpg?s=128&g=1", "display_name": "shakAttack", "link": "https://stackoverflow.com/users/1406679/shakattack"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425156657, "post_id": 28774793, "comment_id": 45849463, "body": "plus one for the idea, I never thought about it, i will give it a try"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1425157045, "post_id": 28774793, "comment_id": 45849579, "body": "What&#39;a the character set in the HTML input?"}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 1406679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1OHaa.jpg?s=128&g=1", "display_name": "shakAttack", "link": "https://stackoverflow.com/users/1406679/shakattack"}, "edited": false, "score": 0, "creation_date": 1425156537, "post_id": 28779926, "comment_id": 45849434, "body": "libraries? can you tell more about it?"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 1, "last_activity_date": 1425113916, "creation_date": 1425113916, "answer_id": 28779926, "question_id": 28774793, "link": "https://stackoverflow.com/questions/28774793/copying-urdu-text-from-html-into-xml-file/28779926#28779926", "title": "Copying URDU text from HTML into XML file?", "body": "<p>These are HTML entity codes. They are useful for portability, especially if your HTML is hosted on a web server which is configured to serve some legacy single-byte encoding (commonly ISO-8859-1) by default.</p>\n\n<p>Decoding these is literally a one-liner in any reasonably high-level language, but you should probably be using a library which shields you from this and all the other intricacies of modern real-world HTML.</p>\n"}, {"tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": false, "score": 2, "last_activity_date": 1425115193, "creation_date": 1425115193, "answer_id": 28780119, "question_id": 28774793, "link": "https://stackoverflow.com/questions/28774793/copying-urdu-text-from-html-into-xml-file/28780119#28780119", "title": "Copying URDU text from HTML into XML file?", "body": "<p>How are you writing the XML? Are you using a module or just <code>print</code>? If you could give us the original Urdu text we would have a better chance of figuring out what happens. The text as you have it, encoded with numerical entities, is <code>\u00d8\u00a7\u00b3\u201d\u00e2\u20ac\u00e2\u20ac</code> which looks like double-encoded text, but it's hard to figure it out without knowing what it should be.</p>\n"}], "owner": {"reputation": 175, "user_id": 1406679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1OHaa.jpg?s=128&g=1", "display_name": "shakAttack", "link": "https://stackoverflow.com/users/1406679/shakattack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1425156309, "creation_date": 1425073273, "last_edit_date": 1425156309, "question_id": 28774793, "link": "https://stackoverflow.com/questions/28774793/copying-urdu-text-from-html-into-xml-file", "title": "Copying URDU text from HTML into XML file?", "body": "<p><BR/>\nI am trying to extract the \"Urdu\" text from the local html files. I am getting the text and putting them before XML tags in my Perl script. now in my XML file I am getting following sort of text in between tags,</p>\n\n<pre><code>&lt;v no=\"29\"&gt; &amp;#216;&amp;#167;&amp;#179;&amp;#8221;&amp;#226;&amp;#8364;&amp;#226;&amp;#8364;&lt;/v&gt;\n</code></pre>\n\n<p>I don\u2019t know whether it is something to do with utf-8. Those html files works fine. All the Urdu text looks OK.  Any thoughts?<br/></p>\n\n<pre><code>&lt;br&gt;&lt;SPAN class=\"verse\" id=\"29\"&gt;29 &lt;/SPAN&gt;  \u0627\u0648\u0631 \u062e\u064f\u062f\u0627 \u0646\u06d2 \u06a9\u06c1\u0627 \u06a9\u06c1 \u062f\u06cc\u06a9\u06be\u0648 \u0645\u06cc\u06ba \u062a\u0645\u0627\u0645 \u0631\u064f\u0648\u06cc \u0632\u0645\u06cc\u0646 \u06a9\u06cc \u06a9\u064f\u0644 \u0628\u06cc\u062c \u062f\u0627\u0631 \u0633\u0628\u0632\u06cc \u0627\u0648\u0631 \u06c1\u0631 \u062f\u0631\u062e\u062a \u062c\u0633 \u0645\u06cc\u06ba \u0627\u064f\u0633\u06a9\u0627 \u0628\u06cc\u062c \u062f\u0627\u0631 \u0632\u0645\u06cc\u0646 \u06a9\u06cc \u06a9\u064f\u0644 \u0628\u06cc\u062c \u062f\u0627\u0631 \u0633\u0628\u0632\u06cc \u0627\u0648\u0631 \u06c1\u0631 \u062f\u0631\u062e\u062a \u062c\u0633 \u0645\u06cc\u06ba \u0627\u064f\u0633\u06a9\u0627 \u0628\u06cc\u062c \u062f\u0627\u0631 \u067e\u06be\u0644 \u06c1\u0648 \u062a\u0645\u06a9\u0648 \u062f\u06cc\u062a\u0627 \u06c1\u0648\u06ba \u06d4 \u06cc\u06c1 \u062a\u0645\u06c1\u0627\u0631\u06d2 \u06a9\u06be\u0627\u0646\u06d2 \u06a9\u0648 \u06c1\u0648\u06ba \u06d4 \n &lt;br&gt;&lt;SPAN class=\"verse\" id=\"30\"&gt;30 &lt;/SPAN&gt;\u0627\u0648\u0631 \u0632\u0645\u06cc\u0646 \u06a9\u06d2 \u06a9\u0644 \u062c\u0627\u0646\u0648\u0631\u0648\u06ba \u06a9\u06d2  \u0644\u0626\u06d2 \u0627\u0648\u0631 \u06c1\u0648\u0627 \u06a9\u06d2 \u06a9\u064f\u0644 \u067e\u0631\u0646\u062f\u0648\u06ba \u06a9\u06d2 \u0627\u0648\u0631 \u0627\u064f\u0646 \u0633\u0628 \u06a9\u06d2 \u0644\u0650\u0626\u06d2 \u062c\u0648 \u0632\u0645\u06cc\u0646 \u067e\u0631 \u0631\u06cc\u0646\u06af\u0646\u06d2 \u0648\u0627\u0644\u06d2 \u06c1\u06cc\u06ba \u062c\u0646 \u0645\u06cc\u06ba \u0632\u0646\u062f\u06af\u06cc \u06a9\u0627 \u062f\u0645 \u06c1\u06d2 \u06a9\u064f\u0644 \u06c1\u0631\u06cc \u0628\u0648\u0679\u06cc\u0627\u06ba \u06a9\u06be\u0627\u0646\u06d2 \u06a9\u0648 \u062f\u06cc\u062a\u0627 \u06c1\u0648\u06ba \u0627\u0648\u0631 \u0627\u064e\u06cc\u0633\u0627 \u06c1\u06cc \u06c1\u0648\u0627\u06d4 \u06d4 \n</code></pre>\n\n<p><br/></p>\n\n<p>i am extracting using regex from my documents, not online<br/>\nm#(\\d+)\\s&lt;/span>(.*)\\s#i etc.<br/>\nI am using \"print\" to write in xml file.<br/>\nPerl 5.18.2<br/>\nLinux Mint 17 64-bit<br/>\nThanks</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425068482, "post_id": 28773364, "comment_id": 45825481, "body": "The reason you can run <code>ping</code> as a non-root user is that it uses setuid root or has the CAP_NET_RAW capability set on some systems."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425069971, "post_id": 28773585, "comment_id": 45826179, "body": "Possible workaround: write a wrapper in C that execs the script and setuid root on the wrapper as described in <a href=\"http://perldoc.perl.org/perlsec.html#Security-Bugs\" rel=\"nofollow noreferrer\">perlsec</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425070302, "post_id": 28773585, "comment_id": 45826352, "body": "@ThisSuitIsBlackNot, Way too complicated. Just execute the <code>ping</code> utility with the <code>-c</code> option and check the exit code."}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 2, "last_activity_date": 1425068444, "creation_date": 1425068444, "answer_id": 28773585, "question_id": 28773364, "link": "https://stackoverflow.com/questions/28773364/unable-to-ping-external-hosts-using-in-perl-using-netping/28773585#28773585", "title": "Unable To Ping External Hosts Using In Perl Using Net::Ping", "body": "<p>The <code>ping</code> utility works because it's setuid \u2014 it runs with root privileges, even when executed by a normal user:</p>\n\n<pre><code>-rwsr-xr-x 1 root root 44168 May  7  2014 /bin/ping\n</code></pre>\n\n<p>Like it or not, using ICMP inherently requires root privileges. You can't do it as a normal user.</p>\n\n<p>If you want to check for connectivity, consider making a TCP connection. (Or, heck, a full HTTP request.)</p>\n"}], "owner": {"reputation": 33, "user_id": 2433742, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a90b97ed99befc47c64b9129a04ce97c?s=128&d=identicon&r=PG", "display_name": "Gary N.", "link": "https://stackoverflow.com/users/2433742/gary-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1425068444, "creation_date": 1425067503, "question_id": 28773364, "link": "https://stackoverflow.com/questions/28773364/unable-to-ping-external-hosts-using-in-perl-using-netping", "title": "Unable To Ping External Hosts Using In Perl Using Net::Ping", "body": "<p>In Perl (5.16.3), I'm trying to use Net::Ping to test whether a remote host is available or not. I'm able to ping \"internal\" hosts which I know are online within my company's LAN, but I'm unable to ping \"external\" ones. Specifically, trying to ping 'www.google.com' fails. </p>\n\n<p>My code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Net::Ping;\n\nmy $hostname1 = 'prophet'; #internal\nmy $hostname2 = 'www.google.com'; #external\n\nmy $p;\nmy $rv1;\nmy $rv2;\n\n$p = Net::Ping-&gt;new();\n\n$rv1 = $p-&gt;ping($hostname1);\n$rv2 = $p-&gt;ping($hostname2);\n\n\nprint \"Response1: $rv1\\n\";\nprint \"Response2: $rv2\\n\";\n</code></pre>\n\n<p>Yields this result:</p>\n\n<pre><code>[oracle@prophet:bin]$ ./ping_test\nResponse1: 1\nResponse2: 0\n[oracle@prophet:bin]$\n</code></pre>\n\n<p>Even though using the (CentOS) <strong>ping</strong> utility does show that 'www.google.com' is available:</p>\n\n<pre><code>[oracle@prophet:bin]$ which ping; ping www.google.com\n/usr/bin/ping\nPING www.google.com (64.233.177.105) 56(84) bytes of data.\n64 bytes from 64.233.177.105: icmp_seq=1 ttl=46 time=15.6 ms\n64 bytes from 64.233.177.105: icmp_seq=2 ttl=46 time=15.6 ms\n64 bytes from 64.233.177.105: icmp_seq=3 ttl=46 time=15.7 ms\n64 bytes from 64.233.177.105: icmp_seq=4 ttl=46 time=16.5 ms\n^C\n--- www.google.com ping statistics ---\n4 packets transmitted, 4 received, 0% packet loss, time 3005ms\nrtt min/avg/max/mdev = 15.614/15.884/16.547/0.394 ms\n[oracle@prophet:bin]$\n</code></pre>\n\n<p>I realize that if I do this (in my Perl program):</p>\n\n<pre><code>$p = Net::Ping-&gt;new('icmp');\n</code></pre>\n\n<p>Then <strong>su - root</strong> before I run the program, it'll work...</p>\n\n<pre><code>[oracle@prophet:bin]$ su root\nPassword:    \n[root@prophet:bin]# ./ping_test\nResponse1: 1\nResponse2: 1\n[root@prophet:bin]#\n</code></pre>\n\n<p>... but, I'd like to be able to use Net::Ping (w/ icmp packets) <strong>without</strong> having to <strong>su - root</strong>. It's actually a requirement for an automation program I need to write. It seems a little crazy to me that I can run the <strong>ping</strong> (CentOS) utility as a regular user and get the expected results, but that trying to use Net::Ping as a regular user is a no-go.</p>\n\n<p>Any ideas?</p>\n\n<ul>\n<li>G</li>\n</ul>\n"}, {"tags": ["regex", "linux", "string", "perl", "shell"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1425063366, "post_id": 28771669, "comment_id": 45823055, "body": "Can a word appear twice on one line? e.g. <code>word1, word1, word2....</code>"}, {"owner": {"reputation": 5575, "user_id": 1383356, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ff4815322d5181071783e771ac21d978?s=128&d=identicon&r=PG", "display_name": "Ari", "link": "https://stackoverflow.com/users/1383356/ari"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1425063738, "post_id": 28771669, "comment_id": 45823254, "body": "@TLP: In my application, each word appears in a line only once."}], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1425062993, "post_id": 28772016, "comment_id": 45822872, "body": "I think you meant <code>next unless</code> (or <code>&lt;=</code>), otherwise you exclude the words with more than 1 match."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425074044, "post_id": 28772016, "comment_id": 45828183, "body": "I imagine you are careful with your choices when coding Perl. What is your reason for the parentheses and dot operators in the <code>print</code> statement? I would have chosen <code>printf</code> myself."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425075775, "post_id": 28772016, "comment_id": 45828884, "body": "@Borodin, Never even considered it as an option. <code>printf(&quot;%s: %s\\n&quot;, $word, join(&quot;,&quot;, @{ $seen{$word} }));</code> might indeed be tiny bit clearer, although the <code>:</code> and newline stands out in the existing code."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1425063064, "last_edit_date": 1425063064, "creation_date": 1425062307, "answer_id": 28772016, "question_id": 28771669, "link": "https://stackoverflow.com/questions/28771669/find-what-word-appeared-more-than-once/28772016#28772016", "title": "Find what word appeared more than once", "body": "<p>You need to read all the lines before you can print anything, so what you describe is what you have to do, but it turns out to be quite simple to do.</p>\n\n<pre><code>my %seen;\nwhile (&lt;&gt;) {\n   for (split /\\s*,\\s*/) {\n      push @{ $seen{$_} }, $.;\n   }\n}\n\nfor my $word (keys(%seen)) {\n   next if @{ $seen{$word} } &lt; 2;\n   print($word . \": \" . join(\",\", @{ $seen{$word} }) . \"\\n\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1425069498, "post_id": 28772021, "comment_id": 45825949, "body": "Miller is back!  +1 because one-liners <b>can</b> be explained."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 2, "last_activity_date": 1425062322, "creation_date": 1425062322, "answer_id": 28772021, "question_id": 28771669, "link": "https://stackoverflow.com/questions/28771669/find-what-word-appeared-more-than-once/28772021#28772021", "title": "Find what word appeared more than once", "body": "<p>Using a Perl one-liner:</p>\n\n<pre><code>perl -F/,\\s*/ -lanE 'push @{$w{$_}}, $. for @F; }{ say \"$_: @{$w{$_}}\" for grep {@{$w{$_}} &gt; 1} sort keys %w' words.txt\n</code></pre>\n\n<p><strong>Switches</strong>: </p>\n\n<ul>\n<li><code>-F</code>: split() pattern for -a switch (//'s are optional)</li>\n<li><code>-l</code>: enable line ending processing</li>\n<li><code>-a</code>: Splits the line on space and loads them in an array <code>@F</code></li>\n<li><code>-n</code>: Creates a <code>while(&lt;&gt;){...}</code> loop for each &ldquo;line&rdquo; in your input file. </li>\n<li><code>-e</code>: Tells <code>perl</code> to execute the code on command line. (<code>-E</code> enables all optional features)</li>\n</ul>\n"}], "owner": {"reputation": 5575, "user_id": 1383356, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ff4815322d5181071783e771ac21d978?s=128&d=identicon&r=PG", "display_name": "Ari", "link": "https://stackoverflow.com/users/1383356/ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 28772016, "answer_count": 2, "score": 0, "last_activity_date": 1425063064, "creation_date": 1425060859, "question_id": 28771669, "link": "https://stackoverflow.com/questions/28771669/find-what-word-appeared-more-than-once", "title": "Find what word appeared more than once", "body": "<p>I have a text file, where each line is a set of comma separated words. I need to know if a word was repeated and if so, in what lines it was repeated. Example:</p>\n\n<pre><code>word1, word2, word3, word4, word5\nword6, word4, word7, word8\n</code></pre>\n\n<p>output: </p>\n\n<pre><code>word4: 1,2\n</code></pre>\n\n<p>I am experimenting with a perl script which creates a map from words to line numbers as it reads the file line by line, but I was wondering if there is a simpler approach.</p>\n"}, {"tags": ["linux", "bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 2, "creation_date": 1425060647, "post_id": 28771541, "comment_id": 45821697, "body": "Oh no! please don&#39;t use <code>eval</code> like this on user input!"}, {"owner": {"reputation": 6709, "user_id": 3640161, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/065307b80129366f064b9b99811658aa?s=128&d=identicon&r=PG", "display_name": "Tiago Lopo", "link": "https://stackoverflow.com/users/3640161/tiago-lopo"}, "reply_to_user": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 1, "creation_date": 1425063998, "post_id": 28771541, "comment_id": 45823380, "body": "@JasmineLognnes you probably need to use <code>\\b</code> for boundary, I&#39;ve updated my answer"}, {"owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 0, "creation_date": 1425075423, "post_id": 28771541, "comment_id": 45828767, "body": "It was missing quotes =) Why is <code>IFS=</code> and <code>declare $line</code> needed? And what does <code>+</code> mean in the <code>find</code> command?"}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425075607, "post_id": 28771541, "comment_id": 45828830, "body": "<code>declare</code> is not much better than <code>eval</code>. It still allows for arbitrary code execution."}, {"owner": {"reputation": 6709, "user_id": 3640161, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/065307b80129366f064b9b99811658aa?s=128&d=identicon&r=PG", "display_name": "Tiago Lopo", "link": "https://stackoverflow.com/users/3640161/tiago-lopo"}, "edited": false, "score": 0, "creation_date": 1425082330, "post_id": 28771541, "comment_id": 45830988, "body": "So I thought, but I did a wee test; <code>awk &#39;{ print &quot;new=&quot;$1&quot; old=&quot;$2}&#39; &lt;&lt;&lt; &#39;1  $(whoami)&#39; | while IFS= read line; do  declare $line; echo &quot;$new&quot; &quot;$old&quot; ; done</code> try replacing the <code>declare</code> by <code>eval</code>"}], "tags": [], "owner": {"reputation": 6709, "user_id": 3640161, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/065307b80129366f064b9b99811658aa?s=128&d=identicon&r=PG", "display_name": "Tiago Lopo", "link": "https://stackoverflow.com/users/3640161/tiago-lopo"}, "is_accepted": true, "score": 1, "last_activity_date": 1425075674, "last_edit_date": 1425075674, "creation_date": 1425060360, "answer_id": 28771541, "question_id": 28771364, "link": "https://stackoverflow.com/questions/28771364/search-and-replace-from-txt-file-on-many-files/28771541#28771541", "title": "Search and replace from txt file on many files?", "body": "<p>An <strong>untested</strong> solution in bash:</p>\n\n<pre><code>awk '{print \"old=\"$1\" new=\"$2}' list.txt |\\\nwhile IFS= read line; do\n    declare $line\n    find /path -name '*.ext' -exec sed -i \"s/\\b$old\\b/$new/\" {} +\ndone\n</code></pre>\n\n<p><strong>UNTESTED</strong></p>\n"}, {"comments": [{"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425071489, "post_id": 28772566, "comment_id": 45826957, "body": "Your code is horribly broken in many ways. <code>for file in $(find ...)</code>: this is pure horror. It&#39;s subject to pathname expansion and globbing. Why on earth do you need this horrible hack of saving <code>IFS</code> and restoring it? this is never done in good shell programming. You&#39;re missing the <code>-r</code> flag to <code>read</code>. You have a creative, yet wrong way to use quotes in <code>echo &quot; ( &quot;$var1&quot; &lt;- &quot;$var2&quot; ) -&gt; &quot;$file</code>. You don&#39;t need that many semicolons. This is not Java. You&#39;re betting that the variables will never contain a <code>!</code> symbol. You can only prey that it&#39;s not going to happen. Hope and prey."}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425071515, "post_id": 28772566, "comment_id": 45826972, "body": "You&#39;re missing quotes in your final redirection <code>&lt; $REGEX</code>. Finally, don&#39;t use uppercase variable names in a script. And <code>find $SEARCHDIR</code> could use more quotes with <code>$SEARCHDIR</code>."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 1, "creation_date": 1425072078, "post_id": 28772566, "comment_id": 45827247, "body": "It doesn&#39;t seem broken for me; no errors at least, and does the task at hand. I realize the code is not optimal, but does one really expect a bulletproof solution in five minutes of someones spare time? Feel free to edit my answer if you think it should be better \u2014 that&#39;s what <code>edit</code> is for."}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 1, "creation_date": 1425073132, "post_id": 28772566, "comment_id": 45827764, "body": "\u201cNo errors\u201d and \u201cdoes the task\u201c doesn&#39;t mean it&#39;s not broken. If you don&#39;t want to learn from my comment, I don&#39;t care. But then, please stop spreading your horrible methods (everything you post on this site is potentially going to be reused, and some people will try to \u201clearn\u201d from pieces of code shown here\u2014you&#39;re really not doing any good)."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 1, "creation_date": 1425074058, "post_id": 28772566, "comment_id": 45828192, "body": "Instead of solely criticizing here, contribute your knowledge in the form of the edit I mentioned. I do want to learn, and in this case from your example; me tinkering around with something you say is &quot;horribly broken&quot; isn&#39;t going to amount to anything unless I see how gniourf_gniourf does it. Work with me here, is that asking too much?"}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425074393, "post_id": 28772566, "comment_id": 45828345, "body": "Why do you say <i>a comma was used in this case as the delimiter - using tab was not cooperating</i>?"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425074523, "post_id": 28772566, "comment_id": 45828401, "body": "<code>IFS=\\t</code> It was mucking the file path up; probably a mistake on my part. I&#39;m taking notes... :)"}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425074958, "post_id": 28772566, "comment_id": 45828573, "body": "To use a tab, you have to use <a href=\"http://www.gnu.org/software/bash/manual/bashref.html#ANSI_002dC-Quoting\" rel=\"nofollow noreferrer\">ANSI-C quotes</a>. Fixed that for you."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425075238, "post_id": 28772566, "comment_id": 45828682, "body": "Ah, that makes sense - I knew something was missing on that. Thank you for the advice, criticism, help, and most importantly leading by example :) Knowing the right way of doing these things is a huge plus."}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425075445, "post_id": 28772566, "comment_id": 45828773, "body": "<code>:)</code>. I still have a problem with your <code>sed</code> statement. For me this kind of stuff is broken. I&#39;ve never found a satisfactory way to solve it. I say it&#39;s broken since if <code>var1</code> or <code>var2</code> contains a <code>!</code> then the command breaks. It&#39;s possible to escape it, but it&#39;s not really nice. It&#39;s possible to discard lines that contain <code>!</code> altogether\u2026"}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425075537, "post_id": 28772566, "comment_id": 45828809, "body": "And also, if <code>var1=1</code>, then all the <code>1</code>&#39;s in file will be replaced by the expansion of <code>var2</code>. Not good."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425075732, "post_id": 28772566, "comment_id": 45828871, "body": "From my understanding any delimiter can be used with <code>sed</code>, so rather than using <code>!</code>, the character <code>@</code> could be used instead for example."}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425075813, "post_id": 28772566, "comment_id": 45828899, "body": "Sure, any character can be chosen, but any character can also potentially appear in the variables <code>:)</code>."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425075923, "post_id": 28772566, "comment_id": 45828948, "body": "Indeed; is there a standard means of dealing with such situations? Surely it&#39;s not the &quot;hope and prey&quot; method :D."}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425076783, "post_id": 28772566, "comment_id": 45829282, "body": "I don&#39;t know of any comfortable method to deal with that, using <code>sed</code>, unfortunately. There are too many things to control: separator and all the possible regex characters. That&#39;s too much for me to control."}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425076908, "post_id": 28772566, "comment_id": 45829329, "body": "I still have 2 problems with this: first one (already mentioned) is that if <code>var1</code> is <code>1</code>, then all the <code>1</code>&#39;s in the file will be replaced. Second problem is that replacement will be recursive: if <code>regex</code> file contains the lines <code>1 2</code> and <code>2 3</code> then all the <code>1</code>&#39;s and all the <code>2</code>&#39;s will be replaced by <code>3</code>&#39;s. I&#39;m not sure OP wants this behavior."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1425076917, "post_id": 28772566, "comment_id": 45829335, "body": "That sed line is quite hideous, putting it lightly. I&#39;m wondering if <code>awk</code> is a better solution there, unless there&#39;s unforeseen circumstances in that regard as well."}], "tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": false, "score": 1, "last_activity_date": 1425074662, "last_edit_date": 1425074662, "creation_date": 1425064379, "answer_id": 28772566, "question_id": 28771364, "link": "https://stackoverflow.com/questions/28771364/search-and-replace-from-txt-file-on-many-files/28772566#28772566", "title": "Search and replace from txt file on many files?", "body": "<p>Using <code>bash</code> it's fairly straight forward to do what you're wanting. Assuming you have a <code>find</code> version that supports <code>-print0</code>. If not\u2026 sorry, just make sure your filenames don't contain newlines.</p>\n\n<pre><code>#!/bin/bash\n\nsearchdir=/path/to/rescursive/search\nregex=/path/to/regex/list\n\nwhile IFS= read -r -d '' file; do\n    while IFS=$'\\t' read -r var1 var2; do # extra var is terminator\n        if [[ $var1 ]]; then\n            echo \" ( $var1 &lt;- $var2 ) -&gt; $file\"\n            sed -i '' -E 's!'\"$var1\"'!'\"$var2\"'!g' \"$file\"\n        fi\n    done &lt; \"$regex\" # input file\ndone &lt; &lt;(find \"$searchdir\" -name \"*\" -type f -print0)\n</code></pre>\n\n<p>The regex search/replace list should look like this:</p>\n\n<pre><code>1   283\n28  316\n128 288\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3946, "user_id": 65706, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e0652a12b8a5b2577f91f0e192ea3f9?s=128&d=identicon&r=PG", "display_name": "Yordan Georgiev", "link": "https://stackoverflow.com/users/65706/yordan-georgiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1495860222, "creation_date": 1495860222, "answer_id": 44213038, "question_id": 28771364, "link": "https://stackoverflow.com/questions/28771364/search-and-replace-from-txt-file-on-many-files/44213038#44213038", "title": "Search and replace from txt file on many files?", "body": "<pre><code>    # START -- how-to search and replace recursively in file paths and contents\n    export dir=/var/some/dir; \n    export to_srch=\"foo\"\n    export to_repl=\"bar\"\n\n    # those are bonus oneliners - skip them if you do not want to change\n    # file paths\n    #-- search and replace in file names, skip those in .git ( \n    find \"$dir/\"  -not -path \"./.git/*\" -type d |\\\n    perl -nle '$o=$_;s#'\"$to_srch\"'#'\"$to_repl\"'#g;$n=$_;`mkdir -p $n` ;'\n    find \"$dir/\"  -not -path \"./.git/*\" -type f -name '*.txt' |\\\n    perl -nle '$o=$_;s#'\"$to_srch\"'#'\"$to_repl\"'#g;$n=$_;rename($o,$n) unless -e $n ;'\n\n\n    #-- search and replace in file contents, skip those in .git\n    find \"$dir/\" -not -path \"./.git/*\" -type f -name '*.txt' -exec \\\n    perl -pi -e \"s#$to_srch#$to_repl#g\" {} \\;\n    find \"$dir/\" -not -path \"./.git/*\" -type f -name '*.bak' | xargs rm -f\"\n    # STOP  -- how-to rename files recursively in file paths and contents\n</code></pre>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 28771541, "answer_count": 3, "score": -1, "last_activity_date": 1495860222, "creation_date": 1425059732, "last_edit_date": 1425065146, "question_id": 28771364, "link": "https://stackoverflow.com/questions/28771364/search-and-replace-from-txt-file-on-many-files", "title": "Search and replace from txt file on many files?", "body": "<p>I have a tab separated text file that looks like this</p>\n\n<pre><code>1       283\n28      316\n128     288\n</code></pre>\n\n<p>with ~2000 lines, where the first column are numbers I want to search for and the second column what I would to replace with. This search and replace would I like to preform on ~400 text files in a directory recursively.</p>\n\n<p><strong>Question</strong></p>\n\n<p>Using Bash and/or Perl, what is the easiest way to do this?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I use this for testing</p>\n\n<pre><code>rm -fr /tmp/a\nmkdir -p /tmp/a/1/2\necho -e \"1\\n28\\n128\\n2\" &gt; /tmp/a/f.ext\necho -e \"1\\n28\\n128\\n2\" &gt; /tmp/a/1/f.ext\necho -e \"1\\n28\\n128\\n2\" &gt; /tmp/a/1/2/f.ext\n</code></pre>\n"}, {"tags": ["perl", "email", "smtp", "postfix-mta"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425059642, "post_id": 28771137, "comment_id": 45821164, "body": "This is fairly straightforward. You&#39;re running on a Postfix server, and at least one of the email addresses you&#39;ve specified is on the local domain but the server doesn&#39;t know the user name."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1425063633, "post_id": 28771137, "comment_id": 45823189, "body": "Have you tried to debug/trace SMTP session?  <code>$msg-&gt;send(&#39;smtp&#39;,$SmtpServer,Debug=&gt;1);</code> - it should produce SMTP session trace via STDERR (standard error stream)."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 3, "creation_date": 1425073547, "post_id": 28771137, "comment_id": 45827954, "body": "Looks like <code>Cc</code> expects a comma-separated string, not an array reference."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1425074001, "post_id": 28771137, "comment_id": 45828165, "body": "(Although <a href=\"https://metacpan.org/pod/MIME::Lite#WAIT\" rel=\"nofollow noreferrer\">the docs</a> also recommend using a different module.)"}], "owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 785, "favorite_count": 0, "closed_date": 1430659223, "answer_count": 0, "score": 0, "last_activity_date": 1425062191, "creation_date": 1425058965, "last_edit_date": 1425062191, "question_id": 28771137, "link": "https://stackoverflow.com/questions/28771137/mimelite-mail-to-multiple-recipients", "closed_reason": "Duplicate", "title": "MIME::Lite - Mail to multiple recipients", "body": "<p>I am trying to add multiple recipient in cc to my mail api but it gives me the following error:\nSMTP recipient() command failed:\n5.1.1 : Recipient address rejected: User unknown in local recipient table\nMy code is :</p>\n\n<pre><code>sub send_email{\n        my $SE = shift;\n        my $Mgr = shift;\n        my $message = shift;\n        my $TEAM_email = shift;\n        my @cc=($Mgr,$TEAM_email);\n        $msg = MIME::Lite-&gt;new(\n                 From     =&gt; 'abs@xyz.com',\n                 To       =&gt; $SE,\n                 Cc       =&gt; \\@cc,\n                 Subject  =&gt; 'Greetings of Day',\n                 Data     =&gt; $message\n                 );\n\n$msg-&gt;send('smtp',$SmtpServer);\n}\n</code></pre>\n\n<p>What is the problem? WHhy it is not working?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1425058722, "post_id": 28771001, "comment_id": 45820637, "body": "Use <code>unpack &#39;(N&#47;A)&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425060056, "post_id": 28771001, "comment_id": 45821377, "body": "<code>&#47;g</code> makes no sense in <code>unless ( $text =~ &#47;$parser&#47;g )</code>, and it causes subtle, hard to debug problems."}, {"owner": {"reputation": 9397, "user_id": 173925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PMx1r.jpg?s=128&g=1", "display_name": "Dereleased", "link": "https://stackoverflow.com/users/173925/dereleased"}, "edited": false, "score": 0, "creation_date": 1425062889, "post_id": 28771001, "comment_id": 45822816, "body": "removed the <code>&#47;g</code>, it was an artifact of an earlier test."}], "answers": [{"comments": [{"owner": {"reputation": 9397, "user_id": 173925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PMx1r.jpg?s=128&g=1", "display_name": "Dereleased", "link": "https://stackoverflow.com/users/173925/dereleased"}, "edited": false, "score": 0, "creation_date": 1425063708, "post_id": 28771224, "comment_id": 45823242, "body": "This also worked (inspired by the info you gave me): <code>our ($chunklen, @chunks) = (0);</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9397, "user_id": 173925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PMx1r.jpg?s=128&g=1", "display_name": "Dereleased", "link": "https://stackoverflow.com/users/173925/dereleased"}, "edited": false, "score": 0, "creation_date": 1425063925, "post_id": 28771224, "comment_id": 45823338, "body": "Removing the <code>local</code> does not &quot;also work&quot;. It makes your code clobber similarly named variables in the caller."}, {"owner": {"reputation": 9397, "user_id": 173925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PMx1r.jpg?s=128&g=1", "display_name": "Dereleased", "link": "https://stackoverflow.com/users/173925/dereleased"}, "edited": false, "score": 0, "creation_date": 1425064734, "post_id": 28771224, "comment_id": 45823735, "body": "I would prefer not to use package variables where avoidable.  I see the issue with <code>our</code> (reading docs), perhaps <code>state ($chunklen, @chunks); $chunklen = 0; @chunks = ();</code> is more what I was looking for?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9397, "user_id": 173925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PMx1r.jpg?s=128&g=1", "display_name": "Dereleased", "link": "https://stackoverflow.com/users/173925/dereleased"}, "edited": false, "score": 0, "creation_date": 1425064851, "post_id": 28771224, "comment_id": 45823788, "body": "Yeah, that should work too (as long as your sub isn&#39;t re-entrant (and it&#39;s not))"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1425062091, "last_edit_date": 1425062091, "creation_date": 1425059285, "answer_id": 28771224, "question_id": 28771001, "link": "https://stackoverflow.com/questions/28771001/perl-regex-with-eval-and-late-expression-doesnt-seem-to-execute-twice-unless-e/28771224#28771224", "title": "Perl Regex with eval and late expression doesn&#39;t seem to execute twice (unless EVAL&#39;d)", "body": "<p>Inside of <code>(?{ })</code> and <code>(??{ })</code>, don't use lexical vars declared outside the blocks. Use</p>\n\n<pre><code>local our @chunks;\nlocal our $chunklen;\n</code></pre>\n\n<hr>\n\n<p>Welcome to the world of closures.</p>\n\n<pre><code>sub make_closure {\n    my $counter = 0;\n    return sub { return ++$counter };\n}\n\nmy $counter1 = make_closure();\nmy $counter2 = make_closure();\n\nsay $counter1-&gt;();  # 1\nsay $counter1-&gt;();  # 2\nsay $counter1-&gt;();  # 3\nsay $counter2-&gt;();  # 1\nsay $counter2-&gt;();  # 2\nsay $counter1-&gt;();  # 4\n</code></pre>\n\n<p><code>sub { }</code> captures lexical variables that are in scope, giving the sub access to them even when the scope in which they exist is gone.</p>\n\n<p>You use this ability every day without knowing it.</p>\n\n<pre><code>my $foo = ...;\nsub print_foo { print \"$foo\\n\"; }\n</code></pre>\n\n<p>If subs didn't capture, and if they didn't capture at compile-time, the above wouldn't work in a module. The module's sub is likely to be called long after the module finishes executing (longer after <code>use</code> is complete), but that's when <code>$foo</code> goes away.</p>\n\n<p>You get into trouble when you start placing named subs into other subs.</p>\n\n<pre><code>sub outer {\n   my ($x) = @_;\n\n   sub inner {\n      print(\"$x\\n\");\n   }\n\n   inner();\n}\n\nouter(5);  # 5\nouter(6);  # 5!!!\n</code></pre>\n\n<p><code>inner</code> captures <code>$x</code> that existed at compile-time. The first call to <code>outer</code> will reuse that lexical, but subsequent calls to <code>outer</code> will get a fresh <code>$x</code>. Perl warns <em>Variable \"$x\" will not stay shared</em>.</p>\n\n<p>Similarly, <code>(?{ })</code> and <code>(??{ })</code> capture lexicals when they compiled. Since your patterns don't interpolate, they are compiled when the surrounding Perl code is compiled, and capture the lexicals that existed <em>at that time</em>. The first call to the sub will reuse those lexicals, but subsequent calls to the sub will get fresh lexicals.</p>\n\n<p>Had you been listening, Perl would have warned you about the problem. Always use <code>use strict; use warnings;</code>.</p>\n\n<pre><code>Variable \"$chunklen\" will not stay shared at (re_eval 2) line 1.\nVariable \"$chunklen\" will not stay shared at (re_eval 3) line 1.\nVariable \"@chunks\" will not stay shared at (re_eval 4) line 1.\n</code></pre>\n\n<p>To solve the inner/outer sub problem, you'd replace what is effectively</p>\n\n<pre><code>BEGIN { *inner = sub { ... } }\n</code></pre>\n\n<p>with</p>\n\n<pre><code>local *inner = sub { ... };\n</code></pre>\n\n<p>to capture the lexical at run-time. In your case, you can't do that, so you switch to using package variables. Package variables aren't captured but looked up at run-time.</p>\n\n<hr>\n\n<p>As an aside, all you need is </p>\n\n<pre><code>my $text = pack '(N/A)*', @samples;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>my @samples = unpack '(N/A)*', $text;\n</code></pre>\n\n<p>For example,</p>\n\n<pre><code>$ perl -E'\n   my @samples = ( \"abc\", \"defg\", \"hij\" );\n   my $text = pack \"(N/A)*\", @samples;\n   say uc unpack \"H*\", $text;\n   @samples = unpack \"(N/A)*\", $text;\n   say for @samples;\n'\n0000000361626300000004646566670000000368696A\nabc\ndefg\nhij\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425072068, "post_id": 28772591, "comment_id": 45827243, "body": "Even though you accepted another answer this seems like a good  &quot;follow up self response&quot; format - since adding this detail may have distracted from your original question.  If I do this I might note the followup response in own question as well (e.g. &quot;see below for follow up&quot;)."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425072155, "post_id": 28772591, "comment_id": 45827285, "body": "++ for explaining <code>state</code> nicely in this case :-)"}, {"owner": {"reputation": 9397, "user_id": 173925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PMx1r.jpg?s=128&g=1", "display_name": "Dereleased", "link": "https://stackoverflow.com/users/173925/dereleased"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1425072238, "post_id": 28772591, "comment_id": 45827322, "body": "Thanks, I have added the note about the follow-up to the head of the question."}], "tags": [], "owner": {"reputation": 9397, "user_id": 173925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PMx1r.jpg?s=128&g=1", "display_name": "Dereleased", "link": "https://stackoverflow.com/users/173925/dereleased"}, "is_accepted": false, "score": 1, "last_activity_date": 1425065490, "last_edit_date": 1495540259, "creation_date": 1425064495, "answer_id": 28772591, "question_id": 28771001, "link": "https://stackoverflow.com/questions/28771001/perl-regex-with-eval-and-late-expression-doesnt-seem-to-execute-twice-unless-e/28772591#28772591", "title": "Perl Regex with eval and late expression doesn&#39;t seem to execute twice (unless EVAL&#39;d)", "body": "<p>Many thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">@ikegami</a>, whose answer will remain accepted because it gets at the heart of the matter.  For this example, the solution was as simple as switching from <code>my</code> to <code>state</code>, and resetting the value.  As <a href=\"https://stackoverflow.com/users/589924/ikegami\">@ikegami</a> explained, when the regular expression was compiled, it captured, as a closure, the lexical variables required for it to function, i.e. that first call's values for <code>@chunks</code> and <code>$chunklen</code>.  When it was called subsequent times, the regular expression ignored the new lexical variables declared with <code>my</code> and continued updating the variables defined in the first call.</p>\n\n<p>As such, switching to <code>state</code> preserves those variables across all calls to the subroutine, so the regular expression is referring to the same values as the calling function.  Then, all that was necessary was to reset the values on each call (otherwise, <code>@chunks</code> would contain not only chunks found this round, but also, all chunks found on previous calls).</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::HiRes qw/ time /;\nuse Data::Dumper;\nuse v5.10;\n\nsub parse($) {\n    my ( $text ) = @_;\n\n    # vvvv there vvvv\n    state ($chunklen, @chunks);\n    $chunklen = 0;               # &lt;-- here\n    @chunks = ();\n    # ^^^^ there ^^^^\n    my $parser = qr/\n        ^ (?:\n            (.{4})                          (?{ ($chunklen) = unpack( 'N', $^N ) })\n            ((??{ qr~.{$chunklen}~s }))     (?{ push @chunks, $^N })\n        )+ $\n    /xs;\n\n    unless ( $text =~ $parser ) {\n        die 'bad parse';\n    }\n\n    return @chunks;\n}\n\nfor ( 1 .. 2 ) {\n    print \"Try $_\\n\";\n    my @samples = ( time, rand(10000), time );\n    my $string  = pack 'NA*' x scalar @samples, map { length($_), $_ } @samples;\n    print Dumper parse $string;\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Produces</p>\n\n<pre><code>Try 1\n$VAR1 = '1425063869.37065';\n$VAR2 = '5458.984375';\n$VAR3 = '1425063869.37065';\n\nTry 2\n$VAR1 = '1425063869.37124';\n$VAR2 = '9147.03369140625';\n$VAR3 = '1425063869.37124';\n</code></pre>\n\n<h2>Edit: Note the importance of \"use v5.10\" in this example</h2>\n"}], "owner": {"reputation": 9397, "user_id": 173925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PMx1r.jpg?s=128&g=1", "display_name": "Dereleased", "link": "https://stackoverflow.com/users/173925/dereleased"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 28771224, "answer_count": 2, "score": 1, "last_activity_date": 1425072153, "creation_date": 1425058479, "last_edit_date": 1425072153, "question_id": 28771001, "link": "https://stackoverflow.com/questions/28771001/perl-regex-with-eval-and-late-expression-doesnt-seem-to-execute-twice-unless-e", "title": "Perl Regex with eval and late expression doesn&#39;t seem to execute twice (unless EVAL&#39;d)", "body": "<h3>Note: Follow-Up posted as response to this question below.</h3>\n\n<p>I have a subroutine that uses regular expressions to parse a string into a series of chunks, and pass those chunks back in a list.  The string is packed in the format of one 32 bit integer in network order signifying the length of the item, followed by the item, repeated an unknown number of times.  If one were creating this string from a list <code>@samples</code>, it might look like this:</p>\n\n<pre><code>my $string  = pack 'NA*' x scalar @samples, map { length($_), $_ } @samples;\n</code></pre>\n\n<p>The basic parsing routine using Regex looks about like this:</p>\n\n<pre><code>my $parser = qr/\n    ^ (?:\n        (.{4})                          (?{ ($chunklen) = unpack( 'N', $^N ); })\n        ((??{ qr~.{$chunklen}~s }))     (?{ push @chunks, $^N; })\n    )+ $\n/xs;\n</code></pre>\n\n<p>The first time it is invoked, it works flawlessly.  The second time, and all subsequent times, it does not work at all.  This example, with various points of debug output:</p>\n\n<pre><code>use strict;\nuse Time::HiRes qw/ time /;\nuse Data::Dumper;\nuse v5.10;\n\nfor ( 1 .. 2 ) {\n    print \"Try $_\\n\";\n    my @samples = ( time, rand(10000), time );\n    my $string  = pack 'NA*' x scalar @samples, map { length($_), $_ } @samples;\n    print Dumper parse $string;\n    print \"\\n\";\n}\n\n\nsub parse($) {\n    my ( $text ) = @_;\n    my (@chunks, $chunklen);\n    my $parser = qr/\n        ^ (?:\n            (.{4})                          (?{ ($chunklen) = unpack( 'N', $^N ); say $chunklen })\n            ((??{ qr~.{$chunklen}~s }))     (?{ push @chunks, $^N; say $^N })\n        )+ $\n    /xs;\n\n    unless ( $text =~ $parser ) {\n        die 'bad parse';\n    }\n\n    print Dumper \\@chunks;\n\n    return @chunks;\n}\n</code></pre>\n\n<p>produces the following output</p>\n\n<pre><code>Try 1\n16\n1425057728.71843\n16\n1491.39404296875\n16\n1425057728.71843\n$VAR1 = [\n          '1425057728.71843',\n          '1491.39404296875',\n          '1425057728.71843'\n        ];\n$VAR1 = '1425057728.71843';\n$VAR2 = '1491.39404296875';\n$VAR3 = '1425057728.71843';\n\nTry 2\n16\n1425057728.71903\n16\n2074.27978515625\n16\n1425057728.71903\n$VAR1 = [];\n</code></pre>\n\n<p>Note that @chunks somehow is not populated the second time, even though the values were found appropriately.</p>\n\n<h2>Why don't it run more than once?</h2>\n\n<p>Things I have tried that did not work:</p>\n\n<ol>\n<li>Storing <code>$parser</code> as a string, and compiling when it was tested</li>\n<li>Returning the lazy expression <code>(??{ ... })</code> as a string and having it compiled later</li>\n<li>Removing everything from a subroutine and calling it inline in the loop</li>\n</ol>\n\n<p>The one thing I tried that did allow it to parse more than once was putting the whole thing in a quoted eval, like so:</p>\n\n<pre><code>sub parse($) { return eval q!\n    my ( $text ) = @_;\n    my (@chunks, $chunklen);\n    my $parser = qr/\n        ^ (?:\n            (.{4})                          (?{ ($chunklen) = unpack( 'N', $^N ) })\n            ((??{ qr~.{$chunklen}~s }))     (?{ push @chunks, $^N })\n        )+ $\n    /xs;\n\n    unless ( $text =~ $parser ) {\n        die 'bad parse';\n    }\n\n    return @chunks; !;\n}\n</code></pre>\n\n<p>If we run that through the same testing body, with all the debug output removed, we see the following:</p>\n\n<pre><code>Try 1\n$VAR1 = '1425058001.056';\n$VAR2 = '7401.7333984375';\n$VAR3 = '1425058001.056';\n\nTry 2\n$VAR1 = '1425058001.0567';\n$VAR2 = '1740.1123046875';\n$VAR3 = '1425058001.0567';\n</code></pre>\n\n<p>Note: This is a sample problem.  I realize that there are non-regex based solutions to this problem, and that this problem is fairly trivial, but I hope to gain insight to apply with respect to much more complex parsers implemented similarly in Perl's Regex engine.</p>\n"}, {"tags": ["javascript", "perl", "escaping", "uri"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1425057864, "post_id": 28770678, "comment_id": 45820107, "body": "I suspect you are using a <code>printf</code> that should be a <code>print</code>."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425058573, "post_id": 28770871, "comment_id": 45820552, "body": "This answer covers three bugs in addition to one Borodin mentioned."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1425058362, "last_edit_date": 1425058362, "creation_date": 1425058060, "answer_id": 28770871, "question_id": 28770678, "link": "https://stackoverflow.com/questions/28770678/uri-escape-unescape-from-javascript-to-perl/28770871#28770871", "title": "URI escape / unescape from Javascript to Perl", "body": "<p>There are numerous problems with your code.</p>\n\n<blockquote>\n  <p><i></p>\n\n<pre><code>document.getElementById(\"Snd_Cont_AddrLnk_BG\").value =\n    encodeURI(document.getElementById(\"Con_AddresWeb_BG\").value.toString());\n</code></pre>\n  \n  <p></i></p>\n</blockquote>\n\n<p>I can't figure out when you think <code>encodeURI</code> here. All you should have is the following:</p>\n\n<pre><code>document.getElementById(\"Snd_Cont_AddrLnk_BG\").value =\n    document.getElementById(\"Con_AddresWeb_BG\").value;\n</code></pre>\n\n<blockquote>\n  <p><i></p>\n\n<pre><code>printf JSBG \"var GMapLink_bg=\\\"\".uri_unescape($C_AddrLnk_BG).\"\\\";\\n\";\n</code></pre>\n  \n  <p></i></p>\n</blockquote>\n\n<p>Now the erroneous <code>encodeURI</code> is removed, <code>uri_unescape</code> needs to be removed too. </p>\n\n<p>Furthermore, adding quotes around text doesn't always make it a valid JavaScript literal. The easiest way to do that is as follows:</p>\n\n<pre><code>use JSON qw( );\n\nmy $json = JSON-&gt;new()-&gt;allow_nonref();\n$json-&gt;encode($C_AddrLnk_BG)\n</code></pre>\n\n<p>That snippet also misuses <code>printf</code>. <code>printf</code> takes a format parameter, so you want</p>\n\n<pre><code>printf FH \"%s\", ...\n</code></pre>\n\n<p>or simply</p>\n\n<pre><code>print FH ...\n</code></pre>\n\n<p>So what you end up with is:</p>\n\n<pre><code>use JSON qw( );\n\nmy $json = JSON-&gt;new()-&gt;allow_nonref();\n$json-&gt;encode($C_AddrLnk_BG)\nprint JSBG \"var GMapLink_bg=\" . $json-&gt;encode($C_AddrLnk_BG) .\"\\n\";\n</code></pre>\n\n<hr>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1425058563, "post_id": 28770894, "comment_id": 45820544, "body": "&quot;If you had <code>use warnings</code> in place as you should, you would see messages like <code>Missing argument in printf</code>&quot; OP is using <code>-w</code> but since this is a CGI script, warnings are probably going directly to the webserver&#39;s error log. They might want to use <code>CGI::Carp</code>&#39;s <a href=\"https://metacpan.org/pod/CGI::Carp#MAKING-WARNINGS-APPEAR-AS-HTML-COMMENTS\" rel=\"nofollow noreferrer\"><code>warningsToBrowser</code></a> during development to catch these (as long as they remove the calls in production!)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425058660, "post_id": 28770894, "comment_id": 45820606, "body": "@ThisSuitIsBlackNot, hum, if you&#39;re at the point that post for help on SO, perhaps you should have checked for error messages?"}, {"owner": {"reputation": 27, "user_id": 4496571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/540f4482e1b856d60e2a92e51b8f61e8?s=128&d=identicon&r=PG&f=1", "display_name": "byddles", "link": "https://stackoverflow.com/users/4496571/byddles"}, "edited": false, "score": 0, "creation_date": 1425058695, "post_id": 28770894, "comment_id": 45820624, "body": "@Borodin Yes, you are absolutely right. Using warnings is always a good idea. If I&#39;ve used, I would get an idea for the essence of the problem. Thank you very much."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 27, "user_id": 4496571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/540f4482e1b856d60e2a92e51b8f61e8?s=128&d=identicon&r=PG&f=1", "display_name": "byddles", "link": "https://stackoverflow.com/users/4496571/byddles"}, "edited": false, "score": 1, "creation_date": 1425058916, "post_id": 28770894, "comment_id": 45820751, "body": "@byddles: And <code>use warnings</code> is preferable to <code>-w</code> on the shebang line"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425058917, "post_id": 28770894, "comment_id": 45820753, "body": "@ikegami I don&#39;t disagree with that. I&#39;m just saying that the advice &quot;use warnings&quot; might be more helpful if you also tell the OP where to look for warnings, since they don&#39;t seem to know."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1425058123, "creation_date": 1425058123, "answer_id": 28770894, "question_id": 28770678, "link": "https://stackoverflow.com/questions/28770678/uri-escape-unescape-from-javascript-to-perl/28770894#28770894", "title": "URI escape / unescape from Javascript to Perl", "body": "<p>You are using <code>printf</code> instead of <code>print</code> to output the result of <code>uri_unescape</code>. It is interpreting <code>%22E</code> as an engineering-format floating point field with a width of 22. Presumable you have nothing else in the <code>printf</code> parameter list, so <code>undef</code> is being evaluated as zero, resulting in <code>          0.000000E+00</code>.</p>\n\n<p>If you had <code>use warnings</code> in place as you should, you would see messages like <code>Missing argument in printf</code></p>\n"}], "owner": {"reputation": 27, "user_id": 4496571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/540f4482e1b856d60e2a92e51b8f61e8?s=128&d=identicon&r=PG&f=1", "display_name": "byddles", "link": "https://stackoverflow.com/users/4496571/byddles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 28770894, "answer_count": 2, "score": 0, "last_activity_date": 1425058362, "creation_date": 1425057400, "question_id": 28770678, "link": "https://stackoverflow.com/questions/28770678/uri-escape-unescape-from-javascript-to-perl", "title": "URI escape / unescape from Javascript to Perl", "body": "<p>I have an URL that javascript reads from an user input.\nHere is a part of javascript code:</p>\n\n<pre><code>document.getElementById(\"Snd_Cont_AddrLnk_BG\").value=encodeURI(document.getElementById(\"Con_AddresWeb_BG\").value.toString());\n</code></pre>\n\n<p>Then I post the value of the string through CGI to a Perl Script (here is a part of perl code):</p>\n\n<pre><code>#!/usr/bin/perl -w\n##\n##\n\nuse strict;\nuse CGI;\nuse CGI::Carp qw ( fatalsToBrowser );\nuse URI::Escape;\n\nmy $C_AddrLnk_BG=$query-&gt;param(\"Snd_Cont_AddrLnk_BG\");\n\nmy $lst_upload_dir=\"../data\";\nmy $lst_file_bg=$lst_upload_dir.\"/contacts_bg.js\";\n\nopen(JSBG,\"&gt;$lst_file_bg\") || die \"Failed to open $lst_file_bg\\n\";\nprintf JSBG \"var GMapLink_bg=\\\"\".uri_unescape($C_AddrLnk_BG).\"\\\";\\n\";\nclose JSBG;\nsystem(\"chmod 777 $lst_file_bg\");\n</code></pre>\n\n<p>Somewhere in uri_unescape a problem occurs:\nThe original string from input is:</p>\n\n<pre><code>https://www.google.bg/maps/place/42%C2%B044'15.0%22N+23%C2%B019'04.2%22E/@42.7368454,23.317962,16z/data=!4m2!3m1!1s0x0:0x0\n</code></pre>\n\n<p>The string after javascript encodeURI() is:</p>\n\n<pre><code>https://www.google.bg/maps/place/42%25C2%25B044'15.0%2522N+23%25C2%25B019'04.2%2522E/@42.7368454,23.317962,16z/data=!4m2!3m1!1s0x0:0x0\n</code></pre>\n\n<p>And the script after perl uri_unescape() that is printed in file is:</p>\n\n<pre><code>https://www.google.bg/maps/place/42%C2%B044'15.0%22N+23%C2%B019'04.2          0.000000E+00/@42.7368454,23.317962,16z/data=!4m2!3m1!1s0x0:0x0\n</code></pre>\n\n<p>I can not ascertain whether the problem is in unescaping or printing, but the part </p>\n\n<blockquote>\n  <p>%2522E</p>\n</blockquote>\n\n<p>is interpreted as</p>\n\n<blockquote>\n<pre><code>      0.000000E+00\n</code></pre>\n</blockquote>\n\n<p>(with 10 leading spaces).</p>\n\n<p>Can anyone help me with an idea of what I was doing wrong?</p>\n"}, {"tags": ["linux", "perl", "shebang"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425054176, "post_id": 28768883, "comment_id": 45817800, "body": "Honestly, sounds like the user should be using the <code>PERL5LIB</code> env var"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1425053129, "post_id": 28768985, "comment_id": 45817181, "body": "(y) maybe with the addition that there is no way to use a variable on the shebang line."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425054161, "post_id": 28768985, "comment_id": 45817793, "body": "Bonus: This method will add any appropriate arch subdirectory too, where as <code>-I</code> won&#39;t"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1425054214, "last_edit_date": 1425054214, "creation_date": 1425052056, "answer_id": 28768985, "question_id": 28768883, "link": "https://stackoverflow.com/questions/28768883/usage-of-linux-system-variable-in-the-shebang/28768985#28768985", "title": "Usage of linux system variable in the shebang", "body": "<p>As you've discovered, the OS's parsing of the command line is very limited.</p>\n\n<p>How about:</p>\n\n<pre><code>use lib \"$ENV{'USER'}/anotherfolder/something/doodah\";\n</code></pre>\n\n<p>You might also find <code>FindBin</code> useful, because it allows you to specify relative paths based on your script location. </p>\n\n<p>e.g.</p>\n\n<pre><code>use FindBin;\nuse lib $FindBin::RealBin.\"/mods_dir\";\n</code></pre>\n"}], "owner": {"reputation": 314, "user_id": 3008764, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/233129272d220583c2ddd325a7322305?s=128&d=identicon&r=PG&f=1", "display_name": "chuhx", "link": "https://stackoverflow.com/users/3008764/chuhx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 28768985, "answer_count": 1, "score": 0, "last_activity_date": 1425054214, "creation_date": 1425051791, "last_edit_date": 1425052263, "question_id": 28768883, "link": "https://stackoverflow.com/questions/28768883/usage-of-linux-system-variable-in-the-shebang", "title": "Usage of linux system variable in the shebang", "body": "<p>i try to include an external user folder with perl scripts to my general perl script. How can i use the linux system variable user (${USER}) to include these scripts?\nI tried to add this variable simply to the first line of the script, but the variable is not resolved.</p>\n\n<p>Example:</p>\n\n<pre><code>#!/usr/bin/perl -I /tmp/userSpecificFolder-${USER}/anotherFolder/AndAnotherFolder/AndSoOn\n</code></pre>\n\n<p>And the Output of this line is exactly what i wrote above, but it should be </p>\n\n<pre><code>#!/usr/bin/perl -I /tmp/userSpecificFolder-CurrentUserName/anotherFolder/AndAnotherFolder/AndSoOn\n</code></pre>\n"}, {"tags": ["perl", "sles"], "comments": [{"owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "edited": false, "score": 0, "creation_date": 1425057776, "post_id": 28768838, "comment_id": 45820053, "body": "Do you have access to a machine on both SP2 and SP3 -- can you run the following two commands on both and share the output. <code>perl -V | head -1</code> and <code>perl -e &#39;use Net::SSH2; say $Net::SSH2::VERSION . &quot;\\n&quot;&#39;</code>"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1425057843, "post_id": 28768838, "comment_id": 45820095, "body": "I just looked at the release notes for SLES 11 SP3.  Apparently it includes an update to openssh.  As Net::SSH2 is an XS module, you will probably need to recompile it."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1425116745, "post_id": 28768838, "comment_id": 45837634, "body": "Net::SSH2 is buggy and the underneath libssh2 is even more buggy. Anyway, how have you installed libssh2? and Net::SSH2? SLES does not guarantees binary compatibility between releases, so anything compiled by you (i.e. not an rpm) may bump on new library versions."}], "owner": {"reputation": 11, "user_id": 2298574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/552c0af8a1ee5f610b38d279966fceab?s=128&d=identicon&r=PG", "display_name": "Md. Hassanur Rahman", "link": "https://stackoverflow.com/users/2298574/md-hassanur-rahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455909528, "creation_date": 1425051656, "last_edit_date": 1455909528, "question_id": 28768838, "link": "https://stackoverflow.com/questions/28768838/netssh2-hangs-at-creating-new-object-after-upgrading-server-to-sles-11-sp3", "title": "Net::SSH2 hangs at creating new object, after upgrading server to SLES 11 SP3", "body": "<p>My software was running fine with SUSE Enterprise Linux 11 SP2, but I had to upgrade to SP3. After upgrading my Net::SSH2 based Perl modules are just hanging without giving any error and not even getting timeout. So, I created a simple test script with Net::SSH2 which runs successfully in SP2 machines, but not in SP3. Here is the test script</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Net::SSH2;\n\nmy ($host, $user, $password) = (\"myhost\", \"myuser\", \"mypassword\");\n\nprint \"Before Net::SSH2-new()\\n\";\nmy $ssh = Net::SSH2-&gt;new();\n\nprint \"Before ssh-&gt;Connect\\n\";\n$ssh-&gt;connect($host);\n\nprint \"Before ssh-&gt;auth_keyboard\\n\";\n$ssh-&gt;auth_keyboard($user, $password);\n\nprint \"Before ssh-&gt;Channel\\n\";\nmy $channel = $ssh-&gt;channel();\n\nprint \"Before Channel-&gt;blocking(0)\\n\";    \n$channel-&gt;blocking(0);\n\nprint \"Before Channel-&gt;exec\\n\";    \nmy $rt = $channel-&gt;exec(\"hostname\");\nprint \"The return value is: $rt \\n\";\n\n#Closing connection\n$channel-&gt;close;\n$ssh-&gt;disconnect;\n</code></pre>\n\n<p>In SP3 server I am getting output as follows</p>\n\n<pre><code>myuser@myhost:~&gt; perl  test_ssh  \nBefore Net::SSH2-new()\n</code></pre>\n\n<p>And then nothing. But in SP2 servers, it is working without any problem. Can someone tell what is causing this problem?</p>\n"}, {"tags": ["regex", "perl", "hashtable", "substitution", "string-substitution"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1425051092, "post_id": 28768087, "comment_id": 45815884, "body": "Re &quot;Not to mention my previous question was downvoted because I did not give someone an upvote for the wrong/incomplete answer.&quot; Very unlikely."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425051115, "post_id": 28768087, "comment_id": 45815900, "body": "Re &quot;there are clearly differences in the question asked&quot;, If you have fixes to make to your question, use the <i>edit</i> feature"}, {"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1425051377, "post_id": 28768087, "comment_id": 45816096, "body": "@ikegami: &quot;Very unlikely.&quot;  I am not in the habit of lying on programming forums.  The guy said &#39;I would recommend you upvote me for the answer and repost the question&#39;.  When I did not he deleted his comments and downvoted it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1425051785, "post_id": 28768087, "comment_id": 45816345, "body": "I didn&#39;t say you lied, I indicated I believed you are mistaken about the reason you were downvoted. Even if what you say it true, it only accounts for one of the downvotes."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425051959, "post_id": 28768087, "comment_id": 45816456, "body": "Your problem is caused by <code>\\b</code>. According to <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a>: &quot;A word boundary (<code>\\b</code>) is a spot between two characters that has a <code>\\w</code> on one side of it and a <code>\\W</code> on the other side of it (in either order), counting the imaginary characters off the beginning and end of the string as matching a <code>\\W</code>.&quot; <code>* </code> (asterisk followed by space) is not a word boundary."}, {"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "edited": false, "score": 0, "creation_date": 1425053276, "post_id": 28768087, "comment_id": 45817268, "body": "Thanks! I should have checked the documentation; I assumed word boundary existed between * and space."}], "owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1425049497, "answer_count": 0, "score": 0, "last_activity_date": 1425053212, "creation_date": 1425049412, "last_edit_date": 1425053212, "question_id": 28768087, "link": "https://stackoverflow.com/questions/28768087/how-to-substitute-and-replace-on-expression-using-hash-with-multi-character-vari", "closed_reason": "Duplicate", "title": "How to substitute and replace on expression using hash with multi-character variables?", "body": "<p>My current script will take an expression, ex:</p>\n\n<pre><code>my $expression = '( a || b || c || ab || ca)';\n</code></pre>\n\n<p>and go through each boolean combination of inputs using sub/replace, like so:</p>\n\n<pre><code>my $keys = join '|', keys %stimhash;\n$expression =~ s/($keys)\\b/$stimhash{$1}/g;\n</code></pre>\n\n<p>In the above example, assuming:</p>\n\n<pre><code>a =&gt; 0, b =&gt; 1, c =&gt; 0\n</code></pre>\n\n<p>The expression should become:</p>\n\n<pre><code>( 0 || 1 || 0 || ab || ca )\n</code></pre>\n\n<p>This works great.</p>\n\n<p>However, I would like to allow the variables (also in <code>%stimhash</code>) to contain a tag, <code>*.</code></p>\n\n<pre><code>my $expression = '( a* || b* || c* || ca || ab )';\n</code></pre>\n\n<p>Also, printing the keys of the stimhash returns:</p>\n\n<pre><code>a*|b*|c*\n</code></pre>\n\n<p>It is not properly substituting/replacing with the extra special character, <code>*.</code>\nIt gives this warning:</p>\n\n<pre><code>Use of uninitialized value within `%stimhash` in substitution iterator\n</code></pre>\n\n<p>I tried using <code>quotemeta()</code> but did not have good results so far.\nIt will drop the values. An example after the substitution looks like:</p>\n\n<pre><code>( * || * || * || ca || ab )\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>( 0 || 1 || 0 || ca || ab )\n</code></pre>\n\n<p>As you can see the <code>/b</code> is used to prevent partial substitutions. Sorting the keys by length does not solve the problem because some variables are not being replaced (<code>ca</code> and <code>ab</code> in above example).</p>\n"}, {"tags": ["perl", "csv", "match", "multiple-columns", "variant"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425048286, "post_id": 28767548, "comment_id": 45814111, "body": "You seem to be splitting on <code>,</code> data that doesn&#39;t have a comma anywhere. You don&#39;t need to iterate particularly though <code>s&#47;search&#47;replace&#47;g</code> will work on a whole chunk of text at once."}, {"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425048988, "post_id": 28767548, "comment_id": 45814506, "body": "this is actually from a csv file. So when extracted it does come with &quot; , &quot;. i tried using &quot;g&quot; it still didnt work. not sure why."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426515571, "post_id": 28768886, "comment_id": 46391457, "body": "(?=a) for a lookahead, ?! for negative lookahead, or ?&lt;= and ?&lt;! for lookbehinds (positive and negative, respectively)."}, {"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426515670, "post_id": 28768886, "comment_id": 46391516, "body": "Hi Borodin, while trying to understand your code i picked up the previous line. i would really appreciate if you could help me understand that.              ?&lt;![\\w.])($re)(?![\\w.])"}, {"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426607918, "post_id": 28768886, "comment_id": 46437627, "body": "Hi Borodin, your code helped me a lot. I have another question related to same =~/(?&lt;![\\w.])($val)(?![\\w.])/gi). i am trying to match value of $val in target string. i have noticed a new problem. if $val is xxx. and is to be replaced by YY then the regex is picking every xxx@. where @ means any character and not just &quot;.&quot; And i am sorry but cant remove the &quot;.&quot; or any other nonalphanumeric character that comes in $val. requesting for help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426685758, "post_id": 28768886, "comment_id": 46473298, "body": "@Tanumoy: Stack Overflow isn&#39;t a forum, and you shouldn&#39;t ask additional questions in comments. If you are still having problems that you can&#39;t resolve then you should post a new question."}, {"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426685860, "post_id": 28768886, "comment_id": 46473378, "body": "Thank you for the guidance Borodin. I am still understanding the way it works here. Just that i have been blocked by website to ask another question for next 2 days. and i still have questions."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426686050, "post_id": 28768886, "comment_id": 46473519, "body": "@Tanumoy: I have never heard of that happening. As far as I can tell you have only ever asked two questions, so I am surprised that you have been blocked. However you shouldn&#39;t try to get around the system, and I am sure that you could find your own solution if you spent those two days learning the language."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1425051800, "creation_date": 1425051800, "answer_id": 28768886, "question_id": 28767548, "link": "https://stackoverflow.com/questions/28767548/perl-how-to-match-data-in-entire-text/28768886#28768886", "title": "Perl : How to match data in entire text", "body": "<p>The best I can do for you is to simply write a solution. Your own code is irretrievable.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ($file1, $file2) = @ARGV;\n\nmy %abbrevs;\n\nopen my $fh, '&lt;', $file1 or die $!;\nwhile (&lt;$fh&gt;) {\n  chomp;\n  my ($phrase, $abbrev) = split /,/;\n  if ( exists $abbrevs{$abbrev} ) {\n    die sprintf 'Abbreviation \"%s\" already assigned to \"%s\"', $abbrev, $phrase;\n  }\n  $abbrevs{$abbrev} = $phrase;\n}\n\nmy $re = join '|', map quotemeta, sort { length $b &lt;=&gt; length $a } keys %abbrevs;\n$re = qr/$re/;\n\nopen $fh, '&lt;', $file2 or die $!;\nwhile (&lt;$fh&gt;) {\n  s/(?&lt;![\\w.])($re)(?![\\w.])/$abbrevs{$1}/g;\n  print;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Part.Name.\nGordon house Saint\nGordon Saint house\nGordon Saint house\nGordon Saint house\nGordon Saint house\nHotel palace\nHotel Indiana\nnuav Road hotel\ndankei hotel Road\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 28768886, "answer_count": 1, "score": -2, "last_activity_date": 1425051800, "creation_date": 1425047797, "last_edit_date": 1425050785, "question_id": 28767548, "link": "https://stackoverflow.com/questions/28767548/perl-how-to-match-data-in-entire-text", "title": "Perl : How to match data in entire text", "body": "<p>In the following code I am trying to use data from <code>Input File 1</code> to edit data in <code>Input File 2</code>. But the problem is the code is not able to match or substitute when the possible match text is anywhere other than at the last, towards right.</p>\n\n<p>Could you please help me in figuring out way to match it in the entire text.</p>\n\n<p>I am still new to coding so if you find any other possible enhancements, i will highly appreciate your guidance.</p>\n\n<p><strong>Input File 1</strong></p>\n\n<pre><code>Saint   st\n\nSaint   saint\n\nSaint   st.\n\nSaint   snt\n\nSaint   snt.\n\nHotel   htl\n\nHotel   htl.\n\n Road   rd\n\n Road   rd.\n</code></pre>\n\n<p><strong>Input File 2</strong></p>\n\n<pre><code>Part.Name.\n\nGordon house st\n\nGordon saint house\n\nGordon st. house\n\nGordon snt house\n\nGordon snt. house\n\nhtl palace\n\nhtl. Indiana\n\nnuav rd hotel\n\ndankei hotel rd.\n</code></pre>\n\n<p><strong>Code Starts Here</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nopen (my $fh1, \"&lt; $filename1\") or die $!;\nmy @incomin_data1=&lt;$fh1&gt;;\nmy $array_length1=$#incomin_data1;\nmy @key; my @value;\nfor (my $count=0;$count&lt;=$array_length1;$count++)\n{($key[$count],$value[$count])=split /,/,$incomin_data1[$count];}\nmy $key_length=$#key;\nopen (my $fh2, \"&lt; $filename2\") or die $!;\nmy @incomin_data2=&lt;$fh2&gt;;\nmy $array_length2=$#incomin_data2;\nfor (my $count2=0;$count2&lt;=$array_length2;$count2++)\n{     for (my $count3=0;$count3&lt;=$key_length;$count3++)\n{     my $ky=$key[$count3];\nmy $val=$value[$count3];\nif ($incomin_data2[$count2]=~/\\s?$val\\s?/g)\n{     $incomin_data2[$count2]=~s/$val/$ky/;  }}}\nprint \"\\n\\n\",@incomin_data2;\n</code></pre>\n"}, {"tags": ["perl", "terminal", "cygwin", "ansi-escape", "mintty"], "answers": [{"comments": [{"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1425051397, "post_id": 28768721, "comment_id": 45816113, "body": "I had expected this was impossible but it works in my Cygwin. Wow."}, {"owner": {"reputation": 9921, "user_id": 1640661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a1DtK.png?s=128&g=1", "display_name": "Anthony Geoghegan", "link": "https://stackoverflow.com/users/1640661/anthony-geoghegan"}, "reply_to_user": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1425052867, "post_id": 28768721, "comment_id": 45817024, "body": "@DanielB&#246;hmer Until I tried it, I wasn&#39;t sure which of xterm&#39;s control sequences were supported by mintty. In any case, I was fairly certain that the resizing wouldn&#39;t work with <code>cmd.exe</code> -- and it didn&#39;t."}], "tags": [], "owner": {"reputation": 9921, "user_id": 1640661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a1DtK.png?s=128&g=1", "display_name": "Anthony Geoghegan", "link": "https://stackoverflow.com/users/1640661/anthony-geoghegan"}, "is_accepted": true, "score": 5, "last_activity_date": 1425056568, "last_edit_date": 1425056568, "creation_date": 1425051263, "answer_id": 28768721, "question_id": 28766680, "link": "https://stackoverflow.com/questions/28766680/set-size-of-a-cygwin-terminal-window/28768721#28768721", "title": "Set size of a cygwin terminal window", "body": "<p>If you are using mintty as your terminal emulator (it has been the default\nterminal emulator for Cygwin for the past couple of years), you can use <a href=\"http://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow\">ANSI\nescape codes</a> to manipulate the terminal.</p>\n\n<p>You can test this by running the following snippet of Perl code to change the size of your terminal emulator window:</p>\n\n<pre><code># If terminal supports ANSI escape sequences\n$lines = 80;\n$columns = 100;\nprint \"\\e[8;$lines;${columns}t\";\n</code></pre>\n\n<p>Note: This doesn't work if run while in a <code>screen</code> window and I don't know why. According to the <code>screen</code> man page, this escape sequence should be supported.</p>\n\n<h2>Explanation</h2>\n\n<p>The syntax of ANSI escape sequences isn\u2019t the easiest to read but here\u2019s the\ndocumentation that provides the basis of the above sequence.</p>\n\n<p>The <code>\\e</code> prints an Escape character which begins the ANSI escape sequence.\nThis is also known as the <strong>Control Sequence Introducer (CSI)</strong>.</p>\n\n<p>The specific sequence ending with <code>t</code> comes from this <a href=\"http://invisible-island.net/xterm/ctlseqs/ctlseqs.html\" rel=\"nofollow\">List of xterm control\nsequences</a></p>\n\n<pre><code>CSI Ps ; Ps ; Ps t\n          Window manipulation (from dtterm, as well as extensions).\n          These controls may be disabled using the allowWindowOps\n          resource.  Valid values for the first (and any additional\n          parameters) are:\n\u2026\nPs = 8  ;  height ;  width -&gt; Resize the text area to given\n          height and width in characters.  Omitted parameters reuse the\n          current height or width.  Zero parameters use the display's\n          height or width.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9869, "user_id": 1147688, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c76a3f29c105a73c4060b3d1934ccd9a?s=128&d=identicon&r=PG", "display_name": "not2qubit", "link": "https://stackoverflow.com/users/1147688/not2qubit"}, "is_accepted": false, "score": 3, "last_activity_date": 1425742461, "creation_date": 1425742461, "answer_id": 28916532, "question_id": 28766680, "link": "https://stackoverflow.com/questions/28766680/set-size-of-a-cygwin-terminal-window/28916532#28916532", "title": "Set size of a cygwin terminal window", "body": "<p>You don't even need Perl, you can do the same in Bash:</p>\n\n<pre><code>echo -en \"\\e[8;35;100t\";\n</code></pre>\n\n<p>Or why not a script:</p>\n\n<pre><code>#!/bin/bash\n# minsize - A TTY re-size escape sequence for use with mintty Cygwin\n# Usage: minsize &lt;width&gt; &lt;height&gt;\nWIDTH=$1\nHEIGHT=$2\necho -en \"\\e[8;${HEIGHT};${WIDTH}t\";\n</code></pre>\n\n<p>Note, that on other *nixes there is <code>ttysize</code> available. </p>\n"}, {"tags": [], "owner": {"reputation": 53647, "user_id": 117471, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/959ccd33301cb3c15953c1a632a36763?s=128&d=identicon&r=PG", "display_name": "Bruno Bronosky", "link": "https://stackoverflow.com/users/117471/bruno-bronosky"}, "is_accepted": false, "score": 9, "last_activity_date": 1482117480, "creation_date": 1482117480, "answer_id": 41215309, "question_id": 28766680, "link": "https://stackoverflow.com/questions/28766680/set-size-of-a-cygwin-terminal-window/41215309#41215309", "title": "Set size of a cygwin terminal window", "body": "<p>If you happen to be running this from a shortcut where you could add flags to the <code>mintty</code> command, you can set the size then. The benefit is that it looks smoother without the twitchy resize.</p>\n\n<pre><code>$ /cygdrive/c/tools/cygwin/bin/mintty.exe --help\nUsage: mintty [OPTION]... [ PROGRAM [ARG]... | - ]\n\nStart a new terminal session running the specified program or the user's shell.\nIf a dash is given instead of a program, invoke the shell as a login shell.\n\nOptions:\n  -c, --config FILE     Load specified config file (cf. -C or -o ThemeFile)\n  -e, --exec ...        Treat remaining arguments as the command to execute\n  -h, --hold never|start|error|always  Keep window open after command finishes\n  -p, --position X,Y    Open window at specified coordinates\n  -p, --position center|left|right|top|bottom  Open window at special position\n  -p, --position @N     Open window on monitor N\n  -s, --size COLS,ROWS  Set screen size in characters (also COLSxROWS)\n  -s, --size maxwidth|maxheight  Set max screen size in given dimension\n  -t, --title TITLE     Set window title (default: the invoked command) (cf. -T)\n  -w, --window normal|min|max|full|hide  Set initial window state\n  -i, --icon FILE[,IX]  Load window icon from file, optionally with index\n  -l, --log FILE|-      Log output to file or stdout\n      --nobidi|--nortl  Disable bidi (right-to-left support)\n  -o, --option OPT=VAL  Set/Override config file option with given value\n  -B, --Border frame|void  Use thin/no window border\n  -R, --Reportpos s|o   Report window position (short/long) after exit\n      --nopin           Make this instance not pinnable to taskbar\n  -D, --daemon          Start new instance with Windows shortcut key\n  -H, --help            Display help and exit\n  -V, --version         Print version information and exit\nSee manual page for further command line options and configuration.\n</code></pre>\n"}], "owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5197, "favorite_count": 2, "accepted_answer_id": 28768721, "answer_count": 3, "score": 7, "last_activity_date": 1482117480, "creation_date": 1425045112, "last_edit_date": 1425054596, "question_id": 28766680, "link": "https://stackoverflow.com/questions/28766680/set-size-of-a-cygwin-terminal-window", "title": "Set size of a cygwin terminal window", "body": "<p>I have a small perl script, which is executed in a cygwin terminal and prints out a formatted table.\nOn Default window size, cygwin will insert an line break if the text gets too long and thereby destroy the format of my table.\nIs there a way from my perl script to set the cygwin window to a bigger size to avoid that kind of problem?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 3, "creation_date": 1425043968, "post_id": 28766321, "comment_id": 45811455, "body": "Did you try <code>&#47;(.*)&#47;</code>?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 1, "creation_date": 1425044011, "post_id": 28766321, "comment_id": 45811485, "body": "Without telling us what you <b>don&#39;t</b> want to match, it&#39;s impossible to help you!"}, {"owner": {"reputation": 103, "user_id": 1958532, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/300fa4c8393ede187c968924da66235e?s=128&d=identicon&r=PG", "display_name": "user1958532", "link": "https://stackoverflow.com/users/1958532/user1958532"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1425044067, "post_id": 28766321, "comment_id": 45811530, "body": "yes but still the first one couldn&#39;t be matched."}, {"owner": {"reputation": 103, "user_id": 1958532, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/300fa4c8393ede187c968924da66235e?s=128&d=identicon&r=PG", "display_name": "user1958532", "link": "https://stackoverflow.com/users/1958532/user1958532"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1425044100, "post_id": 28766321, "comment_id": 45811553, "body": "I don&#39;t understand !"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1425044304, "post_id": 28766321, "comment_id": 45811670, "body": "Maybe you could add a few (different) examples of lines that you <b>don&#39;t</b> want your reggae to match. Otherwise, we can only assume that you simply wan&#39;t to match everything!"}, {"owner": {"reputation": 103, "user_id": 1958532, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/300fa4c8393ede187c968924da66235e?s=128&d=identicon&r=PG", "display_name": "user1958532", "link": "https://stackoverflow.com/users/1958532/user1958532"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1425044377, "post_id": 28766321, "comment_id": 45811718, "body": "I don&#39;t want to match the last two. Is that helpful?!"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1425044427, "post_id": 28766321, "comment_id": 45811757, "body": "How about <code>Foo [99]</code> ?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1425044502, "post_id": 28766321, "comment_id": 45811801, "body": "@user1958532 The <code>[?\\s\\&#47;]</code> part looks a bit suspicious as there are no question marks in any of the examples. What is it meant to achieve?"}, {"owner": {"reputation": 103, "user_id": 1958532, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/300fa4c8393ede187c968924da66235e?s=128&d=identicon&r=PG", "display_name": "user1958532", "link": "https://stackoverflow.com/users/1958532/user1958532"}, "edited": false, "score": 0, "creation_date": 1425044704, "post_id": 28766321, "comment_id": 45811926, "body": "isn&#39;t ? is to match 0 or 1 time? So I used to match a white space if there is one."}, {"owner": {"reputation": 103, "user_id": 1958532, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/300fa4c8393ede187c968924da66235e?s=128&d=identicon&r=PG", "display_name": "user1958532", "link": "https://stackoverflow.com/users/1958532/user1958532"}, "edited": false, "score": 0, "creation_date": 1425044743, "post_id": 28766321, "comment_id": 45811951, "body": "there wouldn&#39;t be a case with multiple digits within the square brackets."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1425045693, "post_id": 28766321, "comment_id": 45812539, "body": "@user1958532 Not when it&#39;s in a character class. <code>[?\\s\\&#47;]</code> means a question mark, a whitespace character or a slash. May I suggest you start with a regex tutorial?"}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 0, "last_activity_date": 1425045488, "creation_date": 1425045488, "answer_id": 28766800, "question_id": 28766321, "link": "https://stackoverflow.com/questions/28766321/match-with-different-types-of-words-regexp/28766800#28766800", "title": "match with different types of words -regexp", "body": "<p>Not sure I've really understood your needs, but how about:</p>\n\n<pre><code>use Modern::Perl;\n\nmy $re = qr~\\(?\\w+\\)?(?:[ /].+)~;\nwhile(&lt;DATA&gt;) {\n    chomp;\n    say /$re/ ? \"OK : $_\" : \"KO : $_\";\n}\n\n__DATA__\nESR/EXR\nESR [1]\n(ESR) [1]\n(ESR) [1] \nRARB [1]\nESR\n(ESR)\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>OK : ESR/EXR\nOK : ESR [1]\nOK : (ESR) [1]\nOK : (ESR) [1] \nOK : RARB [1]\nKO : ESR\nKO : (ESR)\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 1958532, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/300fa4c8393ede187c968924da66235e?s=128&d=identicon&r=PG", "display_name": "user1958532", "link": "https://stackoverflow.com/users/1958532/user1958532"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 28766800, "answer_count": 1, "score": -2, "last_activity_date": 1425046071, "creation_date": 1425043890, "last_edit_date": 1425046071, "question_id": 28766321, "link": "https://stackoverflow.com/questions/28766321/match-with-different-types-of-words-regexp", "title": "match with different types of words -regexp", "body": "<p>I have to have a regular expression that matches the following lines:</p>\n\n<pre><code>ESR/EXR\nESR [1]\n(ESR) [1]\n(ESR) [1] \nRARB [1]\n ESR [1] # Space before word\n</code></pre>\n\n<p>But not match:</p>\n\n<pre><code>ESR\n(ESR)\n</code></pre>\n\n<p>I have tried <code>(\\w+)[?\\s\\/]\\[\\w+\\]?\\s</code> and <code>^?\\((\\w+)?\\)[?\\s\\/]\\[\\w+\\]?\\s</code>, but I can't figure out a way to match all the case with one regexp.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["perl", "binary-search-tree"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1425043182, "post_id": 28765358, "comment_id": 45810967, "body": "<code>$self-&gt;{right} = Node-&gt;new({val =&gt; $val})</code> looks like the reason."}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1425045913, "post_id": 28765358, "comment_id": 45812689, "body": "To flesh out what @TLP wrote, you are storing <code>Node</code> objects in your tree, then you are retrieving a <code>Node</code> object and calling the <code>data</code> method on it.  So, putting the <code>data</code> method in the <code>Node</code> class seems like the correct solution.  Is there a reason you believe it should be in the tree class?"}, {"owner": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "edited": false, "score": 0, "creation_date": 1425047618, "post_id": 28765358, "comment_id": 45813714, "body": "only one reason , i can&#39;t pass the unit tests, &#39;Can&#39;t locate object method &quot;data&quot; via package &quot;BinarySearchTree&quot;.  The unit tests <a href=\"https://github.com/exercism/xperl5/blob/master/binary-search-tree/binary_search_tree.t\" rel=\"nofollow noreferrer\">github.com/exercism/xperl5/blob/master/binary-search-tree/&hellip;</a>"}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 1, "creation_date": 1425049923, "post_id": 28765358, "comment_id": 45815060, "body": "You have a design problem.  Trees are composed of nodes, but it is the nodes which contain all of the information.  You are attaching attributes to the tree (right,data) which belong in the node.  If the API requires that the tree object act like a node (i.e. return attributes associated with the root node), then you either need to delegate to the root node or dispense completely with the tree object and just use nodes."}, {"owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "edited": false, "score": 1, "creation_date": 1425050026, "post_id": 28765358, "comment_id": 45815123, "body": "In the Tree class&#39;s constructor you create a Node object, then bless it as a Tree object.  Why?"}, {"owner": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "edited": false, "score": 0, "creation_date": 1425202033, "post_id": 28765358, "comment_id": 45858890, "body": "Diab Jerius, thanks . i only needed a one class"}], "owner": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425042052, "creation_date": 1425040825, "last_edit_date": 1425042052, "question_id": 28765358, "link": "https://stackoverflow.com/questions/28765358/binary-search-tree-need-help-to-figure-out", "title": "Binary Search Tree , need help to figure out", "body": "<pre><code>{\n    package Node;\n    sub new{\n        my ($class, $data) = @_;\n        return bless $data, shift;\n    }\n}\n\n{\n    package BinarySearchTree;   \n    sub new{\n        my ($class, $val) = @_;\n        return bless Node-&gt;new({val =&gt; $val}), $class\n    }\n\n    sub right{\n        my $self = shift;\n        return $self-&gt;{right}\n    }\n\n    sub data{\n        my $self = shift;\n        return $self-&gt;{val}\n    }\n\n    sub insert{\n        my ($self, $val) = @_;\n        if ($val &gt; $self-&gt;{val}){\n            $self-&gt;{right} = Node-&gt;new({val =&gt; $val})\n        }elsif($val &lt; $self-&gt;{val}){\n            $self-&gt;{left} = Node-&gt;new({val =&gt; $val})\n        }\n    }\n}\n\n1;\n</code></pre>\n\n<p>When i use this package </p>\n\n<pre><code>my $t = BinarySearchTree-&gt;new(5);\n$t-&gt;insert(6);\nprint $t-&gt;right-&gt;data;\n</code></pre>\n\n<p>He gave me error\nCan locate method 'data' via package 'Node', if i  move method data to Node, they work fine. \nHow can i fix it , or rewrite this code .</p>\n"}, {"tags": ["perl", "session"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1425043405, "post_id": 28764637, "comment_id": 45811095, "body": "The only way that can happen is if you&#39;re running your perl script as root. But the simplest way of running commands as another user is via <code>su</code> or <code>sudo</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2198, "user_id": 1696825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iq0Ce.jpg?s=128&g=1", "display_name": "DT.", "link": "https://stackoverflow.com/users/1696825/dt"}, "edited": false, "score": 0, "creation_date": 1425148918, "post_id": 28770108, "comment_id": 45846997, "body": "Thanks for the above inputs."}], "tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": true, "score": 2, "last_activity_date": 1425055638, "creation_date": 1425055638, "answer_id": 28770108, "question_id": 28764637, "link": "https://stackoverflow.com/questions/28764637/call-a-perl-script-from-another-perl-script-with-specific-user-authentication/28770108#28770108", "title": "Call a perl script from another perl script with specific user authentication", "body": "<p>If your program is running as root, you can change the real (<code>$&lt;</code>) and effective (<code>$&gt;</code>) UIDs of the process at will. For your purpose, changing EUID is enough: </p>\n\n<pre><code>use v5.12;\n\nsay \"euid: $&gt;\";\nsystem('whoami');\n# switch user\n$&gt; = 1000; \nsay \"euid: $&gt;\";\nsystem('whoami');\n# switch back\n$&gt;=$&lt;; \nsay \"euid: $&gt;\";\nsystem('whoami');\n</code></pre>\n\n<p>Running that script as <code>root</code>:</p>\n\n<pre><code>$ sudo perl uidtest\neuid: 0\nroot\neuid: 1000\nben\neuid: 0\nroot\n</code></pre>\n"}], "owner": {"reputation": 2198, "user_id": 1696825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iq0Ce.jpg?s=128&g=1", "display_name": "DT.", "link": "https://stackoverflow.com/users/1696825/dt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 28770108, "answer_count": 1, "score": 1, "last_activity_date": 1425055638, "creation_date": 1425038370, "last_edit_date": 1425044617, "question_id": 28764637, "link": "https://stackoverflow.com/questions/28764637/call-a-perl-script-from-another-perl-script-with-specific-user-authentication", "title": "Call a perl script from another perl script with specific user authentication", "body": "<p>I have a system script as below to display stack detail </p>\n\n<pre><code>-r-xr-xr-x. 1 bin  bin    6560 Feb 17 21:01 displayPD\n[sufuser@101 bin]$ ./displayPD\n\nUsage: ./displayPD -n node\n</code></pre>\n\n<p>Note (this script cannot be run as root)</p>\n\n<p>I want to automate and call this in a script, which is also written with same user login.</p>\n\n<p>But when I call it from my script using <code>system</code> command as below it is called as a root and script fails to execute. how do I retain user session for execution ?</p>\n\n<pre><code>system(\"/opt/SMAW/SMAWsuf/bin/displayPD -n Node03 &gt;&gt; /tmp/HP_Details.txt\");\n</code></pre>\n\n<p>How can I call it as sufuser and get it executed?</p>\n"}]