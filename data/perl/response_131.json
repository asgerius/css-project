[{"tags": ["perl", "while-loop", "iteration", "parameter-passing"], "answers": [{"comments": [{"owner": {"reputation": 2572, "user_id": 2630028, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ddafbe2a8b6f8403f3d24482c9174f90?s=128&d=identicon&r=PG", "display_name": "solstice333", "link": "https://stackoverflow.com/users/2630028/solstice333"}, "edited": false, "score": 0, "creation_date": 1499905336, "post_id": 45069379, "comment_id": 77112140, "body": "They actually do mention in the <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perl doc for $_</a> that <code>while (&lt;&gt;)</code> is equivalent to <code>while (defined($_ = &lt;&gt;))</code>. But that&#39;s as far as the perldoc went. Wish they could&#39;ve mentioned that when the while loop scope closes, <code>$_</code> is not restored b.c. of the assignment....which I guess is pretty obvious now after reading your post then seeing the example they put up."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 2572, "user_id": 2630028, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ddafbe2a8b6f8403f3d24482c9174f90?s=128&d=identicon&r=PG", "display_name": "solstice333", "link": "https://stackoverflow.com/users/2630028/solstice333"}, "edited": false, "score": 0, "creation_date": 1499907219, "post_id": 45069379, "comment_id": 77112576, "body": "The thing is, every variable is topicalized when used in a <code>foreach</code> loop. With the <code>while</code>, no variable is. So, this is not specific to <code>$_</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1499912306, "post_id": 45069379, "comment_id": 77113744, "body": "No, you should be iterating over handles with <code>while (my $line = &lt;&gt;)</code>"}, {"owner": {"reputation": 2572, "user_id": 2630028, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ddafbe2a8b6f8403f3d24482c9174f90?s=128&d=identicon&r=PG", "display_name": "solstice333", "link": "https://stackoverflow.com/users/2630028/solstice333"}, "edited": false, "score": 1, "creation_date": 1499913461, "post_id": 45069379, "comment_id": 77113998, "body": "I was thinking of iterating handles from a Python perspective, so I brought up that I should use <code>for (&lt;&gt;)</code>. but if I was to do that in Perl I believe it loads up each line of the file into an in-memory list, then iterates over that list in the loop. But with <code>while (my $line = &lt;&gt;)</code> you only iterate once while saving memory (since you&#39;re not loading the contents in list context) and avoid corrupting $_."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1499907672, "last_edit_date": 1499907672, "creation_date": 1499904132, "answer_id": 45069379, "question_id": 45069344, "link": "https://stackoverflow.com/questions/45069344/perl-while-loop-doesnt-restore-the-default-input-argument/45069379#45069379", "title": "Perl while loop doesn&#39;t restore the default input argument $_", "body": "<p><code>perldoc perlsyn</code> says this about <code>foreach</code> loops:</p>\n\n<blockquote>\n  <p>Otherwise, the variable is implicitly local to the loop and regains its former value upon exiting the loop.</p>\n</blockquote>\n\n<p>whereas <code>while (&lt;&gt;)</code> <strong><em>assigns to</em></strong> <code>$_</code>, and does not make a similar guarantee.</p>\n\n<p><code>while (&lt;&gt;)</code> is the same as <code>while (defined($_ = &lt;&gt;))</code>.</p>\n\n<p>I do not know of any part of Perl's documentation that might have led someone to assume that <code>$_</code> would be topicalized to in a <code>while</code> loop.</p>\n\n<p>It is important to keep in mind that the behavior is not specific to <code>$_</code>. Every variable  is topicalized in a <code>foreach</code> loop, and none is in a <code>while</code> loop:</p>\n\n<pre><code>$ cat p1.pl\n#!/usr/bin/env perl\n\n$foo = 'bar';\n\nfor $foo (qw(one two three)) {\n    print \"$foo\\n\";\n}\n\nprint \"$foo\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ./p1.pl\none\ntwo\nthree\nbar\n</code></pre>\n\n<p>Compare that to:</p>\n\n<pre><code>$ cat p2.pl\n#!/usr/bin/env perl\n\n$foo = 'bar';\n\nwhile ($foo = &lt;&gt;) {\n    chomp $foo;\n    print \"'$foo'\\n\";\n}\n\nprint \"'$foo'\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ./p2.pl\none\n'one'\ntwo\n'two'\nthree\n'three'\n''\n</code></pre>\n\n<p>By the time the last print is reached, <code>$foo</code> is undefined because the <code>while</code> loop was terminated following the assignment of an undefined value to <code>$foo</code>.</p>\n"}], "owner": {"reputation": 2572, "user_id": 2630028, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ddafbe2a8b6f8403f3d24482c9174f90?s=128&d=identicon&r=PG", "display_name": "solstice333", "link": "https://stackoverflow.com/users/2630028/solstice333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 45069379, "answer_count": 1, "score": 1, "last_activity_date": 1499907672, "creation_date": 1499903908, "last_edit_date": 1499906123, "question_id": 45069344, "link": "https://stackoverflow.com/questions/45069344/perl-while-loop-doesnt-restore-the-default-input-argument", "title": "Perl while loop doesn&#39;t restore the default input argument $_", "body": "<p>As the title says, I'm running into a case where $_ is NOT restored after iteration. For instance, piping an <code>echo foo</code> to the below...</p>\n\n<pre><code>$_ = 'bar';\nprint \"$_\\n\";\nwhile (&lt;&gt;) {\n    chomp();\n    print \"$_\\n\";\n}\nprint \"$_\\n\";\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>bar\nfoo\n</code></pre>\n\n<p>but I expected</p>\n\n<pre><code>bar\nfoo\nbar\n</code></pre>\n\n<p>Why is <code>$_</code> not restored back to what it was in the parent scope?</p>\n\n<p>I did read <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlvar.html</a>, and at first, it wasn't clear why this was the case even after seeing the example.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 6, "creation_date": 1499885633, "post_id": 45065397, "comment_id": 77104303, "body": "In list context, <code>map</code> and <code>grep</code> produce lists, but <code>shift</code>/<code>unshift</code> and <code>push</code>/<code>pop</code> operate on arrays. Lists and arrays are not the same thing in Perl. You should be less worried about trying to do everything in one line, and more worried about writing code that&#39;s correct."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1499890395, "post_id": 45065397, "comment_id": 77106743, "body": "@MattJacob I thought that was a good answer to the question"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499891169, "post_id": 45065397, "comment_id": 77107093, "body": "A good link from a (good but deleted?) answer by Matt Jacob: <a href=\"https://stackoverflow.com/questions/14001741/what-is-the-difference-between-lists-and-arrays\">list vs array</a>"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 7, "last_activity_date": 1499896600, "last_edit_date": 1499896600, "creation_date": 1499885732, "answer_id": 45065543, "question_id": 45065397, "link": "https://stackoverflow.com/questions/45065397/why-pop-shift-not-work-with-map-grep-in-perl/45065543#45065543", "title": "why pop/shift not work with map/grep in perl", "body": "<pre><code>map{10* $_ } @arr\n</code></pre>\n\n<p>produces a list whose elements are corresponding elements of <code>@arr</code> multiplied by <code>10</code>. It <strong>does not</strong> produce an array. Therefore, you cannot <code>pop</code> anything out of it. You can access the last element though:</p>\n\n<pre><code>(map 10 * $_, @arr)[-1]\n</code></pre>\n\n<p>However, the map does not change <code>@arr</code>. If you want to do that,</p>\n\n<pre><code> $_ *= 10 for @arr;\n</code></pre>\n\n<p>is more appropriate than <code>map</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 3, "last_activity_date": 1499885819, "creation_date": 1499885819, "answer_id": 45065566, "question_id": 45065397, "link": "https://stackoverflow.com/questions/45065397/why-pop-shift-not-work-with-map-grep-in-perl/45065566#45065566", "title": "why pop/shift not work with map/grep in perl", "body": "<p>In list context, <code>map</code> and <code>grep</code> produce lists, but <code>shift</code>/<code>unshift</code> and <code>push</code>/<code>pop</code> operate on arrays. <a href=\"https://stackoverflow.com/questions/14001741/what-is-the-difference-between-lists-and-arrays\">Lists and arrays are not the same thing in Perl</a>. You should be less worried about trying to do everything in one line, and more worried about writing code that's correct.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499894580, "post_id": 45065608, "comment_id": 77108752, "body": "Seems the OP wants to be able to do both as they mention both first and last, and shift and pop. I adjusted the OP to make that clear."}], "tags": [], "owner": {"reputation": 309, "user_id": 8277195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1b7f75532436a03353b9af3e9c7e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Fritz", "link": "https://stackoverflow.com/users/8277195/fritz"}, "is_accepted": false, "score": 1, "last_activity_date": 1499885994, "creation_date": 1499885994, "answer_id": 45065608, "question_id": 45065397, "link": "https://stackoverflow.com/questions/45065397/why-pop-shift-not-work-with-map-grep-in-perl/45065608#45065608", "title": "why pop/shift not work with map/grep in perl", "body": "<p>First or last? For first you can use</p>\n\n<pre><code>    use strict;\n    use warnings;\n    my @arr = (1,2,3,4);\n    my ($ele) = map{10* $_ } @arr;\n    print \"\\n element is $ele\\n\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1499926120, "last_edit_date": 1499926120, "creation_date": 1499887336, "answer_id": 45065956, "question_id": 45065397, "link": "https://stackoverflow.com/questions/45065397/why-pop-shift-not-work-with-map-grep-in-perl/45065956#45065956", "title": "why pop/shift not work with map/grep in perl", "body": "<p>The first argument to <code>shift</code> and <code>pop</code> must be an array (<code>@NAME</code> or <code>@BLOCK</code>), not a <code>map</code> or <code>grep</code> operator (which have nothing to do with arrays).</p>\n\n<p>You could build an array from which to <code>shift</code>/<code>pop</code>.</p>\n\n<pre><code>my $first_ele = shift @{ [ map { 10 * $_ } @arr ] };           # If you want first\nmy $last_ele  = pop   @{ [ map { 10 * $_ } @arr ] };           # If you want last\n</code></pre>\n\n<p>But that's very wasteful. You could avoid the array creation by using a list assignment or a list slice.</p>\n\n<pre><code>my ($first_ele) = map { 10 * $_ } @arr;                        # If you want first\nmy $first_ele = ( map { 10 * $_ } @arr )[0];                   # If you want first\nmy $last_ele  = ( map { 10 * $_ } @arr )[-1];                  # If you want last\nmy ($first_ele, $last_ele) = ( map { 10 * $_ } @arr )[0, -1];  # If you want both\n</code></pre>\n\n<p>But that's still wasteful. There's no need to multiply all the elements when you only want the product of last one. The following makes far more sense:</p>\n\n<pre><code>my $first_ele = 10 * $arr[0];                                  # If you want first\nmy $last_ele  = 10 * $arr[-1];                                 # If you want last\nmy ($first_ele, $last_ele) = map { 10 * $_ } @arr[0, -1];      # If you want both\n</code></pre>\n"}], "owner": {"reputation": 497, "user_id": 3384373, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/41328490fc7a1482e26b5e2561384ad3?s=128&d=identicon&r=PG&f=1", "display_name": "Ameyj", "link": "https://stackoverflow.com/users/3384373/ameyj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 1, "accepted_answer_id": 45065543, "answer_count": 4, "score": 2, "last_activity_date": 1499926120, "creation_date": 1499885153, "last_edit_date": 1499888026, "question_id": 45065397, "link": "https://stackoverflow.com/questions/45065397/why-pop-shift-not-work-with-map-grep-in-perl", "title": "why pop/shift not work with map/grep in perl", "body": "<p>I want to get first or last element after <code>map</code> and <code>grep</code> operations\nover array. Using <code>shift</code> and <code>pop</code> operators with <code>map</code> and <code>grep</code> \ndoes not seem to work. Any suggestions? It works if I save result from <code>map</code>\ninto array variable and do pop on that but I want to do that in one line. </p>\n\n<pre><code>:$ cat map.pl \nuse strict;\nuse warnings;\nmy @arr = (1,2,3,4);\nmy $ele = pop ( map{10* $_ } @arr ) ;\nprint \"\\n element is $ele\";\n:$ perl map.pl\nNot an ARRAY reference at map.pl line 4.\n</code></pre>\n"}, {"tags": ["list", "perl", "hash"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1499884472, "post_id": 45064730, "comment_id": 77103653, "body": "You can also do: <code>my %h = map {$_ =&gt; 1} @list, 99, 107, @list2, @list3;</code>. Essentially, <code>map</code> takes a list, and what that does is squish all of your items into a larger list."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 5376182, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206090505395883/picture?type=large", "display_name": "vp8", "link": "https://stackoverflow.com/users/5376182/vp8"}, "edited": false, "score": 0, "creation_date": 1499884508, "post_id": 45064849, "comment_id": 77103671, "body": "I wanted to initialize new keys to a fixed value. I did the following and it worked - <code>@hash{ @more_keys } = 1</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 153, "user_id": 5376182, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206090505395883/picture?type=large", "display_name": "vp8", "link": "https://stackoverflow.com/users/5376182/vp8"}, "edited": false, "score": 0, "creation_date": 1499884888, "post_id": 45064849, "comment_id": 77103884, "body": "@vp8  Does <code>@more_keys</code> have more than one element? That assigns a single value to a list and so it should only assign to the first element of the list and truncate the rest."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1499886033, "post_id": 45064849, "comment_id": 77104524, "body": "@zdim not truncated, just assigns undef as the value for all the added keys but the first"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1499886234, "post_id": 45064849, "comment_id": 77104641, "body": "@ysth  Yes, thank you -- I meant that for an existing list in general, when assigned a single value it ends up with just one element with that value.  But here all keys <i>are</i> added so the others stay (and <code>undef</code>).  Thank you for correction"}, {"owner": {"reputation": 153, "user_id": 5376182, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206090505395883/picture?type=large", "display_name": "vp8", "link": "https://stackoverflow.com/users/5376182/vp8"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1499888199, "post_id": 45064849, "comment_id": 77105632, "body": "@zdim you are right! I ended up having <code>undef</code> for other keys. Thanks @zdim and @ysth !"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 153, "user_id": 5376182, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206090505395883/picture?type=large", "display_name": "vp8", "link": "https://stackoverflow.com/users/5376182/vp8"}, "edited": false, "score": 0, "creation_date": 1499890162, "post_id": 45064849, "comment_id": 77106626, "body": "@vp8 Good that you mentioned it!  It saves a bug in the future, when there are more than one key being added. (To correct a slip-up in my comment regarding a general case: a value can be assigned to <i>an array</i>, not to a &quot;list&quot; as I wrote. It&#39;s more complicated in the situtation at hand with a hash, but my first comment on that was about truncating an independent array to one element.)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1499933776, "last_edit_date": 1499933776, "creation_date": 1499883148, "answer_id": 45064849, "question_id": 45064730, "link": "https://stackoverflow.com/questions/45064730/how-to-update-hash-by-adding-keys-from-the-list-in-perl/45064849#45064849", "title": "How to update hash by adding keys from the list in perl", "body": "<p>With <code>%hash</code>  declared you may use <code>@hash{LIST}</code>, with existing or new keys in <code>LIST</code></p>\n\n<pre><code>@hash{ @more_keys } = @values_for_new_keys;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">Slices in perldata</a></p>\n\n<hr>\n\n<p>If you meant to initiliaze the new keys to a fixed value, you can do for example</p>\n\n<pre><code>@hash { @more_keys } = (1) x @more_keys;\n</code></pre>\n\n<p>where <code>(1) x N</code> returns a list of <code>1</code>s of length <code>N</code>, and <code>@more_keys</code> in scalar context returns its length.</p>\n"}], "owner": {"reputation": 153, "user_id": 5376182, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206090505395883/picture?type=large", "display_name": "vp8", "link": "https://stackoverflow.com/users/5376182/vp8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 45064849, "answer_count": 1, "score": 1, "last_activity_date": 1499933776, "creation_date": 1499882645, "question_id": 45064730, "link": "https://stackoverflow.com/questions/45064730/how-to-update-hash-by-adding-keys-from-the-list-in-perl", "title": "How to update hash by adding keys from the list in perl", "body": "<p>Adding a set of keys when declaring a hash is straightforward as -</p>\n\n<pre><code>my %hash = map { $_ =&gt; 1 } @list;\n</code></pre>\n\n<p>If I want to add more keys from another list, how can I achieve that with single line?</p>\n"}, {"tags": ["perl", "moose", "moo"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1499878628, "post_id": 45063329, "comment_id": 77100381, "body": "That is not the only role of roles (no pun intended.) For example, <a href=\"https://www.nu42.com/2010/07/beauty-of-moose-enforcing-interface.html\" rel=\"nofollow noreferrer\"><code>requires</code></a> can come in handy. If you don&#39;t buy in to the sugar these modules provide, SO is not the place to have a debate about it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1499879520, "post_id": 45063329, "comment_id": 77100816, "body": "Given how it&#39;s called the only place to go to is the package (class).  Then you look for <code>with</code> there and see the role&#39;s package name.  It shouldn&#39;t be much of a problem?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1499880135, "post_id": 45063329, "comment_id": 77101147, "body": "Given your snippet, let me say this just in case -- roles are used with a class and are absorbed by it (see <a href=\"https://stackoverflow.com/a/42465412/4653379\">this post</a> for example).  Then locating the method shouldn&#39;t be a problem."}], "answers": [{"comments": [{"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 0, "creation_date": 1503696604, "post_id": 45065535, "comment_id": 78738797, "body": "Are there tools to automate the locating of the &quot;source&quot; of a method?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 0, "creation_date": 1503721969, "post_id": 45065535, "comment_id": 78743009, "body": "@Ed. Can you be more specific? Are you talking about introspection on an object to tell which method code cone from what file and line?"}, {"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 0, "creation_date": 1503727002, "post_id": 45065535, "comment_id": 78743931, "body": "I guess yes, or at least from which class?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 1, "creation_date": 1503727097, "post_id": 45065535, "comment_id": 78743946, "body": "@Ed. For what purpose? When you have an object you can inspect it for methods."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1499885706, "creation_date": 1499885706, "answer_id": 45065535, "question_id": 45063329, "link": "https://stackoverflow.com/questions/45063329/roles-and-code-readability/45065535#45065535", "title": "roles and code readability", "body": "<p>The only thing I can think of, and that I do once in a while, is to document everything thoroughly with <a href=\"http://perldoc.perl.org/perlpod.html\" rel=\"nofollow noreferrer\">POD</a>. But of course that requires <em>a lot</em> of discipline. </p>\n\n<pre><code>use Moo;\nwith 'Role::Reader', 'Role::Writer';\n\n# ...\n\n=head1 METHODS\n\n=head2 frobnicate\n\nFrobnicates the foo.\n\n=cut\n\nsub frobnicate { ... }\n\n=head2 write_cheque\n\nThis method is documented in L&lt;Role::Writer&gt;.\n\n=head2 write_autograph\n\nThis method is documented in L&lt;Role::Writer&gt;.\n\n=head2 read_mind\n\nThis method is documented in L&lt;Role::Reader&gt;.\n\n=head2 read_book\n\nThis method is documented in L&lt;Role::Reader&gt;.\n\n=cut\n\n1; \n</code></pre>\n"}], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499885706, "creation_date": 1499877579, "question_id": 45063329, "link": "https://stackoverflow.com/questions/45063329/roles-and-code-readability", "title": "roles and code readability", "body": "<p>The improvement of using roles (Moo::Role or Role::Tiny or whatever)</p>\n\n<pre><code>with qw(\n    Some::Role\n    Some::Other::Role\n);\n...\nsome_roles_method();\n</code></pre>\n\n<p>over just explicitly importing the function from the mixin class</p>\n\n<pre><code>use Some::Role qw/some_roles_method/;\n...\nsome_roles_method();\n</code></pre>\n\n<p>are numerous, and include added flexibility, less bookkeeping (especially if there are a lot of methods being imported), and not overwriting existing methods.</p>\n\n<p>But a big drawback is if you're reading the code and come across mentions of <code>some_roles_method()</code> and you want to read the function, it's not immediately apparent where to go. All you can tell is that it's not defined in <em>this</em> file.</p>\n\n<p>Are there any good strategies for handling that? Am I the only one that bothers?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1499876054, "post_id": 45062853, "comment_id": 77099013, "body": "Also, <code>my @arr3 = [\\@arr1,\\@arr2];</code> in this code produces an array whose first element is a reference to an array whose first element is a reference to an array whose first element is a reference to an array that might actually contain something useful."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1499878636, "last_edit_date": 1499878636, "creation_date": 1499875894, "answer_id": 45062853, "question_id": 45062740, "link": "https://stackoverflow.com/questions/45062740/perl-reference-not-printing-the-expected-value/45062853#45062853", "title": "Perl reference not printing the expected value", "body": "<p>Because the values are <strong>array references</strong>. To print the inner values, use dereference:</p>\n\n<pre><code>print @{ $array_ref };\n</code></pre>\n\n<p>For complex structures (arrays of arrays), you can use <a href=\"http://p3rl.org/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a>:</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper($array_ref);\n</code></pre>\n\n<p>But it still wouldn't work. You can't assign to several arrays at once. The first array gets all the values, the remaining arrays stay empty.</p>\n\n<p>Documented in <a href=\"http://p3rl.org/perlsub\" rel=\"nofollow noreferrer\">perlsub</a>:</p>\n\n<blockquote>\n  <p>Do not, however, be tempted to do this:</p>\n\n<pre><code>    (@a, @b)   = upcase(@list1, @list2);\n</code></pre>\n  \n  <p>Like the flattened incoming parameter list, the return list is also\n      flattened on return. So all you have managed to do here is stored\n      everything in @a and made @b empty.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1499882129, "last_edit_date": 1499882129, "creation_date": 1499876571, "answer_id": 45063036, "question_id": 45062740, "link": "https://stackoverflow.com/questions/45062740/perl-reference-not-printing-the-expected-value/45063036#45063036", "title": "Perl reference not printing the expected value", "body": "<p>First of all, you weren't assigning anything to <code>@arr2</code>. You used something like the following to try to assign to <code>@arr2</code>:</p>\n\n<pre><code>(@arr1, @arr2) = ...;\n</code></pre>\n\n<p>However, Perl has no way to know how many scalars to assign to <code>@arr1</code> and how many to assign to <code>@arr2</code>, so it assigns them all to <code>@arr1</code>. Use two different assignments instead.</p>\n\n<hr>\n\n<p>Secondly, <code>[ ]</code> creates an array and <em>returns a reference to it</em>, so</p>\n\n<pre><code>my @arr1 = [1,1,1,2,3,4];\n</code></pre>\n\n<p>assigns a single scalar (a reference) to <code>@arr1</code>. This is what you are printing. You want</p>\n\n<pre><code>my @arr1 = (1,1,1,2,3,4);\n</code></pre>\n\n<p>Same goes for <code>@arr2</code> and <code>@arr3</code>.</p>\n\n<hr>\n\n<p>Therefore, your code should be</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nmy @arr1 = (1,1,1,2,3,4);\nmy @arr2 = (5,5,5,6,9,87);\nmy @arr3 = (\\@arr1,\\@arr2);\nfor (@arr3) {\n   say join \", \", @$_;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nmy @arr3 = ([1,1,1,2,3,4],[5,5,5,6,9,87]);\nfor (@arr3) {\n   say join \", \", @$_;\n}\n</code></pre>\n"}], "owner": {"reputation": 373, "user_id": 7893584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23f449e8064a7eae5bc603622c5a4a36?s=128&d=identicon&r=PG&f=1", "display_name": "k.lo", "link": "https://stackoverflow.com/users/7893584/k-lo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 45063036, "answer_count": 2, "score": 0, "last_activity_date": 1499882129, "creation_date": 1499875544, "question_id": 45062740, "link": "https://stackoverflow.com/questions/45062740/perl-reference-not-printing-the-expected-value", "title": "Perl reference not printing the expected value", "body": "<p>This is my program but why not it is printing my array values instead.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy (@arr1,@arr2) = ([1,1,1,2,3,4],[5,5,5,6,9,87]);\nmy @arr3 = [\\@arr1,\\@arr2];\nforeach (@arr3){\n    foreach (@$_){\n       print $_;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<p><code>ARRAY(0x556414c6b908)ARRAY(0x556414c6b7e8)</code></p>\n\n<p>but why not it is printing my array values instead.</p>\n"}, {"tags": ["c", "perl", "winapi"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "edited": false, "score": 1, "creation_date": 1499867852, "post_id": 45059300, "comment_id": 77092847, "body": "try <code>WINAPI</code> or <code>__stdcall</code> in the definition of your C function"}], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1499876833, "post_id": 45060797, "comment_id": 77099430, "body": "When no calling convention is specified in the C code, the compiler&#39;s default convention is used, which is <i>usually</i> <code>cdecl</code>, but may be something else, depending on the user&#39;s compiler setup. So you can&#39;t always assume <code>cdecl</code>, unless you never change the default."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499880395, "post_id": 45060797, "comment_id": 77101281, "body": "@ikegami thanks for the edit, I&#39;m not familiar with <code>Win32::API</code> and so didn&#39;t know it supports <code>cdecl</code> as well."}, {"owner": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1499937461, "post_id": 45060797, "comment_id": 77125137, "body": "@FelixPalmen Thanks. _cdecl worked. But i am getting same error even when i use _cdecl. WE cant use WINAPI as this is windows dll.Below is the code <code>my $CreateProcess =  new Win32::API(&quot;kernel32.dll&quot;, &quot;CreateProcess&quot;,       [ &#39;P&#39;, &#39;P&#39;, &#39;P&#39;, &#39;P&#39;, &#39;N&#39;, &#39;N&#39;, &#39;P&#39;, &#39;P&#39;, &#39;P&#39;, &#39;P&#39; ], &#39;N&#39;);     $rc = $CreateProcess-&gt;Call($dbengineCodeFile, $cmdLine, 0, 0, 0,         NORMAL_PRIORITY_CLASS, 0, &quot;.&quot;, $startInfo, $procInfo);</code> any suggestion for this?"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1499937875, "post_id": 45060797, "comment_id": 77125451, "body": "Also worth noting: When targeting 64-bit, there is only a single calling convention. Thus, the issue auto-magically disappears, when writing 64-bit code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1499937938, "post_id": 45060797, "comment_id": 77125507, "body": "@Prateek I really <b>don&#39;t</b> understand this comment, especially &quot;<i>WE cant use WINAPI as this is windows dll</i>&quot; ..."}, {"owner": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1499939888, "post_id": 45060797, "comment_id": 77126966, "body": "@FelixPalmen I mean that we dont have that code to change the method CreateProcess and create the dll."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1499939940, "post_id": 45060797, "comment_id": 77127017, "body": "@Prateek <code>CreateProcess</code> <b>is</b> a WINAPI call, so it already uses <code>stdcall</code> calling convention."}, {"owner": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1499940498, "post_id": 45060797, "comment_id": 77127465, "body": "@FelixPalmen yes correct, but i am still getting <b>Win32::API a function was called with the wrong prototype and caused a C stack consistency EBP=18fde0 ESP=18fdd0</b> for this call"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1499940658, "post_id": 45060797, "comment_id": 77127598, "body": "@Prateek in this case, your prototype <b>is</b> wrong. (Note that <code>BOOL</code> is a typedef to <code>int</code>, not to <code>long</code>, so according to <a href=\"http://search.cpan.org/~acalpini/Win32-API-0.41/API.pm\" rel=\"nofollow noreferrer\"><code>Win32::API</code> docs</a>, you should be using <code>&#39;I&#39;</code> instead of <code>&#39;N&#39;</code>, but I guess there must be another problem)"}, {"owner": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1500027167, "post_id": 45060797, "comment_id": 77171994, "body": "@FelixPalmen Changed to <code>&#39;I&#39;</code> . didnt work. Got same error"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "reply_to_user": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1500031705, "post_id": 45060797, "comment_id": 77174638, "body": "@Prateek this was just an example and I already doubted it&#39;s the reason. Something apart from the snippet you show in your comment must still be wrong. Again, according to the docs, you should only write <code>kernel32</code>, not <code>kernel32.dll</code>, but this probably isn&#39;t the cause either."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2371524"}, "is_accepted": false, "score": 5, "last_activity_date": 1499882860, "last_edit_date": 1499882860, "creation_date": 1499870407, "answer_id": 45060797, "question_id": 45059300, "link": "https://stackoverflow.com/questions/45059300/win32api-giving-wrong-prototype-error/45060797#45060797", "title": "Win32::API giving wrong prototype error", "body": "<p>On Windows, you have different <em>calling conventions</em>. One key difference is who cleans up the stack space occupied by parameters and return value after a function is called. The standard calling convention used in C (and commonly called <code>cdecl</code>) leaves this work to the <em>caller</em>.</p>\n\n<p>The Windows API functions use a different calling convention, named by Microsoft as <code>stdcall</code>. In this convention, the <em>callee</em> has the responsibility to cleanup the stack. As the perl module <code>Win32::API</code> is designed to call Windows API functions, this is the calling convention it uses by default.</p>\n\n<p>The message you get supports this: <code>EBP=18fde0</code> and <code>ESP=18fdd0</code> are exactly 16 bytes apart from each other, that's the size of your function arguments plus the return value. As your function declaration doesn't have any attribute denoting a calling convention, it uses <code>cdecl</code>, so it doesn't do any stack cleanup at all, but <code>Win32::API</code> expected it to do.</p>\n\n<p>One solution is to notify <code>Win32::API</code> of the calling convention.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>Win32::API-&gt;new($dllfile, \"CheckSqlAnyWindow\", [ 'N', 'P', 'P' ], 'N', '__cdecl');\n</code></pre>\n\n<p>The other solution is change your library to use the <code>stdcall</code> convention.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>BOOL __stdcall CheckSqlAnyWindow(DWORD pid, char *winTitle, DWORD * hwnd)\n</code></pre>\n\n<p>Note that <code>__stdcall</code> is the notation adopted by MSVC, GCC, clang, probably some other compilers as well. Other compilers <em>might</em> use a different syntax for declaring a function as <code>stdcall</code>. You can avoid the whole issue by using the following since you include <code>windows.h</code>:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>BOOL WINAPI CheckSqlAnyWindow(DWORD pid, char *winTitle, DWORD * hwnd)\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499882860, "creation_date": 1499866670, "last_edit_date": 1499882778, "question_id": 45059300, "link": "https://stackoverflow.com/questions/45059300/win32api-giving-wrong-prototype-error", "title": "Win32::API giving wrong prototype error", "body": "<p>Facing </p>\n\n<blockquote>\n  <p>Win32::API a function was called with the wrong prototype and caused a C stack consistency EBP=18fde0 ESP=18fdd0</p>\n</blockquote>\n\n<p>Below are the perl and C code </p>\n\n<pre><code>my $CheckSqlAnyWindow = new Win32::API($dllfile,\n                   \"CheckSqlAnyWindow\", [ 'N', 'P', 'P' ], 'N');\n    my $hwndSqlany = pack(\"L\", 0);\n    my ($i, $sqlanyWinId);\n    START:\n    for ($i = 0; $i &lt; $numRetries; $i++) \n    {\n\n        $rc = $CheckSqlAnyWindow-&gt;Call($procId,\"$engine - Adaptive Server Anywhere - 12.0.1 (3817)\", $hwndSqlany);\n        if ($rc &lt;= 0)\n        {\n                $Cisco::DbUtils::errstr =  Win32::FormatMessage( Win32::GetLastError());\n                return 1;\n        }\n}\n</code></pre>\n\n<p>c Code</p>\n\n<pre><code>BOOL CheckSqlAnyWindow(DWORD pid, char *winTitle, DWORD * hwnd)\n{\n    StartDbInfo startDbBuf;\n    BOOL rc;\n\n    startDbBuf.pid = pid;\n    startDbBuf.hwnd = NULL;\n    strcpy(startDbBuf.winTitle, winTitle);\n\n    rc = EnumWindows((WNDENUMPROC) getWindowId, (LPARAM) &amp;startDbBuf);\n    memcpy((DWORD *) hwnd, (DWORD *) &amp;startDbBuf.hwnd, sizeof(DWORD));\n    return (TRUE);\n}\n</code></pre>\n\n<p>Can anyone point out the correction to be done here please?</p>\n"}, {"tags": ["regex", "perl", "date"], "comments": [{"owner": {"reputation": 4128, "user_id": 4607733, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc604aa16e5409668cc4fd1f2f0c01e2?s=128&d=identicon&r=PG&f=1", "display_name": "horcrux", "link": "https://stackoverflow.com/users/4607733/horcrux"}, "edited": false, "score": 0, "creation_date": 1499866203, "post_id": 45059057, "comment_id": 77091553, "body": "First please start reading <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>. What have you tried til now?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1499871716, "post_id": 45059057, "comment_id": 77095895, "body": "@ssr1012: Your link to the TT2 documentation doesn&#39;t seem particularly useful in this case. And the Tutorials Point Perl tutorial is well-known to be terrible (for example, in this case, it gets through a whole page about dates and times without once mentioning Time::Piece or DateTime). Please don&#39;t link to it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1500563721, "post_id": 45059057, "comment_id": 77403868, "body": "@ssr1012: And yet, a week later those links are still there :-("}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1499871069, "post_id": 45059511, "comment_id": 77095368, "body": "Regexp::Common regexes are not anchored; you should make it <code>m&#47;^$RE{time}{iso}\\z&#47;</code>"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1499883339, "post_id": 45059511, "comment_id": 77103045, "body": "Good point - changed  the answer to reflect your comment. Thanks."}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": true, "score": 3, "last_activity_date": 1499883359, "last_edit_date": 1499883359, "creation_date": 1499867214, "answer_id": 45059511, "question_id": 45059057, "link": "https://stackoverflow.com/questions/45059057/regex-for-checking-date-format-in-perl/45059511#45059511", "title": "Regex for checking date format in perl", "body": "<p>You could try the module <a href=\"https://metacpan.org/pod/Regexp::Common::time\" rel=\"nofollow noreferrer\"><code>Regexp::Common::time</code></a>.</p>\n\n<pre><code>use Regexp::Common qw(time);                           \nmy $str = \"2017-07-12 14:41:56.784\";                   \nprint \"Time Gentlemen\" if $str =~ m/^$RE{time}{iso}\\z/ ;\n</code></pre>\n\n<p>The <a href=\"https://metacpan.org/pod/Regexp::Common\" rel=\"nofollow noreferrer\"><code>Regexp::Common</code></a> modules make using regular expressions for all kinds of things much easier and potentially less error prone. It <em>is</em> helpful to bear in mind JWZ's infamous <a href=\"https://en.wikiquote.org/wiki/Jamie_Zawinski\" rel=\"nofollow noreferrer\"><em>caveat</em></a> regarding regular expressions - but using perl and <code>Regexp::Common</code> allows one to keep calm and carry on. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8296321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d19f0825e429a67419900f655f15b04e?s=128&d=identicon&r=PG&f=1", "display_name": "Raps", "link": "https://stackoverflow.com/users/8296321/raps"}, "is_accepted": false, "score": 0, "last_activity_date": 1499869762, "last_edit_date": 1499869762, "creation_date": 1499869081, "answer_id": 45060252, "question_id": 45059057, "link": "https://stackoverflow.com/questions/45059057/regex-for-checking-date-format-in-perl/45060252#45060252", "title": "Regex for checking date format in perl", "body": "<p>No need to include any module,\nTo match any <strong>datetime</strong> like this: <code>2017-07-12 14:41:56.784</code></p>\n\n<p>For example <code>\"2017-07-12 14:41:56.784\"</code></p>\n\n<pre><code>$str=\"2017-07-12 14:41:56.784\"; \nif($str =~ /[1-9]{1}[0-9]{3}\\-[0-9]{2}\\-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}\\.[0-9]{3}/)\n{\n    print \"match found\";\n}\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 5117137, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/745887e0165f04631e0cc59658f17505?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Szczepanik", "link": "https://stackoverflow.com/users/5117137/piotr-szczepanik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 1, "accepted_answer_id": 45059511, "answer_count": 2, "score": 1, "last_activity_date": 1499883359, "creation_date": 1499866112, "question_id": 45059057, "link": "https://stackoverflow.com/questions/45059057/regex-for-checking-date-format-in-perl", "title": "Regex for checking date format in perl", "body": "<p>I have a problem with creating regex for checking date which looks like this:</p>\n\n<h1>2017-07-12 14:41:56.784</h1>\n\n<p>I need to create it in perl but it's completly new for me. Any suggestions how to write it and how to use it with \"IF\" condition ?</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1499864904, "post_id": 45058421, "comment_id": 77090518, "body": "Please post some sample data also, along with expected output."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1499866575, "post_id": 45058421, "comment_id": 77091843, "body": "Just saying &quot;It doesn&#39;t work&quot; doesn&#39;t give us enough to work with - describe in detail what isn&#39;t working and what you expect it to do."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499881284, "post_id": 45058421, "comment_id": 77101837, "body": "The <code>while (&lt;&gt;)</code> loop in the beginning takes all STDIN that you type at a keyboard. Once you exit that (Ctrl-C or so) the program quits so you never get to the main part. Comment out (or remove) that whole <code>while (&lt;&gt;) {...}</code> and it works. Or use the simpler approach in the answer by Dave Sherohman."}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1499940032, "post_id": 45058421, "comment_id": 77127093, "body": "The data has spaces, I don&#39;t know how to incorporate that.When I paste it in it looks like a jumbled mess. I will give it a try though..."}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1499940299, "post_id": 45058421, "comment_id": 77127303, "body": "&gt;hsa_circ_0067224|chr3:128345575-128345675-|NM_002950|RPN1  FORWARD -4.4       6 ..      17   xxxxxxxxxxGTGAC                CAGT ATGC ACTG                 AAGATGAGGTTTGTG -0.9       5 ..      18   xxxxxxxxxxxGTGA               CCAGT ATGC ACTGA                AGATGAGGTTTGTGG None       1 ..      20   xxxxxxxxxxxxxxx             GTGACCAGTATGCACTGAAG              ATGAGGTTTGTGGAC None       2 ..      21   xxxxxxxxxxxxxxG             TGACCAGTATGCACTGAAGA              TGAGGTTTGTGGACC None       3 ..      22   xxxxxxxxxxxxxGT             GACCAGTATGCACTGAAGAT              GAGGTTTGTGGACCA"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1499954151, "post_id": 45058421, "comment_id": 77138087, "body": "If you edit the question and paste the data in as a code section (the same as your Perl code), the line breaks should be preserved instead of it turning into a mess. If you also update the question with your desired output, I can modify the example code in my answer to work properly with your actual data format."}, {"owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "edited": false, "score": 0, "creation_date": 1500026253, "post_id": 45058421, "comment_id": 77171428, "body": "Okay, I&#39;ll do that. Getting used to Stack, I&#39;ll get there soon. Apologies for late reply."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499881360, "post_id": 45058696, "comment_id": 77101883, "body": "(Not that it matters at all, but they want to keep the numbers greater than..)"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499929778, "post_id": 45058696, "comment_id": 77119859, "body": "@zdim - I went by the English description of their intent and completely missed that the code does the opposite. Ah, well. I&#39;ll leave it as-is because, as you said, it doesn&#39;t affect the answer in any substantive way."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1499933456, "post_id": 45058696, "comment_id": 77122384, "body": "Yes, it tripped me, too -- I only realized when I checked (that it is only that first <code>while</code> in) their code, with your data (thank you :).  That&#39;s the only reason I commented, just to inform. I wouldn&#39;t change this good answer either.  Btw, I really like the &quot;<i>3 and a bit</i>&quot; for this purpose :)"}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 3, "last_activity_date": 1499865215, "creation_date": 1499865215, "answer_id": 45058696, "question_id": 45058421, "link": "https://stackoverflow.com/questions/45058421/is-it-possible-to-filter-a-text-file-for-real-numbers-using-grep-function/45058696#45058696", "title": "Is it possible to filter a text file for Real numbers using grep function?", "body": "<p>Yes. The Perl <code>grep</code> function can filter based on any arbitrary conditional, not just regexes:</p>\n\n<pre><code>#!/usr/bin/env perl    \n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Scalar::Util 'looks_like_number';\n\nmy @lines = &lt;DATA&gt;;\n\nmy @small_numbers = grep { looks_like_number($_) &amp;&amp; $_ &lt; 3.1416 } @lines;\n\nprint for @small_numbers;\n\n__DATA__\nFoo\n17\n1.387531\n0\n2\n3 and a bit\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1.387531\n0\n2\n</code></pre>\n\n<p><code>Scalar::Util</code> and <code>looks_like_number</code> can be omitted if you're confident that your data will be strictly numeric, of course, but the code included in the question implies that you have at least one possible non-numeric value (\"None\").</p>\n"}], "owner": {"reputation": 71, "user_id": 8209251, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5bc913d90b9b3c359708b154869cfb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Keystrokes", "link": "https://stackoverflow.com/users/8209251/mr-keystrokes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1500034800, "creation_date": 1499864498, "last_edit_date": 1500034800, "question_id": 45058421, "link": "https://stackoverflow.com/questions/45058421/is-it-possible-to-filter-a-text-file-for-real-numbers-using-grep-function", "title": "Is it possible to filter a text file for Real numbers using grep function?", "body": "<p>I am trying to filter a text file for the lines in the file which begin with a certain number or less than that specific number.\nIs it possible to achieve this using the grep function?</p>\n\n<p>I tried to write a Perl script to do this and I downloaded the module for capturing Real numbers, but it doesn't seem to work.\nHere was my Perl script:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\nuse Regexp::Common qw /number/;\n\n    while (&lt;&gt;) {\n        /^$RE{num}{int}$/                and  print \"Integer\\n\";\n        /^$RE{num}{real}$/               and  print \"Real\\n\";\n        /^$RE{num}{real}{-base =&gt; 16}$/  and  print \"Hexadecimal real\\n\";\n    }\n\nprint \"Enter limit: \";\nchomp( my $limit = &lt;STDIN&gt; );\n$limit = abs($limit);\n\nopen my $IN, '&lt;', \"xt_spacer_results.hairpin\" or die $!;\nopen my $SIFTED, '&gt;', \"new_xt_spacer_results.hairpin\" or die $!;\n\n   while (&lt;$IN&gt;){\n        next if /^None/;\n        next if /^($RE{num}{real}{-places=&gt;2})/ &amp;&amp; $1 &lt;= $limit;\n    print $SIFTED $_;\n    }\n\nclose $IN;\nclose $SIFTED;\n</code></pre>\n\n<p><strong>Edit: The format of the text file is:</strong></p>\n\n<p>Sequence ID</p>\n\n<p>(Energy value) 7-spaces (start_pos) 2-dots 6-spaces (end_pos) 3-spaces (left-flank-seq) spaces (palindrome-seq-spaces) (right-flank-seq)</p>\n\n<pre><code>&gt;hsa_circ_0067224|chr3:128345575-128345675-|NM_002950|RPN1  FORWARD\n(-4.4)       (6) ..      (17)   (xxxxxxxxxxGTGAC)                (CAGT ATGC ACTG)                 \n(AAGATGAGGTTTGTG)\n-0.9       5 ..      18   xxxxxxxxxxxGTGA               CCAGT ATGC ACTGA                \nAGATGAGGTTTGTGG\nNone       3 ..      22   xxxxxxxxxxxxxGT             GACCAGTATGCACTGAAGAT              \nGAGGTTTGTGGACCA\n-2.3       5 ..      26   xxxxxxxxxxxGTGA           C CAGTATGCACTGAAGATGAG G            \nTTTGTGGACCATGTG\n-3.2       4 ..      27   xxxxxxxxxxxxGTG          AC CAGTATGCACTGAAGATGAG GT           TTGTGGACCATGTGT\n-1.9       3 ..      28   xxxxxxxxxxxxxGT         GAC CAGTATGCACTGAAGATGAG GTT          TGTGGACCATGTGTT\n</code></pre>\n\n<p>So my script is supposed to filter out all energy levels which are 'None', as well as all energy levels which are less than the value which the user input.\nUsing the example above if the user entered the value -2 then the following would be the result of filtration:</p>\n\n<pre><code>&gt;hsa_circ_0067224|chr3:128345575-128345675-|NM_002950|RPN1  FORWARD\n-4.4       6 ..      17   xxxxxxxxxxGTGAC                CAGT ATGC ACTG                 \nAAGATGAGGTTTGTG\n-2.3       5 ..      26   xxxxxxxxxxxGTGA           C CAGTATGCACTGAAGATGAG G            \nTTTGTGGACCATGTG\n-3.2       4 ..      27   xxxxxxxxxxxxGTG          AC CAGTATGCACTGAAGATGAG GT           TTGTGGACCATGTGT\n</code></pre>\n\n<p>All 'None' is removed along with -1.9 and -0.9 as these are not low enough.</p>\n"}, {"tags": ["perl", "gcc", "visual-c++", "compiler-errors", "nmake"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1499869049, "post_id": 45057901, "comment_id": 77093772, "body": "Which distro is your 5.18.2? Strawberry? Activestate? Compiled by yourself from source? It is required that you use the same compiler that was used to compile Perl in order to compile extensions such as the XS code in Audio-Scan. You should not follow the instructions from README.win32 literally, installing an additional Perl distro from ten years when you already have one is not going to help you."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1499871771, "post_id": 45057901, "comment_id": 77095935, "body": "@daxim Actually, it is not that bad. With my VS2013 built <code>perl</code>, all I had to do was to unconditionally <code>include</code> <code>zlib.h</code> in <code>id3.h</code>, add <code>zlib.lib</code> to <code>@LIBS</code> in <code>Makefile.PL</code>. I have my own <code>zlib</code> build, and its <code>include</code> and <code>lib</code> directories were in my <code>%INCLUDE%</code> and <code>%LIB%</code>. After those changes all tests pass."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1499871834, "post_id": 45057901, "comment_id": 77095986, "body": "@vamank It seems to me you should download and extract a fresh copy of the distro, then do <code>perl Makefile.PL</code> and then <code>make test</code>, <code>make install</code> given that you have a <code>perl</code> built using a <code>gcc</code> based toolchain and you are trying to use Visual Studio&#39;s <code>nmake</code>."}, {"owner": {"reputation": 21, "user_id": 2317011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2702e3432d663baf9d213067a27017?s=128&d=identicon&r=PG", "display_name": "vamank", "link": "https://stackoverflow.com/users/2317011/vamank"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1499929145, "post_id": 45057901, "comment_id": 77119451, "body": "@daxim its activestate perl"}, {"owner": {"reputation": 21, "user_id": 2317011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2702e3432d663baf9d213067a27017?s=128&d=identicon&r=PG", "display_name": "vamank", "link": "https://stackoverflow.com/users/2317011/vamank"}, "edited": false, "score": 0, "creation_date": 1547719198, "post_id": 45057901, "comment_id": 95291368, "body": "got a working copy audio scan library here: <a href=\"https://www.perlmonks.org/?node_id=1195192\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1195192</a>"}, {"owner": {"reputation": 21, "user_id": 2317011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2702e3432d663baf9d213067a27017?s=128&d=identicon&r=PG", "display_name": "vamank", "link": "https://stackoverflow.com/users/2317011/vamank"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1547719405, "post_id": 45057901, "comment_id": 95291493, "body": "@daxim yes it is activestate perl"}], "owner": {"reputation": 21, "user_id": 2317011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2702e3432d663baf9d213067a27017?s=128&d=identicon&r=PG", "display_name": "vamank", "link": "https://stackoverflow.com/users/2317011/vamank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1499866045, "creation_date": 1499863030, "last_edit_date": 1499866045, "question_id": 45057901, "link": "https://stackoverflow.com/questions/45057901/unable-to-complie-and-install-perl-module-audioscan", "title": "unable to complie and install perl module: Audio::Scan", "body": "<p>i am using \"perl 5, version 18, subversion 2 (v5.18.2) built for MSWin32-x86-multi-thread-64int\" on windows 7 enterprise(SP1). \nI am trying to compile and install a perl module Audio::Scan (.71 version). I downloaded the module from cpan.org, extracted it locally in my machine. It contains readme.win32 text file which states the following: </p>\n\n<h2>zlib</h2>\n\n<p>The included zlib.lib should just work, if not: Download zlib from <a href=\"http://www.zlib.net/zlib123.zip\" rel=\"nofollow noreferrer\">http://www.zlib.net/zlib123.zip</a>. \nBuild from projects/visualc6/zlib.dsw. \nBuild Win32_LIB_Release Copy zlib.lib into the Audio::Scan win32 directory. </p>\n\n<h2>Audio::Scan</h2>\n\n<p>Install ActivePerl 5.8.8 or 5.10.0. Open command prompt. Run the vcvars file, for example C:\\Program Files\\Microsoft Visual Studio 8\\VC\\vcvarsall.bat \nperl Makefile.PL \nnmake </p>\n\n<h2>nmake test</h2>\n\n<p>END \nI followed all the steps till nmake. The step before nmake i executed like this \"perl Makefile.PL make=nmake\" as it was generating it dmake style by default. This step goes well. \nBut in nmake step, i get a lot of warnings followed by the following error: </p>\n\n<p>win32/zlib.lib(./Win32_LIB_Release/crc32.obj):(.text$mn+0x22): undefined reference to <code>@__security_check_cookie@4' \nwin32/zlib.lib(./Win32_LIB_Release/crc32.obj):(.text$mn+0x1be): undefined reference to</code>@__security_check_cookie@4' </p>\n\n<p>c:/perl/site/lib/auto/mingw/bin/../lib/gcc/i686-w64-mingw32/4.6.3/../../../../i686-w64-mingw32/bin/ld.exe: win32/zlib.lib(./Win32_LIB_Release/crc32.obj): bad reloc address 0x1be in section `.text$mn'</p>\n\n<p>c:/perl/site/lib/auto/mingw/bin/../lib/gcc/i686-w64-mingw32/4.6.3/../../../../i686-w64-mingw32/bin/ld.exe: final link failed: Invalid operation </p>\n\n<p>collect2: ld returned 1 exit status NMAKE : fatal error U1077: 'C:\\Perl\\site\\bin\\g++.EXE' : return code '0x1' \nStop. </p>\n\n<p>I read this thread <a href=\"http://www.perlmonks.org/?node_id=496624\" rel=\"nofollow noreferrer\">http://www.perlmonks.org/?node_id=496624</a> checked the compiler used to compile perl as follows: \nC:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC>perl -V:cc.. \nit returned</p>\n\n<p>cc='gcc'; </p>\n\n<p>I am stuck at this point. Any help would be highly appreciated. Sorry for typos if any.</p>\n"}, {"tags": ["java", "perl", "inline", "perl-module", "cpan"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1499862457, "post_id": 45057296, "comment_id": 77088606, "body": "It seems to interpret the backslash in <code>java\\*.java</code> as an escape, not a path separator. Why do you use <code>gmake</code> when it says <code>nmake</code>?"}, {"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1499863170, "post_id": 45057296, "comment_id": 77089131, "body": "Using / instead of \\  might just do."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "reply_to_user": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "edited": false, "score": 0, "creation_date": 1499891413, "post_id": 45059930, "comment_id": 77107221, "body": "javac wants to write to C:\\yourstrawberry\\perl\\site\\lib\\Inline\\Java\\sources\\org\\perl&zwnj;&#8203;\\inline\\java\\*.java  So check if the path is writable."}], "tags": [], "owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1499868211, "creation_date": 1499868211, "answer_id": 45059930, "question_id": 45057296, "link": "https://stackoverflow.com/questions/45057296/issues-with-installing-inlinejava-on-windows-running-strawberry-perl/45059930#45059930", "title": "Issues with Installing Inline::Java on Windows running Strawberry Perl", "body": "<p>This procedure worked for installation on windows 7:</p>\n\n<ol>\n<li>JDK Java Development Kit version 7 is installed</li>\n<li>JAVA_HOME variable is in PATH</li>\n<li>install Inline, Inline::C</li>\n<li>install Inline::Java 0.58 from a tar file,  not from cpan</li>\n<li>from an untared folder: perl Makefile.PL J2SDK=\"c:\\path\\to\\java_home\" (JNI option no)</li>\n<li>dmake, dmake test, dmake install</li>\n</ol>\n\n<p>Other procedures may work too.</p>\n"}, {"tags": [], "owner": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "is_accepted": false, "score": 0, "last_activity_date": 1500871271, "creation_date": 1500871271, "answer_id": 45272748, "question_id": 45057296, "link": "https://stackoverflow.com/questions/45057296/issues-with-installing-inlinejava-on-windows-running-strawberry-perl/45272748#45272748", "title": "Issues with Installing Inline::Java on Windows running Strawberry Perl", "body": "<p>The problem was with the source code of the Makefile &amp; MakeFile.PL\nchanged path at line 8 in MakeFile.PL &amp; changed path in MakeFile at java.ts section at line 93.\nI had to insert 1 more slash where the path was given and it worked.\nAlso, don't run make test. directly make install.</p>\n"}], "owner": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1500871271, "creation_date": 1499861252, "last_edit_date": 1499872148, "question_id": 45057296, "link": "https://stackoverflow.com/questions/45057296/issues-with-installing-inlinejava-on-windows-running-strawberry-perl", "title": "Issues with Installing Inline::Java on Windows running Strawberry Perl", "body": "<p>I am trying to install <code>Inline::Java</code> on Windows 10 machine, running ActivePerl. since <code>cpan -i Inline::Java</code> did not work, I downloaded the module, and tried to do the installation:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl MakeFile.PL\ngmake\ngmake test\ngmake install\n\nWelcome to the Inline::Java installation procedure.\n\nUsing C:\\Program Files\\Java\\jdk1.8.0_131 as J2SDK directory.\n\nDefault J2SDK for Inline::Java will be 'C:\\Program Files\\Java\\jdk1.8.0_131'.\nSee module documentation for information on how to use a different J2SDK\nor change this default value.\n\nInline::Java can use a JNI extension that allows the Java Virtual Machine\n(JVM) to be dynamically linked with Perl instead of running as a separate\nprocess. The use of this extension is optional, and building it still\nallows Inline::Java to run the JVM in the default (separate process)\nfashion.\nNote: You need a C compiler to build the extension.\nDo you wish to build the JNI extension? [y] y\n\nBuilding JNI extension.\n\nBuilding with:\n  C:\\Program Files\\Java\\jdk1.8.0_131\\include\\jni.h\n  C:\\Program Files\\Java\\jdk1.8.0_131\\include\\win32\\jni_md.h\n  C:\\Program Files\\Java\\jdk1.8.0_131\\lib\\jvm.lib\n  C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\bin\\server\\jvm.dll\n\nNote: In order for Inline::Java to use the JNI extension, you will need to\nuse the JNI configuration option or set the PERL_INLINE_JAVA_JNI environment\nvariable to a true value. You will also need to add the following directories\nto your PATH environment variable:\n  C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\bin\\server\nSee README.JNI for more information.\n\nThe PerlInterpreter extension allows Inline::Java to be loaded directly from\nJava using an embedded Perl interpreter. It is still EXPERIMENTAL and\nmay not build or work properly on all platforms. See documentation for\nmore details.\nDo you wish to build the PerlInterpreter extension? [n] n\n\nWriting MYMETA.yml and MYMETA.json\nGenerating a gmake-style Makefile\nWriting Makefile for Inline::Java\nWriting MYMETA.yml and MYMETA.json\n\nYou can continue the installation with the following commands:\n  % nmake\n  % nmake test\n  % nmake install\n\nC:\\Users\\msrivastava\\Downloads\\Inline-Java-0.53&gt;gmake\n\"C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\javac.exe\" -deprecation -g -d Java\\classes Java\\sources\\org\\perl\\inline\\java\\*.java\njavac: file not found: Java\\sources\\org\\perl\\inline\\java*.java\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\ngmake: *** [Makefile:981: java.ts] Error 2\n\nC:\\Users\\msrivastava\\Downloads\\Inline-Java-0.53&gt;gmake test\n\"C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\javac.exe\" -deprecation -g -d Java\\classes Java\\sources\\org\\perl\\inline\\java\\*.java\njavac: file not found: Java\\sources\\org\\perl\\inline\\java*.java\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\ngmake: *** [Makefile:981: java.ts] Error 2\n\nC:\\Users\\msrivastava\\Downloads\\Inline-Java-0.53&gt;gmake install\n\"C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\javac.exe\" -deprecation -g -d Java\\classes Java\\sources\\org\\perl\\inline\\java\\*.java\njavac: file not found: Java\\sources\\org\\perl\\inline\\java*.java\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\ngmake: *** [Makefile:981: java.ts] Error 2\n</code></pre>\n\n<p>Has anybody faced a similar issue or successfully installed <code>Inline::Java</code> on Windows with Strawberry Perl?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1499853296, "post_id": 45054102, "comment_id": 77081926, "body": "Is that the code as you&#39;ve written it in your script? It&#39;s missing braces around the <code>while</code> code block which would generate an error if you&#39;d put &quot;use strict;&quot; at the top of your script"}, {"owner": {"reputation": 41, "user_id": 7882101, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/fb058d9925b13a88027268ef05fc2971?s=128&d=identicon&r=PG&f=1", "display_name": "momo12321", "link": "https://stackoverflow.com/users/7882101/momo12321"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1499853359, "post_id": 45054102, "comment_id": 77081972, "body": "my whole code is over 100 lines, it contains use strict and use warnings. This is just an excerpt"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 2, "creation_date": 1499853743, "post_id": 45054102, "comment_id": 77082266, "body": "the code as is (with the added braces) should do what you want - so the problem is most likely elsewhere. an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would show us where the problem actually is"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1499861918, "post_id": 45054102, "comment_id": 77088169, "body": "Is your code really as badly-formatted as that? I don&#39;t understand why people don&#39;t put more effort into formatting their code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1499862016, "post_id": 45054102, "comment_id": 77088245, "body": "I&#39;ve fixed the formatting of your code. You&#39;re welcome, but please do it yourself in the future. When you&#39;re asking strangers to read and understand your code, it&#39;s only polite to make it as easy to understand as possible."}], "answers": [{"tags": [], "owner": {"reputation": 344, "user_id": 985376, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cda1af4a5279147419b9b8fd4111ec5a?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin S", "link": "https://stackoverflow.com/users/985376/sachin-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1499853659, "creation_date": 1499853659, "answer_id": 45054517, "question_id": 45054102, "link": "https://stackoverflow.com/questions/45054102/how-can-i-extract-specific-columns-in-perl/45054517#45054517", "title": "How can I extract specific columns in perl?", "body": "<pre><code>use strict;\n\nmy $input=shift or die \"must provide &lt;input_file&gt; as an argument\\n\";\n\nopen(my $in,\"&lt;\",$input) or die \"Cannot open $input for reading: $!\";\n\nwhile(&lt;$in&gt;)\n{\n    my @tf1=split(/\\t/,$_);\n    print \"$tf1[1]|$tf1[2]\\n\"; # $tf1[1] is the second column and $tf1[2] is the third column\n}\nclose($in)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 4, "last_activity_date": 1499859214, "last_edit_date": 1499859214, "creation_date": 1499856748, "answer_id": 45055649, "question_id": 45054102, "link": "https://stackoverflow.com/questions/45054102/how-can-i-extract-specific-columns-in-perl/45055649#45055649", "title": "How can I extract specific columns in perl?", "body": "<p>Simply autosplit on tab</p>\n\n<pre><code>#                                      \u2193 index starts on 0\n$ perl -F'\\t' -lane'print join \",\", @F[1,2]' inputfile\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1,10\n13,20\n50,55\n</code></pre>\n\n<p>See <a href=\"http://p3rl.org/perlrun\" rel=\"nofollow noreferrer\">perlrun</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1499862363, "creation_date": 1499862363, "answer_id": 45057670, "question_id": 45054102, "link": "https://stackoverflow.com/questions/45054102/how-can-i-extract-specific-columns-in-perl/45057670#45057670", "title": "How can I extract specific columns in perl?", "body": "<p>What problem are you having? Your code already does all the hard parts.</p>\n\n<pre><code>while (defined($line=&lt;FILE_HANDLE&gt;)) {\n    my @tf1;\n    @tf1 = split(/\\t/ , $line);\n}\n</code></pre>\n\n<p>You have all three columns in your <code>@tf1</code> array (by the way - your variable naming needs serious work!) All you need to do now is to print the second and third elements from the array (but remember that Perl array elements are numbered from zero).</p>\n\n<pre><code>print \"$tf1[1] / $tf1[2]\\n\";\n</code></pre>\n\n<p>It's possible to simplify your code quite a lot by taking advantage of Perl's default behaviours.</p>\n\n<pre><code>while (&lt;FILE_HANDLE&gt;) {          # Store record in $_\n    my @tf1 = split(/\\t/);       # Declare and initialise on one line\n                                 # split() works on $_ by default\n    print \"$tf1[1] / $tf1[2]\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1499868811, "creation_date": 1499868811, "answer_id": 45060147, "question_id": 45054102, "link": "https://stackoverflow.com/questions/45054102/how-can-i-extract-specific-columns-in-perl/45060147#45060147", "title": "How can I extract specific columns in perl?", "body": "<p>Even more pithily than @daxim as a one-liner:</p>\n\n<pre><code>perl -aE 'say \"@F[1,2]\" ' file\n</code></pre>\n\n<p>See also: <a href=\"https://stackoverflow.com/q/27112465/2019415\">How to sort an array or table by column in perl?</a></p>\n"}], "owner": {"reputation": 41, "user_id": 7882101, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/fb058d9925b13a88027268ef05fc2971?s=128&d=identicon&r=PG&f=1", "display_name": "momo12321", "link": "https://stackoverflow.com/users/7882101/momo12321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1573, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1499868811, "creation_date": 1499852607, "last_edit_date": 1499861950, "question_id": 45054102, "link": "https://stackoverflow.com/questions/45054102/how-can-i-extract-specific-columns-in-perl", "title": "How can I extract specific columns in perl?", "body": "<pre><code>chr1    1   10  el1\nchr1    13  20  el2\nchr1    50  55  el3\n</code></pre>\n\n<p>I have this tab delimited file and I want to extract the second and third column using perl. How can I do that?</p>\n\n<p>I tried reading the file using file handler and storing it in a string, then converting the string to an array but it didn't get me anywhere.</p>\n\n<p>My attempt is:</p>\n\n<pre><code>while (defined($line=&lt;FILE_HANDLE&gt;)) {\n    my @tf1;\n    @tf1 = split(/\\t/ , $line);\n}\n</code></pre>\n"}, {"tags": ["perl", "docker", "otrs", "perlscript"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499849367, "post_id": 45051907, "comment_id": 77078952, "body": "Firstly, remove <code>use Env</code>. That is for a different way of accessing the environment variables that you don&#39;t appear to be using. Then tell us what is on the line in <code>Config.pm</code> mentioned in the <i>very first</i> error in <code>error_log</code>. In your question it says <code>Config.pm line 53</code> but that may not be the first error."}, {"owner": {"reputation": 9, "user_id": 8294211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c053e0489a5c062537d50e19e4102c6d?s=128&d=identicon&r=PG&f=1", "display_name": "swbert", "link": "https://stackoverflow.com/users/8294211/swbert"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499849705, "post_id": 45051907, "comment_id": 77079218, "body": "Thanks, i removed &quot;use Env&quot;. Line 53 (without the use env line 52 now) is $Self-&gt;{DatabaseDSN} = &quot;DBI:mysql:database=$Self-&gt;{Database};host=$Self-&gt;{DatabaseH&zwnj;&#8203;ost};&quot;;"}, {"owner": {"reputation": 8410, "user_id": 202553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Clpiv.jpg?s=128&g=1", "display_name": "knb", "link": "https://stackoverflow.com/users/202553/knb"}, "edited": false, "score": 0, "creation_date": 1499857334, "post_id": 45051907, "comment_id": 77084794, "body": "Does <code>chomp($MYSQL_HOSTNAME)</code> have any effect?"}, {"owner": {"reputation": 9, "user_id": 8294211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c053e0489a5c062537d50e19e4102c6d?s=128&d=identicon&r=PG&f=1", "display_name": "swbert", "link": "https://stackoverflow.com/users/8294211/swbert"}, "edited": false, "score": 0, "creation_date": 1499858219, "post_id": 45051907, "comment_id": 77085387, "body": "bash-4.2# chomp($MYSQL_HOSTNAME) bash: syntax error near unexpected token `$MYSQL_HOSTNAME&#39;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1499861828, "post_id": 45051907, "comment_id": 77088087, "body": "What method are you using to set up the environment variables in bash? Specifically, are you using <code>export</code>? Do your lines look like <code>export MYSQL_HOSTNAME=otrs</code>?"}, {"owner": {"reputation": 9, "user_id": 8294211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c053e0489a5c062537d50e19e4102c6d?s=128&d=identicon&r=PG&f=1", "display_name": "swbert", "link": "https://stackoverflow.com/users/8294211/swbert"}, "edited": false, "score": 0, "creation_date": 1499862199, "post_id": 45051907, "comment_id": 77088403, "body": "I set up the environment variables with a flag in the docker command to start the container. &quot;docker run -d -p 80:80 --name otrs --env-file db.app.env --network otrs-net otrs&quot; in the file db.app.env are the Env-Vars defined : MYSQL_HOSTNAME=mysqldb MYSQL_DATABASE=otrs MYSQL_USER=otrs MYSQL_PASSWORD=otrs"}], "owner": {"reputation": 9, "user_id": 8294211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c053e0489a5c062537d50e19e4102c6d?s=128&d=identicon&r=PG&f=1", "display_name": "swbert", "link": "https://stackoverflow.com/users/8294211/swbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 390, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1499848997, "creation_date": 1499846768, "last_edit_date": 1499848997, "question_id": 45051907, "link": "https://stackoverflow.com/questions/45051907/index-pl-dbi-connectdatabase-host-failed", "title": "index.pl: DBI connect(&#39;database=;host=;&#39;,&#39;&#39;,...) failed", "body": "<p>I have an\n<em>Open-source Ticket Request System</em> (OTRS)\ndocker container that works perfectly when I define <code>Database</code>,\n<code>DatabaseHost</code>,\n <code>DatabasePw</code>,  and <code>DatabaseUser</code> in the <code>Config.pm</code> file</p>\n\n<pre><code># The database host\n    $Self-&gt;{DatabaseHost} = mysqldb;\n\n    # The database name\n    $Self-&gt;{Database} = otrs;\n\n    # The database user\n    $Self-&gt;{DatabaseUser} = otrs;\n\n    # The password of database user. You also can use bin/otrs.Console.pl Maint::Database::PasswordCrypt\n    # for crypted passwords\n    $Self-&gt;{DatabasePw} = otrs;\n</code></pre>\n\n<p>Now I want to use the environment variables of the container,\nan <em>Amazon Machine Image</em> (AMI) Linux virtual system.</p>\n\n<p>The <code>env</code> command prints out the right variables</p>\n\n<pre><code>bash-4.2# env\nMYSQL_DATABASE=otrs\nMYSQL_PASSWORD=otrs\nMYSQL_HOSTNAME=mysqldb\nMYSQL_USER=otrs\n</code></pre>\n\n<p>When I define them like this in <code>Config.pm</code></p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nuse diagnostics;\n\nuse Env;\n\nmy $MYSQL_HOSTNAME = $ENV{MYSQL_HOSTNAME};\nmy $MYSQL_DATABASE = $ENV{MYSQL_DATABASE};\nmy $MYSQL_USER     = $ENV{MYSQL_USER};\nmy $MYSQL_PASSWORD = $ENV{MYSQL_PASSWORD};\n\n\nsub Load {\n    my $Self = shift;\n\n    # ---------------------------------------------------- #\n    # database settings                                    #\n    # ---------------------------------------------------- #\n\n    # The database host\n    $Self-&gt;{DatabaseHost} = $MYSQL_HOSTNAME;\n\n    # The database name\n    $Self-&gt;{Database} = $MYSQL_DATABASE;\n\n    # The database user\n    $Self-&gt;{DatabaseUser} = $MYSQL_USER;\n\n    # The password of database user. You also can use bin/otrs.Console.pl Maint::Database::PasswordCrypt\n    # for crypted passwords\n    $Self-&gt;{DatabasePw} = $MYSQL_PASSWORD;\n\n    # The database DSN for MySQL ==&gt; more: \"perldoc DBD::mysql\"\n    $Self-&gt;{DatabaseDSN} = \"DBI:mysql:database=$Self-&gt;{Database};host=$Self-&gt;{DatabaseHost};\";\n</code></pre>\n\n<p>I'm getting the following errors in <code>etc/httpd/logs/error_log</code></p>\n\n<pre><code>[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] [Wed Jul 12 07:45:54 2017] index.pl: Use of uninitialized value in concatenation (.) or string at /opt/otrs/bin/cgi-bin/../../Kernel/Config.pm line 53., referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] [Wed Jul 12 07:45:54 2017] index.pl: Use of uninitialized value in concatenation (.) or string at /opt/otrs/bin/cgi-bin/../../Kernel/Config.pm line 53., referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] [Wed Jul 12 07:45:54 2017] index.pl: Use of uninitialized value in concatenation (.) or string at /opt/otrs/bin/cgi-bin/../../Kernel/Config.pm line 53., referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] [Wed Jul 12 07:45:54 2017] index.pl: Use of uninitialized value in concatenation (.) or string at /opt/otrs/bin/cgi-bin/../../Kernel/Config.pm line 53., referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] ERROR: Database not defined!, referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] ERROR: DatabaseHost not defined!, referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] ERROR: DatabasePw not defined!, referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] ERROR: DatabaseUser not defined!, referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] [Wed Jul 12 07:45:54 2017] index.pl: Use of uninitialized value in pattern match (m//) at /opt/otrs/bin/cgi-bin/../../Kernel/System/DB.pm line 92., referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] [Wed Jul 12 07:45:54 2017] index.pl: DBI connect('database=;host=;','',...) failed: Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2) at /opt/otrs/bin/cgi-bin/../../Kernel/System/DB.pm line 202., referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] ERROR: OTRS-CGI-10 Perl: 5.16.3 OS: linux Time: Wed Jul 12 07:45:54 2017, referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] , referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1]  Message: Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2), referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] , referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1]  RemoteAddress: 172.18.0.1, referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1]  RequestURI: /otrs/index.pl?, referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] , referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1]  Traceback (4724): , referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1]    Module: Kernel::System::Web::InterfaceAgent::Run Line: 164, referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1]    Module: /opt/otrs/bin/cgi-bin/index.pl Line: 40, referer: http://localhost/otrs/index.pl?\n[Wed Jul 12 07:45:54 2017] [error] [client 172.18.0.1] , referer: http://localhost/otrs/index.pl?\n</code></pre>\n\n<p>I don't understand why the perl <code>use strict</code> doesn't recognise the environment variables.</p>\n\n<p>I have tried every method from <a href=\"http://ask.xmodulo.com/shell-environment-variables-in-perl.html\" rel=\"nofollow noreferrer\"><em>How to access shell environment variables in Perl script</em></a></p>\n\n<p>and even tried it with</p>\n\n<pre><code>$Self-&gt;{DatabaseHost} = $ENV{'MYSQL_HOSTNAME'};\n</code></pre>\n\n<p>with all variables.</p>\n\n<p>The script works with <code>$ENV{'MYSQL_HOSTNAME'}</code> when the base image is Ubuntu and not AMI Linux / RedHat</p>\n"}, {"tags": ["perl", "metrics"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499848006, "post_id": 45051612, "comment_id": 77078072, "body": "<i>&quot;Mac operating system&quot;</i> could be one of very many different systems that Apple have produced. You need to be much more specific."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1499936322, "post_id": 45052245, "comment_id": 77124349, "body": "Im working on my own, I got my license from my college."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1499936664, "post_id": 45052245, "comment_id": 77124588, "body": "@user2061337: So you have a <code>license.pm</code> file? What have you done with it?"}, {"owner": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1499943168, "post_id": 45052245, "comment_id": 77129335, "body": "where am I supposed to find it? :/"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1499943219, "post_id": 45052245, "comment_id": 77129360, "body": "I don&#39;t know! You said you got it from your college. Where did you put it?"}, {"owner": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1499947638, "post_id": 45052245, "comment_id": 77132506, "body": "I have no files in my device related to Understand except for the app it self. Maybe the best thing is to contact my supervisor about the module, thanks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1499951490, "post_id": 45052245, "comment_id": 77135932, "body": "@user2061337: You say <i>&quot;I got my license from my college&quot;</i> so what did you get?"}, {"owner": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1499957007, "post_id": 45052245, "comment_id": 77140411, "body": "I got the Understand tool"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1499957291, "post_id": 45052245, "comment_id": 77140652, "body": "@user2061337: So did you get a licence?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1499960822, "post_id": 45052245, "comment_id": 77143350, "body": "@user2061337: <i><code>Understand::license(name)</code></i>  <i>Specify a regcode string, or a specific path to an Understand license.</i>"}, {"owner": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "edited": false, "score": 0, "creation_date": 1500026816, "post_id": 45052245, "comment_id": 77171784, "body": "Can you tell me the exact syntax that I should put? lets assume that my license code is abc123. shall I type:  Understand::license(abc123); or with cotaions or how? because I have tried both cases but still not working :("}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1499847817, "creation_date": 1499847817, "answer_id": 45052245, "question_id": 45051612, "link": "https://stackoverflow.com/questions/45051612/cant-locate-understand-license-pm-in-inc-error/45052245#45052245", "title": "Can&#39;t locate Understand/license.pm in @INC Error", "body": "<p>The SciTools <code>Understand</code> module requires a licence in the form of a <code>license.pm</code> file</p>\n\n<p>If you're doing this at work then you should speak to your system administrator or manager to get hold of one. If you're working on your own then you need to talk to SciTools</p>\n\n<p>Where did you get the main <code>Understand</code> module from?</p>\n"}], "owner": {"reputation": 1, "user_id": 2061337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48018b3abd2f0c8f396f2d288ea48332?s=128&d=identicon&r=PG", "display_name": "user2061337", "link": "https://stackoverflow.com/users/2061337/user2061337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1499847817, "creation_date": 1499845880, "question_id": 45051612, "link": "https://stackoverflow.com/questions/45051612/cant-locate-understand-license-pm-in-inc-error", "title": "Can&#39;t locate Understand/license.pm in @INC Error", "body": "<p>I want to run my perl script which suppose to use the \"Understand Scitool Perl API\". I have included the statement \"use Understand;\" in the script have  but when I tun the it on the terminal, it keeps showing me this error:\n\"Can't locate Understand/license.pm in @INC\". \nDoes anyone know how can I install \"Understand\" module in order to be able to use its library knowing that I have already installed \"Understand\" tool.</p>\n\n<p><em>Note: Im working on Mac operating system.</em> </p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1499840236, "post_id": 45049747, "comment_id": 77073185, "body": "Can you find out how many entries your array has? It looks like it only has one."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1499840258, "post_id": 45049747, "comment_id": 77073199, "body": "If all the numbers are on one line in the file you need to <code>split</code> them. Your array only has one item. You can also see that because they are not sorted in your first line of output."}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1499840469, "post_id": 45049747, "comment_id": 77073309, "body": "all the numbers are saved in single array index, you have to store each element in one array index, for that use <code>split</code> just like @simbabque suggested"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 1, "creation_date": 1499840527, "post_id": 45049747, "comment_id": 77073349, "body": "This moreover seems like a homework question for me"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1499840619, "post_id": 45049747, "comment_id": 77073400, "body": "And comparing numbers is done by using <code>&lt;=&gt;</code> not <code>cmp</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1499841313, "post_id": 45049747, "comment_id": 77073745, "body": "It might be homework, but it contains code that looks mostly fine. It contains a proper description of the problem, and it asks a very specific question. Even if it&#39;s just a matter of having forgotten one step, I think it&#39;s a perfectly valid and good question. They would have figured out out with a bit of debugging but they likely don&#39;t know how, or that such a thing exists at all."}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499841568, "post_id": 45049747, "comment_id": 77073883, "body": "@simbabque, yes it contains good description, I have experienced users just deleting their questions(homework) after someone answers it. Just hoping that this will not end in the same way."}, {"owner": {"reputation": 374, "user_id": 7794924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b7ba76db0edb55d81c3b15762d2152a9?s=128&d=identicon&r=PG&f=1", "display_name": "nhershy", "link": "https://stackoverflow.com/users/7794924/nhershy"}, "edited": false, "score": 1, "creation_date": 1499841618, "post_id": 45049747, "comment_id": 77073903, "body": "Yes this is homework. Is homework not allowed on Stack Overflow? I&#39;m a student who just got introduced to Perl scripting today. I did what I could. I do thank you for the &quot;split&quot; tip, I did not know about that. Since my numbers are all on one line, right now is the array essentially filling just the first element with a string of numbers?"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1499841718, "post_id": 45049747, "comment_id": 77073962, "body": "@nhershy don&#39;t take it harsh, your question is absolutely fine, you could improve your wordings in the question not to sound like homework. Thats what I meant."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1499842775, "post_id": 45049747, "comment_id": 77074582, "body": "homework is fine. It just shouldn&#39;t be &quot;Here is my task I need a solution&quot;. You did everything right. I&#39;ll write you an answer with explanation on how to debug this problem when I&#39;m at a computer. Welcome to Stack Overflow and to Perl! :-)"}, {"owner": {"reputation": 374, "user_id": 7794924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b7ba76db0edb55d81c3b15762d2152a9?s=128&d=identicon&r=PG&f=1", "display_name": "nhershy", "link": "https://stackoverflow.com/users/7794924/nhershy"}, "edited": false, "score": 0, "creation_date": 1499843055, "post_id": 45049747, "comment_id": 77074757, "body": "I&#39;d really appreciate that! Many thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1499841464, "post_id": 45049929, "comment_id": 77073827, "body": "Please use strict and warnings in code examples and provide code that works under them. The OP already knows how to get the min and max. You&#39;re right about the sorting operator, but you don&#39;t explain why. Please try to improve your answer. You&#39;re giving an answer, not a guess. ;-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 1, "creation_date": 1499842649, "post_id": 45049929, "comment_id": 77074508, "body": "@Nagaraju where the numbers come from doesn&#39;t really matter. One of your first lessons in programming is to learn how to do abstraction. Treat each thing as an individual problem. You already know how to read a file. So it actually doesn&#39;t matter that that is not included here. Instead they just created an array. It&#39;s about the concept, not the exact code. Don&#39;t worry, you&#39;ll get there in time."}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499843358, "post_id": 45049929, "comment_id": 77074939, "body": "yeah fine @simbabque, not a big problem"}], "tags": [], "owner": {"reputation": 544, "user_id": 7954998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UvnCx.png?s=128&g=1", "display_name": "pajarnas", "link": "https://stackoverflow.com/users/7954998/pajarnas"}, "is_accepted": false, "score": 1, "last_activity_date": 1499840725, "creation_date": 1499840725, "answer_id": 45049929, "question_id": 45049747, "link": "https://stackoverflow.com/questions/45049747/trying-to-print-one-element-of-an-array-somehow-prints-all-elements/45049929#45049929", "title": "Trying to print one element of an array somehow prints all elements", "body": "<p>Maybe You can try this to find out the max and min:</p>\n\n<pre><code>@a=qw(1 3 2 8 7 5 4 10 9);\n@a=sort {$a&lt;=&gt;$b}@a;\nprint \"the max number=$a[0]\\nthe min number=$a[$#a]\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1499848099, "post_id": 45052221, "comment_id": 77078137, "body": "@DaveCross Looks like for once I did :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1499847748, "creation_date": 1499847748, "answer_id": 45052221, "question_id": 45049747, "link": "https://stackoverflow.com/questions/45049747/trying-to-print-one-element-of-an-array-somehow-prints-all-elements/45052221#45052221", "title": "Trying to print one element of an array somehow prints all elements", "body": "<p>This answer will have a large portion of code review and explain concepts that are not directly related to the question.</p>\n\n<p>Let's look at the part of your code that reads in the array.</p>\n\n<pre><code>open(INFILE, \"&lt;$filename\");\nmy @nums = &lt;INFILE&gt;;\nclose INFILE;\n</code></pre>\n\n<p>This code is fine for what you are doing, but it has a few security and style issues that I will get into further below. </p>\n\n<p>So you have a file name, and you read in a file line by line. Each line goes into one element in the array <code>@nums</code>. Since your stuff is not working the way you want, the first step you need to take to debug this is to try to look at the array.</p>\n\n<p>Your attempt to do this was not a bad idea.</p>\n\n<pre><code>print \"Sorted numbers: @sorted\";\n</code></pre>\n\n<p><a href=\"https://en.wikipedia.org/wiki/String_interpolation\" rel=\"noreferrer\">Interpolating</a> an array in a double quoted <code>\"\"</code> string in Perl joins the the elements of the array with the variable <code>$,</code>, which is also known as the <a href=\"http://perldoc.perl.org/perlvar.html#24%2C\" rel=\"noreferrer\">output field separator</a>. By default, it's a blank space <code></code>.</p>\n\n<pre><code>my @foo = (1, 2, 3);\nprint \"@foo\";\n</code></pre>\n\n<p>This will give the following output</p>\n\n<pre><code>1 2 3\n</code></pre>\n\n<p>Unfortunately your input file already had spaces as separators, and all numbers were on one line. So you couldn't really see that the array wasn't properly set up. That's one of those facepalm moments when you notice it yourself. You <em>could have noticed</em> it by looking at the sorted numbers. You did sort them, but they were not sorted.</p>\n\n<blockquote>\n<pre><code>Sorted numbers: 89 62 11 75 8 33 95 4\n</code></pre>\n</blockquote>\n\n<p>A better way to figure out what's in the array would be to use <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"noreferrer\">Data::Dumper</a>, which lets you <a href=\"https://en.wikipedia.org/wiki/Serialization\" rel=\"noreferrer\">serialize</a> data structures. It's included with Perl.</p>\n\n<pre><code>use Data::Dumper;\n\nmy @foo = (1, 2, 3);\nprint Dumper \\@foo;\n</code></pre>\n\n<p>The module gives you a <code>Dumper</code> function. It likes works better on references, so you need to add the backslash to create a reference to <code>@foo</code>. What that means exactly is not relevant at this point. Just remember that if your variable does not have a <code>$</code>, you put a backslash in front.</p>\n\n<pre><code>$VAR1 = [\n          1,\n          2,\n          3\n        ];\n</code></pre>\n\n<p>This is useful. It tells us the three elements. Now lets look at your code. Instead of an actual file, I am using the pseudo-filehandle <code>DATA</code>, which reads from the <code>__DATA__</code> section at the end of the program. This is great for testing and for examples.</p>\n\n<pre><code>use Data::Dumper;\n\nmy @nums = &lt;DATA&gt;;\nmy @sorted = sort { $a cmp $b } @nums;\n\nprint Dumper \\@sorted;\n\n__DATA__\n89 62 11 75 8 33 95 4\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>$VAR1 = [\n          '89 62 11 75 8 33 95 4\n'\n        ];\n</code></pre>\n\n<p>We can see two things here. First, all numbers are on one line, and thus they went into the first element. Second, the line has a newline at the end. You already know that you can remove that with <code>chomp</code>.</p>\n\n<p>So lets try to fix this. We now know that we need to <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\"><code>split</code></a> the line of numbers. <a href=\"https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it\" rel=\"noreferrer\">There are many different ways</a> to accomplish this task. I will go with a very verbose one to explain the steps involved.</p>\n\n<pre><code>use Data::Dumper;\n\nmy $line = &lt;DATA&gt;;    # only read one line\nchomp $line;          # remove the line ending\n\nmy @nums = split / /, $line;\nmy @sorted = sort { $a cmp $b } @nums;\n\nprint Dumper \\@sorted;\n\n__DATA__\n89 62 11 75 8 33 95 4\n</code></pre>\n\n<p>We use <code>split</code> with an empty <em>pattern</em> <code>/ /</code> to turn the string of numbers into a list of numbers, and put that in an array. Then we sort.</p>\n\n<pre><code>$VAR1 = [\n          '11',\n          '33',\n          '4',\n          '62',\n          '75',\n          '8',\n          '89',\n          '95'\n        ];\n</code></pre>\n\n<p>As you can see, we now have a sorted list of numbers. But they are not sorted numerically. Instead, they are <a href=\"https://en.wikipedia.org/wiki/ASCII#Character_order\" rel=\"noreferrer\">sorted <em>asciibetically</em></a>. That's because <a href=\"http://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"noreferrer\"><code>cmp</code> is the operator</a> that sorts by <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"noreferrer\">ASCII</a> character number. It's also the default behavior of Perl's <code>sort</code>, so you could have omitted that whole <code>{ $a cmp $b }</code> block. It's the same as just saying <code>sort @nums</code>.</p>\n\n<p>But we want to sort numbers by their numerical value, so we need to use the <code>&lt;=&gt;</code> sorting operator.</p>\n\n<pre><code>use Data::Dumper;\n\nmy $line = &lt;DATA&gt;;    # only read one line\nchomp $line;          # remove the line ending\n\nmy @nums = split / /, $line;\nmy @sorted = sort { $a &lt;=&gt; $b } @nums;\n\nprint Dumper \\@sorted;\n\n__DATA__\n89 62 11 75 8 33 95 4\n</code></pre>\n\n<p>Now the program prints the right output.</p>\n\n<pre><code>$VAR1 = [\n          '4',\n          '8',\n          '11',\n          '33',\n          '62',\n          '75',\n          '89',\n          '95'\n        ];\n</code></pre>\n\n<p>I'll leave it to you to put this back into your actual program.</p>\n\n<hr>\n\n<p>Finally, a word about your <code>open</code>. You are using what's called <em>glob filehandles</em>. Those things like <code>INFILE</code> are global identifiers. They are valid throughout your program, even in other modules that you might load. While in this tiny program that doesn't really make a difference, it might cause problems in the future. If for example the Data::Dumper module was to open a file and use the same identifier <code>INFILE</code>, and you had not called <code>close INFILE</code>, your program might either crash or do very weird things, because it would reuse the same handle.</p>\n\n<p>Instead, you can use a <em>lexical</em> file handle. A lexical variable is only valid inside of a certain scope, like a function or the body of a loop. It's just a regular variable, declared with <code>my</code>. It will automatically call <code>close</code> for you when it <em>goes out of scope</em>.</p>\n\n<pre><code>open my $fh, \"&lt;foo\";\nmy @nums = &lt;$fh&gt;;\nclose $fh;\n</code></pre>\n\n<p>You are calling <code>open</code> with two arguments. That's also not a good idea. Right now you have the mode <code>&lt;</code>, but if you leave that out and do <code>open my $fh, \"$file\"</code> and read the <code>$file</code> from the user, they might pass in bad things, like <code>| rm -rf slash</code>. Perl will then treat the pipe <code>|</code> as the mode, open a pipe and delete all your stuff. Instead, use three-argument open.</p>\n\n<pre><code>open my $fh, '&lt;', 'foo';\n</code></pre>\n\n<p>Now that you explicitly set the mode, you're safe.</p>\n\n<p>The last point is that you should always check if <code>open</code> worked. That's easy.</p>\n\n<pre><code>open my $fh, '&lt;', 'foo' or die $!;\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"noreferrer\">variable <code>$!</code></a> contains the error that <code>open</code> encountered. The <code>or</code> will only trigger if the return value of the <code>open</code> call was false. And <code>die</code> makes the program terminate. The error you might receive could look like this.</p>\n\n<blockquote>\n  <p>No such file or directory at /home/foo/code/scratch.pl line 6154.</p>\n</blockquote>\n\n<p>So the full file reading should look something like this.</p>\n\n<pre><code>open my $fh, '&lt;', $filename or die \"Could not read $filename: $!\";\nmy @nums = &lt;$fh&gt;;\nclose $fh;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499848146, "post_id": 45052296, "comment_id": 77078173, "body": "And then we actually have almost the same content. Even the code is the same. So much for TIMTOWTDI. ;)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1499847937, "creation_date": 1499847937, "answer_id": 45052296, "question_id": 45049747, "link": "https://stackoverflow.com/questions/45049747/trying-to-print-one-element-of-an-array-somehow-prints-all-elements/45052296#45052296", "title": "Trying to print one element of an array somehow prints all elements", "body": "<p>As you've seen from the comments, the problem here is that you don't populate your array correctly. You end up with only one element in <code>@nums</code> - it's a single element that contains all of your data.</p>\n\n<p>You could confirm that by using something like <code>Data::Dumper</code>, which... er... dumps your data :-)</p>\n\n<p>At the top of your program, just after the <code>use warnings;</code> you can add this:</p>\n\n<pre><code>use Data::Dumper;\n</code></pre>\n\n<p>Then after you have loaded up <code>@nums</code>, try dumping it:</p>\n\n<pre><code>print Dumper(\\@nums), \"\\n\";\n</code></pre>\n\n<p>You'll see this:</p>\n\n<pre><code>$VAR1 = [\n          '89 62 11 75 8 33 95 4\n'\n        ];\n</code></pre>\n\n<p>Compare that to what you see when we fix your problem and you'll see an obvious difference.</p>\n\n<p>So we have a line of data that contains the numbers you're interested in separated by spaces. To convert that into a list of numbers which we can store in your array, we can use the <code>split()</code> function. <code>split()</code> takes two arguments - a regular expression to split the string on, and the string to split.</p>\n\n<p>You have this code to read from the file and assign to your array:</p>\n\n<pre><code>my @nums = &lt;INFILE&gt;;\n</code></pre>\n\n<p>You can replace that with:</p>\n\n<pre><code>my @nums = split / /, &lt;INFILE&gt;;\n</code></pre>\n\n<p>Now our data dump looks like this:</p>\n\n<pre><code>$VAR1 = [\n          '89',\n          '62',\n          '11',\n          '75',\n          '8',\n          '33',\n          '95',\n          '4\n'\n        ];\n</code></pre>\n\n<p>I hope the difference is obvious. Your program basically works at this point, but we can clean things up a bit by dealing with the new-line at the end of the record in the file (you can see it after the <code>4</code> above).</p>\n\n<p>We'll need to split the line into two.</p>\n\n<pre><code>chomp(my $input = &lt;INFILE&gt;);\nmy @nums = split / /, $input;\n</code></pre>\n\n<p>Now our data dump looks like this:</p>\n\n<pre><code>$VAR1 = [\n          '89',\n          '62',\n          '11',\n          '75',\n          '8',\n          '33',\n          '95',\n          '4'\n        ];\n</code></pre>\n\n<p>At this point, your program still has a bug left in it. I'm going to leave that for you to investigate (hint: what does <code>sort()</code> actually do? <a href=\"https://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">Read the documentation</a>) - if you have more problems, please ask another question.</p>\n\n<p>But I'd like to finish by suggesting some improvements to your general coding style. I'm not sure where you're learning Perl from, but some of the stuff you're doing looks pretty dated.</p>\n\n<p>When you open a file in Perl, you should always check the results from your call to open and take appropriate action if it fails. In many cases, killing the program is the appropriate action, so I'd use <code>die()</code> in your open statement.</p>\n\n<pre><code>open( INFILE, \"&lt;$filename\" )\n  or die \"Can't open $filename: $!\\n\");\n</code></pre>\n\n<p>The <code>$!</code> in the error message will tell you why Perl couldn't open the file.</p>\n\n<p>It's also regarded as best practice these days to avoid \"bareword filehandles\" (like your <code>INFILE</code>) and also split the file name from the mode indicators (<code>&gt;</code> or <code>&lt;</code>). Putting that all together, your file handling code becomes:</p>\n\n<pre><code>open( my $in_fh, '&lt;', $filename )\n  or die \"Can't open $filename: $!\\n\";\nchomp(my $input = &lt;$in_fh&gt;);\nmy @nums = split / /, $input;\nclose $in_fh;\n</code></pre>\n\n<p>I see you are already using this style for the output file. Seems strange to mix the styles within the same program.</p>\n"}], "owner": {"reputation": 374, "user_id": 7794924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b7ba76db0edb55d81c3b15762d2152a9?s=128&d=identicon&r=PG&f=1", "display_name": "nhershy", "link": "https://stackoverflow.com/users/7794924/nhershy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 45052221, "answer_count": 3, "score": 2, "last_activity_date": 1499847937, "creation_date": 1499840046, "last_edit_date": 1499846225, "question_id": 45049747, "link": "https://stackoverflow.com/questions/45049747/trying-to-print-one-element-of-an-array-somehow-prints-all-elements", "title": "Trying to print one element of an array somehow prints all elements", "body": "<p>I am writing a script to take a list of integers from file <code>aryData</code>, sort them, print the sorted array, the highest value, and the lowest value.</p>\n\n<h3>aryData</h3>\n\n<pre><code>89 62 11 75 8 33 95 4\n</code></pre>\n\n<p>But when printing the highest or lowest value, all elements of the array are printed.</p>\n\n<p>This is my Perl code</p>\n\n<pre><code>#!/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"Enter filename to be sorted: \";\nmy $filename = &lt;STDIN&gt;;\nchomp( $filename );\n\nopen( INFILE, \"&lt;$filename\" );\nmy @nums = &lt;INFILE&gt;;\nclose INFILE;\n\nmy @sorted = sort { $a cmp $b } @nums;\n\nopen my $outfile, '&gt;', \"HighLow.txt\";\n\nprint $outfile \"Sorted numbers: @sorted\";\nprint $outfile \"Smallest number: $sorted[0] \\n\";\nprint $outfile \"Largest number: $sorted[-1] \\n\";\n</code></pre>\n\n<h3>output <code>HighLow.txt</code></h3>\n\n<pre><code>Sorted numbers: 89 62 11 75 8 33 95 4\nSmallest number: 89 62 11 75 8 33 95 4\nLargest number: 89 62 11 75 8 33 95 4\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1499837823, "post_id": 45049186, "comment_id": 77072053, "body": "know nothing about perl.. but I think you need a <code>(</code> and a <code>;</code> here -&gt; <code>$v1,$v2)=($v2,$v1)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "is_accepted": true, "score": 2, "last_activity_date": 1499839174, "creation_date": 1499839174, "answer_id": 45049540, "question_id": 45049186, "link": "https://stackoverflow.com/questions/45049186/unable-to-swap-the-variables-using-perl/45049540#45049540", "title": "Unable to swap the variables using perl?", "body": "<p>You forgot open parens and semicolon:</p>\n\n<pre><code>($v1,$v2)=($v2,$v1);\nprint $v1,$v2;\n</code></pre>\n\n<p>Expected output should be 4323 (4 chars and no comma), not 43,23.</p>\n\n<p>To print 43,23:</p>\n\n<pre><code>print \"$v1,$v2\";\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8251601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127e78260bc91859ba8f340697ee3c62?s=128&d=identicon&r=PG&f=1", "display_name": "salma", "link": "https://stackoverflow.com/users/8251601/salma"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1499848104, "accepted_answer_id": 45049540, "answer_count": 1, "score": -4, "last_activity_date": 1499839174, "creation_date": 1499837724, "question_id": 45049186, "link": "https://stackoverflow.com/questions/45049186/unable-to-swap-the-variables-using-perl", "closed_reason": "Not suitable for this site", "title": "Unable to swap the variables using perl?", "body": "<hr>\n\n<p>Here by i tried to swap the variables using perl.</p>\n\n<pre><code>#!/usr/local/bin/perl\n use strict;\n use warnings;\n my $v1=23;\n my $v2=43;\n $v1,$v2)=($v2,$v1)\n print $v1,$v2;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>syntax error at exchange.pl line 7, near \")\nprint\"\nExecution of exchange.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Excepted output:</p>\n\n<pre><code>43,23\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "ssh", "expect.pm"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499837216, "post_id": 45048803, "comment_id": 77071812, "body": "Create an <code>expect</code> object beforehand and pass it to a thread. See <a href=\"https://stackoverflow.com/a/43879540/4653379\">this post</a>. This may be a duplicate."}, {"owner": {"reputation": 2870, "user_id": 5860777, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FXFMD.jpg?s=128&g=1", "display_name": "Andy Developer", "link": "https://stackoverflow.com/users/5860777/andy-developer"}, "edited": false, "score": 0, "creation_date": 1499842958, "post_id": 45048803, "comment_id": 77074698, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9270734/ssh-permissions-are-too-open-error\">ssh &quot;permissions are too open&quot; error</a>"}], "owner": {"reputation": 11, "user_id": 8293370, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Toj1eBR1Hao/AAAAAAAAAAI/AAAAAAAAACM/g2JrRXcrkGo/photo.jpg?sz=128", "display_name": "Nicholas Wysocki", "link": "https://stackoverflow.com/users/8293370/nicholas-wysocki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 430, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504608545, "creation_date": 1499835791, "last_edit_date": 1504608545, "question_id": 45048803, "link": "https://stackoverflow.com/questions/45048803/ssh-using-expect-with-threads", "title": "Ssh using expect with threads?", "body": "<p>Have you found solution any on how to ssh using expect with threads?</p>\n\n<pre><code>sub thDoWork {\n\n    #variables\n\n    my $thread_number = $_[0];\n    my $PassStoreQueue = $_[1];\n\n    my $Thread_Die = '';\n    my $My_Print_Bucket = '';\n\n    while ($Thread_Die ne 'KILL_THREAD') {\n\n        my $temp_Store_Number_Working_On = $PassStoreQueue-&gt;dequeue();\n\n        my $name;\n        my $ip;\n        my $Device_Exist;\n        my $TempDeviceName;\n        my $DNS_Results;\n\n        # I need to ssh inside many threads, I can ssh from the main\n        # thread just fine but not a sub thread. \n\n        $ssh = Expect-&gt;spawn(\"ssh -l $username1 $temp_ssh_device \" .\n                             \"-o UserKnownHostsFile=/dev/null \" .\n                             \"-o StrictHostKeyChecking=no\")\n            or return \"Couldn't spawn ssh session\";\n\n        # this is unable to login to device.\n}\n</code></pre>\n\n<p>I have read a thread that expect is not working correctly in threads, is that still true?</p>\n"}, {"tags": ["regex", "perl", "grep", "compare", "match"], "comments": [{"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1499831386, "post_id": 45047791, "comment_id": 77069998, "body": "Rather than me trying to use this little comment to guess what you mean when you imply that pairs of lines in <code>file1</code> match pairs of lines in <code>file2</code>, you should give a sample of lines from both files demonstrating which ones match and which ones don&#39;t. Your rules for matching aren&#39;t entirely clear to me."}, {"owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "reply_to_user": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1499831709, "post_id": 45047791, "comment_id": 77070068, "body": "@jeff6times7 I have included one example for each case"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499832312, "post_id": 45047791, "comment_id": 77070213, "body": "You may be &quot;new in Perl scripting&quot; but it doesn&#39;t take knowledge of the language to indent and lay out your code so that it is readable. It is particularly impolite of you to post such ugly code when you are asking for free help from international experts."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499832322, "post_id": 45047791, "comment_id": 77070215, "body": "What do you mean by &quot;<i>match</i>&quot; -- want do you want to do with this? You find pairs in the first file. Then, once you find the &quot;same&quot; pairs (they all seem exactly the same?) in the second file ... what do you want to do?  Print line numbers ... ?"}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1499836466, "post_id": 45047791, "comment_id": 77071522, "body": "I think you can solve this problem with a hash for each file."}, {"owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499842881, "post_id": 45047791, "comment_id": 77074647, "body": "@Borodin Noted with thanks @zdim yes, they are exactly the same. After the match pair is found in <code>file2</code>, I would try to extract and store some data under this pair from <code>file2</code> (e.g. time to travel this path etc.) and compare with the data from <code>file1</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499845234, "post_id": 45047791, "comment_id": 77076132, "body": "What do you mean by &quot;<i>data under this pair</i>&quot; if they are all exactly the same?  What is &quot;<i>time to travel this path</i>&quot;?  (And &quot;<i>(etc.)</i>&quot;?  We don&#39;t know your problem.)  There are many ways to correlate phrases in two files.  But how, if they are the same?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499845563, "post_id": 45047791, "comment_id": 77076361, "body": "Let me put it this way.  So you found the 60k pairs in the first file.  Now you start searching the second ... and you find a pair.  Does it correlate with the first pair from the first file? How about the next one you find?  What if the second file has fewer (or more) pairs?  How do you decide which one from file2 goes with which one from file1? Can you please explain the problem nicely?"}, {"owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499848019, "post_id": 45047791, "comment_id": 77078083, "body": "@zdim I have updated the question. Yes, file2 has less pairs than file1, so I decided to extract pair from file1 as I also want to find out the unmatched pair."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "edited": false, "score": 0, "creation_date": 1499842621, "post_id": 45048972, "comment_id": 77074493, "body": "Hi jeff, I cant seems to understand how <code>$fmt</code> works here. Also, correct me if I am wrong <code>f1h</code> is the contents for <code>$file1{$key}</code> ?"}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "reply_to_user": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "edited": false, "score": 0, "creation_date": 1499847717, "post_id": 45048972, "comment_id": 77077861, "body": "@Kyle Are you wondering why printf works with &quot;%10s&quot; when it&#39;s given a integer? It&#39;s no mystery: the integer is simply coerced as a string in decimal form. Yes, $f1h is the value for the hash element referred to by $file1{$key}."}], "tags": [], "owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "is_accepted": false, "score": -1, "last_activity_date": 1499839373, "last_edit_date": 1499839373, "creation_date": 1499836637, "answer_id": 45048972, "question_id": 45047791, "link": "https://stackoverflow.com/questions/45047791/find-matching-between-2-files-how-to-improve-efficiency/45048972#45048972", "title": "Find matching between 2 files (how to improve efficiency)", "body": "<p>If I have understood your spec (show matches), I'm betting this will complete in less than 5 seconds, unless you're using an old Dell D333. To further minimize the response time, you would write some extra code to drive the while loop by the hash with the fewest keys (you implied file1). If you use references to hashes, then you can write a small if-else statement to swap the hash references without having to code duplicate while statements.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub makeHash($) {\n    my ($filename) = @_;\n    open(DATA, $filename) || die;\n    my %result;\n    my ($start, $line);\n    while (&lt;DATA&gt;) {\n        if ($_ =~ /^Startpoint: (.*)/) {\n            $start = $1;    # captured group in regular expression\n            $line = $.;     # current line number\n        } elsif ($_ =~ /^Endpoint: (.*)/) {\n            my $end = $1;\n            if (defined $line &amp;&amp; $. == ($line + 1)) {\n                my $key = \"$start::$end\";\n                # can distinguish start and end lines if necessary\n                $result{$key} = {start=&gt;$start, end=&gt;$end, line=&gt;$line};\n            }\n        }\n    }\n    close(DATA);\n    return %result;\n}\n\nmy %file1 = makeHash(\"file1\");\nmy %file2 = makeHash(\"file2\");\n\nmy $fmt = \"%10s %10s %s\\n\";\nmy $nmatches = 0;\n\nprintf $fmt, \"File1\", \"File2\", \"Key\";\n\nwhile (my ($key, $f1h) = each %file1) {\n    my $f2h = $file2{$key};\n    if (defined $f2h) {\n        # You have access to hash members start and end if you need to distinguish further\n        printf $fmt, $f1h-&gt;{line}, $f2h-&gt;{line}, $key;\n        $nmatches++;\n    }\n}\nprint \"Found $nmatches matches\\n\";\n</code></pre>\n\n<p>Below, is my test data generator(<a href=\"http://www.perlmonks.org/?node_id=233023\" rel=\"nofollow noreferrer\">thanks</a>). I generated a worst-case scenario of 1,000,000 matches between two equal files. The matching code above finished on my MBP in under 20 seconds using the generated test data.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub rndStr { join'', @_[ map{ rand @_ } 1 .. shift ] }\n\nopen(F1, \"&gt;file1\") || die;\nopen(F2, \"&gt;file2\") || die;\n\nfor (1..1000000) {\n    my $start = rndStr(30, 'A'..'Z');\n    my $end = rndStr(30, 'A'..'Z');\n    print F1 \"Startpoint: $start\\n\";\n    print F1 \"Endpoint: $end\\n\";\n    print F2 \"Startpoint: $start\\n\";\n    print F2 \"Endpoint: $end\\n\";\n}\nclose(F1);\nclose(F2);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3973782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a4c5ba2ff7381680700a0c4a3d0f44?s=128&d=identicon&r=PG&f=1", "display_name": "Dean Inada", "link": "https://stackoverflow.com/users/3973782/dean-inada"}, "is_accepted": false, "score": -1, "last_activity_date": 1499837044, "creation_date": 1499837044, "answer_id": 45049041, "question_id": 45047791, "link": "https://stackoverflow.com/questions/45047791/find-matching-between-2-files-how-to-improve-efficiency/45049041#45049041", "title": "Find matching between 2 files (how to improve efficiency)", "body": "<p>If I'm understanding what your code is trying to do,\nit looks like it would be more efficient to do it this way:</p>\n\n<pre><code>my %split=@file1;\nmy %total;\n@total{@file1}=(0..$#file1);\nmy $split;\nfor( @file2 ){\n    if( $split ){\n      if( $_ eq $split ){\n         print\"Pair($total{$split}):Match Pair\\n\";\n      }else{\n         $split{$split}=\"\";\n      }\n    }\n    $split=$split{$_};\n    delete $split{$_};\n}\nfor( keys %split ){\n  print\"no matching found for Path($total{$_})\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1499847782, "creation_date": 1499829423, "last_edit_date": 1499847782, "question_id": 45047791, "link": "https://stackoverflow.com/questions/45047791/find-matching-between-2-files-how-to-improve-efficiency", "title": "Find matching between 2 files (how to improve efficiency)", "body": "<p><code>@file1</code> contains only startpoint-endpoint pair, each indices represent each pair. <code>file2</code> is a text file, for <code>@file2</code> each indices represents each line. I am trying to search each pair from <code>@file1</code> in <code>@file2</code> line by line. When the exact match is found, I would then try to extract <code>information1</code> from <code>file2</code> and print it out. But for now, I am trying to search for the matched pair in <code>file2</code>. The format of the matching pattern is as below: </p>\n\n<h3>Match case</h3>\n\n<h3>From <code>$file1[0]</code></h3>\n\n<pre><code>Startpoint: /source/in_out/map (positive-triggered) \nEndpoint: /output/end/scan_all (positive-triggered)\n</code></pre>\n\n<h3>match if <code>file2</code> contains:</h3>\n\n<pre><code>Line with other stuff\nStartpoint: /source/in_out/map (positive-triggered) \nEndpoint: /output/end/scan_all (positive-triggered)\ninformation1:\ninformation2:\nLines with other stuff\n</code></pre>\n\n<h3>Unmatch Case:</h3>\n\n<h3>From file1:</h3>\n\n<pre><code>Startpoint: /source/in_out/map (positive-triggered) \nEndpoint: /output/end/scan_all (positive-triggered)\n</code></pre>\n\n<h3>From file2:</h3>\n\n<pre><code>Startpoint: /source/in_out/map (positive-triggered)\nEndpoint: /different endpoint pair/ (positive-triggered)\ninformation1:\ninformation2:\n</code></pre>\n\n<p>For text <code>files2</code>, I stored it in <code>@file2</code>. For <code>files1</code>, I have successfully extracted and stored every Startpoint and the next line Endpoint as the format above in <code>@file1</code>. (No problem in extracting and storing each pair, so I wont be showing the code for this, it took around 4mins here) Then I split each element of <code>@address</code>, which are the startpoint and endpoint. Checking line by line in <code>files2</code>, if startpoint match, then I will move on next line to check endpoint, it is only considered match if the next line after Startpoint match the Endpoint, else try to search again until the end line of <code>files2</code>. This script does the job but it took 3 and a half hours to complete(there are around 60k pairs from <code>file1</code> and 800k lines to check in <code>file2</code>). Is there any other efficient way to do this?</p>\n\n<p>I am new in Perl scripting, I apologize for any silly mistakes, both in my explanation and my coding. \nHere's the codes: </p>\n\n<pre><code>#!usr/bin/perl\nuse warnings;\n\nmy $report = '/home/dir/file2';\nopen ( $DATA,$report ) || die \"Error when opening\";\nchomp (@file2 = &lt;$DATA&gt;);\n#No problem in extracting Start-Endpoint pair from file1 into @file1, so I wont include \n#the code for this \n$size = scalar@file1;\n$size2 = scalar@file2;\n\nfor ( $total=0; $total&lt;$size; $total++ ) {\n   my @file1_split = split('\\n',$file1[$total]);\n   chomp @file1_split;\n   my $match_endpoint = 0;\n   my $split = 0;\nLABEL2: for ( $count=0; $count&lt;$size2; $count++ ) {\n           if ( $match_endpoint == 1) {\n              if ( grep { $_ eq \"file1_split[$split]\" } $file2[$count] )\n              print\"Pair($total):Match Pair\\n\";\n              last LABEL2;         #move on to check next start-endpoint \n                                   #pair \n              }\n              else {\n              $split = 0;          #reset back to check the same startpoint \n              and continue searching until match found or end line of file2\n              $match_endpoint = 0;\n              }\n            }\n            elsif ( grep { $_ eq \"$address_array[$split]\"} $array[$count] ) \n           { \n           $match_endpoint = 1;#enable search for endpoint in next line\n           $split = 1;         #move on next line to match endpoint\n           next;  \n           }\n           elsif ( $count==$size2-1 ) {\n           print\"no matching found for Path($total)\\n\";\n           }\n        }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499820737, "post_id": 45044356, "comment_id": 77067300, "body": "<i>&quot;<code>(?&lt;=&lt;body&gt;).*(?=&lt;&#47;body&gt;)</code> returns test 1 and empty string&quot;</i>  What do you mean here? A regex pattern doesn&#39;t &quot;return&quot; anything at all, and this one doesn&#39;t even capture any substrings."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499822885, "post_id": 45044356, "comment_id": 77067850, "body": "Are you saying that your data has multiple <code>&lt;body&gt;</code> tags?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 1730168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WseeL.jpg?s=128&g=1", "display_name": "mongoose", "link": "https://stackoverflow.com/users/1730168/mongoose"}, "edited": false, "score": 0, "creation_date": 1499810425, "post_id": 45044432, "comment_id": 77064701, "body": "Thanks, I&#39;ll give this a shot. I am using a parser for pre-processing and some other stuff. Beautifulsoup in python. That portion is already stripping comments, script tags, etc, so by the time it gets to the perl for this task it should be very clean."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19, "user_id": 1730168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WseeL.jpg?s=128&g=1", "display_name": "mongoose", "link": "https://stackoverflow.com/users/1730168/mongoose"}, "edited": false, "score": 1, "creation_date": 1499823981, "post_id": 45044432, "comment_id": 77068119, "body": "@mongoose: If you have your document in Beautiful Soup then it makes far more sense to extract the <code>&lt;body&gt;</code> element at that point once the HTML has been parsed. BS has no equivalent to the DOM <code>innerHTML</code>, but you can use <code>str(bsoup.body)</code> to get the text of the <code>&lt;body&gt;</code> element <i>including</i> the tags, and use Python or Perl to remove them. That makes much more sense than stringifying the BS object to turn it back into HTML, passing that to Perl, and parsing it again there."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1499825309, "post_id": 45044432, "comment_id": 77068432, "body": "After this matches <code>&lt;body style=&quot;b&gt;ob&quot;&gt;test2&lt;&#47;body&gt;</code>, capture group 1 contains <code>ob&quot;&gt;test2</code> and won&#39;t match <code>&lt;body style=&quot;b&gt;ob&quot;&gt;test2&lt;&#47;body &gt;</code> at all."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1499827105, "post_id": 45044432, "comment_id": 77068874, "body": "@sln <i>That is why one should use an HTML parser</i>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1499827375, "post_id": 45044432, "comment_id": 77068960, "body": "I totally agree, but that won&#39;t stop people from using regex. To be sure, the <i>tags</i> themselves are described using regex and can safely be parsed as the first level text parsing. Nesting and other entity substitution are not in the regex realm. I have the defacto regex standard for parsing all tags, didn&#39;t post it here, only a partial."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1499809391, "last_edit_date": 1499809391, "creation_date": 1499807092, "answer_id": 45044432, "question_id": 45044356, "link": "https://stackoverflow.com/questions/45044356/why-isnt-greedy-matching-working-in-perl-regex-group/45044432#45044432", "title": "Why isnt greedy matching working in perl regex group", "body": "<blockquote>\n  <p>I am trying to grab only whats BETWEEN the body tags</p>\n</blockquote>\n\n<p>In that case:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile (my $line = &lt;DATA&gt;) {\n    if ($line =~ m{ &lt;body [^&gt;]*&gt; (.+) &lt;/body&gt; }xs) {\n        print \"[$1]\\n\";\n    }\n}\n\n__DATA__\n&lt;body&gt;test1&lt;/body&gt;\n&lt;body style=\"bob\"&gt;test2&lt;/body&gt;\n&lt;!-- &lt;body class=\"one\"&gt; --&gt;&lt;body&gt;This is why you should use an HTML parser&lt;/body&gt;\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[test1]\n[test2]\n[ --&gt;&lt;body&gt;This is why you should use an HTML parser]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32875, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "is_accepted": false, "score": -1, "last_activity_date": 1499816292, "creation_date": 1499816292, "answer_id": 45046083, "question_id": 45044356, "link": "https://stackoverflow.com/questions/45044356/why-isnt-greedy-matching-working-in-perl-regex-group/45046083#45046083", "title": "Why isnt greedy matching working in perl regex group", "body": "<p>Choosing the best pattern for your data depends on what kind of characters will be contained in your body tags.  An additional consideration is whether you want to aim for efficiency or minimal memory.</p>\n\n<p>These are some suitable (or not) patterns for your case:</p>\n\n<blockquote>\n  <p>93steps    <code>~&lt;body[^&gt;]*&gt;\\K.*(?=&lt;/body&gt;)~</code> #no capture group,no newline matches<br>\n  105steps    <code>~&lt;body[^&gt;]*&gt;\\K[\\S\\s]*?(?=&lt;/body&gt;)~</code> #no capture group, newline matches<br> \n  87steps     <code>~&lt;body[^&gt;]*&gt;(.*)&lt;/body&gt;~</code>  #capture group, no newline matches<br>\n  96steps     <code>~&lt;body[^&gt;]*&gt;([\\S\\s]*?)&lt;/body&gt;~</code> #capture group, newline matches</p>\n</blockquote>\n\n<p>Here is a <a href=\"https://regex101.com/r/6vei8K/1\" rel=\"nofollow noreferrer\">Pattern Demo</a> with three samples to show the impact of newline characters in your body text.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1538839950, "last_edit_date": 1538839950, "creation_date": 1499823814, "answer_id": 45046972, "question_id": 45044356, "link": "https://stackoverflow.com/questions/45044356/why-isnt-greedy-matching-working-in-perl-regex-group/45046972#45046972", "title": "Why isnt greedy matching working in perl regex group", "body": "<p>I don't think using <code>$&amp;</code> is efficient. Personally, I'd use capture groups<br>\nbut this works pretty good.   </p>\n\n<p><code>/&lt;(body)(?:\\s+(?&gt;\"[\\S\\s]*?\"|'[\\S\\s]*?'|(?:(?!\\/&gt;)[^&gt;])?)+)?\\s*&gt;\\K[\\S\\s]*?(?=&lt;\\/\\1\\s*&gt;)/</code></p>\n\n<p><a href=\"https://regex101.com/r/EkPkLb/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/EkPkLb/1</a></p>\n\n<p>Expanded  </p>\n\n<pre><code> &lt;\n ( body )                      # (1)\n (?:\n      \\s+ \n      (?&gt;\n           \" [\\S\\s]*? \"\n        |  ' [\\S\\s]*? '\n        |  (?:\n                (?! /&gt; )\n                [^&gt;] \n           )?\n      )+\n )?\n \\s* &gt;\n \\K \n [\\S\\s]*? \n (?= &lt;/ \\1 \\s* &gt; )\n</code></pre>\n\n<p><em>Note that to really find a particular tag, you have to consume all the<br>\nprevious tags via a <code>(*SKIP)(?!)</code>, else your tag could be embedded inside<br>\nscript literals, comments or invisible content.</em></p>\n\n<p>I wouldn't worry too much about it.<br>\nIf you're interested I could post a fairly large proper regex,<br>\nbut I doubt you'd be interested.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1499824518, "last_edit_date": 1499824518, "creation_date": 1499824178, "answer_id": 45047022, "question_id": 45044356, "link": "https://stackoverflow.com/questions/45044356/why-isnt-greedy-matching-working-in-perl-regex-group/45047022#45047022", "title": "Why isnt greedy matching working in perl regex group", "body": "<p>You're looking for</p>\n\n<pre><code>while ($html =~ / &lt;body[^&gt;]*&gt; ( (?: (?! &lt;/body\\b ). )* ) /sxg) {\n   say $1;\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 1730168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WseeL.jpg?s=128&g=1", "display_name": "mongoose", "link": "https://stackoverflow.com/users/1730168/mongoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1538839950, "creation_date": 1499806723, "question_id": 45044356, "link": "https://stackoverflow.com/questions/45044356/why-isnt-greedy-matching-working-in-perl-regex-group", "title": "Why isnt greedy matching working in perl regex group", "body": "<p>I am trying to grab only whats BETWEEN the body tags in html with perl regex (so don't want to include the actual body tags, thus using the groups to throw away the tags to variables).\nHere are some short test subjects:</p>\n\n<pre><code>&lt;body&gt;test1&lt;/body&gt;\n&lt;body style=\"bob\"&gt;test2&lt;/body&gt;\n</code></pre>\n\n<p>So first, simple version I tried was:</p>\n\n<pre><code>(?&lt;=&lt;body&gt;).*(?=&lt;/body&gt;)\n</code></pre>\n\n<p>which returns test 1 and empty string\nSo then I tried:</p>\n\n<pre><code>(?&lt;=&lt;body).*(?=&lt;/body&gt;)\n</code></pre>\n\n<p>Which now gives a result for both tests, but of course has garbage: \">test1\" and \" style=\"bob\">test2\"</p>\n\n<p>I've tried every variation of greedy match now in the first version, e.g.:<code>(?&lt;=&lt;body.*&gt;).*(?=&lt;/body&gt;)</code>\nBut it simply will not work! Any time I put the * in there I get errors. Anybody able to help out?</p>\n"}, {"tags": ["perl", "http"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1499803359, "post_id": 45043109, "comment_id": 77061411, "body": "Make sure <code>LWP::Protocol::https</code> is up-to-date and you are using a recent version of <code>OpenSSL</code>. Include versions of <code>IO::Socket::SSL</code>, <code>Net::SSLeay</code>, <code>LWP</code>, and <code>LWP::Protocol::https</code> in your question. Also, don&#39;t live link to questionable sites unless you want to be flagged for spamming SO."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1499804981, "post_id": 45043109, "comment_id": 77062253, "body": "Have you tried <code>$ua-&gt;request($req)</code> without the file parameter? Do you get the response you expected? That should help you debug the problem"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11359, "user_id": 1323940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/def1b1fd4342d9e332b7a3bf41f57a00?s=128&d=identicon&r=PG", "display_name": "SzG", "link": "https://stackoverflow.com/users/1323940/szg"}, "edited": false, "score": 0, "creation_date": 1499826507, "post_id": 45043109, "comment_id": 77068735, "body": "@SzG: It&#39;s always nice to see a readable question, but it&#39;s <i>essential</i> that any edits you make exactly maintain the OP&#39;s intent and the syntax of their code. It was very wrong of you to remove multiple parentheses from <a href=\"https://stackoverflow.com/revisions/45043109/3\">the OP&#39;s third edit</a> without being utterly assured that you had not altered the way the code would behave in their environment. White space is the safest and most useful tool to improve code, but even then you must be careful not to change the contents of a literal string or invalidate any line numbers in the body of the question"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1499834072, "post_id": 45043109, "comment_id": 77070709, "body": "I removed my answer since what it says fits here -- your code works for me (tested with 5.10 and 5.16).  Comments: (1) the <code>while</code> trick is too elaborate, better use <code>File::Temp</code> if you want a new file with a  random name.  (2) Make sure that you <i>can</i> write the <code>$src</code> file at that location."}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 0, "last_activity_date": 1499818515, "creation_date": 1499818515, "answer_id": 45046347, "question_id": 45043109, "link": "https://stackoverflow.com/questions/45043109/image-request-failing-possible-https-issue/45046347#45046347", "title": "Image request failing. Possible HTTPS issue", "body": "<p>The request should be working fine,\nbut as pointed out, you really should check what version of the packages you are using.\nFor me ( perl 5.22 - LWP::UserAgent 6.26 ) the call <code>$ua-&gt;req( $req )</code> needs to be <code>$ua-&gt;request( $req-&gt;uri )</code>. And the file to store the response in must be given with <code>$ua-&gt;request( $req-&gt;uri, :content_file =&gt; $fn )</code> .</p>\n\n<p>I think the original author assumed the content file would be created by giving the filename to <code>$ua-&gt;request</code>. With <code>:content_file</code>, that is what's happening for me. He put the while ( -s $src ) in place to ensure he got a filename that was not yet taken.</p>\n\n<p>Thus, I believe the solution to your problem is to change</p>\n\n<p><code>my $res = $ua-&gt;request($req, \"$tmpdir/$src\")</code> to</p>\n\n<p><code>$ua-&gt;request($req-&gt;uri, ':content_file' =&gt; \"$tmpdir/$src\" );</code></p>\n\n<p>The docs mention that using :content_file means the actual response content is no longer stored in the object, so you may have to adapt your code.\nIf all you need is the file, I would adapt the final if to check for the file that should now exist ( which should, I believe, only happen upon successful response ).</p>\n\n<p>If what you need is the $res object to use later, I would probably opt to check the response worked, then print the content to the file you want it in, so just do</p>\n\n<p><code>my $res = $ua-&gt;request( $req-&gt;uri );</code></p>\n\n<p>adapt the if accordingly and print content to file.\nI would personally prefer the latter, as I can check the response for success, then print: this seems much clearer.</p>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499834546, "creation_date": 1499801620, "last_edit_date": 1499820706, "question_id": 45043109, "link": "https://stackoverflow.com/questions/45043109/image-request-failing-possible-https-issue", "title": "Image request failing. Possible HTTPS issue", "body": "<p>I'm working with some Perl code that I don't understand:</p>\n\n<pre><code>my $tmpdir = \"XXX\";\n\nmy $src = \"tmp\" . time . int rand 10 . \".jpg\";\n\nwhile ( -s \"$tmpdir/$src\" ) {\n    $src = \"tmp\" . time . int rand 10 . \".jpg\";\n}\n\nmy $ua = LWP::UserAgent-&gt;new( keep_alive =&gt; 0, timeout =&gt; 10 );\n\nmy $req = HTTP::Request-&gt;new(\n    \"GET\",\n    \"https://www.com/act/couponimage/1877\",\n);\n\nmy $res = $ua-&gt;request( $req, \"$tmpdir/$src\" );\n\nif ( ! $res || ! -s \"$tmpdir/$src\" ) {\n    header( 301, 0, 0, \"https://www.com/\" );\n    exit 0;\n}\n</code></pre>\n\n<p>For some reason it hits the point where it redirects to the main page (the header code).</p>\n\n<p>There is clearly something wrong here because it never executes past the last <code>if</code> clause which redirects. Maybe it has to do with using HTTPS?</p>\n\n<p>It is not a filesystem issue. The following coupon image path works fine</p>\n\n<p>Xxx.com/img/coupon-2600.jpg</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 27, "user_id": 8054704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb747121c6f513b72a799c8a3642805f?s=128&d=identicon&r=PG&f=1", "display_name": "Amatya Annamaneni", "link": "https://stackoverflow.com/users/8054704/amatya-annamaneni"}, "edited": false, "score": 0, "creation_date": 1499802976, "post_id": 45043070, "comment_id": 77061169, "body": "check the answer from tchrist from below <a href=\"https://stackoverflow.com/questions/7173787/compilation-failed-posix-collating-elements-are-not-supported\" title=\"compilation failed posix collating elements are not supported\">stackoverflow.com/questions/7173787/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8291672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e439241b9d2be01f9101e7b364842d4?s=128&d=identicon&r=PG&f=1", "display_name": "J. Wend", "link": "https://stackoverflow.com/users/8291672/j-wend"}, "edited": false, "score": 0, "creation_date": 1499805106, "post_id": 45043347, "comment_id": 77062311, "body": "Thank you for the answer. I see why that makes more sense than what I did."}], "tags": [], "owner": {"reputation": 389, "user_id": 3768429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZrGeV.jpg?s=128&g=1", "display_name": "Mauro Lacy", "link": "https://stackoverflow.com/users/3768429/mauro-lacy"}, "is_accepted": false, "score": 3, "last_activity_date": 1499802968, "last_edit_date": 1499802968, "creation_date": 1499802452, "answer_id": 45043347, "question_id": 45043070, "link": "https://stackoverflow.com/questions/45043070/regex-to-match-all-lines-not-starting-with/45043347#45043347", "title": "Regex to match all lines not starting with ==", "body": "<p>Your regex is incorrect, as it fails with <code>=A</code> as input, by example.\nA way to do it would be with a Perl Compatible Regular Expression(PCRE): <code>^(?!==)</code></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1499819194, "last_edit_date": 1592644375, "creation_date": 1499819194, "answer_id": 45046425, "question_id": 45043070, "link": "https://stackoverflow.com/questions/45043070/regex-to-match-all-lines-not-starting-with/45046425#45046425", "title": "Regex to match all lines not starting with ==", "body": "<p>You're misunderstanding how <em>character classes</em> work in regular expressions</p>\n<p>A character class is delimited by square brackets <code>[...]</code> and generally will match <em>any one</em> of the characters that it encloses. So <code>[abc]</code> will match <code>a</code>, <code>b</code>, or <code>c</code>, but only the first character of <code>aa</code> or <code>cbc</code>. You probably know that you can also use <em>ranges</em>, such as <code>[a-c]</code></p>\n<p>You can also <em>negate</em> the class, as you have done, so <code>[^a]</code> will match any one character that <em>isn't</em> an <code>a</code>, such as <code>z</code> or <code>&amp;</code>, but only the first character of <code>zz</code></p>\n<p>Replicating a character in a class will not change what it matches, so <code>[aardvark]</code> will match exactly one of <code>a</code>, <code>d</code>, <code>k</code>, <code>r</code>, or <code>v</code>, and is equivalent to <code>[adkrv]</code></p>\n<p>Your regex pattern uses the character class <code>[^\\=\\=]</code>. It's unnecessary to escape an equals sign, and replicating it has no effect, so you have the equivalent of <code>[^=]</code>, which will match any single character other than the equals sign <code>=</code></p>\n<p>The reason you got that error message is that character classes beginning <code>[=</code> and ending <code>=]</code> (just <code>[=]</code> doesn't count) are reserved for special behaviour yet to be implemented. As above, there would ordinarily be no reason to write a character class with multiple occurrences of the same character, so it's reasonable to disallow such a construction</p>\n<p><a href=\"http://perldoc.perl.org/perldiag.html\" rel=\"nofollow noreferrer\"><code>perldoc perldiag</code></a> has this to say</p>\n<blockquote>\n<p><strong>POSIX syntax [= =] is reserved for future extensions in regex; marked by &lt;-- HERE in m/%s/</strong></p>\n<p>(F) Within regular expression character classes ([]) the syntax beginning with &quot;[=&quot; and ending with &quot;=]&quot; is reserved for future extensions. If you need to represent those character sequences inside a regular expression character class, just quote the square brackets with the backslash: &quot;[=&quot; and &quot;=]&quot;. The &lt;-- HERE shows whereabouts in the regular expression the problem was discovered. See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a>.</p>\n</blockquote>\n<p>A solution depends on how you want to use the test in your Perl code, but if you need an <code>if</code> statement then I would simply invert the test and check that the line <em>doesn't</em> start with <code>==</code></p>\n<pre><code>unless ( /^==/ )\n</code></pre>\n<p>or, if you're allergic to Perl's <code>unless</code></p>\n<pre><code>if ( not /^==/ )\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8291672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e439241b9d2be01f9101e7b364842d4?s=128&d=identicon&r=PG&f=1", "display_name": "J. Wend", "link": "https://stackoverflow.com/users/8291672/j-wend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "accepted_answer_id": 45046425, "answer_count": 2, "score": 0, "last_activity_date": 1499819194, "creation_date": 1499801503, "question_id": 45043070, "link": "https://stackoverflow.com/questions/45043070/regex-to-match-all-lines-not-starting-with", "title": "Regex to match all lines not starting with ==", "body": "<p>This should be simple, but I've been having trouble with it. I want to write a regex in perl to match all lines that do not begin with an \"==\". I created this expression: </p>\n\n<p>^[^\\=\\=].*</p>\n\n<p>Which works fine in a regex tester I use, but when I run the perl script I get an error stating: </p>\n\n<p>POSIX syntax [= =] is reserved for future extensions in regex</p>\n\n<p>And the script terminates. I assume I'm using some syntax wrong, but I haven't found anything regarding this. Does anyone have a better way to match these lines?</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 6, "last_activity_date": 1499800827, "last_edit_date": 1499800827, "creation_date": 1499790048, "answer_id": 45039861, "question_id": 45039692, "link": "https://stackoverflow.com/questions/45039692/perl-split-array-into-matches-and-non-matches/45039861#45039861", "title": "perl: split array into matches and non-matches", "body": "<p><a href=\"http://metacpan.org/pod/List::UtilsBy#extract_by\" rel=\"nofollow noreferrer\"><code>List::UtilsBy::extract_by</code></a> is like <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\"><code>grep</code></a> but it modifies the input list:</p>\n\n<pre><code>use List::UtilsBy 'extract_by';\nmy @arr = (1,2,3,4,5);\n\nmy @evens = @arr;\nmy @odds = extract_by { $_ % 2 } @evens;\n\nprint \"@evens\\n@odds\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2 4\n1 3 5\n</code></pre>\n\n<p>There is also <code>List::UtilsBy::partition_by</code>:</p>\n\n<pre><code>my %parts = partition_by { $_ % 2 } @arr;\n@evens = @{$parts{0}};   # (2,4)\n@odds = @{$parts{1}};    # (1,3,5)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 7, "last_activity_date": 1499800876, "last_edit_date": 1499800876, "creation_date": 1499797497, "answer_id": 45042021, "question_id": 45039692, "link": "https://stackoverflow.com/questions/45039692/perl-split-array-into-matches-and-non-matches/45042021#45042021", "title": "perl: split array into matches and non-matches", "body": "<p>It's probably most succinct to simply <a href=\"http://perldoc.perl.org/functions/push.html\" rel=\"noreferrer\"><code>push</code></a> each value to the correct array in a <code>for</code> loop</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @arr = 1 .. 5;\n\nmy ( $odds, $evens );\n\npush @{ $_ % 2 ? $odds : $evens }, $_ for @arr;\n\n\nprint \"@$_\\n\" for $odds, $evens;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1 3 5\n2 4\n</code></pre>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1499800876, "creation_date": 1499789463, "question_id": 45039692, "link": "https://stackoverflow.com/questions/45039692/perl-split-array-into-matches-and-non-matches", "title": "perl: split array into matches and non-matches", "body": "<p>I know you can use <code>grep</code> to filter an array based on a boolean condition.  However, I want to get 2 arrays back: 1 for elements that match the condition and 1 for elements that fail.  For example, instead of this, which requires iterating over the list twice:</p>\n\n<pre><code>my @arr = (1,2,3,4,5);\nmy @evens = grep { $_%2==0 } @arr;\nmy @odds = grep { $_%2!=0 } @arr;\n</code></pre>\n\n<p>I'd like something like this:</p>\n\n<pre><code>my @arr = (1,2,3,4,5);\nmy ($evens, $odds) = magic { $_%2==0 } @arr;\n</code></pre>\n\n<p>Where <code>magic</code> returns 2 arrayrefs or something.  Does such an operator exist, or do I need to write it myself?</p>\n"}, {"tags": ["perl", "unix", "fork"], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1499785276, "post_id": 45038072, "comment_id": 77050348, "body": "It seems to me that the OP ought to <code>waitpid</code> for a particular child."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1499786072, "post_id": 45038072, "comment_id": 77050917, "body": "Yeah, I think polling the &#39;waitpid&#39; is suboptimal  - do the stuff you need in the &#39;main&#39; thread, and waitpid when you&#39;re done, and the process will &#39;sleep&#39; until it&#39;s go time."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1499791911, "post_id": 45038072, "comment_id": 77054910, "body": "You should use numeric comparison (<code>==</code>) for numbers, not string comparison (<code>eq</code>)."}, {"owner": {"reputation": 523, "user_id": 1160163, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e0a54f7b32766f81bf64c80082fba89?s=128&d=identicon&r=PG", "display_name": "Arran", "link": "https://stackoverflow.com/users/1160163/arran"}, "edited": false, "score": 0, "creation_date": 1499848272, "post_id": 45038072, "comment_id": 77078255, "body": "Thanks all, this is working now. Also updated the comparison :)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1499784972, "creation_date": 1499784972, "answer_id": 45038072, "question_id": 45037914, "link": "https://stackoverflow.com/questions/45037914/perl-fork-creates-new-pid-but-parent-doesnt-continue/45038072#45038072", "title": "Perl: fork creates new PID but parent doesn&#39;t continue", "body": "<p>Because <code>waitpid($pid, 0)</code> does not return until it has reaped a process or determined that there are no more child processes to reap.</p>\n\n<p>If you want to do a non-blocking wait, use the <code>WNOHANG</code> flag as the <a href=\"http://metacpan.org/pod/perlfunc#waitpid\" rel=\"nofollow noreferrer\">perldoc</a> explains:</p>\n\n<pre><code>use POSIX ':sys_wait_h';\n...\nwhile (1) {\n    my $child = waitpid(-1, WNOHANG); \n    last if $child eq -1; \n    print \"$pid1 is still running\\n\";\n    sleep 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 523, "user_id": 1160163, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e0a54f7b32766f81bf64c80082fba89?s=128&d=identicon&r=PG", "display_name": "Arran", "link": "https://stackoverflow.com/users/1160163/arran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 45038072, "answer_count": 1, "score": 1, "last_activity_date": 1499784972, "creation_date": 1499784587, "question_id": 45037914, "link": "https://stackoverflow.com/questions/45037914/perl-fork-creates-new-pid-but-parent-doesnt-continue", "title": "Perl: fork creates new PID but parent doesn&#39;t continue", "body": "<p>I'm trying to write some code to execute a long running process(simulated with a sleep, will actually be a call to a DB stored procedure) and wait till it's completed whilst asynchronously printing updates.</p>\n\n<p>Below is what I have so far...</p>\n\n<p>code...</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse 5.8.8;\n\nmy $pid1 = fork();\nif( $pid1 == 0 ){\n   print \"starting long running process: $$\\n\";\n    foreach (1..10) {\n        sleep 1;\n        print \"sleep $_\\n\";\n    }   \n   print \"completed long running process\\n\";\n   exit 0;\n}\n\nprint \"making sure long running process is complete: $$\\n\";\nwhile (1) {\n    my $child = waitpid(-1, 0); \n    last if $child eq -1; \n    print \"$child is still running\\n\";\n    sleep 1;\n}\n\nprint \"child PID:$pid1. Process has now completed: $$\\n\";\nexit 0;\n</code></pre>\n\n<p>output....</p>\n\n<pre><code>making sure long running process is complete: 27280\nstarting long running process: 27281\nsleep 1\nsleep 2\nsleep 3\nsleep 4\nsleep 5\nsleep 6\nsleep 7\nsleep 8\nsleep 9\nsleep 10\ncompleted long running process\n27281 is still running\nchild PID:27281. Process has now completed: 27280\n</code></pre>\n\n<p>So I can see there has been a child process created but why are my \"still running\" message not being printed till just after the child process has completed? (I'm expecting 9/10 of them but only get the one)</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 8290027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-OGFlbb54fB8/AAAAAAAAAAI/AAAAAAAAABo/5nxOM9SSgUg/photo.jpg?sz=128", "display_name": "Rottenheimer2", "link": "https://stackoverflow.com/users/8290027/rottenheimer2"}, "edited": false, "score": 0, "creation_date": 1499797298, "post_id": 45037275, "comment_id": 77058083, "body": "Thanks for the answer, I found that the first method is more suitable for my chase, and is well explained, thanks again!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1499783518, "last_edit_date": 1499783518, "creation_date": 1499782992, "answer_id": 45037275, "question_id": 45036786, "link": "https://stackoverflow.com/questions/45036786/how-can-i-replace-all-keys-of-a-hash-in-a-string-with-their-values/45037275#45037275", "title": "How can I replace all keys of a hash in a string with their values?", "body": "<p>You can use <a href=\"http://p3rl.org/substr\" rel=\"nofollow noreferrer\">substr</a> to replace the substring. I used <code>while</code> instead of <code>if</code> so you can replace multiple occurrences. <a href=\"http://p3rl.org/length\" rel=\"nofollow noreferrer\">length</a> <code>$key</code> is used to determine the length of the substring to replace.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %variables_hash = (\n    _number =&gt; 123,\n    _name   =&gt; 'John Smith',\n);\n\nmy $CMD = 'INSERT INTO customers (name, code) VALUES(\"_name\", _number)';\n\n\nwhile (my ($key, $value) = each %variables_hash) {\n    while (-1 != ( my $pos = index $CMD, $key )) {\n        substr $CMD, $pos, length $key, $value;\n    }\n}\n\nprint $CMD, \"\\n\";\n</code></pre>\n\n<p>Another option would be to use substitution (see <a href=\"http://p3rl.org/perlop\" rel=\"nofollow noreferrer\">perlop</a>), or a Template (e.g. <a href=\"http://p3rl.org/Template\" rel=\"nofollow noreferrer\">Template</a>).</p>\n\n<h2>Substitution:</h2>\n\n<pre><code>my $regex = join '|', map quotemeta, keys %variables_hash;\n\n$CMD =~ s/($regex)/$variables_hash{$1}/g;\n</code></pre>\n\n<p>Note that if one variable name is a substring of another, you probably want to process them from the longest to the shortest (the same applies to the <code>substr</code> solution); so you might need to say</p>\n\n<pre><code>map quotemeta, sort { length $b &lt;=&gt; length $a } keys %variables_hash;\n</code></pre>\n\n<h2>Template:</h2>\n\n<p>Note that variables can't start with underscores, but they aren't needed, as the variables are included in template tags, so you won't accidentally replace <code>name</code> when it refers to the column name.</p>\n\n<pre><code>use Template;\n\nmy %variables_hash = (\n    number =&gt; 123,\n    name   =&gt; 'John Smith',\n);\n\nmy $CMD = 'INSERT INTO customers (name, code) VALUES(\"[% name %]\", [% number %])';\n\nmy $template = 'Template'-&gt;new;\n$template-&gt;process(\\$CMD, \\%variables_hash);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 353, "user_id": 8290027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-OGFlbb54fB8/AAAAAAAAAAI/AAAAAAAAABo/5nxOM9SSgUg/photo.jpg?sz=128", "display_name": "Rottenheimer2", "link": "https://stackoverflow.com/users/8290027/rottenheimer2"}, "edited": false, "score": 0, "creation_date": 1499797612, "post_id": 45038016, "comment_id": 77058247, "body": "Well, thanks too, is well explained but I find the first method more intuitive, and to be honest, I am not that kind of &quot;regular expresion lover&quot;, but thanks anyway."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1499784854, "creation_date": 1499784854, "answer_id": 45038016, "question_id": 45036786, "link": "https://stackoverflow.com/questions/45036786/how-can-i-replace-all-keys-of-a-hash-in-a-string-with-their-values/45038016#45038016", "title": "How can I replace all keys of a hash in a string with their values?", "body": "<p>If you're going to be a Perl programmer, then you need to read the Perl FAQ. <a href=\"https://perldoc.perl.org/perlfaq4.html#How-can-I-expand-variables-in-text-strings%3F\" rel=\"nofollow noreferrer\">This is from perlfaq4.</a></p>\n\n<blockquote>\n  <p><strong>How can I expand variables in text strings?</strong></p>\n  \n  <p>(contributed by brian d foy)</p>\n  \n  <p>If you can avoid it, don't, or if you can use a templating system,\n  such as Text::Template or Template Toolkit, do that instead. You might \n  even be able to get the job done with <code>sprintf</code> or <code>printf</code>:</p>\n\n<pre><code>  my $string = sprintf 'Say hello to %s and %s', $foo, $bar;\n</code></pre>\n  \n  <p>However, for the one-off simple case where I don't want to pull out a \n  full templating system, I'll use a string that has two Perl scalar \n  variables in it. In this example, I want to expand <code>$foo</code> and <code>$bar</code> to \n  their variable's values:</p>\n\n<pre><code>   my $foo = 'Fred';\n   my $bar = 'Barney';\n   $string = 'Say hello to $foo and $bar';\n</code></pre>\n  \n  <p>One way I can do this involves the substitution operator and a double\n  <code>/e</code> flag. The first <code>/e</code> evaluates <code>$1</code> on the replacement side and\n  turns it into <code>$foo</code>. The second <code>/e</code> starts with <code>$foo</code> and replaces\n  it with its value. <code>$foo</code>, then, turns into 'Fred', and that's finally \n  what's left in the string:</p>\n\n<pre><code>   $string =~ s/(\\$\\w+)/$1/eeg; # 'Say hello to Fred and Barney'\n</code></pre>\n  \n  <p>The <code>/e</code> will also silently ignore violations of strict, replacing \n  undefined variable names with the empty string. Since I'm using the\n  <code>/e</code> flag (twice even!), I have all of the same security problems I\n  have with <code>eval</code> in its string form. If there's something odd in\n  <code>$foo</code>, perhaps something like <code>@{[ system \"rm -rf /\" ]}</code>, then I could \n  get myself in trouble.</p>\n  \n  <p>To get around the security problem, I could also pull the values from a \n  hash instead of evaluating variable names. Using a single <code>/e</code>, I can\n  check the hash to ensure the value exists, and if it doesn't, I can \n  replace the missing value with a marker, in this case <code>???</code> to signal\n  that I missed something:</p>\n\n<pre><code>   my $string = 'This has $foo and $bar';\n   my %Replacements = (\n       foo  =&gt; 'Fred',\n   );\n   # $string =~ s/\\$(\\w+)/$Replacements{$1}/g;\n   $string =~ s/\\$(\\w+)/\n       exists $Replacements{$1} ? $Replacements{$1} : '???'\n   /eg;\n\n   print $string;\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 353, "user_id": 8290027, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-OGFlbb54fB8/AAAAAAAAAAI/AAAAAAAAABo/5nxOM9SSgUg/photo.jpg?sz=128", "display_name": "Rottenheimer2", "link": "https://stackoverflow.com/users/8290027/rottenheimer2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1499784854, "creation_date": 1499781847, "last_edit_date": 1499784327, "question_id": 45036786, "link": "https://stackoverflow.com/questions/45036786/how-can-i-replace-all-keys-of-a-hash-in-a-string-with-their-values", "title": "How can I replace all keys of a hash in a string with their values?", "body": "<p>I am coding a script with a variable system. The program uses a hash with a value for each keyword, but I don't know how to continue\nwhen it comes to replacing all keywords in a string.</p>\n\n<p>The code of the replacement looks like:</p>\n\n<pre><code>while ( ($key, $value) = each %variables_hash ) {\n    if ( -1 != index($CMD, $key) ) {\n        # Here should be the code that I cant think how to do\n    }\n}\n</code></pre>\n\n<p><code>$CMD</code> is the input string, and\n<code>%variables_hash</code> is the hash that contains the variabless</p>\n"}, {"tags": ["perl", "perl-module", "moose"], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 2103008, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f6380f4cc9946e56ea4ad6bafc6f2eeb?s=128&d=identicon&r=PG", "display_name": "user2103008", "link": "https://stackoverflow.com/users/2103008/user2103008"}, "edited": false, "score": 0, "creation_date": 1499801051, "post_id": 45038639, "comment_id": 77060207, "body": "is that the standard/recommended way to use short names for imports? what I want to make sure is that the approach I end up using doesn&#39;t have any such gotchas associated with it and just works when used as a replacement to specifying the entire path."}], "tags": [], "owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "is_accepted": false, "score": 1, "last_activity_date": 1499786734, "last_edit_date": 1499786734, "creation_date": 1499786595, "answer_id": 45038639, "question_id": 45036512, "link": "https://stackoverflow.com/questions/45036512/using-aliased-with-moose-doesnt-seem-to-work-when-declaring-classes/45038639#45038639", "title": "using aliased with Moose doesn&#39;t seem to work when declaring classes", "body": "<p>Moose doesn't know about <code>use aliased</code>.  The pragma <code>use aliased</code> is a hack on top of Perl; all it does is create a subroutine with a short name that returns the class name.  So</p>\n\n<pre><code>use aliased 'A::B::D';\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>use A::B::D;\n\nsub D() { 'A::B::D' }\n</code></pre>\n\n<p>(see <a href=\"https://metacpan.org/source/ETHER/aliased-0.34/lib/aliased.pm#L45\" rel=\"nofollow noreferrer\">aliased.pm#L45</a>)</p>\n\n<p>Then, when you say something like <code>D-&gt;new()</code>, Perl notices that there is a subroutine (constant) named <code>D</code> and interprets <code>D</code> as a subroutine call, then does the method call on the result.  (Rather than interpreting <code>D</code> as a string constant like it normally would).  Even to Perl, <code>D</code> is not really a package name; just something that acts like a package name!</p>\n\n<p>Furthermore, Moose has its own system for parsing type declarations (which is why you can give them as a string like you did) and its own global notion of type declarations.  None of that knows about <code>aliased</code>, so Moose is using its default behavior of treating un-recognized types as (global) package names.</p>\n\n<p>If you understand how <code>aliased</code> works, you could take advantage of it by doing</p>\n\n<pre><code>has 'attribute' =&gt; (isa =&gt; 'ArrayRef['.D.']', is =&gt; 'ro', required =&gt; 1);\n</code></pre>\n\n<p>but it's probably better to remember that</p>\n\n<blockquote>\n  <p><a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/Types.pod#TYPE-NAMES\" rel=\"nofollow noreferrer\">Type names are global throughout the current Perl interpreter</a></p>\n</blockquote>\n\n<p>and either use fully-qualified package names as types everywhere, or use <a href=\"https://metacpan.org/pod/distribution/Type-Tiny/lib/Type/Tiny/Manual.pod\" rel=\"nofollow noreferrer\">Type::Tiny</a> and write</p>\n\n<pre><code>package A::B::C;\n\nuse Moose;\n\nuse aliased 'A::B::D';\n\nuse Types::Standard qw/ ArrayRef /;\nuse Type::Utils qw( class_type );\n\nhas 'attribute' =&gt; (isa =&gt; ArrayRef[class_type D], is =&gt; 'ro', required =&gt; 1);\n</code></pre>\n\n<p>(note the lack of quotes around <code>D</code>, possible only because of the <code>use aliased</code>!).</p>\n\n<p>(<code>Type::Tiny</code> will probably be faster than Moose types, so you might want to consider it anyway).</p>\n"}], "owner": {"reputation": 382, "user_id": 2103008, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f6380f4cc9946e56ea4ad6bafc6f2eeb?s=128&d=identicon&r=PG", "display_name": "user2103008", "link": "https://stackoverflow.com/users/2103008/user2103008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499786734, "creation_date": 1499781135, "question_id": 45036512, "link": "https://stackoverflow.com/questions/45036512/using-aliased-with-moose-doesnt-seem-to-work-when-declaring-classes", "title": "using aliased with Moose doesn&#39;t seem to work when declaring classes", "body": "<p>I'm a bit new to Perl. I'm trying to define/use a class in the following manner:</p>\n\n<pre><code>package A::B::C;\nuse strict;\nuse warnings;\nuse Moose;\nuse aliased 'A::B::D';\nhas 'attribute' =&gt; (isa =&gt; 'ArrayRef[D]', is =&gt; 'ro', required =&gt; 1);\n</code></pre>\n\n<p>While creating an object:</p>\n\n<pre><code>use aliased 'A::B::C';\nuse aliased 'A::B::D';\nmy $aref = [D-&gt;new()];\nC-&gt;new($aref);\n</code></pre>\n\n<p>However this fails as Moose complains:</p>\n\n<pre><code>Attribute (attribute) does not pass the type constraint because: Validation failed for 'ArrayRef[D]' with value ARRAY(0x7f2b658b51c0)\n</code></pre>\n\n<p>But, if I switch to not using aliases, it works(as it of course should):</p>\n\n<pre><code>package A::B::C;\nuse strict;\nuse warnings;\nuse Moose;\nuse A::B::D;\nhas 'attribute' =&gt; (isa =&gt; 'ArrayRef[A::B::D]', is =&gt; 'ro', required =&gt; 1);\n</code></pre>\n\n<p>My question is why does the use aliased bit not work with Moose?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "bash", "perl", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1499769129, "creation_date": 1499769129, "answer_id": 45032029, "question_id": 45031940, "link": "https://stackoverflow.com/questions/45031940/how-to-read-extract-data-between-parantheses-and-print-it-to-another-file/45032029#45032029", "title": "How to read extract data between parantheses and print it to another file", "body": "<p>Using <code>grep -oP</code> with lookaround based regex:</p>\n\n<pre><code>grep -oP '(?&lt;={)[^{}]+(?=})' file\n\n&amp; Vendor CGIO\n&amp; IP_OWNER cjohn\n&amp; Product pk_sgmii_serdes_sx_ico_idac_sw_by2\n&amp; DATE_TIME Aug 29 03:27:36 2016\n&amp; Version 1.1\n&amp; PDK_RELEASE_VERSION V1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1499769518, "creation_date": 1499769518, "answer_id": 45032172, "question_id": 45031940, "link": "https://stackoverflow.com/questions/45031940/how-to-read-extract-data-between-parantheses-and-print-it-to-another-file/45032172#45032172", "title": "How to read extract data between parantheses and print it to another file", "body": "<p>Perhaps <code>while</code> loop will also print the outputs:</p>\n\n<pre><code>my $str = '{&amp; Vendor CGIO} 1100 650} {{&amp; IP_OWNER cjohn} 1100 550} {{&amp; Product pk_sgmii_serdes_sx_ico_idac_sw_by2} 1100 450} {{&amp; DATE_TIME Aug 29 03:27:36 2016} 1100 750} {{&amp; Version 1.1} 1100 350} {{&amp; PDK_RELEASE_VERSION V1} 1100 850}';\n\nprint \"$1\\n\" while($str=~m/\\{([^\\{\\}]*)\\}/g);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1148, "user_id": 6591347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/muykQ.png?s=128&g=1", "display_name": "Oleksii Filonenko", "link": "https://stackoverflow.com/users/6591347/oleksii-filonenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1499770775, "last_edit_date": 1499770775, "creation_date": 1499769593, "answer_id": 45032221, "question_id": 45031940, "link": "https://stackoverflow.com/questions/45031940/how-to-read-extract-data-between-parantheses-and-print-it-to-another-file/45032221#45032221", "title": "How to read extract data between parantheses and print it to another file", "body": "<p>Try </p>\n\n<pre><code>grep -Poh '(?&lt;={)&amp; (?!DATE|PDK)[^}]+' Tags_file \n</code></pre>\n\n<p>What I got:</p>\n\n<pre><code>&amp; Vendor CGIO\n&amp; IP_OWNER cjohn\n&amp; Product pk_sgmii_serdes_sx_ico_idac_sw_by2\n&amp; Version 1.1\n</code></pre>\n\n<p>Just what you needed. (excluded <code>DATE_TIME</code> and <code>PDK</code> as in your example)</p>\n\n<p><a href=\"https://regex101.com/r/x9iAPW/1\" rel=\"nofollow noreferrer\">Regex101 demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "is_accepted": false, "score": 1, "last_activity_date": 1499894639, "creation_date": 1499894639, "answer_id": 45067747, "question_id": 45031940, "link": "https://stackoverflow.com/questions/45031940/how-to-read-extract-data-between-parantheses-and-print-it-to-another-file/45067747#45067747", "title": "How to read extract data between parantheses and print it to another file", "body": "<p>First, change all <code>{&amp;</code> to <code>newlines,</code> then get rid of the remaining <em>noise</em> (note that I removed the initial <code>&amp;</code> also):</p>\n\n<pre><code>$ echo \"{&amp; Vendor CGIO} 1100 650} {{&amp; IP_OWNER cjohn} 1100 550} {{&amp; Product pk_sgmii_serdes_sx_ico_idac_sw_by2} 1100 450} {{&amp; DATE_TIME Aug 29 03:27:36 2016} 1100 750} {{&amp; Version 1.1} 1100 350} {{&amp; PDK_RELEASE_VERSION V1} 1100 850}\" \n| sed 's/{&amp;/\\n/g' | awk -F\\} '{ print $1 }'\n\n Vendor CGIO\n IP_OWNER cjohn\n Product pk_sgmii_serdes_sx_ico_idac_sw_by2\n DATE_TIME Aug 29 03:27:36 2016\n Version 1.1\n PDK_RELEASE_VERSION V1\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5496710, "user_type": "registered", "accept_rate": 34, "profile_image": "https://lh4.googleusercontent.com/-oxW_dxQk1Rk/AAAAAAAAAAI/AAAAAAAAG80/dwiQZtq7VMA/photo.jpg?sz=128", "display_name": "StarCoder17", "link": "https://stackoverflow.com/users/5496710/starcoder17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 45032029, "answer_count": 4, "score": 1, "last_activity_date": 1499894639, "creation_date": 1499768895, "question_id": 45031940, "link": "https://stackoverflow.com/questions/45031940/how-to-read-extract-data-between-parantheses-and-print-it-to-another-file", "title": "How to read extract data between parantheses and print it to another file", "body": "<p>I am looking a method to extract a particular text from multiple parentheses and wanted to store in a file. The content looks like this.</p>\n\n<pre><code>{&amp; Vendor CGIO} 1100 650} {{&amp; IP_OWNER cjohn} 1100 550} {{&amp; Product pk_sgmii_serdes_sx_ico_idac_sw_by2} 1100 450} {{&amp; DATE_TIME Aug 29 03:27:36 2016} 1100 750} {{&amp; Version 1.1} 1100 350} {{&amp; PDK_RELEASE_VERSION V1} 1100 850}\n</code></pre>\n\n<p>I wanted to extract following and print into a file.</p>\n\n<pre><code>&amp; Vendor CGIO\n&amp; IP_OWNER cjohn\n&amp; Product pk_sgmii_serdes_sx_ico_idac_sw_by2\n&amp; Version 1.1\n</code></pre>\n\n<p>I tried using cut command but its not so useful to extract all variables.</p>\n\n<pre><code>cat Tags_file | cut -d '{' -f2 | cut -d '}' -f1\n</code></pre>\n"}, {"tags": ["windows", "perl", "email", "windows-10"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1499771809, "post_id": 45031128, "comment_id": 77039467, "body": "@Dave I think they mean they run the program on Windows 10, not that it works on Windows 10."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499787143, "post_id": 45031128, "comment_id": 77051736, "body": "There&#39;s no point in putting a shebang <code>#!</code> line on your Perl code except to apply command-line switches. The Windows command processor ignores it, and uses the file extension instead to determine what program to use to execute your code. Since you have <code>use warnings</code>, there&#39;s no need fir <code>-w</code> as well and you can delete that first line altogether."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1499772663, "creation_date": 1499772663, "answer_id": 45033342, "question_id": 45031128, "link": "https://stackoverflow.com/questions/45031128/connect-to-localhost-failed-using-mailsendmail-module-on-windows-10/45033342#45033342", "title": "Connect to localhost failed using Mail::Sendmail module on Windows 10", "body": "<p>Your local system isn't offering an SMTP service</p>\n\n<p>You need to specify an SMTP server by specifying the host name in the <code>smtp</code> parameter of your call to <code>sendmail</code></p>\n"}], "owner": {"reputation": 11, "user_id": 7623450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36556d842da7b7809651acd604d093ef?s=128&d=identicon&r=PG&f=1", "display_name": "programmer", "link": "https://stackoverflow.com/users/7623450/programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499772663, "creation_date": 1499766732, "last_edit_date": 1499772234, "question_id": 45031128, "link": "https://stackoverflow.com/questions/45031128/connect-to-localhost-failed-using-mailsendmail-module-on-windows-10", "title": "Connect to localhost failed using Mail::Sendmail module on Windows 10", "body": "<p>I have the following code:</p>\n\n<pre><code>#!C:\\Perl\\bin\\perl.exe -w\n\nuse strict;\nuse warnings;\n\nuse Mail::Sendmail;\n\nsendmail(\n    From    =&gt; 'xxxxxx@hotmail.com',\n    To      =&gt; 'xxxxxx@hotmail.com',\n    Subject =&gt; 'test email',\n    Message =&gt; \"body of the message\",\n);\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Connect to localhost failed (An attempt was made to access a socket in a way forbidden by its access permissions.) no (more) retries!</p>\n</blockquote>\n\n<p>I'm not sure how to correct it, any idea? I'm using Windows 10.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1499795702, "last_edit_date": 1499795702, "creation_date": 1499763054, "answer_id": 45029733, "question_id": 45029488, "link": "https://stackoverflow.com/questions/45029488/perl-replace-digits-in-document-with-math/45029733#45029733", "title": "Perl replace digits in document with math", "body": "<p>Use <code>sprintf \"%0.f\", $num</code> to round </p>\n\n<pre><code> perl -pe's{\"_height\",\"\\K(\\d+)}{sprintf \"%0.f\", $1/2.54}eg' input.csv\n</code></pre>\n\n<p>This uses <a href=\"https://perldoc.perl.org/5.10.0/perlre.html#Look-Around-Assertions\" rel=\"nofollow noreferrer\"><code>\\K</code> form</a> of the lookbehind.</p>\n\n<p>If there is any more than this to process I'd recommend to parse the CSV file properly with a module. A good choice is <a href=\"http://search.cpan.org/~ishigaki/Text-CSV-1.95/lib/Text/CSV.pm\" rel=\"nofollow noreferrer\">Text::CSV</a>, best with the <a href=\"http://search.cpan.org/~hmbrand/Text-CSV_XS-1.31/CSV_XS.pm\" rel=\"nofollow noreferrer\">Text::CSV_XS</a> backend.</p>\n"}], "owner": {"reputation": 115, "user_id": 7531401, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d877d36e33be58fe031848548b10b793?s=128&d=identicon&r=PG&f=1", "display_name": "Aivaras", "link": "https://stackoverflow.com/users/7531401/aivaras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 45029733, "answer_count": 1, "score": 1, "last_activity_date": 1499795702, "creation_date": 1499762374, "question_id": 45029488, "link": "https://stackoverflow.com/questions/45029488/perl-replace-digits-in-document-with-math", "title": "Perl replace digits in document with math", "body": "<p>I have .csv file in which I'm trying replace all instances of specific value for e.g. height:</p>\n\n<pre><code>\"_height\",\"10\"\n\"_height\",\"100\"\n</code></pre>\n\n<p>I need to divide value by 2.54 and round result to nearest whole number. So far managed to write this one liner, just not sure how to do rounding.</p>\n\n<pre><code>perl -pi.bak -e 's|((?&lt;=\"_height\",\").[0-9.]+)|($1)/2.54|eg' file\n</code></pre>\n"}, {"tags": ["perl", "conditional-operator"], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 1459846, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3952e03255c4eee625b5a9290b5a9198?s=128&d=identicon&r=PG&f=1", "display_name": "IMPERATOR", "link": "https://stackoverflow.com/users/1459846/imperator"}, "edited": false, "score": 0, "creation_date": 1499708470, "post_id": 45018366, "comment_id": 77010774, "body": "So correct me if I&#39;m wrong, Case &quot;C&quot; is when {1}{_flag} is not &amp; 2 and {2}{_flag} is not &amp; 2?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1499708015, "creation_date": 1499708015, "answer_id": 45018366, "question_id": 45018270, "link": "https://stackoverflow.com/questions/45018270/can-you-explain-this-nested-conditional-expression/45018366#45018366", "title": "Can you explain this nested conditional expression?", "body": "<p>A couple of line breaks makes all the difference, although I've also added some parens to make it crystal clear.</p>\n\n<pre><code>$type = $self-&gt;{1}{_flag} &amp; 2\n   ? ( $self-&gt;{2}{_flag} &amp; 2 ? \"A\" : \"B\" )\n   : ( $self-&gt;{2}{_flag} &amp; 2 ? \"B\" : \"C\" );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1499787173, "post_id": 45021192, "comment_id": 77051775, "body": "Ternary operator precedence is obvious enough <a href=\"http://phpsadness.com/sad/30\" rel=\"nofollow noreferrer\">unless you use PHP</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1499719140, "creation_date": 1499719140, "answer_id": 45021192, "question_id": 45018270, "link": "https://stackoverflow.com/questions/45018270/can-you-explain-this-nested-conditional-expression/45021192#45021192", "title": "Can you explain this nested conditional expression?", "body": "<p>I think it's irresponsible to write code like that where the operator precedence is far from obvious</p>\n\n<p>Using a mixture of <code>if</code> / <code>else</code> and conditional expressions it looks much clearer like this</p>\n\n<pre><code>if ( $self-&gt;{1}{_flag} &amp; 2 ) {\n\n    $type = $self-&gt;{2}{_flag} &amp; 2 ? \"A\" : \"B\";\n}\nelse {\n\n    $type = $self-&gt;{2}{_flag} &amp; 2 ? \"B\" : \"C\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "edited": false, "score": 1, "creation_date": 1499789309, "post_id": 45027540, "comment_id": 77053289, "body": "This doesn&#39;t seem to be an actual answer to the question.  I doubt that a Perl user at this level of skill would understand your (admittedly) cryptic equivalent at all."}, {"owner": {"reputation": 4122, "user_id": 5119765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca110abbbe4d7ed8cd9ff564de4e8024?s=128&d=identicon&r=PG&f=1", "display_name": "ADreNaLiNe-DJ", "link": "https://stackoverflow.com/users/5119765/adrenaline-dj"}, "edited": false, "score": 0, "creation_date": 1499861667, "post_id": 45027540, "comment_id": 77087968, "body": "Please add explanations to your answer."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": -1, "last_activity_date": 1499872582, "last_edit_date": 1499872582, "creation_date": 1499756451, "answer_id": 45027540, "question_id": 45018270, "link": "https://stackoverflow.com/questions/45018270/can-you-explain-this-nested-conditional-expression/45027540#45027540", "title": "Can you explain this nested conditional expression?", "body": "<p>That's almost as cryptic as the equivalent</p>\n\n<pre><code>$type = (qw/C x B x A/)[ $self-&gt;{1}{_flag} &amp; 2 + $self-&gt;{2}{_flag} &amp; 2 ];\n</code></pre>\n\n<p>More seriously, nesting ternary operators in the true-branch is confusing.  I'd use an explicit if/else.  Or if I really wanted a ternary, I'd rearrange this to:</p>\n\n<pre><code>$type = $self-&gt;{1}{_flag} &amp; 2 != $self-&gt;{2}{_flag} &amp; 2\n    ? 'B'\n    : $self-&gt;{1}{_flag} &amp; 2\n        ? 'A'\n        : 'C';\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 1459846, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3952e03255c4eee625b5a9290b5a9198?s=128&d=identicon&r=PG&f=1", "display_name": "IMPERATOR", "link": "https://stackoverflow.com/users/1459846/imperator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 45018366, "answer_count": 3, "score": 1, "last_activity_date": 1499872582, "creation_date": 1499707674, "last_edit_date": 1499718837, "question_id": 45018270, "link": "https://stackoverflow.com/questions/45018270/can-you-explain-this-nested-conditional-expression", "title": "Can you explain this nested conditional expression?", "body": "<p>I can't decipher this line of code. Could someone please translate it into <code>if</code> / <code>else</code> statements? </p>\n\n<p>I understand the basic <code>CONDITION ? VALUE_IF_TRUE : VALUE_IF_FALSE</code> pattern, but this line seems to break that.</p>\n\n<pre><code>$type = $self-&gt;{1}{_flag} &amp; 2 ?\n    $self-&gt;{2}{_flag} &amp; 2 ? \"A\" : \"B\" :\n    $self-&gt;{2}{_flag} &amp; 2 ? \"B\" : \"C\";\n</code></pre>\n"}, {"tags": ["perl", "cron"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499707314, "post_id": 45017403, "comment_id": 77010141, "body": "What is failing? Show the code. /// For what reason? When <code>open</code> fails, it places the error reason in <code>$!</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499710837, "post_id": 45017403, "comment_id": 77012167, "body": "You may be opening the file with a relative path, and <code>cron</code> likely does a <code>chdir</code>.  Please show your code."}, {"owner": {"reputation": 818, "user_id": 56565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8c65b603554811079a7ea9b7aab9c0?s=128&d=identicon&r=PG", "display_name": "gugod", "link": "https://stackoverflow.com/users/56565/gugod"}, "edited": false, "score": 0, "creation_date": 1499721513, "post_id": 45017403, "comment_id": 77017813, "body": "The message &quot;not readable&quot; does not look like something produce by the perl interpretor or by system (not in <code>man errno</code> nor in <code>perldoc perldiag</code>). I&#39;m guessing it&#39;s a string in your program. Apparently you&#39;re program is checking the availability of file already. I suggest that when you&#39;re dealing with system calls, always include <code>$!</code> in your message output -- that usually indicase a reason."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1499768164, "post_id": 45017403, "comment_id": 77036955, "body": "The error message looks like maybe you have an unprintable character after <code>.csv</code>.  Do you by any chance use a Windows editor to wreck your files?"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1499768131, "post_id": 45021917, "comment_id": 77036932, "body": "You cannot portably use <code>&amp;&gt;</code> in <code>cron</code>.  The correct, portable expression is <code>&#47;home&#47;dev&#47;metrique.pl &gt;&#47;home&#47;dev&#47;output.txt 2&gt;&amp;1</code>"}, {"owner": {"reputation": 29, "user_id": 8153598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317a1ea851d05ab3bb519a80d476f595?s=128&d=identicon&r=PG&f=1", "display_name": "maha", "link": "https://stackoverflow.com/users/8153598/maha"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1499770794, "post_id": 45021917, "comment_id": 77038761, "body": "@tripleee , i tried with  /home/dev/metrique.pl &gt; /home/dev/output.txt 2&gt;&amp;1.  But still the same error ."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1499772883, "post_id": 45021917, "comment_id": 77040257, "body": "Yeah, I don&#39;t think this is the only problem, out your question is too sprawly. Try to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "tags": [], "owner": {"reputation": 818, "user_id": 56565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8c65b603554811079a7ea9b7aab9c0?s=128&d=identicon&r=PG", "display_name": "gugod", "link": "https://stackoverflow.com/users/56565/gugod"}, "is_accepted": false, "score": 1, "last_activity_date": 1499722172, "creation_date": 1499722172, "answer_id": 45021917, "question_id": 45017403, "link": "https://stackoverflow.com/questions/45017403/program-run-under-cron-creates-file-in-wrong-path/45021917#45021917", "title": "Program run under cron creates file in wrong path", "body": "<p>cron context is very different than a login shell. It has no env vars by default. It appears to me that your program depends on <code>$ENV{USER}</code> to build it's output (or input). Well, that env var is just going to be missing from  cron. crontabs are executed by \"cron\" daemon and not as your login shell.</p>\n\n<p>You can try to print the whole <code>%ENV</code> to somewhere like \"/tmp/env.txt\" just to see that it's basically an empty hash. It's the best if you can change the program not to depend on env var. You may also try to add them back right before the schedule line:</p>\n\n<pre><code>USER=dev\n/3 * * * * /home/dev/metrique.pl &amp;&gt; /home/dev/output.txt\n</code></pre>\n\n<p>I must also notify you that after doing this, the env var USER becomes present for all the schedules below these 2 lines. Those env vars can also be inspected by <code>ps e</code>.</p>\n\n<p>If an env var is required just to decide an input path, than it's as easy as getting the input path from <code>@ARGV</code></p>\n"}, {"tags": [], "owner": {"reputation": 28247, "user_id": 7998591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d596f1872edb66dc5bcbf7e7b07098b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Nayak", "link": "https://stackoverflow.com/users/7998591/kaushik-nayak"}, "is_accepted": false, "score": 0, "last_activity_date": 1499777391, "creation_date": 1499777391, "answer_id": 45035126, "question_id": 45017403, "link": "https://stackoverflow.com/questions/45017403/program-run-under-cron-creates-file-in-wrong-path/45035126#45035126", "title": "Program run under cron creates file in wrong path", "body": "<p>It should  run your <code>.profile(or .bash_profile</code> for bash)  before executing the commands from cron.So, put it before your command in cron as shown. Similarly if there are any profile scripts which you run on login that is used in the perl script, those have to be included.</p>\n\n<pre><code>/3 * * * * . $HOME/.profile; /home/dev/metrique.pl &amp;&gt; /home/dev/output.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 8153598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317a1ea851d05ab3bb519a80d476f595?s=128&d=identicon&r=PG&f=1", "display_name": "maha", "link": "https://stackoverflow.com/users/8153598/maha"}, "is_accepted": false, "score": 0, "last_activity_date": 1501144430, "creation_date": 1501144430, "answer_id": 45345421, "question_id": 45017403, "link": "https://stackoverflow.com/questions/45017403/program-run-under-cron-creates-file-in-wrong-path/45345421#45345421", "title": "Program run under cron creates file in wrong path", "body": "<p>I solved the problem, crontab execute the script in the home \"/home/httpldev/\" (default), so I changed the execution path by following;</p>\n\n<p>0 9 1 * * cd /home/httpldev/iLicoMetrics/ &amp;&amp; /home/httpldev/iLicoMetrics/metrique.pl &amp;> /dev/null .</p>\n\n<p>Thank you a lot for your help.</p>\n"}], "owner": {"reputation": 29, "user_id": 8153598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317a1ea851d05ab3bb519a80d476f595?s=128&d=identicon&r=PG&f=1", "display_name": "maha", "link": "https://stackoverflow.com/users/8153598/maha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1501144430, "creation_date": 1499704563, "last_edit_date": 1499767857, "question_id": 45017403, "link": "https://stackoverflow.com/questions/45017403/program-run-under-cron-creates-file-in-wrong-path", "title": "Program run under cron creates file in wrong path", "body": "<p>I am trying to execute a Perl script using crontab.  </p>\n\n<p>Manually, the script works fine, but when I use cron, I get an error</p>\n\n<blockquote>\n  <p>/home/dev/test.csv : not readable</p>\n</blockquote>\n\n<p><code>/home/dev/test.csv</code> is a file generated by the script, but it is created as <code>/home/test.csv</code> and\nI don't know how or why.</p>\n\n<p>This is my crontab:</p>\n\n<pre><code>/3 * * * * /home/dev/metrique.pl &amp;&gt; /home/dev/output.txt\n</code></pre>\n\n<hr>\n\n<p>this is my code :</p>\n\n<pre><code>#!/sw/freetools/perl/5.8.8/Linux/rh50/x86_64/bin/perl\n\n#use strict ;\n#use warnings ;\nuse DBI ;\nuse DateTime ;\nuse Text::CSV;\nuse MIME::Lite;\n\nmy $Month = DateTime-&gt;now-&gt;subtract(months=&gt;0)-&gt;truncate(to=&gt;'month') -&gt;strftime('%B') ; \nmy $Date = DateTime-&gt;now-&gt;subtract(months=&gt;0)-&gt;truncate(to=&gt;'month') -&gt;strftime('%Y-%m') ;\n$Date =\"%\".$Date.\"%\" ;\nmy %info = (db =&gt;  \"ilico\", host =&gt; \"gnx5910.gnb.st.com\", user =&gt; \"ilicousr\", pass =&gt; \"\" );\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:$info{db};$info{host}\", $info{user}, $info{pass});\nmy @record ;        \nmy %Report;\nmy @other;\nmy @region = qw{EMEA AME ASIA INDIA Global-WAN}; \nmy @scope = qw{wan lan specific};\nmy $total_weekly = 0;\nmy $total_usage = 0;\nmy $weekly = '2';\nmy $usage = '1';\nmy @top_user ;\nmy @array ;\nmy @user ;\nmy %hash = ();\nmy %sum = ();\nmy %LOGIN_W = ();\nmy %Groupe = ();\nmy %hash1 = ();\nmy %Nom_Complet = ();\nmy %NUMBER = ();\n\nmy $filename1=\"NBgenerated_Reports.csv\";\nmy $filename2=\"Report_Scope.csv\";\nmy $filename3 =\"Top_10_Features.csv\";\nmy $filename4 =\"Top_10_Users.csv\";\nmy $filename5 =\"/sw/st/itcad/setup/shared_data/ldp_om.csv\";\nmy $filename6 =\"Report_Groupe.csv\";\n\nopen(my $fh1, \"&gt;\", $filename1) or die \"cannot open &lt; $filename1: $!\";\nopen(my $fh2, \"&gt;\", $filename2) or die \"cannot open &lt; $filename2: $!\";\nopen(my $fh3, \"&gt;\", $filename3) or die \"cannot open &lt; $filename3: $!\";\nopen(my $fh4, \"&gt;\", $filename4) or die \"cannot open &lt; $filename4: $!\";\nopen(my $fh5, \"&lt;\", $filename5) or die \"cannot open &lt; $filename5: $!\";\nopen(my $fh6, \"&gt;\", $filename6) or die \"cannot open &lt; $filename6: $!\";\n\nprint $fh1 \"Region; Usage_Report; Weekly; \\n\";\nprint $fh2 \"Scope; NB; \\n\";\nprint $fh3 \"Feature; NB; \\n\";\nprint $fh4 \"User; NB_Report ;Groupe \\n\";\nprint $fh6 \"Groupe; NB_Report \\n\";\n\n\n#usage &amp; weekly\nmy $sql  = qq/SELECT COUNT( `Region`.`RegID` ) FROM `iLico_Log`, `Region` WHERE `iLico_Log`.`Date` LIKE ? AND `Region`.`RegID` = `iLico_Log`.`RegID` AND `iLico_Log`.`Type` = ? \n        AND `Region`.`RegName` LIKE ? / ; \n\nforeach my $reg (@region){ \n foreach my $type ($weekly, $usage){  \n  my $sth  = $dbh-&gt;prepare($sql) or die (\"unable to prepare\");\n     $sth-&gt;execute(($Date, $type, $reg)) ;\n    @record = $sth -&gt; fetchrow_array();\n        $Report{$reg}{$type}=$record[0]; \n    }\n}\n\nforeach my $reg (keys %Report) {\n    $total_usage += $_ for($Report{$reg}{$usage});\n    $total_weekly += $_ for($Report{$reg}{$weekly});\n    print $fh1 \"$reg ; $Report{$reg}{$usage}; $Report{$reg}{$weekly} \\n\"; \n    }\n\n    print $fh1 \"total; $total_usage; $total_weekly; \\n\";\n\n#scope\nmy $SCOPE = qq/SELECT COUNT(logID ) FROM `iLico_Log` WHERE `iLico_Log`.`Date` LIKE ? AND `iLico_Log`.`scope`= ?/;\nforeach my $sc (@scope){\n    my $sth  = $dbh-&gt;prepare($SCOPE) or die (\"unable to prepare\");\n         $sth-&gt;execute($Date, $sc) ; \n        my @record = $sth -&gt; fetchrow_array();\n     print $fh2 \"$sc; @record; \\n\";\n     }\n\n#Top 10 features\nmy $TopFeatures = qq/SELECT `Feature`.`FeatName` , COUNT( * ) NB FROM `iLico_Log`, `Feature` WHERE `iLico_Log`.`Date` LIKE ? AND `iLico_Log`.`FeatID` = `Feature`.`FeatID` GROUP BY `Feature`.`FeatID` ORDER BY NB DESC LIMIT 10 /;\n\nmy $sth  = $dbh-&gt;prepare($TopFeatures) or die (\"unable to prepare\");\n    $sth-&gt;execute($Date) ; \n    while( @record = $sth -&gt; fetchrow_array())\n       { \n     print $fh3 \"$record[0]; $record[1];  \\n\";\n       }\n\n#other features number\nmy $Other = qq/SELECT COUNT(DISTINCT `iLico_Log`.`FeatID`) NB FROM `iLico_Log`, `Feature` WHERE `iLico_Log`.`Date` LIKE ? AND `iLico_Log`.`FeatID` = `Feature`.`FeatID`/;\n $sth  = $dbh-&gt;prepare($Other) or die (\"unable to prepare\");\n        $sth-&gt;execute($Date) ; \n        @record = $sth -&gt; fetchrow_array();\n     $other[0] = $record[0] - 10 ;\n        print $fh3 \"Other_features_number; @other \\n\";\n\n#total usage of all and other features\nmy $TotalUsage =qq/SELECT COUNT( * ) SU  FROM `iLico_Log` , `Feature`  WHERE `iLico_Log`.`Date` LIKE ? AND `iLico_Log`.`FeatID` = `Feature`.`FeatID`/;\nmy $SUMTopFeatures = qq/select sum(NB) from (SELECT `Feature`.`FeatName` , COUNT( * ) NB FROM `iLico_Log`, `Feature` WHERE `iLico_Log`.`Date` LIKE ? AND `iLico_Log`.`FeatID` = `Feature`.`FeatID` GROUP BY `Feature`.`FeatID` ORDER BY NB DESC LIMIT 10) AS subquery /;\n\n $sth  = $dbh-&gt;prepare($TotalUsage) or die (\"unable to prepare\");\n my $sth1  = $dbh-&gt;prepare($SUMTopFeatures) or die (\"unable to prepare\");\n    $sth-&gt;execute($Date) ;\n    $sth1-&gt;execute($Date) ; \n    @record = $sth -&gt; fetchrow_array();\n    my @sum = $sth1 -&gt; fetchrow_array();\n     $other[0] = $record[0] - $sum[0] ;\n        print $fh3 \"Other_total_usage; @other\"; \n\n\n#select login windows and groupe from file ldp_om.csv to be used in top_10_user and nomber Report/Groupe\nwhile (&lt;$fh5&gt;) {\n    chomp;\n       my  ($mail, $uid, $site, $grp, $dvs, $cnt, $ccost, $mng, $typ, $phone, $first, $last, $login, $cn) = split ';', lc($_), 14;\n     if (! exists $LOGIN_W{$login}) {\n             $LOGIN_W{$login} = $grp;\n        }\n\n        if (! exists $hash{$login}) {\n             $Groupe{$login} = $grp;\n         $Nom_Complet{$login} = $cn;\n     }\n}\n\n#top 10 user / Groups\nmy $TopUsers = qq/select ilicoUserLogin, COUNT(*) NB, Display from ilico_log I where Date like ? GROUP BY I.ilicoUserLogin ORDER BY NB DESC LIMIT 10/;\n$sth  = $dbh-&gt;prepare($TopUsers) or die (\"unable to prepare\");\n$sth-&gt;execute($Date) ; \n    while( @top_user = $sth -&gt; fetchrow_array())\n       { \n     $top_user[0] =~ s/\\s+/ /g; \n         push (@array, lc($top_user[0]));\n     my $login = lc($top_user[0]);\n     $NUMBER{$login} = $top_user[1];\n       }\n\nforeach my $login ( @array ){ \n     $hash1{$login} = $Groupe{$login}; \n}\n\nforeach my $login (sort {$NUMBER{$b} &lt;=&gt; $NUMBER{$a}} keys %hash1) { \n    my $grpe = uc($hash1{$login}) ;\n    my $name = ucfirst($Nom_Complet{$login});\n    print $fh4 \"$name ; $NUMBER{$login} ; $grpe ; \\n\";\n}\n\n#Report/Groupe \nmy $Groupe = qq/select ilicoUserLogin, Count(*) NB from ilico_log I where Date like ? GROUP BY I.ilicoUserLogin ORDER BY NB DESC  /;\n$sth  = $dbh-&gt;prepare($Groupe) or die (\"unable to prepare\");\n$sth-&gt;execute($Date) ;\nwhile( @user = $sth -&gt; fetchrow_array())\n       { \n     $user[0] =~ s/\\s+/ /g;\n       my $login = lc($user[0]);\n     $LOGIN_W{my $grp}{$login} = $user[1];\n       }\n\nforeach my $login ( keys %LOGIN_W) { \n    if (defined( $login ) and $login ne '')\n    {\n        $sum{$LOGIN_W{$login}} += $LOGIN_W{my $var}{$login} ;\n    } \n}\n\nfor my $key (sort {$sum{$b} &lt;=&gt; $sum{$a}} keys %sum) {\n    if ($sum{$key})\n    {  \n        my $KEYS = uc($key);\n        print $fh6 \"$KEYS; $sum{$key}; \\n\";\n    }\n}\n\nclose $fh1;\nclose $fh2;\nclose $fh3;\nclose $fh4;\nclose $fh5;\nclose $fh6;\n\nmy $msg = MIME::Lite-&gt;new ( \n\n            From        =&gt;  'maha.mastouri@st.com',\n\n            To          =&gt;   'maha.mastouri@st.com', \n\n#       Cc      =&gt;  'maha.mastouri@st.com',\n\n            Subject     =&gt; \"iLico Mertique $Month\",\n\n        Type        =&gt; 'text/plain' ,\n\n            Path   =&gt;  '/home/dev/text'\n\n ); \n\n\n\n $msg-&gt;attach(  Type        =&gt;  'TEXT',\n\n                Path        =&gt;  '/home/dev/NBgenerated_Reports.csv',\n\n                Disposition =&gt;  'attachment',\n        Filename    =&gt;   'NB_generated_Reports.csv'\n\n ); \n\n$msg-&gt;attach(  Type        =&gt;  'TEXT',\n\n                Path        =&gt;  '/home/dev/Top_10_Features.csv',\n\n                Disposition =&gt;  'attachment',\n        Filename    =&gt;   'Top_10_Features.csv'\n\n ); \n\n\n$msg-&gt;attach(  Type        =&gt;  'TEXT',\n\n                Path        =&gt;  '/home/dev/Report_Scope.csv',\n\n                Disposition =&gt;  'attachment',\n        Filename    =&gt;   'Report_Scope.csv'\n\n ); \n\n$msg-&gt;attach(  Type        =&gt;  'TEXT',\n\n                Path        =&gt;  '/home/dev/Top_10_Users.csv',\n\n                Disposition =&gt;  'attachment',\n        Filename    =&gt;   'Top_10_Users.csv'\n\n ); \n\n\n$msg-&gt;attach(  Type        =&gt;  'TEXT',\n\n                Path        =&gt;  '/home/dev/Report_Groupe.csv',\n\n                Disposition =&gt;  'attachment',\n        Filename    =&gt;   'Report_Groupe.csv'\n\n ); \n\n$msg-&gt;send(); \n</code></pre>\n"}, {"tags": ["mysql", "perl", "datetime"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1499702785, "post_id": 45016693, "comment_id": 77007431, "body": "Your error suggests you are not getting a valid date out of your database, i.e. the field is null and got turned into <code>0000-00-00 00:00:00</code>.  Check your database."}], "answers": [{"comments": [{"owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "edited": false, "score": 0, "creation_date": 1499703604, "post_id": 45016909, "comment_id": 77007940, "body": "MySQL is storing null dates as all zeros, I&#39;m tentatively restting those to epoch start:      $date = &#39;1970-01-01 00:00:00&#39; if $node-&gt;{status_rec_date} eq &#39;0000-00-00 00:00:00&#39;;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "edited": false, "score": 1, "creation_date": 1499703791, "post_id": 45016909, "comment_id": 77008067, "body": "Is it a nullable column? Surely a null is better than an invalid date? I think that you can put MySQL into a &quot;strict&quot; mode where it won&#39;t allow invalid data like this."}, {"owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "edited": false, "score": 0, "creation_date": 1499717477, "post_id": 45016909, "comment_id": 77015783, "body": "The database is the backend for Cacti, I don&#39;t want to change anything schemawise in fear that it will break the designed usage for that application. If 0&#39;s are not a valid date in Perl modules, then I am setting the date manually to start of epoch which I&#39;ve seen consistently used  elsewhere as Null for dates."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "edited": false, "score": 0, "creation_date": 1499757999, "post_id": 45016909, "comment_id": 77029991, "body": "And here we see why people should be licensed before being allowed to design databases :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1499703074, "creation_date": 1499703074, "answer_id": 45016909, "question_id": 45016693, "link": "https://stackoverflow.com/questions/45016693/parse-datetime-from-mysql-database/45016909#45016909", "title": "Parse DateTime from MySQL database", "body": "<p>The obvious debugging step would be to print the value of <code>$node-&gt;{'status_rec_date'}</code> inside your <code>verify()</code> subroutine. I suspect you'll find that the data isn't what you think it is.</p>\n\n<p>Looking at the stacktrace in your error message, the outer call is:</p>\n\n<blockquote>\n  <p>DateTime::Format::DateParse::parse_datetime('DateTime::Format::DateParse', '0000-00-00 00:00:00') called at hosts.pl line 43</p>\n</blockquote>\n\n<p>You're passing in \"0000-00-00 00:00:00\". And that's not a valid date string.</p>\n\n<p>So it seems the problem is in your database. I'll note that the string you're getting is an invalid date that MySQL seems to like to insert into datetime fields when it doesn't have a valid value - so you might want to look at how that field is populated.</p>\n"}], "owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 1, "accepted_answer_id": 45016909, "answer_count": 1, "score": 0, "last_activity_date": 1499719504, "creation_date": 1499702393, "last_edit_date": 1592644375, "question_id": 45016693, "link": "https://stackoverflow.com/questions/45016693/parse-datetime-from-mysql-database", "title": "Parse DateTime from MySQL database", "body": "<p>I'm having issues parsing dates from a MySQL result. I'm certain that it has to do with the value being inside a multi-level hash, but I am not sure where I need to mutate the element to get the desired effect</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nuse Data::Dumper;\nuse DBI;\nuse DateTime::Format::MySQL;\n\nuse DateTime::Format::DateParse;\nour $now  = DateTime-&gt;now(time_zone=&gt;'America/New_York');\n\nmy $dbh = DBI-&gt;connect('DBI:mysql:database=cacti;host=localhost;port=3306', 'user', 'password');\nmy $sth = $dbh-&gt;prepare('\n    SELECT hostname, description, notes, status, disabled, status_rec_date\n    FROM host; \n');\n$sth-&gt;execute();\nmy $ref = $sth-&gt;fetchall_hashref('hostname');\n$sth-&gt;finish;\n$dbh-&gt;disconnect();\n\nprint Dumper verify($ref-&gt;{$_}) for (keys %{$ref});\n\nsub verify {\n    my $node = shift;\n\n    my $date = $node-&gt;{'status_rec_date'};\n    #my $date = '2017-06-25 00:55:00';\n\n    $node-&gt;{elapsed} = DateTime::Format::DateParse-&gt;parse_datetime($date);\n\n    return $node-&gt;{elapsed};\n}\n</code></pre>\n<p>Dates are stored in the database in the format <code>2017-06-25 00:55:00</code>, which is consistent with the input example in <code>DateTime::Format::MySQL</code> (which I have also tried in addition to <code>DateTime::Format::DateParse</code>).</p>\n<p>If I manually set <code>$date</code> to <code>2017-06-25 00:55:00</code> then all works as expected, however when I pass that string in the form of a hash element, or assign that hash element to a variable, the script fails.</p>\n<h3>Error when using hashref:</h3>\n<pre><code>$ ./hosts.pl \nValidation failed for type named DayOfMonth declared in package DateTime::Types (/usr/local/lib64/perl5/DateTime/Types.pm) at line 29 in sub named (eval) with value 00\n\nTrace begun at Specio::Exception-&gt;new line 57\nSpecio::Exception::throw('Specio::Exception', 'message', 'Validation failed for type named DayOfMonth declared in package DateTime::Types (/usr/local/lib64/perl5/DateTime/Types.pm) at line 29 in sub named (eval) with value 00', 'type', 'Specio::Constraint::Simple=HASH(0x3925e08)', 'value', 00) called at (eval 256) line 85\nDateTime::_check_new_params('hour', 00, 'minute', 00, 'month', 0, 'second', 0, 'day', 00, 'year', 1900, 'time_zone', -0400) called at /usr/local/lib64/perl5/DateTime.pm line 165\nDateTime::new('DateTime', 'hour', 00, 'minute', 00, 'month', 0, 'second', 0, 'day', 00, 'year', 1900, 'time_zone', -0400) called at /usr/local/share/perl5/DateTime/Format/DateParse.pm line 75\nDateTime::Format::DateParse::parse_datetime('DateTime::Format::DateParse', '0000-00-00 00:00:00') called at hosts.pl line 43\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1499699226, "post_id": 45015430, "comment_id": 77004933, "body": "You will need to find an older binary. You cannot tell Perl to emulate an older version. Please run <code>perl -V</code> on the old machine and tell us exactly what version you have there. Is that an ActivePerl too, or is it something you compiled manually? Both ActivePerl as well as Strawberry only list Perls down to 5.8 for download (though for ActivePerl you need to have a commercial licence to get old ones)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1499699648, "post_id": 45015430, "comment_id": 77005231, "body": "In 1998 Perl 5.4 was current. You have to go back to 1994 for the release of v5.0. Do you really need to run a 23-year-old image?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499700113, "post_id": 45015430, "comment_id": 77005561, "body": "Thanks. I asked for <code>perl -V</code> with a capital <code>V</code> though, which displays even more information. But this is already useful information."}, {"owner": {"reputation": 109, "user_id": 4340329, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-7ehrJn52Fsk/AAAAAAAAAAI/AAAAAAAAAGE/y2AlCxY7D_k/photo.jpg?sz=128", "display_name": "N&#233;meth P&#233;ter", "link": "https://stackoverflow.com/users/4340329/n%c3%a9meth-p%c3%a9ter"}, "edited": false, "score": 0, "creation_date": 1499700128, "post_id": 45015430, "comment_id": 77005568, "body": "Added perl version to comment. Yes, i need to use this version, because almost 15 tester has this version, and it is an ICT tester part. I can not tell what will happening if i update the perl version."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499700251, "post_id": 45015430, "comment_id": 77005665, "body": "<a href=\"http://www.perlmonks.org/?node_id=888967\" rel=\"nofollow noreferrer\">Here&#39;s a brief history</a> of the Windows Perl world. ActiveWare became ActiveState. I think getting that exact version is going to be pretty hard."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1499700420, "post_id": 45015430, "comment_id": 77005777, "body": "<a href=\"https://www.cpan.org/ports/win32/Standard/x86/\" rel=\"nofollow noreferrer\">cpan.org/ports/win32/Standard/x86</a> has some old versions. I cannot see a 5.003 though. But there is something 5.004 and newer. Might be worth a try. I also found <a href=\"http://www.lib.ru/PERL/Perl_for_Win32_FAQ_1.txt_with-big-pictures.html\" rel=\"nofollow noreferrer\">lib.ru/PERL/Perl_for_Win32_FAQ_1.txt_with-big-pictures.html</a>, which lists a few things, including how to build your own. In that case, all you need is the source code and build tools."}, {"owner": {"reputation": 109, "user_id": 4340329, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-7ehrJn52Fsk/AAAAAAAAAAI/AAAAAAAAAGE/y2AlCxY7D_k/photo.jpg?sz=128", "display_name": "N&#233;meth P&#233;ter", "link": "https://stackoverflow.com/users/4340329/n%c3%a9meth-p%c3%a9ter"}, "edited": false, "score": 0, "creation_date": 1499703116, "post_id": 45015430, "comment_id": 77007632, "body": "Thanks for the old installers, i will search a computer which has not have a perl installation yet. i cannot install the office computer because it already has a never version what is using an another test development software..."}, {"owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "edited": false, "score": 0, "creation_date": 1499703482, "post_id": 45015430, "comment_id": 77007860, "body": "This seems to be exactly the sort of thing that virtual machines are designed to handle."}, {"owner": {"reputation": 109, "user_id": 4340329, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-7ehrJn52Fsk/AAAAAAAAAAI/AAAAAAAAAGE/y2AlCxY7D_k/photo.jpg?sz=128", "display_name": "N&#233;meth P&#233;ter", "link": "https://stackoverflow.com/users/4340329/n%c3%a9meth-p%c3%a9ter"}, "edited": false, "score": 0, "creation_date": 1499749063, "post_id": 45015430, "comment_id": 77025503, "body": "I will try to make an exe with PAR-Packer from the source, and try to use it on the testers, so it will not depends on the onsite version. I will feedback if it is working. Just a flag: Do not run pp with flag -x if you have return code different from 0in your code, because it will run your script, and you will get SYSTEM ERROR!"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4340329, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-7ehrJn52Fsk/AAAAAAAAAAI/AAAAAAAAAGE/y2AlCxY7D_k/photo.jpg?sz=128", "display_name": "N&#233;meth P&#233;ter", "link": "https://stackoverflow.com/users/4340329/n%c3%a9meth-p%c3%a9ter"}, "edited": false, "score": 0, "creation_date": 1499748876, "post_id": 45018565, "comment_id": 77025439, "body": "Unfortunatelly these testers coming from other sites, and working for over years. Because of they are a lot of cheaper than a fresh new updated system. We havent any licenses for it. We cannot change the operating system, PC or test software, because we havent any installer, license for update these..."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 109, "user_id": 4340329, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-7ehrJn52Fsk/AAAAAAAAAAI/AAAAAAAAAGE/y2AlCxY7D_k/photo.jpg?sz=128", "display_name": "N&#233;meth P&#233;ter", "link": "https://stackoverflow.com/users/4340329/n%c3%a9meth-p%c3%a9ter"}, "edited": false, "score": 0, "creation_date": 1499770349, "post_id": 45018565, "comment_id": 77038452, "body": "You do not need an installer and you know where to got for licenses."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1499708771, "creation_date": 1499708771, "answer_id": 45018565, "question_id": 45015430, "link": "https://stackoverflow.com/questions/45015430/specify-perl-script-to-run-on-an-earlier-version-of-perl/45018565#45018565", "title": "Specify perl script to run on an earlier version of perl", "body": "<p>If I understand you correctly, you have Computer A which has <code>perl</code> <code>5.003_7</code>. Therefore, copying that distribution from Computer A to Computer B where you want to do development is the most straightforward answer.</p>\n\n<p>You say the testers also have this version of Perl. Therefore, your company must have bought either a site license or some specific number of licenses from ActiveState. You should investigate that first.</p>\n\n<p>If you are stuck, contact ActiveState for support. They may provide you one for a fee.</p>\n\n<p>Your company, however, faces the problem of having operations depend on ancient, no longer supported software to run programs which probably have problems of their own. It would be a good idea to move into this century.</p>\n"}, {"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1499709607, "creation_date": 1499709607, "answer_id": 45018798, "question_id": 45015430, "link": "https://stackoverflow.com/questions/45015430/specify-perl-script-to-run-on-an-earlier-version-of-perl/45018798#45018798", "title": "Specify perl script to run on an earlier version of perl", "body": "<p>If you absolutely must, no way around it, run ancient perl, your scripts cannot use more modern stuff.</p>\n\n<p>Check out perlbrew to have more than one version of perl on your development/test box so you can test your code on several versions of perl with one command.</p>\n\n<p>And perhaps also <a href=\"http://perldoc.perl.org/perl.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perl.html</a> to see the docs of older perls.\n It goes back only to 5.8.8 (~2005), but better than using docs for 5.24 in your situation.</p>\n"}], "owner": {"reputation": 109, "user_id": 4340329, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-7ehrJn52Fsk/AAAAAAAAAAI/AAAAAAAAAGE/y2AlCxY7D_k/photo.jpg?sz=128", "display_name": "N&#233;meth P&#233;ter", "link": "https://stackoverflow.com/users/4340329/n%c3%a9meth-p%c3%a9ter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 987, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1499709607, "creation_date": 1499698799, "last_edit_date": 1499700352, "question_id": 45015430, "link": "https://stackoverflow.com/questions/45015430/specify-perl-script-to-run-on-an-earlier-version-of-perl", "title": "Specify perl script to run on an earlier version of perl", "body": "<p>I have some old production computer which has Perl 5.0 (updated version 1998).\nI developed a script on my office computer with Activestate Perl 5.24.1</p>\n\n<p>When i tried to run on the older version (installed on Windows XP) it drops several warnings, etc can not know about <code>USE Warnings;</code>, or <code>three parameter open</code> function.</p>\n\n<p>The our keyword cannot be used with <code>use strict;</code></p>\n\n<pre><code>our %Config = (\n        'SourcePath' =&gt; \"\",\n        'TargetPath' =&gt; \"\",\n        'Station'    =&gt; \"\",\n        'Product'    =&gt; \"\",\n        'LogLevel'   =&gt; 0\n    );\n</code></pre>\n\n<p>When i tried to print a string with a hash variable in, it drops a warning too.\nThe code is: </p>\n\n<pre><code>print $fhw qq/  &lt;FACTORY NAME=\"FLEX_ZALA\" TESTER=\"$Config{'Station'}\" FIXTURE=\"\" USER=\"\" LINE=\"\" SHIFT=\"\" \\/&gt;\\n/;\n</code></pre>\n\n<p>The Station variable is not known for it.</p>\n\n<p>I cannot develop on a production machine, but cannot install this old version on my office computer too.</p>\n\n<p>How can i force to run my script with perl 5.24.1 in compatibily mode 5.0?</p>\n\n<p>I using a windows 7 X64 PC for office.</p>\n\n<p>Thanks.</p>\n\n<p>UPD1:\nThe XP Perl version is:</p>\n\n<blockquote>\n  <p>Microsoft Windows XP [Version 5.1.2600] (C) Copyright 1985-2001\n  Microsoft Corp.</p>\n  \n  <p>C:\\Documents and Settings\\grprog1>perl -v</p>\n  \n  <p>This is perl, version 5.003_07</p>\n  \n  <p>Copyright 1987-1996, Larry Wall</p>\n\n<pre><code>    + suidperl security patch\n    Win32 port Copyright (c) 1995-1996 Microsoft Corporation.\n            All rights reserved.\n    Developed by ActiveWare Internet Corp., http://www.ActiveWare.com\n</code></pre>\n  \n  <p>Perl for Win32 Build 316 - Built 09:44:44 Mar 13 1998</p>\n  \n  <p>Perl may be copied only under the terms of either the Artistic License\n  or the GNU General Public License, which may be found in the Perl 5.0\n  source kit.</p>\n</blockquote>\n\n<p>UPD2:</p>\n\n<pre><code>C:\\Documents and Settings\\grprog1&gt;perl -V Summary of my perl5 (patchlevel 1) configuration:   Platform:\n    osname=MSWin32, osver=3.51, archname=i386-win32\n    uname=''\n    hint=recommended   Compiler:\n    cc='cl', optimize=''\n    cppflags=''\n    ccflags =''\n    ldflags =''\n    stdchar='char', d_stdstdio=, usevfork=false\n    voidflags=15, castflags=0, d_casti32=, d_castneg=\n    intsize=4, alignbytes=4, usemymalloc=n, randbits=15   Libraries:\n    so=dll\n    libpth=\n    libs=\n    libc=   Dynamic Linking:\n    dlsrc=dl_win32.xs, dlext=pll, d_dlsymun=\n    cccdlflags='', ccdlflags='', lddlflags=''\n\n\nCharacteristics of this binary (from libperl):   Built under MSWin32   Compiled at Mar 13 1998 09:44:44   @INC:\n    C:\\Teradyne\\GRNavigate\\228x\\lib\\perl\n    ..\\lib\\i386-win32\n    ..\\lib\n    .\n</code></pre>\n"}, {"tags": ["perl", "sftp", "net-sftp"], "answers": [{"tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": true, "score": 3, "last_activity_date": 1556520279, "last_edit_date": 1556520279, "creation_date": 1499696286, "answer_id": 45014486, "question_id": 45013593, "link": "https://stackoverflow.com/questions/45013593/upload-file-over-sftp-with-netsftpforeign/45014486#45014486", "title": "Upload file over SFTP with Net::SFTP::Foreign", "body": "<p>The second parameter of <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#$sftp-%3Eput($local,-$remote,-%opts)\" rel=\"nofollow noreferrer\"><code>put</code></a> is a path to the file, not a path to the target folder.</p>\n\n<p>So it should be:</p>\n\n<pre><code>$sftp-&gt;put(\"Test1.csv\", \"/inbound/Test1.csv\")\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7252841, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d271f205092dddf6e79d7bd8067c01fa?s=128&d=identicon&r=PG&f=1", "display_name": "Sarath", "link": "https://stackoverflow.com/users/7252841/sarath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1820, "favorite_count": 1, "accepted_answer_id": 45014486, "answer_count": 1, "score": 2, "last_activity_date": 1556520279, "creation_date": 1499694011, "last_edit_date": 1499697221, "question_id": 45013593, "link": "https://stackoverflow.com/questions/45013593/upload-file-over-sftp-with-netsftpforeign", "title": "Upload file over SFTP with Net::SFTP::Foreign", "body": "<p>I have a file <code>Test1.csv</code> on my local machine. I have a Perl script to copy this file to a remote location (<code>home/inbound</code>) through an SFTP connection.</p>\n\n<p>Below is my code</p>\n\n<pre><code>use Net::SFTP::Foreign;\n\nuse warnings;\nuse strict;\n\nmy $host = \"sftp.abcd.com\";\nmy $sftp = Net::SFTP::Foreign-&gt;new($host, user =&gt; 'user10524', password =&gt; 'XXXX');\n$sftp-&gt;error and die \"Something bad happened: \" . $sftp-&gt;error;\n\n$sftp-&gt;put(\"Test1.csv\", \"/inbound\") or die \"put failed: \" . $sftp-&gt;error;\n</code></pre>\n\n<p>But I am getting this error, when I run the program:</p>\n\n<blockquote>\n  <p>put failed: Couldn't open remote file '/inbound': No such file</p>\n</blockquote>\n"}, {"tags": ["regex", "perl", "for-loop", "grep", "pattern-matching"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1499691396, "post_id": 45012650, "comment_id": 76998909, "body": "Perl doesn&#39;t use <code>&#47;&#47;</code> for comments."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1499691462, "post_id": 45012650, "comment_id": 76998965, "body": "How do you check for the failure of <code>open</code>? Is <a href=\"http://p3rl.org/autodie\" rel=\"nofollow noreferrer\">autodie</a> enabled?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1499691550, "post_id": 45012650, "comment_id": 76999048, "body": "Please, paste the real code so we can reproduce the problem. Letting us guess won&#39;t probably help you."}, {"owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1499692231, "post_id": 45012650, "comment_id": 76999571, "body": "@choroba I have edited it"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1499692552, "post_id": 45012650, "comment_id": 76999812, "body": "Note that arrays are indexed from 0, so <code>$address[6608]</code> returns the 660\ud835\udfd7th element."}, {"owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1499692693, "post_id": 45012650, "comment_id": 76999930, "body": "@choroba yes i do noticed that and I have printed $address[6608] and it is the address I wan, and I am certain that $text_file has line that contain the same address. And the first element in address[6608] which is address_array[0]. I have also print address_array[0] to make sure it is correct"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1499694302, "post_id": 45012650, "comment_id": 77001145, "body": "You <i>must always</i> begin every Perl program with <code>use strict</code> and <code>use warnings &#39;all&#39;</code> and declare all your variables with <code>my</code> as late in your code as possible."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1499694442, "post_id": 45012650, "comment_id": 77001241, "body": "<code>if ( grep { $_ eq &quot;$address_array[0]&quot; } $ICC2_array[$count] )</code> is usually written <code>if ( $ICC2_array[$count] eq $address_array[0] )</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1499694564, "post_id": 45012650, "comment_id": 77001325, "body": "What is in <code>@address</code>? How is it populated?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499695187, "post_id": 45012650, "comment_id": 77001802, "body": "Your <code>for</code> loop is incrementing <code>$count</code> with <code>$count++</code> as well as your explicit <code>$count += 1</code>, so you are examining only alternate elements of <code>@ICC2_array</code>. I doubt if that&#39;s what you intend?"}, {"owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499699575, "post_id": 45012650, "comment_id": 77005187, "body": "@Borodin it&#39;s not what I intended thank you for that out"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499699807, "post_id": 45012650, "comment_id": 77005347, "body": "@Kyle: Have you looked at my answer, which is a much more concise  and clear way of doing this?"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "edited": false, "score": 0, "creation_date": 1499694851, "post_id": 45013592, "comment_id": 77001545, "body": "Thanks Dave Cross! I have matched the startpoint using your suggestion"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "edited": false, "score": 1, "creation_date": 1499700597, "post_id": 45013592, "comment_id": 77005892, "body": "@Kyle: That&#39;s good. But please take a close look at Borodin&#39;s answer as that shows a far better way to write this code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499764109, "post_id": 45013592, "comment_id": 77033877, "body": "@DaveCross: That&#39;s very magnanimous!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499764596, "post_id": 45013592, "comment_id": 77034222, "body": "@Borodin: I fixed the immediate problem. You stepped back and took a higher level look at the code."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1499694858, "last_edit_date": 1499694858, "creation_date": 1499694010, "answer_id": 45013592, "question_id": 45012650, "link": "https://stackoverflow.com/questions/45012650/matching-a-file-line-by-line/45013592#45013592", "title": "Matching a file line by line", "body": "<p>All of the elements in <code>@ICC2_array</code> will have new-line characters at the end.</p>\n\n<p>As <code>$address_array[0]</code> is created by splitting data on <code>\\n</code> it is guaranteed not to contain a new-line character.</p>\n\n<p>A string that ends in a new-line can never be equal to a string that doesn't contain a new-line.</p>\n\n<p>I suggest replacing:</p>\n\n<pre><code>@ICC2_array = &lt;$DATA&gt;;\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>chomp(@ICC2_array = &lt;$DATA&gt;);\n</code></pre>\n\n<p><strong>Update:</strong> Another problem I've just spotted. You are incrementing <code>$count</code> twice on each iteration. You increment it in the loop control code (<code>$count++</code>) and you're also incrementing it in the <code>else</code> clause (<code>$count += 1</code>). So you're probably only checking every other element in <code>@ICC2_array</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "edited": false, "score": 0, "creation_date": 1499739445, "post_id": 45014317, "comment_id": 77022883, "body": "it is much more clearer, i tried to use     List::Util &#39;any&#39;; any is not exported by the module"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "edited": false, "score": 0, "creation_date": 1499764224, "post_id": 45014317, "comment_id": 77033949, "body": "@Kyle: Okay, then you can either install a new copy of <code>List::Util</code> or you can just remove the <code>use</code> statement and replace <code>any</code> with <code>grep</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1499764250, "last_edit_date": 1499764250, "creation_date": 1499695857, "answer_id": 45014317, "question_id": 45012650, "link": "https://stackoverflow.com/questions/45012650/matching-a-file-line-by-line/45014317#45014317", "title": "Matching a file line by line", "body": "<p>I think your code should look like this</p>\n\n<p>The <code>any</code> operator from core module <code>List::Util</code> is like <code>grep</code> except that it stops searching as soon as it finds a match, so on average should be twice as fast. Early iterations of <code>List::Util</code> did not contain <code>any</code>, and you can simply use <code>grep</code> instead if that applies to you</p>\n\n<p>I've removed the <code>_array</code> from your array identifier as the <code>@</code> indicates that it's an array and it's just unwanted noise</p>\n\n<pre><code>use List::Util 'any';\n\n\nmy $text_file = '/homedir/report';\n\nmy @ICC2 = do {\n    open my $fh,'&lt;', $text_file or die qq{Unable to open \"$text_file\" for input: $!};\n    &lt;$fh&gt;;\n};\nchomp @ICC2;\n\nmy ( $address ) = split /\\n/, $address[6608], 2;\n\nif ( any { $_ eq $address } @ICC2 ) {\n    print \"This address is found\\n\"\n}\nelse {\n    print \"No match is found for this address\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8283726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c60e7e61e47aa8c227e6aff2c6ce2?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8283726/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 45013592, "answer_count": 2, "score": -1, "last_activity_date": 1499764250, "creation_date": 1499691272, "last_edit_date": 1499699861, "question_id": 45012650, "link": "https://stackoverflow.com/questions/45012650/matching-a-file-line-by-line", "title": "Matching a file line by line", "body": "<pre><code>$text_file = '/homedir/report';\nopen ( $DATA,$text_file ) || die \"Error!\";   #open the file\n@ICC2_array = &lt;$DATA&gt;;\n\n$total_line = scalar@ICC2_array;    # total number of lines\n\n@address_array = split('\\n',$address[6608]);  # The first content is what I want and it is correct, I have checked using print\n\nLABEL2:\nfor ( $count=0; $count &lt; $total_line; $count++ ) {\n\n    if ( grep { $_ eq \"$address_array[0]\" } $ICC2_array[$count] ) {\n        print \"This address is found!\\n\";\n        last LABEL2;\n    }\n    elsif ( $count == $total_line - 1 ) {  # if not found in all lines\n        print \"No matching is found for this address\\n\";\n        last LABEL2;\n    }\n}\n</code></pre>\n\n<p>I am trying to match the 6609th address in <code>@ICC2_array</code> line by line. I am certain that this address is in <code>$text_file</code> but it is exactly the same format.</p>\n\n<p>Something like this:</p>\n\n<p><code>$address[6608]</code> contains</p>\n\n<pre><code>Startpoint: port/start/input_output (triggered by clock3)\nEndpoint: port/end/input_output (rising edge-triggered)\n</code></pre>\n\n<p><code>$address_array[0]</code> contains</p>\n\n<pre><code>Startpoint: port/start/input_output (triggered by clock3)\n</code></pre>\n\n<p>There's a line in <code>$text_file</code> that is</p>\n\n<pre><code>Startpoint: port/start/input_output (triggered by clock3)\n</code></pre>\n\n<p>However the output is <code>\"no matching found for this address\"</code>, can anybody point out my mistakes?</p>\n"}, {"tags": ["perl", "mib"], "comments": [{"owner": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499956041, "post_id": 45012450, "comment_id": 77139621, "body": "@ikegami I agree. The question 3 is created <a href=\"https://stackoverflow.com/questions/45083561/loop-only-though-top-nodes-using-foreach-scalar-in-mib2c\">here</a>"}], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "edited": false, "score": 0, "creation_date": 1499954725, "post_id": 45072298, "comment_id": 77138569, "body": "Thank you. This makes sense. It looks like I can not retrieve the value of the configfile argument that is passed with -c option without editing the mib2c file? I can see in the argument parsing portion of the mib2c, the name of the configuration file is assigned to <i>$configfile</i> variable. However, when I use <i>$configfile</i> inside the .config file, the mib2c evaluates it to nothing. Is there a workaround?"}, {"owner": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "edited": false, "score": 0, "creation_date": 1499955498, "post_id": 45072298, "comment_id": 77139211, "body": "Oh, did not realize that I would put one of the two very last lines with @perleval@ in my .config file. I&#39;ve got it figured out now!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1499925041, "last_edit_date": 1499925041, "creation_date": 1499924726, "answer_id": 45072298, "question_id": 45012450, "link": "https://stackoverflow.com/questions/45012450/list-of-reserved-variables-in-mib2c/45072298#45072298", "title": "list of reserved variables in mib2c", "body": "<p>Looking at <code>local/mib2c</code> from <code>net-snmp-5.7.3</code>, the pre-populated variables are populated by the following code:</p>\n\n<pre><code>$outputName = $mibnode-&gt;{'label'} if (!defined($outputName));\n$outputName =~ s/-/_/g;\n$vars{'name'} = $outputName;\n$vars{'oid'} = $oid;\n$vars{'example_start'} = \"    /*\\n\" .\n\"    ***************************************************\\n\" .\n\"    ***             START EXAMPLE CODE              ***\\n\" .\n\"    ***---------------------------------------------***/\";\n$vars{'example_end'} = \"    /*\\n\" .\n\"    ***---------------------------------------------***\\n\" .\n\"    ***              END  EXAMPLE CODE              ***\\n\" .\n\"    ***************************************************/\";\n</code></pre>\n\n<p>So, you end up with the following pre-populated variables:</p>\n\n<ul>\n<li><code>$name</code> is the \"output prefix\" specified using the <code>-f</code> option (or <code>$mibnode-&gt;{'label'}</code>, whatever that is, if the <code>-f</code> option wasn't used), with dashes substituted with underscores.</li>\n<li><code>$oid</code> is the value of <code>mib2c</code>'s argument (called \"<code>mibNode</code>\" in the usage help).</li>\n<li><code>$example_start</code> and <code>$example_end</code> are hard-coded strings.</li>\n</ul>\n\n<p>That's it.</p>\n\n<p>To create <code>$config</code> with the value of the <code>-c</code> argument (or <code>mib2c.conf</code> if the <code>-c</code> option wasn't used), you could alter <code>mib2c</code> to add the following to the assignments shown above:</p>\n\n<pre><code>$vars{config} = $configfile;\n</code></pre>\n\n<p>Alternatively, I believe the following will also create <code>$config</code>, but the value passed to the <code>-c</code> option will be prepended with a directory name:</p>\n\n<pre><code>@perleval $vars{config} = $configfile; 0@\n</code></pre>\n\n<p>You could try to obtain the original value with the following (which assumes the original value didn't contain a <code>/</code>);</p>\n\n<pre><code>@perleval $vars{config} = $configfile =~ m{([^/]+)\\z}s ? $1 : undef; 0@\n</code></pre>\n\n<p>Completely untested. I don't know anything about SNMP or <code>mib2c</code>.</p>\n"}], "owner": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 45072298, "answer_count": 1, "score": 0, "last_activity_date": 1499969173, "creation_date": 1499690714, "last_edit_date": 1499969173, "question_id": 45012450, "link": "https://stackoverflow.com/questions/45012450/list-of-reserved-variables-in-mib2c", "title": "list of reserved variables in mib2c", "body": "<p>Where can I find the list of reserved variable names for mib2c \"language\"? I mean the possible variables that are not described <a href=\"http://www.net-snmp.org/docs/man/mib2c.conf.html\" rel=\"nofollow noreferrer\">here</a>, like ${name}, which evaluates to the OID name that is passed as the argument to mib2c.c.</p>\n\n<ol>\n<li>Are there any other variables like that?</li>\n<li>Is there one that carries the name of the .conf file that was passed to the mib2c.</li>\n</ol>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1499688951, "post_id": 45011721, "comment_id": 76997018, "body": "Is there a question hidden in the unreadable string of characters?"}, {"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1499689500, "post_id": 45011721, "comment_id": 76997491, "body": "Sorry was editing it! took a little longer"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1499689687, "post_id": 45011721, "comment_id": 76997627, "body": "You only want the last two lines of groups starting with the same number? Have you tried anything yourself? Do you need an asnwer in perl or would you also accept other tools, like awk, sed, grep... ?"}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 1, "creation_date": 1499689920, "post_id": 45011721, "comment_id": 76997805, "body": "Where is the code which does not work?"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1499689957, "post_id": 45011721, "comment_id": 76997836, "body": "What is the expected result when there is only one data within a group?"}, {"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1499689961, "post_id": 45011721, "comment_id": 76997841, "body": "Yes this is the output I am getting after cleaning the file with unwanted data, this is my intermediate file from the original program. I don&#39;t need the program or answer immediately,  any guidance or idea and how to go about it will do too.. I think awk, sed can be integrated inside the perl program.. Anything would be good too.. After this I have to use the output of this and again write as tab delimitted"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499690319, "post_id": 45011721, "comment_id": 76998101, "body": "Read the file line by line and build up a data structure. Start with a hash, where the ID is the key, and the value is an array reference. For each line, push the current value to the array ref of that id&#39;s array ref in the data structure. When you&#39;re done, iterate the keys and print out zero or two rows depending on how many items there are in the array ref. You can access the last two elements with <code>$arr[-2]</code> and <code>-1</code>. If you need the IDs in the same order, keep an array for the order of the keys while building up the data structure."}, {"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499691096, "post_id": 45011721, "comment_id": 76998672, "body": "@simbabque Hi, I have tried building hash structure initially, If you can refer to my code above I have tried to do  chomp;         my ($ID, $tax) = split(&#39;\\t&#39;, $_);       $cleanTaxa{$ID} = $cleanTaxa{$taxa}; but unsuccessful"}, {"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499691181, "post_id": 45011721, "comment_id": 76998741, "body": "Let me try again accordingly @simbabque.. Thank You"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1499694366, "post_id": 45011721, "comment_id": 77001191, "body": "No hash needed. Keep the last two lines, in alternatingly upated variables. Print them when the number changes. If single lines are possible input, verify before printing, that both stored numbers are identical."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1499697536, "post_id": 45011721, "comment_id": 77003621, "body": "@Yunnosch: There&#39;s no advantage to avoiding using a hash unless the data is enormous, and it makes the code much more complicated. And we haven&#39;t actually established that the input data is sorted."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499697930, "post_id": 45011721, "comment_id": 77003952, "body": "@Borodin In my experience (which admittedly IS with huge data) it is always preferrable to write a filter with a scope of only a few lines, instead of reading all/most input in an then process. By the way my feeling (no proof) is that we are talking a potentially huge list of research data."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1499698231, "post_id": 45011721, "comment_id": 77004202, "body": "@Yunnosch: My experience tells me that the most important factor is that the code is clear and simple to read. What do you mean by <i>preferable</i>?"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499698544, "post_id": 45011721, "comment_id": 77004446, "body": "@Borodin I mean that processing huge data by looking at three lines at any time is more efficient and faster than reading all of it into memory and then produce output. That is what I call a filter. But as I said/admitted, this is based on the special scope of data I have experience with, which is huge. I agree with you, that readable code (which does not have any noticable disadvantages) is always to be preferred to unneccesarily optimised code. I should mention that I imagine (no quote, no proof) a three-line filter to be shorter and not less clearer/readable code. I might be wrong there."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1499699172, "post_id": 45011721, "comment_id": 77004902, "body": "@Yunnosch: I would consider that to be an <i>optimisation</i> which should be made only once the simplest and most obvious statement has been proven to be too slow and the program has been profiled to locate bottlenecks. A standard input / process / output flowpath is always more comprehensible, as well as being simpler to modify if the requirements change (see the OP&#39;s comment on my answer). I&#39;m a firm believer that those of us who can do Fourier transforms in our heads really shouldn&#39;t expect to do so, and certainly shouldn&#39;t force others to follow along. Memory is far cheaper than development."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1499697421, "post_id": 45013562, "comment_id": 77003538, "body": "Hi,  Thank you for your very kind help. I was just curious what would one do in this case if he needs only 2nd last or 3rd last element from this hash array?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1499697696, "post_id": 45013562, "comment_id": 77003765, "body": "@Kanhu: That should be posted as a new question, but it&#39;s just a matter of changing the output <code>for</code> loop."}, {"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1499698429, "post_id": 45013562, "comment_id": 77004354, "body": "If you don&#39;t mind can you please explain this syntax @{$vals} and use of unless in your code please."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1499698693, "post_id": 45013562, "comment_id": 77004565, "body": "@Kanhu: <code>$vals</code> is a <i>reference</i> to an array, and <code>@{$vals}</code> (or just <code>@$vals</code>) is the array that it refers to. Take a look at <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\"><code>perldoc perldsc</code></a>. <code>unless</code> is exactly what it means in English. Essentially it is <code>if not</code>. Here I&#39;m using it to save the ID in the array unless there&#39;s already an entry for it in the hash, i.e. it&#39;s been seen before."}, {"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1499698960, "post_id": 45013562, "comment_id": 77004772, "body": "Thank you very much it is pretty clear and understandable now.. I can implement and modify your code for further data processing and formatted output.."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1499693945, "creation_date": 1499693945, "answer_id": 45013562, "question_id": 45011721, "link": "https://stackoverflow.com/questions/45011721/extract-desired-rows-from-file-and-write-into-another/45013562#45013562", "title": "Extract desired rows from file and write into another", "body": "<p>This will do as you ask. It keeps a list of all values for each ID in hash <code>%data</code>, and maintains the original order of appearance of the IDs in <code>@ids</code> in case that matters</p>\n\n<p>The output loop is just a matter of trimming all but the last two items from each entry and printing them</p>\n\n<p>The program expects the path to the input file as a command-line parameter, and prints the output to <code>STDOUT</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy ( %data, @ids );\n\nwhile ( &lt;&gt; ) {\n\n    next unless /\\S/;\n    my ( $id, $val ) = split;\n\n    push @ids, $id unless $data{$id};\n    push @{ $data{$id} }, $val;\n}\n\nfor my $id ( @ids ) {\n\n    my $vals = $data{$id};\n    splice @{$vals}, 0, -2;\n    print \"$id\\t$_\\n\" for @{$vals};\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>294535  o__Clostridiales\n294535  f__Lachnospiraceae\n537364  p__Planctomycetes\n537364  c__vadinHA49\n7652    f__Thiotrichaceae\n7652    g__Leucothrix\n520836  o__Clostridiales\n520836  f__Lachnospiraceae\n320231  k__Bacteria\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499698436, "creation_date": 1499688767, "last_edit_date": 1499698436, "question_id": 45011721, "link": "https://stackoverflow.com/questions/45011721/extract-desired-rows-from-file-and-write-into-another", "title": "Extract desired rows from file and write into another", "body": "<p>I have a tab-delimited file with following data. The first column represents an ID and second is the value for that ID.</p>\n\n<pre><code>294535  k__Bacteria  \n294535  p__Firmicutes  \n294535  c__Clostridia  \n294535  o__Clostridiales  \n294535  f__Lachnospiraceae  \n537364  k__Bacteria  \n537364  p__Planctomycetes  \n537364  c__vadinHA49  \n7652    k__Bacteria  \n7652    p__Proteobacteria  \n7652    c__Gammaproteobacteria   \n7652    o__Thiotrichales  \n7652    f__Thiotrichaceae  \n7652    g__Leucothrix  \n520836  k__Bacteria  \n520836  p__Firmicutes  \n520836  c__Clostridia  \n520836  o__Clostridiales  \n520836  f__Lachnospiraceae  \n320231  k__Bacteria  \n</code></pre>\n\n<p>I want the output in following format i.e. only the last two items from multiple items with the same ID.</p>\n\n<pre><code>294535  o__Clostridiales  \n294535  f__Lachnospiraceae  \n537364  p__Planctomycetes  \n537364  c__vadinHA49  \n7652    f__Thiotrichaceae  \n7652    g__Leucothrix  \n520836  o__Clostridiales  \n520836  f__Lachnospiraceae  \n</code></pre>\n\n<p>Can anyone help me with finding a good solution?</p>\n\n<p>I have tried using an index and a <code>for</code> loop while reading the file line by line, but it's not happening. Here is my loop construct below which is not working.</p>\n\n<pre><code>while ( &lt;TEMPIN&gt; ) {\n\n    chomp;\n    my ($ID, $tax) = split('\\t', $_);\n    push (@taxID, $ID);\n    push (@taxa, $tax);\n\n    for ( $i, $i &lt;= $#taxID, $i++ ) {\n\n        if ( $taxID[$i] = $taxID[$i+1] ) {\n            next unless $taxID[$i] != $taxID[$i+1];\n        }\n        else {\n            print \"$taxID[$i]\\t$taxa[$i]\\t$taxID[$i-1]\\t$taxa[$i-1]\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "date", "compare"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1499676333, "post_id": 45007243, "comment_id": 76988405, "body": "is that time 1:05:06?"}, {"owner": {"reputation": 191, "user_id": 5117137, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/745887e0165f04631e0cc59658f17505?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Szczepanik", "link": "https://stackoverflow.com/users/5117137/piotr-szczepanik"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1499676686, "post_id": 45007243, "comment_id": 76988622, "body": "Yes, my mistake"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1499683056, "post_id": 45007243, "comment_id": 76992963, "body": "<i>&quot;without adding perl libraries&quot;</i> Why are you restricting yourself to only 5% of the power of Perl?"}, {"owner": {"reputation": 191, "user_id": 5117137, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/745887e0165f04631e0cc59658f17505?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Szczepanik", "link": "https://stackoverflow.com/users/5117137/piotr-szczepanik"}, "edited": false, "score": 0, "creation_date": 1499684520, "post_id": 45007243, "comment_id": 76993951, "body": "Any suggestions with libraries ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499749402, "post_id": 45007243, "comment_id": 77025636, "body": "Re &quot;<i>without adding perl libraries</i>&quot;, Perl basically only comes with what&#39;s needed to install modules. The rest is mostly there for historical reasons. It&#39;s kinda silly to restrict yourself to that!"}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 5117137, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/745887e0165f04631e0cc59658f17505?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Szczepanik", "link": "https://stackoverflow.com/users/5117137/piotr-szczepanik"}, "edited": false, "score": 0, "creation_date": 1499677880, "post_id": 45007543, "comment_id": 76989437, "body": "It suppose to be 10:50:06  The problem is that I&#39;m not going to compare it with current time but with date which is saved as a variable. And the problem is that the time may be wrong - it will turned to 00:00:00 after 12pm and then I&#39;ll have to check the date somehow"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 191, "user_id": 5117137, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/745887e0165f04631e0cc59658f17505?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Szczepanik", "link": "https://stackoverflow.com/users/5117137/piotr-szczepanik"}, "edited": false, "score": 0, "creation_date": 1499678450, "post_id": 45007543, "comment_id": 76989863, "body": "Checking if a time is today or yesterday is probably easier than you think - convert it, assuming it&#39;s today - then look at the size of the time delta. If it&#39;s &gt;1d, then chances are it&#39;s the wrong date. I can&#39;t go into more detail though, without knowing your time comparison."}, {"owner": {"reputation": 191, "user_id": 5117137, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/745887e0165f04631e0cc59658f17505?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Szczepanik", "link": "https://stackoverflow.com/users/5117137/piotr-szczepanik"}, "edited": false, "score": 0, "creation_date": 1499679759, "post_id": 45007543, "comment_id": 76990790, "body": "$DataStart = &quot;20170608&quot;;   $TimeStart = &quot;235806&quot;;      $DatetoCompare = &quot;20170609&quot;;   $TimetoCompare = &quot;000106&quot;;"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1499676523, "creation_date": 1499676523, "answer_id": 45007543, "question_id": 45007243, "link": "https://stackoverflow.com/questions/45007243/comparing-date-and-time-and-the-same-time-in-perl/45007543#45007543", "title": "Comparing date and time and the same time in perl", "body": "<p><code>Time::Piece</code> is core in perl, and supports 'strptime'. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Time::Piece;\n\nmy $Date = \"20170608\";\nmy $Time = \"10506\";\n\nmy $ts = Time::Piece-&gt;strptime( \"$Date $Time\", \"%Y%m%d %H%M%S\" );\nprint $ts, \"\\n\";\n\nprint \"Delta:\", $ts-&gt;epoch - time(), \"\\n\";\n</code></pre>\n\n<p>Was unclear on what time that <code>$Time</code> represented - <code>strptime</code> converts it to 10:50:06, but I'm guessing it might be intended to be 01:05:06? </p>\n\n<p>If so, then zero pad. </p>\n\n<pre><code>$Time = sprintf ( \"%06d\", $Time );\n</code></pre>\n\n<p>To read the timestamp from the file metadata, then you need <code>stat</code>:</p>\n\n<pre><code>my $mtime = (stat $filename)[9];\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 5117137, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/745887e0165f04631e0cc59658f17505?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Szczepanik", "link": "https://stackoverflow.com/users/5117137/piotr-szczepanik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499676658, "creation_date": 1499675464, "last_edit_date": 1499676658, "question_id": 45007243, "link": "https://stackoverflow.com/questions/45007243/comparing-date-and-time-and-the-same-time-in-perl", "title": "Comparing date and time and the same time in perl", "body": "<p>I want to compare both date and time check if the timestamp from the file I'm going to open will\u00a0have\u00a0equal or greater date and\u00a0time as if the my timestamp which looks like this:</p>\n\n<pre><code>$Date = \"20170608\";\n$Time = \"105006\";\n</code></pre>\n\n<p>My main problem is how to do it efficiently possibly without adding perl libraries and how to check it when there's going to be situation of date switching and the hour will be for example 23:59:44</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1499671728, "post_id": 45005302, "comment_id": 76985713, "body": "check with <code>utf8</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1499672870, "post_id": 45005302, "comment_id": 76986327, "body": "See also <a href=\"https://stackoverflow.com/documentation/perl/4375/unicode/15288/read-filenames#t=201707100740021675739\">Reading filenames</a> and <a href=\"https://stackoverflow.com/q/37027051/2173773\">In what encoding does readdir return a filename?</a>"}], "owner": {"reputation": 143, "user_id": 2955220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28ba746517092206fd2d04b55b3345d?s=128&d=identicon&r=PG&f=1", "display_name": "Siju Mohan MM", "link": "https://stackoverflow.com/users/2955220/siju-mohan-mm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "closed_date": 1499676654, "answer_count": 0, "score": 1, "last_activity_date": 1499668885, "creation_date": 1499668885, "question_id": 45005302, "link": "https://stackoverflow.com/questions/45005302/handling-special-characters-in-perl", "closed_reason": "Duplicate", "title": "Handling special characters in perl", "body": "<p>I have a perl program which moves files from one location to other location. But this program fails for the files with special characters in its name. So I have tried to replace the special characters in the file name. But I couldn't do any operation (Like rename, copy, move) on the files which have special characters in the file name. Please advise how to handle this situation.</p>\n\n<p>Sample File Names which causing this issue:</p>\n\n<pre><code>Sampl\u00e9.pdf\nSampleFile\u00ae.pdf\n</code></pre>\n"}, {"tags": ["perl", "ubuntu", "perl-module", "cpanm"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1499632727, "post_id": 45000585, "comment_id": 76975607, "body": "That means the <code>List::Util</code> on your system was built for a different version of perl. Are you using the standard Ubuntu perl? Have you tried reinstalling <code>libscalar-list-utils-perl</code>?"}, {"owner": {"reputation": 894, "user_id": 3213562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/r74ge.jpg?s=128&g=1", "display_name": "javathunderman", "link": "https://stackoverflow.com/users/3213562/javathunderman"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1499649520, "post_id": 45000585, "comment_id": 76979100, "body": "@melpomene Yeah, I&#39;m running standard Perl that ships with Ubuntu. How would I reinstall that package?"}], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 5956418, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c1e4d59c950208e2ebb83fc021f2278d?s=128&d=identicon&r=PG&f=1", "display_name": "Qoros", "link": "https://stackoverflow.com/users/5956418/qoros"}, "edited": false, "score": 1, "creation_date": 1526891523, "post_id": 45218168, "comment_id": 87903322, "body": "I am running into the same case, differently, I have switched key value (got handshake key 0xdb80080, needed 0xde00080). And in my case, reboot can&#39;t solve it. My system is Ubuntu 18.04."}], "tags": [], "owner": {"reputation": 894, "user_id": 3213562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/r74ge.jpg?s=128&g=1", "display_name": "javathunderman", "link": "https://stackoverflow.com/users/3213562/javathunderman"}, "is_accepted": false, "score": 1, "last_activity_date": 1500562180, "creation_date": 1500562180, "answer_id": 45218168, "question_id": 45000585, "link": "https://stackoverflow.com/questions/45000585/listutil-c-loadable-library-and-perl-binaries-are-mismatched-got-handshake-key/45218168#45218168", "title": "ListUtil.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xdb80080)", "body": "<p>Ok, turns out that a reboot did the trick. Guess I should have turned it off and on before I posted here...</p>\n"}, {"tags": [], "owner": {"reputation": 8247, "user_id": 15482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f98b4355f44ff4063dcff62c7e4758f0?s=128&d=identicon&r=PG", "display_name": "Bert Hekman", "link": "https://stackoverflow.com/users/15482/bert-hekman"}, "is_accepted": false, "score": 28, "last_activity_date": 1530778923, "creation_date": 1530778923, "answer_id": 51186495, "question_id": 45000585, "link": "https://stackoverflow.com/questions/45000585/listutil-c-loadable-library-and-perl-binaries-are-mismatched-got-handshake-key/51186495#51186495", "title": "ListUtil.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xdb80080)", "body": "<p>This may happen when perl or perl modules are installed separately along side the official packages. Environment variable can be used to switch to a different perl installation.</p>\n\n<p>To find out if that is the case run:</p>\n\n<pre><code>env | grep PERL\n</code></pre>\n\n<p>Having <code>PERL5LIB</code> or <code>PERL_LOCAL_LIB_ROOT</code> in the output might cause the issue. Try unsetting the environment variables and remove them from your <code>~/.bashrc</code> file or equivalent shell rc file.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 10303006, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/3d18337d11d110b023bea6321a8d75ea?s=128&d=identicon&r=PG", "display_name": "JensE", "link": "https://stackoverflow.com/users/10303006/jense"}, "is_accepted": false, "score": 4, "last_activity_date": 1535789396, "creation_date": 1535789396, "answer_id": 52126231, "question_id": 45000585, "link": "https://stackoverflow.com/questions/45000585/listutil-c-loadable-library-and-perl-binaries-are-mismatched-got-handshake-key/52126231#52126231", "title": "ListUtil.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xdb80080)", "body": "<p>Derived from Bert Hekman, answered Jul 5 at 8:22:</p>\n\n<pre><code>env PERL5LIB= PERL_LOCAL_LIB_ROOT= cpan\n</code></pre>\n\n<p>did the trick for me as a quick and dirty solution.</p>\n"}], "owner": {"reputation": 894, "user_id": 3213562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/r74ge.jpg?s=128&g=1", "display_name": "javathunderman", "link": "https://stackoverflow.com/users/3213562/javathunderman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14855, "favorite_count": 0, "answer_count": 3, "score": 22, "last_activity_date": 1590502472, "creation_date": 1499631138, "last_edit_date": 1499705834, "question_id": 45000585, "link": "https://stackoverflow.com/questions/45000585/listutil-c-loadable-library-and-perl-binaries-are-mismatched-got-handshake-key", "title": "ListUtil.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xdb80080)", "body": "<p>For some reason, whenever I run any Perl module (like cpanm), I've been getting this response: </p>\n\n<pre><code>ListUtil.c: loadable library and perl binaries are mismatched (got         \nhandshake key 0xdb00080, needed 0xdb80080)\n</code></pre>\n\n<p>I'm not sure why this is happening. There doesn't seem to be any additional stacktrace, and even though there have been numerous bug reports and questions on this error, I was unable to find a solution. I'm running Ubuntu 17.04. </p>\n\n<p>Edit: I'm running the default installation of Perl that ships with Ubuntu. </p>\n"}, {"tags": ["html", "perl", "url-redirection"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1499639595, "post_id": 45000322, "comment_id": 76977386, "body": "There are so many modern and useful frameworks to work with nowadays. CGI is ancient and I would recommend using something else. How about: Dancer2 ( <a href=\"https://metacpan.org/pod/Dancer2\" rel=\"nofollow noreferrer\">metacpan.org/pod/Dancer2</a> ), Mojolicious ( <a href=\"https://metacpan.org/pod/Mojolicious\" rel=\"nofollow noreferrer\">metacpan.org/pod/Mojolicious</a> ), or, my personal favorite Catalyst ( <a href=\"https://metacpan.org/pod/Catalyst\" rel=\"nofollow noreferrer\">metacpan.org/pod/Catalyst</a> ). There are excellent tutorials for all of those, and they also offer helper scripts to get you started quickly."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 2, "creation_date": 1499639883, "post_id": 45000322, "comment_id": 76977449, "body": "On another note, I do not like digging through a load of syntax errors that get spit out after uncommenting the <code>use strict</code> line. I recommend to always <code>use strict</code> and actually fixing errors that come up before posting."}, {"owner": {"reputation": 1421, "user_id": 4621141, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/80abf58b3f4ed527650483688cfcb1b9?s=128&d=identicon&r=PG&f=1", "display_name": "flen", "link": "https://stackoverflow.com/users/4621141/flen"}, "edited": false, "score": 0, "creation_date": 1499640817, "post_id": 45000322, "comment_id": 76977641, "body": "Why don&#39;t you do a redirect via HTML ( <a href=\"https://www.w3.org/TR/WCAG20-TECHS/H76.html\" rel=\"nofollow noreferrer\">w3.org/TR/WCAG20-TECHS/H76.html</a> ), using <code>&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0;URL=&#39;http:&#47;&#47;redirectedsite.com&#47;&#39;&quot; &#47;&gt;</code>?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 2, "creation_date": 1499641382, "post_id": 45000322, "comment_id": 76977747, "body": "@bytepusher CGI still has its uses. However, the real problem with the code, despite the fact that there are <b>three</b> <code>use CGI</code> statements, the OP uses code from early 90s to parse a CGI request."}, {"owner": {"reputation": 1, "user_id": 3081129, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6c9dd8aa5a6b40a8f44ca3d17b5f01f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3081129", "link": "https://stackoverflow.com/users/3081129/user3081129"}, "edited": false, "score": 0, "creation_date": 1499642523, "post_id": 45000322, "comment_id": 76977949, "body": "Update - I wasn&#39;t  reading enough... found out you can&#39;t have STDOUT and try to redirect...  Or at least you can&#39;t write    print &quot;Content-type: text/html \\n\\n&quot; and then try to redirect..."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1499646171, "post_id": 45000322, "comment_id": 76978580, "body": "Of course you can&#39;t ... You can only provide a <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html\" rel=\"nofollow noreferrer\">single HTTP response</a>. You can&#39;t both provide content and redirect."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1499666185, "post_id": 45000322, "comment_id": 76982987, "body": "It is ridiculous to comment out <code>use strict</code>\u2014the first line of defence\u2014and then ask others for help. It is also rude to post such awkwardly-formatted code when you are hoping for free help from experts. Please address this in future."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1499676364, "creation_date": 1499676364, "answer_id": 45007497, "question_id": 45000322, "link": "https://stackoverflow.com/questions/45000322/ive-been-trying-to-get-a-redirect-to-work-using-perl-and-a-simple-html-page/45007497#45007497", "title": "I&#39;ve been trying to get a redirect to work... using perl and a simple html page, redirect does not occur", "body": "<p>The redirect header needs to be part of the headers returned by your CGI program. The headers are the first data returned by your program. They are terminated by the first blank line in your program's output. More specifically, the headers are terminated when your program emits two consecutive line-end characters.</p>\n\n<p>Early in your program you have:</p>\n\n<pre><code>print \"Content-type: text/html \\n\\n\";\n</code></pre>\n\n<p>That <code>print()</code> statements ends with two consecutive line-end characters. Therefore, your program can emit no more headers after this point. Any data returned by your program after this point will be treated as the body of the response, not the header.</p>\n\n<p>So when, several lines later, you run this:</p>\n\n<pre><code>print $query-&gt;redirect($referrer);\n</code></pre>\n\n<p>That won't be interpreted as a redirection header. It's just data in the body of your response.</p>\n\n<p>A useful tip in a CGI program: Work out exactly what you want to return before you return anything at all. You needed to print the redirection header instead of the content type header. But because you had already printed the content-type header (and, more importantly, the end of headers marker) it was too late to change your mind and print a different header.</p>\n\n<p>Your program shows many signs of being cannibalised from several other programs without any real understanding of what you are doing.</p>\n\n<p>You load the CGI library three times:</p>\n\n<pre><code>use CGI;\n...\nuse CGI qw(redirect referer);\nuse CGI qw/:standard/;\n</code></pre>\n\n<p>You create two CGI objects:</p>\n\n<pre><code>my $query = CGI-&gt;new();\n....\nmy $cgi = new CGI;\n</code></pre>\n\n<p>You ignore CGI's parameter parsing code and use a buggy hand-written version:</p>\n\n<pre><code>read(STDIN, $buffer, $ENV{'CONTENT_LENGTH'});\n@pairs = split(/&amp;/, $buffer);\nforeach $pair (@pairs) {\n        ($name, $value) = split(/=/, $pair);\n        $value =~ tr/+/ /;\n        $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n        $FORM{$name} = $value; \n        print '&lt;br&gt;&lt;h3&gt;',$name,' = ',$value,'&lt;/br&gt;';\n\n        }\n</code></pre>\n\n<p>You explicitly load the <code>referer()</code> function from CGI.pm, but then get the value using an environment variable:</p>\n\n<pre><code>use CGI qw(redirect referer);\n...\nmy $referrer = $ENV{HTTP_REFERER};\n</code></pre>\n\n<p>You don't just print the two header sets that I've mentioned above. You find time to add a third later on.</p>\n\n<pre><code>print \"Content-type: text/html \\n\\n\";\n\nprint $query-&gt;redirect($referrer);\n\nprint $cgi-&gt;header();\n</code></pre>\n\n<p>I assume (I hope!) that you're just learning Perl and CGI. But this random poking at stuff until it works really isn't the best way to do it. Please find <a href=\"http://perl-tutorial.org/\" rel=\"nofollow noreferrer\">a good tutorial</a> and spend time understanding what is going on here.</p>\n"}], "owner": {"reputation": 1, "user_id": 3081129, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6c9dd8aa5a6b40a8f44ca3d17b5f01f5?s=128&d=identicon&r=PG&f=1", "display_name": "user3081129", "link": "https://stackoverflow.com/users/3081129/user3081129"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1499676364, "creation_date": 1499629341, "question_id": 45000322, "link": "https://stackoverflow.com/questions/45000322/ive-been-trying-to-get-a-redirect-to-work-using-perl-and-a-simple-html-page", "title": "I&#39;ve been trying to get a redirect to work... using perl and a simple html page, redirect does not occur", "body": "<p>this is the html form... simple form with 1 field... I eventually will incorporate some logic to control when the redirect is done, but for now, all I want is to see it work... I have tried several methods, and nothing has worked... I have stripped down the code to the bare basics, but still no joy... </p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \n\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n    &lt;title&gt;query your team&lt;/title&gt;      \n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h2&gt;team query form&lt;/h2&gt;\n&lt;form  method=\"post\" id=\"newform\" action=\"cgi-bin/team_disp.pl\"&gt;\n\n&lt;div style=\"padding-left:30px; padding-top:50px;\"&gt;\n&lt;div style=\"padding-top:75px;\"&gt;\n &lt;p&gt;Enter Search Criteria &lt;/p&gt;\n&lt;/div&gt; \n&lt;div style=\"margin-top: -15px;\"&gt;\n&lt;input type=\"text\" name=\"srchtxt\" maxlength=\"100\" length=\"50\"&gt;\n&lt;input type=\"submit\" value=\"Search\"&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>and here's my perl script... just trying to get redirect to re-paint the screen with the \"referer\"...  again, I tried multiple ways to get this, but it would never render... I am not sure if my site is disallowing redirects? I have had some near misses, but nothing redirects the actual page... I see the referer is set properly, but my attempts to manually set it, or refer to it have thus far failed...   </p>\n\n<pre><code>#!/usr/bin/perl \n# use strict;\n use warnings;\n use DBI;\nuse CGI;\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser); \nuse CGI qw(redirect referer);\nuse CGI qw/:standard/;\n\nprint \"Content-type: text/html \\n\\n\";\n\n$db_handle = DBI-&gt;connect(\"dbi:mysql:database=fauqu001_fqdb;host=fauqu001.mysql.guardedhost.com;;user=fauqu001_fqdb;password=t8rdG^h6sC2f\")\n    or die \"Couldn't connect to database: $DBI::errstr\\n\"; \n\nread(STDIN, $buffer, $ENV{'CONTENT_LENGTH'});\n@pairs = split(/&amp;/, $buffer);\nforeach $pair (@pairs) {\n        ($name, $value) = split(/=/, $pair);\n        $value =~ tr/+/ /;\n        $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n        $FORM{$name} = $value; \n        print '&lt;br&gt;&lt;h3&gt;',$name,' = ',$value,'&lt;/br&gt;';\n\n        }\nmy $query = CGI-&gt;new();\nmy $referrer = $ENV{HTTP_REFERER};\n\n    print $query-&gt;redirect($referrer);\n\n\nmy $xdate = `date`;\n\nmy $cgi = new CGI;\n print $cgi-&gt;header();\n print 'user_agent(): ' . $cgi-&gt;user_agent() . '&lt;br&gt;';\n print 'remote_host(): ' . $cgi-&gt;remote_host() . '&lt;br&gt;';\n print 'script_name(): ' . $cgi-&gt;script_name() . '&lt;br&gt;';\n print 'referer(): ' . $cgi-&gt;referer() . '&lt;br&gt;';\n print 'request_method(): ' . $cgi-&gt;request_method() . '&lt;br&gt;'; \n\nend;\n</code></pre>\n"}, {"tags": ["ruby", "bash", "perl", "awk", "record"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1499629866, "post_id": 44999907, "comment_id": 76974752, "body": "<code>ruby -F&quot;\\n&quot; -lane &#39;BEGIN{$&#47;=&quot;&quot;; $\\=&quot;&quot;; $,=&quot;|&quot;; $i=1}; print &quot;#{$F.join($,)}\\t\\t#{$i}\\n&quot;; $i+=1;&#39; lines</code> works for me. With the same switches and input / output separators, Ruby behaves a lot like Perl."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1499648118, "post_id": 44999907, "comment_id": 76978904, "body": "@Stefan: Doh! Please post that. However -- do note that the behavior of <code>-00</code> is different than <code>$\\=&quot;&quot;</code> with ruby where perl is the same for each."}], "answers": [{"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 2, "creation_date": 1499659387, "post_id": 44999908, "comment_id": 76981125, "body": "FWIW <code>awk &#39;BEGIN{RS=&quot;&quot;} {print $0 ORS}&#39;</code> = <code>awk -v RS= -v ORS=&#39;\\n\\n&#39; &#39;1&#39;</code>"}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1499900307, "last_edit_date": 1499900307, "creation_date": 1499626557, "answer_id": 44999908, "question_id": 44999907, "link": "https://stackoverflow.com/questions/44999907/ruby-paragraph-mode-vs-awk-and-perl/44999908#44999908", "title": "Ruby paragraph mode vs Awk and Perl", "body": "<p>Like Perl, Ruby only supports a single octal character for <code>$/</code> to separate records. (Ruby and Perl share similar global variables.) </p>\n\n<p>So these are three workarounds: </p>\n\n<ol>\n<li><p>Set <code>$/=\"\"</code>. In Ruby the behavior of <code>$/=\"\"</code> is the same as Perl where runs of <code>\\n</code> are taken as a single record separator (contrast with <code>ruby -00</code>). (Thanks to <a href=\"https://stackoverflow.com/users/477037/stefan\">Stefan</a> for that)</p></li>\n<li><p>'Slurp' the file and then use a regex to separate the text into records and fields. (This what you need to do for any break between records that is not a single octal character or <code>\\n\\n+</code> in either perl, POSIX awk, or ruby.)</p></li>\n<li><p>Feed the file through awk to remove the excess <code>\\n</code> and redefine the break as <code>\\n\\n</code>.</p></li>\n</ol>\n\n<h3>Example of #1</h3>\n\n<pre><code>$ ruby -F\"\\n\" -lane 'BEGIN{$\\=\"\"; $/=\"\"; $,=\"|\"}; \n                       printf \"NR: %d, NF: %d, record: \\\"%s\\\"\\n\", $.,$F.length,$F.join' lines\nNR: 1, NF: 2, record: \"f1, r1|f2, r1 then 2 \\n:\"\nNR: 2, NF: 1, record: \"f1, r2 then 3 \\n:\"\nNR: 3, NF: 2, record: \"f1,r3|f2,r3 then 4 \\n:\"\nNR: 4, NF: 2, record: \"f1, r4|f2,r4 then 6 \\n: \"\nNR: 5, NF: 1, record: \"f1,r5\"\n</code></pre>\n\n<h3>Example of #2</h3>\n\n<pre><code>$ ruby -e 'i=0\n      $&lt;.read.split(/\\n\\n+/)\n        .map {|record| record.split(/\\n/)}\n        .map {|f| i+=1; printf \"NR: %d, NF: %d, record: \\\"%s\\\"\\n\", i,f.length,f.join\n                  }' lines\n</code></pre>\n\n<h3>Example of #3</h3>\n\n<pre><code>$ ruby -00 -F\"\\n\" -lane 'BEGIN{$/=\"\"; $\\=\"\"; $,=\"|\"; $i=1}; \n                     printf \"NR: %d, NF: %d, record: \\\"%s\\\"\\n\", $.,$F.length,$F.join' &lt;(awk 'BEGIN{RS=\"\"} {print $0 ORS}' lines) \n</code></pre>\n\n<p>All produce the same output as the first.</p>\n\n<p>The behavior of <code>ruby -00</code> is <strong>not</strong> the same as the perl equivalent; it is equivalent of breaking on the regex <code>/\\n\\n/</code>  Only use <code>-00</code> if you know that the blocks of data are separated by two <code>\\n</code> only. </p>\n\n<p>(At least until the <a href=\"https://bugs.ruby-lang.org/issues/13736#change-65717\" rel=\"nofollow noreferrer\">filed bug</a> on <code>-00</code> is fixed...)</p>\n\n<hr>\n\n<p>(Note: <code>ruby -0</code> is different than <code>ruby -0[some octal value]</code> The former sets the input record separator to the literal value of <code>0x00</code> for use with other Unix utilities that can feed a Nul terminated string, such as <code>find . print0 | ruby -0 -lane 'puts $_'</code>)</p>\n"}, {"comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1499697344, "post_id": 45006493, "comment_id": 77003478, "body": "No question that the behavior with <code>ruby -00</code> is a bug."}], "tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 2, "last_activity_date": 1499673034, "creation_date": 1499673034, "answer_id": 45006493, "question_id": 44999907, "link": "https://stackoverflow.com/questions/44999907/ruby-paragraph-mode-vs-awk-and-perl/45006493#45006493", "title": "Ruby paragraph mode vs Awk and Perl", "body": "<p>It works if you use <code>$/=\"\"</code> instead of <code>-00</code>:</p>\n\n<pre><code>$ ruby -F\"\\n\" -lane 'BEGIN{$/=\"\"; $\\=\"\"; $,=\"|\"; $i=1};\n                     print \"#{$F.join($,)}\\t\\t#{$i}\\n\"; $i+=1;' lines\n</code></pre>\n\n<p>This is equivalent to the Perl command:</p>\n\n<pre><code>$ perl -F\"\\n\" -lane 'BEGIN{$/=\"\"; $\\=\"\"; $,=\"|\"; $i=1}\n                     print join($,,@F).\"\\t\\t$i\\n\"; $i++;' lines \n</code></pre>\n\n<p>Both output:</p>\n\n<pre><code>f1, r1|f2, r1 then 2 \\n:        1\nf1, r2 then 3 \\n:       2\nf1,r3|f2,r3 then 4 \\n:      3\nf1, r4|f2,r4 then 6 \\n:     4\nf1,r5       5\n</code></pre>\n"}], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 45006493, "answer_count": 2, "score": 1, "last_activity_date": 1499900307, "creation_date": 1499626557, "last_edit_date": 1499697265, "question_id": 44999907, "link": "https://stackoverflow.com/questions/44999907/ruby-paragraph-mode-vs-awk-and-perl", "title": "Ruby paragraph mode vs Awk and Perl", "body": "<p>Suppose you have a file with five blocks of data separated by two or more <code>\\n</code> to separate the records (a common text format). </p>\n\n<p>If you run <a href=\"/questions/tagged/awk\" class=\"post-tag\" title=\"show questions tagged &#39;awk&#39;\" rel=\"tag\">awk</a> with <code>RS=\"\"</code> you set awk to separate the blocks into records. You can then set <code>FS=\\n</code> to separate the lines of the blocks into fields.</p>\n\n<p>Example:</p>\n\n<pre><code>$ cat lines\nf1, r1\nf2, r1 then 2 \\n:\n\nf1, r2 then 3 \\n:\n\n\nf1,r3\nf2,r3 then 4 \\n:\n\n\n\nf1, r4\nf2,r4 then 6 \\n: \n\n\n\n\n\nf1,r5\n</code></pre>\n\n<p>The <a href=\"https://www.gnu.org/software/gawk/manual/gawk.html#Multiple-Line\" rel=\"nofollow noreferrer\">idiomatic</a> way to separate the blocks into records and the lines into fields with awk is:</p>\n\n<pre><code>$ awk 'BEGIN{RS=\"\"; FS=\"\\n\"; OFS=\"|\"}\n       {$1=$1; printf \"NR: %d, NF: %d, record: \\\"%s\\\"\\n\", NR, NF, $0 }' lines\nNR: 1, NF: 2, record: \"f1, r1|f2, r1 then 2 \\n:\"\nNR: 2, NF: 1, record: \"f1, r2 then 3 \\n:\"\nNR: 3, NF: 2, record: \"f1,r3|f2,r3 then 4 \\n:\"\nNR: 4, NF: 2, record: \"f1, r4|f2,r4 then 6 \\n: \"\nNR: 5, NF: 1, record: \"f1,r5\"\n</code></pre>\n\n<p>No matter how many <code>\\n</code> separate the blocks, as long as 2 or more, it's a record.</p>\n\n<p>(With <a href=\"/questions/tagged/gawk\" class=\"post-tag\" title=\"show questions tagged &#39;gawk&#39;\" rel=\"tag\">gawk</a> exactly the same result can be obtained by setting <code>RS=\"\\n\\n+\"</code> instead of <code>RS=\"\"</code> since gawk supports a regex to separate records. Thanks <a href=\"https://stackoverflow.com/users/1745001/ed-morton\">Ed Morton</a> for pointing out the difference between POSIX awk and gawk on that)</p>\n\n<p>While <a href=\"/questions/tagged/perl\" class=\"post-tag\" title=\"show questions tagged &#39;perl&#39;\" rel=\"tag\">perl</a> does not support using a regex for the input record separator, there are two methods to set an equivalent paragraph mode. You can either use the <code>-00</code> command line switch or set the input record separator, <code>$/</code>, to a null string:</p>\n\n<pre><code>$ perl  -00 -F\"\\n\" -lane 'BEGIN{ $\\=\"\"; $,=\"|\"} \n                    printf \"NR: %d, NF: %d, record: \\\"%s\\\"\\n\", $., scalar(@F), join($,,@F)' lines\nNR: 1, NF: 2, record: \"f1, r1|f2, r1 then 2 \\n:\"\nNR: 2, NF: 1, record: \"f1, r2 then 3 \\n:\"\nNR: 3, NF: 2, record: \"f1,r3|f2,r3 then 4 \\n:\"\nNR: 4, NF: 2, record: \"f1, r4|f2,r4 then 6 \\n: \"\nNR: 5, NF: 1, record: \"f1,r5\"\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>$ perl -F\"\\n\" -lane 'BEGIN{ $\\=\"\"; $,=\"|\"; $/=\"\"} \n                     printf \"NR: %d, NF: %d, record: \\\"%s\\\"\\n\", $., scalar(@F), join($,,@F)' lines  \n</code></pre>\n\n<p>works too -- same output. </p>\n\n<p>Ruby <em>does</em> has a paragraph mode, but unlike Perl and awk, it has a behavior difference that can matter. If there are more than 2 <code>\\n</code>, then the runs of <code>\\n</code> are not ignored. It is equivalent to the regex <code>/\\n\\n/</code> in Ruby vs <code>/\\n\\n+/</code> in awk and Perl. It screws up both the field count and record count on the same input.</p>\n\n<p>Demo:</p>\n\n<pre><code>$ ruby -00 -F\"\\n\" -lane 'BEGIN{$\\=\"\"; $,=\"|\"}; \n                        printf \"NR: %d, NF: %d, record: \\\"%s\\\"\\n\", $.,$F.length,$F.join' lines\nNR: 1, NF: 2, record: \"f1, r1|f2, r1 then 2 \\n:\"\nNR: 2, NF: 1, record: \"f1, r2 then 3 \\n:\"\nNR: 3, NF: 3, record: \"|f1,r3|f2,r3 then 4 \\n:\"\nNR: 4, NF: 0, record: \"\"\nNR: 5, NF: 2, record: \"f1, r4|f2,r4 then 6 \\n: \"\nNR: 6, NF: 0, record: \"\"\nNR: 7, NF: 0, record: \"\"\nNR: 8, NF: 1, record: \"f1,r5\"\n</code></pre>\n\n<p>So Ruby's <code>-00</code> paragraph mode thinks the same content has 8 records with 9 total fields when Perl and Awk thinks it has 5 records and 8 total fields. </p>\n\n<p>Is there a way to get the same result with Ruby as with Perl and Awk?</p>\n"}, {"tags": ["regex", "string", "perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499606497, "post_id": 44996715, "comment_id": 76967643, "body": "You don&#39;t need to quote <code>$1</code>. <code>print $1</code> is fine."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499606610, "post_id": 44996715, "comment_id": 76967670, "body": "You don&#39;t need to match any spaces after the capture"}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499607228, "post_id": 44996715, "comment_id": 76967857, "body": "@Borodin While it may not be <i>necessary</i> to match a whitespace character after the view name, in a valid <code>CREATE VIEW</code> SQL statement, the name of the view normally would be followed by a space, and then some other stuff.  The OP didn&#39;t mention anything other than using presumably valid SQL, so I think we would have been OK leaving the previous regex as is."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499607423, "post_id": 44996715, "comment_id": 76967913, "body": "@TimBiegeleisen: Yes, it would have been okay. It would also have been fine to leave the quotes around <code>&quot;$1&quot;</code>; it&#39;s just sloppy code. Why do you value your right to add any superfluous code you like to your solution?"}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499607498, "post_id": 44996715, "comment_id": 76967935, "body": "@Borodin I originally was capturing <code>(.*?)\\s+</code> but due to other user&#39;s suggestions I changed it to <code>(\\w+)\\s+</code>, leaving the whitespace there, this is why it was there mainly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499607803, "post_id": 44996715, "comment_id": 76968013, "body": "@TimBiegeleisen: It would also be better to use <code>\\S</code> instead of <code>\\w</code>: remember that the view name may be enclosed in quotes. In fact, it may also contain spaces, but that would be a major fix for an unlikely possibility."}], "tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": true, "score": 1, "last_activity_date": 1499608131, "last_edit_date": 1499608131, "creation_date": 1499605465, "answer_id": 44996715, "question_id": 44996665, "link": "https://stackoverflow.com/questions/44996665/find-a-substring-and-print-it/44996715#44996715", "title": "Find a substring and print it", "body": "<p>You can slightly alter your current approach to add a <a href=\"https://metacpan.org/pod/perlretut#Extracting-matches\" rel=\"nofollow noreferrer\"><em>capture group</em> to extract the view name</a> from your query.  Then, access that capture group using the special variable <code>$1</code> after making the match.</p>\n\n<pre><code>$string=\"create or replace view COMPLEX_NAME_2 (b21d,21ld21)\";\nif ($string=~m/view\\s+(\\S+)/) {\n    print $1;\n} else {\n    print \"no match\";\n}\n</code></pre>\n\n<p><strong>Demo here:</strong></p>\n\n<p><a href=\"http://rextester.com/RGEV71136\" rel=\"nofollow noreferrer\"><h1>Rextester</h1></a></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1499606537, "creation_date": 1499606537, "answer_id": 44996871, "question_id": 44996665, "link": "https://stackoverflow.com/questions/44996665/find-a-substring-and-print-it/44996871#44996871", "title": "Find a substring and print it", "body": "<p>If there are never any spaces in the substring then you can use a capture to save all non-space characters after <code>view</code></p>\n\n<p>Like this</p>\n\n<pre><code>if ( $string =~ /view\\s+(\\S+)/ ) {\n    print $1, \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 7856165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/776861022491015/picture?type=large", "display_name": "Cristi.Fatu", "link": "https://stackoverflow.com/users/7856165/cristi-fatu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 44996715, "answer_count": 2, "score": -1, "last_activity_date": 1499608131, "creation_date": 1499605179, "last_edit_date": 1499606304, "question_id": 44996665, "link": "https://stackoverflow.com/questions/44996665/find-a-substring-and-print-it", "title": "Find a substring and print it", "body": "<p>I have this string</p>\n\n<pre><code>$string = \"create or replace view COMPLEX_NAME_2 (b21d,21ld21)\";\n</code></pre>\n\n<p>I want to get the <code>COMPLEX_NAME_2</code> and print it.</p>\n\n<p>Keep in mind that that <code>COMPLEX_NAME_2</code> is the sub string I need to find and it changes its value. I don't know how to get the substring in that place in the string\u2014the value of the substring doesn't matter.</p>\n\n<p>I tried</p>\n\n<pre><code>$string =~ m/view/gi;\nprint $';\n</code></pre>\n\n<p>But the problem it is that it prints <code>(b21d,21ld21)</code> as well and I need only the name.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 344, "user_id": 985376, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cda1af4a5279147419b9b8fd4111ec5a?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin S", "link": "https://stackoverflow.com/users/985376/sachin-s"}, "edited": false, "score": 0, "creation_date": 1499604792, "post_id": 44996573, "comment_id": 76967168, "body": "Worked like charm. Thanks!"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1499604611, "creation_date": 1499604611, "answer_id": 44996573, "question_id": 44996494, "link": "https://stackoverflow.com/questions/44996494/how-to-check-if-a-string-contains-an-element-from-an-array-in-perl/44996573#44996573", "title": "How to check if a string contains an element from an array in Perl", "body": "<p>The problem is that <code>\\Q</code> escapes (and thus matches literally) <code>.+</code> and <code>$</code> (in addition to the contents of <code>$_</code>).</p>\n\n<p>Fix:</p>\n\n<pre><code>grep { $name =~ /\\Q$_\\E\\z/ } @{$end}\n</code></pre>\n\n<ul>\n<li>You don't need the <code>.+</code> part at all.</li>\n<li><code>\\E</code> limits the escaping to just <code>$_</code>.</li>\n<li><code>\\z</code> anchors the match to the end of the string (<code>$</code> would also allow a <code>\\n</code> before the end of the string).</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499607210, "post_id": 44996944, "comment_id": 76967855, "body": "<code>$end</code> is not a string. It&#39;s an array reference."}, {"owner": {"reputation": 28247, "user_id": 7998591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d596f1872edb66dc5bcbf7e7b07098b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Nayak", "link": "https://stackoverflow.com/users/7998591/kaushik-nayak"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499607405, "post_id": 44996944, "comment_id": 76967908, "body": "Thanks!. I misinterpreted it."}], "tags": [], "owner": {"reputation": 28247, "user_id": 7998591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d596f1872edb66dc5bcbf7e7b07098b?s=128&d=identicon&r=PG&f=1", "display_name": "Kaushik Nayak", "link": "https://stackoverflow.com/users/7998591/kaushik-nayak"}, "is_accepted": false, "score": 0, "last_activity_date": 1500110981, "last_edit_date": 1500110981, "creation_date": 1499607035, "answer_id": 44996944, "question_id": 44996494, "link": "https://stackoverflow.com/questions/44996494/how-to-check-if-a-string-contains-an-element-from-an-array-in-perl/44996944#44996944", "title": "How to check if a string contains an element from an array in Perl", "body": "<p>In order to use <code>grep()</code> , you need to convert the <code>$end</code> variable to an array by using <code>split()</code>. Note that <code>grep(/pattern/,@array)</code> searches for <code>/pattern/</code> in each element of <code>@array</code>. Since you are searching for last four characters in your pattern , we need to separate it first.</p>\n\n<pre><code>my $end=\"'.a[bc', '.de[f', '.xy]z'\";\nmy @array = split(',',$end);\nmy $name=\"test.a[bc\";\nmy $name_end = substr($name,-5);\n\nif( grep( m/\\Q$name_end/ , @array ) ) {\n    print \"Yes\\n\";\n}\nelse {\n    print \"No\\n\";\n} # prints \"No\";\n</code></pre>\n\n<p>An alternative would be to to search in the <code>$end</code> for each array element by looping. The above solution works however. Let me know your feedback.</p>\n"}, {"comments": [{"owner": {"reputation": 344, "user_id": 985376, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cda1af4a5279147419b9b8fd4111ec5a?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin S", "link": "https://stackoverflow.com/users/985376/sachin-s"}, "edited": false, "score": 0, "creation_date": 1499874172, "post_id": 45021599, "comment_id": 77097764, "body": "Thanks for this non-regex solution. Brilliant!"}], "tags": [], "owner": {"reputation": 818, "user_id": 56565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8c65b603554811079a7ea9b7aab9c0?s=128&d=identicon&r=PG", "display_name": "gugod", "link": "https://stackoverflow.com/users/56565/gugod"}, "is_accepted": false, "score": 2, "last_activity_date": 1499720843, "creation_date": 1499720843, "answer_id": 45021599, "question_id": 44996494, "link": "https://stackoverflow.com/questions/44996494/how-to-check-if-a-string-contains-an-element-from-an-array-in-perl/45021599#45021599", "title": "How to check if a string contains an element from an array in Perl", "body": "<p>Allow me to offer an alternative solution without using regex. Since the problem is is to compare a string with a sub-string, <code>substr()</code> function can be used:</p>\n\n<pre><code>my $end = ['.a[bc', '.de[f', '.xy]z'];\nmy $name= \"test.a[bc\" ;\nmy $found = grep { (substr($name, length($name) - length($_)) eq $_) } @$end;\nprint $found ? \"Yes\\n\": \"No\\n\";\n</code></pre>\n\n<p>This is assuming <code>length($name) &gt;= length($_)</code>. In fact, the behaviour of <code>substr</code> can also allow us to simply pass a negative offset (2nd parameter):</p>\n\n<pre><code>my $found = grep { (substr($name, -length($_)) eq $_) } @$end;\n</code></pre>\n\n<p>One thing to note here is that <code>substr()</code> generally produce no errors and warnings and still do something -- since it takes both positive and negative offset values. (Check <a href=\"http://perldoc.perl.org/perlfunc.html#substr-EXPR%2cOFFSET%2cLENGTH%2cREPLACEMENT\" rel=\"nofollow noreferrer\">perldoc of substr</a> (command: <code>perldoc -f substr</code>) for more details).</p>\n\n<p>You can avoid those \"surprises\" by adding a pre-condiditon to guard this seemingly trivial assumption:</p>\n\n<pre><code>my $found = grep {\n    (length($name) &gt; length($_)) &amp;&amp;\n    (substr($name, -length($_)) eq $_)\n} @$end;\n</code></pre>\n\n<p>This does makes sense: if the content in <code>$_</code> is longer than <code>$name</code>, by definition it cannot be the suffix of <code>$name</code> anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3973782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a4c5ba2ff7381680700a0c4a3d0f44?s=128&d=identicon&r=PG&f=1", "display_name": "Dean Inada", "link": "https://stackoverflow.com/users/3973782/dean-inada"}, "is_accepted": false, "score": 0, "last_activity_date": 1499837875, "creation_date": 1499837875, "answer_id": 45049227, "question_id": 44996494, "link": "https://stackoverflow.com/questions/44996494/how-to-check-if-a-string-contains-an-element-from-an-array-in-perl/45049227#45049227", "title": "How to check if a string contains an element from an array in Perl", "body": "<pre><code>my $end=['.a[bc', '.de[f', '.xy]z'];\nmy $name=\"test.a[bc\";\nmy %end;\n@end{@$end}=();\nmy $found = exists $end{($name=~/.*(\\..*)/)[0]};\n</code></pre>\n"}], "owner": {"reputation": 344, "user_id": 985376, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cda1af4a5279147419b9b8fd4111ec5a?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin S", "link": "https://stackoverflow.com/users/985376/sachin-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2838, "favorite_count": 0, "accepted_answer_id": 44996573, "answer_count": 4, "score": 2, "last_activity_date": 1500110981, "creation_date": 1499604028, "last_edit_date": 1499604116, "question_id": 44996494, "link": "https://stackoverflow.com/questions/44996494/how-to-check-if-a-string-contains-an-element-from-an-array-in-perl", "title": "How to check if a string contains an element from an array in Perl", "body": "<p>I want to check if string $name ends with any of the elements from $end array_ref</p>\n\n<pre><code>my $end=['.a[bc', '.de[f', '.xy]z'];\nmy $name=\"test.a[bc\";\n\n# But this is not working:\nif(grep{$name=~m/\\Q.+$_$/} @{$end}) { print \"Yes\\n\"; } else {print \"No\\n\"; } # prints \"No\"\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1499540194, "post_id": 44989677, "comment_id": 76954146, "body": "Looks like <code>XML::Writer</code> isn&#39;t installed."}, {"owner": {"reputation": 11, "user_id": 5842682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dc5c95dfba79323f3f79941b6756fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Ragu", "link": "https://stackoverflow.com/users/5842682/ragu"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1499541489, "post_id": 44989677, "comment_id": 76954565, "body": "i just followed the below steps to install perl. anything wrong? <a href=\"https://perlmaven.com/download-and-install-perl\" rel=\"nofollow noreferrer\">perlmaven.com/download-and-install-perl</a>"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 2, "creation_date": 1499542038, "post_id": 44989677, "comment_id": 76954719, "body": "@Ragu XML::Writer is not part of perl. It must be installed separately."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1499591582, "post_id": 44989677, "comment_id": 76963656, "body": "XML::Writer is not a part of Perls core modules (&quot;built in&quot; modules that almost always follows an installation of Perl). There are many ways to install additional modules. Among others, this might be a good start: <a href=\"https://www.thoughtco.com/installing-perl-modules-from-cpan-2641120\" rel=\"nofollow noreferrer\">thoughtco.com/installing-perl-modules-from-cpan-2641120</a>  Also try command: locate XML/Writer.pm And then add this as line 2 in your program: use lib &#39;path&#39;; #where path is the result of locate up to but not including the string &quot;XML/Writer.pm&quot; itself."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1499542257, "post_id": 44989902, "comment_id": 76954782, "body": "That won&#39;t work here. Judging from the list of directories in <code>@INC</code> this is a custom built perl, not system perl. <code>cpan XML::Writer</code> ought to work, though."}], "tags": [], "owner": {"reputation": 342, "user_id": 6242321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f23e14013b897e15a7852bec2ec762?s=128&d=identicon&r=PG&f=1", "display_name": "jwal", "link": "https://stackoverflow.com/users/6242321/jwal"}, "is_accepted": false, "score": 1, "last_activity_date": 1499541304, "creation_date": 1499541304, "answer_id": 44989902, "question_id": 44989677, "link": "https://stackoverflow.com/questions/44989677/cant-locate-xml-writer-pm-in-inc/44989902#44989902", "title": "Can&#39;t locate XML/Writer.pm in @INC", "body": "<p>It might be in a package, say libxml-writer-perl, assuming Debian.</p>\n\n<p>apt-cache search XML::Writer gives a list of packages if your system uses apt.</p>\n\n<p>Depends on how you are getting your perl modules.</p>\n"}], "owner": {"reputation": 11, "user_id": 5842682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dc5c95dfba79323f3f79941b6756fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Ragu", "link": "https://stackoverflow.com/users/5842682/ragu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1955, "favorite_count": 0, "closed_date": 1499549606, "answer_count": 1, "score": 0, "last_activity_date": 1499541380, "creation_date": 1499539791, "last_edit_date": 1499541380, "question_id": 44989677, "link": "https://stackoverflow.com/questions/44989677/cant-locate-xml-writer-pm-in-inc", "closed_reason": "Duplicate", "title": "Can&#39;t locate XML/Writer.pm in @INC", "body": "<p>can someone help me to exclude below the error.</p>\n\n<p>Thanks in advance</p>\n\n<p>Can't locate XML/Writer.pm in @INC (@INC contains: /home/svceln/usr/lib/perl5/site_perl/5.16.2/x86_64-linux /home/svceln/usr/lib/perl5/site_perl/5.16.2 /home/svceln/usr/lib/perl5/5.16.2/x86_64-linux /home/svceln/usr/lib/perl5/5.16.2 .) at /opt/apps/tomcat_scripts/allocate_ports.pl line 7.\nBEGIN failed--compilation aborted at /opt/apps/tomcat_scripts/allocate_ports.pl line 7.\nError in allocating ports, server.xml cannot run`</p>\n\n<p>The script i am using</p>\n\n<pre><code>#!/home/svceln/usr/bin/perl -w\n# allocate_ports.pl\n\n# allocate ports, create port_config.xml and write to stdout\n\nuse strict;\nuse XML::Writer;\nuse IO::File;enter code here\nuse File::Basename;\n\nmy ($increment) = 0;\nmy ($execDir) = dirname($0);\n\n$#ARGV eq 0 or die \"Usage: allocate_ports.pl server_name\\n\";\n\nmy ($port_read) = new IO::File (\"$execDir/port_increment.txt\");\nif (defined $port_read) {\n  while (&lt;$port_read&gt;) {\n    chomp;\n    $increment = $_;\n  }\n  $port_read-&gt;close() or die \"Can't close port_increment.txt: $!\";\n} else {\n  $increment = 0;\n}\n</code></pre>\n"}, {"tags": ["mongodb", "perl"], "comments": [{"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 1, "creation_date": 1499549778, "post_id": 44987425, "comment_id": 76956880, "body": "You are looking in the wrong database. Actually in the shell you are connecting to the &quot;test&quot; database. See: <code>connecting to: test</code> and you never ask to switch the namespace, so that is where the data is. Change to <code>$client-&gt;get_database( &#39;test&#39; );</code> and as noted, it&#39;s a lot better if you actually write <code>MongoDB-&gt;connect</code> instead, though instance method to class method distinctions at this point have little consequence. You simply chose the wrong database. The &quot;admin&quot; namespace gets automatically switched by the driver for authentication. All you need to do is use the real space where data is."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 1, "creation_date": 1499553229, "post_id": 44987425, "comment_id": 76957620, "body": "@NeilLunn:  <i>&quot;it&#39;s a lot better if you actually write <code>MongoDB-&gt;connect</code> instead, though instance method to class method distinctions at this point have little consequence&quot;</i> No. That&#39;s extremely misleading. The OP has used a simple subroutine call, not an instance method or a class method. That breaks it because the method expects the class name as the first parameter, and if you call it as a simple subroutine then it will use the host string for the class name, and behave as if there were no host parameter. If it works as it stands then it is because the user name and password are unnecessary"}, {"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499553557, "post_id": 44987425, "comment_id": 76957675, "body": "@Borodin I completely agree and I hate bad code myself. But bad code was simply not the cause of the problem, even if it&#39;s bad code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1499553728, "post_id": 44987425, "comment_id": 76957705, "body": "@NeilLunn: But your comment about the format of the call &quot;having little consequence&quot; is completely wrong. It seems the OP was simply lucky because a custom URI was unnecessary."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1499569306, "post_id": 44987425, "comment_id": 76959941, "body": "This question should be closed because &quot;This question was caused by a problem that can no longer be reproduced or a simple typographical error. While similar questions may be on-topic here, this one was resolved in a manner unlikely to help future readers.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1499552021, "post_id": 44988786, "comment_id": 76957390, "body": "Thanks @borodin for the good points, I did it for a quick test, so it&#39;s shitty code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 2, "creation_date": 1499552987, "post_id": 44988786, "comment_id": 76957572, "body": "@packetie: It&#39;s not just lazy code. <code>MongoDB-&gt;connect(&quot;mongodb:&#47;&#47;admin:admin123@localhost&quot;)</code> passes the string <code>MongoDB</code> as the first parameter, so it&#39;s equivalent to <code>MongoDB::connect(&quot;MongoDB&quot;, &quot;mongodb:&#47;&#47;admin:admin123@localhost&quot;)</code>. If you don&#39;t call it as a class method then the subroutine will use <code>mongodb:&#47;&#47;admin:admin123@localhost</code> as the <i>class name</i> and there will be no host parameter."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1499553473, "post_id": 44988786, "comment_id": 76957652, "body": "Thanks a lot @borodin, I have made the change now."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1499533958, "creation_date": 1499533958, "answer_id": 44988786, "question_id": 44987425, "link": "https://stackoverflow.com/questions/44987425/mongodb-returns-nothing/44988786#44988786", "title": "MongoDB returns nothing?", "body": "<p>First of all, you <em>must always</em> start <em>every</em> Perl program you write with</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n</code></pre>\n\n<p>and <em>please</em> use better identifiers than <code>$x</code> and <code>$y</code></p>\n\n<p>You're calling <code>connect</code> as a simple subroutine when it should be a class method. Change</p>\n\n<pre><code>my $client = MongoDB::connect(\"mongodb://admin:admin123@localhost\")\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my $client = MongoDB-&gt;connect(\"mongodb://admin:admin123@localhost\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1499553507, "post_id": 44991203, "comment_id": 76957664, "body": "<i>&quot;it&#39;s a lot better if you actually write <code>MongoDB-&gt;connect</code> instead, though instance method to class method distinctions at this point have little consequence&quot;</i> No. That&#39;s <b><i>extremely misleading</i></b>. The OP has used a simple subroutine call, not an instance method or a class method. That breaks it because the method expects the class name as the first parameter, and if you call it as a simple subroutine then it will use the host string for the class name, and behave as if there were no host parameter. If it works as it stands then it is because the user name and password are unnecessary."}], "tags": [], "owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "is_accepted": true, "score": 1, "last_activity_date": 1499602761, "last_edit_date": 1499602761, "creation_date": 1499552109, "answer_id": 44991203, "question_id": 44987425, "link": "https://stackoverflow.com/questions/44987425/mongodb-returns-nothing/44991203#44991203", "title": "MongoDB returns nothing?", "body": "<p>You are looking in the wrong database. Actually in the shell you are connecting to the \"test\" database. See: </p>\n\n<pre><code>connecting to: test\n</code></pre>\n\n<p>and you never ask to switch the namespace, so that is where the data is.</p>\n\n<p>Change to</p>\n\n<pre><code>$client-&gt;get_database( 'test' );\n</code></pre>\n\n<p>and as noted, it's a lot better if you actually write <code>MongoDB-&gt;connect</code> instead, though instance method to class method distinctions at this point have little consequence. You simply chose the wrong database. The \"admin\" namespace gets automatically switched by the driver for authentication. All you need to do is use the real space where data is.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 44991203, "answer_count": 2, "score": -2, "last_activity_date": 1499602761, "creation_date": 1499525516, "last_edit_date": 1499532697, "question_id": 44987425, "link": "https://stackoverflow.com/questions/44987425/mongodb-returns-nothing", "title": "MongoDB returns nothing?", "body": "<p></p>\n\n<p>I am trying to run Perl with <a href=\"https://metacpan.org/pod/MongoDB\" rel=\"nofollow noreferrer\"><code>MongoDB</code></a> but I get nothing</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use MongoDB;\nuse Data::Dumper;\n\nmy $client = MongoDB::connect(\"mongodb://admin:admin123@localhost\");\nmy $db = $client-&gt;get_database( 'admin' );\nmy $x = $db-&gt;get_collection( 'inventory' );\nmy $y = $x-&gt;find({\"item\" =&gt; \"journal\"});\nprint Dumper($y-&gt;all);\n</code></pre>\n\n<p>In the <code>mongo</code> client, I get this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mongo -u admin -p admin123 --authenticationDatabase admin\nMongoDB shell version: 3.2.15\nconnecting to: test\nServer has startup warnings: \n2017-07-08T08:28:16.694-0500 I CONTROL  [initandlisten] \n2017-07-08T08:28:16.694-0500 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.\n2017-07-08T08:28:16.694-0500 I CONTROL  [initandlisten] **        We suggest setting it to 'never'\n2017-07-08T08:28:16.694-0500 I CONTROL  [initandlisten] \n&gt; db.inventory.find({})\n{ \"_id\" : ObjectId(\"5960dec814a535e879221157\"), \"item\" : \"journal\", \"qty\" : 26, \"size\" : { \"h\" : 17, \"w\" : 21, \"uom\" : \"cm\" }, \"status\" : \"B\" }\n{ \"_id\" : ObjectId(\"5960dec814a535e879221158\"), \"item\" : \"notebook\", \"qty\" : 50, \"size\" : { \"h\" : 8.5, \"w\" : 11, \"uom\" : \"in\" }, \"status\" : \"A\" }\n{ \"_id\" : ObjectId(\"5960dec814a535e879221159\"), \"item\" : \"paper\", \"qty\" : 100, \"size\" : { \"h\" : 8.5, \"w\" : 11, \"uom\" : \"in\" }, \"status\" : \"D\" }\n{ \"_id\" : ObjectId(\"5960dec814a535e87922115a\"), \"item\" : \"planner\", \"qty\" : 75, \"size\" : { \"h\" : 22.85, \"w\" : 30, \"uom\" : \"cm\" }, \"status\" : \"D\" }\n{ \"_id\" : ObjectId(\"5960dec814a535e87922115b\"), \"item\" : \"postcard\", \"qty\" : 45, \"size\" : { \"h\" : 10, \"w\" : 15.25, \"uom\" : \"cm\" }, \"status\" : \"A\" }\n{ \"_id\" : ObjectId(\"5960e7bb14a535e87922115c\"), \"foo\" : { \"a\" : [ 1, 2, 3 ] } }\n{ \"_id\" : ObjectId(\"5960e87614a535e87922115d\"), \"foo\" : { \"a\" : [ 2, 3, 4 ] } }\n{ \"_id\" : ObjectId(\"5960e87c14a535e87922115e\"), \"foo\" : { \"a\" : [ 5, 3, 4 ] } }\n&gt; \n</code></pre>\n"}, {"tags": ["perl", "file-upload", "hyperlink", "upload", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 5, "creation_date": 1499517146, "post_id": 44986249, "comment_id": 76946680, "body": "<a href=\"https://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\">Don&#39;t write Perl without <code>use strict; use warnings;</code></a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1499517184, "post_id": 44986249, "comment_id": 76946688, "body": "<a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">CGI is not recommended for new development</a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 4, "creation_date": 1499517204, "post_id": 44986249, "comment_id": 76946693, "body": "<a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">The HTML generating functions in CGI.pm are no longer maintained</a>."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1499517367, "post_id": 44986249, "comment_id": 76946735, "body": "<code>open UPLOAD, &quot;&gt;$directory$file&quot;;</code> \u2014 <a href=\"https://stackoverflow.com/questions/3276674/which-one-is-good-practice-a-lexical-filehandle-or-a-typeglob\">Avoid typeglobs for <code>open</code></a> <b>and</b> <a href=\"https://stackoverflow.com/questions/8561008/perlcritic-two-argument-open-error\">Avoid the two argument form of <code>open</code></a> <b>and</b> <i>test to see if the open is successful (this could be the cause of your problem)</i>!"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1499517407, "post_id": 44986249, "comment_id": 76946744, "body": "<i>what path should be given for $directory(i mean adding the serverip or domain name</i> \u2014 It&#39;s a path, not a URL!"}, {"owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1499517467, "post_id": 44986249, "comment_id": 76946759, "body": "@Quentin will it work if i replace them with html tags?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1499519078, "post_id": 44986249, "comment_id": 76947121, "body": "You&#39;re also missing a slash <code>&#47;</code>. It should be <code>open my $fh, &#39;&gt;&#39;, $directory . &#39;&#47;&#39; . $file or die $!</code>. Right you you&#39;ll have <code>&quot;var&#47;www&#47;cgi-bin&#47;uploadsfilename.foo&quot;</code>, which is wrong."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1499585033, "creation_date": 1499585033, "answer_id": 44994041, "question_id": 44986249, "link": "https://stackoverflow.com/questions/44986249/file-upload-using-a-perl-cgi-script-not-working/44994041#44994041", "title": "File upload using a Perl CGI script not working", "body": "<p>Looks like you need to read <a href=\"https://metacpan.org/pod/CGI#Processing-a-file-upload-field\" rel=\"nofollow noreferrer\">the documentation on file upload basics</a> again. The sample code they have is:</p>\n\n<pre><code>use autodie;\n\n# undef may be returned if it's not a valid file handle\nif ( my $io_handle = $q-&gt;upload('field_name') ) {\n    open ( my $out_file,'&gt;&gt;','/usr/local/web/users/feedback' );\n    while ( my $bytesread = $io_handle-&gt;read($buffer,1024) ) {\n        print $out_file $buffer;\n    }\n}\n</code></pre>\n\n<p>There are some stylistic differences to your code, but the important thing to note that is that when your code runs this line:</p>\n\n<pre><code>$file=$cgi-&gt;upload('text');\n</code></pre>\n\n<p>Then <code>$file</code> contains an open filehandle. It does not contain the filename. This means that there are at least three errors in these lines of your code:</p>\n\n<pre><code>$directory=\"var/www/cgi-bin/uploads\";\nopen UPLOAD, \"&gt;$directory$file\";\n</code></pre>\n\n<ol>\n<li>The value you store in <code>$directory</code> should almost certainly start with a <code>/</code> (so it's <code>/var/www/cgi-bin/uploads</code>).</li>\n<li>You also need another <code>/</code> between <code>$directory</code> and <code>$file</code> (otherwise, it will contain something like <code>/var/www/cgi-bin/uploadsmyfile.dat</code>).</li>\n<li>You need to call <code>$cgi-&gt;param('text')</code> to get the name of the file that is being uploaded.</li>\n</ol>\n\n<p>This is what is stopping your program from working. The upload section of your code should look like this:</p>\n\n<pre><code>my $filename = $cgi-&gt;param('text');\nmy $fh       = $cgi-&gt;upload('text');\n\nmy $directory = '/var/www/cgi-bin/uploads';\n\nopen my $upload_fh, '&gt;', \"$directory/$filename\"\n  or die \"Can't open '$directory/$filename': $!\";\n\nprint $upload_fh $_ while &lt;$fh&gt;;\n</code></pre>\n\n<p>Note that I've made some stylistic improvements here:</p>\n\n<ol>\n<li>Used 3-argument version of <code>open()</code></li>\n<li>Used lexical filehandles</li>\n<li>Checked the success of the <code>open()</code> call and killed the program with a useful error message if it fails</li>\n</ol>\n\n<p>All in all, you seem to have learned CGI programming from a resource that is about twenty years out of date. Your code looks like it comes from the 1990s.</p>\n\n<p>A few other tips:</p>\n\n<ol>\n<li>Always <code>use strict</code> and <code>use warnings</code>.</li>\n<li>Indirect object notation (<code>new CGI</code>) is potentially very confusing. Use <code>CGI-&gt;new</code> instead.</li>\n<li>We've known that the HTML-generation functions in CGI.pm are a terrible idea since the end of the last millennium. Please don't use them. Many good templating solutions are available for Perl.</li>\n<li>Writing a CGI program in 2017 is a terrible idea. Take a look at <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> for an introduction to Modern Perl Web Development tools.</li>\n</ol>\n"}], "owner": {"reputation": 165, "user_id": 4915658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/880691111995798/picture?type=large", "display_name": "Vamsee Bond", "link": "https://stackoverflow.com/users/4915658/vamsee-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1091, "favorite_count": 0, "accepted_answer_id": 44994041, "answer_count": 1, "score": -1, "last_activity_date": 1499585033, "creation_date": 1499517001, "question_id": 44986249, "link": "https://stackoverflow.com/questions/44986249/file-upload-using-a-perl-cgi-script-not-working", "title": "File upload using a Perl CGI script not working", "body": "<p>The following code doesn't have any syntax errors, but still doesn't working.Can I use server ip(like 100.100.100.100) for $Domain and what path should be given for $directory(i mean adding the serverip or domain name?Please help</p>\n\n<pre><code>#!/usr/bin/perl\nuse CGI;\n$CGI::POST_MAX= 100 * 1024;\n$CGI::DISABLE_UPLOADS=0;\n$Referer = $ENV{HTTP_REFERER};\n$Domain = \"xxx.com\";\n$cgi = new CGI;\n$file=$cgi-&gt;upload('text');\nprint $cgi-&gt;header,\n$cgi-&gt;start_html\n(\n        -title=&gt;'CGI.pm File Upload'\n);\nprint &lt;&lt;EOF;\n&lt;form action=\"\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n&lt;input type=\"file\" name=\"text\" size=60&gt;&lt;br&gt;\n&lt;input type=\"submit\" value=\"Upload\"&gt;\n&lt;/form&gt;\nEOF\nif($file)\n{\n        if($Referer =~ \"$Domain\")\n        {\n                $directory=\"var/www/cgi-bin/uploads\";\n                open UPLOAD, \"&gt;$directory$file\";\n                binmode UPLOAD;\n                while(&lt;$file&gt;) {print UPLOAD;}\n                close UPLOAD;\n        }\n}\n$cgi-&gt;end_html;\nexit;\n</code></pre>\n"}, {"tags": ["mysql", "perl", "hash", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1499447156, "post_id": 44974909, "comment_id": 76927569, "body": "You&#39;re the first Bioperl person I&#39;ve seen on here that&#39;s using something as modern as DBIC. Good job! :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1499447214, "post_id": 44974909, "comment_id": 76927602, "body": "You can do transactions with DBIC."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1499452644, "post_id": 44974909, "comment_id": 76930323, "body": "I would not use DBIC for bulk data import. Have your Perl script create a CSV or TSV and use your database&#39;s own bulk import functionality."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1499538435, "post_id": 44974909, "comment_id": 76953633, "body": "If you&#39;re still having issues with speed following the advice by Simbabque&#39;s excellent answer, feel free to post again, I for one am glad to see &quot;Bioperl&quot; coders around :)"}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "edited": false, "score": 0, "creation_date": 1499646966, "post_id": 44976413, "comment_id": 76978719, "body": "Wow. NICE answer. Thanks a lot. I&#39;m not able to test it right now so, I&#39;ll delay the &quot;correct answer&quot; clicking, but it does seem like its gonna work. As you said, nothing keeps me from using this approach. I&#39;ll give it a try a get back to the post :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "edited": false, "score": 1, "creation_date": 1499669818, "post_id": 44976413, "comment_id": 76984614, "body": "@LionelUranLandaburu no problem. But keep Sinan&#39;s advice from above in mind. A bulk import might make more sense."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1499449870, "last_edit_date": 1499449870, "creation_date": 1499447736, "answer_id": 44976413, "question_id": 44974909, "link": "https://stackoverflow.com/questions/44974909/inserting-several-new-items-into-the-database-with-dbic/44976413#44976413", "title": "Inserting several &quot;new&quot; items into the database with DBIC", "body": "<p>You can create your massive transaction by using a <a href=\"http://%20https://metacpan.org/pod/DBIx::Class::Storage::TxnScopeGuard\" rel=\"noreferrer\"><code>TxnScopeGuard</code> in DBIC</a>. In the most basic form, that would be as follows.</p>\n\n<pre><code>eval { # or try from Try::Tiny\n    my $guard = $schema-&gt;txn_scope_guard;\n\n    foreach my $id ( keys %new ) {\n        my $rs = $schema-&gt;resultset('Genes')-&gt;create(\n            {\n                gene_name              =&gt; $new{$id}{gene_name},\n                gene_product           =&gt; $new{$id}{product},\n                sequence               =&gt; $new{$id}{sequence},\n                gene_protein_length    =&gt; $new{$id}{seqlength},\n                digest                 =&gt; $new{$id}{digest},\n                gene_isoelectric_point =&gt; $new{$id}{iep},\n                gene_molecular_weight  =&gt; $new{$id}{mw},\n                gene_tmd_count         =&gt; $new{$id}{tms},\n                gene_species           =&gt; $species,\n                species_code           =&gt; $spc,\n                user_id                =&gt; $tdruserid,\n                gene_database_source   =&gt; $new{$id}{gene_database_source}\n\n            }\n        );\n    }\n    $guard-&gt;commit;\n}\n</code></pre>\n\n<p>You create a scope guard object, and when you're done setting up your <a href=\"https://en.wikipedia.org/wiki/Database_transaction\" rel=\"noreferrer\">transaction</a>, you <code>commit</code> it. If the object goes out of scope, i.e. because something <code>die</code>d, it will rollback the transaction automatically. </p>\n\n<p>The <code>eval</code> can catch the <code>die</code>, and your program will not crash. You had that part correct, but you're also right that your code will not undo previous inserts. Note that <a href=\"https://metacpan.org/pod/Try::Tiny\" rel=\"noreferrer\">Try::Tiny</a>'s <code>try</code> provides nicer syntax. But it's not needed here.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Database_transaction\" rel=\"noreferrer\">Transaction</a> in this case means that all queries are collected and run at the same time. </p>\n\n<p><strong>Note that this will still insert one row per <code>INSERT</code> statement only!</strong></p>\n\n<p>If you want to instead create larger <code>INSERT</code> statements, like the following, you need <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#populate\" rel=\"noreferrer\"><code>populate</code></a>, not <code>new</code>.</p>\n\n<pre><code>INSERT INTO foo (bar, baz) VALUES\n(1, 1),\n(2, 2),\n(3, 3),\n...\n</code></pre>\n\n<p>The <code>populate</code> method lets you pass in an array reference with multiple rows at one time. This is supposed to be way faster than inserting one at a time.</p>\n\n<blockquote>\n<pre><code>$schema-&gt;resultset(\"Artist\")-&gt;populate([\n  [ qw( artistid name ) ],\n  [ 100, 'A Formally Unknown Singer' ],\n  [ 101, 'A singer that jumped the shark two albums ago' ],\n  [ 102, 'An actually cool singer' ],\n]);\n</code></pre>\n</blockquote>\n\n<p>Translated to your loop, that would be as follows. Note that the documentation claims that it's faster if you run it in <em>void context</em>.</p>\n\n<pre><code>eval {\n    $schema-&gt;resultset('Genes')-&gt;populate(\n        [\n            [\n                                qw(\n                    gene_name             gene_product   sequence\n                    gene_protein_length   digest         gene_isoelectric_point\n                    gene_molecular_weight gene_tmd_count gene_species\n                    species_code          user_id        gene_database_source\n        )\n            ],\n            map {\n                [\n                    $new{$_}{gene_name}, $new{$_}{product},\n                    $new{$_}{sequence},  $new{$_}{seqlength},\n                    $new{$_}{digest},    $new{$_}{iep},\n                    $new{$_}{mw},        $new{$_}{tms},\n                    $species,            $spc,\n                    $tdruserid,          $new{$_}{gene_database_source},\n                ]\n            } keys %new\n        ],\n    );\n}\n</code></pre>\n\n<p>Like this the scope guard is not needed. However, I would advise you to not do more than 1000 rows per statement though. Processing it in chunks might be a good idea for performance reasons. In that case, you'd loop over the keys 1000 at a time. <a href=\"https://metacpan.org/pod/List::MoreUtils#natatime-EXPR,-LIST\" rel=\"noreferrer\">List::MoreUtils</a> has a nice <code>natatime</code> function for that.</p>\n\n<pre><code>use List::MoreUtils 'natatime';\n\neval {\n    my $guard = $schema-&gt;txn_scope_guard;\n\n    my $it = natatime 1_000, keys %new;\n\n    while ( my @keys = $it-&gt;() ) {\n        $schema-&gt;resultset('Genes')-&gt;populate(\n            [\n                [\n                    qw(\n                        gene_name             gene_product   sequence\n                        gene_protein_length   digest         gene_isoelectric_point\n                        gene_molecular_weight gene_tmd_count gene_species\n                        species_code          user_id        gene_database_source\n                        )\n                ],\n                map {\n                    [\n                        $new{$_}{gene_name}, $new{$_}{product},\n                        $new{$_}{sequence},  $new{$_}{seqlength},\n                        $new{$_}{digest},    $new{$_}{iep},\n                        $new{$_}{mw},        $new{$_}{tms},\n                        $species,            $spc,\n                        $tdruserid,          $new{$_}{gene_database_source},\n                    ]\n                } @keys\n            ],\n        );\n    }\n\n    $guard-&gt;commit;\n}\n</code></pre>\n\n<p>Now it will do 1000 rows per insertion, and run all those queries in one big transaction. If one of them fails, none will be done.</p>\n\n<blockquote>\n  <p>The script needs to loop twice through very large datasets (one while reading and creating the hashes, and once again when reading the hashes and performing the insertions). This makes the process' performance rather poor.</p>\n</blockquote>\n\n<p>You're not showing how you create the data, besides this assignment.</p>\n\n<blockquote>\n<pre><code>$new{$id}{gene_name}              = $id;\n$new{$id}{gene_database_source} = $gene_database_source\n$new{$id}{product}            = $product;\n</code></pre>\n</blockquote>\n\n<p>If that's all there is to it, nothing is stopping you from using the approach I've shown above directly where you're processing the data the first time and building the hash. The following code is incomplete, because you're not telling us where the data is coming from, but you should get the gist.</p>\n\n<pre><code>eval {\n    my $guard = $schema-&gt;txn_scope_guard;\n\n    # we use this to collect rows to process\n    my @rows;\n\n    # this is where your data comes in\n    while ( my $foo = &lt;DATA&gt; ) {\n\n        # here you process the data and come up with your variables\n        my ( $id, $gene_database_source, $product, $sequence, $seqlength, \n             $digest, $mw, $iep, $tms );\n\n        # collect the row so we can insert it later\n        push(\n            @rows,\n            [\n                $id, $gene_database_source, $product, $sequence, $seqlength, \n                $digest, $mw, $iep, $tms,\n            ]\n        );\n\n        # only insert if we reached the limit\n        if ( scalar @rows == 1000 ) {\n            $schema-&gt;resultset('Genes')-&gt;populate(\n                [\n                    [\n                        qw(\n                            gene_name             gene_product   sequence\n                            gene_protein_length   digest         gene_isoelectric_point\n                            gene_molecular_weight gene_tmd_count gene_species\n                            species_code          user_id        gene_database_source\n                            )\n                    ],\n                    \\@rows,\n                ],\n            );\n\n            # empty the list of values\n            @rows = ();\n        }\n    }\n    $guard-&gt;commit;\n}\n</code></pre>\n\n<p>Essentially we collect up to 1000 rows directly as array references while we process them, and when we've reached the limit, we pass them to the database. We then reset our row array and start over. Again, all of this is wrapped in a transaction, so it will only be committed if all the inserts are fine.</p>\n\n<hr>\n\n<p>There is more information <a href=\"https://metacpan.org/pod/distribution/DBIx-Class/lib/DBIx/Class/Manual/Cookbook.pod#TRANSACTIONS\" rel=\"noreferrer\">on transactions in DBIC in the cookbook</a>.</p>\n\n<p>Please note that I have not tested any of this code.</p>\n"}], "owner": {"reputation": 518, "user_id": 6146264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-YPMqqSeGAMU/AAAAAAAAAAI/AAAAAAAAAoA/AIMsmwe_vc8/photo.jpg?sz=128", "display_name": "Leitouran", "link": "https://stackoverflow.com/users/6146264/leitouran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 44976413, "answer_count": 1, "score": 5, "last_activity_date": 1499449870, "creation_date": 1499442273, "last_edit_date": 1499442450, "question_id": 44974909, "link": "https://stackoverflow.com/questions/44974909/inserting-several-new-items-into-the-database-with-dbic", "title": "Inserting several &quot;new&quot; items into the database with DBIC", "body": "<p>I'm working in a <strong>bioinformatics</strong> project that requires me to read genomic data (nothing too fancy, just think of it as strings) from various organisms and insert it into a database. Each read belongs to one organism, and can contain from 5000 to 50000 thousand genes, which I need to process and analyze prior to storage. </p>\n\n<p>The script currently doing this is written in perl and, after all calculations, stores the results in a hash likie this:</p>\n\n<pre><code>$new{$id}{gene_name}              = $id;\n$new{$id}{gene_database_source} = $gene_database_source\n$new{$id}{product}            = $product;\n$new{$id}{sequence}               = $sequence;\n$new{$id}{seqlength}              = $seqlength;\n$new{$id}{digest}             = $digest;\n$new{$id}{mw}                     = $mw;\n$new{$id}{iep}                = $iep;\n$new{$id}{tms}                = $tms;\n</code></pre>\n\n<p>After all genes are read and, the insertions are made looping through the hash into an eval{} statement. </p>\n\n<pre><code>eval {\nforeach my $id (keys %new) {\n\n  my $rs = $schema-&gt;resultset('Genes')-&gt;create(\n    {\n        gene_name               =&gt; $new{$id}{gene_name},\n        gene_product            =&gt; $new{$id}{product},\n        sequence                =&gt; $new{$id}{sequence},\n        gene_protein_length     =&gt; $new{$id}{seqlength},\n        digest                  =&gt; $new{$id}{digest},\n        gene_isoelectric_point  =&gt; $new{$id}{iep},\n        gene_molecular_weight   =&gt; $new{$id}{mw},\n        gene_tmd_count          =&gt; $new{$id}{tms},\n        gene_species            =&gt; $species,\n        species_code            =&gt; $spc,\n        user_id                 =&gt; $tdruserid,\n        gene_database_source    =&gt; $new{$id}{gene_database_source}\n\n    }\n  );\n}; \n</code></pre>\n\n<p>While this \"works\", it has at least two problems I'd like to solve:</p>\n\n<ul>\n<li><p>The eval statement is intended to \"failsafe\" the insertions: if one of the insertions fail, the eval dies and no insertion is done. This is clearly not how eval works. I'm pretty sure all insertions made\nuntil failure point will be done and there's no rollback whatsoever.</p></li>\n<li><p>The script needs to loop twice through very large datasets (one while reading and creating the hashes, and once again when reading\nthe hashes and performing the insertions). This makes the process' performance rather poor. </p></li>\n</ul>\n\n<p>Instead of creating the hashes, I'd been thinking of using the <strong>new</strong> directive of DBIX <code>$schema-&gt;new({..stuff..});</code> and then doing a massive insert transaction. That would solve the double iteration and the eval would either work (or not) with a single transaction, which would do the expected behaviour of &lt; either all insertions or none > ... <strong>Is there a way to do this?</strong></p>\n"}, {"tags": ["perl", "redhat", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 1773755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44fb21ce6090a0df87b3694f074a7cdb?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/1773755/basil"}, "edited": false, "score": 0, "creation_date": 1499439688, "post_id": 44973823, "comment_id": 76923039, "body": "For <code>Log::Log4perl</code> this will work, but not every module is supplied as an RPM. For example, for <code>sudo yum install Text::Xslate</code> this, sadly, won&#39;t work (at least with my configuration)."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 801, "user_id": 1773755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44fb21ce6090a0df87b3694f074a7cdb?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/1773755/basil"}, "edited": false, "score": 3, "creation_date": 1499441686, "post_id": 44973823, "comment_id": 76924432, "body": "@Basil Your question wasn&#39;t about <code>Text::Xslate</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1499442468, "post_id": 44973823, "comment_id": 76924966, "body": "<code>perl-Text-Xslate</code> exists in some CentOS repos."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1499439157, "creation_date": 1499439157, "answer_id": 44973823, "question_id": 44973718, "link": "https://stackoverflow.com/questions/44973718/weird-error-when-trying-to-install-a-module-using-cpan-on-a-redhat/44973823#44973823", "title": "Weird error when trying to install a module using cpan on a RedHat", "body": "<p>If you're installing the module into the system library, you can probably save yourself considerable pain by installing the pre-build RPM package.</p>\n\n<pre><code>$ sudo yum install perl-Log-Log4perl\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 801, "user_id": 1773755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44fb21ce6090a0df87b3694f074a7cdb?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/1773755/basil"}, "edited": false, "score": 0, "creation_date": 1499683316, "post_id": 44974864, "comment_id": 76993133, "body": "<code>sudo which true</code> -&gt; <code>&#47;bin&#47;true</code>; <code>sudo ls -ld &#47;bin&#47;true</code> -&gt; <code>-rwxr-xr-x</code>. Hmm, seems that I do have execute permission for it."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1499442149, "creation_date": 1499442149, "answer_id": 44974864, "question_id": 44973718, "link": "https://stackoverflow.com/questions/44973718/weird-error-when-trying-to-install-a-module-using-cpan-on-a-redhat/44974864#44974864", "title": "Weird error when trying to install a module using cpan on a RedHat", "body": "<p><code>make: execvp: foo: Permission denied</code> <a href=\"https://stackoverflow.com/questions/23089807/make-execvp-gcc-permission-denied\">happens</a> when <code>foo</code> is some program that does not have execute permission. Find the <code>true</code> program in your <code>$PATH</code> (typically <code>/bin/true</code> or <code>/usr/bin/true</code>, but maybe there's another one if you have an idiosyncratic <code>$PATH</code>) and make sure you have execute permission for it.</p>\n"}], "owner": {"reputation": 801, "user_id": 1773755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44fb21ce6090a0df87b3694f074a7cdb?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/1773755/basil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1499442149, "creation_date": 1499438845, "last_edit_date": 1499439450, "question_id": 44973718, "link": "https://stackoverflow.com/questions/44973718/weird-error-when-trying-to-install-a-module-using-cpan-on-a-redhat", "title": "Weird error when trying to install a module using cpan on a RedHat", "body": "<p>When I am trying to install any module on a RedHat 7.3 using <code>cpan</code>, I am getting this weird message - \"<code>make: execvp: true: Permission denied</code>\":</p>\n\n<pre><code>sudo cpan\ncpan[1]&gt; install Log::Log4perl\n...\n(tests run ok)\n...\nRunning make install\nmake: execvp: true: Permission denied\nmake: *** [blibdirs] Error 127\n  MSCHILLI/Log-Log4perl-1.49.tar.gz\n  sudo /bin/make install  -- NOT OK\nFailed during this command:\n MSCHILLI/Log-Log4perl-1.49.tar.gz            : install NO\n</code></pre>\n\n<p>Then, if I navigate to the cpans <code>build_dir</code> (from <code>MyConfig.pm</code>), find the folder with this module, and run <code>make test; sudo make install</code> there - everything runs fine.</p>\n\n<p>What is wrong with <code>cpan</code> there? How this could be fixed?</p>\n"}, {"tags": ["perl", "cron"], "comments": [{"owner": {"reputation": 21876, "user_id": 1678362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba023d18099cde022b9e4394d5714c0?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1678362/aaron"}, "edited": false, "score": 3, "creation_date": 1499418078, "post_id": 44966664, "comment_id": 76908337, "body": "You should probably try to redirect the output of your execution to a file rather than to <code>&#47;dev&#47;null</code> so that you can work out from the error messages it could contain."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 1, "creation_date": 1499420063, "post_id": 44966664, "comment_id": 76909647, "body": "The <a href=\"https://stackoverflow.com/tags/cron/info\">cron tag wiki</a> has excellent debugging information, did you have a look at it?"}, {"owner": {"reputation": 29, "user_id": 8153598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317a1ea851d05ab3bb519a80d476f595?s=128&d=identicon&r=PG&f=1", "display_name": "maha", "link": "https://stackoverflow.com/users/8153598/maha"}, "edited": false, "score": 0, "creation_date": 1499420356, "post_id": 44966664, "comment_id": 76909862, "body": "thank you every one , i resolve the problem"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1499423358, "post_id": 44966664, "comment_id": 76911765, "body": "Wow! Perl 5.8.8. And it&#39;s not the system Perl. How old is your system Perl? :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1499426927, "post_id": 44966664, "comment_id": 76913881, "body": "@maha: If you have found a solution then please write it up as an answer. It&#39;s very selfish of you to just disappear once your own problem has been solved. By far the highest value of any Stack Overflow post is to others who may have a similar problem and find it through a search. You have left a page that is completely useless to anyone."}, {"owner": {"reputation": 29, "user_id": 8153598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317a1ea851d05ab3bb519a80d476f595?s=128&d=identicon&r=PG&f=1", "display_name": "maha", "link": "https://stackoverflow.com/users/8153598/maha"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499431601, "post_id": 44966664, "comment_id": 76916900, "body": "Sorry @Borodin , the problem is a mistake in the path of Perl , i forgot Rh60 , it&#39;s correct syntax for how want to use this . Thank you again for  every one who give me answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499431816, "post_id": 44966664, "comment_id": 76917059, "body": "@maha: Okay, please write an <i>answer</i> below to describe your solution properly."}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 8153598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317a1ea851d05ab3bb519a80d476f595?s=128&d=identicon&r=PG&f=1", "display_name": "maha", "link": "https://stackoverflow.com/users/8153598/maha"}, "is_accepted": false, "score": 3, "last_activity_date": 1499432779, "creation_date": 1499432779, "answer_id": 44971541, "question_id": 44966664, "link": "https://stackoverflow.com/questions/44966664/no-output-from-script-run-under-crontab/44971541#44971541", "title": "No output from script run under crontab", "body": "<p>I find my mistake, i make a mistake in the path of Perl :\n/sw/freetools/perl/5.8.8/Linux/rh6/x86_64/bin/perl</p>\n\n<p>/sw/freetools/perl/5.8.8/Linux/rh60/x86_64/bin/perl</p>\n\n<p>Thank you for your help.</p>\n"}], "owner": {"reputation": 29, "user_id": 8153598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317a1ea851d05ab3bb519a80d476f595?s=128&d=identicon&r=PG&f=1", "display_name": "maha", "link": "https://stackoverflow.com/users/8153598/maha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1499432779, "creation_date": 1499417932, "last_edit_date": 1499426613, "question_id": 44966664, "link": "https://stackoverflow.com/questions/44966664/no-output-from-script-run-under-crontab", "title": "No output from script run under crontab", "body": "<p>I want to execute a Perl script every two minutes.</p>\n\n<p>This script sends me an email that contains files. It works fine manually.</p>\n\n<p>I tried in a crontab</p>\n\n<pre><code>*/2 * * * * /sw/freetools/perl/5.8.8/Linux/rh6/x86_64/bin/perl /home/httpldev/iLicoMetrics/metrique.pl &amp;&gt; /dev/null\n</code></pre>\n\n<p>I also tried with</p>\n\n<pre><code>*/2 * * * * /home/httpldev/iLicoMetrics/metrique.pl &amp;&gt; /dev/null\n</code></pre>\n\n<p>but I got no output.</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1499633966, "last_edit_date": 1499633966, "creation_date": 1499452084, "answer_id": 44977478, "question_id": 44965998, "link": "https://stackoverflow.com/questions/44965998/remove-markup-in-tests/44977478#44977478", "title": "Remove markup in tests", "body": "<p>There are two things at play here.</p>\n\n<p>The large debug output with the full page source is because the <a href=\"https://metacpan.org/pod/Test::Mojo#content_like\" rel=\"nofollow noreferrer\"><code>content_like</code> method from Test::Mojo</a> didn't find a match, and it's telling you in which string it was looking. That's a convenience method, but if the page is large, it's a lot of text. This might tell you that the test failed because the content was wrong. But in this specific case it didn't.</p>\n\n<p>The real problem is that the test failed because you had a syntax error. You can already see that from the very first test.</p>\n\n<blockquote>\n<pre><code>$t-&gt;get_ok('/info/penx2')\n    -&gt;status_is(200)\n</code></pre>\n</blockquote>\n\n<p>This test also failed. (It's a bit confusing for people who are used to Test::WWW::Mechanize because there <code>get_ok</code> will also check if the response was <code>200 OK</code>).</p>\n\n<blockquote>\n<pre><code>#   Failed test '200 OK'\n#   at t/2410-topinfo.t line 12.\n#          got: '500'\n#     expected: '200'\n</code></pre>\n</blockquote>\n\n<p>The actual error message should be there without all that HTML markup somewhere else, because while it was doing the <code>get_ok</code> it would have encountered the error, which should have gone to the application log. In a unit-test, that probably is STDERR.</p>\n\n<p>I don't know if you've not included it, or if it's omitted. The log should be there too I believe.</p>\n\n<hr>\n\n<p>Getting back to the HTML and the actual question, the reason it's output is because Test::Mojo's <code>content_like</code> (and most other of its methods) uses Test::More under hood. <a href=\"https://metacpan.org/source/SRI/Mojolicious-7.35/lib/Test/Mojo.pm#L390\" rel=\"nofollow noreferrer\">It just dispatches</a> to <a href=\"https://metacpan.org/pod/Test::More#like\" rel=\"nofollow noreferrer\"><code>like</code> from Test::More</a> and passes along the page content. This in turn will always display the full string it was matching against.</p>\n\n<p>In recent Test::More versions, it already uses Test2 under the hood. The relevant part that outputs the full string is <a href=\"https://metacpan.org/source/EXODIST/Test-Simple-1.302086/lib/Test/Builder.pm#L1115\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Unfortunately there is not much you can do about it. I'd focus on finding out why it doesn't show a proper log during the unit tests (possibly because you didn't run <code>prove</code> with <code>-v</code>), and maybe find a way to make errors come out in color, which would make it easier to read. There is <a href=\"https://metacpan.org/pod/Dancer2::Logger::Console::Colored\" rel=\"nofollow noreferrer\">a color logger for the Dancer2 framework</a> (which I maintain), but <strike>I can't find one for Mojo</strike> there wasn't one for Mojo. </p>\n\n<p>Now there is <a href=\"https://metacpan.org/pod/Mojo::Log::Colored\" rel=\"nofollow noreferrer\">Mojo::Log::Colored</a>, which can color individual log lines based on their log level.</p>\n\n<blockquote>\n<pre><code>use Mojo::Log::Colored;\n\n# Log to STDERR\n$app-&gt;log(\n    Mojo::Log::Colored-&gt;new(\n\n        # optionally set the colors\n        colors =&gt; {\n            debug =&gt; \"bold bright_white\",\n            info  =&gt; \"bold bright_blue\",\n            warn  =&gt; \"bold green\",\n            error =&gt; \"bold yellow\",\n            fatal =&gt; \"bold yellow on_red\",\n        }\n    )\n);\n</code></pre>\n</blockquote>\n\n<p>This will give you nice colorful output to the console. Here's an example script.</p>\n\n<pre><code>$ MOJO_LOG_LEVEL=debug perl -Mojo -MMojo::Log::Colored \\\n  -e 'a(\n      \"/\" =&gt; sub { \n          app-&gt;log-&gt;$_(\"hello world\") for qw/debug info warn error fatal/;\n          shift-&gt;render(text=&gt;\"ok\"); \n      })-&gt;log( Mojo::Log::Colored-&gt;new )-&gt;start' \\\n  daemon\n</code></pre>\n\n<p>And the output if called with <code>$ curl localhost:3000</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hoTIN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hoTIN.png\" alt=\"console output\"></a></p>\n"}], "owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499633966, "creation_date": 1499415864, "last_edit_date": 1499525003, "question_id": 44965998, "link": "https://stackoverflow.com/questions/44965998/remove-markup-in-tests", "title": "Remove markup in tests", "body": "<p>When I run tests which fail I get a huge output with a lot of markup hiding the error. </p>\n\n<p>Example:</p>\n\n<pre><code>$ perl script/my_prove.pl t/2410-topinfo.t \nt/2410-topinfo.t .. 1/? \n#   Failed test '200 OK'\n#   at t/2410-topinfo.t line 12.\n#          got: '500'\n#     expected: '200'\n\n#   Failed test 'similar match for selector \"h1\"'\n#   at t/2410-topinfo.t line 12.\n#                   ''\n#     doesn't match '(?^:Flatinfo\\ Business\\-Apartment\\ Hietzing)'\n\n#   Failed test 'content is similar'\n#   at t/2410-topinfo.t line 12.\n#                   '&lt;!DOCTYPE html&gt;\n# &lt;html&gt;\n#   &lt;head&gt;\n#     &lt;title&gt;Server error (development mode)&lt;/title&gt;\n#     &lt;meta http-equiv=\"Pragma\" content=\"no-cache\"&gt;\n#     &lt;meta http-equiv=\"Expires\" content=\"-1\"&gt;\n#     &lt;script src=\"/mojo/jquery/jquery.js\"&gt;&lt;/script&gt;\n#     &lt;script src=\"/mojo/prettify/run_prettify.js\"&gt;&lt;/script&gt;\n#     &lt;link href=\"/mojo/prettify/prettify-mojo-dark.css\" rel=\"stylesheet\"&gt;\n#     &lt;style&gt;\n#       a img { border: 0 }\n#       body {\n#\n#   ........... lots of lines removed here ...........\n#\n#     &lt;div id=\"wrapperlicious\"&gt;\n#         &lt;div id=\"nothing\" class=\"box spaced\"&gt;&lt;/div&gt;\n#         &lt;div id=\"showcase\" class=\"box code spaced\"&gt;\n#           &lt;pre id=\"error\"&gt;Can&amp;#39;t call method &amp;quot;name&amp;quot; on an undefined value at template extern/topinfo/show.html.ep line 2.\n# &lt;/pre&gt;\n# \n#    .... lots of lines follow here ............\n</code></pre>\n\n<p>The error seems to be a single line: </p>\n\n<pre><code> Can't call method \"name\" on an undefined value at template extern/topinfo/show.html.ep line 2\n</code></pre>\n\n<p>The test-script producing this output is:</p>\n\n<pre><code>use Mojo::Base -strict;\n\nuse Test::More;\nuse Test::Mojo;\n\nuse FindBin;\nrequire \"$FindBin::Bin/../script/ba_db\";\nmy $t = Test::Mojo-&gt;new( 'BaDb' );\n$t-&gt;ua-&gt;max_redirects(1);\n\n$t-&gt;get_ok('/info/penx2')\n    -&gt;status_is(200)\n    -&gt;text_like('h1' =&gt; qr/\\QFlatinfo Business-Apartment Hietzing\\E/)\n    -&gt;content_like( qr/\\QSelected language: German\\E/ )\n    # ... \n;\ndone_testing();\n</code></pre>\n\n<p>Is there a way to tell Mojolicious to respond <strong>without</strong> all this HTML-Markup so that I can see the error-mesage immediately?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 4, "creation_date": 1499397383, "post_id": 44961925, "comment_id": 76899208, "body": "Welcome to SO. Please post your expected output in the form that you see (not inline) and what you got instead. And if there are any edits that will get you closer to a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> the better off we&#39;ll all be. When I run your code, it looks like I&#39;m getting what you wanted. Maybe you&#39;re running code that you did <i>not</i> paste into your question?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1499414173, "post_id": 44961925, "comment_id": 76905736, "body": "When I run your code, I get the output you expect. So the problem would appear to be in your environment."}, {"owner": {"reputation": 3, "user_id": 8268207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31dbc3c449cb83c1f6cc1f2d0ee40a95?s=128&d=identicon&r=PG&f=1", "display_name": "Southern Knight", "link": "https://stackoverflow.com/users/8268207/southern-knight"}, "reply_to_user": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1499427782, "post_id": 44961925, "comment_id": 76914397, "body": "@jeff6times7 The code I pasted is exactly what I&#39;m running, and the output I get is pasted below.  I&#39;m running on perl 5.18.2 on the latest version of Mac OS Sierra."}, {"owner": {"reputation": 3, "user_id": 8268207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31dbc3c449cb83c1f6cc1f2d0ee40a95?s=128&d=identicon&r=PG&f=1", "display_name": "Southern Knight", "link": "https://stackoverflow.com/users/8268207/southern-knight"}, "edited": false, "score": 0, "creation_date": 1499427909, "post_id": 44961925, "comment_id": 76914475, "body": "<code>on master* perl example.pl EmailConfig initialized: John and Julie = john@example.com,julie@example.com EmailConfig initialized: Bobby and Liz = bobby@example.net EmailConfig initialized: Kevin and Jayme = kevin3248@example.com,jayme8396@example.com EmailConfig initialized: Ellen and Mike = mike397987@example.com,ellen397286@example.com john@example.com julie@example.com bobby@example.net kevin3248@example.com jayme8396@example.com mike397987@example.com ellen397286@example.com &gt;, on master* &lt;ellen397286@example.com </code>"}, {"owner": {"reputation": 3, "user_id": 8268207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31dbc3c449cb83c1f6cc1f2d0ee40a95?s=128&d=identicon&r=PG&f=1", "display_name": "Southern Knight", "link": "https://stackoverflow.com/users/8268207/southern-knight"}, "edited": false, "score": 0, "creation_date": 1499428053, "post_id": 44961925, "comment_id": 76914582, "body": "Sorry, but the output above lost all its carriage returns"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1499428283, "post_id": 44961925, "comment_id": 76914742, "body": "You should add information to your question by editing it, especially if it is multi-line data. But isn&#39;t that output already in the question?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1499428498, "post_id": 44961925, "comment_id": 76914883, "body": "This isn&#39;t the source of your problem, but you shouldn&#39;t use prototypes on Perl subroutines unless you understand exactly what they do; they are unlike prototypes in other languages. So just <code>sub main { ... }</code> etc. is correct."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1499430363, "post_id": 44961925, "comment_id": 76916047, "body": "@SouthernKnight: Please <a href=\"https://stackoverflow.com/posts/44961925/edit\">edit your question</a> to add this extra information. Comments are for simple text as (as you&#39;ve seen) don&#39;t allow much formatting."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8268207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31dbc3c449cb83c1f6cc1f2d0ee40a95?s=128&d=identicon&r=PG&f=1", "display_name": "Southern Knight", "link": "https://stackoverflow.com/users/8268207/southern-knight"}, "edited": false, "score": 0, "creation_date": 1499441045, "post_id": 44971303, "comment_id": 76924029, "body": "The \\r appears to be the issue.  I changed the EmailConfig.pm to use a different regex so it wouldn&#39;t read to the end of the line, and after that it is working fine.                                           my $emailConfigRegex = qr/(?&lt;email_name&gt;.*) = (?&lt;email_addresses&gt;(\\b[A-Za-z0-9._%+-]+\\@[A-Za-z0-9.-]+\\.[A-&zwnj;&#8203;Za-z]{2,6}\\b)+,?)/;"}], "tags": [], "owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "is_accepted": true, "score": 0, "last_activity_date": 1499432439, "last_edit_date": 1499432439, "creation_date": 1499432065, "answer_id": 44971303, "question_id": 44961925, "link": "https://stackoverflow.com/questions/44961925/why-concatenated-email-addresses-arent-printing-correctly/44971303#44971303", "title": "Why concatenated email addresses aren&#39;t printing correctly?", "body": "<p>From your output, I suspect there's a '\\r' character after email adress. Check line endings in email_config.txt, or remove \\r character.</p>\n\n<pre><code>sub init {\n...\n    (my $email_addresses = $+{email_addresses})=~s/\\r//g;\n    @{$self-&gt;{emails}} = split(';', $email_addresses);\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8268207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31dbc3c449cb83c1f6cc1f2d0ee40a95?s=128&d=identicon&r=PG&f=1", "display_name": "Southern Knight", "link": "https://stackoverflow.com/users/8268207/southern-knight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 44971303, "answer_count": 1, "score": 0, "last_activity_date": 1499438780, "creation_date": 1499396809, "last_edit_date": 1499438780, "question_id": 44961925, "link": "https://stackoverflow.com/questions/44961925/why-concatenated-email-addresses-arent-printing-correctly", "title": "Why concatenated email addresses aren&#39;t printing correctly?", "body": "<p>I have a Perl script that loads names and email addresses from a file, and then tries to concatenate them into a single string to use to send an email. The email address line needs to be a comma separated list of addresses in the form <code>Name &lt;email address&gt;, ...</code>.</p>\n\n<p>I expect it to produce a final output of</p>\n\n<pre><code>To: John and Julie &lt;john@example.com&gt;, John and Julie &lt;julie@example.com&gt;, Bobby and Liz &lt;bobby@example.net&gt;, Kevin and Jayme &lt;kevin3248@example.com&gt;, Kevin and Jayme &lt;jayme8396@example.com&gt;, Ellen and Mike &lt;mike397987@example.com&gt;, Ellen and Mike &lt;ellen397286@example.com&gt;, \n</code></pre>\n\n<p>but instead it is producing only</p>\n\n<pre><code>&gt;,\n</code></pre>\n\n<p>The following is the full output from the program on my Mac running the latest version of Sierra and Perl 5.18.2.</p>\n\n<pre><code>on master* perl example.pl\nEmailConfig initialized: John and Julie = john@example.com,julie@example.com\nEmailConfig initialized: Bobby and Liz = bobby@example.net\nEmailConfig initialized: Kevin and Jayme = kevin3248@example.com,jayme8396@example.com\nEmailConfig initialized: Ellen and Mike = mike397987@example.com,ellen397286@example.com\njohn@example.com\njulie@example.com\nbobby@example.net\nkevin3248@example.com\njayme8396@example.com\nmike397987@example.com\nellen397286@example.com\n&gt;, on master* &lt;ellen397286@example.com\n</code></pre>\n\n<p>I seem to be reading in all the emails correctly since I can print each one individually, but I'm not sure if the problem in the script is the concatenation or the printing of the final concatenated value.</p>\n\n<h3>Main Perl program</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings FATAL =&gt; 'all';\n\nuse EmailConfig;\nuse File::Slurp;\n\n# Turn off output buffering\n$| = 1;\n\nmy @emailConfig = ();\n\nsub main() {\n    loadConfig();\n    processDataAndSendEmail();\n}\n\nmain();\n\nsub loadConfig() {\n\n    my @raw_configs = read_file('email_config.txt');\n\n    foreach my $raw_config ( @raw_configs ) {\n\n        my $newEmailConfig = new EmailConfig();\n        $newEmailConfig-&gt;init($raw_config);\n        push @emailConfig, $newEmailConfig;\n    }\n}\n\nsub processDataAndSendEmail() {\n\n    my $to = '';\n\n    foreach my $config ( @emailConfig ) {\n\n        foreach my $email ( @{ $config-&gt;{emails} } ) {\n\n            print \"$email\\n\";\n            $to .= \"$config-&gt;{name} &lt;$email&gt;, \";\n        }\n    }\n\n    print \"To: $to\";\n}\n</code></pre>\n\n<h3>EmailConfig.pm</h3>\n\n<pre><code>package EmailConfig;\n\nuse strict;\nuse warnings FATAL =&gt; 'all';\n\nmy $emailConfigRegex = qr/(?&lt;email_name&gt;.*) = (?&lt;email_addresses&gt;.*)/;\n\nsub new {\n    my $class = shift;\n    my $self = {};\n    bless $self, $class;\n    return $self;\n}\n\nsub init {\n    my $self = shift;\n\n    my $emailConfigValue = shift;\n\n    if ($emailConfigValue =~ $emailConfigRegex) {\n        $self-&gt;{name} = $+{email_name};\n        @{$self-&gt;{emails}} = split(';', $+{email_addresses});\n    }\n\n    my $print_emails = join(\",\", @{$self-&gt;{emails}});\n    print \"EmailConfig initialized: $self-&gt;{name} = $print_emails\\n\";\n}\n\n1;\n</code></pre>\n\n<h3>email_config.txt</h3>\n\n<pre><code>John and Julie = john@example.com;julie@example.com\nBobby and Liz = bobby@example.net\nKevin and Jayme = kevin3248@example.com;jayme8396@example.com\nEllen and Mike = mike397987@example.com;ellen397286@example.com\n</code></pre>\n"}, {"tags": ["perl", "ssh", "perl-module"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 5, "creation_date": 1499375813, "post_id": 44958890, "comment_id": 76893388, "body": "Do you need to call <code>chomp</code> on <code>$row</code>?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1499376926, "post_id": 44958890, "comment_id": 76893898, "body": "This code shouldn&#39;t even compile (bareword <code>error</code>)."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1499378716, "post_id": 44958890, "comment_id": 76894603, "body": "&quot;<i>Name or service not know</i>&quot; and &quot;<i>bad password or moster process exited</i>&quot; ... <i>sigh</i>"}, {"owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 1, "creation_date": 1499394287, "post_id": 44958890, "comment_id": 76898532, "body": "Welcome to SO. Please take the <a href=\"https://stackoverflow.com/tour&quot;\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and most importantly in this specific case edit your question to include a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. Any of this comment&#39;s helpfulness goes to @OldProgrammer, not me."}, {"owner": {"reputation": 48, "user_id": 7107645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c5911b190a254d6cfc42f9cd0b7697f?s=128&d=identicon&r=PG&f=1", "display_name": "cm_1nges", "link": "https://stackoverflow.com/users/7107645/cm-1nges"}, "reply_to_user": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "edited": false, "score": 0, "creation_date": 1499400822, "post_id": 44958890, "comment_id": 76899917, "body": "@jeff6times7 Apologies, and thank you for the message. I have edited the post to improve the quality."}], "answers": [{"comments": [{"owner": {"reputation": 48, "user_id": 7107645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c5911b190a254d6cfc42f9cd0b7697f?s=128&d=identicon&r=PG&f=1", "display_name": "cm_1nges", "link": "https://stackoverflow.com/users/7107645/cm-1nges"}, "edited": false, "score": 0, "creation_date": 1499433938, "post_id": 44962567, "comment_id": 76918545, "body": "Thanks @jeff6times7, using chomp worked. I tested your debugging advice as well, and was able to get a better idea of what my problem was. I appreciate the input on posting, I realize I should have been more careful before submitting my problem. Lesson learned."}], "tags": [], "owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "is_accepted": true, "score": 2, "last_activity_date": 1499402629, "last_edit_date": 1499402629, "creation_date": 1499401658, "answer_id": 44962567, "question_id": 44958890, "link": "https://stackoverflow.com/questions/44958890/cant-ssh-using-netopenssh-can-through-command-line/44962567#44962567", "title": "Can&#39;t SSH using Net::OpenSSH, can through command line", "body": "<p>\"the problem must lie in the script\" Yes, there are two problems with the script that I executed. The first one is a syntax error. Other commenters have noted it.</p>\n\n<p>The line</p>\n\n<pre><code>   $ssh-error and die \"SSH connection failed: \" . $ssh-&gt;error;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>   $ssh-&gt;error and die \"SSH connection failed: \" . $ssh-&gt;error;\n</code></pre>\n\n<p>The other problem, which is coming from a version of the script that you haven't shown yet, and which was also noted by others, is that you didn't remove the trailing newline from $row. You do that with</p>\n\n<pre><code>chomp($row)\n</code></pre>\n\n<p>Do that as the opening instruction of the while block and you should be good to go.</p>\n\n<p>I have to stress the importance of being extra careful in posting MCVs. Before you press that submit button, copy the code in your post to a temp file and execute it, and you will get fewer complaints from responders.</p>\n\n<p>By the way, a good debugging habit that might have let you solve the problem on your own is to have added this line before executing Net::OpenSSH->new</p>\n\n<pre><code>print STDERR \";$row;\\n\" if $debugging;  # or something to this effect\n</code></pre>\n\n<p>If you had done this, you would have seen something like this on STDERR</p>\n\n<pre><code>;myhost\n;\n</code></pre>\n\n<p>Additionally, the module you're using has a decent debugging feature mentioned in its pod. The debugging output is not so easy to interpret but if you have no idea where the problem is, then you might start there. If you had added this line</p>\n\n<pre><code>$Net::OpenSSH::debug = 8;\n</code></pre>\n\n<p>Then you would have seen this on STDERR</p>\n\n<pre><code>$ cat servers.txt\nlocalhostx\n$ perl x.pl\n...\nssh: Could not resolve hostname localhostx\n: nodename nor servname provided, or not known\n</code></pre>\n\n<p>which would have looked like this if you had called chomp but the hostname truly did not exist</p>\n\n<pre><code>ssh: Could not resolve hostname localhostx: nodename nor servname provided, or not known\n</code></pre>\n"}], "owner": {"reputation": 48, "user_id": 7107645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c5911b190a254d6cfc42f9cd0b7697f?s=128&d=identicon&r=PG&f=1", "display_name": "cm_1nges", "link": "https://stackoverflow.com/users/7107645/cm-1nges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "accepted_answer_id": 44962567, "answer_count": 1, "score": 1, "last_activity_date": 1499402629, "creation_date": 1499375380, "last_edit_date": 1499400741, "question_id": 44958890, "link": "https://stackoverflow.com/questions/44958890/cant-ssh-using-netopenssh-can-through-command-line", "title": "Can&#39;t SSH using Net::OpenSSH, can through command line", "body": "<p>This is my first time working with Net::OpenSSH, and I am attempting to create an SSH for loop, where I print the hostname of the server I am on using <code>whoami</code>. I am ale to SSH to my intended servers from the command line, but when I run my script, I encounter the following error...</p>\n\n<blockquote>\n  <p>ssh: could not resolve hostname<br>\n  : Name or service not known<br>\n  username</p>\n</blockquote>\n\n<p>To get more information, I printed the the output of <code>$ssh-&gt;error</code>, where <code>$ssh</code> is my Net::OpenSSH object. </p>\n\n<blockquote>\n  <p>unable to establish master SSH connection: bad password or master process exited unexpectedly at line 24, $fh line 1</p>\n</blockquote>\n\n<p>This is the script so far...</p>\n\n<pre><code>#!/usr/bin/perl\n\n use strict;\n use warnings;\n use Net::OpenSSH;\n my $file = 'servers.txt';\n open (my $fh, $file) or die \"Could not open\";\n\n while (my $row = &lt;$fh&gt;) {\n   my $user = \"username\";\n   my $password = \"password\";\n   my $ssh = Net::OpenSSH-&gt;new(host =&gt; $row, user =&gt; $user, password =&gt; $password);\n   $ssh-error and die \"SSH connection failed: \" . $ssh-&gt;error;\n   my $whoami = `whoami`;\n   print $whoami;\n }\n</code></pre>\n\n<p>The servers.txt file is a plain text file with a list of the servers hostnames, one after another.</p>\n\n<p>My understanding is that if I can SSH to these servers from the command line, the problem must lie in the script, and not the servers/network. Any insight into why I Net::OpenSSH cannot resolve a seemingly accessible server would be appreciated.</p>\n"}, {"tags": ["perl", "rtf"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1499366390, "post_id": 44956424, "comment_id": 76888674, "body": "Aren&#39;t there various querying methods in those <code>RTF</code> modules?  You shouldn&#39;t have (or want) to use a separate tool like <code>Data::Dumper</code> in order to look at content."}, {"owner": {"reputation": 67, "user_id": 5494339, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b5f8d26373509d8ba2862c0b40e97ee0?s=128&d=identicon&r=PG&f=1", "display_name": "mdavies23", "link": "https://stackoverflow.com/users/5494339/mdavies23"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499366612, "post_id": 44956424, "comment_id": 76888807, "body": "Yes they are I didn&#39;t think about that. But when i use <code>$writer</code> it does the same thing."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499367790, "post_id": 44956424, "comment_id": 76889417, "body": "OK -- read the docs.  This is the basic use, it&#39;s got to be explained.  (I don&#39;t use this module so I can&#39;t say how to do it, but the important &quot;answer&quot; here is that you look through documentation.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499431435, "post_id": 44956424, "comment_id": 76916796, "body": "<i>&quot;I am trying to take in an input file in RTF and output as an RTF file&quot;</i> That sounds like you want to want to just <i>copy</i> the file, in which case you can use <code>File::Copy</code>. If you want something different from that then please be more precise about what it is you&#39;re trying to do."}, {"owner": {"reputation": 67, "user_id": 5494339, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b5f8d26373509d8ba2862c0b40e97ee0?s=128&d=identicon&r=PG&f=1", "display_name": "mdavies23", "link": "https://stackoverflow.com/users/5494339/mdavies23"}, "edited": false, "score": 0, "creation_date": 1499431679, "post_id": 44956424, "comment_id": 76916952, "body": "Eventually I will need to sort the input file and then output it to a separate file."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499436061, "post_id": 44956424, "comment_id": 76920328, "body": "@mdavies23: Okay, but exactly what question are you trying to get answered with this post? Do you simply need to copy the file?"}, {"owner": {"reputation": 67, "user_id": 5494339, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b5f8d26373509d8ba2862c0b40e97ee0?s=128&d=identicon&r=PG&f=1", "display_name": "mdavies23", "link": "https://stackoverflow.com/users/5494339/mdavies23"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499436392, "post_id": 44956424, "comment_id": 76920580, "body": "@Borodin: I have an input file with &quot;Apples&quot; in RTF and want to get it into a different file named output.rtf with the same formatting. But not just simply copying because in the future i need to be able to sort a long input file"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499436912, "post_id": 44956424, "comment_id": 76920941, "body": "@mdavies23: So you want to copy the information from one RTF file to another RTF file, but changed somehow to facilitate sorting? What sort of changes do you have in mind?"}, {"owner": {"reputation": 67, "user_id": 5494339, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b5f8d26373509d8ba2862c0b40e97ee0?s=128&d=identicon&r=PG&f=1", "display_name": "mdavies23", "link": "https://stackoverflow.com/users/5494339/mdavies23"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499437408, "post_id": 44956424, "comment_id": 76921304, "body": "@Borodin: Basically i have the code set up now where i input Apples in blue font. I want it to be written to the output file as Apples in blue font. In the future I want to have a list &quot;Apples, Bananas, Strawberries&quot; and sort it and only output lets say &quot;Apples&quot; and keep its original formatting."}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 1, "last_activity_date": 1499375368, "creation_date": 1499375368, "answer_id": 44958887, "question_id": 44956424, "link": "https://stackoverflow.com/questions/44956424/how-to-maniputlate-the-size-of-margins-in-rtf-file/44958887#44958887", "title": "How to maniputlate the size of margins in RTF file", "body": "<p>In the <a href=\"https://metacpan.org/pod/RTF::Tokenizer#get_token\" rel=\"nofollow noreferrer\">docs</a>: </p>\n\n<pre><code>my ( $type, $argument, $param ) = get_token();\n</code></pre>\n\n<p>$type is one of <code>text</code>, <code>control</code>, <code>group</code>, <code>escape</code> or <code>eof</code>.\nI'm guessing you're interested in the text tokens.</p>\n\n<p>the entry for text says: $argument contains the actual text.</p>\n\n<p>So I would suggest trying:</p>\n\n<pre><code>for my $token ( @tokens ){\n    my ( $type, $arg ) = @$token;\n    next unless $type eq 'text';\n    print \"$arg\\n\";\n}\n</code></pre>\n\n<p>This code is untested. </p>\n"}], "owner": {"reputation": 67, "user_id": 5494339, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b5f8d26373509d8ba2862c0b40e97ee0?s=128&d=identicon&r=PG&f=1", "display_name": "mdavies23", "link": "https://stackoverflow.com/users/5494339/mdavies23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1499876272, "creation_date": 1499365715, "last_edit_date": 1499876272, "question_id": 44956424, "link": "https://stackoverflow.com/questions/44956424/how-to-maniputlate-the-size-of-margins-in-rtf-file", "title": "How to maniputlate the size of margins in RTF file", "body": "<p>I have made a program that takes in an RTF document, sorts it, and then outputs another RTF doc. I have this print statement and I need to manipulate the marigins to make them smaller. I have tried a couple things without success.</p>\n\n<pre><code>                if ($_ =~ \"ERROR\"){\n                $rtf-&gt;prolog(\n                'title' =&gt; \"Color Test\", \n                'colors' =&gt; [ \n                undef,       \n                [0,0,0],     # 1 - black\n                [255,0,0],   # 2-red\n                [0,255,0],   # 3-green\n                [0,0,255],   # 4-blue\n                [255,128,0], # 5-orange\n                [255,255,0], # 6-yellow\n                ],\n                );\n        #PRINT ERRORS IN RED        \n                $rtf-&gt;printf( \\'{\\fs20\\lang1036\\noproof\\cf2\\highlight1  %s} \\par ', \"$_\");\n\n        }\n</code></pre>\n\n<p>I read that the command is marglN and margrN but I have not been successful in using these. Any ideas?</p>\n"}, {"tags": ["function", "perl", "class", "call", "instance"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1499366010, "post_id": 44956235, "comment_id": 76888490, "body": "What do you mean by &quot;calling an instance&quot;? Note that <code>$obj()</code> is a syntax error in Perl."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499366762, "post_id": 44956235, "comment_id": 76888886, "body": "The phrase &quot;instance of class&quot; usually means an &quot;object.&quot;  But one cannot &quot;call it,&quot; you generally use it to call methods that are defined in your class. This does not raise an &quot;event&quot; (no notification is sent anywhere).  If you mean to make things happen when objects are used, you can do that, but it matters what exactly you mean and want to do.  Please clarify the question, explain it better."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8201141"}, "edited": false, "score": 0, "creation_date": 1499366819, "post_id": 44956235, "comment_id": 76888902, "body": "Something like the <code>__call__</code> function in Python, or the <code>__call</code> metamethod in Lua."}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 0, "creation_date": 1501256141, "post_id": 44956813, "comment_id": 77716262, "body": "I&#39;m getting an error: <code>Overloading the dereference did not return a reference</code> when using this (after entering the <code>__call__</code> function). Any ideas why?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 275, "user_id": 8290567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa590aab15fc7312dd5def5cff195b5?s=128&d=identicon&r=PG&f=1", "display_name": "aoiee", "link": "https://stackoverflow.com/users/8290567/aoiee"}, "edited": false, "score": 1, "creation_date": 1501258988, "post_id": 44956813, "comment_id": 77717943, "body": "The overloading dereference function is supposed to return a reference of the appropriate type. I&#39;ve updated my answer."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 9, "last_activity_date": 1501258933, "last_edit_date": 1501258933, "creation_date": 1499367161, "answer_id": 44956813, "question_id": 44956235, "link": "https://stackoverflow.com/questions/44956235/perl-call-an-instance-of-a-class/44956813#44956813", "title": "Perl - call an instance of a class", "body": "<p>I'm still not sure what the use case is, but you can <code>overload</code> the class to handle code dereferencing.</p>\n\n<pre><code>package ExampleClass;\nuse overload '&amp;{}' =&gt; \\&amp;__call__;   # Or an anon sub.\nsub new {\n   bless {@_}, shift;\n}\nsub __call__ {\n    sub { warn \"calling an instance event\" };\n}\n\npackage main;\nmy $obj = ExampleClass-&gt;new;\n$obj-&gt;();\n&amp;$obj();      # same as $obj-&gt;()\n</code></pre>\n\n<p>Typical output:</p>\n\n<pre><code>$ perl 44956235.pl\ncalling an instance event at 44956235.pl line 7.\ncalling an instance event at 44956235.pl line 7.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499379711, "post_id": 44957490, "comment_id": 76894958, "body": "This is just fascinating."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1499380213, "post_id": 44957490, "comment_id": 76895119, "body": "@zdim, One could use PadWalker to access <code>$dummy</code> and store the guts in there instead of global hash :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 8, "last_activity_date": 1501081797, "last_edit_date": 1501081797, "creation_date": 1499369814, "answer_id": 44957490, "question_id": 44956235, "link": "https://stackoverflow.com/questions/44956235/perl-call-an-instance-of-a-class/44957490#44957490", "title": "Perl - call an instance of a class", "body": "<p><a href=\"https://stackoverflow.com/a/44956813/589924\">Overloading \"<code>&amp;{}</code>\"</a> is obviously the way to go, but you could base your object on a sub instead of the commonly-preferred hash.</p>\n\n<p><code>ExampleClass.pm</code>:</p>\n\n<pre><code>package ExampleClass;\n\nuse strict;\nuse warnings;\nuse feature qw( current_sub say );\n\nmy %objects;\n\nsub new {\n   my $class = shift;\n   my $dummy;  # Force each evaluation of sub{} to return a new variable.\n   my $self = bless(sub { $dummy if 0; __SUB__ -&gt;__call__(@_) }, $class) }, $class);\n   my $inner = $objects{$self} = {};\n   return $self;\n}\n\nsub DESTROY {\n   my $self = shift;\n   delete($objects{$self});\n}\n\nsub __call__ {\n   my $inner = $objects{ my $self = shift };\n   say \"__call__(\".join(\", \", @_).\")\";\n}\n\nsub some_attribute {\n   my $inner = $objects{ my $self = shift };\n   if (@_) { $inner-&gt;{some_attribute} = $_[0]; }\n   return $inner-&gt;{some_attribute};\n}\n\n1;\n</code></pre>\n\n<p>The main program:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature qw( say );\n\nuse ExampleClass qw( );\n\n{\n   my $obj = ExampleClass-&gt;new();\n\n   $obj-&gt;some_attribute(\"value\");\n   say $obj-&gt;some_attribute();\n\n   $obj-&gt;(qw( a b c ));\n}\n\n{\n   my $obj1 = ExampleClass-&gt;new();\n   $obj1-&gt;some_attribute(\"value1\");\n\n   my $obj2 = ExampleClass-&gt;new();\n   $obj2-&gt;some_attribute(\"value2\");\n\n   say $obj1-&gt;some_attribute();\n   say $obj2-&gt;some_attribute();\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>value\n__call__(a, b, c)\nvalue1\nvalue2\n</code></pre>\n\n<p>This is basically what's called an \"inside-out\" object.</p>\n"}, {"tags": [], "owner": {"reputation": 645, "user_id": 1507619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3361ffe35af2b9095ccdb5b4e56d61f3?s=128&d=identicon&r=PG", "display_name": "Nuxwin", "link": "https://stackoverflow.com/users/1507619/nuxwin"}, "is_accepted": false, "score": 2, "last_activity_date": 1535751196, "last_edit_date": 1535751196, "creation_date": 1535700709, "answer_id": 52110576, "question_id": 44956235, "link": "https://stackoverflow.com/questions/44956235/perl-call-an-instance-of-a-class/52110576#52110576", "title": "Perl - call an instance of a class", "body": "<p>What you're looking for is called a functor. You can create a base class to implement your functors more easily. For instance:</p>\n\n<pre><code>package AbstractFunctorObject;\nuse strict;\nuse warnings;\nuse overload '&amp;{}' =&gt; sub { $_[0]-&gt;can( '__invoke' ) };\n\nsub new\n{\n  my $class = shift;\n  bless { @_ }, $class;\n}\n\n1;\n__END__\n</code></pre>\n\n<p>Then, you can implement your functors as follows:</p>\n\n<pre><code>package FunctorObject;\nuse strict;\nuse warnings;\nuse parent 'AbstractFunctorObject';\n\nsub __invoke\n{\n  print \"Called as a functor with args: @{ [ @_ ? @_ : 'no argument given' ] }\\n\";\n}\n\n1;\n__END__\n</code></pre>\n\n<p>And finally, you can call the functor as follows:</p>\n\n<pre><code>package main;\nuse FunctorObject;\n\nmy $functor = FunctorObject-&gt;new();\n$functor-&gt;('firstname', 'lastname');\n$functor-&gt;();\n</code></pre>\n\n<p>Result will be:</p>\n\n<pre><code>root@jessie:/usr/local/src# perl callable_object.pl \nCalled as a functor with args: firstname lastname\nCalled as a functor with args: no argument given\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8201141"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 44956813, "answer_count": 3, "score": 6, "last_activity_date": 1535751196, "creation_date": 1499365047, "last_edit_date": 1499366874, "question_id": 44956235, "link": "https://stackoverflow.com/questions/44956235/perl-call-an-instance-of-a-class", "title": "Perl - call an instance of a class", "body": "<p>Is there way to catch the event of calling an instance of a Perl class?</p>\n\n<pre><code>my $obj = ExampleClass-&gt;new();\n$obj(); # do something without producing error\n</code></pre>\n\n<p>I would like to be able to handle this from within the class/module definition. Something similar to the <code>__call__</code> method in Python, or the <code>__call</code> metamethod in Lua.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1499362732, "post_id": 44955611, "comment_id": 76886673, "body": "us an or <code>\\.(foo|bar)</code>"}, {"owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1499363005, "post_id": 44955611, "comment_id": 76886809, "body": "@epascarello Won&#39;t Perl see it as another buffer?"}], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1499362941, "last_edit_date": 1499362941, "creation_date": 1499362727, "answer_id": 44955629, "question_id": 44955611, "link": "https://stackoverflow.com/questions/44955611/string1-or-string2-in-regex/44955629#44955629", "title": "string1 OR string2 in regex?", "body": "<p>With correct grouping, Regex should be:</p>\n\n<pre><code>/\\b(http\\S+\\.(?:flv|mp4))\\b/\n</code></pre>\n\n<p>In your regex <code>http</code> and dot is matched before <code>flv</code> but not before mp4. Your regex is executed as <code>http[^\\s]*\\.\\bflv\\b</code> OR <code>\\bmp4\\b</code></p>\n\n<p>Moreover there is no need to match for <code>\\b</code> after a dot since dot is considered a non-word character. You only need to match <code>\\b</code> after <code>.flv</code> and <code>.mp4</code>. Also it is better to match <code>\\b</code> before <code>http</code> also.</p>\n\n<p>Also note use of <code>\\S</code> instead of <code>[^\\s]</code></p>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 44955629, "answer_count": 1, "score": 0, "last_activity_date": 1499371801, "creation_date": 1499362620, "last_edit_date": 1499371801, "question_id": 44955611, "link": "https://stackoverflow.com/questions/44955611/string1-or-string2-in-regex", "title": "string1 OR string2 in regex?", "body": "<p>In the below example I have tried to force the match to end with \".flv\" or \".mp4\". That is why <code>\\b</code> is there.</p>\n\n<p>However, the order for some reason matters. Right now it outputs flv links correctly, but any link with \"mp4\" at the end is printed as <code>mp4</code>.</p>\n\n<pre><code>perl -ne 'print \"$1\\n\" if /(http[^\\s]*\\.\\bflv\\b|\\bmp4\\b)/' test.html\n</code></pre>\n\n<p>How can I get a real <code>.flv</code> or <code>.mp4</code>?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1499361021, "post_id": 44955103, "comment_id": 76885559, "body": "that was adorable"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1499360810, "creation_date": 1499360810, "answer_id": 44955103, "question_id": 44954641, "link": "https://stackoverflow.com/questions/44954641/looking-for-non-destructive-counterpart-of-splice-array-offset-length-list/44955103#44955103", "title": "Looking for non-destructive counterpart of `splice ARRAY,OFFSET,LENGTH,LIST`", "body": "<pre><code>@new_a = @a;\nsplice @new_a, 2, 3, @b;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1499375304, "last_edit_date": 1499375304, "creation_date": 1499365322, "answer_id": 44956304, "question_id": 44954641, "link": "https://stackoverflow.com/questions/44954641/looking-for-non-destructive-counterpart-of-splice-array-offset-length-list/44956304#44956304", "title": "Looking for non-destructive counterpart of `splice ARRAY,OFFSET,LENGTH,LIST`", "body": "<p>Just make a copy:</p>\n\n<pre><code>my @new_a = @a;\nsplice( @new_a, 2, 3, @b );\n</code></pre>\n\n<p>Or if you want the same interface (incl negative offsets and optional arguments):</p>\n\n<pre><code>sub splice_r(\\@;$$@) {\n   my $num_args = @_;\n   my $a      = shift;\n   my $offset = shift;\n   my $len    = shift;\n\n   my @new_a = @$a;\n   if    ($num_args == 1) { splice(@new_a)                    }\n   elsif ($num_args == 2) { splice(@new_a, $offset)           }\n   elsif ($num_args &gt;= 3) { splice(@new_a, $offset, $len, @_) }\n   return @new_a;\n}\n\nmy @new_a = splice_r(@a, 2, 3, @b);\n</code></pre>\n\n<p>Or use a slice to avoid needless copying:</p>\n\n<pre><code>my @new_a = ( @a[0..1], @b, @a[5..$#a] );\n</code></pre>\n\n<p>Or if you want the same interface (incl negative offsets and optional arguments):</p>\n\n<pre><code>sub splice_r(\\@;$$@) {\n   my $num_args = @_;\n   my $a   = shift;\n   my $i   = shift;\n   my $len = shift;\n\n   $i //= 0;\n   if ($i &lt; 0) {\n      $i += @$a;\n      carp(\"Invalid argument\") if $i &lt; 0;\n   }\n   elsif ($i &gt; @$a) {\n      $i = @$a;\n   }\n\n   my $j;\n   if ($num_args &gt;= 3) {\n      if ($len &gt;= 0) {\n         $j = $i + $len;\n      } else {\n         $j = @$a + $len;\n         $j = 0 if $j &lt; 0;\n      }\n   } else {\n      $e = $#$a;\n   }\n\n   return ( @$a[0..$i-1], @_, @$a[$j..$#$a] );\n}\n\nmy @new_a = splice_r(@a, 2, 3, @b);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 686183, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/h5EU7.jpg?s=128&g=1", "display_name": "pconrey", "link": "https://stackoverflow.com/users/686183/pconrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1568301369, "creation_date": 1568301369, "answer_id": 57909811, "question_id": 44954641, "link": "https://stackoverflow.com/questions/44954641/looking-for-non-destructive-counterpart-of-splice-array-offset-length-list/57909811#57909811", "title": "Looking for non-destructive counterpart of `splice ARRAY,OFFSET,LENGTH,LIST`", "body": "<p>Non-destructive version of splice. I call it slice:</p>\n\n<pre><code>sub slice {\n  my ($offset, $len) = splice(@_, -2, 2);\n  my $last = $offset + $len - 1;\n  return @_[$offset..$last];\n}\n</code></pre>\n\n<p>This:</p>\n\n<pre><code>my @array = qw(a b c d e f g h);\nmy @cut = slice(@arr, -1, 3); # Even works with wrap-around indexes.\n\nprint(\"@array\\n\");\nprint(\"@cut\\n\");\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>a b c d e f g h\nh a b   \n</code></pre>\n"}], "owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 44956304, "answer_count": 3, "score": 0, "last_activity_date": 1568301369, "creation_date": 1499359256, "last_edit_date": 1499361003, "question_id": 44954641, "link": "https://stackoverflow.com/questions/44954641/looking-for-non-destructive-counterpart-of-splice-array-offset-length-list", "title": "Looking for non-destructive counterpart of `splice ARRAY,OFFSET,LENGTH,LIST`", "body": "<p><code>splice</code> is \"destructive\"; i.e. it modifies its first argument \"in place\".</p>\n\n<p>For example:</p>\n\n<pre><code>  DB&lt;63&gt; @a = (0, 1, 2, 3, 4, 5)\n\n  DB&lt;64&gt; @b = (20, 30, 40)\n\n  DB&lt;65&gt; splice( @a, 2, 3, @b )\n\n  DB&lt;66&gt; x \\@a\n0  ARRAY(0x1daf6e0)\n   0  0\n   1  1\n   2  20\n   3  30\n   4  40\n   5  5\n</code></pre>\n\n<p>(The <code>splice</code> expression above <em>returns</em> the elements spliced out, but in this question I'm interested only in <code>slice</code>'s side effects.)</p>\n\n<hr>\n\n<p><strong>Q:</strong> Is there a \"non-destructive\" counterpart <strong>function</strong> of <code>splice</code>?</p>\n\n<p>E.g. if <code>@a</code> and <code>@b</code> are as <em>originally</em> defined above, then the desired <code>non_destructive_splice</code> function would be such that after</p>\n\n<pre><code>@new_a = non_destructive_splice( @a, 2, 3, @b );\n</code></pre>\n\n<p>...the variable <code>@new_a</code> would hold <code>(0, 1, 20, 30, 40, 5)</code>, and <code>@a</code> would be <strong>left unchanged</strong>.</p>\n"}, {"tags": ["bash", "shell", "perl", "scripting", "cmusphinx"], "comments": [{"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 1, "creation_date": 1499352014, "post_id": 44951823, "comment_id": 76879254, "body": "Where is your <code>perl</code> installed?  What do you get when you type <code>command -v perl</code>?  Perhaps it&#39;s <code>&#47;usr&#47;bin&#47;perl</code> instead of <code>&#47;usr&#47;local&#47;bin&#47;perl</code>?"}, {"owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "reply_to_user": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1499352302, "post_id": 44951823, "comment_id": 76879495, "body": "@EricRenouf You&#39;re right about that part. It indeed was installed at <code>&#47;usr&#47;bin&#47;perl</code>. I edited the file to <code>#!&#47;usr&#47;bin&#47;perl -w</code> and no it doesn&#39;t give error but again, no output."}, {"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1499352671, "post_id": 44951823, "comment_id": 76879789, "body": "I can&#39;t reproduce your results now, if I copy and paste the script above I get a warning then &quot;hello world&quot; though without a new line so it might be &quot;hiding&quot; beside the prompt"}, {"owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499354630, "post_id": 44951823, "comment_id": 76881260, "body": "@ikegami I am not removing license at all. I removed the license only in the question so that it is easier to read. I have linked the original file as well. I am happy to include the licenses back."}, {"owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1499354724, "post_id": 44951823, "comment_id": 76881343, "body": "@ikegami If I work with the intact file, I get the problems mentioned in the question. If I remove the lines from <code>=POD</code> to <code>=END</code>, it works."}, {"owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502315118, "post_id": 44951823, "comment_id": 78161600, "body": "@ikegami Not sure why this got downvoted. I made sure I searched things, included all the information along with examples and tried cases, included minimal runnable demo, wrote observations, made detailed edits. What am I missing?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502319827, "post_id": 44951823, "comment_id": 78163305, "body": "Who knows. I upvoted so you wouldn&#39;t be negative."}, {"owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502460620, "post_id": 44951823, "comment_id": 78233832, "body": "@ikegami Thank you so much! I really wish it becomes mandatory to quote the reason while downvoting, even if it be anon."}], "answers": [{"comments": [{"owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1502310127, "post_id": 44952922, "comment_id": 78159331, "body": "The thing to note is, it is case sensitive. <code>=CUT</code> doesn&#39;t work, but <code>=cut</code> works!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1502313835, "post_id": 44952922, "comment_id": 78161031, "body": "@Saurabh Shrivastava, True, but that has nothing to do with the question. the program in the question used <code>=END</code> instead of <code>=cut</code>."}, {"owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1502314928, "post_id": 44952922, "comment_id": 78161520, "body": "I am not criticising, just commenting in order to inform future seekers! :) Thanks to you, I got it to work without tampering with license."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1499355005, "last_edit_date": 1499355005, "creation_date": 1499354194, "answer_id": 44952922, "question_id": 44951823, "link": "https://stackoverflow.com/questions/44951823/perl-file-pl-gets-executed-with-no-output-at-all/44952922#44952922", "title": "perl &lt;file.pl&gt; gets executed with no output at all", "body": "<blockquote>\n  <p><em><code>-bash: ./quick_lm.pl: /usr/local/bin/perl: bad interpreter: No such file or directory</code></em></p>\n</blockquote>\n\n<p>Replace <code>/usr/local/bin/perl</code> with the correct path to <code>perl</code>. This path can be obtained from</p>\n\n<pre><code>perl -le'print $^X'\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>it simply terminates. No output at all.</em></p>\n</blockquote>\n\n<p>The <code>=pod</code> directive indicates the start of inlined documentation (\"<a href=\"http://perldoc.perl.org/perlpod.html\" rel=\"nofollow noreferrer\">POD</a>\"). <code>=cut</code> marks the end of the block of POD.</p>\n\n<p>The program incorrectly uses <code>=END</code> instead of <code>=cut</code> to mark the end of the block of POD, so Perl thinks the whole program is one big comment.. Replace <code>=END</code> with <code>=cut</code>.</p>\n"}], "owner": {"reputation": 876, "user_id": 6487831, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/329635018873f0a6a7c8976e1537aee7?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/6487831/saurabh-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 44952922, "answer_count": 1, "score": 0, "last_activity_date": 1499376936, "creation_date": 1499351428, "last_edit_date": 1499354822, "question_id": 44951823, "link": "https://stackoverflow.com/questions/44951823/perl-file-pl-gets-executed-with-no-output-at-all", "title": "perl &lt;file.pl&gt; gets executed with no output at all", "body": "<p>I downloaded a perl script (<a href=\"http://www.speech.cs.cmu.edu/tools/download/quick_lm.pl\" rel=\"nofollow noreferrer\">http://www.speech.cs.cmu.edu/tools/download/quick_lm.pl</a>) for generating language models.</p>\n\n<p>When I do <code>perl quick_lm.pl</code>, it simply terminates. No output at all.</p>\n\n<ul>\n<li><p>Yes, I have perl installed and <code>perl -v</code> works perfectly.</p></li>\n<li><p>I made a simple hello-world perl script and it executes just fine. [attached at the end]</p></li>\n<li><p>So, I included <code>print \"hello\";</code> in the first line of the <code>quick_lm.pl</code> and tried <code>perl quick_lm.pl</code>, still nothing happens.</p></li>\n</ul>\n\n<p>I even tried giving the <code>quick_lm.pl</code> all permissions using <code>chmod 777 quick_lm.pl</code>. Now when I do <code>./quick_lm.pl</code> it gives an error : </p>\n\n<pre><code>-bash: ./quick_lm.pl: /usr/local/bin/perl: bad interpreter: No such file or directory\n</code></pre>\n\n<p>I searched this error and almost all the solutions pointed to windows CLRF, but unlike them I do not have <code>^M</code> in <code>/usr/local/bin/perl</code>. Also, still <code>perl quick_lm.pl</code> should work, right?</p>\n\n<hr>\n\n<p>[bash.log]</p>\n\n<pre><code>someone@something:~/dictionary$ perl quick_lm.pl\nsomeone@something:~/dictionary$ perl quick_lm.pl -s words.txt \nsomeone@something:~/dictionary$ nano quick_lm.pl \nsomeone@something:~/dictionary$ perl quick_lm.pl -s words.txt \nsomeone@something:~/dictionary$ chmod 777 quick_lm.pl \nsomeone@something:~/dictionary$ ./quick_lm.pl \n-bash: ./quick_lm.pl: /usr/local/bin/perl: bad interpreter: No such file or directory\nsomeone@something:~/dictionary$ cat new.pl \n#!/usr/bin/perl -w \nuse strict;\n\nprint \"Hello World\\n\";\nsomeone@something:~/dictionary$ perl new.pl \nHello World\nsomeone@something:~/dictionary$ \n</code></pre>\n\n<p>[After adding <code>print</code> in the beginning of <code>quick_lm.pl</code> and reducing it to a minimal, runable demonstration of the problem.]</p>\n\n<pre><code>#!/usr/local/bin/perl -w\n=POD\n\n...license...\n\n=END\n\nuse Getopt::Std;\n\nprint \"hello world\";\n$VERBOSE = 1;\n\nsub handler { local($sig) = @_;\n          print STDERR \"quick_lm caught a SIG$sig -- dying\\n\";\n\n          exit(0);\n        }\nforeach (qw(XCPU KILL TERM STOP)) { $SIG{$_} = \\&amp;handler; }\n</code></pre>\n\n<p>This is not full script, full script is in the link mentioned in the very first line. I am not sure if it's related to file as much as my perl configuration. As you might have guessed, I don't have much idea about perl.</p>\n\n<p>I appreciate your time and help :)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1499350791, "post_id": 44951516, "comment_id": 76878218, "body": "You should install <code>MIME::Lite</code>. It&#39;s not hard. But MIME is nothing to do with coloured output."}, {"owner": {"reputation": 91, "user_id": 7252378, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/807d7a3d5a6919a66a315c74d45d7f8f?s=128&d=identicon&r=PG&f=1", "display_name": "Sunny1985", "link": "https://stackoverflow.com/users/7252378/sunny1985"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499350885, "post_id": 44951516, "comment_id": 76878311, "body": "Borodin, Not allowed to install.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1499351109, "post_id": 44951516, "comment_id": 76878526, "body": "You can install it for just your own use."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1499354530, "last_edit_date": 1499354530, "creation_date": 1499354187, "answer_id": 44952920, "question_id": 44951516, "link": "https://stackoverflow.com/questions/44951516/colored-output-without-perl/44952920#44952920", "title": "Colored output without Perl", "body": "<p>The coloured output seems to be a complete red herring (hah!) here. You have a file which you want to send as an attachment to a MIME email.</p>\n\n<p>If you're going to be using Perl, then you need to be in an environment where you can install modules from CPAN. Without CPAN, you're missing most of the power of modern Perl. I suggest that it's worth having whatever discussions you need to have in order to remove that major block to your Perl programming career.</p>\n\n<p>If you really can't install modules into the system libraries, then you can install them into your home directory and use <code>use lib</code> or PERL5LIB to adjust the Perl library path as appropriate.</p>\n\n<p>When you've solved the problem of how to use CPAN modules, can we talk about your choice of modules? MIME::Lite <a href=\"https://metacpan.org/pod/MIME::Lite#WAIT!\" rel=\"nofollow noreferrer\">isn't exactly deprecated</a>, but there have been better alternatives available for over ten years. Take a look at <a href=\"https://metacpan.org/pod/Email::Stuffer\" rel=\"nofollow noreferrer\">Email::Stuffer</a>.</p>\n\n<p>But if you're determined not to have the CPAN module installation discussion, the other approach is to use the command-line program <code>mailx</code> to send your message.</p>\n\n<pre><code>$ mailx -a rpt.html someone@example.com\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 7252378, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/807d7a3d5a6919a66a315c74d45d7f8f?s=128&d=identicon&r=PG&f=1", "display_name": "Sunny1985", "link": "https://stackoverflow.com/users/7252378/sunny1985"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 44952920, "answer_count": 1, "score": -1, "last_activity_date": 1499377610, "creation_date": 1499350663, "last_edit_date": 1499377610, "question_id": 44951516, "link": "https://stackoverflow.com/questions/44951516/colored-output-without-perl", "title": "Colored output without Perl", "body": "<p>I have a mailing script to send colored output, but I can't use it on a Unix machine as the <code>MIME::Lite</code> module is not installed on it.</p>\n\n<p>Can anyone suggest an alternative to get the desired output in color?</p>\n\n<pre><code>use MIME::Lite;\n\nmy (@page_html, @sujet);\n\nmy $file = 'rpt.html';\n\nopen my $ifh, '&lt;', $file\n     or die \"Cannot open '$file' for reading: $!\";\n\nlocal $/ = \"\";\n\nmy $contents = &lt;$ifh&gt;;\n\nclose( $ifh );\n\nmy $msg = new MIME::Lite;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;tr&gt;&lt;td&gt;test1&lt;/td&gt;&lt;td bgcolor=red&gt;NOK&lt;/td&gt;&lt;/tr&gt;    \n&lt;tr&gt;&lt;td&gt;test2&lt;/td&gt;&lt;td bgcolor=green&gt;OK&lt;/td&gt;&lt;/tr&gt;    \n&lt;tr&gt;&lt;td&gt;test3&lt;/td&gt;&lt;td bgcolor=green&gt;OK&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n\n<p><code>OK</code> Should be in green</p>\n\n<p><code>NOK</code> should be red</p>\n"}, {"tags": ["perl", "dbi", "sqlanywhere", "dbd"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1499338900, "post_id": 44947008, "comment_id": 76869066, "body": "First use <code>use strict;</code> and <code>use warnings;</code> as those will catch a bunch of errors. And don&#39;t <code>use DBD::&lt;Driver&gt;</code> directly. <code>DBI</code> will handle the driver for you."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1499338954, "post_id": 44947008, "comment_id": 76869105, "body": "I think <code>database=$database</code> must be <code>ENG=$database</code>. See te comment in the source code: <code># If dbname starts with something that doesn&#39;t look like \t# a connect string parameter (&#39;label=value;&#39; format) then \t# &#39;ENG=&#39; is prefixed. </code>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1499341641, "post_id": 44947008, "comment_id": 76870930, "body": "Related: <a href=\"https://stackoverflow.com/q/44906829\">stackoverflow.com/q/44906829</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1499340148, "post_id": 44947203, "comment_id": 76869933, "body": "I ran the code which you suggested . It still gives the same error <b>DBI connect(&#39;ENG=vms&#39;,&#39;DBA&#39;,...) failed: (no error string) at AnotherSimplePerl.pl line 12.</b>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1499341202, "post_id": 44947203, "comment_id": 76870615, "body": "I am assuming there is indeed a database called <code>vms</code> to which you can connect via other means. Is that assumption correct?"}, {"owner": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "edited": false, "score": 0, "creation_date": 1499345048, "post_id": 44947203, "comment_id": 76873490, "body": "Yes there is a database called vms."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1499352047, "last_edit_date": 1499352047, "creation_date": 1499339205, "answer_id": 44947203, "question_id": 44947008, "link": "https://stackoverflow.com/questions/44947008/error-in-establishing-db-connection-in-perl-script/44947203#44947203", "title": "error in establishing DB connection in Perl script?", "body": "<p>Note the following in <a href=\"https://metacpan.org/pod/DBD::SQLAnywhere\" rel=\"nofollow noreferrer\">DBD::SQLAnywhere</a> documentation:</p>\n\n<blockquote>\n  <p><code>$dbh = DBI-&gt;connect( 'dbi:SQLAnywhere:ENG=demo', $userid, $passwd );</code> </p>\n</blockquote>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;    \nuse DBI;\n\nmy $driver = \"SQLAnywhere\"; \nmy $database = \"vms\";\nmy $dsn = \"DBI:$driver:ENG=$database\";\nmy $userid = \"DBA\";\nmy $password = \"admin\";\nmy $dbh = DBI-&gt;connect($dsn, $userid, $password, {RaiseError =&gt; 1});\n\nprint \"Connection established\\n\";\n\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>Note also the following:</p>\n\n<ul>\n<li>Always use <code>strict</code> and <code>warnings</code>.</li>\n<li>You do not need <code>use DBD::SQLAnywhere;</code>. <code>DBI</code> will pick the driver based on what you specify in the connection string.</li>\n<li>You specified <code>{RaiseError =&gt; 1}</code> in your connection options. That means, there is no need for the <code>or die</code>. <code>DBI</code> will croak if <code>connect</code> fails.</li>\n<li>You probably want <code>AutoCommit =&gt; 0</code> to go with that <code>RaiseError =&gt; 1</code>.</li>\n<li>There is no need for the <code>if ($dbh)</code> following the connection attempt. You won't get there unless <code>connect</code> succeeded.</li>\n</ul>\n\n<p>Given that fixing the connection string did not solve the problem and I do not have an instance of a SQLAnywhere database to test things, I am going to recommend you add:</p>\n\n<pre><code>DBI-&gt;trace( 5 );\n</code></pre>\n\n<p>before the <code>connect</code> call, and update your question with the trace information. See also <a href=\"https://metacpan.org/pod/DBI#TRACING\" rel=\"nofollow noreferrer\">TRACING</a>.</p>\n"}], "owner": {"reputation": 29, "user_id": 7316139, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ea70fc01db62d564ab1025002834b262?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek", "link": "https://stackoverflow.com/users/7316139/prateek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499352047, "creation_date": 1499338639, "last_edit_date": 1499340955, "question_id": 44947008, "link": "https://stackoverflow.com/questions/44947008/error-in-establishing-db-connection-in-perl-script", "title": "error in establishing DB connection in Perl script?", "body": "<p>I am using perl 5.24. I am trying to learn Perl. </p>\n\n<p>I had written a simple Perl code to connect to a DB. But gives error stating</p>\n\n<blockquote>\n  <p><code>DBI connect('database=vms','DBA',...) failed: (no error string) at simpleperl.pl line 13.</code></p>\n</blockquote>\n\n<p>The code is </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nuse DBD::SQLAnywhere;\n\nmy $driver = \"SQLAnywhere\"; \nmy $database = \"vms\";\nmy $dsn = \"DBI:$driver:database=$database\";\nmy $userid = \"DBA\";\nmy $password = \"admin\";\nmy $dbh = DBI-&gt;connect($dsn, $userid, $password,{RaiseError =&gt; 1}) or die (\"died connection:$DBI::errstr\");\n\nif($dbh)\n{\n    print \"Connection Established\";\n}\n</code></pre>\n\n<p>Can anyone point out what might be the problem here?</p>\n"}]