[{"tags": ["perl", "console.readkey", "readkey"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441837773, "post_id": 32489924, "comment_id": 52840882, "body": "What OS are you using?"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "edited": false, "score": 0, "creation_date": 1441845797, "post_id": 32490335, "comment_id": 52842972, "body": "This does accurately detect both the normal keys and special keys. However, now the same issue is occurring when I type the normal keys. For example, if I hit &#39;t&#39;, my function executes 3 times, yet, if I hit the up arrow, my function correctly executes once. So I&#39;m not  sure how I&#39;d use this in conjunction with ReadKeys to get a working solution."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "edited": false, "score": 0, "creation_date": 1441846709, "post_id": 32490335, "comment_id": 52843180, "body": "@user3821320 what function? There isn&#39;t any in the code in your question."}, {"owner": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1441846994, "post_id": 32490335, "comment_id": 52843235, "body": "Sorry, I mean the prompt... the &quot;Enter Key&quot; prompt will display multiple times, even though I only hit the key once @hobbs"}, {"owner": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "edited": false, "score": 0, "creation_date": 1441848911, "post_id": 32490335, "comment_id": 52843679, "body": "I&#39;ve updated my question with the code from this suggestion... When I hit a regular key at the &quot;Enter key: &quot; prompt, the iteration will go through 3 times and on the last iteration it will display &quot;You hit the normal ... key&quot; @mob"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1441852185, "post_id": 32490335, "comment_id": 52844470, "body": "<code>use strict; use warnings;</code>. The <code>$keystroke</code> in the <code>while</code> statement is different from the <code>my ($keystroke)</code> inside the loop."}, {"owner": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "edited": false, "score": 0, "creation_date": 1441857833, "post_id": 32490335, "comment_id": 52845856, "body": "I&#39;ve updated the code again. That did solve the issue of not existing the loop. However, it&#39;s still iterating 3 times on a single key press. @mob"}, {"owner": {"reputation": 22423, "user_id": 196507, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ctXYp.png?s=128&g=1", "display_name": "lepe", "link": "https://stackoverflow.com/users/196507/lepe"}, "edited": false, "score": 0, "creation_date": 1469506031, "post_id": 32490335, "comment_id": 64550663, "body": "This library detects UP / DOWN / LEFT / RIGHT arrows correctly."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1441838766, "creation_date": 1441838766, "answer_id": 32490335, "question_id": 32489924, "link": "https://stackoverflow.com/questions/32489924/perl-termreadkey-with-arrow-keys/32490335#32490335", "title": "Perl Term::ReadKey with Arrow Keys", "body": "<p><a href=\"http://metacpan.org/pod/Term::RawInput\" rel=\"nofollow\"><code>Term::RawInput</code></a> doesn't cover everything, but it's a pretty good start for this task:</p>\n\n<pre><code>use Term::RawInput;\nmy ($keystroke,$special) = rawInput(\"\", 1);\nif ($keystroke ne '') {\n    print \"You hit the normal '$keystroke' key\\n\";\n} else {\n    print \"You hit the special '$special' key\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "edited": false, "score": 0, "creation_date": 1441894918, "post_id": 32497952, "comment_id": 52868243, "body": "I get an error when I try to install the module... &quot;cpan Term::TermKey&quot;... the first is &quot;---- Unsatisfied dependencies detected during ---- ----      PEVANS/Term-TermKey-0.16.tar.gz     ----&quot;"}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "reply_to_user": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "edited": false, "score": 1, "creation_date": 1441902482, "post_id": 32497952, "comment_id": 52873368, "body": "@user3821320 stackoverflow isn&#39;t for support issues. Maybe try raising an RT ticket? <a href=\"https://rt.cpan.org/Dist/Display.html?Status=Active&amp;Queue=Term-TermKey\" rel=\"nofollow noreferrer\">rt.cpan.org/Dist/&hellip;</a>  or email me - address is all over CPAN."}], "tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 2, "last_activity_date": 1441877020, "creation_date": 1441877020, "answer_id": 32497952, "question_id": 32489924, "link": "https://stackoverflow.com/questions/32489924/perl-termreadkey-with-arrow-keys/32497952#32497952", "title": "Perl Term::ReadKey with Arrow Keys", "body": "<p>If you're wanting to read high-level semantic ideas of \"keypresses\", rather than lower-level ideas of \"bytes from the terminal\" you'll need something that can parse and collect up those multi-byte sequences for you.</p>\n\n<p>For this sort of task, I wrote <a href=\"http://metacpan.org/module/Term::TermKey\" rel=\"nofollow\">Term::TermKey</a>:</p>\n\n<pre><code>use Term::TermKey;\n\nmy $tk = Term::TermKey-&gt;new( \\*STDIN );\n\nprint \"Press any key\\n\";\n\n$tk-&gt;waitkey( my $key );\n\nprint \"You pressed: \" . $tk-&gt;format_key( $key, 0 );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1442250782, "post_id": 32513456, "comment_id": 52995691, "body": "Thank you! I&#39;ve been searching all morning for a way to handle these special characters!"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1442250984, "post_id": 32513456, "comment_id": 52995822, "body": "Not sure why you use the <code>$mode</code> variable though. <code>while (defined ReadKey(-1)) {}</code> works fine for me."}, {"owner": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1442266714, "post_id": 32513456, "comment_id": 53003815, "body": "Good catch... The $mode variable served no useful meaning to this solution, it was a variable I needed for my program... I&#39;ve updated the answer based on your input... Thanks @tjwrona1992"}, {"owner": {"reputation": 22423, "user_id": 196507, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ctXYp.png?s=128&g=1", "display_name": "lepe", "link": "https://stackoverflow.com/users/196507/lepe"}, "edited": false, "score": 0, "creation_date": 1469505781, "post_id": 32513456, "comment_id": 64550593, "body": "Good to start, however I see some details: You are missing a <code>ReadMode 0</code> at the end of the code, so it will reset the mode. All arrow keys will return &quot;27&quot; as is the first in sequence. For example, UP is: 27,91,65 and DOWN is: 27,91,66, so for the code both are &quot;27&quot; (the rest discarded). The same happens with the <a href=\"http://search.cpan.org/~jstowe/TermReadKey-2.33/ReadKey.pm\" rel=\"nofollow noreferrer\">example at the documentation</a>, so I guess is something with the library."}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "reply_to_user": {"reputation": 22423, "user_id": 196507, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ctXYp.png?s=128&g=1", "display_name": "lepe", "link": "https://stackoverflow.com/users/196507/lepe"}, "edited": false, "score": 1, "creation_date": 1617289283, "post_id": 32513456, "comment_id": 118268349, "body": "FYI, added the <code>ReadMode 0</code> as suggested by @lepe, which helps.  This still doesn&#39;t work great but with that change it is a start at least"}], "tags": [], "owner": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "is_accepted": true, "score": 3, "last_activity_date": 1617289201, "last_edit_date": 1617289201, "creation_date": 1441929804, "answer_id": 32513456, "question_id": 32489924, "link": "https://stackoverflow.com/questions/32489924/perl-termreadkey-with-arrow-keys/32513456#32513456", "title": "Perl Term::ReadKey with Arrow Keys", "body": "<p>Here's my working solution...</p>\n<pre><code>use Term::ReadKey;\n\nReadMode('cbreak');\n\n{\n    #Temporarily turn off warnings so no messages appear for uninitialized $keystroke\n    #that for some reason appears for the if statement\n    no warnings;\n\n    my $keystroke = '';\n\n    while ($keystroke ne 'h') {\n\n        print &quot;\\nEnter key: &quot;;\n\n        #Read user keystroke \n        $keystroke = ReadKey(0);\n\n        #The first character for the arrow keys (ex. '^[[A') evaluates to 27 so I check for \n        #that\n        if(ord($keystroke) == 27) {\n            #Flush the rest of the characters from input buffer\n            #This produces an 'Use of uninitialized value...' error\n            #for the other two characters, hence 'no warnings' at the beginning.\n            #This will ignore the other 2 characters and only cause a single iteration\n            while( defined ReadKey(-1) ) {}\n        }\n    ReadMode 0;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22423, "user_id": 196507, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ctXYp.png?s=128&g=1", "display_name": "lepe", "link": "https://stackoverflow.com/users/196507/lepe"}, "is_accepted": false, "score": 1, "last_activity_date": 1469521424, "last_edit_date": 1469521424, "creation_date": 1469508403, "answer_id": 38581180, "question_id": 32489924, "link": "https://stackoverflow.com/questions/32489924/perl-termreadkey-with-arrow-keys/38581180#38581180", "title": "Perl Term::ReadKey with Arrow Keys", "body": "<p>Based on <code>mob</code> answer, using <a href=\"http://search.cpan.org/~reedfish/Term-RawInput-1.23/lib/Term/RawInput.pm\" rel=\"nofollow\">Term::RawInput</a>, I did this script to emulate a more complex input interaction. The most important difference is the use of 'rawInput': <code>mob</code> suggested: <code>rawInput(\"\",1)</code>, I find out that actually using <code>rawInput(\"&gt; \")</code> (without the second parameter) makes things easier to work with, and having a prompt \">\" is more useful.</p>\n\n<p>This code accepts commands and special keys. Also, it displays nicely to be used as an interactive shell for your system. </p>\n\n<p><code>DELETE</code> key will remove all chars and <code>BACKSPACE</code> a single character. <code>ESC</code> will exit the shell. You can add more keys to include arrows or anything else to perform special functions. This code will print-out any special key pressed which is not included inside the <code>if..elsif</code> (so you know what you need to add).</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Term::RawInput;\n\nsub out {\n    my $out = shift;\n    print \"[ $out ]\\n\";\n}\n\ndo {\n    my ($keystroke,$special) = rawInput(\"&gt; \");\n    if($special eq 'ESC') {\n        print \"\\n\";\n        exit;\n    } elsif($special eq 'ENTER') {\n        out($keystroke);\n    } elsif($special ne 'DELETE') {\n        if ($keystroke ne '') {\n            out($keystroke);\n        } else {\n            print \"'$special' key is not associated\\n\";\n        }\n    }\n} while(1);\n</code></pre>\n\n<p>You can implement your commands inside \"out\";</p>\n"}], "owner": {"reputation": 137, "user_id": 3821320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c141d1797c8cad6dd60b3a81f2cac45?s=128&d=identicon&r=PG&f=1", "display_name": "user3821320", "link": "https://stackoverflow.com/users/3821320/user3821320"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2449, "favorite_count": 0, "accepted_answer_id": 32513456, "answer_count": 4, "score": 8, "last_activity_date": 1617289201, "creation_date": 1441836602, "last_edit_date": 1441865354, "question_id": 32489924, "link": "https://stackoverflow.com/questions/32489924/perl-termreadkey-with-arrow-keys", "title": "Perl Term::ReadKey with Arrow Keys", "body": "<p>I'm using Term::ReadKey in ReadMode('cbreak') to read a single character and perform an action based on the input. This works fine for all other keys except the arrow keys. When the arrow keys are pressed, the action is performed 3 times and I understand this is because the arrow keys translate to '^[[A', etc... </p>\n\n<p>How do I translate the arrow keys into some arbitrary single value that the ReadKey can interpret?</p>\n\n<p>I tried the following code but it doesn't work:</p>\n\n<pre><code>use Term::ReadKey;\n\nReadMode('cbreak');\n\nmy $keystroke = '';\n\nwhile ($keystroke ne 'h') {\n\n    print \"Enter key: \"; \n\n    #Read user keystroke \n    $keystroke = ReadKey(0);\n\n    chomp($keystroke);\n\n\n    if(ord($keystroke) == 27) {\n         $keystroke = ('0');\n    }\n}\n</code></pre>\n\n<p>Here's my code based on the suggestion:</p>\n\n<pre><code>use Term::RawInput;\nuse strict;\nuse warnings;\n\nmy $keystroke = '';\nmy $special = ''; \n\nwhile(lc($keystroke) ne 'i' &amp;&amp; lc($keystroke) ne 't'){\n\n    my $promptp = \"Enter key: \";\n\n    ($keystroke,$special) = rawInput($promptp, 1);\n\n    if ($keystroke ne '') {\n        print \"You hit the normal '$keystroke' key\\n\";\n    } else {\n        print \"You hit the special '$special' key\\n\";\n    }\n\n    chomp($keystroke);\n\n    $keystroke = lc($keystroke);\n}\n\nif($keystroke eq 'i') {\n    #Do something\n}\n\nif($keystroke eq 't') {\n    #Do something\n}\n</code></pre>\n\n<p>Now, no matter what I press, I can't exit this loop</p>\n\n<p>Here's the output:</p>\n\n<pre><code>Enter key: \nEnter key:\nEnter key: You hit the normal 't' key\n\n#Proceeds to function\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 4, "creation_date": 1441830172, "post_id": 32488458, "comment_id": 52837567, "body": "<a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\"><code>perldoc perlsub</code></a>"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1441830294, "post_id": 32488458, "comment_id": 52837635, "body": "@HunterMcMillen: And search for &quot;Prototypes&quot;."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1441830338, "post_id": 32488458, "comment_id": 52837657, "body": "@KeithThompson It is already permalinked in the link I provided"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1441848246, "post_id": 32488534, "comment_id": 52843522, "body": "@user2189668: What you should take away from this is a decision to avoid subroutine prototypes in your own code"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 11, "last_activity_date": 1441830293, "last_edit_date": 1495540336, "creation_date": 1441830293, "answer_id": 32488534, "question_id": 32488458, "link": "https://stackoverflow.com/questions/32488458/subroutine-arguments-in-perl/32488534#32488534", "title": "Subroutine arguments in perl", "body": "<p>These are function prototypes. Everything you need to know about prototypes is in <a href=\"https://metacpan.org/pod/perlsub#Prototypes\" rel=\"nofollow noreferrer\"><code>perlsub</code></a>.</p>\n\n<p>Before you read it a second time, read all of the answers in <a href=\"https://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">Why are Perl 5's function prototypes bad?</a> and <a href=\"http://www.perlmonks.org/?node_id=861966\" rel=\"nofollow noreferrer\">Far More Than Everything You've Ever Wanted to Know about Prototypes in Perl</a> and see if it disabuses you of the notion to use prototypes.</p>\n"}], "owner": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1444068862, "accepted_answer_id": 32488534, "answer_count": 1, "score": 0, "last_activity_date": 1441884390, "creation_date": 1441830001, "last_edit_date": 1441884390, "question_id": 32488458, "link": "https://stackoverflow.com/questions/32488458/subroutine-arguments-in-perl", "closed_reason": "Duplicate", "title": "Subroutine arguments in perl", "body": "<p>I have been browsing a few of the perl modules where they have used <code>$$%</code>, <code>$$</code>, <code>$$$</code>, <code>@</code>, <code>$%</code>, <code>@..</code> and so on in the function arguments.</p>\n\n<p>I understand that <code>$$</code> in the argument ensures that you have to pass 2 non-optional parameters and <code>$</code> for 1 non-optional parameter. Do the others have similar meaning as well?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1441829188, "post_id": 32488128, "comment_id": 52837128, "body": "instead of using the ternary operator and <code>$&amp;</code>, you can use a capture group. See the performance issue about using <code>$&amp;</code>: <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html</a> . Note that the original pattern can be more waterproof if the dot is replaced (at least) with <code>[^&quot;]</code>"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1441829400, "post_id": 32488128, "comment_id": 52837224, "body": "@CasimiretHippolyte hmm... not sure I understand what you&#39;re suggesting. Returning anything short of <code>()</code> yields <code>undef</code> values in the resulting array. The performance issue of <code>$&amp;</code> was solved long ago. You&#39;re right about <code>[^&quot;]</code>."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1441829560, "post_id": 32488128, "comment_id": 52837295, "body": "I was thinking about: <code>my @keyw = map {&#47;(\\&quot;.* Word\\&quot;)&#47;} @list;</code>"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1441829614, "post_id": 32488128, "comment_id": 52837320, "body": "@CasimiretHippolyte d&#39;oh, I see, thanks :) My Perl is getting rusty."}], "tags": [], "owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": true, "score": 4, "last_activity_date": 1441829681, "last_edit_date": 1495535646, "creation_date": 1441828714, "answer_id": 32488128, "question_id": 32488075, "link": "https://stackoverflow.com/questions/32488075/grep-a-expression-in-an-array-of-string-with-perl/32488128#32488128", "title": "grep a expression in an array of string with Perl", "body": "<p>Use <code>map</code> instead of <code>grep</code>:</p>\n\n<pre><code>my @keyw = map { /\\\"[^\"]*? Word\\\"/ ? $&amp; : () } @list;\n</code></pre>\n\n<p>It just returns <code>$&amp;</code> (whole match) if the pattern matches and <code>()</code> (empty list) if it does not.<br>\nLittle caveat: don't use <code>$&amp;</code> with with Perl &lt; 5.18.0.</p>\n\n<p>Here's <a href=\"https://stackoverflow.com/users/2255089/casimir-et-hippolyte\">Casimir et Hippolyte</a>'s simpler solution:</p>\n\n<pre><code>my @keyw = map { /(\\\"[^\"]*? Word\\\")/ } @list;\n</code></pre>\n\n<p>It works since <code>m//</code> returns a list of captured groups.</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1441829509, "creation_date": 1441829509, "answer_id": 32488334, "question_id": 32488075, "link": "https://stackoverflow.com/questions/32488075/grep-a-expression-in-an-array-of-string-with-perl/32488334#32488334", "title": "grep a expression in an array of string with Perl", "body": "<p>Why can't we just use a normal loop?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nmy @phrases = (\n    \"First phrase with \\\"blabla - Word\\\" and other things \",\n    \"A phrase without... \",\n    \"Second phrase with \\\"truc - Word\\\" and etc... \",\n    \"Another phrase without... \",\n    \"Another phrase with \\\"thing - Word\\\" and etc... \",\n);\n\nmy @matches;\n\nfor (@phrases) {\n    next unless /(\"[^\"]+Word\")/;\n    push(@matches, $1);\n}\n\n# prints [\"\\\"blabla - Word\\\"\", \"\\\"truc - Word\\\"\", \"\\\"thing - Word\\\"\"]\ndd(\\@matches);\n</code></pre>\n"}], "owner": {"reputation": 2337, "user_id": 3595992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a8fc8a00391b1282338f66de57e3fea0?s=128&d=identicon&r=PG&f=1", "display_name": "JeanJouX", "link": "https://stackoverflow.com/users/3595992/jeanjoux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 32488128, "answer_count": 2, "score": 1, "last_activity_date": 1441831387, "creation_date": 1441828479, "last_edit_date": 1441831387, "question_id": 32488075, "link": "https://stackoverflow.com/questions/32488075/grep-a-expression-in-an-array-of-string-with-perl", "title": "grep a expression in an array of string with Perl", "body": "<p>I'm trying to grep a special pattern in an array of strings.</p>\n\n<p>My array of strings is like this : </p>\n\n<pre><code>@list=(\"First phrase with \\\"blabla - Word\\\" and other things \"\n      ,\"A phrase without... \"\n      ,\"Second phrase with \\\"truc - Word\\\" and etc... \"\n      ,\"Another phrase without... \"\n      ,\"Another phrase with \\\"thing - Word\\\" and etc... \");\n</code></pre>\n\n<p>and I tried to grep the pattern \"..... - Word\" with this function : </p>\n\n<pre><code>@keyw = grep { /\\\".* Word\\\"/} (@list);\n</code></pre>\n\n<p>and I have the following result : </p>\n\n<pre><code>print  (Dumper  (  @keyw));\n$VAR1 = 'First phrase with \"blabla - Word\" and other things ';\n$VAR2 = 'Second phrase with \"truc - Word\" and etc... ';\n$VAR3 = 'Another phrase with \"thing - Word\" and etc... ';\n</code></pre>\n\n<p>My grep function is ok to grep the phrase but I would like to grep <strong>just the pattern</strong> and get the following result : </p>\n\n<pre><code>$VAR1 = '\"blabla - Word\"';\n$VAR2 = '\"truc - Word\"';\n$VAR3 = '\"thing - Word\"';\n</code></pre>\n\n<p><strong>Do you know how to reach this result ?</strong></p>\n"}, {"tags": ["linux", "perl", "ubuntu", "nagios"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441836169, "post_id": 32489295, "comment_id": 52840299, "body": "Excellent answer. My only quibble is that <code>register 1</code> shouldn&#39;t be necessary, since <a href=\"https://assets.nagios.com/downloads/nagioscore/docs/nagioscore/4/en/objectinheritance.html\" rel=\"nofollow noreferrer\"><code>register</code> is not inherited</a> and 1 is the default value."}, {"owner": {"reputation": 5436, "user_id": 2744166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b079827a014bd14f42b163afd4bb1e91?s=128&d=identicon&r=PG", "display_name": "Joe Young", "link": "https://stackoverflow.com/users/2744166/joe-young"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441836368, "post_id": 32489295, "comment_id": 52840383, "body": "You&#39;re right.  Just found it in the documentation.  Updating my answer. Thanks for the heads up!"}, {"owner": {"reputation": 139, "user_id": 4552379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvAoI.jpg?s=128&g=1", "display_name": "Johnny Rollerfeet", "link": "https://stackoverflow.com/users/4552379/johnny-rollerfeet"}, "edited": false, "score": 0, "creation_date": 1441896745, "post_id": 32489295, "comment_id": 52869631, "body": "<code>utils.pm</code> is in the same directory, and I added the export to <code>profile.d</code> with no luck."}, {"owner": {"reputation": 139, "user_id": 4552379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvAoI.jpg?s=128&g=1", "display_name": "Johnny Rollerfeet", "link": "https://stackoverflow.com/users/4552379/johnny-rollerfeet"}, "edited": false, "score": 0, "creation_date": 1441897057, "post_id": 32489295, "comment_id": 52869861, "body": "&lt;pre&gt;user@host:/usr/local/nagios/libexec$ ll total 7904 drwxrwxr-x 2 nagios nagios   4096 Sep  9 10:54 ./ drwxr-xr-x 9 root   root     4096 Sep  8 19:43 ../ -rwxr-xr-x 1 nagios nagios 224674 Sep  9 10:53 check_apt* -rwxr-xr-x 1 nagios nagios   2309 Sep  9 10:53 check_breeze* ... -rwxr-xr-x 1 nagios nagios   3542 Sep  9 10:53 check_file_age* ... -rwxr-xr-x 1 nagios nagios   1932 Sep  9 10:53 utils.pm* -rwxr-xr-x 1 nagios nagios   2791 Sep  9 10:53 utils.sh*&lt;/pre&gt;"}, {"owner": {"reputation": 139, "user_id": 4552379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvAoI.jpg?s=128&g=1", "display_name": "Johnny Rollerfeet", "link": "https://stackoverflow.com/users/4552379/johnny-rollerfeet"}, "edited": false, "score": 0, "creation_date": 1441898513, "post_id": 32489295, "comment_id": 52870859, "body": "Where does <code>@INC</code> come from? Error still there: <code>(No output on stdout) stderr: Can&#39;t locate utils.pm in @INC (you may need to install the utils module) (@INC contains: . &#47;etc&#47;perl &#47;usr&#47;local&#47;lib&#47;perl&#47;5.18.2 &#47;usr&#47;local&#47;share&#47;perl&#47;5.18.2 &#47;usr&#47;lib&#47;perl5 &#47;usr&#47;share&#47;perl5 &#47;usr&#47;lib&#47;perl&#47;5.18 &#47;usr&#47;share&#47;perl&#47;5.18 &#47;usr&#47;local&#47;lib&#47;site_perl) at &#47;usr&#47;local&#47;nagios&#47;libexec&#47;check_file_age line 30. </code>"}, {"owner": {"reputation": 139, "user_id": 4552379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvAoI.jpg?s=128&g=1", "display_name": "Johnny Rollerfeet", "link": "https://stackoverflow.com/users/4552379/johnny-rollerfeet"}, "edited": false, "score": 1, "creation_date": 1441903387, "post_id": 32489295, "comment_id": 52873835, "body": "I&#39;ll mark this as solved, but the fix I found (sort of) is from <a href=\"http://myfreshthoughts.blogspot.com/2008/09/nagios-check-fails-cant-locate-utilspm.html\" rel=\"nofollow noreferrer\">myfreshthoughts.blogspot.com/2008/09/&hellip;</a>. I changed <code>use lib &quot;.&quot;;</code> to <code>use lib &quot;&#47;usr&#47;local&#47;nagios&#47;libexec&quot;;</code> in <code>check_file_age</code>."}, {"owner": {"reputation": 139, "user_id": 4552379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvAoI.jpg?s=128&g=1", "display_name": "Johnny Rollerfeet", "link": "https://stackoverflow.com/users/4552379/johnny-rollerfeet"}, "edited": false, "score": 0, "creation_date": 1441903397, "post_id": 32489295, "comment_id": 52873841, "body": "Thank you for your help!"}, {"owner": {"reputation": 5436, "user_id": 2744166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b079827a014bd14f42b163afd4bb1e91?s=128&d=identicon&r=PG", "display_name": "Joe Young", "link": "https://stackoverflow.com/users/2744166/joe-young"}, "edited": false, "score": 0, "creation_date": 1441903412, "post_id": 32489295, "comment_id": 52873851, "body": "This won&#39;t fix the underlying issue, but we can work around it with a hack.  Edit <code>&#47;usr&#47;local&#47;nagios&#47;libexec&#47;check_file_age</code>.  Around line 30, change the <code>use lib</code> line to look like <code>use lib &quot;&#47;usr&#47;local&#47;nagios&#47;libexec&quot;</code>. Save the file. Restart the nagios service."}, {"owner": {"reputation": 5436, "user_id": 2744166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b079827a014bd14f42b163afd4bb1e91?s=128&d=identicon&r=PG", "display_name": "Joe Young", "link": "https://stackoverflow.com/users/2744166/joe-young"}, "edited": false, "score": 0, "creation_date": 1441903432, "post_id": 32489295, "comment_id": 52873860, "body": "Ahh you beat me by 30 seconds ;)"}], "tags": [], "owner": {"reputation": 5436, "user_id": 2744166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b079827a014bd14f42b163afd4bb1e91?s=128&d=identicon&r=PG", "display_name": "Joe Young", "link": "https://stackoverflow.com/users/2744166/joe-young"}, "is_accepted": true, "score": 5, "last_activity_date": 1441836394, "last_edit_date": 1441836394, "creation_date": 1441833397, "answer_id": 32489295, "question_id": 32487965, "link": "https://stackoverflow.com/questions/32487965/how-to-for-adding-a-plugin-to-nagios/32489295#32489295", "title": "&quot;How To&quot; for adding a plugin to Nagios", "body": "<h1>Issue 1:</h1>\n\n<p>The <code>check_file_age</code> plugin is a perl script that requires another perl module called <code>utils.pm</code>.  Are they both in the same folder?  If not, find the location of <code>utils.pm</code>:</p>\n\n<pre><code>find / -name \"utils.pm\" -type f\n</code></pre>\n\n<p>You will need to add the path of the folder containing <code>utils.pm</code> to your <code>$PERL5LIB</code> environment variable for your nagios user or whatever user is running the nagios daemon service.</p>\n\n<p>Take the path to the folder of utils.pm and add it to a shell script that we'll place in the <code>/etc/profile.d/</code> folder.  For example, if the results of your find command were <code>/usr/local/nagios/libexec/utils.pm</code> then execute something like this:</p>\n\n<pre><code>echo \"export PERL5LIB=$PERL5LIB:/usr/local/nagios/libexec\" &gt;&gt; /etc/profile.d/nagiosplugins.sh\nchmod a+x /etc/profile.d/nagiosplugins.sh\nsource /etc/profile\n</code></pre>\n\n<p>With any luck, that should take care of the <code>Can't locate utils.pm in @INC</code> error.</p>\n\n<h1>Issue 2:</h1>\n\n<p>You need to fix your service definition to pass in the expected arguments to <code>check_file_age</code>.  Arguments passed into the <code>check_command</code> field of the service definition follow the command name and are delimited by <code>!</code> exclamation points.  Modify the <code>File age</code> service definition in <code>/usr/local/nagios/etc/objects/localhost.cfg</code> to look something like this:</p>\n\n<pre><code>define service {\n    use             generic-service     ; Name of service template to use\n    host_name           localhost\n    service_description     File Age\n    check_command           check_file_age!3600!5400!200!100!somefile.txt\n    notifications_enabled       1\n}\n</code></pre>\n\n<p>Ok, now time to verify your configuration files don't have any errors in them:</p>\n\n<pre><code>nagios -v /usr/local/nagios/etc/nagios.cfg\n</code></pre>\n\n<p><em>(...or whatever is the correct path to your nagios.cfg file)</em></p>\n\n<p>If there are no errors, restart your nagios service:</p>\n\n<pre><code>service nagios restart\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 869, "user_id": 4275078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M9IUU.png?s=128&g=1", "display_name": "Benibr", "link": "https://stackoverflow.com/users/4275078/benibr"}, "is_accepted": false, "score": 1, "last_activity_date": 1510763780, "creation_date": 1510763780, "answer_id": 47312729, "question_id": 32487965, "link": "https://stackoverflow.com/questions/32487965/how-to-for-adding-a-plugin-to-nagios/47312729#47312729", "title": "&quot;How To&quot; for adding a plugin to Nagios", "body": "<p>On CentOS 6.9 I could fix the problem by reinstalling the rpm package which provides the file:</p>\n\n<p><code>yum reinstall /usr/lib64/nagios/plugins/utils.pm</code></p>\n"}, {"tags": [], "owner": {"reputation": 1752, "user_id": 1760335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83fa9f50c53a4b905db585e3fe2d26e2?s=128&d=identicon&r=PG", "display_name": "Bert", "link": "https://stackoverflow.com/users/1760335/bert"}, "is_accepted": false, "score": 1, "last_activity_date": 1542028786, "creation_date": 1542028786, "answer_id": 53263060, "question_id": 32487965, "link": "https://stackoverflow.com/questions/32487965/how-to-for-adding-a-plugin-to-nagios/53263060#53263060", "title": "&quot;How To&quot; for adding a plugin to Nagios", "body": "<p>You can find the first part of the answer here in your logs:</p>\n\n<pre><code>(No output on stdout) stderr: Can't locate utils.pm in @INC (you may need to install the utils module) (@INC contains: . /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/site_perl) at /usr/local/nagios/libexec/check_file_age line 30. \n</code></pre>\n\n<p>You need to make sure the default user macro <code>$USER1</code> is correct, it contains the path to your plugins. Per the Nagios documentation:</p>\n\n<h3>Defining A User Macro</h3>\n\n<p>User macros can be defined in <code>resource.cfg</code>, a configuration file that can be found at\n<code>/usr/local/nagios/etc/</code>. By default, your <code>resource.cfg</code> should contain:</p>\n\n<pre><code># Path to the plugins\n$USER1$=/usr/local/nagios/libexec\n</code></pre>\n\n<p>On CentOS 7 I had to change the path to <code>/usr/libexec/nagios</code> and the same error went away.</p>\n"}], "owner": {"reputation": 139, "user_id": 4552379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvAoI.jpg?s=128&g=1", "display_name": "Johnny Rollerfeet", "link": "https://stackoverflow.com/users/4552379/johnny-rollerfeet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16295, "favorite_count": 1, "accepted_answer_id": 32489295, "answer_count": 3, "score": 1, "last_activity_date": 1542028786, "creation_date": 1441827959, "question_id": 32487965, "link": "https://stackoverflow.com/questions/32487965/how-to-for-adding-a-plugin-to-nagios", "title": "&quot;How To&quot; for adding a plugin to Nagios", "body": "<p>Is there a \"how to\" for adding and configuring a plugin to Nagios? (for Ubuntu 14.04 specifically, but any Linux OS would be helpful.)</p>\n\n<p>I've been able to cobble this much so far:</p>\n\n<ol>\n<li>Place the script in /usr/local/nagios/libexec/. (In my case there was already a script I wanted to use: \"check_file_age\".)</li>\n<li>Edit /usr/local/nagios/etc/objects/commands.cfg to add the plugin.</li>\n</ol>\n\n<pre>define command{  \n    command_name check_file_age  \n    command_line $USER1$/check_file_age -w $ARG1$ -c $ARG2$ -W $ARG3$ -C $ARG4$ -f $ARG5$ \n}</pre>\n\n<ol start=\"3\">\n<li>Define the plugin in /usr/local/nagios/etc/objects/localhost.cfg.</li>\n</ol>\n\n<pre>define service{\n    use             generic-service     ; Name of service template to use\n    host_name           localhost\n    service_description     File Age\n    check_command           check_file_age\n    notifications_enabled       1\n}</pre>\n\n<p>Now I can see the plugin under \"Configuration -> Object Type: Command\" and I can see it listed in \"Configuration -> Object Type: Services\".</p>\n\n<p>The plugin runs successfully from the command line:</p>\n\n<pre>user@host:/usr/local/nagios/libexec$ perl ./check_file_age -w 3600 -c 5400 -W -1 -C -1 -f somefile.txt \nFILE_AGE OK: somefile.txt is 2932 seconds old and 59 bytes | age=2932s;3600;5400 size=59B;-1;-1;0</pre>\n\n<p>Then at this point I'm stumped. I can see this error in Services:</p>\n\n<pre>File Age\nCRITICAL    \n09-09-2015 14:24:21 \n0d 0h 32m 1s    \n3/3 \n(No output on stdout) stderr: Can't locate utils.pm in @INC (you may need to install the utils module) (@INC contains: . /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/site_perl) at /usr/local/nagios/libexec/check_file_age line 30. \nHTTP\nNotifications for this service have been disabled\nOK  09-09-2015 14:30:53 0d 4h 3m 30s    1/4 </pre>\n\n<p>How do I specify what arguments to pass? How do I correct the error? What's next? (Is there a single location that describes how to add a plugin that escaped my Google-fu?)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441822041, "post_id": 32485140, "comment_id": 52833634, "body": "You should <b><i>never</i></b> use the built-in variable <code>@_</code> except for its proper purpose, which is to receive that parameters passed to a subroutine, or possibly to modify them if the are outward parameters"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441829646, "post_id": 32485429, "comment_id": 52837329, "body": "All that you say is true, but your solution isn&#39;t a <b><i>solution</i></b>!"}, {"owner": {"reputation": 984, "user_id": 1107958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Zy3c.jpg?s=128&g=1", "display_name": "swornabsent", "link": "https://stackoverflow.com/users/1107958/swornabsent"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441831140, "post_id": 32485429, "comment_id": 52838043, "body": "Correct, it&#39;s an answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441842111, "post_id": 32485429, "comment_id": 52842120, "body": "You&#39;ve explained why the OP has the observed behaviour, but have done nothing to help him to resolve it"}, {"owner": {"reputation": 984, "user_id": 1107958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Zy3c.jpg?s=128&g=1", "display_name": "swornabsent", "link": "https://stackoverflow.com/users/1107958/swornabsent"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441846676, "post_id": 32485429, "comment_id": 52843176, "body": "Still correct, I&#39;m not refuting you. Rather, I am under the impression that offering an explanatory answer that will lead the OP to correcting their own problem is not only sufficient but desirable. Link me to where on SO it says answers must necessarily be spelled out solutions and I will concede your point, and modify my approach in the future. edit: i.e., clearly pointing out the problem is in fact doing something to help them resolve it."}], "tags": [], "owner": {"reputation": 984, "user_id": 1107958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Zy3c.jpg?s=128&g=1", "display_name": "swornabsent", "link": "https://stackoverflow.com/users/1107958/swornabsent"}, "is_accepted": false, "score": 1, "last_activity_date": 1441818065, "creation_date": 1441818065, "answer_id": 32485429, "question_id": 32485140, "link": "https://stackoverflow.com/questions/32485140/delete-the-row-based-on-order-column-using-perl/32485429#32485429", "title": "Delete the row based on order column using perl", "body": "<p>1019 is being skipped because even though the 1015 row will be skipped in the second loop, the 1019 key was already defined for <code>$dic</code> in your first loop.</p>\n\n<pre><code>map{$dic-&gt;{$_}++} @_;\n</code></pre>\n\n<p>On the second iteration of the first loop (the 1015 row), that line is setting keys 1016, 1017, 1018, and 1019 (to 1). Then in your second loop:</p>\n\n<pre><code>print $_.\"\\n\" unless defined $dic-&gt;{$_[0]};\n</code></pre>\n\n<p>your <code>unless</code> skips 1015, but doesn't do anything to remove the keys that the 1015 row defined with it, so it continues to remove the 1019 row.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1441818467, "last_edit_date": 1441818467, "creation_date": 1441818160, "answer_id": 32485453, "question_id": 32485140, "link": "https://stackoverflow.com/questions/32485140/delete-the-row-based-on-order-column-using-perl/32485453#32485453", "title": "Delete the row based on order column using perl", "body": "<p>Looks like a misuse of <code>map</code> to me - if you're not using the result of <code>map</code> then you should probably be using a <code>for</code> loop instead.</p>\n\n<p>But that aside - what you're doing here is creating a list of every symbol in column 1,2,3,4 and excluding a line if it exists? </p>\n\n<p>Because your sample data includes 1019 on the previous line, that's why it's being excluded. </p>\n\n<p>Your <code>$dic</code> looks like:</p>\n\n<pre><code>$VAR1 = {\n          '1016' =&gt; 2,\n          '1021' =&gt; 1,\n          '1022' =&gt; 1,\n          '1028' =&gt; 1,\n          '1034' =&gt; 1,\n          'num+3' =&gt; 1,\n          '1017' =&gt; 2,\n          'num+1' =&gt; 1,\n          '1015' =&gt; 1,\n          '1020' =&gt; 1,\n          'num+2' =&gt; 1,\n          '1023' =&gt; 1,\n          '1026' =&gt; 1,\n          '1019' =&gt; 1,\n          '1031' =&gt; 1,\n          '1027' =&gt; 1,\n          '1032' =&gt; 1,\n          '1033' =&gt; 1,\n          '1018' =&gt; 2,\n          '1029' =&gt; 1,\n          'num+4' =&gt; 1\n        };\n</code></pre>\n\n<p>As 1019 is in it, the 1019 line gets skipped. </p>\n\n<p>Also:</p>\n\n<ul>\n<li><code>Data::Dumper</code> is useful for seeing what's in a data structure. </li>\n<li>don't use <code>map</code> like that. Use a  <code>for</code> loop. </li>\n</ul>\n\n<p>Something like:</p>\n\n<pre><code>while(&lt;IN&gt;) {\n    chomp;\n    $dic-&gt;{$_}++ for split /,/;\n}\n</code></pre>\n\n<ul>\n<li><p>don't use <code>@_</code> like that - it's a special variable, with a specific meaning. Call it something else. </p></li>\n<li><p>current good practice is to use a lexical filehandle with <code>open</code>. e.g. <code>open ( my $in, '&lt;', $filename ) or die $!;</code> because of keeping the scope down. </p></li>\n<li><p>if you just want to check the first column, you can assign like this: <code>my ( $col, @rest ) = split /,/;</code> and just test <code>$col</code>. Or you can skip the <code>chomp</code> entirely and just do:</p>\n\n<pre><code>print unless defined $dic-&gt;{(split /,/)[0]};\n</code></pre></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 4363148, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100000574226765/picture?type=large", "display_name": "Imii Iik", "link": "https://stackoverflow.com/users/4363148/imii-iik"}, "edited": false, "score": 0, "creation_date": 1441820346, "post_id": 32485564, "comment_id": 52832804, "body": "Please how can i sort the first column befor test?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 165, "user_id": 4363148, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100000574226765/picture?type=large", "display_name": "Imii Iik", "link": "https://stackoverflow.com/users/4363148/imii-iik"}, "edited": false, "score": 0, "creation_date": 1441831533, "post_id": 32485564, "comment_id": 52838230, "body": "@ImiiIik: Are you on linux? <code>sort -nt, -k1,1</code> might be enough."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1441818932, "last_edit_date": 1441818932, "creation_date": 1441818601, "answer_id": 32485564, "question_id": 32485140, "link": "https://stackoverflow.com/questions/32485140/delete-the-row-based-on-order-column-using-perl/32485564#32485564", "title": "Delete the row based on order column using perl", "body": "<p>You have to dynamically change your hash when you skip a line:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %dic;\nmy $pos = tell DATA; # Remember where the data start.\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @ar = split /,/;\n    # Fix SO syntax highlighting error: /\n    shift @ar;\n    $dic{$_}++ for @ar;\n}\n\nseek DATA, $pos, 0; # Back to the data start.\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @ar = split /,/;\n    if ($dic{ $ar[0] }) {\n        delete $dic{ $_ } for @ar[1 .. $#ar]; # &lt;-- this was missing!\n    } else {\n        print \"$_\\n\";\n    }\n}\n\n__DATA__\n1014,1015,1016,1017,1018\n1015,1016,1017,1018,1019\n1019,1020,1021,1022,1023\n1025,1026,1027,1028,1029\n1030,1031,1032,1033,1034\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 984, "user_id": 1107958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Zy3c.jpg?s=128&g=1", "display_name": "swornabsent", "link": "https://stackoverflow.com/users/1107958/swornabsent"}, "edited": false, "score": 0, "creation_date": 1441847200, "post_id": 32486657, "comment_id": 52843286, "body": "You have provided the OP with working code, but have done nothing to help them understand what was wrong with theirs or why yours works vOv"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 984, "user_id": 1107958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Zy3c.jpg?s=128&g=1", "display_name": "swornabsent", "link": "https://stackoverflow.com/users/1107958/swornabsent"}, "edited": false, "score": 0, "creation_date": 1441847958, "post_id": 32486657, "comment_id": 52843465, "body": "@swornabsent: Yes, I&#39;m less than happy with this myself. But I don&#39;t enjoy combat in the comments so I will leave you to imagine my rejoinders yourself"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1441822820, "creation_date": 1441822820, "answer_id": 32486657, "question_id": 32485140, "link": "https://stackoverflow.com/questions/32485140/delete-the-row-based-on-order-column-using-perl/32486657#32486657", "title": "Delete the row based on order column using perl", "body": "<p>If I understand you correctly then this is all you need</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %seen;\n\nwhile ( &lt;DATA&gt; ) {\n    chomp;\n    my @fields = split /,/;\n    if ( not $seen{ shift @fields } ) {\n        $seen{$_} = 1 for @fields;\n        print \"$_\\n\";\n    }\n}\n\n__DATA__\n1014,1015,1016,1017,1018\n1015,1016,1017,1018,1019\n1019,1020,1021,1022,1023\n1025,1026,1027,1028,1029\n1030,1031,1032,1033,1034\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>1014,1015,1016,1017,1018\n1019,1020,1021,1022,1023\n1025,1026,1027,1028,1029\n1030,1031,1032,1033,1034\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 4363148, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100000574226765/picture?type=large", "display_name": "Imii Iik", "link": "https://stackoverflow.com/users/4363148/imii-iik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 32485564, "answer_count": 4, "score": 1, "last_activity_date": 1441822820, "creation_date": 1441817062, "last_edit_date": 1441819021, "question_id": 32485140, "link": "https://stackoverflow.com/questions/32485140/delete-the-row-based-on-order-column-using-perl", "title": "Delete the row based on order column using perl", "body": "<p>I have a table separated by ',' I want to order and test if the value from num+1 exists in num column, or the value from num+2 exists in num, or the value from num+3 field exists in num, or the value from num+4 field exists in num for each row then delete the row if true.</p>\n\n<p>my script is:</p>\n\n<pre><code>#!\"C:\\perl\\bin\\perl.exe\"\n\nuse strict;\nuse warnings;\n\nmy $file_name = shift @ARGV;\n\ndie \"Usage ./$1 &lt;file_to_be_processed&gt; &gt; &lt;output_file&gt;\" unless defined $file_name;\n\nmy $dic; # This is going to hold all values to be excluded.\n\nopen IN, \"&lt;\", $file_name or die \"Could not open $file_name $!\\n\";\n\nwhile(&lt;IN&gt;) {\n        chomp;\n        @_ = split /,/;\n        shift @_;\n        map{$dic-&gt;{$_}++} @_;\n}\n\nclose IN;\n\nopen IN, \"&lt;\", $file_name or die \"Could not open $file_name $!\\n\";\n\nwhile(&lt;IN&gt;) {\n        chomp;\n        @_ = split /,/;\n        print $_.\"\\n\" unless defined $dic-&gt;{$_[0]};\n}\n\nclose IN;\n</code></pre>\n\n<p>there is my table:</p>\n\n<pre><code>num,num+1,num+2,num+3,num+4\n1014,1015,1016,1017,1018\n1015,1016,1017,1018,1019\n1019,1020,1021,1022,1023\n1025,1026,1027,1028,1029\n1030,1031,1032,1033,1034\n</code></pre>\n\n<p>there is expected result:</p>\n\n<pre><code>num,num+1,num+2,num+3,num+4\n1014,1015,1016,1017,1018\n1019,1020,1021,1022,1023\n1025,1026,1027,1028,1029\n1030,1031,1032,1033,1034\n</code></pre>\n\n<p>My script works but excludes num 1019 from result, there is output of actual script:</p>\n\n<pre><code>num,num+1,num+2,num+3,num+4\n1014,1015,1016,1017,1018\n1025,1026,1027,1028,1029\n1030,1031,1032,1033,1034\n</code></pre>\n"}, {"tags": ["regex", "bash", "perl", "sed"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1441815493, "post_id": 32483828, "comment_id": 52830234, "body": "That <code>$1</code> file name looks a bit suspicious. Is this inline code somewhere other than the shell?"}], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1441813792, "creation_date": 1441813792, "answer_id": 32484094, "question_id": 32483828, "link": "https://stackoverflow.com/questions/32483828/replace-all-occurrences-of-a-character-in-a-line-after-match/32484094#32484094", "title": "Replace all occurrences of a character in a line, after match", "body": "<p>This awk should work for this:</p>\n\n<pre><code>awk 'p=index($0, \" STATE \") {s=substr($0, p+7); gsub(/ /, \"_\", s); $5=s; NF=5} 1' file\n12 0.185861000 4294967296 STATE A_variable_name\n12 0.187326000 4294967296 STATE Another_variable_name\n12 0.187629000 4294967296 STATE Another_variable_name\n12 0.187823000 4294967296 STATE A_variable_name\n</code></pre>\n\n<p><code>$5=s</code> is done to assign changed values back to <code>$0</code> and <code>NF=5</code> is done to remove old values.</p>\n"}, {"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1441817691, "post_id": 32484110, "comment_id": 52831477, "body": "Nice idea, take care to define the output field separator: <code>awk -F&quot;STATE &quot; -vOFS=&quot;STATE &quot; &#39;{gsub(&quot; &quot;,&quot;_&quot;,$2)}1&#39;</code>"}], "tags": [], "owner": {"reputation": 389, "user_id": 5139753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7720db27d50c0941a86ea5ece0c6c807?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh Kharvi", "link": "https://stackoverflow.com/users/5139753/mahesh-kharvi"}, "is_accepted": false, "score": 1, "last_activity_date": 1441814283, "last_edit_date": 1441814283, "creation_date": 1441813850, "answer_id": 32484110, "question_id": 32483828, "link": "https://stackoverflow.com/questions/32483828/replace-all-occurrences-of-a-character-in-a-line-after-match/32484110#32484110", "title": "Replace all occurrences of a character in a line, after match", "body": "<p>With GNU AWK</p>\n\n<pre><code>awk -F\"STATE \" '{gsub(\" \",\"_\",$2);print $1\"STATE \"$2}' &lt;file&gt;\n</code></pre>\n\n<p>Split the input with \"STATE \" as FS and replace space from $2. You can use \"[[:space:]]\" if you have tabs and space</p>\n\n<p>You can use</p>\n\n<pre><code>awk -F\"STATE \" '{gsub(\" \",\"_\",$2);print}' &lt;file&gt;\n</code></pre>\n\n<p>But this introduces additional one space after STATE</p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 2, "last_activity_date": 1441821782, "last_edit_date": 1441821782, "creation_date": 1441815264, "answer_id": 32484566, "question_id": 32483828, "link": "https://stackoverflow.com/questions/32483828/replace-all-occurrences-of-a-character-in-a-line-after-match/32484566#32484566", "title": "Replace all occurrences of a character in a line, after match", "body": "<p>with sed:</p>\n\n<pre><code>sed ':a;s/\\(STATE [^ ]*\\) /\\1_/;ta;' file\n</code></pre>\n\n<p>details:</p>\n\n<pre><code>:a                       # define a label \"a\"\ns/\\(STATE [^ ]*\\) /\\1_/  # replace the first space after \"STATE \"\nta                       # go to label \"a\" if something is replaced\n</code></pre>\n\n<p>One way with perl: (that uses the <code>\\G</code> anchor to ensure the contiguity) </p>\n\n<pre><code>perl -pi -e 's/(?:\\G(?!\\A)|STATE\\h)\\S*\\K\\h/_/g'\n</code></pre>\n\n<p>An other way with perl: (whitespaces are replaced only in group 1)</p>\n\n<pre><code>perl -pi -e 's/STATE\\h\\K(.+)/$1=~s#\\h#_#gr/e'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1441816476, "last_edit_date": 1441816476, "creation_date": 1441815575, "answer_id": 32484668, "question_id": 32483828, "link": "https://stackoverflow.com/questions/32483828/replace-all-occurrences-of-a-character-in-a-line-after-match/32484668#32484668", "title": "Replace all occurrences of a character in a line, after match", "body": "<p>With perl, I'd probably tackle it like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n#read a line\nwhile ( my $line = &lt;DATA&gt; ) {\n    #split the first 5 fields into @stuff\n    my @stuff = split( ' ', $line, 5 );\n    #transform the whitespace in each field to _\n    print join( \" \", map { s/ /_/g; $_} @stuff );\n}\n\n__DATA__\n   12 0.185861000 4294967296 STATE A variable name\n   12 0.187326000 4294967296 STATE Another variable name\n   12 0.187629000 4294967296 STATE Another variable name\n   12 0.187823000 4294967296 STATE A variable name\n</code></pre>\n\n<p>Which produces:</p>\n\n<pre><code>12 0.185861000 4294967296 STATE A_variable_name\n12 0.187326000 4294967296 STATE Another_variable_name\n12 0.187629000 4294967296 STATE Another_variable_name\n12 0.187823000 4294967296 STATE A_variable_name\n</code></pre>\n\n<p>This will strip leading whitespace. You can retain it if you split with: <code>split ( / /, $line, 8 )</code> instead. (you need the <code>8</code> because the leading whitespaces each count as a field in their own right). </p>\n\n<p>This could one-liner as:</p>\n\n<pre><code>perl -ne 'print join( \" \", map {s/ /_/g; $_} split( ' ', $_, 5 ))' yourfilename\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1441816188, "creation_date": 1441816188, "answer_id": 32484865, "question_id": 32483828, "link": "https://stackoverflow.com/questions/32483828/replace-all-occurrences-of-a-character-in-a-line-after-match/32484865#32484865", "title": "Replace all occurrences of a character in a line, after match", "body": "<p>Perl one-liner:</p>\n\n<pre><code>perl -nE '@a = /(.*?STATE\\s+)(.*)$/; $a[1] =~ s/\\s+/_/g; say @a' in.txt\n\n12 0.185861000 4294967296 STATE A_variable_name\n12 0.187326000 4294967296 STATE Another_variable_name\n12 0.187629000 4294967296 STATE Another_variable_name\n12 0.187823000 4294967296 STATE A_variable_name\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5279129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc7034fdf4fbf088535b5a4ab267552f?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5279129/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "accepted_answer_id": 32484566, "answer_count": 5, "score": 0, "last_activity_date": 1441835699, "creation_date": 1441813072, "last_edit_date": 1441835699, "question_id": 32483828, "link": "https://stackoverflow.com/questions/32483828/replace-all-occurrences-of-a-character-in-a-line-after-match", "title": "Replace all occurrences of a character in a line, after match", "body": "<p>I have various lines like this:</p>\n\n<pre><code>   12 0.185861000 4294967296 STATE A variable name\n   12 0.187326000 4294967296 STATE Another variable name\n   12 0.187629000 4294967296 STATE Another variable name\n   12 0.187823000 4294967296 STATE A variable name\n</code></pre>\n\n<p>Which I need to transform into</p>\n\n<pre><code>   12 0.185861000 4294967296 STATE A_variable_name\n   12 0.187326000 4294967296 STATE Another_variable_name\n   12 0.187629000 4294967296 STATE Another_variable_name\n   12 0.187823000 4294967296 STATE A_variable_name\n</code></pre>\n\n<p>However, \"A variable name\" appears in lines not containing \"STATE\", and the whitespaces should not be removed there. And obviously there are whitespaces before \"A variable name\" in lines containing \"STATE\", which shouldn't be removed either.</p>\n\n<p>So I need to replace all white spaces in all lines after \"STATE\". I thought of something like:</p>\n\n<pre><code>perl -pi -e \"s/\\h/_/g if /^.+STATE\\h/\" $1\n</code></pre>\n\n<p>But that replaces the whitespaces before \"STATE\". And of course something like</p>\n\n<pre><code>perl -pi -e \"s/^(.+STATE\\h)(.*)\\h/\\1\\2_/g\" $1\n</code></pre>\n\n<p>Replaces only the first white space after \"STATE \". Any hints? I couldn't find anything, probably because the search queries for something like this are kind of vague.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1441813232, "post_id": 32483723, "comment_id": 52828586, "body": "Please show your expected input and output."}, {"owner": {"reputation": 236, "user_id": 552647, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/78a50094ca87aaed01e076f4c8808ed8?s=128&d=identicon&r=PG", "display_name": "msh210", "link": "https://stackoverflow.com/users/552647/msh210"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1441813699, "post_id": 32483723, "comment_id": 52828917, "body": "@AruneshSingh, it&#39;s in the introductory sentence. (But if you need an example, <a href=\"http://stackoverflow.com/a/32483916\">stackoverflow.com/a/32483916</a> has a good one.)"}], "answers": [{"comments": [{"owner": {"reputation": 236, "user_id": 552647, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/78a50094ca87aaed01e076f4c8808ed8?s=128&d=identicon&r=PG", "display_name": "msh210", "link": "https://stackoverflow.com/users/552647/msh210"}, "edited": false, "score": 0, "creation_date": 1441813448, "post_id": 32483916, "comment_id": 52828734, "body": "Oh, thank you! (And -- of course. I should have checked that module.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441814893, "post_id": 32483916, "comment_id": 52829795, "body": "@ ThisSuitIsBlackNot, I deleted my comment (before yours was posted) because there was indication that it was wrong, and Benchmark since performed showed it to be wrong. List::MoreUtils and List::MoreUtils::XS is the same code."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 4, "last_activity_date": 1441813603, "last_edit_date": 1441813603, "creation_date": 1441813308, "answer_id": 32483916, "question_id": 32483723, "link": "https://stackoverflow.com/questions/32483723/shift-values-that-satisfy-some-rule/32483916#32483916", "title": "Shift values that satisfy some rule", "body": "<p>You can use <code>after_incl</code> from <a href=\"https://metacpan.org/pod/List::MoreUtils#after_incl-BLOCK-LIST\" rel=\"nofollow\">List::MoreUtils</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\nuse List::MoreUtils qw(after_incl);\n\nmy @numbers = (-2, -17, 2, -1, 5, 0);\n\nmy @starts_positive = after_incl { $_ &gt; 0 } @numbers;\n\ndd \\@starts_positive;\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre><code>[2, -1, 5, 0]\n</code></pre>\n\n<p><code>after_incl</code> takes a list, applies a block to it until the block returns true, and returns a list of values from that point to the end of the original list.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1441814770, "post_id": 32484000, "comment_id": 52829711, "body": "Thanks, And if you add TSIBN&#39;s solution, you&#39;ll find it faster than your first, but slower than your second."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1441816161, "post_id": 32484000, "comment_id": 52830647, "body": "@ikegami When I add <code>sub lmu { my @ary = @_; @ary = after_incl { $_ &gt; 0 } @ary; return @ary; }</code> to choroba&#39;s benchmark, List::MoreUtils is 46% faster than the <code>splice</code> solution and 53% faster than the <code>while</code> loop. Did I screw up the benchmark or is something else going on here?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1441816447, "post_id": 32484000, "comment_id": 52830806, "body": "@ThisSuitIsBlackNot: Weird. For me, it&#39;s 2 times slower than the old solution :-)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1441816788, "post_id": 32484000, "comment_id": 52830978, "body": "@choroba Very weird. Even when I use the pure Perl version, I get similar results (which in both cases is roughly 500% faster than the OP&#39;s original code). What version of Perl and List::MoreUtils are you using? I wonder if something was tuned significantly in one or the other."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1441816873, "post_id": 32484000, "comment_id": 52831034, "body": "Perl 5.22.0 on cygwin, Windows 7, L::MU 0.413."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1441820160, "post_id": 32484000, "comment_id": 52832712, "body": "@choroba Thanks. Using L::MU 0.413 and perl 5.22.0 on Linux, I get a ~330% improvement over <code>old</code>, a ~85% improvement over <code>new</code>, and a ~25% improvement over <code>sp</code>. So it looks like L::MU isn&#39;t optimized for Windows, which confirms comments I&#39;ve gotten about the performance of other L::MU solutions. Thanks again."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441831381, "post_id": 32484000, "comment_id": 52838151, "body": "@ThisSuitIsBlackNot: 5.18.1 on Linux: <code>lmu</code> still wins, but the differences are smaller: 10, 30 250%."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1441814563, "last_edit_date": 1441814563, "creation_date": 1441813525, "answer_id": 32484000, "question_id": 32483723, "link": "https://stackoverflow.com/questions/32483723/shift-values-that-satisfy-some-rule/32484000#32484000", "title": "Shift values that satisfy some rule", "body": "<p>Without using any module, you can use</p>\n\n<pre><code>shift @ary while @ary &amp;&amp; $ary[0] &lt;= 0;\n</code></pre>\n\n<p>Not only is it much more readable; it's also much faster.</p>\n\n<p>Or, you can try change the array just once, which could speed up the process if the portion to delete is very long:</p>\n\n<pre><code>use List::Util qw{ first };\nmy $i = first { $ary[$_] &gt; 0 } 0 .. $#ary;\nsplice @ary, 0, $i;\n</code></pre>\n\n<p>For <code>-1000 .. 200</code>, I'm getting</p>\n\n<pre><code>         Rate    old    new splice\nold    2782/s     --   -62%   -69%\nnew    7371/s   165%     --   -17%\nsplice 8886/s   219%    21%     --\n</code></pre>\n\n<p>Here is the whole code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse List::Util qw{ first };\nuse Test::More;\nuse Benchmark qw{ cmpthese };\n\n\nsub old {\n    my @ary = @_;\n  shiftlbl:\n    my $shift = shift @ary;\n    if (0 &gt;= $shift) {goto shiftlbl;}\n    else {unshift @ary, $shift;}\n    return @ary\n}\n\n\nsub new {\n    my @ary = @_;\n    shift @ary while @ary &amp;&amp; $ary[0] &lt;= 0;\n    return @ary\n}\n\n\nsub sp {\n    my @ary = @_;\n    my $i = first { $ary[$_] &gt; 0 } 0 .. $#ary;\n    splice @ary, 0, $i;\n    return @ary\n}\n\nmy @ar = (-1000 .. 200);\n\nis_deeply([old(@ar)], [new(@ar)], 'old - new');\nis_deeply([old(@ar)], [sp(@ar)], 'old - splice');\n\ncmpthese(-5,\n         {\n          old    =&gt; sub { old(@ar) },\n          new    =&gt; sub { new(@ar) },\n          splice =&gt; sub { sp(@ar)  },\n\n          # Also tried with similar results:\n          # old    =&gt; 'old( -1000 .. 200)',\n          # new    =&gt; 'new( -1000 .. 200)',\n          # splice =&gt; 'sp(  -1000 .. 200)',\n\n         });\n\ndone_testing();\n</code></pre>\n"}], "owner": {"reputation": 236, "user_id": 552647, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/78a50094ca87aaed01e076f4c8808ed8?s=128&d=identicon&r=PG", "display_name": "msh210", "link": "https://stackoverflow.com/users/552647/msh210"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 32484000, "answer_count": 2, "score": 0, "last_activity_date": 1441815770, "creation_date": 1441812741, "last_edit_date": 1441815770, "question_id": 32483723, "link": "https://stackoverflow.com/questions/32483723/shift-values-that-satisfy-some-rule", "title": "Shift values that satisfy some rule", "body": "<p>I have an array of numbers and wish to remove all the nonpositive (that is, zero or negative) numbers at the start of the array. Here's what I have:</p>\n\n<pre><code>shiftlbl:\n$shift = shift @ary;\nif (0 &gt;= $shift) {goto shiftlbl;}\nelse {unshift @ary, $shift;}\n</code></pre>\n\n<p>Is there a way that works better (faster), or that works approximately equally well but is more Perlish or easier to read?</p>\n"}, {"tags": ["macos", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441812819, "post_id": 32483624, "comment_id": 52828301, "body": "Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for what makes a good question. Specifically - some sample date, an example of actual/desired output would help. Please bear in mind that we&#39;re up to speed with programming jargon, but not necessarily scientific jargon like &quot;ORF&quot;"}, {"owner": {"reputation": 11, "user_id": 5317696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f03aa61cf9dfc7a1c96864f4d6f3b53b?s=128&d=identicon&r=PG&f=1", "display_name": "ekeuter2017", "link": "https://stackoverflow.com/users/5317696/ekeuter2017"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441819323, "post_id": 32483624, "comment_id": 52832305, "body": "Thanks for the input- Hopefully I have made it a little more clear."}, {"owner": {"reputation": 96259, "user_id": 247696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/936383b387d6cc6d51279e429e5d7cd9?s=128&d=identicon&r=PG", "display_name": "Flimm", "link": "https://stackoverflow.com/users/247696/flimm"}, "edited": false, "score": 0, "creation_date": 1441893050, "post_id": 32483624, "comment_id": 52866781, "body": "This is hard for us to debug for you without the input file <code>chr03.txt</code> and expected output. In your troubleshooting, which line of code specifically is doing something unexpected?"}], "answers": [{"tags": [], "owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "is_accepted": false, "score": 0, "last_activity_date": 1441819809, "creation_date": 1441819809, "answer_id": 32485870, "question_id": 32483624, "link": "https://stackoverflow.com/questions/32483624/open-reading-frame-program-not-printing-amino-acid-sequences/32485870#32485870", "title": "Open Reading Frame program not printing Amino Acid Sequences", "body": "<p>First, this question would probably be more appropriate for a forum such as seqAnswers or BioStars.  That aside, writing your own 6-frame translation script is a complex task, especially if you want to account for IUPAC ambiguous nucleotides.  There are already lots of scripts and tools out there that do this.  Probably the easiest suggestion I can make is to use one of the existing tools.  Try mine, for example:</p>\n\n<p><a href=\"https://github.com/hepcat72/sixFrameTranslation/archive/master.zip\" rel=\"nofollow\">https://github.com/hepcat72/sixFrameTranslation/archive/master.zip</a></p>\n\n<p>My script wasn't public until just now.  I have opened it up so that you can use it.  Just run it to get a usage.</p>\n\n<p>Other than that, if you want to get your version running properly, the first thing you can do is change your she-bang to:</p>\n\n<pre><code>#!/usr/bin/perl -w\n</code></pre>\n\n<p>Note the <code>-w</code>.  Then, add this line to the top of your script:</p>\n\n<pre><code>use strict;\n</code></pre>\n\n<p>It will help you debug issues such as the missing dollar sign in one of your for loops:</p>\n\n<pre><code>for ($i =frame; $i&lt;=($DNA_length-3);$i += 3)\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>for ($i =$frame; $i&lt;=($DNA_length-3);$i += 3)\n</code></pre>\n\n<p>And BTW, it doesn't matter that you're running perl on your Mac.  It's just perl.  \"Mac perl\" was a project to create a perl environment back in the pre-OS-X days.</p>\n"}], "owner": {"reputation": 11, "user_id": 5317696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f03aa61cf9dfc7a1c96864f4d6f3b53b?s=128&d=identicon&r=PG&f=1", "display_name": "ekeuter2017", "link": "https://stackoverflow.com/users/5317696/ekeuter2017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1441819809, "creation_date": 1441812461, "last_edit_date": 1441819082, "question_id": 32483624, "link": "https://stackoverflow.com/questions/32483624/open-reading-frame-program-not-printing-amino-acid-sequences", "title": "Open Reading Frame program not printing Amino Acid Sequences", "body": "<p>I am working on a program that will be able to read a gene sequence and give me the Open Reading Frames (ORF) and then the protein sequence of each ORF. I have already gotten the code to work for finding the ORFs- but no amino acids will print. I am using Perl on my Mac.</p>\n\n<p>I would like to get the code to tell me the string of amino acids produced from the open reading frames.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n#ORF_Find.txt -&gt; finds long orfs in a DNA sequence\n\nopen(CHROM, \"chr03.txt\");   #Open file chr03.txt containing yeastchrom. 3\n$DNA = \"\";                          #start with empty DNA sequence\n$header = &lt;CHROM&gt;;                  #get header of sequence\n\n#Read line from file, join to end of $DNA, repeat until end of file\n\nwhile ($current_line = &lt;CHROM&gt;)\n{\n    chomp($current_line);           #remove newline from end of current_line\n    $DNA= $DNA . $current_line;\n}\n\n#length of DNA sequence\n$DNA_length = length($DNA);\n\n#flag for ORF finder\n$inORF=0;\n\n#number of ORFs found\n$numORFs = 0;\n\n#minimum length\n$minimum_codons =100;\n\n#search each reading frame\nfor ($frame =0; $frame&lt;3; $frame++)\n{\n    print \"\\nFinding ORFs in frame: +\" . ($frame + 1) . \"\\n\";\n\n    #search for sequence match and print position of match if found\n    for ($i =frame; $i&lt;=($DNA_length-3);$i += 3)\n    {\n        #get current codon from sequence\n        $codon= substr ($DNA, $i, 3);\n\n        #if not in orf search for ATG, else search for stop codon\n        if ($inORF == 0)\n        {\n            #if current codon is ATG, start ORF\n            if ($codon eq \"ATG\")\n            {\n                $inORF = 1;\n                $ORF_length = 1;\n                $ORF_start = $i;\n            }\n        }\n        elsif($inORF ==1)\n        {\n            #if current codon is a stop codon, end ORF\n            if ($codon eq \"TGA\" || $codon eq \"TAG\" || $codon eq \"TAA\")\n            {\n                #if ORF has at least min number of codons,print location\n                if ($ORF_length &gt;= $minimum_codons)\n                {\n                    print \"FOUND ORF AT POSITION $ORF_start,\";\n                    print \"length = $ORF_length\\n\";\n                    $numORFs++;\n                }\n\n                #reset ORF variables\n                $inORF = 0;\n                $ORF_length = 0;\n            }\n            else\n            {\n                #increase length of ORF by one codon\n                $ORF_length++;\n            }\n        }\n    }\n}\n\n#change T to U\n$DNA =~ s/T/U/g;\n\n#search each ORF\nfor ($i=$ORF_start; $i&lt;=($ORF_length-3); $i+=3)\n{\n    #get codon from each ORF\n    $aa_codon= substr($DNA, $i, 3);\n\n    #find amino acids\n    foreach ($aa_codon eq \"ATG\")\n    {\n        print (\"M\")     #METHIONINE\n    }\n    foreach ($aa_codon =~/UU[UC]/)\n    {\n        print (\"F\")     #PHENYLALANINE\n    }\n    foreach ($aa_codon =~/UU[AG]/ || $aa_codon=~/CU[UCAG]/)\n    {\n        print (\"L\");    #LEUCINE\n    }\n    foreach ($aa_codon =~/AU[UAC]/)\n    {\n        print (\"I\");    #ISOLEUCINE\n    }\n    foreach ($aa_codon =~/GU[UACG]/)\n    {\n        print (\"V\");    #VALINE\n    }\n    foreach ($aa_codon =~/UC[UCAG]/ || $aa_codon=~/AG[UC]/)\n    {\n        print (\"S\");    #SERINE\n    }\n    foreach ($aa_codon =~/CC[UCAG]/)\n    {\n        print (\"P\");    #PROLINE\n    }\n    foreach ($aa_codon =~/AC[UCAG]/)\n    {\n        print (\"T\");    #THREONINE\n    }\n    foreach ($aa_codon =~/GC[UCAG]/)\n    {\n        print (\"A\");    #ALANINE\n    }\n    foreach ($aa_codon =~/UA[UC]/)\n    {\n        print (\"Y\");    #TYROSINE\n    }\n    foreach ($aa_codon =~/CA[UC]/)\n    {\n        print (\"H\");    #HISTIDINE\n    }\n    foreach ($aa_codon =~/CA[AG]/)\n    {\n        print (\"G\");    #GLUTAMINE\n    }\n    foreach ($aa_codon =~/AA[UC]/)\n    {\n        print (\"N\");    #ASPARAGINE\n    }\n    foreach ($aa_codon =~/AA[AG]/)\n    {\n        print (\"K\");    #LYSINE\n    }\n    foreach ($aa_codon =~/GA[UC]/)\n    {\n        print (\"D\");    #ASPARTIC ACID\n    }\n    foreach ($aa_codon =~/GA[AG]/)\n    {\n        print (\"E\");    #GLUTAMIC ACID\n    }\n    foreach ($aa_codon =~/UG[UC]/)\n    {\n        print (\"C\");    #CYSTINE\n    }\n    foreach ($aa_codon eq \"UGG\")\n    {\n        print (\"W\");    #TRYPTOPHAN\n    }\n    foreach ($aa_codon =~/AG[AG]/ || $aa_codon =~/CG[UCAG]/)\n    {\n        print (\"R\");    #ARGININE\n    }\n    foreach ($aa_codon =~/GG[UCAG]/)\n    {\n        print (\"G\");    #GLYCINE\n    }\n    foreach ($aa_codon =~/UA[AG]/|| $aa_codon eq \"UGA\")\n    {\n        print (\"*\")     #STOP\n    }\n\n}\n#if no ORFS found, print message\nif ($numORFs ==0)\n{\n    print (\"NO ORFS FOUND\\n\");\n}\nelse\n{\n    print (\"\\n$num_ORFs ORFS WERE FOUND\\n\");\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "regex-negation", "character-class"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1441810220, "post_id": 32482705, "comment_id": 52826436, "body": "If the <code>^</code> isn&#39;t at the beginning of the character class, it means the literal character <code>^</code> <i>not</i> negate this character class."}, {"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1441810224, "post_id": 32482705, "comment_id": 52826438, "body": "You can&#39;t have positive and negative match in the same character class, a negative class start with ^ so [\\b^n] match any word boundary, ^ or n"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1441810382, "post_id": 32482705, "comment_id": 52826565, "body": "Note that <code>[\\b^n]</code> is a character class with three or four elements (<code>^</code> and <code>n</code> are easy; <code>\\b</code> might be &#39;backspace&#39; or backslash and <code>b</code>); it doesn&#39;t matter which since neither is what you&#39;re seeking.  Many metacharacters lose their special meaning inside a character class."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1441810392, "creation_date": 1441810392, "answer_id": 32482890, "question_id": 32482705, "link": "https://stackoverflow.com/questions/32482705/not-sure-why-this-perl-regex-doesnt-work-character-class/32482890#32482890", "title": "not sure why this Perl regex doesnt work (character class)", "body": "<p>Two problems with <code>[\\b^n]</code>:</p>\n\n<ul>\n<li><p><code>^</code> only negates the character class if it's the first character.</p></li>\n<li><p><code>[...]</code> matches a character, but you're trying to match something other than a character. In there, <code>\\b</code> there represents character <code>08</code> (backspace).</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "is_accepted": false, "score": 0, "last_activity_date": 1441899975, "creation_date": 1441899975, "answer_id": 32506337, "question_id": 32482705, "link": "https://stackoverflow.com/questions/32482705/not-sure-why-this-perl-regex-doesnt-work-character-class/32506337#32506337", "title": "not sure why this Perl regex doesnt work (character class)", "body": "<p>Thanks guys- never knew that ^ was different in position 1,  in a CC. </p>\n\n<p>I move it around outside of a CC (to tag a beginning) and it works as expected. I guess I see why they did it (so you can use ^ within [] to indicate caret not negation). But it seems like escaping it would have had the same effect. Sometimes I wonder what Larry was thinking but I don't see him anymore since our company cut OSCON travel...</p>\n\n<p>Much appreciated...</p>\n"}], "owner": {"reputation": 11, "user_id": 1967804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d25a87c92a45728aab7fac204f0ecee2?s=128&d=identicon&r=PG", "display_name": "user1967804", "link": "https://stackoverflow.com/users/1967804/user1967804"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1441899975, "creation_date": 1441809905, "last_edit_date": 1441810621, "question_id": 32482705, "link": "https://stackoverflow.com/questions/32482705/not-sure-why-this-perl-regex-doesnt-work-character-class", "title": "not sure why this Perl regex doesnt work (character class)", "body": "<p>I'm trying to add a char in front of another certain char unless its already preceded by the char I'm trying to inject. This works fine (insert an n before any Z unless it already has an n before it):</p>\n\n<pre><code>s/([^n])Z/$1nZ/g;\n</code></pre>\n\n<p>except on word boundaries preceded by nothing. So to fix that I tried:</p>\n\n<pre><code>s/([\\b^n])Z/$1nZ/g; # does not work\n\ns/(\\b|[^n])Z/$1nZ/g; # does work\n</code></pre>\n\n<p>Why didn't #1 work? Seems legit?</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441805813, "post_id": 32480973, "comment_id": 52822958, "body": "Does it do anything at all with command 1? Might the forward slashes in your path on Windows be a problem? Try using backslashes instead."}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441806342, "post_id": 32480973, "comment_id": 52823367, "body": "@simbabque I&#39;ve tried the forward slashes. I get nothing at all for both back and forward slashes versions. The cmd command doesn&#39;t terminate even."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441806437, "post_id": 32480973, "comment_id": 52823427, "body": "Maybe there are a lot of files and it takes really long?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1441806453, "post_id": 32480973, "comment_id": 52823442, "body": "What is that backslash-doublequote thing supposed to do? What&#39;s wrong with plain <code>@ARGV = map glob, @ARGV;</code>"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441807339, "post_id": 32480973, "comment_id": 52824098, "body": "@simbabque No, I test on three files only. Also <b>cmd command</b> works fine and quickly. But it creates backup files."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1441807871, "post_id": 32480973, "comment_id": 52824502, "body": "@choroba Glob patterns are split on whitespace: <code>perl -E&#39;say for map glob, @ARGV&#39; &quot;foo bar&quot;</code> This code handles paths containing whitespace."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441808741, "post_id": 32480973, "comment_id": 52825180, "body": "Also see <a href=\"http://stackoverflow.com/q/25248853/176646\">Perl on windows wont let me replace contents inside a file</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1441809672, "post_id": 32482280, "comment_id": 52826004, "body": "Might be worth adding - this is because of a limitation in Windows which doesn&#39;t exist in Unix - in Unix you can open a file, then delete/rename - and because it&#39;s open, the data still exists and is readable (until you close it). On Windows this doesn&#39;t apply - the file once opened cannot be overwritten/deleted until it&#39;s closed."}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": true, "score": 2, "last_activity_date": 1441808773, "creation_date": 1441808773, "answer_id": 32482280, "question_id": 32480973, "link": "https://stackoverflow.com/questions/32480973/disable-saving-backup-files-in-perl-edit-in-place-for-windows/32482280#32482280", "title": "Disable saving backup files in Perl edit-in-place (for Windows)", "body": "<p>In-place editing works slightly different on Windows.  On a *nix system you can leave off the ext from the -i switch and the backup file will be unlinked after the edit.  But, on Windows the ext is required and therefore the backup file is retained.  On Windows, you'll need to manually delete the backup(s) after the edit.</p>\n"}], "owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "closed_date": 1441812221, "accepted_answer_id": 32482280, "answer_count": 1, "score": 0, "last_activity_date": 1441808773, "creation_date": 1441805459, "last_edit_date": 1495539893, "question_id": 32480973, "link": "https://stackoverflow.com/questions/32480973/disable-saving-backup-files-in-perl-edit-in-place-for-windows", "closed_reason": "Duplicate", "title": "Disable saving backup files in Perl edit-in-place (for Windows)", "body": "<p>I've a perl file <strong>changes.pl</strong> already. I can run <em>changes.pl</em> via <strong>cmd command</strong>. I'm looking for disabling <em>saving backup files</em> option. I've tried <strong>cmd command 1</strong> and <strong>1a</strong>. But, I get <strong>result</strong> from running any of both.</p>\n\n<p><strong>changes.pl</strong></p>\n\n<pre><code>BEGIN {\n    @ARGV = map glob(\"\\\"$_\\\"\"), @ARGV;\n}\n\ns/a/b/g;\ns/c/d/g;\ns/e/f/g;\n</code></pre>\n\n<p><strong>cmd command</strong></p>\n\n<pre><code>perl -i.bak -p changes.pl My/Files/Directory/*.txt\n</code></pre>\n\n<p><strong>cmd command 1</strong></p>\n\n<pre><code>perl -i -p changes.pl My/Files/Directory/*.txt\n</code></pre>\n\n<p><strong>cmd command 1a</strong> (back-slash version of <em>cmd command 1</em>)</p>\n\n<pre><code>perl -i -p changes.pl My\\Files\\Directory\\*.txt\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<blockquote>\n  <p>I get nothing at all. The cmd command doesn't terminate even.</p>\n</blockquote>\n\n<p><strong>Note:</strong></p>\n\n<ul>\n<li>I'm using Perl on Windows.</li>\n<li>I've gotten <strong>changes.pl</strong> and <strong>cmd command</strong> from Borodin's <a href=\"https://stackoverflow.com/a/31774619/4123648\">answer</a> on a previous question of mine.</li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1441806643, "post_id": 32480878, "comment_id": 52823573, "body": "Those variable names would drive me to sniffing glue."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441807590, "post_id": 32480968, "comment_id": 52824284, "body": "I always think - call it by what it does. If you&#39;ve multiple with identical roles such that you&#39;re numbering them - that&#39;s where an array comes in. (and even then, I still think it&#39;s bad form to address them individually)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441807650, "post_id": 32480968, "comment_id": 52824325, "body": "I don&#39;t think you can deref <code>$path7</code> because it&#39;s a scalar assembled on the previous line. I&#39;m not really sure what&#39;s intended there though."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441811006, "post_id": 32480968, "comment_id": 52827066, "body": "@Sobrique you&#39;re right. I didn&#39;t read that part of the code to be honest. :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1441811052, "last_edit_date": 1441811052, "creation_date": 1441805437, "answer_id": 32480968, "question_id": 32480878, "link": "https://stackoverflow.com/questions/32480878/display-folders-using-perl-script/32480968#32480968", "title": "Display folders using perl script", "body": "<p>Your <code>$file3</code> is <a href=\"http://perldoc.perl.org/perlsub.html#Private-Variables-via-my()\" rel=\"nofollow\">lexical</a> to the <code>while</code> loop because you declared it with <code>my</code>. If you want it to be available outside, declare it in a larger scope, i.e. outside the <code>for</code>.</p>\n\n<pre><code>my $file3; # here!\nfor ( ...) {\n  # ...\n    # ...    \n    ######### no my below\n      while ( $file3 = readdir $dh3 ) {\n        # ...\n      }\n  # ...\n}\n</code></pre>\n\n<p>Remember that in Perl it's a good practice to declare variables in the smallest scope necessary.</p>\n\n<hr>\n\n<p>Also note that outside the <code>while</code> loop it will start out being <code>undef</code> and after being done processing the <code>while</code> for the first time (<code>$i</code> is 0, <code>$path</code> is the value of <code>$path7</code>), <code>$file3</code> will keep the value it had in the last round of the <code>while</code> loop until the next time the <code>while</code> loop starts. That is never, because your <code>foreach</code>'s list only has one element, as <code>$path7</code> is a scalar and not an array. In fact, there is no need for that <code>foreach</code> loop at all. Just use <code>$path7</code> directly.</p>\n\n<p>Confused with my explanation because of the variable names? Me too. Always pick meaningfull variable names, don't just append numbers. That makes it very hard to maintain. :)</p>\n"}], "owner": {"reputation": 23, "user_id": 3858383, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000809471624/picture?type=large", "display_name": "Popescu Emanuel", "link": "https://stackoverflow.com/users/3858383/popescu-emanuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441811052, "creation_date": 1441805186, "last_edit_date": 1441805341, "question_id": 32480878, "link": "https://stackoverflow.com/questions/32480878/display-folders-using-perl-script", "title": "Display folders using perl script", "body": "<p>I have the following code and my problem is that I cannot modify it in order to use the $file3 outside the for function</p>\n\n<pre><code>for ($i = 0; $i &lt; scalar(@temp); $i++){\n    $path7 = 'path_to'.@temp[$i];\n     foreach $path ($path7){\n      opendir my ($dh3), $path7 or die $!;\n              while ( my $file3 = readdir $dh3 ) {\n                    next if $file3 eq '.' or $file3 eq '..';\n                    next unless -d catfile($path7, $file3);\n                    print \"$file3\\n\";\n              }\n      closedir ($dh3);\n     }\n}\n</code></pre>\n"}, {"tags": ["json", "perl", "telegram", "telegram-bot"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441795186, "post_id": 32476268, "comment_id": 52815310, "body": "It&#39;s an anonymous array reference, not an anonymous array."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441795686, "post_id": 32476268, "comment_id": 52815670, "body": "@simbabque: OK, but as anonymous array isn&#39;t possible without a reference, I used the shorter term."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441795774, "post_id": 32476268, "comment_id": 52815725, "body": "That is kind of true as well."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1441792106, "creation_date": 1441792106, "answer_id": 32476268, "question_id": 32476005, "link": "https://stackoverflow.com/questions/32476005/perl-telegram-wwwtelegrambotapi-how-send-array-of-array/32476268#32476268", "title": "Perl, Telegram, WWW::Telegram::BotAPI how send array of array?", "body": "<p>In a hash, all the values must be scalars. You can't use a list as the value of <code>keyboard</code>. I'd try an anonymous array instead:</p>\n\n<pre><code>{ keyboard =&gt; [ [ 'one', 'two' ], [ 'three', 'four' ], [ 'five' ] ],\n  resize_keyboard =&gt; ...\n</code></pre>\n\n<p>Also note that semicolon is a statement terminator, you can't use it instead of a comma.</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 5170621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eV_pBcYJai8/AAAAAAAAAAI/AAAAAAAAAAA/N0q9MrkHOOs/photo.jpg?sz=128", "display_name": "joe mwirigi", "link": "https://stackoverflow.com/users/5170621/joe-mwirigi"}, "is_accepted": false, "score": 0, "last_activity_date": 1477219108, "creation_date": 1477219108, "answer_id": 40201988, "question_id": 32476005, "link": "https://stackoverflow.com/questions/32476005/perl-telegram-wwwtelegrambotapi-how-send-array-of-array/40201988#40201988", "title": "Perl, Telegram, WWW::Telegram::BotAPI how send array of array?", "body": "<pre><code>#!/usr/bin/perl\n\n#libs\nuse JSON;\n\n#telegram Reply Menus\n\nmy $telegramEndPoint = \"https://ip+token/sendMessage\";\nmy $textMessage = \"My Keyboard\";\nmy $chat_id = 12345;\n\n#create a hash of your reply markup\nmy %replyMarkup  = (\n        keyboard    =&gt; [[ \"One\", \"Two\" ]]\n        );#your keyboard must be an array of array\n\n#Json Encode them\nmy $buttons = encode_json \\%replyMarkup;\nsendTelegram($telegramEndPoint,$textMessage,$chat_id,$replyMarkup)\n\nsub sendTelegramMenus{\n    #usage\n    #sendTelegram($telegramEndPoint,$textMessage,$chat_id,$replyMarkup)\n    my(@values) = @_;\n    my $telegramEndPoint = $values[0];\n    my $textMessage = $values[1];\n    my $chat_id = $values[2];\n    my $replyMarkup = $values[3];\n\n    my $ua = LWP::UserAgent-&gt;new(ssl_opts =&gt; { verify_hostname =&gt; 1 });\n    my $completeUrl =  $telegramEndPoint.'chat_id='.$chat_id.'&amp;text='.$textMessage.'&amp;reply_markup='.$replyMarkup;\n    print \"URL: \".$completeUrl.\"\\n\\n\";\n    my $response = $ua-&gt;get($completeUrl);\n    my $content  = $response-&gt;decoded_content();\n    my $resCode = $response-&gt;code();\n\n\n    print \"RESPONSE CODE $resCode \\n Content: $content\\n\\n\";\n}\n</code></pre>\n\n<p>#That should Work</p>\n"}], "owner": {"reputation": 1211, "user_id": 948212, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1ba5d38efed0cd3a8281edebb37db2b?s=128&d=identicon&r=PG", "display_name": "Anton Shevtsov", "link": "https://stackoverflow.com/users/948212/anton-shevtsov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1553, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1477219108, "creation_date": 1441791288, "question_id": 32476005, "link": "https://stackoverflow.com/questions/32476005/perl-telegram-wwwtelegrambotapi-how-send-array-of-array", "title": "Perl, Telegram, WWW::Telegram::BotAPI how send array of array?", "body": "<p>I use WWW::Telegram::BotAPI (Perl implementation of the Telegram Bot API) for simple bot development. </p>\n\n<p>I need create a custom keyboard (<a href=\"https://core.telegram.org/bots#keyboards\" rel=\"nofollow\">https://core.telegram.org/bots#keyboards</a>) for reply (sendMessage method). </p>\n\n<p>Telegram API for keyboards <a href=\"https://core.telegram.org/bots/api/#replykeyboardmarkup\" rel=\"nofollow\">https://core.telegram.org/bots/api/#replykeyboardmarkup</a> describe field 'keyboard' with type Array of Array of string.</p>\n\n<p>Example:</p>\n\n<pre><code>my @buttons=(['one','two'],['three','four'],['five']);\n</code></pre>\n\n<p>But i make something wrong</p>\n\n<pre><code>print Dumper $api-&gt;SendMessage\n                    ({\n                    chat_id =&gt; $from_id,\n                    text    =&gt; 'question text ?',\n                    reply_to_message_id =&gt; $message_id,\n                    reply_markup =&gt; {\n                                    keyboard =&gt;  (['one','two'],['three','four'],['five']);\n                                    resize_keyboard =&gt; 1,\n                                    one_time_keyboard =&gt; 1\n                                    }\n                    });\n</code></pre>\n\n<p>in output dump - reply_markup not present. What wrong can do? How to define 'keyboard' field correctly?</p>\n"}, {"tags": ["perl", "proxy", "web-scraping", "www-mechanize"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1441786891, "post_id": 32474402, "comment_id": 52809758, "body": "<a href=\"https://metacpan.org/pod/HTTP::ProxyAutoConfig\" rel=\"nofollow noreferrer\">metacpan.org/pod/HTTP::ProxyAutoConfig</a>"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1441790758, "last_edit_date": 1441790758, "creation_date": 1441789329, "answer_id": 32475294, "question_id": 32474402, "link": "https://stackoverflow.com/questions/32474402/perl-wwwmechanize-not-working-with-proxy/32475294#32475294", "title": "Perl - WWW::Mechanize not working with proxy", "body": "<blockquote>\n<pre><code>$objMech-&gt;proxy(['https', 'http', 'ftp'], 'http://url:portno/proxy.pac');\n</code></pre>\n</blockquote>\n\n<p>You have to give the URL of the proxy itself (i.e. <code>http://ip:port</code>) and not the URL were a proxy configuration script is located (i.e. the PAC file). These PAC files are Javascript code which returns the appropriate proxy URL based on the target URL. LWP/WWW::Mechanize does not support Javascript and can not deal with such proxy configuration files by itself.</p>\n"}], "owner": {"reputation": 1037, "user_id": 1937839, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/45a9668ff537a807ce07e4670f0ebcc9?s=128&d=identicon&r=PG", "display_name": "msinfo", "link": "https://stackoverflow.com/users/1937839/msinfo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 1, "accepted_answer_id": 32475294, "answer_count": 1, "score": 1, "last_activity_date": 1441790758, "creation_date": 1441786640, "last_edit_date": 1441788602, "question_id": 32474402, "link": "https://stackoverflow.com/questions/32474402/perl-wwwmechanize-not-working-with-proxy", "title": "Perl - WWW::Mechanize not working with proxy", "body": "<p>Machine: Windows 7 Professional 64 bit. Portable Perl (Strawberry Perl (64-bit) 5.22.0.1).<br>\nProxy settings in Internet Explorer.<br>\n- Automatically detect settings<br>\n- use automatic configuration script<br>\n- Address : <a href=\"http://url:portno/proxy.pac\" rel=\"nofollow\">http://url:portno/proxy.pac</a>  </p>\n\n<p>With below code, I am not able to get proper response.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse WWW::Mechanize;\nuse LWP::UserAgent;\nuse LWP::Protocol::https;\n\nprint LWP::UserAgent-&gt;VERSION, \"\\n\";\nprint LWP::Protocol::https-&gt;VERSION, \"\\n\";\n\n#$ENV{HTTPS_PROXY} = 'http://url:portno/proxy.pac';\n#$objMech-&gt;get(\"http://www.url.html\");\n\nmy $objMech = WWW::Mechanize-&gt;new(autocheck =&gt; 0 );\n$objMech-&gt;proxy(['https', 'http', 'ftp'], 'http://url:portno/proxy.pac');\n$objMech-&gt;get(\"http://www.url.com\");\nprint $objMech-&gt;content();\n\nmy @links = $objMech-&gt;links();\nfor my $link (@links) {\n    printf $link-&gt;text, $link-&gt;url;\n}\n</code></pre>\n\n<p>It's output is as follows:</p>\n\n<pre><code>6.13\n6.06\n&lt;HTML&gt;\n&lt;Head&gt;\n&lt;TITLE&gt;400 Bad Request\n&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n&lt;BODY bgcolor=\"#FFFFFF\"&gt;&lt;h1&gt;\n400 Bad Request\n&lt;/h1&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 19900, "user_id": 2899618, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l0aHX.jpg?s=128&g=1", "display_name": "Narendrasingh Sisodia", "link": "https://stackoverflow.com/users/2899618/narendrasingh-sisodia"}, "edited": false, "score": 0, "creation_date": 1441784500, "post_id": 32473322, "comment_id": 52808315, "body": "<code>^(https?:\\&#47;\\&#47;)?(www.)?\\b</code>"}, {"owner": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "edited": false, "score": 1, "creation_date": 1441784615, "post_id": 32473322, "comment_id": 52808372, "body": "Try that on <code>some.awww.net</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441792797, "post_id": 32473322, "comment_id": 52813763, "body": "less code is not a virtue. Your compiler doesn&#39;t care how many bytes you use."}, {"owner": {"reputation": 29, "user_id": 5251476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e9a865573c92907aa3f94a0bd642a3?s=128&d=identicon&r=PG&f=1", "display_name": "user5251476", "link": "https://stackoverflow.com/users/5251476/user5251476"}, "edited": false, "score": 0, "creation_date": 1441805010, "post_id": 32473322, "comment_id": 52822357, "body": "my $referer = &quot;<a href=\"https://pulsesecure.net/xyz/abc\" rel=\"nofollow noreferrer\">pulsesecure.net/xyz/abc</a>&quot;; $referer = ^(https?:\\/\\/)?(www.)?\\b; print $referer;                                                                                                I tried this but it seems im doing it the worong way! how can I upply here."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1441826367, "post_id": 32473322, "comment_id": 52835751, "body": "You should fill out the question with the task you are trying to perform. There might be better ways to get at the end goal."}, {"owner": {"reputation": 29, "user_id": 5251476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e9a865573c92907aa3f94a0bd642a3?s=128&d=identicon&r=PG&f=1", "display_name": "user5251476", "link": "https://stackoverflow.com/users/5251476/user5251476"}, "edited": false, "score": 0, "creation_date": 1441883697, "post_id": 32473322, "comment_id": 52859988, "body": "Im trying to get host name from the refere."}], "answers": [{"tags": [], "owner": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "is_accepted": false, "score": 0, "last_activity_date": 1441784362, "last_edit_date": 1441784362, "creation_date": 1441783928, "answer_id": 32473469, "question_id": 32473322, "link": "https://stackoverflow.com/questions/32473322/how-can-i-get-the-host-name-from-a-url-in-perl/32473469#32473469", "title": "How can I get the host name from a URL in Perl?", "body": "<pre><code>$ echo -e \"http://www.google.www.com/abc/xyz\\nhttps://google.com\\nwww.google.www.com\"\nhttp://www.google.www.com/abc/xyz\nhttps://google.com\nwww.google.www.com\n\n$ echo -e \"http://www.google.www.com/abc/xyz\\nhttps://google.com\\nwww.google.www.com\" | perl -pe \"s/^(http(s)?:\\/\\/)?(www\\.)?//\"\ngoogle.www.com/abc/xyz\ngoogle.com\ngoogle.www.com\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1441938066, "post_id": 32480886, "comment_id": 52887640, "body": "The regex will cover a lot of cases, but there are modules which will cover the edge cases as well.  It really just depends on what you need."}], "tags": [], "owner": {"reputation": 82, "user_id": 2920468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI2cO.jpg?s=128&g=1", "display_name": "crustycollins", "link": "https://stackoverflow.com/users/2920468/crustycollins"}, "is_accepted": false, "score": 0, "last_activity_date": 1441805207, "creation_date": 1441805207, "answer_id": 32480886, "question_id": 32473322, "link": "https://stackoverflow.com/questions/32473322/how-can-i-get-the-host-name-from-a-url-in-perl/32480886#32480886", "title": "How can I get the host name from a URL in Perl?", "body": "<p>You can do it much simpler than above.</p>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n     $_ =~ s/^(https?:\\/\\/)?(www.)?\\b//;\n     print $_ ;\n}\n\n__DATA__\nhttp://www.google.com/abc/xyz\nhttps://google.com\nwww.google.com\n</code></pre>\n\n<p><strong>Results</strong></p>\n\n<pre><code>google.com/abc/xyz\n\ngoogle.com\n\ngoogle.com\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 5251476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e9a865573c92907aa3f94a0bd642a3?s=128&d=identicon&r=PG&f=1", "display_name": "user5251476", "link": "https://stackoverflow.com/users/5251476/user5251476"}, "edited": false, "score": 0, "creation_date": 1441953076, "post_id": 32514477, "comment_id": 52892073, "body": "Perl is not recognizing use URI::Heuristic qw(uf_uristr); command //error"}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 29, "user_id": 5251476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e9a865573c92907aa3f94a0bd642a3?s=128&d=identicon&r=PG&f=1", "display_name": "user5251476", "link": "https://stackoverflow.com/users/5251476/user5251476"}, "edited": false, "score": 0, "creation_date": 1441976191, "post_id": 32514477, "comment_id": 52905652, "body": "If you don&#39;t tell me what the error is, I can&#39;t help you."}, {"owner": {"reputation": 29, "user_id": 5251476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e9a865573c92907aa3f94a0bd642a3?s=128&d=identicon&r=PG&f=1", "display_name": "user5251476", "link": "https://stackoverflow.com/users/5251476/user5251476"}, "edited": false, "score": 0, "creation_date": 1442232765, "post_id": 32514477, "comment_id": 52983931, "body": "500 Internal Error   &quot;An unexpected error was encountered while executing the CGI Please contact the administrator. Status: 500 Internal Error Content-Type: text/html&quot; This is the error. If I remove use &quot;URI::Heuristic qw(uf_uristr);&quot; Im not getting the error, but &quot;-&gt;host&quot; will give error."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "reply_to_user": {"reputation": 29, "user_id": 5251476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e9a865573c92907aa3f94a0bd642a3?s=128&d=identicon&r=PG&f=1", "display_name": "user5251476", "link": "https://stackoverflow.com/users/5251476/user5251476"}, "edited": false, "score": 0, "creation_date": 1442249145, "post_id": 32514477, "comment_id": 52994813, "body": "CGI errors can be really hard to debug. In the case above, you could either check your error logs for more details or try running the script at the command line first to see what the actual error message is.  Or you could try including this line in your script <code>use CGI::Carp qw(fatalsToBrowser);</code>  That might give you a more helpful error message."}], "tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": false, "score": 2, "last_activity_date": 1441937914, "creation_date": 1441937914, "answer_id": 32514477, "question_id": 32473322, "link": "https://stackoverflow.com/questions/32473322/how-can-i-get-the-host-name-from-a-url-in-perl/32514477#32514477", "title": "How can I get the host name from a URL in Perl?", "body": "<pre><code>use URI;\nuse URI::Heuristic qw(uf_uristr);\n\nmy $referrer = URI-&gt;new( uf_uristr('www.google.com/aabc/xyz') );\nprint $referrer-&gt;host;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1442421663, "last_edit_date": 1495541033, "creation_date": 1442419867, "answer_id": 32613699, "question_id": 32473322, "link": "https://stackoverflow.com/questions/32473322/how-can-i-get-the-host-name-from-a-url-in-perl/32613699#32613699", "title": "How can I get the host name from a URL in Perl?", "body": "<p><em>The question changed significantly since my first answer, which I've deleted. With high enough rep you can see it.</em></p>\n\n<p>You have in the code (it's better to post complete programs):</p>\n\n<pre><code>my $referer = URI-&gt;new('www.google.com/aabc/xyz');\nmy $host    = $referer-&gt;host; //compiler error\n</code></pre>\n\n<p>You say that you're getting a compiler error, but it's really a runtime error:</p>\n\n<pre><code>Can't locate object method \"host\" via package \"URI::_generic\"\n</code></pre>\n\n<p>When you made the new object, you gave <a href=\"http://www.metacpan.org/module/URI\" rel=\"nofollow noreferrer\">URI</a> a string. From that, it's going to guess what sort of URI it is. Since there's no scheme, such as <code>http://</code>, in front of it, it doesn't guess that it's that sort of URI. Instead, it falls back to a \"generic\" class <a href=\"http://www.metacpan.org/module/URI::_generic\" rel=\"nofollow noreferrer\">URI::_generic</a>. By the underscore in its name and the fact there's no documentation for it, you may surmise it's not meant for you to know about. </p>\n\n<p>But, here it is complaining. It thinks the URI is a path (and some other things). The part you recognize as the host it parses as a path:</p>\n\n<pre><code>use v5.10;\n\nuse URI;\n\nmy $referer = URI-&gt;new('www.google.com/aabc/xyz');\nmy $path    = $referer-&gt;path;\n\nsay \"path is $path\";\n</code></pre>\n\n<p>Now you see what it did:</p>\n\n<pre><code> path is www.google.com/aabc/xyz\n</code></pre>\n\n<p>The generic URI doesn't know anything about a host, so when you call <code>host</code> on its object, it blows up. It would be nicer for it to return undef, perhaps, but that's not what it does.</p>\n\n<p><a href=\"https://stackoverflow.com/users/406224/oalders\">oanders</a> already has an <a href=\"https://stackoverflow.com/a/32514477/2766176\">interesting answer that guesses for you</a> to fill in schemes when it thinks they might be missing, but there's another thing you can do. Before you call host, check that the object can respond to it:</p>\n\n<pre><code>use v5.10;\n\nuse URI;\n\nmy $url = 'www.google.com/aabc/xyz';\nmy $referer = URI-&gt;new( $url );\n\nif( $referer-&gt;can( 'host' ) ) {\n    say \"Host is \" . $referer-&gt;host;\n    }\nelse {\n    say \"Weird hostless URL: $referer\";\n    }\n</code></pre>\n\n<p>Now your program shouldn't blow up for the same reason and you can look at the output to discover strings that you couldn't process.</p>\n"}], "owner": {"reputation": 29, "user_id": 5251476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e9a865573c92907aa3f94a0bd642a3?s=128&d=identicon&r=PG&f=1", "display_name": "user5251476", "link": "https://stackoverflow.com/users/5251476/user5251476"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1442421663, "creation_date": 1441783494, "last_edit_date": 1442418968, "question_id": 32473322, "link": "https://stackoverflow.com/questions/32473322/how-can-i-get-the-host-name-from-a-url-in-perl", "title": "How can I get the host name from a URL in Perl?", "body": "<p>I have a URL like \"www.google.com/aabc/xyz\". How can I get host name from this? I used this code:</p>\n\n<pre><code> my $referer = URI-&gt;new('www.google.com/aabc/xyz');\n my $host    = $referer-&gt;host; //compiler error\n</code></pre>\n\n<p>I'm getting error at the second line. </p>\n"}, {"tags": ["html", "perl", "css", "mojolicious", "mojo-dom"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1442227226, "post_id": 32472986, "comment_id": 52980591, "body": "There doesn&#39;t seem to be a built-in way of doing this, as the doctype is stored at the top level of the tree.  The best I could come up with was to do: <code>my %ugly_tree = @{ $dom-&gt;root-&gt;tree }; my ($doctype) = $ugly_tree{doctype};</code>  But this may be brittle."}, {"owner": {"reputation": 236, "user_id": 2231922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fae208c6398bc6172b97ad62427842?s=128&d=identicon&r=PG", "display_name": "Sebastian Riedel", "link": "https://stackoverflow.com/users/2231922/sebastian-riedel"}, "edited": false, "score": 1, "creation_date": 1442525123, "post_id": 32472986, "comment_id": 53129063, "body": "The doctype is just another node and you can use methods like <a href=\"http://mojolicio.us/perldoc/Mojo/DOM#child_nodes\" rel=\"nofollow noreferrer\">child_nodes</a> to find them."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1442411073, "creation_date": 1442411073, "answer_id": 32610400, "question_id": 32472986, "link": "https://stackoverflow.com/questions/32472986/doctype-sniffing-with-css3-and-specifically-with-mojodom/32610400#32610400", "title": "Doctype sniffing with CSS3, and specifically with Mojo::DOM", "body": "<p>I still think there's hope for a better way to do this, but perhaps I'm putting too much responsibility on <a href=\"http://www.metacpan.org/module/Mojo::UserAgent\" rel=\"nofollow\">Mojo::UserAgent</a>. I can build a transaction and add a <code>finish</code> event to the response. In that event, I sniff the content with a regular expression and add an <code>X-</code> header with the doc type. I could probably pass the info in some other way, but that's not the point (still taking suggestions though!)</p>\n\n<pre><code>use v5.14;\n\nuse Mojo::UserAgent;\n\n@ARGV = qw(http://blogs.perl.org);\n\nmy $ua = Mojo::UserAgent-&gt;new;\n\nmy $tx = $ua-&gt;build_tx( GET =&gt; $ARGV[0] );\n$tx-&gt;res-&gt;on( finish =&gt; sub {\n    my $res = shift;\n    my( $doctype ) = $res-&gt;body =~ m/\\A \\s* (&lt;!DOCTYPE.*?&gt;)/isx;\n    if( $doctype ) {\n        say \"Found doctype =&gt; $doctype\";\n        $res-&gt;headers-&gt;header( 'X-doctype', $doctype );\n        }\n    });\n$tx = $ua-&gt;start($tx);\n\nsay \"-----Headers-----\";\nsay $tx-&gt;res-&gt;headers-&gt;to_string =~ s/\\R+/\\n/rg;\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>Found doctype =&gt; &lt;!DOCTYPE html&gt;\n-----Headers-----\nConnection: Keep-Alive\nServer: Apache/2.2.12 (Ubuntu)\nContent-Type: text/html\nContent-Length: 20624\nAccept-Ranges: bytes\nX-doctype: &lt;!DOCTYPE html&gt;\nLast-Modified: Wed, 16 Sep 2015 13:08:26 GMT\nETag: \"26d42e8-5090-51fdcfe768680\"\nDate: Wed, 16 Sep 2015 13:40:02 GMT\nKeep-Alive: timeout=15, max=100\nVary: Accept-Encoding\n</code></pre>\n\n<p>Now I have to think about various things to parse the <code>DOCTYPE</code> values and decide based on those what to do with content.</p>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1442526551, "post_id": 32640333, "comment_id": 53129686, "body": "My problem is a bit easier: I only want to determine what they say the charset is even if it is wrong. There&#39;s a particular mis-configured web server that motivated this problem. :)"}], "tags": [], "owner": {"reputation": 236, "user_id": 2231922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fae208c6398bc6172b97ad62427842?s=128&d=identicon&r=PG", "display_name": "Sebastian Riedel", "link": "https://stackoverflow.com/users/2231922/sebastian-riedel"}, "is_accepted": false, "score": 2, "last_activity_date": 1442525686, "creation_date": 1442525686, "answer_id": 32640333, "question_id": 32472986, "link": "https://stackoverflow.com/questions/32472986/doctype-sniffing-with-css3-and-specifically-with-mojodom/32640333#32640333", "title": "Doctype sniffing with CSS3, and specifically with Mojo::DOM", "body": "<p>Determining the encoding of an HTML5 document is very <a href=\"https://html.spec.whatwg.org/multipage/syntax.html#determining-the-character-encoding\" rel=\"nofollow\">complex</a>. I'm afraid <a href=\"http://mojolicio.us/perldoc/Mojo/DOM\" rel=\"nofollow\">Mojo::DOM</a> is only a fragment parser, and therefore we've decided that a full implementation of the encoding sniffing algorithm would be out of scope. Most of the web is thankfully UTF-8 encoded, and i imagine that's why this question doesn't come up very often.</p>\n"}], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1442525686, "creation_date": 1441782415, "last_edit_date": 1495542146, "question_id": 32472986, "link": "https://stackoverflow.com/questions/32472986/doctype-sniffing-with-css3-and-specifically-with-mojodom", "title": "Doctype sniffing with CSS3, and specifically with Mojo::DOM", "body": "<p>I can use <a href=\"http://www.metacpan.org/module/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a> and its CSS3 selectors to figure out the DOCTYPE of an HTML document? Related to my other question, <a href=\"https://stackoverflow.com/questions/32472378/how-should-i-process-html-meta-tags-with-mojouseragent\">How should I process HTML META tags with Mojo::UserAgent?</a> where I want to set the character set of a document, I need to know what to look at and <a href=\"https://hsivonen.fi/doctype/\" rel=\"nofollow noreferrer\">doctype sniffing</a> seems to be the way to do. HTML and HTML 5 have different meta tags for charsets in HTML when the document setting overrides the server setting (or non-setting). </p>\n\n<p>I don't have a problem accomplishing the task since I can grab the raw response and play with regexes to look at the DOCTYPE. <a href=\"https://stackoverflow.com/questions/1987493/read-doctype-with-javascript\">Since the browser DOMs seem to be able to get the DOCTYPE</a>, I'm infected with the idea that I should be able to get it. However, the lack of examples leads me to think nobody does it in the way I think I should do it.</p>\n\n<p>I tried lots of stupid ways but my CSS kung fu is weak: </p>\n\n<pre><code>use v5.20;\n\nuse feature qw(signatures);\nno warnings qw(experimental::signatures);\n\nuse Mojo::DOM;\n\nmy $html = do { local $/; &lt;DATA&gt; };\n\nmy $dom = Mojo::DOM-&gt;new( $html );\n\nsay \"&lt;title&gt; is =&gt; \", $dom-&gt;find( 'head title' )-&gt;map( 'text' )-&gt;each;\n\nsay \"Doctype with find is =&gt; \", $dom-&gt;find( '!doctype' )-&gt;map( 'text' )-&gt;each;\n\nsay \"Doctype with nodes is =&gt; \", $dom-&gt;[0];\n\n__DATA__\n\n&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n&lt;title&gt;This is a title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Level 1&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I dump the <code>$dom</code> object, I see the DOCTYPE in the tree:</p>\n\n<pre><code>$VAR1 = bless( do{\\(my $o = bless( {\n                      'tree' =&gt; [\n                                  'root',\n                                  [\n                                    'text',\n                                    '',\n                                    ${$VAR1}-&gt;{'tree'}\n                                  ],\n                                  [\n                                    'doctype',\n                                    ' html',\n                                    ${$VAR1}-&gt;{'tree'}\n                                  ],\n</code></pre>\n\n<p>Now how do I get at that?</p>\n"}, {"tags": ["perl", "mojolicious", "mojo-useragent"], "comments": [{"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1488931946, "post_id": 32472378, "comment_id": 72447274, "body": "I think you&#39;re over thinking it :-P Postprocessing with a finish event sounds very reasonable here."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 1, "last_activity_date": 1498917328, "creation_date": 1498917328, "answer_id": 44861730, "question_id": 32472378, "link": "https://stackoverflow.com/questions/32472378/how-should-i-process-html-meta-tags-with-mojouseragent/44861730#44861730", "title": "How should I process HTML META tags with Mojo::UserAgent?", "body": "<p>I think the answer is just what I came up with. I haven't found anything that I liked better.</p>\n\n<pre><code>use v5.20;\n\nuse feature qw(signatures);\nno warnings qw(experimental::signatures);\n\nuse Data::Dumper;\nuse Mojo::UserAgent;\n\nmy $ua = Mojo::UserAgent-&gt;new;\n\nmy $tx = $ua-&gt;build_tx( GET =&gt; 'http://blogs.perl.org' ); \n\n$tx-&gt;res-&gt;on(\n    finish =&gt; \\&amp;process_meta_options\n    );\n\n$tx = $ua-&gt;start( $tx );\nsay \"At end, charset is \", $tx-&gt;res-&gt;content-&gt;charset;\n\nsub process_meta_options ( $res ) {\n    $res\n        -&gt;dom\n        -&gt;find( 'head meta[charset]' )  # HTML 5\n        -&gt;map( sub {\n            my $content_type = $res-&gt;headers-&gt;header( 'Content-type' );\n            return unless my $meta_charset = $_-&gt;{charset};\n            $content_type =~ s/;.*//;\n            $res-&gt;headers-&gt;header( 'Content-type', \"$content_type; charset=$_-&gt;{charset}\" );\n            } );\n    }\n</code></pre>\n"}], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "accepted_answer_id": 44861730, "answer_count": 1, "score": 5, "last_activity_date": 1498917328, "creation_date": 1441780242, "last_edit_date": 1495539978, "question_id": 32472378, "link": "https://stackoverflow.com/questions/32472378/how-should-i-process-html-meta-tags-with-mojouseragent", "title": "How should I process HTML META tags with Mojo::UserAgent?", "body": "<p>I have to play with some misconfigured web servers, so I started processing the HTML meta tags to feed information back into the web user-agent object. I tried a variety of ways of doing this in <a href=\"http://mojolicio.us\" rel=\"nofollow noreferrer\">Mojolicious</a> and settled on a looking for a \"finish\" event on the response. My goal was to make this mostly invisible to the rest of the code so the process wasn't even aware this was happening.</p>\n\n<p>Still, this just doesn't sit right with me for a reason I can't quite put my finger on. Aside from the particular code in <code>process_meta_options</code>, is there a more Mojolicious way to do this? For example, <a href=\"https://stackoverflow.com/questions/10086592/mojouseragent-get-with-userdefined-callback\">Mojo::UserAgent get() with userdefined callback</a> uses the <code>read</code> event, but I tend to think that might interfere with things. Or I could just be over-thinking it.</p>\n\n<pre><code>use v5.20;\n\nuse feature qw(signatures);\nno warnings qw(experimental::signatures);\n\nuse Data::Dumper;\nuse Mojo::UserAgent;\n\nmy $ua = Mojo::UserAgent-&gt;new;\n\nmy $tx = $ua-&gt;build_tx( GET =&gt; 'http://blogs.perl.org' ); \n\n$tx-&gt;res-&gt;on(\n    finish =&gt; \\&amp;process_meta_options\n    );\n\n$tx = $ua-&gt;start( $tx );\nsay \"At end, charset is \", $tx-&gt;res-&gt;content-&gt;charset;\n\nsub process_meta_options ( $res ) {\n    $res\n        -&gt;dom\n        -&gt;find( 'head meta[charset]' )  # HTML 5\n        -&gt;map( sub {\n            my $content_type = $res-&gt;headers-&gt;header( 'Content-type' );\n            return unless my $meta_charset = $_-&gt;{charset};\n            $content_type =~ s/;.*//;\n            $res-&gt;headers-&gt;header( 'Content-type', \"$content_type; charset=$_-&gt;{charset}\" );\n            } );\n    }\n</code></pre>\n"}, {"tags": ["perl", "perl5.8"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1441779591, "post_id": 32471994, "comment_id": 52805676, "body": "<code>readpipe</code> couldn&#39;t be overriden until Perl v5.8.9. All I can think of is that you wrap the backticks in a subroutine, say <code>execute</code>, which does something different if the program is running in a test environment"}, {"owner": {"reputation": 1083, "user_id": 2688175, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/1fd9f59324bbd9827b57575de10f625f?s=128&d=identicon&r=PG&f=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/2688175/niraj"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441782164, "post_id": 32471994, "comment_id": 52806946, "body": "Yeah, i can do it. But i was looking for straight-forward solution instead of writing wrapper."}], "answers": [{"comments": [{"owner": {"reputation": 1083, "user_id": 2688175, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/1fd9f59324bbd9827b57575de10f625f?s=128&d=identicon&r=PG&f=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/2688175/niraj"}, "edited": false, "score": 0, "creation_date": 1441781990, "post_id": 32472348, "comment_id": 52806848, "body": "So to conclude it, there is no way at all to mock backticks operator in perl 5.8.8 . Thanks"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 1, "last_activity_date": 1441780155, "creation_date": 1441780155, "answer_id": 32472348, "question_id": 32471994, "link": "https://stackoverflow.com/questions/32471994/mocking-backticks-operator-in-perl-5-8-8/32472348#32472348", "title": "Mocking backticks operator in perl 5.8.8", "body": "<blockquote>\n  <p>You can override system() and readpipe(), as they are second-class\n  (overridable) keywords. In Perl 5.8, you can't override qx// or ``,\n  even though they use the same underlying code as readpipe(), simply\n  because they are first-class (non-overridable) keywords. See\n  perl_keywords.pl and opcode.pl in the Perl source code. Why are some\n  keywords not overridable? The main reason is that those keywords are\n  used as part of some further parsing magic, i.e. they don't follow the\n  usual function call style parsing.</p>\n  \n  <p>The good news is that change <a href=\"http://www.nntp.perl.org/group/perl.perl5.changes/2006/10/msg16994.html\" rel=\"nofollow\"><strong>#29168</strong></a> to perl made qx// overridable.\n  Hooray! That was released in Perl 5.9.5, and will eventually make it\n  to a maintenance release as Perl 5.10.1. When that happens, setting\n  *CORE::GLOBAL::readpipe will override readpipe(), qx// and ``.</p>\n</blockquote>\n\n<p>Read complete discussion on perlmonks: <a href=\"http://www.perlmonks.org/?node_id=685699\" rel=\"nofollow\">mocking or trapping system calls</a></p>\n\n<p>Also check out <a href=\"http://search.cpan.org/~pjf/IPC-System-Simple-1.25/lib/IPC/System/Simple.pm\" rel=\"nofollow\">IPC::System::Simple</a>.</p>\n"}], "owner": {"reputation": 1083, "user_id": 2688175, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/1fd9f59324bbd9827b57575de10f625f?s=128&d=identicon&r=PG&f=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/2688175/niraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 32472348, "answer_count": 1, "score": 3, "last_activity_date": 1441786093, "creation_date": 1441778724, "last_edit_date": 1441786093, "question_id": 32471994, "link": "https://stackoverflow.com/questions/32471994/mocking-backticks-operator-in-perl-5-8-8", "title": "Mocking backticks operator in perl 5.8.8", "body": "<p>I am trying to mock the backticks operator in perl version 5.8.8 . From what i have understood is, it is not possible to mock it in perl version 5.8.8. But in perl version 5.9 onward, i can easily mock the backticks operator using </p>\n\n<p><code>*CORE::GLOBAL::readpipe = \\&amp;mock_readpipe</code></p>\n\n<p>Is there way to mock backticks operator in perl version 5.8.8. I am able to mock system(), but not backticks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1441764556, "post_id": 32469843, "comment_id": 52801561, "body": "What is your current error output, if any?"}, {"owner": {"reputation": 189, "user_id": 1249125, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ea861e54c5fbacb1935926356399a83?s=128&d=identicon&r=PG", "display_name": "webdev.gk", "link": "https://stackoverflow.com/users/1249125/webdev-gk"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1441764731, "post_id": 32469843, "comment_id": 52801595, "body": "There&#39;s no error but trying to print what is inside the $to shows a next line on @domain.com for username3. I am not sure what&#39;s causing it."}, {"owner": {"reputation": 189, "user_id": 1249125, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ea861e54c5fbacb1935926356399a83?s=128&d=identicon&r=PG", "display_name": "webdev.gk", "link": "https://stackoverflow.com/users/1249125/webdev-gk"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1441767168, "post_id": 32469843, "comment_id": 52802112, "body": "I found out what is causing this. I have to trim trailing white spaces both left and right to make it properly.."}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 1249125, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ea861e54c5fbacb1935926356399a83?s=128&d=identicon&r=PG", "display_name": "webdev.gk", "link": "https://stackoverflow.com/users/1249125/webdev-gk"}, "edited": false, "score": 0, "creation_date": 1441767109, "post_id": 32469879, "comment_id": 52802103, "body": "One thing I have learned is that I need to add this to trim trailing white spaces both left and right  $var =~ s/^\\s+|\\s+$//g;"}, {"owner": {"reputation": 339, "user_id": 1223758, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7O4NB.jpg?s=128&g=1", "display_name": "Paul Allen", "link": "https://stackoverflow.com/users/1223758/paul-allen"}, "edited": false, "score": 0, "creation_date": 1441778241, "post_id": 32469879, "comment_id": 52805108, "body": "if you are finding whitespace, then you have not been posting your actual script.  Perhaps you are accepting from input or line-by-line from a file or STDIN?  In that case, use chomp() on your input string."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": true, "score": 2, "last_activity_date": 1441764636, "creation_date": 1441764636, "answer_id": 32469879, "question_id": 32469843, "link": "https://stackoverflow.com/questions/32469843/split-insert-and-join/32469879#32469879", "title": "Split, insert and join", "body": "<p>Split, transform, stitch:</p>\n\n<pre><code>my $var ='username1,username2,username3';\nprint join \",\", map { \"$_\\@domain.com\" } split(\",\", $var);\n# ==&gt; username1@domain.com,username2@domain.com,username3@domain.com\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 273, "user_id": 475066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada1350fe5fa07c426869541ba2497de?s=128&d=identicon&r=PG", "display_name": "cherdt", "link": "https://stackoverflow.com/users/475066/cherdt"}, "is_accepted": false, "score": 1, "last_activity_date": 1441765017, "creation_date": 1441765017, "answer_id": 32469931, "question_id": 32469843, "link": "https://stackoverflow.com/questions/32469843/split-insert-and-join/32469931#32469931", "title": "Split, insert and join", "body": "<p>You could also use a regular expression substitution:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $var = \"username1,username2,username3\";\n# Replace every comma (and the end of the string) with a comma and @domain.com\n$var =~ s/$|,/\\@domain.com,/g;\n# Remove extra comma after last item\nchop $var;\nprint \"$var\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1441779961, "creation_date": 1441779961, "answer_id": 32472293, "question_id": 32469843, "link": "https://stackoverflow.com/questions/32469843/split-insert-and-join/32472293#32472293", "title": "Split, insert and join", "body": "<p>You already have good answers. Here I am just telling why your script is not working. I didn't see any <code>print</code> or <code>say</code> line in your code, so not sure how you are trying to print something. No need of last line in your program. You can simply suffix <code>@domain.com</code> with each value, push to an array and print it with <code>join</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $var = 'username1,username2,username3';\nmy @tkens = split ',', $var;\nmy @user;\nforeach my $tken (@tkens)\n{\n    push @user, $tken.\"\\@domain.com\"; # `.` after `$tken` for concatenation  \n}\nprint join(',', @user), \"\\n\"\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>username1@domain.com,username2@domain.com,username3@domain.com\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 1249125, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ea861e54c5fbacb1935926356399a83?s=128&d=identicon&r=PG", "display_name": "webdev.gk", "link": "https://stackoverflow.com/users/1249125/webdev-gk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 32469879, "answer_count": 3, "score": 0, "last_activity_date": 1441779961, "creation_date": 1441764370, "question_id": 32469843, "link": "https://stackoverflow.com/questions/32469843/split-insert-and-join", "title": "Split, insert and join", "body": "<p>Here's I want to archive. I want to split a one-liner comma-separated and insert @domain.com then join it back as comma-separated.</p>\n\n<p>The one-liner contains something like:</p>\n\n<blockquote>\n  <p>username1,username2,username3</p>\n</blockquote>\n\n<p>and I want to be something like:</p>\n\n<blockquote>\n  <p>username1@domain.com,username2@domain.com,username3@domain.com</p>\n</blockquote>\n\n<p>So my Perl script that I tried which doesn't not work properly: </p>\n\n<pre><code>my $var ='username1,username2,username3';\nmy @tkens = split /,/, $var;\nmy @user;\n       foreach my $tken (@tkens) {\n           push (@user, \"$tken\\@domain.com\");\n       }\nmy $to = join(',',@user);\n</code></pre>\n\n<p>Is there any shortcut on this in Perl and please post sample please. Thanks</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441790056, "post_id": 32469663, "comment_id": 52811790, "body": "@ikegami How could I do this?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441793193, "post_id": 32469663, "comment_id": 52814023, "body": "<code>perldoc open</code> is the place to start."}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441795200, "post_id": 32469663, "comment_id": 52815325, "body": "@Sobrique I&#39;ve found these guides <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">1</a> &amp; <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow noreferrer\">2</a> about <code>perldoc open</code>. But I unfortunately can&#39;t get how this would be beneficial for this case."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1441803850, "post_id": 32469663, "comment_id": 52821508, "body": "Is the result <code>&quot;Can&#39;t do inplace edit on My&#47;Files&#47;Directory&#47;File 1.txt: File exists.&quot;</code> from running command 1 or command 2?"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1441805561, "post_id": 32469663, "comment_id": 52822764, "body": "@H&#229;konH&#230;gland from running any of both."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4033797, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001048547855/picture?type=large", "display_name": "Druxa", "link": "https://stackoverflow.com/users/4033797/druxa"}, "is_accepted": false, "score": 0, "last_activity_date": 1442058988, "creation_date": 1442058988, "answer_id": 32538502, "question_id": 32469663, "link": "https://stackoverflow.com/questions/32469663/save-backup-files-to-custom-directory-in-perl-edit-in-place/32538502#32538502", "title": "save backup files to custom directory in Perl edit-in-place", "body": "<p><a href=\"http://blogs.msdn.com/b/steverowe/archive/2008/11/26/using-perl-for-mass-in-place-editing.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/steverowe/archive/2008/11/26/using-perl-for-mass-in-place-editing.aspx</a></p>\n\n<p>tl;dr; Try using a for loop instead of a wildcard. And don't forget quotes around \"%i\" as you do have spaces in your filenames.</p>\n"}], "owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 552, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1442058988, "creation_date": 1441762845, "last_edit_date": 1495541044, "question_id": 32469663, "link": "https://stackoverflow.com/questions/32469663/save-backup-files-to-custom-directory-in-perl-edit-in-place", "title": "save backup files to custom directory in Perl edit-in-place", "body": "<p>I've a perl file <strong>changes.pl</strong> already. I can run <em>changes.pl</em> via <strong>cmd command</strong>. I'm looking for saving backup files to a specific directory. I've tried using <strong>cmd command 1</strong> and <strong>2</strong>. But, I get <strong>result</strong> from running any of both.</p>\n\n<p><strong>changes.pl</strong></p>\n\n<pre><code>BEGIN {\n    @ARGV = map glob(\"\\\"$_\\\"\"), @ARGV;\n}\n\ns/a/b/g;\ns/c/d/g;\ns/e/f/g;\n</code></pre>\n\n<p><strong>cmd command</strong></p>\n\n<pre><code>perl -i.bak -p changes.pl My/Files/Directory/*.txt\n</code></pre>\n\n<p><strong>cmd command 1</strong></p>\n\n<pre><code>perl -i\"save/*\" -p changes.pl My/Files/Directory/*.txt\n</code></pre>\n\n<p><strong>cmd command 2</strong></p>\n\n<pre><code>perl -i.bak -i\"save/*\" -p changes.pl My/Files/Directory/*.txt\n</code></pre>\n\n<p><strong>result</strong></p>\n\n<blockquote>\n  <p>Can't do inplace edit on My/Files/Directory/File 1.txt: File exists.</p>\n  \n  <p>Can't do inplace edit on My/Files/Directory/File 2.txt: File exists.</p>\n  \n  <p>Can't do inplace edit on My/Files/Directory/File 3.txt: File exists.</p>\n</blockquote>\n\n<p><strong>Note:</strong></p>\n\n<ul>\n<li>I'm using Perl on Windows.</li>\n<li>I've gotten <strong>changes.pl</strong> and <strong>cmd command</strong> from Borodin's <a href=\"https://stackoverflow.com/a/31774619/4123648\">answer</a> on a previous question of mine.</li>\n</ul>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 1, "creation_date": 1441749905, "post_id": 32468005, "comment_id": 52797897, "body": "Which is better accomplished using <code>$ENV{JOBID}</code>. No need for a subshell."}], "tags": [], "owner": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "is_accepted": false, "score": 2, "last_activity_date": 1441749947, "last_edit_date": 1441749947, "creation_date": 1441749874, "answer_id": 32468005, "question_id": 32467976, "link": "https://stackoverflow.com/questions/32467976/what-does-echo-do-within-a-perl-variable-declaration/32468005#32468005", "title": "What does &#39;echo&#39; do within a perl variable declaration?", "body": "<p>It is evaluating an environment variable named <code>$JOBID</code> and storing the result in <code>$jobID</code>, which (as duskwuff points out) is better accomplished using <code>$ENV{JOBID}</code>.</p>\n\n<p>The backticks around the <code>echo \\$JOBID</code> tell Perl to invoke the specified command in a subshell and return the output of the invoked command.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4455820, "user_type": "registered", "profile_image": "https://graph.facebook.com/1191598752/picture?type=large", "display_name": "Gerardo Hidalgo", "link": "https://stackoverflow.com/users/4455820/gerardo-hidalgo"}, "edited": false, "score": 1, "creation_date": 1441751543, "post_id": 32468036, "comment_id": 52798382, "body": "Awesome! Very clear and concise, very much appreciated!"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 1, "creation_date": 1441756148, "post_id": 32468036, "comment_id": 52799624, "body": "Reading an environment variable directly is also much faster."}], "tags": [], "owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "is_accepted": true, "score": 10, "last_activity_date": 1441756332, "last_edit_date": 1441756332, "creation_date": 1441749996, "answer_id": 32468036, "question_id": 32467976, "link": "https://stackoverflow.com/questions/32467976/what-does-echo-do-within-a-perl-variable-declaration/32468036#32468036", "title": "What does &#39;echo&#39; do within a perl variable declaration?", "body": "<p>This is one way to get a value from a shell variable.  The backticks (<code>`</code>) run the shell command and give you the output.  So the <code>echo</code> is running inside of a shell and in this case it just returns the one shell variable.  A cleaner way to get this in Perl is to use <code>%ENV</code> like so:</p>\n\n<pre><code> my $jobID = $ENV{'JOBID'};\n</code></pre>\n\n<p>This also removes the need for <code>chomp</code>, avoids creating an extra process, and is much more efficient.</p>\n"}], "owner": {"reputation": 23, "user_id": 4455820, "user_type": "registered", "profile_image": "https://graph.facebook.com/1191598752/picture?type=large", "display_name": "Gerardo Hidalgo", "link": "https://stackoverflow.com/users/4455820/gerardo-hidalgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2698, "favorite_count": 0, "accepted_answer_id": 32468036, "answer_count": 2, "score": 1, "last_activity_date": 1598206544, "creation_date": 1441749737, "last_edit_date": 1598206544, "question_id": 32467976, "link": "https://stackoverflow.com/questions/32467976/what-does-echo-do-within-a-perl-variable-declaration", "title": "What does &#39;echo&#39; do within a perl variable declaration?", "body": "<p>I am working on transcribing an outdated file from perl to python and got caught up with some perl syntax.</p>\n<pre><code>my $jobID = `echo \\$JOBID`;\nchomp($jobID);\nunless ($jobID) {\n  print &quot;Please specify a job\\n&quot;;\n  exit;\n} \n</code></pre>\n<p>Thus far, I have been able to transcribe all of the command-line parsing extremely easily but am very fairly stuck here with what exactly this code is doing (specifically the <strong>echo</strong> within the declaration on line 1).</p>\n<p>Within the perl script cmd-line parsing options - that enables one to set the jobID - it states that &quot;default = $JOBID&quot;. So my assumption is that the first line in this code simply sets this default jobID until one is specified.</p>\n<p>If this is the case why would you need to use echo within the variable default declaration? Is this good practice in perl or am I missing a larger picture?</p>\n<p>I have tried searching low and high for this but can't seem to google ninja my way to anything useful.</p>\n<p>Any help on the 'echo' would be greatly appreciated (or any good reads on this as well)!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441773226, "post_id": 32467220, "comment_id": 52803507, "body": "Which file do you expect the END to add to? You only reach it after you&#39;ve iterated through all the files passed add parameters"}], "answers": [{"comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1441747665, "post_id": 32467283, "comment_id": 52797044, "body": "This is really more about the <code>-i</code> docs than the <code>-n</code> docs, though."}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 4, "creation_date": 1441747696, "post_id": 32467283, "comment_id": 52797054, "body": "@Igor:  If you want to the functional equivalent to what you intended with the END block, then use <a href=\"http://perldoc.perl.org/functions/eof.html\" rel=\"nofollow noreferrer\">eof</a> instead."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1441748479, "post_id": 32467283, "comment_id": 52797362, "body": "@cjm The <code>-i</code> docs don&#39;t mention <code>BEGIN</code> and <code>END</code> at all, which is the key difference between the two examples."}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1441749965, "post_id": 32467283, "comment_id": 52797914, "body": "Yeah, it&#39;s more implicit in knowing that the <code>&lt;&gt;</code> construct can involve multiple files, so you have to print before it changes to the next file.  (The end of the last file is a special case of changing files.)"}, {"owner": {"reputation": 1243, "user_id": 1487773, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/gnHdG.png?s=128&g=1", "display_name": "Igor Liferenko", "link": "https://stackoverflow.com/users/1487773/igor-liferenko"}, "reply_to_user": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 2, "creation_date": 1441756349, "post_id": 32467283, "comment_id": 52799670, "body": "With the tip of @Miller, the solution is <code>perl -i -ne &#39;s&#47;b&#47;x&#47;;push@a,$_;next unless eof;print for @a&#39; test.txt</code>"}], "tags": [], "owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "is_accepted": true, "score": 7, "last_activity_date": 1441746599, "creation_date": 1441746599, "answer_id": 32467283, "question_id": 32467220, "link": "https://stackoverflow.com/questions/32467220/why-doesnt-perl-i-change-a-file-in-place/32467283#32467283", "title": "Why doesn&#39;t &#39;perl -i&#39; change a file in-place?", "body": "<p><code>END</code> blocks aren't part of the <code>-i -n</code> magic.</p>\n\n<p><code>-n</code> wraps an implicit <code>while (&lt;&gt;)</code> around (most of) your code, and <code>-i</code> causes files handled by <code>&lt;&gt;</code> to be overwritten.</p>\n\n<p>However, as noted <a href=\"http://perldoc.perl.org/perlrun.html#*-n*\">in the docs</a>, <code>BEGIN</code> and <code>END</code> blocks live <em>outside</em> that implicit loop, and aren't affected by <code>-i</code>.  There's nothing causing your <code>print</code> to go anywhere by <code>stdout</code>.</p>\n"}], "owner": {"reputation": 1243, "user_id": 1487773, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/gnHdG.png?s=128&g=1", "display_name": "Igor Liferenko", "link": "https://stackoverflow.com/users/1487773/igor-liferenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 32467283, "answer_count": 1, "score": 3, "last_activity_date": 1441747541, "creation_date": 1441746330, "last_edit_date": 1441747541, "question_id": 32467220, "link": "https://stackoverflow.com/questions/32467220/why-doesnt-perl-i-change-a-file-in-place", "title": "Why doesn&#39;t &#39;perl -i&#39; change a file in-place?", "body": "<p>My setup: perl 5.20.2</p>\n\n<p>The file is changed in-place, as expected, with this code:</p>\n\n<pre><code>echo abc &gt; test.txt\nperl -i -ne 's/b/x/;print' test.txt\n</code></pre>\n\n<p>But here, the output is printed to <code>stdout</code> and the file is emptied. Why?</p>\n\n<pre><code>echo abc &gt; test.txt\nperl -i -ne 's/b/x/;push@a,$_;END{print for @a}' test.txt\n</code></pre>\n"}, {"tags": ["arrays", "perl", "push", "average"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 5, "creation_date": 1441742062, "post_id": 32466104, "comment_id": 52794226, "body": "Declare the arrays outside of the loop?"}, {"owner": {"reputation": 21, "user_id": 5298950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/972b38e05547f757a0d0446b1e499edf?s=128&d=identicon&r=PG&f=1", "display_name": "knytshade", "link": "https://stackoverflow.com/users/5298950/knytshade"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1441750881, "post_id": 32466104, "comment_id": 52798197, "body": "I was doing that, and inside the loop... Its the little things that get you thanks."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441788322, "post_id": 32466104, "comment_id": 52810638, "body": "Arrays start at zero too."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1441742570, "post_id": 32466175, "comment_id": 52794553, "body": "You&#39;ll also want to check the size of the arrays before performing the division so that you don&#39;t accidentally divide by zero. (Directed more towards the OP, but it would still be a good thing to include in the answer.)"}], "tags": [], "owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "is_accepted": false, "score": 2, "last_activity_date": 1441742651, "last_edit_date": 1441742651, "creation_date": 1441742063, "answer_id": 32466175, "question_id": 32466104, "link": "https://stackoverflow.com/questions/32466104/pushing-to-an-array-while-in-a-loop/32466175#32466175", "title": "Pushing to an array while in a loop", "body": "<p>You're re-creating the arrays, and calculating an average of a single element, for each matching line. Declare the arrays outside, and print their values after you're done with the file:</p>\n\n<pre><code>my (@xcoordinate_array, @ycoordinate_array, @zcoordinate_array);\n\nfor (my $line = 1; $line &lt;= $#data; ++$line) {\n   if (($data[$line] =~ m/\\s+$resid1\\s+P/) &amp;&amp; ($data[$line] =~ m/P\\s+$resnum1\\s+/)) {\n    chomp $data[$line];\n    my @splitline = (split /\\s+/, $data[$line]);\n\n    push @xcoordinate_array, $splitline[6];\n    push @ycoordinate_array, $splitline[7];\n    push @zcoordinate_array, $splitline[8];\n  }\n}\n\n#calculate the average x coordinate\nif (@xcoordinate_array &gt; 0) {\n  $xsum     = sum(@xcoordinate_array);\n  $xaverage = $xsum / @xcoordinate_array;\n}\n\n#calculate the average y coordinate\nif (@ycoordinate_array &gt; 0) {\n  $ysum     = sum(@ycoordinate_array);\n  $yaverage = $ysum / @ycoordinate_array;\n}\n\n#calculate the average z coordinate\nif (@zcoordinate_array &gt; 0) {\n  $zsum     = sum(@zcoordinate_array);\n  $zaverage = $zsum / @zcoordinate_array;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5298950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/972b38e05547f757a0d0446b1e499edf?s=128&d=identicon&r=PG&f=1", "display_name": "knytshade", "link": "https://stackoverflow.com/users/5298950/knytshade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441742651, "creation_date": 1441741817, "last_edit_date": 1441742168, "question_id": 32466104, "link": "https://stackoverflow.com/questions/32466104/pushing-to-an-array-while-in-a-loop", "title": "Pushing to an array while in a loop", "body": "<p>I am attempting to make a script that calculates the centroid of two amino acids then finds the distance between the two centroids. Obviously to do this I need all of the x,y,z coordinates which I have and can get at just fine. However, when I attempt to find the average of each of these I am simply getting the last value. Right now I have a fairly lengthy bit of code but the part that is giving me trouble is:</p>\n\n<pre><code>for (my $line = 1; $line &lt;= $#data; ++$line) {\n   if (($data[$line] =~ m/\\s+$resid1\\s+P/)&amp;&amp;($data[$line] =~ m/P\\s+$resnum1\\s+/)) {\n    chomp $data[$line];\n    my @splitline = (split /\\s+/, $data[$line]);\n    #print \"$splitline[1] $splitline[3] $splitline[5] $splitline[6] $splitline[7] $splitline[8]\\n\";\n            #atom#         #residue       #resid        #x-coor        #y-coor        #z-coor\n\n    #calculate the average x coordinate\n    my @xcoordinate_array;\n    push @xcoordinate_array, $splitline[6];\n    $xsum =sum(@xcoordinate_array);\n    $xaverage=($xsum/$#xcoordinate_array);\n    print \"@xcoordinate_array \\n\";\n\n    #calculate the average y coordinate\n    my @ycoordinate_array;\n    push @ycoordinate_array, $splitline[7];\n    $ysum =sum(@ycoordinate_array);\n    $yaverage =($xsum/$#ycoordinate_array);\n\n    #calculate the average z coordinate\n    my @zcoordinate_array;\n    push @zcoordinate_array, $splitline[8];\n    $zsum =sum(@zcoordinate_array);\n    $zaverage=($zsum/$#zcoordinate_array);\n    }\n\n  }\n</code></pre>\n\n<p>Basically what this is supposed to do is search for some residue name (<code>resid1</code>), then some residue number (<code>resnum1</code>), read that line into an array (<code>@splitline</code>) (whose important contents are explained on line 5), then it is supposed to put each type of value into its individual array and use a subroutine (<code>sum</code>) to add the whole array and then divide by the number of things in the array.</p>\n\n<p>However, when I print any of the averages it is only the last value. I understand why this is happening, however I cannot calculate the average outside of the loop since perl throws a fit saying that I cannot access the <code>@xcoordinate_array</code> outside of the loop. I understand that it is just overriding the array every time it goes the loop however I was hoping that it would add each value onto the array and at the end give the correct value.</p>\n\n<p>So what I am asking is, how do I fix it so that I can get the array \"full\" with each value?</p>\n"}, {"tags": ["arrays", "perl", "scalar"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1441741262, "last_edit_date": 1441741262, "creation_date": 1441740733, "answer_id": 32465791, "question_id": 32465769, "link": "https://stackoverflow.com/questions/32465769/perl-scalar-function-returning-1-on-an-empty-array/32465791#32465791", "title": "Perl &quot;scalar&quot; function returning &quot;1&quot; on an empty array", "body": "<p>Inside <code>test</code>, <code>$var</code> is set to <code>undef</code> by the assignment. So your call to <code>test2</code> passes a list with one element, <code>undef</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1441741957, "post_id": 32465997, "comment_id": 52794160, "body": "That&#39;s exactly what I want.  Thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1441741997, "post_id": 32465997, "comment_id": 52794185, "body": "<code>test2( defined($var) ? $var : () )</code> aka <code>test2( $var &#47;&#47; () )</code> may also be of interest."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1441742347, "post_id": 32465997, "comment_id": 52794418, "body": "Actually doing a little more digging I found this: <code>BEGIN { *test = \\&amp;test2 }</code> which makes the function <code>test</code> by definition the same as <code>test2</code> creating an alias to the function.  This is really the functionality I was looking for."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1441741464, "creation_date": 1441741464, "answer_id": 32465997, "question_id": 32465769, "link": "https://stackoverflow.com/questions/32465769/perl-scalar-function-returning-1-on-an-empty-array/32465997#32465997", "title": "Perl &quot;scalar&quot; function returning &quot;1&quot; on an empty array", "body": "<p><code>test2($var)</code> passes one scalar to <code>test2</code> (<code>$var</code>), so one scalar is assigned to <code>@array</code> by <code>my (@array) = @_;</code>.</p>\n\n<p>The value of the scalar in question (<code>$var</code>) is <code>undef</code>, since you assigned \"nothing\" to <code>$var</code> in <code>my ($var) = @_;</code>.</p>\n\n<p>Maybe you want <code>test2(@_)</code> (passes the zero scalars in <code>@_</code>) instead of <code>test2($var)</code> (passes the one scalar <code>$var</code>)?</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 711, "favorite_count": 0, "accepted_answer_id": 32465997, "answer_count": 2, "score": 2, "last_activity_date": 1441741464, "creation_date": 1441740646, "question_id": 32465769, "link": "https://stackoverflow.com/questions/32465769/perl-scalar-function-returning-1-on-an-empty-array", "title": "Perl &quot;scalar&quot; function returning &quot;1&quot; on an empty array", "body": "<p>The following Perl code will print a \"1\", however the function <code>test2</code> really has no legitimate input value.  Why does Perl act this way?</p>\n\n<pre><code>test();\n\nsub test {\n    my ($var) = @_;\n\n    test2($var);\n}\n\nsub test2 {\n    my (@array) = @_;\n    print scalar @array;\n}\n</code></pre>\n"}, {"tags": ["git", "perl", "svn"], "comments": [{"owner": {"reputation": 23221, "user_id": 40214, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1a9434856852a991a585fbb993174c81?s=128&d=identicon&r=PG", "display_name": "Dennis C", "link": "https://stackoverflow.com/users/40214/dennis-c"}, "edited": false, "score": 2, "creation_date": 1443158259, "post_id": 32465621, "comment_id": 53389083, "body": "I&#39;m voting to close this question as off-topic because SO is not a place to discuss specific well known bug of a software. They should report it to bugzilla or mailing where it should"}], "answers": [{"comments": [{"owner": {"reputation": 1411, "user_id": 1663987, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lw0g6.png?s=128&g=1", "display_name": "simpleuser", "link": "https://stackoverflow.com/users/1663987/simpleuser"}, "edited": false, "score": 0, "creation_date": 1505743281, "post_id": 32965814, "comment_id": 79525346, "body": "given that &#39;git svn clone&#39; is <i>creating</i> a repository, where did you run these commands?"}, {"owner": {"reputation": 14216, "user_id": 411846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/077e85b58e7d2f715ce377c558d3b4ec?s=128&d=identicon&r=PG", "display_name": "centic", "link": "https://stackoverflow.com/users/411846/centic"}, "reply_to_user": {"reputation": 1411, "user_id": 1663987, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lw0g6.png?s=128&g=1", "display_name": "simpleuser", "link": "https://stackoverflow.com/users/1663987/simpleuser"}, "edited": false, "score": 0, "creation_date": 1505756865, "post_id": 32965814, "comment_id": 79533705, "body": "I just saw the same error message, it may have been after doing &quot;git svn clone&quot; before, honestly, I don&#39;t remember in full detail any more now."}], "tags": [], "owner": {"reputation": 14216, "user_id": 411846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/077e85b58e7d2f715ce377c558d3b4ec?s=128&d=identicon&r=PG", "display_name": "centic", "link": "https://stackoverflow.com/users/411846/centic"}, "is_accepted": false, "score": 6, "last_activity_date": 1444122095, "last_edit_date": 1495540937, "creation_date": 1444122095, "answer_id": 32965814, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/32965814#32965814", "title": "git svn clone malformed index info error", "body": "<p>I had similar exceptions and error messages, for me a </p>\n\n<pre><code>git gc\n</code></pre>\n\n<p>and/or a </p>\n\n<pre><code>git svn gc\n</code></pre>\n\n<p>brought the repository back into a usable state. See also <a href=\"https://stackoverflow.com/a/1436386/411846\">https://stackoverflow.com/a/1436386/411846</a></p>\n"}, {"tags": [], "owner": {"reputation": 1969, "user_id": 1171132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d065b89e3ccd87c50079436c9c5f94c3?s=128&d=identicon&r=PG", "display_name": "syned", "link": "https://stackoverflow.com/users/1171132/syned"}, "is_accepted": false, "score": 0, "last_activity_date": 1455290438, "creation_date": 1455290438, "answer_id": 35366106, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/35366106#35366106", "title": "git svn clone malformed index info error", "body": "<p>In my case this error happened with big repository. So try to clone subfolder if possible.</p>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 590047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae43ba8715b90a516c0cd510d57cf5d9?s=128&d=identicon&r=PG", "display_name": "Devgrapher", "link": "https://stackoverflow.com/users/590047/devgrapher"}, "edited": false, "score": 0, "creation_date": 1461287095, "post_id": 35655792, "comment_id": 61142013, "body": "I switched to 32bit from 64bit. And I solved it! Thanks."}], "tags": [], "owner": {"reputation": 302, "user_id": 1332886, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7030f998864c7fb9e3bae0e45ccca7de?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeshwar Agrawal", "link": "https://stackoverflow.com/users/1332886/rajeshwar-agrawal"}, "is_accepted": false, "score": 3, "last_activity_date": 1456986934, "last_edit_date": 1456986934, "creation_date": 1456501029, "answer_id": 35655792, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/35655792#35655792", "title": "git svn clone malformed index info error", "body": "<p><strong>Updated</strong> - The problem still occurs after git gc for me. I tried every version of git windows (both 32 and 64 bit), but still I got this error. Then I switched to using git on linux and it works fine for me, even for extremely large commits. I recommend to switch to linux otherwise you are out of luck as the issue raised here - <a href=\"https://github.com/git-for-windows/git/issues/274\" rel=\"nofollow\">https://github.com/git-for-windows/git/issues/274</a> is almost 6 months old.</p>\n\n<p><strong>Updated</strong> - To add to centic's answer, the <code>git gc</code> only works fine for 32-bit git for windows, for this particular problem.</p>\n\n<p>I think the problem exists for 64-bit git for windows. I was having the same problem with 64 bit git, but after switching to git 2.7.2 windows 32-bit, the problems seems to be solved for me.</p>\n"}, {"tags": [], "owner": {"reputation": 1466, "user_id": 2208671, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c12d888c5b9aa2ecf61e373128d9d483?s=128&d=identicon&r=PG", "display_name": "sevensevens", "link": "https://stackoverflow.com/users/2208671/sevensevens"}, "is_accepted": false, "score": 1, "last_activity_date": 1457377430, "creation_date": 1457377430, "answer_id": 35851853, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/35851853#35851853", "title": "git svn clone malformed index info error", "body": "<p>I was able to check out the svn repo correctly using <a href=\"https://www.cygwin.com\" rel=\"nofollow\">Cygwin</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 14451, "user_id": 33499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c590aa4c56918b47c7ba5e39dba5d8?s=128&d=identicon&r=PG", "display_name": "wimh", "link": "https://stackoverflow.com/users/33499/wimh"}, "edited": false, "score": 0, "creation_date": 1466613552, "post_id": 37963647, "comment_id": 63393793, "body": "It also fixed the issue for me. The only two settings I had to change were <code>core.packedGitLimit</code> and <code>core.packedGitWindowSize</code>"}, {"owner": {"reputation": 1518, "user_id": 591004, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/038dd79c1cd086e1c0d2d001771bf982?s=128&d=identicon&r=PG", "display_name": "derFunk", "link": "https://stackoverflow.com/users/591004/derfunk"}, "edited": false, "score": 1, "creation_date": 1471012694, "post_id": 37963647, "comment_id": 65197930, "body": "<code>longpaths = true</code> was helping me! Thanks!"}, {"owner": {"reputation": 2345, "user_id": 1904815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0d91993986d41cc2e45871433d6fa31?s=128&d=identicon&r=PG", "display_name": "JonnyJD", "link": "https://stackoverflow.com/users/1904815/jonnyjd"}, "edited": false, "score": 0, "creation_date": 1473866677, "post_id": 37963647, "comment_id": 66305929, "body": "For me it was <code>postBuffer = 134217728</code> that helped (raising to this value helped already, making it even bigger, like in the example above, would also help)."}, {"owner": {"reputation": 21431, "user_id": 321973, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/79175a222a9933b9fc278cd94b228bf7?s=128&d=identicon&r=PG", "display_name": "Tobias Kienzler", "link": "https://stackoverflow.com/users/321973/tobias-kienzler"}, "edited": false, "score": 0, "creation_date": 1476296606, "post_id": 37963647, "comment_id": 67289412, "body": "I assume <code>symlinks=false</code>, <code>filemode=false</code> and <code>ignorecase=true</code> apply only to Windows?"}], "tags": [], "owner": {"reputation": 243, "user_id": 6310164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/185565f5efa02c46f3ff21741f9fdff2?s=128&d=identicon&r=PG&f=1", "display_name": "Rajat Srivastava", "link": "https://stackoverflow.com/users/6310164/rajat-srivastava"}, "is_accepted": false, "score": 19, "last_activity_date": 1466613428, "last_edit_date": 1466613428, "creation_date": 1466587065, "answer_id": 37963647, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/37963647#37963647", "title": "git svn clone malformed index info error", "body": "<p>I got this error while migrating huge svn repository to git using svn2git tool. I added below lines in my .git/config file and it started working:</p>\n\n<pre><code>[core]\n    repositoryformatversion = 0\n    filemode = false\n    bare = false\n    logallrefupdates = true\n    symlinks = false\n    ignorecase = true\n    hideDotFiles = dotGitOnly\n    packedGitLimit = 256m\n    packedGitWindowSize = 256m\n    longpaths = true\n[http]\n    postBuffer = 524288000\n[pack]\n  deltaCacheSize = 256m\n  packSizeLimit = 256m\n  windowMemory = 1024m\n</code></pre>\n\n<p>These settings are explained at the <a href=\"https://git-scm.com/docs/git-config\">git-config man page</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1041, "user_id": 344501, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/974f1971efcd5eed5a25265d019cef27?s=128&d=identicon&r=PG", "display_name": "jgomo3", "link": "https://stackoverflow.com/users/344501/jgomo3"}, "edited": false, "score": 0, "creation_date": 1472959888, "post_id": 38617868, "comment_id": 65959324, "body": "In my case, the problematic revision was the number 1. But using your formula didn&#39;t work directly. What worked for me was splitint 0:2 and then 2:HEAD.  The solution was using your method anyway."}], "tags": [], "owner": {"reputation": 567, "user_id": 528310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d7f50f1ed542361e8ea7aaf92885b?s=128&d=identicon&r=PG", "display_name": "P.D.P.", "link": "https://stackoverflow.com/users/528310/p-d-p"}, "is_accepted": false, "score": 4, "last_activity_date": 1474961804, "last_edit_date": 1474961804, "creation_date": 1469634801, "answer_id": 38617868, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/38617868#38617868", "title": "git svn clone malformed index info error", "body": "<h1>Check which svn commit caused the problem.</h1>\n\n<p>The commits are outputted by the <code>git svn clone</code> command, preceded by an <em>r</em>. The last commit that is outputted is the problematic one.</p>\n\n<p>The next example shows what the <code>git svn clone</code> command outputs when begin procesing the <strong>Subversion revision</strong> <code>15</code> as the <strong>Git commit</strong> <code>373fb1...</code>:</p>\n\n<pre><code>r15 = 373fb1de430a6b1e89585425f276aae0058c3deb (refs/remotes/svn/trunk)\n</code></pre>\n\n<h1>Split up the <code>git svn clone</code> command using the <code>-r</code> (revision) option</h1>\n\n<p>Use this method:</p>\n\n<pre><code>git svn clone -r 0:&lt;problematic_revision - 1&gt; &lt;repo URL&gt;\ngit svn clone -r &lt;problematic_revision - 1&gt;:problematic_revision &lt;repo URL&gt;\ngit svn clone -r &lt;problematic_revision&gt;:HEAD &lt;repo URL&gt;\n</code></pre>\n\n<p>Supposing the revision <code>15</code> as the problematic one, and the repo in <code>/tmp/svn/repo/</code>, the solution would be:</p>\n\n<pre><code>git svn clone -r  0:14   file:///tmp/svn/repo/\ngit svn clone -r 14:15   file:///tmp/svn/repo/\ngit svn clone -r 15:HEAD file:///tmp/svn/repo/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1276, "user_id": 199225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExSTz.jpg?s=128&g=1", "display_name": "Krystian Bigaj", "link": "https://stackoverflow.com/users/199225/krystian-bigaj"}, "edited": false, "score": 0, "creation_date": 1476429286, "post_id": 39750266, "comment_id": 67350563, "body": "Thanks! This one workaround worked for me! Other workarounds like upgrading git/svn, editing .git/config, using 64-bit (OS or/and git), or linux, didn&#39;t help. However I got another issue (max opened files), but this one helped <a href=\"http://stackoverflow.com/a/24796466/199225\">stackoverflow.com/a/24796466/199225</a>"}, {"owner": {"reputation": 1448, "user_id": 176258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a7515d845fcd107e683bf58df08a86dc?s=128&d=identicon&r=PG", "display_name": "lcltj", "link": "https://stackoverflow.com/users/176258/lcltj"}, "edited": false, "score": 0, "creation_date": 1488924347, "post_id": 39750266, "comment_id": 72444400, "body": "This helped a lot as a workaround, but still need to find the solution."}, {"owner": {"reputation": 187, "user_id": 3058120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbbc457c023aa2eb2ca04209dbad641?s=128&d=identicon&r=PG&f=1", "display_name": "caleb c.", "link": "https://stackoverflow.com/users/3058120/caleb-c"}, "edited": false, "score": 0, "creation_date": 1509579641, "post_id": 39750266, "comment_id": 81078886, "body": "OMG, yes, this worked for me too.  How strange.  Thank you!"}], "tags": [], "owner": {"reputation": 2072, "user_id": 543735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/769492865506b60a50ff410dc5b70b06?s=128&d=identicon&r=PG", "display_name": "matthias.lukaszek", "link": "https://stackoverflow.com/users/543735/matthias-lukaszek"}, "is_accepted": false, "score": 15, "last_activity_date": 1504695810, "last_edit_date": 1504695810, "creation_date": 1475072490, "answer_id": 39750266, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/39750266#39750266", "title": "git svn clone malformed index info error", "body": "<p><strong>Update:</strong> After updating to Ubuntu 17.04 with 2.11.0 and git-svn 1:2.11.0-2ubuntu0.2 the clone worked flawlessly.</p>\n\n<p>I found a funny solution for that issue while debugging through the perl scripts: </p>\n\n<ul>\n<li>Slow down or somehow manipulate the execution by running <code>git svn</code> in the perl debugger.</li>\n</ul>\n\n<p>Start <code>git svn fetch</code> with the following command (you might have to change the paths. This should also work with clone). Make sure to run the command inside your git repository / directory:</p>\n\n<pre><code>perl -d /usr/lib/git-core/git-svn fetch\n</code></pre>\n\n<p>Enter the following into the debugger and press <strong>ENTER</strong>:</p>\n\n<pre><code>b /usr/share/perl5/Git/SVN/Fetcher.pm:368 $base==undef or $dup==undef\n</code></pre>\n\n<p>This basically adds a conditional breakpoint at the position where I get the signal 11. This is the line of code:</p>\n\n<pre><code>[ SVN::TxDelta::apply($base, $dup, undef, $fb-&gt;{path}, $fb-&gt;{pool}) ];\n</code></pre>\n\n<p>Then enter <code>c</code> to continue the execution and press <strong>ENTER</strong>.</p>\n\n<p>Can someone explain why this helps?</p>\n\n<p>Edit: It worked: 213000 revisions and 1780 branches cloned into git!</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 4287536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52a45add3c1d35194775c729510525e?s=128&d=identicon&r=PG&f=1", "display_name": "Marc W.", "link": "https://stackoverflow.com/users/4287536/marc-w"}, "is_accepted": false, "score": 2, "last_activity_date": 1480324056, "creation_date": 1480324056, "answer_id": 40840545, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/40840545#40840545", "title": "git svn clone malformed index info error", "body": "<p>For me the only solution that worked was using an older version of Git.\nI used the portable package of Git 1.8.3 which can be downloaded here:</p>\n\n<p><a href=\"https://github.com/msysgit/msysgit/releases/tag/Git-1.8.3-preview20130601\" rel=\"nofollow noreferrer\">https://github.com/msysgit/msysgit/releases/tag/Git-1.8.3-preview20130601</a></p>\n\n<p>with it there was no need for .git/config edits, splitted checkouts, or perl debug statements.</p>\n"}, {"tags": [], "owner": {"reputation": 4756, "user_id": 182332, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/zbdsx.png?s=128&g=1", "display_name": "h3n", "link": "https://stackoverflow.com/users/182332/h3n"}, "is_accepted": false, "score": 1, "last_activity_date": 1487160298, "creation_date": 1487160298, "answer_id": 42248890, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/42248890#42248890", "title": "git svn clone malformed index info error", "body": "<p>In my case, I was not connected to our VPN, which is needed for our svn connection. This is my error:</p>\n\n<pre><code>Exception: STATUS_ACCESS_VIOLATION at rip=00000000000\nrax=0000000000000000 rbx=00000006010BBDA8 rcx=00000006010BBDA8\nrdx=00000006010C40E8 rsi=0000000000000011 rdi=0000000000000000\nr8 =0000000000000000 r9 =00000006010EBCA8 r10=0000000100000000\nr11=000000049F2423C9 r12=00000000FFFFC190 r13=00000000FFFFC198\nr14=00000006010B2DF8 r15=00000006010B2D68\nrbp=00000000FFFFC1A8 rsp=00000000FFFFC138\nprogram=C:\\Program Files\\Git\\usr\\bin\\perl.exe, pid 7884, thread main\ncs=0033 ds=002B es=002B fs=0053 gs=002B ss=002B\nStack trace:\nFrame        Function    Args\nEnd of stack trace\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1493814972, "post_id": 42254207, "comment_id": 74561532, "body": "Sounds like a nice idea ... but yuck, it is only free to use for non-commercial use ;-("}], "tags": [], "owner": {"reputation": 1050, "user_id": 2792852, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/JubJq.gif?s=128&g=1", "display_name": "feos", "link": "https://stackoverflow.com/users/2792852/feos"}, "is_accepted": false, "score": 2, "last_activity_date": 1487174311, "creation_date": 1487174311, "answer_id": 42254207, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/42254207#42254207", "title": "git svn clone malformed index info error", "body": "<p>I was getting all sorts of errors with git-svn where the perl script would die in various places, fetching would break, or the server would cut the connection. This was a huge repo that took dozens GBs when checked out via svn.</p>\n\n<p>What solved this for me was simply using SmartGit instead of git-svn. It required Java 8, ran extremely fast, and reported no errors whatsoever, seamlessly completing in a few hours the task that took svn several days.</p>\n"}, {"tags": [], "owner": {"reputation": 1448, "user_id": 176258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a7515d845fcd107e683bf58df08a86dc?s=128&d=identicon&r=PG", "display_name": "lcltj", "link": "https://stackoverflow.com/users/176258/lcltj"}, "is_accepted": false, "score": 2, "last_activity_date": 1490982621, "last_edit_date": 1490982621, "creation_date": 1488919564, "answer_id": 42658005, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/42658005#42658005", "title": "git svn clone malformed index info error", "body": "<p>Here is the problem I have:</p>\n\n<ul>\n<li>OS: xubuntu 16.04</li>\n<li>git-svn version 2.7.4 (svn 1.9.3)</li>\n</ul>\n\n<p>Trace info from <code>perl -d /usr/lib/git-core/git-svn fetch</code>:</p>\n\n<pre><code>Signal SEGV at /usr/local/share/perl/5.22.1/Git/SVN/Fetcher.pm line 368\n    Git::SVN::Fetcher::apply_textdelta(Git::SVN::Fetcher=HASH(0x20ee160), HASH(0x2488a40), undef, _p_apr_pool_t=SCALAR(0x2488bf0)) called at /usr/lib/x86_64-linux-gnu/perl5/5.22/SVN/Ra.pm line 623\n    SVN::Ra::Reporter::AUTOLOAD(SVN::Ra::Reporter=ARRAY(0x8d0fa0), SVN::Pool=REF(0x20ee910)) called at /usr/local/share/perl/5.22.1/Git/SVN/Ra.pm line 308\n    Git::SVN::Ra::gs_do_update(Git::SVN::Ra=HASH(0x20df170), 42560, 42560, Git::SVN=HASH(0x20dea08), Git::SVN::Fetcher=HASH(0x20ee160)) called at /usr/local/share/perl/5.22.1/Git/SVN.pm line 1205\n    Git::SVN::do_fetch(Git::SVN=HASH(0x20dea08), HASH(0x20ee1d8), 42560) called at /usr/local/share/perl/5.22.1/Git/SVN/Ra.pm line 471\n    Git::SVN::Ra::gs_fetch_loop_common(Git::SVN::Ra=HASH(0x20df170), 42500, 95400, ARRAY(0x1637c08), ARRAY(0x1637c20)) called at /usr/local/share/perl/5.22.1/Git/SVN.pm line 179\n    Git::SVN::fetch_all(\"svn\", HASH(0x20dee28)) called at /usr/lib/git-core/git-svn line 570\n    main::cmd_fetch() called at /usr/lib/git-core/git-svn line 386\n    eval {...} called at /usr/lib/git-core/git-svn line 384\nAborted (core dumped)\n</code></pre>\n\n<hr>\n\n<p>I finally fixed this problem by the following steps(This is for Ubuntu Linux 16.04 users):</p>\n\n<pre><code>sudo apt build-dep subversion\nsudo apt install libneon27-dev\nsudo cpan SVN::Core\n</code></pre>\n\n<p>Then I can use <code>git svn fetch/clone</code> without any crash.</p>\n\n<p>The root cause of this problem is that the Perl SVN::Core library script does not match the binaries installed in Perl(There are separate subversion binaries installed in Perl beside the system installed ones).</p>\n\n<p>Beware this will downgrade your git-svn's svn version to 1.8.11(before it's 1.9.3), and might cause other problems.</p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 2030795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6b345182c212923e8f8876a763c9b4?s=128&d=identicon&r=PG", "display_name": "Dominik Jen&#237;k", "link": "https://stackoverflow.com/users/2030795/dominik-jen%c3%adk"}, "is_accepted": false, "score": 0, "last_activity_date": 1513167099, "creation_date": 1513167099, "answer_id": 47792732, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/47792732#47792732", "title": "git svn clone malformed index info error", "body": "<p>I can reproduce this problem every time\uff0cand git svn works perfect in </p>\n\n<blockquote>\n  <p>version 1.9.5</p>\n</blockquote>\n\n<p>You can install it from Git-1.9.5-preview20141217.exe from </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/msysgit/msysgit/releases/tag/Git-1.9.5-preview20141217\" rel=\"nofollow noreferrer\">https://github.com/msysgit/msysgit/releases/tag/Git-1.9.5-preview20141217</a></p>\n</blockquote>\n\n<p>I wonder if someone can check the difference between the old version 1.9.5 and current version (after you move from msysgit to here)</p>\n\n<p>It's painful to use the old version for git, just because the git svn can not work properly in new version.</p>\n"}, {"tags": [], "owner": {"reputation": 3518, "user_id": 1294681, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/lD31z.jpg?s=128&g=1", "display_name": "VinceStyling", "link": "https://stackoverflow.com/users/1294681/vincestyling"}, "is_accepted": false, "score": 0, "last_activity_date": 1525765254, "creation_date": 1525765254, "answer_id": 50228413, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/50228413#50228413", "title": "git svn clone malformed index info error", "body": "<p>in my case, this error happened at Ubuntu 16.04 and the version is <strong>git-svn version 2.17.0 (svn 1.9.3)</strong> after I ran <code>git svn --version</code> command, i switch to my MacOS which version info is <strong>git-svn version 2.17.0 (svn 1.7.20)</strong> after I ran <code>git svn --version</code> command, then switch back to ubuntu after succeeded clone &amp; fetch and other operations in MacOS.</p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 7720947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a216d34319b3b4a4d902e3fee51d68?s=128&d=identicon&r=PG&f=1", "display_name": "Nabil", "link": "https://stackoverflow.com/users/7720947/nabil"}, "is_accepted": false, "score": 0, "last_activity_date": 1564251285, "creation_date": 1564251285, "answer_id": 57234877, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/57234877#57234877", "title": "git svn clone malformed index info error", "body": "<p>Executing rebase.exe in C:\\Program Files\\Git\\usr\\bin solved it for me. I found the solution in here <a href=\"https://github.com/msysgit/msysgit/issues/25\" rel=\"nofollow noreferrer\">https://github.com/msysgit/msysgit/issues/25</a> </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8763980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b831546a85cdf7f1056f8dd323b60242?s=128&d=identicon&r=PG&f=1", "display_name": "w0q", "link": "https://stackoverflow.com/users/8763980/w0q"}, "is_accepted": false, "score": 0, "last_activity_date": 1612500549, "last_edit_date": 1612500549, "creation_date": 1565244860, "answer_id": 57406201, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/57406201#57406201", "title": "git svn clone malformed index info error", "body": "<p>if SVN repo must be accessed via a http/https proxy need config proxy in file</p>\n<blockquote>\n<p>c:\\Users\\...\\.subversion\\servers.</p>\n</blockquote>\n<p>In [global] section set http-proxy-host and http-proxy-port.</p>\n<p>Solution from</p>\n<blockquote>\n<p>https://github.com/git-for-windows/git/issues/274#issuecomment-473826553</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 8088550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KwKN2.png?s=128&g=1", "display_name": "image", "link": "https://stackoverflow.com/users/8088550/image"}, "is_accepted": false, "score": 0, "last_activity_date": 1617811309, "creation_date": 1617811309, "answer_id": 66989806, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error/66989806#66989806", "title": "git svn clone malformed index info error", "body": "<p>For me the proxy settings fixed it. See also:\n<a href=\"https://github.com/git-for-windows/git/issues/274#issuecomment-473826553\" rel=\"nofollow noreferrer\">https://github.com/git-for-windows/git/issues/274#issuecomment-473826553</a></p>\n<p>Inside <code>C:\\Users\\USERNAME\\.subversion\\servers</code> set</p>\n<pre><code>[global]\nhttp-proxy-host = [insert IP here]\nhttp-proxy-port = [insert port here]\n</code></pre>\n"}], "owner": {"reputation": 2485, "user_id": 2656813, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c28354712837999033d8b5701b771db4?s=128&d=identicon&r=PG", "display_name": "Aelphaeis", "link": "https://stackoverflow.com/users/2656813/aelphaeis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15811, "favorite_count": 9, "answer_count": 16, "score": 41, "last_activity_date": 1617811309, "creation_date": 1441740059, "last_edit_date": 1495540480, "question_id": 32465621, "link": "https://stackoverflow.com/questions/32465621/git-svn-clone-malformed-index-info-error", "title": "git svn clone malformed index info error", "body": "<p>When I run git svn clone I get the following error :</p>\n\n<blockquote>\n<pre><code>  0 [main] perl 24432 cygwin_exception::open_stackdumpfile: Dumping stack trace to perl.exe.stackdump\n  fatal: malformed index info 100644 362f1c18ceed5d593eb021432545685283a93 \n</code></pre>\n</blockquote>\n\n<p>When I open the file I see the following : </p>\n\n<blockquote>\n  <p>Exception: STATUS_ACCESS_VIOLATION at rip=0048360C537\n  rax=00000006039F81E0 rbx=000000005219E248 rcx=000000060003A3C0\n  rdx=0000000000000000 rsi=000000000000FDB4 rdi=0000000000000004\n  r8 =0000000000000000 r9 =0000000000000000 r10=0000000000230000\n  r11=000000048D785FBA r12=0000000000000003 r13=000006FFFF7FEDB8\n  r14=00000006014D4030 r15=000006FFFF7FEDD0\n  rbp=000000000007EDA8 rsp=000000000022BE80\n  program=C:\\Program Files\\Git\\usr\\bin\\perl.exe, pid 24432, thread main\n  cs=0033 ds=002B es=002B fs=0053 gs=002B ss=002B</p>\n</blockquote>\n\n<p>I checked the following links : </p>\n\n<p><a href=\"https://stackoverflow.com/questions/25353316/error-with-git-svn-clone\">Error with Git SVN clone</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3531500/problem-cloning-a-single-svn-branch-via-git-svn\">Problem cloning a single SVN Branch via git svn</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/677252/python-svn-bindings-for-windows\">Python SVN bindings for Windows</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1448894/subversion-python-bindings-documentation\">subversion python bindings documentation?</a></p>\n\n<p>Unfortunately, I'm not familiar enough for the underlying technologies to figure out exactly what I should be doing. Would could be causing this and how might I be able to resolve?</p>\n"}, {"tags": ["json", "angularjs", "perl"], "comments": [{"owner": {"reputation": 162900, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1441736993, "post_id": 32464738, "comment_id": 52791607, "body": "looking at this backwards, sending array of objects from server is the norm"}, {"owner": {"reputation": 29, "user_id": 5062071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5184cbb6bf4842e0e1ad4c0320ea8c68?s=128&d=identicon&r=PG&f=1", "display_name": "Wordpress-N00b", "link": "https://stackoverflow.com/users/5062071/wordpress-n00b"}, "reply_to_user": {"reputation": 162900, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1441737235, "post_id": 32464738, "comment_id": 52791744, "body": "I&#39;m confused? Most of the queries on the other pages seem to have no issue returning an array. Though I don&#39;t know if they deal with derived columns"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441738003, "post_id": 32464738, "comment_id": 52792194, "body": "Your issue is clearly with <code>database_select_as_hash_with_auto_key</code>. You&#39;re requesting a hash, massaging the data a little, and returning a hash. How could that possibly produce an array? Show us the code to the subroutine I mentioned, and perhaps we can suggest the changes you&#39;ll need to make."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1441738167, "post_id": 32464738, "comment_id": 52792266, "body": "Also, <code>%response = {}</code> is assigning a hash reference, which is a scalar, into a hash, which is a problem. You should <code>use strict</code> and <code>use warnings</code> to catch things like this."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 0, "last_activity_date": 1441738403, "last_edit_date": 1441738403, "creation_date": 1441737807, "answer_id": 32465036, "question_id": 32464738, "link": "https://stackoverflow.com/questions/32464738/perl-parse-json-response-as-an-array/32465036#32465036", "title": "Perl parse JSON response as an array", "body": "<p>On the back end, you could place the data into a separate array instead of adding each row to the hash:</p>\n\n<pre><code>foreach $i ( keys %hash ) {\n    push @{$response{data}}, { id =&gt; $i,\n                               content =&gt; $hash{$i}{content},\n                               ... ,\n                             };\n}\nprint_json_response( %response );\n</code></pre>\n\n<p>Or on the front end, convert your associative array to a regular array:</p>\n\n<pre><code>$http.get(\"/folder/ofSubroutine.cgi\")\n    .then(function(minutes_results) {\n        console.log(minutes_results);\n        var minutes_results_as_array = [];\n        for (var key in minutes_results) {\n            if (key != \"error\") {\n                minutes_results[key].id = key;\n                minutes_results_as_array.push(minutes_results[key]);\n            }\n        }\n        // display minutes_results_as_array as you see fit\n      } );\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5062071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5184cbb6bf4842e0e1ad4c0320ea8c68?s=128&d=identicon&r=PG&f=1", "display_name": "Wordpress-N00b", "link": "https://stackoverflow.com/users/5062071/wordpress-n00b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 32465036, "answer_count": 1, "score": 0, "last_activity_date": 1441738403, "creation_date": 1441736675, "question_id": 32464738, "link": "https://stackoverflow.com/questions/32464738/perl-parse-json-response-as-an-array", "title": "Perl parse JSON response as an array", "body": "<p>I have a long sql query with a lot of derived columns and I'm trying to get it displayed in an angular page. I reached the point where I'm getting a json response back from the db but its returning each row as one big object instead of an array. I'm using perl to query the db and I've tried a bunch of ways to parse it and I haven't gotten it yet.</p>\n\n<p>The subroutine:</p>\n\n<pre><code>require fileWithAllImports.pl #has CGI, JSON, etc\n%response                 = {};\n$response{error}{code}    = \"0\";\n$response{error}{message} = \"OK\";\n\n$sql = \"select c.title as Content....\";\n$sql  = &amp;database_escape_sql($sql); #I think its self-explanatory what this does\n%hash = &amp;database_select_as_hash_with_auto_key(\n$sql,\"content ... \"); #more columns\n\nforeach $i ( keys %hash ) {\n\n        $id                              = $i;\n        $response{$i}{content}           = $hash{$i}{content};\n       ...\n    } #again all of the columns\n\nprint_json_response(%response);\n</code></pre>\n\n<p>The angular call:</p>\n\n<pre><code>$http.get(\"/folder/ofSubroutine.cgi\")\n        .then(function(minutes_results) {\n            console.log(minutes_results);\n</code></pre>\n\n<p>and the json repsonse:</p>\n\n<pre><code>{\"6\":{\"derivedcolumn\":\"123\",\"anotherderived\":\"987\",..},\"11\":{\"derived column\":\"123\"}...}\n</code></pre>\n\n<p>I believe <code>ng-repeat</code> only works with an array so how would I parse the response from the server into an array?</p>\n"}, {"tags": ["perl", "http", "utf-8", "character-encoding", "cgi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441731581, "post_id": 32462555, "comment_id": 52788613, "body": "How very odd. Is the Content-Length (measured in bytes) correct?"}, {"owner": {"reputation": 459, "user_id": 1522905, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2HTtB.jpg?s=128&g=1", "display_name": "Anugraha Sinha", "link": "https://stackoverflow.com/users/1522905/anugraha-sinha"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441733022, "post_id": 32462555, "comment_id": 52789384, "body": "@ikegami san : As seen in firebug (firefox) I dont see the Content-Length coming in Response Header. Should I be calculating it in the final variable that I am printing and adding it in the meta data of HTML?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441734094, "post_id": 32462555, "comment_id": 52789961, "body": "No, It should be fine without one (though I&#39;d expect apache to provide a chunked response in that case (which is not necessary either))."}, {"owner": {"reputation": 459, "user_id": 1522905, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2HTtB.jpg?s=128&g=1", "display_name": "Anugraha Sinha", "link": "https://stackoverflow.com/users/1522905/anugraha-sinha"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441736450, "post_id": 32462555, "comment_id": 52791277, "body": "@ikegami san : I checked the html size as reported in firebug (though Content-length is not available in header), but the size if 5.37KB. Thereafter, setting the Content-length in the header to 5600 as Content-length: 5600 in the header, the size of the page being loaded is not increasing. It is remaining at 5.37KB and not changing. Note: After setting Content-length in header, I can see the Content-length in reponse header of firebug."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441737043, "post_id": 32462555, "comment_id": 52791630, "body": "No surprises there. I already said that wasn&#39;t the problem."}, {"owner": {"reputation": 459, "user_id": 1522905, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2HTtB.jpg?s=128&g=1", "display_name": "Anugraha Sinha", "link": "https://stackoverflow.com/users/1522905/anugraha-sinha"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441868580, "post_id": 32462555, "comment_id": 52850152, "body": "@ikegami san : I think this problem is not about japanese language et al. I updated my page to be a static one, which is read through a CGI script and do print. When I am doing through JP language in browser, even this kind of standard HTML is getting truncated. With EN language in browser, it not getting truncated. I tried this on a default linux box, different from production, the problem DID NOT OCCUR ON IT."}, {"owner": {"reputation": 459, "user_id": 1522905, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2HTtB.jpg?s=128&g=1", "display_name": "Anugraha Sinha", "link": "https://stackoverflow.com/users/1522905/anugraha-sinha"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441868750, "post_id": 32462555, "comment_id": 52850248, "body": "@ikegami san: &lt;Continued from previous comment&gt;.... When I checked the header of the response, between production machine and default linux box, the response in case of production machine was in HTTP 1.0, however, in default linux box (personal system) was HTTP 1.1. Also Transfer-encoding in case of linux box was chunked. Please note that I am accessing the production machine&#39;s http page over a proxy. The header from production machine has something like this : Via: 1.0 gateway1.abc.co.jp:8080 (squid/2.6.STABLE6). Does having a proxy in the middle the cause? Please suggest/help!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441868981, "post_id": 32462555, "comment_id": 52850369, "body": "chunked is used when there&#39;s no Content-Length. It basically adds a bunch of small content lengths to the body. &quot;There&#39;s 4096 bytes coming. There&#39;s 4096 bytes coming. There&#39;s 122 bytes coming. There&#39;s nothing else coming.&quot; Using Content-Length or chunked allows the same connection to be used for more than one request."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441869109, "post_id": 32462555, "comment_id": 52850442, "body": "Having a proxy shouldn&#39;t cause a problem, but software has bugs. If you could sniff between the proxy and the server, it would tell you more."}, {"owner": {"reputation": 459, "user_id": 1522905, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2HTtB.jpg?s=128&g=1", "display_name": "Anugraha Sinha", "link": "https://stackoverflow.com/users/1522905/anugraha-sinha"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441869581, "post_id": 32462555, "comment_id": 52850725, "body": "@ikegami: Ok, I will try and see if I can sniff around the connection between proxy and server! :-("}], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 1522905, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2HTtB.jpg?s=128&g=1", "display_name": "Anugraha Sinha", "link": "https://stackoverflow.com/users/1522905/anugraha-sinha"}, "is_accepted": false, "score": 0, "last_activity_date": 1444014423, "creation_date": 1444014423, "answer_id": 32940716, "question_id": 32462555, "link": "https://stackoverflow.com/questions/32462555/perl-cgi-script-print-utf-8-encoded-japanese-html-over-http-apache-httpd-g/32940716#32940716", "title": "Perl CGI script print (utf-8 encoded - japanese html) over http (apache httpd) getting truncated", "body": "<p>I kind of found the solution to the problem. In our code we used to add a data in the CGI::Session object, which had the language. In the following form</p>\n\n<pre><code>$session-&gt;param( KEY_SESSION_LANG, $code ).\n</code></pre>\n\n<p>Where $session is a CGI::Session object and KEY_SESSION_LANG is 'language' and $code is something that we get from HTTP_ACCEPT_LANGUAGE. When we see 'en' we used to set it as perl constant 'en', when we got 'ja' we used to set it as perl constant 'ja'.</p>\n\n<p>When we used to form the session object we used to get a session file as (perl version RHEL 5.x (2.6.18-308) &amp; perl-CGI-Session-4.42-2 ) for JA language we used to get the following in the cgi file</p>\n\n<pre><code>cat cgisess_e31c8d21af82b59fd064babc7ca25c01\n$D = {'_SESSION_ID' =&gt; 'e31c8d21af82b59fd064babc7ca25c01','_SESSION_ETIME' =&gt; 6000,'language' =&gt; 'ja','permit' =&gt; 'yes','_SESSION_REMOTE_ADDR' =&gt; '192.168.101.1','_SESSION_CTIME' =&gt; 1441090386,'execute' =&gt; 'yes','_SESSION_ATIME' =&gt; 1441090387,'_SESSION_EXPIRE_LIST' =&gt; {}};*a = \\undef;;$D\n</code></pre>\n\n<p>For perl CGI Session in RHEL 6.6 this is coming out to be</p>\n\n<pre><code>cat cgisess_e31c8d21af82b59fd064babc7ca25c01\n$D = {'_SESSION_ID' =&gt; 'e31c8d21af82b59fd064babc7ca25c01','_SESSION_ETIME' =&gt; 6000,'language' =&gt; *a,'permit' =&gt; 'yes','_SESSION_REMOTE_ADDR' =&gt; '192.168.101.1','_SESSION_CTIME' =&gt; 1441090386,'execute' =&gt; 'yes','_SESSION_ATIME' =&gt; 1441090387,'_SESSION_EXPIRE_LIST' =&gt; {}};*a = \\undef;;$D\n</code></pre>\n\n<p>language data for ja is becoming *a. The same is also reflected when we use perl dumper for getting in memory data.</p>\n\n<p>I checked the /usr/share/perl5/vendor_perl/CGI/Session.pm and it had following information in it</p>\n\n<pre><code>=head1 A Warning about UTF8\n\nTrying to use UTF8 in a program which uses CGI::Session has lead to problems. See RT#21981 and RT#28516.\n\nIn the first case the user tried \"use encoding 'utf8';\" in the program, and in the second case the user tried \"$dbh-&gt;do(qq|set names 'utf8'|);\".\n\nUntil this problem is understood and corrected, users are advised to avoid UTF8 in conjunction with CGI::Session.\n\nFor details, see: http://rt.cpan.org/Public/Bug/Display.html?id=28516 (and ...id=21981).\n\n=head1 TRANSLATIONS\n\nThis document is also available in Japanese.\n</code></pre>\n\n<p>Now when I used the perl dumper following things happened. I quote below from my offical analysis presented on our local development portal</p>\n\n<ul>\n<li>I think the problem is because of perl-CGI-Session OSS package, please see the analysis below.</li>\n</ul>\n\n<p>Some inputs from the CGI session source code.</p>\n\n<pre><code> ## Inputs ##\nFrom the file /usr/share/perl5/vendor_perl/CGI/Session.pm \n## Following are the status of CGI session, set internally after modification to any of the parameters ##\n\nsub STATUS_NEW      () { 1 }        # denotes session that's just created\nsub STATUS_MODIFIED () { 2 }        # denotes session that needs synchronization\nsub STATUS_DELETED  () { 4 }        # denotes session that needs deletion\nsub STATUS_EXPIRED  () { 8 }        # denotes session that was expired.\n\n--snip --\n\nI::Session - persistent session data in CGI applications\n\n=head1 SYNOPSIS\n\n    # Object initialization:\n    use CGI::Session;\n    $session = new CGI::Session();\n\n    $CGISESSID = $session-&gt;id();\n</code></pre>\n\n<ol>\n<li>We are setting the \"language\" parameter in the session object. (We create a CGI object, set cookie to it, to get sid, and through sid get the session object). For setting up the language parameter we do\n$session->param( 'language',  ); ---> language_value = en(english) or ja(japanese). When we have completed the printing of the HTML page in /opt/packageManager/pm_gui/cgi/status.cgi file, I checked the cgi session object it is as follows</li>\n<li>For EN Language</li>\n</ol>\n\n<p>Before executing session flush</p>\n\n<pre><code>[09/10/2015 16:13:41] [23722] &lt;ERROR&gt; status.cgi : 267 :\n $VAR1 = bless( {\n                 '_STATUS' =&gt; 2,\n\n                 '_DATA' =&gt; {\n                              '_SESSION_ETIME' =&gt; 6000,\n                              '_SESSION_ID' =&gt; '995d11334f2c39b95b3fdb86cecd9655',\n                              'permit' =&gt; 'yes',\n                              'language' =&gt; 'en',\n</code></pre>\n\n<p>Then after this when I flush the session as $session->flush() and check the session object it is</p>\n\n<pre><code>[09/10/2015 16:13:41] [23722] &lt;ERROR&gt; status.cgi : 270 : \n $VAR1 = bless( {\n                 '_STATUS' =&gt; 0,\n\n                 '_DATA' =&gt; {\n                              '_SESSION_ETIME' =&gt; 6000,\n                              '_SESSION_ID' =&gt; '995d11334f2c39b95b3fdb86cecd9655',\n                              'permit' =&gt; 'yes',\n                              'language' =&gt; 'en',\n</code></pre>\n\n<p><strong>Inference 1: session status changed after doing flush. This is good, and should be done.</strong></p>\n\n<ol start=\"3\">\n<li><p>For JP Language\nBefore executing session flush</p>\n\n<p>[09/10/2015 16:14:54] [31910]  status.cgi : 267 : \n $VAR1 = bless( {\n                 '_STATUS' => 2,</p>\n\n<pre><code>             '_DATA' =&gt; {\n                          '_SESSION_ID' =&gt; '1cd1b7860af4c71264f3969fe74e7a44',\n                          '_SESSION_ETIME' =&gt; 6000,\n                          'language' =&gt; *a\n</code></pre></li>\n</ol>\n\n<p><strong>Then after this, when I flush the session as $session->flush() and check the session object it is NOT THERE. SCRIPT CRASHES HERE IT SELF</strong></p>\n\n<p><strong>Inference 2 : Doing flush with language JP, is terminating the session, and that is why the session gets destroyed. And that is why, ending data in response is truncated</strong></p>\n\n<p>Due to the wrong value being set in memory, in session object, and then the implicit flush by CGI session is failing on the disk. Which results in termination of the session object, and in between termination of session, and and data loss of HTML.</p>\n\n<p>I checked the actual code in sessions.pm file and it seems to be coming in from here</p>\n\n<pre><code>sub param {\nmy ($self, @args) = @_;\n--snip--\n# USAGE: $s-&gt;param($name, $value);\n# USAGE: $s-&gt;param($name1 =&gt; $value1, $name2 =&gt; $value2 [,...]);\n# DESC:  updates one or more **public** records using simple syntax\nif ((@args % 2) == 0) {\n    my $modified_cnt = 0;\n    ARG_PAIR:\n    while (my ($name, $val) = each %args) {\n        if ( $name =~ m/^_SESSION_/) {\n            carp \"param(): attempt to write to private parameter\";\n            next ARG_PAIR;\n        }\n        $self-&gt;{_DATA}-&gt;{ $name } = $val; ----&gt; HERE\n        ++$modified_cnt;\n    }\n    $self-&gt;_set_status(STATUS_MODIFIED);\n    return $modified_cnt;\n}\n</code></pre>\n\n<p>As a solution, we stopped putting 'ja' value as a perl constant, but now are putting it as a string \"ja\" and it seems to be working fine now.</p>\n"}], "owner": {"reputation": 459, "user_id": 1522905, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2HTtB.jpg?s=128&g=1", "display_name": "Anugraha Sinha", "link": "https://stackoverflow.com/users/1522905/anugraha-sinha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 600, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444014423, "creation_date": 1441728675, "last_edit_date": 1441778697, "question_id": 32462555, "link": "https://stackoverflow.com/questions/32462555/perl-cgi-script-print-utf-8-encoded-japanese-html-over-http-apache-httpd-g", "title": "Perl CGI script print (utf-8 encoded - japanese html) over http (apache httpd) getting truncated", "body": "<p>Environment settings</p>\n\n<p>OS : RHEL 6.6 (kernel 2.6.32) - x86_64</p>\n\n<p>httpd : httpd-2.2.15-39</p>\n\n<p>perl : 5.10.1-136</p>\n\n<p>CGI API :</p>\n\n<p>perl-CGI-3.15-136</p>\n\n<p>perl-CGI-Session-4.35-6</p>\n\n<p>I am using a static html page with Perl-CGI defined variables in the static html. This html is read in through perl, and then passed to a perl CGI script for eval.\nNote:</p>\n\n<p>While reading the static html, I am using UTF-8 encoding like</p>\n\n<pre><code>open( IN ,\"&lt;:encoding(UTF-8)\", $file_path )\n</code></pre>\n\n<p>After reading the status HTML page, the output is passed back to the CGI script through a variable and then pressed in to eval to evaluate the variables.</p>\n\n<p>Finally, the eval(uated) output from CGI is print which can be read through http daemon.\nIn the CGI script I am using</p>\n\n<pre><code>binmode(STDIN, ':encoding(UTF-8)');\nbinmode(STDOUT, ':encoding(UTF-8)');\n</code></pre>\n\n<p>The static HTML looks something like this\n<a href=\"https://i.stack.imgur.com/x5msO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x5msO.png\" alt=\"actual_html (static)\"></a></p>\n\n<p>When I check the output of print in the CGI script, I see the complete output as desired, like this\n<a href=\"https://i.stack.imgur.com/a1csE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a1csE.png\" alt=\"cgi print data\"></a></p>\n\n<p>However on the Browser, the hidden input fields are getting truncated in an unwanted manner. Like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/EFYmf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EFYmf.png\" alt=\"truncated html\"></a></p>\n\n<p>When I checked the wireshark output for the text/html, which is being printed back from the server to the browser, this is also getting truncated.\nLike this\n<a href=\"https://i.stack.imgur.com/Ll442.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ll442.png\" alt=\"wireshark scan\"></a></p>\n\n<ul>\n<li>The HTML header has proper Content-Type and charset declaration.</li>\n<li>The same code is working fine with EN language</li>\n<li>The same code is working fine with zh(chinese) language as well.</li>\n<li>When the language is set to japanese in the browser, and we read from HTTP_ACCEPT_LANGUAGE that it is 'ja', than we print the japanese specific data.</li>\n<li>We are not using cgid module of apache.</li>\n</ul>\n\n<p>Are we supposed to use some special encoding for japanese language??\nOr it is a double encoding issue. I have tried removing the encoding when I am reading the static html file, however, that also did not help.</p>\n\n<ul>\n<li>The same code is working fine with RHEL 5.x (2.6.18-308), and perl-CGI-Session (4.42-2), perl (5.8.8-38) httpd (2.2.3-63), there was no perl-CGI in RHEL-5.x.</li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1441728871, "post_id": 32462540, "comment_id": 52787120, "body": "It&#39;s unclear what you&#39;re asking. What is the expected output?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441736004, "post_id": 32462540, "comment_id": 52791022, "body": "See <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">Quote and Quote-like Operators</a> for details on what interpolates and what doesn&#39;t."}], "answers": [{"comments": [{"owner": {"reputation": 80, "user_id": 5313686, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7SvWFFK0Lac/AAAAAAAAAAI/AAAAAAAAELQ/Mo3KoyLacmw/photo.jpg?sz=128", "display_name": "Shan Sunny", "link": "https://stackoverflow.com/users/5313686/shan-sunny"}, "edited": false, "score": 0, "creation_date": 1441736656, "post_id": 32462763, "comment_id": 52791408, "body": "Thank you ysth; this is what I expected."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1441738168, "last_edit_date": 1441738168, "creation_date": 1441729444, "answer_id": 32462763, "question_id": 32462540, "link": "https://stackoverflow.com/questions/32462540/how-to-execute-nested-perl-commands-in-same-line/32462763#32462763", "title": "How to execute nested Perl commands in same line", "body": "<p>You can only interpolate variables into double-quoted strings.  But those variables can be anonymous, allowing you to provide an expression to generate them.  This looks like this:</p>\n\n<pre><code>my $i = 0;\nprint \"Number ${\\($i++)} date ${\\scalar localtime}\";\n</code></pre>\n\n<p>You can also use <code>@{[ some-expression ]}</code> instead of <code>${\\ some-expression }</code>.  In either case, you have an expression and you create a reference to its value (or in the former case, to an anonymous array containing it), and then dereference it in the string.  The expression will be in list context, so you may need to add <code>scalar</code>, as above.</p>\n"}, {"tags": [], "owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "is_accepted": false, "score": 3, "last_activity_date": 1441730652, "last_edit_date": 1441730652, "creation_date": 1441730244, "answer_id": 32462965, "question_id": 32462540, "link": "https://stackoverflow.com/questions/32462540/how-to-execute-nested-perl-commands-in-same-line/32462965#32462965", "title": "How to execute nested Perl commands in same line", "body": "<blockquote>\n  <p>Is it any way to write nested perl commands in single line like below (shell)</p>\n</blockquote>\n\n<p>Of course you can.</p>\n\n<pre><code>print \"I am \" . `uname -n` . \"and today is \" . `date`;\n</code></pre>\n\n<p>Perl's backtick operator (`) doesn't work inside double quotes (<code>\"\"</code>). So, the string \"I am \", the output of <code>uname -n</code>, the string \"and today is \" and the output of <code>date</code> are joined by dot operator (<code>.</code>).</p>\n\n<p>I don't understand what the latter part of your question means in relation to the former part (and I think ysth has already answered to it).</p>\n"}], "owner": {"reputation": 80, "user_id": 5313686, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7SvWFFK0Lac/AAAAAAAAAAI/AAAAAAAAELQ/Mo3KoyLacmw/photo.jpg?sz=128", "display_name": "Shan Sunny", "link": "https://stackoverflow.com/users/5313686/shan-sunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 1, "accepted_answer_id": 32462763, "answer_count": 2, "score": 0, "last_activity_date": 1441738168, "creation_date": 1441728621, "question_id": 32462540, "link": "https://stackoverflow.com/questions/32462540/how-to-execute-nested-perl-commands-in-same-line", "title": "How to execute nested Perl commands in same line", "body": "<p>I am new to perl  , Is it any way to write nested perl commands in single line like below (shell)</p>\n\n<pre><code>echo \"I am  `uname -n` and today is `date`\"\n</code></pre>\n\n<p>I tried like below ; but not working </p>\n\n<pre><code>my $i=0 ;\nprint \"$i++\\n\" ;\nprint \"localtime()\" ;\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1441726679, "post_id": 32461719, "comment_id": 52785732, "body": "They obviously don&#39;t hold identical values. Trailing whitespace?"}, {"owner": {"reputation": 67, "user_id": 2385503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d548fb1c4415fe4244e7382bdf8c4d4a?s=128&d=identicon&r=PG", "display_name": "Arkeopix", "link": "https://stackoverflow.com/users/2385503/arkeopix"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1441726827, "post_id": 32461719, "comment_id": 52785835, "body": "God i feel so stupid right now... I will leave this here so that i always remember this mistake."}, {"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "edited": false, "score": 5, "creation_date": 1441727589, "post_id": 32461719, "comment_id": 52786324, "body": "In my debug prints, I always surround the printed value with brackets so I can catch this kind of thing."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1441726846, "creation_date": 1441726846, "answer_id": 32461941, "question_id": 32461719, "link": "https://stackoverflow.com/questions/32461719/why-is-this-hash-value-undefined/32461941#32461941", "title": "Why is this hash value undefined?", "body": "<p>They obviously don't hold identical values. Trailing whitespace?</p>\n\n<pre><code>use Data::Dumper qw( Dumper );\n\n{\n    local $Data::Dumper::Useqq = 1;\n    print(Dumper($json-&gt;{uid}));\n}\n</code></pre>\n\n<p>Or in your case, <code>app-&gt;log-&gt;info</code> instead of <code>print</code>.</p>\n"}], "owner": {"reputation": 67, "user_id": 2385503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d548fb1c4415fe4244e7382bdf8c4d4a?s=128&d=identicon&r=PG", "display_name": "Arkeopix", "link": "https://stackoverflow.com/users/2385503/arkeopix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 32461941, "answer_count": 1, "score": 1, "last_activity_date": 1441726846, "creation_date": 1441726236, "question_id": 32461719, "link": "https://stackoverflow.com/questions/32461719/why-is-this-hash-value-undefined", "title": "Why is this hash value undefined?", "body": "<p>So i have the feeling that this is some stupid mistake on my part, but i can't figure out what is happening.</p>\n\n<p>Some context first: I am playing around with webRTC, building a small videochat app with perl and js. I was afraid to get stuck on the webRTC part, but it turns out i'm stuck with perl.</p>\n\n<p>At the top of my file i instantiate a hash like this</p>\n\n<pre><code>helper clients =&gt; sub { state $clients = {} } \n</code></pre>\n\n<p>whenever a someone makes a get on <code>/</code> i check if i have an UID for the current client. if not i generate and store it. I then check if the client is already in the clients hash.</p>\n\n<pre><code>if (!$self-&gt;session('uid')) {\n   $self-&gt;session('uid' =&gt; sha256_hex($self-&gt;tx . irand()));\n} \nif (!exists $self-&gt;clients-&gt;{$self-&gt;session('uid')}) {\n    $self-&gt;clients-&gt;{$self-&gt;session('uid')} = $self-&gt;tx;\n}\n</code></pre>\n\n<p>the problem appears in my signaling server. when i use the value from\nthe decoded json i get an undefined error. Do note that the loop is useless, i made it in order to debug.</p>\n\n<p>here is the relevant code:</p>\n\n<pre><code>$self-&gt;on(\n    message =&gt; sub {\n        my ( $ws, $message ) = @_;\n\n        my $json = decode_json($message);\n        for (keys %{$self-&gt;clients}) {\n            app-&gt;log-&gt;info('$_ is a =&gt; ' . $_);\n            # $_  =&gt; 0d96bc9bb05feb9a7c2889209ee777affcaa11252be54ca7ddc349889978850f\n            app-&gt;log-&gt;info('json uid =&gt; ' . $json-&gt;{'uid'}); \n            # json uid =&gt; 0d96bc9bb05feb9a7c2889209ee777affcaa11252be54ca7ddc349889978850f\n            app-&gt;log-&gt;info('remote address with $_   =&gt; ' . $self-&gt;clients-&gt;{$_}-&gt;remote_address);\n            # remote address with $_   =&gt; 127.0.0.1 \n            app-&gt;log-&gt;info('remote address with string =&gt; ' . $self-&gt;clients-&gt;{'0d96bc9bb05feb9a7c2889209ee777affcaa11252be54ca7ddc349889978850f'}-&gt;remote_address);     \n            # remote address with string =&gt; 127.0.0.1\n            app-&gt;log-&gt;info('remote address with json_ =&gt; ' . $self-&gt;clients-&gt;{$json-&gt;{'uid'}}-&gt;remote_address);\n            #  Can't call method \"remote_address\" on an undefined value at blabla   \n        }\n        ....\n    }\n);\n</code></pre>\n\n<p>The thing that i dont understand is that <code>$_</code> and <code>$json-&gt;{'uid'}</code> hold identical values, so why is the first working and not the second ? </p>\n"}, {"tags": ["perl", "string-matching"], "comments": [{"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441709637, "post_id": 32455875, "comment_id": 52773738, "body": "@fugu..please see the actual problem"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1441709751, "post_id": 32455875, "comment_id": 52773844, "body": "Woah, unintelligible wall of text. Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for how to make a good question. What&#39;s desirable: A clear description of your problem. Some sample data. Some code that illustrates your problem. A desired result."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 1, "creation_date": 1441710693, "post_id": 32456140, "comment_id": 52774500, "body": "@choroba...solved my problem..thanks mate...can you please explain the flag?..How this code is missing the first occurence"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 1, "creation_date": 1441710903, "post_id": 32456140, "comment_id": 52774631, "body": "@Suhan: if <code>$skip</code> is set, then on the first occurrence, it goes to the <code>if true</code> branch which resets the flag, but prints nothing. On subsequent occurrences, the <code>else</code> branch is invoked which prints the output."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1441710327, "creation_date": 1441710327, "answer_id": 32456140, "question_id": 32455875, "link": "https://stackoverflow.com/questions/32455875/matching-a-string-in-one-file-and-want-to-print-the-value-written-after-that-str/32456140#32456140", "title": "Matching a string in one file and want to print the value written after that string in certain file", "body": "<p>Use <code>\\s</code> in a regex to match whitespace.</p>\n\n<p>If you want to skip the first occurrence, keep a flag that tells you whether it was already skipped:</p>\n\n<pre><code>my $skip = 1;\nwhile (&lt;$INPUT&gt;) {\n    if (/vth\\d\\s*=\\s*(\\d+)/) {\n        if ($skip) {\n            undef $skip; # Don't skip the following occurences.\n        } else {\n            print \"$1\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 3, "last_activity_date": 1441710727, "creation_date": 1441710727, "answer_id": 32456285, "question_id": 32455875, "link": "https://stackoverflow.com/questions/32455875/matching-a-string-in-one-file-and-want-to-print-the-value-written-after-that-str/32456285#32456285", "title": "Matching a string in one file and want to print the value written after that string in certain file", "body": "<p>There are more than one whitespace after <code>vth\\d</code> and you are matching just one whitespace. You should match all whitespaces:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen(my $file, \"&lt;\", \"abc.txt\") || die (\"Cannot open file.\\n\");\nopen(my $out, \"&gt;\", \"output.txt\") || die (\"Cannot open file.\\n\");\n\nwhile (my $line = &lt;$file&gt;)\n{\n    chomp $line;\n    if ($line =~ /\\+vth\\d\\s+=\\s+(\\d+)/)\n    {\n        print $out \"$1\\n\";\n    }\n}\n</code></pre>\n\n<p>Here <code>\\s+</code> will match one or more whitespaces.</p>\n\n<p>Output:</p>\n\n<pre><code>0\n40\n50\n60\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1441710844, "creation_date": 1441710844, "answer_id": 32456327, "question_id": 32455875, "link": "https://stackoverflow.com/questions/32455875/matching-a-string-in-one-file-and-want-to-print-the-value-written-after-that-str/32456327#32456327", "title": "Matching a string in one file and want to print the value written after that string in certain file", "body": "<blockquote>\n  <p>At least 4 spaces between vth0 and =, at least one space between = and\n  corresponding value.</p>\n</blockquote>\n\n<pre><code>vth\\d\\s{4,}=\\s+(\\d+)\n</code></pre>\n\n<blockquote>\n  <p>read only last 3 vth0 values, skipping first one.</p>\n</blockquote>\n\n<p>Use a flag and if/else blocks to <code>next</code> on first match (or whatever condition you want) </p>\n"}], "owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1441714388, "creation_date": 1441709578, "last_edit_date": 1441714388, "question_id": 32455875, "link": "https://stackoverflow.com/questions/32455875/matching-a-string-in-one-file-and-want-to-print-the-value-written-after-that-str", "title": "Matching a string in one file and want to print the value written after that string in certain file", "body": "<p>Code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(my $file, \"&lt;\", \"abc.txt\") || die (\"Cannot open file.\\n\");\nopen(my $out, \"&gt;\", \"output.txt\") || die (\"Cannot open file.\\n\");\n\nwhile (my $line =&lt;$file&gt;) {\nchomp $line;\nif ($line =~ /\\+vth\\d = (\\d+)/) {\nprint $out \"$1\\n\";\n  }\n}\n</code></pre>\n\n<p>abc.txt</p>\n\n<pre><code>.lib cmos_models\n\n.model  nmos  nmos  level = 54\n\n+version = 4.0          binunit = 1            paramchk= 1            mobmod  = 0          \n+capmod  = 2            igcmod  = 1            igbmod  = 1            geomod  = 1          \n+diomod  = 1            rdsmod  = 0            rbodymod= 1            rgatemod= 1          \n+permod  = 1            acnqsmod= 0            trnqsmod= 0          \n\n+tnom    = 27           toxe    = 1.75e-9      toxp    = 1.1e-9       toxm    = 1.75e-9   \n+dtox    = 0.65e-9      epsrox  = 3.9          wint    = 5e-009       lint    = 3.75e-009   \n+ll      = 0            wl      = 0            lln     = 1            wln     = 1          \n+lw      = 0            ww      = 0            lwn     = 1            wwn     = 1          \n+lwl     = 0            wwl     = 0            xpart   = 0            toxref  = 1.75e-9   \n+xl      = -20e-9\n\n+vth0    = 0.466        k1      = 0.4          k2      = 0.0          k3      = 0          \n+k3b     = 0            w0      = 2.5e-006     dvt0    = 1            dvt1    = 2       \n+dvt2    = 0            dvt0w   = 0            dvt1w   = 0            dvt2w   = 0          \n+dsub    = 0.1          minv    = 0.05         voffl   = 0            dvtp0   = 1.0e-010     \n+dvtp1   = 0.1          lpe0    = 0            lpeb    = 0            xj      = 1.4e-008   \n+ngate   = 2e+020       ndep    = 3.24e+018    nsd     = 2e+020       phin    = 0          \n+cdsc    = 0.000        cdscb   = 0            cdscd   = 0            cit     = 0          \n+voff    = -0.13        nfactor = 2.1          eta0    = 0.0049       etab    = 0          \n+vfb     = -0.55        u0      = 0.04398      ua      = 6e-010       ub      = 1.2e-018     \n+uc      = 0            vsat    = 147390       a0      = 1.0          ags     = 0     \n+a1      = 0            a2      = 1.0          b0      = 0            b1      = 0          \n+keta    = 0.04         dwg     = 0            dwb     = 0            pclm    = 0.02       \n+pdiblc1 = 0.001        pdiblc2 = 0.001        pdiblcb = -0.005       drout   = 0.5        \n+pvag    = 1e-020       delta   = 0.01         pscbe1  = 8.14e+008    pscbe2  = 1e-007     \n+fprout  = 0.2          pdits   = 0.08         pditsd  = 0.23         pditsl  = 2.3e+006   \n+rsh     = 5            rdsw    = 155          rsw     = 80           rdw     = 80        \n+rdswmin = 0            rdwmin  = 0            rswmin  = 0            prwg    = 0          \n+prwb    = 0            wr      = 1            alpha0  = 0.074        alpha1  = 0.005      \n+beta0   = 30           agidl   = 0.0002       bgidl   = 2.1e+009     cgidl   = 0.0002     \n+egidl   = 0.8          \n\n+aigbacc = 0.012        bigbacc = 0.0028       cigbacc = 0.002     \n+nigbacc = 1            aigbinv = 0.014        bigbinv = 0.004        cigbinv = 0.004      \n+eigbinv = 1.1          nigbinv = 3            aigc    = 0.012        bigc    = 0.0028     \n+cigc    = 0.002        aigsd   = 0.012        bigsd   = 0.0028       cigsd   = 0.002     \n+nigc    = 1            poxedge = 1            pigcd   = 1            ntox    = 1          \n\n+xrcrg1  = 12           xrcrg2  = 5          \n+cgso    = 1.1e-010     cgdo    = 1.1e-010     cgbo    = 2.56e-011    cgdl    = 2.653e-10     \n+cgsl    = 2.653e-10    ckappas = 0.03         ckappad = 0.03         acde    = 1          \n+moin    = 15           noff    = 0.9          voffcv  = 0.02       \n\n+kt1     = -0.11        kt1l    = 0            kt2     = 0.022        ute     = -1.5       \n+ua1     = 4.31e-009    ub1     = 7.61e-018    uc1     = -5.6e-011    prt     = 0          \n+at      = 33000      \n\n+fnoimod = 1            tnoimod = 0          \n\n+jss     = 0.0001       jsws    = 1e-011       jswgs   = 1e-010       njs     = 1          \n+ijthsfwd= 0.01         ijthsrev= 0.001        bvs     = 10           xjbvs   = 1          \n+jsd     = 0.0001       jswd    = 1e-011       jswgd   = 1e-010       njd     = 1          \n+ijthdfwd= 0.01         ijthdrev= 0.001        bvd     = 10           xjbvd   = 1          \n+pbs     = 1            cjs     = 0.0005       mjs     = 0.5          pbsws   = 1          \n+cjsws   = 5e-010       mjsws   = 0.33         pbswgs  = 1            cjswgs  = 3e-010     \n+mjswgs  = 0.33         pbd     = 1            cjd     = 0.0005       mjd     = 0.5        \n+pbswd   = 1            cjswd   = 5e-010       mjswd   = 0.33         pbswgd  = 1          \n+cjswgd  = 5e-010       mjswgd  = 0.33         tpb     = 0.005        tcj     = 0.001      \n+tpbsw   = 0.005        tcjsw   = 0.001        tpbswg  = 0.005        tcjswg  = 0.001      \n+xtis    = 3            xtid    = 3          \n\n+dmcg    = 0e-006       dmci    = 0e-006       dmdg    = 0e-006       dmcgt   = 0e-007     \n+dwj     = 0.0e-008     xgw     = 0e-007       xgl     = 0e-008     \n\n+rshg    = 0.4          gbmin   = 1e-010       rbpb    = 5            rbpd    = 15         \n+rbps    = 15           rbdb    = 15           rbsb    = 15           ngcon   = 1          \n\n* PTM 45nm PMOS\n\n.model  pmos  pmos  level = 54\n\n+version = 4.0          binunit = 1            paramchk= 1            mobmod  = 0          \n+capmod  = 2            igcmod  = 1            igbmod  = 1            geomod  = 1          \n+diomod  = 1            rdsmod  = 0            rbodymod= 1            rgatemod= 1          \n+permod  = 1            acnqsmod= 0            trnqsmod= 0          \n\n+tnom    = 27           toxe    = 1.85e-009    toxp    = 1.1e-009     toxm    = 1.85e-009   \n+dtox    = 0.75e-9      epsrox  = 3.9          wint    = 5e-009       lint    = 3.75e-009   \n+ll      = 0            wl      = 0            lln     = 1            wln     = 1          \n+lw      = 0            ww      = 0            lwn     = 1            wwn     = 1          \n+lwl     = 0            wwl     = 0            xpart   = 0            toxref  = 1.85e-009   \n+xl      = -20e-9\n\n+vth0    = 40      k1      = 0.4          k2      = -0.01        k3      = 0          \n+k3b     = 0            w0      = 2.5e-006     dvt0    = 1            dvt1    = 2       \n+dvt2    = -0.032       dvt0w   = 0            dvt1w   = 0            dvt2w   = 0          \n+dsub    = 0.1          minv    = 0.05         voffl   = 0            dvtp0   = 1e-011     \n+dvtp1   = 0.05         lpe0    = 0            lpeb    = 0            xj      = 1.4e-008   \n+ngate   = 2e+020       ndep    = 2.44e+018    nsd     = 2e+020       phin    = 0          \n+cdsc    = 0.000        cdscb   = 0            cdscd   = 0            cit     = 0          \n+voff    = -0.126       nfactor = 2.1          eta0    = 0.0049       etab    = 0          \n+vfb     = 0.55         u0      = 0.00440      ua      = 2.0e-009     ub      = 0.5e-018     \n+uc      = 0            vsat    = 70000        a0      = 1.0          ags     = 1e-020     \n+a1      = 0            a2      = 1            b0      = 0            b1      = 0          \n+keta    = -0.047       dwg     = 0            dwb     = 0            pclm    = 0.12       \n+pdiblc1 = 0.001        pdiblc2 = 0.001        pdiblcb = 3.4e-008     drout   = 0.56       \n+pvag    = 1e-020       delta   = 0.01         pscbe1  = 8.14e+008    pscbe2  = 9.58e-007  \n+fprout  = 0.2          pdits   = 0.08         pditsd  = 0.23         pditsl  = 2.3e+006   \n+rsh     = 5            rdsw    = 155          rsw     = 75           rdw     = 75        \n+rdswmin = 0            rdwmin  = 0            rswmin  = 0            prwg    = 0  \n+prwb    = 0            wr      = 1            alpha0  = 0.074        alpha1  = 0.005      \n+beta0   = 30           agidl   = 0.0002       bgidl   = 2.1e+009     cgidl   = 0.0002     \n+egidl   = 0.8          \n\n+aigbacc = 0.012        bigbacc = 0.0028       cigbacc = 0.002     \n+nigbacc = 1            aigbinv = 0.014        bigbinv = 0.004        cigbinv = 0.004      \n+eigbinv = 1.1          nigbinv = 3            aigc    = 0.69         bigc    = 0.0012     \n+cigc    = 0.0008       aigsd   = 0.0087       bigsd   = 0.0012       cigsd   = 0.0008     \n+nigc    = 1            poxedge = 1            pigcd   = 1            ntox    = 1 \n\n+xrcrg1  = 12           xrcrg2  = 5          \n+cgso    = 1.1e-010     cgdo    = 1.1e-010     cgbo    = 2.56e-011    cgdl    = 2.653e-10\n+cgsl    = 2.653e-10    ckappas = 0.03         ckappad = 0.03         acde    = 1\n+moin    = 15           noff    = 0.9          voffcv  = 0.02\n\n+kt1     = -0.11        kt1l    = 0            kt2     = 0.022        ute     = -1.5       \n+ua1     = 4.31e-009    ub1     = 7.61e-018    uc1     = -5.6e-011    prt     = 0          \n+at      = 33000      \n\n+fnoimod = 1            tnoimod = 0          \n\n+jss     = 0.0001       jsws    = 1e-011       jswgs   = 1e-010       njs     = 1          \n+ijthsfwd= 0.01         ijthsrev= 0.001        bvs     = 10           xjbvs   = 1          \n+jsd     = 0.0001       jswd    = 1e-011       jswgd   = 1e-010       njd     = 1          \n+ijthdfwd= 0.01         ijthdrev= 0.001        bvd     = 10           xjbvd   = 1          \n+pbs     = 1            cjs     = 0.0005       mjs     = 0.5          pbsws   = 1          \n+cjsws   = 5e-010       mjsws   = 0.33         pbswgs  = 1            cjswgs  = 3e-010     \n+mjswgs  = 0.33         pbd     = 1            cjd     = 0.0005       mjd     = 0.5        \n+pbswd   = 1            cjswd   = 5e-010       mjswd   = 0.33         pbswgd  = 1          \n+cjswgd  = 5e-010       mjswgd  = 0.33         tpb     = 0.005        tcj     = 0.001      \n+tpbsw   = 0.005        tcjsw   = 0.001        tpbswg  = 0.005        tcjswg  = 0.001      \n+xtis    = 3            xtid    = 3          \n\n+dmcg    = 0e-006       dmci    = 0e-006       dmdg    = 0e-006       dmcgt   = 0e-007     \n+dwj     = 0.0e-008     xgw     = 0e-007       xgl     = 0e-008     \n\n+rshg    = 0.4          gbmin   = 1e-010       rbpb    = 5            rbpd    = 15         \n+rbps    = 15           rbdb    = 15           rbsb    = 15           ngcon   = 1  \n\n.model  pmos  pmos  level = 54\n\n+version = 4.0          binunit = 1            paramchk= 1            mobmod  = 0          \n+capmod  = 2            igcmod  = 1            igbmod  = 1            geomod  = 1          \n+diomod  = 1            rdsmod  = 0            rbodymod= 1            rgatemod= 1          \n+permod  = 1            acnqsmod= 0            trnqsmod= 0          \n\n+tnom    = 27           toxe    = 1.85e-009    toxp    = 1.1e-009     toxm    = 1.85e-009   \n+dtox    = 0.75e-9      epsrox  = 3.9          wint    = 5e-009       lint    = 3.75e-009   \n+ll      = 0            wl      = 0            lln     = 1            wln     = 1          \n+lw      = 0            ww      = 0            lwn     = 1            wwn     = 1          \n+lwl     = 0            wwl     = 0            xpart   = 0            toxref  = 1.85e-009   \n+xl      = -20e-9\n\n+vth0    = 50 k1      = 0.4          k2      = -0.01        k3      = 0          \n+k3b     = 0            w0      = 2.5e-006     dvt0    = 1            dvt1    = 2       \n+dvt2    = -0.032       dvt0w   = 0            dvt1w   = 0            dvt2w   = 0          \n+dsub    = 0.1          minv    = 0.05         voffl   = 0            dvtp0   = 1e-011     \n+dvtp1   = 0.05         lpe0    = 0            lpeb    = 0            xj      = 1.4e-008   \n+ngate   = 2e+020       ndep    = 2.44e+018    nsd     = 2e+020       phin    = 0          \n+cdsc    = 0.000        cdscb   = 0            cdscd   = 0            cit     = 0          \n+voff    = -0.126       nfactor = 2.1          eta0    = 0.0049       etab    = 0          \n+vfb     = 0.55         u0      = 0.00440      ua      = 2.0e-009     ub      = 0.5e-018     \n+uc      = 0            vsat    = 70000        a0      = 1.0          ags     = 1e-020     \n+a1      = 0            a2      = 1            b0      = 0            b1      = 0          \n+keta    = -0.047       dwg     = 0            dwb     = 0            pclm    = 0.12       \n+pdiblc1 = 0.001        pdiblc2 = 0.001        pdiblcb = 3.4e-008     drout   = 0.56       \n+pvag    = 1e-020       delta   = 0.01         pscbe1  = 8.14e+008    pscbe2  = 9.58e-007  \n+fprout  = 0.2          pdits   = 0.08         pditsd  = 0.23         pditsl  = 2.3e+006   \n+rsh     = 5            rdsw    = 155          rsw     = 75           rdw     = 75        \n+rdswmin = 0            rdwmin  = 0            rswmin  = 0            prwg    = 0  \n+prwb    = 0            wr      = 1            alpha0  = 0.074        alpha1  = 0.005      \n+beta0   = 30           agidl   = 0.0002       bgidl   = 2.1e+009     cgidl   = 0.0002     \n+egidl   = 0.8          \n\n+aigbacc = 0.012        bigbacc = 0.0028       cigbacc = 0.002     \n+nigbacc = 1            aigbinv = 0.014        bigbinv = 0.004        cigbinv = 0.004      \n+eigbinv = 1.1          nigbinv = 3            aigc    = 0.69         bigc    = 0.0012     \n+cigc    = 0.0008       aigsd   = 0.0087       bigsd   = 0.0012       cigsd   = 0.0008     \n+nigc    = 1            poxedge = 1            pigcd   = 1            ntox    = 1 \n\n+xrcrg1  = 12           xrcrg2  = 5          \n+cgso    = 1.1e-010     cgdo    = 1.1e-010     cgbo    = 2.56e-011    cgdl    = 2.653e-10\n+cgsl    = 2.653e-10    ckappas = 0.03         ckappad = 0.03         acde    = 1\n+moin    = 15           noff    = 0.9          voffcv  = 0.02\n\n+kt1     = -0.11        kt1l    = 0            kt2     = 0.022        ute     = -1.5       \n+ua1     = 4.31e-009    ub1     = 7.61e-018    uc1     = -5.6e-011    prt     = 0          \n+at      = 33000      \n\n+fnoimod = 1            tnoimod = 0          \n\n+jss     = 0.0001       jsws    = 1e-011       jswgs   = 1e-010       njs     = 1          \n+ijthsfwd= 0.01         ijthsrev= 0.001        bvs     = 10           xjbvs   = 1          \n+jsd     = 0.0001       jswd    = 1e-011       jswgd   = 1e-010       njd     = 1          \n+ijthdfwd= 0.01         ijthdrev= 0.001        bvd     = 10           xjbvd   = 1          \n+pbs     = 1            cjs     = 0.0005       mjs     = 0.5          pbsws   = 1          \n+cjsws   = 5e-010       mjsws   = 0.33         pbswgs  = 1            cjswgs  = 3e-010     \n+mjswgs  = 0.33         pbd     = 1            cjd     = 0.0005       mjd     = 0.5        \n+pbswd   = 1            cjswd   = 5e-010       mjswd   = 0.33         pbswgd  = 1          \n+cjswgd  = 5e-010       mjswgd  = 0.33         tpb     = 0.005        tcj     = 0.001      \n+tpbsw   = 0.005        tcjsw   = 0.001        tpbswg  = 0.005        tcjswg  = 0.001      \n+xtis    = 3            xtid    = 3          \n\n+dmcg    = 0e-006       dmci    = 0e-006       dmdg    = 0e-006       dmcgt   = 0e-007     \n+dwj     = 0.0e-008     xgw     = 0e-007       xgl     = 0e-008     \n\n+rshg    = 0.4          gbmin   = 1e-010       rbpb    = 5            rbpd    = 15         \n+rbps    = 15           rbdb    = 15           rbsb    = 15           ngcon   = 1  \n\n.model  pmos  pmos  level = 54\n\n+version = 4.0          binunit = 1            paramchk= 1            mobmod  = 0          \n+capmod  = 2            igcmod  = 1            igbmod  = 1            geomod  = 1          \n+diomod  = 1            rdsmod  = 0            rbodymod= 1            rgatemod= 1          \n+permod  = 1            acnqsmod= 0            trnqsmod= 0          \n\n+tnom    = 27           toxe    = 1.85e-009    toxp    = 1.1e-009     toxm    = 1.85e-009   \n+dtox    = 0.75e-9      epsrox  = 3.9          wint    = 5e-009       lint    = 3.75e-009   \n+ll      = 0            wl      = 0            lln     = 1            wln     = 1          \n+lw      = 0            ww      = 0            lwn     = 1            wwn     = 1          \n+lwl     = 0            wwl     = 0            xpart   = 0            toxref  = 1.85e-009   \n+xl      = -20e-9\n\n+vth0    = 60      k1      = 0.4          k2      = -0.01        k3      = 0          \n+k3b     = 0            w0      = 2.5e-006     dvt0    = 1            dvt1    = 2       \n+dvt2    = -0.032       dvt0w   = 0            dvt1w   = 0            dvt2w   = 0          \n+dsub    = 0.1          minv    = 0.05         voffl   = 0            dvtp0   = 1e-011     \n+dvtp1   = 0.05         lpe0    = 0            lpeb    = 0            xj      = 1.4e-008   \n+ngate   = 2e+020       ndep    = 2.44e+018    nsd     = 2e+020       phin    = 0          \n+cdsc    = 0.000        cdscb   = 0            cdscd   = 0            cit     = 0          \n+voff    = -0.126       nfactor = 2.1          eta0    = 0.0049       etab    = 0          \n+vfb     = 0.55         u0      = 0.00440      ua      = 2.0e-009     ub      = 0.5e-018     \n+uc      = 0            vsat    = 70000        a0      = 1.0          ags     = 1e-020     \n+a1      = 0            a2      = 1            b0      = 0            b1      = 0          \n+keta    = -0.047       dwg     = 0            dwb     = 0            pclm    = 0.12       \n+pdiblc1 = 0.001        pdiblc2 = 0.001        pdiblcb = 3.4e-008     drout   = 0.56       \n+pvag    = 1e-020       delta   = 0.01         pscbe1  = 8.14e+008    pscbe2  = 9.58e-007  \n+fprout  = 0.2          pdits   = 0.08         pditsd  = 0.23         pditsl  = 2.3e+006   \n+rsh     = 5            rdsw    = 155          rsw     = 75           rdw     = 75        \n+rdswmin = 0            rdwmin  = 0            rswmin  = 0            prwg    = 0  \n+prwb    = 0            wr      = 1            alpha0  = 0.074        alpha1  = 0.005      \n+beta0   = 30           agidl   = 0.0002       bgidl   = 2.1e+009     cgidl   = 0.0002     \n+egidl   = 0.8          \n\n+aigbacc = 0.012        bigbacc = 0.0028       cigbacc = 0.002     \n+nigbacc = 1            aigbinv = 0.014        bigbinv = 0.004        cigbinv = 0.004      \n+eigbinv = 1.1          nigbinv = 3            aigc    = 0.69         bigc    = 0.0012     \n+cigc    = 0.0008       aigsd   = 0.0087       bigsd   = 0.0012       cigsd   = 0.0008     \n+nigc    = 1            poxedge = 1            pigcd   = 1            ntox    = 1 \n\n+xrcrg1  = 12           xrcrg2  = 5          \n+cgso    = 1.1e-010     cgdo    = 1.1e-010     cgbo    = 2.56e-011    cgdl    = 2.653e-10\n+cgsl    = 2.653e-10    ckappas = 0.03         ckappad = 0.03         acde    = 1\n+moin    = 15           noff    = 0.9          voffcv  = 0.02\n\n+kt1     = -0.11        kt1l    = 0            kt2     = 0.022        ute     = -1.5       \n+ua1     = 4.31e-009    ub1     = 7.61e-018    uc1     = -5.6e-011    prt     = 0          \n+at      = 33000      \n\n+fnoimod = 1            tnoimod = 0          \n\n+jss     = 0.0001       jsws    = 1e-011       jswgs   = 1e-010       njs     = 1          \n+ijthsfwd= 0.01         ijthsrev= 0.001        bvs     = 10           xjbvs   = 1          \n+jsd     = 0.0001       jswd    = 1e-011       jswgd   = 1e-010       njd     = 1          \n+ijthdfwd= 0.01         ijthdrev= 0.001        bvd     = 10           xjbvd   = 1          \n+pbs     = 1            cjs     = 0.0005       mjs     = 0.5          pbsws   = 1          \n+cjsws   = 5e-010       mjsws   = 0.33         pbswgs  = 1            cjswgs  = 3e-010     \n+mjswgs  = 0.33         pbd     = 1            cjd     = 0.0005       mjd     = 0.5        \n+pbswd   = 1            cjswd   = 5e-010       mjswd   = 0.33         pbswgd  = 1          \n+cjswgd  = 5e-010       mjswgd  = 0.33         tpb     = 0.005        tcj     = 0.001      \n+tpbsw   = 0.005        tcjsw   = 0.001        tpbswg  = 0.005        tcjswg  = 0.001      \n+xtis    = 3            xtid    = 3          \n\n+dmcg    = 0e-006       dmci    = 0e-006       dmdg    = 0e-006       dmcgt   = 0e-007     \n+dwj     = 0.0e-008     xgw     = 0e-007       xgl     = 0e-008     \n\n+rshg    = 0.4          gbmin   = 1e-010       rbpb    = 5            rbpd    = 15         \n+rbps    = 15           rbdb    = 15           rbsb    = 15           ngcon   = 1  \n\n.endl\n</code></pre>\n\n<p>There are 4 vth0 in file. At least 4 spaces between vth0 and =, at least one space between = and corresponding value. One more thing what if I need to read only last 3 vth0 values, skipping first one. What changes I have to make.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1441706743, "post_id": 32454773, "comment_id": 52771831, "body": "If you read the whole file into a string, you could use a tempered greedy token: <a href=\"https://regex101.com/r/rO1zQ0/1\" rel=\"nofollow noreferrer\"><code>(?s)\\bRadioBearerSetup\\b(?:(?!RadioBearerSetup(?:Complete)?)&zwnj;&#8203;.)*\\bps_Domain\\b(?:(&zwnj;&#8203;?!RadioBearerSetup(?&zwnj;&#8203;:Complete)?).)*\\bRad&zwnj;&#8203;ioBearerSetupComplet&zwnj;&#8203;e\\b</code></a>. However, I guess there are other better solutions here."}], "answers": [{"comments": [{"owner": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "edited": false, "score": 0, "creation_date": 1441712523, "post_id": 32455141, "comment_id": 52775679, "body": "Thanks, this does exactly what I want it to do!"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 3, "last_activity_date": 1441707504, "creation_date": 1441707504, "answer_id": 32455141, "question_id": 32454773, "link": "https://stackoverflow.com/questions/32454773/how-to-use-a-regular-expression-to-search-for-two-patterns-surrounding-another-p/32455141#32455141", "title": "How to use a regular expression to search for two patterns surrounding another pattern", "body": "<p>I'd do something like:</p>\n\n<pre><code>my @data;\nmy $found = 0;\nwhile(&lt;DATA&gt;) {\n    chomp;\n    if (/\\bRadioBearerSetup\\b/ .. /\\bRadioBearerSetupComplete\\b/) {\n        $found = 1 if /\\bps_Domain\\b/;\n        push @data, $_;\n    } else {\n        last if $found;\n        @data = ();\n    }\n}\nprint Dumper\\@data;\n\n__DATA__\nRandom network information. \ncn_DomainIntity : ps_Domain\nmore text\n10.162.55.123 RadioBearerSetup\nsome text\nsome more text\ncs_Domain\nrandom text\n10.162.55.136 RadioBearerSetupComplete\nnetwork stats\n10.162.55.122 RadioBearerSetup\ntext\nps_Domain\ntext\n10.162.66.125 RadioBearerSetupComplete\n ... \n ... \n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$VAR1 = [\n          '10.162.55.122 RadioBearerSetup',\n          'text',\n          'ps_Domain',\n          'text',\n          '10.162.66.125 RadioBearerSetupComplete'\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1441710924, "creation_date": 1441710924, "answer_id": 32456356, "question_id": 32454773, "link": "https://stackoverflow.com/questions/32454773/how-to-use-a-regular-expression-to-search-for-two-patterns-surrounding-another-p/32456356#32456356", "title": "How to use a regular expression to search for two patterns surrounding another pattern", "body": "<p>I would probably approach your problem like this:</p>\n\n<ul>\n<li>use a regular expression to select the 'chunks' of data out of your file (e.g. like your flipflop)</li>\n<li>grep the results to filter the desired stuff.</li>\n</ul>\n\n<p>E.g.:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nlocal $/;\n\nmy @blobs = &lt;&gt; =~ m/([\\d\\.]+ RadioBearerSetup.*?RadioBearerSetupComplete)/mgs;\nprint grep { m/ps_Domain/ } @blobs;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>10.162.55.122 RadioBearerSetup\ntext\nps_Domain\ntext\n10.162.66.125 RadioBearerSetupComplete\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82, "user_id": 2920468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI2cO.jpg?s=128&g=1", "display_name": "crustycollins", "link": "https://stackoverflow.com/users/2920468/crustycollins"}, "is_accepted": false, "score": 0, "last_activity_date": 1441727408, "creation_date": 1441727408, "answer_id": 32462139, "question_id": 32454773, "link": "https://stackoverflow.com/questions/32454773/how-to-use-a-regular-expression-to-search-for-two-patterns-surrounding-another-p/32462139#32462139", "title": "How to use a regular expression to search for two patterns surrounding another pattern", "body": "<p>For what its worth this is my take on it<p>\n<strong>Code</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @data;\n\nmy $domain;\n\nmy $textFound = 0;\n\nmy $href = {};\n\nwhile(&lt;DATA&gt;) {\n    chomp;\n    # found the first domain skipping that one\n    if ( /cn_DomainIntity\\s+:\\s+\\bps_Domain\\b/ ){\n        next;\n    }\n    # start grapping data\n    if (/\\bRadioBearerSetup\\b/) {\n        $textFound = 1;\n        push @data, $_;\n    }\n    # end grapping data\n    elsif (/\\bRadioBearerSetupComplete\\b/) {\n        push @data, $_;\n\n        #push into hash ref\n        push @{$href-&gt;{$domain}},@data;\n\n        # reset the flags\n        $textFound = 0;\n        $domain = \"\";\n\n        # reset data\n        @data = ();\n    }\n    # grab the domain name\n    elsif (/\\b([a-z]{2}_Domain)\\b/) {\n        $domain = $1;\n\n        push @data, $domain;\n    }\n    # misc text\n    elsif (1 == $textFound){\n        push @data, $_;\n    }\n}\n\nprint Dumper $href;\n\n__DATA__\nRandom network information. \ncn_DomainIntity : ps_Domain\nmore text\n10.162.55.123 RadioBearerSetup\nsome text\nsome more text\ncs_Domain\nrandom text\n10.162.55.136 RadioBearerSetupComplete\nnetwork stats\n10.162.55.122 RadioBearerSetup\ntext\nps_Domain\ntext\n10.162.66.125 RadioBearerSetupComplete\n</code></pre>\n\n<p><strong>Output</strong> shows a hash separated by domain</p>\n\n<pre><code>$VAR1 = {\n      'ps_Domain' =&gt; [\n                       '10.162.55.122 RadioBearerSetup',\n                       'text',\n                       'ps_Domain',\n                       'text',\n                       '10.162.66.125 RadioBearerSetupComplete'\n                     ],\n      'cs_Domain' =&gt; [\n                       '10.162.55.123 RadioBearerSetup',\n                       'some text',\n                       'some more text',\n                       'cs_Domain',\n                       'random text',\n                       '10.162.55.136 RadioBearerSetupComplete'\n                     ]\n    };\n</code></pre>\n"}], "owner": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 32455141, "answer_count": 3, "score": 1, "last_activity_date": 1441727408, "creation_date": 1441706365, "last_edit_date": 1441706796, "question_id": 32454773, "link": "https://stackoverflow.com/questions/32454773/how-to-use-a-regular-expression-to-search-for-two-patterns-surrounding-another-p", "title": "How to use a regular expression to search for two patterns surrounding another pattern", "body": "<p>Not sure if this is even possible. I need to parse a text file in perl to extract lines beginning with an IP address that is thousands of lines long. However the caveat is the pattern I'm searching for may occur numerious times in the text file but I only want to extract one instance of it... Sample of the text file below: </p>\n\n<pre><code>Random network information. \ncn_DomainIntity : ps_Domain\nmore text\n10.162.55.123 RadioBearerSetup\nsome text\nsome more text\ncs_Domain\nrandom text\n10.162.55.136 RadioBearerSetupComplete\nnetwork stats\n10.162.55.122 RadioBearerSetup\ntext\nps_Domain\ntext\n10.162.66.125 RadioBearerSetupComplete\n ... \n ... \n</code></pre>\n\n<p>Basicly what I would like to do is extract the lines of the text file that starts with RadioBearerSetup and ends with RadioBearerSetupComplete but contains ps_Domain somewhere between. </p>\n\n<p>I have been using the flip flop operator and while it kind of does what I want, it extracts all instances of the file which start with RadioBearerSetup and end with RadioBearerSetupComplete\nmy code below: </p>\n\n<pre><code>use strict;\nuse warnings; \n\n\nmy $file= \"datafile.txt\";\nopen (my $FH, \"&lt;\", $file) or die \"Cannot open &lt;$file&gt;: $!\";\n\nwhile ($FH) {\n    print if /\\bRadioBearerSetup\\b/ .. /\\bRadioBearerSetupComplete\\b/;\n}\nclose($FH); \n</code></pre>\n"}, {"tags": ["perl", "windows-server-2008-r2", "net-ssh", "perlnetssh"], "comments": [{"owner": {"reputation": 4965, "user_id": 4806927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UoVTT.jpg?s=128&g=1", "display_name": "il_raffa", "link": "https://stackoverflow.com/users/4806927/il-raffa"}, "edited": false, "score": 0, "creation_date": 1441706665, "post_id": 32454561, "comment_id": 52771784, "body": "This question seems off-topic since is not strictly related to programming, perhaps it is better for <a href=\"http://superuser.com/questions\">http://superuser.com/questions</a>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1441706826, "post_id": 32454561, "comment_id": 52771890, "body": "<a href=\"http://www.perlmonks.org/?node_id=949926\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=949926</a>"}, {"owner": {"reputation": 35, "user_id": 5312268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a0d53a7be1f12fc011e45c76f0148e?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka Tiwari", "link": "https://stackoverflow.com/users/5312268/priyanka-tiwari"}, "edited": false, "score": 0, "creation_date": 1441707388, "post_id": 32454561, "comment_id": 52772275, "body": "i have net-ssh2 for perl module 5.14 but can anyone tell me how can i get net-ssh2 for perl 5.20.2. my scripts are not working on new version of perl because of NET-SSH2 not there in lib"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 3, "last_activity_date": 1441708815, "creation_date": 1441708815, "answer_id": 32455616, "question_id": 32454561, "link": "https://stackoverflow.com/questions/32454561/net-ssh2-for-perl-5-20-2-on-windows-2008-r2/32455616#32455616", "title": "NET-SSH2 for perl 5.20.2 on windows 2008 r2", "body": "<p>Net::SSH2 is not in offical PPM repositories. Install it using below:</p>\n\n<pre><code>ppm install http://www.sisyphusion.tk/ppm/Net-SSH2.ppd\n</code></pre>\n\n<p>Tested on Windows 7 and Perl 5.18.4</p>\n\n<p><a href=\"https://i.stack.imgur.com/vKHh1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKHh1.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 35, "user_id": 5312268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a0d53a7be1f12fc011e45c76f0148e?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka Tiwari", "link": "https://stackoverflow.com/users/5312268/priyanka-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "accepted_answer_id": 32455616, "answer_count": 1, "score": 1, "last_activity_date": 1441708815, "creation_date": 1441705812, "last_edit_date": 1441707078, "question_id": 32454561, "link": "https://stackoverflow.com/questions/32454561/net-ssh2-for-perl-5-20-2-on-windows-2008-r2", "title": "NET-SSH2 for perl 5.20.2 on windows 2008 r2", "body": "<p>I am trying to install <code>NET-SSH2</code> for <code>perl 5.20.2</code> on <code>windows 2008r2</code> but no success.  </p>\n\n<blockquote>\n  <p>C:\\Perl>ppm install NET-SSH2<br>\n  Downloading ActiveState Package Repository packlist...failed 500 Can't connect to ppm4.activestate.com:80<br>\n  ppm install failed: Can't find any package that provides NET-SSH2  </p>\n</blockquote>\n\n<p>please help  </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1441703576, "post_id": 32453673, "comment_id": 52769764, "body": "Your variable names don&#39;t match. You have <code>@snapData</code> and <code>@snapshotData</code> in your example. The latter is never declared."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441703727, "post_id": 32453673, "comment_id": 52769862, "body": "It&#39;s doing exactly what your code says. Taking everything after the text <i>Affected Snap:</i>. Please revise the expected and actual output to be the full Dumper output including the <code>$VAR1</code> and stuff. You can <a href=\"https://stackoverflow.com/posts/32453673/edit\">edit</a> your question to add it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441705583, "post_id": 32453673, "comment_id": 52771013, "body": "If you&#39;re setting <code>$&#47;</code> then <code>chomp</code> removes whatever you set it to."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 1455563, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e8416eb88df4fac29494250944471032?s=128&d=identicon&r=PG", "display_name": "Yamuna", "link": "https://stackoverflow.com/users/1455563/yamuna"}, "edited": false, "score": 0, "creation_date": 1441776909, "post_id": 32454667, "comment_id": 52804633, "body": "Thanks for your response.  &quot;ParseLog.log&quot; file also has data that contains sub string &quot; Affected Snap&quot;. Please find the log below Scan Summary: ------------- Affected Snap: Snap data - Important Snap data  5674     Stack data - Important Stack data 5421 Affected Stack: TestStream1 - Important Stack  6322 No Longer Affected Snap: None No Longer Affected Stack: None"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 71, "user_id": 1455563, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e8416eb88df4fac29494250944471032?s=128&d=identicon&r=PG", "display_name": "Yamuna", "link": "https://stackoverflow.com/users/1455563/yamuna"}, "edited": false, "score": 0, "creation_date": 1441781418, "post_id": 32454667, "comment_id": 52806535, "body": "@Thanu: Please, edit your question and add a complete significant  example with expected result."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 3, "last_activity_date": 1441706117, "creation_date": 1441706117, "answer_id": 32454667, "question_id": 32453673, "link": "https://stackoverflow.com/questions/32453673/perl-parse-multi-line-data-from-a-file-with-carriage-return-and-line-feed/32454667#32454667", "title": "Perl - Parse multi-line data from a file with carriage return and line feed", "body": "<p><code>\\R</code> stands for any kind of line break and you could use the flip-flop operator:</p>\n\n<pre><code>my @snapData;\nwhile(&lt;DATA&gt;) {\n    if (/^Affected Snap:/ .. /^Affected Stack:/) {\n        s/\\R+//;\n        next if /^\\s*$/;\n        next if /^Affected /;\n        push @snapData, $_;\n    }\n}\nprint Dumper\\@snapData;\n\n\n\n__DATA__\nAffected Snap:\n\nSnap data - Important Snap data  5674\n\nStack data - Important Stack data 5421\n\n\nAffected Stack:\n\nTestStream1 - Important Stack  6322\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$VAR1 = [\n          'Snap data - Important Snap data  5674',\n          'Stack data - Important Stack data 5421'\n        ];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 1, "creation_date": 1441764733, "post_id": 32458479, "comment_id": 52801597, "body": "The command you give does <i>absolutely nothing</i> to fix newlines; <code>fixed.txt</code> will just be an exact copy of <code>original.txt</code>."}], "tags": [], "owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "is_accepted": false, "score": -1, "last_activity_date": 1441717056, "creation_date": 1441717056, "answer_id": 32458479, "question_id": 32453673, "link": "https://stackoverflow.com/questions/32453673/perl-parse-multi-line-data-from-a-file-with-carriage-return-and-line-feed/32458479#32458479", "title": "Perl - Parse multi-line data from a file with carriage return and line feed", "body": "<p>Assuming this is on a Unix/Linux system..</p>\n\n<p><strong>A quick fix</strong> that I use far too often is to <code>cat</code> the file with the CR+LF into a new file via the command line as shown here...</p>\n\n<pre><code>cat original.txt &gt; fixed.txt\n</code></pre>\n\n<p>I'm not saying that this is the best way to fix this but at least this way the <code>^M</code> are all ignored by cat and not moved across into the fixed.txt file. </p>\n\n<p>Then all you need to do is to parse the fixed.txt as you like. </p>\n"}, {"tags": [], "owner": {"reputation": 82, "user_id": 2920468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI2cO.jpg?s=128&g=1", "display_name": "crustycollins", "link": "https://stackoverflow.com/users/2920468/crustycollins"}, "is_accepted": false, "score": 0, "last_activity_date": 1441808039, "creation_date": 1441808039, "answer_id": 32481960, "question_id": 32453673, "link": "https://stackoverflow.com/questions/32453673/perl-parse-multi-line-data-from-a-file-with-carriage-return-and-line-feed/32481960#32481960", "title": "Perl - Parse multi-line data from a file with carriage return and line feed", "body": "<p>Why don't you use the chomp command?</p>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nmy @snapData;\nwhile (&lt;DATA&gt;) {\n    if (/^Affected Snap:/ .. /^Affected Stack:/) {\n        chomp;\n        s/\\s+$//;\n        next if /^\\s*$/;\n        next if /^Affected /;\n        push @snapData, $_;\n    }\n}\n\nprint Dumper\\@snapData;\n\n__DATA__\nParseLog.log:\n\nBug : 4525: TC1 \n\nScan Summary:   \n\nAffected Snap:\n\nSnap data - Important Snap data 5674 \n\nStack data - Important Stack data 5421  \n\nAffected Stack:\n\nTestStream1 - Important Stack 6322\n\nNo Longer Affected Snap:\n\nNone\n</code></pre>\n\n<p><strong>Edit output</strong></p>\n\n<pre><code>$VAR1 = [\n          'Snap data - Important Snap data 5674',\n          'Stack data - Important Stack data 5421'\n        ];\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 1455563, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e8416eb88df4fac29494250944471032?s=128&d=identicon&r=PG", "display_name": "Yamuna", "link": "https://stackoverflow.com/users/1455563/yamuna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 32454667, "answer_count": 3, "score": -1, "last_activity_date": 1441808039, "creation_date": 1441703370, "last_edit_date": 1441787984, "question_id": 32453673, "link": "https://stackoverflow.com/questions/32453673/perl-parse-multi-line-data-from-a-file-with-carriage-return-and-line-feed", "title": "Perl - Parse multi-line data from a file with carriage return and line feed", "body": "<pre><code>ParseLog.log:\n\nBug : 4525: TC1 \n\nScan Summary:   \n\nAffected Snap:\n\nSnap data - Important Snap data 5674 \n\nStack data - Important Stack data 5421  \n\nAffected Stack:\n\nTestStream1 - Important Stack 6322\n\nNo Longer Affected Snap:\n\nNone\n\n-------------\n\nopen(my $parseLog, '&lt;', 'parseLog.log')   or die \"Can't open search file: $!\";    \nlocal $/ = \"\\r\\n\" ; \n\nwhile ( my $line = &lt;$parseLog&gt; )\n{\n\n$line =~ s/[\\x0A\\x0D]//g;\n\nmy @bugData = $line =~ /Bug :(.*?):/g;\nmy @snapData = $line =~ /\\bAffected Snap:\\b(.*?)\\bAffected Stack:\\b/sg; \n\nprint Dumper @bugData ;\nprint Dumper(@snapshotData);\n\n}\n</code></pre>\n\n<p>From ParseLog.log, I would like to parse</p>\n\n<ol>\n<li>Bug data (i.e.,4525 )</li>\n<li>multiple line data between Affected Snap: and Affected Stack:</li>\n</ol>\n\n<p>ParseLog files has carriage return and Line feed. </p>\n\n<p>I am not able to remove them using chomp, so I've used <code>$line =~ s/[\\x0A\\x0D]//g;</code></p>\n\n<p>After this $line becomes</p>\n\n<p>Bug : 4525: TC1Scan Summary:-------------Affected Snap:Snap data - Important Snap data 5674 Stack data - Important Stack data 5421\nAffected Stack:TestStream1 - Important Stack 6322No Longer Affected Snap:None No Longer Affected Stack:None</p>\n\n<p>I am able to parse Bug number(Bug : 4525: TC1)</p>\n\n<p>When I try to parse \"Affected Snap:\", I get the following</p>\n\n<pre><code>$VAR1 = ' 4525';\n$VAR1 = 'Snap data - Important Snap data 5674 Stack data - Important Stack data 5421';\n</code></pre>\n\n<p><strong>Expected:</strong></p>\n\n<pre><code>$VAR1 = ' 4525';\n$VAR1 = 'Snap data - Important Snap data 5674';\n$VAR1 = 'Stack data - Important Stack data 5421';\n</code></pre>\n\n<p><strong>Background:</strong></p>\n\n<p>Files affected by bug 4525 are </p>\n\n<p>\"Snap data - Important Snap data 5674\" and \n\"Stack data - Important Stack data 5421\"</p>\n"}, {"tags": ["perl", "pipe"], "comments": [{"owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1441697660, "post_id": 32451455, "comment_id": 52766163, "body": "just print $SourceRoot in if."}, {"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 0, "creation_date": 1441699861, "post_id": 32451455, "comment_id": 52767480, "body": "<a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/glob.html</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441701132, "post_id": 32451455, "comment_id": 52768254, "body": "Calling a <code>dir</code> command is inefficient. What are you trying to accomplish?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441724500, "post_id": 32451455, "comment_id": 52784315, "body": "Two most likely causes: 1) There&#39;s a space or other meta character in <code>$SourceRoot</code>, or 2) this is a cygwin <code>perl</code> that doesn&#39;t have the hack to pretend <code>dir</code> and other <code>cmd</code> internals are actual programs"}, {"owner": {"reputation": 31, "user_id": 5269247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bde1628dd3721aef8f787805543ce7?s=128&d=identicon&r=PG&f=1", "display_name": "user5269247", "link": "https://stackoverflow.com/users/5269247/user5269247"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441786061, "post_id": 32451455, "comment_id": 52809250, "body": "@Sobrique : like mentioned I did not develop the script, it is existing code (part of the symbol store which is part of the Windows SDK debugging kit). That particular part of the code is believed to get all source files in $SourceRoot and put them in a pipe for later processing using SVN commands to get their revision number. This is a part of the source indexing where revision numbers are stored in the PDB symbol files so that they can be pulled automatically from the SVN source database when examining a dump file."}, {"owner": {"reputation": 31, "user_id": 5269247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bde1628dd3721aef8f787805543ce7?s=128&d=identicon&r=PG&f=1", "display_name": "user5269247", "link": "https://stackoverflow.com/users/5269247/user5269247"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441786216, "post_id": 32451455, "comment_id": 52809344, "body": "@ikegami : no spaces (directory passed by $Sourceroot is C:\\Crash) and I installed active perl (installed latest version 2 weeks ago)"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441809527, "post_id": 32452955, "comment_id": 52825876, "body": "<code>glob( &quot;$SourceRoot&#47;*&quot; )</code> would require escaping many characters."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1441701236, "creation_date": 1441701236, "answer_id": 32452955, "question_id": 32451455, "link": "https://stackoverflow.com/questions/32451455/perl-opening-a-pipe-no-such-file-or-directory/32452955#32452955", "title": "Perl : opening a pipe : No such file or directory", "body": "<p>Why not instead:</p>\n\n<pre><code>my @directory_entries = glob ( \"$SourceRoot/*\" ); \n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>opendir ( my $dir_handle, $SourceRoot ); \nwhile ( my $entry = readdir ( $dir_handle ) ) {\n   print $entry; \n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5269247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bde1628dd3721aef8f787805543ce7?s=128&d=identicon&r=PG&f=1", "display_name": "user5269247", "link": "https://stackoverflow.com/users/5269247/user5269247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441701236, "creation_date": 1441696511, "last_edit_date": 1441696796, "question_id": 32451455, "link": "https://stackoverflow.com/questions/32451455/perl-opening-a-pipe-no-such-file-or-directory", "title": "Perl : opening a pipe : No such file or directory", "body": "<p>I'm having troubles with opening a pipe to redirect the output of a dir command. The error happens in svn.pm, which is a part of the Windows debugging SDK and is intended to support source indexing for subversion repositories. The section where it goes wrong is:</p>\n\n<pre><code>my $hProcess;\n\nif ( ! open($hProcess, \"dir $SourceRoot 2&gt;&amp;1 |\") ) {\n    ::warn_message(\"Unable to resolve directory: $!\");\n    return();\n}\n</code></pre>\n\n<p>[download]</p>\n\n<p><code>$SourceRoot</code> is an existing directory. The error that I get back via <code>$!</code> is \"No such file or directory\". The whole purpose of the above script (I did not write it, and I'm not a Perl developer) is to get all source files in a directory and process those. Any idea?</p>\n"}, {"tags": ["apache", "perl", "session", "cgi", "error-log"], "answers": [{"comments": [{"owner": {"reputation": 148, "user_id": 576525, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/23a18fa2a166aaff9559bafb6845a71c?s=128&d=identicon&r=PG", "display_name": "Steve Dickinson", "link": "https://stackoverflow.com/users/576525/steve-dickinson"}, "edited": false, "score": 0, "creation_date": 1441735679, "post_id": 32449367, "comment_id": 52790840, "body": "The message you are filtering on is not going to contain the session value I need. It&#39;s in the session itself not stdin. Furthermore, I dont want to add data to the stdin stream (like the location). I just want to know if there is a way to access the session that is producing the stream."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 148, "user_id": 576525, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/23a18fa2a166aaff9559bafb6845a71c?s=128&d=identicon&r=PG", "display_name": "Steve Dickinson", "link": "https://stackoverflow.com/users/576525/steve-dickinson"}, "edited": false, "score": 0, "creation_date": 1441737323, "post_id": 32449367, "comment_id": 52791793, "body": "See <a href=\"http://serverfault.com/questions/418110/how-to-log-session-id-into-apache-http-server-access-log\" title=\"how to log session id into apache http server access log\">serverfault.com/questions/418110/&hellip;</a> for how to add the session id to the apache log. You can either handle this in the apache logger, or within the code that handles the request (and omit the logging messages)."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1441687158, "creation_date": 1441687158, "answer_id": 32449367, "question_id": 32449149, "link": "https://stackoverflow.com/questions/32449149/how-can-i-split-my-apache-2-4-error-log-into-separate-logs-using-a-session-valu/32449367#32449367", "title": "How can I split my Apache 2.4 error_log into separate logs using a $SESSION value?", "body": "<p>Yes, this is possible.  We use the following config to filter out some noise from our apache logs:</p>\n\n<pre><code>ErrorLog    \"|/etc/httpd/conf/apache_log_handler.pl &gt;&gt; /service/httpd-err/s\"\n</code></pre>\n\n<p>Where our custom <code>apache_log_handler.pl</code> looks like the following:</p>\n\n<pre><code>#!/usr/bin/perl\n$|=1;\nmy $warning_message_to_drop_reg = qr/constant subroutine.+redefined|prototype mismatch|^\\s+at\\s+\\/\\w+/i;\n\nwhile (&lt;STDIN&gt;) {\n    my $message = $_;\n    next if ($message =~ /$warnings_message_to_drop_reg/);\n\n    # You should add custom code here, to write to other locations, if desired\n    # If you log your session id, you can grab it here to decide what to do.\n\n    print $message; # Goes to normal apache error log\n\n}\n</code></pre>\n"}], "owner": {"reputation": 148, "user_id": 576525, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/23a18fa2a166aaff9559bafb6845a71c?s=128&d=identicon&r=PG", "display_name": "Steve Dickinson", "link": "https://stackoverflow.com/users/576525/steve-dickinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441687158, "creation_date": 1441685429, "question_id": 32449149, "link": "https://stackoverflow.com/questions/32449149/how-can-i-split-my-apache-2-4-error-log-into-separate-logs-using-a-session-valu", "title": "How can I split my Apache 2.4 error_log into separate logs using a $SESSION value?", "body": "<p>Our web app stores a session value to indicate a client's location using the CGI::Application::Plugin::Session module. This value is not part of the url and we do not need or want to use virtual hosts for each location. I want to have Apache split the error_log into separate \"location\" logs in real-time, not by using or creating a post processing parser. I thought the way to go would be by piping the logging to an external program to handle the split, using the syntax below, but I'm not sure how to access the session location value via that external program during run-time:</p>\n\n<pre><code>ErrorLog \"|/usr/local/etc/apache24/some_program.pl\"\n</code></pre>\n\n<p>Is this even possible?</p>\n"}, {"tags": ["regex", "perl", "regex-greedy", "negative-lookbehind"], "comments": [{"owner": {"reputation": 537, "user_id": 4889818, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b6eff6321f38676111fedcac92f91a2b?s=128&d=identicon&r=PG&f=1", "display_name": "newguy", "link": "https://stackoverflow.com/users/4889818/newguy"}, "reply_to_user": {"reputation": 1164, "user_id": 4944133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/94cL7.png?s=128&g=1", "display_name": "Kerwin", "link": "https://stackoverflow.com/users/4944133/kerwin"}, "edited": false, "score": 0, "creation_date": 1441681565, "post_id": 32448457, "comment_id": 52760335, "body": "@Kerwin I see what you&#39;re saying but I actually want it to not match if not <code>bar</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1164, "user_id": 4944133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/94cL7.png?s=128&g=1", "display_name": "Kerwin", "link": "https://stackoverflow.com/users/4944133/kerwin"}, "is_accepted": false, "score": 2, "last_activity_date": 1441682620, "creation_date": 1441682620, "answer_id": 32448798, "question_id": 32448457, "link": "https://stackoverflow.com/questions/32448457/perl-regex-stop-negative-look-behind-taking-away-from-next-greedy-capture/32448798#32448798", "title": "perl regex stop negative look-behind taking away from next greedy capture", "body": "<p>it really matched the last position, before the position is <code>\\n</code>,and after it is <code>$</code>,now look your regex :</p>\n\n<pre><code>(?&lt;!bar)(\\s*)$\n</code></pre>\n\n<p>before the position is not <code>bar</code>:matched</p>\n\n<p>after the position is <code>$</code>,matched <code>(\\s*)$</code></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1441684767, "last_edit_date": 1441684767, "creation_date": 1441682628, "answer_id": 32448799, "question_id": 32448457, "link": "https://stackoverflow.com/questions/32448457/perl-regex-stop-negative-look-behind-taking-away-from-next-greedy-capture/32448799#32448799", "title": "perl regex stop negative look-behind taking away from next greedy capture", "body": "<p>I think you want</p>\n\n<pre><code>$data =~ s/(?&lt;!bar)(?&lt;!\\s)(\\s*)$/qux$1/;\n</code></pre>\n\n<p>The following version will work with 5.8, and I think it's actually faster (since it jumps to the end of the string and backtracks rather than checking two look behinds at every position):</p>\n\n<pre><code>$data =~ s/\n   ^\n   (\n      (?:\n         .*\n         (?: [^r\\s]\n         |   [^a] r\n         |   [^b] ar\n         )\n      )?\n   )\n   ( \\s* )\n   \\z\n/${1}qux$2/sx;\n</code></pre>\n\n<p>(<code>$</code> could be used instead of <code>\\z</code>; it's just a micro-optimization.)</p>\n\n<hr>\n\n<h2>Explanation</h2>\n\n<p>Without the <code>m</code> flag, <code>$</code> is equivalent to <code>(?:\\n?\\z)</code>, which it to say it matches at a newline at the end the string and at the end of the string. This means there are two possible places for <code>$</code> to match <code>foobar\u240a</code></p>\n\n<pre><code>foobar\u240a      (There's a LF at position 6 in\n01234567      case your font can't show it.)\n      ^^\n</code></pre>\n\n<p><code>(?&lt;!bar)</code> prevents the first location from being considered, but it allows the second.</p>\n\n<ul>\n<li><p><code>(?&lt;!bar)(\\s*)$</code> matches 0 characters at position 7, because</p>\n\n<ul>\n<li><code>(?&lt;=bar)</code> matches 0 characters at position 7.</li>\n<li><code>(\\s*)</code> matches 0 characters at position 7.</li>\n<li><code>$</code> matches 0 characters at position 7.</li>\n</ul></li>\n</ul>\n\n<p>It's the only possible match, so greediness is not relevant.</p>\n"}], "owner": {"reputation": 537, "user_id": 4889818, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b6eff6321f38676111fedcac92f91a2b?s=128&d=identicon&r=PG&f=1", "display_name": "newguy", "link": "https://stackoverflow.com/users/4889818/newguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 32448799, "answer_count": 2, "score": 2, "last_activity_date": 1442121323, "creation_date": 1441680128, "last_edit_date": 1442121323, "question_id": 32448457, "link": "https://stackoverflow.com/questions/32448457/perl-regex-stop-negative-look-behind-taking-away-from-next-greedy-capture", "title": "perl regex stop negative look-behind taking away from next greedy capture", "body": "<p>Take this simple example in perl v5.22.0:</p>\n\n<pre><code>my $data = \"foobar\\n\";\n$data =~ s/(?&lt;!bar)(\\s*)$/qux$1/;\nprint $data;\n</code></pre>\n\n<p>It prints:</p>\n\n<pre><code>foobar\nqux\n</code></pre>\n\n<p>but I didn't expect <code>$data</code> to change. I also tried some earlier versions of perl 5.x with the same result.</p>\n\n<p>Conversely, I'd expect this string with the same regex to cause a replacement but it doesn't:</p>\n\n<pre><code>my $data = \"foobaz\\n\";\n$data =~ s/(?&lt;!bar)(\\s*)$/qux$1/;\nprint $data;\n</code></pre>\n\n<p><br>\nI don't understand why this happens. In either one the asterisk is supposed to be greedy. I figured <code>$1</code> would be <code>\\n</code> making the negative look-behind group compare against <code>bar</code> in the first example and <code>baz</code> in the second example. Regex101 when I use perl says:</p>\n\n<blockquote>\n  <p>Quantifier: * Between zero and unlimited times, as many times as possible, giving back as needed.</p>\n</blockquote>\n\n<p>So in this case is what happens is it gives back to the negative look-behind?</p>\n\n<p>As the title says the real issue is I'd like to stop the look-behind from swallowing that second group. Unfortunately it's not a single letter, that is just for the example to make it easier to understand. Also in perl I'm somewhat limited with what I can do with the negative look-behind, for example \"Variable length lookbehind not implemented in regex\". If it's possible I'd like an answer that is compatible with perl 5.8. Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 3, "creation_date": 1441668219, "post_id": 32446966, "comment_id": 52757524, "body": "Change $/ to  &quot;\\n\\n&quot;? Two paragraph is separate by a blank line. Read the manual of <code>$&#47;</code>."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1441671348, "post_id": 32446966, "comment_id": 52758175, "body": "Search for INPUT_RECORD_SEPARATOR in perldoc perlvar <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441678239, "post_id": 32446966, "comment_id": 52759604, "body": "The text you quoted does not come from the link you provided.  Could you provide the <i>actual</i> link?"}, {"owner": {"reputation": 13, "user_id": 5310666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8bafa53363310e7bb6fc56739e7f34?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/5310666/perlbeginner"}, "reply_to_user": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1441693335, "post_id": 32446966, "comment_id": 52763770, "body": "@ngn999 Thanks for your reply! I have changed to &quot;\\n\\n&quot; and however, still it does not work well...It still returns the whole text.."}, {"owner": {"reputation": 13, "user_id": 5310666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8bafa53363310e7bb6fc56739e7f34?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/5310666/perlbeginner"}, "reply_to_user": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1441693801, "post_id": 32446966, "comment_id": 52763999, "body": "@ngn999 Can I ask one more question: is it possible to still get paragraphs separately even if the current blank lines do not count as paragraph separator? Thank you!"}, {"owner": {"reputation": 13, "user_id": 5310666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8bafa53363310e7bb6fc56739e7f34?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/5310666/perlbeginner"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1441693864, "post_id": 32446966, "comment_id": 52764027, "body": "@xxfelixxx Thanks for your reply! I will check the INPUT_RECORD_SEPARATOR and check whether it will improve the answer. The text I posted here is part of the link I posted. Can I ask one more question: is it possible to still get paragraphs separately even if the current blank lines do not count as paragraph separator? Thank you!"}, {"owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1441696668, "post_id": 32446966, "comment_id": 52765577, "body": "first, delete trailing white space?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441701358, "post_id": 32446966, "comment_id": 52768423, "body": "Your code works. What&#39;s the problem you&#39;re having?"}, {"owner": {"reputation": 13, "user_id": 5310666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8bafa53363310e7bb6fc56739e7f34?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/5310666/perlbeginner"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441723394, "post_id": 32446966, "comment_id": 52783462, "body": "@Sobrique I have tried that if I copy and paste the code I post and run again, It prints each paragraph separately. However, when I directly analyse the whole file (the link I post), for this part it returns the whole text back (instead of printing each paragraph). I am sure why this happens, maybe copy and paste changes the paragraph separator? Thanks much!"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5310666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8bafa53363310e7bb6fc56739e7f34?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/5310666/perlbeginner"}, "edited": false, "score": 0, "creation_date": 1441693542, "post_id": 32448327, "comment_id": 52763861, "body": "Thanks for your reply! The text is a part of the company&#39;s annual report (the link I posted). I think It is quite possible the &quot;blank&quot; lines have spaces so that I cannot get the paragraphs separately, maybe different companies have different styles in writing these files. Can I ask one more question: is it possible to still get paragraphs separately even if the &quot;blank&quot; have spaces? Thank you!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441709851, "post_id": 32448327, "comment_id": 52773913, "body": "Not using <code>$&#47;</code>. You&#39;ll have to iterate and use regular expressions instead."}, {"owner": {"reputation": 13, "user_id": 5310666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8bafa53363310e7bb6fc56739e7f34?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/5310666/perlbeginner"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441726773, "post_id": 32448327, "comment_id": 52785796, "body": "@Sobrique Thanks for the reply! I will try to do that. But still I have no idea what paragraph separators the text uses and is there any way I can know that? Thanks! Best Regards."}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1441727270, "post_id": 32448327, "comment_id": 52786127, "body": "The text file you linked to works fine with the code you posted (just changing it to open the downloaded file instead of a string).  If you&#39;re still having problems, post more details."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441727362, "post_id": 32448327, "comment_id": 52786180, "body": "There are ways, but it&#39;s a bit too hard to answer in the comments."}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": false, "score": 2, "last_activity_date": 1441679127, "creation_date": 1441679127, "answer_id": 32448327, "question_id": 32446966, "link": "https://stackoverflow.com/questions/32446966/cannot-successfully-extract-paragraphs-using-perl/32448327#32448327", "title": "Cannot successfully extract paragraphs using perl", "body": "<p>When I run the code you posted here, it works fine.  It prints each paragraph separately.</p>\n\n<p>Most likely, the lines between paragraphs are not completely blank.  If there are spaces on the \"blank\" lines, then they don't count as paragraph separators.</p>\n"}], "owner": {"reputation": 13, "user_id": 5310666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8bafa53363310e7bb6fc56739e7f34?s=128&d=identicon&r=PG&f=1", "display_name": "perlbeginner", "link": "https://stackoverflow.com/users/5310666/perlbeginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441679127, "creation_date": 1441666540, "last_edit_date": 1495541680, "question_id": 32446966, "link": "https://stackoverflow.com/questions/32446966/cannot-successfully-extract-paragraphs-using-perl", "title": "Cannot successfully extract paragraphs using perl", "body": "<p>I am trying to use PERL to extract paragraphs from a text. However, the code does not generate the results I expect. I benefit a lot from the answers by Zaid from this post <a href=\"https://stackoverflow.com/questions/12561822/extracting-paragraphs-from-text-with-perl\">extracting paragraphs from text with perl</a>. Here are the codes I wrote:</p>\n\n#\n\n<pre><code>my $string = &lt;&lt;'TEXT';\n     Assembly and Manufacturing\n\n     The Company's assembly and manufacturing operations include PCB assembly\nand the manufacture of subsystems and complete products. Its PCB assembly\nactivities primarily consist of the placement and attachment of electronic and\nmechanical components on printed circuit boards using both SMT and traditional\npin-through-hole (\"PTH\") technology. The Company also assembles subsystems and\nsystems incorporating PCBs and complex electromechanical components, and,\nincreasingly, manufactures and packages final products for shipment directly to\nthe customer or its distribution channels. The Company employs just-in-time,\nship-to-stock and ship-to-line programs, continuous flow manufacturing, demand\nflow processes and statistical process control. The Company has expanded the\nnumber of production lines for finished product assembly, burn-in and test to\nmeet growing demand and increased customer requirements. In addition, the\nCompany has invested in FICO, a producer of injection molded plastic for Asia\nelectronics companies with facilities in Shenzhen, China.\n\n     As OEMs seek to provide greater functionality in smaller products, they\nincreasingly require advanced manufacturing technologies and processes. Most of\nthe Company's PCB assembly involves the use of SMT, which is the leading\nelectronics assembly technique for more sophisticated products. SMT is a\ncomputer-automated process which permits attachment of components directly on\nboth sides of a PCB. As a result, it allows higher integration of electronic\ncomponents, offering smaller size, lower cost and higher reliability than\ntraditional manufacturing processes. By allowing increasingly complex circuits\nto be packaged with the components placed in closer proximity to each other, SMT\ngreatly enhances circuit processing speed, and therefore board and system\nperformance. The Company also provides traditional PTH electronics assembly\nusing PCBs and leaded components for lower cost products.;\nTEXT\n\nlocal $/ = \"\";\nopen my ($str_fh), '&lt;', \\$string;\nwhile ( &lt;$str_fh&gt; ) {\n     print \"New Paragraph: $_\\n\",\"*\" x 40, \"\\n\" ;   \n}\nclose $str_fh;\n</code></pre>\n\n#\n\n<p>The text is from annual report of this company <a href=\"https://www.sec.gov/Archives/edgar/data/32272/0000950147-97-000151.txt\" rel=\"nofollow noreferrer\">https://www.sec.gov/Archives/edgar/data/32272/0000950147-97-000151.txt</a>. </p>\n\n<p>I expect the code returns the paragraphs, however, I got the whole text back. \nWould anyone help me with this issue? I am quite confused with these errors. </p>\n\n<p>Thanks so much!!!</p>\n\n<p>Best Regards</p>\n"}, {"tags": ["perl", "internationalization", "locale", "catalyst", "lexicon"], "owner": {"reputation": 23, "user_id": 4529071, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wd-TfIu7lfM/AAAAAAAAAAI/AAAAAAAAKDc/-pNsRoj9PXw/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/4529071/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1441660535, "creation_date": 1441660535, "question_id": 32446129, "link": "https://stackoverflow.com/questions/32446129/localemaketextlexicon-not-loading-windows-permission-denied", "title": "Locale::Maketext::Lexicon not loading (Windows): permission denied", "body": "<p>I have an issue with an I18N routine that's calling <a href=\"http://search.cpan.org/~drtech/Locale-Maketext-Lexicon-1.00/lib/Locale/Maketext/Lexicon.pm\" rel=\"nofollow\">Locale::Maketext::Lexicon</a>. The routine that's being called (from <a href=\"http://search.cpan.org/~maros/CatalystX-I18N-1.13/lib/CatalystX/I18N/Maketext.pm\" rel=\"nofollow\">CatalystX::I18N::Maketext</a>) is below:</p>\n\n<pre><code>sub load_lexicon {\nmy ( $class, %params ) = @_;\n\nmy $locales = $params{locales} || [];\nmy $directories = $params{directories};\nmy $gettext_style = defined $params{gettext_style} ? $params{gettext_style} : 1;\nmy $inheritance = $params{inheritance} || {};\n\n$directories = [ $directories ]\n    if defined $directories\n    &amp;&amp; ref $directories ne 'ARRAY';\n$directories ||= [];\n$locales = [ $locales ]\n    unless ref $locales eq 'ARRAY';\n\ndie \"Invalid locales\"\n    unless defined $locales\n    &amp;&amp; scalar @$locales &gt; 0\n    &amp;&amp; ! grep {  $_ !~ $CatalystX::I18N::TypeConstraints::LOCALE_RE } @$locales;\n\n{\n    no strict 'refs';\n    my $lexicon_loaded = ${$class.'::LEXICON_LOADED'};\n    if (defined $lexicon_loaded\n        &amp;&amp; $lexicon_loaded == 1) {\n        warn \"Lexicon has already been loaded for $class\";\n        return;\n    }\n}\n\nmy $lexicondata = {\n    _decode =&gt; 1,\n};\n$lexicondata-&gt;{_style} = 'gettext'\n    if $gettext_style;\n\nmy %locale_loaded;\n\n# Loop all directories\nforeach my $directory (@$directories) {\n    next \n        unless defined $directory;\n\n    $directory = Path::Class::Dir-&gt;new($directory)\n        unless ref $directory eq 'Path::Class::Dir';\n\n    next\n        unless -d $directory-&gt;stringify &amp;&amp; -e _ &amp;&amp; -r _;\n\n    my @directory_content =  $directory-&gt;children();\n\n    # Load all avaliable message files\n    foreach my $locale (@$locales) {\n        my $lc_locale = lc($locale);\n        $lc_locale =~ s/-/_/g;\n        my @locale_lexicon;\n        foreach my $content (@directory_content) {\n            if ($content-&gt;is_dir) {\n                push(@locale_lexicon,'Slurp',$content-&gt;stringify)\n                    if $content-&gt;basename eq $locale;\n            } else {\n                my $filename = $content-&gt;basename;\n                if ($filename =~ m/^$locale\\.(mo|po)$/i) {\n                    push(@locale_lexicon,'Gettext',$content-&gt;stringify);\n                } elsif ($filename =~ m/^$locale\\.m$/i) {\n                    push(@locale_lexicon,'Msgcat',$content-&gt;stringify);\n                } elsif($filename =~ m/^$locale\\.db$/i) {\n                    push(@locale_lexicon,'Tie',[ $class, $content-&gt;stringify ]);\n                } elsif ($filename =~ m/^$lc_locale\\.pm$/) {\n                    $locale_loaded{$locale} = 1;\n                    require $content-&gt;stringify;\n                    # TODO transform maketext -&gt; gettext syntax if flag is set\n                    # Locale::Maketext::Lexicon::Gettext::_gettext_to_maketext\n                }\n            }\n        }\n        $lexicondata-&gt;{$locale} = \\@locale_lexicon\n            if scalar @locale_lexicon;\n    }\n}\n\n# Fallback lexicon\nforeach my $locale (@$locales) {\n    next\n        if exists $inheritance-&gt;{$locale};\n    next\n        if exists $locale_loaded{$locale};\n    $lexicondata-&gt;{$locale} ||= ['Auto'];\n}\n\neval qq[\n    package $class;\n    our \\$LEXICON_LOADED = 1;\n    Locale::Maketext::Lexicon-&gt;import(\\$lexicondata)\n];\n\nwhile (my ($locale,$inherit) = each %$inheritance) {\n    my $locale_class = lc($locale);\n    my $inherit_class = lc($inherit);\n    $locale_class =~ s/-/_/g;\n    $inherit_class =~ s/-/_/g;\n    $locale_class = $class.'::'.$locale_class;\n    $inherit_class = $class.'::'.$inherit_class;\n    no strict 'refs';\n    push(@{$locale_class.'::ISA'},$inherit_class);\n}\n\ndie(\"Could not load Locale::Maketext::Lexicon\") if $@;\nreturn;\n</code></pre>\n\n<p>}</p>\n\n<p>The problem, I think, comes from the fact I'm trying to load multiple files in directories named after the locales (i.e., the en_GB directory will have multiple files with translation messages in it). I believe this is causing the push(@locale_lexicon,'Slurp',$content->stringify) to execute.</p>\n\n<p>When I temporarily altered the die message at the bottom to add in the value of $@, I got the following:</p>\n\n<blockquote>\n<pre><code>\"Could not load Locale::Maketext::Lexicon: Cannot read D:\\WAMP\\Apache\\Apache2\\htdocs\\TopTable\\Test\\TopTable\\root\\locale\\en_GB (called by TopTable::Maketext): Permission denied at D:/WAMP/Perl/perl/site/lib/Catalyst/ScriptRunner.pm line 50.\n</code></pre>\n</blockquote>\n\n<p>I'm at a loss as to why this message is stopping it; the perl process is running under my logged in session and I can access the directory and the files in it without an issue; I've also (temporarily) given 'Everyone' modify access to the directory (although I'm sure it should only need to read) and that hasn't had any effect.</p>\n\n<p>Does anyone have any suggestions? It works if I keep all my translations in one en_gb.po file, but it's getting extremely unwieldy and I'd like to separate out the messages if I can.</p>\n\n<p>Note, the fact I have it running in the Apache directory is just because that tends to be where I put my web stuff - this is just running on my laptop and the outside world has no access (I'm developing a Catalyst web site that will eventually run on CentOS). At the moment it's running via the Catalyst built-in web server (using HTTP::Server::PSGI). I'm running this directly under my own username, so no services are running under separate accounts.</p>\n\n<p>Many thanks</p>\n"}, {"tags": ["perl", "file", "merge"], "comments": [{"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "edited": false, "score": 0, "creation_date": 1441659851, "post_id": 32446007, "comment_id": 52755520, "body": "By merge, do you mean all of file 1 followed by all of file2 and the files 3... or do mean line 1 of file 1 followed by line 1 of file 2 and so forth?"}, {"owner": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "reply_to_user": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "edited": false, "score": 0, "creation_date": 1441659916, "post_id": 32446007, "comment_id": 52755542, "body": "Yes! essentially copy and paste all the data in file1, file2... into a new output file. Sorry I didn&#39;t clarify that cleanly.  so say all file1 data all file2 data all file 3 data"}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1441659958, "post_id": 32446007, "comment_id": 52755552, "body": "What are you trying to do? Merging files line-wise like the Unix <code>paste</code> command?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 7, "creation_date": 1441659996, "post_id": 32446007, "comment_id": 52755561, "body": "<code>cat file1 file2 file3 ... fileN &gt; file_all</code>?"}, {"owner": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "edited": false, "score": 0, "creation_date": 1441660044, "post_id": 32446007, "comment_id": 52755571, "body": "so i have some files that contain data that I want to analyze but there are too many separate files. I want to combine all the data in the separate files into one file. To analyze in one go instead of 60."}, {"owner": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1441660118, "post_id": 32446007, "comment_id": 52755593, "body": "@TLP thanks mate! i thought cat wouldn&#39;t work for this ~ my mistake."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1441660916, "post_id": 32446007, "comment_id": 52755823, "body": "@serious You&#39;re welcome. I believe it is actually what <code>cat</code> was made to do, con<b>cat</b>enate files."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1441703206, "post_id": 32446007, "comment_id": 52769524, "body": "Just in case you weren&#39;t aware, you can also use wildcards... <code>cat file* &gt; BigBoy</code>"}], "answers": [{"tags": [], "owner": {"reputation": 429, "user_id": 5265475, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/58b3b2d933635f382161b7f54f08702e?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Steven", "link": "https://stackoverflow.com/users/5265475/thomas-steven"}, "is_accepted": false, "score": -1, "last_activity_date": 1441724671, "last_edit_date": 1441724671, "creation_date": 1441662793, "answer_id": 32446481, "question_id": 32446007, "link": "https://stackoverflow.com/questions/32446007/best-way-to-merge-10-files-into-one-file/32446481#32446481", "title": "Best way to merge 10+ files into one file", "body": "<p>If you were doing this in Windows the following would work:</p>\n\n<pre><code>copy /y/b file1 + file2 + file3 + ... fileN file_all &gt;nul\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441724766, "post_id": 32453277, "comment_id": 52784533, "body": "That leaves a lot on the screen."}], "tags": [], "owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "is_accepted": false, "score": 0, "last_activity_date": 1441702229, "creation_date": 1441702229, "answer_id": 32453277, "question_id": 32446007, "link": "https://stackoverflow.com/questions/32446007/best-way-to-merge-10-files-into-one-file/32453277#32453277", "title": "Best way to merge 10+ files into one file", "body": "<p>On Windows you would use this :</p>\n\n<pre><code>type file1 file2 file3 &gt; file_all\n</code></pre>\n\n<p>Not sure if there is a maximum number of files that <code>type</code> can open or not but this is the Windows equivalent of <code>cat</code> (or most similar equivalent)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1441725278, "last_edit_date": 1441725278, "creation_date": 1441724851, "answer_id": 32461284, "question_id": 32446007, "link": "https://stackoverflow.com/questions/32446007/best-way-to-merge-10-files-into-one-file/32461284#32461284", "title": "Best way to merge 10+ files into one file", "body": "<pre><code>cat file1 file2 file3 &gt;combined  # sh or cmd[1]\n\nperl -pe1 file1 file2 file3 &gt;combined  # sh or cmd[1]\n\ncopy /y/b file1+file2+file3 combined &gt;nul  # cmd\n</code></pre>\n\n<p>With wildcards:</p>\n\n<pre><code>cat file* &gt;combined  # sh\n\nperl -pe1 file* &gt;combined  # sh\n\nperl -MFile::DosGlob=glob -pe\"BEGIN { @ARGV = map glob, @ARGV }\" file* &gt;combined  # cmd[1]\n\ncopy /y/b file* combined &gt;nul  # cmd\n</code></pre>\n\n<hr>\n\n<ol>\n<li>Few Windows systems have <code>cat</code> or <code>perl</code> installed.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441735696, "post_id": 32463528, "comment_id": 52790849, "body": "This answer addresses the <i>intent</i> of what the OP is trying to do instead of merely answering the specific question that was asked. The extra stuff about the input line number variable is a little off-topic, but still interesting."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 2, "last_activity_date": 1441743766, "last_edit_date": 1441743766, "creation_date": 1441732288, "answer_id": 32463528, "question_id": 32446007, "link": "https://stackoverflow.com/questions/32446007/best-way-to-merge-10-files-into-one-file/32463528#32463528", "title": "Best way to merge 10+ files into one file", "body": "<p>If you are analyzing the files with Perl, you don't have to merge them. Perl's <code>ARGV</code> filehandle goes through all of the lines of all of the files you specify on the command line (or really, put in <code>@ARGV</code>):</p>\n\n<pre><code>while( &lt;ARGV&gt; ) { # special ARGV filehandle\n       print \"Line is&gt; $_\"; # do stuff on the next line, current line in $_\n   }\n</code></pre>\n\n<p>It's such a common idiom that it has a shortcut where <code>ARGV</code> is the default filehandle:</p>\n\n<pre><code>while( &lt;&gt; ) { # special ARGV filehandle is the default\n   print \"Line is&gt; $_\";\n   }\n</code></pre>\n\n<p>You'd call the script with all the files you want to go through:</p>\n\n<pre><code>$ perl my_program file1 file2 ...\n</code></pre>\n\n<p>When the program gets to the end of one file, it seamlessly goes to the beginning of the next file. Now you don't need on giant file.</p>\n\n<p>There are some interesting tricks. During this process, the current filename is in <code>$ARGV</code>. The global line counter is in <code>$.</code>:</p>\n\n<pre><code>while( &lt;ARGV&gt; ) { # special ARGV filehandle\n   print \"[$ARGV:$.] Line is&gt; $_\";\n   }\n</code></pre>\n\n<p>If you want to reset the line counter for each file (probably so look back in individual files), you can close <code>ARGV</code> when the current file reaches the end of file (eof):</p>\n\n<pre><code>while( &lt;ARGV&gt; ) { # special ARGV filehandle\n   print \"[$ARGV:$.] Line is&gt; $_\";\n   close ARGV if eof(ARGV);\n   }\n</code></pre>\n\n<p>Perl will automatically re-open <code>ARGV</code> for the next file.</p>\n"}], "owner": {"reputation": 147, "user_id": 5290820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b4e11cc48058951252437f1b883bed?s=128&d=identicon&r=PG&f=1", "display_name": "serious", "link": "https://stackoverflow.com/users/5290820/serious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 32463528, "answer_count": 4, "score": 0, "last_activity_date": 1441743766, "creation_date": 1441659767, "last_edit_date": 1441671091, "question_id": 32446007, "link": "https://stackoverflow.com/questions/32446007/best-way-to-merge-10-files-into-one-file", "title": "Best way to merge 10+ files into one file", "body": "<p>Would writing a script actually be efficient in doing this for that many files (say 15)? Or is there a specific one line command I can use to do such a thing.</p>\n\n<p>For example a script (<em>in pseudo-code</em>) I have considered is</p>\n\n<pre><code>open file\nwhile $line = &lt;file&gt;\n$line = $data1\n\nopen file2\nwhile $line = &lt;file2&gt;\n$line2 = $data2\n\nprint \"data1\\ndata2\\n...\"\n</code></pre>\n\n<p>and so forth with the amount of files I need to paste into this new output file.</p>\n"}, {"tags": ["perl", "oop"], "answers": [{"comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1445543652, "post_id": 32448540, "comment_id": 54379098, "body": "Thanks! Only saw this now, for some reason."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 2, "last_activity_date": 1441681874, "last_edit_date": 1441681874, "creation_date": 1441680858, "answer_id": 32448540, "question_id": 32445262, "link": "https://stackoverflow.com/questions/32445262/how-can-i-examine-perl-objects-pml-nodes/32448540#32448540", "title": "How can I examine Perl objects (PML nodes)?", "body": "<p>Use the <code>attribute_paths</code> method of the Node object to get a list of what data is available.</p>\n\n<p>Go to <a href=\"http://ufal.mff.cuni.cz/jazz/PML/doc/\" rel=\"nofollow\">Prague Markup Language Documentation</a> and download ALL of the example schemas (they refer to each other...)</p>\n\n<pre><code>example1.xml\nexample1_schema.xml\nexample2.xml\nexample2_schema.xml\n...\n</code></pre>\n\n<p>In this example, I am using <code>example7.xml</code> to get a list of paths, which you can use to get at the data.  The data stored in the PML Nodes come from the following\nsentences: </p>\n\n<blockquote>\n  <p><strong>John loves Mary.  He told her this Friday.</strong></p>\n</blockquote>\n\n<p>Here is the code: </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Treex::PML;\n\nmy $document = Treex::PML::Factory-&gt;createDocumentFromFile('example7.xml');\n\nforeach my $tree ($document-&gt;trees) {\n    my $node = $tree;\n    while ($node) {\n        $node = $node-&gt;following; # depth-first traversal\n        my @paths = $node-&gt;attribute_paths();\n        print \"Can call the following:\\n\";\n        for (@paths) {\n            print '$node-&gt;all(\"' . $_ . '\");' . \"\\n\";\n            my ($value) = $node-&gt;all($_);\n            print \" ==&gt; $value\\n\";\n        }\n        exit 0;\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Can call the following:\n$node-&gt;all(\"label\");\n ==&gt; NP\n$node-&gt;all(\"w/id\");\n ==&gt; t#s1w1\n$node-&gt;all(\"w/#content\");\n ==&gt; John\n</code></pre>\n"}], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 32448540, "answer_count": 1, "score": 1, "last_activity_date": 1508586679, "creation_date": 1441655641, "last_edit_date": 1508586679, "question_id": 32445262, "link": "https://stackoverflow.com/questions/32445262/how-can-i-examine-perl-objects-pml-nodes", "title": "How can I examine Perl objects (PML nodes)?", "body": "<p>How can I introspect a tree of <a href=\"http://search.cpan.org/dist/Treex-PML/lib/Treex/PML/Node.pm\" rel=\"nofollow noreferrer\"><code>Treex::PML::Node</code></a> objects to find out the data each node contains? I can call the root node's methods: E.g., <code>$root-&gt;firstson()</code> is another <code>Node</code> object. But how do I inspect the data fields of the tree nodes? I know too little about Perl objects to crack this nut.</p>\n\n<p>Background: I am wrestling with an application that supports Perl scripting, and trying to manipulate a parsed sentence exposed as a tree of PML Nodes. (Each node represents a word and its various annotations, which is what I'm trying to access.) Unfortunately I do not have access to the PML schema-- all I have is the handle to the <code>$root</code> variable. </p>\n"}, {"tags": ["perl", "if-statement"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1441646760, "post_id": 32443378, "comment_id": 52750709, "body": "I&#39;m not sure I understand what you&#39;re trying to do. I don&#39;t <i>think</i> that <code>while</code> loop is doing what you think it&#39;s doing. Because you&#39;re using <code>while</code> to iterate matches, but then applying a pattern replacement on all of <code>$data</code>. I think it&#39;s worth backtracking a bit and explaining what you&#39;re trying to do here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1441646808, "post_id": 32443378, "comment_id": 52750737, "body": "The <code>$+{start}</code> and <code>$+{end}</code> you print are from the <code>s&#47;&#47;&#47;</code>, but the <code>$+{start}</code> and <code>$+{end}</code> you compare are from the <code>&#47;&#47;</code>. If you moved the <code>print</code> to before the <code>s&#47;&#47;&#47;</code>, you&#39;ll see the <code>if</code> is working correctly."}, {"owner": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "edited": false, "score": 0, "creation_date": 1441647420, "post_id": 32443378, "comment_id": 52750957, "body": "As you said, I am iterating through all matches for the given regex and do a regex replace if the condition &quot;start - end == 0&quot; is met."}, {"owner": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441648451, "post_id": 32443378, "comment_id": 52751315, "body": "@ikegami I tried your suggestion, but it is still not working as intended.  What I want is to retain the first word that is prefixed by a &#39;minus space&#39; or &#39;hyphen space&#39;, which in this case is &#39;- velit&#39; as you can see in the <b>DATA</b>.  The other print lines work okay, but if you uncomment the last print line, which prints out the $data, you will see that the output is missing the &quot;- velit&quot;, which is what I want to retain because &quot;6920 - 6890&quot; is not equal to 0."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1441648551, "post_id": 32443378, "comment_id": 52751349, "body": "Oh I&#39;m sure there are many other problems in the way of achieving what you want to achieve, whatever that is. That&#39;s why I didn&#39;t post an answer."}, {"owner": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441649650, "post_id": 32443378, "comment_id": 52751744, "body": "@Sobrique I think I am beginning to see what the problem is and what you are trying to suggest.  What I want to do is do a pattern replace <b>only</b> on the <b>current match</b> if the condition is met."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "edited": false, "score": 0, "creation_date": 1441648642, "post_id": 32443591, "comment_id": 52751386, "body": "S tried your suggestion, still not working as intended.  Please see comment above.  A global replace is not what I am looking for but a conditional replace on a per-case basis. I need to do regex replace only if the condition matches for that particular case.  I am sure I am doing something wrong, but can&#39;t readily put my finger on it."}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "reply_to_user": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "edited": false, "score": 0, "creation_date": 1441649271, "post_id": 32443591, "comment_id": 52751611, "body": "Well even if the global wasn&#39;t your goal, your first conditional incorporates an extra iteration of your search, that&#39;s why my version printed out two sets of &quot;start 1/end 1&quot; variables. I&#39;d assume that&#39;s not what you&#39;re looking to do."}, {"owner": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "edited": false, "score": 0, "creation_date": 1441651532, "post_id": 32443591, "comment_id": 52752445, "body": "sharp-eyed @Sobrique.  Finally rectified the code with the very helpful pointers by you Sobrique and Tim.  What I did is to make all regex matches non-greedy and used only the current match for the substitution part of it."}], "tags": [], "owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1441647463, "last_edit_date": 1441647463, "creation_date": 1441646968, "answer_id": 32443591, "question_id": 32443378, "link": "https://stackoverflow.com/questions/32443378/perl-if-conditional-processing-seems-to-not-be-working/32443591#32443591", "title": "Perl if conditional processing seems to not be working", "body": "<p>So I added some additional debug code, and found something interesting: (the 2nd and 3rd lines, and the following print statement):</p>\n\n<pre><code>while ($data =~ /:(?&lt;end&gt;\\d+) (?&lt;notneeded&gt;- [a-z0-9\\-']+) (?&lt;needed&gt;[a-z0-9\\-']+?) (?&lt;start&gt;\\d+)(?=:)/ig) {\n    my $start1 = $+{start};\n    my $end1 = $+{end};\n    print(\"start 1 is $start1\\nend 1 is $end1\\n\\n\");\n    if ($start1 == $end1) {\n        $data =~ s/:(?&lt;end&gt;\\d+) (?&lt;notneeded&gt;- [a-z0-9\\-']+) (?&lt;needed&gt;[a-z0-9\\-']+?) (?&lt;start&gt;\\d+)(?=:)/:$+{end} $+{needed} $+{start}/i;\n        print \"\\nFull match: '\" . \"$&amp;\" . \"'\\n\";\n        print \"\\nStart: '\" . \"$+{start}\" . \"'\\n\";\n        print \"\\nEnd: '\" . \"$+{end}\" . \"'\\n\";\n        print \"\\nDiff: '\" . ($+{start} - $+{end}) . \"'\\n\";\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>[myuser@myhost tmp]$ ./tmp.pl\nstart 1 is 6920\nend 1 is 6890\n\nstart 1 is 8600\nend 1 is 8600\n\n\nFull match: ':6890 - velit lectus 6920'\n\nStart: '6920'\n\nEnd: '6890'\n\nDiff: '30'\nstart 1 is 8600\nend 1 is 8600\n\n\nFull match: ':8600 - neque non 8600'\n\nStart: '8600'\n\nEnd: '8600'\n\nDiff: '0'\n</code></pre>\n\n<p>As you can see, it's printing two groups of start1 and end1 for the first group of data, the 2nd of which actually matches, because it's incorporating the matching iteration with it as well. Does that make sense?</p>\n\n<p>Your second regex is missing the 'g'...</p>\n\n<pre><code>$data =~ s/:(?&lt;end&gt;\\d+) (?&lt;notneeded&gt;- [a-z0-9\\-']+) (?&lt;needed&gt;[a-z0-9\\-']+?) (?&lt;start&gt;\\d+)(?=:)/:$+{end} $+{needed} $+{start}/ig;\n</code></pre>\n\n<p>Seems to fix the issue.</p>\n\n<pre><code>[myuser@myhost tmp]$ ./tmp.pl\nstart 1 is 6920\nend 1 is 6890\n\nstart 1 is 8600\nend 1 is 8600\n\n\nFull match: ':8600 - neque non 8600'\n\nStart: '8600'\n\nEnd: '8600'\n\nDiff: '0'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "edited": false, "score": 0, "creation_date": 1441651845, "post_id": 32444275, "comment_id": 52752566, "body": "I got the gist of what you are saying with the pointers by Tim and Sobrique.  Thanks for everybody."}, {"owner": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "edited": false, "score": 0, "creation_date": 1441652974, "post_id": 32444275, "comment_id": 52752985, "body": "All points raised are valid and taken. Could have used a back reference, just so happened that the code posted was part of some other code, which was modified.  In the other part of the code, backreferences cannot be used.  Your point is valid though. That particular capture is not needed and need not be named.  Your code would do what I needed to do, I guess.  As I said, my code is just a carryover of some other code where I need to do a replace conditionally.  In this particular case, your code does all with regex alone, which is beautiful."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1441651325, "last_edit_date": 1441651325, "creation_date": 1441650336, "answer_id": 32444275, "question_id": 32443378, "link": "https://stackoverflow.com/questions/32443378/perl-if-conditional-processing-seems-to-not-be-working/32444275#32444275", "title": "Perl if conditional processing seems to not be working", "body": "<p>The problem is that the subtitution, which doesn't have a global <code>/g</code> modifier, searches from the beginning of the string each time</p>\n\n<ul>\n<li><p>The first time around the loop the values 8690 ... 6920 are found, and skipped because the values don't match</p></li>\n<li><p>The second time around, 8600 ... 8600 is found, so the subtitution executes. But it finds the <em>first</em> occurrence of the pattern, and changes <code>:6890 - velit lectus 6920</code> into <code>6890 lectus 6920</code></p></li>\n<li><p>The <em>third</em> time around, the global search starts at the beginning again because the string has been modified, so it now finds 8600 ... 8600 again, and the subtitution executes, this time replacing <code>:8600 - neque non 8600</code> with <code>8600 non 8600</code></p></li>\n</ul>\n\n<p>You have chosen a very awkward way of doing this. If you explained what it was you wanted I could help a little better, but your substitutions are making nonsense of the content of the file; for instance they are removing the colon <code>:</code> separator from between the two numbers, so there is no way of telling where to separate the resulting digit string</p>\n\n<p><br/></p>\n\n<hr>\n\n<p>I would write this</p>\n\n<p>There's no need to ascend back into Perl to check that the end and start values are the same; you can just use a backreference to match the same number again. And I think your named captures are confusing things rather than clarifying, for instance the <code>notneeded</code> capture needn't even be a capture, never mind being named</p>\n\n<p>There's also no need for a Perl <code>while</code> loop as a simple <code>s///g</code> will find and replace all occurrences on its own</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $data = do {\n    local $/;\n    &lt;DATA&gt;;\n};\n\n$data =~ s/\\s+/ /g;\n$data =~ tr/[]//d;\n\nmy $re = qr/ : (\\d+) \\s+ -\\s[\\p{alnum}'-]+ \\s+ ([\\p{alnum}'-]+) \\s+ \\1 /x;\n\nmy $n = $data =~ s/$re/$1 $2 $1/g;\n\nprintf \"%d %s made\\n\", $n, $n == 1 ? 'substitution' : 'substitutions';\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1 substitution made\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "is_accepted": false, "score": 0, "last_activity_date": 1441652071, "creation_date": 1441652071, "answer_id": 32444577, "question_id": 32443378, "link": "https://stackoverflow.com/questions/32443378/perl-if-conditional-processing-seems-to-not-be-working/32444577#32444577", "title": "Perl if conditional processing seems to not be working", "body": "<p>Here is my modified code which works correctly as intended:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = undef;\n\nmy $data = &lt;DATA&gt;;\n\n$data =~ s/(\\s+)/ /gi;\n$data =~ s/\\[|\\]//gi;\n\nwhile ($data =~ /:(?&lt;end&gt;\\d+?) (?&lt;notneeded&gt;- [a-z0-9\\-']+?) (?&lt;needed&gt;[a-z0-9\\-']+?) (?&lt;start&gt;\\d+?)(?=:)/ig) {\n    if (\"$+{start}\" eq \"$+{end}\") {\n        print \"\\nFull match: '\" . \"$&amp;\" . \"'\\n\";\n        print \"\\nStart: '\" . \"$+{start}\" . \"'\\n\";\n        print \"\\nEnd: '\" . \"$+{end}\" . \"'\\n\";\n        print \"\\nDiff: '\" . ($+{start} - $+{end}) . \"'\\n\";\n        my $start = $+{start};\n        my $end = $+{end};\n        my $needed = $+{needed};\n\n        $data =~ s/$&amp;/:$end $needed $start/i;\n    }\n\n}\n\nprint \"$data\\n\\n\";\n\n__DATA__\n\nlorem          [1170:1540]\nipsum          [1540:2040]\ndolor          [2040:2350]\nsit            [2350:2510]\namet           [2510:2670]\nconsectetur    [2670:3130]\nadipiscing     [3130:3240]\nelit           [3240:3470]\nquisque        [3550:4070]\negestas        [4070:4290]\nmagna          [4290:4570]\nsit            [4620:4650]\namet           [4780:5390]\nmolestie       [5480:6660]\nimperdiet      [6660:6890]\n- velit\nlectus         [6920:6950]\negestas        [7130:7530]\nenim           [7570:7830]\nnon            [7830:8160]\nornare         [8160:8260]\neros           [8260:8600]\n- neque\nnon            [8600:8890]\nrisus          [9120:9450]\naenean         [9450:9570]\nvenenatis      [9570:9820]\n- hendrerit\n- urna\n- nec\n- bibendum\nnunc           [11210:11380]\nlobortis       [11380:11470]\nin             [11470:11710]\nin             [11780:11810]\nfacilisis      [12960:13340]\nurna           [13340:13460]\nin             [13460:13920]\nneque          [14070:14630]\nbibendum       [14630:14930]\nlobortis       [14930:15250]\n- maecenas\n- efficitur\n- fermentum\neros           [17060:17450]\nmalesuada      [17450:17760]\nposuere        [17760:17810]\nnisi           [18050:18080]\n- tristique\n- sit\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4412796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9a36567d07203d078fb620b50b0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vickie", "link": "https://stackoverflow.com/users/4412796/vickie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1441652071, "creation_date": 1441645829, "question_id": 32443378, "link": "https://stackoverflow.com/questions/32443378/perl-if-conditional-processing-seems-to-not-be-working", "title": "Perl if conditional processing seems to not be working", "body": "<p>Been on this for a week now.  Not able to make an if condition to work in perl.  Not sure where I am going wrong.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = undef;\n\nmy $data = &lt;DATA&gt;;\n\n$data =~ s/(\\s+)/ /gi;\n$data =~ s/\\[|\\]//gi;\n\nwhile ($data =~ /:(?&lt;end&gt;\\d+) (?&lt;notneeded&gt;- [a-z0-9\\-']+) (?&lt;needed&gt;[a-z0-9\\-']+?) (?&lt;start&gt;\\d+)(?=:)/ig) {\n    if (($+{start} - $+{end}) == 0) {\n        $data =~ s/:(?&lt;end&gt;\\d+) (?&lt;notneeded&gt;- [a-z0-9\\-']+) (?&lt;needed&gt;[a-z0-9\\-']+?) (?&lt;start&gt;\\d+)(?=:)/:$+{end} $+{needed} $+{start}/i;\n        print \"\\nFull match: '\" . \"$&amp;\" . \"'\\n\";\n        print \"\\nStart: '\" . \"$+{start}\" . \"'\\n\";\n        print \"\\nEnd: '\" . \"$+{end}\" . \"'\\n\";\n        print \"\\nDiff: '\" . ($+{start} - $+{end}) . \"'\\n\";\n    }\n\n}\n\n#print \"$data\\n\\n\";\n\n__DATA__\n\nlorem          [1170:1540]\nipsum          [1540:2040]\ndolor          [2040:2350]\nsit            [2350:2510]\namet           [2510:2670]\nconsectetur    [2670:3130]\nadipiscing     [3130:3240]\nelit           [3240:3470]\nquisque        [3550:4070]\negestas        [4070:4290]\nmagna          [4290:4570]\nsit            [4620:4650]\namet           [4780:5390]\nmolestie       [5480:6660]\nimperdiet      [6660:6890]\n- velit\nlectus         [6920:6950]\negestas        [7130:7530]\nenim           [7570:7830]\nnon            [7830:8160]\nornare         [8160:8260]\neros           [8260:8600]\n- neque\nnon            [8600:8890]\nrisus          [9120:9450]\naenean         [9450:9570]\nvenenatis      [9570:9820]\n- hendrerit\n- urna\n- nec\n- bibendum\nnunc           [11210:11380]\nlobortis       [11380:11470]\nin             [11470:11710]\nin             [11780:11810]\nfacilisis      [12960:13340]\nurna           [13340:13460]\nin             [13460:13920]\nneque          [14070:14630]\nbibendum       [14630:14930]\nlobortis       [14930:15250]\n- maecenas\n- efficitur\n- fermentum\neros           [17060:17450]\nmalesuada      [17450:17760]\nposuere        [17760:17810]\nnisi           [18050:18080]\n- tristique\n- sit\n</code></pre>\n\n<p>If I change the if conditional statement from above to any of the below variations, it still seems not to be working.</p>\n\n<pre><code>if ($+{start} == $+{end})\nif (($+{start} - $+{end}) eq 0)\nif (\"$+{start}\" eq \"$+{end})\")\n</code></pre>\n\n<p>The desired output is only the second match, which is \":8600 - neque non 8600\"</p>\n"}, {"tags": ["perl", "unix", "awk", "sed"], "comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1441637162, "post_id": 32440994, "comment_id": 52746398, "body": "Related: <a href=\"http://stackoverflow.com/q/24268989/2088135\">stackoverflow.com/q/24268989/2088135</a>"}], "answers": [{"tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": false, "score": 0, "last_activity_date": 1441636903, "creation_date": 1441636903, "answer_id": 32441232, "question_id": 32440994, "link": "https://stackoverflow.com/questions/32440994/file-splitting-in-unix/32441232#32441232", "title": "File splitting in UNIX", "body": "<p>I'm surprised that <code>split</code> isn't capable of doing this but one alternative would be to use awk:</p>\n\n<pre><code>awk 'NR%2769==1{ close(outfile); outfile = sprintf(\"%s%03d\", FILENAME, ++i) }{ print &gt; outfile }' file\n</code></pre>\n\n<p>This prints each line of the input file to the file whose name is composed of the input file, followed by a zero-padded 3 digit number. The number will increase by 1 every 2769 lines.</p>\n\n<p>The call to <code>close</code> (which won't do anything the first time it is called), is useful if there are many output files, as otherwise they will all be left open by awk.</p>\n"}, {"comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1441639117, "post_id": 32441234, "comment_id": 52747440, "body": "I think that the key to using <code>split</code> is to define the length of the suffix using the <code>-a</code> switch, as mentioned in the linked question."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 1, "last_activity_date": 1441636914, "creation_date": 1441636914, "answer_id": 32441234, "question_id": 32440994, "link": "https://stackoverflow.com/questions/32440994/file-splitting-in-unix/32441234#32441234", "title": "File splitting in UNIX", "body": "<p><code>split</code> will handle this with charm</p>\n\n<pre><code>$ split -l 2769 -d &lt;(seq 1 30000) section\n$ wc -l sec*                                                                                    \n2769 section00\n2769 section01\n2769 section02\n2769 section03\n2769 section04\n2769 section05\n2769 section06\n2769 section07\n2769 section08\n2769 section09\n2310 section10\n30000 total\n</code></pre>\n\n<p><code>-l</code> for line size, <code>-d</code> for numeric suffix and last argument is the output file prefix.  You have to replace <code>&lt;(seq ..)</code> with your input file.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5309443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6722942ccf925af10e97a8fe436a75a?s=128&d=identicon&r=PG&f=1", "display_name": "bernie110749", "link": "https://stackoverflow.com/users/5309443/bernie110749"}, "edited": false, "score": 0, "creation_date": 1442305837, "post_id": 32441326, "comment_id": 53016487, "body": "Thank you. This looks promising. Ideally I would like the output in one dataset with end of line characters at the end of each 2769 block and an end of file at the end so that I can use it as a normal UNIX dataset. Bernie."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1441637201, "creation_date": 1441637201, "answer_id": 32441326, "question_id": 32440994, "link": "https://stackoverflow.com/questions/32440994/file-splitting-in-unix/32441326#32441326", "title": "File splitting in UNIX", "body": "<p>You can use perl from command line,</p>\n\n<pre><code>perl -Mautodie -ne 'BEGIN{$/ = \\2769} print {open $f, \"&gt;\", ++$i; $f} $_' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "is_accepted": false, "score": 0, "last_activity_date": 1441692724, "creation_date": 1441692724, "answer_id": 32450420, "question_id": 32440994, "link": "https://stackoverflow.com/questions/32440994/file-splitting-in-unix/32450420#32450420", "title": "File splitting in UNIX", "body": "<pre><code>awk '{print &gt; ( FILENAME \".\" int( ( NR + 2768) / 2769) )}' YourFile\n</code></pre>\n\n<p>files name starting at <em>YourFile</em>.1</p>\n"}], "owner": {"reputation": 1, "user_id": 5309443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6722942ccf925af10e97a8fe436a75a?s=128&d=identicon&r=PG&f=1", "display_name": "bernie110749", "link": "https://stackoverflow.com/users/5309443/bernie110749"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1441692724, "creation_date": 1441636024, "question_id": 32440994, "link": "https://stackoverflow.com/questions/32440994/file-splitting-in-unix", "title": "File splitting in UNIX", "body": "<p>I have a UNIX dataset with record length n (this will be changeable but will be always divisible exactly by 2769).  </p>\n\n<p>I want to process this file to end up with a new dataset with separate records of length 2769 and it needs to be done in UNIX (perl?, sed?, awk? or whatever).</p>\n\n<p>I can do this in a shell script using a loop but the time it takes is excessive.</p>\n\n<p>I tried 'split' but it appears that there is a limit to the length you can specify.</p>\n\n<p>Can anyone suggest an efficient answer please?</p>\n\n<p>Thank you,</p>\n\n<p>Bernie</p>\n"}, {"tags": ["perl", "hex", "printf"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1441644028, "post_id": 32439904, "comment_id": 52749635, "body": "Note that it&#39;s not related to the Perl version. You can have a 64-bit build of Perl 5.6 and a 32-bit build of 5.14."}], "answers": [{"comments": [{"owner": {"reputation": 359, "user_id": 1885095, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f27e7d08b8cfbdb044e48ac4de4cf370?s=128&d=identicon&r=PG", "display_name": "AJ Gottes", "link": "https://stackoverflow.com/users/1885095/aj-gottes"}, "edited": false, "score": 0, "creation_date": 1441633577, "post_id": 32439975, "comment_id": 52744472, "body": "Simple and genius! Thanks!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1441637622, "last_edit_date": 1441637622, "creation_date": 1441632771, "answer_id": 32439975, "question_id": 32439904, "link": "https://stackoverflow.com/questions/32439904/perl-5-6-1-vs-perl-5-14-converting-dec-to-hex/32439975#32439975", "title": "Perl 5.6.1 vs. Perl 5.14 - converting dec to hex", "body": "<p>The thing with negative numbers is they're represented via 2s complement binary. What you're seeing is the result of the word size being larger.  </p>\n\n<p>I'm not entirely sure precisely why it would have changed (aside from 14 years and a general move to 64bit), but it's not easy to fix without recompiling perl. I'd suggest that's not a good idea since what you're really trying to get is a stringification. </p>\n\n<p>A simpler solution would be a bitwise AND with the appropriate length bitmask:</p>\n\n<pre><code>$x = -806;\n$x = sprintf (\"0x%x\" , $x &amp; 0xffffffff);\nprint \"$x\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": 2, "last_activity_date": 1441635562, "creation_date": 1441635562, "answer_id": 32440856, "question_id": 32439904, "link": "https://stackoverflow.com/questions/32439904/perl-5-6-1-vs-perl-5-14-converting-dec-to-hex/32440856#32440856", "title": "Perl 5.6.1 vs. Perl 5.14 - converting dec to hex", "body": "<p>Some addition to the answer above:</p>\n\n<p>The number of digits Perl produces when its <code>sprintf</code> converts to hex depends on the size of the native C data type Perl uses internally to store unsigned integer values. What type that is is determined by Perl's <code>Configure</code> script when it sets things up to compile the Perl interpreter, so it's not exactly something that can be changed at run time. It can also vary from operating system to operating system and machine to machine, so if you run your script in different environments you can't be sure how many hex digits will be produced (a point strongly in favor of Sobrique's suggestion). It's also quite likely that the default native type was changed from a 32-bit one to a 64-bit one at some point during the 14 years since 5.6.1 was released.</p>\n\n<p>If you want to know what type is used in a particular perl installation, <code>perl -MConfig -E 'say $Config{uvtype}'</code> will tell you (modify as needed for pre-5.10 perls).</p>\n"}], "owner": {"reputation": 359, "user_id": 1885095, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f27e7d08b8cfbdb044e48ac4de4cf370?s=128&d=identicon&r=PG", "display_name": "AJ Gottes", "link": "https://stackoverflow.com/users/1885095/aj-gottes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "accepted_answer_id": 32439975, "answer_count": 2, "score": 1, "last_activity_date": 1441637622, "creation_date": 1441632542, "last_edit_date": 1441632658, "question_id": 32439904, "link": "https://stackoverflow.com/questions/32439904/perl-5-6-1-vs-perl-5-14-converting-dec-to-hex", "title": "Perl 5.6.1 vs. Perl 5.14 - converting dec to hex", "body": "<p>I found something strange.\nDifferent behaviors for different versions of perl.</p>\n\n<p>The code is:</p>\n\n<pre><code>$x = -806;\n$x = sprintf \"0x%x\" , $x;\nprint \"$x\";\n</code></pre>\n\n<p>In 5.6.1 i get:\n0xfffffcda</p>\n\n<p>In 5.14 i get:\n0xfffffffffffffcda</p>\n\n<p>How can i get 32-bit in 5.14 as well?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "pdflib"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441627812, "post_id": 32438386, "comment_id": 52740949, "body": "To clarify: You want a PDF without a font embedded and force the consumer to already have the font in order to properly view the PDF. You do not want to remove an embedded font to steal it and use it somewhere else."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441627897, "post_id": 32438386, "comment_id": 52740993, "body": "related: <a href=\"https://forums.adobe.com/thread/442685\" rel=\"nofollow noreferrer\">forums.adobe.com/thread/442685</a>"}, {"owner": {"reputation": 45, "user_id": 3895436, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8b2517f0c4ea490bc80a934bb6f6485a?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram", "link": "https://stackoverflow.com/users/3895436/sriram"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441628130, "post_id": 32438386, "comment_id": 52741171, "body": ":-)Yes. This requirement is for an internal purpose and the fonts available are already in the servers. The users are also going to be inside the server network. The PDF file pages spans to 1000s and has quite a large number of fonts embedded making it weigh more. I&#39;m not sure if it is possible at all in the first place. But would be cool if it is possible."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 3895436, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8b2517f0c4ea490bc80a934bb6f6485a?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram", "link": "https://stackoverflow.com/users/3895436/sriram"}, "edited": false, "score": 0, "creation_date": 1441628605, "post_id": 32438550, "comment_id": 52741491, "body": "Thanks for the quick suggestion Simbabque. I will try this and will post the results here."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1599213571, "last_edit_date": 1599213571, "creation_date": 1441628143, "answer_id": 32438550, "question_id": 32438386, "link": "https://stackoverflow.com/questions/32438386/is-it-possible-to-remove-embedded-fonts-in-pdf-and-use-them-from-servers-like-in/32438550#32438550", "title": "Is it possible to remove embedded fonts in PDF and use them from Servers like in Webpages?", "body": "<p>It looks like <a href=\"https://metacpan.org/pod/CAM::PDF\" rel=\"nofollow noreferrer\">CAM::PDF</a> can do that. It has a deEmbedFont method that removes references to a font, and <a href=\"https://metacpan.org/pod/CAM::PDF#doc-deEmbedFont-pagenum-fontname\" rel=\"nofollow noreferrer\">the documentation</a> says you should use <code>cleanse</code> afterwards to gain a size benefit.</p>\n<blockquote>\n<p>Removes embedded font data, leaving font reference intact. Returns true if the font exists and 1) font is not embedded or 2) embedded data was successfully discarded. Returns false if the font does not exist, or the embedded data could not be discarded.</p>\n<p>The optional $basefont parameter allows you to change the font. This is useful when some applications embed a standard font (see below) and give it a funny name, like SYLXNP+Helvetica. In this example, it's important to change the basename back to the standard Helvetica when de-embedding.</p>\n<p>De-embedding the font does NOT remove it from the PDF document, it just removes references to it. To get a size reduction by throwing away unused font data, you should use the following code sometime after this method.</p>\n<pre><code>$self-&gt;cleanse();\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 45, "user_id": 3895436, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8b2517f0c4ea490bc80a934bb6f6485a?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram", "link": "https://stackoverflow.com/users/3895436/sriram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1835, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1599213571, "creation_date": 1441627704, "last_edit_date": 1441628312, "question_id": 32438386, "link": "https://stackoverflow.com/questions/32438386/is-it-possible-to-remove-embedded-fonts-in-pdf-and-use-them-from-servers-like-in", "title": "Is it possible to remove embedded fonts in PDF and use them from Servers like in Webpages?", "body": "<p>The fonts associated with any text inside PDF files are embedded to PDF file causing the file size to increase considerably.</p>\n\n<p>Is it possible to remove all those embedded fonts from a PDF file to reduce the file size? Instead, I want to use fonts from the local machine or from a specific location. Can I achieve this with either <strong>Compart DBMill or PDFLib or Perl</strong>?</p>\n\n<p>Rasterizing the text is not an option since it would make the text inaccessible.</p>\n"}, {"tags": ["sql", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1441626216, "post_id": 32437708, "comment_id": 52739896, "body": "... what&#39;s your question?"}, {"owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441626339, "post_id": 32437708, "comment_id": 52739979, "body": "I should not get the email triggered when the sql query did not produce any rows."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1441627085, "post_id": 32437708, "comment_id": 52740496, "body": "That is a statement, not a question. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1441627299, "post_id": 32437708, "comment_id": 52740639, "body": "Your code is hardly legible. It&#39;s also missing an essential part. What is the return value of <code>executeSQL</code>?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441653520, "post_id": 32437708, "comment_id": 52753211, "body": "This code is dreadful. It looks like it&#39;s relying on global variables, so it&#39;s really difficult to tell what&#39;s going on, and thus, help you."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1441627458, "creation_date": 1441627458, "answer_id": 32438302, "question_id": 32437708, "link": "https://stackoverflow.com/questions/32437708/how-to-conditionally-send-email-alert-in-perl/32438302#32438302", "title": "How to conditionally send email alert in perl", "body": "<p>The solution is already there in the code. The program doesn't add table rows to the HTML body of the email if there are no rows returned from the DB query. Hence, you neeed to move the send command into that condition.</p>\n\n<pre><code>if($retCode) {\n  push(@HTML,\"&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;\");\n  push(@HTML,\"&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\\12\");\n\n  push(@HTML,\"&lt;/table&gt;\\12\\12\");\n  push(@HTML, \"COUNT : $count\\12\");\n\n  &amp;sendMail;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 0, "last_activity_date": 1443475544, "creation_date": 1443475544, "answer_id": 32832081, "question_id": 32437708, "link": "https://stackoverflow.com/questions/32437708/how-to-conditionally-send-email-alert-in-perl/32832081#32832081", "title": "How to conditionally send email alert in perl", "body": "<p>I think the big miss here is at the end of <code>executeSQL</code> where you failed to have a <code>return</code> clause indicating whether or not you found any rows in the query.</p>\n\n<pre><code>if (executeSQL(\"select firstname,lastname,employee_id from employee\"))\n{\n    push(@HTML, \"&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;\");\n    push(@HTML, \"&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\\12\");\n    push(@HTML, \"&lt;/table&gt;\\12\\12\");\n    push(@HTML, \"COUNT : $count\\12\");\n\n    &amp;sendMail;\n}\n\nsub sendMail {\n   # no changes\n}\n\nsub executeSQL {\n    my $SQL = shift;\n    print \"$SQL\\12\";\n\n    my $hostname = $ENV{\"ORACLE_DB\"};\n    my $dbh = CommonFunctions::connect_DBI( $hostname, \"USERNAME\", \"PASSWORD\" ) ||\n        die \"ERROR : Unable to connect to $hostname: $DBI::errstr\\n\\n\";\n\n    my $sth = $dbh-&gt;prepare($SQL);\n    $sth-&gt;execute or die \"EXEC ERROR $sth-&gt;errstr\";\n    my $count = 0;\n\n    while (@ary = $sth-&gt;fetchrow_array) {\n       # no changes\n    }\n\n    $sth-&gt;finish;\n    $dbh-&gt;disconnect;\n\n    return $count;     # this is what I think you're missing\n}\n</code></pre>\n\n<p>That said, there is some other room for improvement, some of which has already been mentioned:</p>\n\n<ol>\n<li>Consider passing a reference to @HTML instead of using it as a global -- loose coupling</li>\n<li>Probably should close out your SQL -- I added the <code>$sth-&gt;finish</code> and <code>$dbh-&gt;disconnect</code> as examples</li>\n<li>Have you looked into HTML::Table?  I use it a lot, and it's a real time-saver.  Creating HTML on the fly is always a last resort for me</li>\n</ol>\n"}], "owner": {"reputation": 131, "user_id": 4482190, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6cfdfd2729d8b5c075ef45ac57a2ea?s=128&d=identicon&r=PG&f=1", "display_name": "stephenjacob", "link": "https://stackoverflow.com/users/4482190/stephenjacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 526, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1443475544, "creation_date": 1441625678, "last_edit_date": 1441661487, "question_id": 32437708, "link": "https://stackoverflow.com/questions/32437708/how-to-conditionally-send-email-alert-in-perl", "title": "How to conditionally send email alert in perl", "body": "<p>I have a perl script which is printing the table content from Oracle DB in HTML format. </p>\n\n<p>My script will run on a daily basis , which will just email the o/p of the simple sql query (select query)</p>\n\n<p>Now i want my script to stop email alert whenever record count of the table is NULL i.e no records in the table. </p>\n\n<p>Here is my partial script </p>\n\n<pre><code>$retCode = executeSQL(\"select firstname,lastname,employee_id from employee\");\n\nif ($retCode) {\n    push(@HTML, \"&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;\");\n    push(@HTML, \"&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\\12\");\n}\n\npush(@HTML, \"&lt;/table&gt;\\12\\12\");\npush(@HTML, \"COUNT : $count\\12\");\n\n&amp;sendMail;\n\nsub sendMail {\n    $sub  = \"sample data\";\n    $from = 'xyz@abc.com'; \n    $to   = 'xys@abc.com';\n\n    open(MAIL, \"|/usr/lib/sendmail -t\");\n    print MAIL \"From: $from \\12\"; print MAIL \"To: $to \\12\";print MAIL \"Cc: $Cc \\12\";\n    print MAIL \"Subject: $sub \\12\";\n    print MAIL \"Content-Type: text/html \\12\";\n    print MAIL \"Content-Disposition:inline \\12\";\n    print MAIL @HTML;\n    close(MAIL);\n}\n\nsub executeSQL {\n    my $SQL = $_[0];\n    chomp($SQL);\n    print \"$SQL\\12\";\n\n    my $hostname = $ENV{\"ORACLE_DB\"};\n    my $dbh = CommonFunctions::connect_DBI( $hostname, \"USERNAME\", \"PASSWORD\" )|| die \"ERROR : Unable to connect to $hostname: $DBI::errstr\\n\\n\";\n\n    my $sth = $dbh-&gt;prepare($SQL);\n    $sth-&gt;execute or die \"EXEC ERROR $sth-&gt;errstr\";\n    $count = 0;\n\n    while (@ary = $sth-&gt;fetchrow_array) {\n        $count++;\n        push(@HTML, \"&lt;tr&gt;\");\n\n        foreach(@ary) {\n            chomp($_);\n            push(@HTML, \"&lt;td&gt;$_&lt;/td&gt;\");\n            print \"$_,\";\n        }\n\n        push(@HTML, \"&lt;/tr&gt;\\12\");\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1441625737, "post_id": 32437718, "comment_id": 52739606, "body": "You beat me to it. :)"}, {"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441699922, "post_id": 32437718, "comment_id": 52767522, "body": "@\u0421\u0443\u0445\u043e\u043927..I clicked on this link...I try to run it but its showing &quot;Language must not be blank&quot;"}, {"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441700280, "post_id": 32437718, "comment_id": 52767739, "body": "@\u0421\u0443\u0445\u043e\u043927.. Its perfectly working there...but when I run on my system then it doesn&#39;t show any output neither on command prompt nor in output file...I am working on ubantu"}, {"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441702180, "post_id": 32437718, "comment_id": 52768901, "body": "@\u0421\u0443\u0445\u043e\u043927...This code is working fine...can you share your mail id so that I can send my actual files there..."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1441625710, "creation_date": 1441625710, "answer_id": 32437718, "question_id": 32437673, "link": "https://stackoverflow.com/questions/32437673/how-to-find-a-value-after-a-particular-string-and-print-it-other-file/32437718#32437718", "title": "How to find a value after a particular string and print it other file", "body": "<p>Printing <code>$_</code> doesn't make sense, as it's not used anywhere, so you want to check content of <code>$1</code> captured group,</p>\n\n<pre><code>print $out $1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441691363, "post_id": 32437720, "comment_id": 52762833, "body": "@simbabque...didn&#39;t work...same problem...code runs well but didn&#39;t get anything in output file"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1441625717, "creation_date": 1441625717, "answer_id": 32437720, "question_id": 32437673, "link": "https://stackoverflow.com/questions/32437673/how-to-find-a-value-after-a-particular-string-and-print-it-other-file/32437720#32437720", "title": "How to find a value after a particular string and print it other file", "body": "<p>Your regular expression is fine, but there is nothing in <code>$_</code>. A capture doesn't set <code>$_</code>, it sets <code>$1</code>, <code>$2</code> and so on.</p>\n\n<p>So your code should read:</p>\n\n<pre><code>while(my $line =&lt;$file&gt;) {\n  chomp $line;\n  if ($line =~ m/xh = (\\d+)/) {\n\n               # here\n    print $out $1;\n  }\n}\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlretut.html#Extracting-matches\" rel=\"nofollow\">perlretut</a> for a more detailed explanation.</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441691460, "post_id": 32438527, "comment_id": 52762880, "body": "...I have already tried this and it shows the error....Quantifier follows nothing in regex;marked by Here in m/+"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1441692766, "post_id": 32438527, "comment_id": 52763478, "body": "That&#39;s what the backslash is for. It escapes the meta character."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1441628105, "creation_date": 1441628105, "answer_id": 32438527, "question_id": 32437673, "link": "https://stackoverflow.com/questions/32437673/how-to-find-a-value-after-a-particular-string-and-print-it-other-file/32438527#32438527", "title": "How to find a value after a particular string and print it other file", "body": "<p>\u0421\u0443\u0445\u043e\u043927 has already answered your answer. In reference to your below statement:</p>\n\n<blockquote>\n  <p>There is a \"+\" sign before every xh, and there is a white space before\n  and after every \"=\" sign. I need to print every value of xh in other\n  file. There is a \"+\" sign at the beginning of few lines.</p>\n</blockquote>\n\n<p>You could modify your regex to <code>\\+xh = (\\d+)</code> </p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441705981, "post_id": 32452517, "comment_id": 52771291, "body": "@fugu...this is working perfectly...but my actual input file is huge one...and what i need to match is something different and it is not working.  Line I need to match is +vth0    = 10......the value of vth0 is in multiple lines...so I need to save all the values in a single file. I have tried alot to match this string but its not working...What I wrote is /\\+vth[0]=(\\d+)/...and i tried other combinations also..there is at least 4 spaces between vth0 and =, one space between = and 10...can you share your mail id?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1441706029, "post_id": 32452517, "comment_id": 52771322, "body": "@Suhan You should ask another question"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1441699927, "creation_date": 1441699927, "answer_id": 32452517, "question_id": 32437673, "link": "https://stackoverflow.com/questions/32437673/how-to-find-a-value-after-a-particular-string-and-print-it-other-file/32452517#32452517", "title": "How to find a value after a particular string and print it other file", "body": "<pre><code>while(&lt;DATA&gt;) {\n    chomp;\n    print \"$1\\n\" if /xh = (\\d+)/\n}\n\n\n__DATA__\nabc.txt\na = 1 b = 2 c = 3 d = 4 \n+xh = 10 e = 9 f = 11\n+some lines\n+xh = 12 g=14\n+some lines\nsome lines\n+xh = 13 i=15 j=20\nsome lines \n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1441699927, "creation_date": 1441625518, "last_edit_date": 1441625971, "question_id": 32437673, "link": "https://stackoverflow.com/questions/32437673/how-to-find-a-value-after-a-particular-string-and-print-it-other-file", "title": "How to find a value after a particular string and print it other file", "body": "<p>I am matching a string in one file and want to print the value written after that string in certain file. Here is the code which I tried. It runs well but didn't produce any output</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(my $file, \"&lt;\", \"abc.txt\") || die (\"Cannot open file.\\n\");\nopen(my $out, \"&gt;\", \"output.txt\") || die (\"Cannot open file.\\n\");\n\nwhile(my $line =&lt;$file&gt;) {\nchomp $line;\nif ($line =~ /xh = (\\d+)/) {\nprint $out $_;\n}\n}\n\n\n\nabc.txt\na = 1 b = 2 c = 3 d = 4 \n+xh = 10 e = 9 f = 11\n+some lines\n+xh = 12 g=14\n+some lines\nsome lines\n+xh = 13 i=15 j=20\nsome lines   \n\n\noutput.txt\n10\n12\n13\n</code></pre>\n\n<p>Please suggest to improve my code. There is a \"+\" sign before every xh, and there is a white space before and after every \"=\" sign. I need to print every value of xh in other file. There is a \"+\" sign at the beginning of few lines. Thanks in advance.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441623963, "post_id": 32436716, "comment_id": 52738576, "body": "Can you provide a link to the source?"}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1441626762, "post_id": 32436716, "comment_id": 52740265, "body": "To what, exactly? Perl&#39;s source code is not exactly straightforward. You can look at <a href=\"https://github.com/Perl/perl5/blob/blead/op.c\" rel=\"nofollow noreferrer\">github.com/Perl/perl5/blob/blead/op.c</a> and search for <code>op_sassign</code> and <code>op_aassign</code>, if that helps. Or, probably more useful, see the compiled bytecode by doing something like this: <code>perl -MO=Terse -E &#39;(undef) = 1;&#39;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441627046, "post_id": 32436716, "comment_id": 52740468, "body": "Sorry, I should have phrased that differently. What I meant was, can you provide something to back that explanation? Since you did not link to documentation saying that I assumed you had looked for it somewhere else, most likely the source. :)"}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 10, "last_activity_date": 1441622556, "creation_date": 1441622556, "answer_id": 32436716, "question_id": 32436023, "link": "https://stackoverflow.com/questions/32436023/why-is-a-list-of-undef-not-a-read-only-or-constant-value-in-perl/32436716#32436716", "title": "Why is a list of undef not a read-only or constant value in Perl?", "body": "<p>Internally, Perl has different operators for scalar assignment and list assignment, even though both of them are spelled <code>=</code> in the source code. And the list assignment operator has the special case for <code>undef</code> that you're asking about.</p>\n"}], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 2, "accepted_answer_id": 32436716, "answer_count": 1, "score": 11, "last_activity_date": 1441622556, "creation_date": 1441620363, "question_id": 32436023, "link": "https://stackoverflow.com/questions/32436023/why-is-a-list-of-undef-not-a-read-only-or-constant-value-in-perl", "title": "Why is a list of undef not a read-only or constant value in Perl?", "body": "<p>Consider the following programs in Perl.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @foo = qw(a b c);\nundef = shift @foo;\n\nprint scalar @foo;\n</code></pre>\n\n<p>This will die with an error message:</p>\n\n<blockquote>\n  <p>Modification of a read-only value attempted at ...</p>\n</blockquote>\n\n<p>Using a constat will give a different error:</p>\n\n<pre><code>1 = shift @foo;\n</code></pre>\n\n<blockquote>\n  <p>Can't modify constant item in scalar assignment at ...<br>\n  Execution of ... aborted due to compilation errors.</p>\n</blockquote>\n\n<p>The same if we do this:</p>\n\n<pre><code>(1) = shift @foo;\n</code></pre>\n\n<p>All of those make sense to me. But putting <code>undef</code> in a list will work.</p>\n\n<pre><code>(undef) = shift @foo;\n</code></pre>\n\n<p>Now it prints <code>2</code>.</p>\n\n<p>Of course this is common practice if you have a bunch of return values and only want specific ones, like here:</p>\n\n<pre><code>my (undef, undef ,$mode, undef ,$uid, $gid, undef ,$size) = stat($filename);\n</code></pre>\n\n<p>The 9th line of code example in <a href=\"http://perldoc.perl.org/functions/undef.html\">perldoc -f undef</a> shows this, butthere is no explaination.</p>\n\n<p><strong>My question is, how is this handled internally by Perl?</strong></p>\n"}, {"tags": ["perl", "vim", "replace"], "comments": [{"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 2, "creation_date": 1441619847, "post_id": 32434222, "comment_id": 52736252, "body": "vim regex brings more feature than Perl regex in vim. worth learning"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1441624578, "post_id": 32434222, "comment_id": 52738912, "body": "You mean having the user look at and confirm each replacement? There&#39;s no built in functionality like that as far as I know."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1441624614, "post_id": 32434222, "comment_id": 52738930, "body": "BTW, this isn&#39;t PCRE; this is actual Perl code with actual Perl regexes."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 1, "creation_date": 1441625099, "post_id": 32434222, "comment_id": 52739228, "body": "@Kent Neither is a superset of the other, and <code>:perldo</code> does more than just Perl regexes."}, {"owner": {"reputation": 7219, "user_id": 326516, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61292ea4b013ef2834a28f9ff390c6fd?s=128&d=identicon&r=PG", "display_name": "Micah Elliott", "link": "https://stackoverflow.com/users/326516/micah-elliott"}, "edited": false, "score": 0, "creation_date": 1441635673, "post_id": 32434222, "comment_id": 52745618, "body": "Why do you need PCREs? If you&#39;re just annoyed with the vim-isms in REs, you can set <code>magic</code> or <code>verymagic</code>. Then you could still make use of the interactive <code>c</code> flag."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 1, "creation_date": 1441636756, "post_id": 32434222, "comment_id": 52746189, "body": "Why I need PCRE? Because I know them very well. I tried to find the official docs for &quot;verymagic&quot;, but failed. What does it do?"}, {"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 3, "creation_date": 1441640744, "post_id": 32434222, "comment_id": 52748226, "body": "@guettli I know PCRE too, perhaps not as good as you, however when I am in vim, I don&#39;t miss pcre at all.  verymagic / magic  is just for some escapings. do a <code>:h magic</code> you should see.  And the feature you asked, searching with Pcre (e.g. <code>&#47;</code> or <code>?</code>), I don&#39;t think it exists. Moreover, you can do <code>perldo s&#47;foo&#47;bar&#47;g</code> it won&#39;t set the <code>&#47;</code> register, but vim&#39;s <code>:s</code> does, in some cases it could be very handy,  like to redo the <code>:s</code> commands or do further search without typing again. so think about learning vimregex. if you know pcre very well, it&#39;s not difficult to you either."}], "answers": [{"comments": [{"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 0, "creation_date": 1441787934, "post_id": 32438188, "comment_id": 52810405, "body": "I prefer an interactive solution."}, {"owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "reply_to_user": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 2, "creation_date": 1441792555, "post_id": 32438188, "comment_id": 52813603, "body": "You can&#39;t have that with <code>:perldo</code> alone."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 0, "creation_date": 1441805936, "post_id": 32438188, "comment_id": 52823053, "body": "I added a note to the question: Since this does not work with <code>perldo</code> I search for a different solution"}, {"owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "reply_to_user": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 0, "creation_date": 1441806298, "post_id": 32438188, "comment_id": 52823334, "body": "No. You should remove the bounty on this question and ask another one (with a bounty if you want)."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 1, "creation_date": 1441806429, "post_id": 32438188, "comment_id": 52823423, "body": "@romaini The title if this question was &quot;vim: Interactive search and replace with perl compatible regular expressions&quot; since the very beginning. Please explain why I should ask another question."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 2, "creation_date": 1441806563, "post_id": 32438188, "comment_id": 52823506, "body": "The title if the question was &quot;vim: Interactive search and replace with perl compatible regular expressions&quot; since the beginning. I don&#39;t care about the name of the command. It can be &quot;perldo&quot;, &quot;perlfoo&quot; or &quot;perlbarf&quot;. Please explain why I should ask a new question. I am curious."}, {"owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "reply_to_user": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 0, "creation_date": 1441807372, "post_id": 32438188, "comment_id": 52824116, "body": "The title is generic, the question itself is not. You asked about <code>:perldo</code> and you got your answer. Now, armed with the knowledge that <code>:perldo</code> won&#39;t work \u2014 at least on its own \u2014 you can ask another, more generic question."}], "tags": [], "owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "is_accepted": false, "score": 0, "last_activity_date": 1441627135, "creation_date": 1441627135, "answer_id": 32438188, "question_id": 32434222, "link": "https://stackoverflow.com/questions/32434222/vim-interactive-search-and-replace-with-perl-compatible-regular-expressions/32438188#32438188", "title": "vim: Interactive search and replace with perl compatible regular expressions", "body": "<p>In your example, <code>s/pattern/insert/g</code> is a perl command, not a Vim command using a perl-compatible regular expression syntax.</p>\n\n<p>If perl doesn't have an equivalent of Vim's <code>/c</code> flag you will need to find an alternate method like\u2026 writing an actual perl script.</p>\n"}, {"comments": [{"owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "reply_to_user": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 0, "creation_date": 1441827943, "post_id": 32487254, "comment_id": 52836509, "body": "Have a read on Vim&#39;s different magic modes: <a href=\"http://vimdoc.sourceforge.net/htmldoc/pattern.html#/magic\" rel=\"nofollow noreferrer\">vimdoc.sourceforge.net/htmldoc/pattern.html#/magic</a>"}, {"owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "reply_to_user": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 0, "creation_date": 1441827987, "post_id": 32487254, "comment_id": 52836535, "body": "In general, if you want Perl-like regex you can use very magic mode (\\v) in your expressions. I&#39;m sure it&#39;s not an exact 1-1 match with Perl, but it&#39;s very powerful and I&#39;ve yet to have it fail me"}], "tags": [], "owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "is_accepted": false, "score": 1, "last_activity_date": 1441825087, "creation_date": 1441825087, "answer_id": 32487254, "question_id": 32434222, "link": "https://stackoverflow.com/questions/32434222/vim-interactive-search-and-replace-with-perl-compatible-regular-expressions/32487254#32487254", "title": "vim: Interactive search and replace with perl compatible regular expressions", "body": "<p>Probably the closest you can get is:</p>\n\n<pre><code>:s/\\vfoo/bar/gc\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28343, "user_id": 1890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NSohE.png?s=128&g=1", "display_name": "FDinoff", "link": "https://stackoverflow.com/users/1890567/fdinoff"}, "edited": false, "score": 1, "creation_date": 1442088876, "post_id": 32496309, "comment_id": 52943404, "body": "<code>:help perl-patterns</code> is a good read for finding the equivalent perl pattern for vim."}, {"owner": {"reputation": 1156, "user_id": 695615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d46d90a6fff503c54056a083a77dab6d?s=128&d=identicon&r=PG", "display_name": "DaveGauer", "link": "https://stackoverflow.com/users/695615/davegauer"}, "edited": false, "score": 0, "creation_date": 1528132612, "post_id": 32496309, "comment_id": 88381045, "body": "I find this answer to be both obnoxious and very helpful at the same time. Thanks for the &quot;you can not only do text matching, but also match base on visual selection, cursor position and so on&quot;. That&#39;s great to know and makes me want to learn Vim&#39;s regex.  Having said that, a lot of us know the PCRE-like flavors of regex extremely well since they&#39;re so well supported by many programming languages. The transition to Vim (and GNU coreutils for that matter!) regex flavors can be a huge annoyance."}, {"owner": {"reputation": 4597, "user_id": 6689725, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsOMmN7fB4g/AAAAAAAAAAI/AAAAAAAAAEI/vTvjt2dZck4/photo.jpg?sz=128", "display_name": "Z4-tier", "link": "https://stackoverflow.com/users/6689725/z4-tier"}, "reply_to_user": {"reputation": 1156, "user_id": 695615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d46d90a6fff503c54056a083a77dab6d?s=128&d=identicon&r=PG", "display_name": "DaveGauer", "link": "https://stackoverflow.com/users/695615/davegauer"}, "edited": false, "score": 0, "creation_date": 1601751871, "post_id": 32496309, "comment_id": 113505300, "body": "@DaveGauer It is particularly annoying when using vim to code in a language that uses PCRE or very similar (so pretty much every language). Switching back and forth gets old real fast."}, {"owner": {"reputation": 1156, "user_id": 695615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d46d90a6fff503c54056a083a77dab6d?s=128&d=identicon&r=PG", "display_name": "DaveGauer", "link": "https://stackoverflow.com/users/695615/davegauer"}, "reply_to_user": {"reputation": 4597, "user_id": 6689725, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qsOMmN7fB4g/AAAAAAAAAAI/AAAAAAAAAEI/vTvjt2dZck4/photo.jpg?sz=128", "display_name": "Z4-tier", "link": "https://stackoverflow.com/users/6689725/z4-tier"}, "edited": false, "score": 0, "creation_date": 1601914345, "post_id": 32496309, "comment_id": 113547595, "body": "@Z4-tier Ha ha, two years later, I agree. In the meantime, I&#39;ve actually delved into Vim&#39;s regex flavor(s) quite deeply and they&#39;re...excellent! As always, it&#39;s the <i>switching</i> that sucks."}], "tags": [], "owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "is_accepted": true, "score": 7, "last_activity_date": 1441872105, "creation_date": 1441872105, "answer_id": 32496309, "question_id": 32434222, "link": "https://stackoverflow.com/questions/32434222/vim-interactive-search-and-replace-with-perl-compatible-regular-expressions/32496309#32496309", "title": "vim: Interactive search and replace with perl compatible regular expressions", "body": "<p>Till the current release version of vim, there is no way to do <code>:s/[perlRegex]/bar/c</code> </p>\n\n<p>So you are asking for a feature that doesn't exist.</p>\n\n<p>You can do matching with <code>verymagic</code>, however it is not Perl Regex compatible flag. It is still using the vimregex engine, just changed the way of escaping regex patterns.</p>\n\n<p>For example, in perl, you can do lookahead/behind <code>(?&lt;=foo)..., (?=foo), (?!foo)..</code>, you can use the handy <code>\\K</code> : <code>som.*ing\\Kwhatever</code> etc, you cannot use those syntax in vim directly, no matter which 'magic' level you have set. Vim has the same feature, but different syntax:</p>\n\n<pre><code>\\@=\n\\@!\n\\@&lt;=\n</code></pre>\n\n<p>and also the <code>\\zs \\ze</code> are very handy, even more powerful than perl's <code>\\K</code>.</p>\n\n<p>Vim is an Editor, with vim regex, you can not only do text matching, but also match base on visual selection, cursor position and so on.</p>\n\n<p>If you really need to do complex pattern matching and really need do them in vim, learn vim regex! It is not difficult for you if you \"know pcre very well\"</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 4482397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5bc9d6123b69bfbc05e88a09007978?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolay Bobovnikov", "link": "https://stackoverflow.com/users/4482397/nikolay-bobovnikov"}, "is_accepted": false, "score": 1, "last_activity_date": 1472726140, "creation_date": 1472726140, "answer_id": 39269244, "question_id": 32434222, "link": "https://stackoverflow.com/questions/32434222/vim-interactive-search-and-replace-with-perl-compatible-regular-expressions/39269244#39269244", "title": "vim: Interactive search and replace with perl compatible regular expressions", "body": "<p>I suggest to try <a href=\"https://github.com/othree/eregex.vim\" rel=\"nofollow\">eregex plugin</a>. It maps perl compatible regular expressions to VIM regex syntax.</p>\n"}], "owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2011, "favorite_count": 3, "accepted_answer_id": 32496309, "answer_count": 4, "score": 14, "last_activity_date": 1472726140, "creation_date": 1441614605, "last_edit_date": 1441805923, "question_id": 32434222, "link": "https://stackoverflow.com/questions/32434222/vim-interactive-search-and-replace-with-perl-compatible-regular-expressions", "title": "vim: Interactive search and replace with perl compatible regular expressions", "body": "<p>According to <a href=\"http://vim.wikia.com/wiki/Perl_compatible_regular_expressions\" rel=\"noreferrer\">this page</a> you can use perl compatible regular expression with</p>\n\n<p><code>:perldo s/pattern/insert/g</code>.</p>\n\n<p>This works fine.</p>\n\n<p>But, how can I get <strong>interactive</strong> search and replace with PCRE syntax in vim?</p>\n\n<p>Since this does not work with <code>perldo</code> I search for a different solution.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1441607226, "post_id": 32432301, "comment_id": 52729393, "body": "<a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/glob.html</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 4, "creation_date": 1441607485, "post_id": 32432301, "comment_id": 52729490, "body": "Yes, there is a way."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1441607488, "post_id": 32432301, "comment_id": 52729494, "body": "Show what you have tried."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1441609328, "post_id": 32432301, "comment_id": 52730364, "body": "Before writing here you should Google about it. Show us your code."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1441612710, "post_id": 32432301, "comment_id": 52732206, "body": "@Jens: I have added the code in."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1441614312, "post_id": 32434095, "comment_id": 52733033, "body": "Not bad, but I&#39;d recommend using a lexical variable instead of a bareword directory handle: <code>opendir(my $dh, $dir) or die &quot;$0: $dir: $!\\n&quot;; ... readdir($dh)</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1441614370, "post_id": 32434095, "comment_id": 52733078, "body": "If you only want the current directory, you don&#39;t need <code>getcwd</code>; you can just open <code>&#39;.&#39;</code>."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1441614633, "post_id": 32434095, "comment_id": 52733217, "body": "@melpomene Thanks a lot for the suggestions. I used the first suggestion. Great idea!"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1441618144, "post_id": 32434095, "comment_id": 52735236, "body": "Good to see that you put your effort instead of asking to be spoonfed."}], "tags": [], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "is_accepted": true, "score": 3, "last_activity_date": 1441620517, "last_edit_date": 1441620517, "creation_date": 1441614148, "answer_id": 32434095, "question_id": 32432301, "link": "https://stackoverflow.com/questions/32432301/counting-the-number-of-files-in-a-directory-of-special-type-in-perl/32434095#32434095", "title": "Counting the number of files in a directory of special type in perl", "body": "<p>I found out how to do it without <code>glob()</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Cwd;\n\nmy $dir = getcwd;\nmy $count = 0;\n\nopendir(my $dh, $dir) or die \"$0: $dir: $!\\n\";\nwhile (my $file = readdir($dh)) {\n     # We only want files\n     next unless (-f \"$dir/$file\");\n     # Use a regular expression to find files ending in .txt\n     next unless ($file =~ m/\\.html$/);\n\n     print \"$file\\n\";\n     $count = $count + 1;\n }\n closedir($dh);\n print \"There are $count files in this directory.\";\n exit 0;\n</code></pre>\n\n<p>Thanks a lot for the comments!!</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1441616028, "last_edit_date": 1441616028, "creation_date": 1441615710, "answer_id": 32434548, "question_id": 32432301, "link": "https://stackoverflow.com/questions/32432301/counting-the-number-of-files-in-a-directory-of-special-type-in-perl/32434548#32434548", "title": "Counting the number of files in a directory of special type in perl", "body": "<p>The problem you've got in your question is that <code>glob</code> is a bit magic. You can do this:</p>\n\n<pre><code>foreach my $file ( glob (\"*.txt\") ) {\n    print $file,\"\\n\";\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>while ( my $file = glob (\"*.txt\" )) {\n    print $file,\"\\n\";\n}\n</code></pre>\n\n<p>Glob is detecting whether you're expecting a scalar (single value) return - in which case it works as an iterator - or an array (multiple scalars) - in which case it returns the whole lot. </p>\n\n<p>You can make it do what you want like this:</p>\n\n<pre><code>my @stuff = glob ( \"*.txt\" );\nprint \"There are: \", scalar @stuff,\" files matching the pattern\\n\";\nprint join ( \"\\n\", @stuff );\n</code></pre>\n\n<p>Note that <code>readdir</code> works the same way - you can either slurp the whole lot doing it in a list context, or one line at a time with a scalar context:</p>\n\n<pre><code>opendir ( my $dirh, \"some_directory\");\nmy @stuff = readdir ( $dirh ); \n\n#etc. \n</code></pre>\n\n<p>Or</p>\n\n<pre><code>opendir ( my $dirh, \".\" ) or die $!;\nwhile ( my $dir_entry = readdir ( $dirh ) ) {\n    #etc.\n}\n</code></pre>\n\n<p>If you do want to do readdir-and-filter you can also do it like this:</p>\n\n<pre><code>my @matches = grep { m/\\.txt$/ } readdir ( $dirh ); \n</code></pre>\n\n<p>For example (this doesn't save you any efficiency - <code>grep</code> just hides the loop. It might make it more readable - that's a matter of taste).</p>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1280, "favorite_count": 0, "accepted_answer_id": 32434095, "answer_count": 2, "score": 1, "last_activity_date": 1441620517, "creation_date": 1441607122, "last_edit_date": 1441612611, "question_id": 32432301, "link": "https://stackoverflow.com/questions/32432301/counting-the-number-of-files-in-a-directory-of-special-type-in-perl", "title": "Counting the number of files in a directory of special type in perl", "body": "<p>I would like to know if there is anyway to find the number of files exsiting in a folder with special type. For example I have a folder with 30 files with *.txt, *.doc and html extension. I want to know the number of say html file inthis directory.</p>\n\n<p><strong>Update:</strong> Here is what I have as a number os files in the directory. But I am not sure how I could use <code>glob()</code>. Of course, instead of <code>getcwd</code> one could give another parameter.</p>\n\n<pre><code> use Cwd;\n my $dir = getcwd;\n my $count = 0;\n opendir (DIR, $dir) or die $!;\n my @dir = readdir DIR;\n my @file_list;\n\n if (@file_list eq glob \"*.pl\"){\n     print \"$item\\n\";\n     $count = $count + 1;\n }\n\n closedir DIR; \n\n $count = $count - 2;\n print \"There are $count files in this directory.\";\n</code></pre>\n"}, {"tags": ["html", "perl", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "edited": false, "score": 1, "creation_date": 1441607841, "post_id": 32432063, "comment_id": 52729638, "body": "I tried the written code and it worked. Make sure that the path to HTML file is correct."}, {"owner": {"reputation": 153, "user_id": 4849534, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/960ecb68843a445823f625120264b815?s=128&d=identicon&r=PG&f=1", "display_name": "User", "link": "https://stackoverflow.com/users/4849534/user"}, "edited": false, "score": 0, "creation_date": 1441619186, "post_id": 32432063, "comment_id": 52735874, "body": "Plus 1 Good. @ChankeyPathak"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1441605923, "creation_date": 1441605923, "answer_id": 32432063, "question_id": 32431898, "link": "https://stackoverflow.com/questions/32431898/parse-html-file-using-perl/32432063#32432063", "title": "Parse HTML file using Perl", "body": "<pre><code>#!/usr/bin/perl\n#use strict;\nuse warnings;\nuse HTML::TableExtract;\nmy $filename = \"testfile.html\";\nmy $te = HTML::TableExtract-&gt;new();\n$te-&gt;parse_file($filename);\nforeach $ts ($te-&gt;tables) {\n   print \"Table found at \", join(',', $ts-&gt;coords), \":\\n\";\n   foreach $row ($ts-&gt;rows) {\n      print \"   \", join(',', @$row), \"\\n\";\n   }\n}\n</code></pre>\n\n<p>Note that <code>HTML::TableExtract</code> can also be invoked in <a href=\"https://metacpan.org/pod/HTML::TableExtract#NOTES-ON-TREE-EXTRACTION-MODE\" rel=\"nofollow\">'tree' mode</a> where the resulting HTML and extracted tables are encoded in <code>HTML::Element</code> tree structures.</p>\n\n<p><code>use HTML::TableExtract 'tree';</code></p>\n"}, {"comments": [{"owner": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "edited": false, "score": 0, "creation_date": 1441606336, "post_id": 32432072, "comment_id": 52729017, "body": "Thanks! I saw the data through the dumper and I see this: &#39;_tables&#39; =&gt; {}"}], "tags": [], "owner": {"reputation": 2465, "user_id": 302249, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/38c467a8b11ef0dde2bc97919502a047?s=128&d=identicon&r=PG", "display_name": "Dan Walmsley", "link": "https://stackoverflow.com/users/302249/dan-walmsley"}, "is_accepted": false, "score": 1, "last_activity_date": 1441605961, "creation_date": 1441605961, "answer_id": 32432072, "question_id": 32431898, "link": "https://stackoverflow.com/questions/32431898/parse-html-file-using-perl/32432072#32432072", "title": "Parse HTML file using Perl", "body": "<p>Not sure what you are wanting to get out of the table. But I would strongly recomend using data dumper to look inside the hash. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse HTML::TableExtract;\nuse Data::Dumper;\n\nmy $html = &lt;&lt;'EOT';\n&lt;html xmlns=\"http://w...content-available-to-author-only...3.org/1999/xhtml\" xmlns:math=\"http://e...content-available-to-author-only...t.org/math\"\n          xmlns:testng=\"http://t...content-available-to-author-only...g.org\"&gt;\n       &lt;head xmlns=\"\"&gt;\n          &lt;title&gt;TestNG Results&lt;/title&gt;\n          &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"&gt;&lt;/meta&gt;\n          &lt;meta http-equiv=\"pragma\" content=\"no-cache\"&gt;&lt;/meta&gt;\n          &lt;meta http-equiv=\"cache-control\" content=\"max-age=0\"&gt;&lt;/meta&gt;\n          &lt;meta http-equiv=\"cache-control\" content=\"no-cache\"&gt;&lt;/meta&gt;\n          &lt;meta http-equiv=\"cache-control\" content=\"no-store\"&gt;&lt;/meta&gt;\n          &lt;LINK rel=\"stylesheet\" href=\"style.css\"&gt;&lt;/LINK&gt;\n          &lt;script type=\"text/javascript\" src=\"main.js\"&gt;&lt;/script&gt;\n       &lt;/head&gt;\n       &lt;body&gt;\n          &lt;h2&gt;Test suites overview&lt;/h2&gt;\n\n\n&lt;table width=\"100%\"&gt;\n                 &lt;tr&gt;\n                    &lt;td align=\"center\" id=\"chart-container\"&gt;&lt;script type=\"text/javascript\"&gt;\n                                            renderSvgEmbedTag(600, 200);\n                                        &lt;/script&gt;&lt;/td&gt;\n                 &lt;/tr&gt;\n              &lt;/table&gt;\n\n    &lt;/table&gt;\n   &lt;/body&gt;\n  &lt;/html&gt;\nEOT\n\nmy $te = HTML::TableExtract-&gt;new();\n$te-&gt;parse($html);\n\nprint Dumper($te);\n</code></pre>\n"}], "owner": {"reputation": 2739, "user_id": 1211189, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0772c4cdd49ff7e402ff3b959d734a2?s=128&d=identicon&r=PG", "display_name": "Virus", "link": "https://stackoverflow.com/users/1211189/virus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1441605961, "creation_date": 1441605165, "question_id": 32431898, "link": "https://stackoverflow.com/questions/32431898/parse-html-file-using-perl", "title": "Parse HTML file using Perl", "body": "<p>I am trying extract the table inside this html file using perl. </p>\n\n<p>I have tried this:</p>\n\n<pre><code>my $te = HTML::TableExtract-&gt;new();\n$te-&gt;parse_file($g_log);\nprint \"=====TE: $te ======\\n\";\n</code></pre>\n\n<p>Output is :</p>\n\n<pre><code>HTML:TableExtract = Hash(0x266f5f)\n</code></pre>\n\n<p>I tried iterating through $te and nothing found. Can anyone guide what to do next. I am new to this.</p>\n\n<p>This is the HTML file:</p>\n\n<pre><code>    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:math=\"http://exslt.org/math\"\n          xmlns:testng=\"http://testng.org\"&gt;\n       &lt;head xmlns=\"\"&gt;\n          &lt;title&gt;TestNG Results&lt;/title&gt;\n          &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"&gt;&lt;/meta&gt;\n          &lt;meta http-equiv=\"pragma\" content=\"no-cache\"&gt;&lt;/meta&gt;\n          &lt;meta http-equiv=\"cache-control\" content=\"max-age=0\"&gt;&lt;/meta&gt;\n          &lt;meta http-equiv=\"cache-control\" content=\"no-cache\"&gt;&lt;/meta&gt;\n          &lt;meta http-equiv=\"cache-control\" content=\"no-store\"&gt;&lt;/meta&gt;\n          &lt;LINK rel=\"stylesheet\" href=\"style.css\"&gt;&lt;/LINK&gt;\n          &lt;script type=\"text/javascript\" src=\"main.js\"&gt;&lt;/script&gt;\n       &lt;/head&gt;\n       &lt;body&gt;\n          &lt;h2&gt;Test suites overview&lt;/h2&gt;\n\n\n&lt;table width=\"100%\"&gt;\n                 &lt;tr&gt;\n                    &lt;td align=\"center\" id=\"chart-container\"&gt;&lt;script type=\"text/javascript\"&gt;\n                                            renderSvgEmbedTag(600, 200);\n                                        &lt;/script&gt;&lt;/td&gt;\n                 &lt;/tr&gt;\n              &lt;/table&gt;\n\n   &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre>\n"}, {"tags": ["xml", "perl", "xpath", "xml-libxml", "xml-simple"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1441581103, "post_id": 32427348, "comment_id": 52723436, "body": "<i>Never ever</i> use <code>XML::Simple</code>. There is no need to combine the documents into a single XML document. I suggest that you build a simple Perl data structure that contains the values that you need. By processing the data files from ther most general to the most specific, the more relevant values will be overwritten"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441616452, "post_id": 32427348, "comment_id": 52734260, "body": "We can give you a better example with some sample data."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1441635593, "post_id": 32427348, "comment_id": 52745575, "body": "Yeah, I keep seeing everybody maligning <code>XML::Simple</code>, but it my case, my XML docs will not hold data, just config and preference and/or meta-data type stuff. And &quot;Simple&quot; seems simple to me. What would be the alternative  ?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1441679276, "post_id": 32427348, "comment_id": 52759845, "body": "As the author of XML::Simple, I&#39;d definitely agree that you should not use it. I personally <a href=\"http://www.perlmonks.org/index.pl?node_id=490846\" rel=\"nofollow noreferrer\">use and recommend XML::LibXML</a> but XML::Twig is another popular choice."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1441722178, "post_id": 32427348, "comment_id": 52782615, "body": "@GrantMcLean <b>thank you!</b> I don&#39;t need more than the author&#39;s advice! And that article is excellent, I&#39;ll be selling to my higher-ups to make the switch, while I myself will need to learn the XPath expression language. If you could suggest advice/direction on the original question, I&#39;d greatly appreciate it. Cheers"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441581627, "post_id": 32427798, "comment_id": 52723554, "body": "I don&#39;t think this helps at all. It would create a document that contains <i>all</i> of the data from all documents, and it assumes that the tag names are different across documents. I think you&#39;ve just encountered XSLT and are excited to use it in every possible situation"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441582604, "post_id": 32427798, "comment_id": 52723735, "body": "@Borodin As shown, you can select particular nodes from external documents. You can even create templates from external docs, choosing which tags of same name. And yes, I am excited about XSLT which I often find to be a dismissed, forgotten language while many programmers use general purpose, bulky coding to restructure XMLs which can natively be done in a stylesheet. If only I could show you! I&#39;ll await the OP."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441583848, "post_id": 32427798, "comment_id": 52723969, "body": "XSLT is ignored mostly because it is a badly-designed declarative language that is hard to learn and understand. I think the OP&#39;s problem is that he has something like <b>global.xml</b> containing <code>&lt;root&gt;&lt;value&gt;xxx&lt;&#47;value&gt;&lt;&#47;root&gt;</code> and <b>local.xml</b> which contains <code>&lt;root&gt;&lt;value&gt;yyy&lt;&#47;value&gt;&lt;&#47;root&gt;</code>. What he thinks he wants, and what you&#39;re trying to provide with your new toy, is another XML document that looks like the local file, as it has overridden the global file. What you&#39;re actually providing is <code>&lt;root&gt;&lt;value&gt;xxx&lt;&#47;value&gt;&lt;value&gt;yyy&lt;&#47;value&gt;&lt;&#47;root&gt;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441583918, "post_id": 32427798, "comment_id": 52723985, "body": ". . . and what I think he wants is a simple Perl hash <code>my %config = ( value =&gt; &#39;yyy&#39; )</code>"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441651587, "post_id": 32427798, "comment_id": 52752469, "body": "@Borodin you win:) I feel I ignited some hard feelings about XSLT and its true usefullness. I just wonder if not XLST, then what is the alternative ? To me, as I&#39;m working doing this merging on my own with Perl... it occured to me that I&#39;d rather &quot;stack out my issue&quot; (pun-intended) and see if there are better smarties out there who&#39;ve been there; done that ..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441718092, "post_id": 32427798, "comment_id": 52779640, "body": "XSLT has a niche, but there&#39;s a reason why scripting languages (like <code>perl</code>) are popular - because there&#39;s a lot of libraries like <code>XML::Twig</code> and <code>XML::LibXML</code> that let you do all the XML manipulation you might like."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441756555, "post_id": 32427798, "comment_id": 52799708, "body": "@Borodin &quot;XSLT is ignored mostly because it is a badly-designed declarative language that is hard to learn and understand.&quot; This may be your personal opinion but most people would disagree."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441764972, "post_id": 32427798, "comment_id": 52801642, "body": "@Sobrique - Indeed, XSLT does serve a special purpose need, certainly not an end-all, be-all language much like SQL, also a declarative language. It does take some getting used to being a recursive template language and not object-oriented one. For OP, consider my edited answer using your sample data that I ran through with PHP and Python. At the very least it can help future readers."}], "tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": false, "score": 2, "last_activity_date": 1441764212, "last_edit_date": 1441764212, "creation_date": 1441570208, "answer_id": 32427798, "question_id": 32427348, "link": "https://stackoverflow.com/questions/32427348/merging-xml-document-hierarchies/32427798#32427798", "title": "Merging XML document hierarchies", "body": "<p>Preface: I know nothing of Perl but one option is to use XSLT, a declarative special-purpose language to style/transform XML documents. </p>\n\n<p>And I do know, most languages like PHP (somewhat a Perl descendent), Python, Java, C#, etc. maintain XML libraries and likewise XSLT transformation. So, consider applying a <a href=\"http://search.cpan.org/~jstowe/XML-XSLT-0.48/lib/XML/XSLT.pm\" rel=\"nofollow\">Perl XSLT</a> processor where you use XSLT file to merge documents (which you can specify particular nodes)</p>\n\n<p>Using your sample data, below stylesheets would render your final XML structures for CUS and XYZ. Be sure to keep all derivative XMLs in same directory.</p>\n\n<p><strong>CUS VERSION</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" ?&gt; \n&lt;xsl:transform xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt; \n\n &lt;xsl:template match=\"CONFIG\"&gt;\n\n    &lt;xsl:copy&gt; \n         &lt;xsl:copy-of select=\"document('Global_properties_100.xml')/CONFIG/CUS/HDR\" /&gt;\n         &lt;xsl:copy-of select=\"document('Global_properties_100.xml')/CONFIG/CUS/TLR\" /&gt;\n         &lt;xsl:copy-of select=\"BATCH/CUS/SRCFILE\" /&gt;\n         &lt;xsl:copy-of select=\"BATCH/CUS/OUTFILE\" /&gt;\n         &lt;xsl:copy-of select=\"document('Global_70.xml')/CONFIG/LOOKUPS\" /&gt;\n         &lt;CUS&gt;\n            &lt;xsl:copy-of select=\"document('Global_layouts_100.xml')/CONFIG/GRP1/*\" /&gt;\n            &lt;xsl:copy-of select=\"BATCH/CUS/FIELDS\" /&gt;\n         &lt;/CUS&gt;\n    &lt;/xsl:copy&gt;\n\n &lt;/xsl:template&gt; \n\n&lt;/xsl:transform&gt;\n</code></pre>\n\n<p><strong>XYZ VERSION</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" ?&gt; \n&lt;xsl:transform xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt; \n\n &lt;xsl:template match=\"CONFIG\"&gt;\n\n    &lt;xsl:copy&gt; \n         &lt;xsl:copy-of select=\"document('Global_properties_100.xml')/CONFIG/XYZ/HDR\" /&gt;\n         &lt;xsl:copy-of select=\"document('Global_properties_100.xml')/CONFIG/XYZ/TLR\" /&gt;\n         &lt;xsl:copy-of select=\"BATCH/XYZ/SRCFILE\" /&gt;\n         &lt;xsl:copy-of select=\"BATCH/XYZ/OUTFILE\" /&gt;\n         &lt;xsl:copy-of select=\"document('Global_70.xml')/CONFIG/LOOKUPS\" /&gt;\n         &lt;CUS&gt;\n            &lt;xsl:copy-of select=\"document('Global_layouts_100.xml')/CONFIG/GRP2/*\" /&gt;\n            &lt;xsl:copy-of select=\"BATCH/XYZ/FIELDS\" /&gt;\n         &lt;/CUS&gt;\n    &lt;/xsl:copy&gt;\n\n &lt;/xsl:template&gt; \n\n&lt;/xsl:transform&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1441616927, "last_edit_date": 1495541178, "creation_date": 1441616927, "answer_id": 32434942, "question_id": 32427348, "link": "https://stackoverflow.com/questions/32427348/merging-xml-document-hierarchies/32434942#32434942", "title": "Merging XML document hierarchies", "body": "<p>I can give you a more specific example with some sample data, but when approaching this I tend to use <code>XML::Twig</code>. </p>\n\n<p>Specifically - <code>XML::Twig</code> has built in support for <code>cut</code> and <code>paste</code> so you can build a new document tree, and preserve the elements you want, in the order I want. </p>\n\n<p>Something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; parse ( \\*DATA );\n\nmy $newdoc = XML::Twig -&gt; new ('pretty_print' =&gt; 'indented_a');\n$newdoc -&gt; set_root ( XML::Twig::Elt -&gt; new ( 'new_root_here' ) );\n$newdoc -&gt; set_xml_version ('1.0');\n$newdoc -&gt; set_encoding('utf-8'); \n\nforeach my $value_elt ( $twig -&gt; findnodes ( '//value' ) ) {\n    $value_elt -&gt; cut;\n    $value_elt -&gt; paste ( $newdoc -&gt; root );\n}\n\n\n$newdoc -&gt; print;\n\n__DATA__\n&lt;root&gt;\n   &lt;value&gt;fish&lt;/value&gt;\n   &lt;dont_copy&gt;this thing&lt;/dont_copy&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>(There's another example: \n<a href=\"https://stackoverflow.com/questions/30741551/how-to-i-combine-data-from-two-xml-files-into-the-same-structure/30802277#30802277\">How to I combine data from two XML files into the same structure?</a>)</p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1441764212, "creation_date": 1441567204, "last_edit_date": 1441722460, "question_id": 32427348, "link": "https://stackoverflow.com/questions/32427348/merging-xml-document-hierarchies", "title": "Merging XML document hierarchies", "body": "<h3>Background</h3>\n\n<p>I'm designing a Perl application that uses XML files as inputs for config and settings information. There will be a hierarchy of documents, with global data overridden by more local information.</p>\n\n<p>My program will be invoked with the most local settings file which will contain paths to more general files. Some local settings will be absolute, and which these are would be hard coded in the program.</p>\n\n<p>The initialization task is to get the settings for an invocation from the highest level, reading them in and then going on to each level and merge/join them as a single XML document.</p>\n\n<h3>Sample Data</h3>\n\n<p>Global_layouts_100.xml</p>\n\n<pre><code>&lt;CONFIG&gt;\n    &lt;GRP1&gt;\n        &lt;FIELD foo=\"abs\" format=\"%.4f\"&gt;QTY&lt;/FIELD&gt;\n        &lt;FIELD default=\"\" format=\"%.2f\"&gt;COST&lt;/FIELD&gt;\n        &lt;FIELD default=\"0\" format=\"%.2f\"&gt;AMT&lt;/FIELD&gt;\n        &lt;FIELD default=\"1960-01-01\" format=\"YYYMMDD\"&gt;TRANDATE&lt;/FIELD&gt;\n        &lt;FIELD&gt;ACCOUNT&lt;/FIELD&gt;\n        &lt;FIELD default=\"0\"&gt;ACCT_TYPE&lt;/FIELD&gt;\n    &lt;/GRP1&gt;\n    &lt;GRP2&gt;\n        &lt;FIELD&gt; 1 &lt;/FIELD&gt;\n        &lt;FIELD&gt; 2 &lt;/FIELD&gt;\n        &lt;FIELD&gt; 3 &lt;/FIELD&gt;\n    &lt;/GRP2&gt;\n&lt;/CONFIG&gt;\n</code></pre>\n\n<p>Global_properties_100.xml</p>\n\n<pre><code>&lt;CONFIG&gt;\n    &lt;CUS&gt;\n        &lt;GRP&gt;GRP1&lt;/GRP&gt;\n        &lt;HDR&gt;CUSTOMER&lt;/HDR&gt;\n        &lt;TLR&gt;TLR${cnt}&lt;/TLR&gt;\n    &lt;/CUS&gt;\n    &lt;XYZ&gt;\n        &lt;GRP&gt;GRP2&lt;/GRP&gt;\n        &lt;HDR&gt;ACCOUNTS&lt;/HDR&gt;\n        &lt;TLR&gt;TLR${cnt}&lt;/TLR&gt;\n    &lt;/XYZ&gt;\n&lt;/CONFIG&gt;\n</code></pre>\n\n<p>Global_70.xml</p>\n\n<pre><code>&lt;CONFIG&gt;\n&lt;PARENT_SETTINGS&gt;Global_layouts_100&lt;/PARENT_SETTINGS&gt;\n&lt;PARENT_SETTINGS&gt;Global_properties_100&lt;/PARENT_SETTINGS&gt;\n    &lt;LOOKUPS&gt;\n        &lt;MAP type=\"file\"&gt;\n            &lt;NAME&gt;ACCT_TYPE_LOOKUP&lt;/NAME&gt;\n            &lt;PATH&gt;${PATH}acct_type.csv&lt;/PATH&gt;\n            &lt;HEADERS&gt;\n                &lt;COLUMN&gt;ACCT_TYPE&lt;/COLUMN&gt;\n                &lt;COLUMN&gt;SOURCE_VALUE&lt;/COLUMN&gt;\n            &lt;/HEADERS&gt;\n            &lt;KEYS&gt;\n                &lt;COLUMN&gt;SOURCE_VALUE&lt;/COLUMN&gt;\n            &lt;/KEYS&gt;\n        &lt;/MAP&gt;\n    &lt;/LOOKUPS&gt;\n&lt;/CONFIG&gt;\n</code></pre>\n\n<p>local.xml</p>\n\n<pre><code>&lt;CONFIG&gt;\n    &lt;PARENT_SETTINGS&gt;Global_70&lt;/PARENT_SETTINGS&gt;\n    &lt;BATCH&gt;\n        &lt;CUS&gt;\n            &lt;SRCFILE type=\"csv\" delimiter=\"|\"&gt;/path/to/src_file&lt;/SRCFILE&gt;\n            &lt;OUTFILE&gt;/path/to/out_file&lt;/OUTFILE&gt;\n            &lt;FIELDS&gt;\n                &lt;CUSTOMER&gt;&amp;CUSTOMER;&lt;/CUSTOMER&gt;\n                &lt;QTY default=\"0.0\" col=\"23\"&gt;&lt;/QTY&gt;\n                &lt;COST format=\"%.4f\" col=\"21\"&gt;&lt;/COST&gt;\n                &lt;FEE col=\"18\"&gt;&lt;/FEE&gt;\n            &lt;/FIELDS&gt;\n        &lt;/CUS&gt;\n        &lt;XYZ&gt;\n            &lt;SRCFILE /&gt;\n            &lt;OUTFILE /&gt;\n            &lt;FIELDS&gt;\n                &lt;FIELD_1 /&gt;\n                &lt;FIELD_2 /&gt;\n                &lt;FIELD_3 /&gt;\n                &lt;FIELD_4 /&gt;\n                &lt;FIELD_5 /&gt;\n            &lt;/FIELDS&gt;\n        &lt;/XYZ&gt;\n    &lt;/BATCH&gt;\n&lt;/CONFIG&gt;\n</code></pre>\n\n<p>Now, if the program would be given the local.xml to start and CUS as an arg to process I'd like to see this XML (or equivalant perl data structure):</p>\n\n<pre><code>&lt;CONFIG&gt;\n    &lt;HDR&gt;CUSTOMER&lt;/HDR&gt;\n    &lt;TLR&gt;TLR${cnt}&lt;/TLR&gt;\n    &lt;SRCFILE type=\"csv\" delimiter=\"|\"&gt;/path/to/src_file&lt;/SRCFILE&gt;\n    &lt;OUTFILE&gt;/path/to/out_file&lt;/OUTFILE&gt;\n    &lt;LOOKUPS&gt;\n        &lt;MAP type=\"file\"&gt;\n            &lt;NAME&gt;ACCT_TYPE_LOOKUP&lt;/NAME&gt;\n            &lt;PATH&gt;${PATH}acct_type.csv&lt;/PATH&gt;\n            &lt;HEADERS&gt;\n                &lt;COLUMN&gt;ACCT_TYPE&lt;/COLUMN&gt;\n                &lt;COLUMN&gt;SOURCE_VALUE&lt;/COLUMN&gt;\n            &lt;/HEADERS&gt;\n            &lt;KEYS&gt;\n                &lt;COLUMN&gt;SOURCE_VALUE&lt;/COLUMN&gt;\n            &lt;/KEYS&gt;\n        &lt;/MAP&gt;\n    &lt;/LOOKUPS&gt;\n    &lt;CUS&gt;\n        &lt;FIELD foo=\"abs\" format=\"%.4f\" default=\"0.0\" col=\"23\"&gt;QTY&lt;/FIELD&gt;\n        &lt;FIELD default=\"\" format=\"%.4f\" col=\"21\"&gt;COST&lt;/FIELD&gt;\n        &lt;FIELD default=\"0\" format=\"%.2f\"&gt;AMT&lt;/FIELD&gt;\n        &lt;FIELD default=\"1960-01-01\" format=\"YYYMMDD\"&gt;TRANDATE&lt;/FIELD&gt;\n        &lt;FIELD&gt;ACCOUNT&lt;/FIELD&gt;\n        &lt;FIELD default=\"0\"&gt;ACCT_TYPE&lt;/FIELD&gt;\n        &lt;FIELDS&gt;\n            &lt;CUSTOMER&gt;&amp;CUSTOMER;&lt;/CUSTOMER&gt;\n            &lt;QTY default=\"0.0\" col=\"23\"&gt;&lt;/QTY&gt;\n            &lt;COST format=\"%.4f\" col=\"21\"&gt;&lt;/COST&gt;\n            &lt;FEE col=\"18\"&gt;&lt;/FEE&gt;\n        &lt;/FIELDS&gt;\n    &lt;/CUS&gt;\n&lt;/CONFIG&gt;\n</code></pre>\n\n<p>And, if the program would be given the local.xml to start and XYZ as an arg to process I'd like to see this XML (or equivalant perl data structure):</p>\n\n<pre><code>&lt;CONFIG&gt;\n    &lt;HDR&gt;ACCOUNTS&lt;/HDR&gt;\n    &lt;TLR&gt;TLR${cnt}&lt;/TLR&gt;\n    &lt;SRCFILE /&gt;\n    &lt;OUTFILE /&gt;\n    &lt;LOOKUPS&gt;\n        &lt;MAP type=\"file\"&gt;\n            &lt;NAME&gt;ACCT_TYPE_LOOKUP&lt;/NAME&gt;\n            &lt;PATH&gt;${PATH}acct_type.csv&lt;/PATH&gt;\n            &lt;HEADERS&gt;\n                &lt;COLUMN&gt;ACCT_TYPE&lt;/COLUMN&gt;\n                &lt;COLUMN&gt;SOURCE_VALUE&lt;/COLUMN&gt;\n            &lt;/HEADERS&gt;\n            &lt;KEYS&gt;\n                &lt;COLUMN&gt;SOURCE_VALUE&lt;/COLUMN&gt;\n            &lt;/KEYS&gt;\n        &lt;/MAP&gt;\n    &lt;/LOOKUPS&gt;\n    &lt;XYZ&gt;\n        &lt;FIELD&gt; 1 &lt;/FIELD&gt;\n        &lt;FIELD&gt; 2 &lt;/FIELD&gt;\n        &lt;FIELD&gt; 3 &lt;/FIELD&gt;\n        &lt;FIELDS&gt;\n            &lt;FIELD_1 /&gt;\n            &lt;FIELD_2 /&gt;\n            &lt;FIELD_3 /&gt;\n            &lt;FIELD_4 /&gt;\n            &lt;FIELD_5 /&gt;\n        &lt;/FIELDS&gt;\n    &lt;/XYZ&gt;\n&lt;/CONFIG&gt;\n</code></pre>\n\n<h3>Question</h3>\n\n<p>What is the most efficient way of merging these XML documents?</p>\n\n<p>I can do it myself with the data structures returned by <a href=\"http://metacpan.org/module/XML::Simple\" rel=\"nofollow\"><code>XML::Simple</code></a>, or maybe there are some other XML tools I should use?</p>\n\n<p>I hope my question is clear enough and does not need sample XML data. If you need to see something then I can post some sample stuff.</p>\n\n<p>The question in brief is, what is the best way to merge a hierarchy of individual XML documents?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 6, "last_activity_date": 1441562467, "creation_date": 1441562467, "answer_id": 32426607, "question_id": 32426560, "link": "https://stackoverflow.com/questions/32426560/printing-out-associated-key-with-values-in-perl-in-foreach-loop/32426607#32426607", "title": "Printing out associated key with values in Perl in foreach loop", "body": "<p>When you loop over the values, you have no access to the key.</p>\n\n<pre><code>for my $key (keys %hash) {\n    if ($hash{$key} &gt; $ARGV[1]) {\n        $counter = $counter + 1;\n        print \"$key\\n\";\n    }\n}\nprint \"$counter\\n\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>keys %hash; # reset iterator\nwhile (my ($key, $value) = each %hash) {\n    if ($value &gt; $ARGV[1]) {\n        $counter = $counter + 1;\n        print \"$key\\n\";\n    }\n}\nprint \"$counter\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1441566584, "creation_date": 1441566584, "answer_id": 32427240, "question_id": 32426560, "link": "https://stackoverflow.com/questions/32426560/printing-out-associated-key-with-values-in-perl-in-foreach-loop/32427240#32427240", "title": "Printing out associated key with values in Perl in foreach loop", "body": "<p>You can't access the key of a hash element given its value. After all, multiple keys may have the same value. But you <em>can</em> rely on Perl giving you the keys in the same order as the values. So you could write something like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @keys = keys %hash;\nmy @vals = values %hash;\nmy $count = 0;\n\nfor my $val ( @values ) {\n    my $key = shift @keys;\n    if ( $val &gt; $ARGV[1] ) {\n        ++$count;\n        print $key, \"\\n\";\n    }\n}\n\nprint \"$count\\n\";\n</code></pre>\n\n<p>But it would be far better to use a <code>while</code> loop with <code>each</code> to gather both the key and the value at the same time</p>\n\n<pre><code>while ( my ($key, $val) = each %hash ) {\n    if ( $val &gt; $ARGV[1] ) {\n        ++$count;\n        print $key, \"\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 32426607, "answer_count": 2, "score": 2, "last_activity_date": 1441566584, "creation_date": 1441562183, "question_id": 32426560, "link": "https://stackoverflow.com/questions/32426560/printing-out-associated-key-with-values-in-perl-in-foreach-loop", "title": "Printing out associated key with values in Perl in foreach loop", "body": "<p>I am trying to print out the key for the hash if the value satisfies a certain condition. However, I am not sure how to access the hash key if it satisfies the value condition. This is the code I have:</p>\n\n<pre><code>foreach my $x (values %hash){\n    if ($x &gt; $ARGV[1]){\n        $counter = $counter + 1\n        print \"keys %hash\\n\"\n    }\n}\nprint \"$counter\\n\" \n</code></pre>\n"}, {"tags": ["perl", "winapi"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1441559431, "post_id": 32425948, "comment_id": 52717534, "body": "The Windows API uses UTF-16."}, {"owner": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1441565655, "post_id": 32425948, "comment_id": 52719468, "body": "Same result using <b>binmode (STDOUT, &quot;:encoding(UTF-16)&quot;)</b>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1441566540, "post_id": 32425948, "comment_id": 52719754, "body": "STDOUT has nothing to do with it.  Try encoding the two strings you are passing in UTF-16"}, {"owner": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "edited": false, "score": 0, "creation_date": 1441567829, "post_id": 32425948, "comment_id": 52720144, "body": "ok, I still getting the same results with: <b>use Encode qw/encode/;</b> and <b>my $desc = encode (&#39;UTF-16&#39;, &#39;Editor del registro de usuario&#39;);</b>"}], "answers": [{"comments": [{"owner": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "edited": false, "score": 0, "creation_date": 1441607699, "post_id": 32429042, "comment_id": 52729578, "body": "Thanks for the tip :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1441579873, "creation_date": 1441579873, "answer_id": 32429042, "question_id": 32425948, "link": "https://stackoverflow.com/questions/32425948/wide-char-and-win32api/32429042#32429042", "title": "wide char and win32::api", "body": "<p>For <code>W</code> calls, <code>LPCTSTR</code> must be a NUL-terminated string encoded using UTF-16le.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse utf8;   # Source code is encoded using UTF-8.\n\nuse Encode     qw( encode );\nuse Win32::API qw( );\n\nmy $shellAbout;\n\nsub ShellAbout {\n   my ($hWnd, $szApp, $szOtherStuff, $hIcon) = @_;\n\n   $shellAbout ||= Win32::API-&gt;new('Shell32', 'int ShellAboutW(HWND hWnd, LPCTSTR szApp, LPCTSTR szOtherStuff, HICON hIcon)');\n\n   $szApp = encode('UTF-16le', $szApp . \"\\0\");\n   $szOtherStuff = encode('UTF-16le', $szOtherStuff . \"\\0\") if defined($szOtherStuff);\n\n   $hWnd  //= 0;\n   $hIcon //= 0;   \n\n   return $shellAbout-&gt;Call($hWnd, $szApp, $szOtherStuff, $hIcon);\n}\n\n\nShellAbout(undef, 'perl-reguser', 'Editor del registro de usuario', undef)\n   or die($^E);\n</code></pre>\n"}], "owner": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 1, "accepted_answer_id": 32429042, "answer_count": 1, "score": 2, "last_activity_date": 1441579873, "creation_date": 1441558113, "question_id": 32425948, "link": "https://stackoverflow.com/questions/32425948/wide-char-and-win32api", "title": "wide char and win32::api", "body": "<p>In perl I'm using this code to call the shellabout dialog using win32::api:</p>\n\n<pre><code>my $shellAbout = Win32::API-&gt;new('Shell32', 'int ShellAboutA(HWND hWnd, LPCTSTR szApp, LPCTSTR szOtherStuff, HICON hIcon)');  \n    $shellAbout-&gt;Call (0, 'perl-reguser', 'Editor del registro de usuario', 0);\n</code></pre>\n\n<p>The above works as expected, but when I try to use the unicode version of shellabout:</p>\n\n<pre><code>my $shellAbout = Win32::API-&gt;new('Shell32', 'int ShellAboutW(HWND hWnd, LPCTSTR szApp, LPCTSTR szOtherStuff, HICON hIcon)');  \n    $shellAbout-&gt;Call (0, 'perl-reguser', 'Editor del registro de usuario', 0);\n</code></pre>\n\n<p>The strings are not displayed. I have the following declared:</p>\n\n<pre><code>use utf8;\nuse Encode;\n# ..\nbinmode (STDOUT, \":encoding(utf8)\");\n</code></pre>\n\n<p>any ideas?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1441550022, "post_id": 32424632, "comment_id": 52714633, "body": "Post your code and a sample of your data."}, {"owner": {"reputation": 67, "user_id": 4387017, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aa7fc68a98cb3e7b41731b8fa3be1221?s=128&d=identicon&r=PG&f=1", "display_name": "Bleron", "link": "https://stackoverflow.com/users/4387017/bleron"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1441550259, "post_id": 32424632, "comment_id": 52714702, "body": "Here is the script, check <a href=\"http://pastebin.com/0eBsmbY0\" rel=\"nofollow noreferrer\">pastebin.com/0eBsmbY0</a>  I also have some similar scripts but they dont use bing.com."}, {"owner": {"reputation": 11187, "user_id": 1394697, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/658ae7ed330d8fc70df1c173960d27ad?s=128&d=identicon&r=PG", "display_name": "FlipperPA", "link": "https://stackoverflow.com/users/1394697/flipperpa"}, "edited": false, "score": 0, "creation_date": 1441550374, "post_id": 32424632, "comment_id": 52714725, "body": "Please post your code, in-line, on Stack Overflow as part of you question. Links can go stale. Thank you!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1441551599, "post_id": 32424632, "comment_id": 52715080, "body": "We need more information... such as what is the last thing printed to the screen, what happens... does the script exit or just hang? Also, perhaps keep a count within each loop and print out the count, so that when it fails, you&#39;ll know which line in your input (if that&#39;s where it failed) it&#39;s failing."}, {"owner": {"reputation": 3466, "user_id": 826614, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/935a0a598738883b4af59a73335a7aa0?s=128&d=identicon&r=PG", "display_name": "gaussblurinc", "link": "https://stackoverflow.com/users/826614/gaussblurinc"}, "edited": false, "score": 1, "creation_date": 1441551677, "post_id": 32424632, "comment_id": 52715100, "body": "@Bleron, code style pretty bad, it&#39;s hard to read"}, {"owner": {"reputation": 3466, "user_id": 826614, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/935a0a598738883b4af59a73335a7aa0?s=128&d=identicon&r=PG", "display_name": "gaussblurinc", "link": "https://stackoverflow.com/users/826614/gaussblurinc"}, "edited": false, "score": 0, "creation_date": 1441552190, "post_id": 32424632, "comment_id": 52715244, "body": "@Bleron, you can&#39;t delete hash keys by undef assignment, you should use delete function for this, look at <code>$group{$1} = undef;</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441552666, "post_id": 32424632, "comment_id": 52715394, "body": "You open a file for writing (with a filehandle named <code>IN</code>, no less), print out a bunch of stuff to it, close it, and then immediately open it back up for reading and slurp every line?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441552911, "post_id": 32424632, "comment_id": 52715458, "body": "Also, this is more of a general point for future reference, but your code style and formatting is very inconsistent. I understand that this code was probably copied and pasted from 17 different sources, but it makes it difficult for others to troubleshoot when it <i>looks like</i> it was copied and pasted from 17 different sources."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441553119, "post_id": 32424632, "comment_id": 52715520, "body": "Even after your edit, we still don&#39;t know what&#39;s in the file that&#39;s driving the whole thing (a list of IP addresses, perhaps?). So, it&#39;s very hard for someone to reproduce this problem, and thus, help you. If I had to take a wild guess, I&#39;d say that Bing was imposing some kind of rate-limiting on you after a certain point."}, {"owner": {"reputation": 67, "user_id": 4387017, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aa7fc68a98cb3e7b41731b8fa3be1221?s=128&d=identicon&r=PG&f=1", "display_name": "Bleron", "link": "https://stackoverflow.com/users/4387017/bleron"}, "edited": false, "score": 0, "creation_date": 1441554267, "post_id": 32424632, "comment_id": 52715896, "body": "I didnt write this at all, but i changed a little to adapt nemy needs. So never mind..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441563850, "post_id": 32424632, "comment_id": 52718871, "body": "@Bleron: You may not be the original author of your program, but you have adopted it, made the latest modification to it, and are using it and asking questions about it as if it is your own. So you can&#39;t pick and choose which bits you&#39;re responsible for -- it&#39;s all yours. You say <i>&quot; I also have some similar scripts&quot;</i>, and I suggest you stop using programs to access sites that were meant for manual access."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441563969, "post_id": 32424632, "comment_id": 52718910, "body": "@Bleron: Bing <a href=\"http://www.bing.com/toolbox/bingsearchapi\" rel=\"nofollow noreferrer\">has an API</a> that is free for <i>&quot;up to 5,000 queries per month&quot;</i>, so you can see that your 400,000 IP addresses is excessive. I suggest that you should use the API and pay for access that allows the volume of transactions that you want. This isn&#39;t simple propriety. Microsoft get advertising revenue from all of the manual accesses that they provide. Asking for 400,000 queries for no charge is bypassing a large amount of their income, and so is theft"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1441559226, "last_edit_date": 1441559226, "creation_date": 1441557966, "answer_id": 32425924, "question_id": 32424632, "link": "https://stackoverflow.com/questions/32424632/perl-script-stops-working-after-a-while/32425924#32425924", "title": "Perl script stops working after a while", "body": "<p>The problem is probably that the value of your <code>$page</code> variable doesn't affect anything, so the <code>while</code> loop will continue indefinitely fetching the same URL</p>\n\n<p>Perhaps you wanted the <code>first</code> parameter set to <code>$page</code>?</p>\n\n<p>I recommend using the URI module together with <code>URI::QueryParam</code>, which will let you manipulate parts of a URL separately. It could look like this, for example</p>\n\n<p>Instead of fetching the URL from the internet I am simply printing it. You must be careful that you have a reliable test that causes the loop to exit. The issue with your owwn code is that you do not have such a test</p>\n\n<p>I would also be very surprised if this behaviour is within the terms of service. The reason your preogram stops at all is probably because Bing has noticed a flood of identical automated requests from your IP address and blocked you. If you persist then you may well find yourself in trouble</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse URI;\nuse URI::QueryParam;\n\nmy $url = URI-&gt;new('http://www.bing.com/search');\n$url-&gt;query_param( count =&gt; 50 );\n$url-&gt;query_param( FORM  =&gt; 'PERE' );\n\nmy $ip   = '127.0.0.1';\nmy $page = 1;\n\nwhile () {\n\n    $url-&gt;query_param( q     =&gt; $ip );\n    $url-&gt;query_param( first =&gt; $page );\n\n    say $url;\n    last if $page == 10;\n\n    ++$page;\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4387017, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aa7fc68a98cb3e7b41731b8fa3be1221?s=128&d=identicon&r=PG&f=1", "display_name": "Bleron", "link": "https://stackoverflow.com/users/4387017/bleron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "closed_date": 1441620888, "answer_count": 1, "score": -1, "last_activity_date": 1441559226, "creation_date": 1441549880, "last_edit_date": 1441556277, "question_id": 32424632, "link": "https://stackoverflow.com/questions/32424632/perl-script-stops-working-after-a-while", "closed_reason": "Not suitable for this site", "title": "Perl script stops working after a while", "body": "<p>I have a Perl script that should scan up to 400k lines. It stops sometimes without any error message. How to fix this?</p>\n\n<p>Here's my code, edited</p>\n\n<pre><code>#!/usr/bin/perl\n# M-A_labz\n\n# Modules\nuse HTTP::Request;\nuse strict;\nuse Win32::Console::ANSI;\nuse warnings;\nuse LWP::Simple;\nuse Term::ANSIColor;\n\nif ( $^O =~ /Win/ ) {\n   system(\"cls\");\n   system(\"title Mass Scripts Grabber 0.1\");\n}\nelse {\n   system(\"clear\");\n}\n\n$| = 1;\nprint color(\"red\"), '\n\n';\nprint color 'reset';\n\nprint color(\"yellow\"), \"\\n\\n[+] Enter List File Ips  : \";\nprint color 'reset';\n\nmy $host = &lt;STDIN&gt;;\nchomp($host);\n\nopen (SITE, \"&lt;$host\") || die \"[-] Can't open the List of site file !\";\nmy @SITE = &lt;SITE&gt;;\nclose SITE;\n\nforeach my $xp (@SITE) {\n    chomp $xp;\n\n    my $ip = $xp;\n    chomp ($ip);\n\n    my %group;\n\n    if ( $ip !~ /^(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)$/ ) {\n        print color(\"bold white\"), \"# Skiping $ip\\n\";\n        print color 'reset';\n    }\n\n    my $page = 0;\n\n    print color(\"green\"), \"Working on $ip\\n\";\n    print color 'reset';\n    print color(\"bold white\"), \"[#] Begin Reserving !\";\n    print color 'reset';\n\n    while (1) {\n        my $content = get(\"http://www.bing.com/search?q=ip:$ip&amp;count=50&amp;first=1&amp;FORM=PERE\")\n                or die(\"Error getting output\\n\");\n\n        my $status = keys %group;\n\n        while ( $content =~ /&lt;cite&gt;[:\\/\\/]*([\\w\\.\\-]+)[\\w+\\/\\.\\-_:\\?=]*&lt;\\/cite&gt;/g ) {\n            $group{$1} = undef;\n        }\n        last if ( $status == keys %group );\n        $page = $page + 10;\n    }\n\n    print color(\"bold white\"),  \"\\n# OUTPUT for $ip\\n\";\n    print color 'reset';\n\n    open (IN,\"&gt;reverse-$ip.txt\");\n    foreach my $host (keys %group) {\n        print IN \"$host\\n\";\n    }\n    close(IN);\n\n    open (F, \"&lt;reverse-$ip.txt\")\n            || die \"[-] Can't open the List Of Domains Names!\";\n    my @DOMAINS = &lt;F&gt;;\n    close F;\n\n    foreach my $D (@DOMAINS) {\n        chomp $D;\n        print color(\"bold white\"), \"[-] $D :[Unknown] \\n\";\n        print color 'reset';\n    }\n}\n</code></pre>\n\n<p>As you see, I scan up to 400k IPs.</p>\n\n<p>An error here on site is saying add more details and I have no idea what to describe more. Sorry about this meanless row.</p>\n"}, {"tags": ["bash", "perl", "shell"], "comments": [{"owner": {"reputation": 4068, "user_id": 2532621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/291a71a3d9ae5305f07ab42ad15745e6?s=128&d=identicon&r=PG", "display_name": "ash", "link": "https://stackoverflow.com/users/2532621/ash"}, "edited": false, "score": 0, "creation_date": 1441521023, "post_id": 32420701, "comment_id": 52707138, "body": "<code>cat main.c</code> from the script gives different results than <code>cat main.c</code> from the command-line?  If so, something is very wrong here; I suspect missing information in the question."}, {"owner": {"reputation": 1126, "user_id": 4625697, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-NBW5Q7ZCvNY/AAAAAAAAAAI/AAAAAAAAFOw/rPvyEl37Zbw/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/4625697/david"}, "reply_to_user": {"reputation": 4068, "user_id": 2532621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/291a71a3d9ae5305f07ab42ad15745e6?s=128&d=identicon&r=PG", "display_name": "ash", "link": "https://stackoverflow.com/users/2532621/ash"}, "edited": false, "score": 0, "creation_date": 1441521102, "post_id": 32420701, "comment_id": 52707155, "body": "@ash <code>Davids-Mac-Pro:Assignment 1 David$ cat main.c &#47;* ** Student Number: n90000000 ** Name: David ** Extra functionality: ** List of functionality. *&#47;   &#47;&#47; Standard Includes #include &lt;stdio.h&gt; #include &lt;stdbool.h&gt; #include &lt;string.h&gt;</code>   With a bash script containing <code>echo $(cat main.c)</code>:  <code>&#47;$RECYCLE.BIN &#47;Applications &#47;Backup (redacted) CMakeLists.txt a1_n9999999 build comment.sh main.c main.dSYM makefile tasksheet.pdf Student Number: (redacted) List of functionality. build&#47; main.dSYM&#47; &#47;&#47; Standard Includes #include &lt;stdio.h&gt; #include &lt;stdbool.h&gt; #include &lt;string.h&gt;</code>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1441521208, "post_id": 32420701, "comment_id": 52707176, "body": "Note that the test for <code>main</code> is not really sensitive enough.  A file containing the word <code>remaining</code> or any of the many other words containing the sequence of letters m-a-i-n will be matched.  However, that&#39;s largely tangential to the issue at hand."}, {"owner": {"reputation": 1126, "user_id": 4625697, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-NBW5Q7ZCvNY/AAAAAAAAAAI/AAAAAAAAFOw/rPvyEl37Zbw/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/4625697/david"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1441521401, "post_id": 32420701, "comment_id": 52707216, "body": "@JonathanLeffler I&#39;m not very good with grep.  Any hints as to how to make the test more robust?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1441521686, "post_id": 32420701, "comment_id": 52707276, "body": "The most fundamental step would be <code>grep -l -w main</code> to search for the word &#39;main&#39;.  However, that would pick up &#39;the main idea is \u2026&#39; and so on, in a comment.  I&#39;d probably exploit knowledge of how you format your <code>main()</code> function, using <code>grep -l -E &#39;^int main\\((void|int argc, char \\*\\*argv)\\)$</code> to pick up either <code>int main(void)</code> or <code>int main(int argc, char **argv)</code> \u2014 they&#39;re the only signatures I ever use, and I keep the type on the same line as the function.  If you put the <code>int</code> on the previous line, drop <code>int</code> from the match.  You might still run into a &#39;main in a comment&#39; problem, but\u2026"}], "answers": [{"comments": [{"owner": {"reputation": 1126, "user_id": 4625697, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-NBW5Q7ZCvNY/AAAAAAAAAAI/AAAAAAAAFOw/rPvyEl37Zbw/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/4625697/david"}, "edited": false, "score": 0, "creation_date": 1441521373, "post_id": 32420743, "comment_id": 52707212, "body": "this fixed it.  I will accept it as the answer as soon as it will let me."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 3, "last_activity_date": 1441598900, "last_edit_date": 1441598900, "creation_date": 1441521244, "answer_id": 32420743, "question_id": 32420701, "link": "https://stackoverflow.com/questions/32420701/weird-unexpected-output-in-bash-script-with-perl/32420743#32420743", "title": "Weird, unexpected output in Bash Script with Perl", "body": "<p>You need to double quote the echo:</p>\n\n<pre><code>echo \"${comment}\"\n</code></pre>\n\n<p>You're seeing the expansion of the <code>/*</code> into the list of files in your root directory.</p>\n\n<p>(And that's a lot of debris in your root directory that shouldn't be there.  You shouldn't be able to write files in the <code>/</code> directory.  You need to worry about how you are (mis)using root privileges.)</p>\n\n<hr>\n\n<p>Note that the test for <code>main</code> is not really sensitive enough. A file containing the word remaining or any of the many other words containing the sequence of letters m-a-i-n will be matched. However, that's largely tangential to the issue at hand.</p>\n\n<blockquote>\n  <p>I'm not very good with grep. Any hints as to how to make the test more robust?</p>\n</blockquote>\n\n<p>The most fundamental step would be <code>grep -l -w main</code> to search for the word 'main'.  However, that would pick up 'the main idea is \u2026' and so on, in a comment.  I'd probably exploit knowledge of how you format your <code>main()</code> function, using <code>grep -l -E '^int main\\((void|int argc, char \\*\\*argv)\\)$</code> to pick up either <code>int main(void)</code> or <code>int main(int argc, char **argv)</code> \u2014 they're the only signatures I ever use, and I keep the type on the same line as the function.  If you put the <code>int</code> on the previous line, drop <code>int</code> from the match; if you have the open brace on the same line, modify the pattern to allow for, or require, that layout; etc.  You might still run into a 'main in a comment' problem, but it's pretty unlikely.</p>\n\n<p>I also note that the Perl will pick up each block comment in each file, rather than stopping at the end of the first one.  You shouldn't have a single comment in most source files.  I think you can fix that with:</p>\n\n<pre><code>perl -ne 'if (/\\/\\*/ .. /\\*\\//) { print if ($comment == 0); } ++$comment if m/\\*\\//;'\n</code></pre>\n\n<p>I tried a more compact notation:</p>\n\n<pre><code>perl -lne 'print if (/\\/\\*/ .. /\\*\\// &amp;&amp; $comment == 0); ++$comment if m/\\*\\//'\n</code></pre>\n\n<p>and a number of variants on this theme and the <code>&amp;&amp; $comment == 0</code> condition was functionally ignored.  The alternative shown above worked.</p>\n\n<hr>\n\n<p>Curiosity got the better of me.  Using the 'Deparse' module (SO search '<code>[perl] deparse</code>') and applying it shows:</p>\n\n<pre><code>$ perl -MO=Deparse -lne 'print if (/\\/\\*/ .. /\\*\\// &amp;&amp; $comment == 0); ++$comment if m/\\*\\//'\nBEGIN { $/ = \"\\n\"; $\\ = \"\\n\"; }\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    chomp $_;\n    print $_ if m[/\\*] .. m[\\*/] &amp;&amp; $comment == 0;\n    ++$comment if m[\\*/];\n}\n-e syntax OK\n$ perl -MO=Deparse -lne 'print if ((/\\/\\*/ .. /\\*\\//) &amp;&amp; $comment == 0); ++$comment if m/\\*\\//'\nBEGIN { $/ = \"\\n\"; $\\ = \"\\n\"; }\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    chomp $_;\n    print $_ if m[/\\*] .. m[\\*/] and $comment == 0;\n    ++$comment if m[\\*/];\n}\n-e syntax OK\n$ perl -lne 'print if ((/\\/\\*/ .. /\\*\\//) &amp;&amp; $comment == 0); ++$comment if m/\\*\\//'  e2big.c\n/* SO 18559403: How big an argument list is allowed */\n$\n</code></pre>\n\n<p>The precedence of <code>&amp;&amp;</code> is high; that of <code>and</code> is low.  If you're using the range operator <code>..</code>, be cautious and use copious parentheses in the correct places.</p>\n"}], "owner": {"reputation": 1126, "user_id": 4625697, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-NBW5Q7ZCvNY/AAAAAAAAAAI/AAAAAAAAFOw/rPvyEl37Zbw/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/4625697/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 32420743, "answer_count": 1, "score": 2, "last_activity_date": 1441598900, "creation_date": 1441520772, "last_edit_date": 1441521034, "question_id": 32420701, "link": "https://stackoverflow.com/questions/32420701/weird-unexpected-output-in-bash-script-with-perl", "title": "Weird, unexpected output in Bash Script with Perl", "body": "<p>I'm trying to write a Bash script that will be run in a folder containing multiple C source files.  One of these will contain main(), and will also contain a multiline comment at the top that describes the file/program and its features.</p>\n\n<p>What I have so far is:</p>\n\n<pre><code>#! /bin/bash\necho \"Grepping for main *.c file\"\nfile=$(grep -l main *.c)\necho \"the file is ${file}\"\ncomment=$(perl -lne 'print if (/\\/\\*/ .. /\\*\\//)' ${file})\necho ${comment}\n</code></pre>\n\n<p>Which tells me which file contains the main() (in the test case, it's main.c).  The perl function then outputs (what I think to be) incorrectly.  Instead of just searching in the file, it outputs</p>\n\n<pre><code>Grepping for main *.c file\nthe file is main.c\n/$RECYCLE.BIN /Applications /Backup /Extra /Extra (from old Mac) 2 /Library /Network /OS X Install Data /System /System Volume Information /Users /Volumes /bin /boot CMakeLists.txt build comment.sh main.c main.dSYM makefile tasksheet.pdf Student Number: n9999999 CMakeLists.txt a1_n9999999 build comment.sh main.c main.dSYM makefile tasksheet.pdf...\n</code></pre>\n\n<p>followed by the titles of the contents of the folder, with the actual multiline comment scattered throughout the output.</p>\n\n<p>If I try and <code>cat main.c</code> it outputs correctly, but if in the bash script I do echo <code>cat main.c</code> or <code>cat ${file}</code> i get a similar type of garbage output.  What is causing it?  I have a feeling it is to do with the fact that a multiline comment contains /*, which in Unix is 'everything in the root directory', but is there a way around this?</p>\n\n<p>Edit: Running that perl command <code>perl -lne 'print if (/\\/\\*/ .. /\\*\\//)' main.c</code> in the terminal outputs the intended result.</p>\n"}, {"tags": ["linux", "apache", "perl", "ubuntu", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5304291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vFIVn.png?s=128&g=1", "display_name": "cgtopher", "link": "https://stackoverflow.com/users/5304291/cgtopher"}, "edited": false, "score": 0, "creation_date": 1441499097, "post_id": 32418480, "comment_id": 52703945, "body": "Thanks for that! Looks like it worked, with one caveat. Instead of the script running (just a hello world for testing) I&#39;m getting prompted to download it. So we&#39;re halfway there!"}, {"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "reply_to_user": {"reputation": 13, "user_id": 5304291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vFIVn.png?s=128&g=1", "display_name": "cgtopher", "link": "https://stackoverflow.com/users/5304291/cgtopher"}, "edited": false, "score": 0, "creation_date": 1441577146, "post_id": 32418480, "comment_id": 52722631, "body": "That&#39;s odd.  ScriptAlias should set the handler.  Are you sure it&#39;s the script that&#39;s being downloaded, and not its output?"}], "tags": [], "owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "is_accepted": true, "score": 2, "last_activity_date": 1441494286, "creation_date": 1441494286, "answer_id": 32418480, "question_id": 32416046, "link": "https://stackoverflow.com/questions/32416046/403-error-when-running-perl-script-in-apache/32418480#32418480", "title": "403 Error when running perl script in apache", "body": "<p>You have <code>Order allow,deny</code>, which will reject the request unless <em>at least</em> one Allow directive passes.</p>\n\n<p>You have no Allow directive (except for Directory /home/cgtopher/public_html/, which does not cover the cgi-bin directory).</p>\n\n<p>(Add <code>Allow from all</code> to the cgi-bin directory?)</p>\n"}], "owner": {"reputation": 13, "user_id": 5304291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vFIVn.png?s=128&g=1", "display_name": "cgtopher", "link": "https://stackoverflow.com/users/5304291/cgtopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1583, "favorite_count": 0, "accepted_answer_id": 32418480, "answer_count": 1, "score": 1, "last_activity_date": 1441494286, "creation_date": 1441475501, "question_id": 32416046, "link": "https://stackoverflow.com/questions/32416046/403-error-when-running-perl-script-in-apache", "title": "403 Error when running perl script in apache", "body": "<p>I am trying to test perl scripts through localhost. I configured apache to allow perl scripts to be run from /usr/lib/cgi-bin (or so I thought). Whenever I go to localhost/cgi-bin/script.pl I get a 403 Forbidden error. Here is my apache conf file.</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n\nServerAdmin webmaster@localhost\nDocumentRoot /home/cgtopher/public_html/\n\n&lt;Directory /home/cgtopher/public_html/&gt;\nOptions FollowSymLinks Indexes\nAllowOverride None\nOrder allow,deny\nallow from all\n&lt;/Directory&gt;\n\n&lt;Directory /&gt;\nOptions FollowSymLinks\nAllowOverride None\nOrder deny,allow\nDeny from all\n&lt;/Directory&gt;\n\n#cgi-bin\n\nScriptAlias /cgi-bin/ /usr/lib/cgi-bin/\n\n&lt;Directory \"/usr/lib/cgi-bin\"&gt;\n\nAllowOverride None\n\nOptions ExecCGI FollowSymLinks\n\nOrder allow,deny\n\nRequire all granted\n\n&lt;/Directory&gt;\n\nErrorLog /home/cgtopher/.apache/error.log\nCustomLog ${APACHE_LOG_DIR}/access.log combined\n</code></pre>\n\n<p></p>\n\n<p>In my error log I keep getting this:</p>\n\n<pre><code>[Sat Sep 05 10:30:12.565510 2015] [access_compat:error] [pid 10918] [client 127.0.0.1:60699] AH01797: client denied by server configuration: /usr/lib/cgi-bin/hello.pl\n</code></pre>\n"}, {"tags": ["perl", "sed"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1441471422, "post_id": 32413831, "comment_id": 52697484, "body": "do you want to change the file?"}, {"owner": {"reputation": 2949, "user_id": 2094094, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/989ab5905f9fa07297e9c44715a95544?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2094094/alexander"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1441471494, "post_id": 32413831, "comment_id": 52697516, "body": "Yes! I cannot think of reason why everyone think about STDIN. @\u0421\u0443\u0445\u043e\u043927"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1441471573, "post_id": 32413831, "comment_id": 52697535, "body": "Because that is what <code>perl -pe &#39;..&#39;</code> does."}, {"owner": {"reputation": 2949, "user_id": 2094094, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/989ab5905f9fa07297e9c44715a95544?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2094094/alexander"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1441471949, "post_id": 32413831, "comment_id": 52697650, "body": "How is that? With       perl -pe I am reading from file. Anyway, added -i."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1441472559, "post_id": 32413831, "comment_id": 52697849, "body": "<code>&lt;&gt;</code> reads from files given on command line (@ARGV &gt;0), and from STDIN otherwise(@ARGV ==0). <code>-i</code> does inplace editing as stated in perldoc <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlrun.html</a>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1441473656, "post_id": 32413831, "comment_id": 52698159, "body": "If you&#39;d use <code>-i.bak</code> in the question, people would have known that you want to overwrite the files.  Since the code in the question writes to standard output, people legitimately assumed that was what you wanted."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441491931, "post_id": 32413831, "comment_id": 52702717, "body": "Why do you need to avoid explicit file opening?"}, {"owner": {"reputation": 2949, "user_id": 2094094, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/989ab5905f9fa07297e9c44715a95544?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2094094/alexander"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441616690, "post_id": 32413831, "comment_id": 52734389, "body": "@Sobrique it&#39;s not that I <b>need</b> this, I just wanted to find more neat solution that a system call, and, for now, system call is the nicest one."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441617015, "post_id": 32413831, "comment_id": 52734595, "body": "What do you mean by &quot;neat&quot;? Doing stuff implicitly rather than explicitly is a really good way of ending up with code that&#39;s hard to read, understand and maintain. It&#39;s not something that&#39;s desirable."}, {"owner": {"reputation": 2949, "user_id": 2094094, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/989ab5905f9fa07297e9c44715a95544?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2094094/alexander"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441617194, "post_id": 32413831, "comment_id": 52734698, "body": "@Sobrique skip this question, please, if u cannot see what I&#39;m asking."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441617436, "post_id": 32413831, "comment_id": 52734832, "body": "Oh I can see what you&#39;re asking. I just think we&#39;ve got an XY problem here. Which is why I&#39;m asking questions to clarify what you&#39;re trying to accomplish."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1441475599, "last_edit_date": 1441475599, "creation_date": 1441461857, "answer_id": 32413948, "question_id": 32413831, "link": "https://stackoverflow.com/questions/32413831/perl-sed-file-inside-script/32413948#32413948", "title": "Perl sed file inside script", "body": "<p>You can explicitly write what <code>-p</code> command line switch does,</p>\n\n<pre><code>sub pe {\n\n  my $f = shift;\n  local @ARGV = @_;\n  local $^I = \"\"; # -i command line switch\n  local $_;\n\n  while (&lt;&gt;) {\n    $f-&gt;();\n    print;\n    close ARGV if eof; # reset $. for each file\n  }\n}\n\npe(\n  sub { s/ //g if $. == 1 },\n  \"file.txt\"\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2949, "user_id": 2094094, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/989ab5905f9fa07297e9c44715a95544?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2094094/alexander"}, "edited": false, "score": 0, "creation_date": 1441471434, "post_id": 32414059, "comment_id": 52697490, "body": "Maybe, I wasn&#39;t clear, but I need to modify file, not STDIN,"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": -1, "last_activity_date": 1441462833, "last_edit_date": 1441462833, "creation_date": 1441462463, "answer_id": 32414059, "question_id": 32413831, "link": "https://stackoverflow.com/questions/32413831/perl-sed-file-inside-script/32414059#32414059", "title": "Perl sed file inside script", "body": "<p>Iterate over the file using magical <code>&lt;&gt;</code> operator and change for 1st line.</p>\n\n<p>You may try this:</p>\n\n<pre><code>while(my $fh=&lt;&gt;){\n$fh=~ s/ //g if($.==1);\nprint \"$fh\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1441463083, "post_id": 32414071, "comment_id": 52695219, "body": "print is a list operator, so that line prints the modified first line from the file i.e., $line and then rest of the lines from the file which are read-in via the &lt;&gt; operator."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1441463156, "post_id": 32414071, "comment_id": 52695248, "body": "I didn&#39;t knew that <code>print</code> also works like that way. Thanks."}, {"owner": {"reputation": 2949, "user_id": 2094094, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/989ab5905f9fa07297e9c44715a95544?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2094094/alexander"}, "edited": false, "score": 0, "creation_date": 1441471424, "post_id": 32414071, "comment_id": 52697485, "body": "No, it&#39;s not. Maybe, I wasn&#39;t clear, but I need to modify file, not STDIN,"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1441473870, "post_id": 32414071, "comment_id": 52698218, "body": "That only works on the first line of the first file, not on the first line of each file.  The same applies to the code in the question, of course."}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 1, "last_activity_date": 1441474941, "last_edit_date": 1441474941, "creation_date": 1441462527, "answer_id": 32414071, "question_id": 32413831, "link": "https://stackoverflow.com/questions/32413831/perl-sed-file-inside-script/32414071#32414071", "title": "Perl sed file inside script", "body": "<p>This works.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $line = &lt;&gt;;\n$line =~ s/ //g;\nprint $line, &lt;&gt;;\n</code></pre>\n\n<p><strong>EDIT:</strong>\nHere's the in-place edit version.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n{\n    local $^I = '.bak';\n    while (&lt;&gt;) {\n        s/ //g if $. == 1;\n        print;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 0, "last_activity_date": 1441474980, "creation_date": 1441474980, "answer_id": 32415974, "question_id": 32413831, "link": "https://stackoverflow.com/questions/32413831/perl-sed-file-inside-script/32415974#32415974", "title": "Perl sed file inside script", "body": "<p>Is this what you're after?</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ # Setup\n$ for number in {1..9}\n&gt; do\n&gt;     {\n&gt;     echo words are separated by spaces\n&gt;     echo lines follow each other\n&gt;     echo until the end\n&gt;     } &gt; file.$number\n&gt; done\n$ cat file.1\nwords are separated by spaces\nlines follow each other\nuntil the end\n# Change the files\n$ perl -i.bak -e 'while (&lt;&gt;) { s/ //g if $. == 1; print; } continue { $. = 0 if eof; }' file.?\n# Demonstrate that all files are affected\n$ cat file.1\nwordsareseparatedbyspaces\nlines follow each other\nuntil the end\n$ cat file.8\nwordsareseparatedbyspaces\nlines follow each other\nuntil the end\n$ rm -f file.? file.?.bak\n$\n</code></pre>\n\n<p>It is easy to make code that affects the first line of the first file only (the <a href=\"http://perldoc.perl.org/perlsyn.html#Loop-Control\" rel=\"nofollow\"><code>continue</code></a> block deals with that by resetting <code>$.</code> at the end of each file in the command line).</p>\n"}], "owner": {"reputation": 2949, "user_id": 2094094, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/989ab5905f9fa07297e9c44715a95544?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2094094/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1441475599, "creation_date": 1441461160, "last_edit_date": 1441471853, "question_id": 32413831, "link": "https://stackoverflow.com/questions/32413831/perl-sed-file-inside-script", "title": "Perl sed file inside script", "body": "<p>Suppose I need to remove every space in the first line of the file(or any other sed thing, doesn't matter). This would work if I do it from the terminal:</p>\n\n<pre><code>perl -i -pe 's/ //g if $. == 1' file.txt\n</code></pre>\n\n<p>But I need to do this inside a perl script. I can do this using <code>system</code>, but I find don't think this is correct solution to make system calls to perl from within a perl script. </p>\n\n<p>Is there any way to make this work nicely and <strong>without explicit file opening</strong>?<br>\nP.S. There are, for sure, modules that can do that, but I'm interested in core functionality.<br>\n<strong>P.P.S. I need to perform these actions on a file</strong></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1441460483, "post_id": 32413687, "comment_id": 52694516, "body": "Add a <code>use strict;</code> at the top and you&#39;ll get a pretty clear hint about what&#39;s going wrong."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 1, "creation_date": 1441460834, "post_id": 32413687, "comment_id": 52694605, "body": "The error message that Calle eludes to, which you&#39;ll see after after adding the <code>strict</code> pragma, is telling you that you have a scoping issue.  <code>$fh</code> is declared in the wrong scope."}, {"owner": {"reputation": 359, "user_id": 1135800, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/032ec5d3676ba1e3992bf1ce8d47edfb?s=128&d=identicon&r=PG", "display_name": "Nishant Srivastava", "link": "https://stackoverflow.com/users/1135800/nishant-srivastava"}, "edited": false, "score": 0, "creation_date": 1441461028, "post_id": 32413687, "comment_id": 52694654, "body": "Ok i got the issue. I am declaring $fh inside the if block so it is not available to the while loop. Thanks Calle"}], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1441467659, "post_id": 32413809, "comment_id": 52696498, "body": "The correct place to put <code>my $fh</code> is inside the <code>foreach</code> loop. That will also close the handle for each new file name. You can also get rid of <code>@argarr</code> with <code>for (reverse @ARGV)</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1441474493, "post_id": 32413809, "comment_id": 52698401, "body": "You should explain what you think is wrong with the OP&#39;s code that you have fixed in your version. Code-only solutions are never very useful as they leave people (others who come here for help with a similar issue as well as the OP) unable to do anything for themselves beyond copy-pasting your code. It is highly unlikely that this will work as drop-in code for many situations, and some narrative to explain what problems you have fixed and how your code works is pretty much <i>de rigeur</i>"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1441471083, "last_edit_date": 1441471083, "creation_date": 1441461021, "answer_id": 32413809, "question_id": 32413687, "link": "https://stackoverflow.com/questions/32413687/uninitialized-value-fh-when-attempting-to-read-from-file/32413809#32413809", "title": "Uninitialized value $fh when attempting to read from file", "body": "<p>As the comments say you should always use <code>use strict</code> at the top of script.It will give you the hint if variables are not properly scoped\nin your script.</p>\n\n<p>This will do the work:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nif(@ARGV == 0)\n{\n        die \"No file name given \\n\";\n}\nmy @argarr = reverse @ARGV;\nforeach(@argarr)\n{\n        my $fh;\n        unless(open $fh, '&lt;', $_){\n            warn \"unable to open file $_ : $! \\n\";\n            next;\n         }\n        while(&lt;$fh&gt;)\n        {\n                chomp;\n                print \"$_\\n\";\n        }\nclose($fh);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1441461034, "creation_date": 1441461034, "answer_id": 32413810, "question_id": 32413687, "link": "https://stackoverflow.com/questions/32413687/uninitialized-value-fh-when-attempting-to-read-from-file/32413810#32413810", "title": "Uninitialized value $fh when attempting to read from file", "body": "<p><code>$fh</code> scalar is lexicaly scoped and visible only inside <code>if</code> branch</p>\n\n<pre><code>    if (! open my $fh , \"&lt; $_\") { .. }\n</code></pre>\n\n<p>You can resolve this with</p>\n\n<pre><code>    open my $fh , \"&lt;\", $_ or print(\"$! $_\"), next;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>   my $ok = open my $fh , \"&lt;\", $_;\n   if (!$ok) { print(\"$! $_\"); next; }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1441461117, "creation_date": 1441461117, "answer_id": 32413822, "question_id": 32413687, "link": "https://stackoverflow.com/questions/32413687/uninitialized-value-fh-when-attempting-to-read-from-file/32413822#32413822", "title": "Uninitialized value $fh when attempting to read from file", "body": "<p>It's because the scope of <code>$fh</code> is limited to the block where it's initialized. Here's how I would rewrite your code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\ndie \"No file names given\\n\" unless @ARGV;\n\nfor my $file (reverse(@ARGV)) {\n    next unless -f $file;\n    open(my $fh, '&lt;', $file) or die \"Can't open file [$file]: $!\\n\";\n\n    while (&lt;$fh&gt;) {\n        chomp;\n        say;\n    }\n\n    close($fh);\n}\n</code></pre>\n"}], "owner": {"reputation": 359, "user_id": 1135800, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/032ec5d3676ba1e3992bf1ce8d47edfb?s=128&d=identicon&r=PG", "display_name": "Nishant Srivastava", "link": "https://stackoverflow.com/users/1135800/nishant-srivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "accepted_answer_id": 32413809, "answer_count": 3, "score": 1, "last_activity_date": 1441471083, "creation_date": 1441460246, "last_edit_date": 1441464738, "question_id": 32413687, "link": "https://stackoverflow.com/questions/32413687/uninitialized-value-fh-when-attempting-to-read-from-file", "title": "Uninitialized value $fh when attempting to read from file", "body": "<p>I am new to perl. I have written following code to read the files in the reverse order of input and print the values to command line.</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse warnings;\nif(@ARGV == 0)\n{\n        die \"No file name given \\n\";\n}\nmy @argarr;\nwhile(@ARGV != 0)\n{\n        my $tmp = pop @ARGV;\n        push @argarr, $tmp;\n}\nforeach(@argarr)\n{\n        #print $_;\n        #print \"\\n\";\n        if (! open my $fh , \"&lt; $_\")\n        {\n           print \"unable to open $_\\n\";\n        }\n        while(&lt;$fh&gt;)\n        {\n                chomp;\n                print \"$_\\n\";\n        }\n}\n</code></pre>\n\n<p>However it is not working as expected. Instead of printing the files to STDOUT it is showing below error:</p>\n\n<pre><code>Use of uninitialized value $fh in &lt;HANDLE&gt; at ./mtac.pl line 23.\nreadline() on unopened filehandle at ./mtac.pl line 23.\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["linux", "perl"], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1441449838, "creation_date": 1441449838, "answer_id": 32412144, "question_id": 32411797, "link": "https://stackoverflow.com/questions/32411797/perl-sdl-module-install-fail/32412144#32412144", "title": "perl sdl module install fail", "body": "<p>This might be a bug in Alien::SDL and its use of Getopt::Long (a similar issue was fixed <a href=\"https://github.com/OpenGuides/OpenGuides/pull/71\" rel=\"nofollow\">here</a>).</p>\n\n<p>You can try this workaround:</p>\n\n<p>If you run <code>sudo cpan</code> and in that shell <code>o conf mbuildpl_arg</code>, you should get something like this:</p>\n\n<pre><code>    mbuildpl_arg       [--installdirs site]\nType 'o conf' to view all configuration items\n</code></pre>\n\n<p>If that is the case, run <code>o conf mbuild_arg installdirs=site</code> (which should output <code>mbuildpl_arg       [installdirs=site]</code>), then <code>o conf commit</code>, then exit the cpan shell. I believe that should bypass the option parsing issue.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7318561, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/cf715b238c8a25831e0706391f9641e4?s=128&d=identicon&r=PG", "display_name": "user731448156122", "link": "https://stackoverflow.com/users/7318561/user731448156122"}, "is_accepted": false, "score": 1, "last_activity_date": 1482186958, "creation_date": 1482186958, "answer_id": 41232104, "question_id": 32411797, "link": "https://stackoverflow.com/questions/32411797/perl-sdl-module-install-fail/41232104#41232104", "title": "perl sdl module install fail", "body": "<p>I found that removing my .cpan folder and reinstalling Module::Build before Alien::SDL resoleved this problem:</p>\n\n<p>rm -rf ~/.cpan</p>\n"}], "owner": {"reputation": 335, "user_id": 5303357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LaeIb.png?s=128&g=1", "display_name": "\u9ec3\u5bb6\u5104", "link": "https://stackoverflow.com/users/5303357/%e9%bb%83%e5%ae%b6%e5%84%84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 32412144, "answer_count": 2, "score": 0, "last_activity_date": 1482186958, "creation_date": 1441447281, "last_edit_date": 1441448562, "question_id": 32411797, "link": "https://stackoverflow.com/questions/32411797/perl-sdl-module-install-fail", "title": "perl sdl module install fail", "body": "<p>i'm used ubuntu 14.04 lts\n.<br>and\uff0cthe module already download</p>\n\n\n\n<p>1:Keyboard input</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ sudo -s cpan SDL 1&gt;stdout.txt  2&gt;stderr.txt\n</code></pre>\n\n<p>stdout.txt:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> 1 Reading '/home/freakcoco/.cpan/Metadata'\n 2   Database was generated on Fri, 04 Sep 2015 16:29:02 GMT\n 3 Running install for module 'SDL'\n 4 Checksum for /home/freakcoco/.cpan/sources/authors/id/F/FR/FROGGS/SDL-2.546.tar.gz ok\n 5 ---- Unsatisfied dependencies detected during ----\n 6 ----          FROGGS/SDL-2.546.tar.gz         ----\n 7     Alien::SDL [build_requires]\n 8 Running install for module 'Alien::SDL'\n 9 Checksum for /home/freakcoco/.cpan/sources/authors/id/F/FR/FROGGS/Alien-SDL-1.446.tar.gz ok\n10 Configuring F/FR/FROGGS/Alien-SDL-1.446.tar.gz with Build.PL\n11 Welcome to Alien::SDL module installation\n12 -----------------------------------------\n13 checking operating system... linux\n14 checking for cc... yes\n15 checking build system type... x86_64-linux-gnu-thread-multi\n16 checking platform specific module... using 'My::Builder::Unix'\n17 Warning: No success on command[/usr/bin/perl Build.PL --installdirs site]\n18   FROGGS/Alien-SDL-1.446.tar.gz\n19   /usr/bin/perl Build.PL --installdirs site -- NOT OK\n20   FROGGS/SDL-2.546.tar.gz\n21   Has already been unwrapped into directory /home/freakcoco/.cpan/build/SDL-2.546-1przxQ\n22 Warning: Prerequisite 'Alien::SDL =&gt; 1.446' for 'FROGGS/SDL-2.546.tar.gz' failed when processing 'FROGGS/Alien-SDL-1.446.tar.gz' with 'writemakefile =&gt; NO '/usr/bin/perl Build.PL --installdirs site' returned status 512'. Continuing, but chances to succeed are limited.\n23 Configuring F/FR/FROGGS/SDL-2.546.tar.gz with Build.PL\n24 Warning: No success on command[/usr/bin/perl Build.PL --installdirs site]\n25   FROGGS/SDL-2.546.tar.gz\n26   /usr/bin/perl Build.PL --installdirs site -- NOT OK\n</code></pre>\n\n<p>stderr.txt:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> 1 Unknown option: installdirs\n 2 Too early to specify a build action 'site'.  Do 'Build site' instead.\n 3 Can't locate Alien/SDL.pm in @INC (you may need to install the Alien::SDL module) (@INC contains: inc /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/site_perl .) at Build.PL line 12.\n 4 BEGIN failed--compilation aborted at Build.PL line 12.\n</code></pre>\n\n<p>2:Keyboard input (install the Alien::SDL module)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ sudo -s cpan SDL 1&gt;stdout2.txt  2&gt;stderr2.txt\n</code></pre>\n\n<p>stdout2.txt</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> 1 Reading '/home/freakcoco/.cpan/Metadata'\n 2   Database was generated on Fri, 04 Sep 2015 16:29:02 GMT\n 3 Running install for module 'Alien::SDL'\n 4 Checksum for /home/freakcoco/.cpan/sources/authors/id/F/FR/FROGGS/Alien-SDL-1.446.tar.gz ok\n 5 Configuring F/FR/FROGGS/Alien-SDL-1.446.tar.gz with Build.PL\n 6 Welcome to Alien::SDL module installation\n 7 -----------------------------------------\n 8 checking operating system... linux\n 9 checking for cc... yes\n10 checking build system type... x86_64-linux-gnu-thread-multi\n11 checking platform specific module... using 'My::Builder::Unix'\n12 Warning: No success on command[/usr/bin/perl Build.PL --installdirs site]\n13   FROGGS/Alien-SDL-1.446.tar.gz\n14   /usr/bin/perl Build.PL --installdirs site -- NOT OK\n</code></pre>\n\n<p>stderr2.txt:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> 1 Unknown option: installdirs\n 2 Too early to specify a build action 'site'.  Do 'Build site' instead.\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1441422212, "post_id": 32409018, "comment_id": 52686042, "body": "sorry, one small change. directory structure is &#39;/tmp/dirx&#39;, &#39;/tmp/temp_dir&#39;, &#39;/tmp/testdir&#39;, &#39;/tmp/nextdir&#39;  like this. if its not  ending with &#39;/tmp/dir1..5&#39;, how to change ?.  I&#39;ve edited the original question. thanks ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1441473737, "post_id": 32409018, "comment_id": 52698186, "body": "I suspect the OP was asking for a way to avoid enumerating the subdirectories of <code>&#47;tmp</code>. As far as I can tell, your solution does exactly the same as the OP&#39;s code, but the abstraction of part of the process into a subrouitine has made it less clear"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1441422376, "last_edit_date": 1441422376, "creation_date": 1441421195, "answer_id": 32409018, "question_id": 32408889, "link": "https://stackoverflow.com/questions/32408889/how-to-perl-process-and-push-multiple-directories-using-simple-code/32409018#32409018", "title": "How to perl process and push multiple directories using simple code", "body": "<p>Use a subroutine:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse File::Find::Rule;\n\nmy @dirnames = qw( dirx temp_dir testdir nextdir );\nmy @dirs_to_search = map { \"/tmp/$_\" } @dirnames;\nmy @files;\nfor my $dir (@dirs_to_search) {\n    push @files, find_files_in_dir($dir);\n}\n\nsub find_files_in_dir {\n    my ($dir) = @_;    \n    my @subdirs = File::Find::Rule-&gt;directory-&gt;in( $dir );    \n    my @txt_files;\n    for my $subdir ( @subdirs ) {\n        push @txt_files, sort glob \"$subdir/*.txt\";\n    }\n    return @txt_files;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1441472327, "creation_date": 1441472327, "answer_id": 32415585, "question_id": 32408889, "link": "https://stackoverflow.com/questions/32408889/how-to-perl-process-and-push-multiple-directories-using-simple-code/32415585#32415585", "title": "How to perl process and push multiple directories using simple code", "body": "<p>It sounds like you want a list of all <code>*.txt</code> files contained in <code>/tmp</code> child directories and their descendants</p>\n\n<p>That's easily done with a single <code>glob</code> call, like this</p>\n\n<pre><code>my @files = glob '/tmp/**/*.txt'\n</code></pre>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 32409018, "answer_count": 2, "score": 0, "last_activity_date": 1441472327, "creation_date": 1441419356, "last_edit_date": 1441422288, "question_id": 32408889, "link": "https://stackoverflow.com/questions/32408889/how-to-perl-process-and-push-multiple-directories-using-simple-code", "title": "How to perl process and push multiple directories using simple code", "body": "<p>I am trying to get all sub directories and files inside 'dir1, dir2, dir3,dir4,dir5' like below and push it to another Dir. if I using this code I am getting everything. however, I need to process more directories like this. is there simple way to process all these 'dir1 to ... dirx' using simple code instead of assign each directories individually  below. Thanks in Advance   </p>\n\n<pre><code>use File::Find::Rule;\nmy @pushdir;\nmy @pushdir1 = File::Find::Rule-&gt;directory-&gt;in('/tmp/dirx');\nmy @pushdir2 = File::Find::Rule-&gt;directory-&gt;in('/tmp/nextdir');\nmy @pushdir3 = File::Find::Rule-&gt;directory-&gt;in('/tmp/pushdir');\nmy @pushdir4 = File::Find::Rule-&gt;directory-&gt;in('/tmp/logdir');\nmy @pushdir5 = File::Find::Rule-&gt;directory-&gt;in('/tmp/testdir');\n\npush @pushdir, @pushdir1,@pushdir2,@pushdir3,@pushdir4,@pushdir5;\n\nmy @Files;\nforeach my $dir (@pushdir) {\n    push @Files, sort glob \"$dir/*.txt\";\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl", "subset"], "comments": [{"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1441410559, "post_id": 32407976, "comment_id": 52684099, "body": "<code>splice @a, 1, -3</code> does return <code>(34, 67)</code> in that array, the problem is somewhere else in the counters, not the <code>splice</code>. The code is working, doing what you told to do :-) question: do you want the <code>1, -3</code> to be achieved in the first iteration?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1441411237, "post_id": 32407976, "comment_id": 52684228, "body": "cross-post at <a href=\"http://perlmonks.org/?node_id=1141079\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1141079</a>"}, {"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "reply_to_user": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1441411369, "post_id": 32407976, "comment_id": 52684266, "body": "@sidyll No, I don&#39;t want it to be achieved in the first iteration, but I just don&#39;t understand how is it possible that the for loop doesn&#39;t return this sub-set of the initial array when it should."}], "answers": [{"comments": [{"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1441411954, "post_id": 32408068, "comment_id": 52684378, "body": "@g_puffo well, I executed your code and I see that before reaching the <code>1, -3</code> the arguments pass by <code>1, -4</code>. This removes the 34 from the array. As ysth said here, don&#39;t forget that <code>splice</code> removes the elements. And in your loop when reaching <code>1, -3</code> the list is already different. In list context <code>splice</code> also returns the removed elements, so this might be confusing you?"}, {"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1441412476, "post_id": 32408068, "comment_id": 52684469, "body": "But even if I use <code>my @worker = @a[$max..$second_counter];</code> instead of <code>splice</code> the code still doesn&#39;t return the correct subset when its time comes in the for loop. I wasn&#39;t aware that by using <code>splice</code> on <code>@a</code> I was actually changing the original array."}, {"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "reply_to_user": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1441462802, "post_id": 32408068, "comment_id": 52695136, "body": "@g_puffo The arguments to <code>splice</code> don&#39;t work the same way in an array slice. Check your math! And look at the help for array slices. Note that ysth also changed the <code>$second_counter</code> code"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1441410547, "creation_date": 1441410547, "answer_id": 32408068, "question_id": 32407976, "link": "https://stackoverflow.com/questions/32407976/sub-setting-an-array/32408068#32408068", "title": "Sub-setting an Array", "body": "<p>Splice removes (or replaces) what's in the array; it sounds to me like you just want to use a slice:</p>\n\n<pre><code>my $second_counter = $counter - 1;\nmy @worker = @a[$max..$second_counter];\n</code></pre>\n\n<p>but it isn't really clear to me that you are doing what you think you are with $second_counter.</p>\n"}], "owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 32408068, "answer_count": 1, "score": 1, "last_activity_date": 1441410547, "creation_date": 1441409710, "question_id": 32407976, "link": "https://stackoverflow.com/questions/32407976/sub-setting-an-array", "title": "Sub-setting an Array", "body": "<p>I'm trying to use <code>splice</code> to obtain an array that is the subset of another array but something isn't working. The following code, returns a value of <code>67</code> for the pair of arguments of <code>splice (1, -3)</code> rather than the array <code>34 67</code>. Why?</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy @a = (99999, 34,67,976,432,99999);\nmy $length = scalar(@a);\n\nfor ($counter = 0; $counter&lt;=$length; $counter++){\n    my $max = max(-3 + $counter, 1);\n    print \"$max\\n\";\n    my $second_counter = -($length - $counter);\n    print \"$second_counter\\n\";\n    my @worker = splice @a, $max, $second_counter;\n    print \"@worker\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "scp"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1441405666, "post_id": 32407219, "comment_id": 52682967, "body": "What is the return value of <code>$scp-&gt;scp(...)</code>? What is the value of <code>$scp-&gt;{errstr}</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1441404991, "post_id": 32407250, "comment_id": 52682727, "body": "Sure it did, it just hasn&#39;t helped enough to be noticeable yet :-)"}, {"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1441405447, "post_id": 32407250, "comment_id": 52682878, "body": "Updated the script in my question to remove the extra constructor."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1441404548, "creation_date": 1441404548, "answer_id": 32407250, "question_id": 32407219, "link": "https://stackoverflow.com/questions/32407219/perl-scp-a-file-from-windows-to-linux/32407250#32407250", "title": "Perl scp a file from windows to Linux", "body": "<pre><code>$scp = Net::SCP-&gt;new( \"$ip\", \"$user\" ) or die \"cannot scp $!\";\n$scp = new Net::SCP;\n</code></pre>\n\n<p>calls the <code>Net::SCP</code> constructor twice. The second time, it calls it without a hostname or userid, does not check the return value, and overwrites your previous, correct-looking call. Delete the second of these lines.</p>\n"}, {"comments": [{"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1441729037, "post_id": 32410441, "comment_id": 52787217, "body": "yes, stupid me, thanks, that help identifying the problem, I get the the error message printed now <code>scp failed: &#39;scp&#39; is not recognized as an internal or external command</code>, As kenster mentioned, its trying to invoke the local scp command, I thought its going to use Perl&#39;s and I don&#39;t need to install scp on my local PC."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "reply_to_user": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1441732685, "post_id": 32410441, "comment_id": 52789178, "body": "Seeing the error message is almost always progress. :)"}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": false, "score": 0, "last_activity_date": 1441436939, "last_edit_date": 1441436939, "creation_date": 1441436606, "answer_id": 32410441, "question_id": 32407219, "link": "https://stackoverflow.com/questions/32407219/perl-scp-a-file-from-windows-to-linux/32410441#32410441", "title": "Perl scp a file from windows to Linux", "body": "<p>You are testing for success in calling the <code>scp</code> object's constructor, but you aren't testing for success in actually performing an <code>scp</code> action.</p>\n\n<p>This line could be improved upon:</p>\n\n<pre><code>$scp-&gt;scp($source, $destination);\n</code></pre>\n\n<p>The documentation for the module states that <code>scp</code> returns false on failure, and sets the <code>errstr</code> attribute.  So you could change that line as follows:</p>\n\n<pre><code>$scp-&gt;scp($source, $destination) or die 'scp failed: ', $scp-&gt;{errstr};\n</code></pre>\n\n<p>By so doing, you should get useful diagnostic information, which is the only way to really know what has to happen to fix the problem.</p>\n\n<p>Also, unrelated to your problem but worth mentioning:  <code>use Net::SCP qw(scp);</code> is wrong because it's importing the <code>scp</code> function into your calling namespace.  The reason this is wrong is that you are using the object-oriented \"method call\" invocation of <code>scp</code> (in other words, <code>$scp-&gt;scp(...)</code>.  The method call means of invoking <code>scp</code> doesn't require anything be imported into your calling namespace.</p>\n"}, {"comments": [{"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1441729277, "post_id": 32417420, "comment_id": 52787369, "body": "Thanks Kenster, the error is <code>&#39;scp&#39; is not recognized as an internal or external command</code>, should I install scp program on my local PC ?"}, {"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "reply_to_user": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1441730143, "post_id": 32417420, "comment_id": 52787801, "body": "Yes, you&#39;ll need to have a copy of the &quot;scp&quot; command-line utility installed and available in your command path."}], "tags": [], "owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "is_accepted": true, "score": 0, "last_activity_date": 1441485541, "last_edit_date": 1441485541, "creation_date": 1441485157, "answer_id": 32417420, "question_id": 32407219, "link": "https://stackoverflow.com/questions/32407219/perl-scp-a-file-from-windows-to-linux/32417420#32417420", "title": "Perl scp a file from windows to Linux", "body": "<p>The <a href=\"http://search.cpan.org/~ivan/Net-SCP-0.08/SCP.pm\" rel=\"nofollow\">Net::SCP documentation</a> has two examples of how to call <code>scp()</code>:</p>\n\n<pre><code>use Net::SCP qw(scp iscp);\nscp($source, $destination);\n\n$scp = new Net::SCP;\n$scp-&gt;scp($source, $destination);\n</code></pre>\n\n<p>You'll note that neither version shows how to specify the hostname, username, or password, or whether the copy operation is local-to-remote or remote-to-local.</p>\n\n<p>The fact is that the Net::SCP documentation doesn't do a very good job of describing how to use scp(). Looking at the <a href=\"http://cpansearch.perl.org/src/IVAN/Net-SCP-0.08/SCP.pm\" rel=\"nofollow\">source code for the module</a> reveals that:</p>\n\n<ol>\n<li>The <code>scp()</code> subroutine doesn't make use of any of the values passed to the Net::SCP constructor.</li>\n<li>scp() invokes the <code>scp</code> command-line utility, passing the source and destination arguments to that program <em>verbatim</em>.</li>\n</ol>\n\n<p>So, the correct way to specify hostname, username, password, and the copy direction is the same way as for <a href=\"http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/scp.1?query=scp&amp;sec=1\" rel=\"nofollow\">the scp command line utility</a>. Your <code>$source</code> and <code>$destination</code> values have to follow the general form accepted by the <code>scp</code> program. Assuming you're trying to do a local-to-remote transfer, you should try something like this:</p>\n\n<pre><code>$source = 'c:\\temp\\a.txt';\n$destination = \"${user}\\@${ip}:/tmp\";\n$scp = new Net::SCP;\n$scp-&gt;scp($source, $destination);\n</code></pre>\n\n<p>This produces a destination with of the form \"user@1.2.3.4:/tmp\", which is the form accepted by the <code>scp</code> program.</p>\n\n<p>If you're trying to do a remote-to-local copy, then the \"${user}\\@${ip}:\" string should be prepended to $source rather than $destination. Note the \"@\" is preceded by a backslash here because it's special in double-quoted strings.</p>\n\n<p>As an aside, if you invoke the <code>scp</code> program with two local pathnames, it calls the system's file-copy utility to do a local copy operation. So you've probably copied your source filename to C:\\tmp or a similar place on your local system.</p>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1367, "favorite_count": 0, "accepted_answer_id": 32417420, "answer_count": 3, "score": 0, "last_activity_date": 1441485541, "creation_date": 1441404286, "last_edit_date": 1441405406, "question_id": 32407219, "link": "https://stackoverflow.com/questions/32407219/perl-scp-a-file-from-windows-to-linux", "title": "Perl scp a file from windows to Linux", "body": "<p>This Perl script run on Windows, I am trying to scp a file from local machine to a Linux machine, it doesn't print any error but don't copy the file.</p>\n\n<pre><code>use Net::SCP qw(scp);\n$source = 'c:\\temp\\a.txt';\n$destination = '/tmp';\n$scp = Net::SCP-&gt;new( \"$ip\", \"$user\" ) or die \"cannot scp $!\";\nprint \"scp $source $destination\";\n$scp-&gt;scp($source, $destination);\n</code></pre>\n"}, {"tags": ["sql-server", "perl", "dbi"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1441403129, "post_id": 32406877, "comment_id": 52682146, "body": "Sounds similar to <a href=\"http://stackoverflow.com/questions/32354957\">this question</a> from a couple of days ago. The problem was whitespace between the parts of the DSN. Also, canonical <code>DBI-&gt;connect</code> call has the userid and password as separate arguments."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1441403651, "post_id": 32406877, "comment_id": 52682305, "body": "@mob As I <a href=\"http://stackoverflow.com/questions/32354957/perl-dbi-remote-connection#comment52586921_32354957\">commented</a> on that question, I highly doubt whitespace in the DSN was a problem, and the OP never clarified what they changed to make it work. That was a different driver, though, so who knows."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441428499, "post_id": 32406877, "comment_id": 52686977, "body": "Are named pipes and TCP/IP <a href=\"https://msdn.microsoft.com/en-us/library/ms181035.aspx\" rel=\"nofollow noreferrer\">enabled as protocols</a> on the server? Do you happen to have the SQL Server Native Client ODBC driver installed? That&#39;s what we use at <code>$work</code>, and I&#39;ve not seen this error message before."}, {"owner": {"reputation": 419, "user_id": 3490987, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/067279054a9ce6d87b0401b1416b35c6?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/3490987/scott"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1441545209, "post_id": 32406877, "comment_id": 52713225, "body": "@mob I tried changing to this:        my $dsn = &quot;dbi:ODBC:Driver={SQL Server};Server=$host_name;Database=$db_name&quot;;    my $dbh = DBI-&gt;connect($dsn, $user_name, $password, { RaiseError =&gt; 1 });  And I got the same error."}], "owner": {"reputation": 419, "user_id": 3490987, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/067279054a9ce6d87b0401b1416b35c6?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/3490987/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 537, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1441402483, "creation_date": 1441402324, "last_edit_date": 1441402483, "question_id": 32406877, "link": "https://stackoverflow.com/questions/32406877/getting-invalid-connection-with-perl-and-dbi", "title": "Getting invalid connection with Perl and DBI", "body": "<p>I am trying to connect to MS SQL Server with Perl with the following code:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(\"dbi:ODBC:Driver={SQL Server}; \n                         Server=$host_name; \n                         UID=$user_name;\n                         PWD=$password\") || \ndie \"Cannot connect to $host_name $user_name: $DBI::errstr\";\n</code></pre>\n\n<p>After 15 seconds it comes back with:</p>\n\n<blockquote>\n  <p>DBI connect('Driver={SQL Server}; Server=myserver.mydomain.org; UID=username; PWD=passwd','',...) failed: [Microsoft][ODBC SQL Server Driver][DBNETLIB]Invalid connection. (SQL-08001) [state was 08001 now 01000]\n  [Microsoft][ODBC SQL Server Driver][DBNETLIB]ConnectionOpen (Invalid Instance()). (SQL-01000) at ./copy_hp_data.pl line 81.</p>\n</blockquote>\n\n<p>I can connect to this server fine though SSMS, and I added the hostname to the ODBC data sources (32/64 bit ODBC Drive 11 for SQL Server).</p>\n\n<p>I searched the archives and tried many of the solutions but am at a loss.  Any suggestions would be greatly appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1441396744, "post_id": 32405659, "comment_id": 52679656, "body": "You need to count the number of letters in the word, or you need to count the number of <code>h</code>s in the word?"}], "answers": [{"tags": [], "owner": {"reputation": 2773, "user_id": 3220769, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/36f8c4918c0be6de21e7f0f9c5a67068?s=128&d=identicon&r=PG&f=1", "display_name": "TomNash", "link": "https://stackoverflow.com/users/3220769/tomnash"}, "is_accepted": false, "score": 3, "last_activity_date": 1441396665, "creation_date": 1441396665, "answer_id": 32405678, "question_id": 32405659, "link": "https://stackoverflow.com/questions/32405659/how-can-i-split-a-word-into-its-component-letters/32405678#32405678", "title": "How can I split a word into its component letters?", "body": "<p>Try using this code, found here: <a href=\"http://www.comp.leeds.ac.uk/Perl/split.html\" rel=\"nofollow\">http://www.comp.leeds.ac.uk/Perl/split.html</a></p>\n\n<p><code>@chars = split(//, $word);</code></p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 7, "last_activity_date": 1441397026, "last_edit_date": 1441397026, "creation_date": 1441396708, "answer_id": 32405695, "question_id": 32405659, "link": "https://stackoverflow.com/questions/32405659/how-can-i-split-a-word-into-its-component-letters/32405695#32405695", "title": "How can I split a word into its component letters?", "body": "<p>To count how many times letter occurred in a string,</p>\n\n<pre><code>print \"helloword\" =~ tr/h//; # for 'h' letter\n</code></pre>\n\n<p>otherwise you can split string and assign list to an array,</p>\n\n<pre><code>my @example2 = split //, $example[0];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1441400475, "post_id": 32405981, "comment_id": 52681235, "body": "Did you happen to <code>Benchmark</code> the two? I did, and <code>split</code> turned out to be significantly more efficient. Perhaps <code>unpack</code> alone is faster, but that alone doesn&#39;t give the OP what is needed."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1441401518, "post_id": 32405981, "comment_id": 52681595, "body": "I concur with @stevieb&#39;s benchmark, with the addition that code clarity is usually more important than performance anyway. (On my humble VM, both <code>split</code> and <code>unpack</code> can split a 10,000-character string hundreds of times per second.) Also, <code>map</code> in void context is usually clearer as a <code>for</code> loop."}, {"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "edited": false, "score": 1, "creation_date": 1441402558, "post_id": 32405981, "comment_id": 52681934, "body": "I&#39;ve benchmarked unpack versus split in other contexts with long DNA strings and unpack was faster, so it could depend on string length. But we don&#39;t know if the OP is dealing with huge strings or not. All we got was the helloworld example. So it&#39;s still a valid suggestion with that caveat. I&#39;ll concede that split is definitely more readable, which is the main reason unpack has fallen into disfavor. Why doesn&#39;t my suggestion give the OP what is needed?"}, {"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "edited": false, "score": 1, "creation_date": 1441402950, "post_id": 32405981, "comment_id": 52682072, "body": "I think I see what you mean about giving the OP what they want. The question is unclear. I interpreted it to mean the total number of letters in the word as opposed to the number of h&#39;s, e&#39;s, etc.."}], "tags": [], "owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "is_accepted": false, "score": 0, "last_activity_date": 1441403588, "last_edit_date": 1441403588, "creation_date": 1441397960, "answer_id": 32405981, "question_id": 32405659, "link": "https://stackoverflow.com/questions/32405659/how-can-i-split-a-word-into-its-component-letters/32405981#32405981", "title": "How can I split a word into its component letters?", "body": "<p>You can of course use <code>split(//,\"helloworld\")</code>, but that's not as efficient as unpack. Figuring out the template to provide to unpack can be somewhat steep, but this should work for you: <code>unpack('(A)*',\"helloworld\")</code>. For example:</p>\n\n<pre><code>perl -e 'print(join(\"\\n\",unpack(\"(A)*\",\"helloworld\")),\"\\n\")'\nh\ne\nl\nl\no\nw\no\nr\nl\nd\n</code></pre>\n\n<p>To count the number of letters, you could either assume that every character of a \"word\" you split the string up into is a letter and simply evaluate the list in scalar context (or use 'length'), e.g. <code>print(scalar(@letters),\"\\n\");</code> or <code>print(length(@letters),\"\\n\")</code>, OR you could create a count variable and increment it in a map when a letter pattern is matched, e.g.:</p>\n\n<pre><code>my $cnt = 0;\nforeach(@chars){$cnt++ if(/\\w/)}\nprint(\"$cnt\\n\");\n</code></pre>\n\n<p>Or you can use the same evaluation of a list in scalar trick with a grep:</p>\n\n<pre><code>print(scalar(grep {/\\w/} @chars),\"\\n\");\n</code></pre>\n\n<p>There are of course, in perl, other ways to do it.</p>\n\n<p>EDIT: In case I misinterpreted the question, and you want to know how many of each letter there is in the string, then this should suffice:</p>\n\n<pre><code>$cnt = 0;\nforeach(unpack(\"(A)*\",\"helloworld\")))\n  {\n    next unless(/\\w/);\n    $hash-&gt;{$_}-&gt;{ORD} = $cnt++ unless(exists($hash-&gt;{$_}));\n    $hash-&gt;{$_}-&gt;{CNT}++;\n  }\n\nforeach(sort {$hash-&gt;{$a}-&gt;{ORD} &lt;=&gt; $hash-&gt;{$b}-&gt;{ORD}}\n        keys(%$hash))\n  {print(\"$_\\t$hash-&gt;{$_}-&gt;{CNT}\\n\")}\n</code></pre>\n\n<p>This solution has the advantage of keeping the unique letters in the order of their first occurrence in the word they were found in.</p>\n"}, {"comments": [{"owner": {"reputation": 717, "user_id": 7785387, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eY4ka.jpg?s=128&g=1", "display_name": "tavalendo", "link": "https://stackoverflow.com/users/7785387/tavalendo"}, "edited": false, "score": 0, "creation_date": 1539449764, "post_id": 32406654, "comment_id": 92510598, "body": "can you explain this line: $letters{$_}++ for split //, $array[0];"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 4, "last_activity_date": 1441401730, "last_edit_date": 1441401730, "creation_date": 1441401058, "answer_id": 32406654, "question_id": 32405659, "link": "https://stackoverflow.com/questions/32405659/how-can-i-split-a-word-into-its-component-letters/32406654#32406654", "title": "How can I split a word into its component letters?", "body": "<p>I don't completely grasp exactly what you need to count, but perhaps you can take pieces from this example, which uses a hash to store the letters and counts of each...</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @array = 'helloworld';\n\nmy %letters;\n$letters{$_}++ for split //, $array[0];\n\nmy $total;\n\nwhile (my ($k, $v) = each %letters){\n    $total += $v;\n    print \"$k: $v\\n\";\n}\nprint \"Total letters in string: $total\\n\",\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    w: 1\n    d: 1\n    l: 3\n    o: 2\n    e: 1\n    r: 1\n    h: 1\n    Total letters in string: 10\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 5302107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/778e30389437ddb701d5d5a55a78defe?s=128&d=identicon&r=PG&f=1", "display_name": "Mia Lua", "link": "https://stackoverflow.com/users/5302107/mia-lua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2773, "favorite_count": 0, "accepted_answer_id": 32405695, "answer_count": 4, "score": 4, "last_activity_date": 1441403588, "creation_date": 1441396555, "last_edit_date": 1441396686, "question_id": 32405659, "link": "https://stackoverflow.com/questions/32405659/how-can-i-split-a-word-into-its-component-letters", "title": "How can I split a word into its component letters?", "body": "<p>I am working with Perl and I have an array with only one word:</p>\n\n<pre><code>@example = (\"helloword\")\n</code></pre>\n\n<p>I want to generate another array in which each element is a letter from the word:</p>\n\n<pre><code>@example2 = (\"h\", \"e\", \"l\"...)\n</code></pre>\n\n<p>I need to do that because I need to count the numbers of \"h\", \"e\"... How can I do this?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1441437779, "post_id": 32405606, "comment_id": 52688747, "body": "Thank you the explanation. I was trying to write the code, still learning. Your explanation is really useful. I will work on it."}], "tags": [], "owner": {"reputation": 154, "user_id": 1610511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dad3f964c9fb2be8bb7f2f2d2cef4dd?s=128&d=identicon&r=PG", "display_name": "Edward Kirton", "link": "https://stackoverflow.com/users/1610511/edward-kirton"}, "is_accepted": true, "score": 1, "last_activity_date": 1441396355, "creation_date": 1441396355, "answer_id": 32405606, "question_id": 32404125, "link": "https://stackoverflow.com/questions/32404125/print-the-matched-string-using-perl/32405606#32405606", "title": "Print the matched string using perl", "body": "<p>Your code doesn't show the loop where you retrieve $line from the file but it looks like you're trying to use a nested approach, in which case you're missing another such  loop.  That would work if each record ends in \"data reached\", but that's not consistently present in your example data.  However a nested loop isn't necessary in this case nor does it add to readability, so just use a single loop as shown below.</p>\n\n<p>First, a few comments:</p>\n\n<ul>\n<li><p>You don't need the m// for your regex as // will suffice since it's not a multi-line match. </p></li>\n<li><p>You should use an ^ anchor not only for accuracy but speed.  </p></li>\n<li><p>You can retrieve the name from the regex without the split line you have by using the special match variables e.g. $1 as shown below.</p></li>\n<li><p>I didn't use $line in my code below, just the assumed $_ var, which is common perl style.  Since it's assumed, it wasn't written in the code.</p></li>\n<li><p>If you don't chomp the line, you don't need to add a newline when printing.</p></li>\n</ul>\n\n<p>Here's your code, with the input loop shown, modified to work. I used $name in two conditionals below, which is equivalent to checking if it is both defined and not empty.</p>\n\n<pre><code>my $name;\nwhile (&lt;$in&gt;)\n{\n    if (/^ETN:\\s+(\\S+)/) { $name = $1 }\n    elsif ( $name and /^\\s+$name/) { print }\n}  \n$name or warn(\"No ETN records found\\n\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1441437832, "post_id": 32408545, "comment_id": 52688759, "body": "Thank you. I will try this approach"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1441506988, "post_id": 32408545, "comment_id": 52704945, "body": "You only have one capturing group, so <code>$2</code> won&#39;t be set. But if you already have the variables <code>$name1</code> and <code>$name2</code>, there&#39;s no need to capture them in the first place."}], "tags": [], "owner": {"reputation": 9, "user_id": 5302606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c5f145df159a81e833c40a3e8e72f5?s=128&d=identicon&r=PG", "display_name": "user5302606", "link": "https://stackoverflow.com/users/5302606/user5302606"}, "is_accepted": false, "score": -1, "last_activity_date": 1441506624, "last_edit_date": 1441506624, "creation_date": 1441415300, "answer_id": 32408545, "question_id": 32404125, "link": "https://stackoverflow.com/questions/32404125/print-the-matched-string-using-perl/32408545#32408545", "title": "Print the matched string using perl", "body": "<p>You can use a simple regex for this. Try the following code: </p>\n\n<pre><code>if ($inputstring =~ m/ENT:.*?($name1/$name2)ZN/) {\n    print \"$1\\t$2\"\n}\n</code></pre>\n\n<p><code>$name1</code> and <code>$name2</code> will be the strings to match. This will print:</p>\n\n<pre><code>name1 tab name2\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 32405606, "answer_count": 2, "score": -1, "last_activity_date": 1441506624, "creation_date": 1441390023, "question_id": 32404125, "link": "https://stackoverflow.com/questions/32404125/print-the-matched-string-using-perl", "title": "Print the matched string using perl", "body": "<p>I want to match the string which is followed by \" ETN : \" i.e.,  (name1/name2 )   first  and after I match it, I want to print the first occurrence of it before the string \"data reached\"   </p>\n\n<pre><code>ETN: name1/name2  \n\n   abchsfk/jshflka/ZN                       (cellLVT)\n\n   asjkfsa/sfklfkshfsf/Z                    (mobSVT)\n\n   asjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\n\n   asjhdjs/jhskjds/ZN                       (abcSVT)\n\n   shdsjk/jhskd/ZN                          (xyzSVT)\n\n   name1/name2/ZN                 (abcLVT)    \n\n   data reached\n\n\n\n   asjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\n\n   asjkfsa/sfklfkshfsf/Z                    (mobSVT)\n\n   shdsjk/jhskd/ZN                          (xyzSVT)\n\n   asjhdjs/jhskjds/ZN                       (abcSVT)\n\n   shdsjk/jhskd/ZN                          (xyzSVT)\n\n   name1/name2/ZN                  (abcLVT)\n\nETN: name3/name4  \n\n   abchsfk/jshflka/ZN                       (cellLVT)\n\n   asjkfsa/sfklfkshfsf/Z                    (mobSVT)\n\n   asjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\n\n   asjhdjs/jhskjds/ZN                       (abcSVT)\n\n   shdsjk/jhskd/ZN                          (xyzSVT)\n\n   name3/name4/ZN                 (fhLVT)    \n\n   data reached\n\n\n\n   asjhfdjkfd/sjfdskjfhdk/hsakfshf/Z        (celLVT)\n\n   asjkfsa/sfklfkshfsf/Z                    (mobSVT)\n\n   shdsjk/jhskd/ZN                          (xyzSVT)\n\n   asjhdjs/jhskjds/ZN                       (abcSVT)\n\n   shdsjk/jhskd/ZN                          (xyzSVT)\n\n   name3/name4/ZN                  (fhLVT)\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>name1/name2/ZN                  (abcLVT)\n\nname3/name4/ZN                 (fhLVT)\n</code></pre>\n\n<p>CODE:</p>\n\n<p>I tried to march the string first with ETN and tried to print it. </p>\n\n<pre><code>if ($line =~ m/ETN: /)\n\n        { \n    my @names = split / /, $line;\n\n    $a = $names[3];\n\n        if ($line =~ m /$a  /)\n\n        { \n            print \" $line \\n\" ; \n        }       \n\n    }\n</code></pre>\n"}, {"tags": ["perl", "file-handling", "flock"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 5, "creation_date": 1441384333, "post_id": 32402681, "comment_id": 52673691, "body": "Don&#39;t use a bare-string file name; enclose it in quotes.  Do use <code>use warnings;</code> and <code>use strict;</code> which would have told you to do that."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441385278, "post_id": 32402681, "comment_id": 52674173, "body": "Is that really the code you&#39;re running? You should be getting a syntax error."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441385463, "post_id": 32402681, "comment_id": 52674255, "body": "@ThisSuitIsBlackNot- i commented out use strict. thats y it didnt give me any errors for the above code i posted."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1441385613, "post_id": 32402681, "comment_id": 52674326, "body": "Commenting out <code>strict</code> is amazing, almost like logging your errors to /dev/null."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1441385628, "post_id": 32402681, "comment_id": 52674334, "body": "Even without strict, the missing semicolon in <code>$filename= dsfs.com&#47;folder1&#47;test.txt</code> will give a syntax error. Please don&#39;t comment out <code>use strict;</code> when you get an error, and please only copy-and-paste the exact code you&#39;re running when you ask a question on Stack Overflow."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441385782, "post_id": 32402681, "comment_id": 52674426, "body": "@ThisSuitIsBlackNot- i edited the post. semicolon is there in my code. i did a typo here. i will make sure to use strict and see the errors i get from it"}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441385826, "post_id": 32402681, "comment_id": 52674444, "body": "@\u0421\u0443\u0445\u043e\u043927- :( i will use strict now and update the post with the errors i get."}], "answers": [{"comments": [{"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441384898, "post_id": 32402724, "comment_id": 52673972, "body": "@sobrique - it didnt work yet. if i use the above answer, how is it suppose to respond ? will it not let the user open the file itself or will it notify user that the file is in use when he tried to open it ? or it wont let the user make changes. i tried but i am still able to make changes and save it. Please note: i am using a .txt extension. I suppose there should be a different procedure to lock a .txt file and a .csv file"}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1441384971, "post_id": 32402724, "comment_id": 52674010, "body": "@ThisSuitIsBlackNot- Exactly my concern now. my filename contains the fqdn in it. will tat make a difference ?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1441384283, "creation_date": 1441384283, "answer_id": 32402724, "question_id": 32402681, "link": "https://stackoverflow.com/questions/32402681/flock-in-perl-doesnt-work/32402724#32402724", "title": "Flock in Perl doesnt work", "body": "<p>There's two problems:</p>\n\n<ul>\n<li><code>flock</code> will block until it can lock. You therefore need <code>flock ( $file, LOCK_EX | LOCK_NB ) or die $!;</code></li>\n<li><code>flock</code> (on Unix) is advisory. It won't stop them accessing it unless they also check for a lock. </li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1441385290, "post_id": 32402891, "comment_id": 52674178, "body": "Or opening in rw mode <code>+&gt;&gt;</code> and a lot of seeking."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1441384907, "creation_date": 1441384907, "answer_id": 32402891, "question_id": 32402681, "link": "https://stackoverflow.com/questions/32402681/flock-in-perl-doesnt-work/32402891#32402891", "title": "Flock in Perl doesnt work", "body": "<p>There's another problem if your <code>flock</code> implementation is based on <code>lockf(3)</code> or <code>fcntl(2)</code>, which it probably is. Namely, <code>LOCK_EX</code> should be used with \"write intent\", on a file opened for output.</p>\n\n<p>For <code>lockf(3)</code>, <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#flock-FILEHANDLE-OPERATION\" rel=\"nofollow\"><code>perldoc -f flock</code></a> says</p>\n\n<blockquote>\n  <p>Note that the emulation built with lockf(3) doesn't provide shared locks, and it requires that FILEHANDLE be open with write intent.</p>\n</blockquote>\n\n<p>and for <code>fcntl(2)</code>:</p>\n\n<blockquote>\n  <p>Note that the fcntl(2) emulation of flock(3) requires that FILEHANDLE be open with read intent to use LOCK_SH and requires that it be open with write intent to use LOCK_EX.</p>\n</blockquote>\n\n<p>A workaround for input files or for more complicated synchronized operations is for all processes to sync on a trivial lock file, like:</p>\n\n<pre><code>open my $lock, '&gt;&gt;', \"$filename.lock\";\nflock $lock, LOCK_EX;\n\n# can't get here until our process has the lock ...\nopen(my $fh, '&lt;', $filename) or die $!;     #file open\n... read file, manipulate ...\nclose $fh;\nopen my $fh2, '&gt;', $filename;\n... rewrite file ...\nclose $fh2;\n\n# done with this operation, can release the lock and let another\n# process access the file\nclose $lock;\n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1229, "favorite_count": 0, "accepted_answer_id": 32402891, "answer_count": 2, "score": 0, "last_activity_date": 1441385731, "creation_date": 1441384123, "last_edit_date": 1495542780, "question_id": 32402681, "link": "https://stackoverflow.com/questions/32402681/flock-in-perl-doesnt-work", "title": "Flock in Perl doesnt work", "body": "<p>I have a Perl file. The user opens a file, reads data and displays the data in grid. user edits it and saves it back to the file. </p>\n\n<p>I am trying to use flock so that when the user reads the file, the file gets locked. I tried below code but it didnt work.</p>\n\n<p>Referring to the accepted answer of this post. <a href=\"https://stackoverflow.com/questions/34920/how-do-i-lock-a-file-in-perl\">How do I lock a file in Perl?</a></p>\n\n<pre><code>use Fcntl ':flock';                         #added this at the start\n$filename= dsfs.com/folder1/test.txt;        #location of my file\n\nopen(my $fh, '&lt;', $filename) or die $!;     #file open\nflock($fh, LOCK_EX) or die \"Could not lock '$file' - $!\"; #inserted flock before reading starts so that no other user can use this file\n#reading of file starts here\n#once read, user saves file. \n\nclose($fh) or die \"Could not write '$file' - $!\"; #release lock after user writes. \n</code></pre>\n\n<p>I guess this is a normal operation without any race around conditions but this doesnot work for me.I am not sure if the perl script is able to detect flock or not. </p>\n\n<p>For testing purposes, i try to open the file before my writing and saving function gets completed. when i try to open the same file before saving gets completed, it means that the lock is not released yet. in this situation if i open the file at backend and edit the file, i am still able to save changes. In practical case, it should not be able to edit anything once the file is locked. </p>\n\n<p>can anyone please suggest me any troubleshooting for this or is my procedure of using flock incorrect ??</p>\n"}, {"tags": ["c++", "perl"], "comments": [{"owner": {"reputation": 81, "user_id": 1312284, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a6d39a4e30c3609d13e4f055e96af902?s=128&d=identicon&r=PG", "display_name": "tge", "link": "https://stackoverflow.com/users/1312284/tge"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441383916, "post_id": 32401918, "comment_id": 52673503, "body": "See above, actually there is a bit more which actually gets and prints scriptOutput ... Maybe the interesting question is, under which circumstances might that open(SCRIPTOUTPUT) fail???"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 1312284, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a6d39a4e30c3609d13e4f055e96af902?s=128&d=identicon&r=PG", "display_name": "tge", "link": "https://stackoverflow.com/users/1312284/tge"}, "is_accepted": true, "score": 1, "last_activity_date": 1441743991, "creation_date": 1441743991, "answer_id": 32466644, "question_id": 32401918, "link": "https://stackoverflow.com/questions/32401918/perl-capture-stdout-of-embedded-script-fails-if-in-dlopen-loaded-shared-lib/32466644#32466644", "title": "Perl capture stdout of embedded script, fails if in dlopen-loaded shared lib", "body": "<p>I spent quite a while looking closer into this and finally found the problem:</p>\n\n<p>Originally I loaded my own shared lib with <code>dlopen(\"mylib.so\", RTLD_LAZY)</code>, that lib in turn was built with a reference to <code>libperl.so</code>. The dlopen man page states that the flags are propagated down when dependent libs are loaded implicitly, so loading libperl has just RTLD_LAZY too.</p>\n\n<p>Re-routing stdout as described above involves the Perl lib <code>scalar.so</code>, which Perl loads at the time my Perl snippet executes. The lib <code>scalar.so</code> contains an unresolved reference to <code>PL_no_modify</code>, which again is defined in <code>libperl.so</code>. Now, since I did not specify <code>RTLD_GLOBAL</code> when calling <code>dlopen(mylib.so)</code> effectively <code>scalar.so</code> did not see <code>PL_no_modify</code> and failed to load.</p>\n\n<p>After setting <code>RTLD_GLOBAL</code> in my code it worked.</p>\n\n<p>The only remaining question is why Perl did not tell me ... :-| </p>\n"}], "owner": {"reputation": 81, "user_id": 1312284, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a6d39a4e30c3609d13e4f055e96af902?s=128&d=identicon&r=PG", "display_name": "tge", "link": "https://stackoverflow.com/users/1312284/tge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 32466644, "answer_count": 1, "score": 1, "last_activity_date": 1441743991, "creation_date": 1441381396, "last_edit_date": 1441387968, "question_id": 32401918, "link": "https://stackoverflow.com/questions/32401918/perl-capture-stdout-of-embedded-script-fails-if-in-dlopen-loaded-shared-lib", "title": "Perl capture stdout of embedded script, fails if in dlopen-loaded shared lib", "body": "<p>I have some embedded Perl code in a C++ program (Ubuntu 14, Perl 5.18, if that matters) and I execute the Perl like in <a href=\"http://community.activestate.com/node/10859\" rel=\"nofollow\">this example</a>.</p>\n\n<p>More specifically, I:</p>\n\n<ol>\n<li>Create the perl instance, then load persistency code as described in the \"perlembed\" manual</li>\n<li><p>Eval some \"preparation\" code:</p>\n\n<pre><code>static const char * redirPre = \"$scriptOutput = \\\"\\\";\\n\"\n        \"open(SCRIPTOUTPUT, '&gt; :scalar', \\\\$scriptOutput) || print STDERR \\\"Failed to open scriptoutput: $!\\\";\\n\"\n        \"print SCRIPTOUTPUT \\\"huhu\\\\n\\\";\\n\"\n        \"select SCRIPTOUTPUT;\\n\"\n        \"print SCRIPTOUTPUT \\\"huhu2\\\\n\\\";\\n\"\n        \"print STDOUT \\\"huhu2a\\\\n\\\";\\n\";\nprintf(\"PRE: '%s'\\n\", redirPre);\neval_pv(redirPre, FALSE);\n</code></pre></li>\n<li><p>Eval my actual Perl snippet</p></li>\n</ol>\n\n<p>Now the strange thing is that this works nicely if I statically link the code which calls all the Perl functions or if those functions are in a shared lib directly linked to the main program, while it does not work if those functions reside in a shared lib, which the main program loads using dlopen.</p>\n\n<p>The Perl snippet executes normally, only getting stdout fails. Precisely, this part does not work:</p>\n\n<pre><code>open(SCRIPTOUTPUT, '&gt; :scalar', \\$scriptOutput) ||\n  print STDERR \"Failed to open scriptoutput: $!\";\n</code></pre>\n\n<p>no matter whether I specify <code>&gt;:scalar</code> or just <code>&gt;</code>.</p>\n\n<p>Interestingly, the output does not appear on stdout either, instead it says <code>Failed to open scriptoutput:</code> (but without any actual error).</p>\n\n<p>Ideas?</p>\n\n<p>EDIT: Re-routing stdout to /tmp/xx with the exact same code works nicely, the only difference is:</p>\n\n<pre><code>\"open(SCRIPTOUTPUT, '&gt;', \\\"/tmp/xx\\\") || print STDERR \\\"Failed: $!\\\";\\n\"\n</code></pre>\n"}, {"tags": ["regex", "perl", "web-scraping", "www-mechanize", "html-content-extraction"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441379341, "post_id": 32401143, "comment_id": 52670787, "body": "Your lines with the <code>&#47;&#47;</code> break your code. Perl&#39;s comments only work with <code>#</code> which you have already used."}, {"owner": {"reputation": 47, "user_id": 4870810, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/541e9ad50da1bb1538c6f407119be059?s=128&d=identicon&r=PG&f=1", "display_name": "MikeEMKI", "link": "https://stackoverflow.com/users/4870810/mikeemki"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441380122, "post_id": 32401143, "comment_id": 52671296, "body": "Whoops! I added those in by hand so that was my mistake. I have # in my script so it wasn&#39;t having any issue running. Thanks for pointing that out though. I&#39;ll edit it."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4870810, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/541e9ad50da1bb1538c6f407119be059?s=128&d=identicon&r=PG&f=1", "display_name": "MikeEMKI", "link": "https://stackoverflow.com/users/4870810/mikeemki"}, "edited": false, "score": 0, "creation_date": 1441380527, "post_id": 32401362, "comment_id": 52671532, "body": "Hmm.. I&#39;m a little confused by this. Are you saying I can parse the directory page and then create a loop to allow &#39;get&#39; to be able to read the links on that page? If so do you have any examples of this? If I&#39;m misinterpreting your response let me know!"}], "tags": [], "owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "is_accepted": false, "score": 1, "last_activity_date": 1441442147, "last_edit_date": 1441442147, "creation_date": 1441379547, "answer_id": 32401362, "question_id": 32401143, "link": "https://stackoverflow.com/questions/32401143/using-wwwmechanize-to-scrape-multiple-pages-under-a-directory-perl/32401362#32401362", "title": "Using WWW::Mechanize to scrape multiple pages under a directory - Perl", "body": "<p>No, you can't use wildcards on urls.. :-(</p>\n\n<p>You'll have to parse yourself the page with the listing, and then get and process pages in a loop.\nTo extract specific fields from a page contents will be a strightforward task with WWW::Mechanize...</p>\n\n<p><strong>UPDATE</strong>: answering OP comment:</p>\n\n<p>Try this logic:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse WWW::Mechanize;\nuse LWP::Simple;\nuse File::Basename;\n\nmy $mech = WWW::Mechanize-&gt;new( autocheck =&gt; 1 );  \n$mech-&gt;get(\"http://millercenter.org/president/clinton/oralhistoryml\");\n\n# find all &lt;dl&gt; tags\nmy @list = $mech-&gt;find('dl');\n\nforeach my $link (@list) {\n  my $url       = $link-&gt;url();  \n  my $localfile = basename($url);  \n  my $localpath = \"./$localfile\";\n\n  print \"$localfile\\n\";   \n  getstore($url, $localpath);   \n}  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441380261, "post_id": 32401563, "comment_id": 52671369, "body": "As for extracting the data from the page, that is a different question. You should ask that separately once you&#39;ve got there."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1441380245, "creation_date": 1441380245, "answer_id": 32401563, "question_id": 32401143, "link": "https://stackoverflow.com/questions/32401143/using-wwwmechanize-to-scrape-multiple-pages-under-a-directory-perl/32401563#32401563", "title": "Using WWW::Mechanize to scrape multiple pages under a directory - Perl", "body": "<p>My answer is focused on the <strong>approach</strong> of how to do this. <strong>I'm not providing code</strong>.</p>\n\n<p>There are no IDs in the links, but the names of the interview pages seem to be fine to use. You need to parse them out and build a lookup table. </p>\n\n<p>Basically you start by building a parser that fetches all the links that look like an interview. That is fairly simple with WWW::Mechanize. The page URL is:</p>\n\n<blockquote>\n  <p><a href=\"http://millercenter.org/president/clinton/oralhistory\" rel=\"nofollow\">http://millercenter.org/president/clinton/oralhistory</a></p>\n</blockquote>\n\n<p>All the interviews follow this schema:</p>\n\n<blockquote>\n  <p><a href=\"http://millercenter.org/president/clinton/oralhistory/george-mitchell\" rel=\"nofollow\">http://millercenter.org/president/clinton/oralhistory/george-mitchell</a></p>\n</blockquote>\n\n<p>So you can find all links in that page that start with <code>http://millercenter.org/president/clinton/oralhistory/</code>. Then you make them unique, because there is this teaser box slider thing that showcases some of them, and it has a <em>read more</em> link to the page. Use a hash to do that like this:</p>\n\n<pre><code>my %seen;\nforeach my $url (@urls) {\n  $mech-&gt;get($url) unless $seen{$url};\n  $seen{$url}++;\n}\n</code></pre>\n\n<p>Then you fetch the page and do your stuff and write it to your database. Use the URL or the interview name part of the URL (e.g. <code>goerge-mitchell</code>) as the primary key. If there are other presidents and you want those as well, adapt in case the same name shows up for several presidents.</p>\n\n<p>Then you go back and add a cache lookup into your code. You grab all the IDs from the DB before you start fetching the page, and put those in a hash.</p>\n\n<pre><code># prepare query and stuff...\nmy %cache;\nwhile (my $res = $sth-&gt;fetchrow_hashref) {\n $cache{$res-&gt;{id}}++;\n}\n\n# later...\nforeach my $url (@urls) {\n  next if $cache{$url}; # or grab the ID out of the url\n  next if $seen{$url};\n\n  $mech-&gt;get($url);\n  $seen{$url}++;\n}\n</code></pre>\n\n<p>You also need to filter out the links that are not interviews. One of those would be <code>http://millercenter.org/president/clinton/oralhistory/clinton-description</code>, which is the <em>read more</em> of the first paragraph on the page.</p>\n"}], "owner": {"reputation": 47, "user_id": 4870810, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/541e9ad50da1bb1538c6f407119be059?s=128&d=identicon&r=PG&f=1", "display_name": "MikeEMKI", "link": "https://stackoverflow.com/users/4870810/mikeemki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1441442147, "creation_date": 1441378783, "last_edit_date": 1495542579, "question_id": 32401143, "link": "https://stackoverflow.com/questions/32401143/using-wwwmechanize-to-scrape-multiple-pages-under-a-directory-perl", "title": "Using WWW::Mechanize to scrape multiple pages under a directory - Perl", "body": "<p>I'm working on a project to site scrape every interview found <a href=\"http://millercenter.org/president/clinton/oralhistory\" rel=\"nofollow noreferrer\">here</a> into an HTML ready document to be later dumped into a DB which will automatically update our website with the latest content. You can see an example of my current site scraping script which I asked a question about the other day: <a href=\"https://stackoverflow.com/questions/32337580/wwwmechanize-extraction-help-perl\">WWW::Mechanize Extraction Help - PERL</a></p>\n\n<p>The problem I can't seem to wrap my head around is knowing if what I'm trying to accomplish now is even possible. Because I don't want to have to <em>guess</em> when a new interview is published, my hope is to be able to scrape the website which has a directory listing of all of the interviews and automatically have my program fetch the content on the new URL (new interview).</p>\n\n<p>Again, the site in question is here (scroll down to see the listing of interviews): <a href=\"http://millercenter.org/president/clinton/oralhistory\" rel=\"nofollow noreferrer\">http://millercenter.org/president/clinton/oralhistory</a></p>\n\n<p>My initial thought was to have a regex of .\\ at the end of the link above in hopes that it would automatically search any links found under that page. I can't seem to be able to get this to work using WWW::Mechanize, however. I will post what I have below and if anyone has any guidance or experience with this your feedback would be greatly appreciated. I'll also summarize my tasks below the code so that you have a concise understanding of what we hope to accomplish.</p>\n\n<p>Thanks to any and all that can help!</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse WWW::Mechanize;\nuse WWW::Mechanize::Link;\nuse WWW::Mechanize::TreeBuilder;\n\nmy $mech = WWW::Mechanize-&gt;new();\nWWW::Mechanize::TreeBuilder-&gt;meta-&gt;apply($mech);\n$mech-&gt;get(\"http://millercenter.org/president/clinton/oralhistory/\\.\");\n\n# find all &lt;dl&gt; tags\nmy @list = $mech-&gt;find('dl');\n\nforeach ( @list ) {\nprint $_-&gt;as_HTML();\n}\n\n# # find all links\n# my @links = $mech-&gt;links();\n# foreach my $link (@links) {\n#     print \"$link-&gt;url \\n\";\n# }\n</code></pre>\n\n<p>To summarize what I'm hoping is possible:</p>\n\n<ul>\n<li><p>Extract the content of every interview found <a href=\"http://millercenter.org/president/clinton/oralhistory\" rel=\"nofollow noreferrer\">here</a> in an HTML ready document like I did here: <a href=\"https://stackoverflow.com/questions/32337580/wwwmechanize-extraction-help-perl\">WWW::Mechanize Extraction Help - PERL</a>. This would require the 'get' action to be able to traverse the pages listed under the /oralhistory/ directory, which can perhaps be solved using a regex?</p></li>\n<li><p>Possibly extract the respondent name and position fields on the directory page to be populated in a title field (this isn't that big of a deal if it can't be done)</p></li>\n</ul>\n"}, {"tags": ["windows", "perl", "batch-file"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1441378255, "post_id": 32400702, "comment_id": 52670087, "body": "Does your script have a line <code>use scrict;</code> in it, because someone&#39;s typoed <code>use strict;</code>?"}, {"owner": {"reputation": 28755, "user_id": 5047996, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/la3kD.png?s=128&g=1", "display_name": "aschipfl", "link": "https://stackoverflow.com/users/5047996/aschipfl"}, "edited": false, "score": 0, "creation_date": 1441378611, "post_id": 32400702, "comment_id": 52670328, "body": "You should use <code>start</code> or <code>start</code> rather than <code>call</code> (type <code>start &#47;?</code> for help); moreover I suggest you execute the line directly by typing it in command prompt, maybe the problem is something else..."}, {"owner": {"reputation": 1, "user_id": 5248244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f85810b5f1bc0b6593763b8af411f30?s=128&d=identicon&r=PG&f=1", "display_name": "monkeychef", "link": "https://stackoverflow.com/users/5248244/monkeychef"}, "edited": false, "score": 0, "creation_date": 1441378930, "post_id": 32400702, "comment_id": 52670535, "body": "Getting rid of use strict and use warnings allowed the script to run. Thanks sobrique!"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 5, "creation_date": 1441398336, "post_id": 32400702, "comment_id": 52680358, "body": "Fixing the typo would probably be a better solution."}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 3, "creation_date": 1504625374, "post_id": 32400702, "comment_id": 79077320, "body": "Fix the typo! Don&#39;t rip out the safety mechanisms!"}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "is_accepted": false, "score": -1, "last_activity_date": 1441379262, "creation_date": 1441379262, "answer_id": 32401281, "question_id": 32400702, "link": "https://stackoverflow.com/questions/32400702/call-perl-script-from-batch-file/32401281#32401281", "title": "Call Perl Script from Batch File", "body": "<p>try this</p>\n\n<p>inside the bat file</p>\n\n<pre><code>cd /d script_path\nperl tescript_name\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5248244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f85810b5f1bc0b6593763b8af411f30?s=128&d=identicon&r=PG&f=1", "display_name": "monkeychef", "link": "https://stackoverflow.com/users/5248244/monkeychef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526283676, "creation_date": 1441377349, "last_edit_date": 1515336660, "question_id": 32400702, "link": "https://stackoverflow.com/questions/32400702/call-perl-script-from-batch-file", "title": "Call Perl Script from Batch File", "body": "<p>I'm trying to make a batch file that will call a perl script that I have created that reports data every minute to a program. The program is not able to open perl scripts in Windows, but can collect data if a batch file opens the program.</p>\n\n<p>So far I have this:</p>\n\n<pre><code>@echo off\ncall \"C:\\[Perl Installation Location for reporting program]\\manager\\etc\\perl.exe\" \"C:\\[Script location on disk]\\program.pl\"\n</code></pre>\n\n<p>However this returns the error</p>\n\n<blockquote>\n  <p>Can not find scrict.pm</p>\n</blockquote>\n\n<p>Any suggestions?</p>\n\n<p>Edit: Removing Use Strict and Use Warnings fixed the issue. Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1441374452, "post_id": 32399603, "comment_id": 52667394, "body": "You could pass a reference to the hash instead of the hash itself"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 5, "creation_date": 1441374461, "post_id": 32399603, "comment_id": 52667402, "body": "Prototypes are not for creating function signatures, but for having functions behave like built-in functions.  The general advise when it comes to prototypes, is not to use them.  The function will scoop up all of the @_ into %hashFoo.  You could check the length of @_ and pop off the optional  argument before unpacking it into %hashFoo."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1441375016, "post_id": 32399603, "comment_id": 52667827, "body": "The cleanest solution would be to have the optional argument just be included with the rest of ( foo =&gt; bar, baz =&gt; 123, special =&gt; 3 ) params, and just treat the special parameter specially (with a default if it is not passed in)"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1441380140, "last_edit_date": 1441380140, "creation_date": 1441375055, "answer_id": 32399946, "question_id": 32399603, "link": "https://stackoverflow.com/questions/32399603/subroutine-with-hash-and-optional-scalar-argument/32399946#32399946", "title": "Subroutine with hash and optional scalar argument", "body": "<p>I don't know if this counts as elegant, but ...</p>\n\n<pre><code>sub printFoo {\n    my $optionalArg;\n    if (@_ % 2 != 0) {\n        $optionalArg = pop @_;\n    }\n    my %hashFoo = @_;\n    ...\n}\n</code></pre>\n\n<p>A prototype with a hash reference would also work. You would still invoke the function with a hash, but you have to remember the first hash arg will be received by your sub as a hash reference.</p>\n\n<pre><code>sub printFoo (\\%;$) {  # call as  printFoo %foo  or  printFoo %foo, 42\n    my ($hashFooRef, $optionalArg) = @_;\n    my %hashFoo = %$hashFooRef;\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 215, "user_id": 4802804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhIX.jpg?s=128&g=1", "display_name": "Ralph Marshall", "link": "https://stackoverflow.com/users/4802804/ralph-marshall"}, "is_accepted": false, "score": 1, "last_activity_date": 1441375158, "creation_date": 1441375158, "answer_id": 32399991, "question_id": 32399603, "link": "https://stackoverflow.com/questions/32399603/subroutine-with-hash-and-optional-scalar-argument/32399991#32399991", "title": "Subroutine with hash and optional scalar argument", "body": "<p>I agree with Hakon Haegland about using a hash ref. In order to get more than one argument that you can pick out you'll need to pass in multiple scalars rather than what is essentially a list followed by something else.</p>\n\n<p>I think that this is unrelated to the question of whether or not you should be using prototypes. The warning system did you a favor by flagging this, but I'm 99.44% sure it won't work even if you discard the prototype. You still won't end up with a value in your optional parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1441376012, "post_id": 32400027, "comment_id": 52668637, "body": "This is close to how I do it personally in almost all of my modules. I accept a single href (instead of a hash) for all of my params. Sometimes I&#39;ll accept an additional cref callback as a secondary arg, but I do prefer to accept everything in one struct."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1441375261, "creation_date": 1441375261, "answer_id": 32400027, "question_id": 32399603, "link": "https://stackoverflow.com/questions/32399603/subroutine-with-hash-and-optional-scalar-argument/32400027#32400027", "title": "Subroutine with hash and optional scalar argument", "body": "<p>Elegantly dealing with an optional parameter:</p>\n\n<pre><code>sub do_something {\n   my (%params) = @_;\n   my $debug = delete $params{debug} || 0;\n   # do something with %params...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1441375914, "last_edit_date": 1441375914, "creation_date": 1441375312, "answer_id": 32400045, "question_id": 32399603, "link": "https://stackoverflow.com/questions/32399603/subroutine-with-hash-and-optional-scalar-argument/32400045#32400045", "title": "Subroutine with hash and optional scalar argument", "body": "<p>If you use a hash ref as others have suggested as the first arg, then checking the args after they are accepted is trivial:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash = (a =&gt; 1, b =&gt; 2,);\nmy $scalar = 1;\n\nprintFoo(\\%hash, $scalar);\n\nsub printFoo {\n    my ($href, $opt) = @_;\n\n    if(ref $href ne 'HASH' || $opt &amp;&amp; ref \\$opt ne 'SCALAR'){\n        die \"Usage: printFoo(hashref, optional_scalar)\\n\";\n    }\n\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 32399946, "answer_count": 4, "score": 5, "last_activity_date": 1441380140, "creation_date": 1441374044, "question_id": 32399603, "link": "https://stackoverflow.com/questions/32399603/subroutine-with-hash-and-optional-scalar-argument", "title": "Subroutine with hash and optional scalar argument", "body": "<p>I have a subroutine with a prototype like this:</p>\n\n<pre><code>sub printFoo(%) {\n    my (%hashFoo)=@_;\n    # do stuff with the hash\n}\n</code></pre>\n\n<p>But I would like to optionally pass in a second scalar argument like this:</p>\n\n<pre><code>sub printFoo(%;$) {\n    my (%hashFoo,$optionalArg)=@_;\n    # do stuff with the hash and the optional arg\n}\n</code></pre>\n\n<p>I understand that in warning mode this is a no-no, but I'm not sure why.</p>\n\n<p>I suppose I could use a global variable flag, but any advice on how to elegantly accomplish this type of function signature?</p>\n"}, {"tags": ["perl", "append"], "answers": [{"comments": [{"owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "edited": false, "score": 0, "creation_date": 1441374778, "post_id": 32399090, "comment_id": 52667643, "body": "To explain in case it&#39;s not clear: <code>%out</code> is a hash with <code>Id</code> as the key and the value is a reference to an array. First item of this array is the <code>Name</code>; second item is a reference to an array of <code>App1</code> values and the second is a reference to an array of <code>App2</code> values."}], "tags": [], "owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "is_accepted": false, "score": 2, "last_activity_date": 1441374913, "last_edit_date": 1441374913, "creation_date": 1441372660, "answer_id": 32399090, "question_id": 32398522, "link": "https://stackoverflow.com/questions/32398522/perl-need-to-append-two-columns-if-the-ids-are-repeating/32399090#32399090", "title": "Perl : Need to append two columns if the ID&#39;s are repeating", "body": "<p>This should do the trick:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $file_in = \"doctor.txt\";\nopen (FF, \"&lt;$file_in\");\n\nmy $temp = &lt;FF&gt;; # remove first line\n\nmy %out; \n\nwhile (&lt;FF&gt;)\n{\n    my ($id, $Name, $app1, $app2) = split /\\|/, $_;\n    $out{$id}[0] = $Name;\n    push @{$out{$id}[1]}, $app1;\n    push @{$out{$id}[2]}, $app2;\n}\n\nforeach my $key (keys %out)\n{\n    print $key, \"|\", $out{$key}[0], \"|\", join (\",\", @{$out{$key}[1]}), \"|\",     join (\",\", @{$out{$key}[2]}), \"\\n\";\n}\n</code></pre>\n\n<p><strong><em>EDIT</em></strong></p>\n\n<p>To see what the <code>%out</code> contains (in case it's not clear), you can use</p>\n\n<pre><code>use Data::Dumper;\n</code></pre>\n\n<p>and print it via</p>\n\n<pre><code>print Dumper(%out);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1441380223, "last_edit_date": 1441380223, "creation_date": 1441376816, "answer_id": 32400502, "question_id": 32398522, "link": "https://stackoverflow.com/questions/32398522/perl-need-to-append-two-columns-if-the-ids-are-repeating/32400502#32400502", "title": "Perl : Need to append two columns if the ID&#39;s are repeating", "body": "<p>I'd tackle it like this:</p>\n\n<p></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse 5.14.0;\n\nmy %stuff;\n\n#extract the header row.\n#use the regex to remove the linefeed, because\n#we can't chomp it inline like this. \n#works since perl 5.14\n#otherwise we could just chomp (@header) later. \nmy ( $id, @header ) = split( /\\|/, &lt;DATA&gt; =~ s/\\n//r );\n\nwhile (&lt;DATA&gt;) {\n\n    #turn this row into a hash of key-values.\n    my %row;\n    ( $id, @row{@header} ) = split(/\\|/);\n    #print for diag \n    print Dumper \\%row;\n\n    #iterate each key, and insert into $row.\n    foreach my $key ( keys %row ) {\n        push( @{ $stuff{$id}{$key} }, $row{$key} );\n    }\n}\n\n#print for diag    \nprint Dumper \\%stuff;\n\nprint join (\"|\", \"id\", @header ),\"\\n\";\n\n#iterate ids in the hash\nforeach my $id ( sort keys %stuff ) {\n\n    #join this record by '|'.\n    print join('|',\n        $id,\n        #turn inner arrays into comma separated via map.\n        map {\n            my %seen;\n            #use grep to remove dupes - e.g. \"abc,abc\" -&gt; \"abc\"\n            join( \",\", grep !$seen{$_}++, @$_ )\n        } @{ $stuff{$id} }{@header}\n        ),\n        \"\\n\";\n}\n\n__DATA__\nid|Name|app1|app2\n1|abc|234|231|\n2|xyz|123|215|\n1|abc|265|321|\n3|asd|213|235|\n</code></pre>\n\n<p>This is perhaps a bit overkill for your application, but it should handle arbitrary column headings and arbitary numbers of duplicates. I'll coalesce them though - so the two <code>abc</code> entries don't end up <code>abc,abc</code>. </p>\n\n<p>Output is:</p>\n\n<pre><code>id|Name|app1|app2\n1|abc|234,265|231,321\n2|xyz|123|215\n3|asd|213|235\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "is_accepted": false, "score": 1, "last_activity_date": 1441400854, "creation_date": 1441400854, "answer_id": 32406609, "question_id": 32398522, "link": "https://stackoverflow.com/questions/32398522/perl-need-to-append-two-columns-if-the-ids-are-repeating/32406609#32406609", "title": "Perl : Need to append two columns if the ID&#39;s are repeating", "body": "<p>Another way of doing it which doesn't use a hash (in case you want to be more memory efficient), my contribution lies under the opens:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $basedir = 'E:\\Perl\\Input\\\\';\nmy $file ='doctor.txt';\nopen(OUTFILE, '&gt;', 'E:\\Perl\\Output\\DoctorOpFile.csv') || die $!;\nselect(OUTFILE);\nopen(FH, '&lt;', join('', $basedir, $file)) || die $!;\n\nprint(scalar(&lt;FH&gt;));\nmy @lastobj = (undef);\nforeach my $obj (sort {$a-&gt;[0] &lt;=&gt; $b-&gt;[0]}\n                 map {chomp;[split('|')]} &lt;FH&gt;) {\n    if(defined($lastobj[0]) &amp;&amp;\n       $obj[0] eq $lastobj[0])\n      {@lastobj = (@obj[0..1],\n                   $lastobj[2].','.$obj[2],\n                   $lastobj[3].','.$obj[3])}\n    else\n      {\n        if($lastobj[0] ne '')\n          {print(join('|',@lastobj),\"|\\n\")}\n        @lastobj = @obj[0..3];\n      }\n}\nprint(join('|',@lastobj),\"|\\n\");\n</code></pre>\n\n<p>Note that split, without it's third argument ignores empty elements, which is why you have to add the last bar. If you don't do a chomp, you won't need to supply the bar or the trailing hard return, but you would have to record $obj[4].</p>\n"}], "owner": {"reputation": 153, "user_id": 4849534, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/960ecb68843a445823f625120264b815?s=128&d=identicon&r=PG&f=1", "display_name": "User", "link": "https://stackoverflow.com/users/4849534/user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1441400854, "creation_date": 1441370962, "last_edit_date": 1441375255, "question_id": 32398522, "link": "https://stackoverflow.com/questions/32398522/perl-need-to-append-two-columns-if-the-ids-are-repeating", "title": "Perl : Need to append two columns if the ID&#39;s are repeating", "body": "<p>If id gets repeated I am appending app1, app2 and printing it once. </p>\n\n<p><strong><em>Input:</em></strong></p>\n\n<pre><code>id|Name|app1|app2    \n1|abc|234|231|\n2|xyz|123|215|\n1|abc|265|321|\n3|asd|213|235|\n</code></pre>\n\n<p><strong><em>Output:</em></strong></p>\n\n<pre><code>id|Name|app1|app2\n1|abc|234,265|231,321|\n2|xyz|123|215|\n3|asd|213|235|\n</code></pre>\n\n<p><strong><em>Output I'm getting:</em></strong></p>\n\n<pre><code>id|Name|app1|app2\n1|abc|234,231|\n2|xyz|123,215|\n1|abc|265,321|\n3|asd|213,235|\n</code></pre>\n\n<p><strong><em>My Code:</em></strong></p>\n\n<pre><code>#! usr/bin/perl\nuse strict;\nuse warnings;\nmy $basedir = 'E:\\Perl\\Input\\\\';\nmy $file ='doctor.txt';\nmy $counter = 0;\nmy %RepeatNumber;\nmy $pos=0;\nopen(OUTFILE, '&gt;', 'E:\\Perl\\Output\\DoctorOpFile.csv') || die $!;\nopen(FH, '&lt;', join('', $basedir, $file)) || die $!;\nmy $line = readline(FH);\nunless ($counter) {\n    chomp $line;\n    print OUTFILE $line;\n    print OUTFILE \"\\n\";\n}\nwhile ($line = readline(FH)) {\n    chomp $line;\n    my @obj = split('\\|',$line);\n    if($RepeatNumber{$obj[0]}++) {\n        my $str1= join(\"|\",$obj[0]);\n        my $str2=join(\",\",$obj[2],$obj[3]);\n        print OUTFILE join(\"|\",$str1,$str2);\n        print OUTFILE \"\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "travis-ci"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1441368245, "post_id": 32397328, "comment_id": 52663337, "body": "Have you actually installed 5.16.3 using perlbrew? Follow this <a href=\"http://blog.fox.geek.nz/2010/09/installing-multiple-perls-with.html\" rel=\"nofollow noreferrer\">tutorial</a> to properly setup perlbrew."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1441417656, "creation_date": 1441417656, "answer_id": 32408764, "question_id": 32397328, "link": "https://stackoverflow.com/questions/32397328/travis-ci-missing-perlbrew-perls-releases-installed-before-perlbrew-use/32408764#32408764", "title": "Travis.ci missing perlbrew perl&#39;s releases installed before &#39;perlbrew use&#39;", "body": "<p><code>perlbrew use x</code> will only work if you've previously used <code>perlbrew</code> to install a <code>perl</code> as <code>x</code>.</p>\n\n<p>Sure it takes time (unless you want to risk skipping the tests), but how do you expect to test against a build of <code>perl</code> you haven't installed? </p>\n"}], "owner": {"reputation": 61, "user_id": 577183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13b2467128dda64a63f50860e191033b?s=128&d=identicon&r=PG", "display_name": "Renato Cron", "link": "https://stackoverflow.com/users/577183/renato-cron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441417656, "creation_date": 1441367282, "last_edit_date": 1441371021, "question_id": 32397328, "link": "https://stackoverflow.com/questions/32397328/travis-ci-missing-perlbrew-perls-releases-installed-before-perlbrew-use", "title": "Travis.ci missing perlbrew perl&#39;s releases installed before &#39;perlbrew use&#39;", "body": "<p>In accordance with <a href=\"http://docs.travis-ci.com/user/languages/perl/\" rel=\"nofollow\">http://docs.travis-ci.com/user/languages/perl/</a> we should just declare on <code>travis.yml</code> what version we want to test against, and it will use that <code>perl</code> version.</p>\n\n<p>But if you look at <a href=\"https://travis-ci.org/eokoe/Iota/jobs/78738472\" rel=\"nofollow\">https://travis-ci.org/eokoe/Iota/jobs/78738472</a> you could see that the first thing (after declare <code>ENVs</code>) is that <code>travis.ci</code> is doing an <code>\"perlbrew use $perl-version\"</code></p>\n\n<p>When I did an <code>perlbrew available</code>, it shows that none perl version is installed (when is installed, there's a <code>'i'</code> before the name)</p>\n\n<p>Is this a bug, or should I do an install (takes <code>\"a little\"</code> long to compile perl, wasting energy!) and then <code>perlbrew use</code> again? </p>\n"}, {"tags": ["bash", "perl", "shell", "unix", "sed"], "comments": [{"owner": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "edited": false, "score": 0, "creation_date": 1441364269, "post_id": 32396319, "comment_id": 52661147, "body": "With sed you can do <code>sed &#39;&#47;aaa&#47;s&#47;bb&#47;zz&#47;g&#39; file</code>"}, {"owner": {"reputation": 1217, "user_id": 844365, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02cff8c0b1ce3a9dbc80f182a5ade67b?s=128&d=identicon&r=PG", "display_name": "Bhabani Shankar", "link": "https://stackoverflow.com/users/844365/bhabani-shankar"}, "reply_to_user": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "edited": false, "score": 0, "creation_date": 1441364488, "post_id": 32396319, "comment_id": 52661262, "body": "Magic... Thanks a lot"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1441364662, "post_id": 32396319, "comment_id": 52661359, "body": "Cross-site duplicate: <a href=\"http://unix.stackexchange.com/q/37518/67817\">unix.stackexchange.com/q/37518/67817</a>"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "edited": false, "score": 0, "creation_date": 1441364702, "post_id": 32396319, "comment_id": 52661391, "body": "@user000001 I guess you should turn that into an answer, unless there&#39;s a dupe on this site (which I&#39;m pretty sure there will be!)"}, {"owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 0, "creation_date": 1441365242, "post_id": 32396319, "comment_id": 52661709, "body": "<code>awk &#39;$2~&#47;^aaa$&#47; {gsub(&#47; bb&#47;, &quot; zz&quot;)} {print}&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 396, "user_id": 1249683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ez22T.png?s=128&g=1", "display_name": "xebtl", "link": "https://stackoverflow.com/users/1249683/xebtl"}, "is_accepted": true, "score": 2, "last_activity_date": 1441369209, "creation_date": 1441369209, "answer_id": 32397930, "question_id": 32396319, "link": "https://stackoverflow.com/questions/32396319/unix-find-and-replace-all-with-a-condition/32397930#32397930", "title": "Unix find and replace all with a condition", "body": "<p>Like this?</p>\n\n<pre><code>perl -pe '/aaa/ and s[/ ][/]'\n</code></pre>\n\n<p>Of course it can be refined in many ways, e.g., add <code>g</code> to the <code>s[][]</code> to replace all matches, add the <code>-i</code> switch to edit files \u201cin place\u201d, etc.</p>\n"}], "owner": {"reputation": 1217, "user_id": 844365, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02cff8c0b1ce3a9dbc80f182a5ade67b?s=128&d=identicon&r=PG", "display_name": "Bhabani Shankar", "link": "https://stackoverflow.com/users/844365/bhabani-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 32397930, "answer_count": 1, "score": 1, "last_activity_date": 1441369209, "creation_date": 1441363998, "last_edit_date": 1441365418, "question_id": 32396319, "link": "https://stackoverflow.com/questions/32396319/unix-find-and-replace-all-with-a-condition", "title": "Unix find and replace all with a condition", "body": "<p>I have a condition where I want to find and replace all '/ ' (forward / with a space after that) in a file for some lines having a specific entries. Example below:</p>\n\n<pre><code>g aaa / cccc dd\nk eee / hhhh dd\nm aaa / kkkk ll\n</code></pre>\n\n<p>I want to replace '/ ' with '/' for the rows with 'aaa' entry. </p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 304, "user_id": 1112246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lQwR.png?s=128&g=1", "display_name": "fatih", "link": "https://stackoverflow.com/users/1112246/fatih"}, "edited": false, "score": 0, "creation_date": 1441362879, "post_id": 32395771, "comment_id": 52660265, "body": "is there any problem in my array?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1441367049, "post_id": 32395771, "comment_id": 52662666, "body": "You are not using Perl syntax. Also, instead of saying &quot;it shows error&quot;, you should <i>show the error</i> so we know what it is."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1441367430, "post_id": 32395771, "comment_id": 52662887, "body": "List of mistakes: 1) You must enclose list in parentheses when assigning to a hash or array, 2) You must (in this case) quote the keys, because <code>.</code> is an operator, 3) <code>print say</code> is doing the same thing twice. It will also print a <code>1</code> (the return value from <code>say</code>), 4) Angle braces <code>&lt;&gt;</code> are used for globs or file handles, never for hashes."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1441388327, "post_id": 32395771, "comment_id": 52675708, "body": "@TLP I think OP is writing Perl6 (see my answer), in which case it only has one mistake. If not, then the syntax is wrong, but I would be amazed if these are random mistakes that follow Perl6 rules."}], "answers": [{"comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 304, "user_id": 1112246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lQwR.png?s=128&g=1", "display_name": "fatih", "link": "https://stackoverflow.com/users/1112246/fatih"}, "edited": false, "score": 0, "creation_date": 1441363063, "post_id": 32395861, "comment_id": 52660379, "body": "@fatih have changed my answer"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1441363277, "last_edit_date": 1441363277, "creation_date": 1441362597, "answer_id": 32395861, "question_id": 32395771, "link": "https://stackoverflow.com/questions/32395771/how-to-get-array-elements-value-by-given-key-in-perl/32395861#32395861", "title": "How to get array element&#39;s value by given key in perl", "body": "<p>use :</p>\n\n<pre><code>my %array = (\"a.a.a.a\" =&gt; \"my name\",\n       \"b.b.b.b\" =&gt; \"my home\",\n       \"c.c.c.c\" =&gt; \"my city\");\n\nprint $array{\"b.b.b.b\"};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 304, "user_id": 1112246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lQwR.png?s=128&g=1", "display_name": "fatih", "link": "https://stackoverflow.com/users/1112246/fatih"}, "edited": false, "score": 0, "creation_date": 1441363270, "post_id": 32395938, "comment_id": 52660508, "body": "You are welcome. You may want to read <a href=\"http://perlmaven.com/perl-hashes\" rel=\"nofollow noreferrer\">article on hashes by Gabor</a>."}, {"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 0, "creation_date": 1441363845, "post_id": 32395938, "comment_id": 52660910, "body": "No need to quote the keys <i>unless</i> using strict/warnings."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1441364092, "post_id": 32395938, "comment_id": 52661042, "body": "It&#39;s best practice to <code>use strict&#47;warnings</code>. You should read <a href=\"http://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\">Why use strict and warnings?</a>"}, {"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 0, "creation_date": 1441364794, "post_id": 32395938, "comment_id": 52661448, "body": "Your answer essentially says &quot;Do X, then fix Y&quot; except doing X caused Y. All the actual problems (hash declaration, hash access, print/say) have no explanation as if they&#39;re incidental."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 4, "creation_date": 1441367239, "post_id": 32395938, "comment_id": 52662779, "body": "@RobEarl If you do not quote the keys in this case, it will be considered an expression rather than a string, meaning that <code>a.a.a.a</code> will become <code>aaaa</code> (4 <code>a</code> concatenated by <code>.</code>), and you will get a bareword warning. Strict and warnings never cause problems, they only tell you that problems exist."}, {"owner": {"reputation": 304, "user_id": 1112246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lQwR.png?s=128&g=1", "display_name": "fatih", "link": "https://stackoverflow.com/users/1112246/fatih"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1441369617, "post_id": 32395938, "comment_id": 52664145, "body": "@TLP +1 for your detail explanation."}, {"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1441370619, "post_id": 32395938, "comment_id": 52664767, "body": "@TLP So X didn&#39;t exactly <i>cause</i> Y, but without X or Y the code would&#39;ve run without error (though differently to intended!). I&#39;m not arguing against strict/warnings, I&#39;m arguing against &quot;quote the hash keys&quot; as a good answer, at least without any further explanation as to why that&#39;s required in this instance."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 2, "last_activity_date": 1441362863, "creation_date": 1441362863, "answer_id": 32395938, "question_id": 32395771, "link": "https://stackoverflow.com/questions/32395771/how-to-get-array-elements-value-by-given-key-in-perl/32395938#32395938", "title": "How to get array element&#39;s value by given key in perl", "body": "<p>Associate arrays are called <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">Hash</a> in Perl. </p>\n\n<p>Always use <code>use strict; use warnings;</code> in your Perl code. If you use it you will get to know that keys in your hash are not quoted.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %hash = (\n        'a.a.a.a' =&gt; \"my name\",\n        'b.b.b.b' =&gt; \"my home\",\n        'c.c.c.c' =&gt; \"my city\"\n    );\n</code></pre>\n\n<p>To access value of a key you do <code>$hash{$key}</code>, so to access b.b.b.b</p>\n\n<pre><code>print $hash{'b.b.b.b'};\n</code></pre>\n\n<p><a href=\"http://ideone.com/ZYXTiz\" rel=\"nofollow\"><strong>Demo</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1441362998, "creation_date": 1441362998, "answer_id": 32395975, "question_id": 32395771, "link": "https://stackoverflow.com/questions/32395771/how-to-get-array-elements-value-by-given-key-in-perl/32395975#32395975", "title": "How to get array element&#39;s value by given key in perl", "body": "<p>use </p>\n\n<pre><code>print say $array{\"b.b.b.b\"};\n</code></pre>\n\n<p>or</p>\n\n<pre><code>print \"$array{'b.b.b.b'}\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "is_accepted": false, "score": 1, "last_activity_date": 1441388018, "creation_date": 1441388018, "answer_id": 32403689, "question_id": 32395771, "link": "https://stackoverflow.com/questions/32395771/how-to-get-array-elements-value-by-given-key-in-perl/32403689#32403689", "title": "How to get array element&#39;s value by given key in perl", "body": "<p>What you wrote is <em>almost</em> valid Perl6, with the only mistake being not quoting the keys. And that is only necessary in this example because <code>.a</code> and <code>.b</code> look like a method call in Perl6 and will generate undeclared subroutine warnings.</p>\n\n<pre><code>my %array =\n   'a.a.a.a' =&gt; \"my name\",\n   'b.b.b.b' =&gt; \"my home\",  \n   'c.c.c.c' =&gt; \"my city\";\n\nsay %array&lt;b.b.b.b&gt;;\nsay %array{'b.b.b.b'};\n</code></pre>\n\n<p>Running this gives what you would expect:</p>\n\n<pre><code>$ perl6 hash.pl6\nmy home\nmy home\n</code></pre>\n\n<p>This example code looks more like Perl6 than Perl 5 to me, so I thought I would mention this for reference in case you were following a Perl6 tutorial and trying to compile the code with <code>perl</code>.</p>\n"}], "owner": {"reputation": 304, "user_id": 1112246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lQwR.png?s=128&g=1", "display_name": "fatih", "link": "https://stackoverflow.com/users/1112246/fatih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "accepted_answer_id": 32395938, "answer_count": 4, "score": 1, "last_activity_date": 1441388018, "creation_date": 1441362301, "question_id": 32395771, "link": "https://stackoverflow.com/questions/32395771/how-to-get-array-elements-value-by-given-key-in-perl", "title": "How to get array element&#39;s value by given key in perl", "body": "<p>I'm totally new in perl. I want to get element's value by its key from an associative array.\nmy array is:</p>\n\n<pre><code>my %array = a.a.a.a =&gt; \"my name\",\n       b.b.b.b =&gt; \"my home\",\n       c.c.c.c =&gt; \"my city\";\n</code></pre>\n\n<p>when I print</p>\n\n<pre><code>print say %array&lt;b.b.b.b&gt;;\nor \nprint say %array{b.b.b.b};\n</code></pre>\n\n<p>it shows error, so how can I get this?\ncode-test link: <a href=\"http://codepad.org/6goCazuy\" rel=\"nofollow\">codepad link</a></p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1441349548, "post_id": 32391812, "comment_id": 52652334, "body": "Please add your code."}, {"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1441350115, "post_id": 32391812, "comment_id": 52652627, "body": "please ignore the hash creation there in my code."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1441350597, "post_id": 32391812, "comment_id": 52652877, "body": "Adding input data and expected output would be more helpful."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1441350831, "post_id": 32391812, "comment_id": 52653015, "body": "@Kanhu <i>Always</i> <code>use warnings</code>!"}, {"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1441351188, "post_id": 32391812, "comment_id": 52653214, "body": "Thank You Biffen, but i prefer command line check for warnings."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1441353663, "post_id": 32392867, "comment_id": 52654607, "body": "Thank You, The data set i provided is according to the descending order of start and end, here you will find some start are greater than end and vice versa. So i want only starts smaller than its corresponding end value so i was swaping the two values if start &gt; end for my next data processing step. Like after this , I wanted to negate the start of next data from its previous start point, but without sorting them i ll get only negative value at some points. So is the all process."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1441353739, "post_id": 32392867, "comment_id": 52654656, "body": "@Kanhu: Have you noticed my code swaps the starts and ends when needed, too?"}, {"owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "edited": false, "score": 0, "creation_date": 1441353942, "post_id": 32392867, "comment_id": 52654776, "body": "yes, i noticed here. But I am not quite sure of the sorting procedure here in hash. As if it&#39;s gonna take care of my purpose of further processing! I am trying this, will update here. Thank You very much. :-)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1441353177, "creation_date": 1441353177, "answer_id": 32392867, "question_id": 32391812, "link": "https://stackoverflow.com/questions/32391812/id-tracking-while-swapping-and-sorting-other-two-arrays-in-perl/32392867#32392867", "title": "ID tracking while swapping and sorting other two arrays in perl", "body": "<p>Don't use different arrays, use a hash to keep the related pieces of information together.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse enum qw( START END );\n\nmy %hash;\nwhile (&lt;&gt;) {\n    my ($id, $start, $end) = split;\n    $hash{$id} = [ $start &lt; $end ? ($start, $end)\n                                 : ($end, $start) ];\n}\n\nmy @by_start = sort { $hash{$a}[START] &lt;=&gt; $hash{$b}[START] } keys %hash;\nmy @by_end   = sort { $hash{$a}[END]   &lt;=&gt; $hash{$b}[END]   } keys %hash;\n\nuse Test::More;\nis_deeply(\\@by_start, \\@by_end, 'same');\n\ndone_testing();\n</code></pre>\n\n<p>Moreover, in the data sample you provided, the order of id's is the same regardless of by what you sort them.</p>\n"}], "owner": {"reputation": 39, "user_id": 2328524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wmq7Q.jpg?s=128&g=1", "display_name": "Kanhu", "link": "https://stackoverflow.com/users/2328524/kanhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 32392867, "answer_count": 1, "score": -1, "last_activity_date": 1441353177, "creation_date": 1441349479, "last_edit_date": 1441352377, "question_id": 32391812, "link": "https://stackoverflow.com/questions/32391812/id-tracking-while-swapping-and-sorting-other-two-arrays-in-perl", "title": "ID tracking while swapping and sorting other two arrays in perl", "body": "<pre><code>#! /usr/bin/perl\nuse strict;\n\nmy (@data,$data,@data1,@diff,$diff,$tempS,$tempE, @ID,@Seq,@Start,@End, @data2);\n#my $file=&lt;&gt;;\nopen(FILE, \"&lt; ./out.txt\");\nwhile (&lt;FILE&gt;){\n        chomp $_;\n    #next if ($line =~/Measurement count:/ or $line =~/^\\s+/)  ;\n        #push @data, [split (\"\\t\", $line)] ;\n    my @data = split('\\t');\n\n\n            push(@ID, $data[0]);\n            push(@Seq, $data[1]);\n            push(@Start, $data[2]);\n            push(@End, $data[3]);                   \n\n#        push @$data, [split (\"\\t\", $line)] ;\n\n}\nclose(FILE);\nmy %hash = map { my $key = \"$ID[$_]\"; $key =&gt; [ $Start[$_], $End[$_] ] } (0..$#ID);\n\nfor my $key (  %hash ) {\n    print \"Key: $key contains: \";\n    for my $value ($hash{$key} ) {\n        print \" $hash{$key}[0] \";\n    }\n    print \"\\n\";\n}\n\nfor (my $j=0; $j &lt;=$#Start ; $j++)\n{\n    if ($Start[$j] &gt; $End[$j])\n    {\n        $tempS=$Start[$j];\n        $Start[$j]=$End[$j];\n        $End[$j]=$tempS;\n    }\n        print\"$tempS\\t$Start[$j]\\t$End[$j]\\n\";\n\n}\nmy @sortStart = sort { $a &lt;=&gt; $b } @Start;\nmy @sortEnd = sort { $a &lt;=&gt; $b } @End;\n\n#open(OUT,\"&gt;&gt;./trial.txt\");\nfor(my $i=1521;$i&gt;=0;$i--)\n{\n    print \"hey\";\n    my $diff = $sortStart[$i] - $sortStart[$i-1];\n    print  \"$ID[$i]\\t$diff\\n\";\n}\n</code></pre>\n\n<p>I have three arrays of same length, <code>ID</code> with IDs (string), <code>Start</code> and <code>End</code> with integer values (reading from a file).</p>\n\n<p>I want to loop through all these arrays and also want to keep track of IDs. First am swapping elements in <code>Start</code> with <code>End</code> if Start > End, then I have to sort these two arrays for further application (as I am negating <code>Start[0]-Start[1]</code> for each item in that <code>Start</code>). While sorting, the Id values may change, and as my IDs are unique for each Start and <code>End</code> elements, how can I keep track of my IDs while sorting them? </p>\n\n<p>Three arrays, <code>ID</code>, <code>Start</code> and <code>End</code>, are under my consideration.</p>\n\n<p>Here is a small chunk of my input data:</p>\n\n<pre><code>DQ704383    191990066   191990037\nDQ698580    191911184   191911214\nDQ724878    191905507   191905532\nDQ715191    191822657   191822686\nDQ722467    191653368   191653339\nDQ707634    191622552   191622581\nDQ715636    191539187   191539157\nDQ692360    191388765   191388796\nDQ722377    191083572   191083599\nDQ697520    189463214   189463185\nDQ709562    187245165   187245192\nDQ540163    182491372   182491400\nDQ720940    180753033   180753060\nDQ707760    178340696   178340726\nDQ725442    178286164   178286134\nDQ711885    178250090   178250119\nDQ718075    171329314   171329344\nDQ705091    171062479   171062503\n</code></pre>\n\n<p>The above ID, Start, End respectively. If Start > End i swapped them only between those two arrays. But after swapping the descending order may change, but i want them in descending order also their corresponding ID for negation as explained above. </p>\n"}, {"tags": ["arrays", "perl", "error-handling", "iteration"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 3, "creation_date": 1441332174, "post_id": 32388862, "comment_id": 52647105, "body": "You&#39;re manually incrementing <code>$i</code> every 100 times through the loop, so it throws away (skips) every 100th item."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1441334769, "post_id": 32388862, "comment_id": 52647674, "body": "@JimDavis you should make that an answer"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441342194, "post_id": 32388862, "comment_id": 52649495, "body": "Also, the line <code>my ($i, $temp, $flag)=0;</code> is not doing what you think it&#39;s doing."}, {"owner": {"reputation": 28, "user_id": 4263485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ca6cbe4706e9a8bebc05ed68de7e38?s=128&d=identicon&r=PG", "display_name": "Programmers_must_be_bald", "link": "https://stackoverflow.com/users/4263485/programmers-must-be-bald"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1441392120, "post_id": 32388862, "comment_id": 52677560, "body": "Thanks @JimDavis, it looks like a good face palm is in order."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 2, "last_activity_date": 1441356693, "last_edit_date": 1441356693, "creation_date": 1441342014, "answer_id": 32390267, "question_id": 32388862, "link": "https://stackoverflow.com/questions/32388862/perl-array-iteration-error-found-error-but-why/32390267#32390267", "title": "Perl array iteration error - found error but why?", "body": "<p>I think you want something more like this:</p>\n\n<pre><code>use v5.10;\n\nopen my $save,   '&gt;', 'C:\\somewhere\\important\\savefile.txt' or die $!;\nopen my $saved,  '&gt;', 'C:\\somewhere\\important\\savefileD.txt' or die $!;\nprint { $save }  \"Name\";\nprint { $saved } \"Name\";\n\nopen my $fh, '&lt;', 'C:\\direction\\to\\file.txt' or die $!;\n\nmy $found = 0;\nwhile( my $line = &lt;FILE&gt; ){\n    my( $name, $second, $last ) = $line =~ /^(.*?)\\t(.*?)\\t(.*?)\\t/;\n\n    if( $name eq 'Joe' ) {\n        say \"Found it on line $.!\";\n        &lt;STDIN&gt;;\n        $found++;\n        }\n\n    say \"Processed $. lines\" unless $. % 100;\n    print { $save } \"\\tAverage\\tlog2\\tfold (loss/normal) $name\\tp-value $headers[$i]\";\n    print { $saved } \"\\tAverage\\tlog2\\fold (gain/normal) $name\\tp-value $headers[$i]\";\n    }\nclose $fh;\n\nsay \"Did not find it!\" unless $found;\n</code></pre>\n\n<p>It looks like you are going through the data line-by-line, so you don't need to load up an array that you'll go through element-by-element later. Just do it all in the same loop.</p>\n\n<p>I think you're using <code>$temp</code> to output a progress message every 100 elements. Perl has a built-in line counter in <code>$.</code> so you can use that. You can use the modulus operator <code>%</code> to test if it's divisible by 100. If it is (so, no remainder), output your progress message. You don't need to reset <code>$temp</code> because 200, 300, and so on are still divisible by 100.</p>\n\n<p>In your code, you were incrementing <code>$i</code> in the <code>for</code> and in the conditional where you were fooling with <code>$temp</code>. Every 100 elements, you'd increment <code>$i</code> then the <code>for</code> would do it again before the next iteration. You were then skipping every 100th line.</p>\n\n<p>I know what you are doing is more complicated and that hash probably does something, but you can adjust this idea to fit what you are doing.</p>\n\n<p>Lastly, if you want other people to want to help, help them with the liberal use of vertical whitespace to group statements into paragraphs and horizontal whitespace to align common structures. :)</p>\n"}], "owner": {"reputation": 28, "user_id": 4263485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ca6cbe4706e9a8bebc05ed68de7e38?s=128&d=identicon&r=PG", "display_name": "Programmers_must_be_bald", "link": "https://stackoverflow.com/users/4263485/programmers-must-be-bald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 32390267, "answer_count": 1, "score": -3, "last_activity_date": 1441366896, "creation_date": 1441331074, "last_edit_date": 1441366896, "question_id": 32388862, "link": "https://stackoverflow.com/questions/32388862/perl-array-iteration-error-found-error-but-why", "title": "Perl array iteration error - found error but why?", "body": "<p>I have actually caught my offending error in Windows 7 perl 5 v20.  However, I am very interested into why.  I must be messing with the internal iteration somehow, but I wish to know why/how so I may avoid this!  If I mask the part labeled below as offending, I see that I can find the name of interest.  Otherwise, it never finds it!</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hashofhashes;\nmy @headers;\nmy ($i, $temp, $flag)=0;\nopen FILE, '&lt;', 'C:\\direction\\to\\file.txt' or die $!;\nwhile ( $line = &lt;FILE&gt; ) {\n    $line =~ /^(.*?)\\t(.*?)\\t(.*?)\\t/;\n    $hashofhashes{$1}{$2} = $3; # a bit more logic, but this is the idea behind it\n    push @headers, $1;\n}\nclose FILE;\nopen SAVE,  '&gt;', 'C:\\somewhere\\important\\savefile.txt'  or die $!;\nopen SAVED, '&gt;', 'C:\\somewhere\\important\\savefileD.txt' or die $!;\nprint SAVE  \"Name\";\nprint SAVED \"Name\";\nfor ( $i = 0; $i &lt; scalar @headers; $i++ ) {\n    print SAVE \"\\tAverage\\tlog2\\tfold (loss/normal) $headers[$i]\\tp-value $headers[$i]\";\n    print SAVED \"\\tAverage\\tlog2\\fold (gain/normal) $headers[$i]\\tp-value $headers[$i]\";\n    $temp++;\n    print \"$temp: $headers[$i]\\n\";  # visual QC on prompt\n    if ($headers[$i] eq 'Joe') {\n        print \"FOUND IT!!!  $headers[$i]\\n\"; \n        &lt;STDIN&gt;; \n        $flag = 1;\n    }\n    if ($temp == 100) {\n        print \"Have done \" . $i++ . \" of \". scalar @headers . \"\\n\"; \n        $temp = 0;  # this is the offending line!!!\n    }\n    print SAVE \"\\n\"; \n    print SAVED \"\\n\";\n    unless ($flag) {\n        print \"sorry bud!\\n\";\n        die;\n    }\n}\n</code></pre>\n\n<p>The flag idea is new in the code here, but the logic followed in for loop is exact.  QCing reports that there are 2123 different elements stored in the header and 20 are lost.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "url", "parameters"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1441316440, "post_id": 32385729, "comment_id": 52642388, "body": "See also <a href=\"http://stackoverflow.com/questions/17580916/perldancer-how-to-include-a-file-path-as-a-parameter-in-the-uri\">Perl::Dancer how to include a file path as a parameter in the URI</a>"}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1441316618, "post_id": 32385729, "comment_id": 52642463, "body": "Ok @H&#229;konH&#230;gland. i will have a look in that. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "is_accepted": true, "score": 1, "last_activity_date": 1441320358, "creation_date": 1441320358, "answer_id": 32386584, "question_id": 32385729, "link": "https://stackoverflow.com/questions/32385729/how-to-pass-filepath-as-a-parameter-to-url-using-perl/32386584#32386584", "title": "How to pass filepath as a parameter to URL using perl", "body": "<p>the solution was pretty simple. i first need to get the user parameter converted to perl and then work on it accordingly. </p>\n\n<pre><code>$filename   = $cgi-&gt;param('filename');\n</code></pre>\n\n<p>By this code, we will get the filepath from the user in $filename and we can work on the required file. Hope it helps someone. thanks. </p>\n\n<p>The passed parameters to the URL would be as shown below</p>\n\n<pre><code>?filename=\\\\sfoaepmdata.dcc.com\\folder\\data.txt\n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1125, "favorite_count": 0, "accepted_answer_id": 32386584, "answer_count": 1, "score": 0, "last_activity_date": 1441320358, "creation_date": 1441315708, "last_edit_date": 1441316186, "question_id": 32385729, "link": "https://stackoverflow.com/questions/32385729/how-to-pass-filepath-as-a-parameter-to-url-using-perl", "title": "How to pass filepath as a parameter to URL using perl", "body": "<p>I am testing my perl code. I want to pass filepath as a paramter to the URL of the page. </p>\n\n<p>The perl code is dependent on this filepath entirely. </p>\n\n<p>When i set the filepath inside my perl code. (hard coded path), i am able to execute the perl code without any errors. Here is the variable</p>\n\n<pre><code>my $filename=\"\\\\\\\\sfoaepmdata.dcc.com\\\\folder\\\\data.txt\";\n</code></pre>\n\n<p>If i pass it via URL, it doesnt work as expected. Can anyone suggest how to pass filepath as a variable in the URL ?</p>\n\n<p>Here is what all i tried to someohow transfer $filename from url to perl code. </p>\n\n<pre><code>http://apmqa.dcc.com/cgi-bin/test/editor.pl?filename=\\\\\\\\sfoaepmdata.dcc.com\\\\folder\\\\data.txt\nhttp://apmqa.dcc.com/cgi-bin/test/editor.pl?filename=\\\\sfoaepmdata.dcc.com\\folder\\data.txt \nhttp://apmqa.dcc.com/cgi-bin/test/editor.pl?filename=//sfoaepmdata.dcc.com/folder/data.txt\nhttp://apmqa.dcc.com/cgi-bin/test/editor.pl?filename=////sfoaepmdata.dcc.com//folder//data.txt \nhttp://apmqa.dcc.com/cgi-bin/test/editor.pl?filename=file://sfoaepmdata.dcc.com/folder/data.txt\nhttp://apmqa.dcc.com/cgi-bin/test/editor.pl?filename=file:////sfoaepmdata.dcc.com//folder//data.txt\nhttp://apmqa.dcc.com/cgi-bin/test/editor.pl?filename=http:////sfoaepmdata.dcc.com//folder//data.txt\nhttp://apmqa.dcc.com/cgi-bin/test/editor.pl?filename=http://sfoaepmdata.dcc.com/folder/data.txt\n</code></pre>\n\n<p>The above data may seem confusing. But please only read values after ?ffilename. Can anyone pls suggest. </p>\n\n<p>I also tried passing other normal paramters and it worked. for e.g. \n$account=GEL; the filepath doesnt work. </p>\n\n<pre><code>http://apmqa.dcc.com/cgi-bin/test/editor.pl?account=GEL\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1441315588, "post_id": 32385603, "comment_id": 52642038, "body": "Well, not perfectly. You do have those <code>Wide character in print at ...</code> warnings in there."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1441315840, "post_id": 32385603, "comment_id": 52642147, "body": "You should use the <a href=\"http://perldoc.perl.org/utf8.html\" rel=\"nofollow noreferrer\">utf8</a> pragma and also use the <a href=\"http://perldoc.perl.org/open.html\" rel=\"nofollow noreferrer\">open</a> pragma to enable UTF-8 encoding on STDOUT"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1441317808, "post_id": 32385902, "comment_id": 52642891, "body": "or instead of number 3,  do <code>JSON-&gt;new-&gt;ascii(1)</code> instead of <code>-&gt;utf8(1)</code>."}, {"owner": {"reputation": 3, "user_id": 5298578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ba67f81b698c0dfba51f81462d4c42?s=128&d=identicon&r=PG&f=1", "display_name": "dweston", "link": "https://stackoverflow.com/users/5298578/dweston"}, "edited": false, "score": 0, "creation_date": 1441317980, "post_id": 32385902, "comment_id": 52642960, "body": "I&#39;ve done that, however I still get  &quot;detail_sex&quot; : &quot;&#229;&#165;&#179;&quot; as a result."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1441320600, "post_id": 32385902, "comment_id": 52643729, "body": "@ysth You&#39;re right---#3 was unnecessary because the <code>JSON</code> module is <i>already</i> encoding as UTF-8."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 3, "user_id": 5298578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ba67f81b698c0dfba51f81462d4c42?s=128&d=identicon&r=PG&f=1", "display_name": "dweston", "link": "https://stackoverflow.com/users/5298578/dweston"}, "edited": false, "score": 0, "creation_date": 1441320641, "post_id": 32385902, "comment_id": 52643743, "body": "@dweston I just updated my answer with an example. Can you give that a shot?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1441321112, "post_id": 32385902, "comment_id": 52643862, "body": "but adding -&gt;ascii is still a good idea if you are sending the output over channels that may not be utf-8 friendly.  it produces <code>{&quot;detail_sex&quot;:&quot;\\u5973&quot;}</code> instead of <code>{&quot;detail_sex&quot;:&quot;\u5973&quot;}</code>"}, {"owner": {"reputation": 3, "user_id": 5298578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ba67f81b698c0dfba51f81462d4c42?s=128&d=identicon&r=PG&f=1", "display_name": "dweston", "link": "https://stackoverflow.com/users/5298578/dweston"}, "edited": false, "score": 0, "creation_date": 1441730508, "post_id": 32385902, "comment_id": 52788016, "body": "That worked like gangbusters! However, I&#39;m still confused as to the differences in methods.  Edit: Actually, all I changed was adding       use utf8;     use JSON;  and it worked."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441735305, "post_id": 32385902, "comment_id": 52790649, "body": "Excellent! If you think this is a good solution to your problem, please mark it as the <a href=\"http://stackoverflow.com/help/someone-answers\">accepted answer</a>."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 3, "last_activity_date": 1441320542, "last_edit_date": 1441320542, "creation_date": 1441316515, "answer_id": 32385902, "question_id": 32385603, "link": "https://stackoverflow.com/questions/32385603/chinese-character-doesnt-always-display-correctly/32385902#32385902", "title": "Chinese character doesn&#39;t always display correctly", "body": "<ol>\n<li>If it isn't already, save your source code in UTF-8.</li>\n<li><p>Tell Perl that your script contains UTF-8 with the <a href=\"http://perldoc.perl.org/utf8.html\" rel=\"nofollow\"><code>utf8</code></a> pragma:</p>\n\n<pre><code>use utf8;\n</code></pre></li>\n</ol>\n\n<p>Here's a very short test case for you to try:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nuse JSON;\n\nprint encode_json({detail_sex =&gt; '\u5973'});\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5298578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ba67f81b698c0dfba51f81462d4c42?s=128&d=identicon&r=PG&f=1", "display_name": "dweston", "link": "https://stackoverflow.com/users/5298578/dweston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 32385902, "answer_count": 1, "score": 0, "last_activity_date": 1441320542, "creation_date": 1441315173, "last_edit_date": 1441318452, "question_id": 32385603, "link": "https://stackoverflow.com/questions/32385603/chinese-character-doesnt-always-display-correctly", "title": "Chinese character doesn&#39;t always display correctly", "body": "<p>I've been trying to pass a Chinese character to a JSON hash but it always comes out as \"\u00e5\u00a5\u00b3\"</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse JSON;\n# variable declaration\nmy $gender = \"Female\"\n# turning english selection to Chinese character\nif ($gender eq 'Female') {\n    $gender = \"\u5973\";\n} elsif ($gender eq 'Male') {\n    $gender = \"\u7537\";\n} elsif ($gender eq 'Decline to state') {\n    $gender = \"\";\n}\n\nmy $hash_ref = {};\n\n$hash_ref-&gt;{'detail_sex'} = $gender;\n\nprint JSON-&gt;new-&gt;utf8(1)-&gt;pretty(1)-&gt;encode($hash_ref);`\n</code></pre>\n\n<p>This is the result I get:</p>\n\n<pre><code>{\n   \"detail_sex\" : \"\u00e5\u00a5\u00b3\"\n}\n</code></pre>\n\n<p>However, when I test another script the chinese character comes out perfectly.</p>\n\n<pre><code>#!/usr/bin/perl\nuse Digest::MD5 qw(md5 md5_hex md5_base64);\nuse Encode qw(encode_utf8);\nuse JSON;\n\nmy $userid  = 1616589;\nmy $time    = 2015811;\nmy $ejob_id = 1908063;\n\n# md5 encryption without chinese characters\nmy $md5_hex_sign = md5_hex($userid,$time,$job_id);\nprint \"$md5_hex_sign\\n\";\n\n# seeing if character will print\nprint \"let's try encoding and decrypting \\n\"; \nprint \"the character to encrypt.\\n\";\nprint \"\u5973\\n\";\nprint \"unicode print out\\n\";\nprint \"\\x{5973}\\n\";\nmy $char = \"\\x{5973}\";\nmy $sign_char = \"\u5973\";\nprint \"unicode stored in \\$char variable \\n\";\nprint $char, \"\\n\";\nprint \"md5 encryption of said chinese character from \\$char with utf8 encoding\\n\";\nprint md5_hex(encode_utf8($char)), \"\\n\";\nprint \"md5 encryption of wide character with utf8 encoding\\n\";\nprint md5_hex(encode_utf8(\"\u5973\")), \"\\n\";\nmy $sign_gender = md5_hex(encode_utf8($sign_char));\n#JSON\n\nprint \"JSON print out\\n\";\n\nmy $hash_ref = {};\n\n$hash_ref-&gt;{'gender'} = $char;\n$hash_ref-&gt;{'md5_gender'} = md5_hex(encode_utf8($char));\n$hash_ref-&gt;{'char_gender'} = md5_hex(encode_utf8(\"\u5973\"));\n$hash_ref-&gt;{'sign_gender'} = $sign_gender;\nprint JSON-&gt;new-&gt;utf8(1)-&gt;pretty(1)-&gt;encode($hash_ref);`\n</code></pre>\n\n<p>Here is the result:</p>\n\n<pre><code>160a6f4bf9aec1c2d102330716ca8f4e\nlet's try encoding and decrypting\nthe character to encrypt.\n\u5973\nunicode print out\nWide character in print at md5check.pl line 18.\n\u5973\nunicode stored in $char variable\nWide character in print at md5check.pl line 22.\n\u5973\nmd5 encryption of said chinese character from $char with utf8 encoding\n87c835a6b1749374a7524a596087b296\nmd5 encryption of wide character with utf8 encoding\n06c82a10da7e297180d696ed92f524c1\nJSON print out\n{\n   \"char_gender\" : \"06c82a10da7e297180d696ed92f524c1\",\n   \"md5_gender\" : \"87c835a6b1749374a7524a596087b296\",\n   \"sign_gender\" : \"06c82a10da7e297180d696ed92f524c1\",\n   \"gender\" : \"\u5973\"\n}\n</code></pre>\n\n<p>Would someone kindly explain to me what is going on?</p>\n\n<p>Things I've tried:</p>\n\n<pre><code>use utf8;\nprint JSON-&gt;new-&gt;ascii(1)-&gt;pretty(1)-&gt;encode($hash_ref);\n</code></pre>\n\n<p>But I still get this as a result:\n{\n       \"detail_sex\" : \"\u00e5\u00a5\u00b3\"\n}</p>\n\n<p>I'm mostly concerned about the Chinese character (\u5973) being md5 encrypted instead of \"\u00e5\u00a5\u00b3\" being encrypted. </p>\n"}, {"tags": ["perl", "oop", "scope", "lexical-scope"], "comments": [{"owner": {"reputation": 984, "user_id": 1107958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Zy3c.jpg?s=128&g=1", "display_name": "swornabsent", "link": "https://stackoverflow.com/users/1107958/swornabsent"}, "edited": false, "score": 0, "creation_date": 1441311583, "post_id": 32384605, "comment_id": 52640096, "body": "An easy if unimpressive hack would be to just store the original value in a new variable at the top of your scope, do your stuff, and restore the original value at the bottom."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1441312146, "post_id": 32384605, "comment_id": 52640362, "body": "if can you call different methods(with different implementation) inside block or outside block this will work."}], "answers": [{"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1441313513, "post_id": 32385012, "comment_id": 52641092, "body": "You didn&#39;t get the question at all?"}, {"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1441314075, "post_id": 32385012, "comment_id": 52641387, "body": "no, misunderstood context. things like local, eval, and a lot of perl keywords do different things depending on context. It didn&#39;t click that the issue was local being called on a method call"}, {"owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1441314146, "post_id": 32385012, "comment_id": 52641417, "body": "BUT, you are more than allowed to answer questions yourself instead of posting to a topic just to berate ;)"}], "tags": [], "owner": {"reputation": 290, "user_id": 318661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9991dc0d9091134cdeb040cc1c28a84b?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/318661/steve"}, "is_accepted": false, "score": -1, "last_activity_date": 1441313976, "last_edit_date": 1441313976, "creation_date": 1441312690, "answer_id": 32385012, "question_id": 32384605, "link": "https://stackoverflow.com/questions/32384605/locally-change-an-attribute-of-a-class-in-perl/32385012#32385012", "title": "Locally change an attribute of a class in Perl", "body": "<p>I was completely misunderstanding what was occurring there. You cannot use local on subroutine calls, that is the issue you are having.</p>\n\n<p>Lets use a code example from one that I know works and try to explain what eval is actually doing.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse Cwd;\n\nprint getcwd() . \"\\n\";\n\neval{\n        local @INC = ('/tmp');\n        require 'test.pl';\n\n        print 'local: ' . Dumper(\\@INC);\n};\nprint Dumper(\\@INC);\n</code></pre>\n\n<p>That works because I am modifying a variable, not calling on another subroutine to modify my variable.</p>\n\n<p>In order for it to work as you are expecting, you would have to create a deep copy of the object to modify in local scope or something of the sort. (which I'm pretty sure is what is occurring in the first place)</p>\n\n<p>local creates scope for the given brackets, eval, OR file (your problem there)</p>\n\n<p>If you were able to access the elements directly without the method call (bad practice IMHO) you would likely be able to localize the scope of that element in the object. </p>\n\n<p>Example:</p>\n\n<p>name.pm:</p>\n\n<pre><code>package name;\nuse strict;\nuse warnings;\n\n{\n\n    sub new {\n        my ($class,$name) = @_;\n        my $self = bless {}, $class;\n        $self-&gt;{'name'} = $name if defined $name;\n        return $self;\n    }\n\n    sub name\n    {\n        my ($self,$name) = @_;\n        $self-&gt;{'name'} = $name if defined $name;\n        return $self-&gt;{'name'};\n    }\n}\n</code></pre>\n\n<p>index.pl:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings FATAL =&gt; 'all';\n\nuse name;\n\nmy $obj = name-&gt;new('test');\n\nprint $obj-&gt;{'name'} . \"\\n\";\n\n{\n    local $obj-&gt;{'name'} = 'test2';\n\n    print $obj-&gt;{'name'} . \"\\n\";\n}\n\nprint $obj-&gt;{'name'} . \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 6, "last_activity_date": 1441316721, "last_edit_date": 1441316721, "creation_date": 1441314317, "answer_id": 32385397, "question_id": 32384605, "link": "https://stackoverflow.com/questions/32384605/locally-change-an-attribute-of-a-class-in-perl/32385397#32385397", "title": "Locally change an attribute of a class in Perl", "body": "<p>This might not be as much encapsulation as you were asking for, but you can <code>local</code>-ize an attribute of a hash. This outputs <code>\"CarlLennyCarl\"</code></p>\n\n<pre><code>sub Object::new { bless { _name =&gt; $_[1] }, $_[0] } }\nsub Object::name { $_[0]-&gt;{_name} }\n\nmy $obj = Object-&gt;new(\"Carl\");\nprint $obj-&gt;name;\n{\n    local $obj-&gt;{_name} = \"Lenny\";\n    print $obj-&gt;name;\n}\nprint $obj-&gt;name;\n</code></pre>\n\n<hr>\n\n<p>You could also <code>local</code>-ize the entire method. This also outputs <code>\"CarlLennyCarl\"</code>:</p>\n\n<pre><code>sub Object::new { bless { _name =&gt; $_[1] }, $_[0] } }\nsub Object::name { $_[0]-&gt;{_name} }\n\nmy $obj = Object-&gt;new(\"Carl\");\nprint $obj-&gt;name;\n{\n    local *Object::name = sub { \"Lenny\" };\n    print $obj-&gt;name;\n}\nprint $obj-&gt;name;\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 32385397, "answer_count": 2, "score": 5, "last_activity_date": 1441316721, "creation_date": 1441311032, "question_id": 32384605, "link": "https://stackoverflow.com/questions/32384605/locally-change-an-attribute-of-a-class-in-perl", "title": "Locally change an attribute of a class in Perl", "body": "<p>I have come across an odd problem in one of my Perl scripts.  I have a Perl object.  Within a certain scope I want one of the objects attributes to be changed, but I want the attribute to be restored to it's old value after it leaves the scope.</p>\n\n<p>Example:</p>\n\n<pre><code>my $object = Object-&gt;new('name' =&gt; 'Bob');\n{\n     # I know this doesn't work, but it is the best way\n     # I can represent what I amd trying to do.\n     local $object-&gt;name('Lenny');\n\n     # Prints \"Lenny\"\n     print $object-&gt;name();\n}\n\n# Prints \"Bob\"\nprint $object-&gt;name();\n</code></pre>\n\n<p>Is there a way to achieve something like this?</p>\n"}, {"tags": ["perl", "fork"], "comments": [{"owner": {"reputation": 12967, "user_id": 1168588, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BxNie.jpg?s=128&g=1", "display_name": "PaulProgrammer", "link": "https://stackoverflow.com/users/1168588/paulprogrammer"}, "edited": false, "score": 0, "creation_date": 1441304804, "post_id": 32382866, "comment_id": 52636270, "body": "Are you using green threads or native threads? <code>perl -v</code> will help."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 5, "creation_date": 1441305013, "post_id": 32382866, "comment_id": 52636412, "body": "On U*x (including OSX) the child has no access to the parent. However, it inherits a complete copy of the parent&#39;s memory (which is typically optimized to be copy-on-write). On other platforms, some details may differ."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1441305744, "post_id": 32382866, "comment_id": 52636845, "body": "The child has access to a snapshot of the parent data taken at the moment of the fork."}, {"owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "reply_to_user": {"reputation": 12967, "user_id": 1168588, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BxNie.jpg?s=128&g=1", "display_name": "PaulProgrammer", "link": "https://stackoverflow.com/users/1168588/paulprogrammer"}, "edited": false, "score": 0, "creation_date": 1441311467, "post_id": 32382866, "comment_id": 52640036, "body": "@PaulProgrammer darwin-thread-multi-2level"}, {"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "edited": false, "score": 0, "creation_date": 1441404504, "post_id": 32382866, "comment_id": 52682573, "body": "Could you just have the child process pass its URLs (without saving them) to the parent process for storage once the child has processed them, or does the child need them for future reference? If the child doesn&#39;t need to keep them around, you could fork using IO::Pipe::Producer to pass the URLs to the parent."}], "answers": [{"comments": [{"owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "edited": false, "score": 0, "creation_date": 1441311479, "post_id": 32383603, "comment_id": 52640042, "body": "Thanks, but why does it say they have the same address when I print the hash"}, {"owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "edited": false, "score": 0, "creation_date": 1441311821, "post_id": 32383603, "comment_id": 52640210, "body": "<code>say \\%hash; if(fork == 0){ \tsay \\%hash }</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "edited": false, "score": 5, "creation_date": 1441312191, "post_id": 32383603, "comment_id": 52640388, "body": "Yes, the same address in two different address spaces. Kinda like two people having the same street address in two different cities. It doesn&#39;t mean they share a bathroom. Memory addresses don&#39;t refer to a location on a memory chip, but a location in the process&#39;s address space."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "edited": false, "score": 0, "creation_date": 1441312604, "post_id": 32383603, "comment_id": 52640616, "body": "<code>$hash{abc} = 123; if(my $pid = fork) { waitpid($pid, 0); say $hash{abc} }  else { $hash{abc} = 456; }</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1441307630, "last_edit_date": 1441307630, "creation_date": 1441307292, "answer_id": 32383603, "question_id": 32382866, "link": "https://stackoverflow.com/questions/32382866/when-i-fork-a-process-in-perl-can-the-child-process-see-its-parents-data/32383603#32383603", "title": "When I fork a process in Perl, can the child process see its parent&#39;s data", "body": "<p>No. Each process has its own address space. The child's address space starts as a copy of its parent's, but changing either will have no effect on the other. You'll need to explicitly exchange the data you want to \"share\" by using one of a variety of possible communication channel (pipes, memcached, database, file, etc).</p>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 32383603, "answer_count": 1, "score": 2, "last_activity_date": 1441307630, "creation_date": 1441304573, "question_id": 32382866, "link": "https://stackoverflow.com/questions/32382866/when-i-fork-a-process-in-perl-can-the-child-process-see-its-parents-data", "title": "When I fork a process in Perl, can the child process see its parent&#39;s data", "body": "<p>Say I am building a webcrawler and I have a hash that contains all the visited URLs.</p>\n\n<p>When I fork child processes I would like to be able to access the hash of visited URLs from the child process but I don't want to copy the hash since it's big and it will drain the computer's memory.</p>\n\n<p>When I fork using Parallel::ForkManager and I print the address of a hash that was declared in the parent process I get the same address when I print from the parent and from the child e.g HASH(0x7fc59d017f38)</p>\n\n<p>But I want to make sure the data structure isn't being copied to the child process </p>\n"}, {"tags": ["windows", "perl", "shell", "batch-file", "netstat"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1441302647, "post_id": 32382216, "comment_id": 52635090, "body": "What args are you using to generate the input, and please provide a sample of exactly the output should look like."}, {"owner": {"reputation": 1, "user_id": 5248244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f85810b5f1bc0b6593763b8af411f30?s=128&d=identicon&r=PG&f=1", "display_name": "monkeychef", "link": "https://stackoverflow.com/users/5248244/monkeychef"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1441303377, "post_id": 32382216, "comment_id": 52635503, "body": "My original input from the Linux script is:                         ESTABLISHED=<code>netstat -nat | egrep &#39;ESTABLISHED&#39; | wc -l</code> TIME_WAIT=<code>netstat -nat | egrep &#39;TIME_WAIT&#39; | wc -l</code> CLOSE_WAIT=<code>netstat -nat | egrep &#39;CLOSE_WAIT&#39; | wc -l</code> SYN_SENT=<code>netstat -nat | egrep &#39;SYN_SEND&#39; | wc -l</code> SYN_RECV=<code>netstat -nat | egrep &#39;SYN_RECVEIVED&#39; | wc -l</code> echo $ESTABLISHED echo $TIME_WAIT echo $CLOSE_WAIT echo $SYN_SENT echo $SYN_RECV      The output should just the count of each connection status on 5 separate lines."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441305652, "post_id": 32382216, "comment_id": 52636797, "body": "@monkeychef You should edit your original post with that information."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5248244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f85810b5f1bc0b6593763b8af411f30?s=128&d=identicon&r=PG&f=1", "display_name": "monkeychef", "link": "https://stackoverflow.com/users/5248244/monkeychef"}, "edited": false, "score": 0, "creation_date": 1441307198, "post_id": 32383348, "comment_id": 52637694, "body": "This is fantastic, thank you! I attempted to add two other status&#39;s (syn_sent and syn_received) by modifying line 6 and adding two lines at the end however that seems to break the script. Is there a certain way this needs to be done?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 1, "user_id": 5248244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f85810b5f1bc0b6593763b8af411f30?s=128&d=identicon&r=PG&f=1", "display_name": "monkeychef", "link": "https://stackoverflow.com/users/5248244/monkeychef"}, "edited": false, "score": 0, "creation_date": 1441326912, "post_id": 32383348, "comment_id": 52645194, "body": "I&#39;ve made some significant efficiency changes. If you want to add more entries, put them in the <code>@wanted</code> list. The output prints in the order the <code>@wanted</code> list is in. You can add/remove from that list and it will not affect anything other than the output."}, {"owner": {"reputation": 1, "user_id": 5248244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f85810b5f1bc0b6593763b8af411f30?s=128&d=identicon&r=PG&f=1", "display_name": "monkeychef", "link": "https://stackoverflow.com/users/5248244/monkeychef"}, "edited": false, "score": 1, "creation_date": 1441379031, "post_id": 32383348, "comment_id": 52670592, "body": "Thank you so much for your help, this was fantastic!"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1441325756, "last_edit_date": 1441325756, "creation_date": 1441306355, "answer_id": 32383348, "question_id": 32382216, "link": "https://stackoverflow.com/questions/32382216/script-that-only-counts-established-time-wait-and-closed-wait-connections-usin/32383348#32383348", "title": "Script that only counts Established, TIME_WAIT, and Closed Wait connections using Netstat", "body": "<p>The following (should) work without making any changes on both *nix and Windows. I've tested it on Ubuntu w/ Perl v.5.18.0, Linux Mint w/ Perl v5.22.0 and Win2k8R2 (w/ Strawberry Perl v5.8.8).</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @stat = split '\\n', `netstat -nat`;\n\nmy @wanted = qw(\n                ESTABLISHED\n                TIME_WAIT\n                CLOSED_WAIT\n                SYN_SENT\n                SYN_RECV\n            );\n\nmy %data = map {$_ =&gt; 0} @wanted;\n\nfor (@stat){\n    s/^\\s+//;\n\n    my $status;\n\n    if ($^O eq 'MSWin32'){\n        $status = (split)[3];\n    }\n    else {\n        $status = (split)[5];\n    }\n\n    next if ! $status;\n\n    $data{$status}++ if defined $data{$status};\n}\n\nprint \"$data{$_}\\n\" for @wanted;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5248244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f85810b5f1bc0b6593763b8af411f30?s=128&d=identicon&r=PG&f=1", "display_name": "monkeychef", "link": "https://stackoverflow.com/users/5248244/monkeychef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1026, "favorite_count": 0, "accepted_answer_id": 32383348, "answer_count": 1, "score": -2, "last_activity_date": 1441325756, "creation_date": 1441302187, "question_id": 32382216, "link": "https://stackoverflow.com/questions/32382216/script-that-only-counts-established-time-wait-and-closed-wait-connections-usin", "title": "Script that only counts Established, TIME_WAIT, and Closed Wait connections using Netstat", "body": "<p>I'm trying to make a script for Windows that will only count the number of Established, Time_Wait, and Closed_Wait connections on a system and print them in command prompt. I had already made a shell script that can do this on Linux boxes, but shell scripts to not work in Windows. I attempted to use a .bat in order to execute the script but that is not working (probably because it's still a shell script in Windows :/)The reason why it must only show Established, Time_Wait, and Closed_Wait is because the script is being used by a monitoring program that will fail if any other connection types show up. Can anyone make a suggestion? Thanks!</p>\n"}, {"tags": ["perl", "config"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 6, "creation_date": 1441296833, "post_id": 32380634, "comment_id": 52631763, "body": "It is already implemented in <a href=\"https://metacpan.org/pod/Config::Simple\" rel=\"nofollow noreferrer\">Config::Simple</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1441297957, "post_id": 32380634, "comment_id": 52632461, "body": "What have you tried so far? What errors are you getting from your code? What isn&#39;t working for you?"}], "answers": [{"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1441304285, "post_id": 32381149, "comment_id": 52635963, "body": "Config::IniFiles is what I normally use for this sort of task."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1441298317, "creation_date": 1441298317, "answer_id": 32381149, "question_id": 32380634, "link": "https://stackoverflow.com/questions/32380634/perl-parse-a-file-and-grab-blocks/32381149#32381149", "title": "Perl : parse a file and grab blocks", "body": "<p>Don't reinvent the wheel. There are plenty of existing modules for working with INI-style files, including <a href=\"https://metacpan.org/pod/Config::Tiny\" rel=\"nofollow\">Config::Tiny</a>, <a href=\"https://metacpan.org/pod/Config::INI\" rel=\"nofollow\">Config::INI</a>, and <a href=\"https://metacpan.org/pod/Config::IniFiles\" rel=\"nofollow\">Config::IniFiles</a>, just to name a few.</p>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441308630, "post_id": 32382954, "comment_id": 52638485, "body": "Would it not be easier to just <a href=\"https://metacpan.org/pod/Config::IniFiles#USAGE----Tied-Hash\" rel=\"nofollow noreferrer\"><code>tie</code> a hash</a> into the Config::IniFiles object?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1441312474, "post_id": 32382954, "comment_id": 52640530, "body": "Depends on your definition of easy and what you&#39;re going to do with the data after. You could <code>tie</code> if you like. I tend to not like them since I feel like I&#39;m breaking encapsulation. When I make my own hash I can do it any way that I like or the way the next step expects."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1441305245, "last_edit_date": 1441305245, "creation_date": 1441304910, "answer_id": 32382954, "question_id": 32380634, "link": "https://stackoverflow.com/questions/32380634/perl-parse-a-file-and-grab-blocks/32382954#32382954", "title": "Perl : parse a file and grab blocks", "body": "<p>Instead of worrying about getting a hash, be satisfied with getting the data. If you give the top a section name, you have an <a href=\"https://en.wikipedia.org/wiki/INI_file\" rel=\"nofollow\">INI File</a>:</p>\n\n<pre><code>[Default]\nauthreq=false\ndefault.secured=false\nport=3181\nprotocol=TCP\nseclevel=2\nsecured=false\n[serv-test]\nparent=PRODUCTION.Windows\nhost=1.1.1.1\n[citrix]\nparent=PRODUCTION.Windows\nhost=1.1.1.2\n[cluster-serv]\nparent=PRODUCTION.Unix._INFRA\nhost=1.1.1.3\nport=3182\n</code></pre>\n\n<p>Now you can use <a href=\"http://www.metacpan.org/module/Config::IniFiles\" rel=\"nofollow\">Config::IniFiles</a>:</p>\n\n<pre><code>use v5.10;\n\nuse Config::IniFiles;\n\nmy $cfg = Config::IniFiles-&gt;new(\n    -file =&gt; \"test.ini\"\n    ) or die \"@Config::IniFiles::errors\";\n\nsay \"Port is \", $cfg-&gt;val( 'Default', 'port' );\nsay \"Cluster host is \", $cfg-&gt;val( 'cluster-serv', 'host' );\n</code></pre>\n\n<p>If you really want the hash, that's not so hard:</p>\n\n<pre><code>use Config::IniFiles;\nuse Data::Dumper;\n\nmy $cfg = Config::IniFiles-&gt;new(\n    -file =&gt; \"test.ini\"\n    ) or die \"@Config::IniFiles::errors\";\n\nmy %hash;\nforeach my $section ( $cfg-&gt;Sections ) {\n    foreach my $parameter ( $cfg-&gt;Parameters( $section ) ) {\n        $hash{$section}{$parameter} = $cfg-&gt;val( $section, $parameter );\n        }\n    }\n\nsay Dumper \\%hash;\n</code></pre>\n\n<p>Now you have:</p>\n\n<pre><code>$VAR1 = {\n          'citrix' =&gt; {\n                        'parent' =&gt; 'PRODUCTION.Windows',\n                        'host' =&gt; '1.1.1.2'\n                      },\n          'Default' =&gt; {\n                         'secured' =&gt; 'false',\n                         'port' =&gt; '3181',\n                         'protocol' =&gt; 'TCP',\n                         'default.secured' =&gt; 'false',\n                         'authreq' =&gt; 'false',\n                         'seclevel' =&gt; '2'\n                       },\n          'serv-test' =&gt; {\n                           'host' =&gt; '1.1.1.1',\n                           'parent' =&gt; 'PRODUCTION.Windows'\n                         },\n          'cluster-serv' =&gt; {\n                              'port' =&gt; '3182',\n                              'parent' =&gt; 'PRODUCTION.Unix._INFRA',\n                              'host' =&gt; '1.1.1.3'\n                            }\n        };\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5297601, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_VZs8IjxSB4/AAAAAAAAAAI/AAAAAAAABzw/dkHfHDGqelw/photo.jpg?sz=128", "display_name": "Mat", "link": "https://stackoverflow.com/users/5297601/mat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1441353995, "creation_date": 1441296614, "last_edit_date": 1441305327, "question_id": 32380634, "link": "https://stackoverflow.com/questions/32380634/perl-parse-a-file-and-grab-blocks", "title": "Perl : parse a file and grab blocks", "body": "<p>impossible to parse the file below and grab the blocks in an hash table or simple tab. </p>\n\n<p>I would like to have an hash table with for example </p>\n\n<pre><code>[serv-test] =&gt; parent=PRODUCTION.Windows,host=1.1.1.1\n</code></pre>\n\n<p>Problem is I can delimit the start of a block (with <code>/\\[.*\\]/</code>) but impossible to delimit the end. The end of my blocks is the start of another. </p>\n\n<p>My file: </p>\n\n<pre><code>authreq=false\ndefault.secured=false\nport=3181\nprotocol=TCP\nseclevel=2\nsecured=false\n[serv-test]\nparent=PRODUCTION.Windows\nhost=1.1.1.1\n[citrix]\nparent=PRODUCTION.Windows\nhost=1.1.1.2\n[cluster-serv]\nparent=PRODUCTION.Unix._INFRA\nhost=1.1.1.3\nport=3182\n</code></pre>\n"}, {"tags": ["c#", "excel", "perl", "postgresql"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1441299380, "post_id": 32379209, "comment_id": 52633262, "body": "Do you get those files as CSV or XLS?"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441300509, "post_id": 32379209, "comment_id": 52633907, "body": "@simbabque -- that&#39;s a good question.  They come in as Excel native files.  I do know that Excel will also honk up perfectly good CSV files, but in this case the honking was done prior to us getting it"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441301555, "post_id": 32379209, "comment_id": 52634475, "body": "If you can provide them presets you can fix the cell formating and lock certain things. That might help. Also note different local versions of Excel break stuff differently."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441304434, "post_id": 32379209, "comment_id": 52636049, "body": "The main problem is we can&#39;t control the source.  The data comes to us from any number of sources, including outside vendors and automated jobs.  We control as much as we can, but there are still spreadsheets that come in second, third, fourth-hand where we cannot trace back to the origin"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441308013, "post_id": 32379209, "comment_id": 52638138, "body": "Are you using the excel files directly downstream or is there an import job that reads those into a product database? You might be able to fix more based on a set of rules with perl or something else that&#39;s good at automatically reading and writing the files. Maybe have a full set of coercion rules to fix them based on patterns instead of a lookup. I like the challenge of this question."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441315583, "post_id": 32379209, "comment_id": 52642036, "body": "We are fixing them directly from the spreadsheet.  I have written a C# extension to Excel (using VSTO) that goes out to Postgres and evaluates the &quot;excel-ized&quot; part against the list of real, valid parts.  It runs very quickly, even for thousands of parts.  It is a fun puzzle, but also frustrating.  We recently joined with another company, which is why this issue is new -- a list of new ways Excel can mess up strings"}, {"owner": {"reputation": 257354, "user_id": 398670, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85f50c23bb5e9dfb061af5032bfe8e65?s=128&d=identicon&r=PG", "display_name": "Craig Ringer", "link": "https://stackoverflow.com/users/398670/craig-ringer"}, "edited": false, "score": 1, "creation_date": 1441331947, "post_id": 32379209, "comment_id": 52647051, "body": "You&#39;re going to have to convert both the Excel and PostgreSQL representations into a common form. e.g. for numbers: convert the part number from Excel and from PostgreSQL into a fixed-precision decimal and compare them. Your function must handle scientific notation, etc. The biggest problem you&#39;re going to have is some idiot using binary floating point so you get a part <code>142.00199999</code> instead of <code>142.002</code> or whatever. You&#39;ll need some form of rounding, but that&#39;s going to be hard if your part numbers don&#39;t have a fixed limit on the number of decimal places. Or if they can have multiple periods"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1441352257, "post_id": 32389964, "comment_id": 52653837, "body": "I meant different language/country versions, not releases. That happens because the users enter dates differently in different countries, and because decimal points and commas are handled differently. Stuff that has a <code>.</code> like <code>12.12</code> will be turned into a date in a German Excel and especially when exported to CSV will look like <code>12. Dez</code> or something like that. On the other hand, stuff that has <code>,</code> will be treated as text most likely in a US Excel, but in a German one it&#39;s a floating point number."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441377251, "post_id": 32389964, "comment_id": 52669413, "body": "TimTom -- a brilliantly simple solution -- just as an FYI, I have posted how I actually implemented this to be &quot;hand&#39;s free.&quot;  @simbabque -- all very relevant points; we are global, and I will probably have to find a way to run this program with various regional settings to ensure I maximize the chances of correctly fixing each part.  THANKS TO ALL."}], "tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1441340131, "creation_date": 1441340131, "answer_id": 32389964, "question_id": 32379209, "link": "https://stackoverflow.com/questions/32379209/anticipate-how-excel-will-interpret-a-string-using-postgres-function/32389964#32389964", "title": "Anticipate how Excel will interpret a string using Postgres function", "body": "<p>My recommendation is to extract all your part numbers to excel, save the file after it has finished munging your numbers, then upload the results back to your database as a new table (or a column in the original table). That way you don't have to worry about any cases you didn't handle. It also allows you to index the column if you often do lookups based on this and easily detect any part numbers that end up becoming duplicates after they are munged.</p>\n\n<p>You'll have to have some way to determine what they were before excel got to them though to re-uploaded. If there's a surrogate Id column, you can use that, otherwise do something simple like prefixing the part number with \"Part-\" so that excel will see a string and not touch it.</p>\n\n<p>And if simbabque is correct and different excel versions do different things, you can just run this process through multiple different versions of excel and save the unique munges.</p>\n"}, {"tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 0, "last_activity_date": 1441377127, "creation_date": 1441377127, "answer_id": 32400603, "question_id": 32379209, "link": "https://stackoverflow.com/questions/32379209/anticipate-how-excel-will-interpret-a-string-using-postgres-function/32400603#32400603", "title": "Anticipate how Excel will interpret a string using Postgres function", "body": "<p>In response to Tim Tom's answer, this is a C# program that implements his suggestion...  and I it works great!</p>\n\n<pre><code>    NpgsqlConnection conn = new NpgsqlConnection();\n    conn.Open();\n\n    Excel.Application xl = new Excel.Application();\n    xl.Visible = true;\n    Excel.Workbook wb = xl.Workbooks.Add(1);\n    Excel.Worksheet ws = (Excel.Worksheet)wb.Sheets[1];\n\n    List&lt;string&gt; parts = new List&lt;string&gt;();\n\n    NpgsqlCommand cmd = new NpgsqlCommand(\"select prod_id from mdm.global_item_master\",\n        conn);\n    NpgsqlDataReader reader = cmd.ExecuteReader();\n\n    while (reader.Read())\n        parts.Add(reader.GetString(0));\n\n    reader.Close();\n\n    NpgsqlCopyIn copy = new NpgsqlCopyIn(\n        \"copy mdm.excel_item_id from STDIN WITH NULL AS '' CSV;\", conn);\n    copy.Start();\n\n    NpgsqlCopySerializer cs = new NpgsqlCopySerializer(conn);\n    cs.Delimiter = \",\";\n\n    foreach (string part in parts)\n    {\n        ws.Cells[1, 1].Value2 = part;\n\n        cs.AddString(part);\n        cs.AddString(ws.Cells[1, 1].Text);\n        cs.EndRow();\n    }\n\n    cs.Close();\n    copy.End();\n\n    conn.Close();\n</code></pre>\n"}], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 32389964, "answer_count": 2, "score": 2, "last_activity_date": 1441377446, "creation_date": 1441292556, "last_edit_date": 1441377446, "question_id": 32379209, "link": "https://stackoverflow.com/questions/32379209/anticipate-how-excel-will-interpret-a-string-using-postgres-function", "title": "Anticipate how Excel will interpret a string using Postgres function", "body": "<p>With my workplace, we have part number (item numbers), that, when typed into Excel often get converted into what Excel <em>thinks</em> the user means.</p>\n\n<p>For example, Excel makes these changes:</p>\n\n<pre><code>00001234   =&gt;   1234\n005678.0   =&gt;   5678\n1234.560   =&gt;   1234.56\n</code></pre>\n\n<p>Because the spreadsheets come from sources outside our control, we cannot attempt to control the behavior in Excel itself.</p>\n\n<p>I have a utility that's bolted onto Excel, using VSTO (C#), that goes out to a Postgres table and attempts to look up the \"Excel part number\" and convert it back to the real part number.  Simply put, it looks like this:</p>\n\n<pre><code>create table mdm.excel_lookup (\n    actual_part_number text not null,\n    excel_part_number text not null,\n    lookup_priority integer not null,\n    constraint excel_lookup_pk primary key (actual_part_number)\n);\n</code></pre>\n\n<p>To populate this table, I have written a function using plperl that attempt to take any given string and anticipate how Excel will mess it up.  I believe I have handled numbers with leading zeros and also trailing zeros that are chopped off after the decimal place.</p>\n\n<p>Unfortunately this doesn't cover everything.  I don't think Dates will be possible to anticipate, so I may not even try, unless someone has a great idea.  But what about scientific notation?  Are there other scenarios I haven't thought of?</p>\n\n<p>Our part catalog has over 1.5 million parts, so there are numerous possibilities of what might happen.  If I can capture a fair percentage of them, I'd be happy.</p>\n\n<p>Here is my function thus far.  If anyone has ideas on what I can do to capture additional things that Excel might do, I would welcome the feedback.  Note this, so far, only handles the scenarios I've listed above.</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION excel_part(part_number text)\n  RETURNS text AS\n$BODY$\n\n  my ($input) = @_;\n  if ($input =~ /[A-Za-z]/) {\n    return $input;\n  } elsif ($input =~ /^0+(\\d+)$/) {\n    return $1;\n  } elsif ($input =~ /^(\\d+\\.\\d*)0+$/) {\n    return $1 + 0;\n  } else {\n    return $input;\n  }  \n\n$BODY$\n  LANGUAGE plperl VOLATILE\n  COST 100;\n</code></pre>\n\n<p>Also, I am not married to plperl.  I used it only because I know Perl is really good at text handling.</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441286746, "post_id": 32374350, "comment_id": 52624668, "body": "Can you add a complete example that I can lazily copy/paste please?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441287079, "post_id": 32374350, "comment_id": 52624889, "body": "OK, bear with me. Will have to trim my script down to size a little."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441288585, "post_id": 32374350, "comment_id": 52626005, "body": "OK. Added a minimal example. (It omits a lot of junk, like some of the unit formatting and different summary outputs)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441293053, "post_id": 32374350, "comment_id": 52629331, "body": "Seems like a pretty straight-forward approach."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441294774, "post_id": 32374350, "comment_id": 52630487, "body": "Yes. But doesn&#39;t export to JSON very well at all."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1441305666, "post_id": 32374350, "comment_id": 52636808, "body": "Some minor notes: don&#39;t follow symlinks, which might put you above where you started. I&#39;ve only made that mistake like 50 times. And, File::Spec has bits to canonicalize and break apart directories. Good luck, :)"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441297952, "post_id": 32380339, "comment_id": 52632457, "body": "I was going to suggest something similar, but without the cursor, doing your processing the way you had it already first and iterating over the final structure to create a second one for the JSON processing. But didn&#39;t have time to write it up yet."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1441296084, "last_edit_date": 1441296084, "creation_date": 1441295701, "answer_id": 32380339, "question_id": 32374350, "link": "https://stackoverflow.com/questions/32374350/file-path-into-json-data-structure/32380339#32380339", "title": "File path into JSON data structure", "body": "<p>In the end, I have done it like this:</p>\n\n<p>In the <code>File::Find</code> wanted sub <code>collate_sizes</code>:</p>\n\n<pre><code>my $cursor = $data;\nforeach my $element (\n    File::Spec-&gt;splitdir( $File::Find::dir =~ s/^$starting_path//r ) )\n{\n    $cursor-&gt;{$element}-&gt;{name} = $element;\n    $cursor-&gt;{$element}-&gt;{size} += $blocks * $block_size;\n    $cursor = $cursor-&gt;{$element}-&gt;{children} //= {};\n}\n</code></pre>\n\n<p>To generate a hash of nested directory names. (The <code>name</code> subelement is probably redundant, but whatever).</p>\n\n<p>And then post process it with (using <code>JSON</code>):</p>\n\n<pre><code>my $json_structure = {\n    'name'     =&gt; $user,\n    'size'     =&gt; $data-&gt;{$user}-&gt;{size},\n    'children' =&gt; [],\n};\nprocess_data_to_json( $json_structure, $data-&gt;{$user}-&gt;{children} );\nopen( my $json_out, '&gt;', \"homedir.json\" ) or die $!;\nprint {$json_out} to_json( $json_structure, { pretty =&gt; 1 } );\nclose($json_out);\n\n\nsub process_data_to_json {\n    my ( $json_cursor, $data_cursor ) = @_;\n    if ( ref $data_cursor eq \"HASH\" ) {\n        print \"Traversing $key\\n\";\n        my $newelt = {\n            'name' =&gt; $key,\n            'size' =&gt; $data_cursor-&gt;{$key}-&gt;{size},\n        };\n        push( @{ $json_cursor-&gt;{children} }, $newelt );\n        process_data_to_json( $newelt, $data_cursor-&gt;{$key}-&gt;{children} );\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1441299256, "post_id": 32381225, "comment_id": 52633189, "body": "There are typos in <code>_</code> in <code>-s _;</code> and <code>-d _;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 8, "creation_date": 1441300437, "post_id": 32381225, "comment_id": 52633868, "body": "@simbabque, I think you mean I should have used <code>$_</code> instead of <code>_</code>, but you would be wrong. <code>_</code> is a handle populated by <code>stat</code> and <code>lstat</code>. This way, I only do one system call, and I only need to check for error once."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1441305600, "post_id": 32381225, "comment_id": 52636753, "body": "Changed to stop following symlinks"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1441305907, "last_edit_date": 1441305907, "creation_date": 1441298551, "answer_id": 32381225, "question_id": 32374350, "link": "https://stackoverflow.com/questions/32374350/file-path-into-json-data-structure/32381225#32381225", "title": "File path into JSON data structure", "body": "<p>If you do your own dir scanning instead of using File::Find, you naturally get the right structure.</p>\n\n<pre><code>sub _scan {\n   my ($qfn, $fn) = @_;\n   my $node = { name =&gt; $fn };\n\n   lstat($qfn)\n      or die $!;\n\n   my $size   = -s _;\n   my $is_dir = -d _;\n\n   if ($is_dir) {\n      my @child_fns = do {\n         opendir(my $dh, $qfn)\n            or die $!;\n\n         grep !/^\\.\\.?\\z/, readdir($dh);\n      };\n\n      my @children;\n      for my $child_fn (@child_fns) {\n         my $child_node = _scan(\"$qfn/$child_fn\", $child_fn);\n         $size += $child_node-&gt;{size};\n         push @children, $child_node;\n      }\n\n      $node-&gt;{children} = \\@children;\n   }\n\n   $node-&gt;{size} = $size;\n   return $node;\n}\n</code></pre>\n\n<p>Rest of the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;    \nno warnings 'recursion';\n\nuse File::Basename qw( basename );\nuse JSON           qw( encode_json );\n\n...    \n\nsub scan { _scan($_[0], basename($_[0])) }\n\nprint(encode_json(scan($ARGV[0] // '.')));\n</code></pre>\n"}], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 0, "accepted_answer_id": 32381225, "answer_count": 2, "score": 6, "last_activity_date": 1441305907, "creation_date": 1441279582, "last_edit_date": 1441288407, "question_id": 32374350, "link": "https://stackoverflow.com/questions/32374350/file-path-into-json-data-structure", "title": "File path into JSON data structure", "body": "<p>I'm doing a disk space report that uses <code>File::Find</code> to collect cumulative sizing in a directory tree. </p>\n\n<p>What I get (easily) from <code>File::Find</code> is the directory name. </p>\n\n<p>e.g.:</p>\n\n<pre><code>/path/to/user/username/subdir/anothersubdir/etc\n</code></pre>\n\n<p>I'm running <code>File::Find</code> to collect sizes beneath: </p>\n\n<pre><code>/path/to/user/username\n</code></pre>\n\n<p>And build a cumulative size report of the directory and each of the subdirectories. </p>\n\n<p>What I've currently got is:</p>\n\n<pre><code>while ( $dir_tree ) {\n   %results{$dir_tree} += $blocks * $block_size;\n   my @path_arr = split ( \"/\", $dir_tree ); \n   pop ( @path_arr );\n   $dir_tree = join ( \"/\", @path_arr ); \n}\n</code></pre>\n\n<p>(And yes, I know that's not very nice.).</p>\n\n<p>The purpose of doing this is so when I <code>stat</code> each file, I add it's size to the current node and each parent node in the tree. </p>\n\n<p>This is sufficient to generate:</p>\n\n<pre><code>username,300M\nusername/documents,150M\nusername/documents/excel,50M\nusername/documents/word,40M\nusername/work,70M\nusername/fish,50M,\nusername/some_other_stuff,30M\n</code></pre>\n\n<p>But I'd like to now turn that in to JSON more like this:</p>\n\n<pre><code>{ \n    \"name\" : \"username\",\n    \"size\" : \"307200\",\n    \"children\" : [\n        { \n            \"name\" : \"documents\",\n            \"size\" : \"153750\",\n            \"children\" : [\n                  { \n                      \"name\" : \"excel\",\n                      \"size\" : \"51200\"\n                   }, \n                   {\n                       \"name\" : \"word\",\n                       \"size\" : \"81920\"\n                   }\n             ]\n         }\n    ]\n}\n</code></pre>\n\n<p>That's because I'm intending to do a D3 visualisation of this structure - loosely based on <a href=\"http://mbostock.github.io/d3/talk/20111116/pack-hierarchy.html\" rel=\"nofollow\">D3 Zoomable Circle Pack</a></p>\n\n<p>So my question is this - what is the neatest way to collate my data such that I can have cumulative (and ideally non cumulative) sizing information, but populating a hash hierarchically.</p>\n\n<p>I was thinking in terms of a 'cursor' approach (and using <code>File::Spec</code> this time): </p>\n\n<pre><code>use File::Spec; \nmy $data;\nmy $cursor = \\$data; \nforeach my $element ( File::Spec -&gt; splitdir ( $File::Find::dir ) ) {\n   $cursor -&gt; {size} += $blocks * $block_size;\n   $cursor = $cursor -&gt; {$element} \n}\n</code></pre>\n\n<p>Although... that's not quite creating the data structure I'm looking for, not least because we basically have to search by hash key to do the 'rolling up' part of the process. </p>\n\n<p>Is there a better way of accomplishing this?</p>\n\n<p>Edit - more complete example of what I have already:</p>\n\n<p></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse File::Find;\nuse Data::Dumper;\n\nmy $block_size = 1024;\n\nsub collate_sizes {\n    my ( $results_ref, $starting_path ) = @_;\n    $starting_path =~ s,/\\w+$,/,;\n    if ( -f $File::Find::name ) {\n        print \"$File::Find::name isafile\\n\";\n        my ($dev,   $ino,     $mode, $nlink, $uid,\n            $gid,   $rdev,    $size, $atime, $mtime,\n            $ctime, $blksize, $blocks\n        ) = stat($File::Find::name);\n\n        my $dir_tree = $File::Find::dir;\n        $dir_tree =~ s|^$starting_path||g;\n        while ($dir_tree) {\n            print \"Updating $dir_tree\\n\";\n            $$results_ref{$dir_tree} += $blocks * $block_size;\n            my @path_arr = split( \"/\", $dir_tree );\n            pop(@path_arr);\n            $dir_tree = join( \"/\", @path_arr );\n        }\n    }\n}\n\nmy @users = qw ( user1 user2 );\n\nforeach my $user (@users) {\n    my $path = \"/home/$user\";\n    print $path;\n    my %results;\n    File::Find::find(\n        {   wanted   =&gt; sub { \\&amp;collate_sizes( \\%results, $path ) },\n            no_chdir =&gt; 1\n        },\n        $path\n    );\n    print Dumper \\%results;\n\n    #would print this to a file in the homedir - to STDOUT for convenience\n    foreach my $key ( sort { $results{$b} &lt;=&gt; $results{$a} } keys %results ) {\n       print \"$key =&gt; $results{$key}\\n\";\n    }\n}\n</code></pre>\n\n<p>And yes - I know this isn't portable, and does a few somewhat nasty things. Part of what I'm doing here is trying to improve on that. (But currently it's a Unix based homedir structure, so that's fine). </p>\n"}, {"tags": ["perl", "cmd"], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1441275658, "post_id": 32372766, "comment_id": 52617070, "body": "print  &quot;\\e[H\\e[J&quot;;    gives me -&gt; &quot;test\u2190[H\u2190[Jhi&quot; on my Console. Same goes for K and M. Those seem to not work with Windows CMD on my System. Will read the &quot;also see&quot; &#39;s now."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1441275027, "creation_date": 1441275027, "answer_id": 32372766, "question_id": 32372475, "link": "https://stackoverflow.com/questions/32372475/delete-line-on-windows-cmd-in-perl/32372766#32372766", "title": "Delete line on Windows CMD in Perl", "body": "<pre><code>print  \"\\e[H\";              # Put the cursor on the first line\nprint  \"\\e[J\";              # Clear from cursor to end of screen\nprint  \"\\e[H\\e[J\";          # Clear entire screen (just a combination of the above)\nprint  \"\\e[K\";              # Clear to end of current line (as stated previously)\nprint  \"\\e[m\";              # Turn off character attributes (eg. colors)\nprintf \"\\e[%dm\", $N;        # Set color to $N (for values of 30-37, or 100-107)\nprintf \"\\e[%d;%dH\", $R, $C; # Put cursor at row $R, column $C (good for \"drawing\")\n</code></pre>\n\n<p>Also see </p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/Term::Screen::Uni\" rel=\"nofollow\">Term::Screen::Uni</a></li>\n<li><a href=\"http://search.cpan.org/~jstowe/Term-Cap-1.17/Cap.pm\" rel=\"nofollow\">Term::Cap</a></li>\n<li><a href=\"https://metacpan.org/pod/Curses\" rel=\"nofollow\">Curses</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1441358819, "post_id": 32393401, "comment_id": 52657675, "body": "Well, this is the Approach that i already got, that did not get me to my target. I want to move one line up. I added to spaces to my Hi string, so it will print Hi instead of Hist. But i wanted Hi  \\ntest instead of test\\nHi. With the \\b you seem to be not able to move back over a linebreak"}, {"owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "edited": false, "score": 0, "creation_date": 1441360471, "post_id": 32393401, "comment_id": 52658693, "body": "why you want to go one line up to achieve the same result ?"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1441554068, "post_id": 32393401, "comment_id": 52715827, "body": "My Situation is I want to Change more than one line written onto the Screen. And thats why i have to go back one line up. This is just a small example to show what i want to do, but as written in my initial post, the crucial part is editing the first and not the second line. How i am able to edit the second line was already answered in my question"}], "tags": [], "owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1441355019, "creation_date": 1441355019, "answer_id": 32393401, "question_id": 32372475, "link": "https://stackoverflow.com/questions/32372475/delete-line-on-windows-cmd-in-perl/32393401#32393401", "title": "Delete line on Windows CMD in Perl", "body": "<p>I know this is not a good programming practice but it will give the result you are looking for. Now you can apply the logic and rewrite it as per your requirement.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nmy $output=\"Hi\";\n#local $| = 1;\n\nprint \"test\\ntest\";\nprint (\"\\b\" x length(\"test\"));\nfor(my $i=0;$i&lt;length(\"test\");$i++)\n{\n    $output .=\" \";\n}\nprint $output;\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>D:\\Study\\perl&gt;perl test1.pl\ntest\nHi\n</code></pre>\n\n<p>this \\b will take the cursor 4 step back  as the length of \"test\" is 4. so the next line that you are going to print should be in length equal to 4 or more. as length of \"hi\" is less than 4 so I added 2 white spaces using for loop, otherwise it will give you an output like \"Hist\";</p>\n"}], "owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1441355019, "creation_date": 1441274231, "question_id": 32372475, "link": "https://stackoverflow.com/questions/32372475/delete-line-on-windows-cmd-in-perl", "title": "Delete line on Windows CMD in Perl", "body": "<p>I am trying to Format the Output inside of a Perl Script. By this, i want to overwrite text in the Console. I already got it to overwrite a line, but i cant go back another line.\nFor example</p>\n\n<pre><code>print \"test\\ntest\";\nprint \"\\rhi  \";\n</code></pre>\n\n<p>Will Output</p>\n\n<pre><code> Test\n Hi\n</code></pre>\n\n<p>What i know want to do, is going a line further up, so that instead of the second test, the first test can be replaced. \\b does nothing in my console, is there another way to go back a line on the Windows cmd?</p>\n"}, {"tags": ["string", "perl", "sockets", "ssl"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 4, "creation_date": 1441273505, "post_id": 32372052, "comment_id": 52615694, "body": "&lt;$socket&gt; will act differently depending on the context. A call to a handle in scalar context will return to you the next line from the handle. A call to the handle in list context will return to you every line. Print is list context where as assigning to a scalar is scaler context."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 3, "creation_date": 1441273644, "post_id": 32372052, "comment_id": 52615810, "body": "try <code>my $content = join(&#39;&#39;,&lt;$socket&gt;);</code>. Join will read <code>&lt;$socket&gt;</code> in list context then join each line together and return a single string, which can then be allocated to your scalar variable."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1441303100, "post_id": 32372548, "comment_id": 52635339, "body": "Or: <code>my $content; { local $&#47;; $content = &lt;$socket&gt;; }</code>"}], "tags": [], "owner": {"reputation": 500, "user_id": 2629741, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SsAk1.png?s=128&g=1", "display_name": "Frank Olschewski", "link": "https://stackoverflow.com/users/2629741/frank-olschewski"}, "is_accepted": true, "score": 2, "last_activity_date": 1441274403, "creation_date": 1441274403, "answer_id": 32372548, "question_id": 32372052, "link": "https://stackoverflow.com/questions/32372052/store-socket-response-to-a-string-in-perl/32372548#32372548", "title": "Store socket response to a string in Perl", "body": "<p>The comment by Chris Doyle is the solution for this problem:</p>\n\n<blockquote>\n  <p><code>&lt;$socket&gt;</code> will act differently depending on the context. A call to a\n  handle in scalar context will return to you the next line from the\n  handle. A call to the handle in list context will return to you every\n  line. Print is list context where as assigning to a scalar is scaler\n  context. \u2013  Chris Doyle 10 mins ago</p>\n  \n  <p>try <code>my $content = join('',&lt;$socket&gt;);</code>. Join will read <code>&lt;$socket&gt;</code> in list \n  context then join each line together and return a single string,\n  which can then be allocated to your scalar variable. \u2013  Chris Doyle 8</p>\n</blockquote>\n"}], "owner": {"reputation": 500, "user_id": 2629741, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SsAk1.png?s=128&g=1", "display_name": "Frank Olschewski", "link": "https://stackoverflow.com/users/2629741/frank-olschewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "accepted_answer_id": 32372548, "answer_count": 1, "score": 4, "last_activity_date": 1441274403, "creation_date": 1441273058, "question_id": 32372052, "link": "https://stackoverflow.com/questions/32372052/store-socket-response-to-a-string-in-perl", "title": "Store socket response to a string in Perl", "body": "<p>I try to connect to a https URL an store the response to a string.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Socket::SSL;\n\nmy $socket = IO::Socket::SSL-&gt;new(\n   PeerHost =&gt; \"google.com\",\n   PeerPort =&gt; \"https\"\n) or die \"Error: $!\";\nprint $socket \"GET / HTTP/1.0\\r\\n\\r\\n\";\nmy $content = &lt;$socket&gt;;\nprint $content;\nprint \"length: \";\nprint length($content);\nprint \"\\n\";\nclose $socket;\n</code></pre>\n\n<p>The output is only the first line of the HTTP Response:</p>\n\n<pre><code>HTTP/1.0 302 Found\nlength: 20\n</code></pre>\n\n<p>When I change the script and print the response with \"print\", the output is the complete repsonse:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Socket::SSL;\n\nmy $socket = IO::Socket::SSL-&gt;new(\n   PeerHost =&gt; \"google.com\",\n   PeerPort =&gt; \"https\"\n) or die \"Error: $!\";\nprint $socket \"GET / HTTP/1.0\\r\\n\\r\\n\";\nprint &lt;$socket&gt;;\nclose $socket;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>HTTP/1.0 302 Found\nCache-Control: private\nContent-Type: text/html; charset=UTF-8\nLocation: https://www.google.de/?gfe_rd=cr&amp;ei=XAroVeuYDMWo8wfioYKQBw\nContent-Length: 259\nDate: Thu, 03 Sep 2015 08:52:44 GMT\nServer: GFE/2.0\nAlternate-Protocol: 443:quic,p=1\nAlt-Svc: quic=\":443\"; p=\"1\"; ma=604800\n\n&lt;HTML&gt;...&lt;/HTML&gt;\n</code></pre>\n\n<p>I do not understan why I cannot store the socket response to a string.</p>\n\n<p>I use Perl v5.14.2</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1441263659, "post_id": 32367829, "comment_id": 52609620, "body": "See <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a> also."}, {"owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "edited": false, "score": 1, "creation_date": 1441360657, "post_id": 32367829, "comment_id": 52658797, "body": "put the first and second condition inside () within the if statement"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1441269308, "post_id": 32367863, "comment_id": 52612988, "body": "<code>and</code> vs <code>&amp;&amp;</code> is irrelevant to the question at hand (they have differing precedence, but that&#39;s a moot point here, so it&#39;s a style point). The important part is the bracketing. I think your answer would be improved if you made that clearer."}, {"owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1441276190, "post_id": 32367863, "comment_id": 52617401, "body": "@Sobrique Thank you for your advice. I&#39;ve tried to improve my answer with your suggestion."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1441293092, "post_id": 32367863, "comment_id": 52629358, "body": "<code>and</code> is not generally preferred to <code>&amp;&amp;</code>; it&#39;s common to use <code>and</code> and <code>or</code> for flow control (e.g. <code>or die</code>), but you can&#39;t just replace all instances of <code>&amp;&amp;</code> and <code>||</code> with <code>and</code> and <code>or</code> willy-nilly. <code>$x = 1 and 0;</code> sets <code>$x</code> to 1; <code>$x = 1 &amp;&amp; 0;</code> sets <code>$x</code> to 0. See the discussion in <a href=\"http://perldoc.perl.org/perlop.html#Logical-or-and-Exclusive-Or\" rel=\"nofollow noreferrer\">perlop</a>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1441293262, "post_id": 32367863, "comment_id": 52629462, "body": "Also, <code>eq</code> and <code>==</code> do completely different things and are not interchangeable. <code>eq</code> is for string equality and <code>==</code> is for numeric equality. <code>1.0 == 1</code> is true, while <code>&#39;1.0&#39; eq &#39;1&#39;</code> is false."}, {"owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1441294471, "post_id": 32367863, "comment_id": 52630277, "body": "@ThisSuitIsBlackNot Yes, actually they are not the same. So I think this question case is boolean context (determining boolean true or false result) and apparently not for flow controlling. I read in some book, because <code>and</code> has lower priority, it is <i>safer</i> to avoid bugs. Excuse me of my degression..."}], "tags": [], "owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "is_accepted": false, "score": 3, "last_activity_date": 1441295970, "last_edit_date": 1441295970, "creation_date": 1441259386, "answer_id": 32367863, "question_id": 32367829, "link": "https://stackoverflow.com/questions/32367829/how-to-use-the-operator-in-perl/32367863#32367863", "title": "How to use the &amp;&amp; operator in Perl", "body": "<p>You may put these conditions <strong>inside</strong> of if-clause.</p>\n\n<pre><code>if (($ARGV[0] eq \"test\") &amp;&amp; ($ARGV[1] eq \"test1\")) {\n    print\"test and test1 Selected\\n\"\n}\n</code></pre>\n\n<p><em>(So my making unnecessary addition with rough description about logical conjunction operators had some confusing problems and caused criticism that I removed it totally.)</em></p>\n\n<p>For your question here, I think that simply <strong>nesting use of bracket</strong> is the point.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 13, "last_activity_date": 1441290482, "last_edit_date": 1441290482, "creation_date": 1441260951, "answer_id": 32368198, "question_id": 32367829, "link": "https://stackoverflow.com/questions/32367829/how-to-use-the-operator-in-perl/32368198#32368198", "title": "How to use the &amp;&amp; operator in Perl", "body": "<p>The syntax for the <code>if</code> statement is:</p>\n\n<pre><code>if (CONDITION) BLOCK\n</code></pre>\n\n<p>so if your condition is</p>\n\n<pre><code>($ARGV[0] eq \"test\") &amp;&amp; ($ARGV[1] eq \"test1\")\n</code></pre>\n\n<p>then you'd use</p>\n\n<pre><code>if (($ARGV[0] eq \"test\") &amp;&amp; ($ARGV[1] eq \"test1\")) { ... }\n</code></pre>\n\n<p>That said, those parens are not needed because <code>&amp;&amp;</code> is meant to be used exactly like that.</p>\n\n<pre><code>if ($ARGV[0] eq \"test\" &amp;&amp; $ARGV[1] eq \"test1\") { ... }\n</code></pre>\n\n<hr>\n\n<p>I don't know why the other two suggested disguising <code>&amp;&amp;</code> with the lower-precedence <code>and</code>. There's a reason symbols are used to for separators (e.g. <code>,</code>, <code>;</code>, <code>{ ... }</code>, etc) and it's because it makes it easier to find boundaries in the code at a glance, improving readability.</p>\n\n<p>As such, the most commonly-used convention by far is to use <code>or</code> and <code>and</code> for flow control (<code>or die</code>, <code>or next</code>, <code>or return</code>, etc.), and use <code>||</code> and <code>&amp;&amp;</code> in expressions (as you did).</p>\n"}], "owner": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8179, "favorite_count": 0, "accepted_answer_id": 32368198, "answer_count": 2, "score": 1, "last_activity_date": 1441295970, "creation_date": 1441259234, "question_id": 32367829, "link": "https://stackoverflow.com/questions/32367829/how-to-use-the-operator-in-perl", "title": "How to use the &amp;&amp; operator in Perl", "body": "<p>I am new to Perl and  am trying to use the following code to execute a print statement if it satisfies two conditions. </p>\n\n<pre><code>if ($ARGV[0] eq \"test\") &amp;&amp; ($ARGV[1] eq \"test1\"){\nprint\"test and test1 Selected\\n\"\n}\n</code></pre>\n\n<p>How can I adjust the code such that it does not throw any errors?</p>\n"}, {"tags": ["perl", "syntax-error", "non-printable"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1441257986, "post_id": 32367494, "comment_id": 52607000, "body": "Hint: read up on the difference between <code>q[]</code> and <code>qq[]</code>."}, {"owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1441260771, "post_id": 32367494, "comment_id": 52608171, "body": "Just did, thank you for the prompt reply. The double quotes around $id_to_test are interpolating the scalar correctly, but I&#39;m still having issues even though my print looks good."}, {"owner": {"reputation": 650, "user_id": 840318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3902bd0964b70f766693ab2a10a3009e?s=128&d=identicon&r=PG", "display_name": "dimir", "link": "https://stackoverflow.com/users/840318/dimir"}, "edited": false, "score": 0, "creation_date": 1441265591, "post_id": 32367494, "comment_id": 52610691, "body": "You shouldn&#39;t be escaping the double quotes in this case."}, {"owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "reply_to_user": {"reputation": 650, "user_id": 840318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3902bd0964b70f766693ab2a10a3009e?s=128&d=identicon&r=PG", "display_name": "dimir", "link": "https://stackoverflow.com/users/840318/dimir"}, "edited": false, "score": 0, "creation_date": 1441266954, "post_id": 32367494, "comment_id": 52611507, "body": "@dimir I&#39;ve tried that as well without luck unfortunately. Received the error: &quot;Syntax error; non-printable chars for cmdline.&quot;"}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 0, "creation_date": 1441282020, "post_id": 32367494, "comment_id": 52621095, "body": "Try passing the parameters in a list, as also suggested in [this answer][1].        [1]: <a href=\"http://stackoverflow.com/questions/19054068/how-to-pass-arguments-to-system-command-in-perl\" title=\"how to pass arguments to system command in perl\">stackoverflow.com/questions/19054068/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "edited": false, "score": 0, "creation_date": 1442258694, "post_id": 32374922, "comment_id": 52999989, "body": "I&#39;ve tried all of the above (except the list approach) and none worked. I even tried the qq() syntax and it did not help. I figured out that the variable is not being interpolated. In other words, $id_to_test isn&#39;t being converted into the value it stores (or points to). I&#39;m wondering why that is, because isn&#39;t qq() supposed to handle the interpolation? @Hambone"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "edited": false, "score": 0, "creation_date": 1442264005, "post_id": 32374922, "comment_id": 53002523, "body": "My guess is that <code>$ids[0]</code> is blank.  You are correct that <code>qq()</code> will interpolate.  Can you just <code>print join &#39;~&#39;, @ids</code> and see if it has a value for <code>$ids[0]</code>?"}, {"owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "edited": false, "score": 0, "creation_date": 1442327258, "post_id": 32374922, "comment_id": 53030962, "body": "I did print join(&quot;, &quot;, @ids_to_test); and  also print(@ids_to_test[0]); and both printed the expected values. I&#39;m not sure what else I can do. @Hambone"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "edited": false, "score": 0, "creation_date": 1442327362, "post_id": 32374922, "comment_id": 53031029, "body": "This may be overstating the obvious, but if you <code>print $cmd</code> does it list the correct ID or is it blank?"}, {"owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "edited": false, "score": 0, "creation_date": 1442347799, "post_id": 32374922, "comment_id": 53043117, "body": "I&#39;m testing this program locally as well as remotely. I guess I was confused and thought the array of IDs (ids_to_test) was being populated both locally and remotely, but it is being populate only locally. When I run the same program remotely, the array is not populated. Which is strange to me to say the least. Moreover, when I do print($cmd) locally the output is fine, remotely however, it&#39;s not. I suppose both problems are related. @Hambone"}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 0, "last_activity_date": 1441281286, "creation_date": 1441281286, "answer_id": 32374922, "question_id": 32367494, "link": "https://stackoverflow.com/questions/32367494/perl-syntax-error-non-printable-chars-for-key-error-executing-cmd-find/32374922#32374922", "title": "Perl: Syntax Error; Non-Printable Chars for Key. Error Executing CMD find", "body": "<p>The problem is when you use the single quote (no interpolation) it's treating your backslash as a literal backslash.  The only time I can think of where you need a backslash as an escape character when using a single quote is when you are escaping a single quote itself or a backslash:</p>\n\n<pre><code>print 'I said \\'hello.\\'';\n</code></pre>\n\n<p>Try something like this:</p>\n\n<pre><code>my $cmd = 'command -c \"dbcommand -a app-f fam -d db; f sub=a, device=' .\n    $id_to_test . ', analog=A; echo -c on; echo -o A_value.txt; /DIS;';\n</code></pre>\n\n<p>This should also work:</p>\n\n<pre><code>my $cmd = 'command -c \"dbcommand -a app-f fam -d db; f sub=a, device=' .\n    \"$id_to_test, analog=A; echo -c on; echo -o A_value.txt; /DIS;\";\n</code></pre>\n\n<p>(or you could have wrapped it in one big <code>\"\"</code> / <code>q{}</code> with no concatenation operator).</p>\n\n<p>And, as others have hinted, <code>qq{}</code> is essentially \"\", with the added advantage that you can include double quote characters without having to escape them.</p>\n"}], "owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442349782, "creation_date": 1441257558, "last_edit_date": 1442349782, "question_id": 32367494, "link": "https://stackoverflow.com/questions/32367494/perl-syntax-error-non-printable-chars-for-key-error-executing-cmd-find", "title": "Perl: Syntax Error; Non-Printable Chars for Key. Error Executing CMD find", "body": "<p>I'm trying to pass a scalar value to the system command but keep having trouble. I'm unsure as to why. Any help would be appreciated at this late hour. </p>\n\n<p><strong>The two errors that I'm getting are:</strong> </p>\n\n<blockquote>\n  <ul>\n  <li><p>Syntax Error; Non-Printable Chars for Key.</p></li>\n  <li><p>Error Executing CMD find.</p></li>\n  </ul>\n</blockquote>\n\n<p>Essentially what I'm trying to pass a string of commands (dbcommand; f; echo;...) within the command \"command.\" </p>\n\n<pre><code>my $id_to_test = $ids[0];\nmy $cmd = q{command -c \"dbcommand -a app-f fam -d db; f sub=a, device=};\n\n$cmd .= q{$id_to_test};\n\n$cmd .= q{, analog=A; echo -c on; echo -o A_value.txt; /DIS;\"};\n\nsystem $cmd;\n\n#system('command-c \"dbcommand-a app-f fam-d db; f sub=a, device=$id_to_test, analog=A; echo -c on; echo -o A_value.txt; /DIS;\"');\n</code></pre>\n\n<p><strong>So now I'm doing:</strong></p>\n\n<pre><code>my $id_to_test = $ids[0];\nmy $cmd = 'command-c \\\"dbcommand-a app-f fam -d db; f sub=a, device=';\n$cmd .= \"$id_to_test\";\n$cmd .= ', analog=A; echo -c on; echo -o A_value.txt; /DIS;\\\"';\nsystem $cmd;\n</code></pre>\n\n<p>and I'm getting the error: </p>\n\n<blockquote>\n  <ul>\n  <li>Syntax error; cmd has invalid character(s) -- \"dbcommand\n  sh: f: command not found\n  -c on\n  -o A_value.txt\n  sh: /DIS: No such file or directory\n  sh: \": command not found</li>\n  </ul>\n</blockquote>\n\n<p>If I do print $cmd; instead, I also get slashes in front of my double quotes, which is not what I want:</p>\n\n<blockquote>\n  <p>command -c \\\"dbcommand -a app -f fam -d db; find sub=a, device=1234567, analog=A; echo -c on; echo -o A_value.txt; /DIS;\\\"</p>\n</blockquote>\n\n<p><strong>Making sure array is populated:</strong></p>\n\n<p>One of the first things I did was to make sure I was adding values to the array correctly by declaring the array, opening the file, and then doing: </p>\n\n<pre><code>while (&lt;$fh&gt;) {\n#Remove any newline characters from line using the chomp() command.\n    chomp;\n    push @ids, \"$_\";\n#   print($ids[$index]);\n#   $index = $index + 1;\n#   print \"$row\\n\";\n}\n\nprint join (\", \", @ids);\nmy $array_size = @ids;\nprint(\"\\n\" . $array_size);\n</code></pre>\n\n<p>when I execute the perl script and it prints <strong>locally*</strong>, everything is as expected -- values are printed and size of array is 3.</p>\n\n<blockquote>\n  <p>123456789, 123456888, 123456789</p>\n  \n  <p>3</p>\n</blockquote>\n\n<p>However, when I print <strong><em>remotely</em></strong>, I only get the last element</p>\n\n<blockquote>\n  <p>, 123456789</p>\n  \n  <p>3</p>\n</blockquote>\n\n<p>even though the size of the array is also 3.</p>\n"}, {"tags": ["perl", "package", "global", "symbols", "explicit"], "comments": [{"owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "edited": false, "score": 0, "creation_date": 1441360734, "post_id": 32366285, "comment_id": 52658857, "body": "you missed ; after my @ids. It should be my @ids;"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "edited": false, "score": 0, "creation_date": 1441252275, "post_id": 32366348, "comment_id": 52605375, "body": "Thank you, such a simple fix. This is what working late gets me. And you&#39;re right, I just noticed it gave me that error."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1441252318, "last_edit_date": 1441252318, "creation_date": 1441249991, "answer_id": 32366348, "question_id": 32366285, "link": "https://stackoverflow.com/questions/32366285/perl-global-symbol-requires-explicit-package-name/32366348#32366348", "title": "Perl: Global Symbol Requires Explicit Package Name", "body": "<p>Your code needs the statement </p>\n\n<pre><code>my $filename;\n</code></pre>\n\n<p>It does not currently contain that statement. It contains the following invalid statement instead:</p>\n\n<pre><code>my @ids my $filename = 'ids.csv';\n</code></pre>\n\n<p>Perl even told you about it.</p>\n\n<pre><code>syntax error at a.pl line 6, near \"@ids\nmy \"\n</code></pre>\n\n<p>Fix the first error first. Do so by adding the missing semi-colon.</p>\n"}], "owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2829, "favorite_count": 0, "accepted_answer_id": 32366348, "answer_count": 1, "score": 1, "last_activity_date": 1441252318, "creation_date": 1441249448, "last_edit_date": 1441250209, "question_id": 32366285, "link": "https://stackoverflow.com/questions/32366285/perl-global-symbol-requires-explicit-package-name", "title": "Perl: Global Symbol Requires Explicit Package Name", "body": "<p>So I've been attempting to find the solution to this but so far everything I've read online has to do with scope issues and not declaring the variables with the <strong><em>my</em></strong> keyword. However, I can't seem to fix the issues because I've declared everything at the top and, to me at least, it seems I don't have scope issues. My errors for the following code are:</p>\n\n<pre><code>Global symbol \"$filename\" requires explicit package name at read_ids.pl line 6.\nGlobal symbol \"$filename\" requires explicit package name at read_ids.pl line 8.\nGlobal symbol \"$filename\" requires explicit package name at read_ids.pl line 9.\nGlobal symbol \"$filename\" requires explicit package name at read_ids.pl line 22.\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n#Create array of IDs.\nmy @ids\nmy $filename = 'ids.csv';\n\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n    or die \"Could not open file '$filename'.\";\n\n#Read line using the readline operators &lt;&gt;.\nwhile (my $row = &lt;$fh&gt;) {\n#Remove any newline characters from line using the chomp() command.\n    chomp $row;\n    push @ids,'$row';\n#  print \"$row\\n\";\n}\n\nforeach (@ids) {\n    print \"$_\\n\";\n}\nprint \"Read '$filename' successfully.\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1441250296, "last_edit_date": 1441250296, "creation_date": 1441249789, "answer_id": 32366319, "question_id": 32366250, "link": "https://stackoverflow.com/questions/32366250/perl-regex-capturing-multiple-instances/32366319#32366319", "title": "Perl regex capturing multiple instances", "body": "<p>Given:</p>\n\n<pre><code>$ echo \"$tgt\"\n\"BLAH1234 xyz BALH3214 xxyyzz BALH3452\"\n</code></pre>\n\n<p>You can do:</p>\n\n<pre><code>$ echo \"$tgt\" | perl -lne 'print join(\"|\", /[A-Z]{4}\\d{4}/g)'\nBLAH1234|BALH3214|BALH3452\n</code></pre>\n\n<p>Or, more explicitly:</p>\n\n<pre><code>my $line=\"BLAH1234 xyz BALH3214 xxyyzz BALH3452\";\nfor ($line=~/[A-Z]{4}\\d{4}/g) {\n    print \"$_\\n\";\n}\n</code></pre>\n\n<p>A global find returns a list.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1441269376, "post_id": 32366404, "comment_id": 52613032, "body": "Think this might benefit from a little expansion - make clear that <code>g</code> returns a list."}], "tags": [], "owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "is_accepted": true, "score": 1, "last_activity_date": 1441250450, "creation_date": 1441250450, "answer_id": 32366404, "question_id": 32366250, "link": "https://stackoverflow.com/questions/32366250/perl-regex-capturing-multiple-instances/32366404#32366404", "title": "Perl regex capturing multiple instances", "body": "<pre><code>my @matches = $string =~ /[A-Z]{4}\\d{4}/g;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4685050, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8580745f8ab040c54b2fa996ff471d96?s=128&d=identicon&r=PG&f=1", "display_name": "Menocode", "link": "https://stackoverflow.com/users/4685050/menocode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 32366404, "answer_count": 2, "score": 1, "last_activity_date": 1441250450, "creation_date": 1441249101, "question_id": 32366250, "link": "https://stackoverflow.com/questions/32366250/perl-regex-capturing-multiple-instances", "title": "Perl regex capturing multiple instances", "body": "<p>$string = \"BLAH1234 xyz BALH3214 xxyyzz BALH3452\"</p>\n\n<p>I want to capture all instances of 4 capital letters in a row followed by 4 numbers. </p>\n\n<p>I did: <code>$line =~ /([A-Z]{4}[0-9]{4})/g</code> but I can only capture the first instance. When I do $2 it says it's uninitialized.</p>\n\n<p>How can I capture all instances? </p>\n"}]