[{"tags": ["perl", "command"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1522880497, "post_id": 49661210, "comment_id": 86332388, "body": "<a href=\"https://metacpan.org/pod/distribution/Tk/Tk.pod\" rel=\"nofollow noreferrer\"><code>Tk</code></a> and <a href=\"https://metacpan.org/pod/Wx\" rel=\"nofollow noreferrer\"><code>Wx</code></a>  are the two mature GUI frameworks I&#39;m aware of for Perl. <code>Tk</code> has its roots in Unix systems and <code>Wx</code> has roots in MSWindows."}, {"owner": {"reputation": 13, "user_id": 9064383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9840095cce19ea185836c7e4476b1f9e?s=128&d=identicon&r=PG&f=1", "display_name": "\u042f\u0448\u0430 \u041a\u0430\u0440\u0430\u0433\u0437\u043e\u0432", "link": "https://stackoverflow.com/users/9064383/%d0%af%d1%88%d0%b0-%d0%9a%d0%b0%d1%80%d0%b0%d0%b3%d0%b7%d0%be%d0%b2"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1522880969, "post_id": 49661210, "comment_id": 86332559, "body": "Im not very familiar with programming, I know only a little bit of java and c++, is it somehow possible to execute a command in cmd with visual basic? Like make it open cmd with the parameters already wroten or (if nothing of that is possible) at least make it generate the command, so you just need to copy it from textbox and paste in cmd."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1522882722, "post_id": 49661210, "comment_id": 86333224, "body": "So this is a visual basic question, not a perl question."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1522902377, "post_id": 49661210, "comment_id": 86338084, "body": "@mob Note there is also <a href=\"https://metacpan.org/pod/Gtk3\" rel=\"nofollow noreferrer\"><code>Gtk3</code></a>. I tested a little bit, and it seems to work fine on my platform (Linux)."}], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 6194845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759b27faabc9c86f6602f8cfabfef492?s=128&d=identicon&r=PG", "display_name": "mshirlaw", "link": "https://stackoverflow.com/users/6194845/mshirlaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1587061154, "last_edit_date": 1587061154, "creation_date": 1522923113, "answer_id": 49669762, "question_id": 49661210, "link": "https://stackoverflow.com/questions/49661210/gui-of-perl-script/49669762#49669762", "title": "Gui of Perl Script", "body": "<p>If you have your script running on a webserver you could potentially build your GUI in HTML and then pass the parameters via POST request to your script. Without some prior knowledge of programming and the http protocol it might take a bit of research to get this setup and running. </p>\n\n<p>There is some more discussion about how you could potentially do this in the answers to the question <a href=\"https://stackoverflow.com/a/30448476/6194845\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 0, "creation_date": 1523156576, "post_id": 49679061, "comment_id": 86441196, "body": "It might be helpful for future viewers if you explain what you did."}, {"owner": {"reputation": 13, "user_id": 9064383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9840095cce19ea185836c7e4476b1f9e?s=128&d=identicon&r=PG&f=1", "display_name": "\u042f\u0448\u0430 \u041a\u0430\u0440\u0430\u0433\u0437\u043e\u0432", "link": "https://stackoverflow.com/users/9064383/%d0%af%d1%88%d0%b0-%d0%9a%d0%b0%d1%80%d0%b0%d0%b3%d0%b7%d0%be%d0%b2"}, "reply_to_user": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 0, "creation_date": 1526571905, "post_id": 49679061, "comment_id": 87806906, "body": "I did this @oldtechaa: <code>Private Sub Button1_Click(sender As System.Object, e As System.EventArgs) Handles Button1.Click         TextBox3.Text = &quot;perl process &quot; &amp; TextBox1.Text &amp; &quot; &quot; &amp; TextBox5.Text &amp; &quot; &quot; &amp; TextBox4.Text &amp; &quot; &quot; &amp; TextBox2.Text     End Sub</code> and that generates the code in a hidden textbox and when you press other button, that executes the code in that textbox: <code>Private Sub Button2_Click(sender As Object, e As EventArgs) Handles Button2.Click         Shell(&quot;cmd.exe &#47;k &quot; + TextBox3.Text)         &#39;Shell(&quot;cmd.exe &#47;c &quot; + TextBox3.Text) End Sub</code>"}], "tags": [], "owner": {"reputation": 13, "user_id": 9064383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9840095cce19ea185836c7e4476b1f9e?s=128&d=identicon&r=PG&f=1", "display_name": "\u042f\u0448\u0430 \u041a\u0430\u0440\u0430\u0433\u0437\u043e\u0432", "link": "https://stackoverflow.com/users/9064383/%d0%af%d1%88%d0%b0-%d0%9a%d0%b0%d1%80%d0%b0%d0%b3%d0%b7%d0%be%d0%b2"}, "is_accepted": true, "score": 0, "last_activity_date": 1522952674, "creation_date": 1522952674, "answer_id": 49679061, "question_id": 49661210, "link": "https://stackoverflow.com/questions/49661210/gui-of-perl-script/49679061#49679061", "title": "Gui of Perl Script", "body": "<p>I actually figured out (somehow) how to do it in Visual Basic, and it works.\nThank you anyways, guys!</p>\n"}], "owner": {"reputation": 13, "user_id": 9064383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9840095cce19ea185836c7e4476b1f9e?s=128&d=identicon&r=PG&f=1", "display_name": "\u042f\u0448\u0430 \u041a\u0430\u0440\u0430\u0433\u0437\u043e\u0432", "link": "https://stackoverflow.com/users/9064383/%d0%af%d1%88%d0%b0-%d0%9a%d0%b0%d1%80%d0%b0%d0%b3%d0%b7%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 1, "accepted_answer_id": 49679061, "answer_count": 2, "score": 0, "last_activity_date": 1587061154, "creation_date": 1522879875, "question_id": 49661210, "link": "https://stackoverflow.com/questions/49661210/gui-of-perl-script", "title": "Gui of Perl Script", "body": "<p>I have a perl script that has parameters (for example) \"perl script.pl (parameter 1) (parameter 2)\"</p>\n\n<p>And I want the script to have gui, so the user puts the two parameters in 2 textbox and then by clicking on a button, the script with those parameters is executed.</p>\n\n<p>If it is not possible with visual basic, please say with what program is it possible to do that.</p>\n"}, {"tags": ["json", "perl", "data-dumper"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1522869648, "post_id": 49657729, "comment_id": 86326949, "body": "It&#39;s simply a boolean value. You should have no problem using it like any other hash element value, ignoring the fact that it&#39;s actually an object."}], "answers": [{"comments": [{"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 1, "creation_date": 1522881588, "post_id": 49659551, "comment_id": 86332799, "body": "1. These variables are not documented, so it could be changed in the future. 2. Why would you want to load booleans as strings?"}, {"owner": {"reputation": 649, "user_id": 2784466, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/100001914302787/picture?type=large", "display_name": "Boontawee Home", "link": "https://stackoverflow.com/users/2784466/boontawee-home"}, "reply_to_user": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 0, "creation_date": 1522923170, "post_id": 49659551, "comment_id": 86349361, "body": "I just want to dump data correctly.  Something like JSON Viewer."}], "tags": [], "owner": {"reputation": 649, "user_id": 2784466, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/100001914302787/picture?type=large", "display_name": "Boontawee Home", "link": "https://stackoverflow.com/users/2784466/boontawee-home"}, "is_accepted": false, "score": 1, "last_activity_date": 1522872486, "creation_date": 1522872486, "answer_id": 49659551, "question_id": 49657729, "link": "https://stackoverflow.com/questions/49657729/unexpected-with-boolean-when-data-dumper-json/49659551#49659551", "title": "Unexpected with Boolean when data dumper JSON", "body": "<p>I search around google and found the solution:</p>\n\n<pre><code>use JSON::PP qw(decode_json);\n$JSON::PP::true  = 'true';\n$JSON::PP::false = 'false';\n</code></pre>\n"}], "owner": {"reputation": 649, "user_id": 2784466, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/100001914302787/picture?type=large", "display_name": "Boontawee Home", "link": "https://stackoverflow.com/users/2784466/boontawee-home"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522872486, "creation_date": 1522865533, "question_id": 49657729, "link": "https://stackoverflow.com/questions/49657729/unexpected-with-boolean-when-data-dumper-json", "title": "Unexpected with Boolean when data dumper JSON", "body": "<p>My perl code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nif ( not -f \"$ARGV[0]\" ) { die \"$!\"; }\n\nopen(DATA,\"$ARGV[0]\") || die \"$!\";\n$data = &lt;DATA&gt;;\nclose(DATA);\n\nuse JSON qw(decode_json);\n$tidy = decode_json($data);\n\nuse Data::Dumper;\n$Data::Dumper::Terse = 1;\n#$Data::Dumper::Indent = 1;\n$Data::Dumper::Sortkeys = 1;\n\nprint Dumper $tidy;\n</code></pre>\n\n<p>My JSON data:</p>\n\n<pre><code>[{\"n\":\"v8_skillgames\",\"i\":\"m1QhFLZ2CI\",\"s\":21254,\"t\":1522783462114739392,\"m\":false},{\"n\":\"v8_breakaway\",\"i\":\"kpOIPLacEa\",\"s\":6163,\"t\":1522783462115880128,\"m\":false}]\n</code></pre>\n\n<p>Unexpected Output:</p>\n\n<pre><code>[\n  {\n    'i' =&gt; 'm1QhFLZ2CI',\n    'm' =&gt; bless( do{\\(my $o = 0)}, 'JSON::PP::Boolean' ),\n    'n' =&gt; 'v8_skillgames',\n    's' =&gt; 21254,\n    't' =&gt; '1522783462114739392'\n  },\n  {\n    'i' =&gt; 'kpOIPLacEa',\n    'm' =&gt; $VAR1-&gt;[0]{'m'},\n    'n' =&gt; 'v8_breakaway',\n    's' =&gt; 6163,\n    't' =&gt; '1522783462115880128'\n  }\n]\n</code></pre>\n\n<p>I write some perl script to parse a single line JSON data.\nBut I got unexpected output about 'm'. What's wrong?</p>\n"}, {"tags": ["arrays", "performance", "perl"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 2, "creation_date": 1522930111, "post_id": 49656916, "comment_id": 86354270, "body": "Always profile before optimization. <a href=\"http://wiki.c2.com/?PrematureOptimization\" rel=\"nofollow noreferrer\">wiki.c2.com/?PrematureOptimization</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 1, "last_activity_date": 1522863690, "creation_date": 1522863690, "answer_id": 49657235, "question_id": 49656916, "link": "https://stackoverflow.com/questions/49656916/which-performs-better-using-grep-vs-for-loop-in-perl/49657235#49657235", "title": "Which performs better - using grep vs for loop in perl?", "body": "<p>As @toolic commented, see <a href=\"http://perldoc.perl.org/Benchmark.html\" rel=\"nofollow noreferrer\">Benchmark</a>. I changed your condition slightly so that the output array is actually populated with something:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Benchmark qw/cmpthese/;\n\nfor my $arraylen (10, 100, 10_000) {\n    print \"#### arraylen $arraylen ###\\n\";\n    my @array = 1..$arraylen;\n    cmpthese( -1, {\n        grep =&gt; sub {\n            my @filtered = grep { $_%2 } @array;\n        },\n        loop =&gt; sub {\n            my @filtered;\n            foreach (@array) { \n                if ($_%2) { \n                    push @filtered, $_;\n                } \n            }\n        },\n    });\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>#### arraylen 10 ###\n          Rate loop grep\nloop 1514033/s   -- -10%\ngrep 1683494/s  11%   --\n#### arraylen 100 ###\n         Rate loop grep\nloop 176987/s   -- -16%\ngrep 210436/s  19%   --\n#### arraylen 10000 ###\n       Rate loop grep\nloop 1794/s   -- -18%\ngrep 2201/s  23%   --\n</code></pre>\n\n<p>So it appears that, at least on my machine with my Perl, <code>grep</code> is faster. However, as always with optimizations, you might want to consider whether this performance impact is significant in the context of your larger program, since for example trying to stuff a complicated condition into a <code>grep</code> can make your code less readable. And you should benchmark the code you are actually running instead of taking \"<code>grep</code> is always faster than <code>foreach</code>+<code>push</code>\" as a general rule!</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1522944289, "post_id": 49657301, "comment_id": 86364831, "body": "Yep. Quite right - the answer is benchmark it if you care. Of course, I&#39;d still go with not worrying about it overall - they both have to iterate the whole array, and so are both O(N) functions. If you could bail out of the <code>for</code> on an early result, then it would steal a hefty lead."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1522945941, "post_id": 49657301, "comment_id": 86365807, "body": "@Sobrique My sentiment exactly.  Plus <code>grep</code> is the tool for the job, that is what it&#39;s for.  But since the question is very clearly about performance aspects I restrained from making other comments ... but I may also add a small general comment."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1524736044, "last_edit_date": 1524736044, "creation_date": 1522863898, "answer_id": 49657301, "question_id": 49656916, "link": "https://stackoverflow.com/questions/49656916/which-performs-better-using-grep-vs-for-loop-in-perl/49657301#49657301", "title": "Which performs better - using grep vs for loop in perl?", "body": "<p>The first option has to be faster in general since <code>grep</code> has specific optimizations. </p>\n\n<p>However, that statement is far too general and you need to benchmark it, in particular under conditions that apply to your work.</p>\n\n<p>An example using <a href=\"https://perldoc.perl.org/Benchmark.html\" rel=\"nofollow noreferrer\">Benchmark</a> module</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';    \nuse Getopt::Long;\nuse Benchmark qw(cmpthese);\n\nmy $time = 3;\nmy $size = 10_000;\n\nGetOptions( 'time=i' =&gt; \\$time, 'size=i' =&gt; \\$size )  or usage();\n\nsub w_grep {\n    my @res = grep { $_/2 &gt; $size/4 } @{$_[0]};\n    return \\@res;\n}\n\nsub w_for {\n    my @res;\n    for (@{$_[0]}) { \n        push @res, $_ if $_/2 &gt; $size/4; \n    }   \n    return \\@res;\n}\n\nmy @t = 1..$size;\n\ncmpthese( -$time, {\n    grep =&gt; sub { w_grep(\\@t) },\n    for  =&gt; sub { w_for(\\@t) },\n});\n\nsub usage {\n    say STDERR \"Usage: $0 [--time NUM] [--size NUM]\";\n    exit;\n}\n</code></pre>\n\n<p>The condition is true about half of the time so a scalar gets created and added that often.  Creating a lot of scalars is expensive and this is likely the main factor, how often your condition is true.</p>\n\n<p>It prints (on a desktop with v5.16 under CentOS 7)</p>\n\n<pre>\n       Rate  for grep\nfor   948/s   -- -13%\ngrep 1085/s  14%   --\n</pre>\n\n<p>However, if we make the condition more restrictive, say <code>$_/2 &gt; $size/2</code>, then we get</p>\n\n<pre>\n       Rate  for grep\nfor  1217/s   --  -6%\ngrep 1296/s   6%   --\n</pre>\n\n<p>while when it succeeds most of the time, for say <code>$_/2 &gt; 10</code>, the rates are</p>\n\n<pre>\n       Rate  for grep\nfor   945/s   -- -28%\ngrep 1304/s  38%   --\n</pre>\n\n<p>This shows that <code>for</code> falls further behind as there is more additions to the array.</p>\n\n<p>But please remember that this depends in many other ways on what choices you make for tests, some rather subtle and some not so subtle. </p>\n\n<p>For example, unpacking the arrayref first (<code>my @ary = @{ $_[0] };</code>) reduces the difference to a mere few percent, since the runtime is dominated by creating a local array.  That would throw your tests -- or perhaps reflect your situation.  You need to make careful choices for your conditions.</p>\n\n<p>The numbers of course also vary with array sizes, complexity of the calculation, etc.</p>\n"}, {"comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1522987563, "post_id": 49657566, "comment_id": 86381542, "body": "It&#39;s kind of weird to compare numeric values with the string comparison operator <code>eq</code> rather than the numeric comparison operator <code>==</code>."}, {"owner": {"reputation": 105, "user_id": 8026827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae68d7f6a3f728b0dcdbffa543df34ac?s=128&d=identicon&r=PG&f=1", "display_name": "tdcc", "link": "https://stackoverflow.com/users/8026827/tdcc"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1522991173, "post_id": 49657566, "comment_id": 86382516, "body": "@Grant McLean Good point, although I used the code in the initial question. Using <code>==</code> makes things much faster (as one could expect) , with advantage to option 1 this time:&#39; <code>Execution time: 63 s Execution time: 80 s</code>"}], "tags": [], "owner": {"reputation": 105, "user_id": 8026827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae68d7f6a3f728b0dcdbffa543df34ac?s=128&d=identicon&r=PG&f=1", "display_name": "tdcc", "link": "https://stackoverflow.com/users/8026827/tdcc"}, "is_accepted": false, "score": 0, "last_activity_date": 1522864877, "creation_date": 1522864877, "answer_id": 49657566, "question_id": 49656916, "link": "https://stackoverflow.com/questions/49656916/which-performs-better-using-grep-vs-for-loop-in-perl/49657566#49657566", "title": "Which performs better - using grep vs for loop in perl?", "body": "<p>Option 2 is slightly faster on my machine...</p>\n\n<pre><code>my @array;\nfor ( my $i = 0; $i &lt; 100000000; $i++ ) {\n  push @array, $i;\n}\n\n\nmy $start = time;\nmy @filtered = grep { $_/2 eq 0 } @array;\nmy $duration = time - $start;\nprint \"Execution time: $duration s\\n\";\n\nmy $start = time;\nforeach (@array) \n{ \n  if($_/2 eq 0) {\n    push @filtered, $_;\n  } \n}\nmy $duration = time - $start;\nprint \"Execution time: $duration s\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Execution time: 296 s\nExecution time: 233 s\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 5376182, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206090505395883/picture?type=large", "display_name": "vp8", "link": "https://stackoverflow.com/users/5376182/vp8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 1, "accepted_answer_id": 49657301, "answer_count": 3, "score": 1, "last_activity_date": 1524736044, "creation_date": 1522862541, "last_edit_date": 1522864025, "question_id": 49656916, "link": "https://stackoverflow.com/questions/49656916/which-performs-better-using-grep-vs-for-loop-in-perl", "title": "Which performs better - using grep vs for loop in perl?", "body": "<p>Let's say If user wants to filter elements from an array based on a certain condition. User has two choices. Either he can use one line <code>grep</code> statement or write a for loop and store elements based on certain condition.</p>\n\n<p>For e.g.</p>\n\n<p><code>my @array = (1, 2, 3, 4, 5, 6, 7, 8);</code></p>\n\n<p>Option 1 :<code> my @filtered = grep { $_/2 eq 0 } @array;</code></p>\n\n<p>Option 2 : <br></p>\n\n<pre><code>foreach (@array) \n{ \n  if($_/2 eq 0) { \n    push @filtered, $_;\n  } \n}\n</code></pre>\n\n<p>Which is preferred way of writing if performance is a factor?</p>\n"}, {"tags": ["java", "regex", "perl", "passwords", "keycloak-services"], "comments": [{"owner": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 3, "creation_date": 1522856013, "post_id": 49655025, "comment_id": 86318888, "body": "If you are using multiple <code>?=</code> in a regex something is wrong. Handle the logic in the code please."}, {"owner": {"reputation": 105827, "user_id": 3037257, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/nq6Zo.jpg?s=128&g=1", "display_name": "Pranav C Balan", "link": "https://stackoverflow.com/users/3037257/pranav-c-balan"}, "edited": false, "score": 4, "creation_date": 1522856025, "post_id": 49655025, "comment_id": 86318896, "body": "use <code>\\S</code> instead of <code>.</code>"}, {"owner": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 1, "creation_date": 1522856068, "post_id": 49655025, "comment_id": 86318929, "body": "Uh...? Java is related here? ..."}, {"owner": {"reputation": 45321, "user_id": 2353911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/351903c00c50bac0611117c1a6b82848?s=128&d=identicon&r=PG", "display_name": "Mena", "link": "https://stackoverflow.com/users/2353911/mena"}, "edited": false, "score": 1, "creation_date": 1522856138, "post_id": 49655025, "comment_id": 86318990, "body": "Cannot replicate in Java, but I might be assuming things. You probably want to edit your answer with a self-contained <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1522856171, "post_id": 49655025, "comment_id": 86319014, "body": "Should this be tagged PCRE instead of Perl?"}, {"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "edited": false, "score": 0, "creation_date": 1522856308, "post_id": 49655025, "comment_id": 86319119, "body": "Change <code>^</code> to <code>^(?!.*?[ ])</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 0, "creation_date": 1522856360, "post_id": 49655025, "comment_id": 86319158, "body": "@user202729, Re &quot;<i>If you are using multiple ?= in a regex something is wrong.</i>&quot;, Nonsense. On the other hand, using multiple <code>.*?</code> is usually wrong, but not here."}, {"owner": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522891235, "post_id": 49655025, "comment_id": 86335488, "body": "@ikegami <code>^(?=...$)(?=...$)</code> should be avoided anyway. I meant &quot;multiple <code>?=</code> in the same place, at the begin of the regex, after a <code>^</code>, all terminates with <code>$</code>, but ... that&#39;s too verbose."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 0, "creation_date": 1522894262, "post_id": 49655025, "comment_id": 86336128, "body": "@user202729, 1) huh? That didn&#39;t match what was the OP used. 2) Too verbose? LOL! You should see what the pattern looks like if <code>(?=)</code> wasn&#39;t used!!! True, I&#39;d probably use multiple patterns and match operations, but that&#39;s not always possible, it&#39;s slower, and is not really any more readable than the addition of whitespace to the existing pattern"}, {"owner": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522894405, "post_id": 49655025, "comment_id": 86336167, "body": "@ikegami In pseudo-code: <code>if input matches &#47;[A-Z]&#47; and input matches &#47;[a-z]&#47; and input matches &#47;[0-9]&#47; and input matches &#47;[#?!@^*^$]&#47; and input matches &#47;^.{8,15}$&#47;</code>. More readable?"}, {"owner": {"reputation": 2289, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522894468, "post_id": 49655025, "comment_id": 86336181, "body": "@ikegami My point was, when it&#39;s possible it should be used, because it&#39;s (often) more readable. About &quot;it&#39;s slower&quot;, it also depends on the implementation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522894698, "post_id": 49655025, "comment_id": 86336238, "body": "This is completely different than what you originally said."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1560953826, "post_id": 49655025, "comment_id": 99907202, "body": "You should read <a href=\"https://stackoverflow.com/q/48345922/3600709\">Reference - Password Validation</a>"}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 5304595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/i39EU.jpg?s=128&g=1", "display_name": "LogronJ", "link": "https://stackoverflow.com/users/5304595/logronj"}, "edited": false, "score": 0, "creation_date": 1522895933, "post_id": 49655224, "comment_id": 86336495, "body": "My condition for this is:  \u2022Password must be case sensitive \u2022Password must contain at least one special character  \u2022Password must contain at least one upper case character \u2022Password must contain at least one numerical charcter \u2022Password should not contain blank space \u2022Password should consist of 8-15 characters"}, {"owner": {"reputation": 361, "user_id": 5304595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/i39EU.jpg?s=128&g=1", "display_name": "LogronJ", "link": "https://stackoverflow.com/users/5304595/logronj"}, "edited": false, "score": 0, "creation_date": 1522896239, "post_id": 49655224, "comment_id": 86336562, "body": "Your answer works if i put space in between but not if i put space at the beginning or end. @ikegami"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 361, "user_id": 5304595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/i39EU.jpg?s=128&g=1", "display_name": "LogronJ", "link": "https://stackoverflow.com/users/5304595/logronj"}, "edited": false, "score": 0, "creation_date": 1522896447, "post_id": 49655224, "comment_id": 86336621, "body": "It works if you use the change I posted. I have no idea why you&#39;re talking about putting spaces in various places"}, {"owner": {"reputation": 361, "user_id": 5304595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/i39EU.jpg?s=128&g=1", "display_name": "LogronJ", "link": "https://stackoverflow.com/users/5304595/logronj"}, "edited": false, "score": 0, "creation_date": 1522901465, "post_id": 49655224, "comment_id": 86337843, "body": "i noticed that my error message in keycloak UI is not displayed if i change the user password with spaces(but there is no spaces of the pw in the background ).If the user will login the temporary password i gave, then he will update the password, right there if they input space they will be prompted an error. I think this is just a bug in the admin keycloak ui"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1522856496, "creation_date": 1522856496, "answer_id": 49655224, "question_id": 49655025, "link": "https://stackoverflow.com/questions/49655025/how-to-exclude-space-as-input-on-my-regex/49655224#49655224", "title": "How to exclude space as input on my regex", "body": "<p>Change</p>\n\n<pre><code>.{8,15}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>[^ ]{8,15}                       # No spaces.\n</code></pre>\n\n<p>or</p>\n\n<pre><code>\\S{8,15}                         # No whitespace.\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[A-Za-z0-9#?!@$%^&amp;*\\-]{8,15}     # Only allow specific characters.\n</code></pre>\n"}], "owner": {"reputation": 361, "user_id": 5304595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/i39EU.jpg?s=128&g=1", "display_name": "LogronJ", "link": "https://stackoverflow.com/users/5304595/logronj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 49655224, "answer_count": 1, "score": 0, "last_activity_date": 1522856496, "creation_date": 1522855931, "last_edit_date": 1522856000, "question_id": 49655025, "link": "https://stackoverflow.com/questions/49655025/how-to-exclude-space-as-input-on-my-regex", "title": "How to exclude space as input on my regex", "body": "<p><code>^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&amp;*-]).{8,15}$</code></p>\n\n<p>My regex above works fine except it accepts space as input. How can i exclude spaces on my regex?</p>\n\n<p>Any Perl related regex implementation will be fine. Thanks</p>\n"}, {"tags": ["perl", "moose"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1522855945, "post_id": 49653769, "comment_id": 86318832, "body": "By the way, <code>use lib &#39;.&#39;;</code> is buggy. It should be <code>use FindBin qw( $RealBin ); use lib $RealBin;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": true, "score": 5, "last_activity_date": 1522853650, "creation_date": 1522853650, "answer_id": 49654191, "question_id": 49653769, "link": "https://stackoverflow.com/questions/49653769/how-to-use-a-moose-class-defined-in-the-same-file-as-the-main-script/49654191#49654191", "title": "How to use a Moose class defined in the same file as the main script?", "body": "<p><code>has</code> is just a regular function call that gets executed at runtime, so it won't get run until after your <code>say</code>.</p>\n\n<p>Normally you'd <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"noreferrer\"><code>use</code></a> a <a href=\"https://metacpan.org/pod/Moose\" rel=\"noreferrer\">Moose</a> class, and <code>use Class;</code> is just short for <code>BEGIN { require Class; ... }</code>, so that normally, all the Moose functions like <code>has</code> will have been executed during the compile time of the script that is doing the <code>use</code>ing. See also <a href=\"http://perldoc.perl.org/perlmod.html#BEGIN%2c-UNITCHECK%2c-CHECK%2c-INIT-and-END\" rel=\"noreferrer\">\"BEGIN, UNITCHECK, CHECK, INIT and END\" in perlmod</a>.</p>\n\n<p>Although I don't think it's the nicest solution, you could stick your <code>package P1;</code> declaration in a <code>BEGIN { ... }</code> block. Or, you could put <code>package P1</code> before the main code (in its own block would be best, so it has its own scope).</p>\n\n<p>But there's also something to be said against putting the class in the same file in the first place, see e.g. the answers at <a href=\"https://stackoverflow.com/q/46473219\">In Perl, how do I put multiple class in a single .pm file</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1522856634, "last_edit_date": 1522856634, "creation_date": 1522856192, "answer_id": 49655112, "question_id": 49653769, "link": "https://stackoverflow.com/questions/49653769/how-to-use-a-moose-class-defined-in-the-same-file-as-the-main-script/49655112#49655112", "title": "How to use a Moose class defined in the same file as the main script?", "body": "<p>You are trying to use the attribute before executing the call to <code>has</code> that creates it.</p>\n\n<p>A relatively simple method to inline module follows:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse FindBin qw( $RealBin );\nuse lib $RealBin;\n\nBEGIN {\n   package P1;\n   use Moose;\n\n   has name =&gt; (is =&gt; 'rw', isa =&gt; 'Str');\n\n   $INC{\"P1.pm\"} = 1;\n}\n\nuse P1;\n\nmy $obj = P1-&gt;new(name =&gt; 'John');\nsay \"The name is: \", $obj-&gt;name;\n</code></pre>\n\n<p>Keep in mind it's still not quite equivalent. For example, the module is now in scope of the three pragmas in your script. Maybe you should use <a href=\"http://search.cpan.org/perldoc?App::FatPacker\" rel=\"nofollow noreferrer\">App::FatPacker</a> or similar instead.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 1, "accepted_answer_id": 49654191, "answer_count": 2, "score": 4, "last_activity_date": 1522856634, "creation_date": 1522852374, "question_id": 49653769, "link": "https://stackoverflow.com/questions/49653769/how-to-use-a-moose-class-defined-in-the-same-file-as-the-main-script", "title": "How to use a Moose class defined in the same file as the main script?", "body": "<p>The following script <code>p.pl</code> works fine:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse lib '.';\nuse P1;\n\nmy $obj = P1-&gt;new(name =&gt; 'John');\nsay \"The name is: \", $obj-&gt;name;\n</code></pre>\n\n<p>where the class <code>P1</code> is defined in file <code>P1.pm</code>:</p>\n\n<pre><code>package P1;\nuse Moose;\n\nhas name =&gt; (is =&gt; 'rw', isa =&gt; 'Str');\n\n1;\n</code></pre>\n\n<p>However, when I try to move the class <code>P1.pm</code> into the main script:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nmy $obj = P1-&gt;new(name =&gt; 'John');\nsay \"The name is: \", $obj-&gt;name;\n\npackage P1;\nuse Moose;\n\nhas name =&gt; (is =&gt; 'rw', isa =&gt; 'Str');\n</code></pre>\n\n<p>I get error:</p>\n\n<pre><code>Can't locate object method \"name\" via package \"P1\" at ./p.pl line 8.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1522848501, "post_id": 49652214, "comment_id": 86312884, "body": "Just wrap it in another loop <code>for my $file (@files)</code>. Also, if the files are large, processing them line by line with a sliding window of size 10 would be more memory friendly."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1522853002, "post_id": 49652214, "comment_id": 86316626, "body": "Just use <code>grep -B10 &quot;pattern&quot; files</code> to get the 10 lines before each match."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8477211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04e9d6da56a9fba1d331a7cdbb1834f?s=128&d=identicon&r=PG&f=1", "display_name": "normbeef", "link": "https://stackoverflow.com/users/8477211/normbeef"}, "edited": false, "score": 0, "creation_date": 1522852480, "post_id": 49652779, "comment_id": 86316168, "body": "Yes tried this one and edited the my @files for the directory,  the processing is a little slow on my windows PC,  but it gets me the output I need..  Many thanks..  tried to vote you up,  but not allowed as I am still a newbie"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 27, "user_id": 8477211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04e9d6da56a9fba1d331a7cdbb1834f?s=128&d=identicon&r=PG&f=1", "display_name": "normbeef", "link": "https://stackoverflow.com/users/8477211/normbeef"}, "edited": false, "score": 0, "creation_date": 1522852679, "post_id": 49652779, "comment_id": 86316326, "body": "@normbeef: You can accept the answer if the answer is ok."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 27, "user_id": 8477211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04e9d6da56a9fba1d331a7cdbb1834f?s=128&d=identicon&r=PG&f=1", "display_name": "normbeef", "link": "https://stackoverflow.com/users/8477211/normbeef"}, "edited": false, "score": 0, "creation_date": 1522854874, "post_id": 49652779, "comment_id": 86318047, "body": "@normbeef I did a quick benchmark and it looks like my script is slightly faster than your original. If you are concerned about performance there are ways to optimize, but you&#39;d need to provide more details, like how many files with how many lines each you&#39;re working with, how many matches are in those files, how slow is &quot;slow&quot;, how fast do you need the script to run, etc."}, {"owner": {"reputation": 27, "user_id": 8477211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04e9d6da56a9fba1d331a7cdbb1834f?s=128&d=identicon&r=PG&f=1", "display_name": "normbeef", "link": "https://stackoverflow.com/users/8477211/normbeef"}, "edited": false, "score": 0, "creation_date": 1522920855, "post_id": 49652779, "comment_id": 86347771, "body": "@haukex no problem on the processing, I increased the 10 line match to 11 as there are carriage returns in the data and for some reason its running a bit better now.  many thanks for the help   The only issue that I forgot to ask for is now I am processing many files rather than just one I need to see the filename in the output."}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 1, "last_activity_date": 1523006836, "last_edit_date": 1523006836, "creation_date": 1522849814, "answer_id": 49652779, "question_id": 49652214, "link": "https://stackoverflow.com/questions/49652214/perl-open-muliple-files-and-search-for-a-string-and-print-previous-10-lines-eac/49652779#49652779", "title": "Perl open muliple files and search for a string, and print previous 10 lines each time matched", "body": "<p>If you are ok with specifying the files on the command line:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @buf;\nwhile (&lt;&gt;) {\n     push @buf, $_;\n    print @buf if /Voice VLAN: [0-9]/i;\n    shift @buf if @buf&gt;10;\n}\n</code></pre>\n\n<p>If you want to specify the files in the script, you can \"hack it in\" by saying <code>local @ARGV = ('myfile.txt');</code> before the loop. Although the cleaner solution, for example if this code is part of a longer script, is:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @files = ('myfile.txt');\n\nfor my $file (@files) {\n    open my $fh, '&lt;', $file or die \"$file: $!\";\n    my @buf;\n    while (&lt;$fh&gt;) {\n         push @buf, $_;\n        print @buf if /Voice VLAN: [0-9]/i;\n        shift @buf if @buf&gt;10;\n    }\n    close $fh;\n}\n</code></pre>\n\n<p>This same loop could be used on your original code as well, if you prefer, as @choroba mentioned in the comment.</p>\n\n<hr>\n\n<p><em>Update:</em> If you want to prefix the output with the filename, you could modify the <code>print</code> in the second of the above examples to this, which I hope is fairly self-explanatory:</p>\n\n<pre><code>if ( /Voice VLAN: [0-9]/i ) {\n    for my $line (@buf) {\n        print \"$file: $line\";\n    }\n}\n</code></pre>\n\n<p>Or, if you prefer the shorter version, you can change the <code>print</code> in the first example into:</p>\n\n<pre><code>print map {\"$ARGV: $_\"} @buf if /Voice VLAN: [0-9]/i;\n</code></pre>\n\n<p>which does something very similar. I've used <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a> instead of <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow noreferrer\"><code>for</code></a> to loop over the array, which means that <code>print</code> is called only once with a list of strings. Also, I'm getting the filename that the \"magic\" <a href=\"http://perldoc.perl.org/perlop.html#I/O-Operators\" rel=\"nofollow noreferrer\"><code>&lt;&gt;</code></a> operator is currently reading from <a href=\"http://perldoc.perl.org/perlvar.html#$ARGV\" rel=\"nofollow noreferrer\"><code>$ARGV</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "is_accepted": false, "score": 2, "last_activity_date": 1522855707, "last_edit_date": 1522855707, "creation_date": 1522852673, "answer_id": 49653871, "question_id": 49652214, "link": "https://stackoverflow.com/questions/49652214/perl-open-muliple-files-and-search-for-a-string-and-print-previous-10-lines-eac/49653871#49653871", "title": "Perl open muliple files and search for a string, and print previous 10 lines each time matched", "body": "<p>There is no need to read the whole file into memory, keeping a buffer of previous lines is enough.<br>\nApplying the algorithm to multiple files is straighforward: just open the file, process it and close.<br>\nHere is a generic solution imitating <code>grep -A x -B y</code> where $B is the count of preceding lines and $A is the count of following lines to print after a match:</p>\n\n<p><strong>grep_AB.pl</strong>:</p>\n\n<pre><code>use strict; use warnings;\nmy $filter=qr/match/;\nmy ($A,$B)=(1,1);\n\nfor my $file(@ARGV) {\n    open my $fh, '&lt;', $file or die \"$file:$!\\n\"; \n    my (@buffer,$tail);\n    while(&lt;&gt;) {\n        if (m{$filter})  {\n            $tail=1+$A;\n            print for @buffer;\n            @buffer=();\n        }\n        if ($tail--&gt;0) {\n            print;\n        }\n        else {\n            push @buffer, $_;\n            shift @buffer if @buffer&gt;$B;\n        }\n    }\n    close $fh;\n}\n</code></pre>\n\n<p>Given the following input (<code>input.txt</code>): </p>\n\n<pre><code>1\n2\n3\nmatch\nmatch\n4\nmatch\n5\n6\nmatch\n7\n8\n9\n10\nmatch\n11\n12\n</code></pre>\n\n<p>The output of <code>perl grep_AB.pl input.txt</code> is: </p>\n\n<pre><code>3\nmatch\nmatch\n4\nmatch\n5\n6\nmatch\n7\n10\nmatch\n11\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 8477211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04e9d6da56a9fba1d331a7cdbb1834f?s=128&d=identicon&r=PG&f=1", "display_name": "normbeef", "link": "https://stackoverflow.com/users/8477211/normbeef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1523006836, "creation_date": 1522848250, "question_id": 49652214, "link": "https://stackoverflow.com/questions/49652214/perl-open-muliple-files-and-search-for-a-string-and-print-previous-10-lines-eac", "title": "Perl open muliple files and search for a string, and print previous 10 lines each time matched", "body": "<p>I have a working Perl script that is opening a file, searching through for a text string. When the string is matched it prints the previous 10 lines previous each time.   </p>\n\n<p>My question is how could I adapt this to run against multiple files from a directory? </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\n\nmy $file = \"myfile.txt\";\n\nopen   (LOGFILE, $file);\nmy @cont = &lt;LOGFILE&gt;;\nclose(LOGFILE);\n\nfor(my $i = 0; $i &lt;= $#cont; $i++) {\nmy $line = $cont[$i];\n\nif ($line =~ /Voice VLAN: [0-9]/i) {\n  my $st;\n  ($i &lt;= 0) ? ($st = 0) : ($st = $i - 10);\n  my $ln = $i - 1;\n\n  my $eln = $i + 1;\n  my $en = $i + 0;\n  ($en &gt; $#cont) ? ($en = $#cont) : ();\n\n  print @cont[$st..$ln];\n  print $line;\n  print @cont[$eln..$en];\n\n}\n}\n</code></pre>\n"}, {"tags": ["perl", "pack", "unpack"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 7, "last_activity_date": 1522824346, "creation_date": 1522824346, "answer_id": 49644455, "question_id": 49644148, "link": "https://stackoverflow.com/questions/49644148/unpack-uneven-amount-of-bytes-with-perl/49644455#49644455", "title": "Unpack uneven amount of bytes with Perl", "body": "<p>You can add the null byte every time, it will be ignored when the amount of bytes is even.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Test::More tests =&gt; 2;\n\nsub Unpack {\n    my $input = shift;\n    [ unpack 'S*', \"$input\\0\" ]\n}\n\nis_deeply Unpack(\"abcde\\0\"), [25185, 25699, 101];\nis_deeply Unpack(\"abcde\"),   [25185, 25699, 101];\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9594578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3f7e725f2745828e96571d2b1f94aa1?s=128&d=identicon&r=PG&f=1", "display_name": "DanielElgh", "link": "https://stackoverflow.com/users/9594578/danielelgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 49644455, "answer_count": 1, "score": 1, "last_activity_date": 1522824346, "creation_date": 1522823028, "question_id": 49644148, "link": "https://stackoverflow.com/questions/49644148/unpack-uneven-amount-of-bytes-with-perl", "title": "Unpack uneven amount of bytes with Perl", "body": "<p>Is there a way to force unpack to treat a single byte as a \u201cnull padded\u201d short, while unpacking a scalar with an uneven amount of bytes?</p>\n\n<p>Example code:</p>\n\n<pre><code>my $input = 'abcde';\nforeach (unpack 'S*', $input) {\n    print \"$_ \";\n}\n\n# Result:\n# 25185 25699\n\n# Expected result:\n# 25185 25699 101\n</code></pre>\n\n<p>I know that it is possible to check the length of the scalar and append it in case it is uneven, like below, but is there a cleaner way where I can let unpack handle it automatically when needed?</p>\n\n<pre><code># What I'm trying to avoid before running unpack:\n\nif (length($input) % 2)) {\n    $input .= \"\\0\";\n}\n</code></pre>\n"}, {"tags": ["perl", "escaping", "substitution"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1522804938, "last_edit_date": 1522804938, "creation_date": 1522786493, "answer_id": 49638429, "question_id": 49638385, "link": "https://stackoverflow.com/questions/49638385/backslashes-in-perl-substitution/49638429#49638429", "title": "backslashes in perl substitution", "body": "<p><code>\\Q\\E</code> works best for <code>\\Q$var\\E</code>. Elsewhere, you can use <code>\\</code> to escape characters that need escaping.</p>\n\n<pre><code>perl -i -pe's/\\\\linenum\\{some more stuff\\}/\\\\uln/g' *tex\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 4479405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82c36f01e4790f26c847aa234f6908b1?s=128&d=identicon&r=PG&f=1", "display_name": "muk.li", "link": "https://stackoverflow.com/users/4479405/muk-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 49638429, "answer_count": 1, "score": 0, "last_activity_date": 1522804938, "creation_date": 1522786298, "question_id": 49638385, "link": "https://stackoverflow.com/questions/49638385/backslashes-in-perl-substitution", "title": "backslashes in perl substitution", "body": "<p>I'm trying my luck with a perl one-liner changing some commands in a bunch of .tex files. I got as far as the following:</p>\n\n<pre><code>perl -pi -e \"s/\\Q\\linenum{some more stuff}\\E/\\Q\\uln\\E/g\" *tex\n</code></pre>\n\n<p>Which results in <code>\\lLn</code> instead of the expected replacement patter <code>\\uln</code>. Apparently while <code>\\Q</code> and <code>\\E</code> take care of other special characters, they don't take care of the <code>\\l</code> <code>\\u</code> changing the case of the next character, how would I do that?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 727, "user_id": 3952735, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1381bff4c16b2ff4ae15f5ab703bb971?s=128&d=identicon&r=PG&f=1", "display_name": "malajedala", "link": "https://stackoverflow.com/users/3952735/malajedala"}, "edited": false, "score": 0, "creation_date": 1522787971, "post_id": 49637659, "comment_id": 86285206, "body": "Thank you. I have tried both but somehow this works better, thanks"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1522783262, "creation_date": 1522783262, "answer_id": 49637659, "question_id": 49637468, "link": "https://stackoverflow.com/questions/49637468/install-perl-module/49637659#49637659", "title": "Install Perl module", "body": "<p>The name of the module is <code>Test2</code>, not <code>Module::Test2</code>. So, you can install it by simply</p>\n\n<pre><code>cpanm Test2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1522783613, "creation_date": 1522783613, "answer_id": 49637747, "question_id": 49637468, "link": "https://stackoverflow.com/questions/49637468/install-perl-module/49637747#49637747", "title": "Install Perl module", "body": "<ul>\n<li><p>There's no need to install <code>App::cpanminus</code>. (Anyway, how did you install it, and why don't you use the method for <code>Test2</code>?)</p></li>\n<li><p>Where did you get the idea that the package was called <code>Module::Test2</code>? It's just <code>Test2</code></p></li>\n</ul>\n\n<p>Forget about <code>cpanm</code>; just issue</p>\n\n<pre><code>cpan Test2\n</code></pre>\n\n<p>and it should all work for you</p>\n"}], "owner": {"reputation": 727, "user_id": 3952735, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1381bff4c16b2ff4ae15f5ab703bb971?s=128&d=identicon&r=PG&f=1", "display_name": "malajedala", "link": "https://stackoverflow.com/users/3952735/malajedala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "accepted_answer_id": 49637659, "answer_count": 2, "score": 0, "last_activity_date": 1522783664, "creation_date": 1522782472, "last_edit_date": 1522783664, "question_id": 49637468, "link": "https://stackoverflow.com/questions/49637468/install-perl-module", "title": "Install Perl module", "body": "<p>I need to install the Perl module\n<a href=\"https://metacpan.org/pod/Test2\" rel=\"nofollow noreferrer\"><code>Test2</code></a>.</p>\n\n<p>As far as I could <a href=\"http://www.cpan.org/modules/INSTALL.html\" rel=\"nofollow noreferrer\">find out</a>, the easiest way for me is to install\n<a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow noreferrer\"><code>App::cpanminus</code></a>\nand then do</p>\n\n<pre><code>cpanm Module::Test2\n</code></pre>\n\n<p>But when I try to do this, I keep getting the errors</p>\n\n<blockquote>\n  <p>Finding Module::Test2 on cpanmetadb failed.<br>\n  Finding Module::Test2 () on mirror <a href=\"http://www.cpan.org\" rel=\"nofollow noreferrer\">http://www.cpan.org</a> failed.<br>\n  Couldn't find module or a distribution Module::Test2  </p>\n</blockquote>\n\n<p>Am I missing something or do I need to adapt the name of the module somehow?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1522773546, "creation_date": 1522773546, "answer_id": 49635111, "question_id": 49635015, "link": "https://stackoverflow.com/questions/49635015/perl-value-in-range-of-random-array/49635111#49635111", "title": "perl value in &#39;range&#39; of random array", "body": "<pre><code>if (grep { $_ == $value } @array) {\n    print \"match\\n\";\n} else {\n    print \"not match\\n\";\n}\n</code></pre>\n\n<p><code>grep { $_ eq $value } @array</code> is more appropriate when you are matching strings.</p>\n\n<p>For large lists, and if <code>$value</code> is not <code>undef</code>, <code>List::Util::first</code> is more efficient because it won't necessarily have to search through the whole list:</p>\n\n<pre><code>use List::Util 'first';\nif (defined( first { $_ == $value } @array )) { ... }\n</code></pre>\n\n<p>But my go to quick-and-dirty search is to stringify the array and search for the value with a regex.</p>\n\n<pre><code>if (\" @array \" =~ / $value /) { ... }\n</code></pre>\n\n<p>(It's dirty because it might not work for edge cases like <code>@array</code> having elements with spaces in them or <code>$value</code> having regex metacharacters)</p>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 6150003, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3153eed198c13a08fc7ba7ca1f57e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "rooger", "link": "https://stackoverflow.com/users/6150003/rooger"}, "edited": false, "score": 0, "creation_date": 1522779466, "post_id": 49635333, "comment_id": 86280957, "body": "Thank you for the reply! It Works! But for me its more simple to use the method provided by Mob! Thank you for your time"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 145, "user_id": 6150003, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3153eed198c13a08fc7ba7ca1f57e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "rooger", "link": "https://stackoverflow.com/users/6150003/rooger"}, "edited": false, "score": 1, "creation_date": 1522840074, "post_id": 49635333, "comment_id": 86306849, "body": "@rooger Note that <a href=\"https://gist.github.com/haukex/62233ecc427b8c0e96ba011ddefd11e0\" rel=\"nofollow noreferrer\">there are significant performace differences in the solutions</a> depending on the number of lookups you are doing and the size of the array."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 8, "last_activity_date": 1522774262, "creation_date": 1522774262, "answer_id": 49635333, "question_id": 49635015, "link": "https://stackoverflow.com/questions/49635015/perl-value-in-range-of-random-array/49635333#49635333", "title": "perl value in &#39;range&#39; of random array", "body": "<p>I'd use map to create a hash:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nmy @random_pool = (1, 30, 13, 40, 58, 7);\n\nmy %is_in_pool = map { $_ =&gt; 1 } @random_pool;\n\nmy $value = 17;\n\nprint \"Match\\n\" if $is_in_pool{$value};\n</code></pre>\n\n<p>The advantage of this approach is that you can reuse the hash if you want to iterate with different values - <code>map</code> iterates your array once, where something like <code>grep</code> needs to iterate each time. </p>\n"}], "owner": {"reputation": 145, "user_id": 6150003, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3153eed198c13a08fc7ba7ca1f57e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "rooger", "link": "https://stackoverflow.com/users/6150003/rooger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 49635111, "answer_count": 2, "score": -1, "last_activity_date": 1522774262, "creation_date": 1522773235, "question_id": 49635015, "link": "https://stackoverflow.com/questions/49635015/perl-value-in-range-of-random-array", "title": "perl value in &#39;range&#39; of random array", "body": "<p>I'm having the next problem, I have some random values in one array and I want to print a message if one of those values in array matches my variable. \nExample:</p>\n\n<pre><code>my @random_pool = (1, 30, 13, 40, 58, 7);\nmy $value = 17;\n</code></pre>\n\n<p>Want I want to do is:</p>\n\n<pre><code>if($value in @random_pool) {\n   print \"match\";\n} else {\n   print \"not mach\";\n</code></pre>\n\n<p>Also would a solution be possible if there wasn't an array but a string?</p>\n\n<p>Example:</p>\n\n<pre><code>my $random_pool = \"1, 30, 13, 40, 58, 7\";\nmy $value = 17;\n\nif($value in $random_pool) {\n   print \"match\";\n} else {\n   print \"not mach\";\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["regex", "perl", "hashmap", "regex-group"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1522751323, "post_id": 49627248, "comment_id": 86262424, "body": "suggestion: split the data first on <code>\\n</code> and then on <code>|</code> instead of using regex"}], "answers": [{"comments": [{"owner": {"reputation": 2156, "user_id": 3610018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6rKB8.jpg?s=128&g=1", "display_name": "nanocv", "link": "https://stackoverflow.com/users/3610018/nanocv"}, "edited": false, "score": 0, "creation_date": 1522751959, "post_id": 49627856, "comment_id": 86262794, "body": "Thank you, this works fine. Do you know if split has a good performance compared to regex?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2156, "user_id": 3610018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6rKB8.jpg?s=128&g=1", "display_name": "nanocv", "link": "https://stackoverflow.com/users/3610018/nanocv"}, "edited": false, "score": 1, "creation_date": 1522752052, "post_id": 49627856, "comment_id": 86262844, "body": "That&#39;s a rather weird question seeing as its first argument is a regex pattern. Weirder still, the answer is that it&#39;s faster than a regex match."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1522751506, "creation_date": 1522751506, "answer_id": 49627856, "question_id": 49627248, "link": "https://stackoverflow.com/questions/49627248/assign-resulting-regex-named-groups-hash-to-a-hash-value/49627856#49627856", "title": "Assign resulting regex named groups hash to a hash value", "body": "<pre><code>open(my $fh, '&lt;', \\$str);\n\nmy %users;\nwhile (&lt;$fh&gt;) {\n   chomp;\n   my %row;\n   @row{qw( IdNumber Name LastName Age )} = split /\\|/;\n   $users{ $row{IdNumber} } = \\%row;\n}\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>my %users;\nfor (split /^/m, $str) {\n   chomp;\n   my %row;\n   @row{qw( IdNumber Name LastName Age )} = split /\\|/;\n   $users{ $row{IdNumber} } = \\%row;\n}\n</code></pre>\n\n<p>Or, since we can safely ignore training blank lines,</p>\n\n<pre><code>my %users;\nfor (split /\\n/, $str) {\n   my %row;\n   @row{qw( IdNumber Name LastName Age )} = split /\\|/;\n   $users{ $row{IdNumber} } = \\%row;\n}\n</code></pre>\n"}], "owner": {"reputation": 2156, "user_id": 3610018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6rKB8.jpg?s=128&g=1", "display_name": "nanocv", "link": "https://stackoverflow.com/users/3610018/nanocv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 49627856, "answer_count": 1, "score": 1, "last_activity_date": 1522751506, "creation_date": 1522749590, "question_id": 49627248, "link": "https://stackoverflow.com/questions/49627248/assign-resulting-regex-named-groups-hash-to-a-hash-value", "title": "Assign resulting regex named groups hash to a hash value", "body": "<p>I have this string with users data:</p>\n\n<pre><code>\"1111|John|Smith|32\\n2222|Sam|Adams|25\\n3333|Chris|Stevens|30\\n\"\n</code></pre>\n\n<p>And I'm trying to read it with regex and create a hash like this (using JSON notation to make it easy to understand):</p>\n\n<pre><code>{\n    \"1111\": {\n        \"IdNumber\" : \"1111\",\n        \"Name\" : \"John\",\n        \"LastName\" : \"Smith\",\n        \"Age\" : \"32\"\n    },\n    \"2222\": {\n        \"IdNumber\" : \"2222\",\n        \"Name\" : \"Sam\",\n        \"LastName\" : \"Adams\",\n        \"Age\" : \"25\"\n    },\n    \"3333\": {\n        \"IdNumber\" : \"3333\",\n        \"Name\" : \"Chris\",\n        \"LastName\" : \"Stevens\",\n        \"Age\" : \"30\"\n    },\n}\n</code></pre>\n\n<p>The parent hash has to have the users' ids as keys, and the value will be a child hash with all the user data.</p>\n\n<p>I tried to assing directly the resulting <code>$+</code> hash, using named groups:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $str = \"1111|John|Smith|32\\n2222|Sam|Adams|25\\n3333|Chris|Stevens|30\\n\";\n\nmy %users;\n\nwhile ($str =~ /(?&lt;IdNumber&gt;.*?)\\|(?&lt;Name&gt;.*?)\\|(?&lt;LastName&gt;.*?)\\|(?&lt;Age&gt;.*?)/g){\n    $users{$+{IdNumber}} = %+;\n}\n\nprint Dumper %users;\n</code></pre>\n\n<p>But I'm getting this result:</p>\n\n<pre><code>$VAR1 = '1111';\n$VAR2 = 4;\n$VAR3 = '3333';\n$VAR4 = 4;\n$VAR5 = '2222';\n$VAR6 = 4;\n</code></pre>\n\n<p>It seems to me like the child hash is being converted to scalar, but I can't find the error.</p>\n\n<p>Do you have some idea? Thank you.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522746831, "post_id": 49625084, "comment_id": 86259555, "body": "Based on the <code>*INI</code> value need to change in main <code>*TEX</code> file"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522747316, "post_id": 49625084, "comment_id": 86259837, "body": "Just I want a guide on my struck... I don&#39;t want to ask anyone to write a code for me."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1522752925, "post_id": 49625084, "comment_id": 86263383, "body": "Does order of amacro, bmacro, cmacro lines can be changed or they will be fixed?? So we don&#39;t need to read whole file at once."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1522753507, "post_id": 49625084, "comment_id": 86263742, "body": "No. That is a whole content of main tex file I just entered the sample three lines which is matched the pattern where it is appeared in the <code>*ini</code> file."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1522754126, "post_id": 49625084, "comment_id": 86264133, "body": "Update you question with the number of lines in each file and some of the lines, which does not match at all."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1522754843, "post_id": 49625084, "comment_id": 86264497, "body": "Updated my question."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1522755059, "post_id": 49625084, "comment_id": 86264626, "body": "I&#39;m not sure what you&#39;re doing but <code>my (@fpush,%stores) = &quot;&quot;;</code> is equivalent to <code>my @fpush = ( &quot;&quot; ); my %stores;</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1522755785, "post_id": 49625084, "comment_id": 86265093, "body": "You haven&#39;t explained the format of the INI file. What&#39;s the full syntax? Which parts are fixed and which are variable? How are you going to deal with nested brace groups in the TEX file?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1522755825, "post_id": 49625084, "comment_id": 86265123, "body": "If you&#39;re not asking us to write the code for you, then what exactly is your question? What kind of answer are you looking for?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1522756013, "post_id": 49625084, "comment_id": 86265229, "body": "@melpomene: I am modified the <code>*ini</code> file. I am also working in my script however not yet completed..."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1522760405, "post_id": 49629700, "comment_id": 86268338, "body": "<code>$fh</code> we need to fopen for <code>*ini</code> file might be?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1522760877, "post_id": 49629700, "comment_id": 86268701, "body": "@ssr1012 Sorry, the declaration of <code>$fh</code> got lost in an edit. Fixed."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1522762096, "post_id": 49629700, "comment_id": 86269599, "body": "My sincere apologies for my mistake. Since I am copied the <code>*INI</code> where I have placed in my <code>OP question</code>. Hence the <code>tab delimit</code> has been changed to <code>white spaces</code>. I found the problem and now Its working fine champ... Awesome +1."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1522762389, "post_id": 49629700, "comment_id": 86269834, "body": "One question is there <code>my ($pattern, $replacement) = split &#47;\\t&#47;, $line, 2;</code> why we are using <code>2</code> at the end of this line?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 3, "creation_date": 1522762424, "post_id": 49629700, "comment_id": 86269867, "body": "@ssr1012 See <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>perldoc -f split</code></a> for a description of <code>split</code> and what its arguments do."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1522760859, "last_edit_date": 1522760859, "creation_date": 1522757200, "answer_id": 49629700, "question_id": 49625084, "link": "https://stackoverflow.com/questions/49625084/multidimensional-array-or-hashes-replaces-from-ini-file-to-main-file/49629700#49629700", "title": "Multidimensional array or hashes replaces from *INI file to main file", "body": "<p>Let's assume the <code>.ini</code> file contains regex/replacement pairs separated by tabs, one per line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\\\\amacro\\{(.*?)\\}\\{(.*?)\\}  \\amacro{$2}{$1}\n\\\\bmacro\\{(.*?)\\}\\{(.*?)\\}\\{(.*?)\\}\\{(.*?)\\}    \\bmacro{$4}{$3}{$2}{$1}\n\\\\cmacro\\{(.*?)\\}\\{(.*?)\\}\\{(.*?)\\}\\{(.*?)\\}\\{(.*?)\\}\\{(.*?)\\}\\{(.*?)\\}\\{(.*?)\\}    \\cmacro{$4}{$3}{$2}{$1}{$5}{$6}{$7}{$8}\n</code></pre>\n\n<p>This necessitates escaping the backslashes because otherwise e.g. <code>\\a</code> would match the bell (\"alert\") control character, <code>\\b</code> would match a word boundary, and <code>\\cm</code> would match Ctrl-M (a.k.a. <code>\\r</code>).</p>\n\n<p>Then we can process it as follows:</p>\n\n<pre><code># part A\nuse strict;\nuse warnings;\nuse File::Open qw(fopen);\nuse Data::Munge qw(slurp replace);\n\n# part B\nmy $text = slurp fopen 'test.tex';\n\n# part C\nmy $fh = fopen 'tags.ini';\nwhile (my $line = readline $fh) {\n    chomp $line;\n    my ($pattern, $replacement) = split /\\t/, $line, 2;\n    $text = replace $text, $pattern, $replacement, 'g';\n}\n\nprint $text;\n</code></pre>\n\n<p>Part A enables <code>strict</code>/<code>warnings</code> and loads two helper modules (<a href=\"https://metacpan.org/pod/File::Open\" rel=\"nofollow noreferrer\">File::Open</a>, <a href=\"https://metacpan.org/pod/Data::Munge\" rel=\"nofollow noreferrer\">Data::Munge</a>) we're about to use.</p>\n\n<p>Part B slurps the contents of <code>test.tex</code> into <code>$text</code> as one big string.</p>\n\n<p>Part C loops over the lines of <code>tags.ini</code>. For each line it <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\">removes the trailing newline</a> and splits it on the first tab into two fields, <code>$pattern</code> and <code>$replacement</code>. It then uses the <a href=\"https://metacpan.org/pod/Data::Munge#replace-STRING,-REGEX,-REPLACEMENT,-FLAG\" rel=\"nofollow noreferrer\"><code>replace</code> function from Data::Munge</a> to perform the actual search/replace operation. <code>replace</code> automatically handles capture groups and expands <code>$1</code>, <code>$2</code>, etc.</p>\n\n<p>At the end it outputs <code>$text</code>, which is the contents of <code>test.tex</code> after all substitutions have been made.</p>\n\n<hr>\n\n<p>If we wanted to, we could write the whole program as one expression (part C is effectively a <a href=\"https://en.wikipedia.org/wiki/Fold_%28higher-order_function%29\" rel=\"nofollow noreferrer\">left fold</a> of a list):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Open qw(fopen);\nuse Data::Munge qw(slurp replace byval);\nuse List::Util qw(reduce);\n\nprint\n    reduce\n        { replace $a, split(/\\t/, (byval { chomp } $b), 2), 'g' }\n        slurp(fopen 'test.tex'),\n        readline fopen 'tags.ini';\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 1, "accepted_answer_id": 49629700, "answer_count": 1, "score": 0, "last_activity_date": 1522760859, "creation_date": 1522742488, "last_edit_date": 1522755986, "question_id": 49625084, "link": "https://stackoverflow.com/questions/49625084/multidimensional-array-or-hashes-replaces-from-ini-file-to-main-file", "title": "Multidimensional array or hashes replaces from *INI file to main file", "body": "<p>My Input <code>*INI</code> file contains:</p>\n\n<pre class=\"lang-latex prettyprint-override\"><code>\\amacro{(.*?)}{(.*?)}   \\amacro{$2}{$1}\n\\bmacro{(.*?)}{(.*?)}{(.*?)}{(.*?)} \\bmacro{$4}{$3}{$2}{$1}\n\\cmacro{(.*?)}{(.*?)}{(.*?)}{(.*?)}{(.*?)}{(.*?)}{(.*?)}{(.*?)} \\cmacro{$4}{$3}{$2}{$1}{$5}{$6}{$7}{$8}\n</code></pre>\n\n<p>My Input Main <code>*TEX</code> file contains:</p>\n\n<pre class=\"lang-latex prettyprint-override\"><code>\\section{Introduction}\n\n$\\text{AuAl}_{2}$, $\\text{AuGa}_{2}$, and $\\text{AuIn}_{2}$ with the   \nfluorite($\\text{CaF}_{2}$)-type cubic structure `\\amacro{item1}{item2}`, as   \nshown in Fig.~\\ref{CaF2_structure}, were once studied from an `\\bmacro{item1}  \n{item2}{item3}{item4}` interest of colors because $\\text{AuAl}_{2}$ has a   \nstriking reddish-purple color, whereas $\\text{AuGa}_{2}$ and   \n$\\text{AuIn}_{2}$ are neutral and bluish, respectively. The reddish-purple   \ncolor of $\\text{AuAl}_{2}$ results from a reflectance minimum in the green   \nspectra range (around 2.2~eV), revealing that $\\text{AuAl}_{2}$ absorbs green    \nand reflect purple~\\cite{Vishnubhatla1967}. From the results of   `\\cmacro{item1}{item2}{item3}{item4}{item5}{item6}{item7}{item8}` \nsynchrotron-radiation-excited angle-resolved   \nphotoemission experiment, the energy band structure was clarified   \nexperimentally, which was compared with the results of the band calculation   \nbased on the augmented plane wave (APW) method with the muffin-tin potential   \napproximation.\n</code></pre>\n\n<p>My Expected output on <code>*TEX</code> should be:</p>\n\n<pre class=\"lang-latex prettyprint-override\"><code>$\\text{AuAl}_{2}$, $\\text{AuGa}_{2}$, and $\\text{AuIn}_{2}$ with the   \nfluorite($\\text{CaF}_{2}$)-type cubic structure `\\amacro{item2}{item1}`, as   \nshown in Fig.~\\ref{CaF2_structure}, were once studied from an `\\bmacro{item4}{item3}{item2}{item1}`\ninterest of colors because $\\text{AuAl}_{2}$ has a   \nstriking reddish-purple color, whereas $\\text{AuGa}_{2}$ and   \n$\\text{AuIn}_{2}$ are neutral and bluish, respectively. The reddish-purple   \ncolor of $\\text{AuAl}_{2}$ results from a reflectance minimum in the green   \nspectra range (around 2.2~eV), revealing that $\\text{AuAl}_{2}$ absorbs green    \nand reflect purple~\\cite{Vishnubhatla1967}. From the results of `\\cmacro{item4}{item3}{item2}{item1}{item5}{item6}{item7}{item8}` \nsynchrotron-radiation-excited angle-resolved   \nphotoemission experiment, the energy band structure was clarified   \nexperimentally, which was compared with the results of the band calculation   \nbased on the augmented plane wave (APW) method with the muffin-tin potential   \napproximation.\n</code></pre>\n\n<p>I need to check the <code>*INI</code> file and replace the regex as per the <code>*INI</code> file into the main <code>*TEX</code> file. Note: <code>item</code> should be a any string like <code>(.*?)</code>.\nUsing the <code>*INI</code> file for users purpose ( a lot of lists to be changed sample here)</p>\n\n<hr>\n\n<p>My Code (Not Completed):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Cwd;\n\nmy ($texfile, $inifile) = qw(test.tex tags.ini);\n\nreadFileinString($inifile, \\ my $inicnt);\n\nsub readFileinString\n{\n    my ($filename, $content) = @_;\n    open my $fh, '&lt;', $filename or die \"$filename: $!\";\n    $$content = do { local $/; &lt;$fh&gt; };\n}\n\nmy @iniCnts = split/\\n/, $inicnt; #print join \"\\n\", @iniCnts;\nmy (@fpush,%stores) = \"\";\nforeach my $iniline(@iniCnts)\n{\n    my($find, $repl) = split /\\t/, $iniline; my $fspush; my $j = 1;\n    while($repl=~m/(\\{[^{}]*\\})/g){  $stores{$j} = $1;  $j++;  } #$fspush .= $1; }\n    print sort values \\%stores;\n    #$fspush,\"\\n\";\n    system 'pause';\n}\n</code></pre>\n\n<p>In my code I got two values from <code>*INI</code> separated by tab delimit and one is <code>finding</code> and <code>replacing</code> values. Hereafter I want to replace in main <code>*TEX</code> file based on the user input in <code>*INI</code> file. How can I use the regex in replacing the finding values <code>#1</code> into corresponding values. (Refer <code>*INI</code> file).</p>\n\n<p>Could someone guide me to update the code?</p>\n"}, {"tags": ["perl", "pdflib"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522745931, "post_id": 49623001, "comment_id": 86259002, "body": "This module: <a href=\"https://metacpan.org/pod/PDFLib\" rel=\"nofollow noreferrer\">metacpan.org/pod/PDFLib</a> ?"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1522806750, "post_id": 49626039, "comment_id": 86290662, "body": "I have already used that but its not working my $searchpath = &quot;/usr/share/fonts&quot;;          my $p = new PDFlib::PDFlib;      # This means we must check return values of load_font() etc.     $p-&gt;set_option(&quot;errorpolicy=return&quot;);     # Set the search path for fonts and PDF files     $p-&gt;set_option(&quot;SearchPath={{&quot; . $searchpath .&quot;}}&quot;);          # all strings are expected as utf8     $p-&gt;set_option(&quot;stringformat=utf8&quot;);"}, {"owner": {"reputation": 1593, "user_id": 2862406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fef9ca7a323d140455331820ae3326f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rainer", "link": "https://stackoverflow.com/users/2862406/rainer"}, "reply_to_user": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1523014174, "post_id": 49626039, "comment_id": 86395345, "body": "might it be possible, that the font file have a upper/lower case problem? When you don&#39;t configure the font resources via the pdflib.upr file, PDFlib use the Extension based search. In your case you use the fontname <b>Arial</b>, and so it&#39;s expected the font file have also <b>Arial</b> with one of the known extension, like <b>.ttf</b>."}, {"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1523160334, "post_id": 49626039, "comment_id": 86441758, "body": "Yes it had that Upper case issue and now its working"}], "tags": [], "owner": {"reputation": 1593, "user_id": 2862406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fef9ca7a323d140455331820ae3326f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rainer", "link": "https://stackoverflow.com/users/2862406/rainer"}, "is_accepted": true, "score": 2, "last_activity_date": 1522745986, "creation_date": 1522745986, "answer_id": 49626039, "question_id": 49623001, "link": "https://stackoverflow.com/questions/49623001/fonts-not-supported-while-rendering-pdf-templates-using-pdf-blocks-tool/49626039#49626039", "title": "Fonts not supported while rendering PDF templates using PDF blocks tool", "body": "<blockquote>\n  <p>I have the fonts installed in my server and I can see it in usr/share/fonts folder, all the files have .ttf extension in the folder</p>\n</blockquote>\n\n<p>you must make the fonts available for PDFlib. Please see PDFlib 9.1 Tutorial, chapter 6.4.4 \"Searching for Fonts\" as well chapter 3.1.4 \"Resource Configuration and File Search\".</p>\n\n<p>In few words:\nPDFlib search the font files in SearchPath director(y/ies) which you have specified with the option \"SearchPath\". The /usr/share/fonts is not a default directory where PDFlib search for font files. </p>\n\n<p>When you want PDFlib to search in this directory, you should add this directory as a SearchPath directory</p>\n\n<pre><code>$p-&gt;set_option(\"searchpath={{/usr/share/fonts} {/maybe/some/other/dir}}\");\n</code></pre>\n\n<p>Please see also the PDFlib perl samples (like starter_block.pl), which demonstrate the Searchpath as well.</p>\n"}], "owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 49626039, "answer_count": 1, "score": 0, "last_activity_date": 1522745986, "creation_date": 1522734142, "question_id": 49623001, "link": "https://stackoverflow.com/questions/49623001/fonts-not-supported-while-rendering-pdf-templates-using-pdf-blocks-tool", "title": "Fonts not supported while rendering PDF templates using PDF blocks tool", "body": "<p>I am using Pdflib module to render the contents into PDF template and I am using it with PDF blocks plugin.\nI have created PDF blocks and have added fonts to it like Arial, Calibri etc;\nbut while rendering it shows an error</p>\n\n<pre><code>Warning: Font 'Arial' with encoding 'unicode': Font file (AFM, PFM, TTF, OTF etc.) or host font not found  \n</code></pre>\n\n<p>I have the fonts installed in my server and I can see it in usr/share/fonts folder, all the files have .ttf extension in the folder.\nI am using the below code to render the data </p>\n\n<pre><code>if ($p-&gt;fill_textblock($page, $elem, $data-&gt;{$elem},\"encoding=unicode\") == -1) {\n            printf (\"Warning: %s\\n\", $p-&gt;get_errmsg());\n        }\n</code></pre>\n\n<p>If I use the fonts in the Perl code it works fine</p>\n\n<pre><code>my $font = 'Arial';\n my $text_optlist =\"font=\".$font.\" encoding=unicode\";\n    foreach my $elem(keys %{$data}){\n        if ($p-&gt;fill_textblock($page, $elem, $data-&gt;{$elem},$text_optlist) == -1) {\n            printf (\"Warning: %s\\n\", $p-&gt;get_errmsg());\n        }\n</code></pre>\n\n<p>But with the blocks its not working and I am not sure what is wrong with it.\nAny help will be greatly appreciated</p>\n\n<p>Thanks\nJitesh</p>\n"}, {"tags": ["regex", "perl", "replace", "yaml", "str-replace"], "comments": [{"owner": {"reputation": 2960, "user_id": 8089674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29551894f595eb07cf3e8d4c27b36626?s=128&d=identicon&r=PG&f=1", "display_name": "Robo Mop", "link": "https://stackoverflow.com/users/8089674/robo-mop"}, "edited": false, "score": 0, "creation_date": 1522728667, "post_id": 49622069, "comment_id": 86251028, "body": "What is the error/output you&#39;re getting now?"}, {"owner": {"reputation": 216, "user_id": 4119378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/debe258b73053d67b6a2a2a4fde87c79?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4119378/stefan"}, "reply_to_user": {"reputation": 2960, "user_id": 8089674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29551894f595eb07cf3e8d4c27b36626?s=128&d=identicon&r=PG&f=1", "display_name": "Robo Mop", "link": "https://stackoverflow.com/users/8089674/robo-mop"}, "edited": false, "score": 0, "creation_date": 1522728791, "post_id": 49622069, "comment_id": 86251056, "body": "I&#39;m not seeing any errors, however in the file it keeps showing &quot;version: 1.2&quot;"}, {"owner": {"reputation": 216, "user_id": 4119378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/debe258b73053d67b6a2a2a4fde87c79?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4119378/stefan"}, "reply_to_user": {"reputation": 2960, "user_id": 8089674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29551894f595eb07cf3e8d4c27b36626?s=128&d=identicon&r=PG&f=1", "display_name": "Robo Mop", "link": "https://stackoverflow.com/users/8089674/robo-mop"}, "edited": false, "score": 0, "creation_date": 1522729319, "post_id": 49622069, "comment_id": 86251201, "body": "This seems to work: $search = qr/(version:\\s*)([^\\s]+)/mp; $replace = &#39;&quot;${1}1.3&quot;&#39;; Thanks :)"}, {"owner": {"reputation": 14543, "user_id": 235908, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rTstt.jpg?s=128&g=1", "display_name": "Simon Shine", "link": "https://stackoverflow.com/users/235908/simon-shine"}, "reply_to_user": {"reputation": 2960, "user_id": 8089674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29551894f595eb07cf3e8d4c27b36626?s=128&d=identicon&r=PG&f=1", "display_name": "Robo Mop", "link": "https://stackoverflow.com/users/8089674/robo-mop"}, "edited": false, "score": 0, "creation_date": 1522731463, "post_id": 49622069, "comment_id": 86251881, "body": "@CoffeehouseCoder: Look-behinds cannot have variable length. That is, you can&#39;t have <code>\\s*</code> inside <code>(?&lt;=...)</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522733045, "post_id": 49622069, "comment_id": 86252459, "body": "What kind of code is that? I hope it&#39;s not meant to be a Perl script?"}, {"owner": {"reputation": 14543, "user_id": 235908, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rTstt.jpg?s=128&g=1", "display_name": "Simon Shine", "link": "https://stackoverflow.com/users/235908/simon-shine"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522733220, "post_id": 49622069, "comment_id": 86252518, "body": "@zdim: It appears to be a shell script that calls a one-line perl script."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 14543, "user_id": 235908, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rTstt.jpg?s=128&g=1", "display_name": "Simon Shine", "link": "https://stackoverflow.com/users/235908/simon-shine"}, "edited": false, "score": 0, "creation_date": 1522734968, "post_id": 49622069, "comment_id": 86253236, "body": "@SimonShine  What shell supports that syntax?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1522744778, "post_id": 49622069, "comment_id": 86258310, "body": "None that I know of. This code is not the actual code used. Coffeehouse Coder, please copy and paste the actual code that you&#39;re using."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522757663, "post_id": 49622069, "comment_id": 86266384, "body": "Note that your data file is broken. <code>app</code> should be <code>app:</code>"}], "answers": [{"comments": [{"owner": {"reputation": 216, "user_id": 4119378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/debe258b73053d67b6a2a2a4fde87c79?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4119378/stefan"}, "edited": false, "score": 0, "creation_date": 1522771165, "post_id": 49622816, "comment_id": 86276222, "body": "Thanks for this Simon. (a) makes the most sense for my use case. However, I&#39;m not able to make it work. In the use case I&#39;m looking at the app / wat level in your example are not on the top but rather within the structure (3rd level). I tried to remove the caret from the regex, but no luck. Any ideas?"}, {"owner": {"reputation": 14543, "user_id": 235908, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rTstt.jpg?s=128&g=1", "display_name": "Simon Shine", "link": "https://stackoverflow.com/users/235908/simon-shine"}, "reply_to_user": {"reputation": 216, "user_id": 4119378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/debe258b73053d67b6a2a2a4fde87c79?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4119378/stefan"}, "edited": false, "score": 1, "creation_date": 1522822236, "post_id": 49622816, "comment_id": 86295480, "body": "@Stefan: I can only answer questions that you ask. You&#39;re in irregular land here; you might be able to grab it by <code>^\\s*app$</code> (but do note @ikegami&#39;s suggestion that this isn&#39;t valid YAML without an ending <code>:</code>, in which case you&#39;re building a simplistic YAML parser). Since the file is not so simple as you suggested, I&#39;d recommend you go and use @ikegami&#39;s solution using the YAML package. You can install it with <code>cpan -i YAML</code>."}], "tags": [], "owner": {"reputation": 14543, "user_id": 235908, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rTstt.jpg?s=128&g=1", "display_name": "Simon Shine", "link": "https://stackoverflow.com/users/235908/simon-shine"}, "is_accepted": false, "score": 3, "last_activity_date": 1522733188, "creation_date": 1522733188, "answer_id": 49622816, "question_id": 49622069, "link": "https://stackoverflow.com/questions/49622069/perl-regex-replacement/49622816#49622816", "title": "Perl Regex Replacement", "body": "<p>Your regex seems fine, but your use of the <code>perl</code> command-line tool needs justifying:</p>\n\n<pre><code>perl -pi -e 's/(?&lt;=version:).*/ 1.3/' test.yml\n</code></pre>\n\n<p>Takeaways:</p>\n\n<ul>\n<li>Use <code>\\S</code> instead of <code>[^\\s]</code>.</li>\n<li>Use <code>perl -pi -e</code> and not <code>perl -pie</code>. (<code>-i</code> takes an optional argument.)</li>\n</ul>\n\n<p>Depending on whether this is a one-time use regex or code that will be deployed, consider making the regex sensitive to the context of <em>(a)</em> <em>app</em> and <em>(b)</em> a version number lower than <em>1.3</em>; i.e. don't just bump any version number found in the file to <em>1.3</em>.</p>\n\n<ul>\n<li><p>Addressing <em>(a)</em>,</p>\n\n<pre><code>perl -pi -e '$toplevel = $1 if /^(\\S+)$/; s/(?&lt;=version:).*/ 1.3/ if $toplevel eq \"app\"' test.yml\n</code></pre>\n\n<p>This would push <em>app</em>'s <em>1.2</em> to <em>1.3</em> without touching <em>wat</em>'s in the following file:</p>\n\n<pre><code>app\n  version: 1.2\n  name: abc\n\nwat\n  version: 1.2\n  name: wat\n</code></pre></li>\n<li><p>Addressing <em>(b)</em>,</p>\n\n<pre><code>perl -pi -e 's/(?&lt;=version:)\\s*(\\d+(?:\\.\\d+)?)/\" \" . ($1 &lt; 1.3 ? 1.3 : $1)/e' test.yml\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1523235181, "last_edit_date": 1523235181, "creation_date": 1522757372, "answer_id": 49629760, "question_id": 49622069, "link": "https://stackoverflow.com/questions/49622069/perl-regex-replacement/49629760#49629760", "title": "Perl Regex Replacement", "body": "<p>Why are you trying to re-implement a YAML parser in a one-liner?!</p>\n\n<pre><code>perl -MYAML=DumpFile,LoadFile -e'\n   my $d = LoadFile($ARGV[0]);\n   $d-&gt;{app}{version} = \"1.3\";\n   DumpFile($ARGV[0], $d);\n' test.yml\n</code></pre>\n\n<p>It seems unlikely that the new version should be hardcoded like that.</p>\n\n<ul>\n<li><p>Version comes from the outside.</p>\n\n<pre><code>perl -MYAML=DumpFile,LoadFile -e'\n   my $d = LoadFile($ARGV[0]);\n   $d-&gt;{app}{version} = $ARGV[1];\n   DumpFile($ARGV[0], $d);\n' test.yml 1.3\n</code></pre></li>\n<li><p>Version should be incremented.</p>\n\n<pre><code>perl -MYAML=DumpFile,LoadFile -e'\n   my $d = LoadFile($ARGV[0]);\n   $d-&gt;{app}{version} =~ s/\\.\\K(.*)/ $1+1 /e;\n   DumpFile($ARGV[0], $d);\n' test.yml\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 216, "user_id": 4119378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/debe258b73053d67b6a2a2a4fde87c79?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4119378/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523235181, "creation_date": 1522728185, "last_edit_date": 1522949067, "question_id": 49622069, "link": "https://stackoverflow.com/questions/49622069/perl-regex-replacement", "title": "Perl Regex Replacement", "body": "<p>I'm pretty new to Perl and have the following issue: I'm trying to replace a version number in a <code>.yml</code> file with a different value. This is what my regex looks like:</p>\n\n<pre><code>version:\\s*([^\\s]+)\n</code></pre>\n\n<p>It works so far, but it does not do what I like it to do.</p>\n\n<p>Here the code that I currently have, and the Perl statement to replace the value in the <code>.yml</code> file.</p>\n\n<p>file content(./test.yml):</p>\n\n<pre><code>app:\n  version: 1.2\n  name: abc\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>$search = \"version:\\s*([^\\s]+)\";\n$replace = '1.3';\nperl -pie 's/$search/$replace/m' ./test.yml;\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522734302, "post_id": 49621848, "comment_id": 86252970, "body": "Can you offer the URL of the actual page?"}, {"owner": {"reputation": 615, "user_id": 808946, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/450afb3f0e3ff1a3d0355a641d44c470?s=128&d=identicon&r=PG", "display_name": "uncle-junky", "link": "https://stackoverflow.com/users/808946/uncle-junky"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522738245, "post_id": 49621848, "comment_id": 86254730, "body": "@zdim - I&#39;ve edited the code."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 615, "user_id": 808946, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/450afb3f0e3ff1a3d0355a641d44c470?s=128&d=identicon&r=PG", "display_name": "uncle-junky", "link": "https://stackoverflow.com/users/808946/uncle-junky"}, "edited": false, "score": 0, "creation_date": 1522742626, "post_id": 49623021, "comment_id": 86257116, "body": "@uncle-junky Thank you, I&#39;ve just looked at it and can query all components of the form using the methods like the ones in the answer.. So what do you want to do? Presumably now you&#39;d fill and submit the form etc. What &quot;values&quot; do you want -- can you give an example?"}, {"owner": {"reputation": 615, "user_id": 808946, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/450afb3f0e3ff1a3d0355a641d44c470?s=128&d=identicon&r=PG", "display_name": "uncle-junky", "link": "https://stackoverflow.com/users/808946/uncle-junky"}, "edited": false, "score": 0, "creation_date": 1522745605, "post_id": 49623021, "comment_id": 86258799, "body": "How do I access the values of radius|make|model|price-to ?"}, {"owner": {"reputation": 615, "user_id": 808946, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/450afb3f0e3ff1a3d0355a641d44c470?s=128&d=identicon&r=PG", "display_name": "uncle-junky", "link": "https://stackoverflow.com/users/808946/uncle-junky"}, "edited": false, "score": 0, "creation_date": 1522767180, "post_id": 49623021, "comment_id": 86273442, "body": "I think you might have misunderstood. In my code I have returned an array of hashes. I can access all the values that are listed in the Dumper output if I loop over the <code>@inputs</code> array and print only the current loop&#39;s hash key, but I am after the values of the <code>&lt;option&gt;</code> tags. For example, in the website <code>searchVehicles</code> form there is a input field for Distance. The drop-down gives you choices between 1 to 200 miles. How do I obtain those values?"}, {"owner": {"reputation": 615, "user_id": 808946, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/450afb3f0e3ff1a3d0355a641d44c470?s=128&d=identicon&r=PG", "display_name": "uncle-junky", "link": "https://stackoverflow.com/users/808946/uncle-junky"}, "edited": false, "score": 0, "creation_date": 1522920390, "post_id": 49623021, "comment_id": 86347426, "body": "I&#39;ve undeleted the post."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 615, "user_id": 808946, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/450afb3f0e3ff1a3d0355a641d44c470?s=128&d=identicon&r=PG", "display_name": "uncle-junky", "link": "https://stackoverflow.com/users/808946/uncle-junky"}, "edited": false, "score": 0, "creation_date": 1522945828, "post_id": 49623021, "comment_id": 86365752, "body": "@uncle-junky Alright, here it is, restored.  Note: I don&#39;t respond well to whimsical -1 and I intend to remove it, unless the score changes. So please use it and let me know when you are done. Let me know if there are question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1522946164, "post_id": 49623021, "comment_id": 86365936, "body": "@cxw Oh, thank you (didn&#39;t mean to solicit &quot;points&quot; :).  I am all for being called (or -1-ed) when I mess up but I don&#39;t like the all-too-many downvotes that I see around that are completely unclear, even upon good consideration."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1522946656, "post_id": 49623021, "comment_id": 86366240, "body": "@zdim No worries - my upvote was entirely on the merits :) .  Happy hacking!"}, {"owner": {"reputation": 615, "user_id": 808946, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/450afb3f0e3ff1a3d0355a641d44c470?s=128&d=identicon&r=PG", "display_name": "uncle-junky", "link": "https://stackoverflow.com/users/808946/uncle-junky"}, "edited": false, "score": 0, "creation_date": 1524689846, "post_id": 49623021, "comment_id": 87078484, "body": "@zdim. I will test, but I think this should suffice. Upvoted."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1523301382, "last_edit_date": 1523301382, "creation_date": 1522734239, "answer_id": 49623021, "question_id": 49621848, "link": "https://stackoverflow.com/questions/49621848/how-do-i-pull-html-form-option-values/49623021#49623021", "title": "How do I pull HTML form option values?", "body": "<p>The documentation for <a href=\"http://search.cpan.org/~oalders/WWW-Mechanize-1.88/lib/WWW/Mechanize.pm#$mech-%3Efind_all_inputs%28_..._criteria_..._%29\" rel=\"nofollow noreferrer\">WWW::Mechanize::find_all_inputs</a> says</p>\n\n<blockquote>\n  <p>find_all_inputs() returns an array of all the input controls in the current form whose properties match all of the regexes passed in. The controls returned are all descended from HTML::Form::Input. See <a href=\"http://search.cpan.org/~gaas/HTML-Form-6.03/lib/HTML/Form.pm#INPUTS\" rel=\"nofollow noreferrer\">\"INPUTS\" in HTML::Form</a> for details.</p>\n</blockquote>\n\n<p>So your <code>@inputs</code> is an array of <a href=\"http://search.cpan.org/~gaas/HTML-Form-6.03/lib/HTML/Form.pm\" rel=\"nofollow noreferrer\">HTML::Form</a> objects. </p>\n\n<p>From the given link to its <code>INPUTS</code> section we find methods like <code>name</code>, <code>value</code>, <code>value_names</code>, and many others. This is what you use to pull the needed information.</p>\n\n<p><strong>Update for the actual site that was provided</strong></p>\n\n<p>However, pages on this site are organized in a way that requires a bit more. The given URL does not list values anywhere (use Ctrl-U to see source), relegating <code>action</code> to <code>/car-search</code>. </p>\n\n<p>When we load <em>that</em> page then we can use the above discussion.  The code below aims to show how to retrieve information, please adjust for maintainability</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse WWW::Mechanize;\n\nuse open ':std', ':encoding(UTF-8)';\n\n#my $url = 'https://www.autotrader.co.uk';\nmy $url = 'https://www.autotrader.co.uk/car-search';\n\nmy $mech = WWW::Mechanize-&gt;new( autocheck =&gt; 1 );\nmy $status = $mech-&gt;status( $mech-&gt;get($url) );\ndie \"Got $status\\n\" if $status != 200;\n\n$mech-&gt;form_number(2);\n\nmy @inputs = $mech -&gt; find_all_inputs(\n    name_regex =&gt; qr/^(radius|make|model|price-to)$/,\n    type       =&gt;  'option'\n);\n\nforeach my $input (@inputs) {\n    say \"input: \", $input-&gt;name;\n    say join ' ', $input-&gt;possible_values;\n    say \"\\t$_\" for $input-&gt;value_names;\n}\n</code></pre>\n\n<p>Output, with categories truncated for convenience</p>\n\n<pre>\ninput: radius\n1500 1 5 10 15 20 25 30 35 40 45 50 55 60 70 80 90 100 200\n        Distance (national)\n        Within 1 mile\n        Within 5 miles\n        ...\ninput: price-to\n500 1000 1500 2000 2500 3000 3500 4000 4500 5000 5500 [...]\n        (any)\n        \u00a3500 (934)\n        \u00a31,000 (7,683)\n        ...\n</pre>\n\n<p>Only <code>radius</code> and <code>price-to</code> are in this form. The other terms of interest are in different HTML elements further down the source, and have to be retrieved in other ways.</p>\n"}], "owner": {"reputation": 615, "user_id": 808946, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/450afb3f0e3ff1a3d0355a641d44c470?s=128&d=identicon&r=PG", "display_name": "uncle-junky", "link": "https://stackoverflow.com/users/808946/uncle-junky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 49623021, "answer_count": 1, "score": 1, "last_activity_date": 1523301382, "creation_date": 1522726665, "last_edit_date": 1522738805, "question_id": 49621848, "link": "https://stackoverflow.com/questions/49621848/how-do-i-pull-html-form-option-values", "title": "How do I pull HTML form option values?", "body": "<p>Autotrader's website has a form called 'searchVehicle'. In that form are a number of HTML  values for the given form input fields <code>qr/^(radius|make|model|price-to)</code>. These  values are as you'd expect, i.e. a drop-down list. How do I pull the string values of those <code>&lt;option&gt;</code>'s?</p>\n\n<p>So far I have the following Perl code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse utf8;\nuse WWW::Mechanize;\nuse Data::Dumper;\nuse JSON;\n\nbinmode STDOUT, ':encoding(UTF-8)';\nbinmode STDIN, ':encoding(UTF-8)';\n\nmy $url = 'https://www.autotrader.co.uk/';\n\nmy $mech = WWW::Mechanize -&gt; new( autocheck =&gt; 1 );\n$mech -&gt; agent_alias( 'Linux Mozilla');\n\nif ($mech -&gt; status( $mech -&gt; get($url)) == 200)\n{\n    $mech -&gt; form_name('searchVehicles');\n    my @inputs = $mech -&gt; find_all_inputs(\n                            name_regex    =&gt; qr/^(radius|make|model|price-to)$/,\n                            type    =&gt;  'option',);\n    print Dumper \\@inputs;\n};\n</code></pre>\n\n<p>My result is like:</p>\n\n<pre><code>$VAR1 = [\n          bless( {\n                   'idx' =&gt; 1,\n                   'type' =&gt; 'option',\n                   'current' =&gt; 0,\n                   'name' =&gt; 'radius',\n                   'menu' =&gt; [\n                               {\n                                 'name' =&gt; 'Select the distance',\n                                 'seen' =&gt; 1,\n                                 'value' =&gt; ''\n                               }\n                             ],\n                   'id' =&gt; 'radius',\n                   'aria-label' =&gt; 'Choose a radius',\n                   'class' =&gt; 'c-form__select'\n                 }, 'HTML::Form::ListInput' ),\n          bless( {\n                 }, 'HTML::Form::ListInput' ),\n          bless( {\n                 }, 'HTML::Form::ListInput' ),\n          bless( {\n                 }, 'HTML::Form::ListInput' )\n        ];\n</code></pre>\n\n<p>Note: I have truncated all but the first since you get the idea with the first. </p>\n\n<ul>\n<li>How do I return the <code>'HTML::Form::ListInput'</code> values?</li>\n</ul>\n"}, {"tags": ["linux", "bash", "perl", "file", "unix"], "comments": [{"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522716790, "post_id": 49620687, "comment_id": 86248296, "body": "<code>column -t -s &quot;-----------------------------------&quot; file</code> prints the file out like a chaos. Without the -t it&#39;s three columns. Adding <code>-c 2</code> results in only one column. No matter what I use, <code>column</code> always says <code>column: file too long</code>."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522717164, "post_id": 49620687, "comment_id": 86248367, "body": "<code>pr</code> refuses to split at my delimiter, even with the <code>--sep-string</code> supplied. <code>pr -t -2 --sep-string=&quot;----...&quot;</code> results yet again in an ugly mess. Also, <code>pr</code> is splitting the file in half instead of block-by-block. <code>column</code> does the same."}], "answers": [{"comments": [{"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522729054, "post_id": 49621451, "comment_id": 86251121, "body": "I don&#39;t understand awk (sadly), but this doesn&#39;t work for me. It doesn&#39;t print anything between the seperators, except some empty lines but in a non-expected way. Screenshot: <a href=\"https://i.imgur.com/K4bKSJf.png\" rel=\"nofollow noreferrer\">i.imgur.com/K4bKSJf.png</a>. Each column also does not use 50% of the screen as desired."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522730457, "post_id": 49621451, "comment_id": 86251553, "body": "Tried changing the 40&#39;s to 70&#39;s, that fixes this one weird line at the top and is a way to make it occupy 50% of the screen per column. Still no data and weird empty lines though: <a href=\"https://i.imgur.com/FNEMOor.png\" rel=\"nofollow noreferrer\">i.imgur.com/FNEMOor.png</a>"}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522730980, "post_id": 49621451, "comment_id": 86251721, "body": "By changing the <code>\\n\\n</code>, in the RS definition to a single <code>\\n</code> I am getting no non-expected new lines anymore. However most of the data is still missing (I&#39;m only getting the third line of each data block, and only on the right column). Maybe it is relevant to mention that those blocks are seperated by three empty lines, not just one. I&#39;m looking for a more general solution though that makes a two-column layout in bash possible."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522731124, "post_id": 49621451, "comment_id": 86251770, "body": "By changing the RS as I said above I&#39;m getting a good looking output. However it is only printing the first two lines of each data set. Like I said in my question, the line-length within the blocks varies and can also contain newlines."}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522765239, "post_id": 49621451, "comment_id": 86271938, "body": "My answer was based on the <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> you provided, please update your question with ALL relevant information (records separated by 3 newlines, number of new lines on each records is variable, etc.)."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522770188, "post_id": 49621451, "comment_id": 86275580, "body": "I&#39;m really looking for a general approach that does not need a specific example and would work with any number of new lines in or between the blocks. Basically something that looks for a delimeter, prints everything until it finds said delimeter again to column A, then does the same to column B, then back to A, and so on."}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522770591, "post_id": 49621451, "comment_id": 86275844, "body": "Let&#39;s say block 1 arrives and block 2 arrives 2 seconds later, what the solution should print? Nothing, wait for block 2 to arrive? Also, what&#39;s the purpose, monitoring?"}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522770984, "post_id": 49621451, "comment_id": 86276089, "body": "It should print out every block as it comes in, using the currently &quot;active&quot; column. The purpose is to print out data to a monitor in a very simple way on which there&#39;s no option to scroll and one columns isn&#39;t enough. I&#39;m really looking for a general approach on how to do this though, not just my specific case. I really can&#39;t believe there&#39;s no simple way to get a two column layout in bash that can split a file like I desire."}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522786364, "post_id": 49621451, "comment_id": 86284420, "body": "Added a better version, let me know if it works for you."}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522788445, "post_id": 49621451, "comment_id": 86285420, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/168146/discussion-between-luis-munoz-and-confetti\">continue this discussion in chat</a>."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522819191, "post_id": 49621451, "comment_id": 86294196, "body": "This is the output I&#39;m getting: <a href=\"https://i.imgur.com/P1UNJVx.png\" rel=\"nofollow noreferrer\">i.imgur.com/P1UNJVx.png</a>. Here is the exact file I&#39;m using, replaced every alphanumeric char with an x though: <a href=\"https://pastebin.com/vKBxayjS\" rel=\"nofollow noreferrer\">pastebin.com/vKBxayjS</a>"}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522849378, "post_id": 49621451, "comment_id": 86313586, "body": "yes, that&#39;s because record separator is 3 new lines, not 2 as in your sample. Change <code>RS=&quot;\\n\\n\\n&quot;</code>. Note: if lines are longer than twidth they may overlap with the record to the right. Can be fixed truncating lines to twidth characters."}], "tags": [], "owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "is_accepted": false, "score": 1, "last_activity_date": 1522787474, "last_edit_date": 1522787474, "creation_date": 1522723658, "answer_id": 49621451, "question_id": 49620687, "link": "https://stackoverflow.com/questions/49620687/print-a-file-in-multiple-columns-based-on-delimiter/49621451#49621451", "title": "Print a file in multiple columns based on delimiter", "body": "<p>This script is getting max width of current terminal and splitting it in 2, then printing records split by RS=\"\\n\\n\" separator, print the first found and placing the cursor at the first line/last column of it to write the next record.</p>\n\n<pre><code>#!/bin/bash\n\ntput clear\n# get half current terminal width\ntwidth=$(($(tput cols)/2))\n\ntail -n 100 -f test.txt | stdbuf -i0 -o0 gawk -v twidth=$twidth 'BEGIN{ RS=\"\\n\\n\"; FS=OFS=\"\\n\"; oldNF=0 } {\n    sep=\"-----------------------------------\"\n    pad=\"                    \"\n    printf \"%-\" twidth \"s\", $0\n\n    getline\n\n    for(i = 1; i &lt;= NF; i++){\n    # move cursor to first line, last column of previous record\n    print \"\\033[\" oldNF \";\" twidth \"f\" $i\n    oldNF+=1\n    }\n}'\n</code></pre>\n\n<p>Here's a simpler version </p>\n\n<pre><code>gawk 'BEGIN{ RS=\"[-]+\\n\\n\"; FS=\"\\n\" } {\n    sep=\"-----------------------------------\"\n    le=$2\n    lo=$3\n    getline\n\n    printf \"%-40s %-40s\\n\", sep,sep\n    printf \"%-40s %-40s\\n\", le,$2\n    printf \"%-40s %-40s\\n\", lo,$3\n    printf \"%-40s %-40s\\n\\n\", sep,sep\n}' test.txt\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>-----------------------------------      -----------------------------------     \nSome data                                More data that is seperated             \nthat varies in line length               by a new line and dashes                \n-----------------------------------      -----------------------------------     \n\n-----------------------------------      -----------------------------------     \nSome data                                More data that is seperated             \nthat varies in line length               by a new line and dashes                \n-----------------------------------      ----------------------------------- \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6955, "user_id": 6136214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0385d5a1c27a6707139e7dc7ad29b6d6?s=128&d=identicon&r=PG&f=1", "display_name": "agc", "link": "https://stackoverflow.com/users/6136214/agc"}, "edited": false, "score": 0, "creation_date": 1522735081, "post_id": 49623086, "comment_id": 86253298, "body": "This works for an existing <i>file</i>, but probably needs tweaking for cope with a continually updating input."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522743025, "post_id": 49623086, "comment_id": 86257348, "body": "Like I said, they don&#39;t. The number of lines within the blocks can be anything between 3 and, theoretically, in the few hundreds. I&#39;d really love a general answer that helps others aswell instead of just fixing my specific case."}, {"owner": {"reputation": 6955, "user_id": 6136214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0385d5a1c27a6707139e7dc7ad29b6d6?s=128&d=identicon&r=PG&f=1", "display_name": "agc", "link": "https://stackoverflow.com/users/6136214/agc"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522820402, "post_id": 49623086, "comment_id": 86294646, "body": "@confetti, Sorry the Q is unclear on block length.  Please edit the Q to reflect the specs given in your comments.  Also suppose the first block is 1000 lines, the 2nd is one line, the third one line -- should the 2nd block in column two have about 999 blank lines below it or what?"}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522822306, "post_id": 49623086, "comment_id": 86295506, "body": "I dont know how many times I have to stress this: The block length should not matter. I&#39;m looking for a general approach to split a file into multiple columns based on a delimeter. Column B should not be affected by column A and vice versa. Each block in each column should be seperated by a fixed amount of newlines."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522854282, "post_id": 49623086, "comment_id": 86317605, "body": "Replying to your edit: I see where you are coming from. I&#39;m guessing at this point that multiplexing the terminal might be the best solution for this case. A 1000 line block is very unlikely though. Usually, it&#39;s 3-10 per block. I just thought there was a sort-of easy way to achieve this kinda functionality."}], "tags": [], "owner": {"reputation": 6955, "user_id": 6136214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0385d5a1c27a6707139e7dc7ad29b6d6?s=128&d=identicon&r=PG&f=1", "display_name": "agc", "link": "https://stackoverflow.com/users/6136214/agc"}, "is_accepted": false, "score": 0, "last_activity_date": 1522830679, "last_edit_date": 1522830679, "creation_date": 1522734570, "answer_id": 49623086, "question_id": 49620687, "link": "https://stackoverflow.com/questions/49620687/print-a-file-in-multiple-columns-based-on-delimiter/49623086#49623086", "title": "Print a file in multiple columns based on delimiter", "body": "<p>Assuming <em>file</em> contains uniform blocks of five lines each, using <code>paste</code>, <code>sed</code>, and <code>printf</code>:</p>\n\n<pre><code>c=$((COLUMNS/2)) \npaste -d'#' &lt;(sed -n 'p;n;p;n;p;n;p;n;p;n;n;n;n;n' file) \\\n            &lt;(sed -n 'n;n;n;n;n;p;n;p;n;p;n;p;n;p' file) | \nsed 's/.*/\"&amp;\"/;s/#/\" \"/' | \nxargs -L 1 printf \"%-${c}s %-${c}s\\n\"\n</code></pre>\n\n<hr>\n\n<p><strong>Problem with OP spec</strong></p>\n\n<p>The <a href=\"https://stackoverflow.com/questions/49620687/print-a-file-in-multiple-columns-based-on-delimiter/49623086?noredirect=1#comment86295506_49623086\">OP reports that the block lengths may vary</a>, and should be separated by a fixed number of lines.  Even numbered blocks go in <em>Column A</em>, odd numbered blocks in <em>Column B</em>.</p>\n\n<p>That creates a <code>tail -f</code> problem then.   Suppose the block lengths of the source input begin with 1000 lines, then one line, 1000, 1, 1000, 1, <em>etc</em>.  So <em>Column A</em> gets all the 1000 line blocks, and <em>Column B</em> gets all the one line blocks.  Let's say the blocks in the output are separated by 1 line each.  So one block in <em>Column A</em> lines up with 500 blocks in <em>Column B</em>.  So for a terminal with scrolling output, that means before we can output the <strong>first</strong> block in <em>Column A</em>, we have to wait for <strong>1000 blocks of input</strong>. To output the <em>third</em> block in <em>Column A</em>, (just below the first block), we have to wait for <em>2000 blocks of input</em>.</p>\n\n<p>If the blocks are added to the input file relatively slowly, with a one second delay between blocks, then it will take three seconds for the block 3 to appear in the input file, but it will take 33 minutes for block 3 to be displayed in the output file.</p>\n"}, {"comments": [{"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522756158, "post_id": 49627433, "comment_id": 86265329, "body": "How would I invoke this? I&#39;m sorry, I never used perl but since it ships with linux and works for me I added it as a tag. I tried piping <code>tail -f</code> to the perl script, but it gives me <code>Name &quot;main::DATA&quot; used only once: possible typo at test.pl line 10.</code> and <code>readline() on unopened filehandle DATA at test.pl line 10. </code>. Keep in mind the file I&#39;m reading from has to get updated on change."}, {"owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 1, "creation_date": 1522758056, "post_id": 49627433, "comment_id": 86266643, "body": "The &quot;DATA&quot; section and file handle are used so the program can be easily tested and demoed.  To pipe a file through it remember to add the first shebang line I just added, do a <code>chmod +x</code> on the program file to make it executable and change <code>while (&lt;DATA&gt;) {</code> to just <code>while (&lt;&gt;) {</code> to read from stdin.  Let me know if you have other difficulties running it."}, {"owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 1, "creation_date": 1522758860, "post_id": 49627433, "comment_id": 86267186, "body": "The error you are getting suggests to me that you did not copy they whole script and need to include the lines from <code>__DATA__</code> on so you can test with <code>while (&lt;DATA&gt;) {</code> (still works when you change the while loop)."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522770733, "post_id": 49627433, "comment_id": 86275921, "body": "This comes very close to my desired result, but is still not quite doing what I want: A script that gets content between two delimeters and splits it into two columns. On some lines your script also causes weird shifts, and the columns&#39; height shouldn&#39;t be affected by each other, as in there should always be a fixed amount of newlines between each block in both columns."}, {"owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522785307, "post_id": 49627433, "comment_id": 86283956, "body": "If some of the input lines are longer than 40 chars my script won&#39;t truncate or wrap so that might cause the shifts you are seeing.  Piping the output through the UNIX fold program like <code>| fold -w40 |</code> would wrap and solve that unless your <code>----</code> separator lines are also longer than 40 in which case they would need to be truncated like <code>| sed &#39;s&#47;^\\(-\\{40\\}\\)-*$&#47;\\1&#47;&#39; | fold -w40 |</code> .  If these suggestions work let me know and I may try to address the height issue."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522818604, "post_id": 49627433, "comment_id": 86293982, "body": "I changed the 40&#39;s to 100&#39;s in your script already so I think that shouldnt be an issue, but I tried it anyway with no success. Here is the exact file I&#39;m using, replaced every alphanumeric char with an x though: <a href=\"https://pastebin.com/vKBxayjS\" rel=\"nofollow noreferrer\">pastebin.com/vKBxayjS</a>"}, {"owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "reply_to_user": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522848388, "post_id": 49627433, "comment_id": 86312801, "body": "I am a bit confused by &quot;changed the 40&#39;s to 100&#39;s&quot;.  Did you mean in the Perl script and are you looking for two 100 char columns in a 200+ char wide terminal?  If so I tried your sample input and didn&#39;t see any &quot;weird shifts&quot; although I understand the height concern.  If that is not what you meant, could you clarify the terminal and desired column widths and I can try again with the sample input."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "edited": false, "score": 0, "creation_date": 1522854011, "post_id": 49627433, "comment_id": 86317382, "body": "Column width should be 50% of the terminal window. If that&#39;s not possible, it should be easily changable in the script. (I thought changing 40s to 100s will make it 100 chars per column, since 40 wouldnt be enough) The terminal I&#39;m trying is on is 238 chars wide, but in the end it should be (in my case) 80 chars per column."}], "tags": [], "owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "is_accepted": false, "score": 2, "last_activity_date": 1522757757, "last_edit_date": 1522757757, "creation_date": 1522750181, "answer_id": 49627433, "question_id": 49620687, "link": "https://stackoverflow.com/questions/49620687/print-a-file-in-multiple-columns-based-on-delimiter/49627433#49627433", "title": "Print a file in multiple columns based on delimiter", "body": "<p>The question is tagged as Perl so here is a possible Perl answer:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $is_col1 = 1;\nmy $in_block = 0;\nmy @col1;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    if (/^\\s*-+\\s*$/ ... /^\\s*-+\\s*$/) {\n        $in_block = 1;\n        if ($is_col1) {\n            push @col1, $_;\n        }\n        else {\n            printf \"%-40s%-40s\\n\", shift @col1 // '', $_;\n        }\n\n    }\n    else {\n        if ($in_block) {\n            $in_block = ! $in_block;\n            $is_col1 = ! $is_col1;\n            print \"\\n\" if $is_col1; # line separating blocks\n        }\n    }\n}\n\nprint join(\"\\n\", @col1), \"\\n\\n\" if @col1;\n\n__DATA__\n-----------------------------------\nSome data\nthat varies in line length\n-----------------------------------\n\n-----------------------------------\nMore data that is seperated\nby a new line and dashes\nwith a longer column2\n-----------------------------------\n\n\n-----------------------------------\nThe odd last column\n-----------------------------------\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>-----------------------------------     -----------------------------------\nSome data                               More data that is seperated\nthat varies in line length              by a new line and dashes\n-----------------------------------     with a longer column2\n                                        -----------------------------------\n\n-----------------------------------\nThe odd last column\n-----------------------------------\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "edited": false, "score": 0, "creation_date": 1522964499, "post_id": 49658111, "comment_id": 86375719, "body": "I couldn&#39;t get your solution working on Ubuntu which I assume has gnu <code>screen</code>. I don&#39;t have much experience with <code>screen</code>. I first ran <code>screen -S testscr</code> and then your script as <code>bin&#47;so-solution &lt;t&#47;data&#47;01-original-post.in</code> and get error <code>tail: &#47;tmp&#47;testscr1.txt: file truncated</code> in both halves of the terminal. In the meantime I developed to your requirements with documenation and tests on GitHub: <a href=\"https://github.com/ronaldxs/two-cols\" rel=\"nofollow noreferrer\">github.com/ronaldxs/two-cols</a> .  Let me know if you have further interest in me posting from the GH project here."}, {"owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "reply_to_user": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "edited": false, "score": 0, "creation_date": 1523008449, "post_id": 49658111, "comment_id": 86391700, "body": "The problem with your script is what <a href=\"https://stackoverflow.com/users/6136214/agc\">stackoverflow.com/users/6136214/agc</a> pointed out that I wasn&#39;t fully aware of at first. If the terminal isn&#39;t multiplexed, there is no way to have the two columns independantly on each other. Did you run the script I provided inside the screen? It might be neccessary on some screen versions. The seperators are different in this answer and the OP. Please try out my solution with this file: <a href=\"https://pastebin.com/vKBxayjS\" rel=\"nofollow noreferrer\">pastebin.com/vKBxayjS</a> or change the seperator. This is my output: <a href=\"https://i.imgur.com/Xy4sHD4.png\" rel=\"nofollow noreferrer\">i.imgur.com/Xy4sHD4.png</a> with new content being added properly and right away."}], "tags": [], "owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "is_accepted": true, "score": 0, "last_activity_date": 1522866939, "creation_date": 1522866939, "answer_id": 49658111, "question_id": 49620687, "link": "https://stackoverflow.com/questions/49620687/print-a-file-in-multiple-columns-based-on-delimiter/49658111#49658111", "title": "Print a file in multiple columns based on delimiter", "body": "<p>Alright, since apprently there is no clean way to do this I came up with my own solution. It's a bit messy and requires GNU <code>screen</code> to be installed, but it works. Any amount of lines within or around the blocks, 50% of the screen automatically resizing and each column prints independantly from each other with a fixed amount of newlines between them. Also automatic updates every x seconds. (120 in my example)</p>\n\n<pre><code>#!/bin/bash\n\nscreen -S testscr -X layout save default\nscreen -S testscr -X split -v\nscreen -S testscr -X screen tail -f /tmp/testscr1.txt\nscreen -S testscr -X focus\nscreen -S testscr -X screen tail -f /tmp/testscr2.txt\n\nwhile : ; do\n    echo \"\" &gt; /tmp/testscr1.txt\n    echo \"\" &gt; /tmp/testscr2.txt\n    cfile=1 # current column\n    ctype=0 # start or end of block\n\n    while read; do\n        if [[ $REPLY == \"------------------------------------------------------------\" ]]; then\n            if [[ $ctype -eq 0 ]]; then\n                ctype=1\n            else\n                if [[ $cfile -eq 1 ]]; then\n                    echo \"${REPLY}\" &gt;&gt; /tmp/testscr1.txt\n                    echo \"\" &gt;&gt; /tmp/testscr1.txt\n                    echo \"\" &gt;&gt; /tmp/testscr1.txt\n                    cfile=2\n                else\n                    echo \"${REPLY}\" &gt;&gt; /tmp/testscr2.txt\n                    echo \"\" &gt;&gt; /tmp/testscr2.txt\n                    echo \"\" &gt;&gt; /tmp/testscr2.txt\n                    cfile=1\n                fi\n                ctype=0\n            fi\n        fi\n        if [[ $ctype -eq 1 ]]; then\n            if [[ $cfile -eq 1 ]]; then\n                echo \"${REPLY}\" &gt;&gt; /tmp/testscr1.txt\n            else\n                echo \"${REPLY}\" &gt;&gt; /tmp/testscr2.txt\n            fi\n        fi\n    done &lt; \"$1\"\n    sleep 120\ndone\n</code></pre>\n\n<p>First, start a screen session with <code>screen -S testscr</code> then, either within or outside the session, execute the script above. This will split the screen vertically using 50% per column and execute <code>tail -f</code> on both columns, afterwards it will go through the input file and write block by block to each tmp. file in the desired way. Since it's in an infinite while loop it's essentially automatically updating the shown output every x seconds (here <code>120</code>).</p>\n"}], "owner": {"reputation": 877, "user_id": 9138821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QAZX.jpg?s=128&g=1", "display_name": "confetti", "link": "https://stackoverflow.com/users/9138821/confetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 49658111, "answer_count": 4, "score": 1, "last_activity_date": 1522866939, "creation_date": 1522716562, "last_edit_date": 1522771166, "question_id": 49620687, "link": "https://stackoverflow.com/questions/49620687/print-a-file-in-multiple-columns-based-on-delimiter", "title": "Print a file in multiple columns based on delimiter", "body": "<p>This seems like a simple task, but using duckduckgo I wasn't able to find a way to properly do what I'm trying to.</p>\n\n<p>The main question is: How do I split the output of a command in linux or bash into multiple columns using a delimeter?</p>\n\n<p>I have a file that looks like this: (this is just a simplified example)</p>\n\n<pre><code>-----------------------------------\nSome data\nthat varies in line length\n-----------------------------------\n\n-----------------------------------\nMore data that is seperated\nby a new line and dashes\n-----------------------------------\n</code></pre>\n\n<p>And so on. Everytime data gets written to the file, it's enclosed in a line of dashes, seperated by an empty line from the last block. Line-length of the data varies. What I want is basically a tool or way using bash to split the file into multiple columns like this:</p>\n\n<pre><code>-----------------------------------        -----------------------------------\nSome data                                  More data that is seperated\nthat varies in line length                 by a new line and dashes\n-----------------------------------        -----------------------------------\n</code></pre>\n\n<p>Each column should take 50% of the screen, no centering (as in alignment) needed. The file <strong>has</strong> to be split <strong>per-block</strong>. Splitting the file in the middle or something like that won't work. I basically want block 1 go to the left column, block 2 to the right, 3 to the left again, 4 right, and so on. The file gets updated constantly and updates should be written to the screen right away. (Currently I'm using <code>tail -f</code>)</p>\n\n<p>Since this sounds like a rather common question I would welcome a general approach to this instead of a specific answer that works only for my case so people coming from search engines looking for a way to have a two column layout in bash get some information too. I tried <code>column</code> and <code>pr</code>, both don't work as desired. (I elaborated on this in the comments)</p>\n\n<p><strong>Edit:</strong> To be clear, I am looking for a <strong>general</strong> approach on this. Going through a file, getting data between the delimiter, putting it to column A, getting the next one putting it to column B, and so on.</p>\n"}, {"tags": ["regex", "perl", "concatenation", "fasta"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1522707067, "creation_date": 1522707067, "answer_id": 49619498, "question_id": 49619263, "link": "https://stackoverflow.com/questions/49619263/concatenating-multiple-sequences-for-a-sample-within-fasta-file-using-perl-and-r/49619498#49619498", "title": "Concatenating Multiple Sequences for a Sample within FASTA file using Perl and REGEX", "body": "<p>If the samples to be concatenated are adjacent, you can just collect the ranges (e.g. <code>[1:61]</code>) and lines to be printed in two arrays.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nsub without_ranges {\n    my ($header) = @_;\n    ( my $without = $header ) =~ s/\\[[^\\]]+\\]//g;\n    return $without\n}\n\nsub output {\n    my ($header, $ranges, $buffer) = @_;\n    my $header_with_ranges = $header;\n    $header_with_ranges =~ s/(.*\\])/$1\\[$_]/ for @$ranges;\n    print $header_with_ranges, @$buffer;\n}\n\n\nmy (@buffer, @ranges);\nmy $header = \"\";\n\nwhile (&lt;&gt;) {\n    if (/^&gt;/) {\n        my $new_header = $_;\n        if (without_ranges($new_header) eq without_ranges($header)) {\n            push @ranges, $new_header =~ /\\[([^\\]]+)\\]/;\n\n        } else {\n            output($header, \\@ranges, \\@buffer) if $header;\n            $header = $new_header;\n            @buffer = @ranges = ();\n        }\n        last if eof;\n\n    } else {\n        push @buffer, $_;\n    }\n}\noutput($header, \\@ranges, \\@buffer);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "is_accepted": false, "score": -1, "last_activity_date": 1522709110, "last_edit_date": 1522709110, "creation_date": 1522708678, "answer_id": 49619743, "question_id": 49619263, "link": "https://stackoverflow.com/questions/49619263/concatenating-multiple-sequences-for-a-sample-within-fasta-file-using-perl-and-r/49619743#49619743", "title": "Concatenating Multiple Sequences for a Sample within FASTA file using Perl and REGEX", "body": "<p>The code from another ticket is not that helpful, and a bit ... inoptimal, frankly.<br>\nHere is one of the possible solutions, assuming that you always have ranges <code>[x:y]</code>. </p>\n\n<pre><code>use strict; use warnings;\n\nmy (%hash,$key,$start\n    );\nwhile(&lt;DATA&gt;) {\n    chomp;\n    if (m{^(&gt;.*?)(?:\\[(\\d+):(\\d+)\\]\\.sp\\.tr)?$}) {\n        ($key,$start)=($1,$2);\n        next;\n    }\n    $hash{$key}{$start}.=$_;\n}\n\nfor my $key (sort keys %hash) {\n      my $keyref=$hash{$key};\n      printf \"%ssp.tr\\n%s\\n\", $key, join (''\n                                , map { $keyref-&gt;{$_}} sort {$a&lt;=&gt;$b} keys %$keyref\n                                );\n}\n\n__DATA__\n&gt;303.1_assembled_PF3D7_1475500.[1:126].sp.tr\nMHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNY\nEEKKTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDCAVI\nKNVQ\n\n&gt;IGS-MLW-089sA_assembled_PF3D7_1475500.[1:61].sp.tr\nMHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNY\n&gt;IGS-MLW-089sA_assembled_PF3D7_1475500.[65:126].sp.tr\nTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDCAVIKNVQ\n\n&gt;IGS-MWI-254sA_assembled_PF3D7_1475500.[1:61].sp.tr\nMHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNY\n&gt;IGS-MWI-254sA_assembled_PF3D7_1475500.[65:119].sp.tr\nTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDC\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;303.1_assembled_PF3D7_1475500.sp.tr\nMHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNYEEKKTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDCAVIKNVQ\n&gt;IGS-MLW-089sA_assembled_PF3D7_1475500.sp.tr\nMHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNYTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDCAVIKNVQ\n&gt;IGS-MWI-254sA_assembled_PF3D7_1475500.sp.tr\nMHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNYTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDC\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8180253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ef805664acbf9f23a6b5864042b553a?s=128&d=identicon&r=PG&f=1", "display_name": "tkh86", "link": "https://stackoverflow.com/users/8180253/tkh86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573115052, "creation_date": 1522705608, "last_edit_date": 1573115052, "question_id": 49619263, "link": "https://stackoverflow.com/questions/49619263/concatenating-multiple-sequences-for-a-sample-within-fasta-file-using-perl-and-r", "title": "Concatenating Multiple Sequences for a Sample within FASTA file using Perl and REGEX", "body": "<p>I have over 200 multi-sequence fasta files and inside each fasta file, there are sequences for hundreds of samples for a select gene (i.e.PF3D7_1467550 in the sample input fasta file). Most samples (i.e. sample 303.1 - first sequence in the sample input file) within a fasta file have one sequence but other samples (i.e. IGS-MLW-089sA and IGS-MWI-254sA) have multiple sequences for a gene that need to be concatenated together.  </p>\n\n<p>Sample input fasta file</p>\n\n<pre><code>&gt;303.1_assembled_PF3D7_1475500.[1:126].sp.tr\nMHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNY\nEEKKTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDCAVI\nKNVQ\n\n&gt;IGS-MLW-089sA_assembled_PF3D7_1475500.[1:61].sp.tr\nMHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNY\n&gt;IGS-MLW-089sA_assembled_PF3D7_1475500.[65:126].sp.tr\nTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDCAVIKNVQ\n\n&gt;IGS-MWI-254sA_assembled_PF3D7_1475500.[1:61].sp.tr\nMHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNY\n&gt;IGS-MWI-254sA_assembled_PF3D7_1475500.[65:119].sp.tr\nTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDC\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code> &gt;303.1_assembled_PF3D7_1475500.[1:126].sp.tr\n MHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNY\n EEKKTYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDCAVI\n KNVQ\n\n &gt;IGS-MLW-089sA_assembled_PF3D7_1475500.[1:61][65:126].sp.tr\n MHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNY\n TYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDCAVIKNVQ\n\n &gt;IGS-MWI-254sA_assembled_PF3D7_1475500.[1:61][65:119].sp.tr\n MHHLLFIIWYIILNYYVSGQESATNFYKFIDSFASSTYISEESGSSAYDAKRAIQNNPNY\n TYDEELKESKEKANDLNNKLSLLTSVNVNTLDSDILKLGILPGDSYNFPANDC\n</code></pre>\n\n<p>I believe this code from another ticket could be useful. </p>\n\n<pre><code> %hash;\n while (&lt;DATA&gt;) {\n    if (/^&gt;(miRNA\\d+)/) {\n            $hash{$1}[0] = $_;\n            chomp($n = &lt;DATA&gt;);\n            unshift @{$hash{$1}[1]}, $n;\n    }\n}\n\nfor $k (sort keys %hash) {\n    print $hash{$k}[0], join(',', @{$hash{$k}[1]}), \"\\n\";\n }\n</code></pre>\n\n<p>Here is the link to the previous ticket: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/11821962/i-need-search-a-pattern-in-a-header-line-of-my-file-and-concatenates-the-next-li\">I need search a pattern in a header line of my file and concatenates the next line with Perl</a></p>\n\n<p>I am looking for help to modify the following part of code dealing with the selecting the sampleID or alternative suggestions.  </p>\n\n<pre><code> /^&gt;(miRNA\\d+)/  \n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "if-statement", "parameters"], "answers": [{"tags": [], "owner": {"reputation": 857, "user_id": 8692914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60e6b98c0348cc70952db1aedf455d0?s=128&d=identicon&r=PG&f=1", "display_name": "omeanwell", "link": "https://stackoverflow.com/users/8692914/omeanwell"}, "is_accepted": false, "score": 5, "last_activity_date": 1522701233, "last_edit_date": 1522701233, "creation_date": 1522692633, "answer_id": 49616427, "question_id": 49616388, "link": "https://stackoverflow.com/questions/49616388/what-does-the-parameter-in-my-condition-means/49616427#49616427", "title": "What does the parameter in my condition means?", "body": "<p><a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\"><code>-e</code></a> means \"does a file exist\". Your code checks for a file named <code>\"ARGV[0]\"</code>, if that files does not exist it prints to the console. However, I think you have made a mistake and want to check for files passed in from the command line? </p>\n\n<p>If so, change <code>if (!(-e \"ARGV[0]\"))</code> to <code>if (!(-e $ARGV[0]))</code>. This means if the file specified in <code>$ARGV[0]</code> does not exist, print an error. <a href=\"http://perldoc.perl.org/perlvar.html#@ARGV\" rel=\"nofollow noreferrer\"><code>@ARGV</code></a> means things passed in from the command line - so if you ran <code>perl myscript.pl hello.txt new.txt</code>, <code>$ARGV[0]</code> would be <code>hello.txt</code>, and <code>$ARGV[1]</code> would be <code>new.txt</code>.</p>\n\n<p>So this code prints an error if a non-exisiting file is passed in as argument 0 from the command line, so <code>hello.txt</code> does not exist.</p>\n\n<pre><code>if (!(-e $ARGV[0]))\n{ \n     printf(\"\\nThis file \\\"%s\\\" does not exist.\\n\\n\", $ARGV[0]);\n     exit;\n}\nelse{\n     printf(\"That file exists!\");\n}\n</code></pre>\n\n<p>I apologise if you are indeed checking for the existence of a file named <code>\"ARGV[0]\"</code>.</p>\n"}], "owner": {"reputation": 19, "user_id": 9587398, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6kPMpCkM4HQ/AAAAAAAAAAI/AAAAAAAAKhU/vo1dFcmW3NE/photo.jpg?sz=128", "display_name": "Felipe Martins", "link": "https://stackoverflow.com/users/9587398/felipe-martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1522701233, "creation_date": 1522692479, "last_edit_date": 1522692809, "question_id": 49616388, "link": "https://stackoverflow.com/questions/49616388/what-does-the-parameter-in-my-condition-means", "title": "What does the parameter in my condition means?", "body": "<p>I have a script written like this:</p>\n\n<pre><code>if (!(-e \"ARGV[0]\"))\n{\n     printf(\"\\nThis file \\\"%s\\\" does not exist.\\n\\n\", $ARGV[0]);\n     exit;\n}\n</code></pre>\n\n<p>What does the parameter \"-e\" mean in my condition?</p>\n"}, {"tags": ["perl", "batch-file", "code-collaborator"], "comments": [{"owner": {"reputation": 1235, "user_id": 736694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a653dd4c531fe67209cee664848722b?s=128&d=identicon&r=PG", "display_name": "Yserbius", "link": "https://stackoverflow.com/users/736694/yserbius"}, "edited": false, "score": 0, "creation_date": 1522688344, "post_id": 49615316, "comment_id": 86237332, "body": "Can you elaborate on what you need? What does an example input and output look like?"}, {"owner": {"reputation": 41, "user_id": 3014400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c082e96420bad36ed9fe19601449d6?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3014400/michael"}, "reply_to_user": {"reputation": 1235, "user_id": 736694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a653dd4c531fe67209cee664848722b?s=128&d=identicon&r=PG", "display_name": "Yserbius", "link": "https://stackoverflow.com/users/736694/yserbius"}, "edited": false, "score": 0, "creation_date": 1522771141, "post_id": 49615316, "comment_id": 86276204, "body": "@Yserbius technically the input doesn&#39;t matter, because the script is just  reading the files within the Original_Files and Changed_Files directories. As for output, when <code>ccollab.exe adddiffs new Original_Files Changed_Files &gt; output.txt</code> is executed it should generate the output.txt file, which if successful will  be <code>Changes successfully attached to Review 10</code>. as the last line. Then the perl script will run and grab <code>10</code>. So far it seems like that part works; I&#39;m trying to figure out how to take the review number and pass it to the next Batch command, <code>ccollab.exe addfiles $revNum (...)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "is_accepted": true, "score": 0, "last_activity_date": 1522695379, "last_edit_date": 1522695379, "creation_date": 1522689787, "answer_id": 49615721, "question_id": 49615316, "link": "https://stackoverflow.com/questions/49615316/executing-perl-within-batch-then-using-a-scalar-from-perl-script-in-subsequent/49615721#49615721", "title": "Executing Perl within Batch, then using a scalar from Perl script in subsequent Batch command", "body": "<p>Can be done like this (not tested):</p>\n\n<pre><code>@echo off\nccollab.exe adddiffs new Original_Files Changed_Files &gt; output.txt\nset REVNUM=\nfor /f \"delims=\" %%a in ('C:\\Perl\\bin\\perl -x \"%~f0\"') do set REVNUM=%%~a\nif defined REVNUM (\n  ccollab.exe addfiles %REVNUM% *.txt *.pdf *.html *.doc* *.xls* Info_Only/*\n) else (\n  echo REVNUM not found! check the contents of output.txt!\n)\npause\ngoto :eof\n#!perl\n#line 14\nuse strict;use warnings;\nopen(TXT, \"output.txt\") or die; \nmy $lastLine = \"\";\nwhile (my $line = &lt;TXT&gt;) {\n    $lastLine = $line;\n}\nmy($revNum) = $lastLine =~ /(\\d+)/ig;\nclose TXT;\nprint $revNum;\n</code></pre>\n\n<p>Perl's output is captured into REVNUM variable, which later used when running <code>ccollab.exe</code>.</p>\n\n<p>And if we pass <code>output.txt</code> as an argument to perl, the script can be simplified to:</p>\n\n<pre><code>for /f \"delims=\" %%a in ('C:\\Perl\\bin\\perl -x \"%~f0\" output.txt') do set REVNUM=%%~a\n...\n#!perl -w \nprint +( map { /(\\d+)/ &amp;&amp; $1 } &lt;&gt; )[-1];\n</code></pre>\n\n<p>And it can be even more compact if we put the perl code inline:</p>\n\n<pre><code>@echo off\nccollab.exe adddiffs new Original_Files Changed_Files &gt; output.txt\nset REVNUM=\nfor /f \"delims=\" %%a in ('C:\\Perl\\bin\\perl -e \"print +( map { /(\\d+)/ &amp;&amp; $1 } &lt;&gt; )[-1]\" output.txt ') do set REVNUM=%%~a\nif defined REVNUM (\n  ccollab.exe addfiles %REVNUM% *.txt *.pdf *.html *.doc* *.xls* Info_Only/*\n) else (\n  echo REVNUM not found! check the contents of output.txt!\n)\npause\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3014400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c082e96420bad36ed9fe19601449d6?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3014400/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 49615721, "answer_count": 1, "score": 0, "last_activity_date": 1522695379, "creation_date": 1522688054, "question_id": 49615316, "link": "https://stackoverflow.com/questions/49615316/executing-perl-within-batch-then-using-a-scalar-from-perl-script-in-subsequent", "title": "Executing Perl within Batch, then using a scalar from Perl script in subsequent Batch command", "body": "<p>I'm really new to Batch and Perl, so please excuse me if I'm tackling my problem the wrong way. My task right now step by step:</p>\n\n<ol>\n<li>Execute Perl script which will generate a Batch file. </li>\n<li>When the Batch file is executed, a Collaborator review will be created using <code>adddiffs new (...)</code> and then files will be added using <code>addfiles (...)</code></li>\n</ol>\n\n<p>Currently the problem is that sometimes the review creation process will fail for whatever reason (I'm not really told why, just that it does) but despite the <code>adddiffs</code> command failing, <code>addfiles last</code> (which is how it's currently coded) will still execute, which ends up adding the files to the wrong review. For example I'm trying to create review 10, but the review creation fails and the files end up getting added to review 9 which is obviously not what we want.</p>\n\n<p>I'm trying to dump the output from <code>adddiffs new</code> into a text file, which I then extract the review # from using some perl script. What I then want to do is use the extracted review # to execute <code>addfiles reviewNum</code> instead of <code>addfiles last</code> since it seems like <code>addfiles last</code> might be causing unexpected behavior.</p>\n\n<p>What my Batch file looks like:</p>\n\n<pre><code>@rem= 'PERL for Windows NT\n@echo off\n\nccollab.exe adddiffs new Original_Files Changed_Files &gt; output.txt\nC:\\Perl\\bin\\perl GenerateReview.bat%*\ngoto endofperl\n@rem ';\n\nopen(TXT, \"output.txt\") or die; \n$lastLine = \"\";\nwhile ($line = &lt;TXT&gt;) {\n    $lastLine = $line;\n}\n\n($revNum) = $lastLine =~ /(\\d+)/ig;\nclose TXT;\n\n__END__\n:endofperl\nccollab.exe addfiles $revNum *.txt *.pdf *.html *.doc* *.xls* Info_Only/*\npause\n</code></pre>\n\n<p>Is there a way I can get the <code>$revNum</code> from the perl script and substitute it for my <code>addfiles</code> command?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1522683005, "post_id": 49613925, "comment_id": 86234619, "body": "Try this: <code>$val =~ s&#47;([^;]*);[^;]*;&#47;$1&#47;g;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1522687809, "post_id": 49614073, "comment_id": 86237058, "body": "Safer: <code>;[^;]*;</code>"}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": true, "score": 4, "last_activity_date": 1522683076, "creation_date": 1522683076, "answer_id": 49614073, "question_id": 49613925, "link": "https://stackoverflow.com/questions/49613925/regex-to-remove-data-between-2-semicolns-perl/49614073#49614073", "title": "Regex to remove data between 2 semicolns perl", "body": "<p>One of the problems is that <code>.*</code> is greedy, that is, it will consume as much as it can. You can make it non-greedy by writing <code>.*?</code>, but that alone won't fix your regex since you've anchored it to the end of the string with <code>$</code>. Personally I don't think there is a need for the capture groups, you can just write</p>\n\n<pre><code>$val =~ s/;.*?;//g;\n</code></pre>\n\n<p>I'm assuming that the extra space in your expected output (<code>Data &amp;data...</code>) is a typo.</p>\n\n<p>You might also want to consider using a proper parser for whatever data format this is.</p>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 49614073, "answer_count": 1, "score": 2, "last_activity_date": 1598221328, "creation_date": 1522682452, "last_edit_date": 1598221328, "question_id": 49613925, "link": "https://stackoverflow.com/questions/49613925/regex-to-remove-data-between-2-semicolns-perl", "title": "Regex to remove data between 2 semicolns perl", "body": "<p>A string have data with semicolons now i want to remove all the data within the 2 semicolons and leave the rest as it is. I am using perl regex to remove the unwanted data from the string:</p>\n<p>String :</p>\n<pre><code>$val=&quot;Data;test is here ;&amp;data=1dffvdviofv;&amp;dt&amp;;&amp;data=343&quot;;\n</code></pre>\n<p>Now we want to remove all the data between each semicolons ,throughout the string :</p>\n<pre><code>$val=~s/(.*)(\\;.*\\;)(.*)$/$1$3/g;\n</code></pre>\n<p>But this is not working for me. Final out should be like below :</p>\n<pre><code>Data &amp;data=1dffvdviofv&amp;data=343\n</code></pre>\n"}, {"tags": ["perl", "scope"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 5, "creation_date": 1522680843, "post_id": 49613322, "comment_id": 86233572, "body": "<code>use warnings; use diagnostics;</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1522682451, "post_id": 49613322, "comment_id": 86234324, "body": "It matters where <code>my</code> variable is defined, as it&#39;s visible in sub/block/etc. only after definition (no hoisting like <code>var</code> in javascript)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522683505, "post_id": 49613322, "comment_id": 86234889, "body": "See also <a href=\"https://stackoverflow.com/q/10192228/2173773\">Nested subroutines and Scoping in Perl</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522689752, "post_id": 49613322, "comment_id": 86238074, "body": "Related <a href=\"https://stackoverflow.com/q/45670363/4653379\">post</a> on nesting subroutines"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1522754662, "post_id": 49613322, "comment_id": 86264399, "body": "I&#39;m not sure where you&#39;re learning Perl from - but using <code>&amp;</code> on subroutine calls is a bit of a clue that you&#39;re using a really old tutorial. That hasn&#39;t been necessary for over twenty years."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1522683361, "creation_date": 1522683361, "answer_id": 49614137, "question_id": 49613322, "link": "https://stackoverflow.com/questions/49613322/perl-function-scoping-with-my/49614137#49614137", "title": "Perl Function Scoping with my", "body": "<p>This problem arises from having nested named subs.</p>\n\n<p>There's no reason to have nested name subs in Perl since the inner sub is in no way scoped to the outer sub.</p>\n\n<p>Instead, use:</p>\n\n<pre><code>sub p {\n    my ($x) = @_;\n\n    local *q = sub {\n        say $x;\n    };\n\n    q();\n}\n\np($_) for 3, 4;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sub p {\n    my ($x) = @_;\n\n    my $q = sub {\n        say $x;\n    };\n\n    $q-&gt;();\n}\n\np($_) for 3, 4;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": true, "score": 5, "last_activity_date": 1522690416, "last_edit_date": 1522690416, "creation_date": 1522683991, "answer_id": 49614315, "question_id": 49613322, "link": "https://stackoverflow.com/questions/49613322/perl-function-scoping-with-my/49614315#49614315", "title": "Perl Function Scoping with my", "body": "<p>Others have already pointed out the issue with nested <code>sub</code>s, but here is my answer to my understanding of your question:</p>\n\n<p>The \"scope\" of a <code>my</code> declaration begins after the statement that contains the <code>my</code>, not at the beginning of the block it occurs in. Otherwise, both of these would work:</p>\n\n<pre><code>$ perl -wMstrict -le 'sub foo { my $bar=\"quz\"; print $bar; } foo()'\nquz\n$ perl -wMstrict -le 'sub foo { print $bar; my $bar=\"quz\"; } foo()'\nGlobal symbol \"$bar\" requires explicit package name (did you forget to declare \"my $bar\"?) at -e line 1.\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>Also, note the following:</p>\n\n<pre><code>my $x = 3;\n{\n    my $x = $x + 5;\n    print \"1: $x\\n\";  # prints \"1: 8\"\n}\nprint \"2: $x\\n\";      # prints \"2: 3\"\n</code></pre>\n\n<p>In your first piece of code, at the point you declare <code>sub b</code>, Perl only knows about the global <code>$x = 8</code>, so that's what <code>print \"B: $x\\n\"</code> is using. In the second piece of code, Perl has seen <code>my $x = 3</code>, so that's what it uses. This effect also occurs if you don't use nested <code>sub</code>s:</p>\n\n<pre><code>my $x = 8;\nsub a {\n    my $subb = sub {\n        print \"B: $x\\n\";\n    };\n    my $x = 3;\n    $subb-&gt;();\n}\na();  # prints \"B: 8\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>my $x = 8;\nsub a {\n    my $x = 3;\n    my $subb = sub {\n        print \"B: $x\\n\";\n    };\n    $subb-&gt;();\n}\na();  # prints \"B: 3\"\n</code></pre>\n"}], "owner": {"reputation": 98, "user_id": 4645219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/476c5760451817061c17ac593a0a3e61?s=128&d=identicon&r=PG&f=1", "display_name": "gokhansim", "link": "https://stackoverflow.com/users/4645219/gokhansim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 49614315, "answer_count": 2, "score": 1, "last_activity_date": 1522690416, "creation_date": 1522679944, "question_id": 49613322, "link": "https://stackoverflow.com/questions/49613322/perl-function-scoping-with-my", "title": "Perl Function Scoping with my", "body": "<p>I am confused with the behavior difference between the following two code segments:</p>\n\n<pre><code>$x = 8;\nsub a {\n    sub b {\n        print \"B: $x\\n\";\n    }\n    my $x = 3;\n    &amp;b();\n}\n&amp;a();\n</code></pre>\n\n<p>and </p>\n\n<pre><code>$x = 8;\nsub a {\n    my $x = 3;\n    sub b {\n        print \"B: $x\\n\";\n    }\n    &amp;b();\n}\n&amp;a();\n</code></pre>\n\n<p>While the first one outputs B:8, the second one outputs B:3. Shouldn't they output the same value, as the outer scope of sub b should be sub a? How does the different placements of functions make a difference? </p>\n"}, {"tags": ["android", "macos", "perl", "appium"], "owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522674363, "creation_date": 1522674363, "question_id": 49611889, "link": "https://stackoverflow.com/questions/49611889/can-i-test-an-installed-app-with-local-data-with-appium-and-perl", "title": "Can I test an installed app with local data with appium and perl?", "body": "<p>I've been using selenium for sometime and now I'd like to try testing an app installed in my phone. So far I've done the following:</p>\n\n<ul>\n<li>I installed appium for mac and I clicked on run.</li>\n<li>I installed adb.</li>\n<li>\"abd devices\" detects my phone</li>\n<li>Installed perl libraries for appium.</li>\n<li>I installed an app called apk analyzer to get the app's manifest and read activities names and package names.</li>\n</ul>\n\n<p>I wrote the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nuse Appium;\nuse Selenium::Remote::Driver;\nuse Selenium::Waiter;\n\nprint \"starting script:\\n\";\n\nmy $appium = Appium-&gt;new(caps =&gt; {\n        'remote_server_address' =&gt; '0.0.0.0',\n        'port' =&gt; 4723,\n        'platformName' =&gt; 'Android',\n        'platformVersion' =&gt; '6.0.1',\n        'deviceName' =&gt; 'my device',\n        'appPackage' =&gt; 'app package',\n        'appActivity' =&gt; 'activity path',\n    });\n\n$appium-&gt;launch_app();\nsleep(10);\nmy $element = $appium-&gt;find_element('element', 'xpath');\n$element-&gt;tap();\n\n$appium-&gt;quit;\n</code></pre>\n\n<p>With the paths and names that are working for my app and phone...</p>\n\n<p>Well, when I execute it, it opens the app but it seems like it opens a new installation of the app, for example if I the app has a log in step and then you have some data stored there, the appium execution doesn't have those data stored.</p>\n\n<p>Is this the normal behavior of appium or is it possible to test over an installation with saved data?</p>\n\n<p>As an example of what I would like to do:\n-I have an agenda with events in different days. I've saved those events over time manually but the app doesn't support an export function..\n-I would like to open the app with appium and iterate over the days saving the text.\n-If the app that appium opens is a new installation I can't get the data.</p>\n"}, {"tags": ["bash", "shell", "perl", "sed", "substr"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522666860, "post_id": 49609947, "comment_id": 86226403, "body": "Try to do everything in Perl, it should speed it up"}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1522667566, "post_id": 49609947, "comment_id": 86226774, "body": "If you used less subshells and external utilities for trivial pattern matching and string manipulation, things would be a lot faster (yet, Bash will still be very slow for processing huge files)."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1522667577, "post_id": 49609947, "comment_id": 86226779, "body": "You really don&#39;t want to have to create 2 processes for <code>cut</code> another 3 processes for <code>sed</code> and a <code>grep</code> and then start a whole <code>perl</code> interpreter for every single line of your file... try and start a single <code>perl</code> script that internally reads the lines and processes them."}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1522667762, "post_id": 49609947, "comment_id": 86226871, "body": "Add a shebang and then paste your script there to get some hints: <a href=\"http://www.shellcheck.net/\" rel=\"nofollow noreferrer\">shellcheck.net</a>"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1522668111, "post_id": 49609947, "comment_id": 86227043, "body": "You need to show some sample input and output."}, {"owner": {"reputation": 63, "user_id": 6370391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93cb1bc195ad44508eca405efced58f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sudersan", "link": "https://stackoverflow.com/users/6370391/sudersan"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1522668443, "post_id": 49609947, "comment_id": 86227189, "body": "@glennjackman Updated the question with sample input and expected output"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522670001, "post_id": 49609947, "comment_id": 86227947, "body": "What is your idea of a &quot;huge&quot; file? Are we talking about terabytes of data here?"}, {"owner": {"reputation": 63, "user_id": 6370391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93cb1bc195ad44508eca405efced58f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sudersan", "link": "https://stackoverflow.com/users/6370391/sudersan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522670449, "post_id": 49609947, "comment_id": 86228147, "body": "@Borodin a million records typically."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522670799, "post_id": 49609947, "comment_id": 86228315, "body": "So it&#39;s about 50MB? That&#39;s far from huge: you could easily read the whole thing into memory."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6370391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93cb1bc195ad44508eca405efced58f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sudersan", "link": "https://stackoverflow.com/users/6370391/sudersan"}, "edited": false, "score": 0, "creation_date": 1522682071, "post_id": 49610922, "comment_id": 86234152, "body": "Ran your updated answer and it completed in a short time. But, the control file which i shared as example has two fields , but there are other files which might have more than two fields. Trying to change further."}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 2, "last_activity_date": 1522674261, "last_edit_date": 1522674261, "creation_date": 1522670535, "answer_id": 49610922, "question_id": 49609947, "link": "https://stackoverflow.com/questions/49609947/efficient-way-to-add-append-huge-files/49610922#49610922", "title": "Efficient way to add/ append huge files", "body": "<p><strong>Updated Answer</strong></p>\n\n<p>Here is a version where I parse the control file with <code>awk</code>, save the character positions and then use those when parsing the input file:</p>\n\n<pre><code>awk '\n/APP_ID/ {\n     sub(/\\).*/,\"\")   # Strip closing parenthesis and all that follows\n     sub(/^.*\\(/,\"\")  # Strip everything up to opening parenthesis\n     split($0,a,\":\")  # Extract the two character positions separated by colon into array \"a\"\n     next\n   }\n/RELATIONSHIP/ {      \n     sub(/\\).*/,\"\")      # Strip closing parenthesis and all that follows\n     sub(/^.*\\(/,\"\")     # Strip everything up to opening parenthesis\n     split($0,b,\"[():]\") # Extract character positions into array \"b\"\n     next\n   }\n\nFNR==NR{next}\n\n{ f1=substr($0,a[1]+1,a[2]); f2=substr($0,b[1]+1,b[2]); printf(\"\\\"%s\\\",\\\"%s\\\"\\n\",f1,f2)}\n' ControlFile InputFile\n</code></pre>\n\n<hr>\n\n<p><strong>Original Answer</strong></p>\n\n<p>Not a complete, rigorous answer, but this should give you an idea of how to do the extraction with <code>awk</code> once you have the POSITION parameters from the control file:</p>\n\n<pre><code>awk -v a=2 -v b=3 -v c=5 -v d=21 '{f1=substr($0,a,b); f2=substr($0,c,d); printf(\"\\\"%s\\\",\\\"%s\\\"\\n\",f1,f2)}' InputFile\n</code></pre>\n\n<p><strong>Sample Output</strong></p>\n\n<pre><code>\"LS0\",\"1G702012        00003\"\n</code></pre>\n\n<p>Try running that on your large input file to get an idea of the performance, then tweak the output. Reading the control file is not at all time-critical so don't bother with optimising that.</p>\n"}, {"comments": [{"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 1, "creation_date": 1522676531, "post_id": 49612245, "comment_id": 86231370, "body": "You might as well use regexes all the way through: <code>if [[ $line =~ POSITION\\(([[:digit:]]+):([[:digit:]])\\) ]]; then array+=( &quot;${BASH_REMATCH[*]:1:2}&quot; ); fi</code> or something similar..."}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 1, "creation_date": 1522676702, "post_id": 49612245, "comment_id": 86231455, "body": "Or you could also suggest having the <code>grep</code> out of the loop: <code>while read ...; do ...; done &lt; &lt;(grep POSITION ...)</code> for extra efficiency: <code>while&#47;read</code> loops are very slow in Bash, so prefiltering as much as possible will speed up the process quite a lot."}, {"owner": {"reputation": 63, "user_id": 6370391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93cb1bc195ad44508eca405efced58f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sudersan", "link": "https://stackoverflow.com/users/6370391/sudersan"}, "edited": false, "score": 0, "creation_date": 1522692014, "post_id": 49612245, "comment_id": 86239329, "body": "Thanks , was able to process in less than 2 mins."}, {"owner": {"reputation": 563, "user_id": 9580455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0TMQD.png?s=128&g=1", "display_name": "kyodev", "link": "https://stackoverflow.com/users/9580455/kyodev"}, "edited": false, "score": 0, "creation_date": 1522698615, "post_id": 49612245, "comment_id": 86242643, "body": "and what was the initial time, approximately?"}, {"owner": {"reputation": 63, "user_id": 6370391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93cb1bc195ad44508eca405efced58f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sudersan", "link": "https://stackoverflow.com/users/6370391/sudersan"}, "edited": false, "score": 0, "creation_date": 1522733415, "post_id": 49612245, "comment_id": 86252608, "body": "More than 45 mins earlier."}], "tags": [], "owner": {"reputation": 563, "user_id": 9580455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0TMQD.png?s=128&g=1", "display_name": "kyodev", "link": "https://stackoverflow.com/users/9580455/kyodev"}, "is_accepted": true, "score": 2, "last_activity_date": 1522677708, "last_edit_date": 1522677708, "creation_date": 1522675675, "answer_id": 49612245, "question_id": 49609947, "link": "https://stackoverflow.com/questions/49609947/efficient-way-to-add-append-huge-files/49612245#49612245", "title": "Efficient way to add/ append huge files", "body": "<p>I suggest, with pure bash and to avoid subshells:</p>\n\n<pre><code>if [[ $line =~ POSITION ]] ; then      # grep POSITION \n    coOrdinates=\"${line#*(}\"           # cut -d'(' -f2\n    coOrdinates=\"${coOrdinates%)*}\"    # cut -d')' -f1\n    coOrdinates=\"${coOrdinates/:/ }\"   # cut -d':' -f1,2\n    if   [[ -z \"${coOrdinates// }\" ]]; then\n        echo \"Not adding\"\n    else\n        array+=(\"$coOrdinates\")\n    fi\nfi\n</code></pre>\n\n<p>more efficient, by gniourf_gniourf :</p>\n\n<pre><code>if [[ $line =~ POSITION\\(([[:digit:]]+):([[:digit:]])\\) ]]; then \n    array+=( \"${BASH_REMATCH[*]:1:2}\" )\nfi\n</code></pre>\n\n<p>similarly:</p>\n\n<pre><code>SUBSTRING1=${e#*:} # $( echo \"$e\" | sed 's/.*://' )\nSUBSTRING= ${e%:*} # $( echo \"$e\" | sed 's/:.*//' )\n\n# to confirm, I don't know perl substr \nresult1=${line:$SUBSTRING:$SUBSTRING1} # $( perl -e \"print substr('$line', $SUBSTRING,$SUBSTRING1)\" )\n\n\n#result1= # \"$(echo -e \"${result1}\" | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\"\n# trim, if n\u00e9cessary?\nresult1=\"${result1%${result1##*[^[:space:]]}}\"    # right\nresult1=\"${result1#${result1%%[^[:space:]]*}}\"    # left\n</code></pre>\n\n<p>gniourf_gniourf suggest having the grep out of the loop: </p>\n\n<pre><code>while read ...; do\n ...\ndone &lt; &lt;(grep POSITION ...) \n</code></pre>\n\n<p>for extra efficiency: while/read loops are very slow in Bash, so prefiltering as much as possible will speed up the process quite a lot.</p>\n"}, {"tags": [], "owner": {"reputation": 874, "user_id": 6535641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91de216e37b552d355915aa73e4c16?s=128&d=identicon&r=PG&f=1", "display_name": "ULick", "link": "https://stackoverflow.com/users/6535641/ulick"}, "is_accepted": false, "score": 1, "last_activity_date": 1522679259, "last_edit_date": 1522679259, "creation_date": 1522678751, "answer_id": 49613004, "question_id": 49609947, "link": "https://stackoverflow.com/questions/49609947/efficient-way-to-add-append-huge-files/49613004#49613004", "title": "Efficient way to add/ append huge files", "body": "<p>To avoid the (slow) while loop , you can use <code>cut</code> and <code>paste</code></p>\n\n<pre><code>#!/bin/bash    \ninFile=${1:-checkHugeFile}.in\nctrlFile=${1:-checkHugeFile}_CTRL.txt\noutFile=${1:-checkHugeFile}.txt\ncat /dev/null &gt; $outFile\n\ntypeset -a array # Create array\nwhile read -r line # Read a line\ndo\n    coOrdinates=\"${line#*(}\"\n    coOrdinates=\"${coOrdinates%%)*}\"\n    [[ -z \"${coOrdinates// }\" ]] &amp;&amp; { echo \"Not adding\"; continue; }\n    array+=(\"$coOrdinates\")\ndone &lt; &lt;(grep POSITION \"$ctrlFile\"  )\necho coOrdinates: \"${array[@]}\"\n\nfor e in \"${array[@]}\"\ndo\n    nr=$((nr+1))\n    start=${e%:*}\n    len=${e#*:}\n    from=$(( start + 1 ))\n    to=$(( start + len + 1 ))\n    cut -c$from-$to $inFile &gt; ${outFile}.$nr\ndone\npaste $outFile.* | sed -e 's/^/\"/' -e 's/\\t/\",\"/' -e 's/$/\"/' &gt;${outFile}\nrm $outFile.[0-9]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1522703258, "post_id": 49613238, "comment_id": 86244657, "body": "Very elegant indeed."}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 5, "last_activity_date": 1522679678, "creation_date": 1522679678, "answer_id": 49613238, "question_id": 49609947, "link": "https://stackoverflow.com/questions/49609947/efficient-way-to-add-append-huge-files/49613238#49613238", "title": "Efficient way to add/ append huge files", "body": "<p>perl:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse autodie;\n\n# read the control file\nmy $ctrl;\n{\n    local $/ = \"\";\n    open my $fh, \"&lt;\", shift @ARGV;\n    $ctrl = &lt;$fh&gt;;\n    close $fh;\n}\nmy @positions = ( $ctrl =~ /\\((\\d+):(\\d+)\\)/g );\n\n# read the data file\nopen my $fh, \"&lt;\", shift @ARGV;\nwhile (&lt;$fh&gt;) {\n    my @words;\n    for (my $i = 0; $i &lt; scalar(@positions); $i += 2) {\n        push @words, substr($_, $positions[$i], $positions[$i+1]);\n    }\n    say join \",\", map {qq(\"$_\")} @words;\n}\nclose $fh;\n</code></pre>\n\n\n\n<pre><code>perl parse.pl x_CTRL.txt x.txt\n</code></pre>\n\n\n\n<pre><code>\"LS0\",\"1G702012        00003\"\n</code></pre>\n\n<p>Different results from what you requested: </p>\n\n<ul>\n<li>in the <code>POSITION(m:n)</code> syntax of the control file, is <code>n</code> a length or an \nindex?</li>\n<li>in the data file, are those spaces or tabs?</li>\n</ul>\n"}], "owner": {"reputation": 63, "user_id": 6370391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93cb1bc195ad44508eca405efced58f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sudersan", "link": "https://stackoverflow.com/users/6370391/sudersan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "accepted_answer_id": 49612245, "answer_count": 4, "score": 0, "last_activity_date": 1522679678, "creation_date": 1522666655, "last_edit_date": 1522668401, "question_id": 49609947, "link": "https://stackoverflow.com/questions/49609947/efficient-way-to-add-append-huge-files", "title": "Efficient way to add/ append huge files", "body": "<p>Below is a shell script that is written to process a huge file. It typically reads a fixed length file line by line, perform substring and append into another file as a delimited file. It works perfectly, but it is too slow.</p>\n\n<pre><code>array=() # Create array\n       while IFS='' read -r line || [[ -n \"$line\" ]] # Read a line\n       do\n      coOrdinates=\"$(echo -e \"${line}\" | grep POSITION | cut -d'(' -f2 | cut -d')' -f1 | cut -d':' -f1,2)\"\n          if   [[ -z \"${coOrdinates// }\" ]];\n          then\n  echo \"Not adding\"\n          else\n  array+=(\"$coOrdinates\")\n  fi\n       done &lt; \"$1_CTRL.txt\"\n\nwhile read -r line;\n  do\n          result='\"'\n          for e in \"${array[@]}\"\n          do\n          SUBSTRING1=`echo \"$e\" | sed 's/.*://'`\n          SUBSTRING=`echo \"$e\" | sed 's/:.*//'`\n          result1=`perl -e \"print substr('$line', $SUBSTRING,$SUBSTRING1)\"`\n          result1=\"$(echo -e \"${result1}\" | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')\"\n          result=$result$result1'\"'',''\"'\n          done\n          echo $result &gt;&gt; $1_1.txt\n  done &lt; \"$1.txt\"\n</code></pre>\n\n<p>Earlier, i had used the cut command and changed as above, but there is no improvement in the time taken.\nCan please suggest what kind of changes can be done to improve the time taken for processing.. \nThanks in advance</p>\n\n<p>Update:</p>\n\n<p>Sample content of the input file :</p>\n\n<pre><code>XLS01G702012        000034444132412342134\n</code></pre>\n\n<p>Control File :</p>\n\n<pre><code>OPTIONS (DIRECT=TRUE, ERRORS=1000, rows=500000) UNRECOVERABLE\n  load data\n   CHARACTERSET 'UTF8'\n   TRUNCATE\n   into table icm_rls_clientrel2_hg\n   trailing nullcols\n   (\n   APP_ID POSITION(1:3) \"TRIM(:APP_ID)\",\n   RELATIONSHIP_NO POSITION(4:21) \"TRIM(:RELATIONSHIP_NO)\"\n  )\n</code></pre>\n\n<p>Output file:</p>\n\n<pre><code>\"LS0\",\"1G702012 0000\"\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1522664746, "post_id": 49609291, "comment_id": 86225410, "body": "<code>&quot;[CT]&quot;</code> =&gt; plain string"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1522664772, "post_id": 49609291, "comment_id": 86225421, "body": "Since the string values in the hash <code>%Bo2l</code> are interpreted as regular expressions in your code, they are regular expression syntax. It denotes a character class match operation."}], "answers": [{"comments": [{"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 3, "creation_date": 1522666578, "post_id": 49609531, "comment_id": 86226257, "body": "I feel like this answer could use some more context: The question in the title is <i>&quot;In hash, what does values in a square brackets means?&quot;</i>, to which the answer is &quot;nothing special, it&#39;s just a string&quot;, but in the context of the code shown, the hash values are interpreted as regular expressions, to which this answer applies."}, {"owner": {"reputation": 2785, "user_id": 1057849, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yB8Qu.jpg?s=128&g=1", "display_name": "Josh Greifer", "link": "https://stackoverflow.com/users/1057849/josh-greifer"}, "reply_to_user": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1522696397, "post_id": 49609531, "comment_id": 86241541, "body": "@haukex I agree in general with your comment,  but I answered what I took to be the spirit of the question, which perhaps should have been phrased  as &#39;In this code snippet, what does... etc&#39;"}], "tags": [], "owner": {"reputation": 2785, "user_id": 1057849, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yB8Qu.jpg?s=128&g=1", "display_name": "Josh Greifer", "link": "https://stackoverflow.com/users/1057849/josh-greifer"}, "is_accepted": true, "score": 1, "last_activity_date": 1522664841, "creation_date": 1522664841, "answer_id": 49609531, "question_id": 49609291, "link": "https://stackoverflow.com/questions/49609291/in-hash-what-does-values-in-a-square-brackets-means-language-is-perl/49609531#49609531", "title": "In hash, what does values in a square brackets means? language is Perl", "body": "<p>The square brackets are \"character class\" delimiters.  so <code>\"[CT]\"</code> means \"match either a <code>C</code> or a <code>T</code>\".</p>\n"}], "owner": {"reputation": 23, "user_id": 7784660, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9d38ae293d042e8e8663d44346bed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Steve0320", "link": "https://stackoverflow.com/users/7784660/steve0320"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 49609531, "answer_count": 1, "score": 0, "last_activity_date": 1522664841, "creation_date": 1522663800, "last_edit_date": 1522664469, "question_id": 49609291, "link": "https://stackoverflow.com/questions/49609291/in-hash-what-does-values-in-a-square-brackets-means-language-is-perl", "title": "In hash, what does values in a square brackets means? language is Perl", "body": "<p>Source code:</p>\n\n<pre><code>$Bo2l = 'TGYTCM';\n\n%amb = ( Y =&gt; \"[CT]\", M =&gt; \"[TG]\", D =&gt; \"[AGT]\", N =&gt; \"[AGCT]\");\n\nforeach $key_amb(keys%amb){ \n    $Bo2l =~ s/$key_amb/$amb{$key_amb}/g;   \n}\n$sequence = 'AAAAAATGATTGCTCATTTGCTCTGCTCGCAAAAAAAAATGATTATTTTTT';\n\nfor($i=0; $i&lt;length($sequence)-5; $i++){\n    $cutseq = substr($sequence, $i, 6);\n    if($cutseq =~ m/$Bo2l/){\n        $pos = $i+1;\n        print \"Bo2l\\t$pos\\t$cutseq\\n\";\n    }\n}\n</code></pre>\n\n<p>I can understand the <code>$sequence</code>, but I can't understand what those square brackets do. </p>\n"}, {"tags": ["json", "perl", "opensips"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1522666633, "post_id": 49608700, "comment_id": 86226291, "body": "Please show the corresponding <a href=\"https://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\"><code>use</code></a> statement for your JSON module. Your code works fine with both <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\"><code>JSON</code></a> and <a href=\"https://metacpan.org/pod/JSON::PP\" rel=\"nofollow noreferrer\"><code>JSON::PP</code></a> on my machine (Ubuntu 17.10, Perl version 5.26.1). What version of Perl are you using?"}, {"owner": {"reputation": 1, "user_id": 5697579, "user_type": "registered", "profile_image": "https://graph.facebook.com/952436338179137/picture?type=large", "display_name": "nvnhcmus", "link": "https://stackoverflow.com/users/5697579/nvnhcmus"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522738806, "post_id": 49608700, "comment_id": 86255005, "body": "i am using perl (v5.20.2) in Debian 7.11 (64 bit) with use <code>use JSON::PP; </code> in my script."}], "answers": [{"tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 2, "last_activity_date": 1522668392, "last_edit_date": 1522668392, "creation_date": 1522667193, "answer_id": 49610087, "question_id": 49608700, "link": "https://stackoverflow.com/questions/49608700/json-in-perl-error-in-opensips/49610087#49610087", "title": "Json in Perl error in opensips", "body": "<p>The \"Prototype mismatch\" warning typically means that you've defined a <code>sub</code> twice in some way, and the two definitions' prototypes don't match.</p>\n\n<p>Do you have a <code>sub decode_json ($)</code> in your main code somewhere? If you do, I'd suggest removing or renaming it, because it is conflicting with <code>decode_json</code> from one of the <code>JSON</code> modules. If you don't, then you may be getting a second <code>decode_json</code> from another module you are loading, in which case you'd have to track that down, or provide us with a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>.</p>\n\n<p>I'd strongly recommend turning on <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow noreferrer\"><code>warnings</code></a>, because then you will additionally get \"Subroutine redefined\" warnings to help you track the issue down.</p>\n"}], "owner": {"reputation": 1, "user_id": 5697579, "user_type": "registered", "profile_image": "https://graph.facebook.com/952436338179137/picture?type=large", "display_name": "nvnhcmus", "link": "https://stackoverflow.com/users/5697579/nvnhcmus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522668392, "creation_date": 1522661394, "last_edit_date": 1522665633, "question_id": 49608700, "link": "https://stackoverflow.com/questions/49608700/json-in-perl-error-in-opensips", "title": "Json in Perl error in opensips", "body": "<p>What is the difference between json and json::PP in Perl?</p>\n\n<p>I meet this error when use Json and Json:PP when writing perl script in opensips</p>\n\n<pre><code>ERROR:core:XS_OpenSIPS__Message_log: \nperl warning: Prototype mismatch: sub main::decode_json ($) vs none.\n</code></pre>\n\n<p>I have problem with these codes:</p>\n\n<pre><code>my %postObject = (\"callId\" =&gt; $callID);\n$postObject{'endTime'} = time() . \"\";\n$postObject{'key'} = \"12345@qwerty\";\nmy $post_data = encode_json \\%postObject;\n</code></pre>\n"}, {"tags": ["benchmarking", "primes", "raku", "perl"], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "edited": false, "score": 2, "creation_date": 1522677018, "post_id": 49609860, "comment_id": 86231598, "body": "Just another plug for RT <a href=\"https://rt.perl.org/Ticket/Display.html?id=130982#txn-1509226\" rel=\"nofollow noreferrer\">130982</a>.  If you convert all the range loops like ... <code>for 1..$n -&gt; int $i</code> to <code>loop (my int $i = 1; $i &lt;= $n; $i++)</code> then I get performance almost doubling again."}, {"owner": {"reputation": 89, "user_id": 9585070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38d9357fd69492b679ebcb0d2dee59e?s=128&d=identicon&r=PG&f=1", "display_name": "petre", "link": "https://stackoverflow.com/users/9585070/petre"}, "edited": false, "score": 1, "creation_date": 1522678727, "post_id": 49609860, "comment_id": 86232457, "body": "Why does it perform all caculations using BigInt if no type hints are specified rather than upgrade from int to Bigint whenever int overflows, like Ruby does?"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "reply_to_user": {"reputation": 89, "user_id": 9585070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38d9357fd69492b679ebcb0d2dee59e?s=128&d=identicon&r=PG&f=1", "display_name": "petre", "link": "https://stackoverflow.com/users/9585070/petre"}, "edited": false, "score": 1, "creation_date": 1522687138, "post_id": 49609860, "comment_id": 86236691, "body": "@petre An Int in Perl 6 is an instance of the Int object type. It turns out that mixing the object type Int, and the native type int is slower than just using Int everywhere because many things will autobox an int into an Int."}, {"owner": {"reputation": 89, "user_id": 9585070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38d9357fd69492b679ebcb0d2dee59e?s=128&d=identicon&r=PG&f=1", "display_name": "petre", "link": "https://stackoverflow.com/users/9585070/petre"}, "edited": false, "score": 1, "creation_date": 1522736893, "post_id": 49609860, "comment_id": 86254107, "body": "After doing the i..n optimization on both perls and ruby, and the type hints on perl6, it turns out ruby is 145% faster than perl5 and 347% faster than perl6 using the <a href=\"https://p.thorsen.pm/4f7e6001de4b\" rel=\"nofollow noreferrer\">same algorithm</a> up to 10k."}, {"owner": {"reputation": 153, "user_id": 5121421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--t2djoF_BT8/AAAAAAAAAAI/AAAAAAAABE0/MOw6c8UxBKo/photo.jpg?sz=128", "display_name": "dominix", "link": "https://stackoverflow.com/users/5121421/dominix"}, "edited": false, "score": 0, "creation_date": 1522897345, "post_id": 49609860, "comment_id": 86336827, "body": "nice, but why does it stop after a few dozen ?&gt; (1..2500).hyper.grep( *.is-prime ).say (2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97 101 103 107 109 113 127 131 137 139 149 151 157 163 167 173 179 181 191 193 197 199 211 223 227 229 233 239 241 251 257 263 269 271 277 281 283 293 307 311 313 317 331 337 347 349 353 359 367 373 379 383 389 397 401 409 419 421 431 433 439 443 449 457 461 463 467 479 487 491 499 503 509 521 523 541 ...)"}, {"owner": {"reputation": 89, "user_id": 9585070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38d9357fd69492b679ebcb0d2dee59e?s=128&d=identicon&r=PG&f=1", "display_name": "petre", "link": "https://stackoverflow.com/users/9585070/petre"}, "edited": false, "score": 0, "creation_date": 1522916252, "post_id": 49609860, "comment_id": 86344628, "body": "It doesn&#39;t stop, it get&#39;s truncated by <code>say</code>. If you do <code>(1...1000).grep(*.is-prime).perl</code> it will show the whole sequence. Another fun oneliner is <code>(1..1000).grep(*.is-prime).pick(10).sort</code> which would pick ten random primes out of the series and sort them in ascending order."}, {"owner": {"reputation": 89, "user_id": 9585070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38d9357fd69492b679ebcb0d2dee59e?s=128&d=identicon&r=PG&f=1", "display_name": "petre", "link": "https://stackoverflow.com/users/9585070/petre"}, "edited": false, "score": 0, "creation_date": 1522917518, "post_id": 49609860, "comment_id": 86345430, "body": "Just wanted to mention that I rewrote the code above using C style loops mr_ron mentioned and even if the code is quite ugly, it&#39;s almost as fast as the perl5 version, 13.55s perl6 vs 12.75s perl5. Also <code>$m = $n div 2 - 1</code> rounds the number down which could truncate the end of the series, so if you ran it up to a prime, you&#39;d miss it. It should be <code>$m = ($n&#47;2).round</code> instead. Also the <code>if $p &lt; $m</code> condition will erroneously report the last number as a prime since it doesn&#39;t get included in the non-primes hash. It should be <code>$p &lt;= $m</code> instead."}, {"owner": {"reputation": 153, "user_id": 5121421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--t2djoF_BT8/AAAAAAAAAAI/AAAAAAAABE0/MOw6c8UxBKo/photo.jpg?sz=128", "display_name": "dominix", "link": "https://stackoverflow.com/users/5121421/dominix"}, "edited": false, "score": 1, "creation_date": 1522975444, "post_id": 49609860, "comment_id": 86378738, "body": "I got my result with : (1..2500).hyper.grep( *.is-prime ).eager.perl.say"}], "tags": [], "owner": {"reputation": 18795, "user_id": 7424470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7234043bdcf2c31017de8acd72b52f6b?s=128&d=identicon&r=PG", "display_name": "Elizabeth Mattijsen", "link": "https://stackoverflow.com/users/7424470/elizabeth-mattijsen"}, "is_accepted": false, "score": 14, "last_activity_date": 1522666224, "creation_date": 1522666224, "answer_id": 49609860, "question_id": 49607801, "link": "https://stackoverflow.com/questions/49607801/perl6-vs-perl5-benchmarking-using-prime-numbers/49609860#49609860", "title": "Perl6 vs Perl5 benchmarking using prime numbers", "body": "<p>Turns out that even though primes are integers, in your Perl 6 version, every calculation was done by using floating point. And this was caused by the call to the subroutine. If you would do:</p>\n\n<pre><code>sieve_sundaram(1000)\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>sieve_sundaram(1e3)\n</code></pre>\n\n<p>then it all of a sudden becomes 4x as fast. In Perl 5 you never know what you're dealing with with regards to values. In Perl 6 if you tell it to use a floating point, it will infect all calculations to be in floating point afterwards. <code>1e3</code> is a floating point value. <code>1000</code> is an integer in Perl 6.</p>\n\n<p>Also, you seem to have a sub-optimal algorithm: the second <code>foreach</code> doesn't need to go from <code>1..$n</code>, but can go from <code>$i..$n</code> instead. This brings down the runtime of the Perl 5 version of the code to 89 msecs for me.</p>\n\n<p>Since your program is not using BigInt in the Perl 5 version, it is basically using native integers. In Perl 6, all integer calculations are always BigInts, unless you mark them as native. If I adjust your Perl 6 version for this, the runtime goes down from 4671 msecs to 414 msecs for this version:</p>\n\n<pre><code>sub sieve_sundaram(int $n) {\n    my %a;\n    my int @s = 2;\n    my int $m = $n div 2 - 1;\n    for 1..$n -&gt; int $i {\n        for $i..$n -&gt; int $j {\n            my int $p = $i + $j + 2 * $i * $j;\n            if $p &lt; $m {\n                %a{$p} = True;\n            }\n        }\n    }\n    for 1..$m -&gt; int $k {\n        if ! %a{$k} {\n            my int $q = 2 * $k + 1;\n            @s.push($q);\n        }\n    }\n\n    return @s;\n}\n\nsieve_sundaram(1000);\n</code></pre>\n\n<p>So, about 11x faster than before. And just under 5x as slow as the Perl 5 version.</p>\n\n<p>The most idiomatic version for getting primes in Perl 6 is:</p>\n\n<pre><code>(1..1000).grep( *.is-prime )\n</code></pre>\n\n<p>Which for me executes within noise of your original Perl 5 algorithm. For larger values on multi-CPU machines, I would write this as:</p>\n\n<pre><code>(1..2500).hyper.grep( *.is-prime )\n</code></pre>\n\n<p>Around 2500 it becomes faster to <code>hyper</code> it, so the work gets automatically distributed over multiple CPU's.</p>\n"}, {"tags": [], "owner": {"reputation": 758, "user_id": 4211231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c11386378a442612ab14ee7e93ce3c7?s=128&d=identicon&r=PG", "display_name": "Matt Oates", "link": "https://stackoverflow.com/users/4211231/matt-oates"}, "is_accepted": false, "score": 6, "last_activity_date": 1522673493, "creation_date": 1522673493, "answer_id": 49611663, "question_id": 49607801, "link": "https://stackoverflow.com/questions/49607801/perl6-vs-perl5-benchmarking-using-prime-numbers/49611663#49611663", "title": "Perl6 vs Perl5 benchmarking using prime numbers", "body": "<p>I don't think I can add much more to what Liz said. Other than: </p>\n\n<blockquote>\n  <p>\"but in order to benchmark multiple languages, I need to run the same\n  thing everywhere\"</p>\n</blockquote>\n\n<p>...where \"same\" is defined as similar looking syntax in English, is a <em>very</em> poor criteria for equivalence between radically different programming languages. Perl 6 has very similar or even identical syntax to Perl 5 whilst performing very different semantics underneath. The whole language has been tuned for correctness with default easily reached syntax, rather than optimal behaviour. Another great example is Perl 6 strings, they are quite slow, they are always fully normalised unicode rather than a string of plain bytes. All operations on them consider unicode concepts of graphemes rather than bytes and byte offsets. Which is great! But the more equivalent type to a C/Perl 5 string is probably a <code>Buf</code> which sadly doesn't have anywhere near as many string like operators/methods but is just a block of bytes.</p>\n"}], "owner": {"reputation": 89, "user_id": 9585070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38d9357fd69492b679ebcb0d2dee59e?s=128&d=identicon&r=PG&f=1", "display_name": "petre", "link": "https://stackoverflow.com/users/9585070/petre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 2, "answer_count": 2, "score": 8, "last_activity_date": 1522750417, "creation_date": 1522657510, "last_edit_date": 1522750417, "question_id": 49607801, "link": "https://stackoverflow.com/questions/49607801/perl6-vs-perl5-benchmarking-using-prime-numbers", "title": "Perl6 vs Perl5 benchmarking using prime numbers", "body": "<p>This is a discussion moved from this <a href=\"https://news.ycombinator.com/item?id=16720027\" rel=\"noreferrer\">HN thread</a> here, regarding benchmarking Perl6 vs. Perl5 vs. other languages using an algorithm which implements the <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Sundaram\" rel=\"noreferrer\">Sieve of Sundaram</a> for finding prime numbers.</p>\n\n<p>Here's original code in the original thread:</p>\n\n<p><a href=\"https://p.thorsen.pm/2d70bb2da612\" rel=\"noreferrer\">perl5</a> 0m0.156s </p>\n\n<p><a href=\"https://p.thorsen.pm/ab1769fe2778\" rel=\"noreferrer\">perl6</a> 0m6.615s</p>\n\n<p>The problem is that the Perl6 version takes too long to find primes, compared to the Perl5 implementation. Part of it is due to using float as input, but still, it's too slow.</p>\n\n<p>The objective is not necessarily to optimize the algorithm, but rather to identify why Perl6 is so slow compared to other languages.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1522656020, "post_id": 49606959, "comment_id": 86221525, "body": "there&#39;s probably a better way to do what you need... for the regex question, try <code>$texttosub =~ s&#47;log10(*SKIP)(*F)|[a-zA-Z]\\w+&#47;$cats{$1}&#47;</code> (see <a href=\"https://www.rexegg.com/backtracking-control-verbs.html#skipfail\" rel=\"nofollow noreferrer\">rexegg.com/backtracking-control-verbs.html#skipfail</a>)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522657972, "post_id": 49606959, "comment_id": 86222352, "body": "If the argument you want to substitute for is always in parenthesis you could try:  <code>s|(?&lt;=\\()([a-zA-Z][A-Za-z_0-9]+)(?=\\))|$cats{$1}|i</code>. This will ignore <code>log10</code> since it is not inside a pair of parenthesis"}, {"owner": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522658561, "post_id": 49606959, "comment_id": 86222582, "body": "@H&#229;konH&#230;gland No. What I am looking for is, say blackcat=&gt;5, whitecat=&gt;10,orangecat=&gt;20, then, $texttosub = &quot;log10(blackcat)*whitecat*(log10(orangecat))&quot; ===&gt;must become  log10(5)*10*(log10(20)) irrespective of paranthesis."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1522659652, "post_id": 49606959, "comment_id": 86223068, "body": "So you want to differentiate between words that are in the hash <code>%cat</code> and those that are not (like <code>log10</code>)? If the word is in the hash <code>%cat</code>, then we do the substitution, else we leave it alone?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1522667564, "post_id": 49606959, "comment_id": 86226772, "body": "<a href=\"https://www.perlmonks.org/?node_id=1212142\" rel=\"nofollow noreferrer\">Crossposted to PerlMonks</a> (with answers there)."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "edited": false, "score": 0, "creation_date": 1522668601, "post_id": 49608502, "comment_id": 86227274, "body": "Thanks. Which approach is better in the long run."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "edited": false, "score": 0, "creation_date": 1522670034, "post_id": 49608502, "comment_id": 86227963, "body": "@RaveenKumar Neither. Using <code>eval</code> on user input is generally a bad idea."}, {"owner": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "edited": false, "score": 0, "creation_date": 1522670233, "post_id": 49608502, "comment_id": 86228055, "body": "Then how do you evaluate multiple expressions. For Example, lets say multiple expressions are stored in an array or hash. @melpomene"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "edited": false, "score": 0, "creation_date": 1522672685, "post_id": 49608502, "comment_id": 86229298, "body": "@RaveenKumar If they&#39;re expressions in my program, I&#39;d store them as subroutines. If they&#39;re user input, I&#39;d write a parser. Or at least a validator."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522686385, "post_id": 49608502, "comment_id": 86236321, "body": "Congratulations on 40k !  :))"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1522660631, "creation_date": 1522660631, "answer_id": 49608502, "question_id": 49606959, "link": "https://stackoverflow.com/questions/49606959/is-there-any-way-to-ignore-or-omit-substitution-of-hash-values-in-a-regex-in-per/49608502#49608502", "title": "Is there any way to ignore or omit substitution of hash values in a regex in perl?", "body": "<p>There are two main approaches:</p>\n\n<ol>\n<li><p>Match every word. If it appears in the hash, substitute the value, otherwise leave it alone (i.e. replace it by itself):</p>\n\n<pre><code>$texttosub =~ s{\\b([a-zA-Z]\\w*)\\b}{ $cats{$1} // $1 }eg;\n</code></pre></li>\n<li><p>Construct a regex from your hash keys and only match those words:</p>\n\n<pre><code>use Data::Munge qw(list2re);\nmy $regex = list2re keys %cats;\n$texttosub =~ s/\\b($regex)\\b/$cats{$1}/g;\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1522660631, "creation_date": 1522653594, "last_edit_date": 1522660341, "question_id": 49606959, "link": "https://stackoverflow.com/questions/49606959/is-there-any-way-to-ignore-or-omit-substitution-of-hash-values-in-a-regex-in-per", "title": "Is there any way to ignore or omit substitution of hash values in a regex in perl?", "body": "<p>So I have a regex in perl which goes like,</p>\n\n<pre><code>my $texttosub = \"log10(blackcat)\";\n#the value of \"blackcat\" can be found in a hash called \"%cats\"\nif ( $texttosub =~ s|([a-zA-Z][A-Za-z_0-9]+)|$cats{$1}|i ){          \n  print (\"\\n\", \" The value of cat = \", eval ($texttosub) );\n  ..do something..\n}\nsub log10{....}\n</code></pre>\n\n<p>My question is, How do I ignore \"log10\" and only match \"blackcat\" for substitution? So that I can evaluate that \"$texttosub\" line and print of the log10 value of that \"blackcat\".</p>\n"}, {"tags": ["perl", "server"], "owner": {"reputation": 45, "user_id": 1785651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e000cb81aa06b69fe49cc61907765b3?s=128&d=identicon&r=PG", "display_name": "srh", "link": "https://stackoverflow.com/users/1785651/srh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522621677, "creation_date": 1522621677, "question_id": 49603203, "link": "https://stackoverflow.com/questions/49603203/adding-a-periodic-timeout-to-select-from-a-sub-class-of-netserverhttp", "title": "Adding a periodic timeout to select from a sub-class of Net::Server::HTTP", "body": "<p>I'm trying to write a small service that responds to a couple commands (to check/report on status), but every 15 seconds or so breaks out of its polling status to check a database for messages and fork off a child to do some processing.</p>\n\n<p>I'm sub-classing Net::Server::HTTP, for example:</p>\n\n<pre><code>my $service = MyService-&gt;new(\"port\" =&gt; 8080);\n$service-&gt;run(app =&gt; {\n    \"/ping\" =&gt; sub { print_client(\"Pong\"); },\n    \"/status\" =&gt; sub { print_client(\"Good, thanks\"); },\n});\n</code></pre>\n\n<p>but I can't figure out how to get a timeout through the class hierarchy to reach the socket's select call. I was hoping I could pass a timeout through, or use a while(1) with an alarm to break out of the run method, but neither is working.</p>\n\n<p>What I was /hoping/ for was to do:</p>\n\n<pre><code>while (1) {\n    $service-&gt;run(\n        timeout =&gt; 15,\n        app =&gt; { ... }\n    });\n\n    check_database();\n}\n</code></pre>\n\n<p>Is there a better way to do this while keeping the code simple?</p>\n"}, {"tags": ["perl", "parameters", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 7447379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5f592a7622039034c85c8f4d5924232?s=128&d=identicon&r=PG&f=1", "display_name": "Sae", "link": "https://stackoverflow.com/users/7447379/sae"}, "edited": false, "score": 0, "creation_date": 1522633164, "post_id": 49599994, "comment_id": 86215714, "body": "Thanks a lot!  <code>$q-&gt;keywords</code> doesn&#39;t work, but <code>$q-&gt;param(&#39;keywords&#39;)</code> works like charm"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1522598954, "creation_date": 1522598954, "answer_id": 49599994, "question_id": 49599926, "link": "https://stackoverflow.com/questions/49599926/passing-parameter-without-parameter-name/49599994#49599994", "title": "Passing parameter without parameter name", "body": "<p>Have you tried inspecting <code>param</code> after calling a CGI script with only <code>?Sae</code>?</p>\n\n<p>In debug mode, it seems to assign the value to the <code>keywords</code> key:</p>\n\n<pre><code>echo Sae | perl -MCGI=:debug -E '\n    $q=CGI-&gt;new;\n    say \"$_: \", scalar $q-&gt;param($_) for $q-&gt;param'\n\n(offline mode: enter name=value pairs on standard input; press ^D or ^Z when done)\nkeywords: Sae\n</code></pre>\n\n<p><code>$q-&gt;keywords</code> seems to work, too.</p>\n"}], "owner": {"reputation": 57, "user_id": 7447379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5f592a7622039034c85c8f4d5924232?s=128&d=identicon&r=PG&f=1", "display_name": "Sae", "link": "https://stackoverflow.com/users/7447379/sae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 49599994, "answer_count": 1, "score": 0, "last_activity_date": 1522598954, "creation_date": 1522598501, "question_id": 49599926, "link": "https://stackoverflow.com/questions/49599926/passing-parameter-without-parameter-name", "title": "Passing parameter without parameter name", "body": "<p>I am trying to pass a parameter after string query. <br>\nI know that I can pass parameter with a name to cgi, for example I can pass a name parameter by doing <code>www.mypage.com/index.html?name=Sae</code> <br>and retrieve it using CGI <code>my $name = q-&gt;param('name')</code><br><br></p>\n\n<p>But is there a way to pass parameters without parameter name?<br>\nFor example if I want to pass the <code>Sae</code> part in <code>www.mypage.com/index.html?Sae</code><br><br></p>\n\n<p>is there any way to do this? any programming language is welcome</p>\n"}, {"tags": ["perl", "operator-precedence"], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1522581661, "post_id": 49597407, "comment_id": 86202178, "body": "huh.... Perl doesn&#39;t define when the variable is incremented or decremented: <code>my $i = 1; $i += $i + $i++ + $i++; print &quot;$i\\n&quot;</code>. Result: 8"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1522619169, "post_id": 49597407, "comment_id": 86213074, "body": "@EugenKonkov funny, I would have expected either 7 or 9. But yeah, hairy and not something you should play with :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1522580863, "creation_date": 1522580863, "answer_id": 49597407, "question_id": 49597345, "link": "https://stackoverflow.com/questions/49597345/why-expression-results-are-different/49597407#49597407", "title": "Why expression results are different?", "body": "<p>The autoincrement is done first, leaving <code>$i + $i++</code> equal to <code>3 + 2</code></p>\n\n<p>You shouldn't use expressions like this where the semantics are unclear. You should split the calculation across multiple statements.</p>\n"}, {"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1522617678, "post_id": 49602379, "comment_id": 86212657, "body": "Why when we have value at specific point perl do not put it on the stack instead of scalar? Would it be more correct?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1522618456, "post_id": 49602379, "comment_id": 86212871, "body": "I mean we can put a copy of scalar with value at that time. and do not put origin scalar over and over."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1522618889, "post_id": 49602379, "comment_id": 86212998, "body": "Making a copy is expensive. Making a copy of everything put on the stack would have a severe negative impact on performance. Instead, languages don&#39;t define exact semantics for code such as yours. [This comment added was incorporated into my answer.]"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1522621403, "post_id": 49602379, "comment_id": 86213617, "body": "And no, it wouldn&#39;t be &quot;more correct&quot;. There&#39;s no mathematical basis for either approach."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1522653304, "post_id": 49602379, "comment_id": 86220428, "body": "&quot;each&quot; - it will be too much. Just put a copy for scalar which is changed ( assign, increment, decrement ops ). Despite on there is no mathematical basic it would be interesting to involve into this. I should try this! =) Thanks"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1522626016, "last_edit_date": 1522626016, "creation_date": 1522614885, "answer_id": 49602379, "question_id": 49597345, "link": "https://stackoverflow.com/questions/49597345/why-expression-results-are-different/49602379#49602379", "title": "Why expression results are different?", "body": "<p>Perl does not guarantee any specific result for either snippets you posted, and you should avoid such code.</p>\n\n<hr>\n\n<p>That said, the behaviour is consistent across all existing builds of Perl.</p>\n\n<p>While this isn't documented or guaranteed, Perl always evaluates the left-hand side (LHS) of addition operators before their right-hand side (RHS).<sup>[1]</sup></p>\n\n<pre><code>$ perl -MO=Concise,-exec -e 'my $i = 2; $i += $i + $i++; print \"$i\\n\"'\n...\n8  &lt;0&gt; padsv[$i:1,2] s       &gt; LHS\n9  &lt;0&gt; padsv[$i:1,2] sRM     \\ RHS\na  &lt;1&gt; postinc[t2] sK/1      /\nb  &lt;2&gt; add[t3] sK/2\n...\n</code></pre>\n\n<p>So why does it seem like that's not the case?</p>\n\n<p>The key to understanding what is going on is that the Perl stack only contains scalars (<code>SV*</code>, including subtypes such as <code>AV*</code>). That means that <code>$i</code> places the actual scalar associated with <code>$i</code> on the stack, not merely the value <code>2</code>.<sup>[2]</sup></p>\n\n<p>That means that even though <code>$i</code> is evaluated and placed on the stack before <code>$i++</code> is evaluated and placed on the stack, the updated value of <code>$i</code> will be used by the addition operator.</p>\n\n<pre><code>    $i  stack\n    --  -----\n     2\n$i\n     2  $i\n$i\n     2  $i,$i\npostinc\n     3  $i,2\nadd\n     3  5\n</code></pre>\n\n<hr>\n\n<p>If you want, you can trace what's happening with replication of the Perl interpreter:</p>\n\n<pre><code>use Data::Alias qw( alias );\n\nmy @stack;\nmy @pad;\n\nsub padsv {\n   my $padidx = shift;\n   alias push @stack, $pad[$padidx];\n}\n\nsub postinc {\n   alias my $sv = pop(@stack);\n   alias my $result = $sv++;\n   alias push @stack, $result;\n}\n\nsub add {\n   alias my ($lhs, $rhs) = splice(@stack, -2);\n   alias my $result = $lhs + $rhs;\n   alias push @stack, $result;\n}\n\n\n{ my $i = 2; say $i + $i++; }  # 5\n\n$pad[0] = 2;\npadsv(0); padsv(0); postinc(); add();\nsay pop(@stack);  # 5\n\n\n{ my $i = 1; say $i + $i++ + $i++; }  # 5\n\n$pad[0] = 1;\npadsv(0); padsv(0); postinc(); add(); padsv(0); postinc(); add();\nsay pop(@stack);  # 5\n</code></pre>\n\n<p>Alternative:</p>\n\n<pre><code>sub postinc :lvalue { $_[0]++ }\nsub add :lvalue { $_[0] + $_[1] }\n\n{ my $i = 2; say $i + $i++;            } # 5\n{ my $i = 2; say add($i, postinc($i)); } # 5\n\n{ my $i = 1; say $i + $i++ + $i++;                       } # 5\n{ my $i = 1; say add(add($i, postinc($i)), postinc($i)); } # 5\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Note that this contradicts the <a href=\"https://stackoverflow.com/a/49597407/589924\">earlier answer</a>. Its explanation of what happens is completely wrong and disproven by <code>$i + $i++ + $i++</code>.</p></li>\n<li><p>This is done for performance reasons. Making a copy of a scalar is expensive, and doing so for every scalar placed on the stack would have a severe negative impact on performance.</p></li>\n</ol>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 2, "accepted_answer_id": 49602379, "answer_count": 2, "score": 1, "last_activity_date": 1522626016, "creation_date": 1522580437, "question_id": 49597345, "link": "https://stackoverflow.com/questions/49597345/why-expression-results-are-different", "title": "Why expression results are different?", "body": "<p>executing perl program I get different results:</p>\n\n<pre><code>$ perl -e 'my $i = 2; $i += 2 + $i++; print \"$i\\n\"'\n7\n$ perl -e 'my $i = 2; $i += $i + $i++; print \"$i\\n\"'\n8\n</code></pre>\n\n<p>Why results are different? what did I miss in second case? I expect <code>7</code> in both cases.</p>\n"}, {"tags": ["perl", "moose"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 4, "last_activity_date": 1522589168, "creation_date": 1522589168, "answer_id": 49598552, "question_id": 49596945, "link": "https://stackoverflow.com/questions/49596945/moose-change-read-write-attributes-to-read-only-after-constructing-the-object/49598552#49598552", "title": "Moose: change read-write attributes to read-only after constructing the object", "body": "<p>Here is a way you can write to read-only attributes within the  <code>BUILD()</code> sub:</p>\n\n<pre><code>package mypkg;\nuse Moose;\nuse File::Spec;\n\nhas [qw (file1 file2)] =&gt; (isa =&gt; 'Str', is =&gt; 'ro');\nhas dir =&gt; (isa =&gt; 'Str', is =&gt; 'ro');\n\nsub BUILD {\n    my ($self) = @_;\n    # Note that we use $self-&gt;{file1} instead of $self-&gt;file1 in order to \n    # fool Moose and write to its read-only attributes\n    $self-&gt;{file1} = File::Spec-&gt;catfile($self-&gt;dir, $self-&gt;file1);\n    $self-&gt;{file2}  = File::Spec-&gt;catfile($self-&gt;dir, $self-&gt;file2);\n}\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/q/32572421/2173773\">Writing to read-only attributes inside a Perl Moose class</a></p>\n"}], "owner": {"reputation": 122, "user_id": 4699984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sQZSv.png?s=128&g=1", "display_name": "toomas", "link": "https://stackoverflow.com/users/4699984/toomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 49598552, "answer_count": 1, "score": 1, "last_activity_date": 1522599580, "creation_date": 1522577218, "last_edit_date": 1522599580, "question_id": 49596945, "link": "https://stackoverflow.com/questions/49596945/moose-change-read-write-attributes-to-read-only-after-constructing-the-object", "title": "Moose: change read-write attributes to read-only after constructing the object", "body": "<p>I want to change attributes of an object to read-only after calling its BUILD method.  How can I do this?</p>\n\n<p>(Context: My program loads this object, which I want to be carved in stone after it has been created, from YAML using <a href=\"http://search.cpan.org/perldoc?MooseX::YAML\" rel=\"nofollow noreferrer\">MooseX::YAML</a>, and then changes its attributes in the BUILD method, to work around the limitation of YAML described <a href=\"https://stackoverflow.com/questions/2063616/how-to-reference-a-yaml-setting-from-elsewhere-in-the-same-yaml-file\">here</a>.  More specifically, my YAML code declares a directory and a bunch of files under it, but there appears to be no way to express in YAML that all those files must be in that directory. I could, of course, prepend this directory name to all these filenames, making them absolute, but this would mean that 1) when I change my mind about the location of the directory, I have to change all entries for those files, instead of changing only the directory name, and 2) changing the directory  name from inside the program before creating the object would be painful and error-prone.)</p>\n\n<p>(added later:) A minimal working example.</p>\n\n<p>yaml1:</p>\n\n<pre><code># invalid YAML, unfortunately:\ndir: &amp;dir /here\nfile1: *dir/foo\nfile2: *dir/bar\n# ... and a lot more\n</code></pre>\n\n<p>yaml2:</p>\n\n<pre><code># works, but requires repeating '/here/':\ndir: /here\nfile1: /here/foo\nfile2: /here/bar\n# ...\n</code></pre>\n\n<p>yaml3:</p>\n\n<pre><code># works, but requires making changes to attribute values:\ndir: /here\nfile1: foo\nfile2: bar\n# ...\n</code></pre>\n\n<p>program.perl:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse lib '.';\nuse MooseX::YAML qw (LoadFile);\nuse Try::Tiny;\n\nforeach (1..3) {\n  my $datafile = \"yaml$_\";\n  print STDERR \"Loading $datafile...\\n\";\n  try {\n    LoadFile (\"yaml$_\");\n  } catch {\n    print STDERR \"$_\";\n  };\n}\n</code></pre>\n\n<p>Creating all these files in a directory and running \"perl program.perl\" from there, I get the following output:</p>\n\n<pre><code>Loading yaml1...\nYAML::XS::Load Error: The problem:\n\n    did not find expected alphabetic or numeric character\n\nwas found at document: 1, line: 2, column: 12\nwhile scanning an alias at line: 2, column: 8\nLoading yaml2...\nLoading yaml3...\n</code></pre>\n\n<p>The file 'mypkg.pm' shows changes I have to make to attributes when using yaml3.</p>\n\n<p>mypkg.pm:</p>\n\n<pre><code>package mypkg;\nuse Moose;\nuse File::Spec;\n\nhas 'dir' =&gt; (isa =&gt; 'Str', is =&gt; 'ro');\n# have to allow modifying these values in BUILD\n#                                              (!!)\nhas [qw (file1 file2)] =&gt; (isa =&gt; 'Str', is =&gt; 'rw');\n\nsub BUILD {\n  my ($self) = @_;\n  $self-&gt;file1 (File::Spec-&gt;catfile ($self-&gt;dir, $self-&gt;file1));\n  $self-&gt;file2 (File::Spec-&gt;catfile ($self-&gt;dir, $self-&gt;file2));\n  # ... etc.\n  # everything done, I would like all further changes to the attribute \n  # values to be impossible from now on\n}\n\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1522572676, "post_id": 49596330, "comment_id": 86199957, "body": "It&#39;s better if you provide values for $n1 and $n2 and the exact error."}, {"owner": {"reputation": 145, "user_id": 8826507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff14992906851f31be5d1155eac50f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sophia", "link": "https://stackoverflow.com/users/8826507/sophia"}, "reply_to_user": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1522573346, "post_id": 49596330, "comment_id": 86200117, "body": "Thanks @jjmerelo , there&#39;s one more catch if i remove &quot;my&quot; declaration its showing error, can you explain a reason for that? actually i am new to the perl, and mixing the concepts of different languages"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522573427, "post_id": 49596330, "comment_id": 86200134, "body": "<code>my</code> declares (creates) a variable."}, {"owner": {"reputation": 145, "user_id": 8826507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff14992906851f31be5d1155eac50f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sophia", "link": "https://stackoverflow.com/users/8826507/sophia"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522574719, "post_id": 49596330, "comment_id": 86200443, "body": "Okay i got the concept. Thanks @ikegami"}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 1, "creation_date": 1522576935, "post_id": 49596330, "comment_id": 86200986, "body": "Actually, <code>my</code> declares the <i>scope</i> of a variable in Perl. You don&#39;t actually need to declare a variable in Perl, you can use it straight away. It&#39;s convenient to declare the scope, through. Check this <a href=\"https://perlmaven.com/scope-of-variables-in-perl\" rel=\"nofollow noreferrer\">small tutorial</a> to clarify that."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 8826507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff14992906851f31be5d1155eac50f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sophia", "link": "https://stackoverflow.com/users/8826507/sophia"}, "edited": false, "score": 0, "creation_date": 1522573172, "post_id": 49596426, "comment_id": 86200067, "body": "I got it, it was taking it as a string may be, thanks for your answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 145, "user_id": 8826507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff14992906851f31be5d1155eac50f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sophia", "link": "https://stackoverflow.com/users/8826507/sophia"}, "edited": false, "score": 0, "creation_date": 1522573239, "post_id": 49596426, "comment_id": 86200087, "body": "What are you talking about? You needed to perform an integer division, but you didn&#39;t."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1522573041, "creation_date": 1522573041, "answer_id": 49596426, "question_id": 49596330, "link": "https://stackoverflow.com/questions/49596330/perl-first-number-to-the-base-of-2nd-numberbase-2-to-9/49596426#49596426", "title": "Perl : First number to the base of 2nd number(Base : 2 to 9)", "body": "<pre><code>$decimal = $decimal / $val2;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>$decimal = int( $decimal / $val2 );\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$decimal = ( $decimal - $remainder ) / $val2;\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 8826507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff14992906851f31be5d1155eac50f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sophia", "link": "https://stackoverflow.com/users/8826507/sophia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522573041, "creation_date": 1522572098, "last_edit_date": 1522572536, "question_id": 49596330, "link": "https://stackoverflow.com/questions/49596330/perl-first-number-to-the-base-of-2nd-numberbase-2-to-9", "title": "Perl : First number to the base of 2nd number(Base : 2 to 9)", "body": "<p>I am trying this code, but it is giving some answer in the form of Nan.\nThe <code>$decimal = ($decimal / $val2);</code> is incorrect I suppose, not able to figure out what fault is there in this code. \nIs there any other way to calculate this?\nHere is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nsub Base {\n    my $val1; \n    my $val2;\n    $val1=$_[0];\n    $val2=$_[1];\n    my $ans;my $i;\n    my $decimal;\n    my $remainder;\n    $decimal=$val1;\n    $ans=0;\n    $i=1;\n    while($decimal &gt; 0)\n    {\n        $remainder = $decimal % $val2;\n        $ans = $ans + ($remainder * $i);\n        $i = $i * 10;\n        $decimal = ($decimal / $val2);\n    }\n    print $ans;\n}\n# Function call\nprint \"enter 1st no.\\n \";\nmy $n1 = &lt;STDIN&gt;;\nprint \"enter 2nd no.\\n \";\nmy $n2 = &lt;STDIN&gt;;\nBase($n1,$n2);\n</code></pre>\n"}, {"tags": ["regex", "perl", "replace"], "comments": [{"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1522571530, "post_id": 49594111, "comment_id": 86199745, "body": "If you use single quotes, the expression is going to be interpreted as is, and that&#39;s what you get. If you use double quotes, it&#39;s going to be interpreted <i>before</i> so they will be evaluated to the null string. Passing expressions on the command line is probably not the best way of doing that. Besides, if you are going this kind of thing <a href=\"http://www.grymoire.com/Unix/Sed.html\" rel=\"nofollow noreferrer\">sed</a> is probably better suited, and can work the way you want."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3603486"}, "edited": false, "score": 0, "creation_date": 1522575393, "post_id": 49594590, "comment_id": 86200604, "body": "A bit of context and explanation would help make this answer useful."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1522604833, "last_edit_date": 1522604833, "creation_date": 1522554204, "answer_id": 49594590, "question_id": 49594111, "link": "https://stackoverflow.com/questions/49594111/perl-support-perl-expression-in-replacement-expression/49594590#49594590", "title": "Perl support Perl expression in replacement expression", "body": "<p>The following does what you want:</p>\n\n<pre><code>use String::Substitution qw( gsub_modify );\n\ngsub_modify($_, $ARGV[0], $ARGV[1]);\n</code></pre>\n"}], "owner": {"reputation": 1167, "user_id": 3066571, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c229fff899ffd9f6ace71937b5cfda5d?s=128&d=identicon&r=PG&f=1", "display_name": "user3066571", "link": "https://stackoverflow.com/users/3066571/user3066571"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 49594590, "answer_count": 1, "score": 0, "last_activity_date": 1522618052, "creation_date": 1522547795, "last_edit_date": 1522554348, "question_id": 49594111, "link": "https://stackoverflow.com/questions/49594111/perl-support-perl-expression-in-replacement-expression", "title": "Perl support Perl expression in replacement expression", "body": "<p>I have a little perl program that accepts 2 arguments, one the <code>FROM</code> string and the other the <code>TO</code> string.  It then runs a replace on any line entered by the user, using the <code>FROM</code> and <code>TO</code> on it.  My question is: How do I read if the <code>TO</code> statement is a dequoted Perl double-quoted string literal itself.</p>\n\n<p>The program:</p>\n\n<pre><code>while (&lt;STDIN&gt;) {\n        $_ =~ s/$ARGV[0]/$ARGV[1]/g;\n        print STDOUT $_;\n}\n\nexit(0);\n</code></pre>\n\n<p>Example Arguments:</p>\n\n<pre><code>./program.pl '([aeiou])([aeiou])' '$2$1'\n</code></pre>\n\n<p>Text entered by user:</p>\n\n<pre><code>The rain in spain is always on the plain.\n</code></pre>\n\n<p>Since the <code>TO</code> string is dequoted Perl double-quoted string literal itself, the output by the program SHOULD be:</p>\n\n<pre><code>The rian in spian is always on the plian.\n</code></pre>\n\n<p>But instead is:</p>\n\n<pre><code>The r$2$1 in sp$2$1 is always on the pl$2$1n.\n</code></pre>\n\n<p>How can I get the expression to evaluate if the <code>$ARGV[1]</code> is dequoted Perl double-quoted string literal and do it?</p>\n"}, {"tags": ["arrays", "json", "perl"], "comments": [{"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 1, "creation_date": 1522581728, "post_id": 49593517, "comment_id": 86202192, "body": "if you&#39;re working on JSON and files, it might be worth looking at <code>JSON::Parse</code> which provides <code>json_file_to_perl</code>. Instead of your 8 lines of code, you could do: <code>my $json_data = json_file_to_perl($filename);</code> ... but hey, doing it handcrafted is a good starting point and gain knowledge"}], "answers": [{"comments": [{"owner": {"reputation": 2791, "user_id": 1234376, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c33ba0d17f5a6768816a6a41d5791e62?s=128&d=identicon&r=PG", "display_name": "Chen Xie", "link": "https://stackoverflow.com/users/1234376/chen-xie"}, "edited": false, "score": 0, "creation_date": 1522705710, "post_id": 49593730, "comment_id": 86245608, "body": "thx! Just a side note, the <code>each</code> support for iterating through an array is not supported in Perl 5.10.x (and for some reason I cannot update to latest), so I need to replace it with a <code>for</code> loop something like ``` foreach my $idx (0 .. $#maven_array)```"}], "tags": [], "owner": {"reputation": 57743, "user_id": 1090079, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uWGaU.png?s=128&g=1", "display_name": "Filip Ros&#233;en - refp", "link": "https://stackoverflow.com/users/1090079/filip-ros%c3%a9en-refp"}, "is_accepted": true, "score": 3, "last_activity_date": 1522542718, "creation_date": 1522542718, "answer_id": 49593730, "question_id": 49593517, "link": "https://stackoverflow.com/questions/49593517/searching-in-a-json-array-with-perl/49593730#49593730", "title": "Searching in a JSON array with Perl", "body": "<p>Simply iterate through your array, and store away the index once the matching node is found. The example below should speak for itself, but given the contents of your post I guess you should read up on loops, comparitive operators, as well as basic programming.</p>\n\n<p>After you have decoded your JSON-data, there is nothing special about iterating over the array, after all; it is just an array (reference given the tree like structure of JSON).</p>\n\n<pre><code>use JSON qw(decode_json);\n\nmy $needle = \"jar\";\nmy $needle_location;\n\nmy $data = decode_json( join '', &lt;DATA&gt; );\n\nwhile( my( $idx, $elem ) = each( @{$data-&gt;{'maven'}} ) )\n{\n    if( $elem-&gt;{'artifact_id'} eq $needle )\n    {\n        $needle_location = $idx;\n        last;\n    }\n}\n\ndie \"unable to find entry\" unless defined $needle_location;\nprint \"needle_location: $needle_location\\n\";\n\n__DATA__\n{\n    \"maven\": [\n      {\n        \"version\": \"1.2\",\n        \"artifact_id\": \"zip\"\n      },\n      {\n        \"version\": \"1.2\",\n        \"artifact_id\": \"jar\"\n      }\n    ]\n}\n</code></pre>\n\n\n\n<pre><code>needle_location: 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "is_accepted": false, "score": 0, "last_activity_date": 1522600527, "last_edit_date": 1522600527, "creation_date": 1522600077, "answer_id": 49600178, "question_id": 49593517, "link": "https://stackoverflow.com/questions/49593517/searching-in-a-json-array-with-perl/49600178#49600178", "title": "Searching in a JSON array with Perl", "body": "<p>My answer is based on that of <a href=\"https://stackoverflow.com/users/1090079/filip-ros%C3%A9en-refp\">Filip Ros\u00e9en - refp</a>, but hopefully a more advanced and abbreviated approach:</p>\n\n<pre><code>use Modern::Perl;\n\nuse List::Util qw(first);\nuse JSON qw(decode_json);\n\nmy $needle = \"jar\";\nmy $data = decode_json do { local $/; &lt;DATA&gt; };\n\nmy $needle_location = first( sub {\n    my $artifact_id = $data-&gt;{ maven }-&gt;[ $_ ]-&gt;{ artifact_id };\n    defined($artifact_id) &amp;&amp; $artifact_id eq $needle\n}, 0 .. $#{ $data-&gt;{ maven } } ) //\n    die \"unable to find entry\";\n\nsay \"needle_location: $needle_location\";\n\n__DATA__\n{\n    \"maven\": [\n      {\n        \"version\": \"1.2\",\n        \"artifact_id\": \"zip\"\n      },\n      {\n        \"version\": \"1.2\",\n        \"artifact_id\": \"jar\"\n      }\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 2791, "user_id": 1234376, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c33ba0d17f5a6768816a6a41d5791e62?s=128&d=identicon&r=PG", "display_name": "Chen Xie", "link": "https://stackoverflow.com/users/1234376/chen-xie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1026, "favorite_count": 0, "accepted_answer_id": 49593730, "answer_count": 2, "score": 2, "last_activity_date": 1522600527, "creation_date": 1522539957, "question_id": 49593517, "link": "https://stackoverflow.com/questions/49593517/searching-in-a-json-array-with-perl", "title": "Searching in a JSON array with Perl", "body": "<p>I need to search for a specific term in a JSON array and get the index of the array element which contains the term as its value of a key, below is a sample JSON file that I'm working on, I need to get the array element whose \"artifact_id\" is \"jar\", so in this case I need to get the index of the array which is <code>1</code>, the \"artifact_id\" is guaranteed to be unique:</p>\n\n<pre><code>{\n    \"maven\": [\n      {\n        \"version\": \"1.2\",\n        \"artifact_id\": \"zip\"\n      },\n      {\n        \"version\": \"1.2\",\n        \"artifact_id\": \"jar\"\n      }\n    ]\n}\n</code></pre>\n\n<p>I'm using the JSON lib and can decode the JSON to a Perl object, anyone can suggest the next step for me? Thanks a lot. </p>\n\n<pre><code>my $json_text = do {\n               open( my $json_fh, \"&lt;:encoding(UTF-8)\", $filename[0] )\n               or die(\"Can't open \\$filename\\\": $!\\n\");\n               local $/;\n               &lt;$json_fh&gt;;\n};\nmy $json = JSON-&gt;new;\nmy $json_data = $json-&gt;decode($json_text);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "edited": false, "score": 0, "creation_date": 1522522025, "post_id": 49591230, "comment_id": 86190162, "body": "What output are you getting?"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 2, "creation_date": 1522522097, "post_id": 49591230, "comment_id": 86190200, "body": "Indenting is not just an option but a mark of respect"}, {"owner": {"reputation": 11, "user_id": 5599940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176862e144f0af785aaed5cb31ad2a38?s=128&d=identicon&r=PG&f=1", "display_name": "Vinut  V Patil", "link": "https://stackoverflow.com/users/5599940/vinut-v-patil"}, "edited": false, "score": 0, "creation_date": 1522522119, "post_id": 49591230, "comment_id": 86190206, "body": "first keyword i get some value but the remaining keywords in the array i get 0. the last keyword i get like"}, {"owner": {"reputation": 11, "user_id": 5599940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176862e144f0af785aaed5cb31ad2a38?s=128&d=identicon&r=PG&f=1", "display_name": "Vinut  V Patil", "link": "https://stackoverflow.com/users/5599940/vinut-v-patil"}, "edited": false, "score": 0, "creation_date": 1522522195, "post_id": 49591230, "comment_id": 86190239, "body": "the last keyword i get like  keyword= 0              = 0"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1522527361, "post_id": 49591230, "comment_id": 86191589, "body": "<code>while ($var1 = &lt;$File1&gt;) { push (@lines1, $var1); }</code> is normally written as <code>@lines1 = &lt;$File1&gt;</code>"}, {"owner": {"reputation": 11, "user_id": 5599940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176862e144f0af785aaed5cb31ad2a38?s=128&d=identicon&r=PG&f=1", "display_name": "Vinut  V Patil", "link": "https://stackoverflow.com/users/5599940/vinut-v-patil"}, "edited": false, "score": 0, "creation_date": 1522548064, "post_id": 49591230, "comment_id": 86195701, "body": "Borodin and Gilles this is the first time I have written a script. It definitely makes sense where I use it though. Probably I should have posted a more readable one, I do agree with that."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 9637895, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GR9zbrwHgsY/AAAAAAAAAAI/AAAAAAAABnI/u8gPXdBXD2o/photo.jpg?sz=128", "display_name": "Jeff Fisher", "link": "https://stackoverflow.com/users/9637895/jeff-fisher"}, "is_accepted": true, "score": 0, "last_activity_date": 1523557933, "creation_date": 1523557933, "answer_id": 49803669, "question_id": 49591230, "link": "https://stackoverflow.com/questions/49591230/pattern-matching-using-perl/49803669#49803669", "title": "Pattern matching using perl", "body": "<p>First, ALWAYS 'use strict; use warnings;' at the top of your script.  This will catch a lot of problems.</p>\n\n<p>It looks like you're using c-style for loops, but don't reset the inner loop to 0, so it will only ever check the first keyword against the whole second file.  Also, you're using the numeric == to compare strings.  Instead you should use 'eq' to compare strings.  Adding 'use warnings;' to the top of your script will print a warning message for this type of problem.</p>\n\n<p>You could use the perlish form and avoid using indexes at all:</p>\n\n<pre><code>chomp @lines; # remove line endings\nchomp @lines1;\nfor my $kw(@lines){\n   my $count = 0;\n   for my $text(@lines1){\n       $count ++ if $kw eq $text;\n   }\n   print \"$kw = $count\\n\";\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 11, "user_id": 5599940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176862e144f0af785aaed5cb31ad2a38?s=128&d=identicon&r=PG&f=1", "display_name": "Vinut  V Patil", "link": "https://stackoverflow.com/users/5599940/vinut-v-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 49803669, "answer_count": 1, "score": -2, "last_activity_date": 1523557933, "creation_date": 1522521953, "last_edit_date": 1522551257, "question_id": 49591230, "link": "https://stackoverflow.com/questions/49591230/pattern-matching-using-perl", "title": "Pattern matching using perl", "body": "<p>i have two files. </p>\n\n<p>There are keywords in multiple lines in first file to be matched in multiple lines in second file.I need to get the count of these keywords.  </p>\n\n<p>the keywords i have created for example :</p>\n\n<pre><code>^.*\\aB.c_Feg.*_vbn.*/ds_.*$ (^ and $ to indicate the beginning and end of line)\n</code></pre>\n\n<p>the lines in second file are for example: </p>\n\n<pre><code>P_csd.\\[0] .i\\-_\\aB.c_Feg_90rAs (A#_vbn_T:) _345[/ds_] Asd_[0][7]\n</code></pre>\n\n<p>the code i have written is</p>\n\n<pre><code>#!/usr/bin/perl\n\n$file= \"$ARGV[0]\";\nopen($File, '&lt;', $file) or die \"Can open '$file' for read: $!\";\nwhile ($var = &lt;$File&gt;)\n{\npush (@lines, $var);\n}\n$size = @lines;\n$file1= \"$ARGV[1]\";\nopen($File1, '&lt;', $file1) or die \"Can open '$file1' for read: $!\";\nwhile ($var1 = &lt;$File1&gt;)\n{\npush (@lines1, $var1);\n}\n$size1 = @lines1;\n$i = 0;\n$j = 0;\n$count=0;\nfor ( $i=0; $i&lt;=$size; $i++)\n{\n  while ( $j&lt;=$size1)\n  {\n    if ($lines[$i] == $lines1[$j])\n    {\n       $count++;\n       $j++;\n     }\n    else \n    {\n         $j++;\n    }\n   }\nprint \"$lines[$i] = $count\\n\";\n$count = 0;\n}\n</code></pre>\n\n<p>i am not getting the expected results. \nThe first keyword I am getting some value. The rest 0. \nThe last keyword  I am getting\nKeyword =0\n                 =0</p>\n\n<p>Could somebody help me as to where I am going wrong?</p>\n\n<h3>Readable Perl</h3>\n\n<pre><code>#!/usr/bin/perl\n\n$file = \"$ARGV[0]\";\n\nopen( $File, '&lt;', $file ) or die \"Can open '$file' for read: $!\";\n\nwhile ( $var = &lt;$File&gt; ) {\n    push( @lines, $var );\n}\n\n$siwe  = @lines;\n$file1 = \"$ARGV[1]\";\n\nopen( $File1, '&lt;', $file1 ) or die \"Can open '$file1' for read: $!\";\n\nwhile ( $var1 = &lt;$File1&gt; ) {\n    push( @lines1, $var1 );\n}\n\n$siwe1 = @lines1;\n$i     = 0;\n$j     = 0;\n$count = 0;\n\nfor ( $i = 0; $i &lt;= $siwe; $i++ ) {\n\n    while ( $j &lt;= $siwe1 ) {\n\n        if ( $lines[$i] == $lines1[$j] ) {\n            $count++;\n            $j++;\n        }\n        else {\n            $j++;\n        }\n    }\n\n    print \"$lines[$i] = $count\\n\";\n    $count = 0;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 8, "creation_date": 1522516902, "post_id": 49590411, "comment_id": 86188621, "body": "You need test the values of the inputs <i>before</i> doing the division"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522520066, "post_id": 49590411, "comment_id": 86189562, "body": "I&#39;m voting to close this question as being a &quot;simple typographical error&quot;. Help with basic program flow isn&#39;t likely to be sought by a significant number of others. Quite why this question has two votes I cannot imagine."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 4, "creation_date": 1522612765, "post_id": 49590411, "comment_id": 86211421, "body": "This is a most legitimate beginner question and it should not be closed. <a href=\"https://books.google.com/books?id=JTYPKxug49IC&amp;pg=PA143&amp;lpg=PA143&amp;\" rel=\"nofollow noreferrer\">It is not at all obvious</a> <i>a priori</i>, that division by zero will interrupt program flow so that any subsequent instructions would not be executed. The OP was tempted to do the division instead of deciding whether the result of the division would be an approximation of a real number. So, at most, there is a misunderstanding of the original assignment, but that does not invalidate the OP&#39;s question."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1522528259, "creation_date": 1522528259, "answer_id": 49592121, "question_id": 49590411, "link": "https://stackoverflow.com/questions/49590411/perl-division-program/49592121#49592121", "title": "Perl Division Program", "body": "<p>You need to perform your check before doing the division. You also need skip doing the division entirely if the check is true.</p>\n\n<pre><code>if ($input2 == 0) {\n    print(\"Error: can't divide by zero\\n\");\n} else {\n    my $answer = $input1/$input2;\n    print(\"The answer is $answer\\n\");    \n}\n</code></pre>\n\n<p>By the way, ALWAYS ALWAYS use <code>use strict; use warnings qw( all );</code> in your programs.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 4, "last_activity_date": 1522637315, "last_edit_date": 1522637315, "creation_date": 1522601547, "answer_id": 49600392, "question_id": 49590411, "link": "https://stackoverflow.com/questions/49590411/perl-division-program/49600392#49600392", "title": "Perl Division Program", "body": "<p>Stolen from Sinan's comment (because sometimes we forget that things we know aren't known): You're seeing that message because Perl 5 (along with many other languages) doesn't handle <a href=\"https://en.wikipedia.org/wiki/Division_by_zero\" rel=\"nofollow noreferrer\">division by zero</a>. The interpreter tries to do it with no safeguards and having done so, gives up with a <code>die</code>. Your program immediately stops. You never make it to your check.</p>\n\n<hr>\n\n<p>Much of the practice of programming is checking input when you get them. Instead of checking later, validate them as soon as you receive them. You can also check that both inputs are actually numbers. <a href=\"https://perldoc.perl.org/Scalar/Util.html\" rel=\"nofollow noreferrer\">Scalar::Util</a> comes with Perl and has a <code>looks_like_number</code> subroutine that does that for you:</p>\n\n<pre><code>use Scalar::Util qw(looks_like_number);\n\nprint(\"Enter the first number: \");\nchomp( my $numerator = &lt;STDIN&gt; );\ndie \"$numerator doesn't look like a number!\\n\" \n    unless looks_like_number($numerator);\n\nprint (\"Enter the second number: \");\nchomp( my $denominator = &lt;STDIN&gt; );\ndie \"$denominator doesn't look like a number!\\n\" \n    unless looks_like_number($denominator);\ndie \"Can't divide by zero!\\n\" if $denominator == 0;\n\nmy $answer = $numerator/$denominator;\nprint \"$numerator / $denominator = $answer\\n\";\n</code></pre>\n\n<p>Do that for a bit and you start to realize that you've repeated yourself. You could move that to a subroutine. Once abstracted away you can adjust <code>get_number</code> for any sort of validation that you like:</p>\n\n<pre><code>use Scalar::Util qw(looks_like_number);\n\nmy $numerator   = get_number();\nmy $denominator = get_number();\ndie \"Can't divide by zero!\\n\" if $denominator == 0;\n\nmy $answer = $numerator/$denominator;\nprint \"$numerator / $denominator = $answer\\n\";\n\nsub get_number {\n    print(\"Enter a number: \");\n    chomp( my $number = &lt;STDIN&gt; );\n    die \"$number doesn't look like a number!\\n\"\n        unless looks_like_number($number);\n    return $number;\n    }\n</code></pre>\n\n<p>And, I like to leave the newline off of prompts so I type my input right after the message:</p>\n\n<pre><code>$ perl zero.pl  \nEnter a number: 4\nEnter a number: 5\n4 / 5 = 0.8\n\n$ perl zero.pl  \nEnter a number: Llama\nLlama doesn't look like a number!\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 9579421, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Senthil Kumar", "link": "https://stackoverflow.com/users/9579421/senthil-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1522637315, "creation_date": 1522516632, "last_edit_date": 1522516993, "question_id": 49590411, "link": "https://stackoverflow.com/questions/49590411/perl-division-program", "title": "Perl Division Program", "body": "<p>I'm learning Perl and have come across this question</p>\n\n<blockquote>\n  <p>Write a Perl program that reads in two numbers and does the following:\n  It prints Error: can't divide by zero if the second number is 0.</p>\n</blockquote>\n\n<p>If I enter the second number as zero, I'm getting an error</p>\n\n<blockquote>\n  <p><code>Illegal division by zero at ./divide.pl line 13, &lt;STDIN&gt; line 2.</code></p>\n</blockquote>\n\n<p>I'm using the following code</p>\n\n<pre><code>#!/usr/bin/perl\n\n## Divide by zero program\n\nprint(\"Enter the first number: \\n\");\n$input1 = &lt;STDIN&gt;;\nchomp ($input);\n\nprint (\"Enter the second number: \\n\");\n$input2 = &lt;STDIN&gt;;\nchomp ($input2);\n\n$answer = $input1/$input2;\n\nif ($input2 == 0)\n{\n print(\"Error: can't divide by zero \\n\");\n}\n\nprint(\"The answer is $answer \\n\");\n</code></pre>\n"}, {"tags": ["postgresql", "perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 1, "creation_date": 1522525299, "post_id": 49589884, "comment_id": 86191073, "body": "Finger slipped on the phone"}], "tags": [], "owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "is_accepted": true, "score": 1, "last_activity_date": 1522513454, "last_edit_date": 1522513454, "creation_date": 1522513075, "answer_id": 49589884, "question_id": 49589635, "link": "https://stackoverflow.com/questions/49589635/is-there-an-equivalent-of-dbh-sqlite-create-function-in-dbdpg/49589884#49589884", "title": "Is there an equivalent of $dbh-&gt;sqlite_create_function in DBD::Pg", "body": "<p>DBI is a client library along with all the DBD::xxx.  </p>\n\n<p>The reason <code>sqlite_create_function</code> works is that SQLite is an embedded database, so the server can access client-side functions directly.  </p>\n\n<p>This is not the case with other databases, PostgreSQL including.  </p>\n\n<p>The only way to create custom functions when working with other databases is the standard <code>create function|procedure</code> on the server side.</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 49589884, "answer_count": 1, "score": 2, "last_activity_date": 1522513454, "creation_date": 1522511554, "question_id": 49589635, "link": "https://stackoverflow.com/questions/49589635/is-there-an-equivalent-of-dbh-sqlite-create-function-in-dbdpg", "title": "Is there an equivalent of $dbh-&gt;sqlite_create_function in DBD::Pg", "body": "<p>I am loving the possibility of creating functions for SQLite in perl with </p>\n\n<pre><code>$dbh-&gt;sqlite_create_function\n</code></pre>\n\n<p>as documented in <a href=\"http://search.cpan.org/~ishigaki/DBD-SQLite/lib/DBD/SQLite.pm#$dbh-%3Esqlite_create_function(_$name,_$argc,_$code_ref,_$flags_)\" rel=\"nofollow noreferrer\">DBD::SQLite</a> and I'd like to do the same for Postgres. I can't seem to find the same for <a href=\"http://search.cpan.org/dist/DBD-Pg/Pg.pm\" rel=\"nofollow noreferrer\">DBD::Pg</a>.</p>\n\n<p>Am I missing something? I know I could do it in the database using <code>plperl</code>, but I was looking for a more pure-perl way.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522487344, "post_id": 49585783, "comment_id": 86180083, "body": "Why do you want to do that? In most cases you will probably really want to do something else. ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522487366, "post_id": 49585783, "comment_id": 86180088, "body": "But if you do want to do this, look at the code for e.g. Data::Printer or Test::DBIx::Class. Those do this with config hashes on import."}], "answers": [{"tags": [], "owner": {"reputation": 57743, "user_id": 1090079, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uWGaU.png?s=128&g=1", "display_name": "Filip Ros&#233;en - refp", "link": "https://stackoverflow.com/users/1090079/filip-ros%c3%a9en-refp"}, "is_accepted": true, "score": 3, "last_activity_date": 1522485027, "creation_date": 1522485027, "answer_id": 49585839, "question_id": 49585783, "link": "https://stackoverflow.com/questions/49585783/how-can-i-access-what-variables-are-being-imported-in-a-perl-module/49585839#49585839", "title": "How can I access what variables are being imported in a perl module?", "body": "<p>In order to pass data to a module you will need to write your own <a href=\"https://perldoc.perl.org/functions/import.html\" rel=\"nofollow noreferrer\"><code>import</code></a> sub, as in the below example.</p>\n\n<hr>\n\n<pre><code># Foo.pm\npackage Foo;\n\nuse Data::Dumper;\n\nsub import {\n    my $package = shift;\n    my @data = @_;\n\n    print STDERR Dumper \\@data;\n}\n\n1;\n</code></pre>\n\n\n\n<pre><code># foo.pl\nuse Foo qw/hello world/;\n</code></pre>\n\n<hr>\n\n<pre class=\"lang-none prettyprint-override\"><code>$VAR1 = [\n          'hello',\n          'world'\n        ];\n</code></pre>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 49585839, "answer_count": 1, "score": 1, "last_activity_date": 1522485027, "creation_date": 1522484576, "question_id": 49585783, "link": "https://stackoverflow.com/questions/49585783/how-can-i-access-what-variables-are-being-imported-in-a-perl-module", "title": "How can I access what variables are being imported in a perl module?", "body": "<p>I would like to be able to do something like this:</p>\n\n<pre><code>use Foo::Bar $baz, qw/one two three/;\n</code></pre>\n\n<p>and then, inside a package</p>\n\n<pre><code>package Foo::Bar;\n\n# probably do something magic here\n\nsub do_something {\n     # access $baz and 'one', 'two' and 'three' \n}\n</code></pre>\n\n<p>I remember seeing it done in a module and thinking it was a cool thing. Now I'd like to do it myself, and can't find the module anymore.</p>\n\n<p>How can I do that?</p>\n"}, {"tags": ["perl", "argv"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1522472675, "post_id": 49584358, "comment_id": 86176906, "body": "This sounds like combinatorics... maybe a job for <a href=\"https://metacpan.org/pod/Algorithm::Combinatorics\" rel=\"nofollow noreferrer\">Algorithm::Combinatorics</a>?"}, {"owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "edited": false, "score": 1, "creation_date": 1522483865, "post_id": 49584358, "comment_id": 86179213, "body": "Could you post the script you already tried to wrote!?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1522473450, "post_id": 49584465, "comment_id": 86177027, "body": "Cleaner: <code>for my $i (0..$#ARGV) { for my $j ($i+1..$#ARGV) { ... } }</code>"}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 1, "last_activity_date": 1522473110, "creation_date": 1522473110, "answer_id": 49584465, "question_id": 49584358, "link": "https://stackoverflow.com/questions/49584358/perl-file-list-compare/49584465#49584465", "title": "Perl file list compare", "body": "<p>You just want to compare every argument against every argument past itself. The ones before it would have been compared already, so you just have to look beyond.  Something like this:</p>\n\n<pre><code>for (my $i = 0; $i &lt; @ARGV; ++$i)\n{\n    for (my $j = $i + 1; $j &lt; @ARGV; ++$j)\n    {\n        my $f1 = $ARGV[$i];\n        my $f2 = $ARGV[$j];\n        say \"Comparing $f1 to $f2\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1522478356, "post_id": 49584494, "comment_id": 86177961, "body": "Can also use <code>while (my $p = shift @filelist) { ... }</code>"}], "tags": [], "owner": {"reputation": 362, "user_id": 1184115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f6b832cd7397144e4cea7233e17665?s=128&d=identicon&r=PG&f=1", "display_name": "Piquan", "link": "https://stackoverflow.com/users/1184115/piquan"}, "is_accepted": false, "score": 1, "last_activity_date": 1522473571, "last_edit_date": 1522473571, "creation_date": 1522473416, "answer_id": 49584494, "question_id": 49584358, "link": "https://stackoverflow.com/questions/49584358/perl-file-list-compare/49584494#49584494", "title": "Perl file list compare", "body": "<p>Assuming that comparing \"p\" and \"q\" is the same as comparing \"q\" and \"p\", then you can do something like this.  Here, <code>@filelist</code> is a changing list of files that haven't yet been the left-hand side of the compare.  In each iteration of the outer loop, we take one element out of that, and compare it against all the rest.</p>\n\n<pre><code>my @filelist = @ARGV;\nwhile (@filelist) {\n  my $p = shift @filelist;\n  foreach my $q (@filelist) {\n    compare($p, $q);\n  }\n}\n</code></pre>\n\n<p>You could do the same thing with indices instead.  Here, <code>$p</code> counts from 0 to the number of files you have, and <code>$q</code> starts counting from <code>$p</code>.</p>\n\n<pre><code>foreach my $p (0..$#ARGV) {\n  foreach my $q ($p+1..$#ARGV) {\n    compare($ARGV[$p], $ARGV[$q]);\n  }\n}\n</code></pre>\n\n<p>If comparing \"p\" and \"q\" is different than comparing \"q\" and \"p\", then it gets a bit easier:</p>\n\n<pre><code>foreach my $p (@ARGV) {\n  foreach my $q (@ARGV) {\n    compare($p, $q) unless $p eq $q;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5014862, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10155971524415387/picture?type=large", "display_name": "Nathan Fox", "link": "https://stackoverflow.com/users/5014862/nathan-fox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1522509889, "creation_date": 1522471750, "last_edit_date": 1522483825, "question_id": 49584358, "link": "https://stackoverflow.com/questions/49584358/perl-file-list-compare", "title": "Perl file list compare", "body": "<p>I need to iterate through and compare all files passed in as command line arguments in a perl script.</p>\n\n<p>For example:</p>\n\n<pre><code>./script f1.txt f2.txt f3.txt\n</code></pre>\n\n<p>I'll need to compare</p>\n\n<pre><code>f1 &amp; f2,\nf1 &amp; f3,\nf2 &amp; f3,\n</code></pre>\n\n<p>So that all files are compared to each other in some way, and not repeated.</p>\n\n<p>I can do the internal 'comparing' of the files just fine, it's the way to get the files paired up which is the problem for me.</p>\n\n<p>Any help to discover a way for this would be muchly appreciated!</p>\n"}, {"tags": ["perl", "ubuntu", "scripting", "xilinx"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6047917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b451b725140d9f5362c16453299caa50?s=128&d=identicon&r=PG&f=1", "display_name": "studentneedshelp", "link": "https://stackoverflow.com/users/6047917/studentneedshelp"}, "edited": false, "score": 0, "creation_date": 1522466436, "post_id": 49583803, "comment_id": 86175863, "body": "Excellent, your fix worked. I appreciate the formatting tips. I&#39;ll keep that in mind next time."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1522465283, "creation_date": 1522465283, "answer_id": 49583803, "question_id": 49583527, "link": "https://stackoverflow.com/questions/49583527/perl-script-for-bulk-adding-users-to-a-group-after-it-reads-from-a-csv-line/49583803#49583803", "title": "Perl Script for Bulk Adding Users to a Group after it Reads from a CSV Line", "body": "<p>The <code>-s</code> option specifies the new user's default shell. You are passing <code>-d/home/$fields[2]</code> which is not a valid shell name</p>\n\n<p>There is also a blank line at the end of your data file which you are not discarding</p>\n\n<p>Please use the passive facilities available on the internet to diagnose your problems before resorting to personal assistance, and make an attempt to format your questions properly if you really do need help</p>\n"}], "owner": {"reputation": 53, "user_id": 6047917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b451b725140d9f5362c16453299caa50?s=128&d=identicon&r=PG&f=1", "display_name": "studentneedshelp", "link": "https://stackoverflow.com/users/6047917/studentneedshelp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 49583803, "answer_count": 1, "score": -1, "last_activity_date": 1522466363, "creation_date": 1522462038, "last_edit_date": 1522466363, "question_id": 49583527, "link": "https://stackoverflow.com/questions/49583527/perl-script-for-bulk-adding-users-to-a-group-after-it-reads-from-a-csv-line", "title": "Perl Script for Bulk Adding Users to a Group after it Reads from a CSV Line", "body": "<p>I'm attempting to bulk add users to a group using a CSV file and I'm running into a few frustrating errors that I can't seem to find online elsewhere:<br>\n  useradd: invalid shell '-d/home/jbower11' --(for all users in the list)<br>\n  Use of uninitialized value $fields[0] in concatenation (.) or string at csvreader.pl line 14,  line 6. --(for all users in the list)<br>\n  useradd: invalid shell '-d/home/' --(An additional error that pops up after the script has run.)  </p>\n\n<pre><code>  system(\"useradd -gstudents -c $fields[0],$fields[1] -s -d/home/$fields[2] -m $fields[2]\");\n</code></pre>\n"}, {"tags": ["regex", "perl", "lwp-useragent"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522455277, "post_id": 49577420, "comment_id": 86174155, "body": "@Ram: Please show your output for both cases, or there is nothing to respond to."}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 3, "last_activity_date": 1522455445, "last_edit_date": 1522455445, "creation_date": 1522426964, "answer_id": 49577828, "question_id": 49577420, "link": "https://stackoverflow.com/questions/49577420/why-does-lwpsimpleget-slow-down-a-subsequent-regular-expression/49577828#49577828", "title": "Why does LWP::Simple::get slow down a subsequent regular expression?", "body": "<p>It's fast because it's wrong. You are using the substitution operator <code>s///</code> here to work on text strings. <code>get</code> produces a text string, so that's alright. <code>`wget \u2026`</code> produces a buffer of octets. Despite that, your substitution operation happens to show the correct result, but that's by dumb luck and coincidence, and will not work in the general case. It could break when characters with high codepoints come into play, and you accidentally substitute parts of them on the octet level.</p>\n\n<p>You can verify what I say is true by using <a href=\"http://p3rl.org/Encode\" rel=\"nofollow noreferrer\">Encode</a> to either encode the <code>get</code> text string to octets and both results will be fast and wrong, or decode the <code>`wget \u2026`</code> octets into a text string and both results will be correct and slow.</p>\n\n<p>Read <a href=\"https://p3rl.org/UNI\" rel=\"nofollow noreferrer\">https://p3rl.org/UNI</a> for an introduction to the topic.</p>\n"}], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 49577828, "answer_count": 1, "score": -3, "last_activity_date": 1522461956, "creation_date": 1522425161, "last_edit_date": 1522461956, "question_id": 49577420, "link": "https://stackoverflow.com/questions/49577420/why-does-lwpsimpleget-slow-down-a-subsequent-regular-expression", "title": "Why does LWP::Simple::get slow down a subsequent regular expression?", "body": "<p>While benchmarking using a perl regex on a string </p>\n\n<p>If I get the string using a shell call it works great. \nBut If I get using LWP::Simple the subsequent regex get slowed down \nWith lwp the regex takes 13s with wget it works is less than 4s</p>\n\n<p>Why ? </p>\n\n<pre><code>#!/usr/bin/perl                                                                                                                                                                                      \nuse Time::HiRes qw( gettimeofday tv_interval );\nuse strict;\nmy %data;\n\n$data{'TO'} = \"rcpt\";\n$data{'MESSAGE_ID'} = \"37\";\n$data{'ID'} = \"7\";\n$data{'UNIQID'} = \"cff47534-fe6b-c45a-7058-8301adf1b97\";\n$data{'XOR'} = \"abcdef\";\n\nmy $url = \"http://raw.githubusercontent.com/ramprasadp/hostedtexfiles/master/msg2.txt\";\n\n#\n# This makes the rest of the program very slow LWP::Simple\n#\nmy $msg_string = LWP::Simple::get($url);                  \n\n\n# While this works great                                                                                                                                                              \n#my $msg_string = `wget -q -O - $url`;\n\nmy $start = [gettimeofday];\nfor (my $j=0;$j&lt;50000; $j++) {\n    my $tmp_string = $msg_string;\n    $tmp_string =~ s/\\$\\{ (\\w+) \\}/$data{$1}/g;\n}\nprint \"Time taken in ms is \" . 1000 * tv_interval ( $start ).\"\\n\";\n</code></pre>\n"}, {"tags": ["perl", "process", "solaris", "pack"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1522420547, "post_id": 49576093, "comment_id": 86160063, "body": "The sizes of some of the types will change depending on the computer architecture you&#39;re using. I suggest you write a C program to print the size of each different type on the target machine using <code>sizeof(uintptr_t)</code> etc. You could enhance the same program to output the Perl <code>unpack</code> format."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522420791, "post_id": 49576093, "comment_id": 86160197, "body": "@Borodin as I wrote, I don&#39;t know C. Can I anyhow implement your suggestion in Perl ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522420838, "post_id": 49576093, "comment_id": 86160219, "body": "No. You need C to read the releveant header files."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522420887, "post_id": 49576093, "comment_id": 86160253, "body": "@Borodin, well then I&#39;m bricked it looks like :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522421270, "post_id": 49576093, "comment_id": 86160464, "body": "You&#39;re discarding the possibility of learning a minimal amount of C so that you can put together a few <code>printf</code> statements?"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522421490, "post_id": 49576093, "comment_id": 86160607, "body": "well. Wouldn&#39;t know where to start, don&#39;t even know what header file is etc. Hoping to find some other solution instead of learning new language for one time problem"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1522421731, "post_id": 49576093, "comment_id": 86160739, "body": "And you have no inclination or interest in <i>finding out</i>? I think you&#39;re in the wrong job. Even a little knowledge of C would stand you in good stead for many aspects of software development in the future."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1522427611, "post_id": 49576093, "comment_id": 86163532, "body": "Try <a href=\"http://p3rl.org/Convert::Binary::C\" rel=\"nofollow noreferrer\">p3rl.org/Convert::Binary::C</a> - I cannot test, have no Solaris."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1522434666, "post_id": 49576093, "comment_id": 86166805, "body": "@daxim, thanks a lot, will try it."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522445697, "post_id": 49576093, "comment_id": 86171516, "body": "@borodin followed your suggestion with C and have size of datatypes ready. Somehow Still not able to construct the TEMPLATE for unpack. timestruct causing troubles"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522446139, "post_id": 49576093, "comment_id": 86171668, "body": "You need to open a new question, showing all of your C and Perl source and output, and describing your issues succinctly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1522446258, "post_id": 49576093, "comment_id": 86171709, "body": "<code>timestruct_t</code> is a C structure consisting of multiple fields like <code>psinfo_t</code>. You must unpack every field separately."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522830425, "post_id": 49576093, "comment_id": 86300389, "body": "@Borodin indeed that was the trick. timestruct_t consists of seconds and nanoseconds both of LONG type. So what I was doing was actually OK :)"}], "answers": [{"tags": [], "owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "is_accepted": false, "score": 2, "last_activity_date": 1522831935, "creation_date": 1522831935, "answer_id": 49646682, "question_id": 49576093, "link": "https://stackoverflow.com/questions/49576093/perl-how-to-unpack-psinfo-binary-file-on-solaris-10/49646682#49646682", "title": "Perl - how to unpack psinfo binary file on Solaris 10", "body": "<p>To not confuse the audience with more editing, I will post the answer here. Its actually quite simple</p>\n\n<ol>\n<li><p>I got the correct psinfo information from my system. On my system (Solaris 10 1/13 s10x_u11wos_24a X86 ) it was stored in       /usr/local/include/sys/procfs.h</p>\n\n<pre><code>typedef struct psinfo {\n    int     pr_flag;        /* process flags (DEPRECATED; do not use) */\n    int     pr_nlwp;        /* number of active lwps in the process */\n    pid_t   pr_pid;         /* unique process id */\n    pid_t   pr_ppid;        /* process id of parent */\n    pid_t   pr_pgid;        /* pid of process group leader */\n    pid_t   pr_sid;         /* session id */\n    uid_t   pr_uid;         /* real user id */\n    uid_t   pr_euid;        /* effective user id */\n    gid_t   pr_gid;         /* real group id */\n    gid_t   pr_egid;        /* effective group id */\n    uintptr_t pr_addr;      /* address of process */\n    size_t  pr_size;        /* size of process image in Kbytes */\n    size_t  pr_rssize;      /* resident set size in Kbytes */\n    size_t  pr_pad1;\n    dev_t   pr_ttydev;      /* controlling tty device (or PRNODEV) */\n                /* The following percent numbers are 16-bit binary */\n                /* fractions [0 .. 1] with the binary point to the */\n                /* right of the high-order bit (1.0 == 0x8000) */\n    ushort_t pr_pctcpu;     /* % of recent cpu time used by all lwps */\n    ushort_t pr_pctmem;     /* % of system memory used by process */\n    timestruc_t pr_start;   /* process start time, from the epoch */\n    timestruc_t pr_time;    /* usr+sys cpu time for this process */\n    timestruc_t pr_ctime;   /* usr+sys cpu time for reaped children */\n    char    pr_fname[PRFNSZ];       /* name of execed file */\n    char    pr_psargs[PRARGSZ];     /* initial characters of arg list */\n    int     pr_wstat;       /* if zombie, the wait() status */\n    int     pr_argc;        /* initial argument count */\n    uintptr_t pr_argv;      /* address of initial argument vector */\n    uintptr_t pr_envp;      /* address of initial environment vector */\n    char    pr_dmodel;      /* data model of the process */\n    char    pr_pad2[3];\n    taskid_t pr_taskid;     /* task id */\n    projid_t pr_projid;     /* project id */\n    int     pr_nzomb;       /* number of zombie lwps in the process */\n    poolid_t pr_poolid;     /* pool id */\n    zoneid_t pr_zoneid;     /* zone id */\n    id_t    pr_contract;    /* process contract */\n    int     pr_filler[1];   /* reserved for future use */\n    lwpsinfo_t pr_lwp;      /* information for representative lwp */\n} psinfo_t;\n</code></pre></li>\n<li><p>the piece of code unpacking psinfo binary was ok. Only I didn't realize that timestruc_t has two elements, seconds and nanoseconds. Both of LONG type. (thanx Borodin)</p></li>\n<li><p>Piece of C code, which is showing size of different data types used, is following</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;dirent.h&gt;             /* UNIX dirs       POSIX */\n#include &lt;errno.h&gt;              /* error stf       POSIX */\n#include &lt;fcntl.h&gt;              /* UNIX file ctrl  UNIX  */\n#include &lt;procfs.h&gt;             /* Solaris proc    SUN   */\n#include &lt;string.h&gt;             /* Strings         C89   */\n#include &lt;sys/stat.h&gt;           /* UNIX stat       POSIX */\n#include &lt;sys/types.h&gt;          /* UNIX types      POSIX */\n\n int main() \n        {\n          int integerType;\n          long long_type;\n          float floatType;\n          double doubleType;\n          char charType;\n          pid_t pid_t_type;\n          uid_t uid_t_type;\n          gid_t gid_t_type;\n          uintptr_t uintptr_t_type;\n          size_t size_t_type;\n          dev_t dev_t_type;\n          ushort_t ushort_t_type;\n          timestruc_t timestruc_t_type;\n          lwpsinfo_t lwpsinfo_t_type;\n          taskid_t taskid_t_type;\n          projid_t projid_t_type;\n          poolid_t poolid_t_type;\n          zoneid_t zoneid_t_type;\n          ctid_t ctid_t_type;\n          time_t time_t_type;\n        // Sizeof operator is used to evaluate the size of a variable\n          printf(\"Size of int: %ld bytes\\n\",sizeof(integerType));\n          printf(\"Size of long: %ld bytes\\n\",sizeof(long_type));\n          printf(\"Size of float: %ld bytes\\n\",sizeof(floatType));\n          printf(\"Size of double: %ld bytes\\n\",sizeof(doubleType));\n           printf(\"Size of char: %ld byte\\n\",sizeof(charType));\n           printf(\"Size of pid_t: %ld bytes\\n\",sizeof(pid_t_type));\n           printf(\"Size of uid_t: %ld bytes\\n\",sizeof(uid_t_type));\n           printf(\"Size of gid_t: %ld bytes\\n\",sizeof(gid_t_type));\n           printf(\"Size of uintptr_t: %ld bytes\\n\",sizeof(uintptr_t_type));\n           printf(\"Size of size_t: %ld bytes\\n\",sizeof(size_t_type));\n           printf(\"Size of dev_t: %ld bytes\\n\",sizeof(dev_t_type));\n           printf(\"Size of ushort_t: %ld bytes\\n\",sizeof(ushort_t_type));\n           printf(\"Size of timestruc_t: %ld bytes\\n\",sizeof(timestruc_t_type));\n           printf(\"Size of lwpsinfo_t: %ld bytes\\n\",sizeof(lwpsinfo_t_type));\n           printf(\"Size of taskid_t: %ld bytes\\n\",sizeof(taskid_t_type));\n           printf(\"Size of projid_t: %ld bytes\\n\",sizeof(projid_t_type));\n           printf(\"Size of poolid_t: %ld bytes\\n\",sizeof(poolid_t_type));\n           printf(\"Size of zoneid_t: %ld bytes\\n\",sizeof(zoneid_t_type));\n           printf(\"Size of ctid_t: %ld bytes\\n\",sizeof(ctid_t_type));\n           printf(\"Size of time_t: %ld bytes\\n\",sizeof(time_t_type));\n\n        return 0;\n        }\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522833614, "creation_date": 1522419409, "last_edit_date": 1522833614, "question_id": 49576093, "link": "https://stackoverflow.com/questions/49576093/perl-how-to-unpack-psinfo-binary-file-on-solaris-10", "title": "Perl - how to unpack psinfo binary file on Solaris 10", "body": "<p>I'm trying to get the info from /proc/psinfo file on Solaris 10. It's a binary file so wanted to decode it with Perl unpack.\nUnfortunately, I'm having troubles with constructing the template for Perl unpack command. The psinfo structure is as follows</p>\n\n<pre><code>typedef struct psinfo {\nint pr_flag;              /* process flags (DEPRECATED: see below) */\nint pr_nlwp;              /* number of active lwps in the process */\nint pr_nzomb;             /* number of zombie lwps in the process */\npid_t pr_pid;             /* process id */\npid_t pr_ppid;            /* process id of parent */\npid_t pr_pgid;            /* process id of process group leader */\npid_t pr_sid;             /* session id */\nuid_t pr_uid;             /* real user id */\nuid_t pr_euid;            /* effective user id */\ngid_t pr_gid;             /* real group id */\ngid_t pr_egid;            /* effective group id */\nuintptr_t pr_addr;        /* address of process */\nsize_t pr_size;           /* size of process image in Kbytes */\nsize_t pr_rssize;         /* resident set size in Kbytes */\ndev_t pr_ttydev;          /* controlling tty device (or PRNODEV) */\nushort_t pr_pctcpu;       /* % of recent cpu time used by all lwps */\nushort_t pr_pctmem;       /* % of system memory used by process */\ntimestruc_t pr_start;     /* process start time, from the epoch */\ntimestruc_t pr_time;      /* cpu time for this process */\ntimestruc_t pr_ctime;     /* cpu time for reaped children */\nchar pr_fname[PRFNSZ];    /* name of exec'ed file */\nchar pr_psargs[PRARGSZ];  /* initial characters of arg list */\nint pr_wstat;             /* if zombie, the wait() status */\nint pr_argc;              /* initial argument count */\nuintptr_t pr_argv;        /* address of initial argument vector */\nuintptr_t pr_envp;        /* address of initial environment vector */\nchar pr_dmodel;           /* data model of the process */\nlwpsinfo_t pr_lwp;        /* information for representative lwp */\ntaskid_t pr_taskid;       /* task id */\nprojid_t pr_projid;       /* project id */\npoolid_t pr_poolid;       /* pool id */\nzoneid_t pr_zoneid;       /* zone id */\nctid_t pr_contract;       /* process contract id */\n} psinfo_t;\n</code></pre>\n\n<p>but as I know nothing about C, I do have troubles with the representation of various psinfo datatypes in unlock template.\ni also tried to view psinfo file with hexdump/xxd to see what data I can expect, but it didn't help me much.</p>\n\n<p>So far I've managed to get this ready</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nopendir(PROC,\"/proc\") or die \"Unable to open /proc:$!\\n\";\nwhile (defined($_= readdir(PROC))){\n    next if ($_ eq \".\" or $_ eq \"..\");\n    next unless /^\\d+$/; # filter out any random non-pid files\n    open(PSINFO, \"/proc/$_/psinfo\");\n    local $/;\n    read(PSINFO, my $psinfo,1000);\n    close PSINFO;\n\n    my @psinfoInfo = unpack(\"iiiiiiiiiiIiiiiSSi2i2i2Z16Z80iiIIaa3iiiiii\", $psinfo);\n    print \"'@psinfoInfo'\\n\";\n\n}\nclosedir(PROC);\n</code></pre>\n\n<p>with the following output</p>\n\n<pre><code>'33554432 1 7871 4646 7871 4646 3339 3339 1087 1087 0 0 0 0 6291464 1 0 1522419148 159507010 0 113016534 0 0 top top 0 1 0 0   986003 3 0 0 0 924925'\n'33554432 1 8323 9639 8323 9639 3339 3339 1087 1087 0 4116 2812 0 6291463 0 0 1522419159 626531984 0 39242598 0 0 processChecker. /usr/bin/perl -w ./processChecker.pl 0 3 134511508 134511524   986024 3 0 0 0 924944'\n'33554432 1 8147 8146 2165 2165 3339 3339 1087 1087 0 6668 4060 0 -1 0 0 1522408545 333100499 0 513142054 0 0 sshd /usr/lib/ssh/sshd 0 1 134512284 134512292   984753 3 0 0 0 923830'\n'33554432 1 21997 8153 21997 8153 3339 3339 1087 1087 0 2400 1504 0 6291458 0 0 1522410593 434583624 0 204410711 0 0 vi vi processChecker.pl 0 2 134511556 134511568   984753 3 0 0 0 923830'\n</code></pre>\n\n<p>but it doesn't really correspond with psinfo definitions. For example process name is truncated, time values are NOK etc.</p>\n\n<p>I know, there is Proc::processTable available and I'm not trying to re-invent the wheel, but I can't use that module for various reasons, which are of importance.</p>\n\n<p>I checked <a href=\"http://perldoc.perl.org/perlpacktut.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlpacktut.html</a> and <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/pack.html</a>, but still...</p>\n\n<p>EDIT: based on @borodins suggestion using short C code I have also managed to get lengts of datatypes on my machine</p>\n\n<pre><code>Size of int: 4 bytes\nSize of long: 4 bytes\nSize of float: 4 bytes\nSize of double: 8 bytes\nSize of char: 1 byte\nSize of pid_t: 4 bytes\nSize of uid_t: 4 bytes\nSize of gid_t: 4 bytes\nSize of uintptr_t: 4 bytes\nSize of size_t: 4 bytes\nSize of dev_t: 4 bytes\nSize of ushort_t: 2 bytes\nSize of timestruc_t: 8 bytes\nSize of lwpsinfo_t: 104 bytes\nSize of taskid_t: 4 bytes\nSize of projid_t: 4 bytes   \nSize of poolid_t: 4 bytes\nSize of zoneid_t: 4 bytes\nSize of ctid_t: 4 bytes\nSize of time_t: 4 bytes\n</code></pre>\n\n<p>Anybody?</p>\n"}, {"tags": ["bash", "dpkg", "perl"], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1522410486, "creation_date": 1522410486, "answer_id": 49573866, "question_id": 49573658, "link": "https://stackoverflow.com/questions/49573658/escaping-dollar-sign-inside-nested-single-quote-backtick-and-quote/49573866#49573866", "title": "Escaping dollar sign inside nested single quote, backtick, and quote", "body": "<p>There are two main issues:</p>\n\n<ol>\n<li>You need to somehow get <code>'</code> into the string in the Perl code, which is already quoted with <code>'</code> for the shell.</li>\n<li>You need to escape <code>$</code> in the backticks because those have a special meaning to Perl.</li>\n</ol>\n\n<p>Let's start with the second issue first.</p>\n\n<pre><code>dpkg-query -W -f='${binary:Package}_${Version}' firefox\n</code></pre>\n\n<p>is the normal command line. Wrapping that in backticks gives us</p>\n\n<pre><code>print `dpkg-query -W -f='\\${binary:Package}_\\${Version}' $_` . \"\\n\"\n</code></pre>\n\n<p>in Perl.</p>\n\n<p>Now we want to pass that code to perl on the command line, which necessitates quoting all of this for the shell:</p>\n\n<pre><code>perl -ne 'print `dpkg-query -W -f='\\''\\${binary:Package}_\\${Version}'\\'' $_` . \"\\n\"'\n</code></pre>\n\n<p>If this looks confusing, every <code>'</code> in the original string becomes <code>'\\''</code> in the quoted version. That's because the first <code>'</code> ends the single-quoted string we're in, then <code>\\'</code> specifies a single escaped quote, then <code>'</code> starts a quoted section again. (If you look closely, you can kind of see it happen in SO's syntax highlighting.)</p>\n\n<p>There's another simplification we can apply. The incoming line in <code>$_</code> still contains a trailing newline, which we don't need (or want: it would break the command if there were anything after <code>$_</code>). We can remove it with the <code>-l</code> option, which also makes <code>print</code> output a <code>\\n</code> by default:</p>\n\n<pre><code>echo firefox | perl -lne \\\n  'print `dpkg-query -W -f='\\''\\${binary:Package}_\\${Version}'\\'' $_`'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1522411376, "post_id": 49573957, "comment_id": 86155455, "body": "Oh crap, I completely overlooked that <code>print `...`</code> (i.e. capturing the output, then printing it) can be replaced by a simple call to <code>system</code> (i.e. not capturing the output in the first place)."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 6, "last_activity_date": 1522410834, "creation_date": 1522410834, "answer_id": 49573957, "question_id": 49573658, "link": "https://stackoverflow.com/questions/49573658/escaping-dollar-sign-inside-nested-single-quote-backtick-and-quote/49573957#49573957", "title": "Escaping dollar sign inside nested single quote, backtick, and quote", "body": "<p>You have a format string within a shell command within a Perl script within a shell command. This level of nesting makes escaping quite difficult, so the best solution is to get rid of unnecessary levels.</p>\n\n<p>Here, the simplest way will be to get rid of the inner shell command. You do not need to run the dpkg command through a shell, and could execute it directly. This will avoid having to handle any kind of shell metacharacters within Perl. For example:</p>\n\n<pre><code>perl -ne 'chomp; system q(dpkg-query), q(-W), q(-f=${binary:Package}_${Version}), $_; print qq(\\n)'\n</code></pre>\n\n<p>This will print the command output directly to STDOUT, without capturing it first. As with using backticks, this doesn't do any error handling. To get the real exit code, you need to <code>$? &gt;&gt; 8</code>. So with proper error handling, the command would look like:</p>\n\n<pre><code>perl -ne '\n  chomp;\n  @command = (q(dpkg-query), q(-W), q(-f=${binary:Package}_${Version}), $_); \n  system(@command) == 0 or die sprintf qq(Command [%s] exited with status %d\\n), qq(@command), $? &gt;&gt; 8;\n  print qq(\\n)'\n</code></pre>\n"}], "owner": {"reputation": 1476, "user_id": 9164810, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eTd4w.png?s=128&g=1", "display_name": "rookie099", "link": "https://stackoverflow.com/users/9164810/rookie099"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 0, "accepted_answer_id": 49573957, "answer_count": 2, "score": 2, "last_activity_date": 1522410834, "creation_date": 1522409662, "last_edit_date": 1522410496, "question_id": 49573658, "link": "https://stackoverflow.com/questions/49573658/escaping-dollar-sign-inside-nested-single-quote-backtick-and-quote", "title": "Escaping dollar sign inside nested single quote, backtick, and quote", "body": "<p>I would like to use Perl for running a shell command on each line of a file. The file contains package names such as <code>firefox</code>.</p>\n\n<p>Here is the call for a single package name; it works:</p>\n\n<pre><code>dpkg-query -W -f='${binary:Package}_${Version}' firefox\n</code></pre>\n\n<p>If I pipe from a single-line \"file\" like this it does not work any more:</p>\n\n<pre><code>echo firefox | perl -ne \\\n  'print `dpkg-query -W -f=\"${binary:Package}_${Version}\" $_` . \"\\n\"'\n</code></pre>\n\n<p>The output is <code>_\\n</code>. So what's the right way to escape these dollars inside those nested quotes such that dpkg-query receives the verbatim string <code>${binary:Package}_${Version}</code> without a shell or bash interpreting them as \"their\" variables? I've tried various permutations but to no avail so far. The output should be of the form <code>firefox_59.0.2+build1-0ubuntu0.16.04.1\\n</code>.</p>\n"}, {"tags": ["java", "regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1522396515, "post_id": 49570534, "comment_id": 86148842, "body": "Your Parl regex can be written as <code>\\$\\{ (\\w+) \\}</code>. Actually, why didn&#39;t you use the same to test in Java? Try with <code>&quot;\\\\$\\\\{ (\\\\w+) }&quot;</code>. However, the answer is most probably &quot;you can&#39;t expect the same performance from different regex implementations&quot;."}, {"owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1522397173, "post_id": 49570534, "comment_id": 86149099, "body": "But I can not afford this. Is there a perl style implementation in java"}], "answers": [{"comments": [{"owner": {"reputation": 2170, "user_id": 5772498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2Ami.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/5772498/stefan"}, "edited": false, "score": 0, "creation_date": 1522403162, "post_id": 49571229, "comment_id": 86151587, "body": "Why the downvote?"}], "tags": [], "owner": {"reputation": 2170, "user_id": 5772498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2Ami.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/5772498/stefan"}, "is_accepted": false, "score": 1, "last_activity_date": 1522402468, "last_edit_date": 1522402468, "creation_date": 1522399457, "answer_id": 49571229, "question_id": 49570534, "link": "https://stackoverflow.com/questions/49570534/performance-of-regex-in-java-vs-perl-8-times-slower/49571229#49571229", "title": "Performance of regex in java vs perl. 8 times slower", "body": "<p>Simple substring handling gets it down to 12-13s:</p>\n\n<pre><code>    long start = System.currentTimeMillis();\n    for (int i = 0; i &lt; 50000; i++) {\n        String tmpS = s;\n        for (Entry&lt;String, String&gt; ms : m.entrySet()) {\n            int index = -1;\n            while ((index = tmpS.indexOf(ms.getKey())) &gt;= 0) {\n                tmpS = tmpS.substring(0, index) + ms.getValue() + tmpS.substring(index + ms.getKey().length());\n            }\n        }\n    }\n</code></pre>\n\n<p>Since you know that there is exacly one match for each tag, you can optimize it a bit, bringing execution time down to 7.5s:</p>\n\n<pre><code>        for (Entry&lt;String, String&gt; ms : m.entrySet()) {\n            int index = tmpS.indexOf(ms.getKey());\n            tmpS = tmpS.substring(0, index) + ms.getValue() + tmpS.substring(index + ms.getKey().length());\n        }\n</code></pre>\n\n<p>Not quite Perl speed, but still 4x faster than the Java regexp approach.</p>\n\n<p>And if your really are looking to save a few seconds, you can use the fact that your tags appear in the beginning of the message. I don't know if that's always the case, but it is a fair guess. This takes only 2.5s:</p>\n\n<pre><code>    for (int i = 0; i &lt; 50000; i++) {\n        int i1 = s.lastIndexOf(\"}\") + 1;\n        String tmpS = s.substring(0, i1);\n        for (Entry&lt;String, String&gt; ms : m.entrySet()) {\n            int i2 = tmpS.indexOf(ms.getKey());\n            tmpS = tmpS.substring(0, i2) + ms.getValue() + tmpS.substring(i2 + ms.getKey().length());\n        }\n        String result = tmpS + s.substring(i1);\n    }\n</code></pre>\n\n<p>Now the Java implementation is faster than the original Perl implementation.</p>\n\n<p>I also compbined my <code>s.lastIndexOf(\"}\")</code> trick with your original <code>regexp</code> approach and then it <strong>only took 2.3s.</strong> So this would be my recommendation, given that you can assume that your tags are always in the beginning of the string.</p>\n"}, {"comments": [{"owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "edited": false, "score": 0, "creation_date": 1522414150, "post_id": 49572363, "comment_id": 86156897, "body": "Groovy seems to work for me.  Though I have to try various cases before really concluding. Thanks"}], "tags": [], "owner": {"reputation": 39204, "user_id": 5761558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cf04bfac11ef3ee693852eccde3b3c?s=128&d=identicon&r=PG&f=1", "display_name": "ernest_k", "link": "https://stackoverflow.com/users/5761558/ernest-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1522404510, "last_edit_date": 1522404510, "creation_date": 1522404176, "answer_id": 49572363, "question_id": 49570534, "link": "https://stackoverflow.com/questions/49570534/performance-of-regex-in-java-vs-perl-8-times-slower/49572363#49572363", "title": "Performance of regex in java vs perl. 8 times slower", "body": "<p>Unless a more in-depth benchmark or profiling is done on this code, it's hard to impute this low performance solely to the Regex implementation (although I tend to -speculatively- agree with you...).</p>\n\n<p>So, I tried this exact code, it took <strong>14 seconds</strong> to run on my machine. I tried to run it in parallel, and this reduced it <strong>from 14 to 3 seconds</strong>:</p>\n\n<pre><code>IntStream.iterate(0, i -&gt; i+1).limit(50000).parallel().forEach((i) -&gt; {\n\n    Matcher mat = p.matcher(s);\n    StringBuffer sb = new StringBuffer();\n\n    while (mat.find()) {\n        String repString = m.get(mat.group(1));\n        if (repString != null) {\n            mat.appendReplacement(sb, repString);\n        }\n    }\n    mat.appendTail(sb);\n});\n</code></pre>\n\n<p>Now, I suppose that your exact problem isn't particularly linked to the fact that code is running sequentially or not (it's unlikely that your real-world application will do this 50000 find/replace exercise on a single string), but this at least leads to other aspects not mentioned in your question (or even not considered at all). Otherwise, it also tells you that if this is something used this intensively, you'd better run it in parallel. In other words, this answers the \"How can I optimize the performance of this\" question...</p>\n\n<p>You'd probably have to compare the results of <em>single executions</em> with as little as possible involvement of other classes to minimize the effect of other factors, but comparing performance across languages will surely remain challenging.</p>\n\n<hr>\n\n<p><strong>An alternative</strong> you could consider is <strong>Groovy's template engine</strong>, which performs better than both (assuming the template is reused - which is very possible to do). This is particularly good in your case, because you wouldn't need to change the placeholders in your template text.</p>\n\n<pre><code>Map&lt;String, String&gt; binding = new HashMap&lt;&gt;();\nbinding.put(\"TO\", \"rcpt\");\nbinding.put(\"MESSAGE_ID\", \"37\");\nbinding.put(\"ID\", \"40\");\nbinding.put(\"UNIQID\", \"cff47534-fe6b-c45a-7058-8301adf1b97\");\nbinding.put(\"XO\", \"abcdef\");\nbinding.put(\"XOR\", \"abcdef\");\n\nString text  = s;\ngroovy.text.SimpleTemplateEngine engine = new groovy.text.SimpleTemplateEngine();\nTemplate template = engine.createTemplate(text);\n    for (int i = 0; i &lt; 50000; i++) {\n        template.make(binding).toString();\n    }\n\n    long timeTaken = System.currentTimeMillis() - start;\n    System.out.println(\"Time taken in ms = \"+ timeTaken);\n}\n</code></pre>\n\n<p>The above Groovy version completes in <strong>3.182 seconds</strong>; while its parallel version (same stream mechanism) completes in <strong>2.313 seconds</strong></p>\n\n<p>You can find out more about groovy templates <a href=\"http://docs.groovy-lang.org/docs/next/html/documentation/template-engines.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 1, "closed_date": 1522422163, "accepted_answer_id": 49572363, "answer_count": 2, "score": -1, "last_activity_date": 1522404510, "creation_date": 1522396188, "question_id": 49570534, "link": "https://stackoverflow.com/questions/49570534/performance-of-regex-in-java-vs-perl-8-times-slower", "closed_reason": "Needs more focus", "title": "Performance of regex in java vs perl. 8 times slower", "body": "<p>I have to rewrite some legacy perl application in java. \nThis app does a lot of text processing. \n   But java regular expressions are almost 6-8 times slower than perl. \nHow can I optimize the performance of this </p>\n\n<p>Java code takes 26s to replace string 50k times \nPerl code takes 4s </p>\n\n<p>For the sake of replicating the scenario I have hosted the string on an online file. In my real use case this string would come from an input queue </p>\n\n<pre><code>import java.io.IOException;\nimport java.io.PrintStream;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\n\npublic class RegexT {\n\n    public static void main(String[] args) throws IOException {\n        //RegexTest r = new RegexTest();\n        Map&lt;String, String&gt; m = new HashMap&lt;&gt;();\n        m.put(\"${ TO }\", \"rcpt\");\n        m.put(\"${ MESSAGE_ID }\", \"37\");\n        m.put(\"${ ID }\", \"40\");\n        m.put(\"${ UNIQID }\", \"cff47534-fe6b-c45a-7058-8301adf1b97\");\n        m.put(\"${ XOR }\", \"abcdef\");\n\n        System.out.println(m);\n\n        String rx = \"(\\\\$\\\\{[^}]+\\\\})\";\n\n        Pattern p = Pattern.compile(rx);\n        String s = readStringFromURL(\"https://raw.githubusercontent.com/ramprasadp/hostedtexfiles/master/msg2.txt\");\n        //        System.out.println(s); System.exit(0);\n\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; 50000; i++) {\n            StringBuffer sb = new StringBuffer();\n            Matcher mat = p.matcher(s);\n\n            while (mat.find()) {\n                String repString = m.get(mat.group(1));\n                if (repString != null) {\n                    mat.appendReplacement(sb, repString);\n                }\n            }\n            mat.appendTail(sb);\n        }\n\n        long timeTaken = System.currentTimeMillis() - start;\n        System.out.println(\"Time taken in ms = \"+ timeTaken);\n\n    }\n\n    public static String readStringFromURL(String requestURL) throws IOException {\n        try (Scanner scanner = new Scanner(new URL(requestURL).openStream(),\n                StandardCharsets.UTF_8.toString())) {\n            scanner.useDelimiter(\"\\\\A\");\n            return scanner.hasNext() ? scanner.next() : \"No file\";\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>And same logic in perl </p>\n\n<pre><code>#!/usr/bin/perl\nuse Time::HiRes qw( gettimeofday tv_interval );\nuse strict;\nmy %data;\n\n$data{'TO'} = \"rcpt\";\n$data{'MESSAGE_ID'} = \"37\";\n$data{'ID'} = \"7\";\n$data{'UNIQID'} = \"cff47534-fe6b-c45a-7058-8301adf1b97\";\n$data{'XOR'} = \"abcdef\";\n\n\n#Get the content\nmy $msg_string = `wget -q -O - http://raw.githubusercontent.com/ramprasadp/hostedtexfiles/master/msg2.txt`;\n\nmy $start = [gettimeofday];\nfor (my $j=0;$j&lt;50000; $j++) {\n    my $tmp_string = $msg_string;\n    $tmp_string =~ s/\\$\\{ ([\\w_]+) \\}/$data{$1}/g;\n}\nprint \"Time taken in ms is \" . 1000 * tv_interval ( $start ).\"\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522400795, "post_id": 49570367, "comment_id": 86150528, "body": "Because <code>EN_US</code> doesn&#39;t exist, it&#39;s treated as <code>C</code>. So either use <code>export $LANG=C</code> to maintain the current behaviour, or fix the misspelling of <code>en_US</code>."}, {"owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "edited": false, "score": 0, "creation_date": 1522406234, "post_id": 49570367, "comment_id": 86153106, "body": "<code>EN_US</code> is an AIX-ish term for <code>en_US.UTF-8</code>. As it is not installed, there is no point in using it."}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 2, "last_activity_date": 1522470811, "creation_date": 1522470811, "answer_id": 49584274, "question_id": 49570367, "link": "https://stackoverflow.com/questions/49570367/perl-disable-setting-locale-failed-warning-to-display-on-screen/49584274#49584274", "title": "perl Disable &quot;Setting locale failed.&quot; warning to display on screen", "body": "<p>You could set the <code>PERL_BADLANG</code> environmental variable to ignore these warnings as documented in <a href=\"https://perldoc.perl.org/perllocale.html#Temporarily-fixing-locale-problems\" rel=\"nofollow noreferrer\">perldoc perllocale #Temporarily Fixing Locale Problems</a></p>\n\n<pre><code>LANG=\"FOO\" perl -X -e 'print \"hello\\n\";'\nperl: warning: Setting locale failed.\nperl: warning: Please check that your locale settings:\n    LANGUAGE = (unset),\n    LC_ALL = (unset),\n    LANG = \"FOO\"\n    are supported and installed on your system.\nperl: warning: Falling back to the standard locale (\"C\").\nhello\n</code></pre>\n\n<p><strong>vs</strong></p>\n\n<pre><code>PERL_BADLANG=0 LANG=\"FOO\" perl -X -e 'print \"hello\\n\";'\nhello\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4598021, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JDhr6yILk_k/AAAAAAAAAAI/AAAAAAAAAAA/6hkksAUP0G8/photo.jpg?sz=128", "display_name": "Arun Patidar", "link": "https://stackoverflow.com/users/4598021/arun-patidar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2293, "favorite_count": 1, "accepted_answer_id": 49584274, "answer_count": 1, "score": 1, "last_activity_date": 1522470811, "creation_date": 1522395440, "last_edit_date": 1522395800, "question_id": 49570367, "link": "https://stackoverflow.com/questions/49570367/perl-disable-setting-locale-failed-warning-to-display-on-screen", "title": "perl Disable &quot;Setting locale failed.&quot; warning to display on screen", "body": "<p>I want to disable locale setting failed warnings to get displayed on the command line.</p>\n\n<p>In system(aix) available locale are\n    C, POSIX, en_US.8859-15, en_US.ISO8859-1, en_US</p>\n\n<p>The language which is set is \"EN_US\"(export $LANG=EN_US), which is not available in the above list.\nBecause of this execution of the below command is throwing warnings.\nif language is set from above list(export $LANG=en_US), it's working fine.</p>\n\n<hr>\n\n<pre><code>#  perl -X -e \"print 'hello'\"\nperl: warning: Setting locale failed.\nperl: warning: Please check that your locale settings:\n        LC_ALL = (unset),\n        LC__FASTMSG = \"true\",\n        LANG = \"EN_US\"\n     are supported and installed on your system.\nperl: warning: Falling back to the standard locale (\"C\")\n</code></pre>\n\n<h2>    hello</h2>\n\n<p>The same command i have kept in perl script and it is throwing the same warnings.\nI have also used the <code>$SIG(__WARN__)</code>, but the above warnings are not getting catch here. But the other warning related to undeclared variable etc are getting catch.\nOne solution is to install the unavailable locale that i'm aware, but looking for to disable this since my code have logic to select other language messages.</p>\n\n<p>So what is the way to disable these warnings on the screen?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1522395304, "post_id": 49566094, "comment_id": 86148351, "body": "<code>local</code> doesn&#39;t create a variables, much less a lexical one. (It backs up variables to be restored later.) And no, conditionally executing <code>local</code>, as odd as it looks, doesn&#39;t cause problems."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522395312, "post_id": 49566094, "comment_id": 86148353, "body": "In reality, the problem is using a lexical var declared with without first executing the declaration. <code>my $x if f();</code> is explicitly called out, but the real trouble is <code>my $x if f(); ... $x ...</code>, and <code>f() and my $x; ... $x ...</code> is just as bad."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1546877234, "post_id": 49566094, "comment_id": 94988991, "body": "Note that <code>my $x if 0</code> works the same as <code>state $x</code>, but that is purely accidental and shouldn&#39;t be relied upon."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1522365961, "post_id": 49566252, "comment_id": 86141144, "body": "using local with postfix if is fairly common; in fact you cannot use local in a regular if statement because the local is undone at the end of the if block."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1522366153, "post_id": 49566252, "comment_id": 86141197, "body": "@ysth Thanks ... but such use is fine only in very specific circumstances, right?  I&#39;d still recommend against that in general. I&#39;ll adjust the (overly-strong) statements, thank you"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1522367212, "post_id": 49566252, "comment_id": 86141464, "body": "yes, a conditional local is pretty specific and rare, but this is the way to do it"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522394805, "post_id": 49566252, "comment_id": 86148142, "body": "<code>local $foo = $bar if $x;</code> is basically an efficient way of writing <code>local $foo = $x ? $bar : $foo;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522395288, "post_id": 49566252, "comment_id": 86148348, "body": "@ikegami It&#39;s a nice capability -- I am just itchy with localizing-or-not a variable. In a tight and clearly segregated segment, sure, but in general it spooks me. It can change things at large scope, given that it is about globals. Just wouldn&#39;t want this page to serve as an ad for that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522395487, "post_id": 49566252, "comment_id": 86148433, "body": "I don&#39;t like the look of it, but <code>local $foo</code> simply pushes an instruction on the stack that causes <code>$foo = $saved_value;</code> to happen on stack unwind. Since it just pushes on the stack, there&#39;s no reason it can&#39;t be done conditionally. Just adding some clarification to previous comments, not recommending any changes to the answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522395676, "post_id": 49566252, "comment_id": 86148506, "body": "Re &quot;<i>Also, since local is a run-time operator the compilation-vs-runtime issues are not involved and a condition can be used. Consider</i>&quot;, It&#39;s <code>my</code>&#39;s run-time effect that causes the problem, so saying that <code>local</code> has no problems because it&#39;s a run-time effect makes no sense."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522400815, "post_id": 49566252, "comment_id": 86150534, "body": "@ikegami I see the problem with <code>my $x=1 if $f</code> to be in that the declaration(compilation)+assignment(runtime) combo gets torn up by a runtime test, so to speak.  I meant to say that since a statement with <code>local</code> is all runtime it&#39;s free of that problem.  But it doesn&#39;t read right, thank you; I&#39;ll edit."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522418190, "post_id": 49566252, "comment_id": 86158905, "body": "@ikegami re: efficient way, so localizing (and implied restoring) happens regardless of <code>if</code> or what? Both your examples retain <code>local</code>."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1522418450, "post_id": 49566252, "comment_id": 86159026, "body": "<code>our</code> does not creates anything either. Why <code>local</code> is different from it?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 1, "creation_date": 1522437983, "post_id": 49566252, "comment_id": 86168379, "body": "@OlegV.Volkov (1) Re: &quot;<i>happens regardless of <code>if</code> or what?</i>&quot; -- no, it doesn&#39;t; whether it happens depends on the <code>if</code> test.  Run the code in my answer: when <code>$flag</code> is false the <code>$var</code> <i>is not</i> localized.   (2) <code>our</code> is indeed a bit different, being global, but it is in many ways &quot;close&quot; to <code>my</code>.  It sure creates something -- you can introduce a variable (name) with it, just like with <code>my</code>. The <code>local</code> works only on the existing ones (under <code>strict</code>), and can be conditioned just fine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 1, "creation_date": 1522570832, "post_id": 49566252, "comment_id": 86199592, "body": "@Oleg V. Volkov, Re &quot;<i><code>our</code> does not creates anything either</i>&quot;, <code>our</code> creates a lexical var just like <code>my</code>. More specifically, <code>our $x;</code> means <code>\\my $x = \\$CURRENT_PACKAGE::x;</code> (with <code>CURRENT_PACKAGE</code> replaced with the actual package name)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1523261272, "post_id": 49566252, "comment_id": 86470165, "body": "@OlegV.Volkov Try this: <code>perl -Mstrict -wE&#39;BEGIN { say &quot;B1&quot; }; our $v; BEGIN { say $v &#47;&#47; &quot;undef&quot;, &quot;, B2&quot; }; say $v=2;</code>.  There is no problem with using <code>$v</code> in the second <code>BEGIN</code>, while if you move <code>our $v</code> declaration after the second block this won&#39;t compile (since <code>$v</code> is an unknown symbol in the second <code>BEGIN</code> block).  This means that <code>our $v;</code> goes at compile time.  <i>[This corrects a sentence in the text in my previous comment, now removed, which referred to my earlier, different, test and mismatched the code]</i>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 15, "last_activity_date": 1568091276, "last_edit_date": 1568091276, "creation_date": 1522364561, "answer_id": 49566252, "question_id": 49566094, "link": "https://stackoverflow.com/questions/49566094/local-and-statement-modifiers-e-g-postfix-if/49566252#49566252", "title": "local and statement modifiers (e.g. postfix if)", "body": "<p>The undefined behavior of using a statement modifier on <code>my</code> &amp; Co., such as</p>\n\n<pre><code>my $x = 1  if $flag;  # UNDEFINED behavior\n</code></pre>\n\n<p>is due to the fact that the <code>my $x</code> declaration happens at compile time while the <code>= 1</code> assignment happens at runtime, as does the test. Thus the statement as a whole is broken (is it supposed to not even assign at all?), and the behavior of this line of code is considered undefined.</p>\n\n<p>However, <code>local</code> is very different. From <a href=\"http://perldoc.perl.org/perlsub.html#Temporary-Values-via-local()\" rel=\"nofollow noreferrer\">perlsub</a> (my emphasis)</p>\n\n<blockquote>\n  <p>A <code>local</code> <strong>modifies</strong> its listed variables to be \"local\" to the enclosing block, <code>eval</code>, or <code>do</code> FILE --and to any subroutine called from within that block. A local just gives temporary values to <strong>global</strong> (meaning package) variables. It <strong>does not create</strong> a local variable. </p>\n</blockquote>\n\n<p>Thus <code>local</code> does something completely different than <code>my</code> or <code>our</code>; it saves the value of its target (global) variable for the rest of the block and restores it on exit from the block. </p>\n\n<p>Also, since <a href=\"http://perldoc.perl.org/perlsub.html#Temporary-Values-via-local()\" rel=\"nofollow noreferrer\"><code>local</code> is a run-time operator</a> there are no compilation-vs-runtime issues of declare + assign, as in <code>my $x = 1</code>, so a postfix condition can be used. Consider</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $flag = shift // 1;\n\nour $var = 1;\n\n{\n    local $var if $flag;\n    $var = 2;\n    say $var;\n}\n\nsay $var;\n</code></pre>\n\n<p>When run with <code>$flag</code> set (<code>script.pl</code>) the <code>local</code>-ization happens and the last print shows that the global <code>our $var</code> has been preserved. With flag unset (<code>script.pl 0</code>) this doesn't happen, the value of the global is not saved away for the block, and ends up overwritten.</p>\n\n<p>With <code>local $var = 2 if $flag;</code> neither the localization nor the assignment happens.</p>\n\n<p>If only the <code>local</code> statement itself is conditioned that must be done in the postfix manner since the effect of <code>local</code> lasts only within the enclosing scope (so <code>if ($f) { local $v }</code> does nothing for the rest of the code).</p>\n\n<p>Doing this may change the code behavior radically, and possibly at a high level, based on a mere value of a single condition; I'd recommend to thread carefully with such code. This short program in particular only shows how a postfix condition <em>can</em> be used.  Thanks to <a href=\"https://stackoverflow.com/users/17389/ysth\">ysth</a>  and <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for comments.</p>\n"}], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1568091276, "creation_date": 1522363449, "question_id": 49566094, "link": "https://stackoverflow.com/questions/49566094/local-and-statement-modifiers-e-g-postfix-if", "title": "local and statement modifiers (e.g. postfix if)", "body": "<p><a href=\"http://perldoc.perl.org/perlsyn.html#Statement-Modifiers\" rel=\"noreferrer\"><code>perlsyn</code>, \"Statement-Modifiers\" section</a> clearly states that</p>\n\n<blockquote>\n  <p>The behaviour of a <code>my</code>, <code>state</code>, or <code>our</code> modified with a statement\n  modifier conditional or loop construct (for example, <code>my $x if ...</code> ) is\n  undefined.</p>\n</blockquote>\n\n<p>Unfortunately this list is missing <code>local</code> and <a href=\"http://perldoc.perl.org/functions/local.html\" rel=\"noreferrer\">its own documentation</a> doesn't cover its behavior either. I assume it is undefined as well and docs are just incomplete in those particular sections.</p>\n\n<p>Is this actually covered in docs anywhere?</p>\n"}, {"tags": ["perl", "text-processing", "text-parsing"], "comments": [{"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "edited": false, "score": 0, "creation_date": 1522358012, "post_id": 49564990, "comment_id": 86138525, "body": "<code>perldoc perlvar</code>, <code>$INPUT|$OUTPUT_RECORD_SEPARATOR</code>, it&#39;s all very well explained there."}, {"owner": {"reputation": 1756, "user_id": 1399816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/i5C9a.jpg?s=128&g=1", "display_name": "MevatlaveKraspek", "link": "https://stackoverflow.com/users/1399816/mevatlavekraspek"}, "reply_to_user": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "edited": false, "score": 0, "creation_date": 1522360001, "post_id": 49564990, "comment_id": 86139312, "body": "There&#39;s no explanation about <code>\\000</code> specific trick. It&#39;s all about my question"}, {"owner": {"reputation": 1756, "user_id": 1399816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/i5C9a.jpg?s=128&g=1", "display_name": "MevatlaveKraspek", "link": "https://stackoverflow.com/users/1399816/mevatlavekraspek"}, "reply_to_user": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "edited": false, "score": 0, "creation_date": 1522361261, "post_id": 49564990, "comment_id": 86139780, "body": "OK, so not <code>perdoc perlvar</code> but <code>perldoc perlrun</code>, as you wrote earlier, anyway, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522362112, "post_id": 49565679, "comment_id": 86140057, "body": "OK, but it&#39;s a bit of a mess, mixing things up. I suggest to (carefully) read the documentation, to clarify this."}, {"owner": {"reputation": 2010, "user_id": 6499160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483ab21be9d3892e9b29047b1b3afb1?s=128&d=identicon&r=PG&f=1", "display_name": "wolfrevokcats", "link": "https://stackoverflow.com/users/6499160/wolfrevokcats"}, "edited": false, "score": 3, "creation_date": 1522363889, "post_id": 49565679, "comment_id": 86140576, "body": "@wam this got mixed up a bit, <code>-00</code> really affects the input record separator, <code>$&#47;</code> while your question is about the output record separator, the relevant part of the doc is  <code>-l[*octnum*]</code>, not <code>-0[..]</code>"}, {"owner": {"reputation": 1756, "user_id": 1399816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/i5C9a.jpg?s=128&g=1", "display_name": "MevatlaveKraspek", "link": "https://stackoverflow.com/users/1399816/mevatlavekraspek"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522403238, "post_id": 49565679, "comment_id": 86151628, "body": "Corrected, thanks @ikegami. If you have other tricks with this octal mode, I will be happy to learn"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1522439947, "post_id": 49565679, "comment_id": 86169209, "body": "Still not sure that this answers your questions as it stands, but now this  is useful"}, {"owner": {"reputation": 1756, "user_id": 1399816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/i5C9a.jpg?s=128&g=1", "display_name": "MevatlaveKraspek", "link": "https://stackoverflow.com/users/1399816/mevatlavekraspek"}, "edited": false, "score": 0, "creation_date": 1522496069, "post_id": 49565679, "comment_id": 86182224, "body": "Modified the question from the post"}, {"owner": {"reputation": 1756, "user_id": 1399816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/i5C9a.jpg?s=128&g=1", "display_name": "MevatlaveKraspek", "link": "https://stackoverflow.com/users/1399816/mevatlavekraspek"}, "edited": false, "score": 0, "creation_date": 1522507995, "post_id": 49565679, "comment_id": 86185756, "body": "If someone knows other interesting tricks like this, feel free to edit or post another answer"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522570485, "post_id": 49565679, "comment_id": 86199510, "body": "There&#39;s at least one more way $/ can be used, but it&#39;s not accessible via the switches. See perlvar."}], "tags": [], "owner": {"reputation": 1756, "user_id": 1399816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/i5C9a.jpg?s=128&g=1", "display_name": "MevatlaveKraspek", "link": "https://stackoverflow.com/users/1399816/mevatlavekraspek"}, "is_accepted": true, "score": 1, "last_activity_date": 1522879285, "last_edit_date": 1522879285, "creation_date": 1522361060, "answer_id": 49565679, "question_id": 49564990, "link": "https://stackoverflow.com/questions/49564990/what-is-the-meaning-of-perl-00-switch-octal-or-hexadecimal-parameter/49565679#49565679", "title": "What is the meaning of perl -00 switch? (octal or hexadecimal parameter)", "body": "<p>OK, for <code>perl -l00e</code>, <code>\\OOO</code> is the <code>null byte</code>, from <code>man ascii</code></p>\n\n<blockquote>\n<pre><code>     Oct   Dec   Hex   Char                        Oct   Dec   Hex   Char\n     \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n     000   0     00    NUL '\\0' (null character)   100   64    40    @\n</code></pre>\n</blockquote>\n\n<p><br>\nSo <code>-l00e</code> set output separator to <code>NULL byte</code>, useful to pipe by example to <code>xargs -0</code></p>\n\n<p><br></p>\n\n<p><em>To go further on a bunch of other 'tricks' :</em></p>\n\n<p><br></p>\n\n<p><code>perldoc perlrun</code></p>\n\n<blockquote>\n  <p>-0[octal/hexadecimal]\n  specifies the input record separator ($/ ) as an octal or hexadecimal number. If there are no digits, the null character is the separator. Other switches may precede or follow the digits. For example, if you have a version of find which can print filenames terminated by the null character, you can say this:</p>\n</blockquote>\n\n<pre><code>find . -name '*.orig' -print0 | perl -n0e unlink\n</code></pre>\n\n<blockquote>\n  <p>The special value 00 will cause Perl to slurp files in paragraph mode. Any value 0400 or above will cause Perl to slurp files whole, but by convention the value 0777 is the one normally used for this purpose.</p>\n  \n  <p>You can also specify the separator character using hexadecimal notation: -0xHHH..., where the H are valid hexadecimal digits. Unlike the octal form, this one may be used to specify any Unicode character, even those beyond 0xFF. So if you really want a record separator of 0777, specify it as -0x1FF. (This means that you cannot use the -x option with a directory name that consists of hexadecimal digits, or else Perl will think you have specified a hex number to -0.)</p>\n</blockquote>\n\n<p><br></p>\n\n<p>Test on all combinations I know are interesting :</p>\n\n<p><br></p>\n\n<pre><code>for i in -l00e -n00e -p00e -n0e -l0e -0ne -0le -p0e -00le -00ne -00pe -0777ne -0777pe -0777le -l0777pe -l0777ne; do\n    echo \"perl $i\"\n    perl -MO=Deparse \"$i\" | head -1 | sed 's|$/|$/ $INPUT_RECORD_SEPARATOR|;s|$\\\\|$\\\\ $OUTPUT_RECORD_SEPARATOR|'\ndone\n</code></pre>\n\n<p><br></p>\n\n<pre><code>perl -l00e\n$/ $INPUT_RECORD_SEPARATOR = \"\\n\"; $\\ $OUTPUT_RECORD_SEPARATOR = \"\\000\"\nperl -n00e\n$/ $INPUT_RECORD_SEPARATOR = \"\"; $\\ $OUTPUT_RECORD_SEPARATOR = undef\nperl -p00e\n$/ $INPUT_RECORD_SEPARATOR = \"\"; $\\ $OUTPUT_RECORD_SEPARATOR = undef\nperl -n0e\n$/ $INPUT_RECORD_SEPARATOR = \"\\000\"; $\\ $OUTPUT_RECORD_SEPARATOR = undef\nperl -l0e\n$/ $INPUT_RECORD_SEPARATOR = \"\\n\"; $\\ $OUTPUT_RECORD_SEPARATOR = \"\\000\"\nperl -0ne\n$/ $INPUT_RECORD_SEPARATOR = \"\\000\"; $\\ $OUTPUT_RECORD_SEPARATOR = undef\nperl -0le\n$/ $INPUT_RECORD_SEPARATOR = \"\\000\"; $\\ $OUTPUT_RECORD_SEPARATOR = \"\\000\"\nperl -p0e\n$/ $INPUT_RECORD_SEPARATOR = \"\\000\"; $\\ $OUTPUT_RECORD_SEPARATOR = undef\nperl -00le\n$/ $INPUT_RECORD_SEPARATOR = \"\"; $\\ $OUTPUT_RECORD_SEPARATOR = \"\\n\\n\"\nperl -00ne\n$/ $INPUT_RECORD_SEPARATOR = \"\"; $\\ $OUTPUT_RECORD_SEPARATOR = undef\nperl -00pe\n$/ $INPUT_RECORD_SEPARATOR = \"\"; $\\ $OUTPUT_RECORD_SEPARATOR = undef\nperl -0777ne\n$/ $INPUT_RECORD_SEPARATOR = undef; $\\ $OUTPUT_RECORD_SEPARATOR = undef\nperl -0777pe\n$/ $INPUT_RECORD_SEPARATOR = undef; $\\ $OUTPUT_RECORD_SEPARATOR = undef\nperl -0777le\n$/ $INPUT_RECORD_SEPARATOR = undef; $\\ $OUTPUT_RECORD_SEPARATOR = \"\"\nperl -l0777pe\n$/ $INPUT_RECORD_SEPARATOR = \"\\n\"; $\\ $OUTPUT_RECORD_SEPARATOR = \"\\377\"\nperl -l0777ne\n$/ $INPUT_RECORD_SEPARATOR = \"\\n\"; $\\ $OUTPUT_RECORD_SEPARATOR = \"\\377\"\n</code></pre>\n"}], "owner": {"reputation": 1756, "user_id": 1399816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/i5C9a.jpg?s=128&g=1", "display_name": "MevatlaveKraspek", "link": "https://stackoverflow.com/users/1399816/mevatlavekraspek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 1, "accepted_answer_id": 49565679, "answer_count": 1, "score": 0, "last_activity_date": 1522879285, "creation_date": 1522357429, "last_edit_date": 1522496159, "question_id": 49564990, "link": "https://stackoverflow.com/questions/49564990/what-is-the-meaning-of-perl-00-switch-octal-or-hexadecimal-parameter", "title": "What is the meaning of perl -00 switch? (octal or hexadecimal parameter)", "body": "<p>By example, I know that </p>\n\n<pre><code>perl -l00e \n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>$/ = \"\\n\"; $\\ = \"\\000\"; \n</code></pre>\n\n<p>it set both <code>$INPUT</code> &amp; <code>$OUTPUT_RECORD_SEPARATOR</code>.</p>\n\n<p><br></p>\n\n<p>What are other 'tricks' with this switch ?</p>\n"}, {"tags": ["perl", "iis-7.5", "windows-server-2008-r2"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1522351710, "post_id": 49562672, "comment_id": 86135505, "body": "Then you have to stick to the legacy platform (Apache for example). The vendor explicitly states that PerlEx is not supported, <a href=\"https://community.activestate.com/node/19747\" rel=\"nofollow noreferrer\">community.activestate.com/node/19747</a> All efforts you spent would be in vain."}, {"owner": {"reputation": 383, "user_id": 1743676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7YsLB.jpg?s=128&g=1", "display_name": "haliphax", "link": "https://stackoverflow.com/users/1743676/haliphax"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1522428453, "post_id": 49562672, "comment_id": 86163908, "body": "They send mixed messages, since they also have this blog post specifically about IIS 7.0 and 7.5: <a href=\"https://www.activestate.com/blog/2010/06/setting-iis-activeperl\" rel=\"nofollow noreferrer\">activestate.com/blog/2010/06/setting-iis-activeperl</a>"}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1522428859, "post_id": 49562672, "comment_id": 86164113, "body": "2010 and 2016. Which is more up-to-date then?"}, {"owner": {"reputation": 383, "user_id": 1743676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7YsLB.jpg?s=128&g=1", "display_name": "haliphax", "link": "https://stackoverflow.com/users/1743676/haliphax"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1522429627, "post_id": 49562672, "comment_id": 86164461, "body": "Gee, I don&#39;t know. I can&#39;t do simple math.  At any rate, it turns out that I needed ASP to run PerlScript, not PerlEx. I got it working."}], "answers": [{"tags": [], "owner": {"reputation": 383, "user_id": 1743676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7YsLB.jpg?s=128&g=1", "display_name": "haliphax", "link": "https://stackoverflow.com/users/1743676/haliphax"}, "is_accepted": false, "score": 0, "last_activity_date": 1522429711, "creation_date": 1522429711, "answer_id": 49578474, "question_id": 49562672, "link": "https://stackoverflow.com/questions/49562672/perlex-install-on-iis-7-5-crashes-w3wp-exe/49578474#49578474", "title": "PerlEx install on IIS 7.5 crashes w3wp.exe", "body": "<p>Well, never mind. Turns out I needed to add the ASP feature and set the default language to be PerlScript in order for this to operate properly. Then, I use <code>&lt;% $Response-&gt;Write(\"Hello, world!\") %&gt;</code> instead of <code>&lt;% echo \"Hello, world!\" %&gt;</code> to do what I need.</p>\n"}], "owner": {"reputation": 383, "user_id": 1743676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7YsLB.jpg?s=128&g=1", "display_name": "haliphax", "link": "https://stackoverflow.com/users/1743676/haliphax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522429711, "creation_date": 1522347461, "question_id": 49562672, "link": "https://stackoverflow.com/questions/49562672/perlex-install-on-iis-7-5-crashes-w3wp-exe", "title": "PerlEx install on IIS 7.5 crashes w3wp.exe", "body": "<p>I need to migrate an ActivePerl PerlEx web application from Apache to IIS. I'm starting with baby steps. I installed ActivePerl 32-bit, and I've added the necessary module mapping for linking *.asp (don't ask me why the original dev chose this, he just did) to the PerlEx30.dll module. I've tried using the out-of-the-box BAT file and manually adding the configuration, but neither seems to work.</p>\n\n<p>I have a test.asp file that is just \"Hello, world!\". No code, just that text. When I go to visit the page, w3wp.exe has an APPCRASH fit. It says the faulting module is Perl522.dll.</p>\n\n<p>I did manage to get Perl ISAPI (where you essentially just execute Perl code; no fancy <code>&lt;% %&gt;</code> blocks) to work, but PerlEx is giving me a rather hard time.</p>\n\n<p>My application pool is set for 32-bit, and the application pool identity has all the access it needs to the <code>c:\\perl</code> directory on the server.</p>\n\n<p>Has anyone else run into this? What did you do to resolve it? The server is Windows Server 2008 R2, and it's IIS 7.5.</p>\n\n<p>For what it's worth, I've also tried stuff like <code>&lt;% echo \"Hello, world!\" %&gt;</code> to no avail; still crashes.</p>\n"}, {"tags": ["perl", "module", "tcsh"], "comments": [{"owner": {"reputation": 1, "user_id": 9571197, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6M8rZQYYVSA/AAAAAAAAAAI/AAAAAAAABnE/22V6EmnkBNU/photo.jpg?sz=128", "display_name": "Kush Gupta", "link": "https://stackoverflow.com/users/9571197/kush-gupta"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1522347405, "post_id": 49562274, "comment_id": 86133351, "body": "Thanks! That worked! But I have a question. setenv allows a subshell to access the defined variable. So does that mean appending the $PERL5LIB variable to @INC is done as a perl command which is why setenv would work and set doesn&#39;t? The variable PERL5LIB needs to be passed to the Perl subshell."}], "answers": [{"tags": [], "owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "is_accepted": false, "score": 1, "last_activity_date": 1522453197, "creation_date": 1522453197, "answer_id": 49582761, "question_id": 49562274, "link": "https://stackoverflow.com/questions/49562274/inc-not-reading-perl5lib/49582761#49582761", "title": "@INC not reading $PERL5LIB", "body": "<p>perl -V</p>\n\n<p>Capital \"-V\" would look like your friend here documented in <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun</a>.</p>\n\n<p>Its trailing lines include useful parts of %ENV and @INC.</p>\n\n<pre><code>...\nBuilt under linux\nCompiled at Mar  1 2016 17:15:04\n%ENV:\n  PERL5LIB=\"/home/ron/lib\"\n  PERLBREW_BASHRC_VERSION=\"0.78\"\n  PERLBREW_HOME=\"/home/ron/.perlbrew\"\n  ... (more environment variables)\n@INC:\n  /home/ron/lib\n  /etc/perl\n  /usr/local/lib/perl/5.18.2\n  /usr/local/share/perl/5.18.2\n  ... (more @INC paths)\n  /usr/local/lib/site_perl\n  .\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9571197, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6M8rZQYYVSA/AAAAAAAAAAI/AAAAAAAABnE/22V6EmnkBNU/photo.jpg?sz=128", "display_name": "Kush Gupta", "link": "https://stackoverflow.com/users/9571197/kush-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1240, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1584700600, "creation_date": 1522345663, "last_edit_date": 1522347515, "question_id": 49562274, "link": "https://stackoverflow.com/questions/49562274/inc-not-reading-perl5lib", "title": "@INC not reading $PERL5LIB", "body": "<p>I am trying to add a directory to my @INC array using <code>$PERL5LIB</code>. I am using tcsh shell and added the following command to my .cshrc script</p>\n\n<pre><code>set PERL5LIB = /home/user/perl5/lib/perl5\n</code></pre>\n\n<p>This seems to be working until the point that <code>$echo $PERL5LIB</code> shows the path added to <code>$PERL5LIB</code> variable. But running the script still gives me the same error:</p>\n\n<pre><code>Can't locate Spreadsheet/ParseExcel.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at regs_gen.pl line 55. BEGIN failed--compilation aborted at regs_gen.pl line 55.\n</code></pre>\n\n<p>Apparently <code>$PERL5LIB</code> is not appended to the @INC array. I have been able to run my script using the -I command line argument with Perl as follows but I am looking for a more convenient solution. </p>\n\n<pre><code>perl -I /home/user/perl5/lib/perl5 scriptname.pl\n</code></pre>\n\n<p>Any help appreciated!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1522330428, "post_id": 49557430, "comment_id": 86122428, "body": "How many different column names do you have to replace?"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1522330816, "post_id": 49557430, "comment_id": 86122732, "body": "perl 5 or perl 6?"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1522330918, "post_id": 49557430, "comment_id": 86122817, "body": "<a href=\"https://regex101.com/r/svfUie/1\" rel=\"nofollow noreferrer\">You may use this regex: <code>(?:N&#39;|(?!\\A)\\G)[A-Z][a-z]*</code></a>"}, {"owner": {"reputation": 23, "user_id": 8740722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356fb483b3106b7e503601bed799e05f?s=128&d=identicon&r=PG", "display_name": "Bob Z", "link": "https://stackoverflow.com/users/8740722/bob-z"}, "edited": false, "score": 0, "creation_date": 1522337684, "post_id": 49557430, "comment_id": 86127842, "body": "Actually the regex pattern is being used in UltraEdit find/replace function (Perl syntax). Just this one column, but other records have other names like &#39;CountryOfDestination&#39; etc."}], "answers": [{"comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1522333099, "post_id": 49557554, "comment_id": 86124596, "body": "Added perl version"}, {"owner": {"reputation": 23, "user_id": 8740722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356fb483b3106b7e503601bed799e05f?s=128&d=identicon&r=PG", "display_name": "Bob Z", "link": "https://stackoverflow.com/users/8740722/bob-z"}, "edited": false, "score": 1, "creation_date": 1522338445, "post_id": 49557554, "comment_id": 86128331, "body": "Thanks, but since I was devising a 1-liner regex, this doesn&#39;t quite fit the bill. Will retain for future use."}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1522334146, "last_edit_date": 1522334146, "creation_date": 1522330638, "answer_id": 49557554, "question_id": 49557430, "link": "https://stackoverflow.com/questions/49557430/regex-replace-all-uppercase-in-a-matched-group-with-a-prefix/49557554#49557554", "title": "Regex : Replace All Uppercase in a Matched Group with a prefix", "body": "<p>Perl's <a href=\"/questions/tagged/join\" class=\"post-tag\" title=\"show questions tagged &#39;join&#39;\" rel=\"tag\">join</a> way for better readability/maintainability :</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict; use warnings;\n\nsub f {\n    $_ = shift;\n    return join \" \", split /([A-Z]+[a-z]+)/;\n}\n\nwhile (&lt;&gt;) {\n    s|(?&lt;=N')([^']+)|f($1)|e;\n    print;\n}\n</code></pre>\n\n<p>Or in a shell :</p>\n\n<pre><code>$ echo \".... ,'DateOfBirth' , N'DateOfBirth')\" | perl -pe '\n    BEGIN{\n        sub f {\n            $_ = shift;\n            return join \" \", split /([A-Z]+[a-z]+)/;\n        }\n    }\n    s|(?&lt;=N\\047)([^\\047]+)|f($1)|e\n'\n</code></pre>\n\n<h2>Output :</h2>\n\n<pre><code>.... ,'DateOfBirth' ,  N'Date  Of  Birth')\n</code></pre>\n\n<h2>Note :</h2>\n\n<ul>\n<li><code>(?&lt;=N')</code> is a <a href=\"http://perlmonks.org/?node_id=518444\" rel=\"nofollow noreferrer\">look around assertion</a></li>\n<li>to do the trick, I run <code>f()</code> function in the substitution, permited by  the <code>e</code> modifier</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8740722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356fb483b3106b7e503601bed799e05f?s=128&d=identicon&r=PG", "display_name": "Bob Z", "link": "https://stackoverflow.com/users/8740722/bob-z"}, "edited": false, "score": 1, "creation_date": 1522338223, "post_id": 49558236, "comment_id": 86128176, "body": "Thanks, but this pattern catches both &#39;DatOfBirth&#39;, so a no go for me."}], "tags": [], "owner": {"reputation": 103, "user_id": 3446261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70f874f45f5c82c3363362606949d60?s=128&d=identicon&r=PG&f=1", "display_name": "nnamdi", "link": "https://stackoverflow.com/users/3446261/nnamdi"}, "is_accepted": false, "score": 0, "last_activity_date": 1522332412, "creation_date": 1522332412, "answer_id": 49558236, "question_id": 49557430, "link": "https://stackoverflow.com/questions/49557430/regex-replace-all-uppercase-in-a-matched-group-with-a-prefix/49558236#49558236", "title": "Regex : Replace All Uppercase in a Matched Group with a prefix", "body": "<p><code>(?:(?:\\sN')?([A-Z][a-z]*)|(?:\\1))(\\1)*</code> matches <code>'Date'</code> <code>'Of'</code> and <code>'Birth'</code></p>\n"}, {"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1522332758, "creation_date": 1522332758, "answer_id": 49558352, "question_id": 49557430, "link": "https://stackoverflow.com/questions/49557430/regex-replace-all-uppercase-in-a-matched-group-with-a-prefix/49558352#49558352", "title": "Regex : Replace All Uppercase in a Matched Group with a prefix", "body": "<p>You may use this regex for searching:</p>\n\n<pre><code>/(?:N'|(?!\\A)\\G)[A-Z][a-z]*/g\n</code></pre>\n\n<p>and replace this with:</p>\n\n<pre><code>\"$0 \"\n</code></pre>\n\n<p><code>\\G</code> asserts position at the end of the previous match or the start of the string for the first match. In this case we first find <code>N'</code> followed by an uppercase letter followed by 0 or more lowercase letters. Then insert a space at that place. Then using <code>\\G</code> we find next match from end of previous match. </p>\n\n<p><code>(?!\\A)</code> is negative lookahead to make sure we don't match start of line.</p>\n\n<p><a href=\"https://regex101.com/r/svfUie/1/\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 8740722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356fb483b3106b7e503601bed799e05f?s=128&d=identicon&r=PG", "display_name": "Bob Z", "link": "https://stackoverflow.com/users/8740722/bob-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1522344402, "last_edit_date": 1522344402, "creation_date": 1522341532, "answer_id": 49561152, "question_id": 49557430, "link": "https://stackoverflow.com/questions/49557430/regex-replace-all-uppercase-in-a-matched-group-with-a-prefix/49561152#49561152", "title": "Regex : Replace All Uppercase in a Matched Group with a prefix", "body": "<p>Working Solution devised from answers provided, for UltraEdit Find/Replace (Boost C++ Perl 5.8 Regex Syntax):</p>\n\n<pre><code>Find Pattern:   \n(N'[A-Z][a-z]+|\\G)([a-z]+)([A-Z]+)\n\nReplace Pattern:\n\\1\\2 \\3\n\\1 is (N'[A-Z][a-z]+|\\G)\n\\2 is ([a-z]+)\n\\3 is ([A-Z]+)\n\nInput:\n.... ,'DateOfBirth' , N'DateOfBirth')\n\nOutput:\n.... ,'DateOfBirth' , N'Date Of Birth')\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8740722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356fb483b3106b7e503601bed799e05f?s=128&d=identicon&r=PG", "display_name": "Bob Z", "link": "https://stackoverflow.com/users/8740722/bob-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 49558352, "answer_count": 4, "score": 1, "last_activity_date": 1522344402, "creation_date": 1522330293, "last_edit_date": 1522338705, "question_id": 49557430, "link": "https://stackoverflow.com/questions/49557430/regex-replace-all-uppercase-in-a-matched-group-with-a-prefix", "title": "Regex : Replace All Uppercase in a Matched Group with a prefix", "body": "<p>Assuming an SQL INSERT line for a database record:</p>\n\n<pre><code>.... ,'DateOfBirth' , N'DateOfBirth')\n</code></pre>\n\n<p><strong>How can I replace it to become the following, in a single Perl REGEX expression ?</strong></p>\n\n<pre><code>.... ,'DateOfBirth' , N'Date Of Birth')\n</code></pre>\n\n<p>The intention is to leave the first column untouched, while adding spaces to the second Description column.</p>\n\n<p>The following are my findings:</p>\n\n<pre><code>Pattern: (, N'.+)([a-z])([A-Z])(.+)\nReturns: ,'DateOfBirth' , N'DateOf Birth')  -- \"DateOf\" missed by the pattern.\n\nPattern: \"[A-Z]\" to replacement \" \\1\" -- Gets the job done, but all Uppercase occurence impacted.\nReturns: ,'Date Of Birth' , N'Date Of Birth')\n</code></pre>\n"}, {"tags": ["perl", "loops", "nested"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1522325874, "post_id": 49555815, "comment_id": 86118994, "body": "<i>Always</i> <code>use strict; use warnings;</code>!"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1522326147, "post_id": 49555815, "comment_id": 86119200, "body": "You&#39;re using for loops in a funny way: You iterate the elements but use \u2018homegrown\u2019 indices to access them. Is there a reason for that?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522326252, "post_id": 49555815, "comment_id": 86119287, "body": "Have a read of <a href=\"https://perldoc.perl.org/perlintro.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlintro.html</a> and learn about Hashes.  Whenever you think set membership, uniqueness, counting, etc. think hash.  It is a simple task in perl to use a hash, but I recommend you learn about it and implement the solution yourself."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1522326387, "post_id": 49555815, "comment_id": 86119379, "body": "Another thing is if you see yourself wanting to use <code>$i</code> and <code>$j</code> in your code and incrementing...that is a c style and is prone to bugs in edge cases.  A more perlish way would be to iterate over the list items themselves, as in <code>for my $book ( @library ) { print &quot;Go read $book\\n&quot;; }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1522329839, "last_edit_date": 1522329839, "creation_date": 1522328721, "answer_id": 49556855, "question_id": 49555815, "link": "https://stackoverflow.com/questions/49555815/nested-loops-list-got-no-value/49556855#49556855", "title": "Nested loops, list got no value", "body": "<p>Backwards.</p>\n\n<pre><code>$list1[$i] =~ /$list2[$j]/\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>$list2[$j] =~ /$list1[$i]/\n</code></pre>\n\n<p>Better yet, we could remove the assumption that the inputs will only be ASCII digits by using</p>\n\n<pre><code>$list2[$j] =~ /\\Q$list1[$i]\\E/\n</code></pre>\n\n<p>Cleaned up:</p>\n\n<pre><code>for my $item1 (@items1) {\n   for my $item2 (@items2) {\n      if ($item2 =~ /\\Q$item1\\E/) {\n         say $item1;\n         last;\n      }\n   }\n}\n</code></pre>\n\n<p>Starting a regex match is relatively expensive, so the following can save time:</p>\n\n<pre><code>my $items2 = join \"\\0\", @items2;  # Assumes NUL will never be any element of @items1.\nfor my $item1 (@items1) {\n   say $item1 if $items2 =~ /\\Q$item1\\E/;\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9433460, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8bb4869797b3c1c0823720661b0499ca?s=128&d=identicon&r=PG&f=1", "display_name": "steba", "link": "https://stackoverflow.com/users/9433460/steba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1522494915, "creation_date": 1522325769, "last_edit_date": 1522494915, "question_id": 49555815, "link": "https://stackoverflow.com/questions/49555815/nested-loops-list-got-no-value", "title": "Nested loops, list got no value", "body": "<p>I'm trying to implement a solution where the all the elements one by one of <code>list1</code> are compared against all elements of <code>list2</code>.</p>\n\n<p>Elements of list 1:</p>\n\n<pre><code>3155\n3122\n3188\n</code></pre>\n\n<p>Elements of list 2:</p>\n\n<pre><code>3155785\n458999\n742199\n315520\n31550638\n4289965\n31221478\n1478596\n3122145\n31889963\n31889801\n</code></pre>\n\n<p>If an element in <strong><em>list 1</em></strong> matches an element in <strong><em>list 2</em></strong></p>\n\n<p>E.g. <code>3155</code> to <code>3155785</code> or to <code>315520</code>, the element of <strong><em>list 1</em></strong> is printed into STDOUT.</p>\n\n<pre><code>$i=0;\n$j=0;\nforeach(@list1)\n{\n foreach(@list2)\n {\n    if($list1[$i]=~/$list2[$j]/)\n    {\n        print $list1[$i];\n        last;\n    }\n\n    $j++;\n }\n\n$i++;\n}\n</code></pre>\n\n<p>Nothing is printed into <code>STDOUT</code></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1522311626, "post_id": 49549028, "comment_id": 86109430, "body": "Sure. <code>.*</code> will do that. You have to be much more careful about specifying what must be matched <i>and what must not</i>. You should also remember that programming is not a job that is best done by asking on the internet for it to be done for you for free. You should always make your own best effort and ask for help with it if you are still struggling after a few hours. Requests for solutions will not usually be answered on <i>Stack Overflow</i> unless you are lucky and get someone who is thirsty for reputation points, and such people do not often write great answers."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1522327417, "post_id": 49549028, "comment_id": 86120228, "body": "<code>[0-9_]*[a-zA-Z][a-zA-Z0-9_]*</code> (e.g. <code>&#47;^[0-9_]*[a-zA-Z][a-zA-Z0-9_]*\\z&#47;</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "edited": false, "score": 0, "creation_date": 1522322953, "post_id": 49549113, "comment_id": 86117012, "body": "Thanks. Your Expression works. But ([a-zA-Z])[A-Za-z_0-9]+ this alone did the job for me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "edited": false, "score": 0, "creation_date": 1522326803, "post_id": 49549113, "comment_id": 86119738, "body": "@Raveen Kumar, <code>[a-zA-Z][A-Za-z_0-9]</code> will match <code>!a</code> and <code>a!</code>, which shouldn&#39;t match according to your question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "edited": false, "score": 0, "creation_date": 1522326869, "post_id": 49549113, "comment_id": 86119785, "body": "@Raveen Kumar, <code>^[a-zA-Z][A-Za-z_0-9]\\z</code> won&#39;t match <code>1a</code>, which should match according to your question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1522326899, "post_id": 49549113, "comment_id": 86119810, "body": "@Rizwan M.Tuman, <code>$</code> should be <code>\\z</code>. Your pattern matches the string produced by <code>&quot;abc\\n&quot;</code>."}], "tags": [], "owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "is_accepted": true, "score": -1, "last_activity_date": 1522303765, "creation_date": 1522303765, "answer_id": 49549113, "question_id": 49549028, "link": "https://stackoverflow.com/questions/49549028/looking-for-a-perl-regular-expression-that-matches-the-following-pattern/49549113#49549113", "title": "Looking for a Perl Regular Expression that matches the following pattern", "body": "<p>You can try this:</p>\n\n<pre><code>^(?=.*[a-zA-Z])[A-Za-z_0-9]+$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/b4JChY/4\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "edited": false, "score": 0, "creation_date": 1522305933, "post_id": 49549407, "comment_id": 86106404, "body": "Yes. But it should not match with a number. Only Characters with numbers or characters alone. Along with underscores."}, {"owner": {"reputation": 1212, "user_id": 8174644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J8ObJ.jpg?s=128&g=1", "display_name": "Thm Lee", "link": "https://stackoverflow.com/users/8174644/thm-lee"}, "reply_to_user": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "edited": false, "score": 0, "creation_date": 1522307861, "post_id": 49549407, "comment_id": 86107360, "body": "If you want to exclude the words which contain only numbers and underscores _, then try this.  (?![_\\d]+\\b)\\w+  . I edited above answer for your additional option."}], "tags": [], "owner": {"reputation": 1212, "user_id": 8174644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J8ObJ.jpg?s=128&g=1", "display_name": "Thm Lee", "link": "https://stackoverflow.com/users/8174644/thm-lee"}, "is_accepted": false, "score": -1, "last_activity_date": 1522309200, "last_edit_date": 1522309200, "creation_date": 1522305010, "answer_id": 49549407, "question_id": 49549028, "link": "https://stackoverflow.com/questions/49549028/looking-for-a-perl-regular-expression-that-matches-the-following-pattern/49549407#49549407", "title": "Looking for a Perl Regular Expression that matches the following pattern", "body": "<p><strong>Edited</strong></p>\n\n<p>If you want to exclude the words which contains only numbers and underscores _ , then try this.</p>\n\n<pre><code>(?![_\\d]+\\b)\\w+\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/LCxVPB/31\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<ul>\n<li>(?![_\\d]+\\b) : means to exclude words which is composed of numbers and underscores only.</li>\n</ul>\n"}], "owner": {"reputation": 61, "user_id": 7914647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb99ff357700a1e1be34afc5d9daa5c1?s=128&d=identicon&r=PG&f=1", "display_name": "Raveen Kumar", "link": "https://stackoverflow.com/users/7914647/raveen-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 1, "closed_date": 1522309580, "accepted_answer_id": 49549113, "answer_count": 2, "score": -4, "last_activity_date": 1522309200, "creation_date": 1522303346, "question_id": 49549028, "link": "https://stackoverflow.com/questions/49549028/looking-for-a-perl-regular-expression-that-matches-the-following-pattern", "closed_reason": "Not suitable for this site", "title": "Looking for a Perl Regular Expression that matches the following pattern", "body": "<p><strong>aa_bb_cc_dd_...</strong> (characters with underscores, one or more )</p>\n\n<p>(or)</p>\n\n<p><strong>a1_11_1c_1...</strong> (alphanumeric characters with underscores, one or more)</p>\n\n<p>(or) </p>\n\n<p><strong>aaa...</strong> (just characters, one or more)</p>\n"}, {"tags": ["perl", "scrape"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1522316787, "post_id": 49546618, "comment_id": 86112858, "body": "I&#39;d say the part where you are trying to parse HTML with regex is not the best idea."}], "answers": [{"tags": [], "owner": {"reputation": 1973, "user_id": 1716999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/06a58106c9a1013f1ca791c46579d664?s=128&d=identicon&r=PG", "display_name": "rubystallion", "link": "https://stackoverflow.com/users/1716999/rubystallion"}, "is_accepted": true, "score": 2, "last_activity_date": 1522288105, "last_edit_date": 1592644375, "creation_date": 1522288105, "answer_id": 49546788, "question_id": 49546618, "link": "https://stackoverflow.com/questions/49546618/whats-wrong-with-my-if-statement-and-lwpsimple/49546788#49546788", "title": "What&#39;s wrong with my IF statement and LWP::Simple?", "body": "<p>From the LWP::Simple documentation:</p>\n<blockquote>\n<p>my $code = getstore($url, $file)</p>\n<p>Gets a document identified by a URL and stores it in the file. The\nreturn value is the HTTP response code.</p>\n</blockquote>\n<p>Your first parameter is a stripped HTML file and likely not a URL. You could use a debugger or print statements in your code to understand more about the contents of your variables and about whether your program goes into an if block.</p>\n"}, {"tags": [], "owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "is_accepted": false, "score": 0, "last_activity_date": 1522309266, "creation_date": 1522309266, "answer_id": 49550529, "question_id": 49546618, "link": "https://stackoverflow.com/questions/49546618/whats-wrong-with-my-if-statement-and-lwpsimple/49550529#49550529", "title": "What&#39;s wrong with my IF statement and LWP::Simple?", "body": "<p><code>getstore</code> takes an URL as a parameter and stores it into a file. What you want to do is to just store content in a file, so use this instead</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse LWP::Simple;\nuse Path::Tiny;\n\nmy $url = shift || \"https://perl.org\";\nmy $content = get($url) or die \"Couldn't get $url\" ;\n\nif ($content =~ s%&lt;(style|script)[^&lt;&gt;]*&gt;.*?&lt;/\\1&gt;|&lt;/?[a-z][a-z0-9]*[^&lt;&gt;]*&gt;|&lt;!--.*?--&gt;%%g) {\n  my $crawled_text = path(\"../crawled_text.txt\");\n  $crawled_text-&gt;spew_utf8($content)\n}\n</code></pre>\n\n<p>I have made also some small style changes and <code>Path::Tiny</code> to save content to a file. You can use the default <code>open</code> and <code>print</code> (or <code>say</code>) if you prefer to do so. Using <code>shift</code> allows also to take the URL as an argument from the command line, which is more idiomatic than prompting the user for it. </p>\n"}], "owner": {"reputation": 17, "user_id": 9567055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822ba5fcb976c34a5b7454dda1a87345?s=128&d=identicon&r=PG&f=1", "display_name": "MrNedas", "link": "https://stackoverflow.com/users/9567055/mrnedas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 49546788, "answer_count": 2, "score": 0, "last_activity_date": 1522309266, "creation_date": 1522286589, "question_id": 49546618, "link": "https://stackoverflow.com/questions/49546618/whats-wrong-with-my-if-statement-and-lwpsimple", "title": "What&#39;s wrong with my IF statement and LWP::Simple?", "body": "<p>I am trying to create a simple scraper, and I am using getstore(), but the scirpt won't create the .txt file when used within an IF statement. What am I doing wrong there?</p>\n\n<p>Thanks,</p>\n\n<p>Carlos N.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse LWP::Simple;\n\nmy $url;\nmy $content;\n\nprint \"Enter URL:\";\n\nchomp($url = &lt;STDIN&gt;);\n\n$content = get($url);\n\n\nif ($content =~ s%&lt;(style|script)[^&lt;&gt;]*&gt;.*?&lt;/\\1&gt;|&lt;/?[a-z][a-z0-9]*[^&lt;&gt;]*&gt;|&lt;!--.*?--&gt;%%g) {\n\n    $content = getstore($content,\"../crawled_text.txt\");\n}   \n\n\ndie \"Couldn't get $url\" unless defined $content;\n</code></pre>\n"}]