[{"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437054235, "post_id": 31441747, "comment_id": 50878868, "body": "That is horrible Perl"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437076671, "post_id": 31441842, "comment_id": 50893176, "body": "<i>&quot;It&#39;s impossible for it to return nothing in scalar context&quot;</i> That&#39;s getting a bit meta. It&#39;s impossible for any subroutine to return without defining a return stack. If by <i>nothing</i> you mean <code>undef</code>, an empty list, or any <i>false</i> value then yea, it&#39;s possible, but the context is irrelevant unless you define your <i>nothing</i> so that it is"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437076725, "post_id": 31441842, "comment_id": 50893204, "body": "@Borodin, In general, subs return zero or more scalars. In scalar context, they must always return a scalar."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437076782, "post_id": 31441842, "comment_id": 50893241, "body": "Or, in list context, a list"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437076907, "post_id": 31441842, "comment_id": 50893318, "body": "I mean that it seems you&#39;ve decided that your <i>nothing</i> is an empty list, ergo it can&#39;t be returned in scalar context. The OP is free to define his <i>nothing</i> as <code>undef</code>. I&#39;m just saying your first sentence doesn&#39;t mean much"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437077559, "post_id": 31441842, "comment_id": 50893629, "body": "@Borodin, Returning a variable is not returning nothing. You must return a scalar in scalar context. It&#39;s impossible to do otherwise (except from broken XS code, which results in crashes). He can define <code>undef</code> to mean &quot;no rates&quot;, but that&#39;s irrelevant; he still returned an undefined scalar."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437077904, "post_id": 31441842, "comment_id": 50893811, "body": "You&#39;re missing my point. Perl doesn&#39;t define <i>nothing</i>, so you can&#39;t say that a subroutine can&#39;t return it. And <code>undef</code> isn&#39;t a variable!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1437078702, "post_id": 31441842, "comment_id": 50894248, "body": "@Borodin, Yes, I can. If you have to return one of something, you can&#39;t return nothing. As you said, it returns &quot;either an array reference or a false value&quot;."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1437079115, "last_edit_date": 1437079115, "creation_date": 1436997304, "answer_id": 31441842, "question_id": 31441747, "link": "https://stackoverflow.com/questions/31441747/trying-to-understand-difficult-perl-syntax-array-and-empty-square-braces/31441842#31441842", "title": "Trying to understand difficult Perl syntax: array and empty square braces", "body": "<blockquote>\n  <p><em>so it is not selected unless <code>$avl-&gt;Rates()</code> returns nothing</em></p>\n</blockquote>\n\n<p>It's impossible for it to return nothing in scalar context. Presumably, it returns either a reference to an array or undef. <code>unless (@{ $avl-&gt;Rates })</code> would fail in the latter case, so the coder decided to use a reference to an empty array in that case.</p>\n\n<pre><code>[]\n</code></pre>\n\n<p>is roughly equivalent to</p>\n\n<pre><code># Create an array, and return a reference to it.\ndo { my @anon; \\@anon }\n</code></pre>\n\n<p>It's a little wasteful, but</p>\n\n<pre><code>if (!@{ $avl-&gt;Rates() || [] }) {\n   ...\n}\n</code></pre>\n\n<p>is commonly used since it's shorter than</p>\n\n<pre><code>my $rates = $avl-&gt;Rates();\nif (!$rates || !@$rates) {\n   ...\n}\n</code></pre>\n\n<hr>\n\n<p>The following is clearer, and avoids calling <code>Rates</code> when it's not needed:</p>\n\n<pre><code>if (!$nobar &amp;&amp; !@rptmp) {\n   my $rates = $avl-&gt;Rates;\n   push @rptmp, 'BAR'\n      if !$rates || !@$rates;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3067, "user_id": 1255551, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/W8aYa.jpg?s=128&g=1", "display_name": "craig65535", "link": "https://stackoverflow.com/users/1255551/craig65535"}, "is_accepted": false, "score": 0, "last_activity_date": 1436997779, "creation_date": 1436997779, "answer_id": 31441953, "question_id": 31441747, "link": "https://stackoverflow.com/questions/31441747/trying-to-understand-difficult-perl-syntax-array-and-empty-square-braces/31441953#31441953", "title": "Trying to understand difficult Perl syntax: array and empty square braces", "body": "<p>The <code>unless @rptmp</code> bit means do this unless <code>@rptmp</code> is not empty.</p>\n\n<p>Empty square brackets are are a reference to an empty array.</p>\n\n<p><code>@{...}</code> is dereferencing whatever is in the curly braces and evaluating it as an array.</p>\n\n<p>So, <code>$avl-&gt;Rates()</code> presumably returns either a reference to an array or 0. If it returns 0, The first <code>unless</code> above will evaluate <code>[]</code> instead. Dereferencing <code>$avl-&gt;Rates() || []</code> will either get you the array pointed to by the array reference returned by <code>$avl-&gt;Rates()</code>, or an empty array.</p>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": -1, "last_activity_date": 1437053276, "creation_date": 1437053276, "answer_id": 31455580, "question_id": 31441747, "link": "https://stackoverflow.com/questions/31441747/trying-to-understand-difficult-perl-syntax-array-and-empty-square-braces/31455580#31455580", "title": "Trying to understand difficult Perl syntax: array and empty square braces", "body": "<p>To answer </p>\n\n<blockquote>\n  <p>Also, is there a better, or at least clearer, way to write this?</p>\n</blockquote>\n\n<p>No. This <em>is</em> the clear way. It's very idiomatic in Perl; you'll find it a lot.</p>\n"}, {"comments": [{"owner": {"reputation": 207, "user_id": 5121205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72773a0a615485891d15782714441413?s=128&d=identicon&r=PG&f=1", "display_name": "Sagebrush Gardener", "link": "https://stackoverflow.com/users/5121205/sagebrush-gardener"}, "edited": false, "score": 0, "creation_date": 1437072191, "post_id": 31456976, "comment_id": 50890746, "body": "I am still having a mental block regarding the || [ ]. I understand (please correct me if I am wrong) that if the $avl-&gt;Rates() expression returns undef, then [ ] creates an empty anonymous array and returns a reference to it. But what is the purpose of that? Is the empty array useful for anything itself, or is it only there to prevent the conditional expression from producing an error if the first expression is undef?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 207, "user_id": 5121205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72773a0a615485891d15782714441413?s=128&d=identicon&r=PG&f=1", "display_name": "Sagebrush Gardener", "link": "https://stackoverflow.com/users/5121205/sagebrush-gardener"}, "edited": false, "score": 0, "creation_date": 1437072601, "post_id": 31456976, "comment_id": 50890961, "body": "Pretty much. It&#39;s so that the <code>@{ ... }</code> doesn&#39;t have to dereference <code>undef</code> which doesn&#39;t make sense and would cause a fatal error if <code>use strict</code> is in effect as it should be"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1437056595, "creation_date": 1437056595, "answer_id": 31456976, "question_id": 31441747, "link": "https://stackoverflow.com/questions/31441747/trying-to-understand-difficult-perl-syntax-array-and-empty-square-braces/31456976#31456976", "title": "Trying to understand difficult Perl syntax: array and empty square braces", "body": "<p>Hmm. Lets look at this. I think it's dreadful Perl but others clearly disagree. There are many people who have issues with <code>unless</code> (meaning simply <code>if not</code>) and in situations like this I sympathise: there's simply too much going on</p>\n\n<p>Here's the whole thing</p>\n\n<pre><code>unless ( @{ $avl-&gt;Rates() || [] } ) {\n  if ( !$nobar ) { push @rptmp, 'BAR' unless @rptmp; }\n}\n</code></pre>\n\n<p>First of all I would extract the call to <code>Rates</code> like this</p>\n\n<pre><code>my $rates = $avl-&gt;Rates();\nunless ( @{ $rates || [] } ) {\n  if ( !$nobar ) { push @rptmp, 'BAR' unless @rptmp; }\n}\n</code></pre>\n\n<p>I don't know what <code>$avl</code> might be, but it looks like its <code>Rates</code> method will return either an array reference or a <em>false</em> value -- probably <code>undef</code>. So the expression <code>$rates || []</code> defaults anything <em>false</em> to a reference to an enpty array. Now the enclosing <code>@{ ... }</code> can dereference it safely either way</p>\n\n<p>The test is whether the array is empty, and I would write</p>\n\n<pre><code>unless ( $rates and @$rates )\n</code></pre>\n\n<p>i.e. <i>unless the <code>Rates</code> method returned a</i> true <i>value and it was a reference to a non-empty array</i></p>\n\n<p>Now we have the inner statement with another <code>unless</code>, except that this time it is  written as <code>if not</code>, and inside it there is a real <code>unless</code></p>\n\n<pre><code>if ( !$nobar ) {\n    push @rptmp, 'BAR' unless @rptmp;\n}\n</code></pre>\n\n<p>The inner statement is simple. It tests <code>@rptmp</code>, which is <em>true</em> unless the array is empty, and pushes <code>BAR</code> onto it <em>only</em> if it is empty</p>\n\n<p>The enclosing conditional checks what is presumably an option <code>$nobar</code>, and if it is <em>true</em> then <code>BAR</code> is never pushed onto the array, regardless of any other conditions</p>\n\n<p>I would refactor the whole thing this way, extracting the method call separately and using <code>unless</code> throughout</p>\n\n<pre><code>my $rates = $avl-&gt;Rates;\n\nunless ( $rates and @$rates) {\n    unless ( $nobar ) {\n        push @rptmp, 'BAR' unless @rptmp;\n    }\n}\n</code></pre>\n\n<p>If you are <code>unless</code>-phobic, then here's a version that uses only <code>if</code> throughout, but I find it less readable</p>\n\n<pre><code>my $rates = $avl-&gt;Rates;\n\nif ( not $rates or @$rates == 0 ) {\n    if ( not $nobar ) {\n        push @rptmp, 'BAR' if @rptmp == 0;\n    }\n}\n</code></pre>\n\n<p>I hope that helps</p>\n"}], "owner": {"reputation": 207, "user_id": 5121205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72773a0a615485891d15782714441413?s=128&d=identicon&r=PG&f=1", "display_name": "Sagebrush Gardener", "link": "https://stackoverflow.com/users/5121205/sagebrush-gardener"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 31456976, "answer_count": 4, "score": 2, "last_activity_date": 1437079115, "creation_date": 1436996897, "question_id": 31441747, "link": "https://stackoverflow.com/questions/31441747/trying-to-understand-difficult-perl-syntax-array-and-empty-square-braces", "title": "Trying to understand difficult Perl syntax: array and empty square braces", "body": "<p>I am trying to analyze a piece of Perl code that contains the following:</p>\n\n<pre><code>unless( @{$avl-&gt;Rates() || []} ) {\n  if(!$nobar) { push @rptmp, 'BAR' unless @rptmp; }\n}\n</code></pre>\n\n<p>The inner action I think I understand. It means \"if $nobar is false (0 in this case) then add the string 'BAR' to the array <code>@rptmp</code> unless <code>@rptmp</code> already exists.\"</p>\n\n<p>The part I am having trouble with is the first \"unless\" condition: <code>unless ( @{$avl-&gt;Rates() || []} )</code>. <code>$avl-&gt;Rates()</code> is a function that returns a list (or maybe a pointer to a list?). But the really confusing part for me is the <code>|| []</code>. This is \"or\" something, so it is not selected unless <code>$avl-&gt;Rates()</code> returns nothing. But I am not sure what it does, especially the empty square brackets. And if it is returning something that is empty, wouldn't it always be false? Also, is there a better, or at least clearer, way to write this?</p>\n"}, {"tags": ["perl", "permissions", "smb"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1437008597, "post_id": 31441598, "comment_id": 50856380, "body": "What module does your <code>unzip</code> come from?  Are you really trying to unzip a file named <code>&lt;&#47;mnt&#47;win&#47;#1.txt&gt;</code>?"}, {"owner": {"reputation": 115, "user_id": 2898004, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2b7fa59f891c13f6386b91e3ba56d3b8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Sinford", "link": "https://stackoverflow.com/users/2898004/mark-sinford"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1437045634, "post_id": 31441598, "comment_id": 50872777, "body": "unzip comes from <code>IO::Uncompress::unzip</code> - and there&#39;s a parameter in that command that adds the file name at the end."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 2898004, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2b7fa59f891c13f6386b91e3ba56d3b8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Sinford", "link": "https://stackoverflow.com/users/2898004/mark-sinford"}, "edited": false, "score": 0, "creation_date": 1437045415, "post_id": 31449875, "comment_id": 50872652, "body": "Unfortunately none of these worked.. permission denied for each as I&#39;ve been getting.  I actually tried chmod first."}, {"owner": {"reputation": 115, "user_id": 2898004, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2b7fa59f891c13f6386b91e3ba56d3b8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Sinford", "link": "https://stackoverflow.com/users/2898004/mark-sinford"}, "edited": false, "score": 0, "creation_date": 1437045773, "post_id": 31449875, "comment_id": 50872850, "body": "<code>root@server:&#47;home&#47;user# sudo chmod -R R+X &#47;mnt&#47;win chmod: invalid mode: &#226;R+X&#226; Try &#39;chmod --help&#39; for more information. root@server:&#47;home&#47;user# sudo chown -R nobody.nogroup &#47;mnt&#47;win chown: changing ownership of &#226;&#47;mnt&#47;win&#226;: Permission denied</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1437060098, "post_id": 31449875, "comment_id": 50883449, "body": "I think you mean <code>chmod -R a+rx</code>, which adds the read and execute bits for user, group and other."}], "tags": [], "owner": {"reputation": 23, "user_id": 5122532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HMQHTf7woOY/AAAAAAAAAAI/AAAAAAAAABg/phltdFBvN-Q/photo.jpg?sz=128", "display_name": "Mukesh Bhoj", "link": "https://stackoverflow.com/users/5122532/mukesh-bhoj"}, "is_accepted": false, "score": 0, "last_activity_date": 1437037517, "creation_date": 1437037517, "answer_id": 31449875, "question_id": 31441598, "link": "https://stackoverflow.com/questions/31441598/perl-script-cant-unzip-to-mounted-windows-share-permission-denied/31449875#31449875", "title": "Perl script can&#39;t unzip to mounted Windows share - permission denied", "body": "<p>You need to use this command to change the permissions of folder &amp; files inside it.</p>\n\n<pre><code>sudo chmod -R R+X /mnt/win \n</code></pre>\n\n<p>If you want to change the user of the file as well which is <code>nobody/nogroup</code> rightnow, you can use this commands :</p>\n\n<pre><code>sudo chown -R username.username /mnt/win/\n</code></pre>\n\n<p>Here you can choose any user's name e.g. mine is <code>mukesh</code></p>\n\n<pre><code>sudo chown -R mueksh.mukesh /mnt/win/\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 2898004, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2b7fa59f891c13f6386b91e3ba56d3b8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Sinford", "link": "https://stackoverflow.com/users/2898004/mark-sinford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437037517, "creation_date": 1436996266, "question_id": 31441598, "link": "https://stackoverflow.com/questions/31441598/perl-script-cant-unzip-to-mounted-windows-share-permission-denied", "title": "Perl script can&#39;t unzip to mounted Windows share - permission denied", "body": "<p>I have a simple script that is unzipping a file to a mounted Windows share.  It is normally launched as a Postfix alias when a new email arrives, but even when I run it as root I get a permission denied error.  </p>\n\n<p>The script is doing this:</p>\n\n<pre><code>if ( &lt;/tmp/*.zip&gt; ){\n        unzip '&lt;/tmp/*.zip&gt;' =&gt; '&lt;/mnt/win/#1.txt&gt;'\n                or die \"unzip failed: $UnzipError\\n\";\n}\n</code></pre>\n\n<p>As root I can copy files to /mnt/win without a problem, but when this script is launched by Postfix it fails with permission denied.  </p>\n\n<p>/etc/fstab looks like:</p>\n\n<pre><code>//srvr1/tmp /mnt/win  cifs credentials=/root/.smbcredentials,iocharset=iso8859-1,sec=ntlm 0 0\n</code></pre>\n\n<p>ls -ld looks like:</p>\n\n<pre><code>drwxr-xr-x 2 root root 196608 Jul 15 17:24 /mnt/win\n</code></pre>\n\n<p>Files produced by the script are nobody/nogroup, but I'm not sure how I change the permissions of /mnt/win to allow nobody/nogroup to read/write.  </p>\n\n<pre><code>cmhod -R ugo+RW /mnt/win \n</code></pre>\n\n<p>Also gives permission denied. Is there a way to change permissions in /etc/fstab to allow nobody/nogroup?</p>\n"}, {"tags": ["mysql", "database", "perl", "sqlite", "in-memory-database"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1436989936, "post_id": 31439576, "comment_id": 50848921, "body": "It might be hard to troubleshoot your performance problem without seeing the structure of your tables and the exact query you&#39;re running. Since you&#39;re working with a lot of tables, I would recommend creating a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, verifiable example</a> of a similar query using just a few test tables. Then you can show the table definitions you used in MySQL and SQLite, and the timings for each."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436992587, "post_id": 31439576, "comment_id": 50850472, "body": "Are the MySQL tables in memory (<code>ENGINE = MEMORY</code>) or are they standard ones? Don&#39;t forget sorting your results in Perl may be faster"}, {"owner": {"reputation": 395, "user_id": 5120812, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/869897239754598/picture?type=large", "display_name": "Feiiiiiiiiiiiii", "link": "https://stackoverflow.com/users/5120812/feiiiiiiiiiiiii"}, "edited": false, "score": 0, "creation_date": 1436992904, "post_id": 31439576, "comment_id": 50850676, "body": "MySQL tables are standard ones (on Windows), while sqlite are in-memory ones on Linux."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1437005423, "post_id": 31439576, "comment_id": 50855679, "body": "The database may be in-memory, but that does not mean the disk does not come in to play, especially when you are joining a large number of large tables. Buy a large enough SSD and upgrade memory."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 5122532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HMQHTf7woOY/AAAAAAAAAAI/AAAAAAAAABg/phltdFBvN-Q/photo.jpg?sz=128", "display_name": "Mukesh Bhoj", "link": "https://stackoverflow.com/users/5122532/mukesh-bhoj"}, "is_accepted": false, "score": -2, "last_activity_date": 1437038164, "creation_date": 1437038164, "answer_id": 31450109, "question_id": 31439576, "link": "https://stackoverflow.com/questions/31439576/how-to-make-sqlite-in-memory-db-join-query-as-fast-as-mysql/31450109#31450109", "title": "How to make sqlite in-memory db join query as fast as MySQL", "body": "<p>To make your query faster , you need to do some changes in one of the following :</p>\n\n<ul>\n<li>method of writing query</li>\n<li>Database table structure</li>\n<li>making proper indexes</li>\n</ul>\n\n<p>And all this you can find at <a href=\"http://www.perlmonks.org/?node_id=273952\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=273952</a></p>\n"}, {"tags": [], "owner": {"reputation": 644, "user_id": 1880772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dbf787a5837f0a8f475cfdab78afe81?s=128&d=identicon&r=PG", "display_name": "Steven Graves", "link": "https://stackoverflow.com/users/1880772/steven-graves"}, "is_accepted": false, "score": 0, "last_activity_date": 1437074866, "creation_date": 1437074866, "answer_id": 31462883, "question_id": 31439576, "link": "https://stackoverflow.com/questions/31439576/how-to-make-sqlite-in-memory-db-join-query-as-fast-as-mysql/31462883#31462883", "title": "How to make sqlite in-memory db join query as fast as MySQL", "body": "<p>Your ORDER BY clause is on columns from 3 different tables.  No amount of query optimization or index creation is going to change the fact that the DBMS must do an external sort, after (or as) the result set is produced.  If you've constrained the amount of memory that SQLite can use (I'm not a SQLite expert, but I assume this is at least possible, if not required), then that could be the cause (e.g. it's going through some incredible machinations to get the job done within its limits).  Or it's just hung.  What's the CPU utilization for that hour you were waiting?  What about I/O (is it thrashing because there was no limit on the amount of memory SQLite can use, as Sinan alluded to)?</p>\n"}], "owner": {"reputation": 395, "user_id": 5120812, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/869897239754598/picture?type=large", "display_name": "Feiiiiiiiiiiiii", "link": "https://stackoverflow.com/users/5120812/feiiiiiiiiiiiii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 774, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1437074866, "creation_date": 1436989140, "last_edit_date": 1436992967, "question_id": 31439576, "link": "https://stackoverflow.com/questions/31439576/how-to-make-sqlite-in-memory-db-join-query-as-fast-as-mysql", "title": "How to make sqlite in-memory db join query as fast as MySQL", "body": "<p>I have a very complex sql query - the logic is simple, but I need to join 17 tables (each as 10-20 fields and 100 to 1 million records) so there're a lot of (LEFT) JOINs and WHERE clauses.</p>\n\n<pre><code>SELECT table1.column_A\n       table2.column_B\n       table3.column_C\n       table4.column_D\n       ....\nFROM table1\nLEFT JOIN table2 ON table1.column_a = table2.column_b\nJOIN table3 ON table3.column_c = table1.column_d\nLEFT JOIN table4.column_e = table3.column_f\n    AND LENGTH(table4.column_g) &gt; 6 AND (table4.column_h IN (123,234))\nLEFT JOIN ....\n....\nWHERE table1.column_i = 21 \n    AND (table1.column_j IS NULL OR DATE(table1.column_k) &lt;&gt; DATE(table1.column_l))\n</code></pre>\n\n<p>The above query only takes 5 seconds to run in MySQL. But when I run it in sqlite in-memory db (using Perl on Linux), it takes about 20 min. This is still acceptable.</p>\n\n<p>When I add a ORDER BY clause (I do need this), the execution time increases dramatically. </p>\n\n<pre><code>ORDER BY table1.column_m, table6.column_n, table7.column_o IS NULL;\n</code></pre>\n\n<p>It'll take 40 seconds in MySQL. In sqlite in-memory db (using Perl on Linux), I waited for over an hour, but it still didn't finish.</p>\n\n<p>What kind of tuning do I need to do to make the query faster? My threshold is within 1 hour.</p>\n\n<p>The reason I'm making it an in-memory db is that I receive SQL generated normalized data but we need to load data into a non-SQL db in the end, so I don't want to create a intermediate SQL db just for data loading - that makes the code ugly and increases maintenance complexity. Plus, the current timing issue I'm facing is just a one-time thing. In the future on a daily basis, the data volume we receive will be much much smaller (less than 1% of what I have today) </p>\n\n<p>Thanks in advance for your help!!</p>\n"}, {"tags": ["perl", "batch-file", "mod-perl"], "comments": [{"owner": {"reputation": 42491, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 3, "creation_date": 1436981166, "post_id": 31437016, "comment_id": 50843918, "body": "Can you change <code>&#47;k</code> to <code>&#47;c</code>?"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 5, "creation_date": 1436981283, "post_id": 31437016, "comment_id": 50843997, "body": "Directly from the DOS Prompt:  /C      Carries out the command specified by string and then <i>terminates</i>  /K      Carries out the command specified by string but <i>remains</i>"}, {"owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "edited": false, "score": 1, "creation_date": 1436982045, "post_id": 31437016, "comment_id": 50844453, "body": "Thanks wOxxOm. It worked fine for me."}, {"owner": {"reputation": 42491, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 2, "creation_date": 1436984546, "post_id": 31437016, "comment_id": 50845944, "body": "Then, I think, Axeman&#39;s reply should be promoted to an answer."}], "owner": {"reputation": 391, "user_id": 5120388, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d94e7732afe08416a8936be339d9e52?s=128&d=identicon&r=PG&f=1", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/5120388/rajarshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1436980927, "creation_date": 1436980927, "question_id": 31437016, "link": "https://stackoverflow.com/questions/31437016/close-cmd-after-finishing-the-batch-file-using-perl", "title": "close cmd after finishing the batch file using perl", "body": "<p>I am not able to close the cmd window after finishing the batch file which I called from a perl script which will open a separate window for the batch file.\nI am using the below code to accomplish this but it's not working for me.</p>\n\n<pre><code> use strict;\nuse warnings;\nuse Win32::Process;\n\nmy $cmd = \"a.bat\";\n\n#system(\"start cmd.exe /k $cmd\");\n\nfor (my $i=0;$i&lt;1;$i++)\n{\nmy $processObj;\nWin32::Process::Create(\n    $processObj,\n    \"C:/windows/system32/cmd.exe\",\n    \"cmd.exe /k $cmd\",\n    0,\n    NORMAL_PRIORITY_CLASS | CREATE_NEW_CONSOLE,\n    \".\"\n);\n#sleep(2);  # do other stuff\n$processObj-&gt;GetExitCode(my $win32_exit_code);\n\nwhile($win32_exit_code == Win32::Process::STILL_ACTIVE()) {\n  sleep(1);\n  $processObj-&gt;GetExitCode($win32_exit_code);\n}\n\n$processObj-&gt;Kill(0) or die \"unable to kill $!\";\n}\n</code></pre>\n\n<p>can anyone help me to find where I am wrong or I am using wrong to do this ?</p>\n"}, {"tags": ["perl", "batch-file"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1436978627, "post_id": 31436188, "comment_id": 50842386, "body": "Possible duplicates: <a href=\"http://stackoverflow.com/q/16689400/176646\">I need to pass variable values form a bat file to a perl script</a>, <a href=\"http://stackoverflow.com/q/8974493/176646\">How can I pass on my Bash loop variable to the Perl interpreter?</a>, <a href=\"http://stackoverflow.com/q/13093709/176646\">How to use shell variables in perl command call in a bash shell script?</a>..."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1436982088, "last_edit_date": 1436982088, "creation_date": 1436978689, "answer_id": 31436293, "question_id": 31436188, "link": "https://stackoverflow.com/questions/31436188/how-to-pass-a-parameter-value-from-a-batch-file-to-a-perl-script/31436293#31436293", "title": "How to pass a parameter value from a batch file to a perl script?", "body": "<p>Your command should be</p>\n\n<pre><code>perl myscript.pl \"$x\"\n</code></pre>\n\n<p>and the Perl script will find the value of <code>x</code> in <code>$ARGV[0]</code></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1436981232, "creation_date": 1436981232, "answer_id": 31437109, "question_id": 31436188, "link": "https://stackoverflow.com/questions/31436188/how-to-pass-a-parameter-value-from-a-batch-file-to-a-perl-script/31437109#31437109", "title": "How to pass a parameter value from a batch file to a perl script?", "body": "<blockquote>\n  <p><em>I want to pass value of a variable say \"x\" used inside a perl script from a batch file</em></p>\n</blockquote>\n\n<p>This doesn't quite make sense. Are you asking how to pass the value of a batch variable to a Perl script?</p>\n\n<p>In batch files, variables are interpolated using <code>%NAME%</code>, so you'd use</p>\n\n<pre><code>perl script.pl \"%X%\"\n</code></pre>\n\n<p>In the script, the parameters are accessed via <code>@ARGV</code>.</p>\n\n<pre><code>set X=abc\nperl -e\"my ($x) = @ARGV; print qq{$x\\n};\" \"%X%\"\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5120332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-pE9S3afr3qw/AAAAAAAAAAI/AAAAAAAAAKw/4C9pDt_Yxmc/photo.jpg?sz=128", "display_name": "vipin", "link": "https://stackoverflow.com/users/5120332/vipin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1331, "favorite_count": 0, "closed_date": 1436992554, "accepted_answer_id": 31436293, "answer_count": 2, "score": -2, "last_activity_date": 1436982088, "creation_date": 1436978321, "last_edit_date": 1436981279, "question_id": 31436188, "link": "https://stackoverflow.com/questions/31436188/how-to-pass-a-parameter-value-from-a-batch-file-to-a-perl-script", "closed_reason": "Duplicate", "title": "How to pass a parameter value from a batch file to a perl script?", "body": "<p>I want to pass value of a variable say \"x\" used inside a perl script from a batch file (which invokes the perl script). Can someone show with a simple example how it is done?</p>\n"}, {"tags": ["perl", "moose", "coercion"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436975869, "post_id": 31435027, "comment_id": 50840723, "body": "Are you saying the coercion doesn&#39;t always occur? Under what situation is the value not coerced?"}, {"owner": {"reputation": 27, "user_id": 1482370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57854052b2f8493fd5acac4dd3d5278c?s=128&d=identicon&r=PG", "display_name": "roland16", "link": "https://stackoverflow.com/users/1482370/roland16"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436983898, "post_id": 31435027, "comment_id": 50845591, "body": "@ikegami Foo-&gt;new( bar =&gt; &#39;Some string&#39; ) The coercion won&#39;t occur because passed value is already a string. &quot;A coercion lets you tell Moose to automatically convert one type to another&quot;, and both in and out types are string. I don&#39;t insist on using this method, just looking for best option."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436985352, "post_id": 31435027, "comment_id": 50846414, "body": "So you&#39;re saying the coercion never occurs? Please specify what your problem is!!! At least provide a demonstration of it!"}, {"owner": {"reputation": 27, "user_id": 1482370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57854052b2f8493fd5acac4dd3d5278c?s=128&d=identicon&r=PG", "display_name": "roland16", "link": "https://stackoverflow.com/users/1482370/roland16"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436987341, "post_id": 31435027, "comment_id": 50847525, "body": "You&#39;re right, i wasn&#39;t clear enough. The coercion works, but it doesn&#39;t step into &#39;via&#39; block due to the fact that both passed value and subtype are strings and there is no &#39;where&#39; clause in subtype definition that could force coercion to step into &#39;via&#39; block."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 1482370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57854052b2f8493fd5acac4dd3d5278c?s=128&d=identicon&r=PG", "display_name": "roland16", "link": "https://stackoverflow.com/users/1482370/roland16"}, "edited": false, "score": 0, "creation_date": 1437049417, "post_id": 31452325, "comment_id": 50875188, "body": "You will get an infinite recursion. Trigger fires <b>after</b> the attribute is set and because you are setting the &#39;bar&#39; once again in the sub, trigger will fall into infinite loop. The above example would work if you set the attribute this way <code>$self-&gt;{bar} = &#39;modified_value&#39;</code> in the trigger sub, but from what i read handle $self as a hash reference is bad practice."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 27, "user_id": 1482370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57854052b2f8493fd5acac4dd3d5278c?s=128&d=identicon&r=PG", "display_name": "roland16", "link": "https://stackoverflow.com/users/1482370/roland16"}, "edited": false, "score": 0, "creation_date": 1437051317, "post_id": 31452325, "comment_id": 50876602, "body": "The first version of my answer did not have an infinite loop. In fact, it changed nothing because I had a bug. I have updated the answer with a version that will do what you want without creating an inifite loop."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 27, "user_id": 1482370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57854052b2f8493fd5acac4dd3d5278c?s=128&d=identicon&r=PG", "display_name": "roland16", "link": "https://stackoverflow.com/users/1482370/roland16"}, "edited": false, "score": 0, "creation_date": 1437053102, "post_id": 31452325, "comment_id": 50877963, "body": "Well your question was for <code>Str</code> and you explicitly said you don&#39;t want to actually verify the type of your string in the last part of the question. Checking if the string needs those replacements <i>is exactly what the type does</i> on which the coercion would be based. For things that are not a string I agree that coercion makes a lot more sense. But you have asked about a very specific case, and this is the answer for that specific question. Take it or leave it. :)"}, {"owner": {"reputation": 27, "user_id": 1482370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57854052b2f8493fd5acac4dd3d5278c?s=128&d=identicon&r=PG", "display_name": "roland16", "link": "https://stackoverflow.com/users/1482370/roland16"}, "edited": false, "score": 0, "creation_date": 1437053106, "post_id": 31452325, "comment_id": 50877966, "body": "I&#39;m looking for more comprehensive solution. These workarounds works well with &#39;Str&#39; type of value, but won&#39;t do with more complex structures. From what i&#39;ve read coercion would be the best solution, but i dont&#39; know how to implement it."}, {"owner": {"reputation": 27, "user_id": 1482370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57854052b2f8493fd5acac4dd3d5278c?s=128&d=identicon&r=PG", "display_name": "roland16", "link": "https://stackoverflow.com/users/1482370/roland16"}, "edited": false, "score": 0, "creation_date": 1437054534, "post_id": 31452325, "comment_id": 50879133, "body": "Basically my problem is exactly what the first sentence states. The code below was only an example and i didn&#39;t mention anything about string type in description( i will edit my question so no one will be confused about it). I&#39;m looking for a comprehensive solution and i don&#39;t want to use workarounds, but if there&#39;s no better solution i promise i&#39;ll mark your answer as the best one;)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1437051246, "last_edit_date": 1437051246, "creation_date": 1437044459, "answer_id": 31452325, "question_id": 31435027, "link": "https://stackoverflow.com/questions/31435027/force-coercion-in-moose/31452325#31452325", "title": "Force coercion in Moose", "body": "<p>Sounds like you want a <a href=\"https://metacpan.org/pod/Moose#trigger-code\" rel=\"nofollow\">trigger</a>.</p>\n\n<pre><code>package Foo;\nuse Moose;\n\nhas 'bar' =&gt; (\n    is      =&gt; 'rw',\n    isa     =&gt; 'Str',\n    trigger =&gt; sub {\n        my ( $self, $value, $old_value ) = @_;\nsay 'in trigger';\n        # prevent infinite loop\n        return if $old_value &amp;&amp; $old_value eq $value;\n\n        my $original_value = $value;\n        $value =~ s/some_stuff//g;\n        $value =~ s/other_stuff//g;\n        $value =~ s/some_other_stuff//g;\n\n        # prevent infinite loop\n        return if $value eq $original_value;\n\nsay '... setting new value';\n        $self-&gt;bar($value);\n    },\n);\n\npackage main;\n\nmy $foo = Foo-&gt;new( bar =&gt; 'foo some_stuff and other_stuff and some_more_stuff' );\nsay $foo-&gt;bar;\n</code></pre>\n\n<blockquote>\n  <p>I want to modify an attribute's value every time it is set, no matter\n  if it is done within constructor or by a 'writer'(i don't use\n  'builder' or 'default' in that case)</p>\n</blockquote>\n\n<p>This is exactly what a trigger does. The doc says almost verbatim what you asked for:</p>\n\n<blockquote>\n  <p>NOTE: Triggers will only fire when you assign to the attribute, either in the constructor, or using the writer. Default and built values will not cause the trigger to be fired.</p>\n</blockquote>\n\n<p><strong>Edit:</strong> There was a bug in the inifite loop detection. It now works and will stop on the second invocation. I left debug output in to demonstrate.</p>\n\n<pre><code>in trigger\n... setting new value\nin trigger\nfoo  and  and some_more_stuff\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 1482370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57854052b2f8493fd5acac4dd3d5278c?s=128&d=identicon&r=PG", "display_name": "roland16", "link": "https://stackoverflow.com/users/1482370/roland16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439637537, "creation_date": 1436974973, "last_edit_date": 1439637537, "question_id": 31435027, "link": "https://stackoverflow.com/questions/31435027/force-coercion-in-moose", "title": "Force coercion in Moose", "body": "<p>I want to modify an attribute's value every time it is set, no matter if it is done within constructor or by a 'writer'(i don't use 'builder' or 'default' in that case). Basically the attribute(not necessary 'Str' type) is passed to the constructor and in some cases I want to modify its value after that, but in every scenario I want to do some regexp on it (for example).</p>\n\n<p>My first approach was to use a BUILDARGS and around method, both of would use the same regex function, but then I wonder about coercion. The only problem is I don't know how to create a subtype/type definition that will force coercion no matter what.</p>\n\n<p>For example:</p>\n\n<pre><code>package Foo;\nuse Moose::Util::TypeConstraints;\n\nsubtype 'Foo::bar' =&gt; as 'Str';\ncoerce 'Foo::bar'\n    =&gt; from 'Str'\n        =&gt; via {\n            $_ =~ s/some_stuff//g;\n            $_ =~ s/other_stuff//g;\n            $_ =~ s/some_other_stuff//g;\n        };\n\nhas 'bar' =&gt; (isa =&gt; 'Foo:bar', coerce =&gt; 1);\n</code></pre>\n\n<p>I don't want to define subtype/type with 'where' clause like </p>\n\n<pre><code>subtype 'Foo::bar' =&gt; as 'Str' =&gt; where {$_ !~ /some_stuff/ &amp;&amp; $_ !~ /other_stuff/ &amp;&amp; ... };\n</code></pre>\n\n<p>because it seems  tedious to me.</p>\n\n<p><strong>Edit</strong>: I'm looking for a comprehensive solution I could use not only with 'Str' type attributes but also 'ArrayRef', 'HashRef' etc.</p>\n"}, {"tags": ["perl", "tab-completion"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436976621, "post_id": 31434856, "comment_id": 50841226, "body": "Try <code>filename_completion_desired</code>"}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436976892, "post_id": 31434856, "comment_id": 50841407, "body": "Like this: <code>$attribs-&gt;{filename_completion_desired}=0;</code>? Or maybe <code>$attribs-&gt;{rl_filename_completion_desired}=0;</code>? Not working."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436981203, "post_id": 31434856, "comment_id": 50843939, "body": "I&#39;m just guessing from the docs. All the variable names are documented <a href=\"https://metacpan.org/pod/Term::ReadLine::Gnu#Term::ReadLine::Gnu-Variables\" rel=\"nofollow noreferrer\"><b>here</b></a> for the Gnu variant. The keys to the <code>$attribs</code> hash have the leading <code>rl_</code> removed. You may have to <code>use Term::ReadLine::Gnu</code> or set the environment variable <code>PERL_RL</code> to <code>Gnu</code> for those to work."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436987484, "post_id": 31434856, "comment_id": 50847603, "body": "Thanks. We are not allowed to <code>use Term::ReadLine::Gnu</code> directly. By trial and error, it seems the way to go is to define, not <code>attempted_completion_function</code>, but <code>completion_function</code>, and then <code>return $term-&gt;completion_matches($text, $attribs-&gt;{filename_completion_function})</code> whenever the default filename completion is to take over."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436987667, "post_id": 31434856, "comment_id": 50847703, "body": "Well done. You should write that up as an answer and accept it. All this bureaucracy that prohibits people from using modules is bizarre!"}], "answers": [{"tags": [], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "is_accepted": true, "score": 1, "last_activity_date": 1436988632, "creation_date": 1436988632, "answer_id": 31439413, "question_id": 31434856, "link": "https://stackoverflow.com/questions/31434856/how-to-inhibit-termreadlines-default-filename-completion/31439413#31439413", "title": "How to inhibit Term::ReadLine&#39;s default filename completion?", "body": "<p>Define <code>completion_function</code> instead of <code>attempted_completion_function</code>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$attribs-&gt;{completion_function} = \\&amp;completion;\n</code></pre>\n\n<p>And then <code>return undef</code> if completion should stop, and <code>return $term-&gt;completion_matches($text, $attribs-&gt;{filename_completion_function})</code> if filename completion is to take over.</p>\n\n<p>In the following example, nothing is suggested for the first parameter, but filenames are for the second parameter.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Term::ReadLine;\n\nmy $term = new Term::ReadLine 'sample';\nmy $attribs = $term-&gt;Attribs;\n$attribs-&gt;{completion_function} = \\&amp;completion;\n\nsub completion {\n\n  my ( $text, $line, $start ) = @_;\n\n  if ( substr( $line, 0, $start ) =~ /^\\s*$/) {\n\n    return \n\n  } else {\n\n    return $term-&gt;completion_matches($text, $attribs-&gt;{filename_completion_function})\n\n  }\n}\n\nwhile ( my $input = $term-&gt;readline (\"&gt; \") ) {\n  exit 0 if $input eq \"q\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 1, "accepted_answer_id": 31439413, "answer_count": 1, "score": 3, "last_activity_date": 1436988632, "creation_date": 1436974535, "last_edit_date": 1436980737, "question_id": 31434856, "link": "https://stackoverflow.com/questions/31434856/how-to-inhibit-termreadlines-default-filename-completion", "title": "How to inhibit Term::ReadLine&#39;s default filename completion?", "body": "<p>How can I disable <a href=\"https://metacpan.org/pod/Term::ReadLine\" rel=\"nofollow\"><code>Term::ReadLine</code></a>'s default completion, or rather, make it stop suggesting filename completions at some point?</p>\n\n<p>For example, what do I need to replace <code>return()</code> with in order to inhibit the default completion from the second word onwards?</p>\n\n<p>Neither of these works:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>    $attribs-&gt;{'filename_completion_function'}=undef;\n    $attribs-&gt;{'rl_inhibit_completion'}=1;\n</code></pre>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Term::ReadLine;\n\nmy $term    = new Term::ReadLine 'sample';\nmy $attribs = $term-&gt;Attribs;\n$attribs-&gt;{attempted_completion_function} = \\&amp;sample_completion;\n\nsub sample_completion {\n    my ( $text, $line, $start, $end ) = @_;\n\n    # If first word then username completion, else filename completion\n    if ( substr( $line, 0, $start ) =~ /^\\s*$/ ) {\n\n        return $term-&gt;completion_matches( $text,\n            $attribs-&gt;{'username_completion_function'} );\n    }\n    else {\n        return ();\n    }\n}\n\nwhile ( my $input = $term-&gt;readline( \"&gt; \" ) ) {\n    ...\n}\n</code></pre>\n"}, {"tags": ["linux", "perl", "rpm", "yum"], "comments": [{"owner": {"reputation": 21, "user_id": 3806680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edfc5512a4c5140e754780a4f654261f?s=128&d=identicon&r=PG&f=1", "display_name": "user3806680", "link": "https://stackoverflow.com/users/3806680/user3806680"}, "edited": false, "score": 0, "creation_date": 1436973578, "post_id": 31434425, "comment_id": 50839052, "body": "The output is:Running Transaction Test Transaction Test Succeeded Running Transaction"}, {"owner": {"reputation": 170, "user_id": 1698668, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/649cd8204d9fd827b2998908c93c7aec?s=128&d=identicon&r=PG", "display_name": "stevo81989", "link": "https://stackoverflow.com/users/1698668/stevo81989"}, "edited": false, "score": 0, "creation_date": 1436978561, "post_id": 31434425, "comment_id": 50842349, "body": "Have you tried suppressing the output?      yum -q -y myrpm  then if it works you can very its installed with rpm      rpm -qa | grep myrpm"}, {"owner": {"reputation": 21, "user_id": 3806680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edfc5512a4c5140e754780a4f654261f?s=128&d=identicon&r=PG&f=1", "display_name": "user3806680", "link": "https://stackoverflow.com/users/3806680/user3806680"}, "reply_to_user": {"reputation": 170, "user_id": 1698668, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/649cd8204d9fd827b2998908c93c7aec?s=128&d=identicon&r=PG", "display_name": "stevo81989", "link": "https://stackoverflow.com/users/1698668/stevo81989"}, "edited": false, "score": 0, "creation_date": 1436984584, "post_id": 31434425, "comment_id": 50845962, "body": "I tried to suppress the output but the script still hangs at the yum install line."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1436988676, "post_id": 31434425, "comment_id": 50848263, "body": "Does this help? <a href=\"http://www.perlmonks.org/?node_id=957403\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=957403</a>"}, {"owner": {"reputation": 21, "user_id": 3806680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edfc5512a4c5140e754780a4f654261f?s=128&d=identicon&r=PG&f=1", "display_name": "user3806680", "link": "https://stackoverflow.com/users/3806680/user3806680"}, "edited": false, "score": 0, "creation_date": 1437059563, "post_id": 31434425, "comment_id": 50883072, "body": "This did not work as well."}, {"owner": {"reputation": 5974, "user_id": 719147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f87e5cd87258266370760ba963a33c?s=128&d=identicon&r=PG&f=1", "display_name": "linuts", "link": "https://stackoverflow.com/users/719147/linuts"}, "edited": false, "score": 0, "creation_date": 1437782849, "post_id": 31434425, "comment_id": 51191980, "body": "What do you get if you run it through strace?"}], "owner": {"reputation": 21, "user_id": 3806680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edfc5512a4c5140e754780a4f654261f?s=128&d=identicon&r=PG&f=1", "display_name": "user3806680", "link": "https://stackoverflow.com/users/3806680/user3806680"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1437059539, "creation_date": 1436973498, "last_edit_date": 1437059539, "question_id": 31434425, "link": "https://stackoverflow.com/questions/31434425/yum-install-command-not-executing-from-system-command-in-perl", "title": "Yum install command not executing from system command in perl", "body": "<p>I am trying to install a Linux RPM using <code>system(\"yum -y install MyRPM.rpm\");</code> in a Perl script.</p>\n\n<p>The problem I am facing is:</p>\n\n<ul>\n<li>The system command gets executed.</li>\n<li>It starts installing the RPM</li>\n<li>Then, just after the line \"running transaction\". The script hangs. </li>\n</ul>\n\n<p>Output:</p>\n\n<pre><code>Running Transaction Test\nTransaction Test Succeeded\nRunning Transaction\n</code></pre>\n\n<p>No output after this line and script hangs.</p>\n\n<p>Usually after this line, if I run <code>yum install</code> from the terminal it displays:</p>\n\n<pre><code>Installing : myRPM [#################################]\n</code></pre>\n\n<p>But my Perl script hangs at this line.</p>\n\n<p>To solve this, I wrote a bash script to perform the RPM installation  and in turn calling it in my perl script. But at the point where the bash script is called and starts executing the yum install command, the script hangs. On the other hand, if I execute the bash script as a standalone script it does the installation smoothly. I have no idea why the perl script  gets stuck in between the yum install.</p>\n\n<p>I would really appreciate some help on this.</p>\n"}, {"tags": ["perl", "unzip", "compression"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1436969978, "post_id": 31432896, "comment_id": 50836366, "body": "Have you imported the variable as shown in the Synopsis?"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 3, "creation_date": 1436970134, "post_id": 31432896, "comment_id": 50836509, "body": "Vars won&#39;t be interpolated inside single quotes."}], "answers": [{"tags": [], "owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436971202, "creation_date": 1436971202, "answer_id": 31433483, "question_id": 31432896, "link": "https://stackoverflow.com/questions/31432896/unzip-all-files-in-a-directory-failing-iouncompress-perl/31433483#31433483", "title": "Unzip all files in a directory failing - IO::Uncompress Perl", "body": "<p>You can try below</p>\n\n<pre><code>use strict ;\nuse warnings ;\nuse IO::Uncompress::Unzip qw(unzip $UnzipError) ;\n\nfor my $input ( glob \"/tmp/*.zip\" )\n{\n    my $output = $input;\n    $output =~ s/.zip// ;\n    unzip $input =&gt; $output or die \"Error compressing '$input': $UnzipError\\n\";\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1436980254, "creation_date": 1436980254, "answer_id": 31436803, "question_id": 31432896, "link": "https://stackoverflow.com/questions/31432896/unzip-all-files-in-a-directory-failing-iouncompress-perl/31436803#31436803", "title": "Unzip all files in a directory failing - IO::Uncompress Perl", "body": "<p>It took me a while to figure out the code and syntax. Basically, the syntax is:</p>\n\n<ol>\n<li>Open the zip file.</li>\n<li>While you read in the next file stream (<code>nextStream</code>).\n\n<ol>\n<li>Find the name of the file stream you're reading.</li>\n<li>Create a new file to write to (using <code>open</code> or <code>File::IO-&gt;new</code>)</li>\n<li>While there is data in the file stream (<code>read</code>)\n\n<ol>\n<li>Write to the new file's buffer.</li>\n</ol></li>\n<li>Close the file you created.</li>\n</ol></li>\n<li>Close the zip file.</li>\n</ol>\n\n<p>The trick is that the two <code>while</code> statements will return a status of less than zero (specifically a <code>-1</code>) if there is a problem with the reading. They return a status of zero when they are finished. Thus, right after the <code>while</code> statement, you've got to check the status.</p>\n\n<p>This is the code I used. Notice I don't import <code>$UnzipError</code>, but instead, I use the full name of the variable including it's package name.</p>\n\n<pre><code>#\n# Unzip Artifact\n#\nmy $zip_fh = IO::Uncompress::Unzip-&gt;new( $old_zip_file )\n    or die qq(Cannot open zip \"$old_zip_file\" for reading.);\n#\n# Go through each element in Zip file\n#\nwhile ( my $status = $zip_fh-&gt;nextStream ) {\n    if ( $status &lt; 0 ) {\n        die qq(Error in Zip: $IO::Uncompress::Unzip::UnzipError.);\n    }\n    #\n    # Get name of the file you're unzipping in the zip\n    #\n    my $element_name = $zip_fh-&gt;getHeaderInfo-&gt;{Name};\n    next if $element_name =~ m{/$};      # Skip Directories\n    my $element_dir = dirname $element_name;\n    my $full_element_dir = File::Spec-&gt;join( $unzip_directory, $element_dir );\n    #\n    # Create the directory for the file if it doesn't exist\n    #\n    my $full_element_name = File::Spec-&gt;join( $unzip_directory, $element_name );\n    if ( not -d $full_element_dir ) {\n        make_path $full_element_dir\n            or die qq(Can't make directory \"$full_element_dir\".);\n    }\n    my $unzipped_fh = IO::File-&gt;new( $full_element_name, \"w\" )\n        or die qq(Can't open file \"$full_element_name\" for writing: $!);\n    #\n    # Now repeatably read the file until you've written everything\n    #\n    my $buffer;\n    while ( my $status = $zip_fh-&gt;read( $buffer ) ) {\n        if ( $status &lt; 0 ) {\n            die qq(Error in Zip: $IO::Uncompress::Unzip::UnzipError.);\n        }\n        $unzipped_fh-&gt;write( $buffer );\n    }\n    $unzipped_fh-&gt;close;\n}\n$zip_fh-&gt;close;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 5870166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TP3K.png?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/5870166/thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1530055457, "last_edit_date": 1530055457, "creation_date": 1530053679, "answer_id": 51052376, "question_id": 31432896, "link": "https://stackoverflow.com/questions/31432896/unzip-all-files-in-a-directory-failing-iouncompress-perl/51052376#51052376", "title": "Unzip all files in a directory failing - IO::Uncompress Perl", "body": "<p>I believe the fix that was suggested by David W. 82.2k25154274 (see below) had a small bug.\nGreat example and I copied it, but it always ignored one file! \nFix is to initialize $status to 1 and only call next at end of loop.</p>\n\n<p>Fix:</p>\n\n<pre><code>#\n# Unzip Artifact\n#\nmy $zip_fh = IO::Uncompress::Unzip-&gt;new( $old_zip_file )\n    or die qq(Cannot open zip \"$old_zip_file\" for reading.);\n#\n# Go through each element in Zip file\n#\nmy $status = 1;\nwhile ( $status ) {\n    if ( $status &lt; 0 ) {\n        die qq(Error in Zip: $IO::Uncompress::Unzip::UnzipError.);\n    }\n    #\n    # Get name of the file you're unzipping in the zip\n    #\n    my $element_name = $zip_fh-&gt;getHeaderInfo-&gt;{Name};\n    next if $element_name =~ m{/$};      # Skip Directories\n    my $element_dir = dirname $element_name;\n    my $full_element_dir = File::Spec-&gt;join( $unzip_directory, $element_dir );\n    #\n    # Create the directory for the file if it doesn't exist\n    #\n    my $full_element_name = File::Spec-&gt;join( $unzip_directory, $element_name );\n    if ( not -d $full_element_dir ) {\n        make_path $full_element_dir\n            or die qq(Can't make directory \"$full_element_dir\".);\n    }\n    my $unzipped_fh = IO::File-&gt;new( $full_element_name, \"w\" )\n        or die qq(Can't open file \"$full_element_name\" for writing: $!);\n    #\n    # Now repeatably read the file until you've written everything\n    #\n    my $buffer;\n    while ( my $status = $zip_fh-&gt;read( $buffer ) ) {\n        if ( $status &lt; 0 ) {\n            die qq(Error in Zip: $IO::Uncompress::Unzip::UnzipError.);\n        }\n        $unzipped_fh-&gt;write( $buffer );\n    }\n    $unzipped_fh-&gt;close;\n\n    $status = $zip_fh-&gt;nextStream; # Getting next file if any... or 0 to quit loop...\n}\n$zip_fh-&gt;close;\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 2898004, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2b7fa59f891c13f6386b91e3ba56d3b8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Sinford", "link": "https://stackoverflow.com/users/2898004/mark-sinford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1225, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1530055457, "creation_date": 1436969640, "last_edit_date": 1436976849, "question_id": 31432896, "link": "https://stackoverflow.com/questions/31432896/unzip-all-files-in-a-directory-failing-iouncompress-perl", "title": "Unzip all files in a directory failing - IO::Uncompress Perl", "body": "<p>I'm trying to unzip all files in a directory using <a href=\"https://metacpan.org/pod/distribution/IO-Compress/lib/IO/Compress/FAQ.pod\" rel=\"nofollow\">IO::Compress</a>, but my script is failing with no error details.  I used <a href=\"https://metacpan.org/pod/IO::Uncompress::Unzip\" rel=\"nofollow\">IO::Uncompress::Unzip</a> as a reference, and it seems pretty simple, but it just dies with:</p>\n\n<pre>root@test:/home/user# ./unzip.pl\nIts there.\nunzip failed:</pre>\n\n<pre><code>my $outputdir = \"/tmp\";\nif ( &lt;$outputdir/*.zip&gt; ){\n    print \"Its there.\\n\";\n    unzip '&lt;$outputdir/*.zip&gt;' =&gt; '&lt;$outputdir/#1&gt;'\n    or die \"unzip failed: $UnzipError\\n\";\n}\n</code></pre>\n\n<p>What am  I doing wrong?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436969480, "post_id": 31432493, "comment_id": 50835997, "body": "Related: <a href=\"http://stackoverflow.com/q/20858981/176646\">Preserving White Space in qw</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1436969195, "post_id": 31432626, "comment_id": 50835776, "body": "Can you also give an example where the HEREDOC is assigned to a variable? If this is even possible... Otherwise the code logic would be a complete mess, when several times divided by 1000 lines of data.Thanks for your quick answer anyways!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1436969226, "post_id": 31432626, "comment_id": 50835797, "body": "@BorisD&#228;ppen: Updated."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1436972062, "post_id": 31432626, "comment_id": 50837957, "body": "Can&#39;t change the behaviour of <code>qw</code>? I beg to <a href=\"http://search.cpan.org/perldoc?Syntax::Feature::QwComments\" rel=\"nofollow noreferrer\">differ</a>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1436972375, "post_id": 31432626, "comment_id": 50838186, "body": "@ikegami: Well, <b>you</b> can :-)"}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436983362, "post_id": 31432626, "comment_id": 50845251, "body": "@ikegami In response to your comment on my answer (which I deleted since you were right and it added nothing), I was trying to answer the part of the question &quot;how can I make <code>qw</code> do something else&quot; with the point that you can&#39;t because <code>qw</code> doesn&#39;t work like that. That was the attempt, it was very poorly done."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 10, "last_activity_date": 1436969207, "last_edit_date": 1436969207, "creation_date": 1436968976, "answer_id": 31432626, "question_id": 31432493, "link": "https://stackoverflow.com/questions/31432493/how-can-i-change-the-behavior-of-qw-to-newline-only/31432626#31432626", "title": "How can I change the behavior of qw() to newline only?", "body": "<p>You can't change the behaviour of <code>qw</code>, but you can use a HERE document instead:</p>\n\n<pre><code>my @streets = split /\\n/, &lt;&lt; '__LINES__';\nexamplestreet\nexample street\n__LINES__\n\nprint \"&lt;$_&gt;\\n\" for @streets;\n</code></pre>\n\n<p>A HERE document is always a single string, so you have to <a href=\"http://p3rl.org/split\">split</a> it on newlines.</p>\n\n<p>Using DATA might be also possible, but only if there's only one such a section needed (and you don't want to use <a href=\"http://p3rl.org/Data::Section\">Data::Section</a>):</p>\n\n<pre><code>my @streets = &lt;DATA&gt;;\nchomp @streets;  # This time, we have to remove the newlines from the strings.\nprint \"&lt;$_&gt;\\n\" for @streets;\n\n__DATA__\nexamplestreet\nexample street\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1436969787, "creation_date": 1436969787, "answer_id": 31432957, "question_id": 31432493, "link": "https://stackoverflow.com/questions/31432493/how-can-i-change-the-behavior-of-qw-to-newline-only/31432957#31432957", "title": "How can I change the behavior of qw() to newline only?", "body": "<p>You could also read line-by-line from a string:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $streets = &lt;&lt;EO_STREETS;\nexamplestreet\nexample street\nEO_STREETS\n\nopen my $in, '&lt;', \\$streets\n    or die \"Cannot read from string buffer\";\n\nwhile (my $street = &lt;$in&gt;) {\n    $street =~ s/\\s+\\z//; # just in case\n    print \"Street: '$street'\\n\";\n}\n\nclose $in;\n</code></pre>\n\n<p>This does have the advantage of reducing your script's memory footprint compared to <code>split</code>ing a heredoc.</p>\n"}], "owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "accepted_answer_id": 31432626, "answer_count": 2, "score": 1, "last_activity_date": 1436969787, "creation_date": 1436968651, "question_id": 31432493, "link": "https://stackoverflow.com/questions/31432493/how-can-i-change-the-behavior-of-qw-to-newline-only", "title": "How can I change the behavior of qw() to newline only?", "body": "<p>my code looks like this:</p>\n\n<pre><code>my @street = qw(\nexamplestreet\nexample street\n);\nforeach my $str (@street) {\n    print \"$str\\n\";\n}\n</code></pre>\n\n<p>the output is obviously</p>\n\n<pre><code>examplestreet\nexample\nstreet\n</code></pre>\n\n<p>but I would like it to be</p>\n\n<pre><code>examplestreet\nexample street\n</code></pre>\n\n<p><strong>Question:</strong> Can I modify the behavior of <code>qw()</code> so, that it only separates by newline, instead of any whitespace?</p>\n\n<p><strong>Ps:</strong> \nWhy I'm doing this: Got plenty of entries, and it's simplest to just copy-paste them line by line into the code. It's just a small snipped, not much worth any effort. If I don't find a solution I will make separate files for the data and read them into the script. But a shortcut would be awesome!\n(Or should I try something with <code>__DATA__</code> ? Don't know how to achieve this though...) Current Perl is <code>v5.20.1</code></p>\n"}, {"tags": ["perl", "object", "dns"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1436966743, "post_id": 31430993, "comment_id": 50833702, "body": "Set <code>$Data::Dumper::Useqq = 1</code> to improve your output viewing experience."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1436968584, "post_id": 31430993, "comment_id": 50835272, "body": "Posting images of text is always a bad idea."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 4, "last_activity_date": 1436968345, "last_edit_date": 1436968345, "creation_date": 1436965819, "answer_id": 31431342, "question_id": 31430993, "link": "https://stackoverflow.com/questions/31430993/junk-output-or-random-character-in-datadumper-output-for-netdnsresolver-ob/31431342#31431342", "title": "Junk output or random character in Data::Dumper output for Net::DNS::Resolver object", "body": "<p>You are dumping the internals of the object which include the buffer which holds the original response bytes.</p>\n\n<p>You should use the API defined in the <a href=\"https://metacpan.org/pod/Net::DNS::Resolver\" rel=\"nofollow\">module documentation</a> to access the information.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Net::DNS;\n\nmy $resolver = Net::DNS::Resolver-&gt;new;\n\nmy $result = $resolver-&gt;query('google.com', \"NS\");\n$result-&gt;print;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>;; Answer received from x.x.x.x (100 bytes)\n;; HEADER SECTION\n;;      id = 39595\n;;      qr = 1  aa = 0  tc = 0  rd = 1  opcode = QUERY\n;;      ra = 1  z  = 0  ad = 0  cd = 0  rcode  = NOERROR\n;;      qdcount = 1     ancount = 4     nscount = 0     arcount = 0\n;;      do = 0\n\n;; QUESTION SECTION (1 record)\n;; google.com.  IN      NS\n\n;; ANSWER SECTION (4 records)\ngoogle.com.     21599   IN      NS      ns4.google.com.\ngoogle.com.     21599   IN      NS      ns2.google.com.\ngoogle.com.     21599   IN      NS      ns1.google.com.\ngoogle.com.     21599   IN      NS      ns3.google.com.\n\n;; AUTHORITY SECTION (0 records)\n\n;; ADDITIONAL SECTION (0 records)</pre>\n\n<p>The <code>query</code> method returns a <a href=\"https://metacpan.org/pod/Net::DNS::Packet\" rel=\"nofollow\">Net::DNS::Packet</a> which provides other methods to obtain specific parts of the response.</p>\n\n<p>For example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Net::DNS;\n\nmy $resolver = Net::DNS::Resolver-&gt;new;\n\nmy $result = $resolver-&gt;query('google.com', \"NS\");\n\nfor my $answer ($result-&gt;answer) {\n    print $answer-&gt;nsdname, \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>ns2.google.com\nns1.google.com\nns3.google.com\nns4.google.com</pre>\n\n<p>If you are interested in the contents of the binary buffer, <code>Net::DNS::Packet</code> has a <code>data</code> method which returns the contents of that buffer. As <a href=\"https://www.ietf.org/rfc/rfc1035.txt\" rel=\"nofollow\">RFC 1035</a> points out:</p>\n\n<blockquote><pre>3.2. RR definitions\n\n3.2.1. Format\n\nAll RRs have the same top level format shown below:\n\n                                    1  1  1  1  1  1\n      0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n    |                                               |\n    /                                               /\n    /                      NAME                     /\n    |                                               |\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n    |                      TYPE                     |\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n    |                     CLASS                     |\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n    |                      TTL                      |\n    |                                               |\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n    |                   RDLENGTH                    |\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--|\n    /                     RDATA                     /\n    /                                               /\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n\n\nwhere:\n\nNAME            an owner name, i.e., the name of the node to which this\n                resource record pertains.\n\nTYPE            two octets containing one of the RR TYPE codes.\n\nCLASS           two octets containing one of the RR CLASS codes.\n\nTTL             a 32 bit signed integer that specifies the time interval\n                that the resource record may be cached before the source\n                of the information should again be consulted.  Zero\n                values are interpreted to mean that the RR can only be\n                used for the transaction in progress, and should not be\n                cached.  For example, SOA records are always distributed\n                with a zero TTL to prohibit caching.  Zero values can\n                also be used for extremely volatile data.\n\nRDLENGTH        an unsigned 16 bit integer that specifies the length in\n                octets of the RDATA field.\n\nRDATA           a variable length string of octets that describes the\n                resource.  The format of this information varies\n                according to the TYPE and CLASS of the resource record.\n</pre></blockquote>\n\n<p>You can examine the contents of <code>$result-&gt;data</code> by doing a hexdump:</p>\n\n<pre><code>#!/usr/bin/env perl                                                  \n\nuse strict;                                                          \nuse warnings;                                                        \nuse Net::DNS;                                                        \n\nmy $resolver = Net::DNS::Resolver-&gt;new;                              \nmy $result = $resolver-&gt;query('google.com', \"NS\");                   \nprint $result-&gt;data;                                                 \n</code></pre>\n\n<pre>C:\\...\\t> perl tt.pl | xxd                               \n00000000: 3256 8180 0001 0004 0000 0000 0667 6f6f  2V...........goo  \n00000010: 676c 6503 636f 6d00 0002 0001 c00c 0002  gle.com.........  \n00000020: 0001 0000 545f 0006 036e 7333 c00c c00c  ....T_...ns3....  \n00000030: 0002 0001 0000 545f 0006 036e 7334 c00c  ......T_...ns4..  \n00000040: c00c 0002 0001 0000 545f 0006 036e 7332  ........T_...ns2  \n00000050: c00c c00c 0002 0001 0000 545f 0006 036e  ..........T_...n  \n00000060: 7331 c00c                                s1..            </pre> \n"}], "owner": {"reputation": 2776, "user_id": 1144681, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3bea9f2d8516d7ebb5596aee518a0286?s=128&d=identicon&r=PG", "display_name": "rahuL", "link": "https://stackoverflow.com/users/1144681/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 31431342, "answer_count": 1, "score": -1, "last_activity_date": 1436968345, "creation_date": 1436964835, "question_id": 31430993, "link": "https://stackoverflow.com/questions/31430993/junk-output-or-random-character-in-datadumper-output-for-netdnsresolver-ob", "title": "Junk output or random character in Data::Dumper output for Net::DNS::Resolver object", "body": "<p>I am getting familiarized with the <code>Net::DNS</code> library in Perl and an object is created using</p>\n\n<pre><code>my $res = Net::DNS::Resolver-&gt;new();\n</code></pre>\n\n<p>However, simply trying to query a domain name shows a lot f junk values, though the output itself is correct. Here is the code snippet</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse Net::DNS;\nuse Net::IP;\nuse Data::Dumper;\nmy $rr;\n\n$domain = 'google.com';\nmy $res = Net::DNS::Resolver-&gt;new();\n\nmy $ns_req = $res-&gt;query($domain, \"NS\");\nprint \"\\n\\n@@@\\n\".Dumper($ns_req).\"\\n@@@\\n\\n\";\n</code></pre>\n\n<p>Here are 2 outputs for various domains tested against this object:\n<img src=\"https://i.stack.imgur.com/lvDph.png\" alt=\"google\">\n<img src=\"https://i.stack.imgur.com/TjQCx.png\" alt=\"domain using CF\"></p>\n\n<p>What are these junk values being displayed? Is there a way to clean up the output a bit in order to read the output properly?</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 2, "creation_date": 1436965005, "post_id": 31430933, "comment_id": 50832365, "body": "What&#39;s the question here? Nothing in that snippet is going to cause your script to exit. If you want the script to do that you need to tell it to <code>exit</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4927, "user_id": 2381750, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/edbe6ded64980bad2986da4fb6c598b9?s=128&d=identicon&r=PG&f=1", "display_name": "Eugeniu Rosca", "link": "https://stackoverflow.com/users/2381750/eugeniu-rosca"}, "is_accepted": false, "score": 2, "last_activity_date": 1436965551, "creation_date": 1436965551, "answer_id": 31431256, "question_id": 31430933, "link": "https://stackoverflow.com/questions/31430933/error-capture-of-perl-script-in-shell/31431256#31431256", "title": "Error capture of perl script in shell", "body": "<pre><code>if ! perl test.pl arg2 arg1; then\n    echo \"test.pl failed with error code $?\" &gt;&amp;2\n    exit 1\nfi\n</code></pre>\n\n<p>Use <code>return</code> instead of <code>exit</code>:</p>\n\n<ul>\n<li>to return from a shell function.</li>\n<li>to exit from a shell script that has been sourced.</li>\n</ul>\n"}], "owner": {"reputation": 555, "user_id": 4384625, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/743dbb4becdbf21ab889a65844ae2617?s=128&d=identicon&r=PG&f=1", "display_name": "Abhis", "link": "https://stackoverflow.com/users/4384625/abhis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436965691, "creation_date": 1436964702, "last_edit_date": 1436965691, "question_id": 31430933, "link": "https://stackoverflow.com/questions/31430933/error-capture-of-perl-script-in-shell", "title": "Error capture of perl script in shell", "body": "<p>I am trying to captuer the actual error of the perl script if it fails. And its not stopping and the next script is getting triggered.</p>\n\n<p><strong>UPDATED</strong>\nPython scripts are running fine only having problem with the perl script</p>\n\n<pre><code>if ! perl test.pl arg2 arg1 ;   \n        then\n        echo \"Error running test.pl in Preparing data for algorithm; rest of process stopped.\" &gt;&amp;2 &gt;&gt;$LOG_PATH/Perl_RUN_$TRACK_TIME\n\n    elif ! python themes.py;\n        then\n        echo \"Error running themes.py rest of process stopped.\" &gt;&amp;2 &gt;&gt;$LOG_PATH/Python_RUN_$feed_name'_'$TRACK_TIME \n\n    elif ! python $SCRIPT_PATH/pre_survey_dt.py;\n        then\n        echo \"Error running pre_survey_dt.py rest of process stopped.\" &gt;&amp;2 &gt;&gt;$LOG_PATH/Python_RUN_$TRACK_TIME\nfi\n</code></pre>\n\n<p>Please advice what I am missing here.</p>\n"}, {"tags": ["perl", "unit-testing", "exception", "perl-module", "die"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1436963759, "post_id": 31429650, "comment_id": 50831386, "body": "Why are you <code>do</code>ing your module? It&#39;s enough to say <code>use_ok &#39;My::SuperModule&#39;;</code> once. All the other <code>use_ok</code> and <code>do</code> are not necessary."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1436965444, "creation_date": 1436965444, "answer_id": 31431221, "question_id": 31429650, "link": "https://stackoverflow.com/questions/31429650/unit-test-for-testing-perl-script-module-exceptions-and-dieing/31431221#31431221", "title": "Unit test for testing Perl script/module exceptions and dieing", "body": "<p>It works for me. All I needed to do was:</p>\n\n<ol>\n<li>Comment out the two modules that the test wasn't using (Net::Ping and Utils::Variables::Validator - I don't have them installed).</li>\n<li>Add <code>1;</code> as the last line of the module - so it returns a true value.</li>\n<li>Remove the extra <code>require</code> and <code>use_ok</code> from the test.</li>\n<li>Added <code>done_testing;</code> to the end of the test - so the test harness knows that it got to the end of the tests.</li>\n</ol>\n\n<p>You probably don't care about the first item on that list, but if you fix the others, it should work for you.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 4, "last_activity_date": 1436969177, "creation_date": 1436969177, "answer_id": 31432721, "question_id": 31429650, "link": "https://stackoverflow.com/questions/31429650/unit-test-for-testing-perl-script-module-exceptions-and-dieing/31432721#31432721", "title": "Unit test for testing Perl script/module exceptions and dieing", "body": "<p>Here is a minimal example that works:</p>\n\n<pre><code>package My::SuperModule;\nuse strict;\nuse warnings;\n\nsub new {\n    die \"Hello\";\n}\n\npackage main;\n\nrun() unless caller;\n\nuse Test::More;\nuse Test::Exception;\n\nsub run {\n    dies_ok { My::SuperModule-&gt;new } \"dies ok\";\n    done_testing;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>C:\\...\\t> prove -v my.pl\nmy.pl ..\nok 1 - dies ok\n1..1\nok\nAll tests successful.\nFiles=1, Tests=1,  0 wallclock secs ( 0.09 usr +  0.00 sys =  0.09 CPU)\nResult: PASS</pre>\n\n<p>Note that, for the purpose of providing a self-contained example, I combined the module code and the test script into a single file.</p>\n\n<p>Also note that I did not clutter the test script with unnecessary <code>print</code> statements.</p>\n\n<p>If you want, you can use <code>diag</code> to show some output:</p>\n\n<pre><code>diag \"Checking if Test::Exception::dies_ok will catch die in new\";\ndies_ok { My::SuperModule-&gt;new } \"dies ok\";\ndone_testing;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>C:\\...\\t> prove my.pl\nmy.pl .. # Checking if Test::Exception::dies_ok will catch die in new\nmy.pl .. ok\nAll tests successful.\nFiles=1, Tests=1,  0 wallclock secs ( 0.05 usr +  0.02 sys =  0.06 CPU)\nResult: PASS</pre>\n\n<p>As opposed to plain <code>print</code> statements, <code>diag</code> output will actually be shown when tests are run from a harness such as <code>prove</code>.</p>\n"}], "owner": {"reputation": 4078, "user_id": 2781271, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/22d16d429b7ea7d58974f91c889fbdcd?s=128&d=identicon&r=PG", "display_name": "CROSP", "link": "https://stackoverflow.com/users/2781271/crosp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 31432721, "answer_count": 2, "score": 2, "last_activity_date": 1436982859, "creation_date": 1436961198, "last_edit_date": 1436982859, "question_id": 31429650, "link": "https://stackoverflow.com/questions/31429650/unit-test-for-testing-perl-script-module-exceptions-and-dieing", "title": "Unit test for testing Perl script/module exceptions and dieing", "body": "<p>I am trying to create unit tests for my script using the <code>Test::More</code> and <code>Test::Exception</code> libraries.<br>\nI have read these articles <a href=\"http://perltricks.com/article/157/2015/3/5/How-to-test-for-exceptions-in-Perl\" rel=\"nofollow\">How to test for exceptions in Perl</a> and <a href=\"https://metacpan.org/pod/Test::Exception\" rel=\"nofollow\">Test::Exception</a>.<br>\nThe first article describes exactly what I need, to test my subroutine for throwing exception or dieing.<br>\nBut I cannot get it working. Consider some examples </p>\n\n<pre><code>    #!/usr/bin/env perl\n    package My::SuperModule;\n    use strict;\n    use warnings;\n    use Net::Ping;\n    use Utils::Variables::Validator;\n\n    sub new\n    {\n        die \"Hello\";\n        #Getting class name from, stored in $_[0]\n        my $class = shift;\n        #Getting user name from arguments $_[1]\n        my $user_name = shift;\n    ........\n}\n</code></pre>\n\n<p>And my test file </p>\n\n<pre><code>    use warnings;    # this warns you of bad practices\n    use strict;      # this prevents silly errors\n    use Test::More; # for the is() and isnt() functions\n    use Test::Exception;\n    do './My/SuperModule.pm';\n    #Testing module loading \n    print \"=================Testing module loading=================\\n\";\n    use_ok ( 'My::SuperModule' );\n    use_ok ( 'My::SuperModule', 'new' );\n    #Testing module subroutines\n    dies_ok { My::SuperModule-&gt;new() } \"Died in class constructor\";\n     sub div {\n    my ( $a, $b ) = @_;\n    return $a / $b;\n};\n    dies_ok { div( 1, 0 ) } 'divide by zero detected';\n</code></pre>\n\n<p>It stops executing script in any case, but I need just to handle if died, I need to test this because I manually invoke die if data is invalid or something other , but it dies and doesn't continue to execute the script further. Giving me a message </p>\n\n<pre><code>Uncaught exception from user code:\n    Hello at ../libs/My/SuperModule.pm line 31.\n    My::SuperModule::new('My::SuperModule', '') called at SuperModule.t line 24\n# Tests were run but no plan was declared and done_testing() was not seen.\n# Looks like your test exited with 2 just after 8.\n</code></pre>\n\n<p>But if to use division by zero it works like I want</p>\n\n<pre><code>ok 16 - divide by zero detected\n</code></pre>\n\n<p>So it fails but doesn't terminate execution of the script. </p>\n\n<p>I am newbie in Perl, so cannot solve the problem by myself, maybe there is not problem at all, just no way to do what I want.<br>\nPlease suggest what to do or say where is my fault here.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have just tried to divide by zero inside my module new subroutine and here is the message I got.    </p>\n\n<pre><code>Illegal division by zero at ../libs/My/SuperModule.pm line 33 (#1)\n    (F) You tried to divide a number by 0.  Either something was wrong in\n    your logic, or you need to put a conditional in to guard against\n    meaningless input.\n</code></pre>\n\n<p>I really cannot figure out what is going on. Please help with this.</p>\n"}, {"tags": ["perl", "command-line"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1436960748, "post_id": 31429474, "comment_id": 50829290, "body": "Not really - you can do a lot of complicated stuff in a script, so &#39;reducing&#39; it isn&#39;t always possible. Also: Why do you want to do this?"}, {"owner": {"reputation": 15, "user_id": 4313369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/he3ma.jpg?s=128&g=1", "display_name": "Reillusion", "link": "https://stackoverflow.com/users/4313369/reillusion"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436961112, "post_id": 31429474, "comment_id": 50829512, "body": "Every now and then I&#39;m editing a script which I&#39;m using on few remote servers to which I have access through command-line. Figured it would be easiest to maintain it as full script then dynamically convert it to one-liner and send through the console."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436961347, "post_id": 31429474, "comment_id": 50829673, "body": "Can do that as a HEREDOC easily enough, rather than a one liner."}], "answers": [{"tags": [], "owner": {"reputation": 36401, "user_id": 142454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b0e3f6ae64ff27a7a01a0f49f8ee469?s=128&d=identicon&r=PG", "display_name": "Warren Young", "link": "https://stackoverflow.com/users/142454/warren-young"}, "is_accepted": true, "score": 1, "last_activity_date": 1436966445, "last_edit_date": 1436966445, "creation_date": 1436964853, "answer_id": 31431005, "question_id": 31429474, "link": "https://stackoverflow.com/questions/31429474/how-can-i-convert-perl-script-into-one-liner/31431005#31431005", "title": "How can I convert Perl script into one-liner", "body": "<p>Perl is a free-form syntax language with clear statement and block separators, so there is nothing preventing you from simply folding a normal script up into a single line.</p>\n\n<p>To use your example in reverse, you could write it as:</p>\n\n<pre><code>$ perl -e 'LINE: while (defined($_ = &lt;ARGV&gt;)) { s/(\\d+)/localtime($1);/e; } continue { print $_; }'\n</code></pre>\n\n<p>This is a rather contrived example, since there is a shorter and clearer way to write it. Presumably you're starting with scripts that are already as short and clear as they should be.</p>\n\n<p>Any <code>use</code> statements in your program can be turned into <code>-M</code> flags.</p>\n\n<p>Obviously you have to be careful about quoting and other characters that are special to the shell. You mention running this on a remote system, by which I assume you mean SSH, which means you now have two levels of shell to sneak any escaping through. It can be tricky to work out the proper sequence of escapes, but it's always doable.</p>\n\n<p>This method may work for automatically translating a Perl script on disk into a one-liner:</p>\n\n<pre><code>$ perl -e \"$(tr '\\n' ' ' &lt; myscript.pl)\"\n</code></pre>\n\n<p>The Perl script can't have comments in it, since that would comment out the entire rest of the script. If that's a problem, a bit of <code>egrep -v '\\w+#'</code> type hackery could solve the problem.</p>\n"}], "owner": {"reputation": 15, "user_id": 4313369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/he3ma.jpg?s=128&g=1", "display_name": "Reillusion", "link": "https://stackoverflow.com/users/4313369/reillusion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 31431005, "answer_count": 1, "score": 1, "last_activity_date": 1436966445, "creation_date": 1436960638, "last_edit_date": 1495535635, "question_id": 31429474, "link": "https://stackoverflow.com/questions/31429474/how-can-i-convert-perl-script-into-one-liner", "title": "How can I convert Perl script into one-liner", "body": "<p>I know of Perl compiler back-end that allows you to convert any one-liner into script on following matter: </p>\n\n<pre><code>perl -MO=Deparse -pe 's/(\\d+)/localtime($1)/e'\n</code></pre>\n\n<p>Which would give the following output</p>\n\n<pre><code>LINE: while (defined($_ = &lt;ARGV&gt;)) {\ns/(\\d+)/localtime($1);/e;\n}\ncontinue {\n    print $_;\n}\n</code></pre>\n\n<p>Is there possibly a reverse tool, usable from command-line, which provided full script will generate one-liner version of it? </p>\n\n<p>Note: The above example was taken from <a href=\"https://stackoverflow.com/a/2822721/4313369\">https://stackoverflow.com/a/2822721/4313369</a>.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "edited": false, "score": 0, "creation_date": 1436965796, "post_id": 31430522, "comment_id": 50832996, "body": "Hey Hakon, I started looking at this, but I felt it was less than optimal because the string could be in Quote::Double, Quote::Single or possibly something I don&#39;t know about.  Then I thought perhaps find is the way, then I stopped and asked :)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "edited": false, "score": 0, "creation_date": 1436966467, "post_id": 31430522, "comment_id": 50833513, "body": "@mark I am not sure how to simplify this, but it is a good question anyway. Nice to learn about this feature of the PPI :)"}, {"owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "edited": false, "score": 1, "creation_date": 1436972490, "post_id": 31430522, "comment_id": 50838275, "body": "PPI seems really useful, but I think it needs a cookbook of simple operations. I&#39;ll try and pull one together and share."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1436963615, "creation_date": 1436963615, "answer_id": 31430522, "question_id": 31429216, "link": "https://stackoverflow.com/questions/31429216/finding-a-string-in-a-subroutine-with-perl-ppi/31430522#31430522", "title": "Finding a string in a subroutine with perl PPI", "body": "<p>You could try iterate through all <code>PPI::Token::Quote::Double</code> for each subroutine using for example:</p>\n\n<pre><code>my @result = map {[ $_-&gt;name, $_-&gt;find( 'PPI::Token::Quote::Double' )] } @$subs_ref;\n\nfor my $elem (@result) {\n    say $elem-&gt;[0];\n    my $found = 0;\n    for my $node ( @{$elem-&gt;[1]} ) {\n        my $str = $node-&gt;content;\n        $found = 1 if $str =~ \"signup/welcome\";\n    }\n    say \"--&gt;\" . ($found ? \"found\" : \"not found\");\n}\n</code></pre>\n"}], "owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1436966062, "creation_date": 1436959923, "last_edit_date": 1495542668, "question_id": 31429216, "link": "https://stackoverflow.com/questions/31429216/finding-a-string-in-a-subroutine-with-perl-ppi", "title": "Finding a string in a subroutine with perl PPI", "body": "<p>This question is loosely related to <a href=\"https://stackoverflow.com/questions/31404586/how-can-i-find-all-the-methods-that-contain-a-specific-string-within-a-perl-code#31405900\">How can I find all the methods that contain a specific string within a Perl codeset?</a>.</p>\n\n<p>While working on that question, Hakon usefully suggested that I look at <a href=\"https://metacpan.org/pod/PPI\" rel=\"nofollow noreferrer\"><code>PPI</code></a>.</p>\n\n<p>PPI intrigued me and, as a learning exercise, I've been trying to use it to pass a file and within the file find methods that contain a specific string.</p>\n\n<p>PPI is large and feature-rich and I'm stuck on the best way to search within a subroutine.  I'm stuck both in my understanding of the PDOM and also the best method for finding strings</p>\n\n<p>So far I have:</p>\n\n<pre><code>#The file to parse\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n    or die \"Could not open file '$filename' $!\";\n\n#Read in the entire file (they're not that large).\nmy $src = do { local $/; &lt;$fh&gt; };\n\n# Load a document\nmy $doc = PPI::Document-&gt;new( \\$src );\nmy $subs_ref = $doc-&gt;find( sub { $_[1]-&gt;isa('PPI::Statement::Sub') });\n\n#Test I actually have the subs print their names...\nmy @sub_names = map { $_-&gt;name } @$subs_ref;\nwarn \"@sub_names\";\n\n# This is where I get stuck.  Do I now use PPI::Find?\nmy $result = $subs_ref-&gt;find( \\&amp;wanted ); #What does wanted contain?\n\n#I can see I now have PDOM objects created for individual subroutines within file   \nmy $sub = $subs_ref-&gt;[0];\nwarn \"name is \" . $sub-&gt;name;\nwarn Dumper $sub;\n</code></pre>\n\n<p>Using the above I can see that I have parsed the file and can access PDOM objects for each subroutine within file.</p>\n\n<p>A sample of the PDOM object looks like this:</p>\n\n<pre><code>$VAR1 = bless( {\n                 'children' =&gt; [\n                                 bless( {\n                                          'content' =&gt; 'sub'\n                                        }, 'PPI::Token::Word' ),\n                                 bless( {\n                                          'content' =&gt; ' '\n                                        }, 'PPI::Token::Whitespace' ),\n                                 bless( {\n                                          'content' =&gt; 'Welcome'\n                                        }, 'PPI::Token::Word' ),\n                                 bless( {\n                                          'content' =&gt; ' '\n                                        }, 'PPI::Token::Whitespace' ),\n                                 bless( {\n                                          'finish' =&gt; bless( {\n                                                               'content' =&gt; '}'\n                                                             }, 'PPI::Token::Structure' ),\n                                          'start' =&gt; bless( {\n                                                              'content' =&gt; '{'\n                                                            }, 'PPI::Token::Structure' ),\n                                          'children' =&gt; [\n</code></pre>\n\n<p>And I'm searching for strings which may be contained within double or single quotes. E.g: </p>\n\n<pre><code>bless( {\n'separator' =&gt; '\"',\n'content' =&gt; '\"signup/welcome_$user_type\"'\n}, 'PPI::Token::Quote::Double' ),\n</code></pre>\n\n<p>My question: \nWhat's the best approach for searching for \"signup/welcome\" within $subs_ref->[i]?  Do I use PPI::Find (and if yes, could you give me an example?) or is there a better approach?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436955850, "post_id": 31426974, "comment_id": 50826273, "body": "Please show the code you are having problems with"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1436953866, "creation_date": 1436953866, "answer_id": 31427053, "question_id": 31426974, "link": "https://stackoverflow.com/questions/31426974/how-to-extract-the-date-from-the-string-pattern-in-perl/31427053#31427053", "title": "How to extract the date from the string pattern in perl", "body": "<p>The simplest solution is a regular expression match. Assuming your date is <em>always</em> the first 8 digits in your string:</p>\n\n<pre><code>my ( $date ) = ( $string =~ m/(\\d{8})/ );\n</code></pre>\n\n<p>If it's more complicated than that, you'll need to be a bit more specific. </p>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 4894585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eccc0f3f16d095977d35aeee0c6818a?s=128&d=identicon&r=PG&f=1", "display_name": "QASource", "link": "https://stackoverflow.com/users/4894585/qasource"}, "is_accepted": true, "score": 0, "last_activity_date": 1436966187, "creation_date": 1436966187, "answer_id": 31431490, "question_id": 31426974, "link": "https://stackoverflow.com/questions/31426974/how-to-extract-the-date-from-the-string-pattern-in-perl/31431490#31431490", "title": "How to extract the date from the string pattern in perl", "body": "<p>Below is the code to extract the data from the above string:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $string = q{Simple_Invoice_Report.Summary.20150701000000.csv};\nif($string =~ m#.(\\d{8})\\d+.csv#g){\n    print $1;\n}\n</code></pre>\n\n<p>Output: 20150701</p>\n"}], "owner": {"reputation": 45, "user_id": 4764990, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/de9f8fab0f265efabf8d740ab771fe68?s=128&d=identicon&r=PG&f=1", "display_name": "Rock Star", "link": "https://stackoverflow.com/users/4764990/rock-star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 31431490, "answer_count": 2, "score": -2, "last_activity_date": 1436966187, "creation_date": 1436953670, "last_edit_date": 1436954153, "question_id": 31426974, "link": "https://stackoverflow.com/questions/31426974/how-to-extract-the-date-from-the-string-pattern-in-perl", "title": "How to extract the date from the string pattern in perl", "body": "<p>How do I extract date <code>Simple_Invoice_Report.Summary.20150701000000.csv</code> from this string in perl?</p>\n\n<p>i.e. <code>20150701</code></p>\n\n<p>Can you please help me out.</p>\n"}, {"tags": ["java", "performance", "perl"], "comments": [{"owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 0, "creation_date": 1436952409, "post_id": 31426471, "comment_id": 50824081, "body": "**Note: The app is performance critical.**Hence 2.6ms matters."}, {"owner": {"reputation": 36628, "user_id": 714965, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5ae268c9a6193b97d3e08da193ac502e?s=128&d=identicon&r=PG", "display_name": "Kai", "link": "https://stackoverflow.com/users/714965/kai"}, "edited": false, "score": 0, "creation_date": 1436952506, "post_id": 31426471, "comment_id": 50824130, "body": "You should really use a library for parsing CSV. I can&#39;t say anything about performance but I recommend <a href=\"http://opencsv.sourceforge.net\" rel=\"nofollow noreferrer\">OpenCSV</a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1436952882, "post_id": 31426471, "comment_id": 50824367, "body": "Same goes for Perl. <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">metacpan.org/pod/Text::CSV</a> will be much safer than your own implementation."}, {"owner": {"reputation": 3053, "user_id": 1436926, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/X1720.jpg?s=128&g=1", "display_name": "Raghavendra", "link": "https://stackoverflow.com/users/1436926/raghavendra"}, "edited": false, "score": 2, "creation_date": 1436953107, "post_id": 31426471, "comment_id": 50824503, "body": "perl is basically a text processing purpsoe language. they developed text processing in mind"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1436953831, "post_id": 31426471, "comment_id": 50824997, "body": "There is a lot you can do to make that Perl code go faster!"}, {"owner": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1436954312, "post_id": 31426471, "comment_id": 50825309, "body": "The first thing you want to do is use a <code>Pattern</code> instead of calling <code>.split(&quot;,&quot;)</code> on <code>String</code> instances; given how you currently do it, a <code>Pattern</code> is created for each processed line of the CSV"}, {"owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 0, "creation_date": 1436957469, "post_id": 31426471, "comment_id": 50827202, "body": "I cant use OpenCSV. , because it will not only be a CSV the file could be even XML, but process should be within ms.Process will not be with a complex logic ,.but the IO will be huge. Why Java is Soo Slow ???"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1436967350, "post_id": 31426471, "comment_id": 50834231, "body": "<a href=\"http://stackoverflow.com/questions/13916962\"><code>Text::CSV</code> may be safer but it is probably slower than your existing impl</a>"}, {"owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "edited": false, "score": 0, "creation_date": 1436974573, "post_id": 31426471, "comment_id": 50839762, "body": "These 2.6 ms, is this the time you measured? How do you get 2.6 when dealing with integers? How do you ignore class loading time, when classes get loaded as needed?"}, {"owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "reply_to_user": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "edited": false, "score": 0, "creation_date": 1436976871, "post_id": 31426471, "comment_id": 50841396, "body": "@maaartinus , my mistake for Perl its 0.8 s and for java its 2600ms i.e 2.6 s. I corrected that. And I have used only one class and used currenttimeinmilies to measures the time taken by the actual logic(which is same for java and perl) on this same class . please have a look in my java code. And that means the VM is already initialized and the class is loaded , then system.currenttimeinmilis called. Hope it clarifies your question."}, {"owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "edited": false, "score": 1, "creation_date": 1436988012, "post_id": 31426471, "comment_id": 50847901, "body": "OK, this makes more sense. See my answer. Your Java is far from nice, if you&#39;re interested in making the code better, post it on <a href=\"http://codereview.stackexchange.com/questions/tagged/java\">code review</a>. Please, clean it up a bit first."}], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 0, "creation_date": 1436973786, "post_id": 31434385, "comment_id": 50839182, "body": "Thanks!!I will try, and let you know."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "is_accepted": false, "score": 0, "last_activity_date": 1436973393, "creation_date": 1436973393, "answer_id": 31434385, "question_id": 31426471, "link": "https://stackoverflow.com/questions/31426471/java-performance-issue-compared-to-perl/31434385#31434385", "title": "Java performance issue compared to Perl", "body": "<p>One obvious thing: use of <code>split()</code> will slow you down. According to JDK source code I can find online, Java does not cache compiled regexps (please correct me if I am wrong).</p>\n\n<p>Make sure you use pre-compiled regexps in your Java code.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436989102, "post_id": 31439182, "comment_id": 50848491, "body": "You make some good points. I would add that the OP has implemented the Perl code exactly, including making <code>store</code> (<code>%hash</code> in Perl) a hash of hashes. The corresponding Java TreeMap of HashMaps is far less obvious and presumably much slower than the Perl original. Perl buffers input streams in an 8KB buffer by default, but its <code>split</code> doesn&#39;t use the regex engine. I don&#39;t know how <code>FileFilter</code> works, but I believe Perl can emulate the filter quicker than shelling out to <code>find</code>. In the end I think it is down to the OP to present what he has. I haven&#39;t seen a good case for a rewrite"}, {"owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 0, "creation_date": 1436990935, "post_id": 31439182, "comment_id": 50849503, "body": "Thanks for your answer, it make sense.  I would like to add few things, 1. I got the class loading part, when its required , the class is getting loaded. 2. Treemap part, actually in Perl also I am sorting the map ,hence treemap in java., and with hashmap also no improvement."}, {"owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 0, "creation_date": 1436990978, "post_id": 31439182, "comment_id": 50849533, "body": "3.The splits internal regex part is new for me.4.Initially I used default buffer size for reader, but then I though maybe due to more disk IOs the performance is slow, hence I increased it. But nothing changed in terms of timings"}, {"owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 0, "creation_date": 1436991224, "post_id": 31439182, "comment_id": 50849654, "body": "5. Even inside the test read method after filefilter I added timings , which shows, the main time is taken by while loop. @maaartinus, you also told java is good for long run, yes this will be a job which will run for ever , my question is if it run forever then will it improve the performance from 2nd 3rd run onwards???"}, {"owner": {"reputation": 29146, "user_id": 2616073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0b2c38a8f7657b6504f67f714cc2f7?s=128&d=identicon&r=PG", "display_name": "dkatzel", "link": "https://stackoverflow.com/users/2616073/dkatzel"}, "edited": false, "score": 0, "creation_date": 1436991711, "post_id": 31439182, "comment_id": 50849959, "body": "Also the readers aren&#39;t being closed so there&#39;s 500 Readers out there taking up memory"}, {"owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "reply_to_user": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 1, "creation_date": 1436997884, "post_id": 31439182, "comment_id": 50853136, "body": "@user3080158 I&#39;d bet, it&#39;ll get better when iterating multiple times. A typical benchmark makes 5-20 throw-away iterations before it starts measuring the time. The question is how good it gets. Without closing the readers, you&#39;ll run out of file descriptors soon. +++ If you could provide the data, someone could try harder to optimize."}, {"owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 0, "creation_date": 1437040852, "post_id": 31439182, "comment_id": 50869731, "body": "@maaartinus,thanks it worked !!See the result while running on a small dataset,.  <b>Time taken for 0 is 218ms Time taken for 1 is 134ms Time taken for 2 is 127ms</b> Time taken for 3 is 98ms Time taken for 4 is 90ms Time taken for 5 is 77ms Time taken for 6 is 71ms Time taken for 7 is 72ms Time taken for 8 is 62ms Time taken for 9 is 57ms Time taken for 10 is 53ms Time taken for 11 is 58ms Time taken for 12 is 59ms Time taken for 13 is 46ms Time taken for 14 is 44ms Time taken for 15 is 45ms  <b>For first few instance time taken is more , and then its reduced ,.. Why ???</b>"}, {"owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "reply_to_user": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 1, "creation_date": 1437049491, "post_id": 31439182, "comment_id": 50875250, "body": "@RBanerjee That&#39;s JIT compilation. At first, the code gets interpreted and stats get collected. Concurrently, a simple compiler (C1) runs and produces some medium quality code, which gets used when ready. Then, a better compiler (C2) runs to produce highly optimized code. And this all holds for each relevant part of the code (parts executed just a few times usually need no compilation). It&#39;s actually a bit more complicated (google out OSR or deoptimization)."}, {"owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "edited": false, "score": 0, "creation_date": 1437060317, "post_id": 31439182, "comment_id": 50883612, "body": "@maaartinus, I got the answer. A lot of learning for me.Thanks!!"}], "tags": [], "owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "is_accepted": true, "score": 4, "last_activity_date": 1436988405, "last_edit_date": 1436988405, "creation_date": 1436987861, "answer_id": 31439182, "question_id": 31426471, "link": "https://stackoverflow.com/questions/31426471/java-performance-issue-compared-to-perl/31439182#31439182", "title": "Java performance issue compared to Perl", "body": "<p>A few seconds are not enough for Java to get to its full speed because of JIT compilation. Java is optimized for servers running for hours (or years), not for tiny utilities taking just a few seconds.</p>\n\n<p>Concerning class loading, I guess you don't know about e.g. <code>Pattern</code> and <code>Matcher</code> which you use indirectly in <code>split</code> and which get loaded as needed.</p>\n\n<hr>\n\n<pre><code>static Map&lt;String, Map&lt;String,Integer&gt;&gt; store= new TreeMap&lt;String, Map&lt;String,Integer&gt;&gt;(); \n</code></pre>\n\n<p>A Perl hash is most like a Java <code>HashMap</code>, but you're using a <code>TreeMap</code> which is slower. I guess this doesn't matter, just note that there are way more differences than you think.</p>\n\n<hr>\n\n<pre><code> int timediffinhr=(int) ((System.currentTimeMillis()-pathname.lastModified())/86400000);\n</code></pre>\n\n<p>You're reading the time for each file again and again. You're doing it even for those whose name doesn't end with \".csv\". That's surely not what <code>find</code> does.</p>\n\n<hr>\n\n<pre><code>String timestamp=mf.getName().split(\"~\")[5].replace(\".csv\", \"\");\n</code></pre>\n\n<p>Unlike Perl, Java doesn't cache regexes. As far as I know the split on a single character gets optimized separately, but otherwise you'd be much better with using something like</p>\n\n<pre><code>private static final Pattern FILENAME_PATTERN =\n    Pattern.compile(\"(?:[^~]*~){5}~([^~]*)\\\\.csv\");\n\nMatcher m = FILENAME_PATTERN.matcher(mf.getName());\nif (!m.matches) ... do what you want\nString timestamp = m.group(1);\n</code></pre>\n\n<hr>\n\n<pre><code> BufferedReader br = new BufferedReader(new FileReader(mf), 1024*500);\n</code></pre>\n\n<p>This could be the culprit. By default, it uses platform encoding, which may be UTF-8. This is usually slower than ASCII or LATIN-1. As far as I know Perl works directly with bytes unless instructed otherwise.</p>\n\n<p>The buffer size of half a megabyte is insanely big for anything taking just a few seconds, especially when you allocate it multiple times. Note that there's nothing like this in your Perl code.</p>\n\n<hr>\n\n<p>That all said, Perl and <code>find</code> might be indeed faster for such short tasks.</p>\n"}], "owner": {"reputation": 809, "user_id": 3080158, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100000221625915/picture?type=large", "display_name": "RBanerjee", "link": "https://stackoverflow.com/users/3080158/rbanerjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1387, "favorite_count": 2, "accepted_answer_id": 31439182, "answer_count": 2, "score": 3, "last_activity_date": 1437041142, "creation_date": 1436952339, "last_edit_date": 1437041142, "question_id": 31426471, "link": "https://stackoverflow.com/questions/31426471/java-performance-issue-compared-to-perl", "title": "Java performance issue compared to Perl", "body": "<p>I have written a Perl code to process huge number of CSV files and get output, which is taking 0.8326 seconds to complete.</p>\n\n<pre><code>my $opname = $ARGV[0];\nmy @files = `find . -name \"*${opname}*.csv\";mtime -10 -type f`;\nmy %hash;\nforeach my $file (@files) {\nchomp $file;\nmy $time = $file;\n$time =~ s/.*\\~(.*?)\\..*/$1/;\n\nopen(IN, $file) or print \"Can't open $file\\n\";\nwhile (&lt;IN&gt;) {\n    my $line = $_;\n    chomp $line;\n\n    my $severity = (split(\",\", $line))[6];\n    next if $severity =~ m/NORMAL/i;\n    $hash{$time}{$severity}++;\n}\nclose(IN);\n\n}\nforeach my $time (sort {$b &lt;=&gt; $a} keys %hash) {\n    foreach my $severity ( keys %{$hash{$time}} ) {\n        print $time . ',' . $severity . ',' . $hash{$time}{$severity} . \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Now I'm writing the same logic in Java, which I wrote but taking 2600ms i.e 2.6 sec to complete. My question is why Java is taking so long time? How to achieve the same speed as Perl?\nNote: I ignored the VM initialization and class loading time. </p>\n\n<pre><code>    import java.io.BufferedReader;\n    import java.io.File;\n    import java.io.FileFilter;\n    import java.io.FileReader;\n    import java.io.IOException;\n    import java.util.HashMap;\n    import java.util.Map;\n    import java.util.TreeMap;\n\n    public class MonitoringFileReader {\n        static Map&lt;String, Map&lt;String,Integer&gt;&gt; store= new TreeMap&lt;String, Map&lt;String,Integer&gt;&gt;(); \n        static String opname;\n        public static void testRead(String filepath) throws IOException\n        {\n            File file = new File(filepath);\n\n            FileFilter fileFilter= new FileFilter() {\n\n                @Override\n                public boolean accept(File pathname) {\n                    // TODO Auto-generated method stub\n                    int timediffinhr=(int) ((System.currentTimeMillis()-pathname.lastModified())/86400000);\n                    if(timediffinhr&lt;10 &amp;&amp; pathname.getName().endsWith(\".csv\")&amp;&amp; pathname.getName().contains(opname)){\n                        return true;\n                        }\n                    else\n                        return false;\n                }\n            };\n\n            File[] listoffiles= file.listFiles(fileFilter);\n        long time= System.currentTimeMillis();  \n            for(File mf:listoffiles){\n                String timestamp=mf.getName().split(\"~\")[5].replace(\".csv\", \"\");\n                BufferedReader br= new BufferedReader(new FileReader(mf),1024*500);\n                String line;\n                Map&lt;String,Integer&gt; tmp=store.containsKey(timestamp)?store.get(timestamp):new HashMap&lt;String, Integer&gt;();\n                while((line=br.readLine())!=null)\n                {\n                    String severity=line.split(\",\")[6];\n                    if(!severity.equals(\"NORMAL\"))\n                    {\n                        tmp.put(severity, tmp.containsKey(severity)?tmp.get(severity)+1:1);\n                    }\n                }\n            store.put(timestamp, tmp);\n            }\n        time=System.currentTimeMillis()-time;\n            System.out.println(time+\"ms\");  \n            System.out.println(store);\n\n\n        }\n\n        public static void main(String[] args) throws IOException\n        {\n            opname = args[0];\n            long time= System.currentTimeMillis();\n            testRead(\"./SMF/data/analyser/archive\");\n            time=System.currentTimeMillis()-time;\n            System.out.println(time+\"ms\");\n        }\n\n    }\n</code></pre>\n\n<p>File input format(A~B~C~D~E~20150715080000.csv),around 500 files of ~1MB each,</p>\n\n<pre><code>A,B,C,D,E,F,CRITICAL,G\nA,B,C,D,E,F,NORMAL,G\nA,B,C,D,E,F,INFO,G\nA,B,C,D,E,F,MEDIUM,G\nA,B,C,D,E,F,CRITICAL,G\n</code></pre>\n\n<p>Java Version: 1.7</p>\n\n<p><strong>////////////////////Update///////////////////</strong></p>\n\n<p>As per the below comments ,\nI replaced the split with regex , and the performance is improved a lot.\nNow I am doing this in a loop , and after 3-10 iteration the performance is quite acceptable .</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileFilter;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n    public class MonitoringFileReader {\n        static Map&lt;String, Map&lt;String,Integer&gt;&gt; store= new HashMap&lt;String, Map&lt;String,Integer&gt;&gt;(); \n        static String opname=\"Etis_Egypt\";\n        static Pattern pattern1=Pattern.compile(\"(\\\\d+\\\\.)\");\n        static Pattern pattern2=Pattern.compile(\"(?:\\\"([^\\\"]*)\\\"|([^,]*))(?:[,])\");\n        static long currentsystime=System.currentTimeMillis();\n        public static void testRead(String filepath) throws IOException\n        {\n            File file = new File(filepath);\n\n            FileFilter fileFilter= new FileFilter() {\n\n                @Override\n                public boolean accept(File pathname) {\n                    // TODO Auto-generated method stub\n                    int timediffinhr=(int) ((currentsystime-pathname.lastModified())/86400000);\n                    if(timediffinhr&lt;10 &amp;&amp; pathname.getName().endsWith(\".csv\")&amp;&amp; pathname.getName().contains(opname)){\n                        return true;\n                        }\n                    else\n                        return false;\n                }\n            };\n\n            File[] listoffiles= file.listFiles(fileFilter);\n        long time= System.currentTimeMillis();  \n            for(File mf:listoffiles){\n                Matcher matcher=pattern1.matcher(mf.getName());\n                matcher.find();\n                //String timestamp=mf.getName().split(\"~\")[5].replace(\".csv\", \"\");\n                String timestamp=matcher.group();\n                BufferedReader br= new BufferedReader(new FileReader(mf));\n                String line;\n                Map&lt;String,Integer&gt; tmp=store.containsKey(timestamp)?store.get(timestamp):new HashMap&lt;String, Integer&gt;();\n                while((line=br.readLine())!=null)\n                {\n                    matcher=pattern2.matcher(line);\n                    matcher.find();matcher.find();matcher.find();matcher.find();matcher.find();matcher.find();matcher.find();\n                    //String severity=line.split(\",\")[6];\n                    String severity=matcher.group();\n                    if(!severity.equals(\"NORMAL\"))\n                    {\n                        tmp.put(severity, tmp.containsKey(severity)?tmp.get(severity)+1:1);\n                    }\n                }\n                br.close();\n            store.put(timestamp, tmp);\n            }\n        time=System.currentTimeMillis()-time;\n            //System.out.println(time+\"ms\");    \n            //System.out.println(store);\n\n\n        }\n\n        public static void main(String[] args) throws IOException\n        {\n            //opname = args[0];\n            for(int i=0;i&lt;20;i++){\n            long time= System.currentTimeMillis();\n            testRead(\"./SMF/data/analyser/archive\");\n            time=System.currentTimeMillis()-time;\n\n\n            System.out.println(\"Time taken for \"+i+\" is \"+time+\"ms\");\n            }\n        }\n\n    }\n</code></pre>\n\n<p>But I have another question now ,</p>\n\n<p>See the result while running on a small dataset,.</p>\n\n<pre><code>**Time taken for 0 is 218ms\nTime taken for 1 is 134ms\nTime taken for 2 is 127ms**\nTime taken for 3 is 98ms\nTime taken for 4 is 90ms\nTime taken for 5 is 77ms\nTime taken for 6 is 71ms\nTime taken for 7 is 72ms\nTime taken for 8 is 62ms\nTime taken for 9 is 57ms\nTime taken for 10 is 53ms\nTime taken for 11 is 58ms\nTime taken for 12 is 59ms\nTime taken for 13 is 46ms\nTime taken for 14 is 44ms\nTime taken for 15 is 45ms\nTime taken for 16 is 53ms\nTime taken for 17 is 45ms\nTime taken for 18 is 61ms\nTime taken for 19 is 42ms\n</code></pre>\n\n<p>For first few instance time taken is more , and then its reduced ,..\nWhy ???</p>\n\n<p>Thanks ,    </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1436951812, "post_id": 31426070, "comment_id": 50823693, "body": "Please write an example to explain."}], "tags": [], "owner": {"reputation": 52, "user_id": 1758298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdfc06bcc65f65bc13afd4b69936d93?s=128&d=identicon&r=PG", "display_name": "acop", "link": "https://stackoverflow.com/users/1758298/acop"}, "is_accepted": false, "score": -1, "last_activity_date": 1436951303, "creation_date": 1436951303, "answer_id": 31426070, "question_id": 31425795, "link": "https://stackoverflow.com/questions/31425795/how-to-compare-multiple-variables-to-the-same-valueempty-in-perl/31426070#31426070", "title": "How to compare multiple variables to the same value(empty) in Perl?", "body": "<p>If those are in hash, then create an array with the keys you want to test and loop through them checking if value in hash is empty. </p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1436956222, "last_edit_date": 1436956222, "creation_date": 1436951465, "answer_id": 31426114, "question_id": 31425795, "link": "https://stackoverflow.com/questions/31425795/how-to-compare-multiple-variables-to-the-same-valueempty-in-perl/31426114#31426114", "title": "How to compare multiple variables to the same value(empty) in Perl?", "body": "<p>You can use <code>grep</code> with inverted logic,</p>\n\n<pre><code>if (!grep {$_ eq \"\"} $var1, $var2, $var3) { .. }\n</code></pre>\n\n<p>If there are too many variables, you can put their scalar references into an array, and perform <code>grep</code> on it,</p>\n\n<pre><code>my @sref = \\($var1, $var2, $var3);\nif (!grep {${$_} eq \"\"} @sref) { .. }\n</code></pre>\n\n<p><code>${$_}</code> or <code>$$_</code> dereferences scalar reference.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1436955671, "post_id": 31426237, "comment_id": 50826180, "body": "Yeah, that was the one I was thinking of!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1436955683, "last_edit_date": 1436955683, "creation_date": 1436951752, "answer_id": 31426237, "question_id": 31425795, "link": "https://stackoverflow.com/questions/31425795/how-to-compare-multiple-variables-to-the-same-valueempty-in-perl/31426237#31426237", "title": "How to compare multiple variables to the same value(empty) in Perl?", "body": "<p>If they're in a hash, you can access them as a slice and grep them:</p>\n\n<p>Something like this:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nmy %hash = (\n    \"to_test\"      =&gt; \"\",\n    \"to_ignore\"    =&gt; \"some value\",\n    \"also_to_test\" =&gt; \"\",\n    \"not_to_test\"  =&gt; \"content here\",\n);\n\nmy @keys = qw ( to_test also_to_test );\n\nunless ( grep { $_ ne '' } @hash{@keys} ) {\n    print \"Keys are all empty: @keys\\n\";\n}\n</code></pre>\n\n<p>You could do a similar thing with  named variables, but that's perhaps not quite as elegant.  </p>\n"}, {"comments": [{"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 0, "creation_date": 1436961449, "post_id": 31426330, "comment_id": 50829748, "body": "Your snipper works just as well as the one i&#39;ve accepted as an answer, but i try to minimize my external dependencies due to portability reasons(the code i&#39;m writing will be used on multiple different computers by multiple different users, and having to install a libraries is kind of a pain in the arse), sooo nothing personal in not accepting your answer :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436961646, "post_id": 31426330, "comment_id": 50829872, "body": "<code>List::Util</code> is core in perl as of 5.7.3"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 0, "creation_date": 1436962400, "post_id": 31426330, "comment_id": 50830390, "body": "@AdrianTodorov: You are welcome to accept whichever solution is best for you. I stopped chasing points a long time ago as I believe it interferes with writing a good answer. But you should be aware that every Perl installation includes a select number of <i>core</i> modules which will be available with that version of Perl wherever it is installed. <code>List::Util</code> has been a core module since version 5.8 over twenty years ago and you shouldn&#39;t hesitate to use it"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1436951968, "creation_date": 1436951968, "answer_id": 31426330, "question_id": 31425795, "link": "https://stackoverflow.com/questions/31425795/how-to-compare-multiple-variables-to-the-same-valueempty-in-perl/31426330#31426330", "title": "How to compare multiple variables to the same value(empty) in Perl?", "body": "<p>You could make use of <code>List::Util::all</code> like this</p>\n\n<pre><code>use List::Util 'all';\n\nif ( all { $_ ne '' } $var1, $var2, $var3 ) { ... }\n</code></pre>\n\n<p>but I would expect to see it in the form you show</p>\n\n<p>If you are testing the values of a hash then you should use a hash slice to select them</p>\n\n<pre><code>if ( all { $_ ne '' } @hash{@keys_to_check} ) { ... }\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1095, "favorite_count": 0, "accepted_answer_id": 31426237, "answer_count": 4, "score": 4, "last_activity_date": 1436956222, "creation_date": 1436950569, "question_id": 31425795, "link": "https://stackoverflow.com/questions/31425795/how-to-compare-multiple-variables-to-the-same-valueempty-in-perl", "title": "How to compare multiple variables to the same value(empty) in Perl?", "body": "<p>So, i have a few variables that i need to check for emptyness, and it would be nicer and easier if i could do it in some way other than comparing each and every one like this</p>\n\n<pre><code>if ($var1 ne \"\" &amp;&amp; $var2 ne \"\" &amp;&amp; $var3 ne\"\")\n</code></pre>\n\n<p>So is there a better way?</p>\n\n<p>PS: If anybody is going to propose to put them in a hash and loop through them, they are already in a hash, but they're not alone there, i have a lot of other values there(all are needed together later in the code, so spliting it wouldn't be easy).</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3906716"}, "edited": false, "score": 0, "creation_date": 1436947727, "post_id": 31424781, "comment_id": 50821197, "body": "Here is the entire file. <a href=\"https://drive.google.com/file/d/0B-bBG8G__J_CR2w2cW9iNXdxTGc/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0B-bBG8G__J_CR2w2cW9iNXdxTGc/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1436948770, "post_id": 31424781, "comment_id": 50821761, "body": "Instead of while ($row = ) use while(&lt;$fh&gt;).  You can access the current line with $_.  See example by Corey at <a href=\"http://stackoverflow.com/questions/1877330/how-can-i-read-the-lines-of-a-file-into-an-array-in-perl\" title=\"how can i read the lines of a file into an array in perl\">stackoverflow.com/questions/1877330/&hellip;</a>.  However note the javascript in it is all on one line so it may be possible to split it into another array and process each of its elements separately.  What to split on?  Semicolons might be a good candidate except they occur in for statements so it will take some work to use them properly for splitting."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1436950958, "post_id": 31424781, "comment_id": 50823135, "body": "@TrisNefger: There is nothing wrong with reading lines into a named variable. Some people insist on it"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1436955674, "last_edit_date": 1436955674, "creation_date": 1436950204, "answer_id": 31425682, "question_id": 31424781, "link": "https://stackoverflow.com/questions/31424781/in-perl-how-can-i-extract-certain-strings-from-a-minified-javascript-source-fil/31425682#31425682", "title": "In Perl, how can I extract certain strings from a minified JavaScript source file?", "body": "<p>Your problem is that the <code>.*</code> that you use in your regex is \"greedy\". It grabs as much of the input data as possible - which does right to the end of the file.</p>\n\n<p>You need to change that to <code>.*?</code> so that it grabs as little as possible. But you also need to define better markers for the beginning and end of the regex. Looks to me like your message is always in double-quotes. So let's use that.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy $input = do { local $/; &lt;&gt; };\n\n# Look for 'message:', then capture the following \" and\n# the minimal amount of test until you get the next \". Also\n# check for a following comma - to be safe.\nwhile ($input =~ /message:(\".*?\"),/) {\n  say $1;\n}\n</code></pre>\n\n<p>This will work unless your messages have embedded double-quote marks (which will presumably be escaped as <code>\\\"</code>). If that's the case, you'll need something more complex.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1436951254, "last_edit_date": 1436951254, "creation_date": 1436950268, "answer_id": 31425696, "question_id": 31424781, "link": "https://stackoverflow.com/questions/31424781/in-perl-how-can-i-extract-certain-strings-from-a-minified-javascript-source-fil/31425696#31425696", "title": "In Perl, how can I extract certain strings from a minified JavaScript source file?", "body": "<p>The problem is that there are no newlines in the data so your <code>.*</code> matches the whole of the rest of the file. Try <code>/message:\"([^\"]*)/</code> which matches only characters that aren't double quotes</p>\n\n<p>I wrote this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $data = do {\n    local $/;\n    &lt;DATA&gt;;\n};\n\nsay \"$1: $2\" while $data =~ /[{,](\\w+):\"([^\"]*)/g;\n\n__DATA__\n{message:\"What this does is, every time the mouse moves in the canvas area, it sets mouseX and mouseY to the location of the mouse.\",},{message:\"Then, when each ball is updated, it figures out how far away from the mouse it is, and accelerates toward it.\",},{message:\"The acceleration is the square root of the distance, so it pulls harder when it is really far away. Imagine all the balls being connected to the mouse by little rubber bands or springs. It's a little like that.\",},{message:\"Try making the balls smaller! And add more of them! I like it with about 40 small balls chasing the mouse.\",},{message:\"Great job! Like what you learned? Was it fun?\",code:\"\",hiddenCode:\"var c = document.getElementById('pane').getContext('2d');\\nfunction rgba(r,g,b,a) {return 'rgba('+[r,g,b,a].join(',')+')';}\\nfunction rgb(r,g,b,a) {return 'rgb('+[r,g,b].join(',')+')';}\\n\\n\",lessonSection:\"The End\",},{message:\"Wow, you did everything! Congratulations, nice work! A lot of these are really hard. I'm impressed you finished! I hope you enjoyed it!\",code:'var pane = document.getElementById(\\'pane\\');\\nvar s = 3;\\n\\npane.onmousemove = function(evt) {\\n c.fillStyle = randomRGBA();\\n var x = evt.clientX;\\n var y = evt.clientY;\\n c.fillRect(x - s / 2, y - s / 2, s, s);};\\n\\nfunction randomRGBA() {\\n var r = randInt(255);\\n var g = randInt(255);\\n var b = randInt(255);\\n var a = Math.random();\\n var rgba = [r,g,b,a].join(\",\");\\n return \"rgba(\" + rgba + \")\";\\n}\\nfunction randInt(limit) {\\n var x =\n</code></pre>\n\n<p>which produced this output</p>\n\n<p></p>\n\n<pre><code>message: What this does is, every time the mouse moves in the canvas area, it sets mouseX and mouseY to the location of the mouse.\nmessage: Then, when each ball is updated, it figures out how far away from the mouse it is, and accelerates toward it.\nmessage: The acceleration is the square root of the distance, so it pulls harder when it is really far away. Imagine all the balls being connected to the mouse by little rubber bands or springs. It's a little like that.\nmessage: Try making the balls smaller! And add more of them! I like it with about 40 small balls chasing the mouse.\nmessage: Great job! Like what you learned? Was it fun?\ncode: \nhiddenCode: var c = document.getElementById('pane').getContext('2d');\\nfunction rgba(r,g,b,a) {return 'rgba('+[r,g,b,a].join(',')+')';}\\nfunction rgb(r,g,b,a) {return 'rgb('+[r,g,b].join(',')+')';}\\n\\n\nlessonSection: The End\nmessage: Wow, you did everything! Congratulations, nice work! A lot of these are really hard. I'm impressed you finished! I hope you enjoyed it!\n</code></pre>\n\n<p>No doubt the syntax, whatever it is, allows for embedding double quotes within each string, but there is no example of it in this fragment</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3906716"}, "edited": false, "score": 0, "creation_date": 1436980147, "post_id": 31425970, "comment_id": 50843334, "body": "Thanks everyone I will check it tommorow and let you know."}], "tags": [], "owner": {"reputation": 8543, "user_id": 5008284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AvSMy.jpg?s=128&g=1", "display_name": "meuh", "link": "https://stackoverflow.com/users/5008284/meuh"}, "is_accepted": false, "score": -1, "last_activity_date": 1436951031, "creation_date": 1436951031, "answer_id": 31425970, "question_id": 31424781, "link": "https://stackoverflow.com/questions/31424781/in-perl-how-can-i-extract-certain-strings-from-a-minified-javascript-source-fil/31425970#31425970", "title": "In Perl, how can I extract certain strings from a minified JavaScript source file?", "body": "<p>You already have some perl answers, but you may also be interested in the\n<strong>xgettext</strong> tool which is <strong>designed specifically to extract strings for internationalisation</strong>. Run it like this:</p>\n\n<pre><code>xgettext -a --from-code UTF-8 combined.min.js -o - \n</code></pre>\n\n<p>It gives you output on each string like this:</p>\n\n<pre><code>#: combined.min.js:36\nmsgid \"\"\n\"Here is a ball that sticks to the mouse.  Every time the mouse moves, the \"\n\"ball redraws on top of the mouse.\"\nmsgstr \"\"\n</code></pre>\n\n<p>It is in the gnu <strong>gettext</strong> package. Look at <a href=\"http://www.gnu.org/software/gettext/manual/gettext.html\" rel=\"nofollow\">gnu gettext</a></p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1436973136, "creation_date": 1436973136, "answer_id": 31434300, "question_id": 31424781, "link": "https://stackoverflow.com/questions/31424781/in-perl-how-can-i-extract-certain-strings-from-a-minified-javascript-source-fil/31434300#31434300", "title": "In Perl, how can I extract certain strings from a minified JavaScript source file?", "body": "<p>I do not know why you need to do this with the minified and concatenated source code, but, you can reverse that:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Path::Class;\nuse JavaScript::Beautifier qw/js_beautify/;\n\nmy $js = file('combined.min.js')-&gt;slurp('&lt;:encoding(UTF-8)');\n\nmy $pretty_js = js_beautify($js);\n\nmy @messages = ($pretty_js =~ /message: (.+?)\\n/g);\n\nprint \"$_\\n\" for @messages;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3906716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1436973346, "creation_date": 1436947442, "last_edit_date": 1436973346, "question_id": 31424781, "link": "https://stackoverflow.com/questions/31424781/in-perl-how-can-i-extract-certain-strings-from-a-minified-javascript-source-fil", "title": "In Perl, how can I extract certain strings from a minified JavaScript source file?", "body": "<p>I have this ugly file.</p>\n\n<blockquote>\n  <p>{message:\"What this does is, every time the mouse moves in the canvas\n  area, it sets mouseX and mouseY to the location of the\n  mouse.\",},{message:\"Then, when each ball is updated, it figures out\n  how far away from the mouse it is, and accelerates toward\n  it.\",},{message:\"The acceleration is the square root of the distance,\n  so it pulls harder when it is really far away.  Imagine all the balls\n  being connected to the mouse by little rubber bands or springs.  It's\n  a little like that.\",},{message:\"Try making the balls smaller!  And\n  add more of them!  I like it with about 40 small balls chasing the\n  mouse.\",},{message:\"Great job! Like what you learned? Was it\n  fun?\",code:\"\",hiddenCode:\"var c =\n  document.getElementById('pane').getContext('2d');\\nfunction\n  rgba(r,g,b,a) {return 'rgba('+[r,g,b,a].join(',')+')';}\\nfunction\n  rgb(r,g,b,a) {return\n  'rgb('+[r,g,b].join(',')+')';}\\n\\n\",lessonSection:\"The\n  End\",},{message:\"Wow, you did everything!  Congratulations, nice work!\n  A lot of these are really hard. I'm impressed you finished!  I hope\n  you enjoyed it!\",code:'var pane =\n  document.getElementById(\\'pane\\');\\nvar s = 3;\\n\\npane.onmousemove =\n  function(evt) {\\n  c.fillStyle = randomRGBA();\\n  var x =\n  evt.clientX;\\n  var y = evt.clientY;\\n  c.fillRect(x - s / 2, y - s /\n  2, s, s);};\\n\\nfunction randomRGBA() {\\n  var r = randInt(255);\\n  var\n  g = randInt(255);\\n  var b = randInt(255);\\n  var a = Math.random();\\n\n  var rgba = [r,g,b,a].join(\",\");\\n  return \"rgba(\" + rgba +\n  \")\";\\n}\\nfunction randInt(limit) {\\n  var x = </p>\n</blockquote>\n\n<p>I am trying to use Perl regex to extract the body of the message</p>\n\n<p>I trying two 3 hours working on it, but I can not seems to extract it.</p>\n\n<p>My point is to translate the message from English to other languages, so I wanted the string of the message on a clean file instead of working on this ugly file that combine both messages and code.</p>\n\n<p>I was trying to use this code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'test.txt';\nmy $row = '';\n\nif (open(my $fh, '&lt;:encoding(UTF-8)', $filename)) {\n  while ($row = &lt;$fh&gt;) {\n    if ($row =~/message:(.*)/)\n    {\n        print $1 . \"\\n\";\n    }\n  }\n} \nelse {\n  warn \"Could not open file '$filename' $!\";\n}\n</code></pre>\n\n<p>It give me results basically the entire file as an output.\nI tried <code>\\W+</code> or <code>\\s+</code> which gave me the first word only.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["xml", "perl", "xpath", "xsd"], "answers": [{"comments": [{"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1437007313, "post_id": 31425511, "comment_id": 50856100, "body": "True I can use XPath on the XSD however the layout is quite complex with a lot of indirection. Breaking an XPath query into component elements and then following the definitions of named complex types will be quite a bit of work when there are XSD parsers capable of doing this already. If I&#39;m generating the XML I also need to know the intermediate types to build the structure for XML::Compile::Schema so I can&#39;t just search for the type of the deepest node. See for example the last XSD at <a href=\"http://www.w3schools.com/schema/schema_example.asp\" rel=\"nofollow noreferrer\">w3schools.com/schema/schema_example.asp</a>"}, {"owner": {"reputation": 52, "user_id": 1758298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdfc06bcc65f65bc13afd4b69936d93?s=128&d=identicon&r=PG", "display_name": "acop", "link": "https://stackoverflow.com/users/1758298/acop"}, "reply_to_user": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1437047903, "post_id": 31425511, "comment_id": 50874170, "body": "I&#39;m not quite sure what you want to achieve: you want to get parameters of each specific node in xsd? or you want to create xml file that is valid against some xsd? Maybe this will suite you better: XML::Pastor"}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "edited": false, "score": 0, "creation_date": 1437444013, "post_id": 31425511, "comment_id": 51019326, "body": "both actually. XML::Compile::Schema will load the XSD and let you pass in a perl hash. It will validate and translate the hash to XML. It&#39;s very simple but you need to know the properties of each node in your program (e.g. array for collection). I was hoping to have the program query these node properties to automate the structure building since they are just giving me a value and final XPath address, I don&#39;t know which nodes in between are collections etc. XML::Pastor seems interesting, I have never seen it but will try to get it working (our Perl is old and on Windows)."}], "tags": [], "owner": {"reputation": 52, "user_id": 1758298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdfc06bcc65f65bc13afd4b69936d93?s=128&d=identicon&r=PG", "display_name": "acop", "link": "https://stackoverflow.com/users/1758298/acop"}, "is_accepted": false, "score": -1, "last_activity_date": 1436949708, "creation_date": 1436949708, "answer_id": 31425511, "question_id": 31424357, "link": "https://stackoverflow.com/questions/31424357/query-an-xsd-for-node-details-using-xpath/31425511#31425511", "title": "Query an XSD for node details using XPath", "body": "<p>You can use xsd just like any other xml file and get attributes and so on. So the same tools are capable of doing that:</p>\n\n<ul>\n<li>XML::XPath (old)</li>\n<li>XML::LibXML (preferable)</li>\n</ul>\n\n<p>LibXML can also validate your xml result against that xsd (whether it is valid).</p>\n"}], "owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1436949708, "creation_date": 1436946254, "question_id": 31424357, "link": "https://stackoverflow.com/questions/31424357/query-an-xsd-for-node-details-using-xpath", "title": "Query an XSD for node details using XPath", "body": "<p>Is there a Perl module that will load an XSD and allow an XPath query to return details e.g. the type of <code>/MemberDetails/MemberNumber</code>, whether it is optional, repeating, and so on.</p>\n\n<p>My use case is to convert a CSV file to XML, I have been given an XSD along with a mapping file that lists the input field position and output XPath value. </p>\n\n<p>The mapping file does not specify which fields are repeatable so constructing the data structure for <code>XML::Compile::Schema</code> is troublesome. I could manually add the details for each field however I'd prefer to avoid this.</p>\n\n<p>My current thoughts are to split the XPath expression then use something like <code>$xsd = $schema-&gt;template('TREE' =&gt; $type)</code> and walk through it, examining the type at each level of the structure. But this feels like a fairly clunky and risky way to do it.</p>\n"}, {"tags": ["perl", "ssl", "ftps", "tie"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1436937483, "post_id": 31421772, "comment_id": 50815959, "body": "The first and third of those lines are comments in the latest version (0.61) of the module. You should at least update your installation before asking questions about it"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436941407, "post_id": 31421772, "comment_id": 50817479, "body": "There is a lot more to that error message. Please would you quote it completely?"}, {"owner": {"reputation": 11, "user_id": 4930324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8697550f518052a0e315716523c450?s=128&d=identicon&r=PG&f=1", "display_name": "issac", "link": "https://stackoverflow.com/users/4930324/issac"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436979538, "post_id": 31421772, "comment_id": 50842974, "body": "Borodin, Thanks for your response. We are migrating the code which is running in one platform to a newer one. As per the requirement the library version should be same (i.e 0.54). Please find the full error msg &quot;Damn! undefined response (err:) {H: IP address P:21} Damn! undefined response (err:) {H: IP address P:21} Damn! undefined response (err:) {H: IP address P:21} use of uninitialized value $temp in concatenation (.) or string at /usr/local/share/perl15/Net/Lite/FTP.pm line 423...problem sending PASV request at /usr/local/share/perl15/Net/Lite/FTP.pm line 423&quot;."}, {"owner": {"reputation": 11, "user_id": 4930324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8697550f518052a0e315716523c450?s=128&d=identicon&r=PG&f=1", "display_name": "issac", "link": "https://stackoverflow.com/users/4930324/issac"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436979742, "post_id": 31421772, "comment_id": 50843088, "body": "I have tried the latest version 0.61 also.. which is throwing the error &quot;Prototype mismatch: sub Net::Lite::FTP::IP_TOS none vs() at /usr/local/share/perl15/Exporter.pm line 66 at /usr/local/share/perl15/Net/Lite/FTP.pm line 145 setsocket Invalid argument at /usr/local/share/perl15/Net/Lite/FTP.pm line 147."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436956207, "post_id": 31424938, "comment_id": 50826453, "body": "This isn&#39;t an answer to the question"}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436964885, "post_id": 31424938, "comment_id": 50832262, "body": "Hi @Borodin he has mentioned &quot;any other solution&quot; in his question, so I have provided this."}, {"owner": {"reputation": 11, "user_id": 4930324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8697550f518052a0e315716523c450?s=128&d=identicon&r=PG&f=1", "display_name": "issac", "link": "https://stackoverflow.com/users/4930324/issac"}, "edited": false, "score": 0, "creation_date": 1436979816, "post_id": 31424938, "comment_id": 50843126, "body": "Amareesh, thanks for the reply...I am supposed to use the Library Net::Lite::FTP only."}, {"owner": {"reputation": 11, "user_id": 4930324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8697550f518052a0e315716523c450?s=128&d=identicon&r=PG&f=1", "display_name": "issac", "link": "https://stackoverflow.com/users/4930324/issac"}, "edited": false, "score": 0, "creation_date": 1437228099, "post_id": 31424938, "comment_id": 50947335, "body": "The issue was with the server side. changed vsdfd.conf file to support TLS protocol and it worked.."}], "tags": [], "owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436947927, "creation_date": 1436947927, "answer_id": 31424938, "question_id": 31421772, "link": "https://stackoverflow.com/questions/31421772/error-in-using-netliteftp/31424938#31424938", "title": "Error in using Net::Lite::FTP", "body": "<p>You can instead try <strong>Net::FTPSSL</strong> if you need FTP client over a SSL or TLS connection. It will use TLS by default.</p>\n"}], "owner": {"reputation": 11, "user_id": 4930324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8697550f518052a0e315716523c450?s=128&d=identicon&r=PG&f=1", "display_name": "issac", "link": "https://stackoverflow.com/users/4930324/issac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436947927, "creation_date": 1436936008, "last_edit_date": 1436945375, "question_id": 31421772, "link": "https://stackoverflow.com/questions/31421772/error-in-using-netliteftp", "title": "Error in using Net::Lite::FTP", "body": "<p>I am using the Perl library <a href=\"https://metacpan.org/pod/Net::Lite::FTP\" rel=\"nofollow\"><code>Net::Lite::FTP</code></a> for FTP TLS protocol. I am getting the error</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Damn! undefined response\n</code></pre>\n\n<p>while connecting to a remote. I think the problem is with <a href=\"https://metacpan.org/pod/Net::SSLeay::Handle\" rel=\"nofollow\"><code>Net::SSLeay::Handle</code></a>.</p>\n\n<p>If I comment the line 151, 271, 310, 373 in the <code>Net/Lite/FTP.pm</code> library file it is working fine (able to connect remote server and transmit files). But we should not edit the library file, so advise me if there are any other solutions available.</p>\n"}, {"tags": ["perl", "email", "parsing", "mime"], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 1487073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KcswM.jpg?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1487073/kevin"}, "edited": false, "score": 0, "creation_date": 1436980986, "post_id": 31421773, "comment_id": 50843826, "body": "I tried using message_to_file and then handing the parser the file handle but that didn&#39;t seem to work. I might have been using the parser incorrectly. Using message_string and parser-&gt;parse_data is working. Thank you for your help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 449, "user_id": 1487073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KcswM.jpg?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1487073/kevin"}, "edited": false, "score": 0, "creation_date": 1436981462, "post_id": 31421773, "comment_id": 50844102, "body": "You&#39;re welcome. The reason that didn&#39;t work is probably because you don&#39;t close <code>$emailFileHandle</code> to flush the data to disk (or you could <code>flush $emailFileHandle</code> but there&#39;s little point). Your current code has the same fault, but you&#39;re not using the file. But you shouldn&#39;t need to save the information to disk anyway -- you can write <code>$parser-&gt;parse_data($imap-&gt;message_string($seqno))</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 449, "user_id": 1487073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KcswM.jpg?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1487073/kevin"}, "edited": false, "score": 0, "creation_date": 1436981829, "post_id": 31421773, "comment_id": 50844322, "body": "Oh, and you could also <code>$imap-&gt;message_to_file(&#39;invoiceText.txt&#39;)</code> and then <code>$parser-&gt;parse_open(&#39;invoiceText.txt&#39;)</code> which has the same effect"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1436937151, "last_edit_date": 1436937151, "creation_date": 1436936010, "answer_id": 31421773, "question_id": 31416921, "link": "https://stackoverflow.com/questions/31416921/perl-parse-email-and-attachments-from-outlook-inbox/31421773#31421773", "title": "Perl parse email and attachments from Outlook inbox", "body": "<p>The <code>body_string</code> method doesn't return the entire email. As the documentation describes, and the name implies, it returns the <em>body</em> of the message, excluding the headers. That is why <code>dump_skeleton</code> shows no headers apart from the defaults</p>\n\n<p>What you probably want, although I haven't tried it, is <code>message_string</code>, which <em>does</em> return the entire email</p>\n\n<p>I see you've used <code>message_to_file</code> but commented it out. That would probably have worked if you got <code>MIME::Parse</code> to read from the file</p>\n"}], "owner": {"reputation": 449, "user_id": 1487073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KcswM.jpg?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1487073/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1411, "favorite_count": 0, "accepted_answer_id": 31421773, "answer_count": 1, "score": 0, "last_activity_date": 1436937151, "creation_date": 1436906595, "last_edit_date": 1436937042, "question_id": 31416921, "link": "https://stackoverflow.com/questions/31416921/perl-parse-email-and-attachments-from-outlook-inbox", "title": "Perl parse email and attachments from Outlook inbox", "body": "<p>I'm using <a href=\"https://metacpan.org/pod/Mail::IMAPClient\" rel=\"nofollow\"><code>Mail::IMAPClient</code></a> to connect to our Outlook mail server. I can get the mail just fine and print the text version of that mail to a file. But I'm having trouble using <a href=\"https://metacpan.org/pod/MIME::Parser\" rel=\"nofollow\"><code>MIME::Parser</code></a> to parse through the email.</p>\n\n<p>I've tried giving the parser a file handle to the text file that I wrote the email to. I've tried giving the parser just the text of the email but it won't work how I'm expecting it to work. The entity parts always equals 0.</p>\n\n<p>When I dump the entity skeleton I get</p>\n\n<pre><code>  Content-type: text/plain\n  Effective-type: text/plain\n  Body-file: NONE\n  --\n</code></pre>\n\n<p>I can see all of the parts of the email in the file. The two PDFs that are attached are there, encoded in base64, so I know that the script is actually retrieving the email and the attachments. I've also tried <code>parse</code> and <code>parse_data</code>.</p>\n\n<pre><code>my $msgCount = 0;    \n$msgCount = $imap-&gt;message_count();    \n#or abortMission(\"\", \"Could not get message count: \". $imap-&gt;LastError );\n\nif ( $msgCount &gt; 0 ) {     \n\n    #get all the messages from the inbox folder    \n    my @msgseqnos = $imap-&gt;messages\n            or abortMission(\"\", \"Could not retreive messages:\". $imap-&gt;LastError);\n\n    my ($x, $bh, $attachment, $attachmentName);\n\n    foreach my $seqno ( @msgseqnos ) {\n\n        my $input_file;\n        my $parser = new MIME::Parser;\n        my $emailText = $imap-&gt;body_string($seqno)   # should be the entire email as text. \n                or abortMission(\"\", \"Could not get message string: \" . $imap-&gt;LastError);\n\n        $parser-&gt;ignore_errors(1);\n        $parser-&gt;output_to_core(1);\n\n        open my $emailFileHandle, \"&gt;\", \"invoiceText.txt\";\n        print $emailFileHandle $emailText;\n        #$imap-&gt;message_to_file($emailFileHandle, $seqno);\n\n        my $entity = $parser-&gt;parse_data($emailText);\n        $entity-&gt;dump_skeleton;\n\n        if ( $entity-&gt;parts &gt; 0 ) {\n\n            for ( my $i = 0; $i &lt; $entity-&gt;parts; $i++ ) {\n\n                my $subentity = $entity-&gt;parts($i);\n\n                # grab attachment name and contents\n                foreach $x ( @attypes ) {\n\n                    if ( $subentity-&gt;mime_type =~ m/$x/i ) {\n\n                        $bh = $subentity-&gt;bodyhandle;\n                        $attachment = $bh-&gt;as_string;\n                        $attachmentName = $subentity-&gt;head-&gt;mime_attr('content-disposition.filename');\n\n                        open FH, \"&gt;$attachmentName\";\n                        print FH $attachment;\n                        close FH;\n\n                        #push @attachment, $attachment;\n                        #push @attname, $subentity-&gt;head-&gt;mime_attr('content-disposition.filename');\n                    }\n                }\n            }\n        }\n        else {\n            stillAGo(\"eData VehicleInvoices problem\", \"Perl can't find an attachment in an email in the VehicleInvoices folder of eData email address\");\n        }\n\n        close $emailFileHandle;\n\n        # say $emailText;\n        # next;\n\n        #open OUT_FILE, \"&gt;invoiceText.txt\";\n        #print OUT_FILE $emailText;\n        #print OUT_FILE $imap-&gt;bodypart_string($seqno,1);\n        #close OUT_FILE;\n\n        #print $emailText;\n    }\n}\n</code></pre>\n\n<p>I'm trying to retrieve the attachments from emails automatically and save them to disk to be processed by another job.</p>\n\n<p>I'd like to include the <code>invoiceText.txt</code> file so people can see the actual output but it's 1200 lines long. I'm not sure where to upload a file to link in here.</p>\n"}, {"tags": ["linux", "perl", "sftp"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1436907592, "post_id": 31416920, "comment_id": 50807080, "body": "Is replacing <code>system</code> with <code>print</code> one of the ways you tried to figure out the problem?"}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 1, "creation_date": 1436909085, "post_id": 31416920, "comment_id": 50807851, "body": "You might consider trying <a href=\"http://search.cpan.org/~dbrobins/Net-SFTP-0.10/lib/Net/SFTP.pm\" rel=\"nofollow noreferrer\">Net::SFTP</a> instead of using system. Generally it&#39;s more efficient to use native Perl modules instead of escaping out to the system, and in this case the system call is problematic, so it might be worth investigating also to resolve your issue."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 1, "creation_date": 1436976828, "post_id": 31416920, "comment_id": 50841365, "body": "use <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign\" rel=\"nofollow noreferrer\">Net::SFTP::Foreign</a>."}], "answers": [{"comments": [{"owner": {"reputation": 18565, "user_id": 10593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3eeb7653c4df9b0f1332b9b0ec201ec?s=128&d=identicon&r=PG", "display_name": "Max Lybbert", "link": "https://stackoverflow.com/users/10593/max-lybbert"}, "edited": false, "score": 0, "creation_date": 1436907141, "post_id": 31417080, "comment_id": 50806793, "body": "Since there is no desire to interpolate, it&#39;s also possible to single-quote the strings (e.g., <code>system(&#39;&#47;usr&#47;bin&#47;sftp -o &quot;IdentityFile=&#47;opt&#47;apps&#47;doc&#47;bin&#47;id_rsa&quot; -b &#47;opt&#47;apps&#47;doc&#47;bin&#47;batch.txt DMS2@convpc1&#39;)</code>)."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1436908418, "post_id": 31417080, "comment_id": 50807542, "body": "Try running with single quotes, as Max Lybbert suggests above."}, {"owner": {"reputation": 763, "user_id": 681056, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e58754a5e6512a0fcfb48382ed308ff6?s=128&d=identicon&r=PG", "display_name": "help ", "link": "https://stackoverflow.com/users/681056/help"}, "edited": false, "score": 0, "creation_date": 1436984784, "post_id": 31417080, "comment_id": 50846074, "body": "I did some more testings. I put the entire command in a test.sh file. I ran the test.sh from terminal, it works. I changed the perl file so it is system(&quot;/opt/app/doc/bin/test.sh&quot;) and then ran it, nothing happen. I added printing statements before the system command, they work, but the system command still doesn&#39;t work since I don&#39;t see my file being moved. Since I put the command in sh, quote shouldn&#39;t matter anymore"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1436985687, "post_id": 31417080, "comment_id": 50846605, "body": "Add some echo statements inside your test.sh and see if they get run."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1436985749, "post_id": 31417080, "comment_id": 50846628, "body": "cat foo.sh         <code>#!&#47;bin&#47;sh        echo &quot;hello world&quot;</code> perl -e &#39;system(&quot;foo.sh&quot;);&#39; <code>hello world</code>"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 3, "last_activity_date": 1436907051, "creation_date": 1436907051, "answer_id": 31417080, "question_id": 31416920, "link": "https://stackoverflow.com/questions/31416920/running-linux-sftp-command-in-perl-doesnt-work/31417080#31417080", "title": "Running linux sftp command in perl doesnt work", "body": "<p>The system command may be eating the quote character, and the '@' character needs escaping as \\@.</p>\n\n<p>Try this to see if you are really running the command you are trying to run:</p>\n\n<pre><code>my $cmd = \"/usr/bin/sftp -o \\\"IdentityFile=/opt/apps/doc/bin/id_rsa\\\" -b /opt/apps/doc/bin/batch.txt DMS2@convpc1\";\n\nsys($cmd);\n\nsub sys {\n    my ($cmd) = @_;\n    print \"About to run '$cmd'\\n\";\n    (system($cmd) == 0) or die \"Unable to run '$cmd' : $!\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18565, "user_id": 10593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3eeb7653c4df9b0f1332b9b0ec201ec?s=128&d=identicon&r=PG", "display_name": "Max Lybbert", "link": "https://stackoverflow.com/users/10593/max-lybbert"}, "edited": false, "score": 0, "creation_date": 1436978290, "post_id": 31425508, "comment_id": 50842201, "body": "Using a variable instead of a literal shouldn&#39;t make a difference.  But using Net::SFTP  is the best suggestion.  Upvoted."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "reply_to_user": {"reputation": 18565, "user_id": 10593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3eeb7653c4df9b0f1332b9b0ec201ec?s=128&d=identicon&r=PG", "display_name": "Max Lybbert", "link": "https://stackoverflow.com/users/10593/max-lybbert"}, "edited": false, "score": 1, "creation_date": 1437029469, "post_id": 31425508, "comment_id": 50862791, "body": "@MaxLybbert: Net::SFTP is an old, unmaintained and buggy module, and it relies on Net::SSH::Perl that can be quite difficult to install (and that is also old, unmaintained and buggy). Not the best suggestion."}, {"owner": {"reputation": 18565, "user_id": 10593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3eeb7653c4df9b0f1332b9b0ec201ec?s=128&d=identicon&r=PG", "display_name": "Max Lybbert", "link": "https://stackoverflow.com/users/10593/max-lybbert"}, "edited": false, "score": 0, "creation_date": 1437057917, "post_id": 31425508, "comment_id": 50881917, "body": "Thanks for the information about Net::SFTP.  So while the advice in particular is bad, I stand by the comment that the general idea (use a module instead of calling <code>system</code>) is still the best approach."}], "tags": [], "owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436949704, "creation_date": 1436949704, "answer_id": 31425508, "question_id": 31416920, "link": "https://stackoverflow.com/questions/31416920/running-linux-sftp-command-in-perl-doesnt-work/31425508#31425508", "title": "Running linux sftp command in perl doesnt work", "body": "<p>Try below</p>\n\n<pre><code>    $result = \"/usr/bin/sftp -o \\\"IdentityFile=/opt/apps/doc/bin/id_rsa\\\" -b /opt/apps/doc/bin/batch.txt DMS2\\@convpc1\";\n    system($result);\n</code></pre>\n\n<p>Are you getting any syntax errors? Try \"perl -cw scriptname\" and see the result.</p>\n\n<p>I would suggest <strong>Net::SFTP</strong> which is very convenient for establishing SFTP connection.</p>\n"}], "owner": {"reputation": 763, "user_id": 681056, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e58754a5e6512a0fcfb48382ed308ff6?s=128&d=identicon&r=PG", "display_name": "help ", "link": "https://stackoverflow.com/users/681056/help"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1436984714, "creation_date": 1436906593, "last_edit_date": 1436984714, "question_id": 31416920, "link": "https://stackoverflow.com/questions/31416920/running-linux-sftp-command-in-perl-doesnt-work", "title": "Running linux sftp command in perl doesnt work", "body": "<p>When I run this in the terminal, it works</p>\n\n<pre><code>/usr/bin/sftp -o \"IdentityFile=/opt/apps/doc/bin/id_rsa\" -b /opt/apps/doc/bin/batch.txt DMS2@convpc1\n</code></pre>\n\n<p>However, when I run this in perl script, nothing happen</p>\n\n<pre><code>system(\"/usr/bin/sftp -o \\\"IdentityFile=/opt/apps/doc/bin/id_rsa\\\" -b /opt/apps/doc/bin/batch.txt DMS2@convpc1\");\n</code></pre>\n\n<p>I have been spending the entire day trying to figure out how to sftps my file and I cannot figure out the problem?  Any suggestions?</p>\n\n<p>Edit: I did some more testings. I put the entire command in a test.sh file. I ran the test.sh from terminal, it works. I changed the perl file so it is system(\"/opt/app/doc/bin/test.sh\") and then ran it, nothing happen. I added printing statements before the system command, they work, but the system command still doesn't work since I don't see my file being moved.  </p>\n"}, {"tags": ["regex", "perl", "find"], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1436905553, "post_id": 31416254, "comment_id": 50805830, "body": "Use <code>\\z</code> rather than <code>$</code> when matching filenames ... unless you explicitly want <code>&quot;program.m\\n&quot;</code> to match."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1436918805, "post_id": 31416254, "comment_id": 50811268, "body": "@Sinan&#220;n&#252;r: In which case the pattern should be <code>&#47;\\.m\\n?\\z&#47;</code>. Few people -- including Linux users -- are aware that Linux file names may contain control characters except for NUL"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436943234, "post_id": 31416254, "comment_id": 50818370, "body": "Few people need to. Whilst it is true there can be a load of nastiness embedded in a filename,  we are talking about finding matlab files in a particular directory structure. It isn&#39;t unreasonable to assume those particular files don&#39;t."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1436905830, "last_edit_date": 1436905830, "creation_date": 1436904289, "answer_id": 31416254, "question_id": 31415923, "link": "https://stackoverflow.com/questions/31415923/how-to-recursively-change-files-in-directories-whose-name-matches-a-string-in-pe/31416254#31416254", "title": "How to recursively change files in directories whose name matches a string in Perl?", "body": "<p>Perl has the excellent <code>File::Find</code> module, that lets you specify a callback to be called on each file.</p>\n\n<p>So you can specified a complex compound criteria, like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse File::Find;\n\nsub find_files {\n    next unless m/\\.m\\z/;    # skip any files that don't end in .m\n    if ( $File::Find::dir =~ m/matlab_programs$/ ) {\n        print $File::Find::name, \" found\\n\";\n    }\n}\n\nfind( \\&amp;find_files, \".\" );\n</code></pre>\n\n<p>And then you can do whatever you wish with the files you find - like opening/text replacing and closing. </p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1436904814, "last_edit_date": 1436904814, "creation_date": 1436904399, "answer_id": 31416280, "question_id": 31415923, "link": "https://stackoverflow.com/questions/31415923/how-to-recursively-change-files-in-directories-whose-name-matches-a-string-in-pe/31416280#31416280", "title": "How to recursively change files in directories whose name matches a string in Perl?", "body": "<p>Do you have <code>bash</code>? The <code>$(...)</code> syntax works like backticks (the way both the shell and Perl use them) but they can be nested.</p>\n\n<pre><code>perl -pi -e s/red/blue/g $(find $(find . -type d -name matlab_programs) -type f -name \\*.m)\n</code></pre>\n\n<p>Many flavors of <code>find</code> also support a <code>-path pattern</code> test, so you can just combine your filename conditions into that argument</p>\n\n<pre><code>perl -pi -e s/red/blue/g $(find . -type f -path \\*/matlab_programs/\\*.m)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 775, "user_id": 245036, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/09cfc667c9e86087712f984b7ef8fb71?s=128&d=identicon&r=PG", "display_name": "KAE", "link": "https://stackoverflow.com/users/245036/kae"}, "edited": false, "score": 0, "creation_date": 1436970464, "post_id": 31417021, "comment_id": 50836767, "body": "This worked and was easy for me to understand despite my limited Perl background, so thanks!"}, {"owner": {"reputation": 775, "user_id": 245036, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/09cfc667c9e86087712f984b7ef8fb71?s=128&d=identicon&r=PG", "display_name": "KAE", "link": "https://stackoverflow.com/users/245036/kae"}, "edited": false, "score": 0, "creation_date": 1436976217, "post_id": 31417021, "comment_id": 50840960, "body": "Blank spaces (which were in the project directory names that matlab_programs subdirectories appear under, rather than file names) did cause a problem. But this only happened in a couple of the hundred subdirectories, and when it did happen I understand what was going on because of your comment."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "reply_to_user": {"reputation": 775, "user_id": 245036, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/09cfc667c9e86087712f984b7ef8fb71?s=128&d=identicon&r=PG", "display_name": "KAE", "link": "https://stackoverflow.com/users/245036/kae"}, "edited": false, "score": 0, "creation_date": 1437061420, "post_id": 31417021, "comment_id": 50884411, "body": "The examples can be fixed to handle spaces in names, but it is always a hassle. It is better to clean up your file names beforehand if you can."}], "tags": [], "owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "is_accepted": true, "score": 1, "last_activity_date": 1436906888, "creation_date": 1436906888, "answer_id": 31417021, "question_id": 31415923, "link": "https://stackoverflow.com/questions/31415923/how-to-recursively-change-files-in-directories-whose-name-matches-a-string-in-pe/31417021#31417021", "title": "How to recursively change files in directories whose name matches a string in Perl?", "body": "<p>You want to find all directories named <code>matlab_programs</code> using</p>\n\n<pre><code>find . -type d -name \"matlab_programs\"\n</code></pre>\n\n<p>and then execute</p>\n\n<pre><code>find $f -name \"*.m\" | xargs perl -p -i -e \"s/red/blue/g\"\n</code></pre>\n\n<p>on all results <code>$f</code>.  Judging by your use of <code>xargs</code>, there are no special characters such as spaces in your file names. so the following should work:</p>\n\n<pre><code>find `find . -type d -name \"matlab_programs\"` -name \"*.m\" |\nxargs perl -p -i -e \"s/red/blue/g\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>find . -type d -name \"matlab_programs\" |\nwhile read f\ndo\n  find $f -name \"*.m\" | xargs perl -p -i -e \"s/red/blue/g\"\ndone |\nxargs perl -p -i -e \"s/red/blue/g\"\n</code></pre>\n\n<p>Incidentally, I'd use single quotes here; I always use them whenever the quoted string is to be taken literally.</p>\n"}], "owner": {"reputation": 775, "user_id": 245036, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/09cfc667c9e86087712f984b7ef8fb71?s=128&d=identicon&r=PG", "display_name": "KAE", "link": "https://stackoverflow.com/users/245036/kae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 1, "accepted_answer_id": 31417021, "answer_count": 3, "score": 1, "last_activity_date": 1436914192, "creation_date": 1436903101, "last_edit_date": 1436914192, "question_id": 31415923, "link": "https://stackoverflow.com/questions/31415923/how-to-recursively-change-files-in-directories-whose-name-matches-a-string-in-pe", "title": "How to recursively change files in directories whose name matches a string in Perl?", "body": "<p>I have many directories for different projects. Under some project directories, there are subdirectories named \"matlab_programs\". In only subdirectories named matlab_programs, I would like to replace the string 'red' with 'blue' in files ending with *.m.</p>\n\n<p>The following perl code will recursively replace the strings in all *.m files, regardless of what subdirectories the files are in.</p>\n\n<pre><code>find . -name \"*.m\" | xargs perl -p -i -e \"s/red/blue/g\"\n</code></pre>\n\n<p>And to find the full paths of all directories called matlab_programs,</p>\n\n<pre><code>find . -type d -name \"matlab_programs\"\n</code></pre>\n\n<p>How can I combine these so I only replace strings if the files are in a subdirectory called matlab_programs?</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1436903731, "post_id": 31415731, "comment_id": 50804864, "body": "What is the allowable first character, anything ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1436903946, "post_id": 31415731, "comment_id": 50804977, "body": "All assertions operate at the current position. They look ahead or behind. Since <code>^</code> matched, the current position is 0, BOS, there is nothing before there."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1436933876, "post_id": 31415731, "comment_id": 50814826, "body": "<code>This technique is working well with my other regex, but not yet when I have a $1 or \\1 in the replace</code> - The regex is just replacing what&#39;s in <code>$r</code>. I think you have to go one step further using the <code>s&#47;&#47;&#47;e</code> evaluation form  (see the <i>perlre</i> docs) for the replacement. The regex  would then look like <code>$test=~ s&#47;$p&#47;$r&#47;e;</code>."}, {"owner": {"reputation": 21, "user_id": 5116564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66d6eccaa418d73d8fad720be03d305a?s=128&d=identicon&r=PG&f=1", "display_name": "Fenryll", "link": "https://stackoverflow.com/users/5116564/fenryll"}, "edited": false, "score": 0, "creation_date": 1436938099, "post_id": 31415731, "comment_id": 50816170, "body": "<code>&#47;e</code> didn&#39;t work, but instead I used <code>my $evalRX = &#39;$test3=~ s&#47;&#39;.$p.&#39;&#47;&#39;.$r.&#39;&#47;g&#39;;     eval $evalRX;</code> which is ok for prototyping.."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1437004192, "post_id": 31415731, "comment_id": 50855356, "body": "Yep, a double eval. I don&#39;t know how you get it to recognize <code>\\1</code> in an eval as anything other than the character - decimal 1. Anyway, you can do the same thing with this. Just do the quoting in the file (i.e. <code>^(\\S)e$% &quot; ${1}[ee]&quot;</code> ) Anytime you do quoting, remember to isolate the capture group vars if right next to an array element literal.  Here is a test case. <code>my $test = &#39;le&#39;; my ($p,$r) = split &#47;%&#47;, &#39;^(\\S)e$% &quot; ${1}[ee]&quot;&#39;; $test =~ s&#47;$p&#47;$r&#47;ee; print $test;</code>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1436903786, "post_id": 31415764, "comment_id": 50804895, "body": "Juvenile&#39;s here downvoting. +1 best answer!"}, {"owner": {"reputation": 1728, "user_id": 263053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65436946251c32cb1dccb36901dee70?s=128&d=identicon&r=PG", "display_name": "gymbrall", "link": "https://stackoverflow.com/users/263053/gymbrall"}, "edited": false, "score": 0, "creation_date": 1436904776, "post_id": 31415764, "comment_id": 50805417, "body": "@sln  I upvoted vks&#39;s and sln&#39;s because they match the requested specification. I have an answer below that is similar that was downvoted without any feedback..."}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 1, "last_activity_date": 1436903208, "last_edit_date": 1436903208, "creation_date": 1436902579, "answer_id": 31415764, "question_id": 31415731, "link": "https://stackoverflow.com/questions/31415731/perl-regex-replace-for-specific-string-length/31415764#31415764", "title": "perl Regex replace for specific string length", "body": "<pre><code>^(\\S)e$\n</code></pre>\n\n<p>Try this.Replace by <code>$1 [ee]</code>.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/hR7tH4/28\" rel=\"nofollow\">https://regex101.com/r/hR7tH4/28</a></p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436910146, "post_id": 31415776, "comment_id": 50808313, "body": "You forgot the first capturing group in your second code snippet. Also, you don&#39;t need to backslash-escape braces on the RHS of the substitution, and the OP only wanted to match strings ending in <code>e</code>, not strings ending in any letter."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436944241, "post_id": 31415776, "comment_id": 50818979, "body": "@ThisSuitIsBlackNot Thanks, I just gave a general solution!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 1, "last_activity_date": 1436944217, "last_edit_date": 1436944217, "creation_date": 1436902626, "answer_id": 31415776, "question_id": 31415731, "link": "https://stackoverflow.com/questions/31415731/perl-regex-replace-for-specific-string-length/31415776#31415776", "title": "perl Regex replace for specific string length", "body": "<p>You can use following regex which match 2 character and then you can replace it with <code>$1\\[$2$2\\]</code>:</p>\n\n<pre><code>^([a-zA-Z])([a-zA-Z])$\n</code></pre>\n\n<p>Demo :</p>\n\n<pre><code>$my_string =~ s/^([a-zA-Z])([a-zA-Z])$/$1[$2$2]/;\n</code></pre>\n\n<p>See demo <a href=\"https://regex101.com/r/iD9oN4/1\" rel=\"nofollow\">https://regex101.com/r/iD9oN4/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 1728, "user_id": 263053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65436946251c32cb1dccb36901dee70?s=128&d=identicon&r=PG", "display_name": "gymbrall", "link": "https://stackoverflow.com/users/263053/gymbrall"}, "edited": false, "score": 0, "creation_date": 1436903183, "post_id": 31415877, "comment_id": 50804549, "body": "You need to explain why you are downvoting if you want people to help you."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1436905021, "post_id": 31415877, "comment_id": 50805544, "body": "The first regex doesn&#39;t really need those alternations in the class. Or is implicit in classes. The second regex is a good generalized one, allowing for formatting. +1."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436909431, "post_id": 31415877, "comment_id": 50808017, "body": "<code>[a|b]</code> matches <code>a</code>, <code>b</code>, and a vertical bar; you should use <code>[ab]</code> if you don&#39;t want to match literal <code>|</code>s. Also, <a href=\"http://perldoc.perl.org/perlre.html#Warning-on-%5C1-Instead-of-%241\" rel=\"nofollow noreferrer\">you should use <code>$1</code> instead of <code>\\1</code></a>."}], "tags": [], "owner": {"reputation": 1728, "user_id": 263053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65436946251c32cb1dccb36901dee70?s=128&d=identicon&r=PG", "display_name": "gymbrall", "link": "https://stackoverflow.com/users/263053/gymbrall"}, "is_accepted": false, "score": 1, "last_activity_date": 1436902958, "creation_date": 1436902958, "answer_id": 31415877, "question_id": 31415731, "link": "https://stackoverflow.com/questions/31415731/perl-regex-replace-for-specific-string-length/31415877#31415877", "title": "perl Regex replace for specific string length", "body": "<p>Why aren't you using a capture group to do the replacement?</p>\n\n<pre><code>`s/^([c|d|j|l|m|n|s|t])e$/\\1 [ee]/g`\n</code></pre>\n\n<p>If those are the characters you need and if it is indeed one word to a line with no whitespace before it or after it, then this will work.</p>\n\n<p>Here's another option depending on what you are looking for. It will match a two character string consisting of one a-z character followed by one 'e' on its own line with possible whitespace before or after. It will replace this will the single a-z character followed by ' [ee]'</p>\n\n<pre><code>`s/^\\s*([a-z])e\\s*$/\\1 [ee]/`\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 2, "last_activity_date": 1436903080, "creation_date": 1436903080, "answer_id": 31415917, "question_id": 31415731, "link": "https://stackoverflow.com/questions/31415731/perl-regex-replace-for-specific-string-length/31415917#31415917", "title": "perl Regex replace for specific string length", "body": "<p>Something like <code>s/(?i)^([a-z])e$/$1[ee]/</code></p>\n"}, {"comments": [{"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "edited": false, "score": 0, "creation_date": 1436903567, "post_id": 31416021, "comment_id": 50804776, "body": "or simplified to  $word =~ s/^(\\w[e])$/$1e/;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1436903631, "post_id": 31416021, "comment_id": 50804810, "body": "Hello, <code>\\w{1})</code> == <code>\\w</code>. And, really no need to capture the <i>e</i>, its a constant."}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "edited": false, "score": 0, "creation_date": 1436903860, "post_id": 31416021, "comment_id": 50804936, "body": "yea, that&#39;s why I simplified it."}], "tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 1, "last_activity_date": 1436903428, "creation_date": 1436903428, "answer_id": 31416021, "question_id": 31415731, "link": "https://stackoverflow.com/questions/31415731/perl-regex-replace-for-specific-string-length/31416021#31416021", "title": "perl Regex replace for specific string length", "body": "<p>I'd do something like this </p>\n\n<pre><code>$word =~ s/^(\\w{1})(e)$/$1$2e/;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5116564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66d6eccaa418d73d8fad720be03d305a?s=128&d=identicon&r=PG&f=1", "display_name": "Fenryll", "link": "https://stackoverflow.com/users/5116564/fenryll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1436944217, "creation_date": 1436902462, "last_edit_date": 1436912378, "question_id": 31415731, "link": "https://stackoverflow.com/questions/31415731/perl-regex-replace-for-specific-string-length", "title": "perl Regex replace for specific string length", "body": "<p>I am using Perl to do some prototyping.</p>\n\n<p>I need an expression to replace <code>e</code> by <code>[ee]</code> if the string is exactly 2 chars and finishes by \"e\".</p>\n\n<pre><code>le -&gt; l [ee]\nme -&gt; m [ee]\nelle -&gt; elle : no change\n</code></pre>\n\n<p>I cannot test the length of the string, I need one expression to do the whole job.</p>\n\n<p>I tried:</p>\n\n<pre><code>`s/(?=^.{0,2}\\z).*e\\z%/[ee]/g`  but this is replacing the whole string\n`s/^[c|d|j|l|m|n|s|t]e$/[ee]/g` same result (I listed the possible letters that could precede my \"e\")\n`^(?&lt;=[c|d|j|l|m|n|s|t])e$/[ee]/g` but I have no match, not sure I can use ^ on a positive look behind\n</code></pre>\n\n<p><strong>EDIT</strong>\nGuys you're amazing, hours of search on the web and here I get answers minutes after I posted.</p>\n\n<p>I tried all your solutions and they are working perfectly directly in my script, i.e. this one: </p>\n\n<pre><code> my $test2=\"le\";\n $test2=~ s/^(\\S)e$/\\1\\[ee\\]/g;\n print \"test2:\".$test2.\"\\n\";\n -&gt; test2:l[ee] \n</code></pre>\n\n<p>But I am loading these regex from a text file (using Perl for proto, the idea is to reuse it with any language implementing regex):</p>\n\n<p>In the text file I store for example (I used % to split the line between match and replace):</p>\n\n<pre><code> ^(\\S)e$% \\1\\[ee\\]\n</code></pre>\n\n<p>and then I parse and apply all regex like that:</p>\n\n<pre><code>my $test=\"le\";\nwhile (my $row = &lt;$fh&gt;) {\n    chomp $row;\n    if( $row =~ /%/){\n        my @reg = split /%/, $row;\n        #if no replacement, put empty string\n        if($#reg == 0){\n            push(@reg,\"\");\n        }\n        print \"reg found, reg:\".$reg[0].\", replace:\".$reg[1].\"\\n\";\n        push @regs, [ @reg ];\n    }\n}\nprint \"orgine:\".$test.\"\\n\";\nfor my $i (0 .. $#regs){\n    my $p=$regs[$i][0];\n    my $r=$regs[$i][1];\n    $test=~ s/$p/$r/g;\n}\nprint \"final:\".$test.\"\\n\";\n</code></pre>\n\n<p>This technique is working well with my other regex, but not yet when I have a $1 or \\1 in the replace... here is what I am obtaining:</p>\n\n<pre><code>final:\\1\\ee\\\n</code></pre>\n\n<p>PS: you answered to initial question, should I open another post ?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436893280, "post_id": 31412314, "comment_id": 50798832, "body": "Your latest edit is still a little unclear. It would be simpler to just show a set of input strings (including <i>all</i> of the edge cases you mention, i.e. <code>A00</code>, <code>AA00</code>, <code>AB00</code>, <code>B00</code>, <code>AZ99</code>, <code>BA00</code>, <code>AA</code>, <code>AAA</code>, <code>AAB</code>, <code>AAAA</code>, and <code>ABAA</code>) and the sorted output that should be produced."}, {"owner": {"reputation": 213, "user_id": 4560113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb116b84b6ebb26f58fb444b06ca0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "je_b", "link": "https://stackoverflow.com/users/4560113/je-b"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436894183, "post_id": 31412314, "comment_id": 50799396, "body": "@ThisSuitIsBlackNot Done"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1436894508, "post_id": 31412314, "comment_id": 50799599, "body": "Why do you want <code>A00</code>, <code>AAAA00</code>, <code>AAA00</code> in that order? It seems completely arbitrary."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1436894798, "post_id": 31412314, "comment_id": 50799769, "body": "I think it&#39;s got something to do with having more than one pattern of the same length with the same starting letter(s?). But I&#39;m tired of guessing."}, {"owner": {"reputation": 213, "user_id": 4560113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb116b84b6ebb26f58fb444b06ca0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "je_b", "link": "https://stackoverflow.com/users/4560113/je-b"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436894858, "post_id": 31412314, "comment_id": 50799808, "body": "@ThisSuitIsBlackNot It is a set of data I got. I have no clear idea why the previous user made it that way. In my opinion, there were plenty of options to produce a clearer identifier. Either way, I have to process his/her data and this is the supposedly logic order he/she was attempting. They made a loop that added letter to the identifier. something like"}, {"owner": {"reputation": 213, "user_id": 4560113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb116b84b6ebb26f58fb444b06ca0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "je_b", "link": "https://stackoverflow.com/users/4560113/je-b"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436894952, "post_id": 31412314, "comment_id": 50799864, "body": "@ThisSuitIsBlackNot While (Certain thing is True) {Select a $letter; $identifier .= $letter } It is supposed that the first letter is a Big Set A, the second letter represents a subset in A. That is AA, AB, AC, then A, B and C are subsets. If I have ABC, C is a subset in the subset B of the set A."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1436894990, "post_id": 31412314, "comment_id": 50799882, "body": "You say &quot;data set&quot; when you mean &quot;order&quot;. If you don&#39;t understand the order, how do you expect to explain it to us??? The first thing you need to do is define what your code is suppose to do. Until you do that, noone can help you."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436896320, "post_id": 31412314, "comment_id": 50800667, "body": "@je_b Okay, now we&#39;re getting somewhere. It sounds like you want to sort top-level (i.e. one-letter) identifiers before their associated subsets, e.g. <code>A</code>, <code>AA</code>, <code>AB</code>, <code>AC</code>, <code>B</code>, <code>BA</code>, <code>BB</code>, <code>BC</code>, right? But for anything longer than one letter, you switch the order, with the most nested (i.e. longest) identifiers first, e.g. <code>AAAA</code>, <code>AAA</code>, <code>AA</code>. Is that accurate?"}, {"owner": {"reputation": 213, "user_id": 4560113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb116b84b6ebb26f58fb444b06ca0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "je_b", "link": "https://stackoverflow.com/users/4560113/je-b"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436897236, "post_id": 31412314, "comment_id": 50801193, "body": "@ThisSuitIsBlackNot Yes"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436902159, "post_id": 31412314, "comment_id": 50804027, "body": "No, that gives a different order than the one given. This is the fourth incorrect order you&#39;ve given us."}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 4560113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb116b84b6ebb26f58fb444b06ca0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "je_b", "link": "https://stackoverflow.com/users/4560113/je-b"}, "edited": false, "score": 0, "creation_date": 1436892135, "post_id": 31412490, "comment_id": 50798161, "body": "I made it with 2 letters and 2 numbers in this example but that might not be always the case. If I find AA, AAA, AAB and AAAA, then AAA, AAB shall be considered a subset that goes before AA, and AAAA shall be before the triple letter subset. But ABAA, for example, must be after AA."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 213, "user_id": 4560113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb116b84b6ebb26f58fb444b06ca0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "je_b", "link": "https://stackoverflow.com/users/4560113/je-b"}, "edited": false, "score": 1, "creation_date": 1436892234, "post_id": 31412490, "comment_id": 50798214, "body": "@je_b Edit your question to include a <i>representative</i> example of your data, including edge cases."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436893947, "post_id": 31412490, "comment_id": 50799252, "body": "@ikegami If I&#39;m reading the OP&#39;s comment right, they want <code>AA AAA AAB AAAA ABAA</code> to be sorted <code>AAAA AAA AAB AA ABAA</code>, so I don&#39;t think it&#39;s based on the length of the letters, but I can&#39;t make heads or tails of the logic behind it."}, {"owner": {"reputation": 213, "user_id": 4560113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb116b84b6ebb26f58fb444b06ca0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "je_b", "link": "https://stackoverflow.com/users/4560113/je-b"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436894450, "post_id": 31412490, "comment_id": 50799560, "body": "@ThisSuitIsBlackNot It is a set of data I got. I have no clear idea why the previous user made it that way. In my opinion, there were plenty of options to produce a clearer identifier. Either way, I have to process his/her data and this is the supposedly logic order he/she was attempting."}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 0, "creation_date": 1436900405, "post_id": 31412490, "comment_id": 50803095, "body": "GIven the use of matches, captures, and function calls I&#39;d implement this as a Schwartzian Transform (map/sort/map) to improve performance."}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 0, "creation_date": 1436903950, "post_id": 31412490, "comment_id": 50804982, "body": "Ooh, a GRT! You did me one better! :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1436925044, "last_edit_date": 1436925044, "creation_date": 1436891836, "answer_id": 31412490, "question_id": 31412314, "link": "https://stackoverflow.com/questions/31412314/how-do-i-sort-alphanumerical-keys-in-perl/31412490#31412490", "title": "How do I sort alphanumerical keys in Perl?", "body": "<pre><code>my @sorted =\n   map $_-&gt;[0],\n   sort {\n      $a-&gt;[1] cmp $b-&gt;[1]\n         ||\n      $a-&gt;[2] &lt;=&gt; $b-&gt;[2]\n   }\n   map {\n      my ($l, $n) = /^([A-Z]+)([0-9]{1,9})\\z/\n         or die(\"Unexpected data\");\n\n      $l .= \"\\xFF\" if length($l) &gt; 1;\n\n      [ $_, $l, $n ]\n   }\n   @unsorted;\n</code></pre>\n\n<hr>\n\n<p>Optimized:</p>\n\n<pre><code>my @sorted =\n   map { unpack('J/a*', scalar(reverse($_))) }\n   sort\n   map {\n      my ($l, $n) = /^([A-Z]+)([0-9]{1,9})\\z/\n         or die(\"Unexpected data\");\n\n      pack('a* a* J&gt;', $l, length($l) == 1 ? \"\\x00\" : \"\\xFF\", $n) . reverse(pack('J/a*', $_))\n   }\n   @unsorted;\n</code></pre>\n\n<hr>\n\n<p>Note: It may be possible to handle larger numbers without changing anything but the check, depending on your build of Perl.</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 1237081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8720d73dbe05f384345414f94d3a56cd?s=128&d=identicon&r=PG", "display_name": "David Levner", "link": "https://stackoverflow.com/users/1237081/david-levner"}, "is_accepted": false, "score": -2, "last_activity_date": 1436901592, "creation_date": 1436901592, "answer_id": 31415477, "question_id": 31412314, "link": "https://stackoverflow.com/questions/31412314/how-do-i-sort-alphanumerical-keys-in-perl/31415477#31415477", "title": "How do I sort alphanumerical keys in Perl?", "body": "<p>As some of the posters wrote, the question is not completely clear. Nevertheless, my attempt at a solution is below. I have not tested this code, so you may need to tweak it a bit to get it to work.</p>\n\n<pre><code>my @sorted_keys = sort by_letters_then_numbers keys %hash;\n\nsub by_letters_then_numbers\n{\n    if ($a !~ /^([a-zA-Z]+)\\s*(\\d+)$/) {return 0};\n    my $a_letters = $1;\n    my $a_number = $2;\n    if ($b !~ /^([a-zA-Z]+)\\s*(\\d+)$/) {return 0};\n    my $b_letters = $1;\n    my $b_number = $2;\n    return(($a_letters cmp $b_letters) || ($a_number &lt;=&gt; $b_number));\n}\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 4560113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eb116b84b6ebb26f58fb444b06ca0f4e?s=128&d=identicon&r=PG&f=1", "display_name": "je_b", "link": "https://stackoverflow.com/users/4560113/je-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1436925044, "creation_date": 1436891324, "last_edit_date": 1436895371, "question_id": 31412314, "link": "https://stackoverflow.com/questions/31412314/how-do-i-sort-alphanumerical-keys-in-perl", "title": "How do I sort alphanumerical keys in Perl?", "body": "<p>I have a hash with keys that look like AA00, AA01, AB00, AB23, ZA03, ZB45, AA02, DA05, AA45, DE67, DE84, ZZ99 and I need to sort them first by letter set then by number from minor to major. </p>\n\n<p>Edit: the case is more complex indeed. Letters must be read from left to right and the number of digits and letter might change. That is, A00 must be before AA00 and AB00. B00 must be after AZ99 but before BA00. </p>\n\n<p>Also, If I find AA, AAA, AAB and AAAA, then AAA, AAB shall be considered a subset that goes before AA, and AAAA shall be before the triple letter subset. But ABAA, for example, must be after AA.</p>\n\n<p>Numbers are in linear order, that is 0 is before 1, and 1 is before 99, but there is no limit for the number of digits. 1 might be represented by 1 or by 01 (See ZB). Ignore the spaces, they are there to maintain the columns.</p>\n\n<p>That is,</p>\n\n<pre><code>A   00,\nAAAA00,\nAAA 00,\nAAB 00,\nAA  00,\nAA  01,\nAA  02,\nAA  45,\nABAA00,\nAB  00, (first letter change)\nAB  23,\nAZ  99,\nB   00,\nBA  00,\nDA  05, (second letter change, first letter restarts as A)\nDE  67,\nDE  84,\nZA  03,\nZB  45,\nZB 145,\nZB1145,\nZZ  99,\n</code></pre>\n\n<p>I tried the classical </p>\n\n<pre><code>for $key ( sort {$a&lt;=&gt;$b} keys %hash) {\n       print \"($key)-&gt;($hash{$key})\\n\";\n}\n</code></pre>\n\n<p>But no sorting is produced at all. Indeed, keys are passed totally disorganzied. </p>\n\n<p>There is the logic that was used to produced the data set. They used: </p>\n\n<pre><code> While (Certain thing is True) {\n   Select a $letter; \n   $identifier .= $letter \n } \n</code></pre>\n\n<p>It is supposed that the first letter is a represents a Set A, the second letter represents a subset in A. That is, if I hava AA, AB and AC, then A, B and C are subsets in A. If I had ABC, C is a subset in the subset B of the set A. If I had, then, ABCA, the last A is a subset in C.</p>\n"}, {"tags": ["regex", "perl", "newline"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436891338, "post_id": 31412170, "comment_id": 50797618, "body": "Please <a href=\"https://stackoverflow.com/posts/31412170/edit\">edit</a> your question to include the output of your Perl script, the output of <code>curl -m 5 -sI 216.58.219.206 | grep &quot;Location:&quot;</code> when run manually in the shell, and your expected output. Also, please make sure the code you&#39;ve included works and reproduces your issue...as Avinash Raj pointed out in a now-deleted comment, your second snippet uses <code>$cmd</code> but there is no <code>$cmd</code> variable in the rest of the code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1436891351, "post_id": 31412170, "comment_id": 50797629, "body": "Did you change <code>$\\ </code> or pass <code>-l</code> to <code>perl</code> (on the command line or the shebang line)?"}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 1, "creation_date": 1436891768, "post_id": 31412170, "comment_id": 50797911, "body": "Looking at the input helps -- perhaps there is more than one newline in your input, and you&#39;re just chomping one of them. Not enough information for us to help you.  I also highly recommend not using a regex for this -- that is the whole point of chomp(). If it&#39;s not working the way you think, then it&#39;s an issue with the input."}, {"owner": {"reputation": 357, "user_id": 2065959, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80fd9cfc83d7692441b04e90a8bd613e?s=128&d=identicon&r=PG", "display_name": "Le Ray", "link": "https://stackoverflow.com/users/2065959/le-ray"}, "edited": false, "score": 0, "creation_date": 1436892903, "post_id": 31412170, "comment_id": 50798611, "body": "I have pasted the output for both the code snippets"}, {"owner": {"reputation": 357, "user_id": 2065959, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80fd9cfc83d7692441b04e90a8bd613e?s=128&d=identicon&r=PG", "display_name": "Le Ray", "link": "https://stackoverflow.com/users/2065959/le-ray"}, "edited": false, "score": 0, "creation_date": 1436893128, "post_id": 31412170, "comment_id": 50798746, "body": "I have also added raw shell output as well."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 2065959, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80fd9cfc83d7692441b04e90a8bd613e?s=128&d=identicon&r=PG", "display_name": "Le Ray", "link": "https://stackoverflow.com/users/2065959/le-ray"}, "edited": false, "score": 0, "creation_date": 1436897079, "post_id": 31413882, "comment_id": 50801096, "body": "Hi. Yup, I just discovered that a few minutes ago. Thank you so much anyways! Also, even if there are trailing whitespaces why isn&#39;t the regex removing &quot;\\n"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 357, "user_id": 2065959, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80fd9cfc83d7692441b04e90a8bd613e?s=128&d=identicon&r=PG", "display_name": "Le Ray", "link": "https://stackoverflow.com/users/2065959/le-ray"}, "edited": false, "score": 0, "creation_date": 1436897174, "post_id": 31413882, "comment_id": 50801159, "body": "Your regex does remove \\n, but not \\r.  \\s matches all whitespace characters."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 3, "last_activity_date": 1436896772, "last_edit_date": 1436896772, "creation_date": 1436896456, "answer_id": 31413882, "question_id": 31412170, "link": "https://stackoverflow.com/questions/31412170/perl-removing-new-line/31413882#31413882", "title": "Perl Removing New Line", "body": "<p>The curl response is coming back with <strong>\\r\\n</strong> instead of just <strong>\\n</strong>.</p>\n\n<p>Use <strong>od</strong> (octal-dump) to see for yourself (<strong>-c</strong> means show characters):</p>\n\n<pre><code>curl -m 5 -sI 216.58.219.206 | grep Location: | od -c\n0000000   L   o   c   a   t   i   o   n   :       h   t   t   p   :   /\n0000020   /   w   w   w   .   g   o   o   g   l   e   .   c   o   m   /\n0000040  \\r  \\n\n0000042\n</code></pre>\n\n<p>You will need to remove both characters.</p>\n\n<pre><code>$location =~ s|\\s*$||;  # Remove all trailing whitespace\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1442851926, "last_edit_date": 1442851926, "creation_date": 1437038482, "answer_id": 31450230, "question_id": 31412170, "link": "https://stackoverflow.com/questions/31412170/perl-removing-new-line/31450230#31450230", "title": "Perl Removing New Line", "body": "<p>You can remove tab, spaces, newline and carriage return using tr</p>\n\n<pre><code>curl -m 5 -sI 216.58.219.206 | grep Location: | tr -d '\\011\\012\\040' \n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 2065959, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80fd9cfc83d7692441b04e90a8bd613e?s=128&d=identicon&r=PG", "display_name": "Le Ray", "link": "https://stackoverflow.com/users/2065959/le-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 2, "accepted_answer_id": 31413882, "answer_count": 2, "score": 3, "last_activity_date": 1442851926, "creation_date": 1436890973, "last_edit_date": 1436893119, "question_id": 31412170, "link": "https://stackoverflow.com/questions/31412170/perl-removing-new-line", "title": "Perl Removing New Line", "body": "<p>I cant seem to remove the new line from an output I get by executing a command on linux server and have tried several different ways</p>\n\n<p>heres my code <strong>1st try</strong></p>\n\n<pre><code>$location = `curl -m 5 -sI 216.58.219.206 | grep \"Location:\"`;\nchomp ($location);\nprint \"before\\n\";\nprint \"$location\";\nprint \"after\\n\";\n</code></pre>\n\n<p>output, Doesnt work, it gets printed with a new line.</p>\n\n<pre><code>before\nLocation: http://www.google.com/\nafter\n</code></pre>\n\n<p><strong>2nd try</strong></p>\n\n<pre><code>$location = `curl -m 5 -sI 216.58.219.206 | grep \"Location:\"`;\n$location =~ s/\\n//g;\nprint \"before\\n\";\nprint \"$location\";\nprint \"after\\n\";\n</code></pre>\n\n<p>Output, still doesn't work.</p>\n\n<pre><code>before\nLocation: http://www.google.com/\nafter\n</code></pre>\n\n<p>Raw Shell output</p>\n\n<pre><code>[user@localhost dir]# curl -m 5 -sI 216.58.219.206 | grep \"Location:\"\nLocation: http://www.google.com/\n[user@localhost dir]#\n</code></pre>\n\n<p>Doesnt work either, I still see a new line.\nAm I missing something?</p>\n"}, {"tags": ["regex", "string", "perl", "search", "replace"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1436879162, "post_id": 31407265, "comment_id": 50788524, "body": "What you are trying to run there looks very strange."}, {"owner": {"reputation": 71, "user_id": 503757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f78a54f852074f454ef22b6a7cc659b?s=128&d=identicon&r=PG", "display_name": "Xupicor", "link": "https://stackoverflow.com/users/503757/xupicor"}, "edited": false, "score": 0, "creation_date": 1436880255, "post_id": 31407265, "comment_id": 50789400, "body": "Indeed, it&#39;s pretty strange... About string replacement - it would be good if you provided example data before and after replacement, and then verbosely explain what was replaced and why. At this time <code>Hi&#47;Hello</code> can be interpreted by people as actual string, or that either <code>Hi</code> or <code>hello</code> should be accepted..."}, {"owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "edited": false, "score": 0, "creation_date": 1436880760, "post_id": 31407265, "comment_id": 50789816, "body": "apologize for confusion, i have updated my original question.."}], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "edited": false, "score": 0, "creation_date": 1436880388, "post_id": 31407675, "comment_id": 50789516, "body": "Hunter, thank you for very quick reply. Few questions... can i use change it to my $pattern = qr|($variable1) #&#40;(\\d{1,3})&#41;|;? and also i&#39;m getting Bareword found where operator expected near line &quot;print $row =~ s/$pattern/$1 #(60)/gr;&quot; and can also change it to variable2 instead of $pattern/$1 #(60)/gr... because it won&#39;t be 60 all the time i would simply like to replace it with variable2..."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "edited": false, "score": 0, "creation_date": 1436881423, "post_id": 31407675, "comment_id": 50790264, "body": "@Mihir then change the replace part to be <code>$variable2</code>"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 3, "last_activity_date": 1436879896, "last_edit_date": 1436879896, "creation_date": 1436879589, "answer_id": 31407675, "question_id": 31407265, "link": "https://stackoverflow.com/questions/31407265/perl-search-and-replace-substring/31407675#31407675", "title": "Perl search and replace substring", "body": "<p>What you are doing doesn't make much sense, if you are already inside of a Perl script don't shell out to perform a Perl one-liner, just write a simple loop to solve your problem. </p>\n\n<p>The easiest way to do this is to create a pattern that matches what you would like, then perform a substitution on a line-by-line basis. The example below uses the <code>DATA</code> filehandle, but that can be replaced by a filehandle pointing to the source file you would like to modify:</p>\n\n<pre><code>use strict; \nuse warnings; \n\nmy $pattern = qr|(Hi/hello) #\\((\\d{1,3})\\)|;\nwhile ( my $row = &lt;DATA&gt; ) {\n   # enforce restriction for 0-100\n   if ( $row =~ m/$pattern/ &amp;&amp; $2 &gt;= 0 &amp;&amp; $2 &lt;= 100 ) {\n      # replace with new suffix\n      print $row =~ s/$pattern/$1 #(60)/gr;  \n      next;\n   }\n\n   print $row;\n}\n\n__DATA__\nHi/hello #(1)\nHi/hello #(10)\nHi/hello #(100)\nHi/hello #(101)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Hi/hello #(60)\nHi/hello #(60)\nHi/hello #(60)\nHi/hello #(101) &lt;- ignored because it doesnt fall into range [0, 100]\n</code></pre>\n\n<p>regular expression explained:</p>\n\n<pre><code>(Hi/hello) #\\((\\d{1,3})\\)\n</code></pre>\n\n<p>this regular expression matches and captures two pieces of data, the prefix \"Hi/hello\" and the number inside of <code>#(&lt;number&gt;)</code>. These are stored in <code>$1</code> and <code>$2</code> respectively.</p>\n"}, {"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1436880370, "post_id": 31407740, "comment_id": 50789493, "body": "You miss the closing <code>&quot;</code> in second line."}], "tags": [], "owner": {"reputation": 1728, "user_id": 263053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65436946251c32cb1dccb36901dee70?s=128&d=identicon&r=PG", "display_name": "gymbrall", "link": "https://stackoverflow.com/users/263053/gymbrall"}, "is_accepted": false, "score": 2, "last_activity_date": 1436880547, "last_edit_date": 1436880547, "creation_date": 1436879744, "answer_id": 31407740, "question_id": 31407265, "link": "https://stackoverflow.com/questions/31407265/perl-search-and-replace-substring/31407740#31407740", "title": "Perl search and replace substring", "body": "<p>Based on your description what you are looking for is as follows:</p>\n\n<pre><code>my $variable1=\"Hi/hello #(0-100)\";\nmy $variable2=\"Hi/hello #60\";\nif($variable1 =~ /Hi\\/hello/)\n  {\n    $variable1 =~ s/^.*$/$variable2/;\n  }\n</code></pre>\n\n<p>I'm expecting there is more to it than this, but let's start there.</p>\n"}], "owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 31407675, "answer_count": 2, "score": -3, "last_activity_date": 1436880730, "creation_date": 1436878601, "last_edit_date": 1436880730, "question_id": 31407265, "link": "https://stackoverflow.com/questions/31407265/perl-search-and-replace-substring", "title": "Perl search and replace substring", "body": "<p>How can I search and replace a substring using perl script?</p>\n\n<p>for example --> txt1.txt</p>\n\n<pre><code>Hi/hello #55\nHi/hi #55\n</code></pre>\n\n<p>how can search for variable1 in txt1.txt, if found replace it with variable2. \nThere can be any number after hashtag between 0-100. I would like to search for \n\"Hi/hello\" first and if found, replace whole content \"Hi/hello #(0-100)\" with \"Hi/hello #60;</p>\n\n<p>mytry.txt</p>\n\n<pre><code>my $variable1=\"Hi/hello #(0-100)\";\nmy $variable2=\"Hi/hello #60;\nprint \"$short\\n\";\nsystem(q{perl -pe\"s|($ENV{variable1} *)#\\d+|$ENV{variable2}|;\" txt1.p4sm  &gt; txt2.p4sm});\n</code></pre>\n\n<p>desiredoutput.txt</p>\n\n<pre><code>Hi/hello #60\nHi/hi #55\n</code></pre>\n"}, {"tags": ["perl", "indexing", "solr"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1436876053, "post_id": 31406196, "comment_id": 50786111, "body": "Which Perl module are you using to talk to the Solr?"}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 2, "creation_date": 1436877096, "post_id": 31406196, "comment_id": 50786863, "body": "If you receive several documents at the same time, you can add them all in a single HTTP request - or you can delay the add until you&#39;ve received x number of documents. The commit is usually the expensive part of the update, so extending the commitWithin time or the time before you issue the commit could also help. How do you do the adds now? How often do new documents arrive? How fast do you want the documents to be visible? Have you looked at the NRT features of Solr?"}], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "edited": false, "score": 0, "creation_date": 1437028722, "post_id": 31417121, "comment_id": 50862376, "body": "Having multiple processes seems more complicated , I already have a process that generates these documents into a Redis queue ( SSDB actually) The SOLR is always going to be in the same LAN. My items in SOLR are not going to be picked up immediately , so committing can always be delayed"}], "tags": [], "owner": {"reputation": 1544, "user_id": 2630270, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/90187778e72be6f8ce4d85b550991bbb?s=128&d=identicon&r=PG", "display_name": "nick_v1", "link": "https://stackoverflow.com/users/2630270/nick-v1"}, "is_accepted": false, "score": 0, "last_activity_date": 1436907182, "creation_date": 1436907182, "answer_id": 31417121, "question_id": 31406196, "link": "https://stackoverflow.com/questions/31406196/index-a-continuous-stream-of-documents-in-solr/31417121#31417121", "title": "Index a continuous stream of documents in SOLR", "body": "<p>There are a couple of points you should consider:</p>\n\n<p>First, I would suggest to de-couple the process of pulling data from the queue and indexing into Solr. What I mean by this is have a process that would pull the data from the queue, massage it correctly and write out solr json file. The file should have multiple records; the number will be determined by the size of each record and the total number of items you will have in each batch. Play around with different settings. </p>\n\n<p>Then have another process index those files, you can have multiple processes indexing these into Solr as well. This will ensure that your DE-queuing process is not hung up on indexing items to Solr; which is not always quick. </p>\n\n<p>Next; evaluate your library of choice. If you have the data local to a Solr server, you can pass the path via a GET request to index it or you can stream it over the network. The first approach will be faster, however it requires you to store JSON locally on the Solr box. </p>\n\n<p>Finally, review your committing strategy. What kind of delay is acceptable? Are you doing a lot of faceting or FQ queries? If some delay is alight and the answer to your second question is yes, I would suggest to have a very aggressive hard commit and relaxed soft commit. If you need new items to be picked up very quickly, then consider lowering the soft commit while testing performance until you find a good balance. </p>\n\n<p>Hope this helps. </p>\n"}], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436907182, "creation_date": 1436875816, "question_id": 31406196, "link": "https://stackoverflow.com/questions/31406196/index-a-continuous-stream-of-documents-in-solr", "title": "Index a continuous stream of documents in SOLR", "body": "<p>I need to index thousands of documents continuously into SOLR.\nThe documents are picked up from a redis like queue ( SSDB) and then indexed into SOLR</p>\n\n<p>Whenever I use the library function $solr->add()  there is a new HTTP call made to solr. Is there a better mechanism to index bulk items into SOLR ? </p>\n"}, {"tags": ["perl", "mechanize", "www-mechanize"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436872960, "post_id": 31405120, "comment_id": 50783969, "body": "You may want to check <a href=\"https://metacpan.org/pod/Devel::Timer\" rel=\"nofollow noreferrer\">metacpan.org/pod/Devel::Timer</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1436890324, "post_id": 31405334, "comment_id": 50796943, "body": "suppose my result page took 5 second, will $tmp=$m-&gt;title wait for 5 second and then print $tmp, or what would be the behaviour"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1436904741, "post_id": 31405334, "comment_id": 50805402, "body": "See the documentation for available methods, I think you need <code>client_total_time</code>."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1436873341, "creation_date": 1436873341, "answer_id": 31405334, "question_id": 31405120, "link": "https://stackoverflow.com/questions/31405120/perl-how-to-find-time-for-http-request-completion/31405334#31405334", "title": "perl how to find time for http request completion", "body": "<p>You could use <a href=\"http://metacpan.org/pod/WWW::Mechanize::Timed\" rel=\"nofollow\">WWW::Mechanize::Timed</a></p>\n"}, {"comments": [{"owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "edited": false, "score": 0, "creation_date": 1436890313, "post_id": 31409207, "comment_id": 50796935, "body": "suppose my result page took 5 second, will $tmp=$m-&gt;title wait for 5 second and then print $tmp, or what would be the behaviour"}], "tags": [], "owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1436883238, "creation_date": 1436883238, "answer_id": 31409207, "question_id": 31405120, "link": "https://stackoverflow.com/questions/31405120/perl-how-to-find-time-for-http-request-completion/31409207#31409207", "title": "perl how to find time for http request completion", "body": "<p>You can capture the time when you submit the request and also immediately after result got displayed in the script using time function. Then difference of both can give you the required time taken for the request. </p>\n\n<p>Otherwise you can also try WWW::Mechanize::Timed as Pathak suggested.</p>\n"}], "owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1436883238, "creation_date": 1436872708, "question_id": 31405120, "link": "https://stackoverflow.com/questions/31405120/perl-how-to-find-time-for-http-request-completion", "title": "perl how to find time for http request completion", "body": "<p>I have a form to fill and on submit, it will return result.\nNow, i want to calculate the time taken to fulfill my request ie time when result got displayed-time i clicked submit.</p>\n\n<p>I have no idea, how to do so. Please feel free to use any module. I dont know which parameter to use to check that response page is displayed. I have used reading title of result page just to check that response is displayed correctly.</p>\n\n<p>my code:</p>\n\n<pre><code>use WWW::Mechanize;\nuse LWP::UserAgent;\nmy $m = WWW::Mechanize-&gt;new();\n$m-&gt;get( \"http://en.wikipedia.org/wiki/Main_Page\" );\n$m-&gt;submit_form(\n    form_number =&gt; 1,\n    fields    =&gt; { search  =&gt; 'honey', },\n    button    =&gt; 'go'  #my time1 should start at this moment\n);\n#my time 2 should be recorded as soon as result page is displayed, i dont know what to use to get this time\n$tmp=$m-&gt;title;\nprint \"$tmp\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1436872843, "post_id": 31404586, "comment_id": 50783903, "body": "Looks a fine solution, but what if it&#39;s not inside any function or method?"}, {"owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1436875645, "post_id": 31404586, "comment_id": 50785822, "body": "These strings don&#39;t make sense outside a method.  The real problem is efficiency.  I need to check each line of code against a hash of 500 odd keys.  I feel there must be a better way but I can&#39;t think of it..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436878209, "post_id": 31404586, "comment_id": 50787760, "body": "Have a look at <a href=\"https://metacpan.org/pod/PPI\" rel=\"nofollow noreferrer\"><code>PPI</code></a>. Here is an example for sorting subroutines alphabetically: <a href=\"http://stackoverflow.com/questions/26501104/sorting-module-subroutines-alphabetically\" title=\"sorting module subroutines alphabetically\">stackoverflow.com/questions/26501104/&hellip;</a>"}, {"owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "edited": false, "score": 0, "creation_date": 1436879091, "post_id": 31404586, "comment_id": 50788463, "body": "Hey H&#229;kon, thanks that looks really useful!"}], "answers": [{"comments": [{"owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "edited": false, "score": 0, "creation_date": 1436876263, "post_id": 31405900, "comment_id": 50786264, "body": "I don&#39;t think this will work (if I&#39;m understanding you). I&#39;d have to insert a call to caller in every method in a huge code base, then still print the warning if the string is in the method.  I&#39;ll check out perltidy though, that could be very useful..."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "edited": false, "score": 0, "creation_date": 1436879057, "post_id": 31405900, "comment_id": 50788438, "body": "Yes, but you could write a small program to read through the files and insert the debug/logging/audit code whenever it encounters one of your template strings.  I have written such a program to introduce line-by-line profiling data on a code base without the overhead of running the full blown profiler (which slows down execution dramatically)."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1436875412, "last_edit_date": 1436875412, "creation_date": 1436874977, "answer_id": 31405900, "question_id": 31404586, "link": "https://stackoverflow.com/questions/31404586/how-can-i-find-all-the-methods-that-contain-a-specific-string-within-a-perl-code/31405900#31405900", "title": "How can I find all the methods that contain a specific string within a Perl codeset?", "body": "<p>Use the caller function.</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/caller.html</a></p>\n\n<pre><code>perldoc -f caller\n</code></pre>\n\n<p>Here is a simple example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy $text = 'hello, world!';\nprint upper_case($text) . \"\\n\";\n\nsub upper_case {\n    my ($str) = @_;\n\n    #  0         1          2      3            4\n    my ($package, $filename, $line, $subroutine, $hasargs,\n    #  5          6          7            8       9         10\n    $wantarray, $evaltext, $is_require, $hints, $bitmask, $hinthash)\n    = caller(0); # 0 = current scope, 1 = parent stack, 2 = 2-levels up, etc.\n\n    warn \"DEBUG: Called subroutine $subroutine with parameter '$str'\\n\";\n    return join ' ', map {ucfirst} split /\\s/, $str;\n}\n</code></pre>\n\n<p>You can find the locations in your code that match the template strings using a regular expression or a code parser (like how perltidy works), as long as the strings are to be found in the code.</p>\n\n<p>Code like</p>\n\n<pre><code>sub aSub {\n    my($arg) = @_\n    ...\n    if ($template eq 'interview_accepted') {\n    ...\n}\n</code></pre>\n\n<p>will be easy to modify programatically for your entire code base, however\ncode like:</p>\n\n<pre><code>sub bSub {\n    my($arg) = @_\n    ...\n    if ($template =~ m|interview_a\\w+|)\n    ...\n    }\n}\n</code></pre>\n\n<p>will be much more difficult.  If assertions are done using 'eval', then\nno parsing solution will work.</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1436884476, "post_id": 31408142, "comment_id": 50792641, "body": "Awesome module, but it seems it does not use PPI internally for parsing? So it is not very robust yet, is that correct?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1436885209, "post_id": 31408142, "comment_id": 50793209, "body": "Yes, that&#39;s correct. I&#39;ll be working this week on making it much more robust, and giving it some new features (like in-memory module sub checking). Comments and ideas very, very welcome."}, {"owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "edited": false, "score": 0, "creation_date": 1436887178, "post_id": 31408142, "comment_id": 50794637, "body": "Wow, I wasn&#39;t expecting a complete solution. Thx!  For a set of strings, this is printing the .pm and the method that contains a string in @search but not the string that was found - is that easy to do?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1436887673, "post_id": 31408142, "comment_id": 50795005, "body": "I&#39;m working on this module today, so I&#39;ll see if I can incorporate that feature easily. I&#39;ll post back here shortly."}, {"owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "edited": false, "score": 0, "creation_date": 1436888033, "post_id": 31408142, "comment_id": 50795257, "body": "I&#39;m just looking at the code - very nice - let me know if I can help?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1436889444, "post_id": 31408142, "comment_id": 50796327, "body": "I&#39;m just about to upload to CPAN a new version with a module() method, some updated POD and new tests, then I&#39;ll have a look at returning the entire string found along with the subs it is in. If you have any comments on the code, I&#39;m all ears. I want to collapse a lot of the work, as many of the subs do the same thing (call internal functions that do teh actual work)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1436902209, "post_id": 31408142, "comment_id": 50804057, "body": "Updated. Fetch v1.11 from CPAN when it&#39;s processed through the system, or download it from <a href=\"https://bitbucket.org/spek/devel-examine-subs/\" rel=\"nofollow noreferrer\">bitbucket.org/spek/devel-examine-subs</a>. The <code>has()</code> method now takes another param <code>lines =&gt; 1</code>. It&#39;ll then return a hash containing the line number and data that each search match is found on. I&#39;ve updated my answer. The 2nd update has code that uses it, and output that can be expected."}, {"owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "edited": false, "score": 0, "creation_date": 1436911655, "post_id": 31408142, "comment_id": 50808936, "body": "Just got back - I&#39;m checking it out and will feedback. thanks a bunch for this!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1436912585, "post_id": 31408142, "comment_id": 50809314, "body": "I think what I&#39;m going to do next is make it regex compatible, look at integrating PPI into it, and then have it so you can inject code into subs. I&#39;ve needed that functionality in the past anyway."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 2, "last_activity_date": 1436902108, "last_edit_date": 1436902108, "creation_date": 1436880697, "answer_id": 31408142, "question_id": 31404586, "link": "https://stackoverflow.com/questions/31404586/how-can-i-find-all-the-methods-that-contain-a-specific-string-within-a-perl-code/31408142#31408142", "title": "How can I find all the methods that contain a specific string within a Perl codeset?", "body": "<p>My CPAN module <a href=\"https://metacpan.org/pod/Devel::Examine::Subs\" rel=\"nofollow\"><code>Devel::Examine::Subs</code></a> can do this with the <code>has()</code> method or function. Here's a sample script using the OO version, which will do what you want. Just enter the directory you want to search (recursively) as argument one, and the search term as argument two:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse 5.18.0;\n\nuse Devel::Examine::Subs;\nuse File::Find;\n\nmy $des = Devel::Examine::Subs-&gt;new();\n\nmy $dir = $ARGV[0];\nmy $search = $ARGV[1];\n\nfind({ wanted =&gt; \\&amp;check_subs, no_chdir =&gt; 1 }, \n       $dir,\n);\n\nsub check_subs {\n\n    if (! -f or ! /(?:\\.pm|\\.pl)$/){\n        return;\n    } \n\n    my $file = \"$File::Find::name\";\n\n    my @has = $des-&gt;has({file =&gt; $file, search =&gt; $search});\n\n    return if ! @has;\n\n    say \"\\n$file:\" ;\n    say \"\\t$_\" for @has;\n}\n</code></pre>\n\n<p>Called like this <code>perl des.pl business-isp/ template</code> results in this example output:</p>\n\n<pre><code>business-isp/lib/Business/ISP/Reports.pm:\n    income_by_item\n    renewal_notices\n\nbusiness-isp/lib/Business/ISP/GUI/Accounting.pm:\n    _display_plan_stats\n    process_renew\n    display_add_plan\n    email_invoice\n    process_purchase\n    display_payment_form\n    client_delete\n    _contact_info_table\n    show_plan\n    display_uledger\n    add_plan\n\nbusiness-isp/lib/Business/ISP/GUI/Base.pm:\n    start\n    _header\n    display_config\n    _render_error\n    _blank_header\n    _footer\n</code></pre>\n\n<p>UPDATE: I've modified the script slightly so it can be used in a loop with a bunch of search terms. Just populate your template names into the <code>@searches</code> array, and specify the directory structure to search in <code>$dir</code>. </p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse 5.18.0;\n\nuse Devel::Examine::Subs;\nuse File::Find;\n\nmy $des = Devel::Examine::Subs-&gt;new();\n\nmy $dir = 'business-isp/';\nmy @searches = qw(template this that other);\n\nfor my $search (@searches){\n\n    say \"\\n***** SEARCHING FOR: $search *****\\n\";\n\n    find({ wanted =&gt; sub { check_subs($search) }, no_chdir =&gt; 1 }, \n           $dir\n    );\n}\n\nsub check_subs {\n\n    my $search = shift;\n\n    if (! -f or ! /(?:\\.pm|\\.pl)$/){\n        return;\n    } \n\n    my $file = \"$File::Find::name\";\n\n    my @has = $des-&gt;has({file =&gt; $file, search =&gt; $search});\n\n    return if ! @has;\n\n    say \"\\n$file:\" ;\n    say \"\\t$_\" for @has;\n}\n</code></pre>\n\n<p>UPDATE: Here's a script that uses the new <code>has()</code> method with the <code>lines</code> parameter set. It retrieves the entire line that the search hits, along with the line number it's on:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse 5.18.0;\n\nuse Devel::Examine::Subs;\nuse File::Find;\n\nmy $des = Devel::Examine::Subs-&gt;new();\n\nmy $dir = 'business-isp/';\nmy @searches = qw(date);\n\nfor my $search (@searches){\n\n    say \"\\n***** SEARCHING FOR: $search *****\\n\";\n\n    find({ wanted =&gt; sub { check_subs($search) }, no_chdir =&gt; 1 }, \n           $dir\n    );\n}\n\nsub check_subs {\n\n    my $search = shift;\n\n    if (! -f or ! /(?:\\.pm|\\.pl)$/){\n        return;\n    } \n\n    my $file = \"$File::Find::name\";\n\n\n    my %subs = $des-&gt;has({file =&gt; $file, search =&gt; $search, lines =&gt; 1});\n\n    return if not %subs;\n\n    print \"\\n$file:\\n\\n\";\n\n    for my $sub (keys %subs){    \n\n        print \"$sub:\\n\";\n\n        for my $line_info (@{$subs{$sub}}){\n            while (my ($k, $v) = each (%$line_info)){ \n                print \"\\tLine num: $k, Line Data: $v\\n\";\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>business-isp/lib/Business/ISP/Sanity.pm:\n\nvalidate_data:\n    Line num: 168, Line Data:  $self-&gt;validate_value({ \naudit:\n    Line num: 72, Line Data:  my $date = $self-&gt;date({ get =&gt; $schedule }); \n    Line num: 77, Line Data:  # update the audit list if the process is claiming to be \n    Line num: 86, Line Data:  date =&gt; $self-&gt;date({ get =&gt; 'day' }), \n    Line num: 108, Line Data:  date =&gt; { -like =&gt; \"$date%\" }, \n    Line num: 123, Line Data:  my $executed_date = $executed-&gt;date; \n    Line num: 126, Line Data:  \"Process $process has already run its $schedule cycle on $executed_date\"; \nvalidate_renew:\n    Line num: 304, Line Data:  $self-&gt;validate_value({ \nvalidate_value:\n    Line num: 193, Line Data:  # return if validate_value is disabled! \n    Line num: 204, Line Data:  print \"Sanity validate_value_debug: $tag, $value\\n\"; \n\nbusiness-isp/lib/Business/ISP/GUI/Accounting.pm:\n\nconfirm_payment:\n    Line num: 1312, Line Data:  my $date = $self-&gt;string_date(); \n    Line num: 1316, Line Data:  $self-&gt;pb_param( date =&gt; $date ); \ndisplay_invoice:\n    Line num: 1867, Line Data:  my $date = $invoice-&gt;[0]-&gt;{ date }; \n    Line num: 1928, Line Data:  $template-&gt;param( date =&gt; $date ); \n</code></pre>\n"}], "owner": {"reputation": 1581, "user_id": 1205178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e6a01e0f48ec9275ccee26bc59e66e7?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/1205178/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "accepted_answer_id": 31408142, "answer_count": 2, "score": 1, "last_activity_date": 1436902108, "creation_date": 1436871142, "last_edit_date": 1436872679, "question_id": 31404586, "link": "https://stackoverflow.com/questions/31404586/how-can-i-find-all-the-methods-that-contain-a-specific-string-within-a-perl-code", "title": "How can I find all the methods that contain a specific string within a Perl codeset?", "body": "<p>I've been given a tricky task which is to write a log entry at certain points within a large million+ line code base. </p>\n\n<p>The points that I need to log can be found from a list of 500+ template types. A template type is simply a string like \"end_assignment_affiliate\" or \"interview_accepted\".</p>\n\n<p>I'm trying to work out how to write a perl script that will take the list of 500 templates and then search through the code to find the methods that make use of each specific template string (I then hope to use the list of methods to find all the entry points into the system for each template type).</p>\n\n<p>So for example I may have </p>\n\n<pre><code>sub aSub {\n my($arg) = @_\n ...\n if ($template eq 'interview_accepted') {\n ...\n}\n</code></pre>\n\n<p>I want to determine that method aSub contains interview_accepted.  interview_accepted may be contained within multiple subroutines.</p>\n\n<p>It's quite easy to grep the code base for the message type and find the line number in files where that message exists, however I'm having a hard time trying to identify the containing method.</p>\n\n<p>Clearly if I can do this programmatically it will be more robust, repeatable and much quicker.</p>\n\n<p>Does anyone know of any modules or tricks that I can use to achieve this?</p>\n\n<h3>Update</h3>\n\n<p>I'm currently playing with using File::ReadBackwards to find the string, and then from that point find the first sub [name] { point.  I'm wondering though if there is a more elegant solution?</p>\n"}, {"tags": ["linux", "bash", "perl"], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1436868609, "creation_date": 1436868609, "answer_id": 31403682, "question_id": 31403141, "link": "https://stackoverflow.com/questions/31403141/match-and-replace-one-pattern-multiple-times-in-the-same-line-delimited-by-unkno/31403682#31403682", "title": "match and replace one pattern multiple times in the same line delimited by unknown characters", "body": "<p>Something like below (untested)</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $date1;\nmy $date2;\nmy $expr = q{select * from foo where ts&gt;@(-2 days) and ts &lt; @(-1 hour)};\nif( $expr =~ m#\\@\\((.*?)\\) and .*? \\@\\((.*?)\\)# ){\n    $date1 = $1;\n    $date2 = $2;\n}\nmy $expr1 = `date --date=$date1 +%s`;\nmy $expr2 = `date --date=$date2 +%s`;\n\n#now search and replace the $expr\n\n$expr =~ s#\\@\\((.*?)\\)#$expr1;\n$expr =~ s#&lt; \\@\\((.*?)\\)#&lt;.$expr2;\n\nprint \"Final expression is $expr\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17600, "user_id": 793796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mk3lA.jpg?s=128&g=1", "display_name": "anishsane", "link": "https://stackoverflow.com/users/793796/anishsane"}, "is_accepted": true, "score": 1, "last_activity_date": 1436869148, "creation_date": 1436869148, "answer_id": 31403874, "question_id": 31403141, "link": "https://stackoverflow.com/questions/31403141/match-and-replace-one-pattern-multiple-times-in-the-same-line-delimited-by-unkno/31403874#31403874", "title": "match and replace one pattern multiple times in the same line delimited by unknown characters", "body": "<p>Using gnu sed:</p>\n\n<pre><code>$ sql_expr=\"select * from foo where ts&gt;@(-2 days) and ts &lt; @(-1 hour)\"\n\n$ sed -r 's|@\\(([^)]*)\\)|$(date +%s --date \"now\\1\")|g; s|.*|echo \"&amp;\"|e' &lt;&lt;&lt; \"$sql_expr\"\n\nGave:\nselect * from foo where ts&gt;1436696209 and ts &lt; 1436865409\n</code></pre>\n\n<p>Note that this code assumes that the contents of <code>@(...)</code> are valid expressions, for date calculations.</p>\n\n<p>Explanation:  </p>\n\n<ol>\n<li>First expression will replace all <code>@()</code> occurrences with <code>$(date +%s --date \"now _expression_\")</code> where <code>_expression_</code> is going to be something like <code>-2 days</code>.</li>\n<li>Second replace expression adds <code>echo \"...\"</code> around entire string &amp; <em>executes</em> the generated line. You can remove the <code>e</code> flag in second expression to find out what command gets executed actually.</li>\n</ol>\n"}], "owner": {"reputation": 25483, "user_id": 129750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/bde9493348770b4f6bf0f632ef91fc1c?s=128&d=identicon&r=PG", "display_name": "IttayD", "link": "https://stackoverflow.com/users/129750/ittayd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 31403874, "answer_count": 2, "score": 1, "last_activity_date": 1436869600, "creation_date": 1436867058, "question_id": 31403141, "link": "https://stackoverflow.com/questions/31403141/match-and-replace-one-pattern-multiple-times-in-the-same-line-delimited-by-unkno", "title": "match and replace one pattern multiple times in the same line delimited by unknown characters", "body": "<p>Given the input of the form:</p>\n\n<pre><code>select * from foo where ts&gt;@(-2 days) and ts &lt; @(-1 hour)\n</code></pre>\n\n<p>(this is of course just an example. I want to support any query construct and any expression in @())</p>\n\n<p>I want to replace the expression in every <code>@()</code> with the result of evaluating <code>date --date=exp +%s</code>, where 'exp' is the expression (so in the example above the result will be </p>\n\n<pre><code>select * from foo where ts&gt;1436694136 and ts &lt; 1436863336\n</code></pre>\n\n<p>More generally, how do I replace a pattern with the result of invoking a shell command with captures from the pattern as arguments?</p>\n\n<p>(I've tagged the question with perl, and bash, but am open to anything)</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1436867245, "post_id": 31403037, "comment_id": 50780378, "body": "That&#39;s not a regular expression. At least, I hope it isn&#39;t!"}, {"owner": {"reputation": 147, "user_id": 1872132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdphz.jpg?s=128&g=1", "display_name": "aks", "link": "https://stackoverflow.com/users/1872132/aks"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436867464, "post_id": 31403037, "comment_id": 50780513, "body": "the part before the &#39;star&#39; is fixed, I need to match anything after that fixed part, and anything after that containing DATA*"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1436867965, "post_id": 31403037, "comment_id": 50780824, "body": "Show us a complete (but short) working code example that demonstrates  the problem."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436872642, "post_id": 31403037, "comment_id": 50783756, "body": "Why are you using <code>bsd_glob</code> specifically here? It doesn&#39;t look like it&#39;s doing anything above and beyond &#39;standard&#39;?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436872675, "post_id": 31403037, "comment_id": 50783781, "body": "Also - what is <code>$filename</code> set to? That pattern you specified?"}, {"owner": {"reputation": 147, "user_id": 1872132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdphz.jpg?s=128&g=1", "display_name": "aks", "link": "https://stackoverflow.com/users/1872132/aks"}, "edited": false, "score": 0, "creation_date": 1436873462, "post_id": 31403037, "comment_id": 50784332, "body": "yes, $filename is the pattern I have mentioned"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 1872132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdphz.jpg?s=128&g=1", "display_name": "aks", "link": "https://stackoverflow.com/users/1872132/aks"}, "edited": false, "score": 0, "creation_date": 1436873725, "post_id": 31405036, "comment_id": 50784515, "body": "I used <code>bsd_glob</code> instead of <code>glob</code> as there was slight difference in the way it works on different UNIX platforms.  Specifically, for the above mentioned pattern, on some UNIX platforms, it didn&#39;t return a file having exact name &#39;DATA&#39;, and only returned files with something appended to DATA."}, {"owner": {"reputation": 147, "user_id": 1872132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdphz.jpg?s=128&g=1", "display_name": "aks", "link": "https://stackoverflow.com/users/1872132/aks"}, "edited": false, "score": 0, "creation_date": 1436874026, "post_id": 31405036, "comment_id": 50784727, "body": "my main concern is, the program works correctly for the exact same set of input on one platform, while it doesn&#39;t on another. The perl version used on both the systems is the same."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 147, "user_id": 1872132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdphz.jpg?s=128&g=1", "display_name": "aks", "link": "https://stackoverflow.com/users/1872132/aks"}, "edited": false, "score": 1, "creation_date": 1436875636, "post_id": 31405036, "comment_id": 50785815, "body": "The <code>bsd_glob</code> flag you have set will cause it to bail out if you hit an error. And chance that&#39;s happening? I also can&#39;t see much value in your 3 matches - the regexes don&#39;t look like they work, so you only ever run the last code block."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 147, "user_id": 1872132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdphz.jpg?s=128&g=1", "display_name": "aks", "link": "https://stackoverflow.com/users/1872132/aks"}, "edited": false, "score": 0, "creation_date": 1436875820, "post_id": 31405036, "comment_id": 50785936, "body": "Hmm, that&#39;s quite odd, as that doc suggests that they&#39;re both using the same mechanisms to do the globbing in the first place."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1436876107, "last_edit_date": 1436876107, "creation_date": 1436872478, "answer_id": 31405036, "question_id": 31403037, "link": "https://stackoverflow.com/questions/31403037/bsd-glob-behaving-differently-on-different-machines/31405036#31405036", "title": "bsd_glob behaving differently on different machines", "body": "<p>The problem here looks to be that you're confusing glob patterns and regular expressions.</p>\n\n<pre><code>/[[:alnum:]]\\*\\/\\*$/\n/[[:alnum:]]\\*$/\n</code></pre>\n\n<p>You're looking for a file called <code>*</code> with that, under a directory containing a literal <code>*</code>. </p>\n\n<p>Whilst that is technically possible it's really very strange. And simply cannot <em>ever</em> match the patterns your <code>glob</code> should find. </p>\n\n<p>Do you perhaps mean:</p>\n\n<pre><code>m,\\w+.*/.*$, \n</code></pre>\n\n<p>(different delimiter for clarity)</p>\n\n<p>Also - why are you using <code>bsd_glob</code> specifically? From <a href=\"http://perldoc.perl.org/File/Glob.html\" rel=\"nofollow\"><code>File::Glob</code></a>: </p>\n\n<blockquote>\n  <p>Since v5.6.0, Perl's CORE::glob() is implemented in terms of bsd_glob(). Note that they don't share the same prototype--CORE::glob() only accepts a single argument. Due to historical reasons, CORE::glob() will also split its argument on whitespace, treating it as multiple patterns, whereas bsd_glob() considers them as one pattern. But see :bsd_glob under EXPORTS, below.</p>\n</blockquote>\n\n<p>Comment:</p>\n\n<blockquote>\n  <p>I used bsd_glob instead of glob as there was slight difference in the way it works on different UNIX platforms. Specifically, for the above mentioned pattern, on some UNIX platforms, it didn't return a file having exact name 'DATA', and only returned files with something appended to DATA.</p>\n</blockquote>\n\n<p>I'm a little surprised at that, as they should be implementing the same mechanisms and the same POSIX standard on globbing. Is there any chance there's a permissions related problem instead? </p>\n\n<p>But otherwise you could perhaps try <em>not</em> using <code>glob</code> to do the heavy lifting, and instead just compare the file name to a bunch of regular expressions. (Although note - REs have very different syntax) </p>\n\n<pre><code>foreach my $file ( glob('/datafiles/data_one/level_one/*/*') ) {\n    next unless $filename =~ m,DATA\\w+$,;\n}\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 1872132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdphz.jpg?s=128&g=1", "display_name": "aks", "link": "https://stackoverflow.com/users/1872132/aks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 1, "accepted_answer_id": 31405036, "answer_count": 1, "score": 0, "last_activity_date": 1436876107, "creation_date": 1436866804, "last_edit_date": 1436870788, "question_id": 31403037, "link": "https://stackoverflow.com/questions/31403037/bsd-glob-behaving-differently-on-different-machines", "title": "bsd_glob behaving differently on different machines", "body": "<p>I am using <code>bsd_glob</code> to get a list of files matching a regular expression for file path. My perl utility is working on <code>RHEL</code>, but not on <code>Suse 11/AIX/Solarix</code>, for the exact same set of files and the same regular expression. I googled for any limitations of <code>bsd_glob</code>, but couldn't find much information. Can someone point what's wrong? </p>\n\n<p>Below is the regular expression for the file path I am searching for:</p>\n\n<pre><code>/datafiles/data_one/level_one/*/DATA*\n</code></pre>\n\n<p>I need all files beginning with DATA, in any directory present under 'level_one'.<br>\nThis works perfectly on my <code>RHEL</code> box, but not on any other <code>Unix</code> and <code>Suse Linux</code>.</p>\n\n<p>Below is the code snipped where I am using <code>bsd_glob</code></p>\n\n<pre><code>foreach my $file (bsd_glob ( \"$fileName\", GLOB_ERR )) {\n    if ($fileName =~ /[[:alnum:]]\\*\\/\\*$/) {\n        next if -d $file;\n        $fileList{$file} = $permissions;\n        $total++;\n    }   \n    elsif ($fileName =~ /[[:alnum:]]\\*$/) {\n        $fileList{$file} = $permissions;\n        $total++;\n    }   \n    else {\n        $fileList{$file} = $permissions;\n        $total++;\n    }   \n}\n</code></pre>\n\n<p>In this case where I am facing the issue, <code>/datafiles/data_one/level_one/*/DATA*</code> is being passed to <code>bsd_glob</code>. I am creating a map (<code>$fileList</code>) of files that are returned by <code>bsd_glob</code> based on the regular expression I am passing to it. <code>$permissions</code> is a predefined value.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["perl", "email"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436861486, "post_id": 31400923, "comment_id": 50776678, "body": "You can study the source, or just use it. <a href=\"http://search.cpan.org/~droberts/Net-SMTP-Multipart-1.6/Multipart.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~droberts/Net-SMTP-Multipart-1.6/Multipart.p&zwnj;&#8203;m</a>"}, {"owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "edited": false, "score": 0, "creation_date": 1562346722, "post_id": 31400923, "comment_id": 100358643, "body": "The last boundary of the mail is wrong (extra space). Else this code worked for me."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1436865111, "post_id": 31401699, "comment_id": 50778954, "body": "You probably want to read the section entitled <a href=\"https://metacpan.org/pod/MIME::Lite#WAIT\" rel=\"nofollow noreferrer\">&quot;WAIT!&quot;</a> in the MIME::Lite documentation - &quot;MIME::Lite is not recommended by its current maintainer&quot;  and &quot;it is not receiving a large amount of refactoring due to the availability of better alternatives&quot;."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1436899848, "last_edit_date": 1436899848, "creation_date": 1436862968, "answer_id": 31401699, "question_id": 31400923, "link": "https://stackoverflow.com/questions/31400923/sending-multipart-mail-in-perl/31401699#31401699", "title": "sending multipart mail in perl", "body": "<p>You could use MIME::Lite module.</p>\n\n<p>See: <a href=\"https://metacpan.org/pod/MIME::Lite#Create-a-multipart-message\" rel=\"nofollow\">https://metacpan.org/pod/MIME::Lite#Create-a-multipart-message</a></p>\n\n<p>Synopsis:</p>\n\n<pre><code>### Create the multipart \"container\":\n$msg = MIME::Lite-&gt;new(\n    From    =&gt;'me@myhost.com',\n    To      =&gt;'you@yourhost.com',\n    Cc      =&gt;'some@other.com, some@more.com',\n    Subject =&gt;'A message with 2 parts...',\n    Type    =&gt;'multipart/mixed'\n);\n\n### Add the text message part:\n### (Note that \"attach\" has same arguments as \"new\"):\n$msg-&gt;attach(\n    Type     =&gt;'TEXT',\n    Data     =&gt;\"Here's the GIF file you wanted\"\n);\n\n### Add the image part:\n$msg-&gt;attach(\n    Type        =&gt;'image/gif',\n    Path        =&gt;'aaa000123.gif',\n    Filename    =&gt;'logo.gif',\n    Disposition =&gt; 'attachment'\n);\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong> As per Dave's comment:</p>\n\n<p>Check out <a href=\"https://metacpan.org/pod/Email::Stuffer\" rel=\"nofollow\">Email::Stuffer</a> module. Creating multipart message with it is really simple.</p>\n\n<pre><code>Email::Stuffer-&gt;to('Simon Cozens&lt;simon@somewhere.jp&gt;')\n              -&gt;from('Santa@northpole.org')\n              -&gt;text_body(\"You've been good this year. No coal for you.\")\n              -&gt;attach_file('choochoo.gif')\n              -&gt;send;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1436864988, "creation_date": 1436864988, "answer_id": 31402386, "question_id": 31400923, "link": "https://stackoverflow.com/questions/31400923/sending-multipart-mail-in-perl/31402386#31402386", "title": "sending multipart mail in perl", "body": "<p>You're using some rather low-level tools for building your message. That would probably work, but you'd need to implement all of the rules for building MIME messages - which sounds far too much like hard work.</p>\n\n<p>Whenever I want to do something with email and Perl, I look for the appropriate module in the Email::* namespace. I'd probably start with <a href=\"https://metacpan.org/pod/Email::MIME\" rel=\"nofollow\">Email::MIME</a>, but I note that now includes a pointer to <a href=\"https://metacpan.org/pod/Email::Stuffer\" rel=\"nofollow\">Email::Stuffer</a>, which might well be even simpler.</p>\n"}, {"tags": [], "owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436885174, "creation_date": 1436885174, "answer_id": 31409947, "question_id": 31400923, "link": "https://stackoverflow.com/questions/31400923/sending-multipart-mail-in-perl/31409947#31409947", "title": "sending multipart mail in perl", "body": "<p>You can use <strong>Mail::Sender</strong> module to send mails with attachment with body included. Just a small example of how to implement if you have this module in place.</p>\n\n<blockquote>\n  <p>my $sender = new Mail::Sender  {smtp => 'server name', from =>\n  'emailId'};\n                 $sender->MailFile( {to => 'xxx.gmail.com,yyy.gmail.com', subject => 'some subject that you want to put', \n                 msg => \"Body of the mail\",  file => 'path for the attachment that you need to send'} );</p>\n</blockquote>\n"}], "owner": {"reputation": 119, "user_id": 2775241, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f30c460abf8e7b552957faa788d4b8fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2775241", "link": "https://stackoverflow.com/users/2775241/user2775241"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1381, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1436899848, "creation_date": 1436860557, "question_id": 31400923, "link": "https://stackoverflow.com/questions/31400923/sending-multipart-mail-in-perl", "title": "sending multipart mail in perl", "body": "<p>i am trying to send a mail through Perl script using <code>net::smtp</code> module.It works fine when i send the normal mail without any attachment.i wont receive any mail.</p>\n\n<pre><code>    use Net::SMTP;\n    use MIME::Base64;\n    use File::Basename;  \n    use MIME::Base64 qw( encode_base64 );\n    use MIME::Base64 qw( decode_base64 );\n    @attachments = 'C:\\Users\\ups7kor\\Desktop\\scripts\\commadnline\\appending.pl';\n    $toAddress = '***';\n    $fromAddress = '***';\n    $ServerName = '***';\n    my $boundary = 'End Of mail';\n\n    my $smtp = Net::SMTP-&gt;new($ServerName, Timeout =&gt; 60) or print $failureLogHandler  ++$errrorCount.\")ERROR:Could not create SMTP object . \\n\\t please check SMPT Adress in $iniFileData{INI_SMTP_SERVER_NAME} of $iniFileSection{INI_EMAIL} section \";\n\n    $smtp-&gt;mail($fromAddress);\n    $smtp-&gt;recipient($toAddress, { SkipBad =&gt; 1 });\n    $smtp-&gt;data();\n    $smtp-&gt;datasend(\"To: $toAddress\\n\");\n    $smtp-&gt;datasend(\"From: $fromAddress\\n\");\n    $smtp-&gt;datasend(\"Subject: $subject\\n\");\n    $smtp-&gt;datasend(\"MIME-Version: 1.0\\n\");\n    $smtp-&gt;datasend(\"Content-type: multipart/mixed;\\n\\tboundary=\\\"$boundary\\\"\\n\");\n    $smtp-&gt;datasend(\"--$boundary\\n\");\n    $smtp-&gt;datasend(\"Content-type: text/plain\\n\");\n    $smtp-&gt;datasend(\"Content-Disposition: quoted-printable\\n\");\n    $smtp-&gt;datasend(\"\\n $messageBody\\n\");\n\n    if(@attachments)\n    {\n    $smtp-&gt;datasend(\"--$boundary\\n\");\n    foreach $attachment (@attachments)\n    {\n        open(DAT, $attachment) || die(\"Could not open text file!\");\n        my @textFile = &lt;DAT&gt;;\n        close(DAT); \n        my $filename = basename($attachment);\n        $smtp-&gt;datasend(\"Content-Type: application/text; name=\\\"$filename\\\"\\n\");\n        $smtp-&gt;datasend(\"Content-Disposition: attachment; filename=\\\"$filename\\\"\\n\");\n        $smtp-&gt;datasend(\"\\n\");\n        $smtp-&gt;datasend(\"@textFile\\n\");\n   }\n   }\n\n\n\n    $smtp-&gt;datasend(\"--$boundary --\\n\");\n    $smtp-&gt;dataend();\n    $smtp-&gt;quit;\n</code></pre>\n\n<p>But if i try the same code in other machine it works file.\nWhy the same code is not working in my machine and working fine in other machine.</p>\n\n<p>Please help out.</p>\n"}, {"tags": ["arrays", "multithreading", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436857429, "post_id": 31398874, "comment_id": 50774396, "body": "Side note, <code>my @threads = map { threads-&gt;create(\\&amp;doOperation) } 1 .. $num_of_threads;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436888036, "post_id": 31398874, "comment_id": 50795260, "body": "You probably want a Thread::Queue rather than an array."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1436859441, "last_edit_date": 1436859441, "creation_date": 1436854755, "answer_id": 31399070, "question_id": 31398874, "link": "https://stackoverflow.com/questions/31398874/not-able-to-push-into-array-from-subroutine-in-perl/31399070#31399070", "title": "Not able to push into array from subroutine in perl", "body": "<p>Threads don't share variables. See <a href=\"http://p3rl.org/threads::shared\" rel=\"nofollow\">threads::shared</a>.</p>\n\n<pre><code>use threads;\nuse threads::shared;\nmy @arr :shared;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 6, "last_activity_date": 1436856872, "creation_date": 1436856872, "answer_id": 31399697, "question_id": 31398874, "link": "https://stackoverflow.com/questions/31398874/not-able-to-push-into-array-from-subroutine-in-perl/31399697#31399697", "title": "Not able to push into array from subroutine in perl", "body": "<p>You can use <a href=\"http://perldoc.perl.org/threads/shared.html\"><code>threads::shared</code></a> which enables you to share variables among threads,</p>\n\n<pre><code>use threads;\nuse threads::shared;\n\nmy @arr :shared;\n# ...\n\nsub doOperation {\n\n    my $a = localtime();\n    print \"$a\\n\";\n    {\n      lock(@arr);    # advisory exclusive lock for variable\n      push(@arr,$a);\n    }                # lock get released when going out of scope\n}\n</code></pre>\n"}], "owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 31399070, "answer_count": 2, "score": 1, "last_activity_date": 1436859441, "creation_date": 1436854171, "question_id": 31398874, "link": "https://stackoverflow.com/questions/31398874/not-able-to-push-into-array-from-subroutine-in-perl", "title": "Not able to push into array from subroutine in perl", "body": "<p>I am using multithread and want to push local time of each thread into array.\nI can print to localtime from thread successfully, but it wont push time into array. Printing array is not giving blank.</p>\n\n<p>Please check.</p>\n\n<p>My code:</p>\n\n<pre><code>#!/usr/bin/Perl\nuse threads;\nuse WWW::Mechanize;\nuse LWP::UserAgent;\n\nmy @arr=();\nmy $num_of_threads = 2;\nmy @threads = initThreads();\n\nforeach(@threads){\n         $_ = threads-&gt;create(\\&amp;doOperation);\n         }\n\nforeach(@threads){\n         $_-&gt;join();\n         }\n\nforeach(@arr){\n         print \"$_\\n\";\n         }\n\nsub initThreads{\n            my @initThreads;\n            for(my $i = 1;$i&lt;=$num_of_threads;$i++){\n                push(@initThreads,$i);\n             }\n            return @initThreads;\n        }\n\nsub doOperation{\n        ##doing my main operation here\n        my $a=localtime();\n        print \"$a\\n\";\n        push(@arr,$a);\n        }\n</code></pre>\n"}, {"tags": ["perl", "installation", "perl-module", "cpan", "mediawiki-api"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1436849697, "post_id": 31397622, "comment_id": 50771198, "body": "I used <code>cpanp</code> to install MediaWiki::API 0.40 on Mac OS X 10.10.4 without a problem.  But I also used my own build of Perl 5.22.0 rather than the system-provided Perl (I don&#39;t tamper with the system&#39;s Perl as a matter of personal policy)."}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1436859296, "post_id": 31397622, "comment_id": 50775432, "body": "The reference to <code>&#47;opt&#47;local</code> looks like you have some remains of a MacPorts installation on your system. It&#39;s reasonably likely that that could be what&#39;s messing things up for you."}, {"owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "edited": false, "score": 0, "creation_date": 1436921331, "post_id": 31397622, "comment_id": 50811872, "body": "I&#39;ve verified that <code>&#47;opt&#47;local</code> does not exist on my computer."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1437080171, "post_id": 31397622, "comment_id": 50895001, "body": "As you are running under <code>sudo</code>, it might be an idea to check the PATH that applies in that environment with <code>sudo env</code>."}, {"owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "edited": false, "score": 0, "creation_date": 1437533982, "post_id": 31397622, "comment_id": 51064110, "body": "@ JonathanLeffler Can you describe how to do that as an answer?"}, {"owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1437534028, "post_id": 31397622, "comment_id": 51064126, "body": "@MarkSetchell, I checked with <code>sudo env</code> and verified that <code>opt&#47;local&#47;bin</code> is NOT in <code>$PATH</code>."}], "answers": [{"tags": [], "owner": {"reputation": 10082, "user_id": 607655, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/56943e0b2918fe025b651f9570854fbe?s=128&d=identicon&r=PG", "display_name": "Meng Lu", "link": "https://stackoverflow.com/users/607655/meng-lu"}, "is_accepted": true, "score": 2, "last_activity_date": 1437547236, "last_edit_date": 1437547236, "creation_date": 1437545779, "answer_id": 31555283, "question_id": 31397622, "link": "https://stackoverflow.com/questions/31397622/os-x-cpan-perl-module-installation-issue/31555283#31555283", "title": "OS X CPAN Perl module installation issue", "body": "<p>There might be something wrong with your <code>~/.cpan</code>, the configuration for CPAN. You can try</p>\n\n<pre><code># Re-install cpan\nbrew doctor\nbrew update\nbrew install cpan\n\n# Remove or back up ~/.cpan\nmv ~/.cpan ~/.cpan.bak\n\n# Re-initialize ~/.cpan\ncpan config\n\n# Try installing the Perl module again\nsudo cpan install MediaWiki::API\n</code></pre>\n"}], "owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2653, "favorite_count": 0, "accepted_answer_id": 31555283, "answer_count": 1, "score": 3, "last_activity_date": 1437547236, "creation_date": 1436847889, "last_edit_date": 1437492709, "question_id": 31397622, "link": "https://stackoverflow.com/questions/31397622/os-x-cpan-perl-module-installation-issue", "title": "OS X CPAN Perl module installation issue", "body": "<p>I'm trying to install Perl module <code>MediaWiki::API</code> using CPAN on OS X:</p>\n\n<pre><code>sudo cpan MediaWiki::API                                                        Password:\nReading '/Users/qazwsx/.cpan/Metadata'\n  Database was generated on Mon, 13 Jul 2015 20:53:32 GMT\nRunning install for module 'MediaWiki::API'\nRunning make for E/EX/EXOBUZZ/MediaWiki-API-0.40.tar.gz\nChecksum for /Users/qazwsx/.cpan/sources/authors/id/E/EX/EXOBUZZ/MediaWiki-API-0.40.tar.gz ok\nsh: /opt/local/bin/gzip: No such file or directory\nPackage seems to come without Makefile.PL.\n  (The test -f \"/Users/qazwsx/.cpan/build/EXOBUZZ-iwzBiH/Makefile.PL\" returned false.)\n  Writing one on our own (setting NAME to MediaWikiAPI)\n\n  CPAN.pm: Building E/EX/EXOBUZZ/MediaWiki-API-0.40.tar.gz\n\nWriting Makefile for MediaWikiAPI\nWriting MYMETA.yml and MYMETA.json\n  EXOBUZZ/MediaWiki-API-0.40.tar.gz\n  /usr/bin/make -- OK\n'YAML' not installed, will not store persistent state\nRunning make test\nNo tests defined for MediaWikiAPI extension.\n  EXOBUZZ/MediaWiki-API-0.40.tar.gz\n  /usr/bin/make test -- OK\nRunning make install\nAppending installation info to /Library/Perl/Updates/5.18.2/darwin-thread-multi-2level/perllocal.pod\n  EXOBUZZ/MediaWiki-API-0.40.tar.gz\n  /usr/bin/make install  -- OK\n</code></pre>\n\n<p>This is a step of installing Git-Mediawiki (see <a href=\"https://github.com/moy/Git-Mediawiki/wiki/User-manual\" rel=\"nofollow\">https://github.com/moy/Git-Mediawiki/wiki/User-manual</a>).  However, after all the installation steps, the first git command reports that <code>MediaWiki::API</code> module isn't available:</p>\n\n<pre><code>git pull\nCan't locate MediaWiki/API.pm in @INC (you may need to install the MediaWiki::API module) (@INC contains: /Users/qazwsx/WorkSpace-X4430/git/perl /Users/qazwsx/WorkSpace-X4430/git/contrib/mw-to-git /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.2/darwin-thread-multi-2level /Library/Perl/Updates/5.18.2 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at /usr/local/Cellar/git/2.4.1/libexec/git-core/git-remote-mediawiki line 15.\nBEGIN failed--compilation aborted at /usr/local/Cellar/git/2.4.1/libexec/git-core/git-remote-mediawiki line 15.\n</code></pre>\n\n<p>I wonder if my installation method for the Perl module is correct. One thing strikes out as odd is the error</p>\n\n<pre><code>sh: /opt/local/bin/gzip: No such file or directory\n</code></pre>\n\n<p>I use Homebrew with standard paths, so the gzip binary is at /usr/local/bin/gzip.  But I don't know if or where to fix it. It appears to be some search paths issue but I don't know how to fix it.</p>\n"}, {"tags": ["regex", "perl", "character-class"], "comments": [{"owner": {"reputation": 1550, "user_id": 435217, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7ce404f1046c20946d3a9bcd8730f0de?s=128&d=identicon&r=PG", "display_name": "plasticinsect", "link": "https://stackoverflow.com/users/435217/plasticinsect"}, "edited": false, "score": 14, "creation_date": 1436832829, "post_id": 31395427, "comment_id": 50767129, "body": "IMHO, changing the meaning of \\s to silently behave in a non-standard way would harm readability, not improve it. Even if you clearly document this in the comments, it requires anyone reading your code to remember that every time they see \\s, they need to mentally replace it with [\\s_]."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 6, "creation_date": 1436834116, "post_id": 31395427, "comment_id": 50767478, "body": "<code>$s=qr&#47;[\\s_]&#47;;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 2, "creation_date": 1436834269, "post_id": 31395427, "comment_id": 50767517, "body": "The offhand way its done is using qr in custom overloads. See <code>Creating Custom RE Engines</code> from the perlre docs."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1436835368, "post_id": 31395427, "comment_id": 50767782, "body": "In <i>ASCII only</i>, <code>\\s</code> matches <code>[\\t\\n\\x0B\\f\\r ]</code>. <code>\\x0B</code> is a <i>vertical tab</i> character or <i>line tabulation</i>. In Unicode it matches another 18 extended characters"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436835718, "post_id": 31395427, "comment_id": 50767866, "body": "Overriding qr would be very complicated.  You can actually create custom properties quite easily"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1436836707, "post_id": 31395427, "comment_id": 50768085, "body": "You could use the <code>(?(DEFINE)(?&lt;MY_PATTERN&gt;...))</code> mechanism, but that&#39;d end up uglier than <code>[\\s_]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1436866737, "post_id": 31396152, "comment_id": 50780028, "body": "Noone is using myspace nowadays... :)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 12, "last_activity_date": 1436837212, "creation_date": 1436837212, "answer_id": 31396152, "question_id": 31395427, "link": "https://stackoverflow.com/questions/31395427/how-to-redefine-s-to-match-underscores/31396152#31396152", "title": "How to redefine \\s to match underscores?", "body": "<p>Whenever I think that something is impossible in Perl, it usually turns out that I am wrong. And sometimes when I think that something is very difficult in Perl, I am wrong, too. @sln pointed me to the <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlre.pod#Creating-Custom-RE-Engines\">right track</a></p>\n\n<p>Let's not override <code>\\s</code> just yet, although you could. For the sake of the heirs of your program who expect <code>\\s</code> to mean something specific, instead let's define the sequence <code>\\_</code> to mean \"any whitespace character or the <code>_</code> character\" inside a regular expression. The details are in the link above, but the implementation looks like:</p>\n\n<pre><code>package myspace;  # redefine  \\_  to mean  [\\s_]\nuse overload;\nmy %rules = ('\\\\' =&gt; '\\\\\\\\', '_' =&gt; qr/[\\t\\n\\x{0B}\\f\\r _]/ );\nsub import {\n    die if @_ &gt; 1;\n    overload::constant 'qr' =&gt; sub {\n        my $re = shift;\n        $re =~ s{\\\\(\\\\|_)}{$rules{$1}}gse;\n        return $re;\n    };\n}\n1;\n</code></pre>\n\n<p>Now in your script, say</p>\n\n<pre><code>use myspace;\n</code></pre>\n\n<p>and now <code>\\_</code> in a regular expression means <code>[\\s_]</code>.</p>\n\n<p>Demo:</p>\n\n<pre><code>use myspace;\nwhile (&lt;DATA&gt;) {\n    chomp;\n    if ($_ =~ /aaa\\s.*txt/) {      # match whitespace\n        print \"match[1]: $_\\n\";\n    }\n    if ($_ =~ /aaa\\_.*txt/) {      # match [\\s_]\n        print \"match[2]: $_\\n\";\n    }\n    if ($_ =~ /\\\\_/) {             # match literal  '\\_'\n        print \"match[3]: $_\\n\";\n    }\n}\n__DATA__\naaabbb.txt\naaa\\_ccc.txt\ncccaaa bbb.txt\naaa_bbb.txt\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>match[3]: aaa\\_ccc.txt\nmatch[1]: cccaaa bbb.txt\nmatch[2]: cccaaa bbb.txt\nmatch[2]: aaa_bbb.txt\n</code></pre>\n\n<p>The third case is to demonstrate that <code>\\\\_</code> in a regular expression will match a literal <code>\\_</code>, like <code>\\\\s</code> will match a literal <code>\\s</code>.</p>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 3, "accepted_answer_id": 31396152, "answer_count": 1, "score": 6, "last_activity_date": 1436837212, "creation_date": 1436831816, "question_id": 31395427, "link": "https://stackoverflow.com/questions/31395427/how-to-redefine-s-to-match-underscores", "title": "How to redefine \\s to match underscores?", "body": "<p>Perl (&lt; v5.18) regular expression character class <code>\\s</code> for whitespace is the same as <code>[\\t\\n\\f\\r ]</code>.</p>\n\n<p>Now, since some filenames use underscore as spaces, I was wondering if it's possible to redefine <code>\\s</code> (locally) to match underscores in addition to whitespaces.</p>\n\n<p>This would be merely for the sake of readability of otherwise convoluted regular expressions having many <code>[\\s_]</code>. Can I do this? If so, how? </p>\n"}, {"tags": ["perl", "getopt-long"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 6, "creation_date": 1436824935, "post_id": 31393815, "comment_id": 50764734, "body": "<a href=\"https://metacpan.org/pod/Getopt::Long#Options-with-hash-values\" rel=\"nofollow noreferrer\">Use a hash</a> instead of a bunch of scalars."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1436825529, "post_id": 31393815, "comment_id": 50764969, "body": "The correct way is not to do microoptimizations that make your code less readable."}, {"owner": {"reputation": 162, "user_id": 5112805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dcb28815a19e7051455f43801e6f35b?s=128&d=identicon&r=PG&f=1", "display_name": "jms", "link": "https://stackoverflow.com/users/5112805/jms"}, "edited": false, "score": 0, "creation_date": 1436827673, "post_id": 31393815, "comment_id": 50765725, "body": "Ah, a hash makes sense. Thanks for the idea. To be clear, mob was suggesting declaring the variables regardless of the flag value and then just not using them if they aren&#39;t needed?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1436865443, "creation_date": 1436865443, "answer_id": 31402538, "question_id": 31393815, "link": "https://stackoverflow.com/questions/31393815/how-should-you-declare-flag-dependent-variables-using-getoptlong-in-perl/31402538#31402538", "title": "How should you declare flag-dependent variables using Getopt::Long in perl?", "body": "<p>You should always declare your variables in the smallest <em>scope</em> possible. A scope in Perl is usually a block.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub foo {\n  my $bar = 5;\n  say $bar;\n}\n\nsub baz {\n  my $bar = 23;\n  say $bar;\n}\n\nfoo();\nbaz();\nsay $bar; # this will give an error\n</code></pre>\n\n<p>The above code will give an error \"Global symbol \"$bar\" requires explicit package name\" because outside of the blocks <code>$bar</code> is not declared. If you remove the marked line, it will output both values, which are separate from each other.</p>\n\n<p>The same principle should be applied throughout your code. Declare variables as late as possible and in as small a scope as possible (or in the largest neccessary).</p>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 5112805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dcb28815a19e7051455f43801e6f35b?s=128&d=identicon&r=PG&f=1", "display_name": "jms", "link": "https://stackoverflow.com/users/5112805/jms"}, "edited": false, "score": 0, "creation_date": 1436899531, "post_id": 31410657, "comment_id": 50802583, "body": "It&#39;s not as much about trying to save memory as it is about trying to make the program elegant and minimal. I guess the best way to do it is by reference only, using a hash like suggested, or like simbabque mentioned trying to make the program more modular using subroutines."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 162, "user_id": 5112805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dcb28815a19e7051455f43801e6f35b?s=128&d=identicon&r=PG&f=1", "display_name": "jms", "link": "https://stackoverflow.com/users/5112805/jms"}, "edited": false, "score": 0, "creation_date": 1436900302, "post_id": 31410657, "comment_id": 50803036, "body": "That makes no sense. What is more minimal than not using a variable? (Using subroutines is not going to help you get rid of the global arguments. Using a hash will makes things worse by evading compile-time name checking while making the code slightly longer.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1436887040, "creation_date": 1436887040, "answer_id": 31410657, "question_id": 31393815, "link": "https://stackoverflow.com/questions/31393815/how-should-you-declare-flag-dependent-variables-using-getoptlong-in-perl/31410657#31410657", "title": "How should you declare flag-dependent variables using Getopt::Long in perl?", "body": "<p>If I understand correctly, you're trying to save a miniscule amount of memory for no reason. Can't help you there.</p>\n\n<p>If on the other hand, you're trying to catch the use of global variables that shouldn't be used, you can use the following:</p>\n\n<pre><code>use Carp            qw( croak );\nuse Variable::Magic qw( cast wizard );\n\nuse constant DEBUG =&gt; 1;\n\nsub deny_access_to_scalar {\n    my $name = $_[0];\n\n    cast($_[1], wizard(\n        get =&gt; sub { croak(\"Variable $name accessed when it shouldn't\"); },\n        set =&gt; sub { croak(\"Variable $name accessed when it shouldn't\"); },\n    ));\n}\n\nmy $f2 = 1;\n\nmy $f2a;\ndeny_access_to_scalar(f2a =&gt; $f2a) if DEBUG &amp;&amp; $f2;\n\n$f2a = 123;\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 5112805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dcb28815a19e7051455f43801e6f35b?s=128&d=identicon&r=PG&f=1", "display_name": "jms", "link": "https://stackoverflow.com/users/5112805/jms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1436887040, "creation_date": 1436822887, "question_id": 31393815, "link": "https://stackoverflow.com/questions/31393815/how-should-you-declare-flag-dependent-variables-using-getoptlong-in-perl", "title": "How should you declare flag-dependent variables using Getopt::Long in perl?", "body": "<p>I am using Getopt::Long to parse command line flags and arguments for a perl script. For certain flags, I need to declare to variables within the script that are only used if that flag has been selected - otherwise they're never used. I want to declare them conditionally, i.e. only if the flag is used so that I don't have a bunch of unused variables sitting around. Here is some example code which doesn't work, but illustrates what I want to do.</p>\n\n<pre><code>use Getopt::Long qw(GetOptions);\nmy ($f1, $f2, $f3);\nGetOptions('f1' =&gt; \\$f1, 'f2' =&gt; \\$f2, 'f3' =&gt; \\$f3);\n\nif($f2){\n     #declare some variables needed only if $f2 is turned on\n}\n</code></pre>\n\n<p>Can anyone recommend the correct way to do this?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436822983, "post_id": 31393689, "comment_id": 50763943, "body": "How big are your files? As a side-note, you should always check the success of calls to <code>open</code>, either by adding <code>use autodie;</code> to the top of your script or adding <code>or die $!;</code> immediately after the <code>open</code>, e.g. <code>open my $fh, &#39;&lt;&#39;, $file or die &quot;Failed to open &#39;$file&#39;: $!&quot;;</code>"}, {"owner": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436823248, "post_id": 31393689, "comment_id": 50764071, "body": "My keywords file could contain a few hundred lines, the datafile contains upto 50000 lines. Thanks for the validation tip, I have added those to the open and close statements for the files but just wanted to save on typing here!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436824094, "post_id": 31393689, "comment_id": 50764413, "body": "You will only loop through the data file once, since you don&#39;t reset the filehandle to the beginning of the file after reading it. You can resolve this by <a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow noreferrer\"><code>seek</code></a>ing to the beginning of the file for each keyword, but your algorithm is pretty inefficient. You&#39;ll be doing on the order of 5 million comparisons, with lots of disk I/O. One alternate approach would be to store all of the unique words in the data file in a hash, along with an array of corresponding line numbers, and use hash lookups. This would use a fair amount of memory, though."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436824438, "post_id": 31393689, "comment_id": 50764562, "body": "(My alternative solution assumes you&#39;re trying to match complete words. If you need the keyword <code>cat</code> to match lines like <code>cater</code> in addition to <code>rat cat bat</code>, you can&#39;t use a hash; in that case, it might be better to read the entire data file into a scalar and use a regex.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436828325, "post_id": 31393689, "comment_id": 50765904, "body": "Your subject line is half problem <b><i>&quot;line in datafile contains&quot;</i></b> and half solution <b><i>&quot;an array element&quot;</i></b>. You are presuming -- wrongly in this case -- something about the solution, and it will cloud the vision of both yourself and others who aim to help you"}], "answers": [{"comments": [{"owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1436823363, "post_id": 31393913, "comment_id": 50764118, "body": "@jm666 Yes, but I was trying to focus on the most important points."}, {"owner": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "edited": false, "score": 0, "creation_date": 1436824205, "post_id": 31393913, "comment_id": 50764460, "body": "thanks I have added your suggestions above and tested on a small subset of data and seems to return the results I want! Could you explain what the purpose of the &#39;seek&#39; statement? Also, apologies for not including data samples, the data I have is sensitive so don&#39;t want to post it on the internet!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "edited": false, "score": 0, "creation_date": 1436825213, "post_id": 31393913, "comment_id": 50764835, "body": "@Shaw There&#39;s nothing wrong with using made-up data that illustrates what you&#39;re working with."}, {"owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "edited": false, "score": 0, "creation_date": 1436827306, "post_id": 31393913, "comment_id": 50765602, "body": "I added some more comments."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436828081, "post_id": 31393913, "comment_id": 50765833, "body": "This is a code review. There is <a href=\"http://codereview.stackexchange.com/\">a site for that</a>"}], "tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": true, "score": 1, "last_activity_date": 1436827291, "last_edit_date": 1436827291, "creation_date": 1436823263, "answer_id": 31393913, "question_id": 31393689, "link": "https://stackoverflow.com/questions/31393689/check-if-line-in-datafile-contains-an-array-element/31393913#31393913", "title": "Check if line in datafile contains an array element", "body": "<p>First, you should always check whether your file open succeeded and complain appropriately if it didn't.</p>\n\n<pre><code>open (FH, \"&lt; $keywords\") or die \"Failed to open $keywords: $!\";\n# ...\nopen (DATAFILE, \"&lt; $data\") or die \"Failed to open $data: $!\";\n</code></pre>\n\n<p>Second, your <code>@keywords</code> array consists of strings with newline characters at the end, just as they appeared in the file.  You probably don't want that.  Do this instead to get rid of the newlines as you read the file:</p>\n\n<pre><code>chomp(my @keywords = &lt;FH&gt;);\n</code></pre>\n\n<p>Third, after you've read through the data file the first time through the <code>$element</code> loop, you're at the end of file, and reading from it again during successive <code>$element</code> loops will just return immediately.  The quickest fix would be to add <code>seek DATAFILE, 0, 0;</code> to the bottom of the <code>$element</code> loop.  That would move the file pointer back to the start of the file so you can read it again.</p>\n\n<p>Finally, it would have been helpful if you had given examples of both files' contents and what output you expected your script to produce.</p>\n\n<p>Another debugging tip: If I didn't understand why I wasn't getting all of the matches I expected, I would add print statements like this:</p>\n\n<pre><code>for my $element (@keywords) {\n    print \"Starting to search for &lt;$element&gt;\\n\";\n    for my $line (&lt;DATAFILE&gt;) {\n        print \"Examining line &lt;$line&gt;\\n\";\n        # ...\n    }\n}\n</code></pre>\n\n<p>That would have shown the newline character in <code>$element</code>, and you also wouldn't have seen <code>Examining line &lt;$line&gt;</code> after the first pass through the file.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1436827838, "last_edit_date": 1436827838, "creation_date": 1436827341, "answer_id": 31394721, "question_id": 31393689, "link": "https://stackoverflow.com/questions/31393689/check-if-line-in-datafile-contains-an-array-element/31394721#31394721", "title": "Check if line in datafile contains an array element", "body": "<p>This program makes some assumptions about the input files (for instance, that the keywords file contains only a single word, and not a phrase containing spaces) but it is probably the fastest and most convenient way of achieving your goal</p>\n\n<p>The keys in the keywords file are made unique and sorted in decreasing order of length (so that <code>off</code> isn't found when the string is <code>offer</code>) and all non-word characters are escaped using <code>quotemeta</code> so that they are matched verbatim instead of as part of an escape sequence</p>\n\n<p>Then a regex pattern is built so that the keyword search can be optimised (since version 5.10 the Perl regex engine builds a <a href=\"https://en.wikipedia.org/wiki/Trie\" rel=\"nofollow\">trie</a> for a list of alternatives)</p>\n\n<p>There is still the problem that if, say, <code>que</code> is a keyword but <code>antique</code> is not then the search will return a false positive. It could be improved by judicious use of the <em>word boundary</em> regex pattern <code>\\b</code>, but that brings with it new questions, such as if <code>sign</code> is a keyword but <code>re-sign</code> is not, then again the search will return a false positive. Issues such as this are very sensitive to the individual dataset and a solution can't be generalised in the same way as the listed assumptions</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nmy ($keyword_file, $data_file) = @ARGV;\n\nmy $re = do {\n  open my $fh, '&lt;', $keyword_file;\n  my %kw;\n  /(\\S+)/ and ++$kw{$1} while &lt;$fh&gt;;\n  join '|', map quotemeta, sort { length $b &lt;=&gt; length $a } keys %kw;\n};\n$re = qr/$re/;\n\nopen my $fh, '&lt;', $data_file;\n/$re/ and print while &lt;$fh&gt;;\n</code></pre>\n"}], "owner": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 31393913, "answer_count": 2, "score": 1, "last_activity_date": 1436832975, "creation_date": 1436822373, "last_edit_date": 1436832975, "question_id": 31393689, "link": "https://stackoverflow.com/questions/31393689/check-if-line-in-datafile-contains-an-array-element", "title": "Check if line in datafile contains an array element", "body": "<p>I have a file containing a list of keywords. I have a second datafile containing a few thousand rows of data. I have read the file containing keywords into an array, I would now like to take the first element in the array, loop through lines in the file and print any values that contain that array element. Then move onto the next element in the array and repeat the process. </p>\n\n<p>Below is my code so far, but it doesn't seem to be doing anything. I don't know if what I'm trying to do is even possible. Any help would be appreciated. </p>\n\n<pre><code>use strict;\nuse warnings; \n\nmy $keywords= shift;\nmy $data= shift;\n\n#reading in keywords file and storing in array\nopen (FH, \"&lt; $keywords\");\nmy @keywords= &lt;FH&gt;;\nclose FH;\n\n# now I want to iterate over the array and for each element loop through\n# the datafile checking if the element exists in the line\n\nopen (DATAFILE, \"&lt; $data\");\nfor my $element (@keywords) {\n    for my $line (&lt;DATAFILE&gt;) {\n        if ($line =~ /\\Q$element\\E/) {\n            print $line;\n        }\n    }\n}\nclose DATAFILE;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "edited": false, "score": 2, "creation_date": 1436821032, "post_id": 31393185, "comment_id": 50763020, "body": "That <code>FALSE if ...</code> line looks completely pointless to me.  (That is, it performs no useful function, and may as well be omitted.)  Seeing the real code would be helpful; perhaps you&#39;ve inadvertently omitted something important."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 3, "creation_date": 1436821085, "post_id": 31393185, "comment_id": 50763046, "body": "Maybe it was supposed to say <code>return FALSE if....</code>."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1436821796, "post_id": 31393185, "comment_id": 50763394, "body": "@AndyLester, also, if that function perhaps used to consist of that one line, and somebody messed up in expanding it, that would be an equivalent case."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1436821822, "post_id": 31393185, "comment_id": 50763413, "body": "what follows the FALSE if?  is it at the end of the sub or a do or eval block that could be receiving the value?"}, {"owner": {"reputation": 31, "user_id": 512631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd05e6c3fc2323c3be89ee9b52ab813?s=128&d=identicon&r=PG", "display_name": "Coleslaw", "link": "https://stackoverflow.com/users/512631/coleslaw"}, "edited": false, "score": 0, "creation_date": 1436831517, "post_id": 31393185, "comment_id": 50766800, "body": "There is code that follows these one-liners, but it doesn&#39;t relate directly or code-logically.  Since many (all?) of the perl files have a &quot;1;&quot; on the very last line, I had wondered if this weird FALSE statement was a poor way of forcing a return(0) of a function.  I posted here as a kind of reality-check to see if these were some kind of obscure Perl black-magic, but after hearing your thoughts, I&#39;m beginning to accept that these lines don&#39;t do anything at all.  But they still leave me wondering as to why the original programmer left them in.   Thanks to all."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436884191, "post_id": 31393185, "comment_id": 50792413, "body": "Looks like cargo cult programming to me."}], "answers": [{"comments": [{"owner": {"reputation": 32298, "user_id": 20270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37335856df5e5e73d82bca5a805bd647?s=128&d=identicon&r=PG", "display_name": "Hasturkun", "link": "https://stackoverflow.com/users/20270/hasturkun"}, "edited": false, "score": 1, "creation_date": 1436862653, "post_id": 31400016, "comment_id": 50777362, "body": "Please refrain from adding your signature + blog link unless it is relevant to the answer (which in this case, it isn&#39;t). You can use your own user profile for your bio and website link."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436888135, "post_id": 31400016, "comment_id": 50795338, "body": "Note that this is undocumented behaviour because the last statement is not an expression."}, {"owner": {"reputation": 31, "user_id": 512631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd05e6c3fc2323c3be89ee9b52ab813?s=128&d=identicon&r=PG", "display_name": "Coleslaw", "link": "https://stackoverflow.com/users/512631/coleslaw"}, "reply_to_user": {"reputation": 32298, "user_id": 20270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37335856df5e5e73d82bca5a805bd647?s=128&d=identicon&r=PG", "display_name": "Hasturkun", "link": "https://stackoverflow.com/users/20270/hasturkun"}, "edited": false, "score": 0, "creation_date": 1436904055, "post_id": 31400016, "comment_id": 50805047, "body": "@Hasturkun, very interesting as the line in question is in fact preceded by just such a &#39;shift&#39; statement.  However, it is not the last statement, but is followed by some code,etc.  But your post does suggest it was made with a definite intention by the original programmer, and probably not a typo, as similar statements appear in other functions in the same file."}], "tags": [], "owner": {"reputation": 52, "user_id": 1758298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdfc06bcc65f65bc13afd4b69936d93?s=128&d=identicon&r=PG", "display_name": "acop", "link": "https://stackoverflow.com/users/1758298/acop"}, "is_accepted": false, "score": 0, "last_activity_date": 1436862484, "last_edit_date": 1436862484, "creation_date": 1436857936, "answer_id": 31400016, "question_id": 31393185, "link": "https://stackoverflow.com/questions/31393185/odd-use-of-false-constant-in-if-then-statement/31400016#31400016", "title": "Odd use of False constant in if-then statement", "body": "<p>\"if\" logic in Perl can be constructed in couple of ways:</p>\n\n<ul>\n<li><p>the obvious one: </p>\n\n<pre><code>if ($flag) { do_something() }\n</code></pre></li>\n<li><p>less obvious one:</p>\n\n<pre><code>do_something() if ($flag);\n</code></pre></li>\n</ul>\n\n<p>This example shows how exactly behaves that odd \"FALSE if\" statement - which only meaning is found when it is LAST statement in subroutine:</p>\n\n<pre><code>    use strict;\n\n    use constant FALSE =&gt; 0;\n\n    sub thisFunc {\n        my $arg = shift;\n        FALSE if ($arg ne \"tif\");\n    }\n\n    print \"return val: \".thisFunc(\"ble\").\"\\n\";\n    print \"return val: \".thisFunc(\"tif\").\"\\n\";\n</code></pre>\n\n<p>output from running above is:</p>\n\n<pre><code>    return val: 0\n    return val:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1436888338, "creation_date": 1436888338, "answer_id": 31411210, "question_id": 31393185, "link": "https://stackoverflow.com/questions/31393185/odd-use-of-false-constant-in-if-then-statement/31411210#31411210", "title": "Odd use of False constant in if-then statement", "body": "<p>It is pointless. I suspect it's suppose to be</p>\n\n<pre><code>return FALSE if $self-&gt;{_thisVar} ne \"tif\";\n</code></pre>\n\n<hr>\n\n<p>There is a similar construct that isn't pointless. If the loop condition has side-effects, the following isn't pointless:</p>\n\n<pre><code>1 while some_sub();\n</code></pre>\n\n<p>aka</p>\n\n<pre><code>while (some_sub()) { }\n</code></pre>\n\n<p>aka</p>\n\n<pre><code>while (1) {\n   some_sub()\n      or last;\n}\n</code></pre>\n\n<p>Practical example:</p>\n\n<pre><code>$ perl -E'$_ = \"xaabbx\"; 1 while s/ab//; say'\nxx\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 512631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd05e6c3fc2323c3be89ee9b52ab813?s=128&d=identicon&r=PG", "display_name": "Coleslaw", "link": "https://stackoverflow.com/users/512631/coleslaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1436888338, "creation_date": 1436820557, "question_id": 31393185, "link": "https://stackoverflow.com/questions/31393185/odd-use-of-false-constant-in-if-then-statement", "title": "Odd use of False constant in if-then statement", "body": "<p>Python is my main language, but have to maintain a rather large legacy Perl codebase.<br>\nI have an odd logic statement that I can't make heads or tails over.</p>\n\n<p>At top, a constant is defined as:</p>\n\n<pre><code>use constant FALSE =&gt; 0;\n\nsub thisFunc {\n\n    FALSE if ($self-&gt;{_thisVar} ne \"tif\");\n\n    ...\n    ...\n    return statement,etc..\n}\n</code></pre>\n\n<p>So I'm reading that as a kinda' fancy, non-standard if-then statement,\nthat if $thisVar string is not equal to \"tif\", then FALSE.  Huh? \nNot something like $that = FALSE, just <em>FALSE</em>.</p>\n\n<p>The form of this statement appears in the file several times.\nThis codebase is in use, and vetted over the years by very good team,\nso I think it is valid and has meaning. \"use strict;\" is set at top.</p>\n\n<p>Could someone be so kind as to explain what is meant by logic. \nI've Google'd it but no joy.\nThanks in advance,</p>\n"}, {"tags": ["perl", "selenium"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1436820389, "post_id": 31392358, "comment_id": 50762680, "body": "Seems like the default behavior is to croak when encountering an error, which should be be caught inside of an eval block. <a href=\"http://search.cpan.org/~gempesaw/Selenium-Remote-Driver/lib/Selenium/Remote/Driver.pm#error_handler\" rel=\"nofollow noreferrer\">search.cpan.org/~gempesaw/Selenium-Remote-Driver/lib/Seleniu&zwnj;&#8203;m/&hellip;</a>"}, {"owner": {"reputation": 9698, "user_id": 111036, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4d7fd4b3ed484fc72aa50e4abf323393?s=128&d=identicon&r=PG", "display_name": "mivk", "link": "https://stackoverflow.com/users/111036/mivk"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1436822494, "post_id": 31392358, "comment_id": 50763725, "body": "@Hunter McMillen : It seems you are right. The problem was in the way I was using eval. I should probably delete this question, and refrain from posting questions late in the evening..."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1436840174, "post_id": 31392358, "comment_id": 50768862, "body": "on the contrary, you should post the answer yourself. Your incorrect use of eval and then later solution could help someone down the road."}], "owner": {"reputation": 9698, "user_id": 111036, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4d7fd4b3ed484fc72aa50e4abf323393?s=128&d=identicon&r=PG", "display_name": "mivk", "link": "https://stackoverflow.com/users/111036/mivk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 383, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1436817666, "creation_date": 1436817666, "question_id": 31392358, "link": "https://stackoverflow.com/questions/31392358/how-to-check-if-seleniums-find-element-did-find-it", "title": "How to check if Selenium&#39;s find_element did find it?", "body": "<p>I'm using Perl's <a href=\"http://search.cpan.org/~gempesaw/Selenium-Remote-Driver/lib/Selenium/Remote/Driver.pm\" rel=\"nofollow\">Selenium::Remote::Driver</a> module (or <a href=\"http://search.cpan.org/~gempesaw/Selenium-Remote-Driver/lib/Selenium/Chrome.pm\" rel=\"nofollow\">Selenium::Chrome</a>), and in my code, I have this to find the first element which has <code>class=\"myclass\"</code> :</p>\n\n<pre><code>my $elem = $selenium-&gt;find_element(\"myclass\",\"class\");\n</code></pre>\n\n<p>How do I know if the driver actually did find it, or if it didn't (because there was no such class in that page)?</p>\n\n<p>In both cases (element found or not), I seem to be getting a <a href=\"http://search.cpan.org/~gempesaw/Selenium-Remote-Driver/lib/Selenium/Remote/WebElement.pm\" rel=\"nofollow\">Selenium::Remote::WebElement</a> object back. But if I then <code>-&gt;click</code> it (even in an <code>eval</code> block), the whole script dies with </p>\n\n<p>\"An element could not be located on the page using the given search parameters: myclass,class name at ...\".</p>\n\n<p>How can I catch this error?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436812457, "post_id": 31390759, "comment_id": 50758356, "body": "Unfortunately, your question is a little too broad for Stack Overflow&#39;s Q&amp;A format (this isn&#39;t a great place for spitballing general design ideas). But here&#39;s a hint: when you want to do a look up in Perl, usually you should think hash, not array."}, {"owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436812778, "post_id": 31390759, "comment_id": 50758539, "body": "I have to run this program twice, once with a hash and once with an array. @ThisSuitIsBlackNot Is there a better way to go about this then?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1436815379, "post_id": 31390759, "comment_id": 50759938, "body": "You don&#39;t appear to have the skills to accomplish this assignment. Why has it been given to you? Why are you opening the file <code>ssbn1898.txt</code> twice?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1436815546, "post_id": 31390848, "comment_id": 50760042, "body": "Much as I applaud your willingness to help people, providing answers to off-topic questions does encourage more of them to be posted."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436815784, "post_id": 31390848, "comment_id": 50760172, "body": "OK Borodin, will make sure not to do that again."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436825305, "post_id": 31390848, "comment_id": 50764881, "body": "Okay, but those are my thoughts only. I have no authority here whatsoever"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1436813589, "last_edit_date": 1436813589, "creation_date": 1436812364, "answer_id": 31390848, "question_id": 31390759, "link": "https://stackoverflow.com/questions/31390759/building-a-perl-program-to-acess-a-set-of-data/31390848#31390848", "title": "Building a Perl program to acess a set of data", "body": "<p>So far you have 2 arrays for each gender. Now the pending tasks are</p>\n\n<ul>\n<li>Input: Allow users to input a name</li>\n<li>Output: Male or Female</li>\n<li>Output: Number of people with that name</li>\n</ul>\n\n<p>To take input from user you could do</p>\n\n<pre><code>my $userinput = &lt;STDIN&gt;;\n</code></pre>\n\n<p>Then you might need to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a> the $userinput and then check whether the $userinput is in array 1 or array 2. For that you will have to use <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\">grep</a> or <a href=\"http://perldoc.perl.org/perlsyn.html#Loop-Control\" rel=\"nofollow\">loops</a>. Doing that you'd be able to find whether name belongs to array with Male names or Females.</p>\n\n<pre><code>if (grep /$userinput/, @male_names) {\n    print \"found $userinput in male list\\n\";\n}\n</code></pre>\n\n<p>Using loop you could do something like below to find total number of people with that name:</p>\n\n<pre><code>foreach (@male_names){\n   $counter++ if $userinput eq $_;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>PS:</strong> grep returns list, so if you use a scalar you could find number of matches, so you don't have to go for loops. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy @male_names = qw(Raj Rohan John Jim Tony Raj Rohan Jim Jim);\nmy @female_names = qw(Natasha Neha Neha Jasmine Rita Rosy);\nmy $matches;\n\nmy $userinput = &lt;STDIN&gt;;\nchomp ($userinput);\n\nif ( $matches = grep /$userinput/, @male_names ) {\n    print \"found $userinput in male list, count is $matches \\n\";\n}\nelsif ( $matches = grep /$userinput/, @female_names ) {\n    print \"found $userinput in female list, count is $matches \\n\";\n}\nelse{\n    print \"Did not find name\";\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1436814925, "creation_date": 1436812056, "last_edit_date": 1436814925, "question_id": 31390759, "link": "https://stackoverflow.com/questions/31390759/building-a-perl-program-to-acess-a-set-of-data", "title": "Building a Perl program to acess a set of data", "body": "<p>I have to write a Perl program that is able to read the social security baby names for a specific year, and have a person be able to enter a name, and be told weather it is male or female, how many people were born with that name, and where it falls in rank.</p>\n\n<p>So far I have been able to separate the data into two separate arrays based on gender, but have to no idea where to go from here.</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nopen (FILE, \"ssbn1898.txt\");\nprint &lt;FILE&gt;;\nclose (FILE);\n\nmy @M_array;\nmy @F_array; \nopen (my $input, \"&lt;\", 'ssbn1898.txt');\nwhile ( &lt;$input&gt; ) {\n\n    chomp;\n\n    my ( $name, $gender ) = split ( /,/ ); \n\n\n    if ( $gender = \"M\" ) {\n        push ( @M_array, $name );\n    }\n    else {\n        push ( @F_array, $name ); \n    }\n}\nclose ( $input );\n\nprint 'M: ' . join(\"\\t\", @M_array) . \"\\n\"; \nprint 'F: ' . join(\"\\t\", @F_array) . \"\\n\"; \n</code></pre>\n\n<p><a href=\"http://www.ssa.gov/cgi-bin/popularnames.cgi\" rel=\"nofollow\">http://www.ssa.gov/cgi-bin/popularnames.cgi</a></p>\n\n<p>This is the data I am working with. </p>\n"}, {"tags": ["perl", "newline"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1436805674, "post_id": 31388841, "comment_id": 50754413, "body": "It is the <i>input</i> separator which might be manipulated if you need to read CRLF or CR encoded files."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1436805726, "post_id": 31388841, "comment_id": 50754434, "body": "<code>$&#47;</code> is the system eol character, which is fine if the file you&#39;re generating is only for &quot;Local&quot; usage. If you&#39;re generating a file for some OTHER os, e.g. you&#39;re on Linux building a Windows file, then <code>$&#47;</code> is useless."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1436806264, "post_id": 31388841, "comment_id": 50754748, "body": "You should really use the <i>output</i> record separator <code>$\\</code>, but I can&#39;t see anything wrong with doing that. In fact, the <a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"nofollow noreferrer\"><code>say</code> function</a> does just this: &quot;<code>say LIST</code> is simply an abbreviation for <code>{ local $\\ = &quot;\\n&quot;; print LIST }</code>&quot; (If you&#39;re on 5.10+, I would just use <code>say</code> instead.)"}, {"owner": {"reputation": 834, "user_id": 3476791, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d6949acac21b3cd29c728ea19a2358ce?s=128&d=identicon&r=PG&f=1", "display_name": "user3476791", "link": "https://stackoverflow.com/users/3476791/user3476791"}, "edited": false, "score": 0, "creation_date": 1436807252, "post_id": 31388841, "comment_id": 50755322, "body": "Marc&#39;s comment is totally correct! $/ refers to the default system eol character. You can change it according to the context in which you are using it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 834, "user_id": 3476791, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d6949acac21b3cd29c728ea19a2358ce?s=128&d=identicon&r=PG&f=1", "display_name": "user3476791", "link": "https://stackoverflow.com/users/3476791/user3476791"}, "edited": false, "score": 2, "creation_date": 1436808008, "post_id": 31388841, "comment_id": 50755757, "body": "@user3476791: No, Perl does its best to hide the system eol character (or sequence) and present it as linefeed <code>&quot;\\n&quot;</code> to your Perl code. Manipulating <code>$&#47;</code> is used when the input records that you want to retrieve with the <code>&lt;&gt;</code> operator don&#39;t coincide with lines of text. That&#39;s why it&#39;s called <i>input record separator</i> and not <i>input line separator</i>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436809882, "post_id": 31388841, "comment_id": 50756938, "body": "@Borodin is correct, Mark B is wrong.  <code>$&#47;</code> defaults to &quot;\\n&quot; on any system; CRLF translation is usually dealt with in the I/O functions, so your code only ever sees/produces &quot;\\n&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1436816891, "post_id": 31389065, "comment_id": 50760786, "body": "I think this is a very bad idea. Not many modules protect themselves against <code>$\\ </code> getting changed, so globally changing <code>$\\ </code> will break them. You could limit the scope of the change using <code>{ local $\\ = $&#47;; print STDERR $var; }</code>, but that&#39;s a complete mess compared to <code>print STDERR &quot;$var\\n&quot;;</code> or <code>say STDERR $var;</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1436817224, "post_id": 31389065, "comment_id": 50760988, "body": "@ikegami And I think that if modules can&#39;t handle <code>$\\&#173;</code> getting changed, that&#39;s a bug in the modules, especially considering there&#39;s a commonly-used command-line option that does set <code>$\\&#173;</code> (<code>-l</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1436817586, "post_id": 31389065, "comment_id": 50761203, "body": "@hvd, Commonly-used in one-liners, maybe, but I suspect that very few module do <code>local $&#47;;</code> before every <code>print</code> because it would be silly to do that, even if you consider it a bug."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 9, "last_activity_date": 1436809062, "last_edit_date": 1436809062, "creation_date": 1436806286, "answer_id": 31389065, "question_id": 31388841, "link": "https://stackoverflow.com/questions/31388841/is-it-wrong-to-print-instead-of-n/31389065#31389065", "title": "Is it wrong to print $/ instead of \\n?", "body": "<p>Perhaps you are looking for the output record separator instead?</p>\n\n<blockquote>\n  <p><a href=\"https://metacpan.org/pod/perlvar#OUTPUT_FIELD_SEPARATOR\">perldoc perlvar</a>:</p>\n\n<pre> IO::Handle->output_record_separator( EXPR )\n   $OUTPUT_RECORD_SEPARATOR\n   $ORS\n   $\\</pre>\n  \n  <p>The output record separator for the print operator.\n  If defined, this value is printed after the last of print's arguments.  Default is \"undef\".</p>\n  \n  <p>You cannot call \"output_record_separator()\" on a handle, only as a static method. See <a href=\"https://metacpan.org/pod/IO::Handle\">IO::Handle</a>.</p>\n  \n  <p>Mnemonic: you set \"<code>$\\</code>\" instead of adding \"<code>\\n</code>\" at the end of the print. Also, it's just like <code>$/</code>, but it's what you get \"back\" from Perl.</p>\n</blockquote>\n\n<p>For example,</p>\n\n<pre><code>$\\ = $/;\nprint STDERR $var;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1436809117, "last_edit_date": 1495539843, "creation_date": 1436808568, "answer_id": 31389765, "question_id": 31388841, "link": "https://stackoverflow.com/questions/31388841/is-it-wrong-to-print-instead-of-n/31389765#31389765", "title": "Is it wrong to print $/ instead of \\n?", "body": "<p>You need output record separator $\\ as <a href=\"https://stackoverflow.com/users/1799189/xxfelixxx\">xxfelixxx</a> has answered.</p>\n\n<p><code>$/</code> as you read is <code>input record separator</code>. Manipulating it can affect how Perl reads the file data you've provided. For example:</p>\n\n<pre><code>open my $fh, \"&lt;\", $filename or die $!;\nlocal $/; # enable localized slurp mode\nmy $content = &lt;$fh&gt;;\nclose $fh;\n</code></pre>\n\n<p>The above causes whole content of file to slurp in scalar $content because we had reset <code>$/</code>.</p>\n\n<p>Consider the below code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $content;\n{local $/; $content = &lt;DATA&gt;}\nprint \"Content is $content\";\n__DATA__\nline 1\nline 2\nline 3\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>Content is line 1\nline 2\nline 3\n</code></pre>\n\n<p>But if you do not reset $/, like in below code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $content = &lt;DATA&gt;;\nprint \"Content is $content\";\n__DATA__\nline 1\nline 2\nline 3\n</code></pre>\n\n<p>Output will be <code>Content is line 1</code>.</p>\n\n<p>This is because the input record separator was set to newline and it returned after first line.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1436809488, "last_edit_date": 1436809488, "creation_date": 1436808870, "answer_id": 31389849, "question_id": 31388841, "link": "https://stackoverflow.com/questions/31388841/is-it-wrong-to-print-instead-of-n/31389849#31389849", "title": "Is it wrong to print $/ instead of \\n?", "body": "<p><code>$/</code> is LF (U+000A) by default. This is the same character produced by <code>\"\\n\"</code><sup>[1]</sup>. So unless you changed <code>$/</code>, <code>$/</code> and <code>\"\\n\"</code> are equivalent. If you did change <code>$/</code>, then only you know why, and therefore only you know whether <code>$/</code> or <code>\"\\n\"</code> is more appropriate.</p>\n\n<hr>\n\n<ol>\n<li>On ancient MacOS boxes, <code>$/</code>'s default was CR (U+000D), but that's also what <code>\"\\n\"</code> produced there.</li>\n</ol>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 1, "accepted_answer_id": 31389065, "answer_count": 3, "score": 15, "last_activity_date": 1436809488, "creation_date": 1436805556, "question_id": 31388841, "link": "https://stackoverflow.com/questions/31388841/is-it-wrong-to-print-instead-of-n", "title": "Is it wrong to print $/ instead of \\n?", "body": "<p>Perl's documentation says that <code>$/</code> is:</p>\n\n<blockquote>\n  <p>The input record separator, newline by default. This influences Perl's\n  idea of what a \"line\" is.</p>\n</blockquote>\n\n<p>So, is it basically wrong to:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print STDERR $var, $/;\n</code></pre>\n\n<p>instead of:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print STDERR \"$var\\n\";\n</code></pre>\n\n<p>?</p>\n\n<p>What could go wrong if I do the former?</p>\n"}, {"tags": ["perl", "laravel"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1436807598, "post_id": 31388475, "comment_id": 50755527, "body": "Then <code>hacks&#47;sorty_about_the_perl.pl</code> is it, right?"}], "answers": [{"comments": [{"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1436807823, "post_id": 31389492, "comment_id": 50755644, "body": "Thanks, this is exactly what I want. Is it good/bad practice to use scripts from other languages in Laravel?"}, {"owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "reply_to_user": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1436807952, "post_id": 31389492, "comment_id": 50755723, "body": "@theGreenCabbage I&#39;d tend to say anything you can write in Perl you can probably write in PHP, and doing so will benefit you by having the rest of the app&#39;s functionality available to it."}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "reply_to_user": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "edited": false, "score": 0, "creation_date": 1436808042, "post_id": 31389492, "comment_id": 50755780, "body": "@ceejayoz if this script simply interfaces with my DB, does it need to be a Model? Or is it fine as simply a script?"}, {"owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "reply_to_user": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1436808108, "post_id": 31389492, "comment_id": 50755811, "body": "@theGreenCabbage It should not be a model (although it might interact with some). It should be <a href=\"http://laravel.com/docs/5.1/artisan#writing-commands\" rel=\"nofollow noreferrer\">a command</a>."}, {"owner": {"reputation": 84923, "user_id": 1920232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUA8y.jpg?s=128&g=1", "display_name": "peterm", "link": "https://stackoverflow.com/users/1920232/peterm"}, "reply_to_user": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1436808816, "post_id": 31389492, "comment_id": 50756279, "body": "@theGreenCabbage IMHO it&#39;s perfectly fine to use scripts written in other languages when you understand what you&#39;re doing and all implications of this decision."}, {"owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "edited": false, "score": 0, "creation_date": 1436812914, "post_id": 31389492, "comment_id": 50758626, "body": "@peterm I agree it&#39;s fine. If it&#39;s trivially rewritten in PHP, though, taking advantage of all the Laravel functionality like centralized logging, email, etc. that you&#39;d have to reimplement in Perl if you needed it probably tips the scales."}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1436823890, "post_id": 31389492, "comment_id": 50764335, "body": "@peterm The script goes to a site and recursively scrapes everything relevant to what I need to saves it to a table in my SQLite DB. What would the implications be, for example, in that it&#39;s a Perl script? I did conform to Laravel-y standards by creating a migration script for the DB table creation instead of having Perl add a table for me (if it doesn&#39;t exist)."}], "tags": [], "owner": {"reputation": 84923, "user_id": 1920232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUA8y.jpg?s=128&g=1", "display_name": "peterm", "link": "https://stackoverflow.com/users/1920232/peterm"}, "is_accepted": true, "score": 2, "last_activity_date": 1436808869, "last_edit_date": 1436808869, "creation_date": 1436807640, "answer_id": 31389492, "question_id": 31388475, "link": "https://stackoverflow.com/questions/31388475/where-to-put-perl-script-in-laravel-project/31389492#31389492", "title": "Where to put Perl script in Laravel project", "body": "<p>I.e. you can create a subdirectory, let's say <code>scripts</code>, in the Laravel's <code>storage</code> directory and put your perl script(s) in there.</p>\n\n<p>Then you can schedule its execution like this</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$schedule-&gt;exec('/usr/bin/perl '.storage_path('scripts/myscript.pl'))\n    -&gt;daily()\n    -&gt;at('09:00');\n</code></pre>\n"}], "owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 0, "accepted_answer_id": 31389492, "answer_count": 1, "score": 0, "last_activity_date": 1436808869, "creation_date": 1436804423, "last_edit_date": 1436807510, "question_id": 31388475, "link": "https://stackoverflow.com/questions/31388475/where-to-put-perl-script-in-laravel-project", "title": "Where to put Perl script in Laravel project", "body": "<p>I have a Perl script I am using that scrapes data and saves it to my SQLite DB for my Laravel project. I have verified that the script works. </p>\n\n<p>I will be setting up a scheduled task to run this every day [so my DB has the latest information]. </p>\n\n<p>My question is - where should I put this Perl script within my Laravel project directory, and following that, how would I call this script using Laravel's <a href=\"http://laravel.com/docs/master/scheduling\" rel=\"nofollow\">task scheduling</a>?</p>\n\n<p>Note: note, I am fully aware I probably shouldn't be mixing languages within my Laravel project, but I am working under a time constraint for a hackathon, so I am making use of my time with what works.  Trying to hack together anything that works...</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1436800973, "post_id": 31387237, "comment_id": 50751263, "body": "&quot;And what does the &#39;push&#39; function really do?&quot; Perl has some great built-in documentation. Anytime you&#39;re unsure what a given built-in function does, I would recommend running <code>perldoc -f &lt;function&gt;</code> on the command line (in this case, <code>perldoc -f push</code>). If <code>perldoc</code> is installed on your system, that should bring up the documentation. Here&#39;s a <a href=\"http://perldoc.perl.org/functions/push.html\" rel=\"nofollow noreferrer\">link</a> just in case it&#39;s not installed."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1436801353, "post_id": 31387237, "comment_id": 50751537, "body": "<code>$id</code> is a poor variable name. It implies it&#39;s a unique identifier, but it appear to be the person&#39;s gender."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 4, "creation_date": 1436801363, "post_id": 31387237, "comment_id": 50751548, "body": "You really need a decent Perl reference book because if you think you can push into a hash you&#39;ve got some fundamental misunderstandings of what a hash even is. There are <a href=\"http://shop.oreilly.com/category/browse-subjects/programming/perl.do\" rel=\"nofollow noreferrer\">a number of books</a> which provide a solid foundation for understanding, so if you&#39;re serious about Perl, I&#39;d strongly recommend finding one that fits your needs."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1436802955, "post_id": 31387237, "comment_id": 50752697, "body": "What do you think pushing data onto a hash will do? Pushing makes sense on arrays (as they have an implicit ordering), but it makes no sense for hashes as they are unordered). What key/value pairs do you want to end up with in your hashes?"}, {"owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436804801, "post_id": 31387237, "comment_id": 50753897, "body": "I don&#39;t know what the push function does, I simply used it as it was used in a prior code I found. Thank you @ThisSuitIsBlackNot for that website."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1436872750, "post_id": 31387237, "comment_id": 50783833, "body": "&quot;I don&#39;t know what the push function does, I simply used it as it was used in a prior code I found.&quot; That is not how you become a good programmer :-/"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 3, "last_activity_date": 1436801156, "creation_date": 1436801156, "answer_id": 31387375, "question_id": 31387237, "link": "https://stackoverflow.com/questions/31387237/what-is-the-equivalent-hash-function-of-push-arrays-in-perl/31387375#31387375", "title": "What is the equivalent hash function of &quot;push&#39; arrays in perl?", "body": "<p>Push adds an element to the back of an array.</p>\n\n<pre><code>@a = ( 1, 2, 3 );\n\npush @a, 4;  # @a is now ( 1, 2, 3, 4 )\n</code></pre>\n\n<p>Insert adds an element to a hash.</p>\n\n<pre><code>%h = ( foo =&gt; 1, bar =&gt; 2 );\n\n$h{ qux } = 3;    # %h is now ( foo =&gt; 1, bar =&gt; 2, qux =&gt; 3 );\n</code></pre>\n\n<p>Take a look at perldoc perlintro</p>\n\n<p><a href=\"http://perldoc.perl.org/perlintro.html\" rel=\"nofollow\">http://perldoc.perl.org/perlintro.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "edited": false, "score": 0, "creation_date": 1436801345, "post_id": 31387390, "comment_id": 50751534, "body": "I am doing this as an assignment thus must use this data as an array and a hash. is there a better way to achieve this result then?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "edited": false, "score": 0, "creation_date": 1436801574, "post_id": 31387390, "comment_id": 50751716, "body": "I don&#39;t see a useful way of using a hash here."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436803460, "post_id": 31387390, "comment_id": 50753041, "body": "I have <a href=\"http://stackoverflow.com/a/31388155/7231\">one possible suggestion</a> for shoe-horning hashes into this example."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "edited": false, "score": 0, "creation_date": 1436804097, "post_id": 31387390, "comment_id": 50753447, "body": "@mgb16 Does your teacher give you any more specific guidance than &quot;use an array and a hash&quot;? That seems awfully vague."}, {"owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1436805093, "post_id": 31387390, "comment_id": 50754081, "body": "@ThisSuitIsBlackNot my end goal is to have two programs, one in an array and one in a hash each that are able to read the social security baby names for a specific year, and be able to plug in a name, and receive weather it is Male or Female, how many people were born, with that name, and where it falls in rank on the scale. This was just the first step in a week long assignment. Thank you for your help thus far."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1436802997, "last_edit_date": 1436802997, "creation_date": 1436801195, "answer_id": 31387390, "question_id": 31387237, "link": "https://stackoverflow.com/questions/31387237/what-is-the-equivalent-hash-function-of-push-arrays-in-perl/31387390#31387390", "title": "What is the equivalent hash function of &quot;push&#39; arrays in perl?", "body": "<p><code>push</code> adds an element at the end of an array. Hashes don't have an end, so there's no equivalent for hashes. You need to specify the key of the element you wish to set.</p>\n\n<pre><code>$hash{$key} = $val;\n</code></pre>\n\n<p>I don't know why you changed the array into a hash. It makes no sense to use a hash here. The solution is to revert your change.</p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1436801235, "creation_date": 1436801235, "answer_id": 31387405, "question_id": 31387237, "link": "https://stackoverflow.com/questions/31387237/what-is-the-equivalent-hash-function-of-push-arrays-in-perl/31387405#31387405", "title": "What is the equivalent hash function of &quot;push&#39; arrays in perl?", "body": "<p><strong>push</strong> works on arrays, read more at: <a href=\"http://perldoc.perl.org/functions/push.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/push.html</a></p>\n\n<p>Hashes are different than arrays, they are like associate arrays. They are un-ordered group of key-value pairs. To add some key to hash you do something like below:</p>\n\n<pre><code>my %hash = (key1 =&gt; \"value1\", key2 =&gt; \"value2\");\n$hash{\"key3\"} = \"value3\";\n</code></pre>\n\n<p>Note that keys must be unique.</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://perlmaven.com/perl-hashes\" rel=\"nofollow\">Hashes in Perl - Gabor's blog</a></li>\n<li><a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow\">keys - perldoc</a></li>\n<li><a href=\"http://perldoc.perl.org/functions/values.html\" rel=\"nofollow\">values - perldoc</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436804037, "post_id": 31388155, "comment_id": 50753396, "body": "As a second suggestion - assume &#39;name&#39; is unique, and have a hash of names-&gt;gender. But as you&#39;d need to <code>grep</code> it to array-ify it, that&#39;s a bit artificial as well."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1436879394, "last_edit_date": 1436879394, "creation_date": 1436803373, "answer_id": 31388155, "question_id": 31387237, "link": "https://stackoverflow.com/questions/31387237/what-is-the-equivalent-hash-function-of-push-arrays-in-perl/31388155#31388155", "title": "What is the equivalent hash function of &quot;push&#39; arrays in perl?", "body": "<p>In a comment, you say that you \"must use this data as an array and a hash\". I'm not really sure what you mean, but one possible interpretation is that your teacher wants you do use both hashes and arrays in your code.</p>\n\n<p>One way to do that would be to store your data in an hash of arrays. It would look something like this.</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy %data;\n\nwhile ( &lt;&gt; ) { # Use &lt;&gt; to read from STDIN. Makes life easier :-)\n  chomp;\n\n  my ( $name, $gender ) = split /,/; \n\n  push @{$data{$gender}}, $name;\n}\n\nforeach (keys %data) {\n  say \"$_: \" . join(\"\\t\", @{$data{$_}_); \n}\n</code></pre>\n\n<p>But that would involve using array references, which sounds like it might be a little advanced for your current course.</p>\n\n<p>One advantage of this approach is that it will continue to work (without code changes) should you wish to add new genders to your input data!</p>\n"}, {"tags": [], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "is_accepted": false, "score": 0, "last_activity_date": 1436932480, "creation_date": 1436932480, "answer_id": 31421201, "question_id": 31387237, "link": "https://stackoverflow.com/questions/31387237/what-is-the-equivalent-hash-function-of-push-arrays-in-perl/31421201#31421201", "title": "What is the equivalent hash function of &quot;push&#39; arrays in perl?", "body": "<p>There is no specific function to push the element to the hash, you just need assign the value to hash key as below -</p>\n\n<pre><code>$hash{key} = 'value';\n</code></pre>\n\n<p>Though it will not sure that this item will be appended as the last element as the hash stores it keys in random fashion,</p>\n"}], "owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1436932480, "creation_date": 1436800708, "last_edit_date": 1436805250, "question_id": 31387237, "link": "https://stackoverflow.com/questions/31387237/what-is-the-equivalent-hash-function-of-push-arrays-in-perl", "title": "What is the equivalent hash function of &quot;push&#39; arrays in perl?", "body": "<p>I am a beginner programmer who is writing a program using perl that will eventually allow me to search for name, and have it tell me the early steps. So far (with the help of many nice people on here) I have this code for array format. </p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nmy @M_array;\nmy @F_array; \nopen (my $input, \"&lt;\", 'ssbn1898.txt');\nwhile ( &lt;$input&gt; ) {\n\n    chomp;\n\n   my ( $name, $id ) = split ( /,/ ); \n\n\n    if ( $id eq \"M\" ) {\n\n        push ( @M_array, $name );\n    }\n    else {\n        push ( @F_array, $name ); \n    }\n}\nclose ( $input );\nprint 'M: ' . join(\"\\t\", @M_array) . \"\\n\"; \n\nprint 'F: ' . join(\"\\t\", @F_array) . \"\\n\"; \n</code></pre>\n\n<p>And I attempted to use the same code to put it into a hash. </p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nmy %M_hash;\nmy %F_hash; \nopen (my $input, \"&lt;\", 'ssbn1898.txt');\nwhile ( &lt;$input&gt; ) {\n\n    chomp;\n\n   my ( $name, $id ) = split ( /,/ ); \n\n\n    if ( $id eq \"M\" ) {\n\n        push ( %M_hash, $name );\n    }\n    else {\n        push ( %F_hash, $name ); \n    }\n}\nclose ( $input );\nprint 'M: ' . join(\"\\t\", %M_hash) . \"\\n\"; \nprint 'F: ' . join(\"\\t\", %F_hash) . \"\\n\"; \n</code></pre>\n\n<p>But I get an error on the \"push\" function. I would assume then that this function is just for arrays. Is there an equivalent function for a hash? And what does the \"push\" function really do? \nThank you all for your help </p>\n\n<p><a href=\"http://www.ourbabynamer.com/popular-baby-names.php?year=1898&amp;top=1000&amp;country=US&amp;order=0&amp;page=1\" rel=\"nofollow\">http://www.ourbabynamer.com/popular-baby-names.php?year=1898&amp;top=1000&amp;country=US&amp;order=0&amp;page=1</a>\nThis is the data I am working with </p>\n"}, {"tags": ["perl", "sorting", "tsv"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1436798352, "post_id": 31386291, "comment_id": 50749345, "body": "You can expect down votes as you didn&#39;t put any effort to explain algorithm, nor did you show what did you try so far."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436798461, "post_id": 31386291, "comment_id": 50749443, "body": "A hash is a good start, but you might hit memory problems. An showing what you&#39;ve tried so far is also a good start, and gets much better answers."}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 0, "creation_date": 1436798697, "post_id": 31386291, "comment_id": 50749610, "body": "Does this need to be in perl code? If not, you could just use <code>head</code>, <code>tail</code> and <code>sort</code> (if these programs are available)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1436798701, "post_id": 31386291, "comment_id": 50749613, "body": "It looks like you want to sort records using the first column, but what do you want to do in the case of a tie? Depending on the answer to that, you might be able to simply sort the lines in their entirety (no need for a hash)."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1436798958, "post_id": 31386291, "comment_id": 50749814, "body": "Why did <code>CK200</code> go to <code>CK201</code>, while the <code>KY</code> and <code>LM</code> numbers stayed the same?"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1436802334, "creation_date": 1436802334, "answer_id": 31387783, "question_id": 31386291, "link": "https://stackoverflow.com/questions/31386291/perl-reordering-rows-in-a-tsv-file/31387783#31387783", "title": "Perl-reordering rows in a tsv file", "body": "<pre><code># Original data\ncat foo.tsv\n\nsrc    dest    relationship\nCK200    CK201    CK200-CK201\nKY305    KY306    KY305-KY306\nLM102    LM103    LM102-LM103\nKY306    KY305    KY306-KY305\nCK201    CK200    CK201-CK200\nLM103    LM102    LM103-102\n\n# Store the header info\nhead -n 1 foo.tsv &gt; foo_sorted.tsv\n\n# Sort the remainder, starting at line 2, and append to foo_sorted.tsv\ntail -n +2 foo.tsv | sort &gt;&gt; foo_sorted.tsv\n\n# Show the result\ncat foo_sorted.tsv\n\nsrc    dest    relationship\nCK200    CK201    CK200-CK201\nCK201    CK200    CK201-CK200  \nKY305    KY306    KY305-KY306\nKY306    KY305    KY306-KY305\nLM102    LM103    LM102-LM103\nLM103    LM102    LM103-102\n</code></pre>\n"}], "owner": {"reputation": 889, "user_id": 1149781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/33c9ae143a8de23e06b97d6e70b5bbe9?s=128&d=identicon&r=PG", "display_name": "Shaw", "link": "https://stackoverflow.com/users/1149781/shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436802334, "creation_date": 1436798199, "last_edit_date": 1436799253, "question_id": 31386291, "link": "https://stackoverflow.com/questions/31386291/perl-reordering-rows-in-a-tsv-file", "title": "Perl-reordering rows in a tsv file", "body": "<p>I'm hoping someone here can help me with an approach to solving the following problem. I have a tsv file with 300000 + rows of data which I wish to reorder. Short extract below: </p>\n\n<pre><code>src    dest    relationship\nCK200    CK201    CK200-CK201\nKY305    KY306    KY305-KY306\nLM102    LM103    LM102-LM103\nKY306    KY305    KY306-KY305\nCK201    CK200    CK201-CK200\nLM103    LM102    LM103-102\n</code></pre>\n\n<p>I would like to reorder the data in the following way. </p>\n\n<pre><code>src    dest    relationship\nCK200    CK201    CK200-CK201\nCK201    CK200    CK201-CK200\nKY305    KY306    KY305-KY306\nKY306    KY305    KY306-KY305\nLM102    LM103    LM102-LM103\nLM103    LM102    LM103-LM102\n</code></pre>\n\n<p>Would the best approach be to store this in a hash and use some kind of sort using the 'dest' value as a key? </p>\n\n<p>Any help would be greatly appreciated! as I'm not sure of the best way of doing this from an efficiency point of view.  </p>\n\n<p>Thanks,\nShaw </p>\n"}, {"tags": ["perl", "output-formatting"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1436795504, "post_id": 31385155, "comment_id": 50747357, "body": "Adding the format that you would like as output will help provide better answers."}, {"owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1436795668, "post_id": 31385155, "comment_id": 50747472, "body": "I would iike something like"}, {"owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1436795881, "post_id": 31385155, "comment_id": 50747616, "body": "M\t\tF\t\t\t\t\t\t\t\t\t\t\t Namem1\tNamef1 Namem2   Namef2"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436803774, "post_id": 31385243, "comment_id": 50753237, "body": "Might be worth mentioning that <code>&#47;&#47;</code> is perl 5.10 onwards. <code>5.8.8</code> is pretty old, but seems to still be about!"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 3, "last_activity_date": 1436798872, "last_edit_date": 1436798872, "creation_date": 1436795469, "answer_id": 31385243, "question_id": 31385155, "link": "https://stackoverflow.com/questions/31385155/how-to-print-data-in-column-form-in-perl/31385243#31385243", "title": "How to print data in column form in Perl?", "body": "<p>You can add whatever separator you would like between your data by using the <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow\"><code>join</code></a> function, the example below formats the data in your array separated by tabs: </p>\n\n<pre><code>...\nuse List::MoreUtils qw/pairwise/;\n\nmy $separator = \"\\t\";\nprint join($separator, qw(M F)), \"\\n\";\nprint join(\n   \"\\n\", \n   pairwise { ( $a // '') . $separator . ( $b // '') } @M_array, @F_array\n), \"\\n\";\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436797859, "post_id": 31386120, "comment_id": 50749018, "body": "I think this would be much improved with an example."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436799400, "post_id": 31386120, "comment_id": 50750160, "body": "@Sobrique Perl&#39;s <code>format</code> looks complicated (for C/C++ programmers). Did you ever use it successfully?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436799874, "post_id": 31386120, "comment_id": 50750500, "body": "About 15 years ago, yes. Not since. (Which is part of why I was keen on an example :))"}, {"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436800142, "post_id": 31386120, "comment_id": 50750674, "body": "@Sobrique: Well, I normally do not create output with aligned columns on the command line. I would prefer to create some structured output and let another program do the formatting.   Hmmm ...  that might have been a better answer at all;-)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436800264, "post_id": 31386120, "comment_id": 50750747, "body": "Regarding your remark - you could perhaps do an <code>$namem = shift @M_array &#47;&#47; &#39;&#39;;</code> so you get an empty string if undefined."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1436800338, "post_id": 31386120, "comment_id": 50750793, "body": "Wow it works :-) But better add a comment that the first output doesn&#39;t use formatting. Ah, there is an issue with missing data? I tried <code>@m = (&quot;a&quot;, &quot;b&quot;); @f = (&quot;x&quot;, &quot;y&quot;, &quot;z&quot;);</code> and got only 2 rows of output."}, {"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436800532, "post_id": 31386120, "comment_id": 50750951, "body": "@Sobrique Thanks for the hint."}, {"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 1, "creation_date": 1436800574, "post_id": 31386120, "comment_id": 50750983, "body": "@Wolf Yes, I found the issue, too and enhanced the code accordingly. And I removed the print statements."}], "tags": [], "owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "is_accepted": false, "score": 2, "last_activity_date": 1436800495, "last_edit_date": 1436800495, "creation_date": 1436797768, "answer_id": 31386120, "question_id": 31385155, "link": "https://stackoverflow.com/questions/31385155/how-to-print-data-in-column-form-in-perl/31386120#31386120", "title": "How to print data in column form in Perl?", "body": "<p>I think, you should use Perl formats. Have a look at the <a href=\"http://perldoc.perl.org/perlform.html\" rel=\"nofollow\">Perl documentation</a>. You may want to use the <code>@*</code> format field in your case.</p>\n\n<p>I extended your code in order to print the desired output at the end</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @M_array;\nmy @F_array;\n\nopen (my $input, \"&lt;\", 'ssbn1898.txt');\n\nwhile ( &lt;$input&gt; ) {\n\n    chomp;\n\n    my ( $name, $id ) = split ( /,/ ); \n\n    if ( $id eq \"M\" ) {\n        push ( @M_array, $name );\n    }\n    else {\n        push ( @F_array, $name ); \n    }\n}\nclose ( $input );\n\nunshift @M_array, 'M';\nunshift @F_array, 'F';\n\nmy $namem; \nmy $namef;\n\nmy $max = 0;\n\n$max = (length($_) gt $max  ? length($_) : $max) for @M_array;\nmy $w = '@' . '&lt;' x $max;\n\neval \"\nformat STDOUT = \n$w @*\n\\$namem, \\$namef \n.\n\";\n\nwhile ( @M_array or @F_array) {\n\n    $namem = shift @M_array || '';\n    $namef = shift @F_array || '';\n\n    write;\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1436800928, "post_id": 31386141, "comment_id": 50751224, "body": "<code>printf</code> is of course easier to use than a <code>print sprintf</code> combination. I&#39;m getting syntactic &quot;errors&quot;, after correcting, there are again errors: &quot;Use of uninitialized value...&quot; maybe my Perl is too old (5.8.8)?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1436803710, "post_id": 31386141, "comment_id": 50753202, "body": "Yes. <code>&#47;&#47;</code> is a perl 5.10 feature. <code>||</code> will work in 5.8.8 though. And yes, 5.8.8 is really old - it&#39;s officially end of life, being a 2008 release. (But you aren&#39;t the only one who uses it by any means)"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1436944322, "post_id": 31386141, "comment_id": 50819018, "body": "Ok, I got it running now with perl 5.8.8. The problem with this answer is, that the SO syntax highlighter doesn&#39;t understand it. So it reads absolutely confusing. Maybe it would be better to add the <code>||</code> as well."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1436798130, "last_edit_date": 1436798130, "creation_date": 1436797811, "answer_id": 31386141, "question_id": 31385155, "link": "https://stackoverflow.com/questions/31385155/how-to-print-data-in-column-form-in-perl/31386141#31386141", "title": "How to print data in column form in Perl?", "body": "<p><code>join</code> is probably the simplest approach to take <code>tabs</code> will align your columns nicely.</p>\n\n<pre><code>join ( \"\\t\", @array ),\n</code></pre>\n\n<p>Alternatively, perl allows formatting via <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\">(s)printf</a>:</p>\n\n<pre><code>printf ( \"%-10s %-10s\", \"first\", \"second\" );\n</code></pre>\n\n<p>Or a more detailed <a href=\"http://perldoc.perl.org/perlform.html\" rel=\"nofollow\">'format'</a> </p>\n\n<p>Given what you're trying to do is put your two arrays into columns though:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nmy $format = \"%-10s\\t%-10s\\n\";\n\nmy @M_array = qw ( M1 M2 M3 M4 M5 );\nmy @F_array = qw ( F1 F2 F3 );\nmy $maxrows = $#M_array &gt; $#F_array ?  $#M_array : $#F_array; \n\nprintf ( $format, \"M\", \"F\" );\nfor my $rownum ( 0..$maxrows ) { \n    printf ( $format, $M_array[$rownum] // '', $F_array[$rownum] // '' );\n\n}\n</code></pre>\n\n<p>This will print a header row, and then loop through you arrays printing one line at a time. <code>//</code> is a conditional operation that tests if something is defined. It's only available in newer perls though*. In older versions <code>||</code> will do the trick - it's <em>almost</em> the same, but handles <code>''</code> and <code>0</code> slightly differently. </p>\n\n<p>* Perl 5.10 onward, so is pretty safe, but worth mentioning because some system are still rocking around with perl 5.8 on them. </p>\n"}, {"tags": [], "owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "is_accepted": false, "score": 1, "last_activity_date": 1436798709, "last_edit_date": 1436798709, "creation_date": 1436797881, "answer_id": 31386171, "question_id": 31385155, "link": "https://stackoverflow.com/questions/31385155/how-to-print-data-in-column-form-in-perl/31386171#31386171", "title": "How to print data in column form in Perl?", "body": "<p>You may format output with the <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\">sprintf</a> function, but there are some more problems to solve: What if the arrays don't have the same count of entries? For this, you need a place-holder. How much letters must fit into a column? How should it be aligned? Some code for illustration:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @m = (1, 2, 3);\nmy @f = (11, 22, 33, 44);\n\n# calculate how many rows to display\nmy $max = @m;\nif (@m &lt; @f) {\n    $max = @f;\n}\n\n# placeholder for missing data\nmy $none = '-';\n\n# formatting 20 chars per column, left aligned\nmy $fmt = \"%-20s%-20s\\n\";\n\n# print header\nprint sprintf($fmt, \"M\", \"F\");\n\n# print data rows\nforeach my $i (0..$max-1) {\n    print sprintf($fmt, ($m[$i] or $none), ($f[$i] or $none));\n}\n</code></pre>\n\n<p>If you are interested in more sophisticated formatting (for instance center-aligned text), you should switch to the <a href=\"http://perldoc.perl.org/perlform.html\" rel=\"nofollow\">special formatting capabilities</a> Perl provides for report generation.</p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1436799862, "last_edit_date": 1436799862, "creation_date": 1436799477, "answer_id": 31386782, "question_id": 31385155, "link": "https://stackoverflow.com/questions/31385155/how-to-print-data-in-column-form-in-perl/31386782#31386782", "title": "How to print data in column form in Perl?", "body": "<p>Borrowing from @HunterMcMillen</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature \"say\";\n\nlocal $, = \"\\t\";   # separator when printing list\n\nmy $i = (@F_array &gt; @M_array) ? $#F_array : $#M_array;\n\nsay qw(M F);\nsay $M_array[$i] //\"\", $F_array[$i] //\"\" for 0 .. $i;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "is_accepted": false, "score": 0, "last_activity_date": 1436932186, "creation_date": 1436932186, "answer_id": 31421177, "question_id": 31385155, "link": "https://stackoverflow.com/questions/31385155/how-to-print-data-in-column-form-in-perl/31421177#31421177", "title": "How to print data in column form in Perl?", "body": "<p>I guess Text::Table is the required module which comes with the perl distribution(just need to install).Go through the below documentation -</p>\n\n<p><a href=\"http://search.cpan.org/~shlomif/Text-Table-1.130/lib/Text/Table.pm\" rel=\"nofollow\">Documentation of Text::Table</a></p>\n\n<p>You need to pass the content as array to the add() method and it will do the wonders for you.</p>\n"}], "owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5168, "favorite_count": 0, "answer_count": 6, "score": 2, "last_activity_date": 1436932186, "creation_date": 1436795262, "last_edit_date": 1436796995, "question_id": 31385155, "link": "https://stackoverflow.com/questions/31385155/how-to-print-data-in-column-form-in-perl", "title": "How to print data in column form in Perl?", "body": "<p>I have a program that prints the contents of arrays in rows. I would like it to print each array in a column next to each other.</p>\n\n<p>This is the code:</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @M_array;\nmy @F_array;\n\nopen (my $input, \"&lt;\", 'ssbn1898.txt');\n\nwhile ( &lt;$input&gt; ) {\n\n    chomp;\n\n    my ( $name, $id ) = split ( /,/ ); \n\n    if ( $id eq \"M\" ) {\n        push ( @M_array, $name );\n    }\n    else {\n        push ( @F_array, $name ); \n    }\n}\nclose ( $input );\n\nprint \"M: @M_array \\n\"; \nprint \"F: @F_array \\n\";\n</code></pre>\n\n<p>Is this possible or am I trying to do something that can't be done? </p>\n\n<p>Desired format:</p>\n\n<pre><code>M      F \nNamem1 Namef1 \nNamem2 Namef2 \n</code></pre>\n"}, {"tags": ["perl", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1436799546, "post_id": 31383690, "comment_id": 50750262, "body": "F::F::R simply use <code>readdir</code>. That&#39;s the one that would need to be changed."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436803091, "post_id": 31386765, "comment_id": 50752788, "body": "Seems like <a href=\"https://metacpan.org/pod/utf8::all\" rel=\"nofollow noreferrer\"><code>utf8::all</code></a> has a patch for <code>readdir</code>.."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436803333, "post_id": 31386765, "comment_id": 50752951, "body": "More info here:  <a href=\"https://github.com/doherty/utf8-all/issues/11\" rel=\"nofollow noreferrer\">github.com/doherty/utf8-all/issues/11</a> .. See also discussion at perl5.porters <a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2013/08/msg206341.html\" rel=\"nofollow noreferrer\">nntp.perl.org/group/perl.perl5.porters/2013/08/msg206341.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1436805778, "post_id": 31386765, "comment_id": 50754456, "body": "utf8::all assumes a UTF-8 system. Not all unix systems are UTF-8, and no Windows system is. It also doesn&#39;t address the problem I mentioned. You&#39;re not guaranteed to be able to access all the file names returned as they may not be accurate."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1436799429, "creation_date": 1436799429, "answer_id": 31386765, "question_id": 31383690, "link": "https://stackoverflow.com/questions/31383690/could-filefindrule-be-patched-to-automatically-handle-filename-character-enc/31386765#31386765", "title": "Could File::Find::Rule be patched to automatically handle filename character encoding/decoding?", "body": "<p>Yeah, I wish. If there's was a major Perl project I'd work on, this would be it.</p>\n\n<p>The issue is that there could be badly-encoded file names, including file names encoded using a different encoding than expected. That means the first thing needed is a way of round-tripping badly-encoded file names through a decode-encode process. I think Python uses the surrogate pair code points to represent the bad bytes.</p>\n\n<p>You would need a pragma to ensure backwards compatibility.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 31386765, "answer_count": 1, "score": 3, "last_activity_date": 1436799429, "creation_date": 1436791132, "question_id": 31383690, "link": "https://stackoverflow.com/questions/31383690/could-filefindrule-be-patched-to-automatically-handle-filename-character-enc", "title": "Could File::Find::Rule be patched to automatically handle filename character encoding/decoding?", "body": "<p>Suppose I have a file with name <code>\u00e6</code> (UNICODE : 0xE6, UTF8 : 0xC3 0xA6) in the current directory. </p>\n\n<p>Then, I would like to use <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow\"><code>File::Find::Rule</code></a> to locate it:</p>\n\n<pre><code>use feature qw(say);\nuse open qw( :std :utf8 );\nuse strict;\nuse utf8;\nuse warnings;\n\nuse File::Find::Rule;\n\nmy $fn = '\u00e6';\nmy @files = File::Find::Rule-&gt;new-&gt;name($fn)-&gt;in('.');\nsay $_ for @files;\n</code></pre>\n\n<p>The output is empty, so apparently this did not work.</p>\n\n<p>If I try to encode the filename first:</p>\n\n<pre><code>use Encode;\n\nmy $fn = '\u00e6';\nmy $fn_utf8 = Encode::encode('UTF-8', $fn, Encode::FB_CROAK | Encode::LEAVE_SRC);\nmy @files = File::Find::Rule-&gt;new-&gt;name($fn_utf8)-&gt;in('.');\nsay $_ for @files;\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>\u00c3\u00a6\n</code></pre>\n\n<p>So it found the file, but the returned filename is not decoded into a Perl string. To fix this, I can decode the result, replacing the last line with:</p>\n\n<pre><code>say Encode::decode('UTF-8', $_, Encode::FB_CROAK) for @files;\n</code></pre>\n\n<p>The question is if both the encoding and decoding could/should have been done automatically by <code>File::Find::Rule</code> so I could have used my original program and not have had to worry about encoding and decoding at all?</p>\n\n<p>(For example, could <code>File::Find::Rule</code> have used <a href=\"https://metacpan.org/pod/I18N::Langinfo\" rel=\"nofollow\"><code>I18N::Langinfo</code></a> to determine that the current locale's codeset is <code>UTF-8</code> ?? )</p>\n"}, {"tags": ["java", "perl"], "comments": [{"owner": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 1, "creation_date": 1436791557, "post_id": 31383638, "comment_id": 50744698, "body": "You seem to be only reading from stdout here. First things first: use a <code>ProcessBuilder</code>, and redirect stderr to stdout. As far as I see it, the problem is that the file you open is not found by the perl program, but as you discard stderr, the relevant messages are not printed, hence your output."}], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 2310442, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QITka.jpg?s=128&g=1", "display_name": "Lucien", "link": "https://stackoverflow.com/users/2310442/lucien"}, "edited": false, "score": 0, "creation_date": 1436802114, "post_id": 31383912, "comment_id": 50752074, "body": "When I do that, my Java output is just <code>Line :dada</code> but the perl script works well on cygwin giving the output : <code>dada Can&#39;t open settings.txt. Error code: No such file or directory at match_settings.pl line 6.</code> when the file is missing. It looks like the problem is from Java."}, {"owner": {"reputation": 947, "user_id": 2826340, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/23c627dc4dc2acbd66dd4a0003bc25e0?s=128&d=identicon&r=PG&f=1", "display_name": "AMDG", "link": "https://stackoverflow.com/users/2826340/amdg"}, "reply_to_user": {"reputation": 451, "user_id": 2310442, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QITka.jpg?s=128&g=1", "display_name": "Lucien", "link": "https://stackoverflow.com/users/2310442/lucien"}, "edited": false, "score": 1, "creation_date": 1436866604, "post_id": 31383912, "comment_id": 50779929, "body": "The problem is that your java code is not executed from the same directory as your perl script (when you execute it from Cygwin)"}], "tags": [], "owner": {"reputation": 947, "user_id": 2826340, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/23c627dc4dc2acbd66dd4a0003bc25e0?s=128&d=identicon&r=PG&f=1", "display_name": "AMDG", "link": "https://stackoverflow.com/users/2826340/amdg"}, "is_accepted": true, "score": 2, "last_activity_date": 1436801017, "last_edit_date": 1436801017, "creation_date": 1436791876, "answer_id": 31383912, "question_id": 31383638, "link": "https://stackoverflow.com/questions/31383638/some-perl-lines-wont-execute-from-java-runtime-getruntime-exec/31383912#31383912", "title": "Some Perl lines won&#39;t execute from Java Runtime.getRuntime().exec()", "body": "<p>It seems that the folder from which your perl code is executed is not the same when executing from Cygwin and Java. So the perl Script can't find your file.</p>\n\n<p>You should add error checking in your perl code, and verify your current working dir directory.</p>\n\n<p>I would write:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse Cwd;\n\nmy $cwd = cwd();    \n\nprint \"dada\\n\";\nprint \"In folder: $cwd\";\n$file = \"settings.txt\";\nopen ($ds, \"&lt;\", $file) || die \"Can't open settings.txt. Error code: $!\";\nprint \"doudou\\n\";\n\nwhile ($line = &lt;$ds&gt;){\n    print \"$line\\n\";\n    last if $. == 4;\n}\n\nprint \"dodo\\n\";\nclose $ds;\n</code></pre>\n\n<p>This will help you debug why, when your script is executed from Java, you don't get the expected results.</p>\n\n<p>You should also redirect stderr to stdout in your Java code, so you will get error lines.</p>\n"}], "owner": {"reputation": 451, "user_id": 2310442, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QITka.jpg?s=128&g=1", "display_name": "Lucien", "link": "https://stackoverflow.com/users/2310442/lucien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 1, "accepted_answer_id": 31383912, "answer_count": 1, "score": 3, "last_activity_date": 1436801017, "creation_date": 1436791012, "question_id": 31383638, "link": "https://stackoverflow.com/questions/31383638/some-perl-lines-wont-execute-from-java-runtime-getruntime-exec", "title": "Some Perl lines won&#39;t execute from Java Runtime.getRuntime().exec()", "body": "<p>I have a strange behavior when calling a perl script from Java.</p>\n\n<p>The perl code is:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\n\nprint \"dada\\n\";\n$file = \"settings.txt\";\nopen $ds, \"&lt;\", $file;\nprint \"doudou\\n\";\n\nwhile ($line = &lt;$ds&gt;){\n    print \"$line\\n\";\n    last if $. == 4;\n}\n\nprint \"dodo\\n\";\nclose $ds;\n</code></pre>\n\n<p>As you can see, in this code I want to read the file \"settings.txt\" which contents :</p>\n\n<pre><code>1 : a\n2 : b\n3 : c\n4 : d\n</code></pre>\n\n<p>And this script works when called from cygwin and the output is :</p>\n\n<pre><code>dada\ndoudou\n1 : a\n2 : b\n3 : c\n4 : d\ndodo\n</code></pre>\n\n<p>But when I call it from Java using the following code:</p>\n\n<pre><code>String line;\nString cmd = \"perl C:\\\\Data\\\\Tests\\\\match_settings.pl\";\n\ntry {\n    Process proc = Runtime.getRuntime().exec(cmd);\n    BufferedReader in = new BufferedReader(new InputStreamReader(proc.getInputStream()));\n    while ((line = in.readLine()) != null) {\n        System.out.println(\"Line :\" + line);\n    }\n    in.close();\n} catch (IOException a) {\n    // TODO Auto-generated catch block\n    a.printStackTrace();\n}\n</code></pre>\n\n<p>Then when the Java function is executed, I get the output:</p>\n\n<pre><code>Line :dada\nLine :doudou\nLine :dodo\n</code></pre>\n\n<p>Which means that <code>$line = &lt;$ds&gt;</code> is not well executed, but I don't know why.</p>\n\n<p>Any idea ?</p>\n\n<p>Sorry for the long post, wanted to be as precise as possible.</p>\n\n<p>PS : I know some of you are wondering \"Why not read the settings.txt file by Java code himself ?\" but that's not the question here ;)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 10419, "user_id": 1151724, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q6fMI.jpg?s=128&g=1", "display_name": "CodeClown42", "link": "https://stackoverflow.com/users/1151724/codeclown42"}, "edited": false, "score": 0, "creation_date": 1436792476, "post_id": 31385651, "comment_id": 50748056, "body": "You&#39;d probably be better off asking this on Stack Overflow.  There are perl regulars there that build perl fairly often, I believe."}, {"owner": {"reputation": 10419, "user_id": 1151724, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q6fMI.jpg?s=128&g=1", "display_name": "CodeClown42", "link": "https://stackoverflow.com/users/1151724/codeclown42"}, "edited": false, "score": 0, "creation_date": 1436792568, "post_id": 31385651, "comment_id": 50748058, "body": "There&#39;s also <a href=\"http://www.perlmonks.org/\" rel=\"nofollow noreferrer\">Perl Monks</a>. ;)"}, {"owner": {"reputation": 10419, "user_id": 1151724, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q6fMI.jpg?s=128&g=1", "display_name": "CodeClown42", "link": "https://stackoverflow.com/users/1151724/codeclown42"}, "edited": false, "score": 0, "creation_date": 1436794102, "post_id": 31385651, "comment_id": 50748059, "body": "U&amp;L has a policy against cross-posting, so if you don&#39;t do it eventually someone else will.   I&#39;d go for closing it vs. deleting because it is then still visible and someone could find your link to the other post."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1436796569, "post_id": 31385651, "comment_id": 50748105, "body": "This question was already created here: <a href=\"http://stackoverflow.com/questions/31384294/how-can-i-fix-these-failed-tests-when-building-perl\" title=\"how can i fix these failed tests when building perl\">stackoverflow.com/questions/31384294/&hellip;</a>"}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1436796846, "post_id": 31385651, "comment_id": 50748300, "body": "@HunterMcMillen Oops, I manually migrated (copy-pasted) then this question closed/migrated after. I&#39;ve deleted the other version."}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 1, "creation_date": 1436801388, "post_id": 31385651, "comment_id": 50751573, "body": "Time to dig into the test code, see what is being tested, and what is the text of the error message, otherwise we won&#39;t know what exactly we&#39;re trying to fix."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1436801872, "post_id": 31385651, "comment_id": 50751906, "body": "Could you run the tests in a verbose mode and show what tests are actually failing (and why)."}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1436832591, "post_id": 31385651, "comment_id": 50767059, "body": "@LenJaffe I actually did look at the source code, but couldn&#39;t make sense of it. I&#39;ve edited this into the question, including the source code I looked at."}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1436832651, "post_id": 31385651, "comment_id": 50767076, "body": "@xxfelixxx I&#39;m not sure exactly what verbose mode it. I did get a lot more information from the test originally; I probably should have posted this in the question in the first place. I&#39;ve edited it to include this information now."}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1436859194, "post_id": 31385651, "comment_id": 50775357, "body": "The version you&#39;re trying to build is more than two years old. Have you checked if the problem still exists in the current version (5.22.0)?"}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1436862825, "post_id": 31385651, "comment_id": 50777486, "body": "@CalleDybedahl I need this version because I&#39;m trying to build Logitech Media Center aka slimserver, which can only run on this version or earlier of perl. I haven&#39;t tried building the latest version."}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1436868606, "post_id": 31385651, "comment_id": 50781211, "body": "Fair enough. Since you&#39;re aiming to run a particular piece of software, one slightly cheat-y but perfectly workable solution here is to see if the software in question uses the bits that had test failures. In your case, those are very well localized (the Archive::Extract module and the h2ph script), so it shouldn&#39;t be that hard to see if slimserver needs either. If it doesn&#39;t, you can just do <code>make install</code> and go on your merry way. As one of the summaries says, it&#39;s 99.91% OK."}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1436868905, "post_id": 31385651, "comment_id": 50781398, "body": "@CalleDybedahl I was considering that, but wasn&#39;t exactly sure how to tell if it needed those parts. Were you suggesting to just go ahead and see if it worked, or was there a more formalised way of telling? (My concern was that something would fail, and I&#39;d not be able to work out what caused it, or there&#39;d be another issue down the track with an uncommon function.)"}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1436875117, "post_id": 31385651, "comment_id": 50785470, "body": "<code>h2ph</code> is rare enough I&#39;d just ignore it. <code>fgrep -r &quot;use Archive::Extract&quot; .</code> in the slimserver source tree checks well enough for the other. I&#39;d give it a shot, and if weird problems show up later I&#39;d go back and look at these problems more carefully."}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 1, "creation_date": 1436885915, "post_id": 31385651, "comment_id": 50793759, "body": "at this point, I usually start using the Perl debugger on the test program. I set breakpoints, and step into and through code."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1436899901, "post_id": 31385651, "comment_id": 50802803, "body": "Indeed. Run the tests individually with <code>perl -d</code> and try to determine whether their failure is due to something being wrong on your system that you really need to fix or the test being wrong. If it&#39;s the latter, just comment it out."}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1436957645, "post_id": 31385651, "comment_id": 50827329, "body": "@LenJaffe Perl is totally new to me, so unfortunately this is way out my depth without a detailed explanation or tutorial."}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1436957726, "post_id": 31385651, "comment_id": 50827379, "body": "@reinierpost I don&#39;t totally understand. By &quot;run the tests individually&quot; do you mean the <code>.&#47;perl harness</code> part? If so, <code>.&#47;perl -d harness</code> fails for me."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1436970021, "post_id": 31385651, "comment_id": 50836410, "body": "You can even run them without the  harness, if all is well."}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1437000379, "post_id": 31385651, "comment_id": 50854063, "body": "@reinierpost Both with and without harness seems to fail. <code>$ .&#47;perl -d ..&#47;cpan&#47;Archive-Extract&#47;t&#47;01_Archive-Extract.t ..&#47;lib&#47;h2ph.t</code> gives <code>Can&#39;t locate perl5db.pl in @INC (@INC contains: &#47;opt&#47;perl-5.16.3-LMS&#47;lib&#47;site_perl&#47;5.16.3&#47;armv6l-linux-threa&zwnj;&#8203;d-multi &#47;opt&#47;perl-5.16.3-LMS&#47;lib&#47;site_perl&#47;5.16.3 &#47;opt&#47;perl-5.16.3-LMS&#47;lib&#47;5.16.3&#47;armv6l-linux-thread-multi &#47;opt&#47;perl-5.16.3-LMS&#47;lib&#47;5.16.3 .).  BEGIN failed--compilation aborted.</code> Perhaps it&#39;s trying to find default perl libraries instead of the ones I&#39;ve just built?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1437061469, "post_id": 31385651, "comment_id": 50884446, "body": "That is strange. Try without the <code>-d</code> (you won;&#39;t get the debugger)."}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1437129364, "post_id": 31385651, "comment_id": 50912880, "body": "@reinierpost <code>.&#47;perl ..&#47;cpan&#47;Archive-Extract&#47;t&#47;01_Archive-Extract.t ..&#47;lib&#47;h2ph.t</code> gives a slightly different error: <code>Can&#39;t locate strict.pm in @INC (@INC contains: &#47;opt&#47;perl-5.16.3-LMS&#47;lib&#47;site_perl&#47;5.16.3&#47;armv6l-linux-threa&zwnj;&#8203;d-multi &#47;opt&#47;perl-5.16.3-LMS&#47;lib&#47;site_perl&#47;5.16.3 &#47;opt&#47;perl-5.16.3-LMS&#47;lib&#47;5.16.3&#47;armv6l-linux-thread-multi &#47;opt&#47;perl-5.16.3-LMS&#47;lib&#47;5.16.3 .) at ..&#47;cpan&#47;Archive-Extract&#47;t&#47;01_Archive-Extract.t line 7. BEGIN failed--compilation aborted at ..&#47;cpan&#47;Archive-Extract&#47;t&#47;01_Archive-Extract.t line 7.</code> \u2026"}, {"owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1437129375, "post_id": 31385651, "comment_id": 50912885, "body": "@reinierpost \u2026<code>Undefined subroutine &amp;main::rmtree called at ..&#47;cpan&#47;Archive-Extract&#47;t&#47;01_Archive-Extract.t line 5. END failed--call queue aborted at ..&#47;cpan&#47;Archive-Extract&#47;t&#47;01_Archive-Extract.t line 7.</code>"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1437392314, "last_edit_date": 1437392314, "creation_date": 1437015367, "answer_id": 31444665, "question_id": 31385651, "link": "https://stackoverflow.com/questions/31385651/how-can-i-fix-these-failed-perl-tests/31444665#31444665", "title": "How can I fix these failed Perl tests?", "body": "<p>Since <a href=\"https://metacpan.org/pod/Archive::Extract\" rel=\"nofollow\">Archive::Extract</a> is on CPAN, one option you have is to do <code>make install</code> with the <code>perl</code> you just built, and then update to the latest version of <code>Archive::Extract</code>, and see if the test failures still exist.</p>\n\n<p>If the failures persist, switch to the build directory for <code>Archive::Extract</code> and run the tests in debug mode:</p>\n\n<pre>$ perl -Iblib t\\01_Archive-Extract.t 1</pre>\n\n<p>(You might want to save the output to a file).</p>\n\n<p>From the looks of it, at least some of the failures are related to tests involving compressed tar files (gzip, xz, bzip etc). One possibility is that your <code>tar</code> and/or other command line utilities do not match what <code>Archive::Extract</code> expects.</p>\n\n<p>The debug output should help pinpoint the problem. Please update your question with the debug output from running the tests. No need to use pastebin or similar services. No need to post source code of the module you are trying to install as it is available on CPAN.</p>\n\n<p>Update: Installing a module from CPAN does not require using the CPAN shell.</p>\n\n<p>Download the <a href=\"https://cpan.metacpan.org/authors/id/B/BI/BINGOS/Archive-Extract-0.76.tar.gz\" rel=\"nofollow\">latest tarball</a>, extract it, and do:</p>\n\n<pre>$ wget https://cpan.metacpan.org/authors/id/B/BI/BINGOS/Archive-Extract-0.76.tar.gz\n$ tar -xvf Archive-Extract-0.76.tar.gz\n$ cd Archive-Extract-0.76\n$ perl Makefile.PL\n$ nmake\n$ perl -Iblib t\\1_Archive-Extract.t 1</pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1436796472, "question_id": 215686}, "owner": {"reputation": 1356, "user_id": 1944384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b71965060589f5ceb354c5daa347cc5?s=128&d=identicon&r=PG", "display_name": "Sparhawk", "link": "https://stackoverflow.com/users/1944384/sparhawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3701, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1484590435, "creation_date": 1436790882, "last_edit_date": 1495540928, "question_id": 31385651, "link": "https://stackoverflow.com/questions/31385651/how-can-i-fix-these-failed-perl-tests", "title": "How can I fix these failed Perl tests?", "body": "<h3>Make test fails</h3>\n\n<p>I'm attempting to build Perl 5.16.3. However, it's failing at the <code>make test</code> part.</p>\n\n<pre><code>Failed 2 tests out of 2246, 99.91% okay.\n    ../cpan/Archive-Extract/t/01_Archive-Extract.t\n    ../lib/h2ph.t\n### Since not all tests were successful, you may want to run some of\n### them individually and examine any diagnostic messages they produce.\n### See the INSTALL document's section on \"make test\".\n### You have a good chance to get more information by running\n###   ./perl harness\n### in the 't' directory since most (&gt;=80%) of the tests succeeded.\n### You may have to set your dynamic library search path,\n### LD_LIBRARY_PATH, to point to the build directory:\n###   setenv LD_LIBRARY_PATH `pwd`; cd t; ./perl harness\n###   LD_LIBRARY_PATH=`pwd`; export LD_LIBRARY_PATH; cd t; ./perl harness\n###   export LD_LIBRARY_PATH=`pwd`; cd t; ./perl harness\n### for csh-style shells, like tcsh; or for traditional/modern\n### Bourne-style shells, like bash, ksh, and zsh, respectively.\nu=99.10  s=23.36  cu=7851.09  cs=326.70  scripts=2246  tests=528321\nmakefile:868: recipe for target 'test' failed\nmake: *** [test] Error 1\n</code></pre>\n\n<h3>Troubleshoot with harness</h3>\n\n<p>I wasn't sure how to deal with the vagueness of <code>may have to set</code>, so I ignored it at first. Here is the output (the error is printed below).</p>\n\n<pre><code>$ cd t; ./perl harness ../cpan/Archive-Extract/t/01_Archive-Extract.t ../lib/h2ph.t\n../cpan/Archive-Extract/t/01_Archive-Extract.t ..\nDubious, test returned 154 (wstat 39424, 0x9a00)\nFailed 154/1704 subtests\n    (less 534 skipped subtests: 1016 okay)\n../lib/h2ph.t ...................................\nFailed 2/6 subtests\n\nTest Summary Report\n-------------------\n../cpan/Archive-Extract/t/01_Archive-Extract.t (Wstat: 39424 Tests: 1704 Failed: 154)\n  Failed tests:  87, 89-94, 98, 100-105, 111, 113-118, 122\n                124-129, 255, 257-262, 266, 268-273, 495\n                497-502, 506, 508-513, 567, 569-574, 578\n                580-585, 615, 617-622, 626, 628-633, 711\n                713-718, 722, 724-729, 807, 809-814, 818\n                820-825, 879, 881-886, 890, 892-897, 903\n                905-910, 914, 916-921, 927, 929-934, 938\n                940-945\n  Non-zero exit status: 154\n../lib/h2ph.t                                 (Wstat: 0 Tests: 6 Failed: 2)\n  Failed tests:  5-6\nFiles=2, Tests=1710, 38 wallclock secs ( 3.60 usr  0.15 sys + 16.97 cusr  6.03 csys = 26.75 CPU)\nResult: FAIL\n</code></pre>\n\n<p>Here is the error.</p>\n\n<pre><code>$ cd t; ./perl harness ../cpan/Archive-Extract/t/01_Archive-Extract.t ../lib/h2ph.t\n#   Failed test 'extract() for 'double_dir.zip' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'x/w''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'x/w'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/x/w' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/x''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/x'\n\n#   Failed test 'extract() for 'double_dir.zip' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'x/w''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'x/w'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/x/w' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/x''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/x'\n\n#   Failed test 'extract() for 'y.jar' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'y.jar' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'y.zip' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'y.zip' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'y.par' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'y.par' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'y.war' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'y.war' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'y.ear' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'y.ear' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '2'\n\n#   Failed test 'Found correct output file 'y/z''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'y/z'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y/z' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/y'\n\n#   Failed test 'extract() for 'x.jar' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n\n#   Failed test 'extract() for 'x.jar' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n\n#   Failed test 'extract() for 'x.par' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n\n#   Failed test 'extract() for 'x.par' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n\n#   Failed test 'extract() for 'x.zip' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n\n#   Failed test 'extract() for 'x.zip' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n\n#   Failed test 'extract() for 'x.ear' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n\n#   Failed test 'extract() for 'x.ear' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n\n#   Failed test 'extract() for 'x.war' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n\n#   Failed test 'extract() for 'x.war' reports success (PP: 0 Bin: 1)'\n#   at t/01_Archive-Extract.t line 478.\n\n#   Failed test 'Found correct number of output files ()'\n#   at t/01_Archive-Extract.t line 491.\n#          got: '0'\n#     expected: '1'\n\n#   Failed test 'Found correct output file 'a''\n#   at t/01_Archive-Extract.t line 498.\n#          got: undef\n#     expected: 'a'\n\n#   Failed test 'Output file '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out/a' exists'\n#   at t/01_Archive-Extract.t line 501.\n\n#   Failed test 'Extract dir found'\n#   at t/01_Archive-Extract.t line 503.\n\n#   Failed test 'Extract dir exists'\n#   at t/01_Archive-Extract.t line 505.\n\n#   Failed test 'Extract dir is expected '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out''\n#   at t/01_Archive-Extract.t line 507.\n#          got: undef\n#     expected: '/home/osmc/perl-5.16.3/perl-5.16.3/cpan/Archive-Extract/t/out'\n# Looks like you failed 154 tests of 1704.\n# Failed test 5 - preamble compiles at ../lib/h2ph.t line 49\n#      got 'Illegal declaration of subroutine main::__has_include at _h2ph_pre.ph line 754.\n# '\n# expected /(?^:syntax OK$)/\n# Failed test 6 - output free of warnings at ../lib/h2ph.t line 56\n#      got \"Illegal character in prototype for main::__has_include : STR at _h2ph_pre.ph line 754.\\nCompilation failed in require at lib/h2ph.pht line 1.\\nCompilation failed in require at -e line 1.\\n\"\n# expected \"\"\n</code></pre>\n\n<p>I then tried again with <code>cd ..; export LD_LIBRARY_PATH=$(pwd); cd t; ./perl harness ../cpan/Archive-Extract/t/01_Archive-Extract.t ../lib/h2ph.t</code>, but the same tests failed.</p>\n\n<p>I'm building on a Raspberry Pi running Raspbian (based on Debian). How can I build Perl without the tests failing?</p>\n\n<h3>Investigating the source</h3>\n\n<p>I had a look at the <a href=\"http://www.cpan.org/src/5.0/perl-5.16.3.tar.gz\" rel=\"nofollow noreferrer\">source code</a> of the test, but I couldn't really understand it. For example, the first fail in the error states</p>\n\n<pre><code>Failed test 'extract() for 'double_dir.zip' reports success (PP: 0 Bin: 1)'\nat t/01_Archive-Extract.t line 478.\n</code></pre>\n\n<p>In <code>../cpan/Archive-Extract/t/01_Archive-Extract.t</code>, line 478 is</p>\n\n<pre><code>ok( $rv, \"extract() for '$archive' reports success ($cfg)\");\n</code></pre>\n\n<p>I can't really see what it's trying to test above this point. (The rest of this test is viewable <a href=\"http://pastebin.com/Rn73bdeS\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I installed and then attempted to upgrade <code>Archive::Extract</code> via CPAN.</p>\n\n<p>As per <a href=\"https://stackoverflow.com/a/31444665/1944384\">this answer</a>, I attempted to persist with <code>make install</code> regardless, then upgrade <code>Archive::Extract</code> via CPAN. <code>make install</code> worked fine. (I was installing in parallel to my distribution's Perl, in <code>/opt</code> instead, so I had used <code>./Configure -des -Dprefix=/opt/perl-5.16.3-LMS -Dusethreads</code>.)</p>\n\n<p>I then attempted to upgrade <code>Archive::Extract</code> via CPAN. The install was killed, then left some kind of dangling job, although the quoted pid did not exist. I followed the recommendations and attempted to upgrade CPAN itself, but that install was also killed. (This had the same output, but I'm out of words.)</p>\n\n<pre><code>osmc@osmc:/opt/perl-5.16.3-LMS/bin$ ./perl -MCPAN -eshell\nEnter 'h' for help.\n\ncpan[1]&gt; install Archive::Extract\nReading '/home/osmc/.cpan/sources/authors/01mailrc.txt.gz'\n............................................................................DONE\nReading '/home/osmc/.cpan/sources/modules/02packages.details.txt.gz'\n  Database was generated on Sun, 19 Jul 2015 06:17:02 GMT\n  HTTP::Date not available\n..............\n  New CPAN.pm version (v2.10) available.\n  [Currently running version is v1.9800]\n  You might want to try\n    install CPAN\n    reload cpan\n  to both upgrade CPAN.pm and run the new version without leaving\n  the current session.\n\n\n......................................................Killed\nosmc@osmc:/opt/perl-5.16.3-LMS/bin$ ./perl -MCPAN -eshell\nTerminal does not support AddHistory.\n\nThere seems to be running another CPAN process (pid 13152).  Contacting...\nOther job not responding. Shall I overwrite the lockfile '/home/osmc/.cpan/.lock'? (Y/n) [y] y\n\ncpan shell -- CPAN exploration and modules installation (v1.9800)\nEnter 'h' for help.\n\ncpan[1]&gt; install CPAN\n</code></pre>\n\n<p>I'm not sure if relevant, but I've never really had CPAN working on this system, as per my comments to <a href=\"https://unix.stackexchange.com/a/208013/18887\">this answer</a>.</p>\n"}, {"tags": ["perl", "soap"], "owner": {"reputation": 11, "user_id": 5098921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b928a796a19eb9395e11b16c7ba2eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Drip LeBuk", "link": "https://stackoverflow.com/users/5098921/drip-lebuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1436958311, "creation_date": 1436788207, "last_edit_date": 1436958311, "question_id": 31382598, "link": "https://stackoverflow.com/questions/31382598/soap-lite-1-14-make-test-errors", "title": "SOAP-Lite-1.14 `make test` errors", "body": "<p>Using 64-bit Cygwin v2.0.4(0.287/5/3), I manually downloaded SOAP-Lite-1.14 from CPAN and then ran <code>perl Makefile.PL</code>, <code>make</code>, and then <code>make test</code>.  (I did not remove the t folder first).  However, the <code>make test</code> finds errors in the .pm files.</p>\n\n<pre><code>$ perl Makefile.PL\nGenerating a Unix-style Makefile\nWriting Makefile for SOAP::Lite\nWriting MYMETA.yml and MYMETA.json\n\n$ make\nSkip blib/lib/SOAP/Packager.pm (unchanged)\nSkip blib/lib/SOAP/Header.pod (unchanged)\nSkip blib/lib/SOAP/Client.pod (unchanged)\nSkip blib/lib/SOAP/Constants.pm (unchanged)\nSkip blib/lib/SOAP/Transport/LOOPBACK.pm (unchanged)\nSkip blib/lib/SOAP/Lite/Packager.pm (unchanged)\nSkip blib/lib/SOAP/SOM.pod (unchanged)\nSkip blib/lib/SOAP/Lite/Deserializer/XMLSchema1999.pm (unchanged)\nSkip blib/lib/SOAP/Transport/MAILTO.pm (unchanged)\nSkip blib/lib/SOAP/Transport.pod (unchanged)\nSkip blib/lib/SOAP/Test.pm (unchanged)\nSkip blib/lib/SOAP/Schema.pod (unchanged)\nSkip blib/lib/Apache/SOAP.pm (unchanged)\nSkip blib/lib/SOAP/Lite/Deserializer/XMLSchema2001.pm (unchanged)\nSkip blib/lib/SOAP/Trace.pod (unchanged)\nSkip blib/lib/SOAP/Transport/POP3.pm (unchanged)\nSkip blib/lib/SOAP/Deserializer.pod (unchanged)\nSkip blib/lib/SOAP/Server.pod (unchanged)\nSkip blib/lib/SOAP/Data.pod (unchanged)\nSkip blib/lib/SOAP/Transport/TCP.pm (unchanged)\nSkip blib/lib/SOAP/Utils.pod (unchanged)\nSkip blib/lib/SOAP/Transport/IO.pm (unchanged)\nSkip blib/lib/SOAP/Transport/HTTP.pm (unchanged)\nSkip blib/lib/SOAP/Serializer.pod (unchanged)\nSkip blib/lib/SOAP/Lite/Deserializer/XMLSchemaSOAP1_2.pm (unchanged)\nSkip blib/lib/SOAP/Lite/Utils.pm (unchanged)\nSkip blib/lib/SOAP/Lite/Deserializer/XMLSchemaSOAP1_1.pm (unchanged)\nSkip blib/lib/SOAP/Transport/LOCAL.pm (unchanged)\nSkip blib/lib/SOAP/Lite.pm (unchanged)\nSkip blib/lib/SOAP/Fault.pod (unchanged)\ncp bin/SOAPsh.pl blib/script/SOAPsh.pl\n\"/usr/bin/perl.exe\" -MExtUtils::MY -e 'MY-&gt;fixin(shift)' -- blib/script/SOAPsh.pl\ncp bin/stubmaker.pl blib/script/stubmaker.pl\n\"/usr/bin/perl.exe\" -MExtUtils::MY -e 'MY-&gt;fixin(shift)' -- blib/script/stubmaker.pl\nManifying 2 pod documents\nManifying 21 pod documents\n\n\n$ make test\nPERL_DL_NONLAZY=1 \"/usr/bin/perl.exe\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t t/Issues/*.t t/SOAP/*.t t/SOAP/Lite/*.t t/SOAP/Lite/Deserializer/*.t t/SOAP/Schema/*.t t/SOAP/Transport/*.t t/SOAP/Transport/HTTP/*.t\nt/01-core.t .................................. ok\nt/010-serializer.t ........................... ok\nt/012-cloneable.t ............................ ok\nt/013-array-deserialization.t ................ ok\nt/014_UNIVERSAL_use.t ........................ ok\nt/015_UNIVERSAL_can.t ........................ ok\nt/02-payload.t ............................... ok\nt/03-server.t ................................ ok\nt/04-attach-cid-encoded.t .................... ok\nt/04-attach.t ................................ ok\nt/05-customxml.t ............................. ok\nt/06-modules.t ............................... ok\nt/08-schema.t ................................ ok\nt/11-cgi.t ................................... skipped: 200 Assumed OK\nt/12-cgi_https.t ............................. skipped: 500 Can't connect to localhost:443\nt/13-mod_perl.t .............................. skipped: 200 Assumed OK\nt/14-cgi_apache.t ............................ skipped: 200 Assumed OK\nt/15-daemon.t ................................ skipped: 200 Assumed OK\nt/17-mod_soap.t .............................. skipped: 200 Assumed OK\nt/19-apachesoap.t ............................ skipped: 500 Can't connect to localhost:8080\nt/21-public.t ................................ skipped: 500 Can't connect to services.xmethods.net:80\nt/22-interop_apache.t ........................ skipped: 500 Can't connect to nagoya.apache.org:5049\nt/23-ppm.t ................................... skipped: ActiveState's ppmserver.pl server seems to be broken - skipping tests\nt/24-wsdl.t .................................. skipped: 500 Can't connect to services.xmethods.net:80\nt/36-leaks.t ................................. ok\nt/38-packager.t .............................. ok\nt/40-loopback.t .............................. ok\nt/Issues/rt15176.t ........................... ok\nt/Issues/rt53375.t ........................... ok\nt/Issues/rt70329.t ........................... ok\nt/Issues/rt70381.t ........................... skipped: This is a performance test. Set PROFILE_PERFORMANCE env var to a true value to run\nt/Issues/rt72836.t ........................... ok\nt/Issues/rt74029.t ........................... skipped: not fixed yet\nt/Issues/rt74308.t ........................... Use of uninitialized value $_[0] in pattern match (m//) at /home/&lt;user_profile_name&gt;/SOAP-Lite-1.14/blib/lib/SOAP/Lite.pm line 340.\nUse of uninitialized value $input_name in string eq at /home/&lt;user_profile_name&gt;/SOAP-Lite-1.14/blib/lib/SOAP/Lite.pm line 3193.\nUse of uninitialized value $input_name in string eq at /home/&lt;user_profile_name&gt;/SOAP-Lite-1.14/blib/lib/SOAP/Lite.pm line 3193.\nt/Issues/rt74308.t ........................... ok\nt/Issues/rt75169.t ........................... ok\nt/Issues/rt78588.t ........................... ok\nt/Issues/rt88915.t ........................... ok\nt/release-kwalitee.t ......................... skipped: these tests are for release candidate testing\nt/release-pod-syntax.t ....................... skipped: these tests are for release candidate testing\nt/SOAP/Data.t ................................ ok\nt/SOAP/Lite/Deserializer/XMLSchema1999.t ..... ok\nt/SOAP/Lite/Deserializer/XMLSchema2001.t ..... ok\nt/SOAP/Lite/Deserializer/XMLSchemaSOAP1_1.t .. ok\nt/SOAP/Lite/Deserializer/XMLSchemaSOAP1_2.t .. ok\nt/SOAP/Lite/Packager.t ....................... ok\nt/SOAP/Schema/WSDL.t ......................... ok\nt/SOAP/Serializer.t .......................... ok\nt/SOAP/Transport/HTTP.t ...................... ok\nt/SOAP/Transport/HTTP/CGI.t .................. Illegal field name '!A:' at /home/&lt;user_profile_name&gt;/SOAP-Lite-1.14/blib/lib/SOAP/Transport/HTTP.pm line 607.\nUse of uninitialized value $error[0] in join or string at /usr/lib/perl5/vendor_perl/5.14/Carp.pm line 455.\n at t/SOAP/Transport/HTTP/CGI.t line 52.\n# Looks like your test exited with 255 before it could output anything.\nt/SOAP/Transport/HTTP/CGI.t .................. Dubious, test returned 255 (wstat 65280, 0xff00)\nNo subtests run\nt/SOAP/Transport/IO.t ........................ ok\nt/SOAP/Transport/LOCAL.t ..................... ok\nt/SOAP/Transport/LOOPBACK.t .................. ok\nt/SOAP/Transport/MAILTO.t .................... ok\nt/SOAP/Transport/POP3.t ...................... ok\nt/SOAP/Transport/TCP.t ....................... ok\n\nTest Summary Report\n-------------------\nt/SOAP/Transport/HTTP/CGI.t                (Wstat: 65280 Tests: 0 Failed: 0)\n  Non-zero exit status: 255\n  Parse errors: No plan found in TAP output\nFiles=55, Tests=903, 21 wallclock secs ( 0.14 usr  0.09 sys +  5.48 cusr  4.58 csys = 10.29 CPU)\nResult: FAIL\nFailed 1/55 test programs. 0/903 subtests failed.\nMakefile:1044: recipe for target 'test_dynamic' failed\nmake: *** [test_dynamic] Error 255\n</code></pre>\n\n<hr>\n\n<pre><code>$ perl -V\nSummary of my perl5 (revision 5 version 14 subversion 4) configuration:\n\n  Platform:\n    osname=cygwin, osvers=1.7.35(0.28653), archname=cygwin-thread-multi\n    uname='cygwin_nt-6.3 cygwin 1.7.35(0.28653) 2015-02-16 13:03 x86_64 cygwin '\n    config_args='-d -e -Dprefix=/usr -Dmksymlinks -Dusethreads -Darchname=x86_64-cygwin-threads -Dlibperl=cygperl5_14.dll -Dcc=gcc -Dld=g++ -Accflags=-ggdb -O2 -pipe -Wimplicit-function-declaration -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/build=/usr/src/debug/perl-5.14.4-3 -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/src/perl-5.14.4=/usr/src/debug/perl-5.14.4-3 -fwrapv'\n    hint=recommended, useposix=true, d_sigaction=define\n    useithreads=define, usemultiplicity=define\n    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef\n    use64bitint=define, use64bitall=define, uselongdouble=undef\n    usemymalloc=n, bincompat5005=undef\n  Compiler:\n    cc='gcc', ccflags ='-DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -ggdb -O2 -pipe -Wimplicit-function-declaration -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/build=/usr/src/debug/perl-5.14.4-3 -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/src/perl-5.14.4=/usr/src/debug/perl-5.14.4-3 -fwrapv -fno-strict-aliasing -fstack-protector',\n    optimize='-O3',\n    cppflags='-DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -ggdb -O2 -pipe -Wimplicit-function-declaration -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/build=/usr/src/debug/perl-5.14.4-3 -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/src/perl-5.14.4=/usr/src/debug/perl-5.14.4-3 -fwrapv -fno-strict-aliasing -fstack-protector'\n    ccversion='', gccversion='4.9.2', gccosandvers=''\n    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678\n    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16\n    ivtype='long', ivsize=8, nvtype='double', nvsize=8, Off_t='off_t', lseeksize=8\n    alignbytes=8, prototype=define\n  Linker and Libraries:\n    ld='g++', ldflags =' -Wl,--enable-auto-import -Wl,--export-all-symbols -Wl,--enable-auto-image-base -fstack-protector -L/usr/local/lib'\n    libpth=/usr/local/lib /usr/lib /lib\n    libs=-lgdbm -ldb -ldl -lcrypt -lgdbm_compat\n    perllibs=-ldl -lcrypt\n    libc=/usr/lib/libc.a, so=dll, useshrplib=true, libperl=cygperl5_14.dll\n    gnulibc_version=''\n  Dynamic Linking:\n    dlsrc=dl_dlopen.xs, dlext=dll, d_dlsymun=undef, ccdlflags=' '\n    cccdlflags=' ', lddlflags=' --shared  -Wl,--enable-auto-import -Wl,--export-all-symbols -Wl,--enable-auto-image-base -L/usr/local/lib -fstack-protector'\n\n\nCharacteristics of this binary (from libperl):\n  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV\n                        PERL_IMPLICIT_CONTEXT PERL_PRESERVE_IVUV\n                        PERL_USE_SAFE_PUTENV USE_64_BIT_ALL USE_64_BIT_INT\n                        USE_ITHREADS USE_LARGE_FILES USE_PERLIO USE_PERL_ATOF\n                        USE_REENTRANT_API\n  Locally applied patches:\n        rurban/0c612ce82        Fix building static extensions on cygwin, -UUSEIMPORTLIB\n        perl.cygwin_autorebase  Rebase DLL after building (skip for cygport builds)\n        v5.14.0-RC2-6-gfc6f691  skip testing cygwin utf8 readdir() with Win32 ANSI API\n        v5.14.0-RC2-7-g3877b86  Fix test 50 on cygwin: \\WINDOWS\n        v5.14.0-RC2-10-gd22b5bd revert +x global.sym from 3691eaa79cc6a\n        v5.15.0-579-g8375c93    Export store_cop_label for the perl compiler\n        v5.15.3-232-g1bac5ec    sv.c: S_anonymise_cv_maybe UTF8 cleanup.\n        v5.15.7-75-g803e389     CYG17 utf8 paths\n        v5.15.7-302-g5bc802d    Revise perlcygwin.pod for cygwin-1.7\n        v5.15.7-303-g286f819    add Cygwin::sync_winenv [perl #110190]\n        v5.19.8-494-g6cc44f6    avoid a \"FILE\" name conflict with cygwin's wchar.h\n        v5.19.8-496-g3383030    [perl #120936] op/taint.t handling of no ipcsysv on cygwin\n        v5.19.8-509-g288d0d9    cygwin doesn't implement $^E (except as a read of $!)\n        v5.21.4-548-g860874c    wrap the failing call_checker test in an eval and TODO it\n  Built under cygwin\n  Compiled at Feb 17 2015 21:41:24\n  @INC:\n    /usr/lib/perl5/site_perl/5.14/x86_64-cygwin-threads\n    /usr/lib/perl5/site_perl/5.14\n    /usr/lib/perl5/vendor_perl/5.14/x86_64-cygwin-threads\n    /usr/lib/perl5/vendor_perl/5.14\n    /usr/lib/perl5/5.14/x86_64-cygwin-threads\n    /usr/lib/perl5/5.14\n    .\n</code></pre>\n"}, {"tags": ["regex", "perl", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1436785133, "post_id": 31381209, "comment_id": 50740790, "body": "You should show some effort from your side also."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5064367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b17ad88b80d3de20de68180db81583?s=128&d=identicon&r=PG&f=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/5064367/yuvi"}, "edited": false, "score": 0, "creation_date": 1436785164, "post_id": 31381425, "comment_id": 50740809, "body": "Thanks Avinash...One issue is that the , is not replaced by : for a,b,1,2...........{a,b,1,2,sd[{1:2}:{4:5}],45,67,P[{34:56:34&zwnj;&#8203;}:{uni:cast:r}],c{q:&zwnj;&#8203;ew:3:4},1,2,3,cf{2:4&zwnj;&#8203;:5:8}:6},4,fr{24:45:&zwnj;&#8203;67}"}, {"owner": {"reputation": 11, "user_id": 5064367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b17ad88b80d3de20de68180db81583?s=128&d=identicon&r=PG&f=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/5064367/yuvi"}, "edited": false, "score": 0, "creation_date": 1436785986, "post_id": 31381425, "comment_id": 50741312, "body": "Thanks Avinash, this works. I will load this for the complete data set."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 11, "user_id": 5064367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b17ad88b80d3de20de68180db81583?s=128&d=identicon&r=PG&f=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/5064367/yuvi"}, "edited": false, "score": 0, "creation_date": 1436788602, "post_id": 31381425, "comment_id": 50742885, "body": "May i know the reason for downvotes.."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1436788674, "post_id": 31381425, "comment_id": 50742939, "body": "I guess the downvotes come because you&#39;re helping someone who has shown absolutely no effort. I considered downvoting this answer (but I didn&#39;t)."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1436789187, "post_id": 31381425, "comment_id": 50743211, "body": "Even high rep users also answereing these type of no effort question. We can&#39;t stop them unless SO takes some action on closing these type of questions immediately as unclear or too-broad (like dupe-hammer)."}, {"owner": {"reputation": 11, "user_id": 5064367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b17ad88b80d3de20de68180db81583?s=128&d=identicon&r=PG&f=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/5064367/yuvi"}, "edited": false, "score": 0, "creation_date": 1436896868, "post_id": 31381425, "comment_id": 50800980, "body": "Apologies, i was checking via a handheld &amp; i dont remember down voting. I ve corrected by upgrading but still shows -1. Will check with admin tomorrow."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": -2, "last_activity_date": 1436785359, "last_edit_date": 1436785359, "creation_date": 1436784719, "answer_id": 31381425, "question_id": 31381209, "link": "https://stackoverflow.com/questions/31381209/perl-nested-regex/31381425#31381425", "title": "perl nested regex", "body": "<p>You may try the below perl command which uses positive lookahead based regex.</p>\n\n<pre><code>perl -pe 's/,(?=(?:\\{[^{}]*\\}|[^{}])*})|,(?=(?:\\[[^\\[\\]]*\\]|[^\\[\\]])*\\])/:/g' file\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/kP3qU6/2\" rel=\"nofollow\">DEMO</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5064367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b17ad88b80d3de20de68180db81583?s=128&d=identicon&r=PG&f=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/5064367/yuvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 1, "closed_date": 1436796403, "accepted_answer_id": 31381425, "answer_count": 1, "score": -3, "last_activity_date": 1436902813, "creation_date": 1436784117, "last_edit_date": 1436902813, "question_id": 31381209, "link": "https://stackoverflow.com/questions/31381209/perl-nested-regex", "closed_reason": "Needs more focus", "title": "perl nested regex", "body": "<p>Text record:</p>\n\n<pre><code>(1,2,3,4,{fred,don,max,rat,grp},45,67,mat,jhon,{a,b,1,2,sd[{1,2},{4,5}],45,67,P[{34,56,34},{uni,cast,r}],c{q,ew,3,4},1,2,3,cf{2,4,5,8},6},4,fr{24,45,67},5,NOL)\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>(1,2,3,4,{fred:don:max:rat:grp},45,67,mat,jhon,{a:b:1:2:sd[{1:2}:{4:5}]:45:67:P[{34:56:34}:{uni:cast:r}]:c{q:ew:3:4}:1:2:3:cf{2:4:5:8}:6},4,fr{24:45:67},5,NOL)\n</code></pre>\n\n<p>needs to be replace by : for the below:</p>\n\n<ol>\n<li>Everything between <code>{}</code> and <code>[]</code></li>\n<li>The data has nested structure like <code>{{}}</code> and <code>{[],[]}</code></li>\n<li>The text record is always between <code>()</code>.</li>\n</ol>\n\n<p>Any help with perl is appreciated.</p>\n"}, {"tags": ["bash", "perl", "shell", "awk", "scripting"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436783495, "post_id": 31380584, "comment_id": 50739770, "body": "Please refer to <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for how to ask a good question. The long and short of it - in this case - is that showing us some code goes a long way to eliciting good and positive answers."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436783945, "post_id": 31380584, "comment_id": 50740045, "body": "Show us the expected output for this input (not just vague examples) along with the code that you are trying to use."}, {"owner": {"reputation": 305, "user_id": 2958833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611862c43919d4127ebe7cdbd48da2d5?s=128&d=identicon&r=PG&f=1", "display_name": "User12345", "link": "https://stackoverflow.com/users/2958833/user12345"}, "edited": false, "score": 1, "creation_date": 1436784258, "post_id": 31380584, "comment_id": 50740230, "body": "Hello - I&#39;ve updated the code.."}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 2958833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611862c43919d4127ebe7cdbd48da2d5?s=128&d=identicon&r=PG&f=1", "display_name": "User12345", "link": "https://stackoverflow.com/users/2958833/user12345"}, "edited": false, "score": 0, "creation_date": 1436787476, "post_id": 31381144, "comment_id": 50742212, "body": "Thank you very much Sobrique. Appreciate your help. I usually bank on awk &amp; sed for my work. Slowly trying to learn Perl. So a lot of beginners mistakes :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 305, "user_id": 2958833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611862c43919d4127ebe7cdbd48da2d5?s=128&d=identicon&r=PG&f=1", "display_name": "User12345", "link": "https://stackoverflow.com/users/2958833/user12345"}, "edited": false, "score": 0, "creation_date": 1436787781, "post_id": 31381144, "comment_id": 50742398, "body": "We all start somewhere. I started on perl back when I had outgrown shell scripting. Both <code>awk</code> and <code>sed</code> are way more powerful than most think (most do 2 or 3 basic things with them), but I just never really grokked them in quite the same way."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1436785157, "last_edit_date": 1436785157, "creation_date": 1436783921, "answer_id": 31381144, "question_id": 31380584, "link": "https://stackoverflow.com/questions/31380584/linux-split-records-and-generate-required-format/31381144#31381144", "title": "Linux - Split records and generate required format", "body": "<p>For your first part - I'd suggest you're over thinking it. </p>\n\n<p><code>split</code> with no arguments splits on whitespace. </p>\n\n<p>So taking your input data:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nwhile ( &lt;DATA&gt; ) {\n   my @stuff = split;\n   print Dumper \\@stuff;\n}\n__DATA__\n2015-05-16      testing112 alpha1        {}      {}      {beta1}\n2015-05-16      testing124  gamma1   {xbgtd1} {}      {hjhjje;g76gr}\n2015-05-16      testing124  asdasdg   {xbgtd1;dfdfgg} {}      {hjhjje;g76gr}\n</code></pre>\n\n<p>You get an array with:</p>\n\n<pre><code>$VAR1 = [\n          '2015-05-16',\n          'testing124',\n          'asdasdg',\n          '{xbgtd1;dfdfgg}',\n          '{}',\n          '{hjhjje;g76gr}'\n        ];\n</code></pre>\n\n<p>Etc.</p>\n\n<p>You can then apply a cleanup/split again on subfields.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code> my @subfields = map {  s/^{|}$//g; split( /;/ ) } @stuff[ 3 .. 5 ];\nprint Dumper \\@subfields;\n</code></pre>\n\n<p>This will - using <code>map</code> - split each element in fields 3-5 (remember perl starts at zero), and also remove outside squiggly brackets.</p>\n\n<p><code>map</code> is quite a clever higher order function, which is a <em>sort</em> of <code>foreach</code> loop, in that it 'transforms' every element of a list and returns a new list by applying the code block in to each item in the list in turn (and 'returning' implicitly the result of the last call, e.g. the elements out of the <code>split</code> function). </p>\n\n<p>Giving (for last row):</p>\n\n<pre><code>$VAR1 = [\n          'xbgtd1',\n          'dfdfgg',\n          'hjhjje',\n          'g76gr'\n        ];\n</code></pre>\n\n<p>So then you can:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>foreach my $field ( @subfields ) {\n    print \"some_sentence $stuff[0] $stuff[1] $field\\n\";\n}\n</code></pre>\n\n<p>Note - in the last row, it has skipped the empty field '5'. That's not too hard to keep if you need it. First thought on doing that is altering a the map a little:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my @subfields =\n    map { s/^{|}$//g; m/./ ? split( /;/ ) : '' }\n    @stuff[ 3 .. 5 ];\n</code></pre>\n\n<p>Which means your map now:</p>\n\n<ul>\n<li><p>Iterates elements 3 - 5.</p></li>\n<li><p>Applies a 'remove brackets' transform.</p></li>\n<li><p>tests if there is anything left</p></li>\n<li><p>either returns a <code>split</code> string, or an empty string depending. </p></li>\n</ul>\n\n<p>Also - a couple of general points on your code - you'd be better off with:</p>\n\n<ul>\n<li><p>change that open to a 3 arg open with lexical filehandles. E.g. <code>open ( my $input_fh, \"&lt;\", $i_file ) or die $!</code>; </p></li>\n<li><p>you can do <code>my ( $var1, $var2 ) = split;</code> instead. </p></li>\n<li><p>when you're numbering similar variables, that <em>often</em> means you want to be using a list instead. </p></li>\n</ul>\n\n<p>So making code look a bit more like:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $i_file = 'input.txt';\nopen( my $input_fh, \"&lt;\", $i_file )\n    or die \"Could not read from $i_file, program halting : $!\";\n\nwhile (&lt;$input_fh&gt;) {\n    my ( $map_date, $nam, @ins_name ) = split;\n    print Dumper \\@ins_name;\n    my @subfields =\n        map { s/^{|}$//g; m/./ ? split(/;/) : '' } @ins_name;\n    print Dumper \\@subfields;\n\n    foreach my $field (@subfields) {\n        print \"some_sentence $map_date $nam $field\\n\";\n    }\n}\nclose($input_fh);\n</code></pre>\n\n<p>(You can remove the <code>Dumper</code> - it's there for printing diagnostics). </p>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 2958833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611862c43919d4127ebe7cdbd48da2d5?s=128&d=identicon&r=PG&f=1", "display_name": "User12345", "link": "https://stackoverflow.com/users/2958833/user12345"}, "edited": false, "score": 0, "creation_date": 1436787553, "post_id": 31381678, "comment_id": 50742268, "body": "Hello Arunesh - Thank you very much. Appreciate your help. Your solution works too. I&#39;ll use this logic elsewhere as needed. Thank you heaps."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436787973, "post_id": 31381678, "comment_id": 50742499, "body": "Can I suggest - <code>split;</code> is generally a better choice than <code>split ( &#47;\\s+&#47; )</code>. Also - a chain of <code>shifts</code> isn&#39;t really necessary when you have <code>splice</code> And also <code>split (&#47;;&#47;)</code> just returns a single value if there&#39;s no semicolon, so you don&#39;t really need the <code>if</code> there. And lastly - you don&#39;t need to specify <code>$_</code> in that match, because it&#39;s used by default anyway."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436800045, "post_id": 31381678, "comment_id": 50750611, "body": "Thanks @sobrique I appreciate ur guidelines and will keep in mind."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1436790426, "last_edit_date": 1436790426, "creation_date": 1436785444, "answer_id": 31381678, "question_id": 31380584, "link": "https://stackoverflow.com/questions/31380584/linux-split-records-and-generate-required-format/31381678#31381678", "title": "Linux - Split records and generate required format", "body": "<p>Another approach using <code>foreach</code> loops will be like this the explanation I did in the code itself</p>\n\n<p><code>$_</code> is implicit variable for current element in <code>foreach</code> loop :</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @splits;\nopen my $fh, '&lt;', 'file' or die \"unable to open file :$! \\n\";\n\nwhile ( &lt;$fh&gt; ) {\n\n    chomp;\n    @splits = split( /\\s+/ );\n    my ( $field1, $field2, $field3 ) = ( shift @splits, shift @splits, shift @splits );    # get first second and third fields and remove from array\n\n    print \"&lt;some text&gt; $field1 $field2 $field3 \\n\";    #print them\n\n    foreach ( @splits ) {    #@splits contain only 4th 5th and 6th field now\n\n        if ( $_ =~ /\\{(.*)\\}/ ) {\n\n            my $match = $1;\n\n            if ( $match =~ /;/ ) {    #check if any of fields contain ;\n                my @fields = split( /;/, $match );    #split with ;\n\n                print \"&lt;some text&gt; $field1 $field2 $_ \\n\" foreach ( @fields ); # print for each field\n\n            }\n            else {\n                print \"&lt;some text&gt; $field1 $field2 $match\\n\";    # print if field does not contain ;\n            }\n        }\n    }\n}\n\nclose( $fh );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 2958833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611862c43919d4127ebe7cdbd48da2d5?s=128&d=identicon&r=PG&f=1", "display_name": "User12345", "link": "https://stackoverflow.com/users/2958833/user12345"}, "edited": false, "score": 0, "creation_date": 1436788913, "post_id": 31382592, "comment_id": 50743073, "body": "Hello Shravan - Classy solution. Appreciate this. There&#39;s one problem. The output appears as - 100) &lt;some sentence&gt;2015-06-13,abcd,name_1,name_1; I don&#39;t want the serial numbers part &amp; also, I want the name_1 printed just once."}, {"owner": {"reputation": 1239, "user_id": 5045048, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IUWJK.jpg?s=128&g=1", "display_name": "Shravan Yadav", "link": "https://stackoverflow.com/users/5045048/shravan-yadav"}, "reply_to_user": {"reputation": 305, "user_id": 2958833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611862c43919d4127ebe7cdbd48da2d5?s=128&d=identicon&r=PG&f=1", "display_name": "User12345", "link": "https://stackoverflow.com/users/2958833/user12345"}, "edited": false, "score": 0, "creation_date": 1436789811, "post_id": 31382592, "comment_id": 50743594, "body": "modified answer  as removed the serial numbers. Give me the rows in which name_1 is occurring."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436791714, "post_id": 31382592, "comment_id": 50744800, "body": "I think there&#39;s more to writing a one-liner than taking all the newlines out of a program!"}, {"owner": {"reputation": 1239, "user_id": 5045048, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IUWJK.jpg?s=128&g=1", "display_name": "Shravan Yadav", "link": "https://stackoverflow.com/users/5045048/shravan-yadav"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436859281, "post_id": 31382592, "comment_id": 50775419, "body": "@Borodin thank you for the clarification. I used to call awk commands as one liner."}], "tags": [], "owner": {"reputation": 1239, "user_id": 5045048, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IUWJK.jpg?s=128&g=1", "display_name": "Shravan Yadav", "link": "https://stackoverflow.com/users/5045048/shravan-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1436789152, "last_edit_date": 1436789152, "creation_date": 1436788190, "answer_id": 31382592, "question_id": 31380584, "link": "https://stackoverflow.com/questions/31380584/linux-split-records-and-generate-required-format/31382592#31382592", "title": "Linux - Split records and generate required format", "body": "<p>here is the awk version/ one liner. text is the filename containing data.</p>\n\n<pre><code>awk '{for(i=4;i&lt;=NF;i++){if(length($i) &gt; 2) printf $1\",\"$2\",\"$3\",\"substr($i,2,length($i)-2)\"\\n\"}}' text | awk -F',' '{split($4,arr,\";\");for (i in arr) { printf \"&lt;some sentence&gt;\"$1\",\"$2\",\"$3\",\"arr[i]\";\\n\"}}' \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1436790014, "creation_date": 1436790014, "answer_id": 31383262, "question_id": 31380584, "link": "https://stackoverflow.com/questions/31380584/linux-split-records-and-generate-required-format/31383262#31383262", "title": "Linux - Split records and generate required format", "body": "<p>This Perl program will do what I think you're asking for</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nmy $sentence = '&lt;some sentence&gt;';\n\nwhile ( &lt;DATA&gt; ) {\n  my @fields = /[^\\s{};]+/g;\n  print $sentence, join(', ', @fields[0,1,$_]), \"\\n\" for 2 .. $#fields;\n}\n\n__END__\n2015-05-16      testing112 alpha1        {}      {}      {beta1}\n2015-05-16      testing124  gamma1   {xbgtd1} {}      {hjhjje;g76gr}\n2015-05-16      testing124  asdasdg   {xbgtd1;dfdfgg} {}      {hjhjje;g76gr}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;some sentence&gt;2015-05-16, testing112, alpha1\n&lt;some sentence&gt;2015-05-16, testing112, beta1\n&lt;some sentence&gt;2015-05-16, testing124, gamma1\n&lt;some sentence&gt;2015-05-16, testing124, xbgtd1\n&lt;some sentence&gt;2015-05-16, testing124, hjhjje\n&lt;some sentence&gt;2015-05-16, testing124, g76gr\n&lt;some sentence&gt;2015-05-16, testing124, asdasdg\n&lt;some sentence&gt;2015-05-16, testing124, xbgtd1\n&lt;some sentence&gt;2015-05-16, testing124, dfdfgg\n&lt;some sentence&gt;2015-05-16, testing124, hjhjje\n&lt;some sentence&gt;2015-05-16, testing124, g76gr\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 2958833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611862c43919d4127ebe7cdbd48da2d5?s=128&d=identicon&r=PG&f=1", "display_name": "User12345", "link": "https://stackoverflow.com/users/2958833/user12345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 1, "accepted_answer_id": 31381144, "answer_count": 4, "score": 0, "last_activity_date": 1436790426, "creation_date": 1436782300, "last_edit_date": 1436786140, "question_id": 31380584, "link": "https://stackoverflow.com/questions/31380584/linux-split-records-and-generate-required-format", "title": "Linux - Split records and generate required format", "body": "<p>I have hundreds of thousands of these records in a text file.</p>\n\n<pre><code>2015-05-16      testing112 alpha1        {}      {}      {beta1}\n2015-05-16      testing124  gamma1   {xbgtd1} {}      {hjhjje;g76gr}\n2015-05-16      testing124  asdasdg   {xbgtd1;dfdfgg} {}      {hjhjje;g76gr}\n</code></pre>\n\n<ol>\n<li>The file has 6 columns.</li>\n<li>Space (one or many) is the delimiter between the fields.</li>\n<li>The first, second &amp; third fields are never empty.</li>\n<li>4th, 5th &amp; 6th fields are enclosed between <code>{}</code>. IF there is no value, there are just 2 braces like <code>{}</code>. If these fields have more than one value, the values within the curly brace are separated by a semicolon such as <code>{a;b}</code>.</li>\n</ol>\n\n<p>I'd like to do the below for each of the fields in each line</p>\n\n<p>Loop through each line in the file &amp; generate the following </p>\n\n<pre><code>1) &lt;some sentence&gt;field1, field2,field3;\n2) &lt;some sentence&gt;field1, field2, field4;\n3) &lt;some sentence&gt;field1, field2,field5;\n4) &lt;some sentence&gt;field1, field2,field6;\n</code></pre>\n\n<p>In case of (2), (3) &amp; (4) above, in case there are multiple values for the fields within the curly bracket, they are separated by a semicolon and like to generate the same statement for each of those fields too as below:</p>\n\n<pre><code>1) &lt;some sentence&gt;field1, field2, field4_first;\n2) &lt;some sentence&gt;field1, field2, field4_second;\n3) &lt;some sentence&gt;field1, field2, field5_first;\n4) &lt;some sentence&gt;field1, field2, field5_second;\n5) &lt;some sentence&gt;field1, field2, field6_first;\n6) &lt;some sentence&gt;field1, field2, field6_second;\n</code></pre>\n\n<p>I'm trying to use perl to achieve this. However, the split of strings isn't coming out right. Am using something on the lines of <code>split(s/ {1,}//,$_)</code> as there can be any number of spaces between the fields. This is not working. I tried a few other options too that don't seem to work. Could someone please help me here?</p>\n\n<p>Am running this on CentOS. Any language is fine with me to achieve the result.</p>\n\n<p>Code below is what am using to parse and print to see the values before proceeding further to write to file:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nmy $i_file      =   'input.txt';\nmy $o_file      =   'output.txt';\nmy $text_cont   =   \"\";\nour $ins_1  =   \"\";\nour $ins_2  =   \"\";\nour $ins_3  =   \"\";\nour $ins_4  =   \"\";\n\nopen (FILE, $i_file) or die \"Could not read from $i_file, program halting.\";\n    while(&lt;FILE&gt;) {\n        (my $map_date,my $nam,my $ins_name_1, my $ins_name_2, my $ins_name_3, my $ins_name_4) = split(s/ \\{1,\\}//,$_);\n\n        my $name1_refined   =   $ins_name_1 =~ s/\\{|\\}//;\n        my $name2_refined   =   $ins_name_2 =~ s/\\{|\\}//;\n        my $name3_refined   =   $ins_name_3 =~ s/\\{|\\}//;\n        my $name4_refined   =   $ins_name_4 =~ s/\\{|\\}//;\n\n        my @nam1_values =   split(';', $name1_refined);\n        my @nam2_values =   split(';', $name2_refined);\n        my @nam3_values =   split(';', $name3_refined);\n        my @aod_values  =   split(';', $name4_refined);\n\n        print \"$name1_refined\\n\";\n        print \"$name2_refined\\n\";\n        print \"$name3_refined\\n\";\n        print \"$name4_refined\\n\";\n    }\n\nclose FILE;\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436778449, "post_id": 31376872, "comment_id": 50736935, "body": "You are using two times new here <code>my $te = new HTML::TableExtract-&gt;new(headers =&gt; [&#39;E&lt;sub&gt;level&lt;&#47;sub&gt; &lt;br&gt; (keV)&#39;,&#39;XREF&#39;,&#39;J&amp;pi;&#39;,&#39;T&lt;sub&gt;1&#47;2&lt;&#47;sub&gt;&#39;] );</code> change it to <code>my $te = HTML::TableExtract-&gt;new(headers =&gt; [&#39;E&lt;sub&gt;level&lt;&#47;sub&gt; &lt;br&gt; (keV)&#39;,&#39;XREF&#39;,&#39;J&amp;pi;&#39;,&#39;T&lt;sub&gt;1&#47;2&lt;&#47;sub&gt;&#39;] );</code>"}, {"owner": {"reputation": 19, "user_id": 4933357, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153815119287656/picture?type=large", "display_name": "Dominic Rafferty", "link": "https://stackoverflow.com/users/4933357/dominic-rafferty"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436866721, "post_id": 31376872, "comment_id": 50780016, "body": "Thanks Arunesh. I&#39;ve sorted this out now- was also a problem that I wasn&#39;t feeding the whole input file into a single string (which I ended up doing using File::Slurp), so the HTML::TableExtract could never find anything."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436869105, "post_id": 31376872, "comment_id": 50781520, "body": "Self answers are welcome"}], "owner": {"reputation": 19, "user_id": 4933357, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153815119287656/picture?type=large", "display_name": "Dominic Rafferty", "link": "https://stackoverflow.com/users/4933357/dominic-rafferty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1436770334, "creation_date": 1436769702, "last_edit_date": 1436770334, "question_id": 31376872, "link": "https://stackoverflow.com/questions/31376872/perl-htmltableextract-cant-find-headers", "title": "Perl HTML::TableExtract- can&#39;t find headers", "body": "<p>I'm having a little trouble getting the HTML:TableExtract module in perl working. The problem (I think), is that the table headers contain html code to produce subscripts and special symbols, so I'm not sure how this should be searched for using the headers method. I've tried using the full headers (with tags), and also just the text, neither of which work. I'm trying to extract the tables from the following page (and similar ones for other isotopes): </p>\n\n<p><a href=\"http://www.nndc.bnl.gov/nudat2/getdataset.jsp?nucleus=208PB&amp;unc=nds\" rel=\"nofollow\">http://www.nndc.bnl.gov/nudat2/getdataset.jsp?nucleus=208PB&amp;unc=nds</a></p>\n\n<p>Since I've had no luck with the headers method, I've also tried just specifying the depth and count in the object constructor (presumably both = 0 since there is only one top level table on the page), but it still doesn't find anything. Any assistance would be greatly appreciated!</p>\n\n<p>Here is my attempt using the headers method:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\n\n\nuse strict;\nuse warnings;\nuse HTML::TableExtract;\n\n\n\nmy $numArgs = $#ARGV + 1;\nif ($numArgs != 1) {\n    print \"Usage: perl convertlevels.pl  &lt;HTML levels file&gt;\\n\";\n    exit;\n}\n\nmy $htmlfile = $ARGV[0];\nopen(INFILE,$htmlfile) or die();\n\nmy $OutFileName;\n\nif($htmlfile =~ /getdataset.jsp\\?nucleus\\=(\\d+\\w+)/){\n\n    $htmlfile =~ /getdataset.jsp\\?nucleus\\=(\\d+\\w+)/;\n\n    $OutFileName = \"/home/dominic/run19062013/src/levels/\".$1.\".lev\";\n\n}\n\nmy $htmllines = &lt;INFILE&gt;;\n\nopen(OUTFILE,\"&gt;\",$OutFileName) or die();\n\n\nmy $te = new HTML::TableExtract-&gt;new(headers =&gt; ['E&lt;sub&gt;level&lt;/sub&gt; &lt;br&gt; (keV)','XREF','J&amp;pi;','T&lt;sub&gt;1/2&lt;/sub&gt;'] );\n\n$te-&gt;parse_file($htmllines);\n\nif ($te-&gt;tables)\n{\n      print \"I found a table!\";\n}else{\n\n    print \"No tables found :'(\";\n\n}\n\n\nclose INFILE;\n\nclose OUTFILE;\n</code></pre>\n\n<p>Please ignore for now what is going on with the OUTFILE- the intention is to reformat the table contents and print into a separate file that can be easily read by another application. The trouble I am having is that the table extract method cannot find any tables, so when I test to see if anything found, the result is always false! I've also tried some of the other options in the constructor of the table extract object, but same story for every attempt! First time user so please excuse my n00bishness.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 6, "creation_date": 1436768355, "post_id": 31376390, "comment_id": 50731703, "body": "The first is a prototype that says the function takes no arguments; the second is not a prototype and doesn&#39;t say anything about arguments.  Use the second form.  See <a href=\"http://www.perlmonks.org/?node_id=861966\" rel=\"nofollow noreferrer\">Far more than you ever wanted to know about prototypes in Perl</a>."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1436769070, "post_id": 31376390, "comment_id": 50732005, "body": "In <code>5.20</code> <i>experimental</i> function signatures also use parens, <a href=\"http://www.effectiveperlprogramming.com/2015/04/use-v5-20-subroutine-signatures/\" rel=\"nofollow noreferrer\">effectiveperlprogramming.com/2015/04/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3218, "user_id": 1285655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b3ff3f7a09887e25b9d55a46f998fff?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1285655/matthias"}, "edited": false, "score": 0, "creation_date": 1436777450, "post_id": 31378014, "comment_id": 50736313, "body": "&quot;hints about the number and types of the arguments&quot; is a valuable information if you read someones script. Is it not worth to put these hints inside the code? Can you tell why is that most people avoid it?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3218, "user_id": 1285655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b3ff3f7a09887e25b9d55a46f998fff?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1285655/matthias"}, "edited": false, "score": 4, "creation_date": 1436777531, "post_id": 31378014, "comment_id": 50736367, "body": "Tom Christiansen <a href=\"http://www.perlmonks.org/?node_id=861966\" rel=\"nofollow noreferrer\">wrote it</a> far better than I could."}, {"owner": {"reputation": 10419, "user_id": 1151724, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q6fMI.jpg?s=128&g=1", "display_name": "CodeClown42", "link": "https://stackoverflow.com/users/1151724/codeclown42"}, "reply_to_user": {"reputation": 3218, "user_id": 1285655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b3ff3f7a09887e25b9d55a46f998fff?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1285655/matthias"}, "edited": false, "score": 1, "creation_date": 1436815961, "post_id": 31378014, "comment_id": 50760279, "body": "@Matthias If T.C.&#39;s P.M. post is TL;DR, you could consider the ambiguities involved with perl&#39;s array and hash types; <code>foo($a, $b)</code> might as well be <code>foo(@args)</code>, etc.   The world splits into two camps after that, people who are going to run away in horror and stay as far from the language as they can, and people who see it as a stroke of genius or luck.   Keep in mind it is also a language with a well established documentation style (POD), and this might be considered <i>an appropriate separation of responsibilities</i> for a <b>dynamically typed</b> language."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 10, "last_activity_date": 1436796732, "last_edit_date": 1436796732, "creation_date": 1436773909, "answer_id": 31378014, "question_id": 31376390, "link": "https://stackoverflow.com/questions/31376390/whats-the-difference-between-a-perl-sub-declaration-with-and-without-parenthese/31378014#31378014", "title": "What&#39;s the difference between a Perl sub declaration with and without parentheses?", "body": "<p>By putting the <code>()</code> on the end of the subroutine name, you are giving it a prototype. A prototype gives Perl hints about the number and types of the arguments that you will be passing to the subroutine. See <a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow\">this section in perlsub</a> for details.</p>\n\n<p>Specifically, <code>()</code> is the empty prototype which tells Perl that this subroutine takes no arguments and Perl will throw a compilation error if you then call this subroutine with arguments. Here's an example:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nsub foo {\n  say 'In foo';\n}\n\nsub bar() {\n  say 'In bar';\n}\n\nfoo();\nbar();\nfoo(1);\nbar(1);\n</code></pre>\n\n<p>The output from this is:</p>\n\n<pre><code>Too many arguments for main::bar at ./foobar line 18, near \"1)\"\nExecution of ./foobar aborted due to compilation errors.\n</code></pre>\n\n<p>It's that last call to <code>bar()</code> (the one with the argument of 1) which causes this error.</p>\n\n<p>It's worth noting that Perl's implementation of prototypes is generally not as useful as people often think that they are and that outside of a few specialised cases, most Perl experts will avoid them. I recommend that you do the same.  As of Perl v5.22, the experimental \"signatures\" feature is in testing that will hopefully accomplish many of the goals programmers from other languages would have expected from prototypes.</p>\n"}], "owner": {"reputation": 913, "user_id": 1517569, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yaVd5.jpg?s=128&g=1", "display_name": "Nati", "link": "https://stackoverflow.com/users/1517569/nati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 1, "accepted_answer_id": 31378014, "answer_count": 1, "score": 7, "last_activity_date": 1436796732, "creation_date": 1436767610, "last_edit_date": 1436768656, "question_id": 31376390, "link": "https://stackoverflow.com/questions/31376390/whats-the-difference-between-a-perl-sub-declaration-with-and-without-parenthese", "title": "What&#39;s the difference between a Perl sub declaration with and without parentheses?", "body": "<p>What is exactly the difference (if there is any) between:</p>\n\n<pre><code>sub foobar() {\n    # doing some stuff\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>sub foobar {\n    # doing some stuff\n}\n</code></pre>\n\n<p>I see some of each, and the first syntax sometimes fail to compile.</p>\n"}, {"tags": ["regex", "perl", "search", "replace"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1436769202, "post_id": 31375641, "comment_id": 50732071, "body": "It is <code>local</code> not <code>Local</code> (if Local is not a subroutine)."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5109553, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WSieDn8_pLA/AAAAAAAAAAI/AAAAAAAAAD4/u_dk3FRJN5o/photo.jpg?sz=128", "display_name": "Brainjay", "link": "https://stackoverflow.com/users/5109553/brainjay"}, "edited": false, "score": 0, "creation_date": 1436764161, "post_id": 31375667, "comment_id": 50730232, "body": "i know. But if i want to except an answer the systems said you have to wait x minutes to accept :)"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 4, "last_activity_date": 1436763628, "creation_date": 1436763628, "answer_id": 31375667, "question_id": 31375641, "link": "https://stackoverflow.com/questions/31375641/perl-string-contains-bracket/31375667#31375667", "title": "Perl string contains bracket", "body": "<p>You may use <code>\\Q</code> <code>\\E</code> block (quotemeta) which treats all the chars present inside the block as literal chars.</p>\n\n<pre><code>/\\Q$string\\E/\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">Reference</a></p>\n"}], "owner": {"reputation": 23, "user_id": 5109553, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WSieDn8_pLA/AAAAAAAAAAI/AAAAAAAAAD4/u_dk3FRJN5o/photo.jpg?sz=128", "display_name": "Brainjay", "link": "https://stackoverflow.com/users/5109553/brainjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 2, "accepted_answer_id": 31375667, "answer_count": 1, "score": 2, "last_activity_date": 1498741080, "creation_date": 1436763479, "last_edit_date": 1436768672, "question_id": 31375641, "link": "https://stackoverflow.com/questions/31375641/perl-string-contains-bracket", "title": "Perl string contains bracket", "body": "<p>I have a question. I have a variable that contains brackets for example:</p>\n\n<pre><code>Local $string = \"abc[0].xzy\"\n</code></pre>\n\n<p>Now I want to search for all strings in a file that matches that string <code>$string</code>. The problem is that the string contains a bracket and I can't change the to <code>abc\\[0\\]\\.xzy</code>. Is there a solution to solve my problem?</p>\n"}, {"tags": ["regex", "perl", "dynamic-programming"], "answers": [{"tags": [], "owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "is_accepted": false, "score": 1, "last_activity_date": 1436756192, "last_edit_date": 1436756192, "creation_date": 1436755764, "answer_id": 31374772, "question_id": 31374666, "link": "https://stackoverflow.com/questions/31374666/how-can-i-elegantly-handle-state-when-parsing-line-oriented-files-using-regex/31374772#31374772", "title": "How can I elegantly handle state when parsing line oriented files using regex?", "body": "<p>Since your parsing has lots of state in it depending on what your program has already seen I would switch from regex to <a href=\"http://search.cpan.org/dist/Parse-RecDescent/lib/Parse/RecDescent.pm\" rel=\"nofollow\">Parse-RecDescent</a>, which can easily handle all that state nicely.</p>\n\n<p>It's a steep learning curve at first though. There's a tutorial on it <a href=\"http://cpansearch.perl.org/src/JTBRAUN/Parse-RecDescent-1.967009/tutorial/tutorial.html\" rel=\"nofollow\">here</a>, and an older, simpler tutorial <a href=\"http://www.perl.com/pub/2001/06/13/recdecent.html\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441241249, "creation_date": 1436754633, "last_edit_date": 1441241249, "question_id": 31374666, "link": "https://stackoverflow.com/questions/31374666/how-can-i-elegantly-handle-state-when-parsing-line-oriented-files-using-regex", "title": "How can I elegantly handle state when parsing line oriented files using regex?", "body": "<p>I have a perl script that I use to extract data from a raw data/log file. I need help on making the script dynamic. First, let me show you the part of the perl script and raw data file.</p>\n\n<p>Perl script:</p>\n\n<pre><code>    if ( /Catalyst tester (\\S+)\\S+/ )\n    {\n        $DETAILS{tester_name} = $1;\n    }\n    if ( /(CATALYST_TH\\s*1)/ )\n    {\n        $FOUND_CAT = 1;\n        $DETAILS{test_head} = $1;\n        $TEST_HEAD = $1;\n    }\n\n    if ($FOUND_CAT)\n    {\n        if ( /(BACKPLANE\\s*A)/ )\n        {\n            $FRAME = $TEST_HEAD .' '. $1;\n            $FOUND_BACKPLANE_A = 1;\n        }\n\n        if ( /(BACKPLANE\\s*B)/ )\n        {\n            $FRAME = $TEST_HEAD . ' ' . $1;\n            $FOUND_BACKPLANE_B = 1;\n        }\n    }\n\n    if ( /END/ )\n    {\n        $FOUND_CAT = 0;\n        $FOUND_BACKPLANE_A = 0;\n        $FOUND_BACKPLANE_B = 0;\n        $FOUND_PRECISION_1 = 0;\n        $FOUND_PRECISION_2 = 0;\n        $FOUND_UB_SPS = 0;\n        $FOUND_HSD100_1 = 0;\n        $FOUND_HSD100_2 = 0;\n        $FOUND_HSD100_3 = 0;\n        $FOUND_TSY = 0;\n        $FOUND_TIME_SUB = 0;\n    }\n\n    if ($FOUND_BACKPLANE_A)\n    {\n        if ( /(\\d+)\\s+(\\S+)\\s+(\\w+)\\s+\\w+\\s+\\d*\\s+\\#\\s+\\S+\\s+(?:\\d+\\s+){2}((?!.*EMPTY\\b).+)$/ )\n        {\n            push @{$DETAILS{frame}}, $FRAME;\n            push @{$DETAILS{slot}}, $1;\n            push @{$DETAILS{part_no}},  $2;\n            push @{$DETAILS{serial_no}},  $3;\n            push @{$DETAILS{board_name}},  $4;\n\n        }\n    }\n\n    if ($FOUND_BACKPLANE_B)\n    {\n        if ( /(\\d+)\\s+(\\S+)\\s+(\\w+)\\s+\\w+\\s+\\d*\\s+\\#\\s+\\S+\\s+((?!.*EMPTY\\b).+)$/ )\n        {\n            push @{$DETAILS{frame}}, $FRAME;\n            push @{$DETAILS{slot}}, $1;\n            push @{$DETAILS{part_no}},  $2;\n            push @{$DETAILS{serial_no}},  $3;\n            push @{$DETAILS{board_name}},  $4;\n        }\n    }\n\n    if( /(PRECISION\\_AC\\s*1)/ )\n    {\n        $FOUND_PRECISION_1 = 1;\n        $FRAME = $1;\n    }\n\n    if ($FOUND_PRECISION_1)\n    {\n        if ( /(\\d+)\\s+(\\S+)\\s+(\\w+)\\s+\\w+\\s+\\d*\\s+\\#\\s+\\S+\\s+((?!.*EMPTY\\b).+)/ )\n        {\n            push @{$DETAILS{frame}}, $FRAME;\n            push @{$DETAILS{slot}}, $1;\n            push @{$DETAILS{part_no}},  $2;\n            push @{$DETAILS{serial_no}},  $3;\n            push @{$DETAILS{board_name}},  $4;\n        }\n    }\n    ## And the rest of the script follows the same format\n</code></pre>\n\n<p>In my perl script, my logic is if the line/word/header(as I prefer to call it) is found, assign a variable with a true or <code>1</code>. Then in another <code>if</code> statement if the variable is <code>1</code>, search for the data needed using regex and store it in a hash.</p>\n\n<p>Now my main problem is that it is not dynamic. If you noticed I did an <code>if</code> statement for every header and the variable that is used to store a <code>1</code> is different for every header; if it's <code>Catalyst tester</code> then the variable would be <code>$FOUND_CAT = 1;</code>.</p>\n\n<p>Somethings to take note of: for the header specifically <code>CATALYST_TH 1</code>, there will always be  <code>BACKPLANE A</code> or it could be <code>BACKPLANE B</code>. If there is a <code>BACKPLANE B</code> I would have to write another if statement and push everything into the hash again. It's tedious because other log files may have even up to C or D which I do not know of yet, therefore making my script hard to maintain.</p>\n\n<p>Other headers only need one line like <code>PRECISION_AC 1</code>. Only <code>CATALYST_TH 1</code> will always have a backplane. This is just to take note in case it affects any answers.</p>\n\n<p>So any help on this? Is there anyway to reduce the number of variables? Or even the number or if statements? I've tried but that way it wouldn't push other data into the hash if it's not true. Suggestions would greatly be appreciated.</p>\n\n<p>P.S. Ignore the comments with one '#' symbol, those are part of the log file. The ones with two '#' symbols, like '##' are the comments I have added in.</p>\n"}, {"tags": ["perl", "sockets", "penetration-testing"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1436735225, "post_id": 31372409, "comment_id": 50724243, "body": "socket() is your friend? <a href=\"http://perldoc.perl.org/perlipc.html#Sockets%3a-Client%2fServer-Communication\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a> To which non core module are you referring to?"}, {"owner": {"reputation": 23, "user_id": 5108807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fea7d1c52b9aba4a57e9dd0cbd2ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Nooop", "link": "https://stackoverflow.com/users/5108807/nooop"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1436735374, "post_id": 31372409, "comment_id": 50724278, "body": "I think the link you just gave me is exactly what I need. Strangely it was never brought up on my Google searches.. In any case thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5108807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fea7d1c52b9aba4a57e9dd0cbd2ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Nooop", "link": "https://stackoverflow.com/users/5108807/nooop"}, "edited": false, "score": 0, "creation_date": 1436738286, "post_id": 31372906, "comment_id": 50725021, "body": "Thanks mikyra. I Went over the oop chapter of beginning Perl at www.perl.org, I do understand the basic of it I think. For some reason oop doesn&#39;t seem structured to me,  I don&#39;t know how it is with other languages as Perl and bash are the only ones I know so far. I love Perl and wanted to write programs that would be useful to me,  since am also slowly trying to dive into the pentesting world I thought I could join both. Now if really writing a LWP like module in functional programming is less efficient than oop,  maybe I should try and learn more about it."}], "tags": [], "owner": {"reputation": 8941, "user_id": 2056411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef47c077ba3e8c2cd2191768165f0e8e?s=128&d=identicon&r=PG", "display_name": "mikyra", "link": "https://stackoverflow.com/users/2056411/mikyra"}, "is_accepted": false, "score": 2, "last_activity_date": 1436816856, "last_edit_date": 1436816856, "creation_date": 1436737429, "answer_id": 31372906, "question_id": 31372409, "link": "https://stackoverflow.com/questions/31372409/penetration-testing-with-perl-non-object-oriented/31372906#31372906", "title": "Penetration testing with Perl non-object-oriented", "body": "<p><code>socket</code>, <code>bind</code>, <code>listen</code> and <code>accept</code> would be the most basic functions you are looking for to implement server-side functionality; <code>socket</code> and <code>connect</code> are the client-side ones.</p>\n\n<p>The section <strong><em>Sockets: Client/Server Communication</em></strong> in <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow\"><code>perldoc perlipc</code></a> should give further advice. The functions mentioned there directly map to the corresponding system calls. More low-level (and more painful) than that you couldn't hope to find.</p>\n\n<p>Being a passionate hater of overwhelmingly complex and bloate OOP approaches myself, I'd like to give you the advice to take a look at the way OOP is done in Perl. Maybe you'll fall as deep in love with it as I once did.</p>\n\n<p>Being nothing more than <code>bless</code>ed hashes themselves. Being unwilling to use any Perl objects is more or less equivalent to being unwilling to use any hashes at all.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5108807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fea7d1c52b9aba4a57e9dd0cbd2ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Nooop", "link": "https://stackoverflow.com/users/5108807/nooop"}, "edited": false, "score": 0, "creation_date": 1436806623, "post_id": 31374553, "comment_id": 50754953, "body": "Thanks Borodin. I belive perl&#39;s opp is hiding too much of the underlyings from me. By that I mean even tho i can fetch Web pages, make user agents etc very easily, i still don&#39;t know how they works. Honestly if I had time I would gladly learn C. I&#39;m a welder working 6/7 making 12h shifts.. I wanna &quot;rewrite LWP&quot; so I can learn how things works, not necessarily cause I don&#39;t like LWP. True,  oop doesn&#39;t appeal me but again,  it&#39;s more for the learning process. I hope i explained myself clearly. (am a French guy lol) thanks again for all your replies!!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 23, "user_id": 5108807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fea7d1c52b9aba4a57e9dd0cbd2ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Nooop", "link": "https://stackoverflow.com/users/5108807/nooop"}, "edited": false, "score": 0, "creation_date": 1436821034, "post_id": 31374553, "comment_id": 50763024, "body": "Your English is very clear, thank you. <code>LWP</code> in turn relies on <a href=\"https://metacpan.org/pod/IO::Socket::INET\" rel=\"nofollow noreferrer\"><code>IO::Socket::INET</code></a> for an OOP interface to internet-domain sockets, and you should look there for help with how to implement a functional module. But you have a huge task ahead of you, as the implementation pretty much relies on <i>black boxes</i> that provide higher-level &quot;primitives&quot; based on the API for the level below"}, {"owner": {"reputation": 23, "user_id": 5108807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fea7d1c52b9aba4a57e9dd0cbd2ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Nooop", "link": "https://stackoverflow.com/users/5108807/nooop"}, "edited": false, "score": 0, "creation_date": 1436828881, "post_id": 31374553, "comment_id": 50766077, "body": "If it was only alot of work it wouldn&#39;t be too bad, maybe I should have add that about 7 months ago I didn&#39;t even know what linux was exactly... It&#39;s more like an infinite mountain am trying to climb ;) In any ways, thanks alot for your help. I&#39;ll try to post some code once and IF I finaly get something decent."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1436753538, "creation_date": 1436753538, "answer_id": 31374553, "question_id": 31372409, "link": "https://stackoverflow.com/questions/31372409/penetration-testing-with-perl-non-object-oriented/31374553#31374553", "title": "Penetration testing with Perl non-object-oriented", "body": "<p>I strongly encourage you to learn the way Perl handles object-oriented programming. I believe that it is by far the best introduction to OOP as it hides nothing, and all the mechanisms are exposed. A class is a package, a method is a subroutine, and your constructor is just another method</p>\n\n<p>You will probably not need to create Perl classes yourself if you are writing small utility programs, but as soon as you want to use other people's libraries you will probably find yourself needing to know how to use OO Perl</p>\n\n<p><code>LWP</code> is perhaps one of the more complex libraries, as it has a number of different classes, but remember that <a href=\"https://metacpan.org/pod/LWP\" rel=\"nofollow\">the documentation</a> has to describe the functionality in its entirety and, at least initially, you won't be using much of what is available</p>\n\n<p>To fetch a simple web page, all you need to do is create a <code>LWP::UserAgent</code> object and use it to <code>get</code> the URL you're interested in</p>\n\n<pre><code>use LWP;\n\nmy $ua = LWP::UserAgent-&gt;new;\nmy $res = $ua-&gt;get('http://www.example.com/');\n</code></pre>\n\n<p>You now have an <code>HTTP::Response</code> object, <code>$res</code>, and you can read the <a href=\"https://metacpan.org/pod/HTTP::Response\" rel=\"nofollow\">documentation for that class</a> to see what methods it supports, such as checking the status and retrieving the HTTP headers and the body of the message</p>\n\n<p>That is pretty much all there is to simple LWP programming, but there are many options available to allow for more complex situations if you need them</p>\n\n<p>Finally, it's worth pointing out that there is <em>already</em> a functional HTTP module called <a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow\"><code>LWP::Simple</code></a>. If you want the very basic functionality then you can write just</p>\n\n<pre><code>use LWP::Simple;\n\nmy $body = get('http://www.example.com/');\n</code></pre>\n\n<p>and you have retrieved a web page. Of course this doesn't allow you to examine the status of the HTTP transaction and the headers in the response message, so if you need that capability or more then you need to use the standard LWP interface</p>\n"}], "owner": {"reputation": 23, "user_id": 5108807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fea7d1c52b9aba4a57e9dd0cbd2ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Nooop", "link": "https://stackoverflow.com/users/5108807/nooop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1436816856, "creation_date": 1436734007, "last_edit_date": 1436752115, "question_id": 31372409, "link": "https://stackoverflow.com/questions/31372409/penetration-testing-with-perl-non-object-oriented", "title": "Penetration testing with Perl non-object-oriented", "body": "<p>This is one of the very first times I have written on a forum. Usually just reading is enough to find what I am looking for. </p>\n\n<p>I have a decent foundation with Perl and I would like to do penetration testing with it. My problem is that every tutorial or book I find works with LWP,  which is object-oriented, and I frankly hate object-oriented programming (it doesn't make sense to me as much as functional programming). If there is any CPAN module to do \"Web programming\"  that may work without OOP,  Google is very shy to tell me.</p>\n\n<p>Even though it must be lots of work,  I would like to write a LWP-like module but with functional style of programming instead of OOP.</p>\n\n<p>My main question is where do I start? I found very little on socket programming with Perl that doesn't use LWP or some non-core Perl module. The less I would use CPAN the more I'd be happy. </p>\n\n<p>I understand it's a little like reinventing the wheel but I want to do it mostly for fun and sometimes it's the best way to learn. </p>\n"}, {"tags": ["perl", "unicode", "utf-8"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436729587, "post_id": 31371612, "comment_id": 50722646, "body": "Interesting, do you have a reference to this bug? Will it be fixed?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436730224, "post_id": 31371612, "comment_id": 50722853, "body": "I doubt there&#39;s a ticket. Fixing it will probably break more code than it will fix."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436730872, "post_id": 31371612, "comment_id": 50723049, "body": "I have some difficulty understanding how this bug works.., but as I understand now, the conclusion is that I should always encode filenames using for example <code>Encode::encode</code> (as I did with <code>$utf8_filename1</code>) before creating the file?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1436733533, "post_id": 31371612, "comment_id": 50723792, "body": "Yes, you should encode. What actually happens is that the string buffer is used without checking the UTF8 flag"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460585258, "post_id": 31371612, "comment_id": 60817556, "body": "More information about &quot;The Unicode Bug&quot; can be found in <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlunicode.pod#The-Unicode-Bug\" rel=\"nofollow noreferrer\">perlunicode</a>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1436798793, "last_edit_date": 1436798793, "creation_date": 1436728806, "answer_id": 31371612, "question_id": 31371257, "link": "https://stackoverflow.com/questions/31371257/creating-filenames-with-unicode-characters/31371612#31371612", "title": "Creating filenames with unicode characters", "body": "<p>Because of a bug called \"The Unicode Bug\". The equivalent of the following is happening:</p>\n\n<pre><code>use Encode qw( encode_utf8 is_utf8 );\n\nmy $bytes = is_utf8($str) ? encode_utf8($str) : $str;\n</code></pre>\n\n<p><code>is_utf8</code> checks which of two string storage format is used by the scalar. This is an internal implementation detail you should never have to worry about, except for The Unicode Bug.</p>\n\n<p>Your program works because <code>encode</code> always returns a string for which <code>is_utf8</code> returns false, and <code>use utf8;</code> always returns a string for which <code>is_utf8</code> returns true if the string contains non-ASCII characters.</p>\n\n<p>If you don't <code>encode</code> as you should, you will sometimes get the wrong result. For example, if you had used <code>\"\\x{E6}2\"</code> instead of <code>'\u00e62'</code>, you would have gotten a different file name even though the strings have the same length and the same characters.</p>\n\n<pre><code>$ dir\ntotal 0\n\n$ perl -wE'\n   use utf8;\n   $fu=\"\u00e6\";\n   $fd=\"\\x{E6}\";\n   say sprintf \"%vX\", $_ for $fu, $fd;\n   say $fu eq $fd ? \"eq\" : \"ne\";\n   system(\"touch\", $_) for \"u\".$fu, \"d\".$fd\n'\nE6\nE6\neq\n\n$ dir\ntotal 0\n-rw------- 1 ikegami ikegami 0 Jul 12 12:18 u\u00e6\n-rw------- 1 ikegami ikegami 0 Jul 12 12:18 d?\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 31371612, "answer_count": 1, "score": 5, "last_activity_date": 1436798793, "creation_date": 1436726527, "question_id": 31371257, "link": "https://stackoverflow.com/questions/31371257/creating-filenames-with-unicode-characters", "title": "Creating filenames with unicode characters", "body": "<p>I am looking for some guidelines for how to create filenames with Unicode characters. Consider:</p>\n\n<pre><code>use open qw( :std :utf8 );\nuse strict;\nuse utf8;\nuse warnings;\n\nuse Data::Dump;\nuse Encode qw(encode);\n\nmy $utf8_file_name1 = encode('UTF-8', '\u00e61', Encode::FB_CROAK | Encode::LEAVE_SRC);\nmy $utf8_file_name2 = '\u00e62';\ndd $utf8_file_name1;\ndd $utf8_file_name2;\nqx{touch $utf8_file_name1};\nqx{touch $utf8_file_name2};\nprint (qx{ls \u00e6*});\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>\"\\xC3\\xA61\"\n\"\\xE62\"\n\u00e61\n\u00e62\n</code></pre>\n\n<p>Why doesn't it matter if I encode the filename in UTF8 or not? (The filename still becomes valid UTF8 either way.)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4705, "user_id": 658663, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c9bdae669cc7fb5c01a3277344f589f?s=128&d=identicon&r=PG", "display_name": "beresfordt", "link": "https://stackoverflow.com/users/658663/beresfordt"}, "edited": false, "score": 1, "creation_date": 1436727711, "post_id": 31371230, "comment_id": 50722043, "body": "without seeing the relevant code, a sample input, the expected output and the actual output it&#39;s not particularly possible to give any sort of answer. Could you have a read of <a href=\"http://stackoverflow.com/help/mcve\">this</a>  and update your question with a <b>minimal</b> example which exhibits the unexpected behaviour"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436749911, "post_id": 31371230, "comment_id": 50727409, "body": "As it stands, the script has the shebang line <code>#!&#47;local&#47;all&#47;perl</code>. Have you fixed that, or are you running on Windows?"}, {"owner": {"reputation": 366, "user_id": 3122072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LQ9Au.jpg?s=128&g=1", "display_name": "menakas", "link": "https://stackoverflow.com/users/3122072/menakas"}, "edited": false, "score": 0, "creation_date": 1436854966, "post_id": 31371230, "comment_id": 50773164, "body": "I too tried using the UoI code. It seems to work fine on linux. Are you using it on Windows? Is there any compatability issues?"}, {"owner": {"reputation": 33, "user_id": 3650185, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/25737d3804f7a8db723f942593ef0115?s=128&d=identicon&r=PG&f=1", "display_name": "user3650185", "link": "https://stackoverflow.com/users/3650185/user3650185"}, "edited": false, "score": 0, "creation_date": 1436899146, "post_id": 31371230, "comment_id": 50802354, "body": "Yes, I am on Windows. Do I need to change the shebang line?"}], "answers": [{"tags": [], "owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1436743618, "creation_date": 1436743618, "answer_id": 31373570, "question_id": 31371230, "link": "https://stackoverflow.com/questions/31371230/sentence-segmentation-tokenization-with-perl/31373570#31373570", "title": "Sentence segmentation/tokenization with Perl", "body": "<p>There is a perl module to do this from the widely used CPAN library <a href=\"http://search.cpan.org/~kimryan/Lingua-EN-Sentence-0.29/lib/Lingua/EN/Sentence.pm\" rel=\"nofollow\">http://search.cpan.org/~kimryan/Lingua-EN-Sentence-0.29/lib/Lingua/EN/Sentence.pm</a> . You can install it with then 'cpan' command line utility that comes with Perl.</p>\n\n<p>You would need to add a small amount of code to create the output of split sentences, but the synopsis shows you most of what you need.</p>\n"}], "owner": {"reputation": 33, "user_id": 3650185, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/25737d3804f7a8db723f942593ef0115?s=128&d=identicon&r=PG&f=1", "display_name": "user3650185", "link": "https://stackoverflow.com/users/3650185/user3650185"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436749626, "creation_date": 1436726329, "last_edit_date": 1436749626, "question_id": 31371230, "link": "https://stackoverflow.com/questions/31371230/sentence-segmentation-tokenization-with-perl", "title": "Sentence segmentation/tokenization with Perl", "body": "<p>I am trying to tokenize/segment sentences from a large text. <a href=\"http://cogcomp.cs.illinois.edu/page/tools_view/2\" rel=\"nofollow\">The University of Illinois</a> offers a nice Perl script that splits texts into sentences, but I don't know about its accuracy and I think I should give it a try.</p>\n\n<p>I have downloaded the script and the command-line usage appears to work, but it is not producing the expected results. The input and output files remain the same, although its documentation says that the program checks sentence boundaries and the program output is a text file where each text line corresponds to one sentence.</p>\n\n<p>I am a PHP developer and not well versed with Perl scripts, so can anybody with Perl programming knowledge figure out where the problem lies?</p>\n\n<p>This is the command line I am using (I have renamed the script to <code>boundary.pl</code>)</p>\n\n<pre><code>perl.exe boundary.pl -d HONORIFICS -i input.txt -o output.txt\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash", "perl-data-structures"], "answers": [{"tags": [], "owner": {"reputation": 24, "user_id": 4828542, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qgKxCIc5cHk/AAAAAAAAAAI/AAAAAAAACAY/8Wf2x6cNbYU/photo.jpg?sz=128", "display_name": "Gaurav Kumar", "link": "https://stackoverflow.com/users/4828542/gaurav-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1436726712, "creation_date": 1436726712, "answer_id": 31371297, "question_id": 31371086, "link": "https://stackoverflow.com/questions/31371086/perl-format-a-hash-reference-e-g-output-of-dumper-into-a-string/31371297#31371297", "title": "Perl: Format a hash reference (e.g. output of Dumper) into a String", "body": "<p>You just need to sort the keys as follows:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>for my $k (sort keys %$hash_ref) {\n</code></pre>\n\n<p>You are getting different outputs at every run as the hash keys are accessed in random order.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1436727313, "last_edit_date": 1436727313, "creation_date": 1436726907, "answer_id": 31371325, "question_id": 31371086, "link": "https://stackoverflow.com/questions/31371086/perl-format-a-hash-reference-e-g-output-of-dumper-into-a-string/31371325#31371325", "title": "Perl: Format a hash reference (e.g. output of Dumper) into a String", "body": "<p>Out-of-the-box <code>$Data::Dumper::Indent</code> and <code>$Data::Dumper::Sortkeys</code> values will get you most of the way there.</p>\n\n<pre><code>use Data::Dumper;\nmy $hash_ref = { ... };\n\n$Data::Dumper::Indent = 0;\n$Data::Dumper::Sortkeys = sub {\n    my ($hash) = @_;\n    my %refval = ('' =&gt; -3, 'HASH' =&gt; -2, 'ARRAY' =&gt; -1);\n    return [ sort {\n         # prefer ref(val) \"\" to \"HASH\" to \"ARRAY\" to anything else\n                  $refval{ref $hash-&gt;{$a}} &lt;=&gt; $refval{ref $hash-&gt;{$b}}\n         # and then sort lexicographically\n                  || $a cmp $b \n             } keys %$hash ];\n};\nmy $rec_hash = Dumper($hash_ref);\n$rec_hash =~ s/'(\\w+)' =&gt; /$1=&gt;/g;\n$rec_hash =~ s/^\\$VAR1 = //;\nprint $rec_hash;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{id=&gt;'123456',indicator=&gt;'FALSE',privacy=&gt;'FALSE',profile=&gt;'Default',\n private=&gt;{allowedAuth=&gt;'Digest',locked=&gt;'FALSE'},public=&gt;\n [{allowed=&gt;'FALSE',isDefault=&gt;'TRUE',maxSessions=&gt;'3',configured=&gt;\n {profileId=&gt;'hello world'}},allowed=&gt;'FALSE',implicit=&gt;'1',\n isDefault=&gt;'FALSE',maxSessions=&gt;'3',privateId=&gt;'foo@bar.com'}]};\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 2035207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=128&d=identicon&r=PG", "display_name": "h q", "link": "https://stackoverflow.com/users/2035207/h-q"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "accepted_answer_id": 31371325, "answer_count": 2, "score": 0, "last_activity_date": 1436727313, "creation_date": 1436725431, "question_id": 31371086, "link": "https://stackoverflow.com/questions/31371086/perl-format-a-hash-reference-e-g-output-of-dumper-into-a-string", "title": "Perl: Format a hash reference (e.g. output of Dumper) into a String", "body": "<p>I have a hash reference that contains nested key/value pairs, hash references and/or array references.</p>\n\n<p>I'd like to emulate the result of Data::Dumper into a string, but with:</p>\n\n<ol>\n<li>Remove 'quotes' from keys.</li>\n<li>Remove white spaces from structures (but not values)</li>\n<li>Bonus: sort keys alphabetically.</li>\n<li>Bonus Bonus: print key/value pairs first, followed by hash references, followed by array references.</li>\n</ol>\n\n<p>For example:\n</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $hash_ref = {\n    'private' =&gt; {\n        'locked' =&gt; 'FALSE',\n        'allowedAuth' =&gt; 'Digest'\n    },\n    'profile' =&gt; 'Default',\n    'id' =&gt; '123456',\n    'privacy' =&gt; 'FALSE',\n    'public' =&gt; [\n    {\n        'allowed' =&gt; 'FALSE',\n        'configured' =&gt; {\n            'profileId' =&gt; 'hello world'\n        },\n        'isDefault' =&gt; 'TRUE',\n        'maxSessions' =&gt; '3'\n    },\n    {\n        'isDefault' =&gt; 'FALSE',\n        'privateId' =&gt; 'foo@bar.com',\n        'maxSessions' =&gt; '3',\n        'allowed' =&gt; 'FALSE',\n        'implicit' =&gt; '1',\n    }\n    ],\n    'indicator' =&gt; 'FALSE'\n};\n\nprint STDERR Dumper ($hash_ref);\n</code></pre>\n\n<p>Ideally, I'd like the output to be:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $str = \"id=&gt;'123456',indicator=&gt;'FALSE',profile=&gt;'Default',privacy=&gt;'FALSE',private=&gt;{allowedAuth=&gt;'Digest',locked=&gt;'FALSE'},public=&gt;[{allowed=&gt;'FALSE',configured=&gt;{profileId=&gt;'hello world'},isDefault=&gt;'TRUE',maxSessions=&gt;'3'},{allowed=&gt;'FALSE',implicit=&gt;'1',isDefault=&gt;'FALSE',maxSessions=&gt;'3',privateId=&gt;'foo@bar.com'}]\";\n</code></pre>\n\n<p>I've attempted a recursive function; however, I'm not sure how to get rid of the commas at the end (especially of hash references - for array ref I can use an index and check if it's the last one). Also, sorting keys seems too difficult.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub recHash\n{\n    my ($hash_ref) = @_;\n    my $response = \"\";\n    for my $k (keys %$hash_ref) {\n    my $v = $hash_ref-&gt;{$k};\n    if (ref($v) eq \"HASH\") {\n        $response .= \"$k=&gt;{\" . recHash($v) . \"}\"; # recurse through the hash references.\n    }\n    elsif (ref($v) eq \"ARRAY\") {\n        $response .= \"$k=&gt;[\";\n        # recurse through the array references.\n        foreach my $item (@$v) {\n        $response .= \"{\".recHash($item).\"},\";\n        }\n        $response .= \"],\";\n        return $response;\n    }\n    else {\n        $response .= \"$k=&gt;'$v',\";\n    }\n    }\n    return $response;\n}\n\nprint recHash($hash_ref);\n</code></pre>\n\n<p>My output is (which I think is flawed when I keep running it):</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>private=&gt;{allowedAuth=&gt;'Digest',locked=&gt;'FALSE',}profile=&gt;'Default',id=&gt;'123456',indicator=&gt;'FALSE',privacy=&gt;'FALSE',public=&gt;[{configured=&gt;{profileId=&gt;'hello world',}maxSessions=&gt;'3',allowed=&gt;'FALSE',isDefault=&gt;'TRUE',},{allowed=&gt;'FALSE',maxSessions=&gt;'3',implicit=&gt;'1',privateId=&gt;'foo@bar.com',isDefault=&gt;'FALSE',},],\n</code></pre>\n"}, {"tags": ["facebook", "perl", "cookies"], "comments": [{"owner": {"reputation": 147, "user_id": 1739053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWXSU.png?s=128&g=1", "display_name": "nexoma", "link": "https://stackoverflow.com/users/1739053/nexoma"}, "edited": false, "score": 0, "creation_date": 1436725264, "post_id": 31370173, "comment_id": 50721293, "body": "<a href=\"http://stackoverflow.com/questions/31283839/facebook-login-via-perl-wwwmechanize-login-error-cookies-required\" title=\"facebook login via perl wwwmechanize login error cookies required\">stackoverflow.com/questions/31283839/&hellip;</a>"}, {"owner": {"reputation": 313, "user_id": 4745764, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d3cc9b14f56cf1aea6cff0db20c36ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse kraal", "link": "https://stackoverflow.com/users/4745764/jesse-kraal"}, "reply_to_user": {"reputation": 147, "user_id": 1739053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWXSU.png?s=128&g=1", "display_name": "nexoma", "link": "https://stackoverflow.com/users/1739053/nexoma"}, "edited": false, "score": 0, "creation_date": 1436728285, "post_id": 31370173, "comment_id": 50722234, "body": "Yes I have already read that topic, I tryd the solution by exporting the cookies.txt. unfortunately I recieve the same error: Cookies are not enabled on your browser."}], "answers": [{"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 313, "user_id": 4745764, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d3cc9b14f56cf1aea6cff0db20c36ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse kraal", "link": "https://stackoverflow.com/users/4745764/jesse-kraal"}, "edited": false, "score": 0, "creation_date": 1437222110, "post_id": 31371855, "comment_id": 50945783, "body": "do this <code>my $cookies=&#39;&#47;Users&#47;Boy&#47;Downloads&#47;cookies.txt&#39;</code>"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1436730449, "creation_date": 1436730449, "answer_id": 31371855, "question_id": 31370173, "link": "https://stackoverflow.com/questions/31370173/perl-facebook-login-with-mechanize-failed-cookies-error/31371855#31371855", "title": "Perl Facebook Login with Mechanize failed cookies error", "body": "<blockquote>\n  <p>Always <code>use strict</code> and <code>use warnings</code> at the top of your script</p>\n</blockquote>\n\n<p>In your script This line is problem</p>\n\n<p><code>my $mech = WWW::Mechanize-&gt;new( cookie_jar =&gt; HTTP::Cookies::Netscape-&gt;new( file =&gt; $cookies.txt ) );</code></p>\n\n<p>Change it to</p>\n\n<pre><code>my $cookies= 'cookies.txt'; #your cookies file path here\nmy $mech = WWW::Mechanize-&gt;new( cookie_jar =&gt; HTTP::Cookies::Netscape-&gt;new( file =&gt; $cookies ) );\n</code></pre>\n\n<p>Correcting all errors your script should be:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse WWW::Mechanize;\nuse HTTP::Cookies::Netscape; #you were using two times use\nmy $cookies='your cookies file path';\nmy $mech = WWW::Mechanize-&gt;new( cookie_jar =&gt; HTTP::Cookies::Netscape-&gt;new( file =&gt; $cookies) );\n$mech-&gt;agent_alias('Windows Mozilla'); #this is right user agent\n$mech-&gt;get(\"https://www.facebook.com/login.php\");\n$mech-&gt;submit_form(\nfields =&gt; {\n    email =&gt;'your username',\n    pass =&gt; 'your password',\n   }\n);\n\nopen(my $out, \"&gt;\",  \"output_page.html\") or die \"Can't open output_page.html: $!\"; #make lexical variables using my\nprint $out $mech-&gt;content;\n</code></pre>\n\n<p>I will suggest you to read <a href=\"http://search.cpan.org/~ether/WWW-Mechanize-1.75/lib/WWW/Mechanize.pm\" rel=\"nofollow\">WWW::Mechanize documentation</a></p>\n\n<p>Note: As many other users suggested this type of login using tools are against their ToS.So please check <a href=\"http://search.cpan.org/~unobe/WWW-Facebook-API-0.4.18/lib/WWW/Facebook/API.pm\" rel=\"nofollow\">Facebook API</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "is_accepted": false, "score": 1, "last_activity_date": 1436886893, "creation_date": 1436886893, "answer_id": 31410603, "question_id": 31370173, "link": "https://stackoverflow.com/questions/31370173/perl-facebook-login-with-mechanize-failed-cookies-error/31410603#31410603", "title": "Perl Facebook Login with Mechanize failed cookies error", "body": "<p>There is no need to send credentials if you load correct cookies because this code works for me (as you can see <strong>you only need two cookies</strong> <code>c_user</code> and <code>xs</code>):</p>\n\n<pre><code>my $config = {\n\n    auth_token =&gt;\n      \"c_user=100009668980203;xs=143%3AfaO_5XiRk_rWOg%3A2%3A1435225463%3A-1\",\n};\n\nmy @cookies = split /;/, $config-&gt;{auth_token};\n\nmy $mech = WWW::Mechanize-&gt;new();\n\nforeach my $cookie (@cookies) {\n\n    my ( $cookie_name, $cookie_value ) = split /=/, $cookie, 2;\n    $mech-&gt;cookie_jar-&gt;set_cookie( 0, $cookie_name, $cookie_value, '/',\n        '.facebook.com', undef, 1, 1, undef, 1 );\n}\n\n$mech-&gt;get(\"https://www.facebook.com/messages/\");\n\n$mech-&gt;save_content(\"$Bin/Messages_test.htm\", binmode =&gt; ':raw' );\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 4745764, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d3cc9b14f56cf1aea6cff0db20c36ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse kraal", "link": "https://stackoverflow.com/users/4745764/jesse-kraal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1436886893, "creation_date": 1436719603, "question_id": 31370173, "link": "https://stackoverflow.com/questions/31370173/perl-facebook-login-with-mechanize-failed-cookies-error", "title": "Perl Facebook Login with Mechanize failed cookies error", "body": "<p>I have a script that scrapes my scores from an website. This website uses my Facebook account for logging in. Since a few days the script does not work anymore and I get the following error:</p>\n\n<blockquote>\n  <p>Cookies Required: \n  Cookies are not enabled on your browser. Please enable cookies in your\n  browser preferences to continue.</p>\n</blockquote>\n\n<p>I searched on this forum and I found a similar problem:\nI tryed the given solution but it did not work.</p>\n\n<p>I have export my FaceBook login cookies.txt from Google Chrome with this plugin. <a href=\"https://chrome.google.com/webstore/detail/cookiestxt/njabckikapfpffapmjgojcnbfjonfjfg?hl=en\" rel=\"nofollow\">https://chrome.google.com/webstore/detail/cookiestxt/njabckikapfpffapmjgojcnbfjonfjfg?hl=en</a> and save the cookies.txt in the same folder as the script:</p>\n\n<pre><code>use WWW::Mechanize;\nuse use HTTP::Cookies::Netscape;\nmy $mech = WWW::Mechanize-&gt;new( cookie_jar =&gt; HTTP::Cookies::Netscape-&gt;new( file =&gt; $cookies.txt ) );\n$mech-&gt;agent_alias('Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:38.0) Gecko/20100101 Firefox/38.0');\n$mech-&gt;get(\"https://www.facebook.com/login.php\");\n$mech-&gt;submit_form(\nfields =&gt; {\n    email =&gt; '&lt;my email here&gt;',\n    pass =&gt; '&lt;my password here&gt;',\n   }\n);\n\nopen($out, \"&gt;\",  \"output_page.html\") or die \"Can't open output_page.html: $!\";\nprint $out $mech-&gt;content;    \n</code></pre>\n\n<p>In the script I use Agent: Firefox but the cookies are exported from Chrome, is this maybe an issue? I have tryed different methods and languages Python and perl.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436729058, "post_id": 31370042, "comment_id": 50722485, "body": "Your script has many errors, btw I suggest you to read <a href=\"http://perldoc.perl.org/perlsec.html#Taint-mode\" rel=\"nofollow noreferrer\">this</a>. run using <code>perl -T</code>. and fix all errors and share your html also in question it will be better."}, {"owner": {"reputation": 339, "user_id": 1334439, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c43c5e896003339c84cdc31c0694b8d0?s=128&d=identicon&r=PG", "display_name": "allendks45", "link": "https://stackoverflow.com/users/1334439/allendks45"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436733445, "post_id": 31370042, "comment_id": 50723760, "body": "@Arunesh how do I run the perl -T? I&#39;m using Padre (new to me as I normally use Notepad++)."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436733597, "post_id": 31370042, "comment_id": 50723811, "body": "run using cmd in windows. never used padre."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436733740, "post_id": 31370042, "comment_id": 50723848, "body": "<a href=\"http://stackoverflow.com/questions/12255683/can-you-pass-command-line-arguments-to-perl-program-run-from-padre-run-run-scri\" title=\"can you pass command line arguments to perl program run from padre run run scri\">stackoverflow.com/questions/12255683/&hellip;</a> check this for padre"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436735252, "post_id": 31370042, "comment_id": 50724249, "body": "Why do you have four separate forms on the page? And only one of them has a submit button. How do you expect the other ones to be submitted?"}], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 1334439, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c43c5e896003339c84cdc31c0694b8d0?s=128&d=identicon&r=PG", "display_name": "allendks45", "link": "https://stackoverflow.com/users/1334439/allendks45"}, "edited": false, "score": 0, "creation_date": 1436734751, "post_id": 31372400, "comment_id": 50724115, "body": "I&#39;m absolutely positive you are correct on that. Unfortunately I enrolled in a webserver class and this is the final assignment. From what I&#39;ve been reading on the web this is very antiquated and has been replaced by other languages. If it were JS I&#39;m confident I&#39;d be done with this project."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 339, "user_id": 1334439, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c43c5e896003339c84cdc31c0694b8d0?s=128&d=identicon&r=PG", "display_name": "allendks45", "link": "https://stackoverflow.com/users/1334439/allendks45"}, "edited": false, "score": 0, "creation_date": 1436735034, "post_id": 31372400, "comment_id": 50724198, "body": "Pretty grim news that there are still classes out there teaching this stuff. It&#39;s true that there are now plenty of other languages that people use to write web apps - but people still use Perl too (just with more modern tools). And I think this is the first time you&#39;ve told us that we&#39;re helping you with homework :-/"}, {"owner": {"reputation": 339, "user_id": 1334439, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c43c5e896003339c84cdc31c0694b8d0?s=128&d=identicon&r=PG", "display_name": "allendks45", "link": "https://stackoverflow.com/users/1334439/allendks45"}, "edited": false, "score": 0, "creation_date": 1436738106, "post_id": 31372400, "comment_id": 50724981, "body": "Yes, final summer project did not believe that it would make a difference. Only seeking to understand the concepts within Perl as i only have 1-week to learn the language. Tall order and as you stated there are a bevy of languages that handle what I&#39;m trying to accomplish in simpler methods. For what it is worth the instructor is a good guy and does help in limited fashion."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1436733964, "last_edit_date": 1495542590, "creation_date": 1436733964, "answer_id": 31372400, "question_id": 31370042, "link": "https://stackoverflow.com/questions/31370042/why-am-i-getting-this-error-when-testing-a-perl-cgi-scipt-on-padre/31372400#31372400", "title": "Why am I getting this error when testing a Perl/CGI scipt on Padre?", "body": "<p>Padre runs Perl programs using a command like:</p>\n\n<pre><code>/usr/bin/perl &lt;your_file.pl&gt;\n</code></pre>\n\n<p>Taint checking requires deep changes to how the compiler works, so it needs to be turned on immediately after the compiler starts up. You have -T on the shebang line inside your program and that isn't parsed until after the compiler starts - too late for taint mode to be enabled. It would be confusing for Perl to start running your code not in taint mode when you think that taint mode has been turned on, so it halts execution with the error message that you have seen.</p>\n\n<p>You can fix this by configuring Padre to run your code with as slightly different command:</p>\n\n<pre><code>/usr/bin/perl -T &lt;your_file.pl&gt;\n</code></pre>\n\n<p>In Padre choose Tools -> Preferences from the menu and then select the \"Language - Perl 5\" option. There is a text input labelled \"Interpreter arguments\". You can put your -T there and save the changes.</p>\n\n<p>Also, I'll just reiterate <a href=\"https://stackoverflow.com/questions/31329899/how-can-i-send-error-message-if-user-doesnt-select-a-radio-button-perl-cgi/\">my previous advice</a> that using CGI in 2015 is ridiculous. Please take a look at <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> and switch to a more modern architecture.</p>\n"}, {"comments": [{"owner": {"reputation": 339, "user_id": 1334439, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c43c5e896003339c84cdc31c0694b8d0?s=128&d=identicon&r=PG", "display_name": "allendks45", "link": "https://stackoverflow.com/users/1334439/allendks45"}, "edited": false, "score": 0, "creation_date": 1436741082, "post_id": 31373076, "comment_id": 50725642, "body": "much appreciated. I have no issues working these out and only use this medium for guidance and teaching points. Hopefully one day I will be on the other end of the keyboard helping others. I definitely like Java, JS and others more. One of my biggest questions was about proper submission of forms. How does one decide whether or not to submit in one &#39;action&#39; or multiple parts? Thanks again and it was good to know once I had Padre setup correctly I could fix my errors."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1436739178, "creation_date": 1436739178, "answer_id": 31373076, "question_id": 31370042, "link": "https://stackoverflow.com/questions/31370042/why-am-i-getting-this-error-when-testing-a-perl-cgi-scipt-on-padre/31373076#31373076", "title": "Why am I getting this error when testing a Perl/CGI scipt on Padre?", "body": "<p>Your homework should be done by you. But Since there is lot of syntax mistakes there I will try to help you.</p>\n\n<p>First of all Bind all the elements inside the html into a single form with single submit button so that it can go to server in the form of query string in a single go.</p>\n\n<p>Your html should be: </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;My First CGI-PERL&lt;/title&gt;\n&lt;!--Link to css for styling here--&gt;\n&lt;!--&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\"&gt;--&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;header&gt;\n&lt;h1&gt;Welcome to my first CGI-PERL Form submission&lt;/h1&gt;&lt;/header&gt;\n&lt;br&gt;\n&lt;p&gt;Please Enter the following information in the fields and click  \n    SUBMIT.&lt;/p&gt;\n&lt;hr&gt;\n&lt;br&gt;\n&lt;div class=\"container1\"&gt;\n   &lt;form action=\"action.cgi\" method=\"post\"&gt; &lt;!--script to process  \n     this section--&gt;\n        Item Number&lt;input type=\"text\" name=\"Item\"&gt;&lt;br&gt; &lt;!--Cannot be blank--&gt;\n        Product Name&lt;input type=\"text\" name=\"Name\"&gt;&lt;br&gt; &lt;!--Cannot be    \n    blank--&gt;\n        Product Cost&lt;input type=\"text\" name=\"Cost\"&gt;&lt;br&gt; &lt;!--must be between .50 and $1000--&gt;\n        Selling Price&lt;input type=\"text\" name=\"Price\"&gt;&lt;br&gt; &lt;!--price from 1.00 to 2000.00--&gt;\n        Quantity on Hand&lt;input type=\"text\" name=\"Quantity\"&gt;&lt;br&gt; &lt;!--cannot be negative--&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;hr&gt;\n    &lt;br&gt;\n    &lt;h2&gt;Choose A Product Category&lt;/h2&gt; &lt;!--must be one of the categories--&gt;\n    &lt;br&gt;\n    &lt;div class=\"container2\"&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"F\"&gt;F&lt;br&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"H\"&gt;H&lt;br&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"M\"&gt;M&lt;br&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"C\"&gt;C&lt;br&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"T\"&gt;T&lt;br&gt;\n    &lt;br&gt;\n    &lt;hr&gt;\n    &lt;br&gt;\n    &lt;div class=\"container4\"&gt;\n       &lt;input type=\"submit\" name=\"submit\"  value=\"SUBMIT\"&gt;&lt;br&gt;\n    &lt;/form&gt;&lt;/div&gt; &lt;!--close container 2--&gt;\n\n    &lt;!--Profit should be auto generated on the second page created by the script--&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>Your cgi script I named as action.cgi and It should be like this for the above html from your approach. Whatever the error you had I tried to show it using commented lines.</p>\n\n<pre><code>#!/usr/bin/perl -T\nprint \"Content-type: text/html\\n\\n\";\nuse strict;\nuse warnings;\nuse CGI qw(:standard);\n\nprint \"&lt;html&gt;&lt;body&gt;\";\nprint '&lt;h1&gt;\"Thank you for submitting the form. &lt;br&gt;\"\\n';\n#return to html page with form\nprint '&lt;h2&gt;To go back to the form page click &lt;a \nhref=\"/newform.html\"&gt;Here&lt;/a&gt;.&lt;/h2&gt;';#missing quotes\n\nprint \"&lt;hr&gt;&lt;br&gt;&lt;br&gt;\";\nprint \"You chose item number \",param(\"Item\"),\" &lt;br&gt;\";\nprint \"The product name is \", param(\"Name\"), \" &lt;br&gt;\";print \"The Cost is \n\", param(\"Cost\"),\" \\n\";\nprint \"Selling Price \", param(\"Price\"),\" &lt;br /&gt;\";\nprint \"Quantity on Hand is \", param(\"Quantity\"),\" &lt;br&gt; \";\n\n#scalar variables to hold form input data\nmy $item = param(\"Item\");\nmy $name = param(\"Name\");\nmy $cost = param(\"Cost\");\nmy $price = param(\"Price\");\nmy $category = param(\"Category\"); #radio button chosen\nmy $quantity = param(\"Quantity\");\nmy $profit = $cost - $price;\n\n#radio buttons\nmy @categories = (\"F\", \"H\", \"M\", \"C\", \"T\");#better use array\n#vali`dation a category was chosen\n$category = param(\"letter\");\nif(grep { /$category/ } @categories) { # check if category exist in your predefined array\nprint \"The product Category is $category \\n\";\n}\nelse {\nerror (\"You must select a category\");\n}\n#validate input\nif ($item eq \"\") {\nerror (\"Field cannot be blank\");\n}\nif ($name eq \"\" ){\nerror (\"Field cannot be blank\");\n}\nif ($cost &lt; .50 &amp;&amp; $cost &gt; 1000) {\nerror (\"Invalid Entry Cost must be between $.50 and $1000\");\n}\nif ($price &lt; 1.00 &amp;&amp; $cost &gt; 2000) {\nerror (\"Invalid Amount Please enter Price between $1.00 and $2000\");\n}\nif ($quantity &lt; 0) {\nerror (\"Quantity cannot be negative number\");\n}\n\n#Error subroutine\nsub error {\nmy  $errormsg = shift;#you shouldn't assign array to variable\nprint \"&lt;h2&gt;Error&lt;/h2&gt;\\n\";\nprint \"$errormsg&lt;p&gt;\\n\";\nprint \"&lt;/body&gt;&lt;/html&gt;\\n\";\n}\n</code></pre>\n\n<p>If you really want to learn perl after basic understanding try to learn</p>\n\n<p><a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldsc</a>,<a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perlvar</a>,<a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a>,<a href=\"http://search.cpan.org/~rjbs/perl-5.22.0/pod/perlootut.pod\" rel=\"nofollow\">perloo</a>,<a href=\"http://search.cpan.org/~rjbs/perl-5.22.0/pod/perlobj.pod\" rel=\"nofollow\">perlobj</a> </p>\n"}], "owner": {"reputation": 339, "user_id": 1334439, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c43c5e896003339c84cdc31c0694b8d0?s=128&d=identicon&r=PG", "display_name": "allendks45", "link": "https://stackoverflow.com/users/1334439/allendks45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 31373076, "answer_count": 2, "score": 0, "last_activity_date": 1436739178, "creation_date": 1436718696, "last_edit_date": 1436737939, "question_id": 31370042, "link": "https://stackoverflow.com/questions/31370042/why-am-i-getting-this-error-when-testing-a-perl-cgi-scipt-on-padre", "title": "Why am I getting this error when testing a Perl/CGI scipt on Padre?", "body": "<p>Spent better part of 3-days writing a CGI script to handle the input form data from my HTML. Used Padre as an editor but now receive this error when running the script. </p>\n\n<ul>\n<li>\"uncaught exception from user code: \"-T\" is on the #! line, it must also be used on the command line at scipt.pl\"</li>\n</ul>\n\n<p>I'd like some pointers if anyone is willing to look over my code and offer guidance. This is my first endeavor into Perl and CGI. What I desire for endstate is a form a webuser enters data and then hits submit. After validation a page is sent back to the browser with information and errors if they exist. here is my code and thanks in advance!</p>\n\n<p>HTML Code: </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;My First CGI-PERL&lt;/title&gt;\n&lt;!--Link to css for styling here--&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;header&gt;\n&lt;h1&gt;Welcome to my first CGI-PERL Form submission&lt;/h1&gt;&lt;/header&gt;\n&lt;br&gt;\n&lt;p&gt;Please Enter the following information in the fields and click  \n    SUBMIT.&lt;/p&gt;\n&lt;hr&gt;\n&lt;br&gt;\n&lt;div class=\"container1\"&gt;\n   &lt;form action=\"/cgi-bin/text.pl\" method=\"post\"&gt; &lt;!--script to process  \n     this section--&gt;\n        Item Number&lt;input type=\"text\" name=\"Item\"&gt;&lt;br&gt; &lt;!--Cannot be blank--&gt;\n        Product Name&lt;input type=\"text\" name=\"Name\"&gt;&lt;br&gt; &lt;!--Cannot be    \n    blank--&gt;\n        Product Cost&lt;input type=\"text\" name=\"Cost\"&gt;&lt;br&gt; &lt;!--must be between .50 and $1000--&gt;\n        Selling Price&lt;input type=\"text\" name=\"Price\"&gt;&lt;br&gt; &lt;!--price from 1.00 to 2000.00--&gt;\n        Quantity on Hand&lt;input type=\"text\" name=\"Quantity\"&gt;&lt;br&gt; &lt;!--cannot be negative--&gt;\n    &lt;/form&gt;&lt;/div&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;hr&gt;\n    &lt;br&gt;\n    &lt;h2&gt;Choose A Product Category&lt;/h2&gt; &lt;!--must be one of the categories--&gt;\n    &lt;br&gt;\n    &lt;div class=\"container2\"&gt;\n    &lt;form action=\"/cgi-bin/radio.pl\" method=\"post\"&gt; &lt;!--name of script that handles this section--&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"F\"&gt;F&lt;br&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"H\"&gt;H&lt;br&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"M\"&gt;M&lt;br&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"C\"&gt;C&lt;br&gt;\n       &lt;input type=\"radio\" name=\"letter\" value=\"T\"&gt;T&lt;br&gt;\n    &lt;br&gt;\n    &lt;/form&gt;&lt;/div&gt;   \n    &lt;hr&gt;\n    &lt;br&gt;\n    &lt;div class=\"container4\"&gt;\n    &lt;form action=\"/cgi-bin/myfirstcgi.cgi\" method=\"post\"&gt; &lt;!--script to process submit and send a second page back--&gt;\n       &lt;input type=\"submit\" name=\"submit\"  value=\"SUBMIT\"&gt;&lt;br&gt;\n    &lt;/form&gt;&lt;/div&gt; &lt;!--close container 2--&gt;\n\n    &lt;!--Profit should be auto generated on the second page created by the script--&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>Perl Script:</p>\n\n<pre><code>#!/usr/bin/perl \nprint \"Content-type: text/html\\n\\n\";\nuse strict;\nuse warnings;\nuse CGI qw(:standard);\n\nprint \"&lt;html&gt;&lt;body&gt;\";\nprint \"Thank you for submitting the form. &lt;br&gt;\\n\";\n#return to html page with form\nprint \"To go back to the form page click\"; #how can i insert a link to   the form page here\n\n\nprint \"You chose item number \", param(\"Item\"),\" \\n\";\nprint \"The product name is \", param(\"Name\"), \" \\n\";\nprint \"The Cost is \", param(\"Cost\"),\" \\n\";\nprint \"Selling Price \", param(\"Price\"),\" \\n\";\nprint \"Quantity on Hand is \", param(\"Quantity\"),\" \\n\";\n\n#scalar variables to hold form input data\nmy $item = param(\"Item\");\nmy $name = param(\"Name\");\nmy $cost = param(\"Cost\");\nmy $price = param(\"Price\");\nmy $category = param(\"Category\"); #radio button chosen\nmy $quantity = param(\"Quantity\");\nmy $profit = $cost - $price;\n\n#radio buttons\nmy %categories = (\"F\", \"H\", \"M\", \"C\", \"T\");\n#validation a category was chosen\n\nmy $categories = param(\"letter\");\nif (exists $categories{$category}) {\n   print \"The product Category is $category\";\n}\nelse {\n   error (\"You must select a category\");\n}  \n\n#validate input\nif ($item eq \"\") {\n    error (\"Field cannot be blank\");\n}\nif ($name eq \"\") {\n    error (\"Field cannot be blank\");\n}\nif ($cost &lt; .50 &amp;&amp; $cost &gt; 1000) {\n   error (\"Invalid Entry Cost must be between $.50 and $1000\");\n}\nif ($price &lt; 1.00 &amp;&amp; $cost &gt; 2000) {\n   error (\"Invalid Amount Please enter Price between $1.00 and $2000\");\n}\nif ($quantity &lt; 0) {\n   error (\"Quantity cannot be negative number\");\n}\n\nsub error {\nmy ($errormsg)  =  @_;\nprint  \"&lt;h2&gt;Error&lt;/h2&gt;\\n\";\nprint  \"$errormsg&lt;p&gt;\\n\";\nprint \"&lt;/body&gt;&lt;/html&gt;\\n\";\nexit;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1436721222, "post_id": 31370015, "comment_id": 50720045, "body": "Perl arrays normally start at 0.  Are you sure you want the first digit in <code>$hello2[1]</code>?  What goes in <code>$hello2[0]</code>?"}, {"owner": {"reputation": 1099, "user_id": 2266881, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/FBu6W.jpg?s=128&g=1", "display_name": "Ghost", "link": "https://stackoverflow.com/users/2266881/ghost"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1436721797, "post_id": 31370015, "comment_id": 50720213, "body": "Yeah, first one is 0, i was just pointing to the method to parse it to the array automatically instead of one by one =)"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436733128, "post_id": 31370052, "comment_id": 50723663, "body": "The first argument to <code>split</code> should be a regex, so please use <code>split &#47;&#47;, $hello</code>, not <code>split &#39;&#39;, $hello</code>."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436735204, "post_id": 31370052, "comment_id": 50724239, "body": "@davecross No it does not have to. Please check perldoc for your reference"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436735380, "post_id": 31370052, "comment_id": 50724283, "body": "I didn&#39;t say it had to, I said it should be. It is interpreted as a regular expression, so putting it in <code>&#47;...&#47;</code> makes people realise that. This is advice based on many years of experience fixing code from people who have forgotten this."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436737742, "post_id": 31370052, "comment_id": 50724895, "body": "@DaveCross I agree with you it will be more clear that way, but the perldoc here <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/split.html</a> just uses empty quoted string and I think if one does not know it, he should not use it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1436738088, "post_id": 31370052, "comment_id": 50724976, "body": "Good point. I&#39;ll see if I can get that documentation changed."}], "tags": [], "owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "is_accepted": true, "score": 5, "last_activity_date": 1436745785, "last_edit_date": 1436745785, "creation_date": 1436718761, "answer_id": 31370052, "question_id": 31370015, "link": "https://stackoverflow.com/questions/31370015/perl-int-to-array/31370052#31370052", "title": "Perl int to array", "body": "<pre><code>my @hello = split //, $hello;\n</code></pre>\n\n<p>In Perl if you use number in a string operator, the conversion is done automatically </p>\n"}, {"tags": [], "owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "is_accepted": false, "score": 5, "last_activity_date": 1436718807, "creation_date": 1436718807, "answer_id": 31370061, "question_id": 31370015, "link": "https://stackoverflow.com/questions/31370015/perl-int-to-array/31370061#31370061", "title": "Perl int to array", "body": "<pre><code>$hello = 429384;\n\n@hello = split //, $hello;\n\nprint $hello[0];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436749136, "post_id": 31373146, "comment_id": 50727257, "body": "Why do you think that regexes are not a built-in function? And why print a space before the newline?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436770660, "post_id": 31373146, "comment_id": 50732726, "body": "I think <code>=~</code> is more like an operator than a function.Space is not intentional.IMHO it doesn&#39;t affect anything."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436739987, "last_edit_date": 1436739987, "creation_date": 1436739681, "answer_id": 31373146, "question_id": 31370015, "link": "https://stackoverflow.com/questions/31370015/perl-int-to-array/31373146#31373146", "title": "Perl int to array", "body": "<p>Using only Regex and without using any inbuilt function:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $string=429384;\n\nmy @numbers = $string =~ /./g; # dot matches a single character at a time \n                               #and returns it \n\nprint \"@numbers \\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "is_accepted": false, "score": 0, "last_activity_date": 1436879283, "creation_date": 1436879283, "answer_id": 31407546, "question_id": 31370015, "link": "https://stackoverflow.com/questions/31370015/perl-int-to-array/31407546#31407546", "title": "Perl int to array", "body": "<p>this is significantly faster than the regexp way:</p>\n\n<pre><code>  $string = '1234567890';\n  $_-=48 for @digits = unpack 'C*',$string;\n</code></pre>\n\n<p>benchmark:</p>\n\n<pre><code>use Time::HiRes;\n$string = '1234567890';\n\n\n\n$start_time = [Time::HiRes::gettimeofday()];\nfor (1.. 100000){\n  $_-=48 for @digits= unpack 'C*',$string;\n}\n$diff = Time::HiRes::tv_interval($start_time);\nprint \"\\n\\n$diff\\n\";\n\n\n\n$start_time = [Time::HiRes::gettimeofday()];\nfor (1.. 100000){\n  @digits = split //, $string;\n}\n$diff = Time::HiRes::tv_interval($start_time);\nprint \"\\n\\n$diff\\n\";\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>0.265814</p>\n  \n  <p>0.314735</p>\n</blockquote>\n"}], "owner": {"reputation": 1099, "user_id": 2266881, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/FBu6W.jpg?s=128&g=1", "display_name": "Ghost", "link": "https://stackoverflow.com/users/2266881/ghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 1, "accepted_answer_id": 31370052, "answer_count": 4, "score": 1, "last_activity_date": 1436879283, "creation_date": 1436718518, "last_edit_date": 1436735298, "question_id": 31370015, "link": "https://stackoverflow.com/questions/31370015/perl-int-to-array", "title": "Perl int to array", "body": "<p>I have a number stored in a Perl variable and I want to 'pass/convert/store' its digits in the different positions of an array. An example for a better sight:</p>\n\n<p>I have, let's say, this number stored:</p>\n\n<pre><code>$hello = 429384\n</code></pre>\n\n<p>And I need a new array with the digits stored in it, so:</p>\n\n<pre><code>$hello2[0] = 4\n$hello2[1] = 2\n$hello2[2] = 9\nEtc..\n</code></pre>\n\n<p>I can probably make it with a couple of loops, but I want to know if there is an efficient and fast way to do it. Thx in advance!</p>\n"}, {"tags": ["perl", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1436714846, "post_id": 31369288, "comment_id": 50718117, "body": "It seems like a bug. Use <code>encode(&#39;UTF-8&#39;, &quot;$str&quot;, Encode:::FB_CROAK)</code> as a workaround."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1436715636, "post_id": 31369288, "comment_id": 50718352, "body": "Of course UTF8 encoding is popular, so popular that they named a subroutine specifically for it.  You can call without the check: <code>encode_utf8($str)</code>"}, {"owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 3, "creation_date": 1436715782, "post_id": 31369288, "comment_id": 50718405, "body": "I think this answers the question <a href=\"http://stackoverflow.com/a/29843396/198183\">stackoverflow.com/a/29843396/198183</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "edited": false, "score": 0, "creation_date": 1436716061, "post_id": 31369288, "comment_id": 50718491, "body": "@sid_com Thanks, that would be the answer. So you could mark this question as duplicate.."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1436717080, "post_id": 31369288, "comment_id": 50718772, "body": "@H&#229;konH&#230;gland not an exact duplicate.  Despite them being close in concept and their problem being the same, the other question asked specifically for a true check value.  This question has a better demonstration of the problem."}], "answers": [{"tags": [], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "is_accepted": true, "score": 3, "last_activity_date": 1436716709, "creation_date": 1436716709, "answer_id": 31369721, "question_id": 31369288, "link": "https://stackoverflow.com/questions/31369288/does-encodeencode-modify-delete-the-original-string/31369721#31369721", "title": "Does Encode::encode modify/delete the original string?", "body": "<p>\"If the Encode::LEAVE_SRC bit is not set but CHECK is set, then the source string to encode() or decode() will be overwritten in place. If you're not interested in this, then bitwise-OR it with the bitmask.\"</p>\n\n<p>Quote from the <a href=\"https://metacpan.org/pod/Encode\" rel=\"nofollow\">Encode</a> documentation.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "closed_date": 1436797156, "accepted_answer_id": 31369721, "answer_count": 1, "score": 4, "last_activity_date": 1436716709, "creation_date": 1436714097, "question_id": 31369288, "link": "https://stackoverflow.com/questions/31369288/does-encodeencode-modify-delete-the-original-string", "closed_reason": "Duplicate", "title": "Does Encode::encode modify/delete the original string?", "body": "<p>The documentation of <a href=\"https://metacpan.org/pod/Encode#encode\" rel=\"nofollow\"><code>Encode::encode</code></a> says:</p>\n\n<blockquote>\n  <p><strong>encode</strong></p>\n  \n  <p><em>$octets  = encode(ENCODING, STRING[, CHECK])</em> Encodes the scalar value\n  STRING from Perl's internal form into ENCODING and returns a sequence\n  of octets.</p>\n</blockquote>\n\n<p>Here is a test script:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse utf8;\nuse open qw( :std :utf8 );\n\nuse Encode qw(encode);\n\nmy $str = '\u00e6';\nsay \"str = '$str'\";\nmy $str2 = encode('UTF-8', $str, Encode::FB_CROAK);\nsay \"str = '$str'\";\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>str = '\u00e6'\nstr = ''\n</code></pre>\n\n<p>Why is <code>$str</code> erased after calling <code>encode</code>? Is this to be expected?</p>\n"}, {"tags": ["perl", "metacpan"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436733750, "post_id": 31370394, "comment_id": 50723851, "body": "hum? You didn&#39;t mention either of the problems. (You simply complain that it listed valid matches! That&#39;s not a bug.) Added the actual issues as a comment."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1436729014, "last_edit_date": 1436729014, "creation_date": 1436721071, "answer_id": 31370394, "question_id": 31368725, "link": "https://stackoverflow.com/questions/31368725/why-is-the-same-module-listed-three-times-at-metacpan-org/31370394#31370394", "title": "Why is the same module listed three times at metacpan.org?", "body": "<p>Oddly enough, there's one missing. The following are Devel::Peek's official distributions:</p>\n\n<ul>\n<li><a href=\"http://search.cpan.org/dist/perl\" rel=\"nofollow\"><code>perl</code></a></li>\n<li><a href=\"http://search.cpan.org/dist/Devel-Peek\" rel=\"nofollow\"><code>Devel-Peek</code></a></li>\n</ul>\n\n<p>These two distributions are <a href=\"http://search.cpan.org/search?query=Devel%3A%3APeek&amp;mode=all\" rel=\"nofollow\">returned</a> when searching <a href=\"http://search.cpan.org/\" rel=\"nofollow\">search.cpan.org</a>, and the only two distributions returned when searching search.cpan.org.</p>\n\n<p>Being part of the <code>perl</code> distribution and part of its own distribution is called being a \"dual-lifed\" module. It allows the module to be bundled with Perl without having to upgrade Perl to upgrade the module.</p>\n\n<p>I don't know why meta::cpan doesn't pick up the official distribution, and I don't know why it doesn't flag the other distributions as unofficial. You could alert the site's maintainers of the problem.</p>\n\n<p>Conversely, I don't know why search.cpan.org doesn't return <code>CookBookA</code> and <code>CookBookB</code>, and why it doesn't flag theses other distributions as unofficial when one goes to it directly. I think it has to do with the fact that Devel::Peek is only present as a documentation file (.pod) &mdash;not a module (.pm)&mdash; in them.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 31370394, "answer_count": 1, "score": 2, "last_activity_date": 1436729014, "creation_date": 1436710615, "question_id": 31368725, "link": "https://stackoverflow.com/questions/31368725/why-is-the-same-module-listed-three-times-at-metacpan-org", "title": "Why is the same module listed three times at metacpan.org?", "body": "<p>Searching for <code>Devel::Peek</code> at <a href=\"https://metacpan.org/\" rel=\"nofollow noreferrer\">metacpan.org</a> gives the following screen shot:</p>\n\n<hr>\n\n<p><img src=\"https://i.stack.imgur.com/PXauV.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>Why is the module listed three times? (It looks a little bit strange, and could easily confuse the user..)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1436715559, "post_id": 31368441, "comment_id": 50718328, "body": "If you are writing one file per line, you could just open/write/close a file for each line of your data.csv instead of storing the info in %docs and creating the files later."}, {"owner": {"reputation": 13, "user_id": 5068577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fc1c8b5b256c768050d4be96d539ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/5068577/paul"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1436716525, "post_id": 31368441, "comment_id": 50718621, "body": "Unfortunately, I do not understand what they mean. If you look at the DATA, first line is the date and time, second row Begin with &quot;default&quot; at then start the processing of DATA I would like that it makes each line in a file storage and of a file. so I know file1 belongs to Line 1, Line 2 belongs to file2, etc."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1436716817, "post_id": 31368441, "comment_id": 50718702, "body": "Add a variable that you increment for each file, and use it to name the output file."}], "answers": [{"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": -1, "last_activity_date": 1436722019, "last_edit_date": 1436722019, "creation_date": 1436720196, "answer_id": 31370266, "question_id": 31368441, "link": "https://stackoverflow.com/questions/31368441/how-to-organise-an-output-file-in-perl/31370266#31370266", "title": "How to organise an output file in perl?", "body": "<p>Hashes are not ordered, so when you loop in them with a <code>foreach</code>, the order of items is unpredictable.</p>\n\n<p>To preserve the order you need a workaround. For example, you could append each keys of the hash in a list when you build it. Or you can use the <a href=\"http://search.cpan.org/~chorny/Tie-IxHash-1.23/lib/Tie/IxHash.pm\" rel=\"nofollow\"><code>Tie::IxHash</code></a> module.</p>\n\n<p>However the fact you are facing this kind of situation reveals a conception problem and the only conclusion seems to be that the hash is not appropriate here.</p>\n\n<p>An example with an array of hashes:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my @headers;\nmy @docs;\n\n...\n\n    my ($file, @fields) = split /\\s*,\\s*|\\s+/;\n    push @docs, {'file'=&gt;$file, 'fields'=&gt;\\@fields} if any { $_ eq 'fault' } @fields;\n}\n\nclose($Fhresult);\n\nforeach my $doc (@docs) {\n    print  $doc-&gt;{'file'} , \":\\n\";\n    foreach (0..$#headers) {\n        printf (\"%18s : %s\\n\", $headers[$_], $doc-&gt;{'fields'}[$_]);\n    }\n    print  \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5068577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fc1c8b5b256c768050d4be96d539ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/5068577/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 31370266, "answer_count": 1, "score": 0, "last_activity_date": 1436722505, "creation_date": 1436708854, "last_edit_date": 1436719240, "question_id": 31368441, "link": "https://stackoverflow.com/questions/31368441/how-to-organise-an-output-file-in-perl", "title": "How to organise an output file in perl?", "body": "<p>I made a piece of code in perl. I got the results I wanted, however, I would like my output to be formatted in the order of DATA.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse autodie;\nuse List::Util 'any';\n\nmy $input_file = 'DATA.csv';\nmy (@headers, %docs);\n\nopen my $fh, '&gt;',\"fh.txt\";\n\nopen(my $Fhresult, '&lt;', $input_file);\nwhile (&lt;$Fhresult&gt; ) {\n    last if (/^\\d+\\s+\\d{2}:\\d{2}:\\d{2}\\s*$/);\n}\nwhile (&lt;$Fhresult&gt; ) {\n    if ($. == 2) {\n        chomp;\n        s/^default,\\s*//;\n        @headers = split ( /[ ,. ;:\\(\\)\\/\\*\\\"]+/ );  \n        next;\n    }\n    next unless /\\S/;\n    chomp;\n    my ($file, @fields) = split /\\s*,\\s*|\\s+/;\n    $docs{$file} = [@fields] if any { $_ eq 'fault' } @fields;\n    # ou bien? $docs{$file} = [@fields]; si on veut tout\n}\nclose($Fhresult);\n\nforeach my $doc (keys %docs) {\n    print  \"$doc:\\n\";\n    foreach (0..$#headers) {\n        printf (\"%18s : %s\\n\", $headers[$_], $docs{$doc}-&gt;[$_]);\n    }\n    print  \"\\n\";\n}\n</code></pre>\n\n<p>_______________________DATA__________________________________________</p>\n\n<pre><code>20150627 19:08:00\ndefault, primary, secondary, copy_direct, forced_copy, always_allow, type_of_dump, full_memory,\nd100spupt, /dev/lg_du, /dev/sysdu, /var/adm, 1, 1, fault, disallow,\ndoc10, 5, fault, 7, ad8, 9, wu, disallow,\ndoc11, 5, fault, 5g7, 8, te, 10, disallow,\ndoc12, 5, fault, 7, ca, 9hg, 10, disallow,\ndoc13, 5, fault, 7, 8, 35hg, 10, disallow,\n</code></pre>\n\n<p>Output files:</p>\n\n<p>file1:</p>\n\n<pre><code>d100spupt:\n               primary : /dev/lg_du\n             secondary : /dev/sysdu\n           copy_direct : /var/adm\n           forced_copy : 1\n          always_allow : 1\n          type_of_dump : fault\n           full_memory : disallow\n</code></pre>\n\n<p>file2:</p>\n\n<pre><code>doc10:\n               primary : 5\n             secondary : fault\n           copy_direct : 7\n           forced_copy : ad8\n          always_allow : 9\n          type_of_dump : wu\n           full_memory : disallow\n</code></pre>\n\n<p>file3 </p>\n\n<pre><code>doc11:\n                   primary : 5\n                 secondary : fault\n               copy_direct : 5g7\n               forced_copy : 8\n              always_allow : te\n              type_of_dump : 10\n               full_memory : disallow\n</code></pre>\n\n<ul>\n<li>.</li>\n<li>.</li>\n<li>.</li>\n</ul>\n\n<p>file5:</p>\n\n<pre><code>doc13:\n                       primary : 5\n                     secondary : fault\n                   copy_direct : 7\n                   forced_copy : 8\n                  always_allow : 35hg\n                  type_of_dump : 10\n                   full_memory : disallow\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1436707997, "post_id": 31368300, "comment_id": 50716100, "body": "sed works on multiline."}, {"owner": {"reputation": 1246, "user_id": 2032568, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/74110b3322d65254f040bfa592668d6f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2032568/alex"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1436708153, "post_id": 31368300, "comment_id": 50716154, "body": "@AvinashRaj Yes but judging by <a href=\"http://unix.stackexchange.com/a/26290/34931\">this answer</a> it seems Perl would be a better candidate for the job."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436708276, "post_id": 31368300, "comment_id": 50716179, "body": "@Alex: As far as I can tell, <code>perl -pi -e &quot;s&#47;const&#47;&#47;g if &#47;PMPI_&#47;&quot; file.c</code> or <code>perl -pi -e &quot;&#47;PMPI_&#47; and  s&#47;const&#47;&#47;g&quot; file.c</code> will do what you need. I don&#39;t understand your reference to multi-line working though: <code>PMPI_</code> can occur in only <i>one</i> line at a time!"}, {"owner": {"reputation": 1246, "user_id": 2032568, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/74110b3322d65254f040bfa592668d6f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2032568/alex"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436708439, "post_id": 31368300, "comment_id": 50716231, "body": "@Borodin Yes of course, it was just an example, I didn&#39;t post the multi line pattern I&#39;m using."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436709027, "post_id": 31368300, "comment_id": 50716405, "body": "@Alex: So for <i>this</i> problem you don&#39;t need multi-line, but you&#39;re looking for a tool that <i>does</i> support it? I think you should clarify that"}], "answers": [{"comments": [{"owner": {"reputation": 1246, "user_id": 2032568, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/74110b3322d65254f040bfa592668d6f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2032568/alex"}, "edited": false, "score": 0, "creation_date": 1436708539, "post_id": 31368349, "comment_id": 50716253, "body": "So simple... I guess I should start reading some Perl guides. Thanks."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 4, "last_activity_date": 1436712554, "last_edit_date": 1436712554, "creation_date": 1436708221, "answer_id": 31368349, "question_id": 31368300, "link": "https://stackoverflow.com/questions/31368300/perl-replace-pattern-only-in-lines-matching-another-pattern/31368349#31368349", "title": "Perl - Replace pattern only in lines matching another pattern", "body": "<p>The syntax is:</p>\n\n<pre><code>perl -pi -e \"s/const//g if /PMPI_/\" file\n</code></pre>\n\n<p>Note: you say you need multiline capabilities. I don't think you are looking for the slurp mode (that loads the whole file), but you could also work by paragraphs with the <code>-00</code> option:</p>\n\n<pre><code>echo 'PMPI_ const\nconst const' | perl -00 -p -e \"s/const//g if /PMPI_/\"\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 2032568, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/74110b3322d65254f040bfa592668d6f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2032568/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 1, "accepted_answer_id": 31368349, "answer_count": 1, "score": 1, "last_activity_date": 1436712554, "creation_date": 1436707912, "question_id": 31368300, "link": "https://stackoverflow.com/questions/31368300/perl-replace-pattern-only-in-lines-matching-another-pattern", "title": "Perl - Replace pattern only in lines matching another pattern", "body": "<p>I'm doing an in-place search &amp; replace with Perl. I need to replace all words in all lines that contain another word. For instance, remove all <code>const</code> only in lines containing <code>PMPI_</code>. With <code>sed</code> I can do:</p>\n\n<pre><code>sed -i \"/PMPI_/ s/const//g\" file.c\n</code></pre>\n\n<p>However I need multi-line capabilities and sed doesn't seem to be the right tool for the job. I'm using Perl for everything else anyway. I tried</p>\n\n<pre><code>perl -pi -e \"/PMPI_/ s/const//g\" file.c\n</code></pre>\n\n<p>And other variations with no success. I could only find vim regex equivalents searching this site.</p>\n"}, {"tags": ["regex", "perl", "csv"], "comments": [{"owner": {"reputation": 19, "user_id": 4373180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8821e4e1d74aa7349d62435fe5c062?s=128&d=identicon&r=PG&f=1", "display_name": "bryan lobson", "link": "https://stackoverflow.com/users/4373180/bryan-lobson"}, "edited": false, "score": 0, "creation_date": 1436708589, "post_id": 31368289, "comment_id": 50716266, "body": "Many Thanks, It work for me"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1436708906, "post_id": 31368289, "comment_id": 50716371, "body": "Since you&#39;re new to Stack Overflow, i suggest you to read <a href=\"http://stackoverflow.com/help/accepted-answer\">this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1436708303, "post_id": 31368337, "comment_id": 50716189, "body": "or <code>perl -ne &#39;print if !&#47;^09:23:&#47;&#39; file</code>"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1436708159, "creation_date": 1436708159, "answer_id": 31368337, "question_id": 31368289, "link": "https://stackoverflow.com/questions/31368289/perl-delete-multiple-lines-from-csv-file-beginning-with-specific-string/31368337#31368337", "title": "Perl Delete multiple lines from csv file beginning with specific string", "body": "<p>You may try this,</p>\n\n<pre><code>$ perl -lne 'print if !/^09:23\\b/' file\n09:20:02.063,110.600,110.300,110.600\n09:20:08.425,111.600,110.300,110.600\n09:21:02.684,111.600,110.300,110.600\n09:21:03.188,110.600,110.300,110.600\n09:22:05.552,110.600,110.300,110.600\n09:22:03.914,113.600,110.300,110.600\n09:24:01.004,111.600,110.300,110.600\n09:24:05.369,110.600,110.300,110.600\n</code></pre>\n\n<p>Or </p>\n\n<p>With grep,</p>\n\n<pre><code>grep -v '^09:23\\b' file\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4373180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8821e4e1d74aa7349d62435fe5c062?s=128&d=identicon&r=PG&f=1", "display_name": "bryan lobson", "link": "https://stackoverflow.com/users/4373180/bryan-lobson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436708159, "creation_date": 1436707814, "last_edit_date": 1436708104, "question_id": 31368289, "link": "https://stackoverflow.com/questions/31368289/perl-delete-multiple-lines-from-csv-file-beginning-with-specific-string", "title": "Perl Delete multiple lines from csv file beginning with specific string", "body": "<p>I have a csv file having data as below format.</p>\n\n<pre><code>09:20:02.063,110.600,110.300,110.600\n09:20:08.425,111.600,110.300,110.600\n09:21:02.684,111.600,110.300,110.600\n09:21:03.188,110.600,110.300,110.600\n09:22:05.552,110.600,110.300,110.600\n09:22:03.914,113.600,110.300,110.600\n09:23:04.282,112.600,110.300,110.600\n09:23:05.643,111.600,110.300,110.600\n09:24:01.004,111.600,110.300,110.600\n09:24:05.369,110.600,110.300,110.600\n</code></pre>\n\n<p>What I want to do is to remove the entire rows that beginning as \u201c09:23\u201d,\nHowever the data format consist of Hour:Minute:Second.Millisecond. It is difficult for me to using Perl to just specific \u201cHour:Minute\u201d to remove the rows. Any advice, Thanks</p>\n\n<p>Expected result</p>\n\n<pre><code>09:20:02.063,110.600,110.300,110.600\n09:20:08.425,111.600,110.300,110.600\n09:21:02.684,111.600,110.300,110.600\n09:21:03.188,110.600,110.300,110.600\n09:22:05.552,110.600,110.300,110.600\n09:22:03.914,113.600,110.300,110.600\n09:24:01.004,111.600,110.300,110.600\n09:24:05.369,110.600,110.300,110.600\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1436661692, "post_id": 31363223, "comment_id": 50707034, "body": "That&#39;s not a bad way.  I was thinking <a href=\"https://metacpan.org/pod/List::MoreUtils#zip-ARRAY1-ARRAY2-ARRAY3\" rel=\"nofollow noreferrer\"><code>List::MoreUtils::zip</code></a> would help, but you still have to create the array of <code>(&#39;, &#39;) x $#array</code> to be the alternate items, so it doesn&#39;t look like a big saving over this."}, {"owner": {"reputation": 719, "user_id": 2904411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d5355e354a21dd690910af55725307?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2904411/chris"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1436663444, "post_id": 31363223, "comment_id": 50707291, "body": "Thank you for the zip suggestion, checking for a solution via the <code>List::*</code> modules hadn&#39;t crossed my mind."}], "answers": [{"comments": [{"owner": {"reputation": 719, "user_id": 2904411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d5355e354a21dd690910af55725307?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2904411/chris"}, "edited": false, "score": 1, "creation_date": 1436663636, "post_id": 31363333, "comment_id": 50707311, "body": "Very nice alternative. I was puzzling over the resultant syntax error before your semicolon fix."}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 3, "last_activity_date": 1436662562, "creation_date": 1436662562, "answer_id": 31363333, "question_id": 31363223, "link": "https://stackoverflow.com/questions/31363223/insert-intermediate-elements-into-array/31363333#31363333", "title": "Insert intermediate elements into array", "body": "<p>How about:</p>\n\n<pre><code>my @array = ( 1 , 'foo', { }, [ ] );\n(undef, my @new_array) = map {; ', ' =&gt; $_ } @array;\n</code></pre>\n\n<p>This takes advantage of the little known fact that you can use <code>undef</code> on the left-hand side of a list assignment to indicate that you don't care about that element.  (The semicolon in <code>map {;</code> is to make the parser understand that's a block and not a hashref.)</p>\n"}, {"comments": [{"owner": {"reputation": 719, "user_id": 2904411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d5355e354a21dd690910af55725307?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2904411/chris"}, "edited": false, "score": 0, "creation_date": 1436714584, "post_id": 31364444, "comment_id": 50718028, "body": "In the back of my mind, I wanted rid of that lonesome pop, but this solution certainly keeps the intentions clear."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1436676243, "creation_date": 1436676243, "answer_id": 31364444, "question_id": 31363223, "link": "https://stackoverflow.com/questions/31363223/insert-intermediate-elements-into-array/31364444#31364444", "title": "Insert intermediate elements into array", "body": "<p>I think I would use a <code>map</code> instead of a <code>for</code> loop but keep your <code>pop</code></p>\n\n<pre><code>my @new_array = map { $_, ', ' } @array;\npop @new_array;\n</code></pre>\n"}], "owner": {"reputation": 719, "user_id": 2904411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d5355e354a21dd690910af55725307?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2904411/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 31363333, "answer_count": 2, "score": 2, "last_activity_date": 1436676243, "creation_date": 1436661244, "question_id": 31363223, "link": "https://stackoverflow.com/questions/31363223/insert-intermediate-elements-into-array", "title": "Insert intermediate elements into array", "body": "<p>What is the best way in which to insert an element between each existing element of an array. The best I have so far is as follows:</p>\n\n<pre><code>my @array = ( 1 , 'foo', { }, [ ] );\nmy @new_array;\npush @new_array, $_, ', ' for @array;\npop @new_array;\n</code></pre>\n\n<p>In reality, <code>@array</code> contains a mixture of HTML::Element objects and strings that are passed to HTML::Element's <code>splice_content</code> method with the aim of comma separating part of an elements contents.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1436651040, "post_id": 31362111, "comment_id": 50705007, "body": "<a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a>?"}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1436652135, "post_id": 31362111, "comment_id": 50705271, "body": "ideally without perlbrew"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436653958, "post_id": 31362111, "comment_id": 50705645, "body": "You&#39;ll need to fix paths in Config.pm. then check if <code>@INC</code> was correctly updated (it&#39;s shown by <code>perl -V</code>) by comparing the new values with the old ones. If that&#39;s correct, you should be ok."}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436654574, "post_id": 31362111, "comment_id": 50705766, "body": "@ikegami how do you fix the paths in Config.pm?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436654594, "post_id": 31362111, "comment_id": 50705770, "body": "Using your favorite text editor"}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436654677, "post_id": 31362111, "comment_id": 50705790, "body": "@ikegami oh, so just edit the Config.pm file? No reconfigure/recompile necessary?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436654711, "post_id": 31362111, "comment_id": 50705804, "body": "Well, try it. Config.pm + Config_heavy.pl, actually."}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436654757, "post_id": 31362111, "comment_id": 50705813, "body": "@ikegami ok will give it a go."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436677402, "post_id": 31362111, "comment_id": 50709472, "body": "You&#39;ll have to tell us what it is about <code>perlbrew</code> that fails your criteria"}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 2, "creation_date": 1436690433, "post_id": 31362111, "comment_id": 50711833, "body": "Just editing Config.pm will not work. There are paths compiled into the perl binary that are used to, for example, find Config.pm."}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436732436, "post_id": 31362111, "comment_id": 50723476, "body": "@Borodin I was looking for a native way within Perl to do this, as I don&#39;t have the ability to install perlbrew (we only have access to a few CPAN modules at the moment.  But I assume the best way to do such a thing in perlbrew is by using the <a href=\"http://perlbrew.pl/Install-a-sitecustomize.pl-file-with-perlbrew.html\" rel=\"nofollow noreferrer\">sitecustomize.pl</a>"}, {"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "reply_to_user": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1436732669, "post_id": 31362111, "comment_id": 50723540, "body": "@CalleDybedahl Based on some testing I&#39;ve done overnight, it looks like you are correct - there are multiple locations with the <code>prefix</code> path compiled in, so modifying <code>Config.pm</code> &amp; <code>Config_heavy.pl</code> would likely not be enough."}], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "edited": false, "score": 0, "creation_date": 1436732958, "post_id": 31366002, "comment_id": 50723615, "body": "Looks like this is the officially supported Perl way to do it.  Based on the description in the <code>INSTALL</code> file in the source, one would need to add the <code>-Duserelocatableinc</code> flag at the time <code>.&#47;Configure</code> is run to enable shifting the forthcoming built Perl to a new location."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436800694, "post_id": 31366002, "comment_id": 50751067, "body": "For sure. But the question asked how to move it if you only realized later that you needed to move it."}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1436816876, "post_id": 31366002, "comment_id": 50760777, "body": "Well, as long as you want to move it to a place with a path that&#39;s the same length or less than the original path, you could always just edit the hardcoded paths in the perl binary. Emacs hexl-mode works pretty well for that sort of thing."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 1, "last_activity_date": 1436690747, "creation_date": 1436690747, "answer_id": 31366002, "question_id": 31362111, "link": "https://stackoverflow.com/questions/31362111/move-your-compiled-perl-to-a-new-directory/31366002#31366002", "title": "Move your compiled Perl to a new directory", "body": "<p>Look in the <code>INSTALL</code> file in the Perl source tree, under the heading \"Relocatable @INC\". It's possible to do roughly what you want, but it requires compiling perl with a special flag and it has some caveats to it.</p>\n"}], "owner": {"reputation": 469, "user_id": 3000685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d94fa8d3249e2f10ccb693993c0db6ba?s=128&d=identicon&r=PG&f=1", "display_name": "secJ", "link": "https://stackoverflow.com/users/3000685/secj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 31366002, "answer_count": 1, "score": 1, "last_activity_date": 1436690747, "creation_date": 1436650759, "question_id": 31362111, "link": "https://stackoverflow.com/questions/31362111/move-your-compiled-perl-to-a-new-directory", "title": "Move your compiled Perl to a new directory", "body": "<p>If I'm compiling and running various versions of Perl, what is the best way to relocate its directory if needed? For example, if I compile Perl 5.22.0 with: </p>\n\n<pre><code>./Configure -des -Dprefix=$HOME/perl522\nmake all\nmake test\nmake install\n</code></pre>\n\n<p>But later realize I'd like to move it (and future builds) to a directory called <code>$HOME/perls/perl522/</code> -- can it be done merely using a  <code>mv perl522 ~/perls/</code> command, or does the <code>-Dprefix=</code> command used during the initial <code>Configure</code> process intrinsically link that location, thus require a full re-configuration, make, test, etc...?</p>\n\n<p>Is there a best practice / streamlined process for such a circumstance?</p>\n"}, {"tags": ["perl", "for-loop"], "answers": [{"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1436646934, "post_id": 31361460, "comment_id": 50703926, "body": "You could also use <code>.=</code> as in <code>$result .= &quot;$_ &quot;</code>"}, {"owner": {"reputation": 53052, "user_id": 728795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74899fd197722b4ddaeb21de21c6b313?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/728795/andrei"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1436650269, "post_id": 31361460, "comment_id": 50704809, "body": "@JimDavis, right, I am intentionally using more explicit syntax. Just to make it a bit clearer."}], "tags": [], "owner": {"reputation": 53052, "user_id": 728795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74899fd197722b4ddaeb21de21c6b313?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/728795/andrei"}, "is_accepted": false, "score": 1, "last_activity_date": 1436646429, "last_edit_date": 1436646429, "creation_date": 1436646128, "answer_id": 31361460, "question_id": 31361360, "link": "https://stackoverflow.com/questions/31361360/store-result-of-a-for-loop-in-perl-as-a-single-variable/31361460#31361460", "title": "Store result of a for loop in Perl as a single variable", "body": "<p>Just declare the variable and append the data at each step:</p>\n\n<pre><code>my $result = \"\";\nfor (@data) {\n    $result = $result.\"$_ \";\n}\n\nprint $result;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 3, "last_activity_date": 1436646901, "creation_date": 1436646901, "answer_id": 31361573, "question_id": 31361360, "link": "https://stackoverflow.com/questions/31361360/store-result-of-a-for-loop-in-perl-as-a-single-variable/31361573#31361573", "title": "Store result of a for loop in Perl as a single variable", "body": "<p>For this case, I'd just use a <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow\"><code>join</code></a>:</p>\n\n<pre><code>my $foo = join(' ', @data1, @data2, @data3);\nprint \"$foo \"; # space at the end to emulate your for loop\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1436677306, "creation_date": 1436677306, "answer_id": 31364531, "question_id": 31361360, "link": "https://stackoverflow.com/questions/31361360/store-result-of-a-for-loop-in-perl-as-a-single-variable/31364531#31364531", "title": "Store result of a for loop in Perl as a single variable", "body": "<p>If your intention is to keep the <code>print</code> statement but have the text go to a variable instead of to a console then that is also possible. You can print to a scalar variable if you pass a reference to that variable instead of a file name</p>\n\n<p>It looks like this. I have declared <code>$forloopresult</code> and passed <code>\\$forloopresult</code> as the third parameter of <code>open</code>. The output of <code>Data::Dump</code> shows the result</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nmy @data1 = qw/ a b c /;\nmy @data2 = qw/ aa bb cc /;\nmy @data3 = qw/ aaa bbb ccc /;\n\nmy $forloopresult;\nopen my $fh, '&gt;', \\$forloopresult or die $!;\n\nfor ( @data1, @data2, @data3 ) {\n    print $fh \"$_ \";\n}\n\ndd $forloopresult;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>\"a b c aa bb cc aaa bbb ccc \"\n</code></pre>\n"}], "owner": {"reputation": 757, "user_id": 1129909, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f138ea8e3a47e12cc7fa73d78a23460f?s=128&d=identicon&r=PG", "display_name": "DominiqueBal", "link": "https://stackoverflow.com/users/1129909/dominiquebal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 31361573, "answer_count": 3, "score": 1, "last_activity_date": 1436677306, "creation_date": 1436645520, "last_edit_date": 1436645997, "question_id": 31361360, "link": "https://stackoverflow.com/questions/31361360/store-result-of-a-for-loop-in-perl-as-a-single-variable", "title": "Store result of a for loop in Perl as a single variable", "body": "<p>I'm currently printing a result in the for loop itself:</p>\n\n<pre><code>for (@data1, @data2, @data3) {\n    print \"$_\" . \" \";\n} \n</code></pre>\n\n<p>Instead I want to process the loop quietly and store the entire result of the for loop as a variable, then print it separately like so:</p>\n\n<pre><code>print \"$forloopresult\";\n</code></pre>\n\n<p>How do I do that? Thanks!</p>\n"}, {"tags": ["python", "perl", "netstat"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1436644768, "post_id": 31361204, "comment_id": 50703313, "body": "Okay, so with that said, there is no module which can help me to avoid executing commands and saving output?"}], "tags": [], "owner": {"reputation": 56, "user_id": 5095131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40532705a8d26b8746961be35861546a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5095131/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1436644402, "last_edit_date": 1495542732, "creation_date": 1436644402, "answer_id": 31361204, "question_id": 31361121, "link": "https://stackoverflow.com/questions/31361121/python-get-data-from-netstat/31361204#31361204", "title": "Python: Get data from netstat", "body": "<p>You could start a subprocess and either wait for the results with communicate.</p>\n\n<p>Example: </p>\n\n<p><code>command = Popen(['command'], stdin=PIPE, stdout=PIPE, stderr=PIPE)\nresult1,err= command.communicate()</code> </p>\n\n<p>or follow one of the suggestions given in this other <a href=\"https://stackoverflow.com/questions/3993731/how-do-i-access-netstat-data-in-python\">question</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 695, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436649384, "creation_date": 1436643858, "question_id": 31361121, "link": "https://stackoverflow.com/questions/31361121/python-get-data-from-netstat", "title": "Python: Get data from netstat", "body": "<p>Is there any module or easy way to access <code>netstat</code> data using Python script in Linux? I remember that in Perl you could just execute <code>system(\"netstat -parameters\")</code> and save output into array, which isn't cleanest and finest way in my opinion. I wounder if there are any modules in Python which can make it possible to access same data as can be accessed using <code>netstat -ltupn</code>? If \"socket\" then how to use it?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436635454, "post_id": 31359650, "comment_id": 50700753, "body": "Which line you have problem and what result you want from regex?"}, {"owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436641774, "post_id": 31359650, "comment_id": 50702530, "body": "Hi  the scripts works and  for example $regex returns strings of         &#39;owner is  blah blah&#39;  inside the block. but when i print $regex out of the block it just prints the regex ie ^\\\\s*offense \\#"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436643167, "post_id": 31359650, "comment_id": 50702872, "body": "Inside which block $regex returns &quot;Owner is blah blah&quot; and when you print $regex out of block?I am not clear at all."}], "answers": [{"tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 0, "last_activity_date": 1436638251, "last_edit_date": 1436638251, "creation_date": 1436636507, "answer_id": 31359993, "question_id": 31359650, "link": "https://stackoverflow.com/questions/31359650/perl-how-do-you-assign-a-varanble-to-a-regex-match-result/31359993#31359993", "title": "Perl how do you assign a varanble to a regex match result", "body": "<p>The match of a regex is stored in special variables (as well as some more readable variables if you specify the regex to do so and use the <code>/p</code> flag).</p>\n\n<p>For the whole last match you're looking at the <code>$MATCH</code> (or <code>$&amp;</code> for short) variable. This is covered in the manual page <code>perlvar</code>.</p>\n\n<p>So say you wanted to store your last for loop's matches in an array called <code>@matches</code>, you could write the loop (and for some reason I think you meant it to be a foreach loop) as:</p>\n\n<pre><code>my @matches = ();\nforeach (@Qmail) {\n    next unless /$regex|^\\s*description/i;\n    push @matches_in_qmail $MATCH\n    print;\n}\n</code></pre>\n\n<p>I think you have a problem in your code. I'm not sure of the original intention but looking at these lines:</p>\n\n<pre><code>my $regex = \"^\\\\s\\*owner \\#\";\nmy $sentence = $regex =~ \"/^\\s*owner #/\";\n</code></pre>\n\n<p>I'll step through that as:</p>\n\n<ul>\n<li>Assign <code>$regex</code>to the string <code>^\\s*owner #</code>.</li>\n<li>Assign <code>$sentence</code> to value of running a match within <code>$regex</code> with the regular expression <code>/^s*owner $/</code> (which won't match, if it did <code>$sentence</code> will be <code>1</code> but since it didn't it's false).</li>\n</ul>\n\n<p>I think. I'm actually not exactly certain what that line will do or was meant to do.</p>\n"}, {"tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": false, "score": 0, "last_activity_date": 1436644295, "last_edit_date": 1436644295, "creation_date": 1436637457, "answer_id": 31360132, "question_id": 31359650, "link": "https://stackoverflow.com/questions/31359650/perl-how-do-you-assign-a-varanble-to-a-regex-match-result/31360132#31360132", "title": "Perl how do you assign a varanble to a regex match result", "body": "<p>I'm not quite sure what part of the match you want: the captures, or something else. I've written <a href=\"https://metacpan.org/pod/Regexp::Result\" rel=\"nofollow\">Regexp::Result</a> which you can use to grab all the captures etc. on a successful match, and <a href=\"https://metacpan.org/wiki/Regexp::Flow\" rel=\"nofollow\">Regexp::Flow</a> to grab multiple results (including success statuses). If you just want numbered captures, you can also use <a href=\"https://metacpan.org/pod/Data::Munge\" rel=\"nofollow\">Data::Munge</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 2, "last_activity_date": 1436644226, "creation_date": 1436644226, "answer_id": 31361178, "question_id": 31359650, "link": "https://stackoverflow.com/questions/31359650/perl-how-do-you-assign-a-varanble-to-a-regex-match-result/31361178#31361178", "title": "Perl how do you assign a varanble to a regex match result", "body": "<p>One way is to verify a match occurred.  </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = \"hello what world\";\n\nmy $match  = 'no match found';\nmy $what  = 'no what found';\nif ( $str =~ /hello (what) world/ )\n{\n   $match = $&amp;;\n   $what = $1;\n}\n\nprint '$match = ', $match, \"\\n\";\nprint '$what = ', $what, \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1335, "user_id": 92795, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4f9179800a79378e74fae4f9d09d1237?s=128&d=identicon&r=PG", "display_name": "\u0411\u0435\u0440\u043e\u0432", "link": "https://stackoverflow.com/users/92795/%d0%91%d0%b5%d1%80%d0%be%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1436708050, "creation_date": 1436708050, "answer_id": 31368323, "question_id": 31359650, "link": "https://stackoverflow.com/questions/31359650/perl-how-do-you-assign-a-varanble-to-a-regex-match-result/31368323#31368323", "title": "Perl how do you assign a varanble to a regex match result", "body": "<p>You can do the following:</p>\n\n<pre><code>my $str =\"hello world\";  \nmy ($hello, $world) = $str =~ /(hello)|(what)/; \n\nsay \"[$_]\" for($hello,$world);\n</code></pre>\n\n<p>As you see $hello contains \"hello\".</p>\n"}, {"tags": [], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "is_accepted": true, "score": 0, "last_activity_date": 1436759606, "creation_date": 1436759606, "answer_id": 31375185, "question_id": 31359650, "link": "https://stackoverflow.com/questions/31359650/perl-how-do-you-assign-a-varanble-to-a-regex-match-result/31375185#31375185", "title": "Perl how do you assign a varanble to a regex match result", "body": "<p>Use Below Perl variables to meet your requirements -</p>\n\n<p>$` = The string preceding whatever was matched by the last pattern match, not counting patterns matched in nested blocks that have been exited already.</p>\n\n<p>$&amp; = Contains the string matched by the last pattern match</p>\n\n<p>$' = The string following whatever was matched by the last pattern match, not counting patterns matched in nested blockes that have been exited already. For example:</p>\n\n<pre><code>$_ = 'abcdefghi';\n/def/; \nprint \"$`:$&amp;:$'\\n\";    # prints abc:def:ghi\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 5112957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WIXcW-ops5Y/AAAAAAAAAAI/AAAAAAAAAHw/68TEx8-WGyE/photo.jpg?sz=128", "display_name": "Minh Le", "link": "https://stackoverflow.com/users/5112957/minh-le"}, "is_accepted": false, "score": 0, "last_activity_date": 1436829395, "last_edit_date": 1436829395, "creation_date": 1436828764, "answer_id": 31394969, "question_id": 31359650, "link": "https://stackoverflow.com/questions/31359650/perl-how-do-you-assign-a-varanble-to-a-regex-match-result/31394969#31394969", "title": "Perl how do you assign a varanble to a regex match result", "body": "<p>If you have older perl on your system like me, perl 5.18 or earlier, and you use <code>$ $&amp; $'</code> like codequestor's answer above, it will slow down your program. </p>\n\n<p>Instead, you can use your regex pattern with the modifier <code>/p</code>, and then check these 3 variables: <code>${^PREMATCH}</code>, <code>${^MATCH}</code>, and <code>${^POSTMATCH}</code> for your matching results.</p>\n"}], "owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 31375185, "answer_count": 6, "score": 1, "last_activity_date": 1436829395, "creation_date": 1436634355, "last_edit_date": 1436645023, "question_id": 31359650, "link": "https://stackoverflow.com/questions/31359650/perl-how-do-you-assign-a-varanble-to-a-regex-match-result", "title": "Perl how do you assign a varanble to a regex match result", "body": "<p>How do you create a $scalar from the result of a regex match?\nIs there any way that once the script has matched the regex that it can be assigned to a variable so it can be used later on, outside of the block.\nIE. If <code>$regex_result = blah blah</code> then do something.\nI understand that I should make the regex as non-greedy as possible.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n# use diagnostics;\nuse Win32::OLE;\nuse Win32::OLE::Const 'Microsoft Outlook';\nmy @Qmail;\n\nmy $regex = \"^\\\\s\\*owner \\#\";\nmy $sentence = $regex =~ \"/^\\\\s\\*owner \\#/\";\n\nmy $outlook = Win32::OLE-&gt;new('Outlook.Application')\n    or warn \"Failed Opening Outlook.\";\nmy $namespace = $outlook-&gt;GetNamespace(\"MAPI\");\nmy $folder    = $namespace-&gt;Folders(\"test\")-&gt;Folders(\"Inbox\");\nmy $items     = $folder-&gt;Items;\n\nforeach my $msg ( $items-&gt;in ) {\n    if ( $msg-&gt;{Subject} =~ m/^(.*test alert) / ) {\n        my $name = $1;\n        print \"  processing Email for $name \\n\";\n        push @Qmail, $msg-&gt;{Body};\n    }\n}\n\nfor(@Qmail) {\n  next unless /$regex|^\\s*description/i;\n  print; # prints what i want ie lines that start with owner and description\n}\n\nprint $sentence; # prints ^\\\\s\\*offense \\ # not lines that start with owner.\n</code></pre>\n"}, {"tags": ["perl", "perldb"], "answers": [{"comments": [{"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1444265325, "post_id": 33004373, "comment_id": 53834326, "body": "Indeed, blaming <code>perldebug.pod</code> in Perl Git repo shows this was added in <code>076b743fc5f369c78306040642d57f05f84f6dba</code> on 2011-06-16. The next commit adds the corresponding notice into <code>perldelta.pod</code>, searching which in the current codebase reveals this was added in <code>5.16.0</code>."}], "tags": [], "owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1444262164, "creation_date": 1444262164, "answer_id": 33004373, "question_id": 31359145, "link": "https://stackoverflow.com/questions/31359145/continue-command-ignores-breakpoints/33004373#33004373", "title": "continue command ignores breakpoints", "body": "<p>That syntax might be a newer addition, I wasn't able to get it working here either. I have 5.8.8 on Unix and 5.10.1 on Windows and both don't seem to work. I get the breakpoint on my current line as you do (it treats the whole string as a condition).</p>\n\n<p>I'd suggest using another syntax as below.</p>\n\n<p><strong>Break on the method:</strong></p>\n\n<pre><code>b HTTP::Tiny::some_method\n</code></pre>\n\n<p><strong>Select the file, break on the line (it matches on paths, not module namespaces):</strong></p>\n\n<pre><code>f HTTP/Tiny\nb 125\n</code></pre>\n\n<p>If they are loaded at runtime with require or eval, the debugger won't know about the module yet so you can just type <code>use HTTP::Tiny</code> in the debugger first to force it to load.</p>\n"}], "owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 33004373, "answer_count": 1, "score": 0, "last_activity_date": 1444262164, "creation_date": 1436631246, "last_edit_date": 1436632037, "question_id": 31359145, "link": "https://stackoverflow.com/questions/31359145/continue-command-ignores-breakpoints", "title": "continue command ignores breakpoints", "body": "<p>I'm getting errors using CPAN and, as output is rather unhelpful, resorted to debugging this.</p>\n\n<pre><code>$ perl -d /usr/bin/cpan CPAN\n\nLoading DB routines from perl5db.pl version 1.33\n&lt;...&gt;\nmain::(/usr/bin/cpan:2):            eval 'exec /usr/bin/perl -S $0 ${1+\"$@\"}'\nmain::(/usr/bin/cpan:3):                if $running_under_some_shell;\n  DB&lt;1&gt; b /usr/lib/perl5/5.14/HTTP/Tiny.pm:125\n  DB&lt;2&gt; L\n/usr/bin/cpan:\n 2:         eval 'exec /usr/bin/perl -S $0 ${1+\"$@\"}'\n   break if (/usr/lib/perl5/5.14/HTTP/Tiny.pm:125)\n  DB&lt;2&gt; c\n</code></pre>\n\n<p>After <code>c</code>, the program runs to completion, ignoring the breakpoint.</p>\n\n<p><code>/usr/lib/perl5/5.14/HTTP/Tiny.pm:125</code> is the following line, outside any conditional blocks.</p>\n\n<pre><code>my $request = {\n    method    =&gt; $method,\n    scheme    =&gt; $scheme,\n    host_port =&gt; ($port == $DefaultPort{$scheme} ? $host : \"$host:$port\"),\n    uri       =&gt; $path_query,\n    headers   =&gt; {},\n};\n</code></pre>\n\n<p>Setting a break on line 142 (that's causing errors that I'm debugging) makes no difference.</p>\n\n<p>From the <code>L</code> output, it looks like the breakpoint is set on the current line rather than the one I need. But, <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow\"><code>perldebug</code></a> lists <code>b file:line</code> as valid syntax.</p>\n"}, {"tags": ["perl", "sleep", "par", "perl-packager"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1436631006, "post_id": 31359046, "comment_id": 50699378, "body": "<code>STDOUT-&gt;autoflush();</code> <a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">perl.plover.com/FAQs/Buffering.html</a>"}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436632086, "post_id": 31359046, "comment_id": 50699669, "body": "Great! it worked. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": true, "score": 1, "last_activity_date": 1436635370, "creation_date": 1436635370, "answer_id": 31359821, "question_id": 31359046, "link": "https://stackoverflow.com/questions/31359046/perl-par-packer-exe-file-sleep-not-working/31359821#31359821", "title": "perl par-packer exe file sleep() not working", "body": "<p>That would be an issue of flushing the buffer to <code>STDOUT</code>. You can either manually flush before the sleep with</p>\n\n<pre><code>STDOUT-&gt;flush() # a specific instance of $filehandle-&gt;flush()\n</code></pre>\n\n<p>or you can ask that the that file handle be automatically flushed for you.</p>\n\n<pre><code>STDOUT-&gt;autoflush(1);\n</code></pre>\n\n<p>Also you can turn that off with a <code>0</code> as the parameter.</p>\n\n<p>Lastly there's a less readable special variable <code>$|</code> which you can assign <code>1</code> to if you're doing some kind of one-liner or code-golfing.</p>\n"}], "owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 31359821, "answer_count": 1, "score": 1, "last_activity_date": 1436635370, "creation_date": 1436630596, "last_edit_date": 1436631728, "question_id": 31359046, "link": "https://stackoverflow.com/questions/31359046/perl-par-packer-exe-file-sleep-not-working", "title": "perl par-packer exe file sleep() not working", "body": "<p><code>hello.pl</code> is a file which works fine:</p>\n\n<pre><code>print \"Hello World\";\nsleep(5);\n</code></pre>\n\n<p>When I convert that to <code>hello.exe</code> using par-packer, window will sleep for 5 sec but won't print \"Hello World\" - which is actually printed after 5 sec and window exits.</p>\n\n<p>Any solution is appreciated. I want the print to be displayed for 5 sec.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": true, "score": 3, "last_activity_date": 1436621252, "creation_date": 1436621252, "answer_id": 31357652, "question_id": 31357598, "link": "https://stackoverflow.com/questions/31357598/perl-remove-characters-with-regex/31357652#31357652", "title": "Perl remove characters with regex", "body": "<blockquote>\n  <p>How do I remove the character \\x{a0} with regex in perl?</p>\n</blockquote>\n\n<p><code>s/\\xa0//g</code> or <code>s/\\x{a0}//g</code>.</p>\n\n<p>Demonstration:</p>\n\n<pre><code>perl -wle 'print qq(a\\x{a0}b) =~ s/\\x{a0}//gr'\n</code></pre>\n\n<p>Because in double-quoted strings <code>\\xHH</code> is an escape referring to an ASCII code-point HH where H is any hexadecimal digit and <code>\\x{HHHH}</code> refers to a Unicode codepoint HHHH.</p>\n\n<p>If you have a literal backslash, letter <code>x</code>, etc. in your string, <code>s/\\\\x\\{a0\\}//g</code> will work, but you are probably printing it with something which is escaping that string.</p>\n\n<p>Demonstration (single-quoted string does not interpolate):</p>\n\n<pre><code>perl -wle 'print q(a\\x{a0}b) =~ s/\\\\x\\{a0\\}//gr'\n</code></pre>\n"}], "owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 0, "accepted_answer_id": 31357652, "answer_count": 1, "score": 1, "last_activity_date": 1436621252, "creation_date": 1436620772, "question_id": 31357598, "link": "https://stackoverflow.com/questions/31357598/perl-remove-characters-with-regex", "title": "Perl remove characters with regex", "body": "<p>I'm a bit confused using regex in perl. I am trying to scrape a webpage, and it seems to yield strings like this: <code>Referred for adjudication-Orders issued.G.O.(Rt)No.826/2015/LBR\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0}\\x{a0} Dated</code></p>\n\n<p>I tried using the following:</p>\n\n<pre><code>$file =~ s/\\\\x\\{a0\\}//g;\n</code></pre>\n\n<p>but it doesn't strip the characters. How do I remove the character <code>\\x{a0}</code> with regex in perl?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3330, "user_id": 1075324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/750Qe.jpg?s=128&g=1", "display_name": "Abhijeet Kasurde", "link": "https://stackoverflow.com/users/1075324/abhijeet-kasurde"}, "edited": false, "score": 0, "creation_date": 1436623176, "post_id": 31357850, "comment_id": 50697199, "body": "Nice explanation. Nice to see instructions to debug things."}], "tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": false, "score": 4, "last_activity_date": 1436625863, "last_edit_date": 1436625863, "creation_date": 1436622536, "answer_id": 31357850, "question_id": 31357532, "link": "https://stackoverflow.com/questions/31357532/perlmatch-a-pattern-and-print-next-n-lines-k-times/31357850#31357850", "title": "Perl:Match a pattern and print next N lines K times", "body": "<blockquote>\n  <p>But its not working.</p>\n</blockquote>\n\n<p>This is because</p>\n\n<pre><code>if ($n-- &gt; 0) x 4\n</code></pre>\n\n<p>does not do what you want. <code>x</code> repeats a value (i.e. you're doing <code>if 1111</code>), it does not redo a statement.</p>\n\n<p>Try:</p>\n\n<pre><code>use strict; use warnings;\nwhile (&lt;FILE&gt;) {\n  if ( /count=\"(\\d+)\"/ ) {\n    for ( 1..$1 ) {\n      if ( defined ( my $l = &lt;FILE&gt; ) ) {\n        print $l;\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>That will get you started.</p>\n\n<p>In future, note:</p>\n\n<ul>\n<li>Instead of \"its not working.\", give the actual output (even if all you can say is \"it prints nothing, and throws no errors\")</li>\n<li>When something doesn't work, consider <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow\">the perl debugger</a></li>\n<li>Notice <code>use strict;</code> and <code>use warnings;</code> - <a href=\"http://perldoc.perl.org/strict.html\" rel=\"nofollow\">these will help you</a> <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow\">avoid mistakes</a>.</li>\n<li>Learn about capturing from <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow\">perlre</a> and <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">$1 and other regular-expression-related variables perlvar</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1436624340, "creation_date": 1436624340, "answer_id": 31358094, "question_id": 31357532, "link": "https://stackoverflow.com/questions/31357532/perlmatch-a-pattern-and-print-next-n-lines-k-times/31358094#31358094", "title": "Perl:Match a pattern and print next N lines K times", "body": "<p>You can try something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $count = 0;\n\nwhile (my $line = &lt;DATA&gt;){\n    if ($line =~ /count=\"(\\d+)\"/ and $1){\n        $count = $1;\n        next;\n    }\n    if ($count){\n        print $line;\n        $count--;\n    }\n}\n__DATA__\ncount=\"2\"\na\nb\nc\nd\ncount=\"1\":\ne\nf\ng\ncount=\"3\"\nh\ni\nj\nk\nl\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 4902466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIioJ.jpg?s=128&g=1", "display_name": "Sant", "link": "https://stackoverflow.com/users/4902466/sant"}, "is_accepted": false, "score": 0, "last_activity_date": 1436686957, "last_edit_date": 1436686957, "creation_date": 1436686485, "answer_id": 31365507, "question_id": 31357532, "link": "https://stackoverflow.com/questions/31357532/perlmatch-a-pattern-and-print-next-n-lines-k-times/31365507#31365507", "title": "Perl:Match a pattern and print next N lines K times", "body": "<p>you can give file/input at <code>@data</code></p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\nmy @data = qw /count=\"4\" data1-1 data2-1 data3-1 Data1 Data2 Data3/;\nmy $repeat_line = 3;\nforeach (@data)\n{\n  if ( /count=\"(\\d+)\"/ ) {\n    for ( 1..$1 ) {\n      for my $no1 ( 1..$repeat_line ) {\n    print $data[$no1],\"\\n\";\n      }\n    }\n  }\n}\nfor my $no ($repeat_line..scalar(@data)) {\n  if(defined $data[$no+1]){\n    print $data[$no+1],\"\\n\";\n  }\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>data1-1\ndata2-1\ndata3-1\ndata1-1\ndata2-1\ndata3-1\ndata1-1\ndata2-1\ndata3-1\ndata1-1\ndata2-1\ndata3-1\nData1\nData2\nData3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1463716528, "last_edit_date": 1463716528, "creation_date": 1463712962, "answer_id": 37337221, "question_id": 31357532, "link": "https://stackoverflow.com/questions/31357532/perlmatch-a-pattern-and-print-next-n-lines-k-times/37337221#37337221", "title": "Perl:Match a pattern and print next N lines K times", "body": "<p>You can use this one-liner:</p>\n\n<pre><code>perl -ne 'print m/count=\"(\\d+)\"/?$n=(&lt;&gt;.&lt;&gt;.&lt;&gt;)x$1:$_' file\n#         ^     ^                ^            ^  ^^---- the current line.\n#         |     |                |            |  '---- else\n#         |     |                |            '---- repeated $1 times\n#         |     |                '---- the three next lines (if any) stored in $n\n#         |     '---- when this pattern succeeds,\n#         '---- Print,\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5105871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e19bb1daa938fdc0144e951aca80d81?s=128&d=identicon&r=PG&f=1", "display_name": "S.K", "link": "https://stackoverflow.com/users/5105871/s-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1463716528, "creation_date": 1436620259, "last_edit_date": 1436625514, "question_id": 31357532, "link": "https://stackoverflow.com/questions/31357532/perlmatch-a-pattern-and-print-next-n-lines-k-times", "title": "Perl:Match a pattern and print next N lines K times", "body": "<p>I have a text file which is like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>count=\"4\"\ndata1\ndata2\ndata3\nData1\nData2\nData3\n</code></pre>\n\n<p>I need to search for the string <code>count</code> and take its value (4) and print the next 3 lines count(4) times.</p>\n\n<p>The output in the file should be</p>\n\n<pre><code>data1\ndata2\ndata3\ndata1\ndata2\ndata3\ndata1\ndata2\ndata3\ndata1\ndata2\ndata3\nData1\nData2\nData3\n</code></pre>\n\n<p>I tried this Perl code</p>\n\n<pre><code>while ( &lt;FILE&gt; ) {\n    $n = 3\n    if ( $_ =~ /count=\"4\"/ ) {\n        print FILE if ($n-- &gt; 0) x 4;\n    }\n</code></pre>\n\n<p>But it's not working.</p>\n"}, {"tags": ["perl", "xml-parsing", "owl", "ontology"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 1839946, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0583219114e47a831d5ad1b32a53be23?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1839946/jack"}, "edited": false, "score": 0, "creation_date": 1436625219, "post_id": 31357769, "comment_id": 50697710, "body": "Hello. In the owltools page says this &quot;The use of owltools will be phased out for this purpose in favor of ROBOT&quot;. Robot is one of the tools I tried."}, {"owner": {"reputation": 157, "user_id": 1839946, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0583219114e47a831d5ad1b32a53be23?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1839946/jack"}, "edited": false, "score": 0, "creation_date": 1436626275, "post_id": 31357769, "comment_id": 50698007, "body": "The problem with XML::Parser was that I didn&#39;t have expat installed. Now I was able to install it, however when I try to do the conversion the error persists."}], "tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": false, "score": 1, "last_activity_date": 1436622102, "creation_date": 1436622102, "answer_id": 31357769, "question_id": 31357428, "link": "https://stackoverflow.com/questions/31357428/convert-owl-ontology-to-obo/31357769#31357769", "title": "Convert OWL Ontology to OBO", "body": "<p>Have you tried <a href=\"https://github.com/owlcollab/owltools/\" rel=\"nofollow\">https://github.com/owlcollab/owltools/</a>?</p>\n\n<blockquote>\n  <p>And trying to install XML::Parser always ends with an error.</p>\n</blockquote>\n\n<p>What commands are you running to install XML::Parser? What is that error? Can you install other perl modules ok with the same commands? What about ones which require make?</p>\n"}, {"tags": [], "owner": {"reputation": 9621, "user_id": 1197045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc014d2173a1a5ea2c0417712ced8ff0?s=128&d=identicon&r=PG", "display_name": "Ignazio", "link": "https://stackoverflow.com/users/1197045/ignazio"}, "is_accepted": false, "score": 1, "last_activity_date": 1436698369, "creation_date": 1436698369, "answer_id": 31366974, "question_id": 31357428, "link": "https://stackoverflow.com/questions/31357428/convert-owl-ontology-to-obo/31366974#31366974", "title": "Convert OWL Ontology to OBO", "body": "<p>If you're using OWL API, OBO is one of the supported output formats. It is sufficient to pass an OBODocumentFormat to the saveOntology() method.</p>\n"}], "owner": {"reputation": 157, "user_id": 1839946, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0583219114e47a831d5ad1b32a53be23?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1839946/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1436698369, "creation_date": 1436619474, "question_id": 31357428, "link": "https://stackoverflow.com/questions/31357428/convert-owl-ontology-to-obo", "title": "Convert OWL Ontology to OBO", "body": "<p>I need to convert a OWL ontology to OBO.</p>\n\n<p>I've tried this tool <a href=\"https://github.com/ontodev/robot/\" rel=\"nofollow\">https://github.com/ontodev/robot/</a> but the output format isn't correct at all, just some parts.</p>\n\n<p>Also OBO-EDIT2 and Proteg\u00e9 but the weren't able to do a conversion.</p>\n\n<p>Lastly I've tried this Perl module <a href=\"http://search.cpan.org/~easr/\" rel=\"nofollow\">http://search.cpan.org/~easr/</a> however it gives this error</p>\n\n<p>Undefined subroutine &amp;XML::Parser called at /usr/local/share/perl/5.14.2/OBO/Parser/OWLParser.pm line 146.</p>\n\n<p>And trying to install XML::Parser always ends with an error.</p>\n\n<p>Could anyone help me to convert the Ontology?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436619571, "post_id": 31357395, "comment_id": 50696302, "body": "<code>push  @Qmail, split &#47;\\R\\K&#47;, $msg-&gt;{Body};</code>"}, {"owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436621305, "post_id": 31357395, "comment_id": 50696733, "body": "Excellent thank you very much."}], "owner": {"reputation": 329, "user_id": 3360439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63da06daffec34266d0b72030f141820?s=128&d=identicon&r=PG&f=1", "display_name": "user3360439", "link": "https://stackoverflow.com/users/3360439/user3360439"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1450355758, "creation_date": 1436619261, "question_id": 31357395, "link": "https://stackoverflow.com/questions/31357395/perl-how-to-push-email-body-to-an-array-a-line-at-a-time", "title": "Perl how to push email body to an array a line at a time", "body": "<p>Hi I have a script that grabs the email body from an outlook folder with a specific subject line. The next thing i want to do, is only keep lines which start with certain words using regex. \nI can achieve this if i save the email body to a filehandle, then reopen it, but it looks messy.\nIf i try and push the email body to an array it loads it as one line only,\nso the regex will not work!\nMy question is, How can i push the email to an array line by line.</p>\n\n<p>here is code sample thats works</p>\n\n<pre><code>        #!/usr/bin/perl\nuse strict;\nuse warnings;\n#use diagnostics;\nuse Win32::OLE;\nuse Win32::OLE::Const 'Microsoft Outlook';\nmy $in = \"C:\\\\Temp\\\\Qmail.txt\";\n    open( my $ifh, \"+&gt;\", $in ) or die \"$in\";\n\nmy $outlook = Win32::OLE-&gt;new('Outlook.Application')\n    or warn \"Failed Opening Outlook.\";\nmy $namespace    = $outlook-&gt;GetNamespace(\"MAPI\");\nmy $folder = $namespace-&gt;Folders(\"test\")-&gt;Folders(\"Inbox\");\nmy $items        = $folder-&gt;Items;\n\n    foreach my $msg ( $items-&gt;in ) {\n        if ( $msg-&gt;{Subject} =~ m/^(.*test alert) / ) {\n\nmy $name = $1;\n    print    \"  processing  Email for $name \\n\";\n    print $ifh $msg-&gt;{Body};\n\n        }\n\n}\nclose $ifh;\n    open(  $ifh, \"&lt;\", $in ) or die \"$in\";\nfor(&lt;$ifh&gt;) {\n\n\n  next unless /^\\s*owner|^\\s*description/i;\n  print;          \n}\n</code></pre>\n\n<p>code sample that does not work because the array is one big line.</p>\n\n<pre><code>        #!/usr/bin/perl\nuse strict;\nuse warnings;\n#use diagnostics;\nuse Win32::OLE;\nuse Win32::OLE::Const 'Microsoft Outlook';\nmy @Qmail;\n\nmy $outlook = Win32::OLE-&gt;new('Outlook.Application')\n    or warn \"Failed Opening Outlook.\";\nmy $namespace    = $outlook-&gt;GetNamespace(\"MAPI\");\nmy $folder = $namespace-&gt;Folders(\"test\")-&gt;Folders(\"Inbox\");\nmy $items        = $folder-&gt;Items;\n\n    foreach my $msg ( $items-&gt;in ) {\n        if ( $msg-&gt;{Subject} =~ m/^(.*test alert) / ) {\n\nmy $name = $1;\n    print    \"  processing  Email for $name \\n\";\n\n\n     push  @Qmail, $msg-&gt;{Body};    \n\n        }\n}\nfor(@Qmail) {\n\n  next unless /^\\s*owner|^\\s*description/i;\n  print;          \n}\n</code></pre>\n"}, {"tags": ["eclipse", "perl", "dancer", "epic"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4537589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e72df2017b2744edeb8e4dadfa458a81?s=128&d=identicon&r=PG&f=1", "display_name": "J Chen", "link": "https://stackoverflow.com/users/4537589/j-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1451097743, "creation_date": 1451097743, "answer_id": 34468050, "question_id": 31356987, "link": "https://stackoverflow.com/questions/31356987/dancer2-eclipse-integration/34468050#34468050", "title": "Dancer2 eclipse integration?", "body": "<p>You can run/debug Dancer2 application in your Eclipse IDE with following steps:  <br/>\n1.Create a new Perl project with \"File->New->Perl project\"  <br/>\n2.Import all the source code with \"Import->General->File System\" into your new Perl project.</p>\n\n<p>Now you have a Perl Dancer2 project. There's an extra thing you need to do before you run/debug the project directly inside Ecipse:  <br/>\nCopy or rename the app.psgi to app.pl, then modify ->to_app to ->dance. Now you can right click app.pl and run it as \"Local Perl\" application.</p>\n\n<p>The psgi file was for running under plack command. That was introduced in Dancer2. It was app.pl in Dancer which needs no modification.</p>\n"}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1451097743, "creation_date": 1436616195, "question_id": 31356987, "link": "https://stackoverflow.com/questions/31356987/dancer2-eclipse-integration", "title": "Dancer2 eclipse integration?", "body": "<p>I want to use dancer2 from eclipse? I have done Dynamic web projects on Java where all the </p>\n\n<p>directory structures are itself generated by eclipse.I searched google couldn't find any documentation. </p>\n\n<p>If I want these</p>\n\n<blockquote>\n  <ol>\n  <li><p>If I say new project then it should generate the file structure for\n  dancer2.</p></li>\n  <li><p>I can configure and run the server from the Eclipse itself.</p></li>\n  </ol>\n</blockquote>\n\n<p>Note: I already have EPIC plugin installed and is working.I am on linux.\nIs it possible?</p>\n"}, {"tags": ["perl", "auto-increment"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1436600399, "creation_date": 1436600399, "answer_id": 31354705, "question_id": 31354675, "link": "https://stackoverflow.com/questions/31354675/print-auto-increment-strings-from-perl-map/31354705#31354705", "title": "Print auto-increment strings from Perl map", "body": "<p>You should also check whether regex was successful in order to have desired content in <code>$1</code>,</p>\n\n<pre><code>my $i = 0;\n@myvalue = map { /^(\\d+)/ ? sprintf(\"foostring%s:%s\", ++$i, $1) : () } @myvalue;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1436606824, "creation_date": 1436606824, "answer_id": 31355595, "question_id": 31354675, "link": "https://stackoverflow.com/questions/31354675/print-auto-increment-strings-from-perl-map/31355595#31355595", "title": "Print auto-increment strings from Perl map", "body": "<p>The auto-increment operator will do this for you. This is all that is necessary</p>\n\n<pre><code>my @values = qw/ value value value value /;\n\nmy $key = 1;\nsay join ' ', map { 'foostring' . $key++ . \":$_\" } @values;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>foostring1:value foostring2:value foostring3:value foostring4:value\n</code></pre>\n"}], "owner": {"reputation": 757, "user_id": 1129909, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f138ea8e3a47e12cc7fa73d78a23460f?s=128&d=identicon&r=PG", "display_name": "DominiqueBal", "link": "https://stackoverflow.com/users/1129909/dominiquebal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 31355595, "answer_count": 2, "score": 1, "last_activity_date": 1436606824, "creation_date": 1436600120, "last_edit_date": 1436606652, "question_id": 31354675, "link": "https://stackoverflow.com/questions/31354675/print-auto-increment-strings-from-perl-map", "title": "Print auto-increment strings from Perl map", "body": "<p>This Perl script prints output like this</p>\n\n<pre><code>value value value value\n</code></pre>\n\n\n\n<pre><code>my $tree = HTML::TreeBuilder::XPath-&gt;new_from_content( $content );\n\nmy @myvalue = $tree-&gt;findvalues('//html/body/center[1]/table/tbody/tr[4]/td[1]/following-sibling::td'); \n\n@myvalue = map {/^(\\d+)/; $1} @myvalue;\nprint join(' ', @myvalue);\n</code></pre>\n\n<p>Instead I need it to print like this</p>\n\n<pre><code>foostring1:value foostring2:value foostring3:value foostringn:value\n</code></pre>\n\n<p>How do I prefix the values with an integer-auto-incremented string?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1436637039, "creation_date": 1436637039, "answer_id": 31360074, "question_id": 31352115, "link": "https://stackoverflow.com/questions/31352115/how-to-do-line-continuation-in-perl-debugger-for-entering-raw-multi-line-text-e/31360074#31360074", "title": "how to do line continuation in perl debugger for entering raw multi-line text (EOT)?", "body": "<p>Notice the <code>;</code> after <code>EOT</code> in the command that's actually run? That's causing the problem. We'll need to fool the debugger.</p>\n\n<pre><code>  DB&lt;1&gt; $s = &lt;&lt;'EOT';\\\n\n  cont: abc\\\n\n  cont: def\\\n\n  cont: EOT\\\n\n  cont: 1\n\n\n  DB&lt;2&gt; x $s\n0  'abc\ndef\n'\n</code></pre>\n"}], "owner": {"reputation": 11922, "user_id": 765271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t2IUe.jpg?s=128&g=1", "display_name": "Nasser", "link": "https://stackoverflow.com/users/765271/nasser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 31360074, "answer_count": 1, "score": 1, "last_activity_date": 1436637039, "creation_date": 1436573475, "question_id": 31352115, "link": "https://stackoverflow.com/questions/31352115/how-to-do-line-continuation-in-perl-debugger-for-entering-raw-multi-line-text-e", "title": "how to do line continuation in perl debugger for entering raw multi-line text (EOT)?", "body": "<p>I am learning Perl. I am trying in the debugger to define a variable, which is HERE-DOCUMENT. I do not know how to enter the same code as in the perl script, but to do it in the debugger. Due to new lines present inside the EOT, this makes it hard to do in the interactive debugger.</p>\n\n<p>Here is a small example. I have this script:</p>\n\n<pre><code>&gt;cat ex1.perl \n#!/usr/bin/perl -w\nmy $s =&lt;&lt;'EOT';\nthis is first line\nthis is the second line\nEOT\n\nprint $s\n</code></pre>\n\n<p>Now I run it and gives expected output:</p>\n\n<pre><code>&gt;perl ex1.perl\nthis is first line\nthis is the second line\n</code></pre>\n\n<p>Now I want to do the same in debugger. I tried this:</p>\n\n<pre><code>&gt;perl -de0\nLoading DB routines from perl5db.pl version 1.39_10\n  DB&lt;1&gt; my $s =&lt;&lt;'EOT';\\\n  cont: this is first line\\\n  cont: this is second line\\\n  cont: EOT\nCan't find string terminator \"EOT\" anywhere before EOF at (eval 6)\n[/usr/share/perl/5.18/perl5db.pl:732] line 2.\n at (eval 6)[/usr/share/perl/5.18/perl5db.pl:732] line 2.\n    eval 'no strict; ($@, $!, $^E, $,, $/, $\\\\, $^W) = @DB::saved;package \n    main; $^D = $^D | $DB::db_stop;\nmy $s =&lt;&lt;\\'EOT\\';\nthis is first line\nthis is second line\nEOT;\n' called at /usr/share/perl/5.18/perl5db.pl line 732\n    DB::eval called at /usr/share/perl/5.18/perl5db.pl line 3090\n    DB::DB called at -e line 1\n</code></pre>\n\n<p>I do not think using <code>\\</code> is correct even, but if I do not use <code>\\</code> debugger will also complain. So I am not sure how to enter the <code>EOT</code> text in the debugger.</p>\n\n<p>Is there a way to type in the same thing in the perl script, but using the debugger? I wanted to test things more easily in the debugger on EOT.</p>\n\n<p>I am using</p>\n\n<pre><code>&gt;perl --version\n\nThis is perl 5, version 18, subversion 2 (v5.18.2) built for \nx86_64-linux-gnu-thread-multi\n</code></pre>\n"}, {"tags": ["regex", "perl", "html-table"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436569304, "post_id": 31350739, "comment_id": 50686113, "body": "You&#39;re saying that you have some HTML data that contains multiple <code>table</code> elements, one of which has a <code>td</code> element that contains the text <code>Signal to Noise Ratio</code>, and you want the contents of all following <code>td</code> elements in the same <code>tr</code>. Is that correct? Can the <code>table</code> elements  be inside one another? It would help enormously if you could publish the complete HTML, perhaps on pastebin or similar"}, {"owner": {"reputation": 757, "user_id": 1129909, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f138ea8e3a47e12cc7fa73d78a23460f?s=128&d=identicon&r=PG", "display_name": "DominiqueBal", "link": "https://stackoverflow.com/users/1129909/dominiquebal"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436569942, "post_id": 31350739, "comment_id": 50686250, "body": "Exactly, correct. No, table elements are not nested. Full HTML is here: <a href=\"http://pastebin.com/73H5peKW\" rel=\"nofollow noreferrer\">pastebin.com/73H5peKW</a>"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1436570099, "post_id": 31350739, "comment_id": 50686288, "body": "@DominiqueBal: welcome in 90&#39;s"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436571480, "post_id": 31350739, "comment_id": 50686549, "body": "That&#39;s excellent. Thank you. I will take a look tomorrow if you don&#39;t get an answer in the mean time"}], "answers": [{"comments": [{"owner": {"reputation": 757, "user_id": 1129909, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f138ea8e3a47e12cc7fa73d78a23460f?s=128&d=identicon&r=PG", "display_name": "DominiqueBal", "link": "https://stackoverflow.com/users/1129909/dominiquebal"}, "edited": false, "score": 0, "creation_date": 1436589490, "post_id": 31351309, "comment_id": 50689383, "body": "Thank you very much. Makes sense to parse instead of Regex-ing. I preferred the other poster&#39;s solution with XPath but thanks a lot for putting Mojo::DOM into my attention as I&#39;ll be using it for other scripts."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1436606177, "post_id": 31351309, "comment_id": 50692876, "body": "The issue I have with <code>Mojo::DOM</code> is that it accepts only CSS selectors, which are ideal for expressing collections of elements to receive a given style, but not so good for general navigation of the HTML data tree. The biggest deficiency is the lack of any way to define the text content of the required elements, which therefore needs some Perl codeto find the <code>Signal to Noise Ratio</code> <code>&lt;td&gt;</code> element. In XPath, all that is required is <code>&#47;&#47;td[.=&quot;Signal to Noise Ratio&quot;]</code>"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1436567443, "creation_date": 1436567443, "answer_id": 31351309, "question_id": 31350739, "link": "https://stackoverflow.com/questions/31350739/parse-html-tables-for-varying-number-of-columns/31351309#31351309", "title": "Parse HTML tables for varying number of columns", "body": "<p><strong>Do not parse HTML with Regex. Use a HTML parser.</strong></p>\n\n<p>There are several HTML parser modules available on CPAN. My favorite is Mojo::DOM. You can use it like below:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Mojo::DOM;\n\nmy $HTML = &lt;&lt;\"EOF\";\n&lt;table&gt;\n&lt;TR&gt;\n&lt;TD&gt;Signal to Noise Ratio&lt;/TD&gt;\n&lt;TD&gt;35 dB&lt;/TD&gt;\n&lt;TD&gt;35 dB&lt;/TD&gt;\n&lt;/TR&gt;\n&lt;/table&gt;\nEOF\n\nmy $dom = Mojo::DOM-&gt;new( $HTML );\n\nif ($dom-&gt;at('tr td')-&gt;text() eq 'Signal to Noise Ratio'){\n   for my $e ($dom-&gt;find('td')-&gt;each) {\n      if($e-&gt;text() =~ /(\\d+)\\sdB/){\n          print $1.\"\\n\";\n      }\n   }\n}\n</code></pre>\n\n<p>For a 8 minute video tutorial on <code>Mojo::DOM</code> and <code>Mojo::UserAgent</code> check out <a href=\"http://mojocasts.com/e5\" rel=\"nofollow\"><code>Mojocast Episode 5</code></a></p>\n"}, {"comments": [{"owner": {"reputation": 757, "user_id": 1129909, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f138ea8e3a47e12cc7fa73d78a23460f?s=128&d=identicon&r=PG", "display_name": "DominiqueBal", "link": "https://stackoverflow.com/users/1129909/dominiquebal"}, "edited": false, "score": 0, "creation_date": 1436589350, "post_id": 31352113, "comment_id": 50689356, "body": "This is fantastic and very flexible, thanks! This prints &quot;value, value, value&quot;. How do I make it print &quot;SNR1: value, SNR2: value, SNR3: value&quot;? Note the SNR string with incremental number before. This would make it easier for further manipulation. Thanks!"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 757, "user_id": 1129909, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f138ea8e3a47e12cc7fa73d78a23460f?s=128&d=identicon&r=PG", "display_name": "DominiqueBal", "link": "https://stackoverflow.com/users/1129909/dominiquebal"}, "edited": false, "score": 0, "creation_date": 1436603396, "post_id": 31352113, "comment_id": 50692239, "body": "@DominiqueBal: you can use map to add &quot;SNRn&quot; to each items."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1436604582, "post_id": 31352113, "comment_id": 50692474, "body": "The explicit <code>$1</code> in your <code>map</code> is superfluous, because the block is executed in list context, and a regex match will return a list of the captures. All that is necessary is <code>@snr = map &#47;(\\d+)&#47;, @snr</code>"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 2, "last_activity_date": 1436624117, "last_edit_date": 1436624117, "creation_date": 1436573451, "answer_id": 31352113, "question_id": 31350739, "link": "https://stackoverflow.com/questions/31350739/parse-html-tables-for-varying-number-of-columns/31352113#31352113", "title": "Parse HTML tables for varying number of columns", "body": "<p>You can easily get the values you want with an XPath query, since you are looking for all the following <code>td</code> nodes at the same level after a specific <code>td</code> node.</p>\n\n<p>Here's an example using the <a href=\"http://search.cpan.org/~mirod/HTML-TreeBuilder-XPath-0.14/lib/HTML/TreeBuilder/XPath.pm\" rel=\"nofollow\"><code>HTML::TreeBuilder::XPath</code></a> module:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use HTML::TreeBuilder::XPath;\n\nmy $tree = HTML::TreeBuilder::XPath-&gt;new;\n$tree-&gt;parse_file(\"yourfile.html\");\n\nmy @snr = $tree-&gt;findvalues('//td[.=\"Signal to Noise Ratio\"]/following-sibling::td');\n$tree-&gt;delete;\n\n@snr = map /^(\\d+)/, @snr;\nprint join(', ', @snr);\n</code></pre>\n\n<p>XPath is a language to query the tree representation of an HTML/XML document, the <a href=\"http://www.w3.org/TR/DOM-Level-2-Core/introduction.html\" rel=\"nofollow\">DOM (Document Object Model) tree</a>.</p>\n\n<p>Query details:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>//   # anywhere in the tree (*)\ntd   # a `td` element with the following \"predicate\" (embedded in square brackets):\n\n[.=\"Signal to Noise Ratio\"] # predicate: the text content of the current node (figured\n                            # by a dot) is exactly \"Signal to Noise Ratio\"\n\n/following-sibling::td # 'following-sibling::' is a kind of selector called \"axis\"\n                       # that selects all nodes with the same parent node after the\n                       # current element.\n                       # 'td' selects only `td` elements in this node-set.\n</code></pre>\n\n<p><sup><em>(*) if you want you can be more explicit. Instead of using <code>//td</code>, you can describe the full path from the root element <code>/html/body/center/table/tbody/tr/td</code></em></sup></p>\n\n<p>This approach needs to build the document tree to be able to query it. It is not a fast approach, but the main advantage is that you use the HTML structure instead of a wild text approach.</p>\n\n<p>Note that you could avoid the array <code>map</code> to extract the digits at the beginning of each items. XPath has several string functions including <code>substring-before</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>//td[.=\"Signal to Noise Ratio\"]/following-sibling::td/substring-before(text(), \" dB\")\n</code></pre>\n\n<p>If performance is important, you can try another approach with a pull parser like <a href=\"http://search.cpan.org/~ovid/HTML-TokeParser-Simple-3.16/lib/HTML/TokeParser/Simple.pm\" rel=\"nofollow\"><code>HTML::TokeParser::Simple</code></a>. This is less handy to write, but it's faster because there's no DOM tree to build, and you will save memory because you can read the HTML file as a stream and stop to read it when you want without to load the whole file in memory.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1436605700, "creation_date": 1436605700, "answer_id": 31355448, "question_id": 31350739, "link": "https://stackoverflow.com/questions/31350739/parse-html-tables-for-varying-number-of-columns/31355448#31355448", "title": "Parse HTML tables for varying number of columns", "body": "<p>Here's a version using <em>Mojolicious</em>. It pulls the HTML directly from your pastebin repository</p>\n\n<p>The <code>for</code> loop iterates over all the rows in all tables. Inside it, the <code>@columns</code> array is set to the text content of all the columns (<code>&lt;td&gt;</code> elements) in the row</p>\n\n<p>The first element is checked, firstly that it exists, and secondly that it is equal to <code>Signal to Noise Ratio</code>. If so then the global array <code>@snr</code> is set to the decimal numbers in the remainder of <code>@columns</code>, and <code>last</code> stops the search for the required row</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Mojo;\n\nmy $ua = Mojo::UserAgent-&gt;new;\n\nmy $dom = $ua-&gt;get('http://pastebin.com/raw.php?i=73H5peKW')-&gt;res-&gt;dom;\n\nmy @snr;\n\nfor my $row ( $dom-&gt;find('table tr')-&gt;each ) {\n    my @columns = $row-&gt;find('td')-&gt;map('text')-&gt;each;\n    next unless @columns;\n    if ( shift @columns eq 'Signal to Noise Ratio' ) {\n        @snr = map /(\\d+)/, @columns;\n        last;\n    }\n}\n\nsay \"@snr\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>35 35 34 34 34 34 34 34\n</code></pre>\n"}], "owner": {"reputation": 757, "user_id": 1129909, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f138ea8e3a47e12cc7fa73d78a23460f?s=128&d=identicon&r=PG", "display_name": "DominiqueBal", "link": "https://stackoverflow.com/users/1129909/dominiquebal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 31352113, "answer_count": 3, "score": 2, "last_activity_date": 1495198653, "creation_date": 1436564541, "last_edit_date": 1495198653, "question_id": 31350739, "link": "https://stackoverflow.com/questions/31350739/parse-html-tables-for-varying-number-of-columns", "title": "Parse HTML tables for varying number of columns", "body": "<p>I need to parse monitoring data from a HTML table for logging purposes.</p>\n\n<p>There are multiple tables in the HTML document without any identifiers, so identifying the correct TR requires improvising.</p>\n\n<p>Particular row of interest is:</p>\n\n<pre><code>&lt;TR&gt;\n    &lt;TD&gt;Signal to Noise Ratio&lt;/TD&gt;\n    &lt;TD&gt;35 dB&lt;/TD&gt;\n    &lt;TD&gt;35 dB&lt;/TD&gt;\n    &lt;!-- MORE TDs continue here... --&gt;\n&lt;/TR&gt;\n</code></pre>\n\n<p>Thus, the identifier/constant that can be used is \"Signal to Noise Ratio\" string in TR to identify the correct TD's of interest in the document.</p>\n\n<p>The number of <code>TD</code> elements following the first that contains the identifying string in this row is variable. I need to store all integers from those elements as variables, similar to this:</p>\n\n<pre><code>my %data;\nmy @keys = qw(SNR1 SNR2 SNR3 SNR4);\n\nmy $content = LWP::Simple::get(\"http://192.168.100.1/cmSignalData.htm\")\n    or die \"Couldn't get it!\";\n\nif ( $content =~ /&lt;TD&gt;(.+?) dB&lt;\\/TD&gt;/ ) {\n    $data{SNR1} = $1;\n} \n\nfor (@keys) {\n    print \"$_:\" . $data{$_} . \" \";\n}\nprint \"\\n\";\n</code></pre>\n\n<p>And then parse other <code>TR</code> elements in other tables in the exactly same pattern.</p>\n"}, {"tags": ["perl", "http-headers", "httprequest"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1436567326, "creation_date": 1436567326, "answer_id": 31351288, "question_id": 31350488, "link": "https://stackoverflow.com/questions/31350488/perl-httprequest-with-file-upload-ignores-headers/31351288#31351288", "title": "Perl HTTP::Request with File Upload ignores Headers", "body": "<p>Please note that </p>\n\n<pre><code> HTTP::Request::Common::POST(...)\n</code></pre>\n\n<p>is not the same as </p>\n\n<pre><code>HTTP::Request-&gt;new(POST =&gt; ...)\n</code></pre>\n\n<p>but that the arguments differ.</p>\n\n<p>According to the documentation in <a href=\"https://metacpan.org/pod/HTTP::Request::Common\" rel=\"nofollow\">HTTP::Request::Common</a></p>\n\n<pre><code>   POST $url\n   POST $url, Header =&gt; Value,...\n   POST $url, $form_ref, Header =&gt; Value,...\n   POST $url, Header =&gt; Value,..., Content =&gt; $form_ref\n   POST $url, Header =&gt; Value,..., Content =&gt; $content\n</code></pre>\n\n<p>there is no documented way to use a HTTP::Headers object as the second argument.</p>\n"}], "owner": {"reputation": 202, "user_id": 3380285, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ed3c92e237cc25577ee547a308e3a95e?s=128&d=identicon&r=PG&f=1", "display_name": "Jim MacKenzie", "link": "https://stackoverflow.com/users/3380285/jim-mackenzie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 31351288, "answer_count": 1, "score": 0, "last_activity_date": 1436567326, "creation_date": 1436563345, "question_id": 31350488, "link": "https://stackoverflow.com/questions/31350488/perl-httprequest-with-file-upload-ignores-headers", "title": "Perl HTTP::Request with File Upload ignores Headers", "body": "<p>I am trying to upload a file using Content-Type of 'form-data' in Perl with HTTP::Request.</p>\n\n<p>The code looks like this:</p>\n\n<pre><code>$request = POST $URL,\n                $headers,\n                Content_Type =&gt; 'form-data',\n                Content =&gt; [\n                  'filename' =&gt; $args-&gt;{ formData }-&gt;{ filename },\n                  'options'  =&gt; $args-&gt;{ formData }-&gt;{ options }\n                ];\n</code></pre>\n\n<p>$headers is built using:</p>\n\n<pre><code>my $headers = HTTP::Headers-&gt;new();\nwhile ( my ( $name, $value ) = each %{ $args-&gt;{ headers } } ) {\n    $headers-&gt;header( $name, $value );\n}\n</code></pre>\n\n<p>This is working PERFECTLY when calling other things that do not do file uploads with this call:</p>\n\n<pre><code>$request = HTTP::Request-&gt;new( 'POST', $uri, $headers );\n</code></pre>\n\n<p>When I look at the output from the file upload call, it does not have any header information other than:</p>\n\n<pre><code>Content-Length: 918\nContent-Type: multipart/form-data; boundary=xYzZY\n</code></pre>\n\n<p>However, there is another value set which should be in there.</p>\n\n<p>If I remove \"$headers\" the output is identical.  I have also tried using</p>\n\n<pre><code>HEADERS =&gt; $headers,\n</code></pre>\n\n<p>but this just produces a header with the key of HEADERS, and a value of HASH(0x........)</p>\n\n<p>I also tried adding</p>\n\n<pre><code>X-key-name =&gt; $value,\n</code></pre>\n\n<p>but that gives an error.  Surrounding the key with quotes doesn't add it to the headers.</p>\n\n<p>I have looked for the past several hours in vain for even ONE example where a POST was done containing a file upload AND headers.</p>\n\n<p>I'm running out of ideas.</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 3, "last_activity_date": 1436711614, "last_edit_date": 1436711614, "creation_date": 1436559809, "answer_id": 31349675, "question_id": 31349499, "link": "https://stackoverflow.com/questions/31349499/looping-through-array-contained-in-a-hash/31349675#31349675", "title": "Looping through array contained in a hash", "body": "<p>In this case, you need to wrap it all in the array dereference block <code>@{}</code> so perl knows which portion you're trying to dereference...</p>\n\n<pre><code>for my $package (@{ $self-&gt;{Params}{Status}{Packages} }){\n    print \"$package\\n\";\n}\n</code></pre>\n\n<p>Also, just to keep things consistent, I prefer to always deref the array with the block when extracting, or inserting:</p>\n\n<pre><code>push @{ $self-&gt;{Params}{Status}{Packages} }, $package;\n</code></pre>\n\n<p>UPDATE: As of 5.24.0+, autoderef (using <code>keys()</code>, <code>values()</code> or <code>each()</code> with a reference) will almost certainly be removed, and replaced with postfix references. However, using the <code>@{}</code> and <code>%{}</code> will continue to be supported, and is backwards compatible, so I'd recommend using them at all times.</p>\n"}, {"tags": [], "owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "is_accepted": false, "score": 4, "last_activity_date": 1436560006, "creation_date": 1436560006, "answer_id": 31349733, "question_id": 31349499, "link": "https://stackoverflow.com/questions/31349499/looping-through-array-contained-in-a-hash/31349733#31349733", "title": "Looping through array contained in a hash", "body": "<p><code>$self-&gt;{Params}{Status}{Packages}</code> is a <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">reference</a> to an array, in Perl terminology. When you have a reference to something, put the right character in front of it to <a href=\"http://perldoc.perl.org/perlref.html#Using-References\" rel=\"nofollow\">dereference it</a>. If the reference is more than just a name with possibly some sigils in front, you need to surround it with braces. It's a matter of precedence: <code>@$self-&gt;{Params}{Status}{Packages}</code> is parsed as <code>(@$self)-&gt;{Params}{Status}{Packages}</code>, but you need</p>\n\n<pre><code>@{$self-&gt;{Params}{Status}{Packages}}\n</code></pre>\n\n<p>i.e. the array referenced by the expression <code>$self-&gt;{Params}{Status}{Packages}</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1436607536, "creation_date": 1436607536, "answer_id": 31355713, "question_id": 31349499, "link": "https://stackoverflow.com/questions/31349499/looping-through-array-contained-in-a-hash/31355713#31355713", "title": "Looping through array contained in a hash", "body": "<p>In my view, the clearest way to do this is to extract the array reference to a temporary scalar variable, which makes accessing the array very straightforward</p>\n\n<pre><code>my $packages = $self-&gt;{Params}{Status}{Packages};\nfor my $package ( @$packages ) {\n    # do something with $package. \n}\n</code></pre>\n\n<p>Also, if you have <code>use strict</code> and <code>use warnings</code> enabled as you should, your <code>add_package</code> subroutine will produce the message</p>\n\n<pre><code>push on reference is experimental\n</code></pre>\n\n<p>This isn't something you can safely ignore. Experimental features may change their behaviour or disappear completely in later versions of Perl, and it is unwise to make use of them in production code. You can fix your subroutine in a similar way, like this</p>\n\n<pre><code>sub add_package {\n    my ($self, $package_obj) = @_;\n\n    my $packages = $self-&gt;{Params}{Status}{Packages};\n    push @$packages, $package;\n}\n</code></pre>\n"}], "owner": {"reputation": 1829, "user_id": 1334858, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c4df4eb86afe87fb52513e69f12cb6ee?s=128&d=identicon&r=PG", "display_name": "user1334858", "link": "https://stackoverflow.com/users/1334858/user1334858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 31349675, "answer_count": 3, "score": 2, "last_activity_date": 1436711614, "creation_date": 1436559213, "question_id": 31349499, "link": "https://stackoverflow.com/questions/31349499/looping-through-array-contained-in-a-hash", "title": "Looping through array contained in a hash", "body": "<p>So I have an object that contains an array:</p>\n\n<pre><code>package MyObject;\n\nsub new {\n    my($type) = @_;\n    my $self-&gt;{Params}{Status}{Packages} = [];\n}\n</code></pre>\n\n<p>I have a add new package sub which appends onto this \"Package\" array like:</p>\n\n<pre><code>sub add_package {\n    my($self, $package_obj) = @_;\n\n    push $self-&gt;{Params}{Status}{Packages}, $package;\n}\n</code></pre>\n\n<p>Now when I go to find all the packages in my array I have issues. Whenever I try and pull out the packages like this:</p>\n\n<pre><code>foreach my $package($self-&gt;{Params}{Status}{Packages}) {\n    # do something with $package. \n}\n</code></pre>\n\n<p>This only loops through one time. Now from what I understand the hash actually stores a pointer to the array so I tried to do:</p>\n\n<pre><code>foreach my $package(@$self-&gt;{Params}{Status}{Packages}) {\n    # do something with $package. \n}\n</code></pre>\n\n<p>But then there is an error saying that $self is not an array. I did notice when I do:</p>\n\n<pre><code>scalar $self-&gt;{Params}{Status}{Packages};\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>@ARRAY(0xSome Address);\n</code></pre>\n\n<p>What am I missing? And how can I use a <code>foreach</code> loop to go through my array?</p>\n"}, {"tags": ["perl", "awk", "sed", "seq"], "comments": [{"owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1436558352, "post_id": 31349242, "comment_id": 50681739, "body": "Use some vim scripting magic"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 2765574, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/FtFSq.jpg?s=128&g=1", "display_name": "Justin Buchanan", "link": "https://stackoverflow.com/users/2765574/justin-buchanan"}, "edited": false, "score": 0, "creation_date": 1436558525, "post_id": 31349306, "comment_id": 50681820, "body": "Flawless victory. Much appreciated."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1436558397, "creation_date": 1436558397, "answer_id": 31349306, "question_id": 31349242, "link": "https://stackoverflow.com/questions/31349242/how-to-repeat-a-sequence-of-numbers-to-the-end-of-a-column/31349306#31349306", "title": "How to repeat a sequence of numbers to the end of a column?", "body": "<p>Perl to the rescue:</p>\n\n<pre><code>perl -pe 's/$/\" \" . $. % 5/e' &lt; input &gt; output\n</code></pre>\n\n<p>Uses 0 instead of 5.</p>\n\n<ul>\n<li><code>$.</code> is the line number.</li>\n<li><code>%</code> is the modulo operator.</li>\n<li>the <code>/e</code> modifier tells the substitution to evaluate the replacement part as code</li>\n</ul>\n\n<p>i.e. end of line (<code>$</code>) is replaced with a space concatenated (<code>.</code>) with the line number modulo 5.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 1, "last_activity_date": 1436614517, "last_edit_date": 1436614517, "creation_date": 1436558754, "answer_id": 31349388, "question_id": 31349242, "link": "https://stackoverflow.com/questions/31349242/how-to-repeat-a-sequence-of-numbers-to-the-end-of-a-column/31349388#31349388", "title": "How to repeat a sequence of numbers to the end of a column?", "body": "<pre><code>$ awk '{print $0, ((NR-1)%5)+1}' file\naa 1\nbb 2\ncc 3\ndd 4\nff 5\nnn 1\nww 2\ntt 3\npp 4\n</code></pre>\n\n<p>No need for that to create 5 separate files of course. All you need is:</p>\n\n<pre><code>awk '{print &gt; (\"file_\" ((NR-1)%5)+1)}' file\n</code></pre>\n\n<p>Looks like you're happy with a perl solution that outputs <code>1-4</code> then <code>0</code> instead of <code>1-5</code> so FYI here's the equivalent in awk:</p>\n\n<pre><code>$ awk '{print $0, NR%5}' file        \naa 1\nbb 2\ncc 3\ndd 4\nff 0\nnn 1\nww 2\ntt 3\npp 4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1436558904, "creation_date": 1436558904, "answer_id": 31349422, "question_id": 31349242, "link": "https://stackoverflow.com/questions/31349242/how-to-repeat-a-sequence-of-numbers-to-the-end-of-a-column/31349422#31349422", "title": "How to repeat a sequence of numbers to the end of a column?", "body": "<p>I am going to offer a Perl solution even though it wasn't tagged because Perl is well suited to solve this problem.</p>\n\n<p>If I understand what you want to do, you have a single file that you want to split into 5 separate files based on the position of a line in the data file:</p>\n\n<pre><code>the first line in the data file goes to file 1\nthe second line in the data file goes to file 2 \nthe third line in the data file goes to file 3 \n...\n</code></pre>\n\n<p>since you already have the lines position in the file, you don't really need the identifier column (though you could pursue that solution if you wanted). </p>\n\n<p>Instead you can open 5 filehandles and simply alternate which handle you write to: </p>\n\n<pre><code>use strict;\nuse warnings; \n\nmy $datafilename = shift @ARGV; \n\n# open filehandles and store them in an array \nmy @fhs;\nforeach my $i ( 0 .. 4 ) {\n   open my $fh, '&gt;', \"${datafilename}_$i\"\n      or die \"$!\";\n   $fhs[$i] = $fh;\n}\n\n# open the datafile \nopen my $datafile_fh, '&lt;', $datafilename \n   or die \"$!\";\n\nmy $row_number = 0;\nwhile ( my $datarow = &lt;$datafile_fh&gt; ) {\n   print { $fhs[$row_number++ % @fhs] } $datarow;\n}\n\n# close resources\nforeach my $fh ( @fhs ) {\n   close $fh; \n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 2765574, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/FtFSq.jpg?s=128&g=1", "display_name": "Justin Buchanan", "link": "https://stackoverflow.com/users/2765574/justin-buchanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 31349388, "answer_count": 3, "score": 0, "last_activity_date": 1436614517, "creation_date": 1436558151, "last_edit_date": 1436559062, "question_id": 31349242, "link": "https://stackoverflow.com/questions/31349242/how-to-repeat-a-sequence-of-numbers-to-the-end-of-a-column", "title": "How to repeat a sequence of numbers to the end of a column?", "body": "<p>I have a data file that needs a new column of identifiers from 1 to 5. The final purpose is to split the data into five separate files with no leftover file (split leaves a leftover file).</p>\n\n<p>Data:</p>\n\n<pre><code>aa\nbb\ncc\ndd\nff\nnn\nww\ntt\npp\n</code></pre>\n\n<p>with identifier column:</p>\n\n<pre><code>aa 1\nbb 2\ncc 3\ndd 4\nff 5\nnn 1\nww 2\ntt 3\npp 4\n</code></pre>\n\n<p>Not sure if this can be done with seq? Afterwards it will be split with:</p>\n\n<pre><code>awk '$2 == 1 {print $0}' \nawk '$2 == 2 {print $0}' \nawk '$2 == 3 {print $0}' \nawk '$2 == 4 {print $0}' \nawk '$2 == 5 {print $0}' \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 2, "creation_date": 1436554563, "post_id": 31348188, "comment_id": 50679968, "body": "<code>perl -lanE &#39;say $F[1] if m&#47;^abc&#47;&#39;</code>"}, {"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1436555628, "post_id": 31348188, "comment_id": 50680468, "body": "@jm666   I am looking to write a script for that.. I have something else to do with after I extract the word. So I am trying to write in as a script to call the input file and save it to output after extracting the words"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1436595357, "post_id": 31348188, "comment_id": 50690443, "body": "The <code>say $F[1] if m&#47;^abc&#47;</code> <b>is</b> the script. It is wrapped by some other code because of the flags. You can learn about them in the <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun</a>. Also, you can use the <code>perl -MO=Deparse -lanE &#39;say $F[1] if &#47;^abc&#47;&#39;</code> to see it."}, {"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1436763944, "post_id": 31348188, "comment_id": 50730184, "body": "Thank you.. I have done it."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1436766570, "post_id": 31348188, "comment_id": 50730948, "body": "You can also answer your own question. It is more helpful as the &quot;i have done it&quot;. ;)"}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "is_accepted": false, "score": 1, "last_activity_date": 1436815834, "last_edit_date": 1436815834, "creation_date": 1436811605, "answer_id": 31390629, "question_id": 31348188, "link": "https://stackoverflow.com/questions/31348188/want-to-extract-the-first-word-in-each-line-and-save-them-in-an-output-file/31390629#31390629", "title": "Want to Extract the first word in each line and save them in an output file", "body": "<pre><code>         open (tf, \"in.txt\" );\n\n         open (OUT, \" &gt; out.txt\");\n\n        while ($line = &lt;tf&gt;)\n\n        {\n\n          my @names = split / / , $line;\n\n            my $out = $names[0];\n\n            print  OUT \" $out \\n \";\n        }\n      close(tf);\n</code></pre>\n\n<p>added a bit corrected code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;\n\nopen my $ifh, '&lt;', 'in.txt';\nopen my $ofh, '&gt;', 'out.txt';\nwhile( my $line = &lt;$ifh&gt; ) {\n        my @fields = split / /, $line;\n        print $ofh $fields[0], \"\\n\";\n}\nclose $ifh;\nclose $ofh;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1489, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436815834, "creation_date": 1436554160, "last_edit_date": 1436557925, "question_id": 31348188, "link": "https://stackoverflow.com/questions/31348188/want-to-extract-the-first-word-in-each-line-and-save-them-in-an-output-file", "title": "Want to Extract the first word in each line and save them in an output file", "body": "<pre><code>abc1 17898 8779 \nabc1 68579 7879\nabc2 78794 8989\nabc2 97857 9897\nabc3 79850 9905\n\n.\n.\n.\n\nabc120  84889 9897  \nabc121  87898 7879\nabc121  87898 7879 \nabc121  87898 7879 \nabc122  87898 7879  \nabc122  87898 7879\n</code></pre>\n\n<p>Need help.. I want to words starting with abc from each line and save them<br>\n      in an output file.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nopen (tran_file, \"in.txt\" );\nopen (OUT, \" &gt; out.txt\");\n$count = 0;\n\n while ($line = &lt;tran_file&gt;)\n {\nchomp ($line);\n\nif ($line =~ m/^abc\\d*/)    \n### matching the word abc.\n    {     \n\n     if ($line =~ /\\s(\\d*)\\s+\\s(\\d+\\.\\d+)\\s+\\s(\\d+\\.\\d+)\\s(.+)/)\n          ### trying to divide the content in the line and extract the \n          word in all the lines ie., abc1, abc2, ...    \n\n            {\n                print OUT \" $1 \\n\";\n\n                  ### to print it in the output file\n            }\n     }\n  }\n  close (tran_file);\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "perl", "svg", "catalyst"], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 3396385, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/887840721/picture?type=large", "display_name": "user3396385", "link": "https://stackoverflow.com/users/3396385/user3396385"}, "edited": false, "score": 0, "creation_date": 1436793862, "post_id": 31357523, "comment_id": 50746268, "body": "That makes a lot of sense. Having catalyst serve up the file was the part of my way I was most unsure about, both from efficiency and security standpoints. I&#39;ve updated my code to use this method. Unfortunately, I&#39;m not getting a valid URL (or anything, apparently) out of the call to JQuery.ajax. I can see from the log output that the controller is being hit, and can print the return URL to the log and see that it&#39;s okay. However, the map is not updating and console.log(returnUrl); placed after the call to JQuery.ajax comes up as &quot;undefined.&quot; Can&#39;t figure out why!"}, {"owner": {"reputation": 186, "user_id": 3396385, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/887840721/picture?type=large", "display_name": "user3396385", "link": "https://stackoverflow.com/users/3396385/user3396385"}, "edited": false, "score": 0, "creation_date": 1436797393, "post_id": 31357523, "comment_id": 50748708, "body": "So it turns out that the <code>success ...</code> block is not being run. Adding <code>error: function(result) { console.log(&quot;error&quot;); }</code> prints to the console, however. Not sure why, since my logs show the controller sending the response with a 200 code. Very puzzled here!"}, {"owner": {"reputation": 186, "user_id": 3396385, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/887840721/picture?type=large", "display_name": "user3396385", "link": "https://stackoverflow.com/users/3396385/user3396385"}, "edited": false, "score": 0, "creation_date": 1436799946, "post_id": 31357523, "comment_id": 50750541, "body": "Got it working! I&#39;ve edited the code in the reply to reflect the changes I had to make."}], "tags": [], "owner": {"reputation": 3217, "user_id": 21987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e82fa3d3e0a99a93777b65a4ccda8126?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/21987/joel"}, "is_accepted": true, "score": 2, "last_activity_date": 1436620191, "creation_date": 1436620191, "answer_id": 31357523, "question_id": 31347474, "link": "https://stackoverflow.com/questions/31347474/use-catalyst-and-ajax-to-refresh-an-svg-block/31357523#31357523", "title": "Use catalyst and Ajax to refresh an SVG block", "body": "<p>Unless you have a reason to do it, I would use your web server (Apache, nginx, ...) serve the file for you instead of handling the file I/O inside of your controller.</p>\n\n<p>In your load function in javascript pass in a function that returns a URL for you:</p>\n\n<pre><code>$(document.getElementById(\"som_map\")).load(getSVGUrl(this.title));\n</code></pre>\n\n<p>Then define that function to call Catalyst to get the appropriate URL for the given mapId:</p>\n\n<pre><code>function getUrl(mapId) {\n  var returnUrl;\n  jQuery.ajax({\n     url:      \"[% c.uri_for('/maps/update_map/') %]\"\n               + mapId,\n     success:  function(result) {\n                   if(result.isOk == false)\n                       returnUrl = result.message;\n               },\n     async:    false,\n     dataType: 'text/plain'\n  }); \n  return returnUrl;\n}\n</code></pre>\n\n<p>This function should call your application and just expect to get the URL back.  It should be fast enough that making it synchronous does not matter.</p>\n\n<p>Finally, your Catalyst function should just return the URL to the document:</p>\n\n<pre><code>sub update_map :Path :Local :Args(1) {\n    my ( $self, $c, $map_id ) = @_;\n\n    my $fields = $c-&gt;model('DB::Map')-&gt;find($map_id);\n    my $map_file = $fields-&gt;get_column('map_file');\n\n    $c-&gt;res-&gt;body(\"&lt;appropriate URL path to document&gt;/$map_file\");\n}\n</code></pre>\n\n<p>This will get your application out of the document handling business, trim down your controller, and allow your web server to do what it does best - serve documents.</p>\n"}], "owner": {"reputation": 186, "user_id": 3396385, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/887840721/picture?type=large", "display_name": "user3396385", "link": "https://stackoverflow.com/users/3396385/user3396385"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 31357523, "answer_count": 1, "score": 0, "last_activity_date": 1436620191, "creation_date": 1436551602, "last_edit_date": 1436556541, "question_id": 31347474, "link": "https://stackoverflow.com/questions/31347474/use-catalyst-and-ajax-to-refresh-an-svg-block", "title": "Use catalyst and Ajax to refresh an SVG block", "body": "<p>I am building a web app in which I have a number of clickable maps, stored as static SVG files, that I would like to be able to swap dynamically based on a menu-click. So far, I have javascript code to call my Catalyst controller, and I would like it to return the contents of the SVG file in the response body. So far I can get the javascript to catch the menu clicks and call the controller, and in the controller I am able to get the name of the file out of my database. I am stuck at that step, though, and have been thus far unable to find out how to read the contents of that file in the controller and return it to the javascript controller. Any help would be appreciated!</p>\n\n<p>UPDATE:</p>\n\n<p>The (Edited) code below works, but I'm not sure if this is the best way. I would definitely be open to suggestions on ways to improve my process. Thanks!</p>\n\n<p>Javascript:</p>\n\n<pre><code>$(document).on(\"click\",\".map_select\", function(e){\n    $(document.getElementById(\"som_map\")).load(\"[% c.uri_for('/maps/update_map/') %]\" + this.title);\n})\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;svg id=\"som_map\" class=\"mapmain\" width=\"720px\" height=\"430px\"&gt;\n&lt;/svg&gt;\n</code></pre>\n\n<p>PERL</p>\n\n<pre><code>sub update_map :Path :Local :Args(1) {\n    my ( $self, $c, $map_id ) = @_;\n\n    my $fields = $c-&gt;model('DB::Map')-&gt;find($map_id);\n    my $map_file = $fields-&gt;get_column('map_file');\n\n    my $svg;\n    my $path = \"root/static/svg/$map_file\";\n    open my $fh, '&lt;', $path;\n    {\n        local $/ = undef;\n        $svg = &lt;$fh&gt;;\n    }\n    close $fh;\n    $c-&gt;res-&gt;body($svg);\n}\n</code></pre>\n\n<p>SVG files are stored in root/static/svg/</p>\n"}, {"tags": ["perl", "hashmap"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1436551140, "post_id": 31347149, "comment_id": 50678096, "body": "FYI, you should use <a href=\"http://perldoc.perl.org/functions/exists.html\" rel=\"nofollow noreferrer\"><code>exists</code></a> to check if a hash key exists, not <code>defined</code>. Out of curiosity, what do you need this for?"}, {"owner": {"reputation": 468, "user_id": 2832716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c625f09c24ee8c9c270caa33cfd4ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "alephreish", "link": "https://stackoverflow.com/users/2832716/alephreish"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436551859, "post_id": 31347149, "comment_id": 50678506, "body": "<code>defined</code> was there by design: in my particular case the values if exist are always defined. This is for duplicate filtering."}], "answers": [{"comments": [{"owner": {"reputation": 468, "user_id": 2832716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c625f09c24ee8c9c270caa33cfd4ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "alephreish", "link": "https://stackoverflow.com/users/2832716/alephreish"}, "edited": false, "score": 0, "creation_date": 1436551730, "post_id": 31347350, "comment_id": 50678426, "body": "Great! Stupid me, I didn&#39;t realize an increment for an uninitialized key is eligible. Do you have any reference for your idea that hash lookups are cached?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 468, "user_id": 2832716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c625f09c24ee8c9c270caa33cfd4ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "alephreish", "link": "https://stackoverflow.com/users/2832716/alephreish"}, "edited": false, "score": 0, "creation_date": 1436552130, "post_id": 31347350, "comment_id": 50678645, "body": "Nope, removing that bit."}, {"owner": {"reputation": 468, "user_id": 2832716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c625f09c24ee8c9c270caa33cfd4ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "alephreish", "link": "https://stackoverflow.com/users/2832716/alephreish"}, "edited": false, "score": 0, "creation_date": 1436604062, "post_id": 31347350, "comment_id": 50692375, "body": "By the way, correct me if I&#39;m wrong, but if there is no caching, your second solution (identical now with mine) invokes two lookups."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 468, "user_id": 2832716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c625f09c24ee8c9c270caa33cfd4ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "alephreish", "link": "https://stackoverflow.com/users/2832716/alephreish"}, "edited": false, "score": 0, "creation_date": 1436636447, "post_id": 31347350, "comment_id": 50701027, "body": "Yes. But lookups are rather fast, and the speed stays the same no matter how many elements you have in the hash (O(1))."}, {"owner": {"reputation": 468, "user_id": 2832716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c625f09c24ee8c9c270caa33cfd4ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "alephreish", "link": "https://stackoverflow.com/users/2832716/alephreish"}, "edited": false, "score": 0, "creation_date": 1436780825, "post_id": 31347350, "comment_id": 50738267, "body": "A minibenchmark shows, that the <code>++</code> solution is much faster than the two lookups solution, which in turn is faster than the reference solution. There doesn&#39;t seem to be any caching."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1436552148, "last_edit_date": 1436552148, "creation_date": 1436551153, "answer_id": 31347350, "question_id": 31347149, "link": "https://stackoverflow.com/questions/31347149/perl-hashes-assign-value-to-a-key-and-see-if-the-key-was-defined/31347350#31347350", "title": "Perl hashes: assign value to a key and see if the key was defined", "body": "<p>By \"item\", I think you mean \"key\".</p>\n\n<p>If the value is meaningless, you can use the following:</p>\n\n<pre><code>my $dup = $hash{$key}++;\n</code></pre>\n\n<p>If the value is meaningful, you can use the following:</p>\n\n<pre><code>my $dup = exists($hash{$key});\n$hash{$key} = $val;\n</code></pre>\n\n<p>If the value is meaningful but always defined, you can use the following:</p>\n\n<pre><code>my $ref = \\$hash{$key};\nmy $dup = defined($$ref);\n$$ref = $val;\n</code></pre>\n\n<hr>\n\n<p>By the way, the first snippet can easily be extended to filter out duplicates from a list.</p>\n\n<pre><code>my %seen;\nmy @unique = grep !$seen{$_}++, @list;\n</code></pre>\n"}], "owner": {"reputation": 468, "user_id": 2832716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c625f09c24ee8c9c270caa33cfd4ce7f?s=128&d=identicon&r=PG&f=1", "display_name": "alephreish", "link": "https://stackoverflow.com/users/2832716/alephreish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 1, "accepted_answer_id": 31347350, "answer_count": 1, "score": 4, "last_activity_date": 1436552148, "creation_date": 1436550442, "last_edit_date": 1436551887, "question_id": 31347149, "link": "https://stackoverflow.com/questions/31347149/perl-hashes-assign-value-to-a-key-and-see-if-the-key-was-defined", "title": "Perl hashes: assign value to a key and see if the key was defined", "body": "<p>Is there an efficient way to see, if a hash key assignment resulted in adding a new item or in modifying an existing one? Something similar in behavior to the <code>add</code> function in this <a href=\"http://search.cpan.org/~palvaro/Bloom-Faster-1.6/lib/Bloom/Faster.pm\" rel=\"nofollow\">Bloom's filter implementation</a>.</p>\n\n<p>In the construct below two lookups are performed: once explicitly with <code>exists</code> and another time implicitly during the assignment. The first lookup is thus logically redundant.</p>\n\n<pre><code>my %hash;\nmy $key;\n...\nmy $existed = exists $hash{$key};\n$hash{$key} = 1;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1436541491, "post_id": 31344347, "comment_id": 50672745, "body": "Welcome to Stack Overflow! Please <a href=\"https://stackoverflow.com/posts/31344347/edit\">edit</a> your question to show the contents of your data file, and your expected output."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436542048, "post_id": 31344347, "comment_id": 50673108, "body": "Hello, welcome. Code is a good start. Example input and output helps too though. I&#39;ll point out your first problem is likely that you&#39;re looking at index <code>2</code> of the array. Perl arrays start at zero, so the second column is <code>1</code>."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1436543332, "last_edit_date": 1436543332, "creation_date": 1436542757, "answer_id": 31344877, "question_id": 31344347, "link": "https://stackoverflow.com/questions/31344347/opening-spliting-and-sorting-into-an-arrray-in-perl/31344877#31344877", "title": "Opening, spliting and sorting into an Arrray in perl", "body": "<p>First off - you split on comma, so I'm going to assume your data looks something like this:</p>\n\n<pre><code>one,M\ntwo,F\nthree,M\nfour,M\nfive,F\nsix,M\n</code></pre>\n\n<p>There's a few problems with your code:</p>\n\n<ul>\n<li><p>turn on <code>strict</code> and <code>warnings</code>. The warn you about possible problems with your code</p></li>\n<li><p>open is better off written as <code>open ( my $input, \"&lt;\", $filename ) or die $!;</code></p></li>\n<li>You only actually read one line from <code>&lt;FILE&gt;</code> - because if you assign it to a scalar <code>$x</code> it only reads one line. </li>\n<li>you don't actually insert your value into either array. </li>\n</ul>\n\n<p>So to do what you're basically trying to do:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\n#define your arrays. \nmy @M_array;\nmy @F_array; \n\n#open your file. \nopen (my $input, \"&lt;\", 'ssbn1898.txt') or die $!;\n\n#read file one at a time - this sets the implicit variable $_ each loop, \n#which is what we use for the split. \nwhile ( &lt;$input&gt; ) {\n    #remove linefeeds\n    chomp;\n    #capture values from either side of the comma. \n    my ( $name, $id ) = split ( /,/ ); \n\n    #test if id is M. We _assume_ that if it's not, it must be F. \n    if ( $id eq \"M\" ) {\n        #insert it into our list. \n        push ( @M_array, $name );\n    }\n    else {\n        push ( @F_array, $name ); \n    }\n}\nclose ( $input );\n\n#print the results\nprint \"M: @M_array\\n\";\nprint \"F: @F_array\\n\";\n</code></pre>\n\n<p>You could probably do this more concisely - I'd suggest perhaps looking at hashes next, because then you can associate key-value pairs. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2479626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d914a0d3f73874f642cb6887cc74b2?s=128&d=identicon&r=PG", "display_name": "Salty Cowdawg", "link": "https://stackoverflow.com/users/2479626/salty-cowdawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1436543672, "creation_date": 1436543672, "answer_id": 31345195, "question_id": 31344347, "link": "https://stackoverflow.com/questions/31344347/opening-spliting-and-sorting-into-an-arrray-in-perl/31345195#31345195", "title": "Opening, spliting and sorting into an Arrray in perl", "body": "<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Data::Dumper; \nmy @boys=();\nmy @girls=();\nmy $fname=\"ssbn1898.txt\";  # I keep stuff like this in a scalar\nopen (FIN,\"&lt; $fname\")\n       or die \"$fname:$!\";\nwhile ( my $line=&lt;FIN&gt; ) {\n    chomp $line;\n    my @f=split(\",\",$line);\n    push @boys,$f[0] if $f[1]=~ m/[mM]/;\n    push @girls,$f[1] if $f[1]=~ m/[gG]/;\n}\nprint Dumper(\\@boys);\nprint Dumper(\\@girls);\nexit 0;\n#  Caveats:\n#       Code is not tested but should work and definitely shows the concepts\n#\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 0, "last_activity_date": 1436544160, "last_edit_date": 1436544160, "creation_date": 1436543682, "answer_id": 31345200, "question_id": 31344347, "link": "https://stackoverflow.com/questions/31344347/opening-spliting-and-sorting-into-an-arrray-in-perl/31345200#31345200", "title": "Opening, spliting and sorting into an Arrray in perl", "body": "<p>In fact the same thing...</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nmy (@m,@f);\n\nwhile(&lt;&gt;){\n  push (@m,$1) if(/(.*),M/);\n  push (@f,$1) if(/(.*),F/);\n}\n\nprint \"M=@m\\nF=@f\\n\";\n</code></pre>\n\n<p>Or a \"perl -n\" (=for all lines do) variant:</p>\n\n<pre><code>#!/usr/bin/perl -n\n\npush (@m,$1) if(/(.*),M/);\npush (@f,$1) if(/(.*),F/);\n\nEND { print \"M=@m\\nF=@f\\n\";}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1436544812, "creation_date": 1436544812, "answer_id": 31345581, "question_id": 31344347, "link": "https://stackoverflow.com/questions/31344347/opening-spliting-and-sorting-into-an-arrray-in-perl/31345581#31345581", "title": "Opening, spliting and sorting into an Arrray in perl", "body": "<p>There's a <code>part</code> function in <a href=\"https://metacpan.org/pod/List::MoreUtils\" rel=\"nofollow\">List::MoreUtils</a> that does exactly what you want.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse List::MoreUtils 'part';\n\nmy ($f, $m) = part { (split /,/)[1] eq 'M' } &lt;DATA&gt;;\n\nsay \"M: @$m\";\nsay \"F: @$f\";\n\n__END__\none,M,foo\ntwo,F,bar\nthree,M,baz\nfour,M,foo\nfive,F,bar\nsix,M,baz\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>M: one,M,foo\n three,M,baz\n four,M,foo\n six,M,baz\n\nF: two,F,bar\n five,F,bar\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5103410, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07119e5fde7b7f3d561f20e5cb81024e?s=128&d=identicon&r=PG&f=1", "display_name": "mgb16", "link": "https://stackoverflow.com/users/5103410/mgb16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1436544812, "creation_date": 1436541206, "question_id": 31344347, "link": "https://stackoverflow.com/questions/31344347/opening-spliting-and-sorting-into-an-arrray-in-perl", "title": "Opening, spliting and sorting into an Arrray in perl", "body": "<p>I am a beginner programmer, who has been given a weeklong assignment to build a complex program, but is having a difficult time starting off. I have been given a set of data, and the goal is separate it into two separate arrays by the second column, based on whether the letter is M or F. \nthis is the code I have thus far:</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nopen (FILE, \"ssbn1898.txt\");\n$x=&lt;FILE&gt;;\nsplit/[,]/$x;\n@array1=$y;\nif @array1[2]=\"M\";\nprint @array2;\nelse;\nprint @array3;\nclose (FILE);\n</code></pre>\n\n<p>How do I fixed this? Please try and use the simplest terms possible I stared coding last week!\nThank You </p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1436540404, "post_id": 31343767, "comment_id": 50672023, "body": "I think that <code>map</code> would be better off written as a <code>for</code> loop. Chances are if you&#39;re not assigning the result of <code>map</code> you&#39;re using the wrong tool."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1436540437, "post_id": 31343767, "comment_id": 50672047, "body": "Is the deletion taking place in the beginning or the end or in the middle as well?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1436540537, "post_id": 31343767, "comment_id": 50672110, "body": "Also there is a syntax error in your code. You are missing a <code>;</code>. You should not write code in the question but actually copy and paste real code that you have tested."}, {"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "edited": false, "score": 0, "creation_date": 1436541450, "post_id": 31343767, "comment_id": 50672712, "body": "Thanks simbabque, I have fixed the code and added semicolon."}, {"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "edited": false, "score": 0, "creation_date": 1436541689, "post_id": 31343767, "comment_id": 50672874, "body": "Sobrique, Used map to count the characters. I Agree with your suggestions to use to for loop for the clarity though. Anything can you think of about the solution by using single hash?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1436542140, "post_id": 31344540, "comment_id": 50673173, "body": "That will break if you do <code>fooo</code> and <code>bar</code>. In that case you need to check if the absolute is the same as the sum of the lengths."}, {"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "edited": false, "score": 0, "creation_date": 1436542256, "post_id": 31344540, "comment_id": 50673239, "body": "Michael Carman, Thanks for your work but you smelled completely wrong.I had two solution to this problem but was trying this approach.I was not able to implement in third way so i asked for the suggestions."}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1436543084, "post_id": 31344540, "comment_id": 50673748, "body": "@simbabque: You seem to have interpreted the question differently than I did. I read it as a sort of a Levenshtein edit distance that ignored order. Given that interpretation, I&#39;d expect <code>fooo</code> and <code>bar</code> to yield 7, which this does. If my interpretation is wrong, hopefully @CodeQuestor will clarify."}], "tags": [], "owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "is_accepted": true, "score": 4, "last_activity_date": 1436541758, "creation_date": 1436541758, "answer_id": 31344540, "question_id": 31343767, "link": "https://stackoverflow.com/questions/31343767/minimum-number-of-character-deletions-of-both-required-to-turn-these-strings-i/31344540#31344540", "title": "minimum number of character deletions (of both) required to turn these strings into anagrams?", "body": "<p>To use a single hash (smells like homework) increment the count for characters in the first string and decrement it for characters in the second string. Equal numbers of the same character will cancel out. Any non-zero values that remain are the magnitude of the difference, so take the absolute value when tallying the total number of differences.</p>\n\n<pre><code>my $str1 = 'aaabbc';\nmy $str2 = 'abc';\nmy %h;\nmy $c;\n\n$h{$_}++ foreach split //, $str1;\n$h{$_}-- foreach split //, $str2;\n\n$c += abs($_) foreach values %h;\n\nprint $c;\n</code></pre>\n"}], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 31344540, "answer_count": 1, "score": 1, "last_activity_date": 1436541758, "creation_date": 1436539610, "last_edit_date": 1436541265, "question_id": 31343767, "link": "https://stackoverflow.com/questions/31343767/minimum-number-of-character-deletions-of-both-required-to-turn-these-strings-i", "title": "minimum number of character deletions (of both) required to turn these strings into anagrams?", "body": "<p>Two strings are given,how many minimum number of character deletions (of both) required to turn these strings into anagrams.\nConstraint: Need to use single hash</p>\n\n<p>aaabbc abc</p>\n\n<p>Output - 3 ( 2 a and 1 b)</p>\n\n<p>I was able to achieve this using two hashes and tried below solution using one hash -</p>\n\n<pre><code>my $str1 = 'aaabbc';\nmy $str2 = 'abc';\n\nmy %h;\n\nmap{$h{$_}++} sort(//,$str1);\nmap{$h{$_}++} sort(//,$str2);\n\nmy $c = 0;\n\nforeach (keys(%h)) {\n    if($h{$_} == 1) {\n        $c++;\n    }\n}\n\nprint \"$c\\n\";\n</code></pre>\n\n<p>It will fail in many case like ('xxx', 'yyy').\nAny suggestions?</p>\n"}, {"tags": ["regex", "perl", "ternary"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 5, "creation_date": 1436539494, "post_id": 31342974, "comment_id": 50671342, "body": "Sometimes it&#39;s more important to have code that is easy to read. The guy who comes after you will thank you (or probably just curse you less :)). My suggestion is to leave it as it is."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1436540190, "post_id": 31342974, "comment_id": 50671872, "body": "As a wise man once said: &quot;Everyone knows that debugging is twice as hard as writing a program in the first place. So if you&#39;re as clever as you can be when you write it, how will you ever debug it?&quot; - Brian Kernighan"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1436539290, "post_id": 31343180, "comment_id": 50671185, "body": "While this is correct, it&#39;s incredibly illegible in just one line."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436540297, "post_id": 31343180, "comment_id": 50671955, "body": "Agreed. Even line splitting - it&#39;s still not that easy to read, and I&#39;ll happily sacrifice a few bytes to make it explicit. A future maintenance programmer might be very grumpy about it. There&#39;s even good odds that future maintenance programmer will be me."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436541892, "post_id": 31343180, "comment_id": 50673009, "body": "Good point. I routinely have to wrestle with 5.8, so that&#39;s worth adding."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1436548109, "last_edit_date": 1436548109, "creation_date": 1436538049, "answer_id": 31343180, "question_id": 31342974, "link": "https://stackoverflow.com/questions/31342974/perl-ternary-statement-with-regex-as-one-of-its-results/31343180#31343180", "title": "Perl Ternary statement with regex as one of its results", "body": "<p>The ternary conditional operator lets you specify a test and two values.</p>\n\n<p>E.g. </p>\n\n<pre><code>my $value = somecondition ? value-if-true : value-if-false;\n</code></pre>\n\n<p>Now, you aren't doing that with your example - you're setting a value, then running a subroutine (regex) if your condition is true.</p>\n\n<p>So I'd suggest whilst you possibly could, you're subverting the notion of what a ternary operator is for. And you'd still have your assignment on both 'sides' of the expression.</p>\n\n<p>E.g: </p>\n\n<pre><code>my $class = ($transform) ? $rs-&gt;{'CLS_ID'} : $rs-&gt;{'CLS_ID'} =~ s/^C\\S{1,3}\\s+//r;\n</code></pre>\n\n<p>The 'r' flag tells your regex to 'return' the modified value, without modifying the original. But I wouldn't do this, because it makes what you're doing less clear. </p>\n\n<p>Note that the <code>r</code> modifier to regex applies to perl 5.14 onwards. </p>\n"}, {"comments": [{"owner": {"reputation": 1623, "user_id": 1625688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QZEEl.jpg?s=128&g=1", "display_name": "Timmah", "link": "https://stackoverflow.com/users/1625688/timmah"}, "edited": false, "score": 0, "creation_date": 1436539103, "post_id": 31343238, "comment_id": 50671058, "body": "That&#39;s exactly what i was looking for! This still feels like a ternary operation to me (it has a test condition and a value if the condition is true and one when the condition is false)..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1436539119, "post_id": 31343238, "comment_id": 50671070, "body": "if <code>$transform</code> is false this will give a warning because <code>$class</code> is not defined. <code>(my $foo = &#39;bar&#39;) =~ s&#47;a&#47;&#47;g if (0); say $foo;</code> gives <i>Use of unitialized value <code>$foo</code> in say...</i>"}, {"owner": {"reputation": 30400, "user_id": 782609, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/21f80e8ae8c0da98241d8a0e07f94e7b?s=128&d=identicon&r=PG", "display_name": "kamituel", "link": "https://stackoverflow.com/users/782609/kamituel"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1436539204, "post_id": 31343238, "comment_id": 50671127, "body": "@simbabque  - that&#39;s true, I noticed that as well as second ago. And I already thought that I actually remember some Perl after all those years! :/"}, {"owner": {"reputation": 1623, "user_id": 1625688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QZEEl.jpg?s=128&g=1", "display_name": "Timmah", "link": "https://stackoverflow.com/users/1625688/timmah"}, "edited": false, "score": 0, "creation_date": 1436539262, "post_id": 31343238, "comment_id": 50671169, "body": "Ha... i overlooked that!"}, {"owner": {"reputation": 30400, "user_id": 782609, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/21f80e8ae8c0da98241d8a0e07f94e7b?s=128&d=identicon&r=PG", "display_name": "kamituel", "link": "https://stackoverflow.com/users/782609/kamituel"}, "edited": false, "score": 2, "creation_date": 1436541584, "post_id": 31343238, "comment_id": 50672808, "body": "I came up with a very convoluted way of doing that which is different from the other possible answers. It&#39;s way too complex, though  - see updated answer. Sun is out again, it was a nice excercise for the rainy half an hour we got here :D"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1436547989, "post_id": 31343238, "comment_id": 50676563, "body": "Its worse than &quot;<i>this solution leaves <code>$class</code> uninitialized for falsy <code>$transform</code> values</i>&quot;. It&#39;s officially undefined behaviour, and what happens is much weird than that."}], "tags": [], "owner": {"reputation": 30400, "user_id": 782609, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/21f80e8ae8c0da98241d8a0e07f94e7b?s=128&d=identicon&r=PG", "display_name": "kamituel", "link": "https://stackoverflow.com/users/782609/kamituel"}, "is_accepted": false, "score": 2, "last_activity_date": 1436548053, "last_edit_date": 1436548053, "creation_date": 1436538187, "answer_id": 31343238, "question_id": 31342974, "link": "https://stackoverflow.com/questions/31342974/perl-ternary-statement-with-regex-as-one-of-its-results/31343238#31343238", "title": "Perl Ternary statement with regex as one of its results", "body": "<p>Not with a conditional operator, but I think you're looking for this:</p>\n\n<pre><code>(my $class = 'initial-val') =~ s/something// if ($transform);\n</code></pre>\n\n<p><strong>NOTE</strong>: This is officially undefined behaviour, and has very weird side effects. I'll leave it here, though, as a example of what not to do.</p>\n\n<hr>\n\n<p>Another way it could be accomplished (assuming <code>$transform</code> is either <code>0</code> or <code>1</code>):</p>\n\n<pre><code>use strict;\n\nmy $rs = {'CLS_ID' =&gt; 'Cabc    and this should be left'};\n\n# True value\nmy $transform = 1;\nmy $class = (($transform.$rs-&gt;{'CLS_ID'}) =~ s/^(1C\\S{1,3}\\s+)|0//r);\nprint $class . \"\\n\";\n\n# False value\nmy $transform = 0;\nmy $class = (($transform.$rs-&gt;{'CLS_ID'}) =~ s/^(1C\\S{1,3}\\s+)|0//r); \nprint $class . \"\\n\";\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>and this should be left\nCabc    and this should be left\n</code></pre>\n\n<p>But... <strong>please don't do this ;)</strong></p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1436548262, "post_id": 31346492, "comment_id": 50676695, "body": "Dang, someone beat me to it. Of course, the original code is the clearest."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436548470, "post_id": 31346492, "comment_id": 50676792, "body": "I am always impressed at just how many ways you can do something like this in Perl."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436549055, "post_id": 31346492, "comment_id": 50677088, "body": "@ikegami second one in closest to original."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1436549103, "post_id": 31346492, "comment_id": 50677111, "body": "You think so? I think it&#39;s the worse of them all! &quot;for my? Does that even work!?&quot;"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1436549138, "post_id": 31346492, "comment_id": 50677130, "body": "@ikegami it runs under strict and warnings. :) I&#39;m surprised you&#39;re not familiar with it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1436549182, "post_id": 31346492, "comment_id": 50677145, "body": "I know it does, but that was my first thought. It&#39;s one of those things one thinks shouldn&#39;t work. Deep voodoo magic, I say!"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1436740104, "post_id": 31346492, "comment_id": 50725421, "body": "@briandfoy do you have any thoughts on this matter?"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1436548405, "last_edit_date": 1436548405, "creation_date": 1436547904, "answer_id": 31346492, "question_id": 31342974, "link": "https://stackoverflow.com/questions/31342974/perl-ternary-statement-with-regex-as-one-of-its-results/31346492#31346492", "title": "Perl Ternary statement with regex as one of its results", "body": "<p>Conditional operator, and no variable redundancy,</p>\n\n<pre><code>my ($class) = map { $transform ? s/^C\\S{1,3}\\s+//r : $_ } $rs-&gt;{'CLS_ID'};\n</code></pre>\n\n<p>for older perl with no <code>/r</code> switch for <code>s///</code></p>\n\n<pre><code>$transform and s/^C\\S{1,3}\\s+// for my $class = $rs-&gt;{'CLS_ID'};\n</code></pre>\n"}], "owner": {"reputation": 1623, "user_id": 1625688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QZEEl.jpg?s=128&g=1", "display_name": "Timmah", "link": "https://stackoverflow.com/users/1625688/timmah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1436548405, "creation_date": 1436537503, "last_edit_date": 1436539302, "question_id": 31342974, "link": "https://stackoverflow.com/questions/31342974/perl-ternary-statement-with-regex-as-one-of-its-results", "title": "Perl Ternary statement with regex as one of its results", "body": "<p>I currently have the following code:</p>\n\n<pre><code>my $class = $rs-&gt;{'CLS_ID'};\n$class =~ s/^C\\S{1,3}\\s+// if ($transform);\n</code></pre>\n\n<p>This works fine, but I was wondering if those 2 statements could be combined into a single ternary expression?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1436536401, "post_id": 31342416, "comment_id": 50669128, "body": "<code>Text::ParseWords</code> may be worth looking at. Or can you split on &quot;;\\n&quot; under the assumption that the semicolon will usually be at the end of line?"}, {"owner": {"reputation": 3458, "user_id": 2050788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/uIU2Z.jpg?s=128&g=1", "display_name": "Spacemoose", "link": "https://stackoverflow.com/users/2050788/spacemoose"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436536705, "post_id": 31342416, "comment_id": 50669352, "body": "Boy, that is a simple and excellent idea that will take me from 1% fail to .001% fail.  I&#39;m smacking my head.  Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1436536915, "creation_date": 1436536915, "answer_id": 31342762, "question_id": 31342416, "link": "https://stackoverflow.com/questions/31342416/perl-use-only-an-unquoted-read-line-separator/31342762#31342762", "title": "Perl use only an unquoted read-line separator", "body": "<p>A simple answer might be - for most code - assume a 'statement' is a semicolon at end of line. It doesn't have to be though. </p>\n\n<p>However 'doing it right' might be <code>Text::ParseWords</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nuse Text::ParseWords;\n\nlocal $/;\nmy @statements = quotewords( \";\", 0, &lt;DATA&gt; );\n\nprint Dumper \\@statements;\n\n__DATA__\nstatement; another statement;\nstatement2; \"some text; with a semicolon\"; nothing here;\nmulti\nline\nstatement ;\nhere\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>$VAR1 = [\n          'statement',\n          ' another statement',\n          '\nstatement2',\n          ' some text; with a semicolon',\n          ' nothing here',\n          '\nmulti\nline\nstatement ',\n          '\nhere\n'\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1436539409, "last_edit_date": 1436539409, "creation_date": 1436538514, "answer_id": 31343356, "question_id": 31342416, "link": "https://stackoverflow.com/questions/31342416/perl-use-only-an-unquoted-read-line-separator/31343356#31343356", "title": "Perl use only an unquoted read-line separator", "body": "<p>We can use a regex to find and temporarily replace quoted semicolons with something else.  </p>\n\n<pre><code> $_ =~ s/(['\"][^;]+)(;)([^;]+['\"].*)/$1 QUOTED_SEMI_COLON $3/;    \n</code></pre>\n\n<p>After running your script that separates lines at semicolon, QUOTED_SEMI_COLON can be replaced with ';'  </p>\n"}], "owner": {"reputation": 3458, "user_id": 2050788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/uIU2Z.jpg?s=128&g=1", "display_name": "Spacemoose", "link": "https://stackoverflow.com/users/2050788/spacemoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1436539409, "creation_date": 1436536021, "last_edit_date": 1436536567, "question_id": 31342416, "link": "https://stackoverflow.com/questions/31342416/perl-use-only-an-unquoted-read-line-separator", "title": "Perl use only an unquoted read-line separator", "body": "<p>I would like the input record separator <code>$/</code> to work only outside quoted strings. Here's a concrete example.</p>\n\n<p>I have written a Perl tool that relies on separating lines by semicolons <code>;</code> to extract individual C++ statements which can then be handled line-by-line. I have done this with:</p>\n\n<pre><code>$/ = ';';\n</code></pre>\n\n<p>Unfortunately it fails in the case that the code has quoted semicolons. For example</p>\n\n<pre><code>cout &lt;&lt; \"I feel it's necessary to separate this message; with a semicolon\\n\".\n</code></pre>\n\n<p>I can live with a small number of misses, but is there an easy fix for this?</p>\n"}, {"tags": ["perl", "iis", "iis-7.5"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1436535192, "post_id": 31341843, "comment_id": 50668240, "body": "I guess permission issue or cgi not enabled."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1436535222, "post_id": 31341843, "comment_id": 50668269, "body": "Doesn&#39;t the IIS log show some more information as to why this fails? &quot;Everything works except that from my localhost&quot; Does this work if you browse via another machine?"}, {"owner": {"reputation": 951, "user_id": 1615129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/632cc606b563c8c2f5ea5158d202a323?s=128&d=identicon&r=PG&f=1", "display_name": "Jap Evans", "link": "https://stackoverflow.com/users/1615129/jap-evans"}, "edited": false, "score": 0, "creation_date": 1436540605, "post_id": 31341843, "comment_id": 50672153, "body": "I checked the IIS logs and eventvwr. Nothing. Browsing via another machine also does not work."}], "answers": [{"tags": [], "owner": {"reputation": 951, "user_id": 1615129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/632cc606b563c8c2f5ea5158d202a323?s=128&d=identicon&r=PG&f=1", "display_name": "Jap Evans", "link": "https://stackoverflow.com/users/1615129/jap-evans"}, "is_accepted": false, "score": 0, "last_activity_date": 1437510502, "creation_date": 1437510502, "answer_id": 31548986, "question_id": 31341843, "link": "https://stackoverflow.com/questions/31341843/cgi-pages-not-working-from-local-iis/31548986#31548986", "title": "cgi pages not working from local IIS", "body": "<p>Finally this is what i did</p>\n\n<ul>\n<li>Uninstall Perl if you have it installed already. (We will reinstall after we install IIS). Delete c:Perl if you have. Importantly, make a copy before you do.</li>\n<li>Uninstall IIS if you have it installed already. (We will reinstall). Delete c:inetpub and c:\\Windows\\system32inetsrv. Make a copy before you do, just in case.</li>\n<li><p>After uninstalling through control panel, execute the following uninstall command also for clean uninstall</p>\n\n<p>start /w pkgmgr /uu:IIS-WebServerRole;IIS-WebServerManagementTools;IIS-IIS6ManagementCompatibility;IIS-Metabase;IIS-WMICompatibility;IIS-ManagementConsole;IIS-ManagementScriptingTools;IIS-WebServer;IIS-CommonHttpFeatures;IIS-StaticContent;IIS-DefaultDocument;IIS-DirectoryBrowsing;IIS-HttpErrors;IIS-HttpRedirect;IIS-ApplicationDevelopment;IIS-ASP;IIS-ASPNET;IIS-ISAPIExtensions;IIS-ISAPIFilter;IIS-NetFxExtensibility;IIS-ServerSideIncludes;IIS-HealthAndDiagnostics;IIS-HttpLogging;IIS-HttpTracing;IIS-LoggingLibraries;IIS-RequestMonitor;IIS-Performance;IIS-HttpCompressionStatic;IIS-Security;IIS-RequestFiltering;IIS-WindowsAuthentication;WAS-WindowsActivationService;WAS-ProcessModel;WAS-NetFxEnvironment;WAS-ConfigurationAPI</p></li>\n<li><p>Restart the machine</p></li>\n<li><p>Install IIS. Make sure to install CGI part in IIS before installing perl</p></li>\n<li><p>Check if everything in IIS (other than CGI) works. You may have to register aspnet after IIS install. </p>\n\n<p>%windir%Microsoft.NETFramework64v4.0.30319aspnet_regiis.exe -i</p></li>\n<li><p>Install Perl. When clicking Next, you should see a screen for 'Choose Setup Options' and have options like a) Add perl to the PATH environment variable b) Create .plx script mapping for perl ISAPI, c) create .pl script mapping for PERL etc. Check all of those options</p></li>\n<li><p>Compare your backed up perl location and the new location (C:\\Perl). Copy any missing files</p></li>\n<li><p>Create application pool and virtual directory in IIS. In application pool, \"Enable 32 bit application\"</p></li>\n<li><p>Add ISAPI and CGI restrictions in IIS. Do the following from command prompt.</p>\n\n<p>c:\\Windows\\System32\\inetsrv>appcmd set config /section:isapiCgiRestriction /+\"[path='C:perlbinperl.exe \"%s %s\"',description='Perl',allowed='True']\"</p></li>\n</ul>\n"}], "owner": {"reputation": 951, "user_id": 1615129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/632cc606b563c8c2f5ea5158d202a323?s=128&d=identicon&r=PG&f=1", "display_name": "Jap Evans", "link": "https://stackoverflow.com/users/1615129/jap-evans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1098, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437510502, "creation_date": 1436534397, "question_id": 31341843, "link": "https://stackoverflow.com/questions/31341843/cgi-pages-not-working-from-local-iis", "title": "cgi pages not working from local IIS", "body": "<p>I recently had my computer reimaged and reinstalled everything. Everything works except that from my localhost, if i browse a cgi page it throws </p>\n\n<blockquote>\n  <p>HTTP Error 500.0 - Internal Server Error The page cannot be displayed\n  because an internal server error has occurred.</p>\n  \n  <p>Module CgiModule </p>\n  \n  <p>Notification ExecuteRequestHandler </p>\n  \n  <p>Handler Perl script </p>\n  \n  <p>Error Code 0x800700c1 </p>\n  \n  <p>Requested URL localhost:80/website1/index.cgi </p>\n  \n  <p>Logon Method NTLM </p>\n</blockquote>\n\n<p>I have Windows authentication enabled and everything else disabled. My ISAPI and CGI restriction shows everything is allowed. My Handler Mappings (at machine level) has *.cgi enabled with CGIModule (which runs \\inetsrv\\cgi.dll which exists). I dont know what else to check. Please advise.</p>\n\n<p>Any idea how to correct/debug this? I have IIS 7.5 on windows 7.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed", "grep"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4846333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb19407df5587de84de34292e8afee2b?s=128&d=identicon&r=PG&f=1", "display_name": "Santino02", "link": "https://stackoverflow.com/users/4846333/santino02"}, "edited": false, "score": 0, "creation_date": 1436540538, "post_id": 31341255, "comment_id": 50672111, "body": "thank you very much - also for your detailed description - it works perfect!"}], "tags": [], "owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "is_accepted": true, "score": -1, "last_activity_date": 1436532653, "creation_date": 1436532653, "answer_id": 31341255, "question_id": 31340699, "link": "https://stackoverflow.com/questions/31340699/checking-and-altering-value-of-next-line/31341255#31341255", "title": "Checking and altering value of next line", "body": "<p>With sed:</p>\n\n<pre><code>sed '/[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}/! { H; $!d; }; x; //!d; /\\n.*\\n/d' filename\n</code></pre>\n\n<p>This keeps in the hold buffer the last found IP address and the lines that come after it until the next IP address or end of file is found, then checks whether there's more than two lines in it and prints or discards the block accordingly.</p>\n\n<p>LIne by line:</p>\n\n<pre><code># If there is no IP address in the current line (note the ! after the condition)\n/[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}\\.[0-9]\\{1,3\\}/! {\n\n  # append the line to the hold buffer.\n  H\n\n  # and unless it is the last one, continue with the next line, not printing\n  # anything.\n  $!d\n}\n\n# We only get here if there was an IP address or this is the last line. Swap in\n# the remembered things from the hold buffer (placing the IP address in the hold\n# buffer at the same time)\nx\n\n# If there's no IP address in the stuff we swapped in (// reattempts the last\n# regex, which is the IP regex, and that there isn't one happens the very first\n# time we get here), discard it.\n//!d\n\n# If there are two newlines in it, discard it also.\n/\\n.*\\n/d\n\n# Otherwise we drop off here and it is printed.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8543, "user_id": 5008284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AvSMy.jpg?s=128&g=1", "display_name": "meuh", "link": "https://stackoverflow.com/users/5008284/meuh"}, "is_accepted": false, "score": 1, "last_activity_date": 1436532832, "creation_date": 1436532832, "answer_id": 31341313, "question_id": 31340699, "link": "https://stackoverflow.com/questions/31340699/checking-and-altering-value-of-next-line/31341313#31341313", "title": "Checking and altering value of next line", "body": "<p>The following matches lines with <code>.</code> and starts to accumulate the lines in variable <code>acc</code>. Other lines get concatenated onto the variable with an intervening newline. At the end, or when a line has a <code>.</code>, if the <code>acc</code> variable has exactly 1 newline (ie splits into 2 parts), it is printed.\nPipe your data into it.</p>\n\n<pre><code>awk '/\\./{ if(split(acc,x,\"\\n\")==2)print acc; acc = $1; next }\n         { acc = acc \"\\n\" $0 }\n      END{ if(split(acc,x,\"\\n\")==2)print acc }'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1436533112, "creation_date": 1436533112, "answer_id": 31341407, "question_id": 31340699, "link": "https://stackoverflow.com/questions/31340699/checking-and-altering-value-of-next-line/31341407#31341407", "title": "Checking and altering value of next line", "body": "<p>A perl way:</p>\n\n<pre><code>$/=undef;\nmy $str = &lt;DATA&gt;;\n$str =~ s/\\d+(?:\\.\\d+){3}\\R(?:\\d+\\R){2,}//g;\nsay $str;\n\n__DATA__\n1.0.0.2\n32\n255.0.0.6\n0\n32.0.191.171\n64\n32\n128.1.1.1\n128\n64\n128\n97.4.100.3\n32\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1.0.0.2\n32\n255.0.0.6\n0\n97.4.100.3\n32\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1436533545, "creation_date": 1436533545, "answer_id": 31341555, "question_id": 31340699, "link": "https://stackoverflow.com/questions/31340699/checking-and-altering-value-of-next-line/31341555#31341555", "title": "Checking and altering value of next line", "body": "<p>Another <code>perl</code> approach - I know you already have one, but this takes a different angle.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $current_buffer = '';\nmy $notip = 0;\nwhile (&lt;&gt;) {\n    if ( my ($ip) = m/^(\\d+\\.\\d+\\.\\d+\\.\\d+)$/ ) {\n        if ( $notip &lt;= 1 ) { print $current_buffer; }\n        $current_buffer = $ip . \"\\n\";\n        $notip          = 0;\n    }\n    else {\n        $notip++;\n        $current_buffer .= $_;\n    }\n}\n\nprint $current_buffer if $notip &lt;= 1;\n</code></pre>\n\n<p>Builds up a buffer as it's processing, and 'flushes' or 'discards' the buffer depending on how many numbers follow it. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1436536303, "creation_date": 1436536303, "answer_id": 31342521, "question_id": 31340699, "link": "https://stackoverflow.com/questions/31340699/checking-and-altering-value-of-next-line/31342521#31342521", "title": "Checking and altering value of next line", "body": "<p>This Perl solution works in a different way. It reads the input one line at a time, and starts a new block in <code>@blocks</code> every time a line containing a dot is encountered. That has the result of splitting the input into blocks of lines each starting with an IP address</p>\n\n<p>Then those accumulated blocks that have exactly two lines are printed out</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @blocks;\n\nwhile ( &lt;DATA&gt; ) {\n    push @blocks, [ ] if /\\./;\n    push @{ $blocks[-1] }, $_;\n}\n\nfor my $block ( @blocks ) {\n  print @$block if @$block == 2;\n}\n\n__DATA__\n1.0.0.2\n32\n255.0.0.6\n0\n32.0.191.171\n64\n32\n128.1.1.1\n128\n64\n128\n97.4.100.3\n32\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1.0.0.2\n32\n255.0.0.6\n0\n97.4.100.3\n32\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4846333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb19407df5587de84de34292e8afee2b?s=128&d=identicon&r=PG&f=1", "display_name": "Santino02", "link": "https://stackoverflow.com/users/4846333/santino02"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 31341255, "answer_count": 5, "score": 2, "last_activity_date": 1436536303, "creation_date": 1436531050, "question_id": 31340699, "link": "https://stackoverflow.com/questions/31340699/checking-and-altering-value-of-next-line", "title": "Checking and altering value of next line", "body": "<p>I have a file like this:</p>\n\n<pre><code>1.0.0.2\n32\n255.0.0.6\n0\n32.0.191.171\n64\n32\n128.1.1.1\n128\n64\n128\n97.4.100.3\n32\n</code></pre>\n\n<p>and it should look like this (The file contains IPs and numbers. Every IP should be followed by exactly one number, not more. If an IP is followed by two or more numbers the IP and the numbers should be deleted):</p>\n\n<pre><code>1.0.0.2\n32\n255.0.0.6\n0\n97.4.100.3\n32\n</code></pre>\n\n<p>I tried some code with awk (get line, prev), but unfortunately could\u00b4t get it done. I don't know if it helps, but I think this code should identify the IP:</p>\n\n<pre><code>awk --re-interval '{\n    if ($0 ~ /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/) \n    { \n\n    } \n    }' \n</code></pre>\n"}, {"tags": ["arrays", "string", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436527622, "post_id": 31339404, "comment_id": 50663207, "body": "Are you after just &quot;one&quot; being reported as a dupe? E.g. not substring matching?"}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 5097398, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cca362159895ab687c4f4e52649f782d?s=128&d=identicon&r=PG&f=1", "display_name": "nieka", "link": "https://stackoverflow.com/users/5097398/nieka"}, "edited": false, "score": 0, "creation_date": 1436528274, "post_id": 31339613, "comment_id": 50663578, "body": "I don&#39;t want to &quot;pick out&quot; duplicates. I want to print an error message if there are duplicates in the array, and not change the array/erase the duplicates!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 229, "user_id": 5097398, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cca362159895ab687c4f4e52649f782d?s=128&d=identicon&r=PG&f=1", "display_name": "nieka", "link": "https://stackoverflow.com/users/5097398/nieka"}, "edited": false, "score": 0, "creation_date": 1436529135, "post_id": 31339613, "comment_id": 50664081, "body": "This doesn&#39;t modify your array -  <code>grep</code> creates a &#39;new&#39; one that you print. I&#39;ve added a snippet that I <i>think</i> does what you desire?"}, {"owner": {"reputation": 229, "user_id": 5097398, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cca362159895ab687c4f4e52649f782d?s=128&d=identicon&r=PG&f=1", "display_name": "nieka", "link": "https://stackoverflow.com/users/5097398/nieka"}, "edited": false, "score": 1, "creation_date": 1436862470, "post_id": 31339613, "comment_id": 50777247, "body": "Sorry for the late answer. Your answer worked perfectly fine and solved my problem! Thanks a lot ;)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1436529099, "last_edit_date": 1436529099, "creation_date": 1436527597, "answer_id": 31339613, "question_id": 31339404, "link": "https://stackoverflow.com/questions/31339404/perl-count-for-matching-strings-in-an-array/31339613#31339613", "title": "Perl count for matching strings in an array", "body": "<p>I wouldn't use <code>true</code> for this - it looks like what you're trying to do is 'pick out' duplicates, and don't care about substrings. </p>\n\n<pre><code>my %seen;\n$seen{$_}++ for @list; \nprint grep { $seen{$_} &gt; 1 } @list; \n</code></pre>\n\n<p>So to replicate your test:</p>\n\n<pre><code>my %count_of;\n$count_of{$_}++ for @list;  \nforeach my $duplicate (  grep { $count_of{$_} &gt; 1 } @list ) {\n    print \"Error: $duplicate was seen $count_of{$duplicate} time\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436528073, "post_id": 31339619, "comment_id": 50663457, "body": "Altogether a more comprehensive answer. I think we&#39;ve reached similar conclusions it that <code>true</code> isn&#39;t really the right thing to be using."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436528568, "post_id": 31339619, "comment_id": 50663749, "body": "Thank you @Sobrique. :) Have you btw notices that our names look similar? That always creeps me out."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1436528292, "last_edit_date": 1495535209, "creation_date": 1436527612, "answer_id": 31339619, "question_id": 31339404, "link": "https://stackoverflow.com/questions/31339404/perl-count-for-matching-strings-in-an-array/31339619#31339619", "title": "Perl count for matching strings in an array", "body": "<p>You're actually not matching anything. I added debug output to your code.</p>\n\n<pre><code>my @list = ( \"one\", \"two\", \"three\", \"onefour\", \"one\" );\n\nforeach my $f (@list) {\n    say \"f: $f\";\n    my $length = length($f);\n    say \"length: $length\";\n    say \"true { $length &amp;&amp; $f} $_: \" . ( $length &amp;&amp; \"$f\" ) for @list;\n    my $count = true { $length &amp;&amp; \"$f\" } @list;\n    say \"count: $count\";\n\n    if ( $count &gt; 1 ) {\n        print \"Error with: \", $f, \" counted \", $count, \" times!\\n\";\n    }\n    $count = 0;\n}\n</code></pre>\n\n<p>Let's take a look:</p>\n\n<pre><code>f: one\nlength: 3\ntrue { 3 &amp;&amp; one} one: one\ntrue { 3 &amp;&amp; one} two: one\ntrue { 3 &amp;&amp; one} three: one\ntrue { 3 &amp;&amp; one} onefour: one\ntrue { 3 &amp;&amp; one} one: one\ncount: 5\nError with: one counted 5 times!\nf: two\nlength: 3\ntrue { 3 &amp;&amp; two} one: two\ntrue { 3 &amp;&amp; two} two: two\ntrue { 3 &amp;&amp; two} three: two\ntrue { 3 &amp;&amp; two} onefour: two\ntrue { 3 &amp;&amp; two} one: two\ncount: 5\nError with: two counted 5 times!\nf: three\nlength: 5\ntrue { 5 &amp;&amp; three} one: three\ntrue { 5 &amp;&amp; three} two: three\ntrue { 5 &amp;&amp; three} three: three\ntrue { 5 &amp;&amp; three} onefour: three\ntrue { 5 &amp;&amp; three} one: three\ncount: 5\nError with: three counted 5 times!\nf: onefour\nlength: 7\ntrue { 7 &amp;&amp; onefour} one: onefour\ntrue { 7 &amp;&amp; onefour} two: onefour\ntrue { 7 &amp;&amp; onefour} three: onefour\ntrue { 7 &amp;&amp; onefour} onefour: onefour\ntrue { 7 &amp;&amp; onefour} one: onefour\ncount: 5\nError with: onefour counted 5 times!\nf: one\nlength: 3\ntrue { 3 &amp;&amp; one} one: one\ntrue { 3 &amp;&amp; one} two: one\ntrue { 3 &amp;&amp; one} three: one\ntrue { 3 &amp;&amp; one} onefour: one\ntrue { 3 &amp;&amp; one} one: one\ncount: 5\nError with: one counted 5 times!\n</code></pre>\n\n<p>So you always have the length of the string <code>$f</code>, which is larger than 0 and hence evaluates as <code>true</code> in Perl. Then you have <code>$f</code>. Which is <code>true</code> also, because all strings that are not the empty string (<code>''</code>) are true.</p>\n\n<p>You iterate over all elements in <code>@list</code> with the <code>true</code> function. The block always is true. So you always get the count of the number of elements in <code>@list</code>.</p>\n\n<hr>\n\n<p>If you only want to remove double occurances, you can use a hash to count them.</p>\n\n<pre><code>my %count;\n$count{$_}++ for @list;\nmy @unique = keys %count; # unsorted\n# see Sobrique's answer with grep for sorted the same way as before\n</code></pre>\n\n<p>Then there is also <code>uniq</code> in <a href=\"https://metacpan.org/pod/List::MoreUtils#uniq-LIST\" rel=\"nofollow noreferrer\">List::MoreUtils</a>.</p>\n\n<pre><code>my @unique = uniq @list;\n</code></pre>\n\n<hr>\n\n<p>If you want to know for each element if it is a substring of <em>any</em> other element, you can use <a href=\"http://perldoc.perl.org/functions/index.html\" rel=\"nofollow noreferrer\">Perl's builtin <code>index</code></a>, which finds the position of a string inside another string, and a <code>grep</code>.</p>\n\n<pre><code>foreach my $f (@list) {\n    if ( my @matches = grep { $_ ne $f &amp;&amp; index( $_, $f ) &gt; -1 } @list ) {\n        warn \"$f is a substr of: @matches\";    # will auto-join on $,\n    }\n}\n\n__END__\n\none is a substr of: onefour at /code/scratch.pl line 91.\none is a substr of: onefour at /code/scratch.pl line 91.\n</code></pre>\n\n<p>Now of course this doesn't get that element 0 and 4 are both \"one\" because of the <code>ne</code>. Note that <code>index</code> returns <code>-1</code> if there is no match at all.</p>\n\n<hr>\n\n<p><strong>Edit</strong> after <a href=\"https://stackoverflow.com/questions/31339404/perl-count-for-matching-strings-in-an-array/31339619#comment50663578_31339613\">your comment on Sobrique's answer</a>:</p>\n\n<p>To only get warnings if there are duplicates (or substr duplicates), simply count them. There is no modification happening anywhere:</p>\n\n<pre><code>my @list = ( \"one\", \"two\", \"three\", \"onefour\", \"one\" );\n\nmy %count;\n$count{$_}++ for @list;\nwarn sprintf 'Number of duplicates: %d', @list - keys %count if @list != keys %count;\n\nmy $count_substr;\nforeach my $f (@list) {\n    $count_substr++\n        if grep { $_ ne $f &amp;&amp; index( $_, $f ) &gt; -1 } @list;\n}\nwarn sprintf 'Number of substring duplicates: %d', $count_substr if $count_substr;\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 5097398, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cca362159895ab687c4f4e52649f782d?s=128&d=identicon&r=PG&f=1", "display_name": "nieka", "link": "https://stackoverflow.com/users/5097398/nieka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1286, "favorite_count": 0, "accepted_answer_id": 31339613, "answer_count": 2, "score": 1, "last_activity_date": 1436529099, "creation_date": 1436526992, "question_id": 31339404, "link": "https://stackoverflow.com/questions/31339404/perl-count-for-matching-strings-in-an-array", "title": "Perl count for matching strings in an array", "body": "<p>I have an array filled with strings. I want to check if one specific string is more than once in this array and then print an error warning.  </p>\n\n<p>I used the true method in List::MoreUtils: to count my matches. \nIn my array i have some strings, which have substrings that are the same as some other string in the same array.<br>\nSo if I check if the same string is more than once in the array I get my error warning even though there is maybe just another string with the same substring.\nI tried to fix the problem by adding the string length as a pattern (So the string and the length have to be equal that the error message pops up), but this does not work either.<br>\nMy code looks something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::MoreUtils 'true';\n\nmy @list = (\"one\", \"two\", \"three\", \"onefour\", \"one\");\n\nforeach my $f (@list) {  \n\n        my $length = length($f);\n        my $count = true { $length &amp;&amp; \"$f\"} @list;\n\n           if($count &gt; 1) {\n                    print \"Error with: \", $f, \" counted \", $count, \" times!\\n\";\n                }\n       $count = 0;\n    }\n</code></pre>\n\n<p>With this code I do not get an error warning at all, even though \"one\" is twice in the array. If I do not include the length as a pattern of the true method, then the string \"one\" will be counted three times. </p>\n"}, {"tags": ["perl", "datetime", "format", "iso8601", "strptime"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1436525220, "post_id": 31338233, "comment_id": 50661754, "body": "See <a href=\"https://metacpan.org/pod/DateTime::Format::Strptime\" rel=\"nofollow noreferrer\"><code>DateTime::Format::Strptime</code></a>.. It has both <code>%N</code> and <code>%z</code>.."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 1, "creation_date": 1436550166, "post_id": 31338233, "comment_id": 50677606, "body": "The format is known as a ISO 8601 calendar date and time of day with a zone designator in extended format. <a href=\"https://metacpan.org/pod/distribution/Time-Moment/lib/Time/Moment.pod#from_string\" rel=\"nofollow noreferrer\">Time::Moment-&gt;from_string</a> can be used to parse it."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1436524777, "last_edit_date": 1436524777, "creation_date": 1436524341, "answer_id": 31338583, "question_id": 31338233, "link": "https://stackoverflow.com/questions/31338233/how-to-convert-unknown-date-time-format-into-normal-using-perl/31338583#31338583", "title": "How to convert unknown date/time format into normal using Perl?", "body": "<p>There's a couple of problems I think.</p>\n\n<p><code>%N</code> isn't in my <a href=\"http://man7.org/linux/man-pages/man3/strftime.3.html\" rel=\"nofollow\"><code>strftime</code></a> manpage. So that might well not work.</p>\n\n<p>And <code>%z</code> - I'm pretty sure <code>+01:00</code> isn't valid. </p>\n\n<blockquote>\n<pre><code>  %z     The +hhmm or -hhmm numeric timezone (that is, the hour and\n          minute offset from UTC). (SU)\n</code></pre>\n</blockquote>\n\n<p>This works though:</p>\n\n<pre><code>my $date = '2015-07-31T13:30:00+0100'; \nmy $fromFormat = '%Y-%m-%dT%H:%M:%S%z'; \nprint Time::Piece-&gt;strptime($date, $fromFormat);\n</code></pre>\n\n<p>So I'd suggest - unless your milliseconds are important - you could just strip those via a regex, and likewise the timezone. (And it they are important, I don't think <code>Time::Piece</code> does ms resolution anyway)</p>\n\n<p>You can probably use a regular expression to 'correct' your input date if you were so inclined. I'm unsure if fits your use case but:</p>\n\n<pre><code>$date =~ s/\\+(\\d{2}):(\\d{2})$/+$1$2/;\n$date =~ s/\\.\\d{3}+/+/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1436528879, "post_id": 31339043, "comment_id": 50663918, "body": "Does <code>%N</code> work in that one then?"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1436526299, "last_edit_date": 1495539838, "creation_date": 1436525829, "answer_id": 31339043, "question_id": 31338233, "link": "https://stackoverflow.com/questions/31338233/how-to-convert-unknown-date-time-format-into-normal-using-perl/31339043#31339043", "title": "How to convert unknown date/time format into normal using Perl?", "body": "<p>You can use <code>strptime</code> in <code>Time::Piece</code> and adding the time zone manually as shown in <a href=\"https://stackoverflow.com/a/411795/2173773\">this answer</a>, or you could try using  <a href=\"https://metacpan.org/pod/DateTime::Format::Strptime\" rel=\"nofollow noreferrer\"><code>DateTime::Format::Strptime</code></a> instead:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse DateTime::Format::Strptime;\n\nmy $timestamp = '2015-07-31T13:30:00.000+0100';\nmy $strp = DateTime::Format::Strptime-&gt;new(\n    pattern   =&gt; '%Y-%m-%dT%H:%M:%S.%N%z'\n);\n\nmy $dt = $strp-&gt;parse_datetime( $timestamp );\n\nsay $dt-&gt;strftime('%Y:%m:%d');\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2015:07:31\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1436527368, "creation_date": 1436527368, "answer_id": 31339535, "question_id": 31338233, "link": "https://stackoverflow.com/questions/31338233/how-to-convert-unknown-date-time-format-into-normal-using-perl/31339535#31339535", "title": "How to convert unknown date/time format into normal using Perl?", "body": "<pre><code>use DateTime; \nuse DateTime::Format::ISO8601;\n\nuse DateTime::Format::Strptime;\n\nmy $string = '2015-07-31T13:30:00.000+01:00';\nmy $date = DateTime::Format::ISO8601-&gt;parse_datetime( $string ); \ndie \"Error\" unless $date;\n\nmy $formatter = new DateTime::Format::Strptime(pattern =&gt; '%Y-%m-%d %T');\n$date-&gt;set_formatter($formatter);\nprint \"$date\\n\";\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 1945836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6cc668d5cb78d01a90ed1dc37a1286?s=128&d=identicon&r=PG", "display_name": "Paulius", "link": "https://stackoverflow.com/users/1945836/paulius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 0, "closed_date": 1436538365, "accepted_answer_id": 31338583, "answer_count": 3, "score": 0, "last_activity_date": 1436560358, "creation_date": 1436523239, "last_edit_date": 1436560358, "question_id": 31338233, "link": "https://stackoverflow.com/questions/31338233/how-to-convert-unknown-date-time-format-into-normal-using-perl", "closed_reason": "Duplicate", "title": "How to convert unknown date/time format into normal using Perl?", "body": "<p>I have a date/time like this: 2015-07-31T13:30:00.000+01:00\nAnd I want to convert it to normal date and time using Perl and Time::Piece->strptime</p>\n\n<p>Here is my code: </p>\n\n<pre><code>sub changeDateFormat {\n  my ($date, $fromFormat, $toFormat) = (@_);\n  return Time::Piece-&gt;strptime($date, $fromFormat)-&gt;strftime($toFormat);\n}\n</code></pre>\n\n<p>The call: </p>\n\n<pre><code>print changeDateFormat($that_date, '%Y-%m-%dT%H:%M:%S.%N+%z', '%Y:%m:%d');\n</code></pre>\n\n<p>I think that .000 are nano seconds and +01.00 stands for time zone.\nBut the given code gives this: \n<em>Error parsing time at /usr/lib64/perl5/Time/Piece.pm line 470</em></p>\n\n<p>Any help is appreciated. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "edited": false, "score": 0, "creation_date": 1436522939, "post_id": 31337848, "comment_id": 50660330, "body": "I added a solution that handles nested parentheses. It&#39;s probably slower than @stribizhev&#39;s, though, so if you don&#39;t need to handle that, use theirs."}, {"owner": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "edited": false, "score": 3, "creation_date": 1436523009, "post_id": 31337848, "comment_id": 50660380, "body": "Also, wild guess, but for the string you wrote, you can simply split on <code>, </code> (note the space). The inner &quot;arguments&quot; don&#39;t contain spaces. If your input is like that too, you might as well just do that."}], "answers": [{"comments": [{"owner": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "edited": false, "score": 1, "creation_date": 1436522565, "post_id": 31337987, "comment_id": 50660079, "body": "This doesn&#39;t handle <code>blah, foo(a, bar(b, c)), yo</code>, but I&#39;m not sure if the OP needs it to."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "edited": false, "score": 0, "creation_date": 1436523539, "post_id": 31337987, "comment_id": 50660731, "body": "@Mauris: That is easy to fix as you see."}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 0, "creation_date": 1436523789, "post_id": 31337987, "comment_id": 50660886, "body": "@stribizhev your fix hasnt made any change it seems <a href=\"https://regex101.com/r/hR7tH4/8\" rel=\"nofollow noreferrer\">regex101.com/r/hR7tH4/8</a>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 0, "creation_date": 1436524493, "post_id": 31337987, "comment_id": 50661310, "body": "@vks: PCRE and Perl are different a bit, it works in Perl."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1436523316, "last_edit_date": 1436523316, "creation_date": 1436522478, "answer_id": 31337987, "question_id": 31337848, "link": "https://stackoverflow.com/questions/31337848/split-into-words-by-an-uncommented-comma-that-is-not-inside-matching-parentheses/31337987#31337987", "title": "Split into words by an uncommented comma that is not inside matching parentheses", "body": "<p>You can use the following regex to use in split:</p>\n\n<pre><code>\\([^()]*\\)(*SKIP)(*F)|\\s*,\\s*\n</code></pre>\n\n<p>With <code>\\([^()]*\\)</code>, we match a <code>(</code> followed with 0 or more characters other than <code>(</code> or <code>)</code> and then followed with <code>)</code>. We fail the match with <code>(*SKIP)(*F)</code> if that parenthetical construction is found, and then we only match the comma surrounded with optional whitespaces.</p>\n\n<p>See <a href=\"https://regex101.com/r/lQ6zD8/2\" rel=\"nofollow\">demo</a></p>\n\n<pre><code>#!/usr/bin/perl\nmy $string= \"blah, foo(a,b), bar(c,d), yo\";\nmy @string = split /\\([^()]*\\)(*SKIP)(*F)|\\s*,\\s*/, $string;\n\nforeach(@string) {\n    print \"$_\\n\";\n}\n</code></pre>\n\n<p>To account for commas inside nested balanced parentheses, you can use</p>\n\n<pre><code>my @string = split /\\((?&gt;[^()]|(?R))*\\)(*SKIP)(*F)|\\s*,\\s*/, $string;\n</code></pre>\n\n<p>Here is an <a href=\"http://ideone.com/JwKp0Q\" rel=\"nofollow\">IDEONE demo</a></p>\n\n<p>With <code>\\((?&gt;[^()]|(?R))*\\)</code> we match all balanced <code>()</code>s and fail the match if found with the verbs <code>(*SKIP)(*F)</code>, and then we match a comma with optional whitespace around (so as not to manually trim the strings later).</p>\n\n<p>For a <code>blah, foo(b, (a,b)), bar(c,d), yo</code> string, the result is: </p>\n\n<pre><code>blah\nfoo(b, (a,b))\nbar(c,d)\nyo\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 1, "creation_date": 1436523817, "post_id": 31338089, "comment_id": 50660904, "body": "A better and cleaner way i would say"}], "tags": [], "owner": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "is_accepted": true, "score": 3, "last_activity_date": 1436524027, "last_edit_date": 1436524027, "creation_date": 1436522749, "answer_id": 31338089, "question_id": 31337848, "link": "https://stackoverflow.com/questions/31337848/split-into-words-by-an-uncommented-comma-that-is-not-inside-matching-parentheses/31338089#31338089", "title": "Split into words by an uncommented comma that is not inside matching parentheses", "body": "<p>Perl has a little thing <a href=\"http://www.regular-expressions.info/recurse.html\" rel=\"nofollow\">regex recursion</a>, so you might be able to look for:</p>\n\n<ul>\n<li><p>either a bare word like <code>blah</code> containing no parentheses (<code>\\w+</code>)</p></li>\n<li><p>a \"call\", like <code>\\w+\\((?R)(, *(?R))*\\)</code></p></li>\n</ul>\n\n<p>The total regex is <code>(\\w+(\\((?R)(, ?(?R))*\\))?)</code>, which <a href=\"https://regex101.com/r/lQ6zD8/3\" rel=\"nofollow\">seems to work</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1436526513, "last_edit_date": 1495540723, "creation_date": 1436525485, "answer_id": 31338950, "question_id": 31337848, "link": "https://stackoverflow.com/questions/31337848/split-into-words-by-an-uncommented-comma-that-is-not-inside-matching-parentheses/31338950#31338950", "title": "Split into words by an uncommented comma that is not inside matching parentheses", "body": "<p>There is a <a href=\"https://stackoverflow.com/a/31183116/4248931\">solution</a> given by <em>Borodin</em> for one of your <a href=\"https://stackoverflow.com/q/31181981/4248931\">question</a> (which is similar to this question). A small change of regex will give you desire output: (this will not work for nested parentheses)</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $line = q&lt;blah, foo(a,b), bar(c,d), yo&gt;;\n\nmy @words = $line =~ / (?: \\([^)]*\\) | [^,] )+ /xg;\n\nsay for @words;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>blah\n foo(a,b)\n bar(c,d)\n yo\n</code></pre>\n"}], "owner": {"reputation": 3458, "user_id": 2050788, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/uIU2Z.jpg?s=128&g=1", "display_name": "Spacemoose", "link": "https://stackoverflow.com/users/2050788/spacemoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 31338089, "answer_count": 3, "score": 2, "last_activity_date": 1436560577, "creation_date": 1436522097, "last_edit_date": 1436560577, "question_id": 31337848, "link": "https://stackoverflow.com/questions/31337848/split-into-words-by-an-uncommented-comma-that-is-not-inside-matching-parentheses", "title": "Split into words by an uncommented comma that is not inside matching parentheses", "body": "<p>Consider the following string:</p>\n\n<pre><code>blah, foo(a,b), bar(c,d), yo\n</code></pre>\n\n<p>I want to extract a list of strings:</p>\n\n<pre><code>blah\nfoo(a,b)\nbar(c,d)\nyo\n</code></pre>\n\n<p>It seems to me that I should be able to use quote words here, but I'm struggling with the regex. Can someone help me out?</p>\n"}, {"tags": ["perl", "matrix"], "comments": [{"owner": {"reputation": 2313, "user_id": 194547, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9daed16ecfea23c493a3b79603c51069?s=128&d=identicon&r=PG", "display_name": "varnie", "link": "https://stackoverflow.com/users/194547/varnie"}, "edited": false, "score": 1, "creation_date": 1436520646, "post_id": 31337214, "comment_id": 50658780, "body": "the matrix is 10x10, obviously, there&#39;re no items you&#39;re trying to access. change your <code>@x1</code> value if you want to work with matrix, say, 11x11. and, why is it <code>le 9</code>, but not <code>&lt;=9</code>?"}, {"owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 3, "creation_date": 1436520913, "post_id": 31337214, "comment_id": 50658937, "body": "You&#39;re using string comparison operators. <code>$i le 9</code> is true for all values of <code>$i</code> from 0 to 89. Use <code>$i &lt;= 9</code> instead."}, {"owner": {"reputation": 115, "user_id": 3867469, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/a349af8334c0f5b740aa4799a5c06a29?s=128&d=identicon&r=PG&f=1", "display_name": "swapnil90", "link": "https://stackoverflow.com/users/3867469/swapnil90"}, "edited": false, "score": 0, "creation_date": 1436522276, "post_id": 31337214, "comment_id": 50659871, "body": "Yes I replaced &quot;le&quot; with &quot;&lt;=&quot;, and its working. Thanks for this information."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 3867469, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/a349af8334c0f5b740aa4799a5c06a29?s=128&d=identicon&r=PG&f=1", "display_name": "swapnil90", "link": "https://stackoverflow.com/users/3867469/swapnil90"}, "edited": false, "score": 1, "creation_date": 1436522154, "post_id": 31337426, "comment_id": 50659783, "body": "Yes, now it works fine after your suggestions. Thanks !"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 115, "user_id": 3867469, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/a349af8334c0f5b740aa4799a5c06a29?s=128&d=identicon&r=PG&f=1", "display_name": "swapnil90", "link": "https://stackoverflow.com/users/3867469/swapnil90"}, "edited": false, "score": 0, "creation_date": 1436526291, "post_id": 31337426, "comment_id": 50662409, "body": "Please see this regarding getting an answer that solves your problem: <a href=\"http://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 6, "last_activity_date": 1436524980, "last_edit_date": 1436524980, "creation_date": 1436520965, "answer_id": 31337426, "question_id": 31337214, "link": "https://stackoverflow.com/questions/31337214/illegal-division-by-zeroperl/31337426#31337426", "title": "illegal division by zero:Perl", "body": "<p><code>le</code> doesn't do what you think it does. <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\">http://perldoc.perl.org/perlop.html</a> </p>\n\n<blockquote>\n  <p>Binary \"le\" returns true if the left argument is stringwise less than or equal to the right argument.</p>\n</blockquote>\n\n<pre><code>print 10 le 9,\"\\n\";\nprint 10 &lt;= 9,\"\\n\";\n</code></pre>\n\n<p>It's a stringwise comparison <em>not</em> a numeric one. </p>\n\n<p>So <code>\"10\" le \"9\"</code> is true, because <em>alphabetically</em> <code>10</code> is before <code>9</code>. </p>\n\n<p>But this would work fine for a smaller matrix, because <code>9 le 8</code> is a valid comparison and works the 'right way'. </p>\n\n<p>You should use <code>&lt;=</code> instead:</p>\n\n<blockquote>\n  <p>Binary \"&lt;=\" returns true if the left argument is numerically less than or equal to the right argument.</p>\n</blockquote>\n\n<p>You can also probably auto-scale by using <code>$#x1</code> for your comparison, which is the value of the last array index. In your example above, <code>$#x1</code> is <code>9</code>, because your array is <code>0-9</code></p>\n"}], "owner": {"reputation": 115, "user_id": 3867469, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/a349af8334c0f5b740aa4799a5c06a29?s=128&d=identicon&r=PG&f=1", "display_name": "swapnil90", "link": "https://stackoverflow.com/users/3867469/swapnil90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1436524980, "creation_date": 1436520425, "last_edit_date": 1436521390, "question_id": 31337214, "link": "https://stackoverflow.com/questions/31337214/illegal-division-by-zeroperl", "title": "illegal division by zero:Perl", "body": "<p>I have written a code to find determinant of a 10X10 matrix. This code gives the proper result till 9X9 matrix. But for 10X10 matrix gives the following error</p>\n\n<p>\"Use of Uninitialized value in multiplication &lt;*> at line 23</p>\n\n<p>Illegal division by zero at line 21\"</p>\n\n<p>I tried for 11X11 matrix also, but it is giving the wrong answer.</p>\n\n<p>Why this code is giving such error...</p>\n\n<p>Following is the code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict; \nuse warnings;\n\nmy @x1=(\n  [5, 6, 3, 2, 4, 9, 3, 5, 4, 2], \n  [12, 9, 8, 3, 3, 0, 6, 9, 3, 4],\n  [8, 6, 5, 8, 9, 3, 9, 3, 9, 5],\n  [6, 4, 3, 0, 6, 4, 8, 2, 22, 8],\n  [8, 3, 2, 5, 2, 12, 7, 1, 6, 9],\n  [5, 9, 3, 9, 5, 1, 3, 8, 4, 2],\n  [3, 10, 4, 16, 4, 7, 2, 12, 9, 6],\n  [2, 12, 9, 13, 8, 3, 1, 16, 0, 6],\n  [3, 6, 8, 5, 12, 8, 4, 19, 8, 5],\n  [2, 5, 6, 4, 9, 10, 3, 11, 7, 3]\n);\n# Matrix of nxn\nfor (my $i=0;$i le 9;$i++) {\n  for (my $j=0;$j le 9;$j++) {\n\n      if($j&gt;$i) {\n         my $ratio = $x1[$j][$i]/$x1[$i][$i];\n          for(my $k = 0; $k le 9; $k++){\n\n              $x1[$j][$k] -= $ratio * $x1[$i][$k];\n          }\n      } \n\n  }\n}\n\nmy $det1 = 1; \nfor(my $i = 0; $i le 9; $i++){\n  $det1 *= $x1[$i][$i];\n}\nprintf $det1,\" \";\n</code></pre>\n"}]