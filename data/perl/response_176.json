[{"tags": ["macos", "perl", "macos-sierra", "ppp", "pptp"], "answers": [{"tags": [], "owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "is_accepted": true, "score": 2, "last_activity_date": 1527113320, "last_edit_date": 1592644375, "creation_date": 1527113320, "answer_id": 50498182, "question_id": 50498181, "link": "https://stackoverflow.com/questions/50498181/how-to-programmatically-create-a-pptp-vpn-connection-on-macos-sierra-high-sierra/50498182#50498182", "title": "How to programmatically create a PPTP VPN connection on macOS Sierra/High Sierra?", "body": "<h1>Answer:</h1>\n<p>This method creates a PPTP connection that <strong>doesn't</strong> send all traffic and <strong>doesn't</strong> override other DNS providers, meaning it works with multiple simultaneous VPN connections each having different DNS search domains, and closes it in an orderly fashion.</p>\n<p>Not sending all traffic requires you to know the VPN subnet beforehand. If you don't, you must send all traffic (see below), since vanilla PPP/LCP has no means to tell the client its subnet (although theoretically the <code>ip-up</code> and <code>ip-down</code> scripts could guess it from the received IP address).</p>\n<p>Save this perl as <code>/usr/local/bin/pptp</code>:</p>\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\nif (@ARGV) {\n    my $name = $ARGV[0];\n    if (length $name &amp;&amp; -e &quot;/etc/ppp/peers/$name&quot;) {\n        my $pid;\n        $SIG{&quot;INT&quot;} = &quot;IGNORE&quot;;\n        die &quot;fork: $!&quot; unless defined ($pid = fork);\n        if ($pid) { # parent\n            $SIG{&quot;INT&quot;} = sub {\n                kill HUP =&gt; $pid;\n            };\n            wait;\n            exit;\n        } else { #child\n            $SIG{&quot;INT&quot;} = &quot;DEFAULT&quot;;\n            exec &quot;pppd&quot;, &quot;call&quot;, $name;\n            exit;\n        }\n    } else {\n        print &quot;Error: PPTP name: $name\\n&quot;;\n    }\n} else {\n    opendir my $d, &quot;/etc/ppp/peers&quot; or die &quot;Cannot read /etc/ppp/peers&quot;;\n    while (readdir $d) {\n        print &quot;$_\\n&quot; if !($_ eq &quot;.&quot; || $_ eq &quot;..&quot;);\n    }\n    closedir $d;\n}\n</code></pre>\n<p>Run it as <code>sudo pptp AcmeOffice</code>, where <code>AcmeOffice</code> is the PPP connection name, and close it with a single Control-C/SIGINT.</p>\n<p>In <code>/etc/ppp/peers</code>, create the PPP connection file, in this example <code>/etc/ppp/peers/AcmeOffice</code>:</p>\n<pre><code>plugin /System/Library/SystemConfiguration/PPPController.bundle/Contents/PlugIns/PPPDialogs.ppp\nplugin PPTP.ppp\nnoauth\n# debug \nredialcount 1\nredialtimer 5\nidle 1800\n#mru 1320\nmtu 1320\nreceive-all\nnovj 0:0\nipcp-accept-local\nipcp-accept-remote\nrefuse-pap\nrefuse-chap\n#refuse-chap-md5\nrefuse-eap\nhide-password\n#noaskpassword\n#mppe-stateless \nmppe-128 \nmppe-stateful \nrequire-mppe \npassive \nlooplocal \nnodetach\n# defaultroute\n#replacedefaultroute\n# ms-dns 8.8.8.8\n# usepeerdns\nnoipdefault\n# logfile /tmp/ppp.AcmeOffice.log \nipparam AcmeOffice\nremoteaddress office.acme.com\nuser misteracme\npassword acme1234\n</code></pre>\n<p>The last 4 options are connection-specific. Note the password is stored cleartext. <code>chown root:wheel</code> and <code>chmod 600</code> is recommended. <code>nodetach</code>, <code>ipcp-accept-local</code>, <code>ipcp-accept-remote</code>, <code>noipdefault</code> are critical.</p>\n<p>Since we're not becoming/replacing the default route, you must manually change your routing table. Add an <code>AcmeOffice</code> entry to the <code>/etc/ppp/ip-up</code> script:</p>\n<pre><code>#!/bin/sh\n#params: interface-name tty-device speed local-IP-address remote-IP-address ipparam\n\nPATH=$PATH:/sbin:/usr/sbin\n\ncase &quot;$6&quot; in\n    AcmeOffice)\n        route -n add -net 192.168.1.0/24 -interface &quot;$1&quot;\n        ;;\n    AcmeLab)\n        route -n add -net 192.168.2.0/24 -interface &quot;$1&quot;\n        ;;\n    AcmeOffshore)\n        route -n add -net 192.168.3.0/24 -interface &quot;$1&quot;\n        ;;\n    VPNBook)\n        ;;\n    *)\n        ;;\nesac\n</code></pre>\n<p>and your <code>/etc/ppp/ip-down</code> script:</p>\n<pre><code>#!/bin/sh\n#params: interface-name tty-device speed local-IP-address remote-IP-address ipparam\n\nPATH=$PATH:/sbin:/usr/sbin\n\ncase &quot;$6&quot; in\n    AcmeOffice)\n        route -n delete -net 192.168.1.0/24 -interface &quot;$1&quot;\n        ;;\n    AcmeLab)\n        route -n delete -net 192.168.2.0/24 -interface &quot;$1&quot;\n        ;;\n    AcmeOffshore)\n        route -n delete -net 192.168.3.0/24 -interface &quot;$1&quot;\n        ;;\n    VPNBook)\n        ;;\n    *)\n        ;;\nesac\n</code></pre>\n<p>If the VPN has a DNS search domain (i.e. <code>somehost.office.acme.com</code>), create a file in <code>/etc/resolver/</code> named after the DNS suffix, like <code>/etc/resolver/office.acme.com</code>, with contents like:</p>\n<pre><code>nameserver 192.168.1.1\ndomain office.acme.com\n</code></pre>\n<p>Note that this requires knowing the destination domain &amp; nameserver beforehand. Theoretically <code>ip-up</code> &amp; <code>ip-down</code> could create &amp; delete this file on demand.</p>\n<p>To send all traffic (&amp; if you don't know the destination subnet), uncomment <code>#defaultroute</code> in the PPP connection file and leave the <code>ip-up</code> &amp; <code>ip-down</code> entries blank (e.g. the <code>VPNBook</code> example). To override your DNS with the VPN's, uncomment <code>usepeerdns</code>.</p>\n"}], "owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2047, "favorite_count": 0, "accepted_answer_id": 50498182, "answer_count": 1, "score": 1, "last_activity_date": 1527113320, "creation_date": 1527113320, "question_id": 50498181, "link": "https://stackoverflow.com/questions/50498181/how-to-programmatically-create-a-pptp-vpn-connection-on-macos-sierra-high-sierra", "title": "How to programmatically create a PPTP VPN connection on macOS Sierra/High Sierra?", "body": "<p>Apple removed high-level PPTP support in macOS Sierra from its network configuration system. However, the PPP internals are all still there, including <code>/usr/sbin/pppd</code> and <code>/etc/ppp/</code>.</p>\n\n<p>How can I programmatically initiate a PPTP VPN connection on macOS Sierra / High Sierra using what's left?</p>\n"}, {"tags": ["regex", "perl", "beginthread"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1527107092, "post_id": 50496866, "comment_id": 88006565, "body": "What defines a directory in your case ? I.e. why is <code>&#47;this&#47;is&#47;another&#47;foo</code> not a dir? Otherwise just change your expression to <code>$foo =~ ~^\\s*&#47;test.*$~m;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 1, "creation_date": 1527107224, "post_id": 50496927, "comment_id": 88006647, "body": "why do we need the <code>\\n</code>?"}, {"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1527108398, "post_id": 50496927, "comment_id": 88007220, "body": "my comment was purely based on the <code>\\n</code> in the regex, as it&#39;ll capture the linefeed as well as part of the match, which is not the OP&#39;s requirement"}, {"owner": {"reputation": 2477, "user_id": 521952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sREZ1.jpg?s=128&g=1", "display_name": "Paul Carlton", "link": "https://stackoverflow.com/users/521952/paul-carlton"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1527108713, "post_id": 50496927, "comment_id": 88007381, "body": "The requirement is to match that line.  Technically you could argue the newline is a subtlety that in most cases people wouldn&#39;t want to match and it is not explicitly stated in the question.  But that&#39;s kinda nit picky for a down vote."}, {"owner": {"reputation": 23, "user_id": 5382384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tYXHGE_6-8M/AAAAAAAAAAI/AAAAAAAACo4/C-HZYYAPxZE/photo.jpg?sz=128", "display_name": "Justin Kaipada", "link": "https://stackoverflow.com/users/5382384/justin-kaipada"}, "edited": false, "score": 1, "creation_date": 1527118583, "post_id": 50496927, "comment_id": 88010576, "body": "This worked perfectly for me thanks. I will accept this as it explains why my attempt failed as well."}], "tags": [], "owner": {"reputation": 2477, "user_id": 521952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sREZ1.jpg?s=128&g=1", "display_name": "Paul Carlton", "link": "https://stackoverflow.com/users/521952/paul-carlton"}, "is_accepted": true, "score": -1, "last_activity_date": 1527110169, "last_edit_date": 1527110169, "creation_date": 1527107150, "answer_id": 50496927, "question_id": 50496866, "link": "https://stackoverflow.com/questions/50496866/using-regex-in-perl-to-extract-a-substring-or-line-from-a-blob-of-text/50496927#50496927", "title": "Using regex in perl to extract a substring, or line from a blob of text", "body": "<p>Your regular expression should be:</p>\n\n<p><code>/\\/test.*\\n/</code></p>\n\n<p>The reason is because you are matching the entire text and there's no limit to the end of the line.  You'll need to express that you want the match to the next new line.  This regular expression includes the newline in the match though.</p>\n\n<p>With regular expressions there are different ways to do it so it depends on the context of what you're trying to accomplish.  You could add the <code>m</code> modifier at the end.  What this will do is treat the string as multiple lines so you can then use <code>^$</code> with each line instead of the entire text.  Also using the <code>m</code> multiline modifier will not result in a match that includes the newline.</p>\n\n<p><code>/\\/test.*/m</code> would suffice.</p>\n\n<p>For more info: <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlre.html</a></p>\n\n<p>Furthermore <code>print \"$foo\";</code> WILL NOT print the match because <code>=~</code> operator returns a true or false value and does not reassign the variable to the match.  You'll need to change the regex for pattern matching and print the first match:</p>\n\n<pre><code>$foo =~ /(\\/test.*)/m;\nprint $1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527107537, "post_id": 50496964, "comment_id": 88006819, "body": "@Borodin: Are really two <code>m</code>s needed ? (not a <code>Perl</code> guy here)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1527107632, "post_id": 50496964, "comment_id": 88006861, "body": "If you change the delimiter then you need to explicitly name the operator <code>m~...~</code>. It&#39;s optional only if you use the default slashes."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1527107440, "last_edit_date": 1527107440, "creation_date": 1527107286, "answer_id": 50496964, "question_id": 50496866, "link": "https://stackoverflow.com/questions/50496866/using-regex-in-perl-to-extract-a-substring-or-line-from-a-blob-of-text/50496964#50496964", "title": "Using regex in perl to extract a substring, or line from a blob of text", "body": "<p>Change your expression to</p>\n\n<pre><code>$foo =~ m~^\\s*/test.*$~m;\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/kP0J3L/1/\" rel=\"nofollow noreferrer\"><strong>a demo on regex101.com</strong></a>.</p>\n\n<hr>\n\n<p>This uses other delimiters (<code>~</code>) so that you don't need to escape the <code>/</code>, additionally whitespaces (<code>\\s*</code>) and turns on the <code>multiline</code> mode (<code>m</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5382384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tYXHGE_6-8M/AAAAAAAAAAI/AAAAAAAACo4/C-HZYYAPxZE/photo.jpg?sz=128", "display_name": "Justin Kaipada", "link": "https://stackoverflow.com/users/5382384/justin-kaipada"}, "edited": false, "score": 0, "creation_date": 1527118619, "post_id": 50497330, "comment_id": 88010591, "body": "Thanks for the explanation $1 is what I really needed."}], "tags": [], "owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "is_accepted": false, "score": 1, "last_activity_date": 1527108962, "creation_date": 1527108962, "answer_id": 50497330, "question_id": 50496866, "link": "https://stackoverflow.com/questions/50496866/using-regex-in-perl-to-extract-a-substring-or-line-from-a-blob-of-text/50497330#50497330", "title": "Using regex in perl to extract a substring, or line from a blob of text", "body": "<p>The OP seems to want the specified line to be printed, rather than the whole blob of text. For this, we need to modify Jan's answer to capture and extract the actual match.</p>\n\n<pre><code>my $foo = \"\n    Garbage directory\n    /test/this/is/a/directory\n    /this/is/another/foo\\nThisd is is\\nDrop stuff testing\\nRandom stuff emacs is great\";\n$foo =~ m~^(\\s*/test.*)$~m;\n$foo = $1;\nprint \"\\n$foo\\n\"\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>/test/this/is/a/directory\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5382384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tYXHGE_6-8M/AAAAAAAAAAI/AAAAAAAACo4/C-HZYYAPxZE/photo.jpg?sz=128", "display_name": "Justin Kaipada", "link": "https://stackoverflow.com/users/5382384/justin-kaipada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 0, "accepted_answer_id": 50496927, "answer_count": 3, "score": 1, "last_activity_date": 1527110169, "creation_date": 1527106938, "question_id": 50496866, "link": "https://stackoverflow.com/questions/50496866/using-regex-in-perl-to-extract-a-substring-or-line-from-a-blob-of-text", "title": "Using regex in perl to extract a substring, or line from a blob of text", "body": "<p>I have a variable with some blob of text in it</p>\n\n<pre><code>$foo = \"\n    Garbage directory\n    /test/this/is/a/directory\n    /this/is/another/foo\\nThisd is is\\nDrop stuff testing\\nRandom stuff emacs is great\";\n</code></pre>\n\n<p>How do I use regex to get the line that is <code>/test/this/is/a/directory</code> </p>\n\n<p>I tried this:</p>\n\n<pre><code>my $foo = \"\n    Garbage directory\n    /test/this/is/a/directory\n    /this/is/another/foo\\nThisd is is\\nDrop stuff testing\\nRandom stuff emacs is great\";\n$foo =~ /^\\/test.*$/;\nprint \"\\n$foo\\n\";\n</code></pre>\n\n<p>But this just keeps on printing the whole blob of text.</p>\n"}, {"tags": ["perl", "terminal"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1527105031, "post_id": 50496390, "comment_id": 88005562, "body": "A thought occurs - why?"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1527106607, "post_id": 50496390, "comment_id": 88006304, "body": "I was trying to determine what led to this question, and perhaps offer a solution to that problem. I don&#39;t feel a particular need to guess or convince anyone to take me up on that, so if you&#39;re happy with the answer you&#39;ve got: great!"}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 1, "creation_date": 1579781047, "post_id": 50496390, "comment_id": 105885744, "body": "&quot;A thought occurs - why? &quot; In my case, our IT department cloned our old Ubuntu machine, and updated the OS on the clone, and now in \\@INC there is an invalid directory listed, which causes a program to list Perl modules to crash. To get past this I created the non-existing directory that was in \\@INC."}], "answers": [{"comments": [{"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 0, "creation_date": 1527106509, "post_id": 50496432, "comment_id": 88006256, "body": "Would this allow selective removal of entries without manually describing each one that should be present?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1527106859, "post_id": 50496432, "comment_id": 88006438, "body": "Sure. <code>BEGIN { @INC = grep !&#47;unwanted-inc-dir&#47;,@INC }</code>"}, {"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 0, "creation_date": 1527107435, "post_id": 50496432, "comment_id": 88006762, "body": "Looks like it should work, but I get: <code>Illegal division by zero at -e line 1.</code>"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 1, "creation_date": 1527109617, "post_id": 50496432, "comment_id": 88007838, "body": "@CtrlS I don&#39;t get that error; @mob&#39;s suggestion seems to work for me - you&#39;ll have to show the code you ran. One note though: the regex isn&#39;t anchored, if you wanted to play it safer: <code>BEGIN { @INC = grep $_ ne &quot;unwanted-inc-dir&quot;, @INC }</code> (or just use <a href=\"https://stackoverflow.com/a/50496795/9300627\">my suggestion</a> \ud83d\ude09)"}], "tags": [], "owner": {"reputation": 20728, "user_id": 28071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb6f9384123f54b352607b5fe7deb4fd?s=128&d=identicon&r=PG", "display_name": "gpojd", "link": "https://stackoverflow.com/users/28071/gpojd"}, "is_accepted": false, "score": 3, "last_activity_date": 1527105108, "creation_date": 1527105108, "answer_id": 50496432, "question_id": 50496390, "link": "https://stackoverflow.com/questions/50496390/remove-entry-from-inc/50496432#50496432", "title": "Remove entry from @INC", "body": "<p>You can change it in a BEGIN block. Example: </p>\n\n<pre><code>$ perl -MData::Dumper -e 'BEGIN { @INC = qw// }; print Dumper(\\@INC);'\n$VAR1 = [];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 0, "creation_date": 1527108717, "post_id": 50496795, "comment_id": 88007385, "body": "When I enter <code>perl -M-lib=&#47;home&#47;pi&#47;NetSNMP&#47;OID.pm -le &#39;print for @INC&#39;</code> into the terminal, the output shows that it has been removed, but executing <code>perl -e &quot;print @INC&quot;</code> shows it as still being present."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 1, "creation_date": 1527109215, "post_id": 50496795, "comment_id": 88007621, "body": "@CtrlS Yes, any change to <code>@INC</code> will only last for that interpreter. If you want to make a permanent change, the best thing would be to remove that path from wherever it is being added, such as wherever <code>PERL5LIB</code> is being set. And by the way, <code>@INC</code> should contain directories, an entry of <code>&#47;home&#47;pi&#47;NetSNMP&#47;OID.pm</code> doesn&#39;t make sense anyway."}, {"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 0, "creation_date": 1527109827, "post_id": 50496795, "comment_id": 88007933, "body": "It was added via the command line using <code>export PERL5LIB=~&#47;OID.pm</code>, so how would I undo it in this case?  Interestingly, the export command seems to overwrite existing paths to the same file name."}, {"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 0, "creation_date": 1527109858, "post_id": 50496795, "comment_id": 88007947, "body": "Thanks for the advice by the way!  It is probably due to the presence of the .pm file specified that my &quot;fix&quot; is not working as intended, haha."}, {"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 0, "creation_date": 1527110305, "post_id": 50496795, "comment_id": 88008106, "body": "Should I just write, execute, (and delete) a perl script that runs the <code>no lib</code> command rather than trying to do it in terminal?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 1, "creation_date": 1527110344, "post_id": 50496795, "comment_id": 88008125, "body": "@CtrlS Where is your <code>export PERL5LIB=...</code> command? If you typed it at the command line, simply logging out and logging back in should take care of it. If it&#39;s in e.g. <code>.profile</code> or <code>.bashrc</code>, comment out that line and log out and back in again. If it&#39;s somewhere else, comment it out there and reboot to play it safe. I don&#39;t know what you mean with <i>&quot;the export command seems to overwrite existing paths to the same file name&quot;</i> - setting an environment variable will overwrite its contents unless you explicitly include the previous value, if that&#39;s what you mean."}, {"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 0, "creation_date": 1527110449, "post_id": 50496795, "comment_id": 88008165, "body": "Yes, it was executed at the command line.  Okay, I will see if it is removed after restarting the Pi.  What I mean is that I had all the default @INC entries, plus my own &quot;/home/pi/some/path/OID.pm&quot; and then I ran the export command again but with &quot;/home/pi/some/other/path/OID.pm&quot; and the previous path to the OID file was (conveniently?) removed.  Additionally, using the export command to add &quot;/NetSNMP/&quot; had no effect."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 1, "creation_date": 1527110898, "post_id": 50496795, "comment_id": 88008324, "body": "@CtrlS <i>&quot;Should I just write, execute, (and delete) a perl script that runs the <code>no lib</code> command&quot;</i> - The changes made to <code>@INC</code> by <code>no lib</code> are not permanent, they only last for that <code>perl</code> instance. For a change to last, it needs to be made to <code>PERL5LIB</code> or wherever else it&#39;s being set <i>outside</i> of <code>perl</code> (like <a href=\"http://perldoc.perl.org/perlrun.html#%2A-f%2A\" rel=\"nofollow noreferrer\"><code>sitecustomize.pl</code></a>, but that&#39;s pretty rare in my experience). (Of course, if a script includes <code>use lib ...;</code>, that&#39;ll be &quot;permanent&quot; <i>for that script</i>)."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 1, "creation_date": 1527111214, "post_id": 50496795, "comment_id": 88008437, "body": "@CtrlS <i>&quot;I ran the export command again ... and the previous path to the OID file was (conveniently?) removed&quot;</i> <a href=\"http://perldoc.perl.org/perlrun.html#PERL5LIB\" rel=\"nofollow noreferrer\"><code>PERL5LIB</code></a> is a single environment variable containing a list of directories (<i>one</i> string with a separator character between paths). If you assign one value to it, and then a second one, the second overwrites the first. To add a value, one might use an expression like <code>PERL5LIB=&quot;&#47;some&#47;lib&#47;path${PERL5LIB:+:${PERL5LIB}}&quot;; export PERL5LIB;</code> (depending on the shell)."}, {"owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "edited": false, "score": 1, "creation_date": 1527164039, "post_id": 50496795, "comment_id": 88030179, "body": "Booted up the Pi just now, executed <code>perl -le &#39;print for @INC&#39;</code>, and yep, the entry is now gone!  Your comments have been extremely helpful.  Thanks!"}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": true, "score": 7, "last_activity_date": 1527114468, "last_edit_date": 1527114468, "creation_date": 1527106624, "answer_id": 50496795, "question_id": 50496390, "link": "https://stackoverflow.com/questions/50496390/remove-entry-from-inc/50496795#50496795", "title": "Remove entry from @INC", "body": "<p>You could use the <a href=\"http://perldoc.perl.org/lib.html#Deleting-directories-from-@INC\" rel=\"nofollow noreferrer\"><code>no lib</code></a> pragma from the command line with <code>perl -M-lib=...</code>:</p>\n\n<pre><code>$ PERL5LIB=/tmp/foo perl -le 'print for @INC'\n/tmp/foo\n... normal @INC entries ...\n$ PERL5LIB=/tmp/foo perl -M-lib=/tmp/foo -le 'print for @INC'\n... normal @INC entries ...\n</code></pre>\n\n<hr>\n\n<p><em>Update:</em> Based on the wording of the question, I assumed that you had a system where you had set <code>PERL5LIB</code>, and were asking how to exclude entries once in a while, only for specific runs of <code>perl</code> (<em>\"from the command line\"</em>). That's what the above does: The effect of <code>no lib</code> used on the command line is only temporary for that run of <code>perl</code>.</p>\n\n<p>But the discussion in the comments revealed that it was the opposite: you had run <code>export PERL5LIB=...</code> \"from the command line\" (the effect of which is only temporary the current session/shell), and wanted to undo that change - for which the solution is either to run <code>export PERL5LIB=</code> (setting a new value overwrites the previous one, <code>export</code> is not like adding elements to a list, it just sets a new value), or to simply log out and back in again.</p>\n\n<p>If you had set <code>PERL5LIB</code> in a place like the <code>.profile</code> or <code>.bashrc</code> files, then you would need to edit those and comment out or delete the entries you don't want, and log out and back in again.</p>\n"}], "owner": {"reputation": 939, "user_id": 3271649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262a6242f0e5347a7c75ec250c4d8bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrl S", "link": "https://stackoverflow.com/users/3271649/ctrl-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1558, "favorite_count": 0, "accepted_answer_id": 50496795, "answer_count": 2, "score": 1, "last_activity_date": 1527164594, "creation_date": 1527104924, "last_edit_date": 1527164594, "question_id": 50496390, "link": "https://stackoverflow.com/questions/50496390/remove-entry-from-inc", "title": "Remove entry from @INC", "body": "<p>Is it possible to remove an entry from @INC from the command line?</p>\n\n<p>I know <code>export PERL5LIB=/path/file.pm</code> can be used to add them, but can they be removed in a similar fashion?</p>\n\n<p><strong>EDIT:</strong><br>\nI know that directories are not typically removed from @INC, but in my case (and maybe yours, if you are here for help) I added an entry of my own that I needed removed not only because it was a custom entry, but also because it specified a file (incorrect usage of @INC) and not a folder.</p>\n\n<p>Additional Info:<br>\nThe <code>export</code> command was executed from the command line, not from a script.</p>\n"}, {"tags": ["perl", "sudo", "cpan", "locallib"], "comments": [{"owner": {"reputation": 2184, "user_id": 1483904, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/wJ0mm.jpg?s=128&g=1", "display_name": "Elliptical view", "link": "https://stackoverflow.com/users/1483904/elliptical-view"}, "edited": false, "score": 0, "creation_date": 1530275380, "post_id": 50494652, "comment_id": 89190682, "body": "Here&#39;s how you change to sudo: <a href=\"https://stackoverflow.com/a/9410122/1483904\">stackoverflow.com/a/9410122/1483904</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11224, "user_id": 1620937, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/689410968ffb0f422e790bd6a48b3d9e?s=128&d=identicon&r=PG", "display_name": "Orab&#238;g", "link": "https://stackoverflow.com/users/1620937/orab%c3%aeg"}, "is_accepted": false, "score": 1, "last_activity_date": 1527100300, "last_edit_date": 1527100300, "creation_date": 1527099925, "answer_id": 50495087, "question_id": 50494652, "link": "https://stackoverflow.com/questions/50494652/how-to-change-configuration-of-cpan-from-locallib-to-sudo-preference/50495087#50495087", "title": "how to change configuration of CPAN from local::lib to sudo preference", "body": "<p>CPAN may store its configuration and the choice you made in several places, however, you should take a look first at <code>/etc/perl/CPAN/Config.pm</code> and/or <code>$HOME/.cpan/CPAN/MyConfig.pm</code>.</p>\n\n<p>Deleting these file (you may move them as a backup if you're not sure) will reset CPAN to default behavior.</p>\n\n<p>You may also have a look inside these files, find the exact parameter, and remove the corresponding line.</p>\n\n<p>try <code>grep local::lib ~/.cpan/CPAN/MyConfig.pm</code> for example...</p>\n"}], "owner": {"reputation": 11, "user_id": 9147150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfa7e581f198a88e6fb4e0bc4fabbe3?s=128&d=identicon&r=PG&f=1", "display_name": "Elena ", "link": "https://stackoverflow.com/users/9147150/elena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1782, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527100300, "creation_date": 1527098197, "question_id": 50494652, "link": "https://stackoverflow.com/questions/50494652/how-to-change-configuration-of-cpan-from-locallib-to-sudo-preference", "title": "how to change configuration of CPAN from local::lib to sudo preference", "body": "<p>Hi am new to using perl and installed CPAN using the code:\n$ perl -MCPAN -e shell\nand i got the following prompt: </p>\n\n<p>To install modules, you need to configure a local Perl library directory or escalate your privileges. CPAN can help you by bootstrapping the local::lib module or by configuring itself to use 'sudo' (if available). You may also resolve this problem manually if you need to customize your setup.</p>\n\n<p>What approach do you want? (Choose 'local::lib', 'sudo' or 'manual')</p>\n\n<p>I selected local::lib, but i realized that may not be the best for what I want to do and now would like to switch to sudo to build modules not in a local library. I have tried to build libraries but they always get put in a local library. </p>\n\n<p>How would I do this? \nThanks</p>\n"}, {"tags": ["perl", "parameter-passing", "subroutine"], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1527088398, "post_id": 50491908, "comment_id": 87996692, "body": "And what benefit is for <code>$x=shift</code> over <code>$x=$_[0]</code>?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1527088629, "post_id": 50491908, "comment_id": 87996850, "body": "If I understand right the variant with <code>shift</code> will be slower, but I may gain benefit if laterly passthrough <code>@_</code> to base class"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1527088854, "post_id": 50491908, "comment_id": 87996999, "body": "I don&#39;t know if <code>shift</code> is slow. <code>shift @foo</code> does not modify <code>@foo</code> very much, it just needs to move the pointer representing the front of the array."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1527091898, "post_id": 50491908, "comment_id": 87998924, "body": "The advantage of <code>shift</code> is if you&#39;re passing different sorts of things. Like for example: <code>my $self = shift;</code> when doing object oriented, and the rest of <code>@_</code> is &#39;arguments&#39;."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1527105626, "post_id": 50491908, "comment_id": 88005851, "body": "Consider <code>sub append_all { my $with=shift; map &quot;$_$with&quot;, @_ }</code> versus <code>sub append_all { my $with=$_[0]; map &quot;$_$with&quot;, @_[1..$#_] }</code> I think it&#39;s apparent that the first is easier to read and understand."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 9, "last_activity_date": 1527088655, "last_edit_date": 1527088655, "creation_date": 1527088333, "answer_id": 50491908, "question_id": 50491561, "link": "https://stackoverflow.com/questions/50491561/why-shifted-value-from-is-not-alias/50491908#50491908", "title": "Why shifted value from @_ is not alias?", "body": "<p>The shifted value is an alias</p>\n\n<pre><code>$ perl -E 'sub F{say \\$_[0]; say \\shift} $x=42; say \\$x; F($x)'\nSCALAR(0x1d7f1e0)\nSCALAR(0x1d7f1e0)\nSCALAR(0x1d7f1e0)\n</code></pre>\n\n<p>The assignment operation (e.g., <code>$x = $_[0]</code> or <code>$x = shift</code>) creates a copy of the scalar on the right hand side, so the newly assigned value is no longer an alias.</p>\n\n<p>As toolic said, the benefit of <code>shift</code> is to modify <code>@_</code>, which sometimes makes it easier to use in the rest of your subroutine.</p>\n\n<p>You could still work with a <em>reference</em> to the shifted value if you still wanted to be able to modify the input</p>\n\n<pre><code>$ perl -E 'sub G { my $x=\\shift; $$x = 19 } my $z = 42; G($z); say $z'\n19\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1527710435, "last_edit_date": 1527710435, "creation_date": 1527295215, "answer_id": 50538348, "question_id": 50491561, "link": "https://stackoverflow.com/questions/50491561/why-shifted-value-from-is-not-alias/50538348#50538348", "title": "Why shifted value from @_ is not alias?", "body": "<p><code>shift</code> isn't an lvalue operator.</p>\n\n<pre><code>$ perl -e'\n   use feature qw( say );\n   sub f { shift = 456; }\n   { my $x = 123; f($x); say $x; }\n'\nCan't modify shift in scalar assignment at -e line 3, near \"456;\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>However, the values shifted from <code>@_</code> are aliases nonetheless.</p>\n\n<pre><code>$ perl -e'\n   use feature qw( say );\n   sub f { my $p = \\shift; $$p = 456; }\n   { my $x = 123; f($x); say $x; }\n'\n456\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ perl -e'\n   use feature qw( say );\n   sub f { ${ \\shift } = 456; }\n   { my $x = 123; f($x); say $x; }\n'\n456\n</code></pre>\n\n<p>The problem is that you assigned the value of the aliased array element to <code>$x</code> rather than aliasing <code>$x</code> to array element. If you want to name the element of <code>@_</code>, you will need to alias a variable to it.</p>\n\n<pre><code>$ perl -e'\n   use feature qw( say );\n   sub f { our $x; local *x = \\shift; $x = 456; }\n   { my $x = 123; f($x); say $x; }\n'\n456\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ perl -e'\n   use feature qw( say );\n   use Data::Alias qw( alias );\n   sub f { alias my $x = shift; $x = 456; }\n   { my $x = 123; f($x); say $x; }\n'\n456\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ perl -e'\n   use feature qw( say refaliasing );\n   no warnings qw( experimental::refaliasing );\n   sub f { \\my $x = \\shift; $x = 456; }\n   { my $x = 123; f($x); say $x; }\n'\n456\n</code></pre>\n\n<hr>\n\n<p>The benefits of <code>my $x =  shift</code> over <code>my $x =  $_[0];</code> are numerous, although minor.</p>\n\n<ul>\n<li><code>shift</code> is easier to type than <code>$_[0]</code>.</li>\n<li>When there are more than one parameter, you can use <code>shift</code> for each rather than keeping count.</li>\n<li><code>shift</code> supports complex and open-ended parameters lists. (e.g. <code>sub f { my $cb = shift; $cb-&gt;($_) for @_; }</code>)</li>\n<li><code>shift</code> is microscopically faster than <code>$_[0]</code> (IIRC).</li>\n</ul>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 50491908, "answer_count": 2, "score": 3, "last_activity_date": 1527710435, "creation_date": 1527087325, "last_edit_date": 1527433588, "question_id": 50491561, "link": "https://stackoverflow.com/questions/50491561/why-shifted-value-from-is-not-alias", "title": "Why shifted value from @_ is not alias?", "body": "<blockquote>\n  <p><a href=\"https://perldoc.perl.org/functions/shift.html\" rel=\"nofollow noreferrer\"><strong>shift</strong></a><br>\n  Shifts the first value of the array off and returns it...</p>\n</blockquote>\n\n<p>This is done for speed optimization and to avoid copying by value.</p>\n\n<p>Also in <a href=\"https://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\"><strong>perlsub</strong></a></p>\n\n<blockquote>\n  <p>The array @_ is a local array, but its elements are aliases for the actual scalar parameters. In particular, if an element $_[0] is updated, the corresponding argument is updated</p>\n</blockquote>\n\n<p>Thus if we do <code>my $self =  shift</code> in our sub, we shift the first value from <code>@_</code>, which is an alias, is it not?</p>\n\n<p>But when we compare these two:</p>\n\n<pre><code>sub test {\n     print \\$_[0];    # SCALAR(0xf73c38)\n     my $x =  shift;\n     print \\$x;       # SCALAR(0xf79800)\n}\n</code></pre>\n\n<p>We see that <code>$x</code> is the copy.</p>\n\n<p><strong>Why is the <code>shift</code>ed value from @_ not an alias?</strong></p>\n\n<p>So if the value is copied for the case <code>my $x =  shift</code> too, what benefit does it provide over <code>my $x =  $_[0]</code>?</p>\n"}, {"tags": ["xml", "perl", "soap"], "comments": [{"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1527102221, "post_id": 50491462, "comment_id": 88004133, "body": "SOAP is a difficult beast to tame, if you can avoid it your life becomes better, and even more so in Perl. Did you look at <code>SOAP::WSDL</code> instead? It is a wrapper on top of <code>SOAP::Lite</code> and should make things a tad easier. Otherwise have a look at <code>XML::Compile::WSDL</code> also."}, {"owner": {"reputation": 1, "user_id": 9828427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5e037f7766b8ca80f96615a38d4315?s=128&d=identicon&r=PG&f=1", "display_name": "Rara Avis", "link": "https://stackoverflow.com/users/9828427/rara-avis"}, "reply_to_user": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1527161263, "post_id": 50491462, "comment_id": 88028297, "body": "Thanks, it works with wsdl2perl.pl  factory generator"}], "owner": {"reputation": 1, "user_id": 9828427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5e037f7766b8ca80f96615a38d4315?s=128&d=identicon&r=PG&f=1", "display_name": "Rara Avis", "link": "https://stackoverflow.com/users/9828427/rara-avis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527087075, "creation_date": 1527087075, "question_id": 50491462, "link": "https://stackoverflow.com/questions/50491462/form-soap-request-xml-using-soaplite", "title": "Form SOAP request xml using SOAP::Lite", "body": "<p>I have some troubles to form SOAP request using SOAP::Lite perl-module.</p>\n\n<p>Here is the WSDL-schema:\n</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;wsdl:definitions xmlns:p1=\"http://example.com/SOAP/PList\" name=\"SI_PList_2_SRM_SO\" targetNamespace=\"http://example.com/SOAP/PList\"&gt;\n    &lt;wsdl:documentation /&gt;\n    &lt;wsp:UsingPolicy wsdl:required=\"true\" /&gt;\n    &lt;wsp:Policy wsu:Id=\"OP_SI_PList_2_SRM_SO\" /&gt;\n    &lt;wsdl:types&gt;\n        &lt;xsd:schema xmlns=\"http://example.com/SOAP/PList\" targetNamespace=\"http://example.com/SOAP/PList\"&gt;\n            &lt;xsd:element name=\"MT_PList_Response\" type=\"DT_PList_Response\" /&gt;\n            &lt;xsd:element name=\"MT_PList_Request\" type=\"DT_PList_Request\" /&gt;\n            &lt;xsd:simpleType name=\"DT_PList_Request\"&gt;\n            &lt;/xsd:simpleType&gt;\n            &lt;xsd:complexType name=\"DT_PList_Response\"&gt;\n            &lt;/xsd:complexType&gt;\n        &lt;/xsd:schema&gt;\n    &lt;/wsdl:types&gt;\n    &lt;wsdl:message name=\"MT_PList_Request\"&gt;\n        &lt;wsdl:documentation /&gt;\n        &lt;wsdl:part name=\"MT_PList_Request\" element=\"p1:MT_PList_Request\" /&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=\"MT_PList_Response\"&gt;\n        &lt;wsdl:documentation /&gt;\n        &lt;wsdl:part name=\"MT_PList_Response\" element=\"p1:MT_PList_Response\" /&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:portType name=\"SI_PList_2_SRM_SO\"&gt;\n        &lt;wsdl:operation name=\"SI_PList_2_SRM_SO\"&gt;\n            &lt;wsdl:documentation /&gt;\n            &lt;wsp:Policy&gt;\n                &lt;wsp:PolicyReference URI=\"#OP_SI_PList_2_SRM_SO\" /&gt;\n            &lt;/wsp:Policy&gt;\n            &lt;wsdl:input message=\"p1:MT_PList_Request\" /&gt;\n            &lt;wsdl:output message=\"p1:MT_PList_Response\" /&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:portType&gt;\n    &lt;wsdl:binding name=\"SI_PList_2_SRM_SOBinding\" type=\"p1:SI_PList_2_SRM_SO\"&gt;\n        &lt;wsdl:operation name=\"SI_PList_2_SRM_SO\"/&gt;\n    &lt;/wsdl:binding&gt;\n    &lt;wsdl:service name=\"SI_PList_2_SRM_SOService\"&gt;\n        &lt;wsdl:port name=\"HTTPS_Port\" binding=\"p1:SI_PList_2_SRM_SOBinding\"&gt;\n            &lt;soap:address xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" location=\"https://s.example.com/api/etender/SI_PList_2_SRM_SO\" /&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n\n<p>Instructions of using SOAP API tell that I should call procedure SI_PList_2_SRM_SO. I wrote simple test script:\n</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use SOAP::Lite +trace =&gt; [ transport =&gt; sub { say $_[0]-&gt;as_string } ];\n\nmy $api_host = \"http://s.example.com/srm/api/etender/wsdl\";\nmy $api_namespace = \"http://example.com/SOAP/PList\";\n\n#my $soap = SOAP::Lite-&gt;new(uri =&gt; $api_namespace, proxy =&gt; $api_host);\nmy $soap = SOAP::Lite-&gt;service($api_host);\n$soap-&gt;serializer-&gt;envprefix('soapenv');\nmy $result = $soap-&gt;SI_PList_2_SRM_SO();\n</code></pre>\n\n<p>It forms request:\n</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soapenv:Envelope xmlns:p1=\"http://example.com/SOAP/PList\" &gt;\n   &lt;soapenv:Body&gt;\n      &lt;p1:SI_PList_2_SRM_SO xsi:nil=\"true\" /&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>But from support of SOAP Server side of service I know that right request xml must be:\n</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soapenv:Envelope xmlns:get=\"http://example.com/SOAP/PList\"&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;get:MT_PList_Request&gt;test&lt;/get:MT_PList_Request&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>So I should have another tag in Body.\nAlso I checked <a href=\"http://www.soapclient.com/soaptest.html\" rel=\"nofollow noreferrer\">SOAP Client Test Service</a>, which formed right request XML with MT_PList_Request tag.</p>\n\n<p>If I use directly MT_PList_Request instead, I expectedly receive an error \"Unrecognized method 'MT_PList_Request'. List of available method(s): SI_PList_2_SRM_SO\"</p>\n\n<p>Also I can't use method of sending raw XML like\n</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $element = SOAP::Data-&gt;type('xml' =&gt; $xml);\nmy $result = $soap-&gt;SI_PList_2_SRM_SO($element);\n</code></pre>\n\n<p>because SI_PList_2_SRM_SO called with parameters gets an exception \"Schema/namespace for type 'DT_PList_Request' is not specified\". </p>\n\n<p>If I change <code>service</code> method to <code>new</code> method, expectedly nothing get changed, anyway request xml has wrong tag.</p>\n"}, {"tags": ["perl", "debugging", "unicode", "utf-8", "data-dumper"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1527093972, "post_id": 50489062, "comment_id": 88000035, "body": "I&#39;d also encourage you to post an answer. This is good to have on Stackoverflow while I can&#39;t find it. (The answer needn&#39;t be elaborate but just rounded enough with a simple example.)  Another good source is <a href=\"https://stackoverflow.com/q/22781754/4653379\">Accents not respected in printing out with data::dumper</a> but it doesn&#39;t mention the <code>Encode</code> way so I wouldn&#39;t mark this as a duplicate"}], "answers": [{"comments": [{"owner": {"reputation": 12612, "user_id": 884463, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tH15z.png?s=128&g=1", "display_name": "David Tonhofer", "link": "https://stackoverflow.com/users/884463/david-tonhofer"}, "edited": false, "score": 0, "creation_date": 1547754743, "post_id": 50511147, "comment_id": 95311018, "body": "Just by switching to the pure Perl implementation of <code>Data::Dumper</code>, the output (written to STDOUT which I have told Perl should be UTF-8 using &quot;<code>binmode STDOUT, &#39;:encoding(UTF-8)&#39;;</code>&quot; switches from <code>&quot;Sau\\x{f0}anes Airport&quot;</code> (escaped ISO-8859-1; cannot be <code>eval</code>-ed back assuming UTF-8) to <code>&#39;Sau&#240;anes Airport&#39;</code> (unescaped UTF-8). Is that some kind of bug? I am not amused."}, {"owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "reply_to_user": {"reputation": 12612, "user_id": 884463, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tH15z.png?s=128&g=1", "display_name": "David Tonhofer", "link": "https://stackoverflow.com/users/884463/david-tonhofer"}, "edited": false, "score": 0, "creation_date": 1547819440, "post_id": 50511147, "comment_id": 95334580, "body": "@DavidTonhofer Wherever you prefer, gist maybe?"}, {"owner": {"reputation": 12612, "user_id": 884463, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tH15z.png?s=128&g=1", "display_name": "David Tonhofer", "link": "https://stackoverflow.com/users/884463/david-tonhofer"}, "edited": false, "score": 0, "creation_date": 1547909630, "post_id": 50511147, "comment_id": 95359439, "body": "@ernix A gist exists at <a href=\"https://gist.github.com/dtonhofer/29c8d561c911cc93052f2bb2181ee75e\" rel=\"nofollow noreferrer\">gist.github.com/dtonhofer/29c8d561c911cc93052f2bb2181ee75e</a> -- although the output differs between implementations, I was unable to reproduce to problems of reading-back I encountered earlier. Reading yields the correct strings. Tested on Fedora 29 and CentOS 7.6. I have to review my processing pipeline I set up at work to look for some error."}, {"owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "reply_to_user": {"reputation": 12612, "user_id": 884463, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tH15z.png?s=128&g=1", "display_name": "David Tonhofer", "link": "https://stackoverflow.com/users/884463/david-tonhofer"}, "edited": false, "score": 0, "creation_date": 1547921258, "post_id": 50511147, "comment_id": 95362792, "body": "@DavidTonhofer Try <code>Useqq(1)</code>, I also forked/replied to your gist."}], "tags": [], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "is_accepted": true, "score": 6, "last_activity_date": 1547754426, "last_edit_date": 1547754426, "creation_date": 1527170021, "answer_id": 50511147, "question_id": 50489062, "link": "https://stackoverflow.com/questions/50489062/how-to-display-readable-utf-8-strings-with-datadumper/50511147#50511147", "title": "How to display readable UTF-8 strings with Data::Dumper?", "body": "<p>Just for debugging:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse v5.10;\nuse utf8;\nuse Data::Dumper;\nbinmode STDOUT, ':utf8';\n\nCASE_1: {\n    # Redefine Data::Dumper::qquote() to do nothing\n    no warnings 'redefine';\n    local *Data::Dumper::qquote = sub { qq[\"${\\(shift)}\"] };\n    # Use the Pure Perl implementation of Dumper\n    local $Data::Dumper::Useperl = 1;\n\n    say Dumper({\u0434\u0430=&gt;\"\u043d\u0435\"});\n}\n\nCASE_2: {\n    # Use YAML instead\n    use YAML;\n    say Dump({\u0434\u0430=&gt;\"\u043d\u0435\"});\n}\n\nCASE_3: {\n    # Evalulate whole dumped string\n    no strict 'vars';\n    local $Data::Dumper::Terse = 1;\n\n    my $var = Dumper({\u0434\u0430=&gt;\"\u043d\u0435\"});\n    say eval \"qq#$var#\" or die $@;\n}\n\n__END__\n$VAR1 = {\n          \"\u0434\u0430\" =&gt; \"\u043d\u0435\"\n        };\n\n---\n\u0434\u0430: \u043d\u0435\n\n{\n  \"\u0434\u0430\" =&gt; \"\u043d\u0435\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3757, "user_id": 7467428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nruPY.png?s=128&g=1", "display_name": "Syfer", "link": "https://stackoverflow.com/users/7467428/syfer"}, "edited": false, "score": 0, "creation_date": 1539255328, "post_id": 52752956, "comment_id": 92439728, "body": "Code pasted need more info for others. Please edit your post to add more info as to why your code is better than the chosen one."}, {"owner": {"reputation": 1, "user_id": 8437810, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gEAVn95TW0k/AAAAAAAAAAI/AAAAAAAAABI/OytEozsTY_s/photo.jpg?sz=128", "display_name": "Mihail N", "link": "https://stackoverflow.com/users/8437810/mihail-n"}, "reply_to_user": {"reputation": 3757, "user_id": 7467428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nruPY.png?s=128&g=1", "display_name": "Syfer", "link": "https://stackoverflow.com/users/7467428/syfer"}, "edited": false, "score": 0, "creation_date": 1539589697, "post_id": 52752956, "comment_id": 92541791, "body": "again sorry I have data with symbols $ and @ inside"}], "tags": [], "owner": {"reputation": 1, "user_id": 8437810, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gEAVn95TW0k/AAAAAAAAAAI/AAAAAAAAABI/OytEozsTY_s/photo.jpg?sz=128", "display_name": "Mihail N", "link": "https://stackoverflow.com/users/8437810/mihail-n"}, "is_accepted": false, "score": -1, "last_activity_date": 1539256792, "last_edit_date": 1539256792, "creation_date": 1539236388, "answer_id": 52752956, "question_id": 50489062, "link": "https://stackoverflow.com/questions/50489062/how-to-display-readable-utf-8-strings-with-datadumper/52752956#52752956", "title": "How to display readable UTF-8 strings with Data::Dumper?", "body": "<p>sorry but I had tested eval whole dump and had got some repugnancy for my data so</p>\n\n<pre><code>Data::Dumper-&gt;new(\\@_)\n  -&gt;Indent(1)-&gt;Sortkeys(1)-&gt;Terse(1)-&gt;Useqq(0)-&gt;Dump\n  =~ s/((?:\\\\x\\{[\\da-f]+\\})+)/eval '\"'.$1.'\"'/eigr;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3333, "user_id": 1040347, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/43Chf.jpg?s=128&g=1", "display_name": "Aleksey Potapov", "link": "https://stackoverflow.com/users/1040347/aleksey-potapov"}, "edited": false, "score": 1, "creation_date": 1579858337, "post_id": 59893356, "comment_id": 105914891, "body": "While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value. I would recommend you to check SO&#39;s <a href=\"https://stackoverflow.com/help/how-to-answer\">official How to Answer article</a> along with the comprehensive <a href=\"https://codeblog.jonskeet.uk/2009/02/17/answering-technical-questions-helpfully/\" rel=\"nofollow noreferrer\">blog post</a> from <a href=\"https://stackoverflow.com/users/22656/jon-skeet\">Jon Skeet</a>."}], "tags": [], "owner": {"reputation": 49, "user_id": 12774251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d383028c172dc15cb400ec12ec4443b?s=128&d=identicon&r=PG", "display_name": "leszekrabka", "link": "https://stackoverflow.com/users/12774251/leszekrabka"}, "is_accepted": false, "score": 1, "last_activity_date": 1579857227, "creation_date": 1579857227, "answer_id": 59893356, "question_id": 50489062, "link": "https://stackoverflow.com/questions/50489062/how-to-display-readable-utf-8-strings-with-datadumper/59893356#59893356", "title": "How to display readable UTF-8 strings with Data::Dumper?", "body": "<blockquote>\n  <p></p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>print Dumper(%mydata) =~ s/\\\\x\\{([0-9a-f]{2,})\\}/chr hex $1/ger;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1335, "user_id": 92795, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4f9179800a79378e74fae4f9d09d1237?s=128&d=identicon&r=PG", "display_name": "\u0411\u0435\u0440\u043e\u0432", "link": "https://stackoverflow.com/users/92795/%d0%91%d0%b5%d1%80%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1446, "favorite_count": 0, "accepted_answer_id": 50511147, "answer_count": 3, "score": 7, "last_activity_date": 1579857227, "creation_date": 1527080288, "last_edit_date": 1547755231, "question_id": 50489062, "link": "https://stackoverflow.com/questions/50489062/how-to-display-readable-utf-8-strings-with-datadumper", "title": "How to display readable UTF-8 strings with Data::Dumper?", "body": "<p>I have some UTF-8 encoded strings in structures which I am dumping for debugging purposes with <a href=\"https://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Data::Dumper</a>.</p>\n\n<p>A small test case is:</p>\n\n<pre><code>use utf8;\nuse Data::Dumper;\nsay Dumper({\u0434\u0430=&gt;\"\u043d\u0435\"}\n</code></pre>\n\n<p>It outputs</p>\n\n<pre><code>{\n  \"\\x{434}\\x{430}\" =&gt; \"\\x{43d}\\x{435}\"\n};\n</code></pre>\n\n<p>but I want to see</p>\n\n<pre><code>{\n  \"\u0434\u0430\" =&gt; \"\u043d\u0435\"\n};\n</code></pre>\n\n<p>Of course my structure is quite more complex.\nHow can I make the strings in the dumped structure readable while debugging?  Maybe I have to process the output via <code>chr</code> somehow before <code>warn/say</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1527078925, "post_id": 50488496, "comment_id": 87989922, "body": "You only showed a part of the structure. It&#39;s not an array ref."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527079052, "post_id": 50488496, "comment_id": 87990029, "body": "You can&#39;t just crush an array into a hash somehow and hope your subroutine works. Everything depends on how the hash is being used."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1527079187, "post_id": 50488496, "comment_id": 87990111, "body": "Iterate over your array and call the function many times with each hash....or wrap the whole thing in an <code>{ }</code>...but that probably won&#39;t work unless the subroutine is very clever."}, {"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "edited": false, "score": 0, "creation_date": 1527081500, "post_id": 50488496, "comment_id": 87991759, "body": "What I have is an array of hash. I need to pass as hash ref"}, {"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "edited": false, "score": 0, "creation_date": 1527081828, "post_id": 50488496, "comment_id": 87991976, "body": "[ {                  &#39;id&#39; =&gt; &#39;7&#39;,             &#39;image&#39; =&gt; &#39;/x/eng/bbnbs/daemon/DOT/R9.2x/cit-ok/final/bedrock/export/x&zwnj;&#8203;86_64/tarball/image.&zwnj;&#8203;tgz&#39;           }         ];"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1527082709, "post_id": 50488496, "comment_id": 87992666, "body": "Yes, you have said as much...what you have yet to clarify is what kind of structure the subroutine is expecting in that hash."}, {"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "edited": false, "score": 0, "creation_date": 1527082872, "post_id": 50488496, "comment_id": 87992788, "body": "Okay, got you. This is the input validation of the subroutine:                           state $_param_spec = {         &#39;version&#39;            =&gt; {&#39;type&#39; =&gt; SCALAR},         &#39;image&#39;              =&gt; {&#39;type&#39; =&gt; SCALAR,          &#39;optional&#39; =&gt; 1},         &#39;nate_lib&#39;           =&gt; {&#39;type&#39; =&gt; SCALAR|ARRAYREF, &#39;optional&#39; =&gt; 1},         &#39;new_netboot_image&#39;  =&gt; {&#39;type&#39; =&gt; SCALAR,          &#39;optional&#39; =&gt; 1},         &#39;ntest&#39;              =&gt; {&#39;type&#39; =&gt; SCALAR,          &#39;optional&#39; =&gt; 1},         &#39;transaction&#39;        =&gt; {&#39;type&#39; =&gt; SCALAR,          &#39;default&#39;  =&gt; 1},     };"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1527084369, "post_id": 50488496, "comment_id": 87993813, "body": "Which hashref do you need? Your arrayref, let it call <code>$ra</code>, has two items, both an hashref. So first one is <code>$ra-&gt;[0]</code> and second one is <code>$ra-&gt;[1]</code> . Noone can know for you which one do you need in your specific case."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1527084603, "creation_date": 1527084603, "answer_id": 50490583, "question_id": 50488496, "link": "https://stackoverflow.com/questions/50488496/how-do-i-convert-arrayref-to-hashref-in-perl/50490583#50490583", "title": "How do I convert arrayref to hashref in Perl?", "body": "<p>It looks like you need to aggregate the hashes in the array into a single hash</p>\n\n<p>At a guess the data structure has been built incorrectly, resulting in two hashes instead of one. The best way would be to build the hash correctly in the first place, but this code will combine the data for you</p>\n\n<pre><code>my $data = [\n    {\n        'id'    =&gt; '6',\n        'image' =&gt; '/x/eng/rlse/DOT/R9.0xN/final/bedrock/export/x86_64/tarball/image.tgz'\n    },\n    {\n        'new_netboot_image' =&gt; '/x/eng/bbnbs/daemon/DOT/R9.2x/cit-ok/final/bedrock/export/x86_64/netboot/netboot/kernel',\n        'version'           =&gt; '9.2',\n        'ntest'             =&gt; '/x/eng/bbnbs/daemon/DOT/R9.2x/cit-ok/test/nate/bin/ntest',\n        'nate_lib'          =&gt; '/x/eng/ctl/test-tools;/x/eng/ctl/test-tools/\n    }\n];\n\nmy %params;\n{\n    %params = ( %params, %$_ ) for values %$data;\n}\n\nmy_sub(\\%params);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527084983, "post_id": 50490587, "comment_id": 87994228, "body": "The question is <i>&quot;I want to pass this [data] to a subroutine that accepts only hash reference. How do I do this?&quot;</i> You appear to have shown how to do something unrelated with an entirely different data structure."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1527085101, "post_id": 50490587, "comment_id": 87994304, "body": "Please don&#39;t set an example of working directly with the contents of <code>@_</code>. It&#39;s best to copy the values to named variables unless the subroutine is extremely brief, or it needs to modify any of the actual parameters."}, {"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "edited": false, "score": 0, "creation_date": 1527171554, "post_id": 50490587, "comment_id": 88035700, "body": "Thanks for replying anyway."}, {"owner": {"reputation": 300, "user_id": 6701530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a176c0213539f76b5f4abd78c40b365f?s=128&d=identicon&r=PG&f=1", "display_name": "James Aanderson", "link": "https://stackoverflow.com/users/6701530/james-aanderson"}, "edited": false, "score": 0, "creation_date": 1527382481, "post_id": 50490587, "comment_id": 88107107, "body": "Re: &quot;It&#39;s best to copy the values to named variables&quot;,  When testing values, to remove them from the default array would corrupt the hash. To copy would use more memory, and to double reference would be even less readable. Testing @_ is done in dozens of main line packages on CPAN."}], "tags": [], "owner": {"reputation": 300, "user_id": 6701530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a176c0213539f76b5f4abd78c40b365f?s=128&d=identicon&r=PG&f=1", "display_name": "James Aanderson", "link": "https://stackoverflow.com/users/6701530/james-aanderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1527084613, "creation_date": 1527084613, "answer_id": 50490587, "question_id": 50488496, "link": "https://stackoverflow.com/questions/50488496/how-do-i-convert-arrayref-to-hashref-in-perl/50490587#50490587", "title": "How do I convert arrayref to hashref in Perl?", "body": "<p>Use ref() to test the passed value. In the following example we pass a hash, and two hash refs, note that we only print values twice, even though three hashes were passed (two as refs). The strings: \"HASH\" \"ARRAY\" \"SCALAR\" can be used to test for references to structures, and the package string of a class such as \"Foo::Bar\" can be used to test for objects. </p>\n\n<pre><code>#! /bin/perl\n\nuse strict ; \n\nmy %foo = ('foo' =&gt; 'bar') ; # hash\nmy $reffoo = \\%foo ; # hashref\nmy $refbar = {'bar' =&gt; 'foo'} ; # hashref\n\nsub only_hashref {\n    return undef unless (ref($_[0]) eq 'HASH') ; \n    print ($_[0]-&gt;{'foo'}, \"\\n\") if defined $_[0]-&gt;{'foo'} ; \n    print ($_[0]-&gt;{'bar'}, \"\\n\") if defined $_[0]-&gt;{'bar'} ; \n}\n\nonly_hashref(%foo) ; \nonly_hashref($reffoo) ; \nonly_hashref($refbar) ; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "edited": false, "score": 0, "creation_date": 1527171532, "post_id": 50490778, "comment_id": 88035677, "body": "Thanks a lot :) This saved me!"}], "tags": [], "owner": {"reputation": 453, "user_id": 5983598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d539e9b534f278c139ce01cadf7b70?s=128&d=identicon&r=PG", "display_name": "mr_ron", "link": "https://stackoverflow.com/users/5983598/mr-ron"}, "is_accepted": true, "score": 1, "last_activity_date": 1527085096, "creation_date": 1527085096, "answer_id": 50490778, "question_id": 50488496, "link": "https://stackoverflow.com/questions/50488496/how-do-i-convert-arrayref-to-hashref-in-perl/50490778#50490778", "title": "How do I convert arrayref to hashref in Perl?", "body": "<p>Here is one approach that creates a hash reference based on your specs.  My <code>transaction</code> element baselessly speculates that it is the same as <code>id</code> in the input.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse Modern::Perl;\nuse Data::Dumper;\n\nmy $a = [\n    {\n        'id'    =&gt; '6',\n        'image' =&gt; '/x/eng/rlse/DOT/R9.0xN/final/bedrock/export/x86_64/tarball/image.tgz'\n    },\n    {\n        'new_netboot_image' =&gt; '/x/eng/bbnbs/daemon/DOT/R9.2x/cit-ok/final/bedrock/export/x86_64/netboot/netboot/kernel',\n        'version'           =&gt; '9.2',\n        'ntest'             =&gt; '/x/eng/bbnbs/daemon/DOT/R9.2x/cit-ok/test/nate/bin/ntest',\n        'nate_lib'          =&gt; '/x/eng/ctl/test-tools;/x/eng/ctl/test-tools/'\n    }\n];\n\nmy $h = { map { %$_ } @$a };\n$h-&gt;{ transaction } = delete $h-&gt;{ id };\nprint Dumper $h;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'image' =&gt; '/x/eng/rlse/DOT/R9.0xN/final/bedrock/export/x86_64/tarball/image.tgz',\n          'new_netboot_image' =&gt; '/x/eng/bbnbs/daemon/DOT/R9.2x/cit-ok/final/bedrock/export/x86_64/netboot/netboot/kernel',\n          'version' =&gt; '9.2',\n          'ntest' =&gt; '/x/eng/bbnbs/daemon/DOT/R9.2x/cit-ok/test/nate/bin/ntest',\n          'nate_lib' =&gt; '/x/eng/ctl/test-tools;/x/eng/ctl/test-tools/',\n          'transaction' =&gt; '6'\n        };\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 50490778, "answer_count": 3, "score": -3, "last_activity_date": 1527085096, "creation_date": 1527078688, "last_edit_date": 1527084097, "question_id": 50488496, "link": "https://stackoverflow.com/questions/50488496/how-do-i-convert-arrayref-to-hashref-in-perl", "title": "How do I convert arrayref to hashref in Perl?", "body": "<p>I have an array of hash like this:</p>\n\n<pre><code>[\n    {\n        'id'    =&gt; '6',\n        'image' =&gt; '/x/eng/rlse/DOT/R9.0xN/final/bedrock/export/x86_64/tarball/image.tgz'\n    },\n    {\n        'new_netboot_image' =&gt; '/x/eng/bbnbs/daemon/DOT/R9.2x/cit-ok/final/bedrock/export/x86_64/netboot/netboot/kernel',\n        'version'           =&gt; '9.2',\n        'ntest'             =&gt; '/x/eng/bbnbs/daemon/DOT/R9.2x/cit-ok/test/nate/bin/ntest',\n        'nate_lib'          =&gt; '/x/eng/ctl/test-tools;/x/eng/ctl/test-tools/\n    }\n];\n</code></pre>\n\n<p>I want to pass this to a subroutine that accepts only hash reference. How do I do this? The above output is from the following dumper.</p>\n\n<pre><code>$Log-&gt;info(\"Dumping array after updating\" . Dumper($orig_cleanup_version_settings));\n        $Api-&gt;service_db-&gt;cleanup_version_mapping_update($orig_cleanup_version_settings);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1527078683, "post_id": 50488333, "comment_id": 87989746, "body": "You can use <code>eval</code>, but it&#39;s not recommended. Where has this string come from?"}, {"owner": {"reputation": 46297, "user_id": 143505, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8873b6c42ea2d345bcafb32119700fca?s=128&d=identicon&r=PG", "display_name": "ccheneson", "link": "https://stackoverflow.com/users/143505/ccheneson"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527090256, "post_id": 50488333, "comment_id": 87997922, "body": "From db, it&#39;s legacy ;)"}], "answers": [{"comments": [{"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1527084833, "post_id": 50488897, "comment_id": 87994134, "body": "Doesn&#39;t work for this: <code>$string = &#39;{123=&gt;&quot;my number&quot;}&#39;</code> and also not for <code>$string = &#39;{&quot;=&gt;hello&quot;=&gt;&quot;world&quot;}&#39;</code>. Your solution might be ok, but it should be mentioned that it requires that you to know what input might come. Now and in the future."}, {"owner": {"reputation": 87, "user_id": 6479118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63708dea9abc1e12f5c0c38412aad735?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Ohnsorge", "link": "https://stackoverflow.com/users/6479118/theo-ohnsorge"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1527085632, "post_id": 50488897, "comment_id": 87994704, "body": "@KjetilS You are right. We know nothing about the producer of the string. You can harden this solution by extend the regex. Or you can enable the producer to serialize real Json or to produce a serialized Perl data structure."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1527085842, "post_id": 50488897, "comment_id": 87994882, "body": "@Theo: <i>&quot;You are right. We know nothing about the producer of the string&quot;</i> Quite. So your answer cannot stand."}, {"owner": {"reputation": 87, "user_id": 6479118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63708dea9abc1e12f5c0c38412aad735?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Ohnsorge", "link": "https://stackoverflow.com/users/6479118/theo-ohnsorge"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1527094031, "post_id": 50488897, "comment_id": 88000063, "body": "@Borodin: I disagree. It needs tuning by the requestor to fit its specific requirements. And in production environment it is always better than eval. You never know which evil strings are in the database. decode only fails. eval has the potential to kill your system."}], "tags": [], "owner": {"reputation": 87, "user_id": 6479118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63708dea9abc1e12f5c0c38412aad735?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Ohnsorge", "link": "https://stackoverflow.com/users/6479118/theo-ohnsorge"}, "is_accepted": false, "score": 3, "last_activity_date": 1527080207, "last_edit_date": 1527080207, "creation_date": 1527079821, "answer_id": 50488897, "question_id": 50488333, "link": "https://stackoverflow.com/questions/50488333/transform-a-string-to-a-hash/50488897#50488897", "title": "Transform a string to a hash", "body": "<p>Convert the string with Perl data structure to a string with JSON data structure by substitute <code>=&gt;</code> with <code>:</code> and decode it with JSON package.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings FATAL =&gt; 'all';\nuse strict;\nuse Data::Dumper;\nuse JSON qw(decode_json); # use JSON::XS for more performance\n\nmy $string = '{\"hello\"=&gt;[\"world\",\"perl\"],\"foo\"=&gt;\"bar\"}';\n$string =~ s/\"=&gt;/\":/g;\nprint Dumper(decode_json($string));\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>$VAR1 = {\n          'hello' =&gt; [\n                       'world',\n                       'perl'\n                     ],\n          'foo' =&gt; 'bar'\n        };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 399, "user_id": 3420699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AgkhT.jpg?s=128&g=1", "display_name": "pcjr", "link": "https://stackoverflow.com/users/3420699/pcjr"}, "is_accepted": true, "score": 2, "last_activity_date": 1527098168, "last_edit_date": 1527098168, "creation_date": 1527085866, "answer_id": 50491039, "question_id": 50488333, "link": "https://stackoverflow.com/questions/50488333/transform-a-string-to-a-hash/50491039#50491039", "title": "Transform a string to a hash", "body": "<p>Using eval():</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse Data::Dumper;\n\nmy $string = qw( {\"hello\"=&gt;[\"world\",\"perl\"],\"foo\"=&gt;\"bar\"} );\nprint \"String: $string\\n\";\n\nmy $hash = eval($string);\nprint \"Hash: \", Dumper($hash), \"\\n\";\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>String: {\"hello\"=&gt;[\"world\",\"perl\"],\"foo\"=&gt;\"bar\"}\nHash: $VAR1 = {\n          'foo' =&gt; 'bar',\n          'hello' =&gt; [\n                       'world',\n                       'perl'\n                     ]\n        };\n</code></pre>\n\n<p>Using reval() and <a href=\"http://perldoc.perl.org/Safe.html\" rel=\"nofollow noreferrer\">Safe</a> if you are at all concerned about the input:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse Safe;\nuse Data::Dumper;\n\nmy $string = qw( {\"hello\"=&gt;[\"world\",\"perl\"],\"foo\"=&gt;\"bar\"} );\nprint \"String: $string\\n\";\n\nmy $compartment = new Safe;\nmy $hash = $compartment-&gt;reval($string);\nprint $@ ? \"reval error: $@\" : (\"Hash: \", Dumper($hash)), \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 399, "user_id": 3420699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AgkhT.jpg?s=128&g=1", "display_name": "pcjr", "link": "https://stackoverflow.com/users/3420699/pcjr"}, "edited": false, "score": 0, "creation_date": 1527108127, "post_id": 50497040, "comment_id": 88007085, "body": "Thanks, I was not familiar with PPI until your answer."}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 2, "last_activity_date": 1527107602, "creation_date": 1527107602, "answer_id": 50497040, "question_id": 50488333, "link": "https://stackoverflow.com/questions/50488333/transform-a-string-to-a-hash/50497040#50497040", "title": "Transform a string to a hash", "body": "<p>If you don't mind me plugging one of my own modules: <a href=\"https://metacpan.org/pod/Config::Perl\" rel=\"nofollow noreferrer\"><code>Config::Perl</code></a> uses <a href=\"https://metacpan.org/pod/PPI\" rel=\"nofollow noreferrer\"><code>PPI</code></a> to parse strings like that, with no need for <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\"><code>eval</code></a>:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Data::Dumper; # Debug\nuse Config::Perl;\n\nmy $str = q( {\"hello\"=&gt;[\"world\",\"perl\"],\"foo\"=&gt;\"bar\"} );\n\nmy $data = Config::Perl-&gt;new-&gt;parse_or_die(\\$str)-&gt;{_}[0];\n\nprint Dumper($data); # Debug\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'hello' =&gt; [\n                       'world',\n                       'perl'\n                     ],\n          'foo' =&gt; 'bar'\n        };\n</code></pre>\n\n<p>(The above code assumes that you've only got a single hash ref in your data, if you've got variations, you'll have to look at the whole data structure returned by <code>parse_or_die</code>.)</p>\n"}], "owner": {"reputation": 46297, "user_id": 143505, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8873b6c42ea2d345bcafb32119700fca?s=128&d=identicon&r=PG", "display_name": "ccheneson", "link": "https://stackoverflow.com/users/143505/ccheneson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 50491039, "answer_count": 3, "score": 0, "last_activity_date": 1527158877, "creation_date": 1527078229, "question_id": 50488333, "link": "https://stackoverflow.com/questions/50488333/transform-a-string-to-a-hash", "title": "Transform a string to a hash", "body": "<p>Is there any way/lib to transform a string to a hash ?\nI have such string</p>\n\n<pre><code>{\"hello\"=&gt;[\"world\",\"perl\"],\"foo\"=&gt;\"bar\"}\n</code></pre>\n\n<p>and I would like to access the different values like if it was a hash</p>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "printing", "weather-api", "i3"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527069540, "post_id": 50485072, "comment_id": 87983592, "body": "Your code has syntax errors when run with <code>use strict</code>. For snow, there&#39;s a copy/paste error because the variable is called <code>$rain</code>. When I run the program with just one line (<code>$_ = &#39;&lt;title&gt;Currently: Sunny&lt;&#47;title&gt;&#39;;</code>) I can&#39;t reproduce your problem. I tried will a value for each of the <code>if</code> blocks. It must be your input. Probably the RSS feed contains the trigger word twice. Please <a href=\"https://stackoverflow.com/posts/50485072/edit\">edit</a> and include the input."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527070008, "post_id": 50485072, "comment_id": 87983938, "body": "Add the <code>use strict</code> and <code>use warnings</code> pragmas next to the <code>use utf8</code> pragma. You&#39;ll see two problems popping up. One is the wrong variable name, the other is related to the array. I didn&#39;t investigate them because I don&#39;t have the real input."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527070106, "post_id": 50485072, "comment_id": 87984005, "body": "Tell us the <code>locCode</code> so we can open the URL."}, {"owner": {"reputation": 8229, "user_id": 4565943, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ju2U4.jpg?s=128&g=1", "display_name": "&#201;be Isaac", "link": "https://stackoverflow.com/users/4565943/%c3%89be-isaac"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527070302, "post_id": 50485072, "comment_id": 87984138, "body": "@simbabque. The <code>locCode</code> is <code>&quot;ASI|IN|IN031|MADRAS&quot;</code>"}, {"owner": {"reputation": 8229, "user_id": 4565943, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ju2U4.jpg?s=128&g=1", "display_name": "&#201;be Isaac", "link": "https://stackoverflow.com/users/4565943/%c3%89be-isaac"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527070772, "post_id": 50485072, "comment_id": 87984460, "body": "@simbabque About the <code>$rain</code>, there seems to be a bug in the code. Its second occurrence should be <code>$snow</code> (made the bug fix in the edit)."}], "answers": [{"comments": [{"owner": {"reputation": 8229, "user_id": 4565943, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ju2U4.jpg?s=128&g=1", "display_name": "&#201;be Isaac", "link": "https://stackoverflow.com/users/4565943/%c3%89be-isaac"}, "edited": false, "score": 0, "creation_date": 1527071165, "post_id": 50485820, "comment_id": 87984689, "body": "Thank you so much! It is still so strange why one variable is printed twice while the other remains intact. You&#39;re right. I can only see it with the additional pragmas."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1527071310, "post_id": 50485820, "comment_id": 87984796, "body": "In fact the test in the outermost <code>if</code> should be <code>&#47;&lt;title&gt;Currently: (.*)?&lt;\\&#47;title&gt;&#47;</code>\u2014there&#39;s no point in checking it twice."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527073546, "post_id": 50485820, "comment_id": 87986276, "body": "@Borodin yes, you&#39;re correct. And on top of that there is way too much escaping going on in the pattern. Another sign that the author of that code didn&#39;t really know what they were doing. :-/"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527073676, "post_id": 50485820, "comment_id": 87986363, "body": "The optional <code>(.*)?</code> is also very suspect."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527073989, "post_id": 50485820, "comment_id": 87986536, "body": "On a different note, why not just look out the window to get the weather? I&#39;ve never understood why I would need a tool that tells me only the weather right now in the place where I am. Seeing a forecast, yes. But for a snapshot of right now I would just turn my head and take a loot outside. :D"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1527071135, "last_edit_date": 1527071135, "creation_date": 1527070814, "answer_id": 50485820, "question_id": 50485072, "link": "https://stackoverflow.com/questions/50485072/print-statement-prints-twice-in-outer-block-in-perl/50485820#50485820", "title": "Print statement prints twice in outer block in perl", "body": "<p>The script works by looking for the <code>&lt;title&gt;</code> tag in the RSS. If you do that manually, you'll see there are several.'</p>\n\n<pre><code>curl -s 'http://rss.accuweather.com/rss/liveweather_rss.asp?metric=1&amp;locCode=ASI|IN|IN031|MADRAS' | grep title\n&lt;title&gt;Madras, IN - AccuWeather.com Forecast&lt;/title&gt;\n            &lt;title&gt;Madras, IN - AccuWeather.com Forecast&lt;/title&gt;\n            &lt;title&gt;Currently: Partly Sunny: 35C&lt;/title&gt; \n                &lt;title&gt;5/23/2018 Forecast&lt;/title&gt;\n                &lt;title&gt;5/24/2018 Forecast&lt;/title&gt;\n&lt;title&gt;The AccuWeather.com RSS Center&lt;/title&gt;\n</code></pre>\n\n<p>If you add</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>you will get a ton of warnings about variables being undefined. That's because it doesn't find a match for <em>title</em> with that pattern, but it still prints.</p>\n\n<blockquote>\n<pre><code>  if (/Currently/) {\n    chomp;\n    /\\&lt;title\\&gt;Currently: (.*)?\\&lt;\\/title\\&gt;/;\n\n    # ....\n    print \"$values2[0]$deg\";\n  }\n</code></pre>\n</blockquote>\n\n<p>That's also why you get the additional output.</p>\n\n<p>You need to skip the line if there is no match.</p>\n\n<pre><code>/\\&lt;title\\&gt;Currently: (.*)?\\&lt;\\/title\\&gt;/ or next;\n</code></pre>\n"}], "owner": {"reputation": 8229, "user_id": 4565943, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ju2U4.jpg?s=128&g=1", "display_name": "&#201;be Isaac", "link": "https://stackoverflow.com/users/4565943/%c3%89be-isaac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 50485820, "answer_count": 1, "score": 0, "last_activity_date": 1527071423, "creation_date": 1527068873, "last_edit_date": 1527071423, "question_id": 50485072, "link": "https://stackoverflow.com/questions/50485072/print-statement-prints-twice-in-outer-block-in-perl", "title": "Print statement prints twice in outer block in perl", "body": "<p>The following is a code adapted from <a href=\"http://kumarcode.com/Colorful-i3/\" rel=\"nofollow noreferrer\">this link</a> for getting the weather and displaying on i3blocks.</p>\n\n<pre><code>#!/bin/bash \n\nMETRIC=1 #Should be 0 or 1; 0 for F, 1 for C\n\nif [ -z $1 ]; then\n    echo\n    echo \"USAGE: weather.sh &lt;locationcode&gt;\"\n    echo\n    exit 0;\nfi\n\ncurl -s http://rss.accuweather.com/rss/liveweather_rss.asp\\?metric\\=${METRIC}\\&amp;locCode\\=$1 | perl -ne 'use utf8;\n\nif ( /Currently/ ) {\n\n    chomp;\n    /\\&lt;title\\&gt;Currently: (.*)?\\&lt;\\/title\\&gt;/;\n\n    my @values  = split(\":\", $1); \n    my $deg     = \"\u00b0C\";\n    my @values2 = split(\"C\", $values[1]);\n\n    if ( $values[0] eq \"Sunny\" || $values[0] eq \"Mostly Sunny\" || $values[0] eq \"Partly Sunny\" || $values[0] eq \"Intermittent Clouds\" || $values[0] eq \"Hazy Sunshine\" || $values[0] eq \"Hazy Sunshine\" || $values[0] eq \"Hot\") {\n        my $sun = \"\uf185\";\n        binmode(STDOUT, \":utf8\");\n        print \"$sun\";\n    }\n\n    if ( $values[0] eq \"Mostly Cloudy\" || $values[0] eq \"Cloudy\" || $values[0] eq \"Dreary (Overcast)\" || $values[0] eq \"Fog\" ) {\n        my $cloud = \"\uf0c2\";\n        binmode(STDOUT, \":utf8\");\n        print \"$cloud\";\n    }\n\n    if ( $values[0] eq \"Showers\" || $values[0] eq \"Mostly Cloudy w/ Showers\" || $values[0] eq \"Partly Sunny w/ Showers\" || $values[0] eq \"T-Storms\"|| $values[0] eq \"Mostly Cloudy w/ T-Storms\"|| $values[0] eq \"Partly Sunny w/ T-Storms\"|| $values[0] eq \"Rain\" ) {\n        my $rain = \"\uf0e9\";\n        binmode(STDOUT, \":utf8\");\n        print \"$rain\";\n    }\n\n    if ( $values[0] eq \"Windy\" ) {\n        my $wind = \"\uf1d8\";\n        binmode(STDOUT, \":utf8\");\n        print \"$wind\";\n    }\n\n    if ( $values[0] eq \"Flurries\" || $values[0] eq \"Mostly Cloudy w/ Flurries\" || $values[0] eq \"Partly Sunny w/ Flurries\"|| $values[0] eq \"Snow\"|| $values[0] eq \"Mostly Cloudy w/ Snow\"|| $values[0] eq \"Ice\"|| $values[0] eq \"Sleet\"|| $values[0] eq \"Freezing Rain\"|| $values[0] eq \"Rain and Snow\"|| $values[0] eq \"Cold\" ) {\n        my $snow = \"\uf2dc\";\n        binmode(STDOUT, \":utf8\");\n        print \"$snow\";\n    }\n\n    if ( $values[0] eq \"Clear\" || $values[0] eq \"Mostly Clear\" || $values[0] eq \"Partly Cloudy\"|| $values[0] eq \"Intermittent Clouds\"|| $values[0] eq \"Hazy Moonlight\"|| $values[0] eq \"Mostly Cloudy\"|| $values[0] eq \"Partly Cloudy w/ Showers\"|| $values[0] eq \"Mostly Cloudy w/ Showers\"|| $values[0] eq \"Partly Cloudy w/ T-Storms\"|| $values[0] eq \"Mostly Cloudy w/ Flurries\" || $values[0] eq \"Mostly Cloudy w/ Snow\" ) {\n        my $night = \"\uf186\";\n        binmode(STDOUT, \":utf8\");\n        print \"$night\";\n    }\n\n    binmode(STDOUT, \":utf8\");\n    print  \"$values2[0]$deg\"; \n}'\n</code></pre>\n\n<p>(The text that might look like boxes are from the <em>fontawesome</em> font). All I added was the following lines</p>\n\n<pre><code>my $deg = \"\u00b0C\";\nmy @values2 = split(\"C\",$values[1]);\n</code></pre>\n\n<p>and modified the last <code>print</code> statement which was originally <code>print \"$values[1]\"</code>. The old <code>print</code> statement shows the temperature without a degree sign like <code>35C</code>. My intention was just to add the degree in between like <code>35\u00b0C</code> but the output is </p>\n\n<pre><code>35\u00b0C\u00b0C\n</code></pre>\n\n<p>Why is the substring printed twice? This happens even if I include it in a separate <code>print</code> statement or include the substring directly (<code>print $values2[0]\u00b0C</code>).</p>\n\n<p>Oddly, including the value and unit in the inner blocks such as <code>print \"$sun$values2[0]$deg\";</code> seems to work fine without duplication.</p>\n"}, {"tags": ["perl", "hash", "key"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1527066432, "post_id": 50484133, "comment_id": 87981419, "body": "How are you getting the keys? You could do with adding more code to help explain what it is you&#39;re doing"}, {"owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1527066851, "post_id": 50484133, "comment_id": 87981708, "body": "guess you could use <code>s&#47;(\\d+):(\\d+)&#47;$2:$1&#47;</code> to reverse your key"}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1527066963, "post_id": 50484133, "comment_id": 87981797, "body": "@ChrisTurner i add the way i getting the keys, thanks for pointing out"}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1527066996, "post_id": 50484133, "comment_id": 87981823, "body": "@Flying_whale how to use this to reverse? Can give me example?"}, {"owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1527067162, "post_id": 50484133, "comment_id": 87981941, "body": "this is the substitution mentionned by simbabque in the case the the keys are 2 digits or more (though it will work for 1 digit).  You should look for regular expressions (known as &quot;regex&quot;), my comment will then be clearer to you ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527067409, "post_id": 50484133, "comment_id": 87982135, "body": "Your <code>for</code> loop looks strange. What is <code>@file</code>? Where did that come from? Are you slurping the whole file into memory first? That means you&#39;re making another (larger) copy with your hash. If your file is very big that might not be a good idea."}, {"owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1527067784, "post_id": 50484133, "comment_id": 87982389, "body": "yep, you should use <code>open(my $file, &quot;&lt;&quot;, &quot;file.txt&quot;);</code> and a <code>while(&lt;$file&gt;)</code> loop instead"}], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1527068825, "post_id": 50484254, "comment_id": 87983138, "body": "Hi @simbabque, thanks for the answer, i getting error in this line do you know why?  <code>$hash{$key} &#47;&#47;= ( $hash{&quot;$right:$left&quot;} &#47;&#47; [] );</code> error message <code>syntax error near &quot;] )&quot;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1527068923, "post_id": 50484254, "comment_id": 87983191, "body": "Which Perl version are you running @Tim? Possibly it&#39;s too old for the <code>&#47;&#47;=</code> syntax. You need at least <a href=\"https://perldoc.perl.org/perl5100delta.html#Defined-or-operator\" rel=\"nofollow noreferrer\">5.10</a>"}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1527069662, "post_id": 50484254, "comment_id": 87983672, "body": "ya my version is too old which is 5.8.8, but  not sure i got administration to update the version in the server. Any other command i can use?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1527069717, "post_id": 50484254, "comment_id": 87983714, "body": "@Tim you can work around that operator. It&#39;s just a shorter version. You can always use several lines to do the same thing. I&#39;ll update."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1527069781, "post_id": 50484254, "comment_id": 87983761, "body": "@ simbabque  ok noted. Thanks"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1527069894, "post_id": 50484254, "comment_id": 87983852, "body": "@Tim see my edit. It&#39;s pretty ugly, but it essentially does something similar. Make sure you understand what this does before using it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1527084429, "post_id": 50484254, "comment_id": 87993860, "body": "You might manage something using <code>tie</code>. I&#39;m unsure exactly if that&#39;s a horrible idea."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1527069855, "last_edit_date": 1527069855, "creation_date": 1527066571, "answer_id": 50484254, "question_id": 50484133, "link": "https://stackoverflow.com/questions/50484133/how-to-ignore-hashs-key-sequence-in-perl/50484254#50484254", "title": "How to ignore hash&#39;s key sequence in perl", "body": "<p>There is no built-in way to do that. If your keys follow the same pattern, you can wrap it in a function, then compute all keys that fit your algorithm and get the values.</p>\n\n<pre><code>my %hash = (\n    '1:2' =&gt; 14,\n    '3:4' =&gt; 15,\n    '2:1' =&gt; 16,\n    '4:3' =&gt; 17,\n);\n\nsub get_elements {\n    my ($key) = @_;\n\n    return $hash{$key}, $hash{reverse $key}; # or $key =~ s/(\\d+):(\\d+)/$2:$1/r\n}\n\nprint join ' ', get_elements('1:2');\n</code></pre>\n\n<p>This uses string <a href=\"http://perldoc.perl.org/functions/reverse.html\" rel=\"nofollow noreferrer\"><code>reverse</code></a>, and obviously only works if the parts of the key are only one digit. If you can have numbers greater than 9 you will have to split the string and re-assemble it, or use a substitution to switch them around. My example uses the <code>/r</code> modifier, which needs <a href=\"http://perldoc.perl.org/perl5140delta.html#Non-destructive-substitution\" rel=\"nofollow noreferrer\">Perl 5.14 or higher</a>.</p>\n\n<hr>\n\n<p>If you want to however build a data structure when reading your file that takes care of this automatically, you can do that too. Use an array reference instead of the simple values inside your hash, and assign <em>the same reference</em> to all keys that you want to be equal.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse Data::Dumper;\n\nmy %hash;\nwhile (my $line = &lt;DATA&gt;) {\n    chomp $line;\n    my ($key, $value) = split /=/, $line;\n    my ($left, $right) = split /:/, $key;\n\n    # $hash{$key} //= ( $hash{\"$right:$left\"} // [] ); # needs 5.10\n    $hash{$key} = ( $hash{\"$right:$left\"} || [] )\n        unless exists $hash{$key};\n\n    push @{ $hash{$key} }, $value;\n}\n\nsay \"@{ $hash{'1:2'} }\";\nsay \"@{ $hash{'2:1'} }\";\n\nprint Dumper \\%hash;\n\n__DATA__\n1:2=14\n3:4=15\n2:1=16\n4:3=17\n</code></pre>\n\n<p>The output of this code is</p>\n\n<pre><code>14 16\n14 16\n</code></pre>\n\n<p>The Data::Dumper structure looks like this, which explains that both keys <code>2:1</code> and <code>1:2</code> point to the same array reference. That means that if you <code>push</code> another value into one of them, it will end up in the other as well, because they are actually the same thing.</p>\n\n<pre><code>$VAR1 = {\n          '4:3' =&gt; [\n                     '15',\n                     '17'\n                   ],\n          '3:4' =&gt; $VAR1-&gt;{'4:3'},\n          '2:1' =&gt; [\n                     '14',\n                     '16'\n                   ],\n          '1:2' =&gt; $VAR1-&gt;{'2:1'}\n        };\n</code></pre>\n\n<p>The only downside of this is that you cannot get the order of the elements back. This data structure looses the knowledge that <code>1:2</code> had the value <code>14</code> and <code>2:1</code> had <code>16</code> initially. If you want <code>2:1</code> to output <code>16 14</code> this will not work.</p>\n"}], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 50484254, "answer_count": 1, "score": 0, "last_activity_date": 1527069855, "creation_date": 1527066181, "last_edit_date": 1527066883, "question_id": 50484133, "link": "https://stackoverflow.com/questions/50484133/how-to-ignore-hashs-key-sequence-in-perl", "title": "How to ignore hash&#39;s key sequence in perl", "body": "<p>I has a file that contain information like below</p>\n\n<pre><code>1:2=14\n3:4=15\n2:1=16\n4:3=17\n</code></pre>\n\n<p>I would like to create a hash that treat key <code>{1:2}</code> same with key <code>{2:1}</code> </p>\n\n<pre><code>$hash{1:2} = $hash{2:1}\n</code></pre>\n\n<p>so when i print all element in <code>$hash{1:2}</code> or <code>$hash{2:1}</code> it give me both <code>14</code> and <code>16</code> as the result. Is it a simple way to do that?</p>\n\n<p>Below are my planning to create the key for hash</p>\n\n<pre><code>for ( my $i = 0; $i &lt;=$#file ; $i++) {\n    my $line = $file[$i];\n    my @key = split (\"=\",$line);\n    my $hash{$key[0]} = $key[1];\n}\n</code></pre>\n"}, {"tags": ["python", "shell", "perl", "awk"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1527064692, "post_id": 50483586, "comment_id": 87980211, "body": "Your description is not clear. Add more samples of input and output in your post and do let us know your efforts too on it too."}, {"owner": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1527065118, "post_id": 50483586, "comment_id": 87980489, "body": "I hopefully made it clear now. Please give feedback if not. Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527065384, "post_id": 50483586, "comment_id": 87980673, "body": "What is preventing you from searching a multi-line string?"}, {"owner": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527065607, "post_id": 50483586, "comment_id": 87980831, "body": "@Borodin I don&#39;t understand what you mean."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1527065785, "post_id": 50483586, "comment_id": 87980959, "body": "@G&#225;bor: I don&#39;t understand why you think the embedded newlines prevent you from searching for the keyword you&#39;re looking for. Can you please show the code that you&#39;ve written to decode the base64 data?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1527066071, "post_id": 50483586, "comment_id": 87981173, "body": "BTW, I wouldn&#39;t try doing this directly in the shell. It&#39;s possible to parse files line by line with Bash, but it&#39;s not very efficient. You&#39;d be better off writing a small script in Python, awk, or perl. Show us some code, with a few lines of actual input &amp; output, explain what it&#39;s doing wrong, and we can help you fix it."}, {"owner": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1527066206, "post_id": 50483586, "comment_id": 87981273, "body": "I added an example what I tried"}, {"owner": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1527066264, "post_id": 50483586, "comment_id": 87981298, "body": "@PM2Ring yep. Each 3 lines are valid."}], "answers": [{"tags": [], "owner": {"reputation": 245, "user_id": 8786498, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XUVA8.jpg?s=128&g=1", "display_name": "Zapho Oxx", "link": "https://stackoverflow.com/users/8786498/zapho-oxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1527066608, "creation_date": 1527066608, "answer_id": 50484267, "question_id": 50483586, "link": "https://stackoverflow.com/questions/50483586/linux-shell-base64-decode-with-removing-line-breaks/50484267#50484267", "title": "Linux shell: Base64 Decode with removing line breaks", "body": "<p>you can try the following python script. It is not a commandline onliner but this should give you what you want. For usage do:</p>\n\n<pre><code>&gt;python3 get_xml.py SEARCHSTRING FILENAME\n</code></pre>\n\n<p>output for you example was:</p>\n\n<pre><code>&lt;foo&gt;\n&lt;bar/&gt;\n&lt;/foo&gt;\n&lt;foo&gt;\n&lt;barometer/&gt;\n&lt;/foo&gt;\n</code></pre>\n\n<p>script:</p>\n\n<pre><code>import base64\nimport sys\nscript_name = sys.argv[0]\nsearch_string = sys.argv[1]\nfilename = sys.argv[2]\nprint(\"[+] ({}) search for {}\".format(script_name,search_string,filename))\nwith open(filename,\"r\") as xml_in:\n    nextline = xml_in.readline()\n    while nextline != '':\n        xml = base64.b64decode(nextline).decode(\"utf-8\").rstrip()\n        if search_string in xml:\n            print(xml)\n        nextline = xml_in.readline()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1527071728, "post_id": 50484393, "comment_id": 87985059, "body": "Please see <a href=\"https://unix.stackexchange.com/q/169716/88378\">Why is using a shell loop to process text considered bad practice?</a>. The main reason is that <code>read</code> is very CPU-intensive: it issues a system call to the kernel for <i>each character</i> it reads."}], "tags": [], "owner": {"reputation": 1124, "user_id": 211221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec1803ab9f15727cd6f4adc976baccdc?s=128&d=identicon&r=PG", "display_name": "martin_joerg", "link": "https://stackoverflow.com/users/211221/martin-joerg"}, "is_accepted": false, "score": 0, "last_activity_date": 1527066904, "creation_date": 1527066904, "answer_id": 50484393, "question_id": 50483586, "link": "https://stackoverflow.com/questions/50483586/linux-shell-base64-decode-with-removing-line-breaks/50484393#50484393", "title": "Linux shell: Base64 Decode with removing line breaks", "body": "<p>You can use <code>tr</code> inside a loop to remove all new lines for each of the XML documents like this:</p>\n\n<pre><code>#!/bin/bash\n\nwhile IFS='' read -r line\ndo\n    echo -n \"$line\" | base64 --decode | tr -d '\\r\\n'\n    echo\ndone &lt; fileContainingBase64EncodedXMLsInEachLine.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 245, "user_id": 8786498, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XUVA8.jpg?s=128&g=1", "display_name": "Zapho Oxx", "link": "https://stackoverflow.com/users/8786498/zapho-oxx"}, "edited": false, "score": 1, "creation_date": 1527068058, "post_id": 50484677, "comment_id": 87982577, "body": "definitely much better then my answer below."}, {"owner": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "reply_to_user": {"reputation": 245, "user_id": 8786498, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XUVA8.jpg?s=128&g=1", "display_name": "Zapho Oxx", "link": "https://stackoverflow.com/users/8786498/zapho-oxx"}, "edited": false, "score": 0, "creation_date": 1527068494, "post_id": 50484677, "comment_id": 87982893, "body": "@ZaphoOxx +1 for self critic :)"}, {"owner": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1527068706, "post_id": 50484677, "comment_id": 87983047, "body": "Question: how would it look like, if it would work with standard input?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "edited": false, "score": 1, "creation_date": 1527070744, "post_id": 50484677, "comment_id": 87984445, "body": "@G&#225;borLipt&#225;k Yes, you can hard-code <code>sys.stdin</code> as the filename, if you like. However, on Linux, you can use <code>&#47;dev&#47;stdin</code> to pass stdin as a filename."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1527072128, "post_id": 50484677, "comment_id": 87985345, "body": "I&#39;m curious to know how the awk version compares in speed to my python version. awk is faster at simple text processing, but there&#39;s some overhead in that pipeline to the <code>base64</code> command."}, {"owner": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1528123739, "post_id": 50484677, "comment_id": 88376240, "body": "@PM2Ring after processing some big files I had to realize, that awk is too slow. I needed to make some changes to the script to set output encoding, otherwise I could not redirect the output into a file. See <a href=\"https://stackoverflow.com/a/19146524/337621\">stackoverflow.com/a/19146524/337621</a>"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1528125703, "post_id": 50484677, "comment_id": 88377447, "body": "@G&#225;borLipt&#225;k I see. You didn&#39;t mention encoding issues in your question, so I didn&#39;t worry about it in my answer. I&#39;ve set UTF-8 as the encoding in my terminal (konsole), so my Python code normally does what I want. But maybe for your use case you should be writing to a named file instead of using redirection. You can pass an <code>encoding</code> keyword arg to <code>open</code> to ensure a specific encoding."}, {"owner": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1528182118, "post_id": 50484677, "comment_id": 88397305, "body": "@PM2Ring no problem. This is something unusual for me, that a software behaves different if I redirect its output. I am not used to it. I have to learn more python :)"}], "tags": [], "owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "is_accepted": true, "score": 3, "last_activity_date": 1527071186, "last_edit_date": 1527071186, "creation_date": 1527067686, "answer_id": 50484677, "question_id": 50483586, "link": "https://stackoverflow.com/questions/50483586/linux-shell-base64-decode-with-removing-line-breaks/50484677#50484677", "title": "Linux shell: Base64 Decode with removing line breaks", "body": "<p>Here's some Python code that accepts a filename followed by the search word on the commandline. As usual, if either arg contains spaces, it must be quoted.</p>\n\n<pre><code>import sys\nfrom base64 import b64decode\n\nfname, pattern = sys.argv[1:]\nwith open(fname) as f:\n    for row in f:\n        row = b64decode(row).decode()\n        if pattern in row:\n            print(row, end='\\n\\n')\n</code></pre>\n\n<p>Running this on your data with \"bar\" as the pattern arg gives:</p>\n\n<pre><code>&lt;foo&gt;\n&lt;bar/&gt;\n&lt;/foo&gt;\n\n&lt;foo&gt;\n&lt;barometer/&gt;\n&lt;/foo&gt;\n</code></pre>\n\n<hr>\n\n<p>In order to practice my rather rusty awk skills, I decided to write an awk command line to do this. It uses the standard <code>base64</code> command to do the decoding.</p>\n\n<pre><code>awk 'BEGIN{cmd=\"base64 -d\"}; {print |&amp; cmd; close(cmd,\"to\"); z=\"\"; while(cmd |&amp; getline s) z=z s \"\\n\"; close(cmd); if (z~pat)print z}' pat='bar' testdata_b64.txt\n</code></pre>\n\n<p>You pass it the pattern using the <code>pat</code> argument, which can be a regex. You can send data to it via standard input, or you can give it one or more filenames on the commandline.</p>\n\n<p>Note that regex patterns need double escaping, eg <code>pat='\\\\&lt;bar\\\\&gt;'</code> matches the word <code>bar</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "is_accepted": false, "score": 1, "last_activity_date": 1527075236, "last_edit_date": 1527075236, "creation_date": 1527072422, "answer_id": 50486419, "question_id": 50483586, "link": "https://stackoverflow.com/questions/50483586/linux-shell-base64-decode-with-removing-line-breaks/50486419#50486419", "title": "Linux shell: Base64 Decode with removing line breaks", "body": "<p><strong>update:</strong> if you know that the first node name is <code>&lt;foo&gt;</code>, then you can just do :</p>\n\n<pre><code>$ echo \"&lt;head&gt;$(base -decode &lt;file&gt;)&lt;/head&gt;\" | \\\n  xmlstarlet sel -t -m '//bar/ancestor::foo' -c .\n</code></pre>\n\n<p>It selects the ancestor named <code>foo</code> of the node called <code>bar</code>, since <code>foo</code> is the first xml-node, it will select the requested xml file.</p>\n\n<p><strong>original answer below:</strong></p>\n\n<p>Using <code>xmlstarlet</code> you might want to do this</p>\n\n<pre><code>$ echo \"&lt;head&gt;$(base -decode &lt;file&gt;)&lt;/head&gt;\" | \\\n  xmlstarlet sel -t -m '//bar/ancestor::*[last()-1]' -c .\n</code></pre>\n\n<p>This essentially selects the full xml-tree of ancestors of the node 'bar' but it will only go upto the correct depth.</p>\n\n<p>I added an extra <code>head</code> node to make the full string a valid <code>xml</code> file. This way you only need to print from the first node onwards.</p>\n\n<p>The <code>echo</code> would produce something like (slightly different version):</p>\n\n<pre><code>&lt;head&gt; \n  &lt;foo /&gt; \n  &lt;foo&gt; \n    &lt;barometer /&gt; \n  &lt;/foo&gt; \n  &lt;foo&gt; \n    &lt;DDD&gt; \n      &lt;BBB/&gt; \n      &lt;bar /&gt; \n    &lt;/DDD&gt; \n  &lt;/foo&gt; \n&lt;/head&gt;\n</code></pre>\n\n<p><code>xmlstarlet</code> will do a template selection based on the xpath <code>//bar/ancestor::*</code>, leading to the following set of matches</p>\n\n<ul>\n<li><code>&lt;bar /&gt;</code></li>\n<li><code>&lt;DDD&gt;&lt;BBB /&gt;&lt;bar /&gt;&lt;/DDD&gt;</code></li>\n<li><code>&lt;foo&gt;&lt;DDD&gt;&lt;BBB /&gt;&lt;bar /&gt;&lt;/DDD&gt;&lt;/foo&gt;</code></li>\n<li><code>&lt;head&gt; everything &lt;/ head&gt;</code></li>\n</ul>\n\n<p>We are interested in the penultimate one, i.e. <code>[last()-1]</code> and we ask to print a copy of it <code>-c .</code></p>\n"}, {"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1527104694, "creation_date": 1527104694, "answer_id": 50496338, "question_id": 50483586, "link": "https://stackoverflow.com/questions/50483586/linux-shell-base64-decode-with-removing-line-breaks/50496338#50496338", "title": "Linux shell: Base64 Decode with removing line breaks", "body": "<p>Perl to the rescue:</p>\n\n<pre><code>perl -MMIME::Base64 -nE '$_=decode_base64($_);/bar/&amp;&amp;say' fileContaining...txt\n</code></pre>\n\n<p>or</p>\n\n<pre><code>cat fileContaining...txt | perl -MMIME::Base64 -nE'$_=decode_base64($_);/bar/&amp;&amp;say'\n</code></pre>\n"}], "owner": {"reputation": 9143, "user_id": 337621, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Lipt&#225;k", "link": "https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2300, "favorite_count": 0, "accepted_answer_id": 50484677, "answer_count": 5, "score": 1, "last_activity_date": 1527104694, "creation_date": 1527064527, "last_edit_date": 1527066168, "question_id": 50483586, "link": "https://stackoverflow.com/questions/50483586/linux-shell-base64-decode-with-removing-line-breaks", "title": "Linux shell: Base64 Decode with removing line breaks", "body": "\n\n<p>I have a file where each line is a base64-encoded XML document. The decoded XML documents may contain new line characters. I would like to grep out each XML document containing a given word.</p>\n\n<p>The problem is that, when I decode the lines of the file, I have multiple lines for each base64-encoded line and I cannot grep it any more. I need something like <code>base64 decode + remove line breaks</code> in one step.</p>\n\n<p>How can I achieve that in the Linux shell? I have Python, Perl and awk available.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;cat fileContainingBase64EncodedXMLsInEachLine.txt | what should I write here?\n</code></pre>\n\n<h3>Input:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>PGZvbz4NCjxiYXIvPg0KPC9mb28+\nPGZvbz4NCjxodWh1Lz4NCjwvZm9vPg==\nPGZvbz4NCjxiYXJvbWV0ZXIvPg0KPC9mb28+\n</code></pre>\n\n<h3>Expected Output</h3>\n\n<p>Let's say I want the XML documents containing 'bar'</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;foo&gt;\n&lt;bar/&gt;\n&lt;/foo&gt;\n&lt;foo&gt;\n&lt;barometer/&gt;\n&lt;/foo&gt;\n</code></pre>\n\n<h3>An example for my problem</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;cat fileContainingBase64EncodedXMLsInEachLine.txt | base64 --decode | grep bar\n</code></pre>\n\n<p>Delivers:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;bar/&gt;\n&lt;barometer/&gt;\n</code></pre>\n\n<p>So I do not have the full xml documents containing <code>bar</code> and <code>barometer</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1527064361, "post_id": 50483281, "comment_id": 87980012, "body": "Welcome to Stack Overflow and the Perl tag. Please take a moment to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Then <a href=\"https://stackoverflow.com/posts/50483281/edit\">edit</a> your question and include the code you have already written. We can&#39;t tell you how to solve a problem we know nothing about. How are you sending that command to the switch?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527065184, "post_id": 50483281, "comment_id": 87980539, "body": "It&#39;s almost certain that the response is <i>already</i> in a variable, as data doesn&#39;t usually get written to a file without you writing code to do so. You need to show your code to get a useful answer."}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": 0, "last_activity_date": 1527099711, "creation_date": 1527099711, "answer_id": 50495032, "question_id": 50483281, "link": "https://stackoverflow.com/questions/50483281/switch-output-to-variable-string/50495032#50495032", "title": "Switch output to variable (String)", "body": "<p>Add the return character</p>\n\n<pre><code>$easy-&gt;send_command(\"show version\\r\");\n</code></pre>\n\n<p>Save the output </p>\n\n<pre><code>$version=$easy-&gt;exp_before;\n</code></pre>\n\n<p>Change this to a regex</p>\n\n<pre><code>if ( $version =~ m\"bootflash:cat4500-ipbasek9-mz.122-50.SG2.bin\" ) {...}\n</code></pre>\n\n<p>remember to do term len 0 before you start running commands</p>\n"}], "owner": {"reputation": 1, "user_id": 9833090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/729b4be28983779ea971fd1fe6f13f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/9833090/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1527099711, "creation_date": 1527063600, "last_edit_date": 1527064572, "question_id": 50483281, "link": "https://stackoverflow.com/questions/50483281/switch-output-to-variable-string", "title": "Switch output to variable (String)", "body": "<p>I started programming with Perl and have a problem to put the output from a switch (Cisco) in a variable.</p>\n\n<p>Example:</p>\n\n<p>I want to send the command <code>show version</code> to the switch (<code>$easy-&gt;send_command(\"show version\");</code>\nand then put the response from switch in a string (not in another file).</p>\n\n<p>After then I will search in the string to compare versions (I declare at begin a string (this is the other variable for comparing) for example <code>$version = \"bootflash:cat4500-ipbasek9-mz.122-50.SG2.bin\";</code>)</p>\n\n<p>At the moment I don't now how I can put the output from the switch in a string after I send the command Show version to them.</p>\n\n<p>Can anyone help me?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527065436, "post_id": 50481304, "comment_id": 87980711, "body": "What are the added &quot;<i>colors width</i>&quot; -- yet more values?  Or a new classification item? The output doesn&#39;t show them."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527065579, "post_id": 50481304, "comment_id": 87980809, "body": "@zdim I updated the question as requested by. Karthikeyan.R.S I did not think that it would be relevant, but seemed it was. If you run the code, you will see the ouput, hence why I used the key name (combine) to split in the loop, I need to print parents names, then values."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527065822, "post_id": 50481304, "comment_id": 87980997, "body": "@zdim, this version also shows why I used <code>$seen</code> to remove duplicates and simply append (spoon values (type and color) in this instance) to the existing layer where spoons exist."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527066811, "post_id": 50481304, "comment_id": 87981680, "body": "[can&#39;t help it]  ---  &quot;<i>steel brown spoons</i>&quot; .. ?  really?  :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527067362, "post_id": 50481304, "comment_id": 87982096, "body": "yeah, I guess that was a horrible example <i>facepalm</i>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 1, "creation_date": 1527061248, "post_id": 50481992, "comment_id": 87978003, "body": "ok, one thing, my remove duplications are now gone, so if I have any duplicated keys, subkeys or values, they will apear again in the result. I also need to retain the push with the dashes, as in the real script, there are other values for the <code>value</code> section. So the key is used to split out a name for it."}, {"owner": {"reputation": 3923, "user_id": 3640699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NxDM0.jpg?s=128&g=1", "display_name": "Karthikeyan.R.S", "link": "https://stackoverflow.com/users/3640699/karthikeyan-r-s"}, "edited": false, "score": 0, "creation_date": 1527064610, "post_id": 50481992, "comment_id": 87980163, "body": "Can you edit question with sample input for above scnerio ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1527064670, "post_id": 50481992, "comment_id": 87980199, "body": "will do now. Did not add it as I assumed not relevant, but I guess it is relevant."}, {"owner": {"reputation": 3923, "user_id": 3640699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NxDM0.jpg?s=128&g=1", "display_name": "Karthikeyan.R.S", "link": "https://stackoverflow.com/users/3640699/karthikeyan-r-s"}, "edited": false, "score": 0, "creation_date": 1527064709, "post_id": 50481992, "comment_id": 87980222, "body": "If it is like Cluttery will have both bendable and breakable then need to use array of hashes."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1527065356, "post_id": 50481992, "comment_id": 87980657, "body": "see the updated code, you can run it as is, I did not update the results in the answer yet."}, {"owner": {"reputation": 3923, "user_id": 3640699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NxDM0.jpg?s=128&g=1", "display_name": "Karthikeyan.R.S", "link": "https://stackoverflow.com/users/3640699/karthikeyan-r-s"}, "edited": false, "score": 0, "creation_date": 1527066107, "post_id": 50481992, "comment_id": 87981196, "body": "@Jacob whether you need to achieve the edited output using single loop ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1527066156, "post_id": 50481992, "comment_id": 87981235, "body": "It can be any amount of loops, I just need to get the result in the correct order."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1527068426, "post_id": 50481992, "comment_id": 87982842, "body": "Thank you very much for you help, I really appreciate it. Upvoted your answer."}], "tags": [], "owner": {"reputation": 3923, "user_id": 3640699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NxDM0.jpg?s=128&g=1", "display_name": "Karthikeyan.R.S", "link": "https://stackoverflow.com/users/3640699/karthikeyan-r-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1527066920, "last_edit_date": 1527066920, "creation_date": 1527059444, "answer_id": 50481992, "question_id": 50481304, "link": "https://stackoverflow.com/questions/50481304/how-to-end-results-at-correct-place-after-duplication-removals-xml-style/50481992#50481992", "title": "How to end results at correct place after duplication removals (xml style)", "body": "<p>Changed the way of storing the value into the hash and retrieving the values.</p>\n\n<pre><code>my @Input = (\"Crockery breakable plates\",\n    \"Crockery breakable glasses\",\n    \"Cutlery bendable forks\",\n    \"Cutlery bendable spoons\"\n);\n\nmy %store = ();\nforeach (@Input) {\n    my ($key, $key2, $value) = split;\n    chomp ($key, $key2, $value);\n    push @{$store{$key}-&gt;{$key2}} , $value;\n}\n\nforeach my $key(keys %store) {\n    print \"1.Start catergory\\n\"; \n    print \"---$key\\n\";\n    foreach my $sk ( keys %{$store{$key}} ){\n            print \"2.----Start description\\n\";\n            print \"------ $sk\\n\";\n            foreach  ( @{$store{$key}-&gt;{$sk}} ) {\n                    print \"3.------Start of value\\n\";\n                    print \"-------- $_\\n\";\n                    print \"3.------End of value\\n\";\n            }\n            print \"2.----End Description\\n\";\n    }\n    print \"1.End Catergory\\n\";\n}                                                       \n</code></pre>\n\n<p>Updated solution.</p>\n\n<pre><code>my @Input = (\"Crockery breakable plates colors width\",\n    \"Crockery breakable glasses colors volume\",\n    \"Cutlery bendable forks steel chrome\",\n    \"Cutlery bendable spoons plastic white\",\n    \"Cutlery bendable spoons steel brown\"\n);\n\nmy %store = ();\nforeach (@Input) {\n    my ($key, $key2, $value, $val1, $val2) = split;\n    chomp ($key, $key2, $value, $val1, $val2);\n    my $combine = \"$key-$key2\";\n    push @{$store{$combine}-&gt;{$value}}, \"$val1 $val2\";\n}\n\nforeach my $k(keys %store) {\n    %seen=();\n    %again=();\n    ($key, $key2, $value) =split /-/, $k;\n    chomp ($key, $key2, $value);\n    $seen{$key}++ or do {\n            print \"1.Start catergory\\n\";\n            print \"---$key\\n\";\n    };\n    $seen{$key2}++ or do {\n            print \"2.----Start description\\n\";\n            print \"------ $key2\\n\";\n    };\n    $seen{$value}++ or do {\n            foreach ( keys %{$store{\"$key-$key2\"}} ) {\n            print \"3.------Start of value\\n\";\n                    print \"-------- $_\\n\";\n                    print join(\" | \",@{$store{\"$key-$key2\"}-&gt;{$_}});\n                    print \"\\n\";\n            print \"3.------End of value\\n\";\n            }\n    };\n    $again{$key2}++ or do {\n            print \"2.----End Description\\n\";\n    };\n    $again{$key}++ or do {\n            print \"1.End Catergory\\n\";\n    };\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527071180, "post_id": 50483349, "comment_id": 87984699, "body": "@Jacob You are welcome :).  When you write to a complex data structure the key is added the first time. Then, when that key is encountered again elements are added to the lower part of the hierarchy for that key.  So there is no question of duplicates, hashes take care of that by their nature.  Play with <code>perldsc</code> (the first link, at the top).  The <code>sort</code> merely ensures that the order of keys is the same over repeated runs, for convenience (otherwise it may not be as hashes are unordered)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1527073144, "post_id": 50483349, "comment_id": 87986010, "body": "Perfect!! Thanks for the explanation, I get it now!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1527074134, "post_id": 50483349, "comment_id": 87986639, "body": "Just some feedback, and then I will delete all my comments, but after your help on this, I managed to complete my 90 line script which successfully pulls the data from a DB and prints a perfect 46 000 line xml file!! thanks again for you valuable input."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527092614, "post_id": 50483349, "comment_id": 87999297, "body": "@Jacob  Great :)  That&#39;s one biggy XML!  (A comment just in case, on my previous comment: the <code>sort</code> ensures that keys <i>are printed</i> in the same order, not that &quot;<i>the order of keys is the same</i>&quot;.  When we say <code>keys %h</code> they come out in any old order. There are refinements of this but the order cannot be relied on. After the <code>sort</code> they&#39;re in the same order of course.)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1527142062, "post_id": 50483349, "comment_id": 88016481, "body": "Thanks for that. I sat with some test code last night and I went through the hash, I fully understand how it works now.. I know perl fairly well, I just never really got my head around the hash, but now I do :D"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1527278643, "last_edit_date": 1527278643, "creation_date": 1527063823, "answer_id": 50483349, "question_id": 50481304, "link": "https://stackoverflow.com/questions/50481304/how-to-end-results-at-correct-place-after-duplication-removals-xml-style/50483349#50483349", "title": "How to end results at correct place after duplication removals (xml style)", "body": "<p>The description fits a nested <a href=\"https://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">data structure</a></p>\n\n<pre>\nCrockery => { \n    breakable => { \n        plates  => [ 'colors width', ... ], \n        glasses => [ 'colors volume', ... ],\n        ...\n    }, \n    ...\n},\nCutlery  => { \n    bendable  => { \n        spoons => [ 'plastic white', 'steel brown', ...], \n        forks  => [ 'steel chrome', ...],\n        ... \n    },\n    ...\n},\n...\n</pre>\n\n<p>This is populated very easily. It is the printing that is elaborate, given the specific output format.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse Data::Dump qw(dd);\n\nmy @input = (\n    \"Crockery breakable plates colors width\",\n    \"Crockery breakable glasses colors volume\",\n    \"Cutlery bendable forks steel chrome\",\n    \"Cutlery bendable spoons plastic white\",\n    \"Cutlery bendable spoons steel brown\"\n);\n\nmy %store;\nforeach (@input) {\n    my ($cat, $desc, $val, $type) = split ' ', $_, 4;\n    push @{$store{$cat}-&gt;{$desc}-&gt;{$val}}, $type;\n}\n#dd \\%store;\n\nforeach my $cat (sort keys %store) {\n    say \"1.Start category\";\n    say \"---$cat\";\n    foreach my $desc (sort keys %{$store{$cat}}) {\n        say \"2.---- Start description.\";\n        say \"------ $desc\";\n        foreach my $val (sort keys %{$store{$cat}-&gt;{$desc}}) {\n            say \"3.------ Start of value\";\n            say \"-------- $val\";\n            say join '|', @{$store{$cat}-&gt;{$desc}-&gt;{$val}};\n            say \"3.------ End of value\";\n        }\n        say \"2.---- End description\";\n    }   \n    say \"1.End category\";\n}\n</code></pre>\n\n<p>This prints the desired output. Since there is a fixed number of levels in your data I've used literals for them. If there is a reason to count (use a variable) please implement a counter or clarify.</p>\n\n<p>The option in <a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> to limit the number of terms returned (to <code>4</code> above) gives the rest of the string (as a string) in that last term, just as needed here.</p>\n\n<p>Remove the comment from <code>#dd \\%store;</code> to see the data structure using <a href=\"http://search.cpan.org/~gaas/Data-Dump-1.23/lib/Data/Dump.pm\" rel=\"nofollow noreferrer\">Data::Dump</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 50483349, "answer_count": 2, "score": 1, "last_activity_date": 1527278643, "creation_date": 1527057193, "last_edit_date": 1527065729, "question_id": 50481304, "link": "https://stackoverflow.com/questions/50481304/how-to-end-results-at-correct-place-after-duplication-removals-xml-style", "title": "How to end results at correct place after duplication removals (xml style)", "body": "<p>I am back again with a question. I have been trying all night and not winning.</p>\n\n<p>I am trying to print when a <code>catergory</code> begins, then print a <code>description</code> of the items in the <code>catergory</code>, print the items and then close the <code>description</code> for the items, only once all items have been determined, then close the actual <code>category</code>.</p>\n\n<p>I am able to print the beginning of <code>caterogry</code>, <code>description</code> and <code>item</code> correctly, but I am struggling to determine when they should end.</p>\n\n<p>Here is my last attempt:</p>\n\n<pre><code>my @Input = (\"Crockery breakable plates colors width\",\n             \"Crockery breakable glasses colors volume\",\n             \"Cutlery bendable forks steel chrome\",\n             \"Cutlery bendable spoons plastic white\",\n             \"Cutlery bendable spoons steel brown\"\n            );\n\nmy %store = ();\nforeach (@Input) {\n   my ($key, $key2, $value, $val1, $val2) = split;\n   chomp ($key, $key2, $value, $val1, $val2);\n   my $combine = \"$key-$key2-$value\";\n   push @{$store{$combine}}, \"$val1 $val2\";\n }\nforeach my $k(keys %store) {\n($key, $key2, $value) =split /-/, $k;\n chomp ($key, $key2, $value);\n     $seen{$key}++ or do {\n        print \"1.Start catergory\\n\"; \n        print \"---$key\\n\";\n     };\n      $seen{$key2}++ or do {\n        print \"2.----Start description\\n\";\n        print \"------ $key2\\n\";\n      };\n       $seen{$value}++ or do {\n        print \"3.------Start of value\\n\";\n        print \"-------- $value\\n\";\n        print join(\" | \", @{$store{$k}});\n        print \"\\n\";\n        print \"3.------End of value\\n\";\n        };\n        $again{$key2}++ or do {\n       print \"2.----End Description\\n\";\n       };\n       $again{$key}++ or do {\n        print \"1.End Catergory\\n\";\n       };\n    }\n</code></pre>\n\n<p>The incorrect results of this:</p>\n\n<pre><code>1.Start catergory\n---Cutlery\n2.----Start description\n------ bendable\n3.------Start of value\n-------- forks\nsteel chrome\n3.------End of value\n2.----End Description\n1.End Catergory\n3.------Start of value\n-------- spoons\nplastic white | steel brown\n3.------End of value\n1.Start catergory\n---Crockery\n2.----Start description\n------ breakable\n3.------Start of value\n-------- glasses\ncolors volume\n3.------End of value\n2.----End Description\n1.End Catergory\n3.------Start of value\n-------- plates\ncolors width\n3.------End of value\n</code></pre>\n\n<p>The actual expected results should be:</p>\n\n<pre><code>1.Start catergory\n---Cutlery\n2.----Start description\n------ bendable\n3.------Start of value\n-------- forks\nsteel chrome\n3.------End of value\\\n3.------Start of value\n-------- spoons\nplastic white | steel brown\n3.------End of value\n2.----End Description\n1.End Catergory\n1.Start catergory\n---Crockery\n2.----Start description\n------ breakable\n3.------Start of value\n-------- glasses\ncolors volume\n3.------End of value\n3.------Start of value\n-------- plates\ncolors width\n3.------End of value\n2.----End Description\n1.End Catergory\n</code></pre>\n\n<p>The reason why it needs to be sorted like this, is because it will follow a <code>xml</code> style output. Not sure if this will be possible with just one loop for each key. Very much appreciated in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1527052905, "post_id": 50480284, "comment_id": 87973932, "body": "<a href=\"http://metacpan.org/pod/perlfunc#sprintf\" rel=\"nofollow noreferrer\"><code>sprintf</code></a>"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 2, "creation_date": 1527092718, "post_id": 50480284, "comment_id": 87999348, "body": "May I suggest you phrase this task as <i>prepending</i> zeroes or perhaps &quot;left padding&quot; with zeroes."}], "answers": [{"comments": [{"owner": {"reputation": 18064, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 1, "creation_date": 1527063484, "post_id": 50480416, "comment_id": 87979428, "body": "Although this code might (or might not) solve the problem, a good answer should always include an explanation on how this code works and why it solves the problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 18064, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 3, "creation_date": 1527065124, "post_id": 50480416, "comment_id": 87980496, "body": "@BDL, There&#39;s no algorithm to explain here. The code works by calling <code>sprintf</code> to do exactly what the OP wants."}, {"owner": {"reputation": 18064, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 1, "creation_date": 1527065312, "post_id": 50480416, "comment_id": 87980629, "body": "1) I didn&#39;t downvote 2) One could add why <code>%05d</code> solves the problem and why sprintf is used instead of printf (which op suggested)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 18064, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 1, "creation_date": 1527065816, "post_id": 50480416, "comment_id": 87980992, "body": "@BDL, &quot;<code>%05d</code> pads to 5 spaces with zeroes because <code>%05d</code> pads to 5 spaces with zeroes&quot;? /// The OP already knows what <code>printf</code> does."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1527053178, "creation_date": 1527053178, "answer_id": 50480416, "question_id": 50480284, "link": "https://stackoverflow.com/questions/50480284/appending-zeroes-to-an-integer-variable-in-perl/50480416#50480416", "title": "appending zeroes to an integer variable in perl", "body": "<pre><code>sprintf(\"R_%05d\", $runid)\n</code></pre>\n\n<p>&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1527098677, "post_id": 50490732, "comment_id": 88002337, "body": "Fails for numbers larger than 9."}], "tags": [], "owner": {"reputation": 300, "user_id": 6701530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a176c0213539f76b5f4abd78c40b365f?s=128&d=identicon&r=PG&f=1", "display_name": "James Aanderson", "link": "https://stackoverflow.com/users/6701530/james-aanderson"}, "is_accepted": false, "score": -1, "last_activity_date": 1527090190, "last_edit_date": 1527090190, "creation_date": 1527085015, "answer_id": 50490732, "question_id": 50480284, "link": "https://stackoverflow.com/questions/50480284/appending-zeroes-to-an-integer-variable-in-perl/50490732#50490732", "title": "appending zeroes to an integer variable in perl", "body": "<p>You can use the concatenate operator in a nested anonymous function: </p>\n\n<pre><code>#! /usr/bin/perl\n\nmy $runid = 1 ;\nmkdir (('R_0000' . $runid)) ;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9585113, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nOf6wnm646I/AAAAAAAAAAI/AAAAAAAABTY/96zh0PTy7kE/photo.jpg?sz=128", "display_name": "Saurabh Agrawal", "link": "https://stackoverflow.com/users/9585113/saurabh-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527090190, "creation_date": 1527052473, "question_id": 50480284, "link": "https://stackoverflow.com/questions/50480284/appending-zeroes-to-an-integer-variable-in-perl", "title": "appending zeroes to an integer variable in perl", "body": "<p>I have an integer value in perl, let's say $runid = 1, I need to create a new directory named R_00001 using <code>mkdir R_$runid</code> from the perl script. I am not able to append zeroes. \"printf\" does the trick for me when I print it but I am not able to figure out how to get this done. Please suggest some way.  </p>\n"}, {"tags": ["perl", "path"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1527045035, "post_id": 50479097, "comment_id": 87972014, "body": "Are these scripts you are running from the command line, or some other way?"}, {"owner": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1527085184, "post_id": 50479097, "comment_id": 87994368, "body": "These scripts are being run as CGI scripts from various forms, or launched directly when a link is clicked."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527085342, "post_id": 50479222, "comment_id": 87994482, "body": "Thanks.  I guess I&#39;m still confused as to why it would change from one server to the next if the scripts themselves had not changed, and they are being run the same way; that is, as CGI scripts from forms, or directly from links."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527098728, "post_id": 50479222, "comment_id": 88002358, "body": "As the answer points out, you&#39;ll have to check what executes the script."}, {"owner": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527111277, "post_id": 50479222, "comment_id": 88008463, "body": "I&#39;m sorry, I don&#39;t understand.  I can just execute the script from my browser by typing the URL for the script on the server  in order to execute it.  I don&#39;t understand enough about the server internals to know <i>what</i> is executing the script on the server... Apache, maybe?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527292531, "post_id": 50479222, "comment_id": 88088154, "body": "I&#39;m saying it has nothing to do with Perl. If your web server is executing the script, then it&#39;s the one providing the value for <code>$0</code>. But more importantly, I&#39;m also saying you should always have expected a path rather than a file name, and I provided the means of obtain the filename from the path. So what&#39;s the problem?"}, {"owner": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527306687, "post_id": 50479222, "comment_id": 88090133, "body": "My old server (same CentOS7 OS, slightly different cPanel version) provided $0 as file name only, no path.  Regardless of whether I should have expected a full path and treated $0 as such, it <i>did</i> provide it as a bare filename,and I am capable of adjusting my code to compensate for the difference (and have successfully done so). What I was trying to determine was if anyone knew what configuration change on the server (config file settings, etc) might account for the difference between why the old server provided it one way and the new server provides it this way."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527312918, "post_id": 50479222, "comment_id": 88090981, "body": "You are mistaken. Your old server provided a path. Your buggy code happened to work because the path happened to be a file name, but the bug has always been yours. /// As I already told you, this isn&#39;t a difference in Perl. I&#39;m not sure why you care why your web server provides a different path than before, but it&#39;s your web server you&#39;ll need to check for differences."}, {"owner": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527340842, "post_id": 50479222, "comment_id": 88097518, "body": "I&#39;m confused by this.  After discovering the difference, I ran a simple Perl script that did nothing but print $0 on the old server and ran the same script on the new server.  On the old one it printed the filename and on the new one it printed the full path and filename.  I don&#39;t see how it&#39;s my &quot;buggy&quot; Perl code making the difference."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527344864, "post_id": 50479222, "comment_id": 88098602, "body": "Thats not what I said. I said the code is buggy for expecting a file name."}, {"owner": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527366241, "post_id": 50479222, "comment_id": 88104077, "body": "Ok, I don&#39;t know where to find the &quot;official&quot; definition of what $0 is to contain (although I&#39;ve seen statements around PerlMonks saying &quot;it depends on the OS&quot;), but let&#39;s say I admit that my code should always expect a full path and I need to extract the filename.  Ok, fixed.  Now I&#39;m back to asking my question:  For a Perl script (called from a browser), what part of the server provides the script with the value it receives for $0?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "edited": false, "score": 0, "creation_date": 1527388339, "post_id": 50479222, "comment_id": 88107924, "body": "@vdawg, the part that calls <code>exec</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1527045491, "last_edit_date": 1527045491, "creation_date": 1527044794, "answer_id": 50479222, "question_id": 50479097, "link": "https://stackoverflow.com/questions/50479097/change-in-0-perl-variable-on-new-server/50479222#50479222", "title": "Change in $0 Perl variable on new server", "body": "<p><code>$0</code> is exactly the file name argument provided to <code>perl</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cat a.pl\n#!/usr/bin/perl\nuse feature qw( say );\nsay $0;\n\n$ perl a.pl\na.pl\n\n$ perl ./a.pl\n./a.pl\n\n$ perl ././././a.pl\n././././a.pl\n\n$ perl /home/ikegami/a.pl\n/home/ikegami/a.pl\n</code></pre>\n\n<p>If the script is run as executable, this is usually exactly what was provided to <code>exec</code> to execute the program.<sup>[1]</sup></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ a.pl\n./a.pl          &lt;-- \".\" comes from $PATH.\n\n$ ./a.pl\n./a.pl\n\n$ ././././a.pl\n././././a.pl\n\n$ /home/ikegami/a.pl\n/home/ikegami/a.pl\n</code></pre>\n\n<p>If you want just the program name, you can use <a href=\"http://search.cpan.org/perldoc?File::Basename\" rel=\"nofollow noreferrer\">File::Basename</a>'s <code>basename</code>.</p>\n\n<p>For example,</p>\n\n<pre><code>use File::Basename qw( basename );\n\nsub usage {\n   warn(@_) if @_;\n   my $prog = basename($0);\n   warn(\"Try `$prog --help' for help\\n\");\n   exit(1);\n}\n</code></pre>\n\n<hr>\n\n<ol>\n<li>In particular, expect something weird for setuid scripts.</li>\n</ol>\n"}], "owner": {"reputation": 73, "user_id": 4289832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74ce44d525090632fb3429ba224b473?s=128&d=identicon&r=PG&f=1", "display_name": "vdawg", "link": "https://stackoverflow.com/users/4289832/vdawg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1527045491, "creation_date": 1527043667, "question_id": 50479097, "link": "https://stackoverflow.com/questions/50479097/change-in-0-perl-variable-on-new-server", "title": "Change in $0 Perl variable on new server", "body": "<p>I recently migrated to a new server due to hardware issues.  The old server ran Centos 7 as does the new one.  I don't remember for sure the Perl version on the old server but I believe it was the same as the new one (5.16.3).  All of my Perl scripts run fine on the new server with one difference however. The $0 variable on the old server returned just the script name, however, on the new server it returns the full path along with the script name.</p>\n\n<p>Does anyone know if there is a configuration setting some place that controls this or why Perl would set this variable differently on the new server vs. the old server?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1526999134, "post_id": 50470080, "comment_id": 87953572, "body": "Your code is already on the right track. What exactly are you struggling with?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1527003009, "post_id": 50470080, "comment_id": 87956329, "body": "This smells like some parsed XML. If so, the answer is different."}], "answers": [{"comments": [{"owner": {"reputation": 3086, "user_id": 874748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b78d49d360733968a5287a190a9f6e?s=128&d=identicon&r=PG", "display_name": "Russell Shingleton", "link": "https://stackoverflow.com/users/874748/russell-shingleton"}, "edited": false, "score": 1, "creation_date": 1527005147, "post_id": 50470469, "comment_id": 87957760, "body": "Down voting is okay, but please leave a comment as to why you down vote any answers."}], "tags": [], "owner": {"reputation": 3086, "user_id": 874748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b78d49d360733968a5287a190a9f6e?s=128&d=identicon&r=PG", "display_name": "Russell Shingleton", "link": "https://stackoverflow.com/users/874748/russell-shingleton"}, "is_accepted": false, "score": 0, "last_activity_date": 1527000020, "creation_date": 1527000020, "answer_id": 50470469, "question_id": 50470080, "link": "https://stackoverflow.com/questions/50470080/accessing-a-hash/50470469#50470469", "title": "Accessing a hash", "body": "<p>If you want the output listed as:</p>\n\n<pre><code>AlternativeTo :: ITSMConfigItem :: ConfigItem# 0523000006 (Hardware): Hardware 2\nDependsOn :: ITSMConfigItem :: ConfigItem# 0523000005 (Hardware): Hardware 1\nIncludes :: ITSMConfigItem :: ConfigItem# 0523000006 (Hardware): Hardware 2\n</code></pre>\n\n<p>You can structure your loop like this, assuming all your data is like the dump provided:</p>\n\n<pre><code>foreach my $key (keys %$hash){\n     # split and get the first element of the array\n     my $name = (split('::', $key))[0];\n\n     # Get the ITSMConfigItem from the hashmap and grab the first array \n     # element contained therein, assuming there is only 1 element in the array\n     my $item = ${$hash-&gt;{$key}-&gt;{ITSMConfigItem}}[0]; \n\n     # One line output\n     print \"$name :: ITSMConfigItem :: $item-&gt;{Title}\\n\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1527000040, "creation_date": 1527000040, "answer_id": 50470476, "question_id": 50470080, "link": "https://stackoverflow.com/questions/50470080/accessing-a-hash/50470476#50470476", "title": "Accessing a hash", "body": "<p>Assuming the data structure is exactly as shown:</p>\n\n<pre><code>foreach my $link_name (sort keys %LinkData) {\n    print '' . (split('::', $link_name))[0] . \" :: ITSMConfigItem :: \" . ${$LinkData{$link_name}{'ITSMConfigItem'}}[0]-&gt;{'Title'} . \"\\n\";\n}\n</code></pre>\n\n<p>A more generic approach would be:</p>\n\n<pre><code>foreach my $key1 (sort keys %LinkData) {\n    foreach my $key2 (sort keys %{$LinkData{$key1}}) {\n        foreach my $innerHash(@{$LinkData{$key1}{$key2}}) {\n            print '' . (split('::', $key1))[0] . \" :: $key2 :: \" .$innerHash-&gt;{'Title'} . \"\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 9829115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bdb24b8cfeabe3d6845aabe0877b26?s=128&d=identicon&r=PG&f=1", "display_name": "abahko", "link": "https://stackoverflow.com/users/9829115/abahko"}, "edited": false, "score": 0, "creation_date": 1527006272, "post_id": 50470480, "comment_id": 87958404, "body": "yeah..you are right..i want to go deeper..thanks for the tips."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1527000053, "creation_date": 1527000053, "answer_id": 50470480, "question_id": 50470080, "link": "https://stackoverflow.com/questions/50470080/accessing-a-hash/50470480#50470480", "title": "Accessing a hash", "body": "<p>I think what you want is to access the lowest level of your data structure.</p>\n\n<pre><code>print \"$ActualLinkName[0] :: $subject :: $LinkData{$link_name}-&gt;{$subject}-&gt;[0]-&gt;{Title}\\n\";\n</code></pre>\n\n<p>Let's take a look at this. The call on its own is the following. I'll break it down for you.</p>\n\n<pre><code>#                                       4444444\n#                                  333\n#                      2222222222              \n#        111111111111\n$LinkData{$link_name}-&gt;{$subject}-&gt;[0]-&gt;{Title}\n</code></pre>\n\n<p>Here's your data structure, re-indented. The numbers above refer to the depths inside the structure.</p>\n\n<pre><code>(                                                    \n   'AlternativeTo::Source' =&gt; {                 # 1\n     'ITSMConfigItem' =&gt; [                      # 2\n       {                                        # 3\n         'Type'    =&gt; 'Link',\n         'Content' =&gt; 'CI:0523000006',\n         'Link'    =&gt; '/otrs5/index.pl?Action=AgentITSMConfigItemZoom;ConfigItemID=24',\n         'Title'   =&gt; 'ConfigItem# ...'         # 4\n       }\n     ]\n   },\n   # ...\n</code></pre>\n\n<ol>\n<li>The outside structure is a hash, so we don't need a <code>-&gt;</code> dereferencing operator. We just access a key in the hash. Note the round parentheses <code>()</code> as opposed to curly braces <code>{}</code> on references.</li>\n<li>Behind that key <code>$link_name</code> is a hash reference. We use the <code>-&gt;</code> to access its key <code>$subject</code>.</li>\n<li>Behind that key there is an array reference. Because there is always just one entry, we can simply use index <code>0</code> as a fixed value.</li>\n<li>And inside there there's another hash reference, but the keys are always fixed, so we can just access the one called <code>'Title'</code>.</li>\n</ol>\n\n<p>Note that you can also omit all the arrows <code>-&gt;</code> if you prefer that syntax because Perl is smart enough to know those have to be references.</p>\n\n<pre><code>$LinkData{$link_name}{$subject}[0]{Title}\n</code></pre>\n\n<p>This means the same thing. I personally like the arrows as I find them easier to read.</p>\n\n<hr>\n\n<p>You might want to read <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>, <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 9829115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bdb24b8cfeabe3d6845aabe0877b26?s=128&d=identicon&r=PG&f=1", "display_name": "abahko", "link": "https://stackoverflow.com/users/9829115/abahko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 50470480, "answer_count": 3, "score": 0, "last_activity_date": 1527000053, "creation_date": 1526998904, "last_edit_date": 1526999066, "question_id": 50470080, "link": "https://stackoverflow.com/questions/50470080/accessing-a-hash", "title": "Accessing a hash", "body": "<p>How do I further access this hash? Upon using below dumper,</p>\n\n<pre><code>print Dumper(\\%LinkData);\n</code></pre>\n\n<p>The result is</p>\n\n<pre><code>$VAR1 = {\n          'AlternativeTo::Source' =&gt; {\n                                     'ITSMConfigItem' =&gt; [\n                                                         {\n                                                           'Type' =&gt; 'Link',\n                                                           'Content' =&gt; 'CI:0523000006',\n                                                           'Link' =&gt; '/otrs5/index.pl?Action=AgentITSMConfigItemZoom;ConfigItemID=24',\n                                                           'Title' =&gt; 'ConfigItem# 0523000006 (Hardware): Hardware 2'\n                                                         }\n                                                       ]\n                                   },\n          'DependsOn::Source' =&gt; {\n                                 'ITSMConfigItem' =&gt; [\n                                                     {\n                                                       'Type' =&gt; 'Link',\n                                                       'Content' =&gt; 'CI:0523000005',\n                                                       'Link' =&gt; '/otrs5/index.pl?Action=AgentITSMConfigItemZoom;ConfigItemID=22',\n                                                       'Title' =&gt; 'ConfigItem# 0523000005 (Hardware): Hardware 1'\n                                                     }\n                                                   ]\n                               },\n          'Includes::Target' =&gt; {\n                                'ITSMConfigItem' =&gt; [\n                                                    {\n                                                      'Type' =&gt; 'Link',\n                                                      'Content' =&gt; 'CI:0523000006',\n                                                      'Link' =&gt; '/otrs5/index.pl?Action=AgentITSMConfigItemZoom;ConfigItemID=24',\n                                                      'Title' =&gt; 'ConfigItem# 0523000006 (Hardware): Hardware 2'\n                                                    }\n                                                  ]\n                              }\n        };\n</code></pre>\n\n<p>How can I tidy it up to something like</p>\n\n<pre><code>AlternativeTo :: ITSMConfigItem :: ConfigItem# 0523000006 (Hardware): Hardware 2\n\nDependsOn :: ITSMConfigItem :: ConfigItem# 0523000005 (Hardware): Hardware 1\n\nIncludes :: ITSMConfigItem :: ConfigItem# 0523000006 (Hardware): Hardware 2\n</code></pre>\n\n<p>Currently, code below only managed :</p>\n\n<pre><code>    foreach my $link_name (sort keys %LinkData) \n    {\n        foreach my $subject (keys %{ $LinkData{$link_name} }) \n        {\n            my @ActualLinkName = split('::', $link_name);\n            print \"$ActualLinkName[0] :: $subject\\n\";\n\n        }\n    }\n\n/*\nAlternativeTo :: ITSMConfigItem\nDependsOn :: ITSMConfigItem\nIncludes :: ITSMConfigItem\n*/\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1526997056, "post_id": 50469163, "comment_id": 87952147, "body": "Lines are not equal to statements in Perl. The <code>;</code> separates statements."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526998571, "post_id": 50469163, "comment_id": 87953189, "body": "@simbabque my apologies, that is not what I meant to type, will fix now."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526998787, "post_id": 50469163, "comment_id": 87953342, "body": "@Jacob: To be honest I don&#39;t understand your first sentence at all. I gathered what you wanted only from your code example. Could you fix the grammar please?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1527001030, "post_id": 50469163, "comment_id": 87954958, "body": "@Borodin Sorry, I tried to make it more understandable now."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1527085134, "post_id": 50469163, "comment_id": 87994318, "body": "If you are actually making an XML file, I&#39;d urge you to <i>please</i> use a parser."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1527142221, "post_id": 50469163, "comment_id": 88016557, "body": "@Sobrique Thanks, I am using a parser. This example I used in the question I just typed up as an example. My actual code does a lot more and would have been a bit too much to post here, but typically I use the parser in the loops instead of print in the examples. Thanks for your helpful comment!"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1526998419, "post_id": 50469372, "comment_id": 87953092, "body": "well, that was quite a surprise, so simple :\\ Thanks a mill."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1527104017, "post_id": 50469372, "comment_id": 88005053, "body": "Or just <code>if ( not $seen{$key}++ ) { print print print }</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1526996894, "creation_date": 1526996894, "answer_id": 50469372, "question_id": 50469163, "link": "https://stackoverflow.com/questions/50469163/multiple-commands-without-one-line-in-perl/50469372#50469372", "title": "Multiple commands without one line in perl", "body": "<pre><code>$seen{$key}++ or do {\n    print \"1. $key\\n\";\n    print \"that went well..\";\n    ...\n};\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 50469372, "answer_count": 1, "score": 0, "last_activity_date": 1527000876, "creation_date": 1526996284, "last_edit_date": 1527000876, "question_id": 50469163, "link": "https://stackoverflow.com/questions/50469163/multiple-commands-without-one-line-in-perl", "title": "Multiple commands without one line in perl", "body": "<p>I wrote some <a href=\"https://stackoverflow.com/questions/50451269/strange-behaviour-from-push-hash/50451368#50451368\">code</a> that creates a hash from an array.</p>\n\n<p>I created one liner <code>$seen</code>s to remove duplicates, instead of building hash tables, this will remove duplicates from my keys and values. </p>\n\n<p>I realised that I cannot run multiple commands after <code>||</code> in newlines, (like a loop) but can only add them in one line, after <code>||</code>  </p>\n\n<p>The original portion:</p>\n\n<pre><code>...\nforeach my $k (sort keys %store) {\n     ($key, $key2, $value) = split /-/, $k;\n     chomp ($key, $key2, $value);\n     $seen{$key}++ || print \"1. $key\\n\";\n     $seen{$key2}++ || print \"2. -- $key2\\n\";\n     $seen{$value}++ || print \"3. ----$value\\n\";\n}\n</code></pre>\n\n<p>where I could print lines like this, but becomes tedious to maintain:</p>\n\n<pre><code>$seen{$value}++ || print \"3. ----$value\\n \"something else\";\n</code></pre>\n\n<p>I am actually creating an xml file, and placing all my text into a single line looks really bad and difficult to debug: So I really am looking for a method to instead do:</p>\n\n<pre><code>...\nforeach my $k (sort keys %store) {\n     ($key, $key2, $value) = split /-/, $k;\n     chomp ($key, $key2, $value);\n     $seen{$key}++ || {\n                    print \"1. $key\\n\";\n                    print \"that went well..\";\n                    ...\n                  }\n\n     $seen{$key2}++ || print \"2. -- $key2\\n\";\n     $seen{$value}++ || print \"3. ----$value\\n\";\n}\n</code></pre>\n\n<p>Is there a way to do this from one lines like these?</p>\n\n<p>For any more clarity on this script, see <a href=\"https://stackoverflow.com/questions/50451269/strange-behaviour-from-push-hash/50451368#50451368\">this question</a> which <a href=\"https://stackoverflow.com/users/168657/mob\">@Mob</a> helped me alot.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526991336, "post_id": 50467276, "comment_id": 87947891, "body": "<i>Never</i> use <code>XML::Simple</code>, and <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl program."}, {"owner": {"reputation": 77, "user_id": 9618351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAMr.jpg?s=128&g=1", "display_name": "Gandalf The Gray", "link": "https://stackoverflow.com/users/9618351/gandalf-the-gray"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526991394, "post_id": 50467276, "comment_id": 87947921, "body": "why never use XML::Simple"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1526991501, "post_id": 50467276, "comment_id": 87947982, "body": "Its own documentation says <i>&quot;PLEASE DO NOT USE THIS MODULE IN NEW CODE&quot;</i> and <i>&quot;The use of this module in new code is strongly discouraged. Other modules are available which provide more straightforward and consistent interfaces&quot;</i>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1526991695, "post_id": 50467276, "comment_id": 87948117, "body": "Take a look at <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><i>Why is XML::Simple \u201cDiscouraged\u201d?</i></a>"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1527039664, "post_id": 50467276, "comment_id": 87970917, "body": "As the author of XML::Simple, I wholeheartedly agree with people who say don&#39;t use it. In fact I wrote <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">an XML::LibXML tutorial</a> to encourage people in that direction.  The XML::Simple API is a mess that gives surprising results (like you got) and can&#39;t be fixed without breaking a lot of existing code."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 9618351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAMr.jpg?s=128&g=1", "display_name": "Gandalf The Gray", "link": "https://stackoverflow.com/users/9618351/gandalf-the-gray"}, "edited": false, "score": 0, "creation_date": 1526995709, "post_id": 50468213, "comment_id": 87951070, "body": "I also want to know how to set text for a value with a key that doesnt exists. For example i want to add &lt;value key=&quot;5&quot;&gt;5&lt;/value&gt; inside the attributes"}, {"owner": {"reputation": 77, "user_id": 9618351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAMr.jpg?s=128&g=1", "display_name": "Gandalf The Gray", "link": "https://stackoverflow.com/users/9618351/gandalf-the-gray"}, "edited": false, "score": 0, "creation_date": 1526998032, "post_id": 50468213, "comment_id": 87952846, "body": "Thank you so much, it worked and really helped! Regarding your edit, isnt there a built in function to update when exists and insert if doesnt?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 77, "user_id": 9618351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAMr.jpg?s=128&g=1", "display_name": "Gandalf The Gray", "link": "https://stackoverflow.com/users/9618351/gandalf-the-gray"}, "edited": false, "score": 0, "creation_date": 1526998592, "post_id": 50468213, "comment_id": 87953203, "body": "No. <code>XML</code> doesn&#39;t work that way. You can have duplicate/repeated fields and nested fields in XML, so there isn&#39;t a &#39;create-if-it-doesn&#39;t-exist&#39; function, because it&#39;s meaningless. But a test on a <code>get_xpath</code> call would work much the same way."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1526996320, "last_edit_date": 1526996320, "creation_date": 1526993493, "answer_id": 50468213, "question_id": 50467276, "link": "https://stackoverflow.com/questions/50467276/make-changes-in-xml-file-in-perl/50468213#50468213", "title": "make changes in xml file in perl", "body": "<p>Don't use <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><code>XML::Simple</code></a>.</p>\n\n<p><a href=\"http://search.cpan.org/perldoc/XML::LibXML\" rel=\"nofollow noreferrer\"><code>XML::LibXML</code></a> and <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a> are much better alternatives.</p>\n\n<p>Here's the solution using XML::Twig:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $xml = XML::Twig -&gt; new -&gt; parsefile ( 'test1.xml' );\n$_ -&gt; set_text('10') for $xml -&gt; get_xpath('//message/attributes/value[@key=\"4\"]');\n$xml -&gt; set_pretty_print('indented');\n\n$xml -&gt; print;\n</code></pre>\n\n<p>This gives you: </p>\n\n<pre><code>&lt;body&gt;\n  &lt;message&gt;\n    &lt;name&gt;gandalf&lt;/name&gt;\n    &lt;attributes&gt;\n      &lt;value key=\"1\"&gt;1&lt;/value&gt;\n      &lt;value key=\"2\"&gt;2&lt;/value&gt;\n      &lt;value key=\"3\"&gt;3&lt;/value&gt;\n      &lt;value key=\"4\"&gt;10&lt;/value&gt;\n    &lt;/attributes&gt;\n  &lt;/message&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>You can print to a file, by opening a filehandle and giving that fh as an argument to <code>print</code>:</p>\n\n<pre><code>open ( my $ouput, '&gt;', 'test2.xml' ) or die $!;\n$xml -&gt; print ( $output );\n</code></pre>\n\n<p>Because you also ask in comments:</p>\n\n<blockquote>\n  <p>I also want to know how to set text for a value with a key that doesnt exists. For example i want to add <code>&lt;value key=\"5\"&gt;5&lt;/value&gt;</code> inside the attributes </p>\n</blockquote>\n\n<pre><code>my $attributes = $xml -&gt; get_xpath('//message/attributes',0); #0 to find the first one. \n$attributes -&gt; insert_new_elt('last_child', 'value', { key =&gt; 5 }, 5 );\n</code></pre>\n\n<p>Or as one line:</p>\n\n<pre><code>$xml -&gt; get_xpath('//message/attributes',0) -&gt; insert_new_elt('last_child', 'value', { key =&gt; 5 }, 5 );\n</code></pre>\n\n<p>Note the slightly different usage of <code>get_xpath</code> - we give a second argument <code>0</code> - because that says 'get the first element that matches', rather than every element that matches. </p>\n"}], "owner": {"reputation": 77, "user_id": 9618351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lAMr.jpg?s=128&g=1", "display_name": "Gandalf The Gray", "link": "https://stackoverflow.com/users/9618351/gandalf-the-gray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 50468213, "answer_count": 1, "score": 1, "last_activity_date": 1526996320, "creation_date": 1526990874, "question_id": 50467276, "link": "https://stackoverflow.com/questions/50467276/make-changes-in-xml-file-in-perl", "title": "make changes in xml file in perl", "body": "<p>I have this xml file <code>test1.xml</code>:</p>\n\n<pre><code>&lt;body&gt;\n    &lt;message&gt;\n        &lt;name&gt;gandalf&lt;/name&gt;\n        &lt;attributes&gt;\n            &lt;value key=\"1\"&gt;1&lt;/value&gt;\n            &lt;value key=\"2\"&gt;2&lt;/value&gt;\n            &lt;value key=\"3\"&gt;3&lt;/value&gt;\n            &lt;value key=\"4\"&gt;4&lt;/value&gt;\n        &lt;/attributes&gt;\n    &lt;/message&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>I want to override the value that its key is <code>\"4\"</code> to <code>\"10\"</code>\nso my xml will look like this:</p>\n\n<pre><code>&lt;body&gt;\n    &lt;message&gt;\n        &lt;name&gt;gandalf&lt;/name&gt;\n        &lt;attributes&gt;\n            &lt;value key=\"1\"&gt;1&lt;/value&gt;\n            &lt;value key=\"2\"&gt;2&lt;/value&gt;\n            &lt;value key=\"3\"&gt;3&lt;/value&gt;\n            &lt;value key=\"4\"&gt;10&lt;/value&gt;\n        &lt;/attributes&gt;\n    &lt;/message&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>this is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse XML::Simple;\n\nmy $xml = new XML::Simple;\nmy $data = XMLin(\"test1.xml\", ForceArray =&gt; 1);\n$data-&gt;{message}-&gt;[0]-&gt;{attributes}-&gt;[0]-&gt;{value}-&gt;{4}-&gt;{content} = \"10\";\n$newData = $xml-&gt;XMLout($data);\nopen(XML,\"&gt;test2.xml\");\nprint XML $newData;\nclose(XML);\n</code></pre>\n\n<p>when i run this code, the output xml looks like this:</p>\n\n<pre><code>&lt;opt&gt;\n    &lt;message&gt;\n        &lt;name&gt;gandalf&lt;/name&gt;\n        &lt;attributes name=\"value\"&gt;\n            &lt;1&gt;1&lt;1&gt;\n            &lt;2&gt;2&lt;2&gt;\n            &lt;3&gt;3&lt;3&gt;\n            &lt;4&gt;10&lt;4&gt;\n        &lt;/attributes&gt;\n    &lt;/message&gt;\n&lt;/opt&gt;\n</code></pre>\n"}, {"tags": ["perl", "mojolicious-lite"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1526976690, "post_id": 50462682, "comment_id": 87938586, "body": "What&#39;s the output of <code>perl -MMojolicious::Lite -le&#39;print for $], $Mojolicious::Lite::VERSION&#39;</code>? (Replace the single quotes  with double quotes if using the <code>cmd</code> shell.)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526984384, "post_id": 50462682, "comment_id": 87943632, "body": "You are probably using a very new version of Mojolicious and the latest documentation, but your Perl is too old."}, {"owner": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "edited": false, "score": 0, "creation_date": 1526993966, "post_id": 50462682, "comment_id": 87949771, "body": "I&#39;m using latest strawberry, v5.26."}, {"owner": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "edited": false, "score": 0, "creation_date": 1526994469, "post_id": 50462682, "comment_id": 87950153, "body": "Could it be a problem about &quot;prototypes&quot;, a subroutine that is defined as &quot;sub fun($arg) { $arg....}&quot;. Is there any specifical settings in perl for it?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1526995465, "post_id": 50462682, "comment_id": 87950868, "body": "There&#39;s a new feature in recent Perls called <i>signatures</i>, which replaces the <i>prototypes</i>. Prototypes in Perl are <code>sub foo ($$$) { ... }</code> and tell Perl what kind (not type) of argument to expect. They are usually discouraged. Signatures allow you to do <code>sub foo ($bar, $baz) { ... }</code> instead of <code>sub foo { my ($bar, $baz) = @_; ... }</code>. The <code>-signatures</code> on the <code>use Mojo::Lite</code> should turn the feature on for you, but maybe your Mojo version is older than that feature? Which one is it? If @ikegami&#39;s code didn&#39;t help, do <code>perl -MMojolicious::Lite\\ 99</code> with a space after the backslash <code>\\</code>."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1526995864, "post_id": 50462682, "comment_id": 87951209, "body": "<code>Mojolicious::Lite -signatures</code> just enables the <code>signatures</code> feature introduced in Perl v5.20. To see if your perl can use this feature, see if this code compiles:  <code>perl -Mexperimental=signatures -e &quot;sub foo($x) { }&quot;</code>"}], "owner": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1526984345, "creation_date": 1526976208, "last_edit_date": 1526984345, "question_id": 50462682, "link": "https://stackoverflow.com/questions/50462682/how-to-understand-subcall-sub-c", "title": "How to understand subcall &quot;sub ($c) {...}&quot;?", "body": "<p>I'm reading a mojo example from:\n<a href=\"https://mojolicious.org/\" rel=\"nofollow noreferrer\">https://mojolicious.org/</a>\nBelow is the code:</p>\n\n<pre><code>use Mojolicious::Lite -signatures;\n\n# Render template \"index.html.ep\" from the DATA section\nget '/' =&gt; sub ($c) {\n  $c-&gt;render(template =&gt; 'index');\n};\n\n......\n</code></pre>\n\n<p>My question is how to get this piece of code compiled by perl? Usually I'll code subcalls as:</p>\n\n<pre><code>get '/' =&gt; sub {\n      my $c = shift;\n      $c-&gt;render(template =&gt; 'index');\n    };\n</code></pre>\n\n<p>This could be compiled well by strawberry perl. While the example code from mojo got errors:</p>\n\n<pre><code>D:\\Source\\test_code\\mojotest&gt;perl mojo3.pl daemon\nIllegal character in prototype for ? : $c at mojo3.pl line 4.\nIllegal character in prototype for ? : $c at mojo3.pl line 9.\nIllegal character in prototype for ? : $c, $msg at mojo3.pl line 10.\n</code></pre>\n\n<p>Could anyone tell why?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6934, "user_id": 692410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7d20c86fcc483e625eb179ca2bbfa0cb?s=128&d=identicon&r=PG", "display_name": "Will Richardson", "link": "https://stackoverflow.com/users/692410/will-richardson"}, "edited": false, "score": 0, "creation_date": 1526974056, "post_id": 50461871, "comment_id": 87937137, "body": "The memory usage will depend on the content of the file and what you&#39;re trying to replace, as well as how much memory you have available. To get a good answer, put as much information as you can into the question."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1526974057, "post_id": 50461871, "comment_id": 87937138, "body": "What does <code>Perl</code> run? Normally, the Perl interpreter is lower cased. Also, don&#39;t use regular expressions to process XML, use an XML aware tool. In Perl, you have <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a> and <a href=\"http://p3rl.org/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> at your disposal."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1526975429, "post_id": 50461871, "comment_id": 87937872, "body": "How long is the longest line?"}], "answers": [{"tags": [], "owner": {"reputation": 84, "user_id": 9761489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc55421a6e0da3625f5b8b80826acd2?s=128&d=identicon&r=PG&f=1", "display_name": "Russell Jurek", "link": "https://stackoverflow.com/users/9761489/russell-jurek"}, "is_accepted": false, "score": 0, "last_activity_date": 1527072504, "creation_date": 1527072504, "answer_id": 50486435, "question_id": 50461871, "link": "https://stackoverflow.com/questions/50461871/why-i-m-getting-out-of-memory-error-while-processing-huge-file3gb-file-using/50486435#50486435", "title": "Why I m getting &quot;Out Of Memory error&quot; while processing huge file(3Gb) file using Perl online replacer comment", "body": "<p>It\u2019s pretty common for systems to limit the amount of meomory that a program can use. It prevents memory leaks from clogging up your system.  It\u2019s possible that you\u2019re running into this limit when using a 3GB file. At which point the system will terminate your script. On most Linux systems you can use the ulimit command to change this memory limit. You could also run top after starting your program to track the memory usage. </p>\n"}], "owner": {"reputation": 1, "user_id": 9826898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571ae3b4b5566c176e7f3a6596746d0d?s=128&d=identicon&r=PG&f=1", "display_name": "Bharathi sivakumar", "link": "https://stackoverflow.com/users/9826898/bharathi-sivakumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1527072504, "creation_date": 1526973366, "last_edit_date": 1526973972, "question_id": 50461871, "link": "https://stackoverflow.com/questions/50461871/why-i-m-getting-out-of-memory-error-while-processing-huge-file3gb-file-using", "title": "Why I m getting &quot;Out Of Memory error&quot; while processing huge file(3Gb) file using Perl online replacer comment", "body": "<p>I am using the below mentioned code to process a file. Even thought I have enough space to process the file I am getting out of memory. The same script works fine for small files.</p>\n\n<pre><code>#!/bin/ksh \nPerl -p -i -e 's/....... replacer comment...../g'  bulk_file.xml;\nSleep 5\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1526974064, "post_id": 50461078, "comment_id": 87937142, "body": "What is the exact error message?"}, {"owner": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1526974716, "post_id": 50461078, "comment_id": 87937505, "body": "I just can&#39;t understand &quot;has&quot; here. I thought it&#39;s a grammer issue and I had never seen it before. D:\\Source\\GitHub\\Mojolicious\\tweetylicious&gt;perl tweetylicious.pl syntax error at C:/Strawberry/perl/site/lib/Mojolicious/Command/cgi.pm line 7, near &quot;has description&quot; Compilation failed in require at (eval 289) line 1."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1526975539, "post_id": 50461078, "comment_id": 87937946, "body": "<code>has LIST</code> is just a sub call. Because the parens around the argument list has been omitted, the sub needs to have been declared before the call, thus the syntax error."}, {"owner": {"reputation": 1309, "user_id": 2631304, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7744c67c172e28b0fb042efbd00405c6?s=128&d=identicon&r=PG", "display_name": "steven smith", "link": "https://stackoverflow.com/users/2631304/steven-smith"}, "edited": false, "score": 0, "creation_date": 1527054511, "post_id": 50461078, "comment_id": 87974450, "body": "I rhink you can use a proto-type to declare run.  i.e. &quot;sub run {}&quot; on the line before your sub run is defined."}], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 5061277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mv0jT.png?s=128&g=1", "display_name": "Chris Eveland", "link": "https://stackoverflow.com/users/5061277/chris-eveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1527731241, "creation_date": 1527731241, "answer_id": 50615517, "question_id": 50461078, "link": "https://stackoverflow.com/questions/50461078/perl-complication-failed-on-has/50615517#50615517", "title": "Perl complication failed on &quot;has ... =&gt; ...&quot;", "body": "<p>See the <a href=\"https://mojolicious.org/perldoc/Mojo/Base\" rel=\"nofollow noreferrer\">Mojo::Base documentation</a>.  The <code>has</code> function defines an attribute for the class.  </p>\n\n<p>In this case <code>Mojo::Command::cgi</code> has a <code>Mojolicious::Command</code> base class and the <code>description</code> attribute defaults to the string supplied, and the <code>usage</code> attribute will be initialized by calling the <code>extract_usage</code> method.</p>\n"}], "owner": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527731241, "creation_date": 1526970226, "last_edit_date": 1526984314, "question_id": 50461078, "link": "https://stackoverflow.com/questions/50461078/perl-complication-failed-on-has", "title": "Perl complication failed on &quot;has ... =&gt; ...&quot;", "body": "<p>Could anyone help explain the grammer about \"has usage ...\", \"has description ...\" in below cgi.pm?</p>\n\n<pre><code>package Mojolicious::Command::cgi;\nuse Mojo::Base 'Mojolicious::Command';\n\nuse Mojo::Server::CGI;\nuse Mojo::Util 'getopt';\n\nhas description =&gt; 'Start application with CGI';\nhas usage =&gt; sub { shift-&gt;extract_usage };\n\nsub run {\n  my ($self, @args) = @_;\n  getopt \\@args, nph =&gt; \\(my $nph = 0);\n  Mojo::Server::CGI-&gt;new(app =&gt; $self-&gt;app, nph =&gt; $nph)-&gt;run;\n}\n\n1;\n</code></pre>\n"}, {"tags": ["html", "perl", "href"], "comments": [{"owner": {"reputation": 158, "user_id": 9025164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pikie.jpg?s=128&g=1", "display_name": "JussiV", "link": "https://stackoverflow.com/users/9025164/jussiv"}, "edited": false, "score": 0, "creation_date": 1526968995, "post_id": 50460774, "comment_id": 87934679, "body": "Is the file available through Apache, can you get the file if you manually navigate to the URL?"}, {"owner": {"reputation": 5, "user_id": 9786615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2184e193297b40e2c7c3f5f1b137b0ea?s=128&d=identicon&r=PG&f=1", "display_name": "user9786615", "link": "https://stackoverflow.com/users/9786615/user9786615"}, "reply_to_user": {"reputation": 158, "user_id": 9025164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pikie.jpg?s=128&g=1", "display_name": "JussiV", "link": "https://stackoverflow.com/users/9025164/jussiv"}, "edited": false, "score": 0, "creation_date": 1526969677, "post_id": 50460774, "comment_id": 87934967, "body": "@JussiV No, actually the resultant file is a text file so I get the following error: (8)Exec format error: exec failed:"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1526970201, "post_id": 50460774, "comment_id": 87935186, "body": "That error is because of missing shebang (<code>#!</code>) line"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 9786615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2184e193297b40e2c7c3f5f1b137b0ea?s=128&d=identicon&r=PG&f=1", "display_name": "user9786615", "link": "https://stackoverflow.com/users/9786615/user9786615"}, "edited": false, "score": 0, "creation_date": 1526999321, "post_id": 50465499, "comment_id": 87953721, "body": "could you please tell me how can I print the output to browser? I tried this: print &quot;Content-type: text/plain\\r\\n&quot; ; print &quot;\\r\\n&quot; ;   print header(&#39;text/plain&#39;), $output;"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 5, "user_id": 9786615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2184e193297b40e2c7c3f5f1b137b0ea?s=128&d=identicon&r=PG&f=1", "display_name": "user9786615", "link": "https://stackoverflow.com/users/9786615/user9786615"}, "edited": false, "score": 0, "creation_date": 1526999415, "post_id": 50465499, "comment_id": 87953802, "body": "<code>print $output</code>"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 0, "last_activity_date": 1526985124, "creation_date": 1526985124, "answer_id": 50465499, "question_id": 50460774, "link": "https://stackoverflow.com/questions/50460774/how-to-provide-link-to-a-file-using-a-href-in-perl/50465499#50465499", "title": "How to provide link to a file using &lt;a href&gt; in perl?", "body": "<blockquote>\n  <p>The resultant file is in a temporary folder ($dir) located in cgi-bin folder</p>\n</blockquote>\n\n<p>Don't do that.</p>\n\n<p><code>cgi-bin</code> should contain only CGI programs.</p>\n\n<p>Your server is almost certainly configured so it will try to execute <em>anything</em> there as a CGI program.</p>\n\n<p>Your text file, which contains data, is not a program, and trying to treat it as one will cause errors.</p>\n\n<p>Save the file somewhere <em>outside</em> cgi-bin (or don't save it at all and just output it from the CGI program directly to the browser).</p>\n"}], "owner": {"reputation": 5, "user_id": 9786615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2184e193297b40e2c7c3f5f1b137b0ea?s=128&d=identicon&r=PG&f=1", "display_name": "user9786615", "link": "https://stackoverflow.com/users/9786615/user9786615"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "accepted_answer_id": 50465499, "answer_count": 1, "score": 0, "last_activity_date": 1526985124, "creation_date": 1526968830, "question_id": 50460774, "link": "https://stackoverflow.com/questions/50460774/how-to-provide-link-to-a-file-using-a-href-in-perl", "title": "How to provide link to a file using &lt;a href&gt; in perl?", "body": "<p>I have a <strong>Perl CGI</strong> script which invokes HTML form, takes input, and process it.</p>\n\n<p>I want to upload the resultant file to the same localhost server (apache2) but after processing, it generates the resultant file and stops without displaying anything. The resultant file is in a temporary folder ($dir) located in cgi-bin folder.</p>\n\n<p>I tried using the <code>&lt;a href&gt;</code> HTML tag but it is not working. </p>\n\n<pre><code>print \"Content-Type: text/html\";        \nprint '&lt;a href=\"http://localhost/cgi-bin/$dir/test.txt\" target=\"_top\"&gt;Download your file&lt;/a&gt;';\n</code></pre>\n\n<p>Is there any other way to use <code>&lt;a href&gt;</code> tag in Perl?</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "edited": false, "score": 0, "creation_date": 1526967494, "post_id": 50459242, "comment_id": 87934048, "body": "Thanks for answering. But how I fix the compilation error? I tried change  it to the example style, but then I blocked by cgi.pm:has description =&gt; &#39;Start application with CGI&#39;; has usage =&gt; sub { shift-&gt;extract_usage };"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "edited": false, "score": 1, "creation_date": 1526984004, "post_id": 50459242, "comment_id": 87943429, "body": "@Hao the code you&#39;re looking at is from 2011. The Mojolicious project is quite active and the API changes frequently. I&#39;ve searched through the github repo and I can only find two references to <code>ladder</code>, when it was added in 2010. It has since been removed, but the changelog doesn&#39;t reveal when. I think you should look for more modern examples."}, {"owner": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526993645, "post_id": 50459242, "comment_id": 87949556, "body": "@simbabque Got. Thanks for your time."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "edited": false, "score": 1, "creation_date": 1526993821, "post_id": 50459242, "comment_id": 87949670, "body": "@Hao I went on IRC and asked in #mojolicious. The creator of the project says it probably went out in 2010 before version 1.0. So I would say it&#39;s safe to assume we shouldn&#39;t be using it today. The modern equivalent is called <code>under</code>, btw."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "edited": false, "score": 0, "creation_date": 1526995514, "post_id": 50459242, "comment_id": 87950914, "body": "@Hao thank you. We&#39;re all just people here. I hope you&#39;re having fun learning Perl although you&#39;re experiencing a bit of a setback right now! :)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 9, "last_activity_date": 1526958867, "creation_date": 1526958867, "answer_id": 50459242, "question_id": 50459229, "link": "https://stackoverflow.com/questions/50459229/what-ladder-sub-means-in-perl/50459242#50459242", "title": "What &quot;ladder sub {...}&quot; means in perl?", "body": "<p>It is a call to a subroutine called <code>ladder</code> that expects a code reference as its first argument. It is equivalent to</p>\n\n<pre><code>$tmpfunc = sub {\n    my $self = shift;\n    return 1 if $self-&gt;session('name');\n    $self-&gt;redirect_to('/login') and return;\n};\nladder($tmpfunc);\n</code></pre>\n"}], "owner": {"reputation": 318, "user_id": 2404551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75cdc4aecdffecf0a31becf36899ac1a?s=128&d=identicon&r=PG", "display_name": "Hao", "link": "https://stackoverflow.com/users/2404551/hao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 50459242, "answer_count": 1, "score": 7, "last_activity_date": 1528994271, "creation_date": 1526958661, "last_edit_date": 1528994271, "question_id": 50459229, "link": "https://stackoverflow.com/questions/50459229/what-ladder-sub-means-in-perl", "title": "What &quot;ladder sub {...}&quot; means in perl?", "body": "<p>I'm reading <a href=\"https://github.com/garu/tweetylicious\" rel=\"nofollow noreferrer\">tweetylicious source from github</a> to study Mojolicious framework:</p>\n\n<p>However I'm confused by below piece of code <code>ladder sub ...</code>. What does it mean in Perl? It looks like not a regular Perl grammar. </p>\n\n<p>Btw, I'm with Strawberry Perl 5.</p>\n\n<pre><code># The rest of the routes are specific to logged in users, so we\n# add a ladder to make sure (instead of making sure inside each route)\nladder sub {\n    my $self = shift;\n    return 1 if $self-&gt;session('name');\n    $self-&gt;redirect_to('/login') and return;\n};\n</code></pre>\n"}, {"tags": ["perl", "pdf", "pdf-generation", "ascii"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526920913, "post_id": 50453133, "comment_id": 87919495, "body": "What kind of font is this? Possibly it doesn&#39;t have glyphs for the characters? Does it work if you use a different font? // In this case I think including a screenshot of the PDF is fair."}, {"owner": {"reputation": 2375, "user_id": 1586201, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/1d988ac481cd735f944f4670152e5c09?s=128&d=identicon&r=PG", "display_name": "Tony Xu", "link": "https://stackoverflow.com/users/1586201/tony-xu"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526921086, "post_id": 50453133, "comment_id": 87919563, "body": "you&#39;re right. the ttf file does not have the font... thanks"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526921164, "post_id": 50453133, "comment_id": 87919596, "body": "If you want to mix little images and actual text, you&#39;ll need to have two different font objects I guess."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526927086, "post_id": 50453133, "comment_id": 87922447, "body": "If your problem is solved then please write up an answer."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526921227, "post_id": 50453186, "comment_id": 87919632, "body": "That might be an additional problem."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1526920916, "creation_date": 1526920916, "answer_id": 50453186, "question_id": 50453133, "link": "https://stackoverflow.com/questions/50453133/perl-pdfapi2-displays-boxes-for-plain-ascii-letters/50453186#50453186", "title": "Perl PDF::API2 displays boxes for plain ASCII letters", "body": "<p>There is no such font as <strong><em>Times</em></strong>. Use <code>Times-Roman</code>.</p>\n"}], "owner": {"reputation": 2375, "user_id": 1586201, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/1d988ac481cd735f944f4670152e5c09?s=128&d=identicon&r=PG", "display_name": "Tony Xu", "link": "https://stackoverflow.com/users/1586201/tony-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526927038, "creation_date": 1526920626, "last_edit_date": 1526927038, "question_id": 50453133, "link": "https://stackoverflow.com/questions/50453133/perl-pdfapi2-displays-boxes-for-plain-ascii-letters", "title": "Perl PDF::API2 displays boxes for plain ASCII letters", "body": "<p>I'm trying to print some text as a simple PDF file. I used the following code, and I got a PDF file, but each letter shows as a box. For example five boxes shown for \"Hello\", and six boxes for \"Hello1\". I searched and found this kind of problem usually comes with UTF-8 characters, but mine uses just plain ASCII letters.</p>\n\n<pre><code>use PDF::API2;\n\nmy $pdf = PDF::API2-&gt;new(); # create a blank pdf file            \n\nmy $page = $pdf-&gt;page(); # add a blank page                        \n$page-&gt;mediabox('Letter'); # set page size\n\nmy $font = $pdf-&gt;corefont('Times'); # set up font\n\nmy $ttfPath = 'path/font/fontawesome-webfont.ttf';\n$font       = $pdf-&gt;ttfont($ttfPath);\n\nmy $text = $page-&gt;text(); # add text to page                                                                                                                          \n$text-&gt;font($font, 20);\n$text-&gt;translate(200, 700);\n\n$text-&gt;text(\"Hello\");\n\n$pdf-&gt;saveas(\"test.pdf\");\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1526981422, "post_id": 50451789, "comment_id": 87941650, "body": "Okay I tried using for loop checking for exact node by giving following condition <code>for my $buEnCng ($doc5 -&gt; findnodes(&#39;&#47;&#47;shipment&#47;&#47;businessEntity[businessType&#47;text()=&quot;C&zwnj;&#8203;onsignee&quot;]&#47;&#47;gciNumbe&zwnj;&#8203;r&#47;&#47;text()&#39;))</code> based on which I&#39;m replacing data using <code>$buEnCng-&gt;setData(&#39;0000&#39;);</code> and then writing it to file using my <code>$EDE6 = $doc5-&gt;toFile(&quot;CONSIGNEE_ID_MISSING.xml&quot;,1);</code>. It is working perfectly."}], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1526918800, "post_id": 50451986, "comment_id": 87918404, "body": "Thanks a lot for your response and solution. I have tried this and could see following error at the line <code>my ($buEnShpGciVal) = $buEnShp-&gt;findnodes(&#39;number&#47;text()&#39;);</code> Error message is <code>Can&#39;t locate object method &quot;findnodes&quot; via package &quot;XML::LibXML::NodeList</code>  I understood that findnodes should be called as a methods for that node instead of whole document but ending up with the above mentioned error."}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1526920293, "post_id": 50451986, "comment_id": 87919159, "body": "And I have tried printing <code>$buEnShp</code> to check what exactly it is holding and could see that it is just holding the values of the complete parent node with out any tags. It is just holding values of all the elements in the matching node. Is this error something related to this data where only values are being stored?"}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1526972082, "post_id": 50451986, "comment_id": 87936101, "body": "Could you please clarify on why exactly the above mentioned error is coming? I suspect that since <code>$buEnShp</code> is holding values alone with out any nodes or tags, findnodes is throwing error. I&#39;m trying to figure it out by trying in otherways meanhwhile, but no luck."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1526973572, "post_id": 50451986, "comment_id": 87936864, "body": "<code>findnodes</code> returns a node list every time, even when the node list has just one element. You can&#39;t call <code>findnodes</code> on a node list, you have to call it on a node. That&#39;s why I used <code>my ($...) = ...-&gt;findnodes</code>: the parentheses on the left hand side force list context that means only the first node gets assigned."}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1526979772, "post_id": 50451986, "comment_id": 87940530, "body": "I understood why exactly you used findnodes on node instead of nodelist, but my real doubt is why I&#39;m getting error on <code>my ($buEnShpGciVal) = $buEnShp-&gt;findnodes(&#39;number&#47;text()&#39;);</code> this line. As I mentioned in my first comment, it is throwing <code>Can&#39;t locate object method &quot;findnodes&quot; via package &quot;XML::LibXML::NodeList</code>"}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1526981207, "post_id": 50451986, "comment_id": 87941486, "body": "Okay I tried using for loop checking for exact node by giving following condition <code>for my $buEnCng ($doc5 -&gt; findnodes(&#39;&#47;&#47;shipment&#47;&#47;businessEntity[businessType&#47;text()=&quot;C&zwnj;&#8203;onsignee&quot;]&#47;&#47;gciNumbe&zwnj;&#8203;r&#47;&#47;text()&#39;))</code> based on which I&#39;m replacing data using <code>$buEnCng-&gt;setData(&#39;0000&#39;);</code> and then writing it to file using <code>my $EDE6 = $doc5-&gt;toFile(&quot;CONSIGNEE_ID_MISSING.xml&quot;,1);</code>. It is working perfectly."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1526916300, "creation_date": 1526916300, "answer_id": 50451986, "question_id": 50451789, "link": "https://stackoverflow.com/questions/50451789/how-to-replace-specific-child-node-values-among-similar-parent-node-lists-in-xml/50451986#50451986", "title": "How to replace specific child node values among similar parent node lists in XML using Perl module XML::LibXML", "body": "<p>If you want to only search in a subtree of a node, call <code>findnodes</code> as a method of the node, not of the whole document object.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $doc = 'XML::LibXML'-&gt;load_xml(location =&gt; shift);\nmy $root = $doc-&gt;getDocumentElement;\n\nif ( my $valdExpHBill = $doc -&gt; findnodes('//shipment[flag=\"true\"]')) {\n    print \"valid flag is true\\n\";\n\n    if (my ($buEnShp) = $doc-&gt;findnodes('//shipment//business[Type=\"Shipper\"]')) {\n        print \"Shipper business exist under this shipment\\n\";\n        my ($buEnShpGciVal) = $buEnShp-&gt;findnodes('number/text()');\n        $buEnShpGciVal-&gt;setData(' ');\n        my ($buEnShpBNoVal) = $buEnShp-&gt;findnodes('busNumber/text()');\n        $buEnShpBNoVal-&gt;setData(' ');\n        my $EDE5 = $doc-&gt;toFile(\"ID_MISSING.xml\",1);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526916300, "creation_date": 1526915665, "question_id": 50451789, "link": "https://stackoverflow.com/questions/50451789/how-to-replace-specific-child-node-values-among-similar-parent-node-lists-in-xml", "title": "How to replace specific child node values among similar parent node lists in XML using Perl module XML::LibXML", "body": "<p>I'm currently working on Perl script that will mock node values based on specific criteria. I have similar parents nodes with in a file, out of which on specific criteria I should replace/edit child node value. Given Sample file below. I'm using <code>XML::LibXML</code> module to do this work for me.</p>\n\n<p>But it seems to be not working as expected, because my below piece of code is always replacing node values from the first found parent node irrespective of the criteria that I'm providing.</p>\n\n<p>Here is my Piece of code that I have tested.</p>\n\n<pre><code>use strict; \nuse warnings;\nuse XML::LibXML; \nmy $parser = XML::LibXML-&gt;new;\nmy $doc = $parser-&gt;parse_file(\"Test.xml\");\nmy $root = $doc-&gt;getDocumentElement();\n\n##ERROR KEY ENTRY_MISSING \n\nif ( my $valdExpHBill = $doc -&gt; findnodes('//shipment//Flag[string()=\"true\"]')) {\n        print \"valid flag is true\\n\";\n\n     ##ID_MISSING \n     if (my $buEnShp = $doc -&gt; findnodes ('//shipment//business//Type[string()=\"Shipper\"]')) {\n            print \"Shipper business exist under this shipment\\n\";\n            my ($buEnShpGciVal) = $doc-&gt;findnodes('//shipment//business//number//text()');  \n            $buEnShpGciVal-&gt;setData(' ');\n            my ($buEnShpBNoVal) = $doc-&gt;findnodes('//shipment//business//busNumber//text()');   \n            $buEnShpBNoVal-&gt;setData(' ');\n            my $EDE5 = $doc-&gt;toFile(\"ID_MISSING.xml\",1);\n    }\n}\n</code></pre>\n\n<p>Sample Input File (Test.xml)::</p>\n\n<pre><code>&lt;shipment&gt;\n  &lt;flag&gt;true&lt;/flag&gt;\n  &lt;business&gt;\n    &lt;Type&gt;Consignee&lt;/Type&gt;\n    &lt;number&gt;G0213&lt;/number&gt;\n    &lt;busNumber&gt;3006&lt;/busNumber&gt;\n  &lt;/business&gt;\n  &lt;business&gt;\n    &lt;Type&gt;Shipper&lt;/Type&gt;\n    &lt;number&gt;G0113&lt;/number&gt;\n    &lt;busNumber&gt;3116&lt;/busNumber&gt;\n  &lt;/business&gt;\n&lt;/shipment&gt;\n</code></pre>\n\n<p>Out Put file (ID_MISSING.xml)::</p>\n\n<pre><code>&lt;shipment&gt;\n  &lt;flag&gt;true&lt;/flag&gt;\n  &lt;business&gt;\n    &lt;Type&gt;Consignee&lt;/Type&gt;\n    &lt;number&gt; &lt;/number&gt;\n    &lt;busNumber&gt; &lt;/busNumber&gt;\n  &lt;/business&gt;\n  &lt;business&gt;\n    &lt;Type&gt;Shipper&lt;/Type&gt;\n    &lt;number&gt;G0113&lt;/number&gt;\n    &lt;busNumber&gt;3116&lt;/busNumber&gt;\n  &lt;/business&gt;\n&lt;/shipment&gt;\n</code></pre>\n\n<p>Expected output (ID_MISSING.xml)::</p>\n\n<pre><code>&lt;shipment&gt;\n  &lt;flag&gt;true&lt;/flag&gt;\n  &lt;business&gt;\n    &lt;Type&gt;Consignee&lt;/Type&gt;\n    &lt;number&gt;G0213&lt;/number&gt;\n    &lt;busNumber&gt;3006&lt;/busNumber&gt;\n  &lt;/business&gt;\n  &lt;business&gt;\n    &lt;Type&gt;Shipper&lt;/Type&gt;\n    &lt;number&gt; &lt;/number&gt;\n    &lt;busNumber&gt; &lt;/busNumber&gt;\n  &lt;/business&gt;\n&lt;/shipment&gt;\n</code></pre>\n\n<p>Actually I want to match Shipper parent node and want to replace its child elements with blanks. But always it is matching the first found parent node and replacing/editing those values. I want to achieve this using <code>XML::LibXML</code> module, even though I can other options using some other XML related modules in Perl.</p>\n\n<p>As per my understanding, even though I'm checking for specific condition, it is just parsing the XML document and getting first found parent node and replacing it's child node values. I just want to understand how exactly I can edit child nodes of specific parent node.\nYour help is appreciated in this.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1526914410, "post_id": 50451368, "comment_id": 87915975, "body": "Perfect, that makes loads of sense, thanks a mill. Upvoted in the meanwhile as I have to wait  another 4 minutes to mark the answer as correct."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "edited": false, "score": 0, "creation_date": 1526914697, "post_id": 50451368, "comment_id": 87916133, "body": "The <code>sort</code> option is exactly what I needed, Thanks a ton!!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1526914454, "last_edit_date": 1526914454, "creation_date": 1526914167, "answer_id": 50451368, "question_id": 50451269, "link": "https://stackoverflow.com/questions/50451269/strange-behaviour-from-push-hash/50451368#50451368", "title": "Strange behaviour from push (hash)", "body": "<p>Remove the <code>||</code> from the <code>$seen{something}++ || print ...</code> constructions and you will see that the output is correct.</p>\n\n<pre><code>...\nforeach my $k(keys %store) {\n  ($key, $key2, $value) = split /-/, $k;\n  chomp ($key, $key2, $value);\n  $seen{$key}++ &amp;&amp; print \"*\"; print \"1. $key\\n\";\n  $seen{$key2}++ &amp;&amp; print \"*\"; print \"2. -- $key2\\n\";\n  $seen{$value}++ &amp;&amp; print \"*\"; print \"3. ----$value\\n\";\n}\n</code></pre>\n\n<hr>\n\n<pre><code>1. Cutlery\n2. -- bendable\n3. ----forks\n1. Crockery\n2. -- breakable\n3. ----glasses\n*1. Cutlery\n*2. -- bendable\n3. ----spoons\n*1. Crockery\n*2. -- breakable\n3. ----plates\n</code></pre>\n\n<p>Any line that begins with <code>*</code> in the new script would not be output in the original script.</p>\n\n<hr>\n\n<p>Note that if you sort the keys of <code>%store</code>, the second key and values will always be associated with the correct first key, as you wish:</p>\n\n<pre><code>foreach my $k (sort keys %store) {\n#              ^^^^\n     ($key, $key2, $value) = split /-/, $k;\n     chomp ($key, $key2, $value);\n     $seen{$key}++ || print \"1. $key\\n\";\n     $seen{$key2}++ || print \"2. -- $key2\\n\";\n     $seen{$value}++ || print \"3. ----$value\\n\";\n}\n</code></pre>\n\n<hr>\n\n<pre><code>1. Crockery\n2. -- breakable\n3. ----glasses\n3. ----plates\n1. Cutlery\n2. -- bendable\n3. ----forks\n3. ----spoons\n</code></pre>\n\n<p>though I guess you could still be confounded if the same value or key2 was associated with more than one key.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8956060"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 50451368, "answer_count": 1, "score": 1, "last_activity_date": 1526914454, "creation_date": 1526913785, "question_id": 50451269, "link": "https://stackoverflow.com/questions/50451269/strange-behaviour-from-push-hash", "title": "Strange behaviour from push (hash)", "body": "<p>I fully understand that a hash is unsorted, but I was under the impression that it always keeps keys/values relationship.</p>\n\n<p>I am not understanding this behaviour at all. When I push from an array, do some de-duplication and then print key's, sub-keys and values, I get the desired result:</p>\n\n<pre><code>my @Input = (\"Crockery breakable plates\",\n             \"Crockery breakable glasses\",\n             \"Cutlery bendable forks\",\n             \"Cutlery bendable spoons\"\n            );\n\nmy %store = ();\nforeach (@Input) {\n    my ($key, $key2, $value) = split;\n    chomp ($key, $key2, $value);\n    my $combine = \"$key-$key2-$value\";\n    push @arr, \"$key-$key2-$value\";\n   # push @{$store{$combine}}, \"$key-$key2-$value\";\n }\n\nforeach (@arr) {\n($key, $key2, $value) =split /-/;\n chomp ($key, $key2, $value);\n     $seen{$key}++ || print \"1. $key\\n\";\n      $seen{$key2}++ || print \"2. -- $key2\\n\";\n       $seen{$value}++ || print \"3. ----$value\\n\";\n    }\n</code></pre>\n\n<p>Which simply will print this each time:</p>\n\n<pre><code>1. Crockery\n2. -- breakable\n3. ----plates\n3. ----glasses\n1. Cutlery\n2. -- bendable\n3. ----forks\n3. ----spoons\n</code></pre>\n\n<p>Then I do basically the same thing, but push to</p>\n\n<pre><code>my @Input = (\"Crockery breakable plates\",\n             \"Crockery breakable glasses\",\n             \"Cutlery bendable forks\",\n             \"Cutlery bendable spoons\"\n            );\n\nmy %store = ();\nforeach (@Input) {\n    my ($key, $key2, $value) = split;\n    chomp ($key, $key2, $value);\n    my $combine = \"$key-$key2-$value\";\n   # push @arr, \"$key-$key2-$value\";\n    push @{$store{$combine}}, \"$key-$key2-$value\";\n }\n\nforeach my $k(keys %store) {\n    ($key, $key2, $value) = split /-/, $k;\n    chomp ($key, $key2, $value);\n         $seen{$key}++ || print \"1. $key\\n\";\n          $seen{$key2}++ || print \"2. -- $key2\\n\";\n           $seen{$value}++ || print \"3. ----$value\\n\";\n    }\n</code></pre>\n\n<p>Which prints random results each time:</p>\n\n<pre><code>1. Cutlery\n2. -- bendable\n3. ----forks\n1. Crockery\n2. -- breakable\n3. ----plates   \n3. ----spoons    &lt; --- not Crockery\n3. ----glasses\n</code></pre>\n\n<p>The only real difference (which I can see) here is that I split the key name, but that layout is still the same as the array name.</p>\n\n<p>So the question, Can someone help me in understanding why and how I can fix this?</p>\n\n<p>PS!! the reason I ask the question, I wanted to split my key name in my script, and not push another array, as I already push this key name once as I use it in another part of the script.</p>\n"}, {"tags": ["perl", "parsing", "xlsx"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 518263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a604bda06d0a9c08036e6f61a26962ce?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/518263/joseph"}, "edited": false, "score": 0, "creation_date": 1526916332, "post_id": 50451525, "comment_id": 87916991, "body": "Worked like a charm - thank you for your assistance!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1526914756, "creation_date": 1526914756, "answer_id": 50451525, "question_id": 50451257, "link": "https://stackoverflow.com/questions/50451257/spreadsheetparsexlsx-and-blank-cells/50451525#50451525", "title": "Spreadsheet::ParseXLSX and blank cells", "body": "<pre><code>my $cell = $worksheet-&gt;get_cell($currentRow, $currentCol);\n\nmy $value = $cell ? $cell-&gt;value : undef;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 518263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a604bda06d0a9c08036e6f61a26962ce?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/518263/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "accepted_answer_id": 50451525, "answer_count": 1, "score": 0, "last_activity_date": 1526914756, "creation_date": 1526913748, "question_id": 50451257, "link": "https://stackoverflow.com/questions/50451257/spreadsheetparsexlsx-and-blank-cells", "title": "Spreadsheet::ParseXLSX and blank cells", "body": "<p>I am trying to parse through an XLSX file (getting the value for each cell, row by row,) using Spreadsheet::ParseXLSX.  Within my loop that goes through each row, I've tried pulling the values with this code:</p>\n\n<pre><code>$thisCell = $worksheet-&gt;get_cell($currentRow, $currentCol)-&gt;value();\n</code></pre>\n\n<p>and also with:</p>\n\n<pre><code>$thisCell = $worksheet-&gt;get_cell($currentRow, $currentCol)-&gt;unformatted();\n</code></pre>\n\n<p>However, the script always breaks if it encounters an empty cell.  The error method I get is \"Can't call method [value|unformatted] on an undefined value...\"</p>\n\n<p>To try to anticipate or deal with the empty cells I have tried:</p>\n\n<ul>\n<li>putting an \"or $thisCell = ''\" after the above code</li>\n<li><p>wrapping the above code in a if clause like:</p>\n\n<pre><code>if ($worksheet-&gt;get_cell($currentRow, $currentCol)-&gt;unformatted()) {\n    $thisCell = $worksheet-&gt;get_cell($currentRow, $currentCol)-&gt;unformatted();\nelse {\n    $thisCell = \"\";\n}\n</code></pre></li>\n</ul>\n\n<p>I'm really stuck on this, and I'm sure it's something basic that I'm mucking up.  Any help would be greatly appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1526912656, "post_id": 50450832, "comment_id": 87914945, "body": "Do you realise that your four <code>fork</code> calls are executed by both the parent and the children, leaving a total of sixteen processes?"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9822747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "day dreamer", "link": "https://stackoverflow.com/users/9822747/day-dreamer"}, "edited": false, "score": 0, "creation_date": 1527770193, "post_id": 50450976, "comment_id": 88258780, "body": "Instead of  system(&quot;./program_that_forks&quot;); exit;    I am using Makefile to compile and execute the binary like &quot;system(&quot;make clean all test -j8&quot;); exit(0);&quot;. Sometime it work fine but sometime it  throws me error like gcc -O3 TC_1.c -lm -o TC_1.bin &gt; TC_1.log ./TC_1.bin make: execvp: ./TC_1.bin: Command not found make: *** [TC_1.run] Error 127 make: *** Waiting for unfinished jobs.... gcc -O3 TC_2.c -lm -o TC_2.bin &gt; TC_2.log"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1526912695, "creation_date": 1526912695, "answer_id": 50450976, "question_id": 50450832, "link": "https://stackoverflow.com/questions/50450832/how-to-kill-process-having-multiple-fork-using-perl/50450976#50450976", "title": "how to kill process having multiple fork using perl", "body": "<p>In a more complicated case, you can set the perl child process to be a <em>session</em> <em>leader</em> with <code>POSIX::setsid()</code>, and then send the signal to the process group by passing a negative value to <code>kill</code>.</p>\n\n<pre><code>if(!defined( my $pid = fork())) {\n    die \"Cannot fork a child: $!\";\n} elsif ($pid == 0) {\n    POSIX::setsid();        # make this process a session leader\n    print \"Printed by child process\\n\";\n    system(\"./program_that_forks\"); exit;  #  or exec('./program_that_forks')\n\n} else {\n    ...\n    kill('KILL', -$pid);    #  -$pid means signal the whole process group\n    ...\n}\n</code></pre>\n\n<p>If the <code>program_that_forks</code> is also manipulating process groups, either by calling <code>setsid(1)</code> or by closing standard file descriptors and becoming a daemon, the convention is for the program to write its process id to a file, and for system task scripts to read this file to signal the program (run <code>ls /var/run/*.pid</code> to see some examples).</p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 2304103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0113eae290180831466e73a5ff7452fd?s=128&d=identicon&r=PG", "display_name": "androias", "link": "https://stackoverflow.com/users/2304103/androias"}, "is_accepted": false, "score": 0, "last_activity_date": 1615192111, "creation_date": 1615192111, "answer_id": 66526476, "question_id": 50450832, "link": "https://stackoverflow.com/questions/50450832/how-to-kill-process-having-multiple-fork-using-perl/66526476#66526476", "title": "how to kill process having multiple fork using perl", "body": "<p>I had a similar issue with a perl test in which I was forking into a subprocess that was running a new Java process also had three java descendent processes. So I had:</p>\n<pre><code>Perl test process (filename.t)\n  - Perl fork\n    - Java (main)\n      - Java sub proc 1\n      - Java sub proc 2\n      - Java sub proc 3\n</code></pre>\n<p>The solution was killing the list of processes in ascending order, from descendents to ancestor. Actually, Java did allow me to kill the main process and will also kill the other three sub procs, but killing the second Perl process wouldn't stop the next java proc (the main).</p>\n"}], "owner": {"reputation": 55, "user_id": 9822747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "day dreamer", "link": "https://stackoverflow.com/users/9822747/day-dreamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 50450976, "answer_count": 2, "score": 2, "last_activity_date": 1615192111, "creation_date": 1526912207, "question_id": 50450832, "link": "https://stackoverflow.com/questions/50450832/how-to-kill-process-having-multiple-fork-using-perl", "title": "how to kill process having multiple fork using perl", "body": "<p>I have a test-case where multiple fork is used to create grandchild and the parent process is in infinite loop, I am implementing a perl script to kill the process. Currently it is working for single fork() but not for multiple fork():</p>\n\n<p>TEST_CASE:\n    $cat loop.c</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include &lt;sys/types.h&gt;\n#include&lt;unistd.h&gt;\nvoid process_1()\n{\n  fork();\n  fork();\n  fork();\n  if(fork() == 0)\n  {\n  printf( \"G_Child1\\n\");\n  }else{\n  while(1){\n  printf(\"parent\\n\");\n  }\n  }\n}\nint main()\n{\n   process_1();\n    return 0;\n}\n</code></pre>\n\n<p>$ gcc loop.c -o loop.bin</p>\n\n<p>PERL-SCRIPT: Script to run the above binary file. Below script is working fine for one fork() but not working with multiple fork():</p>\n\n<p>$ cat timeout.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse POSIX \":sys_wait_h\";\nuse Time::HiRes qw(sleep);\n\nif(!defined( my $pid = fork())) {\ndie \"Cannot fork a child: $!\";\n} elsif ($pid == 0) {\n   print \"Printed by child process\\n\";\n  exec(\"./loop.bin\");\n} else {\n   print \"Printed by parent process\\n\";\n   sleep(1);\n   my $ret = waitpid(-1, WNOHANG);\n\n   if ($ret == 0){\n     kill ('KILL',$pid);\n         sleep(1);\n         }\n   }\n</code></pre>\n\n<p>OUTPUT:\n     $perl timeout.pl</p>\n\n<pre><code>Printed by child process\nG_Child1\nparent\nparent\nparent\nparent\nparent\nparent\nparent\nparent\n.....\n.....\n.....\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526904631, "post_id": 50448209, "comment_id": 87910428, "body": "Turns out the answer on that other question is way better than what we&#39;ve got here. Should have looked first. I&#39;ll leave my answer up anyway as it adds value."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1526963156, "post_id": 50448592, "comment_id": 87932703, "body": "Re &quot;<i>cpanm is a faster</i>&quot;, What part is faster, the part where it downloads the dist, or the part where it executes Makefile.PL/Build.PL&lt;/sarcasm&gt; /// Re &quot;<i>[cpanm] is the de-facto standard today</i>&quot;, No, perl still comes with <code>cpan</code> and not <code>cpanm</code>. /// Re &quot;<i>once you&#39;re used to <code>cpanm</code> it starts feeling a bit tedious.</i>&quot;, No, <code>cpan Module</code> doesn&#39;t get tedious. At least not more than <code>cpanm Module</code>. /// Why can&#39;t proponents of <code>cpanm</code> ever give any non-fictional reasons for using it?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1585261655, "post_id": 50448592, "comment_id": 107706545, "body": "cpanm has a feature to skip testing, which means you can skip a lot of the work it would do by default. I think that&#39;s where the speed argument comes from. It also does tricks to avoid the big download of the PAUSE data files, as I recall."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1526904531, "creation_date": 1526904531, "answer_id": 50448592, "question_id": 50448209, "link": "https://stackoverflow.com/questions/50448209/what-is-the-difference-between-cpan-cpanm-and-cpm/50448592#50448592", "title": "What is the difference between cpan/cpanm and cpm?", "body": "<p>These are all different programs that essentially do the same thing. They install modules from the <a href=\"https://www.cpan.org/\" rel=\"noreferrer\">CPAN</a> (<a href=\"https://en.wikipedia.org/wiki/CPAN\" rel=\"noreferrer\">Comprehensive Perl Archive Network</a>) to your computer.</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/distribution/CPAN/scripts/cpan\" rel=\"noreferrer\"><code>cpan</code></a> is the utility that Perl brings to install modules. It can be used as a shell or a simple command line utility. It uses the module CPAN under the hood.</li>\n<li><a href=\"https://metacpan.org/pod/distribution/CPANPLUS/bin/cpanp\" rel=\"noreferrer\"><code>cpanp</code></a> is the utility to use the CPANPLUS module. It also has an integrated shell, and in general is a bit faster than the classic <code>cpan</code> tool.</li>\n<li><a href=\"https://metacpan.org/pod/distribution/App-cpanminus/lib/App/cpanminus/fatscript.pm\" rel=\"noreferrer\"><code>cpanm</code></a> is a faster, less fully-featured CPAN client that comes with the <a href=\"https://metacpan.org/release/App-cpanminus\" rel=\"noreferrer\">App::cpanminus</a> distribution. It does not have a shell, and is the de-facto standard today, as most people recommend using it. It's fast, easy to use and usually you don't have to care about what is happening behind the scenes. There's also the handy <code>cpanm-reporter</code> in <a href=\"https://metacpan.org/pod/App::cpanminus::reporter\" rel=\"noreferrer\">a separate distribution</a>, that you can use to send test reports of your installations to <a href=\"http://www.cpantesters.org/\" rel=\"noreferrer\">cpantesters.org</a>, which will then show up on <a href=\"https://metacpan.org/\" rel=\"noreferrer\">metaCPAN</a> and in other places, so other people know whether a certain dist will work with their OS and Perl version.</li>\n<li><a href=\"https://metacpan.org/pod/distribution/App-cpm/script/cpm\" rel=\"noreferrer\"><code>cpm</code></a> is yet another client to install modules from CPAN. It's relatively new and claims to be very fast. It uses <a href=\"https://metacpan.org/pod/Menlo\" rel=\"noreferrer\">Menlo</a> under the hood, which is the new backend the author of <code>cpanm</code> is working on to replace the internals of that one. It does not have a shell.</li>\n</ul>\n\n<p>If all you want to do is install modules, it really doesn't matter what you use. <code>cpan</code> will always be available, but once you're used to <code>cpanm</code> it starts feeling a bit tedious.</p>\n\n<p>I suggest you use whatever you feel comfortable with.</p>\n"}], "owner": {"reputation": 181, "user_id": 9682035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wi7up.png?s=128&g=1", "display_name": "69 420 1970", "link": "https://stackoverflow.com/users/9682035/69-420-1970"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "closed_date": 1526904605, "accepted_answer_id": 50448592, "answer_count": 1, "score": 0, "last_activity_date": 1526904531, "creation_date": 1526903247, "question_id": 50448209, "link": "https://stackoverflow.com/questions/50448209/what-is-the-difference-between-cpan-cpanm-and-cpm", "closed_reason": "Duplicate", "title": "What is the difference between cpan/cpanm and cpm?", "body": "<p>What is the difference between the cpan/cpanm and cpm commands?\nI'm perl-begginer. What I can use: cpan/cpanm or cpm? Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 55, "user_id": 9822747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "day dreamer", "link": "https://stackoverflow.com/users/9822747/day-dreamer"}, "edited": false, "score": 0, "creation_date": 1526910468, "post_id": 50447905, "comment_id": 87913691, "body": "&lt;pre&gt; &lt;code&gt;#include&lt;stdio.h&gt; #include &lt;sys types.h&gt; #include&lt;unistd.h&gt; void process_1() {   fork();   fork();   fork();   if(fork() == 0)   {   printf( &quot;child\\n&quot;);   }else{   while(1){   printf(&quot;parent\\n&quot;);   }   } } int main() {    process_1();     return 0; }"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9822747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "day dreamer", "link": "https://stackoverflow.com/users/9822747/day-dreamer"}, "edited": false, "score": 0, "creation_date": 1526910055, "post_id": 50449536, "comment_id": 87913426, "body": "It is working with &quot;exec&quot; instead of &quot;system&quot;. But in same test-case were we have multiple fork(), above perl script will not work. Can you suggest me, more improvement needed in above script."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526920671, "post_id": 50449536, "comment_id": 87919360, "body": "Note: the question in the comment above was answered in a <a href=\"https://stackoverflow.com/q/50450832/4653379\">follow up post</a>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1526912716, "last_edit_date": 1526912716, "creation_date": 1526907773, "answer_id": 50449536, "question_id": 50447905, "link": "https://stackoverflow.com/questions/50447905/killing-an-child-process-run-through-system-function-in-infinte-loop-is-not-wo/50449536#50449536", "title": "Killing an child process run through system() function in infinte loop is not working in perl", "body": "<p><code>$pid</code> is the process id of the child process that was created by the <code>fork</code> call. It is a perl process. When you call <code>system($command)</code>, that creates a new process, running the command <code>$command</code>, and you don't know what the process id of that command is. Calling <code>kill('KILL',$pid)</code> sends a signal to the background perl process, but not necessarily to any of its children, so you can't be sure that the <code>system</code> call will also receive the signal.</p>\n\n<p>One solution is to use <code>exec</code> instead of <code>system</code>.</p>\n\n<pre><code>...\n} elsif ($pid == 0) {\n   print \"Printed by child process\\n\";\n   exec(\"./loop.bin\");\n} else {\n...\n</code></pre>\n\n<p><code>exec</code> is like <code>system</code>, but instead of launching the command in a new process, it replaces the existing process with a process running the command, preserving the process id. So after calling <code>exec</code>, the child perl process will be gone, and <code>$pid</code> will refer to the process running the command <code>./loop.bin</code>. Now you can signal <code>$pid</code> and it will be sent to the desired process.</p>\n"}], "owner": {"reputation": 55, "user_id": 9822747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "day dreamer", "link": "https://stackoverflow.com/users/9822747/day-dreamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 50449536, "answer_count": 1, "score": 3, "last_activity_date": 1526912716, "creation_date": 1526902214, "question_id": 50447905, "link": "https://stackoverflow.com/questions/50447905/killing-an-child-process-run-through-system-function-in-infinte-loop-is-not-wo", "title": "Killing an child process run through system() function in infinte loop is not working in perl", "body": "<p>I have tried with simple program of infinite loop, I ran it using PERL script and tried to KILL it after sleep of 10, but my program is not killing the child-process and runs in infinite loop.</p>\n\n<p>//C CODE: \n   $cat loop.c</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main(){\n\nwhile(1){\n printf(\"Infinite loop\\n\");\n        }\n\nreturn 0;\n}\n\n\n$ gcc loop.c -o loop.bin\n</code></pre>\n\n<p>// PERL CODE \n    $cat timeout.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse POSIX \":sys_wait_h\";\nuse Time::HiRes qw(sleep);\n\nif(!defined( my $pid = fork())) {\ndie \"Cannot fork a child: $!\";\n} elsif ($pid == 0) {\n   print \"Printed by child process\\n\";\n   system(\"./loop.bin\");\n} else {\n   print \"Printed by parent process\\n\";\n   sleep(10);\n   my $ret = waitpid($pid, WNOHANG);\n\n   if ($ret == 0){\n     kill ('KILL',$pid);\n         sleep(1);\n         }\n   }\n</code></pre>\n\n<p>//OUTPUT: After execution the perl script is not killing the child process (./TC_1.bin)\n    $ perl timeout.pl</p>\n\n<pre><code>Printed by child process\nInfinite loop\nInfinite loop\nInfinite loop\nInfinite loop\nInfinite loop\nInfinite loop\nInfinite loop\nInfinite loop\n...\n...\n..\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526899291, "post_id": 50446150, "comment_id": 87907538, "body": "What happens when you do that and call a route?"}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526904486, "post_id": 50446150, "comment_id": 87910344, "body": "@simbabque - see edits"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1526906508, "post_id": 50446150, "comment_id": 87911429, "body": "It would be super helpful if you could post relevant parts of the debug log. Mojolicious::Lite does allow <code>-&gt;to()</code> to be called (<code>get ...</code> is the same as <code>app-&gt;routes-&gt;get(...)</code>), but you have to make sure that Mojolicious finds and uses the correct controller. Note that callbacks are not a controller or controller action, so <code>-&gt;to(&#39;#y&#39;)</code> won&#39;t find anything here \u2013 consider using a separate controller class."}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1527068645, "post_id": 50446150, "comment_id": 87982999, "body": "@amon - I added log output and separated code into a controller package"}], "answers": [{"comments": [{"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1527148644, "post_id": 50485383, "comment_id": 88020132, "body": "that&#39;s extremely cool. Thanks. Where is &quot;get &#39;/x&#39; =&gt; { controller =&gt; &#39;Route&#39;, action =&gt; &#39;bar&#39; };&quot; documented?Just curious."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1527149358, "post_id": 50485383, "comment_id": 88020530, "body": "TBH it&#39;s not clearly documented in one place, and I just read the source code instead. The <code>get</code> function in Mojo::Lite mentions that it is equivalent to <code>get</code> on the Router, which uses the <code>any</code> method, which mentions that we can use hashrefs for default stash values (in which controller and action are special stash keys)."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 1, "last_activity_date": 1527069717, "creation_date": 1527069717, "answer_id": 50485383, "question_id": 50446150, "link": "https://stackoverflow.com/questions/50446150/can-to-be-used-in-mojoliciouslite/50485383#50485383", "title": "Can &#39;-&gt;to()&#39; be used in Mojolicious::Lite?", "body": "<p>This does work, if put your controller in a class and tell Mojolicious where to find that controller. By default, a Lite app does not search for controllers in any route namespaces.</p>\n\n<pre><code>use Mojolicious::Lite;\n\npush app-&gt;routes-&gt;namespaces-&gt;@*, 'Route::Controller';\n\n(get '/x')-&gt;to('Route#bar');\n\napp-&gt;start;\n\n\npackage Route::Controller::Route;\n\nuse Mojo::Base 'Mojolicious::Controller';\n\nsub bar {\n  my $self = shift;\n  $self-&gt;render(json =&gt; { hello =&gt; 'simone' });\n}\n\n1;\n</code></pre>\n\n<p>When called like <code>perl test.pl get /x</code>, I see this debug output:</p>\n\n<pre><code>[Wed May 23 12:01:14 2018] [debug] GET \"/x\"\n[Wed May 23 12:01:14 2018] [debug] Routing to controller \"Route::Controller::Route\" and action \"bar\"\n[Wed May 23 12:01:14 2018] [debug] 200 OK (0.000467s, 2141.328/s)\n{\"hello\":\"simone\"}\n</code></pre>\n\n<p>If you are fine with not using the convenient <code>Route#bar</code> syntax, you can also specify the route as:</p>\n\n<pre><code>get '/x' =&gt; { controller =&gt; 'Route', action =&gt; 'bar' };\n</code></pre>\n\n<p>(giving a hashref to <code>get</code> is the same as calling <code>-&gt;to()</code> on the new route with those arguments.)</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 50485383, "answer_count": 1, "score": 4, "last_activity_date": 1527069717, "creation_date": 1526896247, "last_edit_date": 1527068605, "question_id": 50446150, "link": "https://stackoverflow.com/questions/50446150/can-to-be-used-in-mojoliciouslite", "title": "Can &#39;-&gt;to()&#39; be used in Mojolicious::Lite?", "body": "<p>I'd like to use a moderate amount of forwarding to other controllers in a Mojolicious::Lite app.</p>\n\n<p>I thought I could use <code>-&gt;to</code> (<a href=\"https://mojolicious.org/perldoc/Mojolicious/Routes/Route#to\" rel=\"nofollow noreferrer\">docs</a>) do something like</p>\n\n<pre><code>(get '/x')-&gt;to('Route#bar');\n\nget '/y' =&gt; sub {\n    my $c = shift;\n    $c-&gt;render(text =&gt; 'here')\n} =&gt; 'y';\n\napp-&gt;start;\n</code></pre>\n\n<p>with code in the controller package looking like this:</p>\n\n<pre><code>package Route::Controller::Route;\n\nuse Mojo::Base 'Mojolicious::Controller';\n\nsub bar {\n  my $self = shift;\n  $self-&gt;render(json =&gt; { hello =&gt; 'simone' });\n}\n\n1;\n</code></pre>\n\n<p>but it doesn't seem to work as <code>http://localhost:3000/x</code> returms a 404 \"Page not found... yet!\" and <code>http://localhost:3000/y</code> works ok</p>\n\n<p>The log dump looks like this:</p>\n\n<pre><code>[Wed May 23 11:39:47 2018] [debug] Template \"route/bar.html.ep\" not found\n[Wed May 23 11:39:47 2018] [debug] Template \"not_found.development.html.ep\" not found\n[Wed May 23 11:39:47 2018] [debug] Template \"not_found.html.ep\" not found\n[Wed May 23 11:39:47 2018] [debug] Rendering cached template \"mojo/debug.html.ep\"\n[Wed May 23 11:39:47 2018] [debug] Rendering cached template \"mojo/menubar.html.ep\"\n</code></pre>\n\n<p>Am I getting something wrong?</p>\n"}, {"tags": ["perl", "ubuntu", "upgrade", "perl-module", "cpan"], "comments": [{"owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "edited": false, "score": 2, "creation_date": 1526891708, "post_id": 50442448, "comment_id": 87903413, "body": "run the following to see where perl is picking up the bad libraries from:  $ strace  perl -e&#39;use threads&#39; 2&gt;&amp;1 | grep threads.so  If this shows that its trying to load it from a path containing site_perl/, then that&#39;s where you may need to manually delete things.  As to why it works for root by not a normal user, you many have an environment variable like PERL5LIB set. Try running both  which perl perl -le&#39;print for @INC&#39;  as both root and non-root, and see whether there are any differences."}, {"owner": {"reputation": 165, "user_id": 5366288, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4b39Aey9brc/AAAAAAAAAAI/AAAAAAAACMw/t2klKGEJoKE/photo.jpg?sz=128", "display_name": "Pradyumna Sagar", "link": "https://stackoverflow.com/users/5366288/pradyumna-sagar"}, "reply_to_user": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "edited": false, "score": 0, "creation_date": 1527078700, "post_id": 50442448, "comment_id": 87989760, "body": "Thanks, @DaveMitchell Perl libraries used by root and the normal user was different, I manually deleted all the libraries which user was taking from. when I create a new user on the pc everything works fine. removing library path worked fine for me. thanks again."}], "answers": [{"tags": [], "owner": {"reputation": 531, "user_id": 2112715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed5156e71b78a41f0273aea0aa1769e?s=128&d=identicon&r=PG", "display_name": "Prabah", "link": "https://stackoverflow.com/users/2112715/prabah"}, "is_accepted": false, "score": 2, "last_activity_date": 1595243709, "creation_date": 1595243709, "answer_id": 62994179, "question_id": 50442448, "link": "https://stackoverflow.com/questions/50442448/cwd-c-loadable-library-and-perl-binaries-are-mismatched-got-handshake-key-0xdb/62994179#62994179", "title": "Cwd.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xde00080)", "body": "<p>I solved this issue by following <a href=\"https://github.com/Perl/perl5/issues/15861\" rel=\"nofollow noreferrer\">https://github.com/Perl/perl5/issues/15861</a></p>\n<p>I ran the command <code>perl -MCPAN -e 'recompile()'</code></p>\n<p>It recompile all the module, at last it worked.</p>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 4867291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c8957b5ac0a235ce3f8d1a4c30629cc?s=128&d=identicon&r=PG&f=1", "display_name": "Some", "link": "https://stackoverflow.com/users/4867291/some"}, "is_accepted": false, "score": 1, "last_activity_date": 1596193722, "creation_date": 1596193722, "answer_id": 63190737, "question_id": 50442448, "link": "https://stackoverflow.com/questions/50442448/cwd-c-loadable-library-and-perl-binaries-are-mismatched-got-handshake-key-0xdb/63190737#63190737", "title": "Cwd.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xde00080)", "body": "<p>For solve problem next links can be used:</p>\n<p><a href=\"https://dev.to/foursixnine/about-perl-and-mismatched-binaries-346l\" rel=\"nofollow noreferrer\">https://dev.to/foursixnine/about-perl-and-mismatched-binaries-346l</a>\n<a href=\"https://metacpan.org/pod/release/DBOOK/App-MigrateModules-0.002/script/perl-migrate-modules\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/release/DBOOK/App-MigrateModules-0.002/script/perl-migrate-modules</a></p>\n<p>Or in commands: (Replace  to your perl5 folder, in my case it was ~/perl5)</p>\n<pre><code> mv &lt;perl5&gt; perl5_old\n cpan\n cpan App::MigrateModules\n perl-migrate-modules --from perl5_old /usr/bin/perl\n</code></pre>\n<p>Where perl5 your perl folder, usually in path exists in ENV variable PERL5LIB.</p>\n"}], "owner": {"reputation": 165, "user_id": 5366288, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4b39Aey9brc/AAAAAAAAAAI/AAAAAAAACMw/t2klKGEJoKE/photo.jpg?sz=128", "display_name": "Pradyumna Sagar", "link": "https://stackoverflow.com/users/5366288/pradyumna-sagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4024, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1596193722, "creation_date": 1526880329, "question_id": 50442448, "link": "https://stackoverflow.com/questions/50442448/cwd-c-loadable-library-and-perl-binaries-are-mismatched-got-handshake-key-0xdb", "title": "Cwd.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xde00080)", "body": "<p>All Perl modules and 'cpan' stopped working after an upgrade of Ubuntu 16.04 LTS to 18.04 LTS. Every time I run my script it leads to the error</p>\n\n<pre><code>threads.c: loadable library and Perl binaries are mismatched (got handshake key 0xdb00080, needed 0xde00080)\n</code></pre>\n\n<p>when I try to open cpan it shows </p>\n\n<pre><code>Cwd.c: loadable library and Perl binaries are mismatched (got handshake key 0xdb00080, needed 0xde00080)\n</code></pre>\n\n<p>I had installed \"Cwd\", \"threads\" modules in ubuntu 16.04 where Perl version was 5.22.1, whereas in ubuntu 18.04 the Perl version is 5.26.1.</p>\n\n<p>I tried to remove the old version of modules but failed. I deleted content on ~/.cpan folder. </p>\n\n<p>PS:\nEverything works fine in root user.\nif I run </p>\n\n<pre><code>sudo su\ncpan\n</code></pre>\n\n<p>works perfectly. But as a normal user, I cant run any perl modules/scripts/cpan.</p>\n\n<p>How do I correct the issue?\nHow can I re-install cpan or cpan modules?</p>\n\n<p>I tried to reinstall Perl which did not help</p>\n\n<pre><code>sudo apt-get --reinstall install perl\nsudo apt-get --reinstall install libcwd-guard-perl\n</code></pre>\n\n<p>I installed cpan minus, cpan plus which gave the same error.</p>\n"}, {"tags": ["json", "perl", "discord"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1526891093, "post_id": 50440983, "comment_id": 87903140, "body": "You are effectively asking us to debug code without showing us the code. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1526961912, "last_edit_date": 1526961912, "creation_date": 1526872302, "answer_id": 50441499, "question_id": 50440983, "link": "https://stackoverflow.com/questions/50440983/perl-json-and-discord-emoji/50441499#50441499", "title": "Perl, JSON, and Discord Emoji", "body": "<p>You don't show how you parse the JSON that contains those sequences, but whatever JSON parser you are using appears to be buggy. Use some other parser such as <a href=\"http://search.cpan.org/perldoc?JSON::XS\" rel=\"nofollow noreferrer\">JSON::XS</a> instead.</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\nuse feature qw( say );\nuse utf8;\nuse open \":std\", \":encoding(UTF-8)\";\n\nuse Encode   qw( encode_utf8 );\nuse JSON::XS qw( decode_json );\n\n{\n   # If you get decoded JSON.\n   my $json_text = '{ \"foo\": \"\\ud83d\\ude0f\" }';\n   my $data = JSON::XS-&gt;new-&gt;decode($json_text);\n   say $data-&gt;{foo};\n   say $data-&gt;{foo} eq \"\\x{1F60F}\" ? \"match\" : \"no match\";\n}\n\n{\n   # If you get JSON encoded using UTF-8.\n   my $json_utf8 = encode_utf8('{ \"foo\": \"\\ud83d\\ude0f\" }');\n   my $data = decode_json($json_utf8);\n   say $data-&gt;{foo};\n   say $data-&gt;{foo} eq \"\\x{1F60F}\" ? \"match\" : \"no match\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\ud83d\ude0f\nmatch\n\ud83d\ude0f\nmatch\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 2, "last_activity_date": 1526895210, "last_edit_date": 1526895210, "creation_date": 1526894619, "answer_id": 50445649, "question_id": 50440983, "link": "https://stackoverflow.com/questions/50440983/perl-json-and-discord-emoji/50445649#50445649", "title": "Perl, JSON, and Discord Emoji", "body": "<p>U+d83d and U+de0f are the high and low surrogate pair equating to character U+1F60F. Surrogate pairs are used in the UTF-16 encodings to encode code points higher than U+FFFF. The formula to convert the surrogate pair to a code point is</p>\n\n<pre><code>&lt;code point&gt; = (&lt;high surrogate&gt; - D800) * 400 + (&lt;low surrogate&gt; - DC00) + 10000\n</code></pre>\n\n<p>All numbers are in hexadecimal.</p>\n\n<p>See <a href=\"http://www.russellcottrell.com/greek/utilities/SurrogatePairCalculator.htm#info\" rel=\"nofollow noreferrer\">The Surrogate Pair Calculator</a> for more information.</p>\n\n<p>This should really be being done by your encode/decode library.</p>\n"}], "owner": {"reputation": 21, "user_id": 9820763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c79267aaada9bb584196b27eca4841bc?s=128&d=identicon&r=PG&f=1", "display_name": "iite", "link": "https://stackoverflow.com/users/9820763/iite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 50441499, "answer_count": 2, "score": 1, "last_activity_date": 1526961912, "creation_date": 1526866955, "last_edit_date": 1526891035, "question_id": 50440983, "link": "https://stackoverflow.com/questions/50440983/perl-json-and-discord-emoji", "title": "Perl, JSON, and Discord Emoji", "body": "<p>I have a very simple <code>DiscordBOT</code> doing some administrative tasks.\nOne of the features is (or should be) our \"<code>emoji based polls</code>\". We make a post, with emojis listing the options complete with arrows pointing down to the right \"reaction\" below the comment.</p>\n\n<p>The idea was to make the bot (on command) duplicate the given reactions to the post, so that the admin can remove his/her reactions, and actually slap a  reaction to the option they'd like to vote fore.</p>\n\n<p>Everything works fine... until the error of:</p>\n\n<pre><code> {\"code\": 10014, \"message\": \"Unknown Emoji\"}\n</code></pre>\n\n<p>The perl script, by the powers of LWP, <strong>reads</strong> the reactions from the test post as \"<code>\\ud83d\\ude0f</code>\", but putting them back \"as is\" just doesn't work.</p>\n\n<p>Putting the same reaction back as \"<code>\\x{1F60F}</code>\" instead works fine! (source: <a href=\"https://codepoints.net/U+1F60F?lang=en\" rel=\"nofollow noreferrer\">https://codepoints.net/U+1F60F?lang=en</a> )</p>\n\n<p>I don't mind, except ... how do I convert all those <code>\\u-based emojis to \\x-based ones? =P</code>\nAfter some heavy googling and trial-and-error I've tried things such as \"decode_json/encode_json\" etc, but I can't seem to be able to make it work. I'm thinking I must missing something small and \"obvious\"...</p>\n\n<p>Thanks for any assist!</p>\n\n<p>Also open for other \"outside the box\" ideas if they solve the problem! =P</p>\n"}, {"tags": ["regex", "perl", "weblogic"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1526837424, "post_id": 50437527, "comment_id": 87889058, "body": "What are <code>$monster</code>, <code>$domain</code>, and <code>$appdjar</code>? See <a href=\"https://stackoverflow.com/help/mcve\">mcve</a>."}, {"owner": {"reputation": 73, "user_id": 7045149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04d28f2493f97d2b467046c1234413b?s=128&d=identicon&r=PG&f=1", "display_name": "dkoleary", "link": "https://stackoverflow.com/users/7045149/dkoleary"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1526837683, "post_id": 50437527, "comment_id": 87889127, "body": "$monster is the monster hash It&#39;s the graveyard bash!  :)  Showing my age, I guess.  It&#39;s a hash containing the parameters that need to be updated.  We can see those are set correctly by scrolling the output to the far right.  The second line shows how the first line should be updated.    Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526838226, "post_id": 50437527, "comment_id": 87889284, "body": "<i>&quot;I can&#39;t seem to &#39;re-find&#39; the source chunk as indicated by one of those commented $lines trying to replace $ochunk with nothing&quot;</i> I can&#39;t guess what this might mean, and since it appears to be a statement if the problem, I think it&#39;s quite important."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526838319, "post_id": 50437527, "comment_id": 87889305, "body": "Don&#39;t add the <code>&#47;m</code> modifier when it&#39;s unnecessary. Don&#39;t use <code>\\1</code> etc. in strings: they should be <code>$1</code> etc."}, {"owner": {"reputation": 73, "user_id": 7045149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04d28f2493f97d2b467046c1234413b?s=128&d=identicon&r=PG&f=1", "display_name": "dkoleary", "link": "https://stackoverflow.com/users/7045149/dkoleary"}, "edited": false, "score": 0, "creation_date": 1526838473, "post_id": 50437527, "comment_id": 87889345, "body": "&quot;# $lines =~ s!$ochunk!!ms;&quot;  attempts to find $ochunk in $lines and replace it with nothing.  That&#39;s what i meant.  The /m is needed as $lines is a multi-line string.  /g, on the other hand, from what I&#39;m reading, is an issue.    Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526839068, "post_id": 50437527, "comment_id": 87889549, "body": "Yes, but I don&#39;t see why you&#39;re troubled about a statement that has been commented out. In fact I really don&#39;t see what your problem is at all. Writing <code>&#47;m</code> shouldn&#39;t be a knee-jerk reaction to a multi-line string: it affects only the metacharacters <code>^</code> and <code>$</code> which you don&#39;t use, so it&#39;s unnecessary. On the other hand, <code>&#47;g</code> is essential if you want the <code>while</code> to make any sense."}, {"owner": {"reputation": 73, "user_id": 7045149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04d28f2493f97d2b467046c1234413b?s=128&d=identicon&r=PG&f=1", "display_name": "dkoleary", "link": "https://stackoverflow.com/users/7045149/dkoleary"}, "edited": false, "score": 0, "creation_date": 1526839466, "post_id": 50437527, "comment_id": 87889677, "body": "That line was only commented out for the purposes of proving the variables are set correctly.  The shortest possible problem statement is that I need to replace $ochunk with $nchunk in $lines.  Right now, those lines look like:    $lines =~ s!$ochunk!!ee; # $lines =~ s!$ochunk!$nchunk!ee;  and still not working.    Thanks again."}, {"owner": {"reputation": 73, "user_id": 7045149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04d28f2493f97d2b467046c1234413b?s=128&d=identicon&r=PG&f=1", "display_name": "dkoleary", "link": "https://stackoverflow.com/users/7045149/dkoleary"}, "edited": false, "score": 0, "creation_date": 1526839689, "post_id": 50437527, "comment_id": 87889746, "body": "FWIW, I&#39;ve also tried no modifiers &quot;$lines =~ s!$ochunk!!;&quot; w/no success."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526839804, "post_id": 50437527, "comment_id": 87889783, "body": "Your <code>&#47;ee</code> won&#39;t work unless <code>$nchunk</code> contains Perl code."}, {"owner": {"reputation": 73, "user_id": 7045149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04d28f2493f97d2b467046c1234413b?s=128&d=identicon&r=PG&f=1", "display_name": "dkoleary", "link": "https://stackoverflow.com/users/7045149/dkoleary"}, "edited": false, "score": 0, "creation_date": 1526840021, "post_id": 50437527, "comment_id": 87889851, "body": "yea, didn&#39;t figure it would.  pretty much grasping at straws at this point... thanks."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7045149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04d28f2493f97d2b467046c1234413b?s=128&d=identicon&r=PG&f=1", "display_name": "dkoleary", "link": "https://stackoverflow.com/users/7045149/dkoleary"}, "edited": false, "score": 0, "creation_date": 1526906232, "post_id": 50438620, "comment_id": 87911267, "body": "That is sweet!  I always think &#39;loop&#39; when I go through these exercises.  Wouldn&#39;t have thought of handling the work in the replacement section in a million years.  Excellent, sir!  Thank you very much.  In case you&#39;re interested, there&#39;s 8 &lt;arg&gt;&lt;/arg&gt; sections in the test file.  Other files will probably have even more.  Thanks again.  Excellent!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1526927204, "last_edit_date": 1526927204, "creation_date": 1526844355, "answer_id": 50438620, "question_id": 50437527, "link": "https://stackoverflow.com/questions/50437527/replace-lines-in-a-multi-line-string/50438620#50438620", "title": "Replace lines in a multi-line string", "body": "<p>You're going about this in a very round-about way, which is why I couldn't fathom what you were trying to do for the longest time. What you're <em>actually</em> trying to do is</p>\n\n<blockquote>\n  <p>Insert an additional string after the existing text in an <code>arguments</code> element</p>\n</blockquote>\n\n<p>And you need just a substitution. I've left it global in case there really are multiple such elements in the XML. I've not been able to test it, but I do know that it compiles</p>\n\n<pre><code>$lines =~ s{ (&lt;arguments&gt;) (.*?) (&lt;/arguments&gt;) }{\n\n    my ($otag, $text, $ctag)  = ($1, $2, $3);\n    my ($ms)   = $text =~ m{.*/(.*?)\\.out};\n\n    my $msdata = $monster-&gt;{$domain}{$ms};\n    my $node   = $msdata-&gt;{nodeName};\n    my $tier   = $msdata-&gt;{tierName};\n\n    my $newentry = \" $appdjar $ms.nodeName=-Dappdynamics.agent.nodeName=$node\";\n    $newentry   .= \" $ms.appdynamics.tierName=-Dappdynamics.tierName=$tier\";\n\n    $otag . $text . $newentry . $ctag;\n}segx\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 7045149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04d28f2493f97d2b467046c1234413b?s=128&d=identicon&r=PG&f=1", "display_name": "dkoleary", "link": "https://stackoverflow.com/users/7045149/dkoleary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 50438620, "answer_count": 1, "score": -1, "last_activity_date": 1526927204, "creation_date": 1526836923, "last_edit_date": 1526838762, "question_id": 50437527, "link": "https://stackoverflow.com/questions/50437527/replace-lines-in-a-multi-line-string", "title": "Replace lines in a multi-line string", "body": "\n\n<p>I have an Oracle WebLogic <code>config.xml</code> file read into a string. I'm looking to update a series of lines in it. I've verified that I'm reading the file, getting the lines set, and able to update the correct line with the parameters I'm looking for, but I can't seem to update the original string.</p>\n\n<p>Here's the main loop:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>while ( $lines =~ m{(&lt;arguments&gt;.*?&lt;/arguments&gt;)}mgs ) {\n\n    my $nchunk = my $ochunk = $1;\n\n    print \"#\" . '=' x 70 . \"\\n\";\n\n    my ($ms)  = $ochunk =~ m{.*/(.*?)\\.out.*};\n    my $nname = $monster-&gt;{$domain}-&gt;{$ms}-&gt;{nodeName};\n    my $tname = $monster-&gt;{$domain}-&gt;{$ms}-&gt;{tierName};\n\n    my $newentry = sprintf(\" %s %s.nodeName=-Dappdynamics.agent.nodeName=%s\",\n            $appdjar, $ms, $nname);\n    $newentry .= \" $ms.appdynamics.tierName=-Dappdynamics.tierName=$tname\";\n\n    $nchunk =~ s/(&lt;\\/arguments&gt;)/$newentry\\1/g;\n\n    print \"$ochunk\\n\";\n    print \"#\" . '-' x 70 . \"\\n\";\n    print \"$nchunk\\n\";\n\n    # $lines =~ s!$ochunk!!msg;\n    # $lines =~ s!$ochunk!$nchunk!msg;\n}\n</code></pre>\n\n<p>As written, that results in:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#======================================================================\n&lt;arguments&gt;-Xms512m -Xmx512m -Dweblogic.system.BootIdentityFile=/opt/app/oracle/user_projects/domains/AccountingServices_Domain/boot.properties -Dweblogic.Stdout=/opt/app/oracle/user_projects/logs/AccountingServices_Domain/AccountingCommon_MS1.out -XX:+HeapDumpOnOutOfMemoryError  -XX:HeapDumpPath=/opt/app/oracle/user_projects/logs/AccountingServices_Domain/dumps  -XX:+UnlockCommercialFeatures  -XX:+FlightRecorder  -Dcom.sun.management.jmxremote.port=40124  -Dcom.sun.management.jmxremote.ssl=false  -Dcom.sun.management.jmxremote.authenticate=false  -XX:+UnlockCommercialFeatures -XX:+FlightRecorder  -XX:FlightRecorderOptions=defaultrecording=true,disk=true,repository=/opt/app/oracle/user_projects/logs/AccountingServices_Domain,maxage=10m,dumponexit=true,dumponexitpath=/opt/app/oracle/user_projects/logs/AccountingServices_Domain  -XX:+UnlockDiagnosticVMOptions -XX:+DebugNonSafepoints -Dlog4j.configuration=file:/opt/app/oracle/user_projects/applications/AccountingServices_Domain/log4j.xml&lt;/arguments&gt;\n#----------------------------------------------------------------------\n&lt;arguments&gt;-Xms512m -Xmx512m -Dweblogic.system.BootIdentityFile=/opt/app/oracle/user_projects/domains/AccountingServices_Domain/boot.properties -Dweblogic.Stdout=/opt/app/oracle/user_projects/logs/AccountingServices_Domain/AccountingCommon_MS1.out -XX:+HeapDumpOnOutOfMemoryError  -XX:HeapDumpPath=/opt/app/oracle/user_projects/logs/AccountingServices_Domain/dumps  -XX:+UnlockCommercialFeatures  -XX:+FlightRecorder  -Dcom.sun.management.jmxremote.port=40124  -Dcom.sun.management.jmxremote.ssl=false  -Dcom.sun.management.jmxremote.authenticate=false  -XX:+UnlockCommercialFeatures -XX:+FlightRecorder  -XX:FlightRecorderOptions=defaultrecording=true,disk=true,repository=/opt/app/oracle/user_projects/logs/AccountingServices_Domain,maxage=10m,dumponexit=true,dumponexitpath=/opt/app/oracle/user_projects/logs/AccountingServices_Domain  -XX:+UnlockDiagnosticVMOptions -XX:+DebugNonSafepoints -Dlog4j.configuration=file:/opt/app/oracle/user_projects/applications/AccountingServices_Domain/log4j.xml -javaagent:/opt/app/appdynamics/universal-agent/monitor/java/javaagent.jar AccountingCommon_MS1.nodeName=-Dappdynamics.agent.nodeName=AccountingCommon_2123 AccountingCommon_MS1.appdynamics.tierName=-Dappdynamics.tierName=AccountingCommon&lt;/arguments&gt;\n[[snip]]\n</code></pre>\n\n<p>I can't seem to 're-find' the source chunk as indicated by one of those commented $lines trying to replace <code>$ochunk</code> with nothing.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 830, "user_id": 4629916, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff3a484375cb46d9e667ea860ad8dce4?s=128&d=identicon&r=PG&f=1", "display_name": "Harlan Nelson", "link": "https://stackoverflow.com/users/4629916/harlan-nelson"}, "edited": false, "score": 0, "creation_date": 1526777872, "post_id": 50430770, "comment_id": 87876041, "body": "Can you add a short script we can execute that will produce your error?"}, {"owner": {"reputation": 61, "user_id": 8760513, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c0cf14b64c164fcc23780c0b525cb0e0?s=128&d=identicon&r=PG&f=1", "display_name": "kantor9991", "link": "https://stackoverflow.com/users/8760513/kantor9991"}, "reply_to_user": {"reputation": 830, "user_id": 4629916, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff3a484375cb46d9e667ea860ad8dce4?s=128&d=identicon&r=PG&f=1", "display_name": "Harlan Nelson", "link": "https://stackoverflow.com/users/4629916/harlan-nelson"}, "edited": false, "score": 0, "creation_date": 1526778011, "post_id": 50430770, "comment_id": 87876064, "body": "The script isn&#39;t close to being done yet unfortunately im troubleshooting parts at a time. Ive looked it up and I think it has to do with the placement of the slashes / in the code line. I just am unsure where to put an additional / or \\ to make it work."}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1526778146, "post_id": 50430770, "comment_id": 87876085, "body": "Please edit your question and tell us what you are trying to do."}, {"owner": {"reputation": 825, "user_id": 9373781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/94clS.jpg?s=128&g=1", "display_name": "chinloyal", "link": "https://stackoverflow.com/users/9373781/chinloyal"}, "edited": false, "score": 0, "creation_date": 1526778183, "post_id": 50430770, "comment_id": 87876094, "body": "Are you trying to match an if statement?"}, {"owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "edited": false, "score": 1, "creation_date": 1526781417, "post_id": 50430770, "comment_id": 87876496, "body": "I&#39;m pretty sure that you have syntax error ABOVE your <code>if</code> statement so please show several lines of you code"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1526786622, "post_id": 50430770, "comment_id": 87877125, "body": "<code>if (&#47;^([.+\\])\\s*$&#47;) {</code> closing sq. bracket contains escape `slash \\` however opening sq. bracket doesn&#39;t why?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1526790744, "post_id": 50430770, "comment_id": 87877660, "body": "What are you trying to match?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "edited": false, "score": 0, "creation_date": 1526808808, "post_id": 50430770, "comment_id": 87881099, "body": "@gangabass: There is a syntax error in that regex pattern; why should there be another one?"}, {"owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "edited": false, "score": 0, "creation_date": 1526809058, "post_id": 50430770, "comment_id": 87881152, "body": "You&#39;re right! May be I missed it..."}], "answers": [{"tags": [], "owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "is_accepted": false, "score": 1, "last_activity_date": 1526786890, "creation_date": 1526786890, "answer_id": 50431394, "question_id": 50430770, "link": "https://stackoverflow.com/questions/50430770/unmatched-in-regex/50431394#50431394", "title": "Unmatched [ in regex;", "body": "<p>You escaped your closing bracket by writing it like <code>\\]</code>. If you want a back-slash in your character class, use two.</p>\n\n<p>Like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\n\nwhile(&lt;&gt;) {\n        chomp;\n        if (/^([.+\\\\])\\s*$/) {\n                print \"matched\\n\";\n        }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526804671, "post_id": 50431400, "comment_id": 87880155, "body": "Other possible meanings for the OP&#39;s code are <code>[.+\\\\]</code> or perhaps <code>\\[.+?\\]</code>.   <i>&quot;This matches a string with only periods . and/or pluses <code>+</code>&quot;</i> should be &quot;... only a period or a plus&quot;.   And I think you should explain the <code>&#47;x</code> modifier rather than just putting it out there."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1526878308, "last_edit_date": 1526878308, "creation_date": 1526786967, "answer_id": 50431400, "question_id": 50430770, "link": "https://stackoverflow.com/questions/50430770/unmatched-in-regex/50431400#50431400", "title": "Unmatched [ in regex;", "body": "<p>The regex has only the opening bracket of a <a href=\"https://perldoc.perl.org/perlretut.html#Using-character-classes\" rel=\"nofollow noreferrer\">character class</a> <code>[...]</code>, since the other bracket is escaped, <code>\\]</code>, thus specifying the literal <code>]</code> character. This is a syntax error and it is precisely what the error message says.</p>\n\n<p>If you want to match any characters inside the literal brackets escape that first one</p>\n\n<pre><code>/^( \\[ .+ \\] )\\s*$/x\n</code></pre>\n\n<p>This matches a string with all characters inside a pair of literal <code>[]</code>, possibly followed by spaces. Note that this may include nested <code>[]</code> &mdash; since <code>+</code> is <a href=\"https://perldoc.perl.org/perlre.html#Regular-Expressions\" rel=\"nofollow noreferrer\">\"greedy\"</a> the <code>.+\\]</code> matches as much as it can, so up to the very last <code>]</code> in the string (and the bracket). If this is not desired use <code>.+?\\]</code> which matches up to the first <code>]</code> (and the bracket).  Thanks to <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> for a comment.</p>\n\n<p>I use the <code>/x</code> modifier since with it spaces are ignored and so may be used for readability.</p>\n\n<p>Or you wanted the character class, in which case the closing bracket shouldn't be escaped</p>\n\n<pre><code>/^( [.+] )\\s*$/x\n</code></pre>\n\n<p>This matches a string with only a period <code>.</code> or a plus <code>+</code>, and possible trailing spaces. (The <code>.</code> and <code>+</code> have no special meaning inside a character class.)</p>\n\n<hr>\n\n<p>Another guess is that you wanted to match either a <code>.</code> or a <code>+</code> or a <code>\\</code>, in which case the backslash itself need be escaped</p>\n\n<pre><code>/^( [.+\\\\] )\\s*$/x\n</code></pre>\n\n<p>as addressed in the <a href=\"https://stackoverflow.com/a/50431394/4653379\">answer by Zan Lynx</a>.</p>\n\n<p>The <code>\\</code>  is one of the few characters which <a href=\"https://perldoc.perl.org/perlrecharclass.html#Bracketed-Character-Classes\" rel=\"nofollow noreferrer\">have a special meaning</a>\n inside a character class.</p>\n\n<p>Please try to specify all relevant information in a question, intent in the first place.</p>\n"}], "owner": {"reputation": 61, "user_id": 8760513, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c0cf14b64c164fcc23780c0b525cb0e0?s=128&d=identicon&r=PG&f=1", "display_name": "kantor9991", "link": "https://stackoverflow.com/users/8760513/kantor9991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1526878308, "creation_date": 1526777506, "last_edit_date": 1526786384, "question_id": 50430770, "link": "https://stackoverflow.com/questions/50430770/unmatched-in-regex", "title": "Unmatched [ in regex;", "body": "<p>When i run my code this one specific line causes issues. I'm pretty sure it is an easy fix but i'm very new to perl and unsure how to remedy it.</p>\n\n<pre><code>if (/^([.+\\])\\s*$/) {\n</code></pre>\n\n<p>the line in question. It's telling my the <code>[</code> is unmatched, hopefully fixing this is pretty easy. Thank you in advance for any solutions.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1526753528, "post_id": 50428082, "comment_id": 87871080, "body": "You need to show a sample of your input data together with the corresponding expected output."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 3, "creation_date": 1526754034, "post_id": 50428082, "comment_id": 87871231, "body": "Try <code>s&#47;\\[[^\\[\\]]*\\]&#47;&#47;g</code>"}], "answers": [{"tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": true, "score": 1, "last_activity_date": 1526757898, "creation_date": 1526757898, "answer_id": 50428718, "question_id": 50428082, "link": "https://stackoverflow.com/questions/50428082/how-to-delete-fragment-of-line-which-starts-with-ends-with-and-all-the/50428718#50428718", "title": "How to delete fragment of line, which starts with &quot;[&quot; ends with &quot;]&quot; and all the characters (except [ and ] ) which are in the brackets? Perl", "body": "<h2>Part 1: Why your program prints only 1 line</h2>\n\n<p>Note row <code>$/ = \"\\n&gt;\";</code> in your code.\nIt sets the content of <strong>record separator</strong> (what sequence of characters treat\nas the end of input line).</p>\n\n<p>As you can see, it contains a newline character, <strong>followed by a <code>&gt;</code></strong>.</p>\n\n<p>And now look at your input. Nowhere after any newline there can be found any <code>&gt;</code>.\nThe result is that your code reads <strong>the whole input file</strong> as the first\ninput row.</p>\n\n<p>The possible solutions are:</p>\n\n<ul>\n<li>Add a <code>&gt;</code> at the beginning of each line but the first.</li>\n<li>Delete <code>$/ = \"\\n&gt;\";</code> instruction, leaving the default record saparator\nas <code>\"\\n\"</code>.</li>\n</ul>\n\n<h2>Part 2: Regex</h2>\n\n<p>Remember that e.g. <code>[</code> and <code>]</code> in regex have special meaning.\nIf you want use them \"literally\", you must escape them with backslashes.</p>\n\n<p>Another remark is that after \"opening\" <code>[</code> you should match a sequence\nof chars different from <code>]</code> only.</p>\n\n<p>So your regex to eliminate <code>[...]</code> should be:</p>\n\n<pre><code>s/\\[[^\\]]*\\]//g\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9615221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5da19ecb8c5cb16296a8a44d8452535?s=128&d=identicon&r=PG&f=1", "display_name": "me_gone", "link": "https://stackoverflow.com/users/9615221/me-gone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 50428718, "answer_count": 1, "score": 0, "last_activity_date": 1526757898, "creation_date": 1526752782, "last_edit_date": 1526754596, "question_id": 50428082, "link": "https://stackoverflow.com/questions/50428082/how-to-delete-fragment-of-line-which-starts-with-ends-with-and-all-the", "title": "How to delete fragment of line, which starts with &quot;[&quot; ends with &quot;]&quot; and all the characters (except [ and ] ) which are in the brackets? Perl", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $del1 = \"[\";\nmy $del2 = \"]\";\nsub rings($){\n    my ($line) = $_;\n    my @lineArr = split(\" \", $line);\n    my $noSquareBrackets = $lineArr[0];\n    $noSquareBrackets =~ s/[^$del1[^$del1$del2]*$del2$]//g;\n    print \"check: \", $noSquareBrackets, \"\\n\";   \n}\n$/ = \"\\n&gt;\";\nwhile(&lt;&gt;){\n    /([^&gt;]*)/;\n    my $seq = $1;\n    $seq =~s/\\s//g;\n    $seq = rings($seq);\n}\n</code></pre>\n\n<p>The print before delete regex is exactly the same as before. And does any one notice, why  only one (first) file line is printed, when I have .inp format file with many lines?</p>\n\n<p>The input file has such lines:</p>\n\n<pre><code>line 1) c1(ccc(cc1)N)S(=O)(=O)[O-].c1(ccc(cc1)C)[NH3+]  1519987\nline 2) [Ce]123456([O]7[Cu]89[N](=Cc%10c7c([O]5CC)ccc%10)CC[N]8=Cc5cccc(c5[O]19)[O]2CC)(ON(=O)=[O]6)(ON(=[O]4)=O)[O]=N(=O)O3    1100946\n</code></pre>\n\n<p>I want to delete all data what is in square brackets with the brackets</p>\n"}, {"tags": ["perl", "oop", "inheritance"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 1709768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09d9088e464e4f2b766be5e7443666a?s=128&d=identicon&r=PG", "display_name": "vvch", "link": "https://stackoverflow.com/users/1709768/vvch"}, "edited": false, "score": 0, "creation_date": 1526814342, "post_id": 50428076, "comment_id": 87882446, "body": "Thank you. Is it possible to implement this task in its original form using Metaclasses techniques in advanced object packages like Moose and its smaller clones?"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 101, "user_id": 1709768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09d9088e464e4f2b766be5e7443666a?s=128&d=identicon&r=PG", "display_name": "vvch", "link": "https://stackoverflow.com/users/1709768/vvch"}, "edited": false, "score": 0, "creation_date": 1526814627, "post_id": 50428076, "comment_id": 87882525, "body": "Probably, but I&#39;m not sufficiently familiar with the Moose meta-object protocol (MOP). Moo does not have a MOP. I&#39;m hoping someone else will contribute a Moose-based answer."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 3, "last_activity_date": 1526752706, "creation_date": 1526752706, "answer_id": 50428076, "question_id": 50427677, "link": "https://stackoverflow.com/questions/50427677/perl-class-attribute-inheritance/50428076#50428076", "title": "Perl class attribute inheritance", "body": "<p>The default Perl object model has no concept of class attributes. And there's no kind of hook like \u201cwhen a new subclass is created, run this code\u201d.</p>\n\n<p>Instead, the base class could maintain a hash of counters, using the class name as keys:</p>\n\n<pre><code>package A;\nmy %counters;\n\nsub new {\n  my ($class) = @_;\n  my $counter = $counters{$class} //= Counter-&gt;new;\n  $counter++;\n  return bless {} =&gt; $class;\n}\n\nsub get_counter {\n  my ($self_or_class) = @_;\n  my $class = (ref $self_or_class) || $self_or_class;\n  $counters{$class};\n}\n\npackage B;\nuse parent -norequire, 'A';\n</code></pre>\n\n<p>This will create a new counter when an instance of a subclass is created. Note that the first argument to a method is either the class name or the object instance. We need to use that in <code>new()</code> as the hash key. In <code>get_counter()</code> I've written this in a way that the method can be called on both a class and an object to the same effect.</p>\n\n<p>A similar technique is known as inside-out objects, where store object fields in a hash held by the class, so that the object itself doesn't contain any data.</p>\n\n<p>(Why <code>parent</code> instead of <code>base</code>? The <code>parent</code> module only does inheritance, whereas <code>base</code> also integrates with the <code>fields</code> pragma which you should not use.)</p>\n"}], "owner": {"reputation": 101, "user_id": 1709768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09d9088e464e4f2b766be5e7443666a?s=128&d=identicon&r=PG", "display_name": "vvch", "link": "https://stackoverflow.com/users/1709768/vvch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 50428076, "answer_count": 1, "score": 1, "last_activity_date": 1526752706, "creation_date": 1526749790, "question_id": 50427677, "link": "https://stackoverflow.com/questions/50427677/perl-class-attribute-inheritance", "title": "Perl class attribute inheritance", "body": "<p>I have class attribute, e. g., counter of created objects in some base class,</p>\n\n<pre><code>package A;\nour $counter = Counter-&gt;new; # not just a counter in fact, so initialization code should be inherited by descendants as well\n\nsub new {\n    $counter++;\n    bless {}\n}\nsub get_counter {\n    $counter\n}\n\npackage B;\nuse base 'A';\n\npackage main;\nB-&gt;get_counter();\n</code></pre>\n\n<p>I want package B to have his own copy of this class attribute (e. g., counting objects of B class only), and all inherited methods from package A should deal with this copy. What is the correct way to implement this in plain perl and in Moo/Moose? Seems like MooX::ClassAttribute can not be inherited.\nOne ugly solution found is to repeat attribute initialization code in each descendant and use symbolic dereference like ${\"${class}::counter\"} in ancestor's methods to access this attribute with actual package name. But seems like there should be more elegant way.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 1709768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09d9088e464e4f2b766be5e7443666a?s=128&d=identicon&r=PG", "display_name": "vvch", "link": "https://stackoverflow.com/users/1709768/vvch"}, "edited": false, "score": 0, "creation_date": 1526744523, "post_id": 50426860, "comment_id": 87868411, "body": "Are symbolic references the ONLY way to do it? Isn&#39;t there some nicer way like with methods?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 101, "user_id": 1709768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09d9088e464e4f2b766be5e7443666a?s=128&d=identicon&r=PG", "display_name": "vvch", "link": "https://stackoverflow.com/users/1709768/vvch"}, "edited": false, "score": 0, "creation_date": 1526744939, "post_id": 50426860, "comment_id": 87868529, "body": "@vvch one other way would be to use string <code>eval</code>. Of course you <b>don&#39;t want to do that</b>. <code>my $val = eval &quot;${package}::bar&quot;</code>"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1526746671, "post_id": 50426860, "comment_id": 87869059, "body": "@simbabque You don&#39;t want to do string <code>eval</code> on a tainted variable. Otherwise, it doesn&#39;t matter. <a href=\"http://perldoc.perl.org/perlsec.html#Taint-mode\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlsec.html#Taint-mode</a>"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1526743881, "creation_date": 1526743881, "answer_id": 50426860, "question_id": 50426765, "link": "https://stackoverflow.com/questions/50426765/access-perl-variable-with-its-package-name-in-scalar/50426860#50426860", "title": "Access Perl variable with it&#39;s package name in scalar", "body": "<p>You need to use the following syntax.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\npackage Foo;\nour $bar = 123;\n\npackage main;\n{\n    my $package = 'Foo';\n    no strict 'refs';\n    say ${\"${package}::bar\"};\n}\n</code></pre>\n\n<p>The outer <code>${ ... }</code> is for the reference. The syntax says take the value in the symbol table with the given name as a scalar. The inner <code>${package}</code> is just the lexical variable <code>$package</code>, with the curly braces <code>{}</code> as a name delimiter.</p>\n\n<p>It's important to turn off strict references for it to work. Remember to do that in the smallest scope possible.</p>\n"}], "owner": {"reputation": 101, "user_id": 1709768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09d9088e464e4f2b766be5e7443666a?s=128&d=identicon&r=PG", "display_name": "vvch", "link": "https://stackoverflow.com/users/1709768/vvch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 50426860, "answer_count": 1, "score": 0, "last_activity_date": 1526743881, "creation_date": 1526743024, "question_id": 50426765, "link": "https://stackoverflow.com/questions/50426765/access-perl-variable-with-its-package-name-in-scalar", "title": "Access Perl variable with it&#39;s package name in scalar", "body": "<p>It is possible in perl to call method using package name in variable like this:</p>\n\n<pre><code>my $cls = 'PackageName';\n$cls-&gt;method()\n</code></pre>\n\n<p>which calls <code>PackageName-&gt;method()</code></p>\n\n<p>What is the correct syntax to use package variable, e. g. <code>$PackageName::SOME_VAR</code> in the same manner, having package name in <code>$cls</code> variable?</p>\n"}, {"tags": ["perl", "find", "out-of-memory"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 4, "creation_date": 1526715897, "post_id": 50422776, "comment_id": 87860784, "body": "Are you sure that perl is the one getting out of memory? I would rather suspect that this is sort since (contrary to perl) it needs to keep all the data in memory in order to sort it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1526716947, "post_id": 50422776, "comment_id": 87861038, "body": "@SteffenUllrich  <code>sort</code> <i>doesn&#39;t</i> (have to) take all data memory ..? I recently sorted files of over 1 billion lines (100 Gb) and never used much RAM. I used the external <code>sort</code> for that reason"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1526717089, "post_id": 50422776, "comment_id": 87861075, "body": "How much memory do you have? How many files? What system?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526717411, "post_id": 50422776, "comment_id": 87861161, "body": "@zdim: maybe you are right. But File::Find should not consume much memory either. And the OP does not seem to know which part of the command is actually dying, i.e. perl, sort or head."}, {"owner": {"reputation": 13, "user_id": 9814892, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BqKrbDB56I8/AAAAAAAAAAI/AAAAAAAADvw/RZ7FMEHiFe8/photo.jpg?sz=128", "display_name": "Anoop Kumar KR", "link": "https://stackoverflow.com/users/9814892/anoop-kumar-kr"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526722693, "post_id": 50422776, "comment_id": 87862457, "body": "@zdim  There are 3393854 files 32GB memory Its an AIX system"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526724249, "post_id": 50422776, "comment_id": 87862921, "body": "Thank you.  I&#39;m baffled with the memory error, as you only use filenames.  Even if they were 100 bytes on average on 3 million that&#39;d be 300 Mb. But as for speed, it&#39;s got to take time.  If it&#39;s all ascii note that <code>LC_ALL=C sort ...</code> speeds things up a lot.  I don&#39;t know about <code>find</code>&#39;s performance but I don&#39;t see why Perl&#39;s find would be faster."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526724553, "post_id": 50422776, "comment_id": 87863037, "body": "Since it&#39;s piped into <code>sort</code> it may be trying to pass the whole list, and then it may be hitting some limit. But I don&#39;t know that you&#39;d get &#39;Out of memory&#39; error for <i>that</i>. Perhaps the best way is to parcel the job, along the lines of <a href=\"https://stackoverflow.com/a/50423119/4653379\">\u0421\u0443\u0445\u043e\u043927&#39;s answer</a>, all in a script. Or put together a Unix command and wait :)"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1526724646, "post_id": 50422776, "comment_id": 87863067, "body": "@AnoopKumarKR: please find out first which of the three processes (perl, sort, head) actually dies because of out of memory."}, {"owner": {"reputation": 13, "user_id": 9814892, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BqKrbDB56I8/AAAAAAAAAAI/AAAAAAAADvw/RZ7FMEHiFe8/photo.jpg?sz=128", "display_name": "Anoop Kumar KR", "link": "https://stackoverflow.com/users/9814892/anoop-kumar-kr"}, "edited": false, "score": 2, "creation_date": 1526732840, "post_id": 50422776, "comment_id": 87865222, "body": "the find command dies because of Out of memory... :("}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1526744205, "post_id": 50422776, "comment_id": 87868323, "body": "@Anoop: Does it still fail if you don&#39;t output to a pipe?"}, {"owner": {"reputation": 13, "user_id": 9814892, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BqKrbDB56I8/AAAAAAAAAAI/AAAAAAAADvw/RZ7FMEHiFe8/photo.jpg?sz=128", "display_name": "Anoop Kumar KR", "link": "https://stackoverflow.com/users/9814892/anoop-kumar-kr"}, "edited": false, "score": 0, "creation_date": 1526749111, "post_id": 50422776, "comment_id": 87869808, "body": "yes, I have ran only till this part of the code to see whether its listing the files atleast, but receiving the Out of memory message..!!    perl -MFile::Find -wE &#39;     find(sub { say -s $_, &quot; $File::Find::name&quot; }, &quot;/opt/app&quot;) &#39;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1526773309, "post_id": 50422776, "comment_id": 87875423, "body": "It is strange that perl runs out of memory, within a total of a few hundred Mb of filenames.  Can you confirm that it actually uses all that RAM, by watching memory usage while the (Perl only) program is running?  One thought is to check with <code>ulimit -a</code> whether there are unreasonable limits set.  (You can change them with <code>ulimit -d</code>.)  Btw, what is your Perl version?"}, {"owner": {"reputation": 13, "user_id": 9814892, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BqKrbDB56I8/AAAAAAAAAAI/AAAAAAAADvw/RZ7FMEHiFe8/photo.jpg?sz=128", "display_name": "Anoop Kumar KR", "link": "https://stackoverflow.com/users/9814892/anoop-kumar-kr"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526819455, "post_id": 50422776, "comment_id": 87883762, "body": "@zdim  $ ulimit -a time(seconds)        unlimited file(blocks)         unlimited data(kbytes)         unlimited stack(kbytes)        4194304 memory(kbytes)       32768 coredump(blocks)     2097151 nofiles(descriptors) unlimited threads(per process) unlimited processes(per user)  unlimited"}, {"owner": {"reputation": 13, "user_id": 9814892, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BqKrbDB56I8/AAAAAAAAAAI/AAAAAAAADvw/RZ7FMEHiFe8/photo.jpg?sz=128", "display_name": "Anoop Kumar KR", "link": "https://stackoverflow.com/users/9814892/anoop-kumar-kr"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526819511, "post_id": 50422776, "comment_id": 87883779, "body": "@zdim perl v5.10.1"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526855839, "post_id": 50422776, "comment_id": 87894162, "body": "Thank you -- that&#39;s 4Gb for memory, which is plenty.  Can you establish how much memory the Perl part is taking during execution? Like, watch memory consumption on the system while it&#39;s running.  The other thing to do would be to run on subdirectories, and process more and more at each run so to see when it breaks."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526722465, "post_id": 50423119, "comment_id": 87862392, "body": "Needs <code>-s ...</code>. Then, I think that it needs to sort on <code>-&gt;[1]</code>, otherwise when <code>chdir</code> is done to the next directory the previously stored <code>$_</code> won&#39;t be good filenames for the <code>sort</code>."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526730177, "post_id": 50423119, "comment_id": 87864526, "body": "Tnx, updated; it should sort descending based od file size."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526746835, "post_id": 50423119, "comment_id": 87869111, "body": "@Borodin Shouldn&#39;t that be <code>$#s = 9;</code> ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1526748064, "post_id": 50423119, "comment_id": 87869475, "body": "Try replacing <code>splice(@s, 10)</code> with <code>$#s = 9</code>."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1526748272, "post_id": 50423119, "comment_id": 87869555, "body": "check answer history; @ikegami already addressed the issue with <code>$#array</code> lvalue performance and warnings for newer perls."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 4, "last_activity_date": 1526730055, "last_edit_date": 1526730055, "creation_date": 1526716856, "answer_id": 50423119, "question_id": 50422776, "link": "https://stackoverflow.com/questions/50422776/perl-find-returning-out-of-memory/50423119#50423119", "title": "Perl find - Returning out of memory", "body": "<p>Trading speed for memory (untested),</p>\n\n<pre><code>perl -MFile::Find -wE'\n    find(sub{\n        @s = sort { $b-&gt;[0] &lt;=&gt; $a-&gt;[0] } [ -s $_, $File::Find::name ], @s;\n        splice(@s, 10);\n    }, \"/opt/app\");\n    say @$_ for @s;\n'\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9814892, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BqKrbDB56I8/AAAAAAAAAAI/AAAAAAAADvw/RZ7FMEHiFe8/photo.jpg?sz=128", "display_name": "Anoop Kumar KR", "link": "https://stackoverflow.com/users/9814892/anoop-kumar-kr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1526730055, "creation_date": 1526714024, "last_edit_date": 1526717217, "question_id": 50422776, "link": "https://stackoverflow.com/questions/50422776/perl-find-returning-out-of-memory", "title": "Perl find - Returning out of memory", "body": "<p>I'm trying to use a perl command line to display the top 10 files from a directory of 690GB. Since it has a very long list of files, my command is ending with Out of Memory error                        </p>\n\n<pre><code>perl -MFile::Find -wE '\n    find(sub { say -s $_, \" $File::Find::name\" }, \"/opt/app\")\n' \\ | sort -nr | head -n10\n</code></pre>\n\n<p>How can i optimize this command to get the desired output. I have used the find command to list the files, however its taking atleast 15mins to process. </p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526694491, "post_id": 50420737, "comment_id": 87857370, "body": "The function <code>return</code>s from inside the loop, in the first iteration, so it never goes through columns other than the first. On the side, I&#39;d advise to get into a habit of always unpacking arguments to a function, unless you have some ultimate need for speed.  (Even then, if it comes down to that one should probably look at the design again.) Since the input from the caller is aliased in <code>@_</code> there&#39;s a good chance for nasty bugs when it&#39;s used directly. Another good habit is to pass lists (arrays and hashes) by reference (unless they are merely short collections of independent variables)."}, {"owner": {"reputation": 11, "user_id": 9813746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27935337acb0c992376805be95412218?s=128&d=identicon&r=PG&f=1", "display_name": "tgerv", "link": "https://stackoverflow.com/users/9813746/tgerv"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1527802961, "post_id": 50420737, "comment_id": 88276663, "body": "Thanks for you help @zdim, I&#39;ll keep those pointers in mind going forward."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9813746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27935337acb0c992376805be95412218?s=128&d=identicon&r=PG&f=1", "display_name": "tgerv", "link": "https://stackoverflow.com/users/9813746/tgerv"}, "edited": false, "score": 0, "creation_date": 1527802932, "post_id": 50420802, "comment_id": 88276649, "body": "Your code has been helping me out a bit, and I&#39;ve been working with references for the first time. The only problem I&#39;m having is dereferencing @rows from that first code example. I run into an error that tells me I can&#39;t use a string as an array reference. Should I be doing something differently to get my data back from @rows? Again, this is my first time working with references, so I might be missing something important."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 9813746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27935337acb0c992376805be95412218?s=128&d=identicon&r=PG&f=1", "display_name": "tgerv", "link": "https://stackoverflow.com/users/9813746/tgerv"}, "edited": false, "score": 0, "creation_date": 1527822787, "post_id": 50420802, "comment_id": 88281114, "body": "huh? It&#39;s impossible to dereference <code>@rows</code>. It&#39;s an array, not a reference. (It&#39;s an array of references, and the references are references to arrays with as many elements as <code>@column_numbers</code>)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1526691384, "last_edit_date": 1526691384, "creation_date": 1526691064, "answer_id": 50420802, "question_id": 50420737, "link": "https://stackoverflow.com/questions/50420737/unable-to-read-multiple-columns-from-a-csv-using-textcsv-xs-in-perl/50420802#50420802", "title": "Unable to read multiple columns from a .csv using Text::CSV_XS in Perl", "body": "<p>Keep in mind that each element of <code>@data</code> (hereby renamed <code>@rows</code> or <code>$rows</code>) should be a reference to an array of the selected fields.</p>\n\n<pre><code>my @rows;\nwhile ( my $row = $csv-&gt;getline($fh) ) {\n   push @rows, [ @{ $row }[@column_numbers] ];\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $rows = $csv-&gt;getline_all($fh);\n@_ = @{ $_ }[@column_numbers] for @$rows;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my @rows = map { [ @{ $_ }[@column_numbers] ] } @{ $csv-&gt;getline_all($fh) };\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9813746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27935337acb0c992376805be95412218?s=128&d=identicon&r=PG&f=1", "display_name": "tgerv", "link": "https://stackoverflow.com/users/9813746/tgerv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1529528884, "creation_date": 1526690241, "last_edit_date": 1529528884, "question_id": 50420737, "link": "https://stackoverflow.com/questions/50420737/unable-to-read-multiple-columns-from-a-csv-using-textcsv-xs-in-perl", "title": "Unable to read multiple columns from a .csv using Text::CSV_XS in Perl", "body": "<p>I'm trying to write a script that will separate out columns of data from a (not terribly large) .csv into individual lists for use later using the <a href=\"https://metacpan.org/pod/Text::CSV_XS#Parsing-CSV-strings:\" rel=\"nofollow noreferrer\">Text::CSV_XS</a> library. I have no problem getting individual columns, but I seem to be unable to iterate through a list of columns using a foreach loop. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Text::CSV_XS;\nuse 5.18.2;\n\nmy $csv = Text::CSV_XS-&gt;new ({ binary =&gt; 1, auto_diag =&gt; 1 });\nopen my $fh, \"&lt;\", \"/users/whoever/test_csv.csv\" or die \"$!\";\n\nsub column_grabber {\n        foreach my $column (@_) {\n                my @data = map { $_-&gt;[$column] } @{$csv-&gt;getline_all ($fh)};\n                return @data;\n        }\n}\n\nmy @column_numbers = (1,2,3,4);\n\nmy @collected_data = column_grabber(@column_numbers);\n\nclose $fh or die \"$!\";\n</code></pre>\n\n<p>Calling this subroutine for a list of columns gives me only the first column of the list as anticipated, but none of the following columns from the list. A bit of troubleshooting shows that @_ is seeing the entire list I pass. </p>\n\n<p>By omitting the return statement, the foreach loop carries through all of the columns passed in @ids, but I get no output from @data. </p>\n\n<p>Is there some behavior in the loop I'm not accounting for? Perhaps it has something to do with the map() statement? </p>\n\n<h1>Edit / Solution</h1>\n\n<p>So after playing around with this for a while and rethinking things a bit, I've solved my problem. </p>\n\n<ul>\n<li>First, opening and closing the filehandle from inside the loop seems to have\ncleared up a lot of headaches.</li>\n<li>Second, it's a lot easier to just parse <code>@column_numbers</code> outside the\nsubroutine and pass scalars to <code>&amp;column_grabber</code> instead. This saves\nme from getting lost in a sea of references when I don't really need\nto worry about it for this small script.</li>\n</ul>\n\n<p>So now my functioning script looks like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Text::CSV_XS;\nuse 5.18.2;\n\nsub column_grabber {\n    my $csv = Text::CSV_XS-&gt;new ({ binary =&gt; 1, auto_diag =&gt; 1 });\n    open my $fh, \"&lt;\", \"/users/whoever/test_csv.csv\" or die \"$!\";\n\n    my $column = shift @_;\n    my @data = map { $_-&gt;[$column] } @{$csv-&gt;getline_all ($fh)};\n    return @data;\n\n    close $fh or die \"$!\";\n}\n\nmy @column_numbers = (1,2,3,4);\nforeach my $column(@column_numbers){\n    my @collected_data = &amp;column_grabber($column);\n...\n}\n</code></pre>\n\n<p>Thanks for the input and help from commenters. </p>\n"}, {"tags": ["perl", "ssh"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 2, "creation_date": 1526700412, "post_id": 50420036, "comment_id": 87858088, "body": "You haven&#39;t specified which characters you consider weird.  If it&#39;s the bits like <code>^[[?1034h</code> those are ANSI escape sequences to do things like change the text color, alter the the cursor position, and place text in the terminal window titlebar.  Those sequences are typically set via environment variables like <code>PS1</code> in both the system and user profile scripts (<code>&#47;etc&#47;profile</code>, <code>~&#47;.bashrc</code> etc). You could execute the command <code>PS1=&#39;$ &#39;</code> to reduce the volume of these characters, but other variables and shell functions might need to be reset too."}, {"owner": {"reputation": 25, "user_id": 6905373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Y7rx.jpg?s=128&g=1", "display_name": "mkonstanty", "link": "https://stackoverflow.com/users/6905373/mkonstanty"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1527518277, "post_id": 50420036, "comment_id": 88147293, "body": "Thank you for your comment, I have edited the question which characters I&#39;m thinking about, but anyway you were right about the root cause."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1527627186, "post_id": 50420036, "comment_id": 88194898, "body": "One thing you might want to try is setting <code>TERM=&quot;dumb&quot;</code> in your environment (<code>$ENV{TERM} = &#39;dumb&#39;</code> in a Perl script). I&#39;m guessing it&#39;s currently set to something like <code>xterm</code> or <code>vt100</code>.  This variable is usually propagated across an SSH connection and the <code>dumb</code> setting tells the remote end that your terminal doesn&#39;t understand escape sequences, so typically they will not be sent."}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 6905373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Y7rx.jpg?s=128&g=1", "display_name": "mkonstanty", "link": "https://stackoverflow.com/users/6905373/mkonstanty"}, "is_accepted": false, "score": -1, "last_activity_date": 1556669948, "creation_date": 1556669948, "answer_id": 55930210, "question_id": 50420036, "link": "https://stackoverflow.com/questions/50420036/perl-netappliancesession-ssh-connection-gives-weird-characters-on-the-outpu/55930210#55930210", "title": "Perl: Net::Appliance::Session ssh connection gives weird characters on the output", "body": "<p>You were right about those strange characters, those are ASCI chars that are setting additional terminal features which are very annoying for perl script to parse.\nThe way I got rid of them was to use the crontab the same way scripts are being run on production.</p>\n"}], "owner": {"reputation": 25, "user_id": 6905373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Y7rx.jpg?s=128&g=1", "display_name": "mkonstanty", "link": "https://stackoverflow.com/users/6905373/mkonstanty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556669948, "creation_date": 1526682733, "last_edit_date": 1527518171, "question_id": 50420036, "link": "https://stackoverflow.com/questions/50420036/perl-netappliancesession-ssh-connection-gives-weird-characters-on-the-outpu", "title": "Perl: Net::Appliance::Session ssh connection gives weird characters on the output", "body": "<p>I'm using perl 5.8.8 with Net::Appliance::Session 1.36 and vim as editor.\nOn dev environment when I connect to the linux based network box and send commands with catching the output I get weird characters here and there plus doubled prompt:</p>\n\n<pre><code>Cisco Mobility Service Engine\n\nroot@xxx.xxx.xxx.xxx's password:\nLast login: Thu May 17 14:19:01 from xxx.xxx.xxx.xxx^M\n^[]0;root@HOSTNAME:~^G^[[?1034h[root@HOSTNAME ~]# #no-paging-command^M\n^[]0;root@HOSTNAME:~^G[root@HOSTNAME ~]#  $TIMESTAMP$=1526592421 ^Gecho no-paging-command^M\nno-paging-command^M\n^[]0;root@HOSTNAME:~^G[root@HOSTNAME ~]# ^G^M\n^[]0;root@HOSTNAME:~^G[root@HOSTNAME ~]#  $TIMESTAMP$=1526592421 ^Ggetserverinfo^M\n</code></pre>\n\n<p>the strange characters I wrote about are:</p>\n\n<pre><code>^[]0;\n</code></pre>\n\n<p>This issue looks better on test and production environments:</p>\n\n<pre><code>Cisco Mobility Service Engine\n\nroot@xxx.xxx.xxx.xxx's password:\nLast login: Tue May 15 10:59:10 from xxx.xxx.xxx.xxx^M\n[root@HOSTNAME ~]# #no-paging-command^M\n[root@HOSTNAME ~]#  $TIMESTAMP$=1526517216 ^Gecho no-paging-command^M\nno-paging-command^M\n[root@HOSTNAME ~]# ^G^M\n[root@HOSTNAME ~]#  $TIMESTAMP$=1526517216 ^Ggetserverinfo^M\n</code></pre>\n\n<p>What could be a root cause of different output in this case?</p>\n\n<p>Thank you in advice!</p>\n"}, {"tags": ["perl", "websocket", "webclient"], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 7, "last_activity_date": 1526700989, "creation_date": 1526700989, "answer_id": 50421514, "question_id": 50419153, "link": "https://stackoverflow.com/questions/50419153/how-server-knows-to-close-the-connection-of-websocket-when-website-tab-is-closed/50421514#50421514", "title": "How server knows to close the connection of websocket when website tab is closed", "body": "<p>If the browser closes one end of a socket (either explicitly via close, or implicitly because the process exits) the server at the other end of the socket connection will be notified that the socket is now closed. That's just part of how TCP works.  Even if the message got lost and the server thought the socket was still open, when it tried to send data it would eventually work out that the other end was not acknowledging the packets and would drop the connection.</p>\n\n<p>In the case of a browser tab, it's reasonable to assume that the browser will cleanup/close any resources associated with a tab that is being closed.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1526735240, "post_id": 50423843, "comment_id": 87865896, "body": "This is a verbatim copy of the relevant section of <a href=\"http://www.tcpipguide.com/free/t_TCPConnectionTermination-2.htm\" rel=\"nofollow noreferrer\"><b><i>The TCP/IP Guide</i></b></a> Extracts from third-party resources can sometimes form the core of a good answer, but it is disingenuous to present it as your own work without accrediting any source or marking it as a citation."}], "tags": [], "owner": {"reputation": 93, "user_id": 6596293, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1125770750829185/picture?type=large", "display_name": "Tonys Anson\u012b Misirgis", "link": "https://stackoverflow.com/users/6596293/tonys-anson%c4%ab-misirgis"}, "is_accepted": true, "score": 1, "last_activity_date": 1526751915, "last_edit_date": 1526751915, "creation_date": 1526722782, "answer_id": 50423843, "question_id": 50419153, "link": "https://stackoverflow.com/questions/50419153/how-server-knows-to-close-the-connection-of-websocket-when-website-tab-is-closed/50423843#50423843", "title": "How server knows to close the connection of websocket when website tab is closed", "body": "<p><a href=\"http://www.tcpipguide.com/free/t_TCPConnectionTermination-2.htm\" rel=\"nofollow noreferrer\"><strong>How TCP close connection.</strong></a></p>\n\n<blockquote>\n  <p>Each side terminates its end of the connection by \n  sending a special message with the FIN (finish) bit set. This message, \n  sometimes called a FIN, serves as a connection termination request to \n  the other device, while also possibly carrying data like a regular \n   segment. The device receiving the FIN responds with an acknowledgment to the FIN to indicate that it was received. The connection as a whole is not considered terminated until both sides have finished the shut down procedure by sending a FIN and receiving an ACK. </p>\n</blockquote>\n"}], "owner": {"reputation": 93, "user_id": 6596293, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1125770750829185/picture?type=large", "display_name": "Tonys Anson\u012b Misirgis", "link": "https://stackoverflow.com/users/6596293/tonys-anson%c4%ab-misirgis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1596, "favorite_count": 2, "accepted_answer_id": 50423843, "answer_count": 2, "score": 2, "last_activity_date": 1526751915, "creation_date": 1526676980, "question_id": 50419153, "link": "https://stackoverflow.com/questions/50419153/how-server-knows-to-close-the-connection-of-websocket-when-website-tab-is-closed", "title": "How server knows to close the connection of websocket when website tab is closed", "body": "<p>I created a websocket (with perl Net::WebSocket::Server but I think it does not matter). My question is that when I close the website tab(not necessarily the whole browser) the server will disconnect the specific socket (my disconnect event is called). How the server manage to know that? I can not find a straight detailed description.</p>\n"}, {"tags": ["regex", "perl", "regex-lookarounds"], "answers": [{"comments": [{"owner": {"reputation": 648, "user_id": 1893082, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-l1bIhVhFa7g/AAAAAAAAAAI/AAAAAAAAAWE/oPd2eheD2Yw/photo.jpg?sz=128", "display_name": "MikeSchem", "link": "https://stackoverflow.com/users/1893082/mikeschem"}, "edited": false, "score": 0, "creation_date": 1526676903, "post_id": 50418873, "comment_id": 87853711, "body": "can I have it do the replace only if there isn&#39;t some string between foo and bat?"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 648, "user_id": 1893082, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-l1bIhVhFa7g/AAAAAAAAAAI/AAAAAAAAAWE/oPd2eheD2Yw/photo.jpg?sz=128", "display_name": "MikeSchem", "link": "https://stackoverflow.com/users/1893082/mikeschem"}, "edited": false, "score": 0, "creation_date": 1526677099, "post_id": 50418873, "comment_id": 87853776, "body": "Would you mind giving an example?"}, {"owner": {"reputation": 648, "user_id": 1893082, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-l1bIhVhFa7g/AAAAAAAAAAI/AAAAAAAAAWE/oPd2eheD2Yw/photo.jpg?sz=128", "display_name": "MikeSchem", "link": "https://stackoverflow.com/users/1893082/mikeschem"}, "edited": false, "score": 0, "creation_date": 1526678674, "post_id": 50418873, "comment_id": 87854318, "body": "say I have <code>foo bar bat</code> and I only want to replace <code>bat</code> with <code>cap</code> if there is no <code>bar</code> in between them."}, {"owner": {"reputation": 648, "user_id": 1893082, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-l1bIhVhFa7g/AAAAAAAAAAI/AAAAAAAAAWE/oPd2eheD2Yw/photo.jpg?sz=128", "display_name": "MikeSchem", "link": "https://stackoverflow.com/users/1893082/mikeschem"}, "edited": false, "score": 0, "creation_date": 1526678698, "post_id": 50418873, "comment_id": 87854330, "body": "so in that example, it would do nothing, but for <code>for boo bat</code> it would."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 648, "user_id": 1893082, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-l1bIhVhFa7g/AAAAAAAAAAI/AAAAAAAAAWE/oPd2eheD2Yw/photo.jpg?sz=128", "display_name": "MikeSchem", "link": "https://stackoverflow.com/users/1893082/mikeschem"}, "edited": false, "score": 1, "creation_date": 1526678777, "post_id": 50418873, "comment_id": 87854363, "body": "You mean like this <a href=\"https://regex101.com/r/yiW7mW/1\" rel=\"nofollow noreferrer\">regex101.com/r/yiW7mW/1</a> ?"}, {"owner": {"reputation": 648, "user_id": 1893082, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-l1bIhVhFa7g/AAAAAAAAAAI/AAAAAAAAAWE/oPd2eheD2Yw/photo.jpg?sz=128", "display_name": "MikeSchem", "link": "https://stackoverflow.com/users/1893082/mikeschem"}, "edited": false, "score": 0, "creation_date": 1526678977, "post_id": 50418873, "comment_id": 87854421, "body": "you sir are a regex genius"}], "tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": true, "score": 1, "last_activity_date": 1526675546, "creation_date": 1526675546, "answer_id": 50418873, "question_id": 50418827, "link": "https://stackoverflow.com/questions/50418827/how-to-do-a-perl-variable-length-positive-lookbehind-or-something-comparable/50418873#50418873", "title": "How to do a perl variable length positive lookbehind or something comparable", "body": "<p>Use <code>\\K</code> token (match resetter) for variable-length look-behinds in Perl:</p>\n\n<pre><code>foo.*\\Kbat\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/OgMD7s/1\" rel=\"nofollow noreferrer\">RegEx live demo</a></p>\n\n<p>Perl:</p>\n\n<pre><code>perl -0777 -pe 's/foo.*\\Kbat/cap/g' file\n</code></pre>\n"}], "owner": {"reputation": 648, "user_id": 1893082, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-l1bIhVhFa7g/AAAAAAAAAAI/AAAAAAAAAWE/oPd2eheD2Yw/photo.jpg?sz=128", "display_name": "MikeSchem", "link": "https://stackoverflow.com/users/1893082/mikeschem"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "closed_date": 1526675642, "accepted_answer_id": 50418873, "answer_count": 1, "score": -1, "last_activity_date": 1526675546, "creation_date": 1526675324, "question_id": 50418827, "link": "https://stackoverflow.com/questions/50418827/how-to-do-a-perl-variable-length-positive-lookbehind-or-something-comparable", "closed_reason": "Duplicate", "title": "How to do a perl variable length positive lookbehind or something comparable", "body": "<p>I'm sure there's a better way to do this (and I'll take an answer with a completely different approach), but I need a way to programmatically modify certain text preceded by some other qualifying strings somewhere before it.  For example a file may look like this.</p>\n\n<pre><code>foo bar bat car\nfoo shmat lat dog\nblat cat mat fat\nfoo bat cat\n</code></pre>\n\n<p>I want to replace <code>bat</code> with <code>cap</code> whenever foo is somewhere before it on the same line.</p>\n\n<p>So I thought of this.</p>\n\n<p><code>perl -0777 -pe 's/(?&lt;=foo.*)bat/cap/g' file</code></p>\n\n<p>However, I get the error </p>\n\n<p><code>Variable length lookbehind not implemented in regex m/(?&lt;=foo.*)bat/ at -e line 1.</code></p>\n\n<p>So I'm wondering how can I do a variable length lookbehind or is there a better approach where I can get this in a one-liner?</p>\n"}, {"tags": ["git", "perl", "redhat", "rhel"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526665497, "post_id": 50416160, "comment_id": 87849020, "body": "<code>systemtap-sdt-devel</code> <i>is</i> a package. It provides introspective facilities for Linux systems. <a href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/systemtap_beginners_guide/using-systemtap#using-setup\" rel=\"nofollow noreferrer\">This should help</a>"}, {"owner": {"reputation": 119, "user_id": 1030448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3804215f47c102743c4043c58b453fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/1030448/lawrence"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526678327, "post_id": 50416160, "comment_id": 87854216, "body": "Can&#39;t install either one as its not in a package  systemtap systemtap-runtime"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 1030448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3804215f47c102743c4043c58b453fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/1030448/lawrence"}, "edited": false, "score": 0, "creation_date": 1526669785, "post_id": 50416765, "comment_id": 87850955, "body": "Perl is not installed ...  $&gt; yum list <i>perl-Ter</i>  perl516-perl-Term-UI.noarch  rh-perl520-perl-Term-ANSIColor.noarch rh-perl524-perl-Term-ANSIColor.noarch  rh-perl524-perl-Term-Cap.noarch  rh-perl526-perl-Term-ANSIColor.noarch rh-perl526-perl-Term-Cap.noarch rh-perl526-perl-Term-Table.noarch"}, {"owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "reply_to_user": {"reputation": 119, "user_id": 1030448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3804215f47c102743c4043c58b453fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/1030448/lawrence"}, "edited": false, "score": 2, "creation_date": 1526672706, "post_id": 50416765, "comment_id": 87852080, "body": "@Janette, if I understand you, you mean that Term::ReadKey is not installed. Your posted error message already tells us that. That is just a separate Perl add-on module, not Perl. You seem to be trying to install Perl, which even if it worked, wouldn&#39;t install the module that you are missing. What does <i>yum search readkey</i> show you? My CentOS shows <i>perl-TermReadKey</i>, which is what I think you need to get installed. The git package seems to not contain that as a dependency."}, {"owner": {"reputation": 119, "user_id": 1030448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3804215f47c102743c4043c58b453fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/1030448/lawrence"}, "edited": false, "score": 0, "creation_date": 1526678379, "post_id": 50416765, "comment_id": 87854228, "body": "I&#39;m rebuilding the server again... and will try again...   ============================= N/S matched: readkey ============================= perl-TermReadKey.x86_64 : A perl module for simple terminal control"}], "tags": [], "owner": {"reputation": 373, "user_id": 8845620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0082695b3d26ff97841bb1e65862a0a?s=128&d=identicon&r=PG&f=1", "display_name": "UncleCarl", "link": "https://stackoverflow.com/users/8845620/unclecarl"}, "is_accepted": false, "score": 1, "last_activity_date": 1526665581, "creation_date": 1526665581, "answer_id": 50416765, "question_id": 50416160, "link": "https://stackoverflow.com/questions/50416160/cannot-install-red-hat-git/50416765#50416765", "title": "Cannot install Red Hat git", "body": "<p>It appears that Term::ReadKey is not a core Perl module, so I wouldn't expect upgrading Perl would be necessary. You should already have a working Perl version on your system.</p>\n\n<p>Try searching for a perl-TermReadKey, or similar, package and install it with yum.</p>\n\n<p>If you continue to have a problem, providing more details about your system might help someone address your specific problem.</p>\n"}, {"tags": [], "owner": {"reputation": 26934, "user_id": 8316315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44d833a8a46fea39d7bfca1540ea9c07?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Weimer", "link": "https://stackoverflow.com/users/8316315/florian-weimer"}, "is_accepted": false, "score": 1, "last_activity_date": 1526721073, "creation_date": 1526721073, "answer_id": 50423647, "question_id": 50416160, "link": "https://stackoverflow.com/questions/50416160/cannot-install-red-hat-git/50423647#50423647", "title": "Cannot install Red Hat git", "body": "<p><a href=\"https://access.redhat.com/documentation/en-us/red_hat_software_collections/3/html/3.0_release_notes/chap-installation#sect-Installation-Subscribe-Optional\" rel=\"nofollow noreferrer\">Some SCL packages require the Optional channels</a>:</p>\n\n<blockquote>\n  <p>Some of the Red Hat Software Collections 3.0 packages require the Optional channel to be enabled in order to complete the full installation of these packages. For detailed instructions on how to subscribe your system to this channel, see the relevant Knowledgebase articles at <a href=\"https://access.redhat.com/solutions/392003\" rel=\"nofollow noreferrer\">https://access.redhat.com/solutions/392003</a> for Red Hat Subscription Management [\u2026]</p>\n</blockquote>\n\n<p>The listed set of SCL packages and their Optional channel requirements apparently are slightly out of date.</p>\n\n<p>(There is a package search feature on <a href=\"https://access.redhat.com/\" rel=\"nofollow noreferrer\">access.redhat.com</a> which should help to address such issues.)</p>\n"}], "owner": {"reputation": 119, "user_id": 1030448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3804215f47c102743c4043c58b453fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/1030448/lawrence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1526721073, "creation_date": 1526663040, "last_edit_date": 1526664832, "question_id": 50416160, "link": "https://stackoverflow.com/questions/50416160/cannot-install-red-hat-git", "title": "Cannot install Red Hat git", "body": "<p>I have a strange situation that I cannot install git on my new Red Hat Enterprise Linux 7.5 64-bit platform</p>\n\n<pre><code>$&gt; yum install rh-git29\n</code></pre>\n\n<p>I get this:</p>\n\n<blockquote>\n  <p>Loaded plugins: product-id, search-disabled-repos, subscription-manager<br>\n  Resolving Dependencies<br>\n  ...Error: Package: rh-git29-git-2.9.3-3.el7.x86_64 (rhel-server-rhscl-7-eus-rpms)<br>\n             Requires: perl(Term::ReadKey)<br>\n  Error: Package: rh-git29-perl-Git-2.9.3-3.el7.noarch (rhel-server-rhscl-7-eus-rpms)  </p>\n</blockquote>\n\n<p>So I tried to install perl and got this now:</p>\n\n<pre><code>$&gt; yum install rh-perl5261!\n</code></pre>\n\n<blockquote>\n  <p>Error: Package: 4:rh-perl526-perl-devel-5.26.1-404.el7.x86_64 (rhel-server-rhscl-7-eus-rpms)<br>\n             Requires: systemtap-sdt-devel    </p>\n</blockquote>\n\n<p>What package is <code>systemtap-sdt-devel</code> in?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1526652062, "post_id": 50408984, "comment_id": 87841613, "body": "You should alter the line marked <code># I can&#39;t change this</code> to <code>my $self = shift;</code> and <code>my ($text) = @_;</code> That is very common practice, and leaves the explicit parameters to the subroutine in <code>@_</code> but removes the object or class receiving the message which should be <i>read-only</i>."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1526639234, "last_edit_date": 1526639234, "creation_date": 1526638602, "answer_id": 50409050, "question_id": 50408984, "link": "https://stackoverflow.com/questions/50408984/update-value-in-hash-of-hashes-in-perl/50409050#50409050", "title": "Update value in hash of hashes in perl", "body": "<p>Well, your <em>error</em> is caused because you've got too many <code>{</code> in your <code>Data::Dumper</code> line. </p>\n\n<p><code>{}</code> is also an anonymous hash constructor, so you can:</p>\n\n<pre><code>my $hashref = { 'key' =&gt; 'value' };\n</code></pre>\n\n<p>That's sort of what you're doing before passing it to <code>Data::Dumper</code> only you're only supplying one value - which is why you get the \"odd number of elements\" warning. (And a hash of <code>{ 'white' }</code> isn't what you're trying to achieve anyway) </p>\n\n<p>Try: </p>\n\n<pre><code>print Data::Dumper::Dumper  $params{color};\n</code></pre>\n\n<p>Or just:</p>\n\n<pre><code>print Data::Dumper::Dumper \\%params;\n</code></pre>\n\n<p>But also - you're probably doing this the wrong way - <code>%params</code> is a copy of the tree from <code>$self</code>, so updating it doesn't change the original.</p>\n\n<pre><code>my %params = %{$self-&gt;{params}};\n</code></pre>\n\n<p>creates a copy. </p>\n\n<p>You probably want:</p>\n\n<pre><code>$self -&gt; {params} -&gt; {color} = \"white\"; \nprint Dumper $self; \n</code></pre>\n\n<p>It's probably worth noting - <code>$self</code> is typically used to reference an <em>object</em>, and it may get confusing if you use it for a \"normal\" hash. </p>\n"}], "owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 50409050, "answer_count": 1, "score": 0, "last_activity_date": 1526639234, "creation_date": 1526638396, "question_id": 50408984, "link": "https://stackoverflow.com/questions/50408984/update-value-in-hash-of-hashes-in-perl", "title": "Update value in hash of hashes in perl", "body": "<p>I'm a <strong>very</strong> beginner in Perl. I have an hash <code>$self</code> which contains other hashes, in particular it contains an hash with the key <code>params</code>. I want to update the value correspondent to the key <code>color</code> of <code>params</code>, from <code>black</code> to <code>white</code>. \nIn other words, how <code>$self</code> is:</p>\n\n<pre><code>{\n    'params' =&gt; {\n        'color' =&gt; 'black',\n        #other keys/values here...\n     },\n    #other hashes here...\n};\n</code></pre>\n\n<p>What I want:</p>\n\n<pre><code>{\n    'params' =&gt; {\n        'color' =&gt; 'white',\n        #other keys/values here...\n     },\n    #other hashes here...\n};\n</code></pre>\n\n<p>What I tried:</p>\n\n<pre><code>sub updatePrice {\n    my ($self, $text) = @_; # I can't change this\n    my %params = %{$self-&gt;{params}};\n    $params{color} = 'white'; \n    print Data::Dumper::Dumper{$params{color}};\n    # ...\n}\n</code></pre>\n\n<p>But I get a <code>Odd number of elements in anonymous hash</code> warning, while the printing is <code>$VAR1 = { 'white' =&gt; undef };</code>.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["linux", "apache", "perl", "debian"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1526637875, "post_id": 50408432, "comment_id": 87832920, "body": "Why on earth would you want to allow an insecure CGI script to be able to create system users?"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1526638683, "post_id": 50408432, "comment_id": 87833363, "body": "<a href=\"https://serverfault.com/q/418767/145545\">Run specific perl script as root under Apache</a>, <a href=\"https://stackoverflow.com/q/13680699/608639\">Run superuser command from perl-CGI script via Apache</a>, <a href=\"https://stackoverflow.com/q/24942050/608639\">Running scripts from Perl CGI programs with root permissions</a>, <a href=\"https://stackoverflow.com/q/22819004\">Running a perl cgi as root with <i>proper</i> security</a>, <a href=\"https://stackoverflow.com/q/24942050\">Running scripts from Perl CGI programs with root permissions</a>, <a href=\"https://stackoverflow.com/q/11733045\">Writing a perl cgi applications which runs as root</a>, etc."}], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 2656421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8a27cef8664dd07145fb80c3191423?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2656421/doug"}, "is_accepted": false, "score": 1, "last_activity_date": 1526650900, "last_edit_date": 1526650900, "creation_date": 1526638950, "answer_id": 50409157, "question_id": 50408432, "link": "https://stackoverflow.com/questions/50408432/how-to-run-a-sentence-as-root-in-perl/50409157#50409157", "title": "How to run a sentence as root in perl", "body": "<p>The premise of your question indicates a lack of appropriate concern for system security, but if you <em>really</em> want to give this kind of privilege to a web app then a reasonable approach would be to have separate <code>setuid</code> programs that run with elevated privileges to perform the few root-level actions.</p>\n\n<p>These <code>setuid</code> programs would be limited in what they can do, and you can do extra input validation and verification to make sure that they're not hijacked to do bad things. The web script could then invoke this <code>setuid</code> program as required.</p>\n\n<p>I want to emphasise my warning about allowing a CGI script to manipulate <code>/etc/passwd</code>. It is very dubious behaviour for a web app and you should think very carefully before going ahead with your design.</p>\n"}], "owner": {"reputation": 23, "user_id": 8916655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac39f31cb85a16ca4cc1cc0513773e28?s=128&d=identicon&r=PG&f=1", "display_name": "gugolplex", "link": "https://stackoverflow.com/users/8916655/gugolplex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "closed_date": 1526639149, "answer_count": 1, "score": -3, "last_activity_date": 1526650900, "creation_date": 1526636692, "question_id": 50408432, "link": "https://stackoverflow.com/questions/50408432/how-to-run-a-sentence-as-root-in-perl", "closed_reason": "Duplicate", "title": "How to run a sentence as root in perl", "body": "<p>I have made a perl program that add users to the system using apache2. It works when i run as a root but i am using it in a register from a html therefore the program is running by that user (i think) and it doesn't work. The error in /var/log/apache2/error.log is : <code>\"AH1215: can't open_a /etc/passwd Permission denied at /usr/lib/cgi-bin/registro.cgi line 60\"</code> that line is the following </p>\n\n<pre><code>Linux::usermod-&gt;add($user,$password)\n</code></pre>\n\n<p>One solution must be give the permission +s using chmod +s to the registro.cgi but it is not allowed to use that way.</p>\n"}, {"tags": ["sql", "postgresql", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1526633573, "post_id": 50407001, "comment_id": 87830185, "body": "Did you alter the subroutine to take into account that there are now more arguments? The comma <code>,</code> gives you multiple args, it does not concatenate into one string. Also take into account that even though you&#39;re on Windows, you still need to escape the backslash <code>\\</code> in your double-quoted string because Perl will think <code>&quot;\\l&quot;</code> is an escape sequence, and not a backslash and an L."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1526634160, "post_id": 50407001, "comment_id": 87830561, "body": "Try single quotes for the file path."}], "answers": [{"comments": [{"owner": {"reputation": 689, "user_id": 6351302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1025fa10c031d56e4aa1df7bdcdc2b48?s=128&d=identicon&r=PG&f=1", "display_name": "achahbar", "link": "https://stackoverflow.com/users/6351302/achahbar"}, "edited": false, "score": 0, "creation_date": 1526634795, "post_id": 50407709, "comment_id": 87830917, "body": "Thanks that did the trick indeed .  I also followed  @xxfelixxx. and simbabque  who said that the backslash in perl requires some different string definition. The double &quot; give back errors ; but the single quotes worked as a charm"}, {"owner": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "reply_to_user": {"reputation": 689, "user_id": 6351302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1025fa10c031d56e4aa1df7bdcdc2b48?s=128&d=identicon&r=PG&f=1", "display_name": "achahbar", "link": "https://stackoverflow.com/users/6351302/achahbar"}, "edited": false, "score": 1, "creation_date": 1526635132, "post_id": 50407709, "comment_id": 87831136, "body": "yes if you use double quotes (&quot;&quot;) then Perl interpolate. Where as in single quotes (&#39;&#39;) it does not interpolate. In single quotes directly show its string value."}], "tags": [], "owner": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "is_accepted": true, "score": 1, "last_activity_date": 1526634523, "creation_date": 1526634523, "answer_id": 50407709, "question_id": 50407001, "link": "https://stackoverflow.com/questions/50407001/reading-sql-statements-from-sql-file-with-variable-dir-in-perl/50407709#50407709", "title": "Reading sql statements from sql file with variable dir in perl", "body": "<p>Your file reading process is correct. But when you pass argument in subroutine then it take 3 argument. For concatenation Please follow below syntax: \n<code><pre></p>\n\n<pre><code>$SQLdir = \"C:\\Users\\Bilal\\Desktop\\postgres\\sql\\postgres\"; \nmy $T_SQLdir = \"$SQLdir\" . \"/postgres/lastVacuum.sql\"\nmy $sqlfile = get_sql_from_file($T_SQLdir); \nprint $sqlfile;\n</code></pre>\n\n<p></pre></code>\nHere i pass only one argument with correct path of sql file.</p>\n"}], "owner": {"reputation": 689, "user_id": 6351302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1025fa10c031d56e4aa1df7bdcdc2b48?s=128&d=identicon&r=PG&f=1", "display_name": "achahbar", "link": "https://stackoverflow.com/users/6351302/achahbar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 50407709, "answer_count": 1, "score": 0, "last_activity_date": 1526634523, "creation_date": 1526632191, "question_id": 50407001, "link": "https://stackoverflow.com/questions/50407001/reading-sql-statements-from-sql-file-with-variable-dir-in-perl", "title": "Reading sql statements from sql file with variable dir in perl", "body": "<p>Hello I am trying to read an sql file with perl to execute on a database (for testing purposes I just print the fetched sql query from the sql file). Right now i have a working sub routine wich will fetch a sql query from a sql file and print this</p>\n\n<pre><code>my $sqlfile = get_sql_from_file(\"SQL\\lastVacuum.sql\");\nprint $sqlfile;\n\nsub get_sql_from_file {\n    open my $fh, '&lt;', shift or die \"Can't open SQL File for reading: $!\";\n    local $/;\n    return &lt;$fh&gt;;\n};\n</code></pre>\n\n<p>But I want the sql file to be in a variable dir so i tried to add the dir into the string like this. </p>\n\n<pre><code>    $SQLdir = \"C:\\Users\\Bilal\\Desktop\\postgres\\sql\\postgres\"; \n    my $sqlfile = get_sql_from_file(\"SQL\" , $SQLdir ,\"/postgres/lastVacuum.sql\"); \n    print $sqlfile;\n</code></pre>\n\n<p>But I keep getting \"Can't open SQL File for reading: Permission denied \". Is this because I read from the C drive...</p>\n\n<p>I am really stuck at this for a long time and i hope someone can help me in the right direction</p>\n"}, {"tags": ["perl", "cgi", "dbi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1526629514, "post_id": 50406222, "comment_id": 87827763, "body": "Well, what&#39;s failing?"}, {"owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1526629607, "post_id": 50406222, "comment_id": 87827820, "body": "I have updated the Question. Please check. I am getting blank screen. If I put some content above the DB connection, then those things are getting printed on the web page."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1526629746, "post_id": 50406222, "comment_id": 87827894, "body": "What did you do to debug? Did you even check for error messages? We can&#39;t help you fix the problem until it&#39;s been identified!"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1526632986, "post_id": 50406222, "comment_id": 87829810, "body": "<i>&quot;Basically whatever content I put after the DB connection is not getting displayed on the web browser.&quot;</i> - my guess is that the DB connection fails so that <code>$dbh</code> is undefined and subsequent use of <code>$dbh</code> in <code>$dbh-&gt;prepare</code> will cause a fatal error and the process to exit. But for details look at the error messages you should find in the error log of Apache."}, {"owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1526633693, "post_id": 50406222, "comment_id": 87830254, "body": "@SteffenUllrich : Yes You are right.   Error in Apache log are  [Fri May 18 04:51:31 2018] [error] [client 159.166.29.10] DBI connect(&#39;sid=xxxxx;host=xxxxx;port=1521,&#39;xxxxx&#39;,...) failed: ERROR OCIEnvNlsCreate. Check ORACLE_HOME (Linux) env var  or PATH (Windows) and or NLS settings, permissions, etc. at /var/www/cgi-bin/Test.pl line 27 [Fri May 18 04:51:31 2018] [error] [client 159.166.29.10] Can&#39;t call method &quot;prepare&quot; on an undefined value at /var/www/cgi-bin/Test.pl line 31.  But I have no idea why it is not picking the ORACLE_HOME. Where can I set it, so that it will be permanent ?"}], "answers": [{"tags": [], "owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "is_accepted": true, "score": 1, "last_activity_date": 1526720601, "last_edit_date": 1526720601, "creation_date": 1526640306, "answer_id": 50409608, "question_id": 50406222, "link": "https://stackoverflow.com/questions/50406222/getting-blank-screen-for-perl-cgi-script/50409608#50409608", "title": "Getting Blank Screen for Perl CGI Script", "body": "<p>Fixed it by adding the below line to the httdd.conf file.</p>\n\n<pre><code>SetEnv ORACLE_HOME /oracle/app/oracle/product/11.2.0.4/db_1\n</code></pre>\n"}], "owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 50409608, "answer_count": 1, "score": -1, "last_activity_date": 1526720601, "creation_date": 1526629278, "last_edit_date": 1526629543, "question_id": 50406222, "link": "https://stackoverflow.com/questions/50406222/getting-blank-screen-for-perl-cgi-script", "title": "Getting Blank Screen for Perl CGI Script", "body": "<p>I am getting blank screen for the below Perl CGI Script on the web page.\nScript is getting executed fine on the terminal, but when I run it from the web browser it is blank. Please help.</p>\n\n<p>This works when I move the Web Content to the top of the page. Basically whatever content I put after the DB connection is not getting displayed on the web browser.</p>\n\n<p>OS : Unix\nApache2 Web Server</p>\n\n<p>Note: The script has execute permission.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse DBI;\nuse CGI;\n\nprint \"Content-type: text/html\\n\\n\";\n\n# Simple HTML code follows\nmy $driver= \"Oracle\";\nmy $dsn = \"DBI:$driver:sid=xxxxx;host=xxxxx;port=1521\";\nmy $dbh = DBI-&gt;connect($dsn,'xxxx','xxxx');\n\n#print $dbh;\n\nmy $sth = $dbh-&gt;prepare(\"SELECT * FROM TABLE WHERE ROWNUM &lt;= 10\");\n$sth-&gt;execute;\n\nprint \"&lt;html&gt; &lt;head&gt;\\n\";\nprint \"&lt;title&gt;Hello, world!&lt;/title&gt;\";\nprint \"&lt;/head&gt;\\n\";\nprint \"&lt;body&gt;\\n\";\nprint \"&lt;h1&gt;Hello, world!&lt;/h1&gt;\\n\";\nprint \"&lt;p&gt;The Details  are as follows:&lt;/p&gt;\\n\";\nprint \"&lt;table cols=5 border=1&gt;\\n\";\nprint \"&lt;tr&gt;\\n\";\nprint \"&lt;th&gt;ACTION&lt;/th&gt;\\n\";\nprint \"&lt;th&gt;ALARM_TEXT&lt;/th&gt;\\n\";\nprint \"&lt;th&gt;ALARM_SEV&lt;/th&gt;\\n\";\nprint \"&lt;th&gt;EMS_NAME&lt;/th&gt;\\n\";\nprint \"&lt;/tr&gt;\";\n\nwhile(  my $ref = $sth-&gt;fetchrow_hashref() ) {\n        print \"&lt;tr&gt;\\n\";\n        print \"&lt;td&gt;\", $ref-&gt;{'ACTION'}, \"&lt;/td&gt;\\n\";\n        print \"&lt;td&gt;\", $ref-&gt;{'ALARM_TEXT'}, \"&lt;/td&gt;\\n\";\n        print \"&lt;td&gt;\", $ref-&gt;{'ALARM_SEV'}, \"&lt;/td&gt;\\n\";\n        print \"&lt;td&gt;\", $ref-&gt;{'EMS_NAME'}, \"&lt;/td&gt;\\n\";\n        print \"&lt;/tr&gt;\\n\";\n}\nprint \"&lt;/table&gt;\\n\";\nprint \"&lt;h1&gt;Hello, world!&lt;/h1&gt;\\n\";\nprint \"&lt;/body&gt; &lt;/html&gt;\\n\";\n</code></pre>\n"}, {"tags": ["perl", "perl-hash"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526626018, "post_id": 50405223, "comment_id": 87825887, "body": "When you <code>split</code> the <code>$result_string</code> by <code>;</code> you get the list <i>of strings</i> <code>(&#39;RCSoWLAN&#39;, &#39;ePDG-2&#39;, &#39;Qguest&#39;, &#39;ASUS_ATT_VOWIFI&#39;)</code>, which your <code>for</code> iterates over.  As each is processed in turn it is available in <code>$_</code>. So your <code>$_-&gt;{...}-&gt;...</code> attempts to dereference (by <code>-&gt;</code>) a <i>string</i>, as if it were a hashref."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526626355, "post_id": 50405223, "comment_id": 87826048, "body": "However, I cannot possibly guess what your intent is here.  Can you explain what you are trying to do and why you have <code>$_-&gt;{...}...</code> ?"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1526626668, "post_id": 50405223, "comment_id": 87826218, "body": "you have to explain what are you trying to achieve especially this line   <code>print &quot;SSID[$index]: $_-&gt;{$index}-&gt;{ssid}\\n&quot;; </code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1526627373, "post_id": 50405223, "comment_id": 87826578, "body": "what is your expected input and output? your previous <a href=\"https://stackoverflow.com/questions/50367575/cant-use-string-as-an-array-ref-while-strict-refs-in-use\">question</a> is also something related to this."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9799283"}, "edited": false, "score": 0, "creation_date": 1526887621, "post_id": 50405223, "comment_id": 87901608, "body": "I am trying to store it to a Hash.."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1526631931, "creation_date": 1526631931, "answer_id": 50406931, "question_id": 50405223, "link": "https://stackoverflow.com/questions/50405223/cant-use-string-as-a-hash-ref-while-strict-refs-in-use/50406931#50406931", "title": "Can&#39;t use string (&quot;&quot;) as a HASH ref while &quot;strict refs&quot; in use", "body": "<p>Because - as someone <a href=\"https://stackoverflow.com/questions/50367575/cant-use-string-as-an-array-ref-while-strict-refs-in-use\">has already said</a> - <code>$result_string</code> is still not a hash. Neither is <code>$_</code>. So using 'hash like' constructs on it, is simply never going to work.</p>\n\n<p>You seem to have incorporated the advice to <code>split</code> from your previous question, but you don't really seem to understand what's actually happening in your code.</p>\n\n<p><code>split</code> breaks your string into a list. You then iterate the list using <code>for</code>. When you use <code>for</code> <code>$_</code> is set to the 'current iterator', so it will be set to <code>('RCSoWLAN', 'ePDG-2', 'Qguest', 'ASUS_ATT_VOWIFI')</code> in turn.</p>\n\n<p>On the first iteration - you're writing:</p>\n\n<pre><code>\"RCSoWLAN\" -&gt; {1} -&gt; {ssid}\n</code></pre>\n\n<p>Which is nonsensical, and is why you're getting the error that you are. </p>\n\n<p>I am <em>assuming</em> your input string comes from another source, which includes field names - like the <code>ssid</code> field you are attempting to access. But that never actually makes it into your program, so it's also meaningless. </p>\n\n<p>Your best bet really is to backtrack, and figure out what you're <em>actually trying to accomplish</em> here, and outline input and output (along with a code example) so we actually have a chance to figure out what you're doing. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9799283"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1531831478, "creation_date": 1526625586, "last_edit_date": 1531831478, "question_id": 50405223, "link": "https://stackoverflow.com/questions/50405223/cant-use-string-as-a-hash-ref-while-strict-refs-in-use", "title": "Can&#39;t use string (&quot;&quot;) as a HASH ref while &quot;strict refs&quot; in use", "body": "<p>Can't use string (\"\") as a HASH ref while \"strict refs\" in use</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1526624874, "post_id": 50404455, "comment_id": 87825348, "body": "By the way, <b>always</b> use <code>use strict;</code>. We normally omit it from answers, because it&#39;s expected to always be used."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1526632107, "post_id": 50404455, "comment_id": 87829248, "body": "<code>XML::Twig</code> is namespace blind, and so this sort of <code>findnodes</code> operation will work without needing to handle the namespacing. (Whether that&#39;s a bug or a feature is a different question)"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1526644627, "post_id": 50405000, "comment_id": 87836922, "body": "Thanks a lot for your answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1526624641, "creation_date": 1526624641, "answer_id": 50405000, "question_id": 50404455, "link": "https://stackoverflow.com/questions/50404455/findnodes-could-not-find-the-given-path/50405000#50405000", "title": "findnodes could not find the given path", "body": "<pre><code>use warnings;\nuse XML::LibXML;\nmy $file = 'test.xml';\nmy $xpc = XML::LibXML::XPathContext-&gt;new();\n$xpc-&gt;registerNs(fl =&gt; 'http://www.froglogic.com/XML2');             # &lt;---\nmy $doc = XML::LibXML-&gt;load_xml(location =&gt; $file);\nfor my $entry ($xpc-&gt;findnodes('//fl:SquishReport/fl:test', $doc))   # &lt;---\n{\n    $testCases[$count] = $entry-&gt;getAttribute('name');\n    $count = $count + 1;\n}\nprint @testCases;\nprint \"\\n\";\n</code></pre>\n\n<hr>\n\n<p>Cleaned up:</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n\nuse XML::LibXML               qw( );\nuse XML::LibXML::XPathContext qw( );\n\nmy $qfn = 'test.xml';\n\nmy $doc = XML::LibXML-&gt;load_xml( location =&gt; $qfn );\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new();\n$xpc-&gt;registerNs(fl =&gt; 'http://www.froglogic.com/XML2');\n\nmy @test_cases;\nfor my $entry ($xpc-&gt;findnodes('//fl:SquishReport/fl:test', $doc)) {\n    push @test_cases, $entry-&gt;getAttribute('name');\n}\n\nprint \"@testCases\\n\";\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "closed_date": 1526624720, "accepted_answer_id": 50405000, "answer_count": 1, "score": -1, "last_activity_date": 1526624641, "creation_date": 1526622000, "question_id": 50404455, "link": "https://stackoverflow.com/questions/50404455/findnodes-could-not-find-the-given-path", "closed_reason": "Duplicate", "title": "findnodes could not find the given path", "body": "<p>I have a simple question regarding <code>findnodes</code> in Perl. Suppose I have the following sample <code>XML</code> (<code>test.xml</code>)file as an input</p>\n\n<pre><code>&lt;SquishReport version=\"2.1\" xmlns=\"http://www.froglogic.com/XML2\"&gt;\n    &lt;test name=\"mainTest1\"&gt;\n        &lt;test name=\"test1\"&gt;\n\n        &lt;/test&gt;\n        &lt;test name=\"test2\"&gt;\n\n        &lt;/test&gt;\n    &lt;/test&gt;\n    &lt;test name=\"mainTest2\"&gt;\n        &lt;test name=\"test3\"&gt;\n\n        &lt;/test&gt;\n        &lt;test name=\"test4\"&gt;\n\n        &lt;/test&gt;\n    &lt;/test&gt;\n&lt;/SquishReport&gt;\n</code></pre>\n\n<p>and then in Perl I want to save first test names in a list as following</p>\n\n<pre><code>use warnings;\nuse XML::LibXML;\nmy $file = 'test.xml';\nmy $xpc = XML::LibXML::XPathContext-&gt;new();\nmy $doc = XML::LibXML-&gt;load_xml(location =&gt; $file);\nfor my $entry ($xpc-&gt;findnodes('//SquishReport/test', $doc))\n{\n    $testCases[$count] = $entry-&gt;getAttribute('name');\n    $count = $count + 1;\n}\nprint @testCases;\nprint \"\\n\";\n</code></pre>\n\n<p>But I got after running the above code I got empty List. I found out if I delete in the root node(<code>SquishReport</code>) the rest explanation, i.e., </p>\n\n<blockquote>\n  <p>version=\"2.1\" xmlns=\"http://www.froglogic.com/XML2\"</p>\n</blockquote>\n\n<p>then every things is ok and then I have the desired output. But not in case when I have above explanation included in the main root.</p>\n\n<p>Would anyone know why does it happen? Thanks!</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7597888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60d502da344d1e5075d853c08683171?s=128&d=identicon&r=PG&f=1", "display_name": "nmkishore", "link": "https://stackoverflow.com/users/7597888/nmkishore"}, "edited": false, "score": 0, "creation_date": 1526638621, "post_id": 50404724, "comment_id": 87833327, "body": "Thanks for the help. Any way I have resolved the issue my self."}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "reply_to_user": {"reputation": 31, "user_id": 7597888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60d502da344d1e5075d853c08683171?s=128&d=identicon&r=PG&f=1", "display_name": "nmkishore", "link": "https://stackoverflow.com/users/7597888/nmkishore"}, "edited": false, "score": 0, "creation_date": 1526904048, "post_id": 50404724, "comment_id": 87910112, "body": "@nmkishore Great; but this site usually encourages Q &amp; A that are helpful to others too, so you might want to clarify what the issue was and how it was resolved and which of the two kinds of folder comparisons I showed was the one you were looking for."}], "tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": true, "score": 1, "last_activity_date": 1526903891, "last_edit_date": 1592644375, "creation_date": 1526623442, "answer_id": 50404724, "question_id": 50404180, "link": "https://stackoverflow.com/questions/50404180/compare-two-sub-strings-for-the-strings-which-are-available-in-two-different-arr/50404724#50404724", "title": "Compare two sub strings for the strings which are available in two different arrays", "body": "<p>You're confusing me with a <code>foreach</code> written as a <code>for</code> maybe that's breaking it, but lets assume it's working like <code>for</code> for now:</p>\n<p>So E.G. your expecting that you won't output everything, but with your sample input it seems it should output something like:</p>\n<p><code>&quot;Statement.Inc.2017.1&quot; eq &quot;Statement.Inc.2017.1&quot;</code> when <code>$i=0 and $j=0</code><br />\nSo <code>$flag=1</code><br />\n<code>&quot;Statement.Inc.2017.1&quot; ne &quot;Statement.Inc.2018.1&quot;</code> when <code>$i=0 and $j=1</code><br />\nSo <code>$flag=0</code><br />\n\u25b8 Exiting the inner loop with <code>$flag==0</code> will print <code>$a[$i]</code><br />\n<code>&quot;Statement.Inc.2018.1&quot; ne &quot;Statement.Inc.2017.1&quot;</code> when <code>$i=1 and $j=0</code><br />\nSo <code>$flag=0</code><br />\n<code>&quot;Statement.Inc.2018.1&quot; eq &quot;Statement.Inc.2018.1&quot;</code> when <code>$i=1 and $j=1</code><br />\nSo <code>$flag=1</code><br />\n\u25b8 Exiting the inner loops with <code>$flag==1</code> will not print</p>\n<p>Giving the output:</p>\n<pre><code>Statement.Inc.2017.1.2018-05-10-0349.Full.txt\n</code></pre>\n<p>Then you swap foreach loops the same conditions apply but your output changes to:</p>\n<pre><code>Statement.Inc.2017.1.2018-05-15-0351.Full.txt is missing in SDI file\n</code></pre>\n<p>Since you don't seem to explain quite what you desired for all the comparisons\u2026 I don't know what if anything to &quot;fix&quot;. But you should.\nLike how there's no point in the quoting you're doing inside the <code>substr</code> functions, and how you probably wanted to set the <code>$flag</code> to <code>0</code> in the outer loops rather than inner loops. And then you might have also just used <code>if(!$flag)</code>.</p>\n<h1>Besides, you probably want a simpler approach like:</h1>\n<pre><code>my @a=`ls /home/ec2-user/TRF_DATA/FinancialStatement/FINALSDI`;\nmy @b=`ls /home/ec2-user/TRF_DATA/FinancialStatement/FINALSPARK`;\n\n# Either you wanted:\nmy @pairs = map{ my $x = $_; map { [$x, $_] } @b } @a;\nforeach (@pairs) {\n  my ($f1, $f2) = @$_;\n  chomp $f1;\n  chomp $f2;\n  if (substr($f1, 0, -25) eq substr($f2, 0, -25)) {\n    print &quot;$f1 is like $f2\\n&quot;;\n  } else {\n    print &quot;$f1 is not like $f2\\n&quot;;\n  }\n}\n\n# Or maybe you wanted:\nforeach my $f1 (@a) {\n  chomp $f1;\n  my $f=1;\n  foreach my $f2 (@b) {\n    chomp $f2;\n    if (substr($f1, 0, -25) eq substr($f2, 0, -25)) {\n      $f=0;\n      break;\n    }\n  }\n  print &quot;$f1\\n&quot; if $f;\n}\nforeach my $f2 (@b) {\n  chomp $f2;\n  my $f=1;\n  foreach my $f1 (@a) {\n    chomp $f1;\n    if (substr($f1, 0, -25) eq substr($f2, 0, -25)) {\n      $f=0;\n      break;\n    }\n  }\n  print &quot;$f2 is missing in SDI file\\n&quot; if $f;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7597888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60d502da344d1e5075d853c08683171?s=128&d=identicon&r=PG&f=1", "display_name": "nmkishore", "link": "https://stackoverflow.com/users/7597888/nmkishore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 50404724, "answer_count": 1, "score": 0, "last_activity_date": 1526903891, "creation_date": 1526620385, "last_edit_date": 1526622561, "question_id": 50404180, "link": "https://stackoverflow.com/questions/50404180/compare-two-sub-strings-for-the-strings-which-are-available-in-two-different-arr", "title": "Compare two sub strings for the strings which are available in two different arrays", "body": "<p>When comparing two directories of filenames I need to compare the names by only a substring in each name.</p>\n\n<p>There are two folders and I have taken those two folders files into two different arrays.</p>\n\n<p>The scenario here is that the filenames are same except time stamp so I have to take the sub string from each file name in two different folders/arrays and need to compare only sub string. And I have to print the unmatched file names based on the sub string comparison.</p>\n\n<p>I have tried below code but displaying all the lines. Please help me where I have to modify my code. Thank you.</p>\n\n<p>E.G. file names:<br>\narray1:</p>\n\n<pre><code>Statement.Inc.2017.1.2018-05-10-0349.Full.txt\nStatement.Inc.2018.1.2018-05-10-0349.Full.txt\n</code></pre>\n\n<p>array2:</p>\n\n<pre><code>Statement.Inc.2017.1.2018-05-15-0351.Full.txt\nStatement.Inc.2018.1.2018-05-15-0351.Full.txt\n</code></pre>\n\n<p>Code</p>\n\n<pre><code>my $sdipath=\"/home/ec2-user/TRF_DATA/FinancialStatement/FINALSDI\";\nmy $sparkpath=\"/home/ec2-user/TRF_DATA/FinancialStatement/FINALSPARK\";\nmy @a=`ls $sdipath`;\nmy @b=`ls $sparkpath`;\nmy $flag;\nforeach (my $i = 0; $i &lt; @a; $i++)\n{\n  my $file_sub1=substr(\"$a[$i]\",0,-25);\n  for(my $j=0; $j&lt;=@b;$j++)\n  {\n    $flag=0;\n    my $file_sub2=substr(\"$b[$j]\",0,-25);\n    if ($file_sub1 eq $file_sub2)\n    {\n      #print\"Hello\";\n      #print\"$file_sub1 $file_sub2\\n\";\n      $flag=1;\n    }\n  }\n  if($flag==0)\n  {\n    print \"$a[$i]\\n\";\n  }\n}\nforeach (my $i = 0; $i &lt; @b; $i++)\n{\nmy $file_sub2=substr(\"$b[$i]\",0,-25);\nfor(my $j=0; $j&lt;=@a;$j++)\n{\n  $flag=0;\n  my $file_sub1=substr(\"$a[$j]\",0,-25);\n  if ($file_sub2 eq $file_sub1)\n  {\n    #print\"Hello\";\n    #print\"$file_sub1 $file_sub2\\n\";\n    $flag=1;\n  }\n}\nif($flag==0)\n{\n  print \"$b[$i] is missing in SDI file\\n\";\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["perl", "gcc", "opendds"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1526610827, "post_id": 50401189, "comment_id": 87821609, "body": "Figure out where <code>$mpctype</code> is defined, maybe you are missing an environmental variable or command switch."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1526610909, "post_id": 50401189, "comment_id": 87821629, "body": "Also, generally the first warning / error is the most useful for looking at the code, not the last, so here I would start looking before line 1103 instead of line 1266."}, {"owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "edited": false, "score": 1, "creation_date": 1526632365, "post_id": 50401189, "comment_id": 87829417, "body": "Don&#39;t use <code>--compiler=gcc</code>, you are not using gcc but Visual Studio"}, {"owner": {"reputation": 21, "user_id": 9751348, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984324545173/picture?type=large", "display_name": "Leon Teng", "link": "https://stackoverflow.com/users/9751348/leon-teng"}, "edited": false, "score": 0, "creation_date": 1526848188, "post_id": 50401189, "comment_id": 87892248, "body": "Maybe I should start with the base of the problem. When I tried to use only <code>--compiler</code> , it show me this instead,   <code>ERROR: Can&#39;t find a compiler, set PATH or run this script with the --compiler option. For Microsoft Visual C++, run this script from the Visual Studio Command Prompt.  Stopped at configure line 378.</code> I have check my PATH in my system, that perl is in it, or is there anything I missed out?"}, {"owner": {"reputation": 21, "user_id": 9751348, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984324545173/picture?type=large", "display_name": "Leon Teng", "link": "https://stackoverflow.com/users/9751348/leon-teng"}, "reply_to_user": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "edited": false, "score": 0, "creation_date": 1526888500, "post_id": 50401189, "comment_id": 87901970, "body": "@JohnnyWillemsen, so which command should I use? It seems to can&#39;t find a compiler."}, {"owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "edited": false, "score": 1, "creation_date": 1526895670, "post_id": 50401189, "comment_id": 87905472, "body": "You should the command from a Visual Studio command prompt, are you doing that?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9751348, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984324545173/picture?type=large", "display_name": "Leon Teng", "link": "https://stackoverflow.com/users/9751348/leon-teng"}, "edited": false, "score": 0, "creation_date": 1526888439, "post_id": 50423945, "comment_id": 87901936, "body": "I have checked the INSTALL options, but still no where to any solution. The TAO and ACE environment is correct. how do you define <code>compiler_version</code>?"}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "reply_to_user": {"reputation": 21, "user_id": 9751348, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984324545173/picture?type=large", "display_name": "Leon Teng", "link": "https://stackoverflow.com/users/9751348/leon-teng"}, "edited": false, "score": 0, "creation_date": 1526904139, "post_id": 50423945, "comment_id": 87910159, "body": "@LeonTeng You can try --compiler_version=dummy and see what it does, but maybe you can try &quot;gcc&quot; and other you might have installed in your system."}, {"owner": {"reputation": 21, "user_id": 9751348, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984324545173/picture?type=large", "display_name": "Leon Teng", "link": "https://stackoverflow.com/users/9751348/leon-teng"}, "edited": false, "score": 2, "creation_date": 1526936592, "post_id": 50423945, "comment_id": 87926607, "body": "Thank you so much for the insight, problem is solved. It is the missing compiler in Visual Studio that caused the problem. Apparently Visual Studio did not install C++ by default, so what to do it is just rerun the setup, select modify and check C++, and then everything works fine."}], "tags": [], "owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "is_accepted": false, "score": 1, "last_activity_date": 1526723543, "creation_date": 1526723543, "answer_id": 50423945, "question_id": 50401189, "link": "https://stackoverflow.com/questions/50401189/configuring-opendds/50423945#50423945", "title": "Configuring OpenDDS", "body": "<p><code>$mpctype</code> is defined here:</p>\n\n<pre><code>my $mpctype = ($slash eq '/' ||\n              ($cross_compile &amp;&amp; $buildEnv-&gt;{'build'} eq 'target'))\n            ? 'gnuace' : $opts{'compiler_version'};\n</code></pre>\n\n<p>It seems to be looking at <code>$opts{'compiler_version'}</code>, which is apparently empty. <code>%opts</code> is defined here:</p>\n\n<pre><code>my %opts = %{parseArgs()};\n</code></pre>\n\n<p>so it looks like you should define the <code>compiler_version</code> in the command line or define the target platform. It's probably better if you <a href=\"https://raw.githubusercontent.com/objectcomputing/OpenDDS/DDS-3.12.2/INSTALL\" rel=\"nofollow noreferrer\">check out the INSTALL options thoroughly</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10851171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd659067a1520f7cc5bfef823a10184?s=128&d=identicon&r=PG&f=1", "display_name": "Safdar Sikander", "link": "https://stackoverflow.com/users/10851171/safdar-sikander"}, "is_accepted": false, "score": 1, "last_activity_date": 1546242973, "last_edit_date": 1546242973, "creation_date": 1546241585, "answer_id": 53984801, "question_id": 50401189, "link": "https://stackoverflow.com/questions/50401189/configuring-opendds/53984801#53984801", "title": "Configuring OpenDDS", "body": "<p>VS2017 doesn't install c++ compiler by default. </p>\n\n<blockquote>\n  <ul>\n  <li>Modify VS 2017 and select c++ compiler and install if VS 2017 already install.</li>\n  <li>configure (without --compiler=gcc flag)</li>\n  </ul>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 8946, "user_id": 5675325, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rM1RC.png?s=128&g=1", "display_name": "Tiago Martins Peres \u674e\u5927\u4ec1", "link": "https://stackoverflow.com/users/5675325/tiago-martins-peres-%e6%9d%8e%e5%a4%a7%e4%bb%81"}, "edited": false, "score": 0, "creation_date": 1577311595, "post_id": 59481803, "comment_id": 105140742, "body": "Hi user8039286, welcome. Please consider giving a better format, it&#39;s very hard to read as it is."}], "tags": [], "owner": {"reputation": 11, "user_id": 8039286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/549251418ea1b24d62449912068f052f?s=128&d=identicon&r=PG&f=1", "display_name": "user8039286", "link": "https://stackoverflow.com/users/8039286/user8039286"}, "is_accepted": false, "score": 1, "last_activity_date": 1577307490, "creation_date": 1577307490, "answer_id": 59481803, "question_id": 50401189, "link": "https://stackoverflow.com/questions/50401189/configuring-opendds/59481803#59481803", "title": "Configuring OpenDDS", "body": "<p>I had a similar question. Being a newbie, I started with the getting started with java and windows on <a href=\"https://opendds.org/quickstart/GettingStartedWindows.html\" rel=\"nofollow noreferrer\">https://opendds.org/quickstart/GettingStartedWindows.html</a> .\nStep 5, \"configure (To enable Java support, use configure --java)\" didn't work in a visual studio command window despite\nhaving set JAVA_HOME. I had sent ACE_ROOT, DDS_ROOT, TAO_ROOT and MPC_ROOT though the tutorial didn't specify based on trying to debug this problem.\nWhen using the \"--compiler\" option I get errors similar to the ones in this thread. Was there any resolution just to get the\"\n\"off-the-shelf\" tutorial working. Using Windows 10.</p>\n\n<p>D:\\data\\OpenDDS-3.13.3>configure --java --compiler=\"C:\\Program Files\\Java\\jdk1.8.0_221\\bin\"\n    ACE_ROOT/ace/config.h exists, skipping configuration of ACE+TAO\n    Use of uninitialized value $mpctype in string eq at configure line 1482.\n    Use of uninitialized value $mpctype in concatenation (.) or string at configure line \n    1646.\n    Use of uninitialized value $mpctype in string eq at configure line 1655.\n    Running MPC to generate project files.\n    MPC_ROOT was set to D:\\data\\OpenDDS-3.13.3\\ACE_WRAPPERS\\MPC.\n    Using .../OpenDDS-3.13.3/ACE_WRAPPERS/bin/MakeProjectCreator/config/MPC.cfg\n    ERROR: Invalid type: D:\\data\\OpenDDS-3.13.3\\DDS_TAOv2_all.mwc\n    mwc.pl v4.1.44\n    ...\n    ERROR: Error from MPC, stopped at configure line 1659.</p>\n"}], "owner": {"reputation": 21, "user_id": 9751348, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211984324545173/picture?type=large", "display_name": "Leon Teng", "link": "https://stackoverflow.com/users/9751348/leon-teng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1577307490, "creation_date": 1526595019, "last_edit_date": 1526595915, "question_id": 50401189, "link": "https://stackoverflow.com/questions/50401189/configuring-opendds", "title": "Configuring OpenDDS", "body": "<p>I am trying to configure the environment for OpenDDS, but I could not run the configure script. Would really appreciate much, if there are any insight from you guys. =D </p>\n\n<p>So basically, after I download the OpenDDS-3.12.zip from <a href=\"http://download.objectcomputing.com/OpenDDS/\" rel=\"nofollow noreferrer\">here</a>. I have extracted to a folder and tried to run the configure file with this command in VS command prompt (VS2017)</p>\n\n<pre><code>configure --compiler=gcc\n</code></pre>\n\n<p>Next, the \"ACE+TAO-2.2a_with_latest_patches_NO_makefiles\" is downloaded and I extract the zip file to the root folder. </p>\n\n<p>Then it shows this message.</p>\n\n<pre><code>ACE_ROOT/ace/config.h exists, skipping configuration of ACE+TAO \nUse of uninitialized value $mpctype in string eq at configure line 1103.                                                \nUse of uninitialized value $mpctype in concatenation (.) or string at configure line 1257.                              \nUse of uninitialized value $mpctype in string eq at configure line 1266.                                                \nRunning MPC to generate project files.                                                                                  \nMPC_ROOT was set to C:\\src\\OpenDDS-DDS-3.12.2\\ACE_wrappers\\MPC.                                                         \nUsing .../OpenDDS-DDS- \n3.12.2/ACE_wrappers/bin/MakeProjectCreator/config/MPC.cfg                                         \nERROR: Invalid type: C:\\src\\OpenDDS-DDS-3.12.2\\DDS_TAOv2_all.mwc                                                        \nmwc.pl v4.1.28                                                                                                          \n\n...\n/*lots of explanation of each file here*\n*then followed by*/\n...\n\nERROR: Error from MPC, stopped at configure line 1270.   \n</code></pre>\n\n<p>I have both Visual Studio 2017 and Perl 5.22 installed as well, I am not sure whether if this is a compiler issue or any other issue. The following is the configure script that printed the error above.</p>\n\n<pre><code>@@ line 1268 -- 1270 @@\n  if (!$opts{'dry-run'}) {\nif (system(\"perl \\\"$ENV{'ACE_ROOT'}/bin/mwc.pl\\\" $mwcargs\") != 0) {\n  die \"ERROR: Error from MPC, stopped\";\n}\n}\n</code></pre>\n"}, {"tags": ["perl", "amazon-web-services", "aws-lambda"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1526575345, "post_id": 50396562, "comment_id": 87808944, "body": "<a href=\"https://github.com/pplu/perl-aws-lambda/issues/1\" rel=\"nofollow noreferrer\">github.com/pplu/perl-aws-lambda/issues/1</a>"}, {"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 1, "creation_date": 1526575584, "post_id": 50396562, "comment_id": 87809092, "body": "I&#39;m sure there are plenty of options to manage EXIF metadata from JavaScript or Python."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 1, "creation_date": 1526577407, "post_id": 50396562, "comment_id": 87809964, "body": "@jarmod the link was related because in that discussion some other people are trying to run Perl code via AWS Lambda. I don&#39;t think this question has anything to do with the code in the github issue."}, {"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526577971, "post_id": 50396562, "comment_id": 87810240, "body": "@simbabque Right, but I&#39;m proposing that the OP would be well-advised to consider using Python (or JavaScript). Perl will likely never be supported by Lambda, and you&#39;re backing yourself into a corner if you start trying to use Perl in this environment."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526634254, "post_id": 50400439, "comment_id": 87830605, "body": "I wonder if this can be combined with <a href=\"https://metacpan.org/pod/Object::Remote\" rel=\"nofollow noreferrer\">Object::Remote</a> to run whatever you want on there."}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1526641820, "post_id": 50400439, "comment_id": 87835193, "body": "@simbabque that seems like an interesting thing to try."}], "tags": [], "owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "is_accepted": false, "score": 2, "last_activity_date": 1526590905, "creation_date": 1526590905, "answer_id": 50400439, "question_id": 50396562, "link": "https://stackoverflow.com/questions/50396562/perl-script-in-amazon-web-services-lambda-functions/50400439#50400439", "title": "Perl script in Amazon Web Services Lambda functions", "body": "<p>You can run essentially anything in Lambda as long as it is binary-compatible with the Lambda runtime environment and can fit into a deployment package.  But you have to wrap it in a function written in one of the supported languages.  This is surprisingly more effective and efficient than you might expect, particularly if you can write your code in the other language so that it can be spawned once per container and exchange serialized messages with the Lambda function.  Or, you can just run the external program once per invocation.</p>\n\n<p>There is a \"blueprint\" in the Lambda console called <code>node-exec</code> that illustrates a simple example.  Its source is this:</p>\n\n<pre><code>'use strict';\n\nconst exec = require('child_process').exec;\n\nexports.handler = (event, context, callback) =&gt; {\n    if (!event.cmd) {\n        return callback('Please specify a command to run as event.cmd');\n    }\n    const child = exec(event.cmd, (error) =&gt; {\n        // Resolve with result of process\n        callback(error, 'Process complete!');\n    });\n\n    // Log process stdout and stderr\n    child.stdout.on('data', console.log);\n    child.stderr.on('data', console.error);\n};\n</code></pre>\n\n<p>It's just enough to give you the idea of how it can be done.</p>\n\n<p>The system Perl on the Lambda/Node 6 runtime environment is perl5 (revision 5 version 16 subversion 3).</p>\n\n<p>Where the task can be accomplished equally effectively with one of the natively supported languages, using one of the supported languages is almost certainly the way to go... and if you know Perl and particularly if you have also worked with asynchronous frameworks like Mojolicious, you're potentially not far off from being able to be productive with Node in a relatively short time.</p>\n\n<p>But one example where running Perl in Lambda was an appropriate choice for me was decoding legacy data serialized with <a href=\"https://metacpan.org/pod/Storable\" rel=\"nofollow noreferrer\"><code>Storable::freeze()</code></a> and then encoded in base64.  Storable is a serialization format that is specific to Perl.  My Node Lambda function passes the event data to the Perl script (spawned with <code>child_process.exec</code>) as JSON on STDIN, which writes the decoded result (also in JSON) to STDOUT, where the Node code captures it and invokes the callback.  The Perl script continues running between invocations.  Runtime for the entire invocation on a warmed up container is &lt; 4 ms.</p>\n"}, {"tags": [], "owner": {"reputation": 622, "user_id": 525332, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e1b627d65d47e7ad08d669b0de9c23d2?s=128&d=identicon&r=PG", "display_name": "ironchicken", "link": "https://stackoverflow.com/users/525332/ironchicken"}, "is_accepted": false, "score": 0, "last_activity_date": 1566600348, "creation_date": 1566600348, "answer_id": 57633764, "question_id": 50396562, "link": "https://stackoverflow.com/questions/50396562/perl-script-in-amazon-web-services-lambda-functions/57633764#57633764", "title": "Perl script in Amazon Web Services Lambda functions", "body": "<p>Now that Lambda supports custom runtimes a selection of Perl runtimes exist. And, of course, a CPAN module: <a href=\"https://metacpan.org/pod/AWS::Lambda\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/AWS::Lambda</a></p>\n"}], "owner": {"reputation": 35, "user_id": 2586964, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/80403fe3f8a53b5d2d1da21e07a177fa?s=128&d=identicon&r=PG", "display_name": "user2586964", "link": "https://stackoverflow.com/users/2586964/user2586964"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1946, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566600348, "creation_date": 1526575231, "last_edit_date": 1527543800, "question_id": 50396562, "link": "https://stackoverflow.com/questions/50396562/perl-script-in-amazon-web-services-lambda-functions", "title": "Perl script in Amazon Web Services Lambda functions", "body": "<p>Is there any possibility of running a Perl program from lambda functions in <em>Amazon Web Services</em>?</p>\n"}, {"tags": ["regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1526566349, "post_id": 50393635, "comment_id": 87802970, "body": "Do you mean you want something like <a href=\"https://regex101.com/r/2vki7C/1\" rel=\"nofollow noreferrer\"><code>(?:\\G(?!^)\\s+|(?:COMPONENTS|PACKAGES)=&quot;)\\K[^\\s&quot;]+</code></a>?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1526575450, "post_id": 50393635, "comment_id": 87809003, "body": "If the quotes are required why do you put a &#39;?&#39; quantifier after them? Also, your second regex looks for \\w+ followed by \\s, but does not repeat that pattern, so it&#39;s no wonder it would only capture a single field."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526586149, "post_id": 50393635, "comment_id": 87814533, "body": "How does <code>PACKAGES=...</code> come into this?  Are there also the same kinds of lines for that? How are they related to <code>COMPONENTS</code> lines, or are they completely independent?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1526626752, "post_id": 50393635, "comment_id": 87826263, "body": "Pranay, when you tagged the question with <code>perl</code> tag, did you mean the Perl 5 language or any specific option in the language you are using (like R)?"}, {"owner": {"reputation": 169, "user_id": 5056741, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206614877829092/picture?type=large", "display_name": "Pranay Nanda", "link": "https://stackoverflow.com/users/5056741/pranay-nanda"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1526981583, "post_id": 50393635, "comment_id": 87941764, "body": "@WiktorStribi\u017cew Your solution worked. I couldn&#39;t understand why it would not replicate to other parts of the file if preceding and succeeding lines are included in the regex. I included <code>perl</code> in the tag because the regex was to be written for Perl language."}, {"owner": {"reputation": 169, "user_id": 5056741, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206614877829092/picture?type=large", "display_name": "Pranay Nanda", "link": "https://stackoverflow.com/users/5056741/pranay-nanda"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1526981767, "post_id": 50393635, "comment_id": 87941893, "body": "@zdim There are similar kinds of lines for that. <code>PACKAGES=</code> succeeds <code>COMPONENTS=</code> very often. The outputs desired are their values."}, {"owner": {"reputation": 169, "user_id": 5056741, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206614877829092/picture?type=large", "display_name": "Pranay Nanda", "link": "https://stackoverflow.com/users/5056741/pranay-nanda"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1526982061, "post_id": 50393635, "comment_id": 87942090, "body": "@DavidO there&#39;s a &#39;?&#39; after the quotes because values like <code>B0000</code> do not have them but they are required."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526583474, "post_id": 50396792, "comment_id": 87813189, "body": "I hope you agree with my edit of your answer. I may have been overly picky this time. You&#39;re very welcome to roll it back if you disagree with me."}, {"owner": {"reputation": 169, "user_id": 5056741, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206614877829092/picture?type=large", "display_name": "Pranay Nanda", "link": "https://stackoverflow.com/users/5056741/pranay-nanda"}, "edited": false, "score": 0, "creation_date": 1526981322, "post_id": 50396792, "comment_id": 87941562, "body": "Basically I wanted to have both the values like how many components in a package because the file is written as such. I thought of writing a single regex because there are multiple sets of such couplings where there might be some capturing groups that are optional. I used some of your answer to split them into different regex."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1526583220, "last_edit_date": 1526583220, "creation_date": 1526576099, "answer_id": 50396792, "question_id": 50393635, "link": "https://stackoverflow.com/questions/50393635/parsing-license-file-with-regex/50396792#50396792", "title": "Parsing license file with regex", "body": "\n\n<p>I'm going to suggest a different approach here. Your regex pattern is getting complicated, and that's not a great idea. </p>\n\n<p>The core of your problem is that to make a repeating match you're matching the prefix text too, and obviously that can only match once.</p>\n\n<p>But rather than trying to make your regex pattern even more complicated, the answer is to approach the problem differently.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %conf = do { local $/; &lt;DATA&gt; } =~ m/ (\\w+) =\" ([^\"]+) \" /xg; \nprint Dumper \\%conf; \n\n__DATA__\nCOMPONENTS=\"A0000 B0000 G0000\"\nPACKAGES=\"C0000 D0000 E0000\"\n</code></pre>\n\n<p>This creates a data structure.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$VAR1 = {\n          'COMPONENTS' =&gt; 'A0000 B0000 G0000',\n          'PACKAGES' =&gt; 'C0000 D0000 E0000'\n        };\n</code></pre>\n\n<p>If you want the values separately.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$_ = [split] for values %conf;\nprint Dumper \\%conf; \n</code></pre>\n\n<p>This is functionally equivalent to this.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>foreach my $key ( keys %conf ) {\n\n  #split the value on whitespace.\n  my @stuff = split ' ', $conf{$key};\n\n  #replace it with your array. \n  $conf{$key} = \\@stuff;\n</code></pre>\n\n<p>}</p>\n\n<p>Which produces</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$VAR1 = {\n          'PACKAGES' =&gt; [\n                          'C0000',\n                          'D0000',\n                          'E0000'\n                        ],\n          'COMPONENTS' =&gt; [\n                            'A0000',\n                            'B0000',\n                            'G0000'\n                          ]\n        };\n</code></pre>\n\n<p>So now you can write this.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>foreach my $value ( @{$conf{'COMPONENTS'}} ) { \n    print $value,\"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1526589796, "post_id": 50399555, "comment_id": 87816280, "body": "@ikegami  Yes, that seems far more likely, thank you.  Edited"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1527006685, "last_edit_date": 1527006685, "creation_date": 1526586774, "answer_id": 50399555, "question_id": 50393635, "link": "https://stackoverflow.com/questions/50393635/parsing-license-file-with-regex/50399555#50399555", "title": "Parsing license file with regex", "body": "<p>I may be misunderstanding the problem but what about the simple</p>\n\n<pre><code>my %result;\nwhile (&lt;$fh&gt;) {\n    my ($type, $components) = /(\\w+)\\s*=\\s*\"([^\"]+)/;\n    push @{$result{$type}}, split ' ', $components;      # all in one arrayref\n    #push @{$result{$type}}, [ split ' ', $components ]; # or as separate ones\n}\n</code></pre>\n\n<p>This expects multiple lines with <code>COMPONENTS</code> and/or <code>PACKAGES</code> (or any other leading key words really), and assumes that they are unrelated to each other and so need be stored separately.  </p>\n\n<p>Please clarify if the assumptions are wrong.</p>\n\n<p>The code above creates the hash</p>\n\n<pre>\n(\n    COMPONENTS => [ 'A0000', 'B0000', 'G0000', ... ],\n    PACKAGES   => [ ... ],\n)\n</pre>\n\n<p>where <code>[ ... ]</code> is an arrayref with components from all lines for that keyword.</p>\n\n<p>Or, if the commented-out line in the code is used instead of the one above it,</p>\n\n<pre>\n(\n    COMPONENTS => [ ['A0000', 'B0000', 'G0000'], [ ... ], ... ],\n    PACKAGES   => [ [ ... ], [ ... ], ... ],\n)\n</pre>\n\n<p>where <code>[ ... ]</code> are arrayrefs with components from a line, which are all stored in an arrayref which is the value for a key. So here components for each line are stored separately, rather than all being in one arrayref as in the previous case.</p>\n\n<p>If there are any other words before <code>=</code> they are stored as their own keys, with their own arrayref(s) with data from those lines.</p>\n\n<hr>\n\n<p><strong>Update</strong> to clarifications</p>\n\n<p>Since quotes may or may not be there make the first one optional with <code>?</code></p>\n\n<pre><code>/(\\w+)\\s*=\\s*\"?[^\"]+)/;\n</code></pre>\n\n<p>while the trailing one need not be handled since the rest of data need be matched</p>\n"}, {"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1526990030, "creation_date": 1526990030, "answer_id": 50467026, "question_id": 50393635, "link": "https://stackoverflow.com/questions/50393635/parsing-license-file-with-regex/50467026#50467026", "title": "Parsing license file with regex", "body": "<p>Since my solution worked for you, I am posting an answer:</p>\n\n<pre><code>(?:\\G(?!^)\\s+|(?:COMPONENTS|PACKAGES)=\")\\K[^\\s\"]+\n</code></pre>\n\n<p>The pattern matches:</p>\n\n<ul>\n<li><code>(?:\\G(?!^)\\s+|(?:COMPONENTS|PACKAGES)=\")</code> - either of the two alternatives:</li>\n<li><code>\\G(?!^)\\s+</code> - end of the previous match (<code>\\G</code> matches either the start of a line/string or the end of the previous match, so <code>(?!^)</code> \"subtracts\" the start of string position) and 1+ whitespaces</li>\n<li><code>|</code> - or</li>\n<li><code>(?:COMPONENTS|PACKAGES)=</code> - either <code>COMPONENTS=</code> or <code>PACKAGES=</code></li>\n<li><code>\\K</code> - match reset operator (discarding the currently matched text)</li>\n<li><code>[^\\s\"]+</code> - 1 or more chars other than whitespace and double quotes.</li>\n</ul>\n"}], "owner": {"reputation": 169, "user_id": 5056741, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206614877829092/picture?type=large", "display_name": "Pranay Nanda", "link": "https://stackoverflow.com/users/5056741/pranay-nanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 50467026, "answer_count": 3, "score": 2, "last_activity_date": 1527006685, "creation_date": 1526566217, "question_id": 50393635, "link": "https://stackoverflow.com/questions/50393635/parsing-license-file-with-regex", "title": "Parsing license file with regex", "body": "<p>I want to parse a license file which somehow has contents like this. </p>\n\n<blockquote>\n  <p>COMPONENTS=\"A0000 B0000 G0000\"</p>\n</blockquote>\n\n<p>The quotation marks are necessarily there in the file to mark start and end to components in a package. I've tested combinations on <a href=\"https://regex101.com/r/inQcMG/1\" rel=\"nofollow noreferrer\" title=\"regex101.com\">regex101.com</a> but that does not solve the problem</p>\n\n<p>The regex <code>(\"?(?&lt;components&gt;\\w+)*\\s?\"?)</code> works for the string \"A0000 B0000 G0000\" and returns me individual values of components that I need: A0000 , B0000 and so on</p>\n\n<p>But when I test  <code>(COMPONENTS|PACKAGES)=(\"?(?&lt;components&gt;\\w+)\\s?\"?)</code> , the block fails to return these values and returns only the first one which is A0000.</p>\n\n<p>I need help with extracting all those individual values. Please help.</p>\n"}, {"tags": ["perl", "error-handling"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1526566994, "post_id": 50392512, "comment_id": 87803465, "body": "Do you mean <code>$out</code> and <code>$err</code>? Those should be available if <code>$cmd</code> produced any output before the timeout. Are you sure the command timed out? Note: Your script does not print anything unless there is a timeout."}, {"owner": {"reputation": 268, "user_id": 4434071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/852e4f60d9c89b857a4be55ceb103be5?s=128&d=identicon&r=PG&f=1", "display_name": "HeatTheIce", "link": "https://stackoverflow.com/users/4434071/heattheice"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1526567249, "post_id": 50392512, "comment_id": 87803645, "body": "Yes, I mean those. Well, I didn&#39;t put the whole code there, this is just the main part. I am running 3 scripts which print sth and go to sleep and I set one of them to go for longer than the timer is going. The first 2 are printed out fine, but the 3rd is caught by the timer and exits. But the output isn&#39;t available... I am using it with a Fork Manager, so I didn&#39;t write the whole thing, since it could get messy."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1526567336, "post_id": 50392512, "comment_id": 87803719, "body": "Ok. Could you provide an example of the third script, so we can try reproduce?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1526569271, "post_id": 50392512, "comment_id": 87805124, "body": "if you aren&#39;t seeing any output from the 3rd script, it is possibly being buffered.  do you get the output when it <i>doesn&#39;t</i> time out?"}, {"owner": {"reputation": 268, "user_id": 4434071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/852e4f60d9c89b857a4be55ceb103be5?s=128&d=identicon&r=PG&f=1", "display_name": "HeatTheIce", "link": "https://stackoverflow.com/users/4434071/heattheice"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1526569434, "post_id": 50392512, "comment_id": 87805228, "body": "@H&#229;konH&#230;gland I have updated it."}, {"owner": {"reputation": 268, "user_id": 4434071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/852e4f60d9c89b857a4be55ceb103be5?s=128&d=identicon&r=PG&f=1", "display_name": "HeatTheIce", "link": "https://stackoverflow.com/users/4434071/heattheice"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1526569437, "post_id": 50392512, "comment_id": 87805230, "body": "@ysth I have tried to put the timer up and the script is still showing up. One solution is to save those things in a file, but I want to bypass that if possible, bcs there will be a lot of sciprts running and I would need to manage the temporary files around. And it would probably be slower."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1526569825, "post_id": 50392512, "comment_id": 87805462, "body": "@HeatTheIce Thanks for the update. Try to put <code>STDOUT-&gt;autoflush(1)</code> at the beginning of the script. According to <a href=\"https://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>perlvar</code></a> : <i>&quot;STDOUT will typically be line buffered if output is to the terminal and block buffered otherwise&quot;</i>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526580280, "post_id": 50392512, "comment_id": 87811427, "body": "@HeatTheIce: Please don&#39;t use &quot;text speak&quot; in your posts on <i>Stack Overflow</i>. The site is not a forum, but is intended to form a repository of the most valuable solutions to programming problems, and deserves rather more dignity. Furthermore, your audience is an international one and you cannot assume that the abbreviations that you choose to use can be understood universally. I am English, and I found it very frustrating to have to google <code>sth</code> before I could read your comment. Your efforts to save yourself a tiny amount of typing have cost me substantially more time to interpret your words."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526580542, "post_id": 50392512, "comment_id": 87811566, "body": "I recommend that you use <code>my @commands = map [ &quot;perl&quot;, &quot;script$_.pl&quot; ], 1 .. 3</code> instead of the first <code>for</code> loop."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526581268, "post_id": 50392512, "comment_id": 87811942, "body": "<i>&quot;I am using it with a Fork Manager&quot;</i> Do you mean <code>Parallel::ForkManager</code>?"}, {"owner": {"reputation": 268, "user_id": 4434071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/852e4f60d9c89b857a4be55ceb103be5?s=128&d=identicon&r=PG&f=1", "display_name": "HeatTheIce", "link": "https://stackoverflow.com/users/4434071/heattheice"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1526584533, "post_id": 50392512, "comment_id": 87813723, "body": "@Borodin sorry for they of writing. I&#39;m used to write certain things in a way and forget to correct it if I am writing a post or comment. As for the for loop, this is only an example which I use for debug, because later I will have to execute shell scripts or commands. As for the Fork Manager you are right, I am using it. But I tried to use the script above and the problem still exists, so I excluded it from causing it."}], "answers": [{"comments": [{"owner": {"reputation": 268, "user_id": 4434071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/852e4f60d9c89b857a4be55ceb103be5?s=128&d=identicon&r=PG&f=1", "display_name": "HeatTheIce", "link": "https://stackoverflow.com/users/4434071/heattheice"}, "edited": false, "score": 0, "creation_date": 1526584627, "post_id": 50395215, "comment_id": 87813770, "body": "Using your solution indeed solved my problem. But I will still have a problem, since I wont be using only perl scripts in the future. Is there maybe an other module which will save the output directly to a handler or similar? I have tried using an IO::Handler, but I didn&#39;t get it to work..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 268, "user_id": 4434071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/852e4f60d9c89b857a4be55ceb103be5?s=128&d=identicon&r=PG&f=1", "display_name": "HeatTheIce", "link": "https://stackoverflow.com/users/4434071/heattheice"}, "edited": false, "score": 0, "creation_date": 1526584988, "post_id": 50395215, "comment_id": 87813952, "body": "Maybe you could also try fool the scripts you are running to believe it is connected to a real tty by using pseudo terminals as described in the <a href=\"https://metacpan.org/pod/IPC::Run#PSEUDO-TERMINALS\" rel=\"nofollow noreferrer\">documentation</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1526589348, "post_id": 50395215, "comment_id": 87816103, "body": "Nit: <code>print &quot;...&quot;</code> technically prints to the handle returned by <code>select()</code>, so <code>select()-&gt;autoflush(1);</code> would make more sense than <code>STDOUT-&gt;autoflush(1);</code>. Of course, <code>select()-&gt;autoflush(1);</code> can also be written as <code>$| = 1;</code>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1526620696, "post_id": 50395215, "comment_id": 87823811, "body": "@ikegami Thanks for the comment! This is good to know, but since it should (?) be quite clear from script of the OP, that it is trying to output to STDOUT (so the selected handle is indeed STDOUT for their case), I am not updating my answer with the more &quot;correct&quot; approach as you suggested. I think it contains enough details as it is, and I would like to avoid further confusions/distractions, but you can leave the comment as it is if it is OK?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1526621649, "post_id": 50395215, "comment_id": 87824125, "body": "Yup. Like I said, it was just a nit."}, {"owner": {"reputation": 268, "user_id": 4434071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/852e4f60d9c89b857a4be55ceb103be5?s=128&d=identicon&r=PG&f=1", "display_name": "HeatTheIce", "link": "https://stackoverflow.com/users/4434071/heattheice"}, "edited": false, "score": 0, "creation_date": 1526625583, "post_id": 50395215, "comment_id": 87825698, "body": "Okay, that connection with a tty really worked. Now I will just have to see how many scripts I can run at the same time, because it could go over 45 scripts running at the same time. But thank you for the solution!"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1526585972, "last_edit_date": 1526585972, "creation_date": 1526570854, "answer_id": 50395215, "question_id": 50392512, "link": "https://stackoverflow.com/questions/50392512/perl-retrieve-output-from-process-in-ipcrun-if-it-dies/50395215#50395215", "title": "Perl: retrieve output from process in IPC::Run if it dies", "body": "<p>As noted by @ysth, the reason you do not get any output, is that the <code>STDOUT</code> and <code>STDERR</code> of the process corresponding to the command <code>$cmd</code>, is not line buffered, but rather block buffered. So all output is collected in a buffer which is not shown (printed) until the buffer is full or it is explicitly flushed. However, when your command times out, all the output is still in the buffer and has not yet been flushed and hence collected into the variable <code>$out</code> in the parent process (script). </p>\n\n<p>Also note that since your <code>$cmd</code> script is a Perl script, this behavior is documented in <a href=\"https://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>perlvar</code></a>:</p>\n\n<blockquote>\n  <p><strong>$|</strong>  </p>\n  \n  <p>If set to nonzero, forces a flush right away and after every write\n  or print on the currently selected output channel. Default is 0\n  (regardless of whether the channel is really buffered by the system or\n  not; $| tells you only whether you've asked Perl explicitly to flush\n  after each write). <strong>STDOUT will typically be line buffered if output is\n  to the terminal and block buffered otherwise</strong>.</p>\n</blockquote>\n\n<p>The problem (that the program is not connected to a terminal or a tty) is also noted in the documentation page for <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\"><code>IPC::Run</code></a> : </p>\n\n<blockquote>\n  <p>Interactive applications are usually optimized for human use. This can\n  help or hinder trying to interact with them through modules like\n  IPC::Run. Frequently, programs alter their behavior when they detect\n  that stdin, stdout, or stderr are not connected to a tty, assuming\n  that they are being run in batch mode. Whether this helps or hurts\n  depends on which optimizations change. And there's often no way of\n  telling what a program does in these areas other than trial and error\n  and occasionally, reading the source. This includes different versions\n  and implementations of the same program.</p>\n</blockquote>\n\n<p>The documentation also lists a set of possible workarounds, including using <a href=\"https://metacpan.org/pod/IPC::Run#PSEUDO-TERMINALS\" rel=\"nofollow noreferrer\">pseudo terminals</a>.</p>\n\n<p>One solution for your specific case is then to explicitly make <code>STDOUT</code> line buffered at the beginning of your script:</p>\n\n<pre><code>STDOUT-&gt;autoflush(1);  # Make STDOUT line buffered\n# Alternatively use: $| = 1; \nfor (my $i = 0; $i &lt; 10; $i++) {\n  sleep 1;\n  print \"Hello from script 1 \" . localtime() . \"\\n\";\n}\n</code></pre>\n\n<p><strong>Edit</strong>:</p>\n\n<p>If you cannot modify the scripts you are running for some reason, you could try connect the script to a pseudo terminal. So instead of inserting statements like <code>STDOUT-&gt;autoflush(1)</code> in the source code of the script, you can fool the script to believe it is connected to a terminal, and hence that it should use line buffering. For your case, we just add a <code>&gt;pty&gt;</code> argument before the <code>\\$out</code> argument in the call to <code>harness</code>:</p>\n\n<pre><code>my $h = harness $cmd, \\undef, '&gt;pty&gt;', \\$out,\n  timeout(12, exception =&gt; {name =&gt; 'timeout'});\neval {\n    run $h;\n};\n</code></pre>\n"}], "owner": {"reputation": 268, "user_id": 4434071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/852e4f60d9c89b857a4be55ceb103be5?s=128&d=identicon&r=PG&f=1", "display_name": "HeatTheIce", "link": "https://stackoverflow.com/users/4434071/heattheice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 50395215, "answer_count": 1, "score": 2, "last_activity_date": 1526585972, "creation_date": 1526563195, "last_edit_date": 1526569328, "question_id": 50392512, "link": "https://stackoverflow.com/questions/50392512/perl-retrieve-output-from-process-in-ipcrun-if-it-dies", "title": "Perl: retrieve output from process in IPC::Run if it dies", "body": "<p>I have been running some commands with the <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> module and everything is fine, except that I can't access the output (STDOUT, STDERR), the process produced and were redirected into variables. Is there a way to retrieve those in the error handling?</p>\n\n<pre><code>@commands = ();\nforeach my $id (1..3) {\n  push @commands, [\"perl\", \"script\" . $id . \".pl\"];\n}\n\nforeach my $cmd (@commands) {\n  my $out = \"\";\n  my $err = \"\";\n  my $h = harness $cmd, \\undef, \\$out, \\$err, timeout(12,exception =&gt; {name =&gt; 'timeout'});\n  eval {\n    run $h;\n  };\n\n  if ($@) {\n    my $err_msg = $@; # save in case another error happens\n    print \"$out\\n\";\n    print \"$err\\n\";\n    $h-&gt;kill_kill;\n  }\n}\n</code></pre>\n\n<p>I don't need any input for now, I just need to execute it and get the output.</p>\n\n<p><strong>EDIT</strong>\nI have been testing it with running perl scripts which look like this:</p>\n\n<pre><code>for (my $i = 0; $i &lt; 10; $i++) {\n  sleep 1;\n  print \"Hello from script 1 \" . localtime() . \"\\n\";\n}\n</code></pre>\n\n<p>I have 3 such scripts with different times and the 3rd takes 20 seconds to complete, which is more than the 12 I have in the timer.</p>\n"}, {"tags": ["perl", "image-processing", "png", "jpeg", "alpha-transparency"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1526993682, "post_id": 50385932, "comment_id": 87949581, "body": "Did my answer sort out your problem? If so, please consider accepting it as your answer - by clicking the hollow tick/checkmark beside the vote count. If not, please say what didn&#39;t work so that I, or someone else, can assist you further. Thanks. <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work/5235#5235\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 1755910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa9234b0adbe3c7f6cce537dcf6f8ad?s=128&d=identicon&r=PG", "display_name": "arthas", "link": "https://stackoverflow.com/users/1755910/arthas"}, "edited": false, "score": 0, "creation_date": 1536223555, "post_id": 50387069, "comment_id": 91349053, "body": "I accepted this answer because it indeed solves the problem (thank you). It still feels a bit awkward to have to do all of this when a simple parameter when opening the image would do. I&#39;ll open an issue for the Imager module."}, {"owner": {"reputation": 101, "user_id": 1755910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa9234b0adbe3c7f6cce537dcf6f8ad?s=128&d=identicon&r=PG", "display_name": "arthas", "link": "https://stackoverflow.com/users/1755910/arthas"}, "edited": false, "score": 0, "creation_date": 1536660739, "post_id": 50387069, "comment_id": 91494392, "body": "After filing a bug to Imager, the author suggested me another solution, which seems the most straightforward and I&#39;m adding in a different answer."}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 3, "last_activity_date": 1526548263, "last_edit_date": 1526548263, "creation_date": 1526546756, "answer_id": 50387069, "question_id": 50385932, "link": "https://stackoverflow.com/questions/50385932/perl-imager-how-do-i-make-the-alpha-channel-become-black-insead-of-white/50387069#50387069", "title": "Perl Imager: how do I make the alpha channel become black insead of white?", "body": "<p>I am not familiar with Perl's <strong>Imager</strong> module, but I looked through the documentation and can't find anything related to setting the background colour which is what happens in other packages (e.g. <strong>gd</strong>, <strong>ImageMagick</strong>) to transparent pixels when you turn off the alpha mask.</p>\n\n<p>Forgive me if this is miles more vague than any of my other answers, but it may get you started. I <em>think</em> you may need to do the following:</p>\n\n<ul>\n<li>create a new, white image (without alpha) the same size as your PNG</li>\n<li>composite your image over the new, white background</li>\n</ul>\n\n<p>I suspect the second step above will look something like:</p>\n\n<pre><code>$white = $white-&gt;compose(src=&gt;$img)\n</code></pre>\n\n<p>You <em>may</em> also need to add <code>mask=&gt;$img</code> to the arguments, and you <em>may</em> also need to experiment with <code>opacity=&gt;0.5</code> or <code>1.0</code> or <code>0.0</code>.</p>\n\n<p>If anyone knows better, just tell me and I will delete this answer!</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 1755910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa9234b0adbe3c7f6cce537dcf6f8ad?s=128&d=identicon&r=PG", "display_name": "arthas", "link": "https://stackoverflow.com/users/1755910/arthas"}, "is_accepted": true, "score": 2, "last_activity_date": 1536660685, "creation_date": 1536660685, "answer_id": 52273583, "question_id": 50385932, "link": "https://stackoverflow.com/questions/50385932/perl-imager-how-do-i-make-the-alpha-channel-become-black-insead-of-white/52273583#52273583", "title": "Perl Imager: how do I make the alpha channel become black insead of white?", "body": "<p>After a suggestion by the author of Imager, it seems that the most straightforward solutions is this:</p>\n\n<pre><code>use Imager;\n\nmy $img = Imager-&gt;new( file =&gt; './fsc.png' );\n$img = $img-&gt;scale( xpixels =&gt; 100 );\n$img-&gt;write( type =&gt; 'jpeg', file =&gt; './fsc.jpg', i_background =&gt; Imager::Color-&gt;new(\"#FFF\") );\n</code></pre>\n\n<p>That is, the <em>i_background</em> parameter to save does the trick.</p>\n"}], "owner": {"reputation": 101, "user_id": 1755910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa9234b0adbe3c7f6cce537dcf6f8ad?s=128&d=identicon&r=PG", "display_name": "arthas", "link": "https://stackoverflow.com/users/1755910/arthas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 52273583, "answer_count": 2, "score": 2, "last_activity_date": 1536660685, "creation_date": 1526542907, "last_edit_date": 1526548021, "question_id": 50385932, "link": "https://stackoverflow.com/questions/50385932/perl-imager-how-do-i-make-the-alpha-channel-become-black-insead-of-white", "title": "Perl Imager: how do I make the alpha channel become black insead of white?", "body": "<p>I wrote this code to convert a PNG image to JPEG:</p>\n\n<pre><code>use Imager;\nuse strict;\n\nmy $img = Imager-&gt;new( file =&gt; './fsc.png' );\n$img = $img-&gt;convert( preset =&gt; 'noalpha' );\n$img = $img-&gt;scale( xpixels =&gt; 100 );\n$img-&gt;write( type =&gt; 'jpeg', file =&gt; './fsc.jpg' );\n</code></pre>\n\n<p>When passing a PNG with alpha channel (transparent), the background becomes black. What I would like to do is to have it white, instead.</p>\n\n<p>Curiously, if I just write:</p>\n\n<pre><code>my $img = Imager-&gt;new( file =&gt; './fsc.png' );\n$img-&gt;write( type =&gt; 'jpeg', file =&gt; './fsc.jpg' );\n</code></pre>\n\n<p>the jpeg has white background, but of course it's not scaled to the size I need.</p>\n"}, {"tags": ["perl", "gnuplot"], "comments": [{"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "edited": false, "score": 0, "creation_date": 1526542537, "post_id": 50385723, "comment_id": 87787210, "body": "<a href=\"https://stackoverflow.com/questions/29063622/gnuplot-exit-on-window-close\">gnuplot exit on close</a> may be related"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1526548246, "post_id": 50385723, "comment_id": 87790683, "body": "It seems like the <code>plot2d()</code> command is waiting for an EOF character. Try press CTRL-D in the terminal window."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1526549028, "post_id": 50385723, "comment_id": 87791269, "body": "I think the reason it waits for commands in the terminal after plotting  is that you specified the <code>terminal =&gt; &#39;x11&#39;</code> option. If you remove that option and specify <code>output =&gt; &quot;test.png&quot;</code> instead, it will save to a file instead and not wait in the terminal for further commands"}, {"owner": {"reputation": 43, "user_id": 7717001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b720624f6545d720269a5604c6fe54a?s=128&d=identicon&r=PG&f=1", "display_name": "Pr0nboy", "link": "https://stackoverflow.com/users/7717001/pr0nboy"}, "edited": false, "score": 0, "creation_date": 1526638281, "post_id": 50385723, "comment_id": 87833161, "body": "Thanks, both worked, but I wanted the script to be as clean as possible (I didn&#39;t want to press CTRL-D every time) and the option to use mouse interactions, so the .png output wasn&#39;t enough"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1526574737, "post_id": 50396319, "comment_id": 87808608, "body": "Closing <code>STDIN</code> (or any other standard handle (<code>STDOUT</code>, <code>STDERR</code>)) is a very, very bad idea. The next file that gets opened (maybe implicitly 15 levels down the call stack in some module) gets file descriptor 0, and anyone reading from <code>STDIN</code> will see &quot;interesting&quot; input. Much better: <code>open STDIN, &quot;&lt;&quot;, &quot;&#47;dev&#47;null&quot; or die &quot;Can&#39;t open &#47;dev&#47;null: $!&quot;;</code> i.e. redirect stdin to <code>&#47;dev&#47;null</code>."}, {"owner": {"reputation": 43, "user_id": 7717001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b720624f6545d720269a5604c6fe54a?s=128&d=identicon&r=PG&f=1", "display_name": "Pr0nboy", "link": "https://stackoverflow.com/users/7717001/pr0nboy"}, "edited": false, "score": 0, "creation_date": 1526638110, "post_id": 50396319, "comment_id": 87833061, "body": "Thank you both! This worked exactly as I wanted, now the script ends without waiting for a command"}], "tags": [], "owner": {"reputation": 8543, "user_id": 5008284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AvSMy.jpg?s=128&g=1", "display_name": "meuh", "link": "https://stackoverflow.com/users/5008284/meuh"}, "is_accepted": true, "score": 3, "last_activity_date": 1526575351, "last_edit_date": 1526575351, "creation_date": 1526574354, "answer_id": 50396319, "question_id": 50385723, "link": "https://stackoverflow.com/questions/50385723/how-to-close-gnu-process/50396319#50396319", "title": "How to close Gnu process?", "body": "<p><code>Chart::Gnuplot</code> runs <code>gnuplot</code> with the same stdin and other file descriptors open. After drawing the picture, <code>gnuplot</code> reads stdin waiting for more commands. </p>\n\n<p>One solution is to simply redirect stdin to <code>/dev/null</code> in your perl program before doing the plot. This will also make the image immediately appear and disappear, so you should also add the <code>persist</code> option. Here are the 2 lines to change:</p>\n\n<pre><code>my $chart = Chart::Gnuplot-&gt;new(\n    terminal =&gt; 'x11 persist',\n...\nopen(STDIN, \"&lt;\", \"/dev/null\") or die \"Can't open /dev/null: $!\";\n$chart-&gt;plot2d($dataSet);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7717001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b720624f6545d720269a5604c6fe54a?s=128&d=identicon&r=PG&f=1", "display_name": "Pr0nboy", "link": "https://stackoverflow.com/users/7717001/pr0nboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 50396319, "answer_count": 1, "score": 1, "last_activity_date": 1526902039, "creation_date": 1526542202, "last_edit_date": 1526902039, "question_id": 50385723, "link": "https://stackoverflow.com/questions/50385723/how-to-close-gnu-process", "title": "How to close Gnu process?", "body": "<p>I'm trying to make a script using Perl and the\n<a href=\"https://metacpan.org/pod/Chart::Gnuplot\" rel=\"nofollow noreferrer\"><code>Chart::Gnuplot</code></a>\nmodule for Linux to represent a series of data. It is something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Chart::Gnuplot;\n\ndie \"Linux check\" if ( $^O ne 'linux' );\n\nmy $chart = Chart::Gnuplot-&gt;new(\n    terminal =&gt; 'x11',\n    title    =&gt; {\n        text =&gt; \"GRAPH\",\n        font =&gt; \"Arial, 20\"\n    },\n    xlabel =&gt; {\n        text  =&gt; \"X AXIS\",\n        font   =&gt; \"arial, 20\",\n        offset =&gt;\"0,-1\"\n    },\n    ylabel =&gt; {\n        text   =&gt; \"Y AXIS\",\n        font   =&gt; \"arial, 20\",\n        offset =&gt;\"-6,0\"\n    },\n);\n\nmy $dataSet = Chart::Gnuplot::DataSet-&gt;new(\n    xdata =&gt; \\@x_data,\n    ydata =&gt; \\@y_data,\n    style =&gt; \"points\",\n);\n\n$chart-&gt;plot2d($dataSet);\n\nexit;\n</code></pre>\n\n<p>When I run this from Eclipse, the script works OK and the graph shows correctly, but the process won't terminate (closing the Gnuplot window won't work). Something similar happens when I run it at the terminal.</p>\n\n<p>The problematic line is  <code>$chart-&gt;plot2d($dataSet)</code> without which it can terminate correctly. What could I do to end it right after closing the window? </p>\n"}, {"tags": ["perl", "typeglob"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1526541689, "last_edit_date": 1526541689, "creation_date": 1526529960, "answer_id": 50383186, "question_id": 50382832, "link": "https://stackoverflow.com/questions/50382832/perl-how-to-determine-the-type-of-a-raw-symbol/50383186#50383186", "title": "perl how to determine the type of a &quot;raw symbol&quot;", "body": "<p><code>*foo</code> is called a typeglob, or glob for short. A glob is reflection of an instance of a C structure that contains a slot for each type of value &mdash;a \"glob\" of \"types\", one might say&mdash; and forms the basis of the symbol table.</p>\n\n<p>They are weird because they are both a type of variable (<code>*foo</code>) and a type of value (value of <code>$sym</code>), though this isn't relevant here.</p>\n\n<p>To determine if a value is a glob, you can use the following:</p>\n\n<pre><code>use Scalar::Util qw( reftype );\n\n( reftype(\\$sym) // '' ) eq 'GLOB'\n</code></pre>\n\n<p>You could also use</p>\n\n<pre><code>ref(\\$sym) eq 'GLOB'   # Fooled by bless(\\$sym, 'GLOB')\n</code></pre>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 1, "accepted_answer_id": 50383186, "answer_count": 1, "score": 7, "last_activity_date": 1526885442, "creation_date": 1526527041, "last_edit_date": 1526885442, "question_id": 50382832, "link": "https://stackoverflow.com/questions/50382832/perl-how-to-determine-the-type-of-a-raw-symbol", "title": "perl how to determine the type of a &quot;raw symbol&quot;", "body": "<p>Apparently, it's possible to store a \"raw symbol\" (as opposed to a reference to a symbol) in a scalar variable and use it in scalar contexts.</p>\n\n<p>How do you determine whether a scalar-valued expression is one of these symbols?</p>\n\n<p>They appear to stringify to <code>\"*name_of_symbol\"</code> and <code>ref</code> returns <code>\"\"</code>. However <code>Data::Dumper</code> is also able to determine that it isn't a string and prints it without quoting.</p>\n\n<p>Is it possible to determine when you have a raw symbol? How is <code>Data::Dumper</code> doing it?</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nlocal *foo = \\4;\n\nmy $sym = *foo;\n\nprintf \"((%s))\\n\", $sym;\nprintf \"[[%s]]\\n\", (ref $sym);\nprint Dumper($sym);\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>((*main::foo))\n[[]]\n$VAR1 = *::foo;\n</code></pre>\n\n<p>I was expecting some dedicated value for <code>ref $sym</code>.</p>\n"}]