[{"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1446682537, "post_id": 33534318, "comment_id": 54850423, "body": "Still logged in as <code>root</code>, eh?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446681841, "post_id": 33534389, "comment_id": 54850225, "body": "There&#39;s other solution to fix this?"}, {"owner": {"reputation": 1989, "user_id": 996114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ab699f0efdf582f02f8f3dbba7a4b1?s=128&d=identicon&r=PG", "display_name": "Mike Covington", "link": "https://stackoverflow.com/users/996114/mike-covington"}, "reply_to_user": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446682107, "post_id": 33534389, "comment_id": 54850301, "body": "@JeromeLaliag What is your desired output?"}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446682219, "post_id": 33534389, "comment_id": 54850332, "body": "a1:b2:c3:d4:e5:f6 and change it to a1b2c3d4e5f6 then use it in variable, then print the variable."}, {"owner": {"reputation": 1989, "user_id": 996114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ab699f0efdf582f02f8f3dbba7a4b1?s=128&d=identicon&r=PG", "display_name": "Mike Covington", "link": "https://stackoverflow.com/users/996114/mike-covington"}, "reply_to_user": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446682370, "post_id": 33534389, "comment_id": 54850373, "body": "@JeromeLaliag See my answer for an easier alternative to split."}], "tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": false, "score": 3, "last_activity_date": 1446681615, "creation_date": 1446681615, "answer_id": 33534389, "question_id": 33534318, "link": "https://stackoverflow.com/questions/33534318/perl-colon-split-show-one-character/33534389#33534389", "title": "Perl colon split show one character", "body": "<p>The first paragraph of <code>perldoc -f split</code> says:</p>\n\n<pre><code>Splits the string EXPR into a list of strings and returns the\nlist in list context, or the size of the list in scalar context.\n</code></pre>\n\n<p>Be assigning the result of <code>split</code> to the scalar variable <code>$macaddress</code>, you're providing scalar context, and so you're getting the size of the list back.  It's just a coincidence that this happens to be the same as the last character of your input string.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1446692508, "post_id": 33534496, "comment_id": 54853020, "body": "or <code>$macaddr =~ y&#47;:&#47;&#47;d;</code>"}], "tags": [], "owner": {"reputation": 1989, "user_id": 996114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ab699f0efdf582f02f8f3dbba7a4b1?s=128&d=identicon&r=PG", "display_name": "Mike Covington", "link": "https://stackoverflow.com/users/996114/mike-covington"}, "is_accepted": true, "score": 4, "last_activity_date": 1446683502, "last_edit_date": 1495540314, "creation_date": 1446682336, "answer_id": 33534496, "question_id": 33534318, "link": "https://stackoverflow.com/questions/33534318/perl-colon-split-show-one-character/33534496#33534496", "title": "Perl colon split show one character", "body": "<p><a href=\"https://stackoverflow.com/a/33534389/996114\">Sean explained</a> why you are getting <code>6</code>. However, instead of using split, just <a href=\"http://perldoc.perl.org/functions/s.html\" rel=\"nofollow noreferrer\">substitute</a> to get rid of colons:</p>\n\n<pre><code>my $macaddr = \"a1:b2:c3:d4:e5:f6\";\n$macaddr =~ s/://g;\n\nprint $macaddr;\n# a1b2c3d4e5f6\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1446698167, "post_id": 33534572, "comment_id": 54854544, "body": "The output will be space separated <code>a1 b2 c3 d4 e5 f6</code>."}], "tags": [], "owner": {"reputation": 2570, "user_id": 251947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80f18fe71d6fc0940ab8b7a036dd056e?s=128&d=identicon&r=PG", "display_name": "Chris Koknat", "link": "https://stackoverflow.com/users/251947/chris-koknat"}, "is_accepted": false, "score": 0, "last_activity_date": 1446744589, "last_edit_date": 1446744589, "creation_date": 1446682849, "answer_id": 33534572, "question_id": 33534318, "link": "https://stackoverflow.com/questions/33534318/perl-colon-split-show-one-character/33534572#33534572", "title": "Perl colon split show one character", "body": "<p>You could use split in list context:</p>\n\n<pre><code>my @macaddress  = split /:/, $macaddr;\nprint join \"\", @macaddress;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1178, "favorite_count": 0, "accepted_answer_id": 33534496, "answer_count": 3, "score": 1, "last_activity_date": 1446744589, "creation_date": 1446681151, "last_edit_date": 1592644375, "question_id": 33534318, "link": "https://stackoverflow.com/questions/33534318/perl-colon-split-show-one-character", "title": "Perl colon split show one character", "body": "<p>Perl colon split show one character when using it in variables.</p>\n<p>Code</p>\n<pre><code>#!/usr/bin/perl\n\nmy $serialnumber= &quot;0123456789&quot;;\nmy $macaddr = &quot;a1:b2:c3:d4:e5:f6&quot;;\nmy $macaddress  = split /:/, $macaddr;\n\nprint $macaddress;\nprint &quot;\\n&quot;;\n</code></pre>\n<p>The result is only &quot;6&quot; or last character of the text.</p>\n<p>See image...</p>\n<p><a href=\"https://i.stack.imgur.com/Y8xIQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y8xIQ.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["perl", "reference"], "comments": [{"owner": {"reputation": 2095, "user_id": 5349263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c66ff89ed72d475248cef7878d5555?s=128&d=identicon&r=PG&f=1", "display_name": "blm", "link": "https://stackoverflow.com/users/5349263/blm"}, "edited": false, "score": 0, "creation_date": 1446678856, "post_id": 33533768, "comment_id": 54849263, "body": "How are you calling the subroutine and using the return? Maybe add an example of that."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446678889, "post_id": 33533768, "comment_id": 54849274, "body": "What does your calling code look like? This has nothing to do with references and everything to do with lists."}, {"owner": {"reputation": 2095, "user_id": 5349263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c66ff89ed72d475248cef7878d5555?s=128&d=identicon&r=PG&f=1", "display_name": "blm", "link": "https://stackoverflow.com/users/5349263/blm"}, "edited": false, "score": 0, "creation_date": 1446679065, "post_id": 33533768, "comment_id": 54849339, "body": "Because I&#39;m impatient, I&#39;ll make a guess :-). You&#39;re doing something like <code>my ($x) = subroutine();</code>. That&#39;s calling <code>subroutine</code> in a list context, then assigning the first element of the returned list to $x. The first (and only in this case) element of the returned list is the hash reference, so the hash reference is being assigned to $x. So you&#39;re right, if your returned array will only ever have one hash reference, just return the hash reference directly."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1446679196, "creation_date": 1446679196, "answer_id": 33533959, "question_id": 33533768, "link": "https://stackoverflow.com/questions/33533768/weird-perl-behaviour-regarding-references/33533959#33533959", "title": "Weird perl behaviour regarding references", "body": "<p>Subroutines never return arrays in perl, they only return lists of (0 or more) scalars.</p>\n\n<p>If you call the sub in scalar context, your <code>return @arr</code> will get that context and return the number of elements in <code>@arr</code>.  If you call it in list context, the elements of <code>@arr</code> will be returned as a list.</p>\n\n<p>If what you want is to return an array reference, do <code>return \\@arr</code>.</p>\n"}], "owner": {"reputation": 25, "user_id": 2710292, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/88f012c6d0b904812af6352f5db7f7bc?s=128&d=identicon&r=PG&f=1", "display_name": "Earendil", "link": "https://stackoverflow.com/users/2710292/earendil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 33533959, "answer_count": 1, "score": 0, "last_activity_date": 1446679623, "creation_date": 1446678362, "last_edit_date": 1446679623, "question_id": 33533768, "link": "https://stackoverflow.com/questions/33533768/weird-perl-behaviour-regarding-references", "title": "Weird perl behaviour regarding references", "body": "<p>I'm having a piece of code where in a subroutine I have a hash and I push it's reference to an array. Then I return that array:</p>\n\n<pre><code>sub subroutine1 {\n    my @arr;\n    my %hash = (\"a\", \"b\", \"c\", \"d\");\n    foreach $key (keys %hash) {\n        #I'm doing something\n    }\n    push @arr, \\%hash;\n    return @arr;\n}\n</code></pre>\n\n<p>But later when I use the return value of the subroutine, this value is the hash reference instead of an array that contains one element which is a hash reference.</p>\n\n<p>So the code above could work for me without bothering to put the hash reference in the array - I could just be returning the hash reference. It works for me either way so I choose the shorter.</p>\n\n<p>My question is, why is perl doing this? Is this an expected behavior?</p>\n\n<p>Here is where I am calling the subroutine: inside another subroutine. I'm also using a statistics module for which I do all the dereferencing.</p>\n\n<pre><code>sub subroutine2 {\n    my @other_arr;\n    for ($i = 0; $i &lt; $val; $i++) {\n         push @other_arr, subroutine1($somedata);\n    }\n    foreach my $key (@keys) { # the keys of the hash are available from elsewhere\n        my $keystat = Statistics::Descriptive::Full-&gt;new(); \n        for (my $i =0; $i &lt; @other_arr; $i++) {\n            $keystat-&gt;add_data(${$other_arr[$i]}{$key});\n        }\n    }\n    # other stuff\n}\n</code></pre>\n"}, {"tags": ["html", "perl", "cgi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446674509, "post_id": 33532500, "comment_id": 54847359, "body": "Why don&#39;t you edit your question and include what you&#39;ve tried so far?"}, {"owner": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446675594, "post_id": 33532500, "comment_id": 54847944, "body": "The wrote the entire bgcolor statement. All I can recall trying atm is the value=&quot;F&quot;. F for female"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446676104, "post_id": 33532500, "comment_id": 54848182, "body": "I&#39;ll be blunt: there are a lot of problems with this code. If we ignore all of them for a second and focus on the issue at hand, we still don&#39;t have enough information to help you. What&#39;s the name of the form field that contains the gender? What are the possible values? You need to edit your question with that information if you expect to get help."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446676205, "post_id": 33532500, "comment_id": 54848232, "body": "Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446676464, "post_id": 33532500, "comment_id": 54848345, "body": "I gratefully accept your rebuke. I hope the the edited HTML section helps"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1446725266, "post_id": 33532500, "comment_id": 54868107, "body": "What has made you believe that learning CGI programming is a useful way to spend your time in 2015? There are plenty of better alternatives for writing dynamic web pages in Perl. And even if CGI was a sensible technology to use, it would be very strange to use it without using a) CGI.pm and b) a templating system of some kind. See <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> for a good overview of different approaches."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "edited": false, "score": 0, "creation_date": 1446677505, "post_id": 33533418, "comment_id": 54848790, "body": "Thanks!! this is what I was looking for!!"}, {"owner": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "edited": false, "score": 0, "creation_date": 1446679016, "post_id": 33533418, "comment_id": 54849315, "body": "Hey sorry for the inconvenience but is there any way to have the name entered in the form field show up instead of &quot; your content here&quot; ? I am currently clueless. The script I had did this. It would return the name of the person after you clicked &quot;submit&quot;  I appreciate you helping alot!"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "edited": false, "score": 0, "creation_date": 1446679676, "post_id": 33533418, "comment_id": 54849521, "body": "Use <code>$q-&gt;param(&quot;NAME_OF_FIELD&quot;)</code>, and then include it in the template in the same way as the other form data."}, {"owner": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "edited": false, "score": 0, "creation_date": 1446680181, "post_id": 33533418, "comment_id": 54849701, "body": "I&#39;ve made the following changes which don&#39;t seem to be correct.             my $name =$q-&gt;param(&quot;name&quot;);                                                             print &quot;&lt;blockquote&gt;&lt;em&gt;$name{name}  nice to meet you&lt;/em&gt;&lt;/blockquote&gt;\\n\\n&quot;;"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "edited": false, "score": 2, "creation_date": 1446680349, "post_id": 33533418, "comment_id": 54849754, "body": "Print statement? String? No, that&#39;s nothing like what I did. You include it in the template data by editing the hasref on the line <code>$template-&gt;process(\\*DATA, {sex =&gt; $sex});</code> and you include it in the output by adding <code>[% NAME_OF_THING | html %]</code> to the template at the end."}, {"owner": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "edited": false, "score": 0, "creation_date": 1446682390, "post_id": 33533418, "comment_id": 54850379, "body": "Hey I apologize as I just started learning perl a month ago. Thanks for your help :)"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "edited": false, "score": 1, "creation_date": 1446715878, "post_id": 33533418, "comment_id": 54862327, "body": "@NavPal \u2014 If you&#39;re just getting started, then I suggest you take a look at <a href=\"https://pragprog.com/book/swperl/modern-perl-fourth-edition\" rel=\"nofollow noreferrer\">Modern Perl</a>, whatever resources you&#39;re learning from seem to be using the coding practises of the mid-1990s and aren&#39;t serving you well."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1446676656, "creation_date": 1446676656, "answer_id": 33533418, "question_id": 33532500, "link": "https://stackoverflow.com/questions/33532500/change-background-color-based-on-selection-in-perl-cgi/33533418#33533418", "title": "Change background color based on selection in perl CGI", "body": "<blockquote>\n<pre><code>&lt;input type=\"radio\" name=\"gen1\" value=\"M\"&gt; male &lt;br&gt;\n&lt;input type=\"radio\" name=\"gen2\"  value=\"F\"&gt; female &lt;br&gt;\n</code></pre>\n</blockquote>\n\n<p>Radio groups need to share a name. You should also learn to love labels.</p>\n\n<pre><code>&lt;label&gt;&lt;input type=\"radio\" name=\"sex\" value=\"male\"&gt; male&lt;/label&gt; &lt;br&gt;\n&lt;label&gt;&lt;input type=\"radio\" name=\"sex\"  value=\"female\"&gt; female&lt;/label&gt; &lt;br&gt;\n</code></pre>\n\n<p>Since you are using CGI, I've pulled in a CGI library. Note that CGI is not considered best practise and you should consider moving away from it.</p>\n\n<p>The <code>param</code> method on a CGI object will let you read the form data from the query string.</p>\n\n<p>Almost two decades ago, CSS was added to the web development stack. Use it for your presentation code. </p>\n\n<p>Then set the class on the body based on your input data. This is best done using templates.</p>\n\n<p>Note also: There is no \"value\" attribute for the body element.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse CGI; # I strongly suggest moving to Plack and FastCGI\nuse Template;\n\nmy $q = CGI-&gt;new;\nmy $sex = $q-&gt;param(\"sex\");\n\nif ((!defined $sex) || ($sex ne \"male\" &amp;&amp; $sex ne \"female\")) {\n    $sex = \"\";\n}\n\nprint $q-&gt;header(-type =&gt; \"text/html\", -charset =&gt; 'utf-8');\n\nmy $template = Template-&gt;new;\n$template-&gt;process(\\*DATA, {sex =&gt; $sex});\n\n__DATA__\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf=8\"&gt;\n        &lt;title&gt;Demo&lt;/title&gt;\n        &lt;style&gt;\n            body {\n                background-color: pink;\n            }\n\n            .male {\n                background-color: green;\n            }\n\n            .female {\n                background-color: yellow;\n            }\n       &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body [% IF sex %]class=\"[% sex | html %]\"[% END %]&gt;\n        &lt;h1&gt;Your content here&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5012557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a227059e83a40a20f6a17f09d1d318f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nav Pal", "link": "https://stackoverflow.com/users/5012557/nav-pal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1443, "favorite_count": 0, "accepted_answer_id": 33533418, "answer_count": 1, "score": 0, "last_activity_date": 1446679154, "creation_date": 1446673066, "last_edit_date": 1446679154, "question_id": 33532500, "link": "https://stackoverflow.com/questions/33532500/change-background-color-based-on-selection-in-perl-cgi", "title": "Change background color based on selection in perl CGI", "body": "<p>The code below takes the name field entered in a HTML form and outputs       \" hello [entered name] how are you. Also in the form there is a selection for gender either male or female. I would like the CGI script to change background color to green color if chosen male and yellow color if chosen female. Right now the color is static(pink). I've been trying to get it to work but no luck</p>\n\n<pre><code> #!/usr/bin/perl\n use CGI::Carp qw(fatalsToBrowser);\n\n component parts\n\n\n    $qstring = $ENV{'QUERY_STRING'};\n    @pairs = split(/&amp;/, $qstring);\n    foreach $pair (@pairs) {\n            ($name, $value) = split(/=/, $pair);\n            $value =~ tr/+/ /;\n            $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n            $FORM{$name} = $value;\n    }\n\n  &amp;thank_you;\n   #}\n\n  sub thank_you {\n\n  print \"Content-type: text/html\\n\\n\";\n\n  print &lt;&lt;EndStart;\n\n    &lt;html&gt;\n\n\n\n\n   &lt;body bgcolor=\"#ff69b4\" value=\"F\" &gt; \n\n    &lt;hr&gt;\n\n  EndStart\n\n      print \"&lt;p&gt;hello&lt;/p&gt;\\n\"; print \"&lt;blockquote&gt;&lt;em&gt;$FORM{name} how are  you &lt;/em&gt;&lt;/blockquote&gt;\\n\\n\";\n\n    print &lt;&lt;EndHTML;\n\n    &lt;/body&gt;\n    &lt;/html&gt;\n\n   EndHTML\n\n   exit(0);\n</code></pre>\n\n<p>Part of the HTML code</p>\n\n<pre><code>What is your gender? &lt;input type=\"radio\" name=\"gen1\" value=\"M\"&gt; male &lt;br&gt;\n              &lt;input type=\"radio\" name=\"gen2\"  value=\"F\"&gt; female &lt;br&gt;\n\n name: &lt;input type=\"text\" name=\"name\"&gt;&lt;br&gt;\n</code></pre>\n"}, {"tags": ["c", "regex", "perl"], "comments": [{"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 2, "creation_date": 1446666796, "post_id": 33530496, "comment_id": 54843085, "body": "So, uhm, you want to parse C, without writing a parser for C? Ain&#39;t gonna happen with any amount of robustness, sorry. Better to actually write a parser."}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 4, "last_activity_date": 1446667534, "last_edit_date": 1446667534, "creation_date": 1446666405, "answer_id": 33530709, "question_id": 33530496, "link": "https://stackoverflow.com/questions/33530496/perl-regex-to-find-the-name-of-a-packed-struct-without-using-variable-length-loo/33530709#33530709", "title": "Perl regex to find the name of a packed struct without using variable length lookbehind?", "body": "<pre><code>$ perl -0777 -nE 'say $1 while m/typedef struct (\\w+) \\{[^}]+\\} __packed \\w+;/g' file\nbar_s\n</code></pre>\n\n<p>The keys here is <code>\\{[^}]+\\}</code> to match a braced block with no \"inner\" close braces.</p>\n"}], "owner": {"reputation": 35, "user_id": 1188076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da866cc4ef40d0df9b1aebcf61b20c5a?s=128&d=identicon&r=PG", "display_name": "Ben Shelton", "link": "https://stackoverflow.com/users/1188076/ben-shelton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 33530709, "answer_count": 1, "score": 3, "last_activity_date": 1446667534, "creation_date": 1446665702, "question_id": 33530496, "link": "https://stackoverflow.com/questions/33530496/perl-regex-to-find-the-name-of-a-packed-struct-without-using-variable-length-loo", "title": "Perl regex to find the name of a packed struct without using variable length lookbehind?", "body": "<p>I have a number of C structures across several different files.  Some of them are specified as packed, and some are not.  Like this:</p>\n\n<pre><code>typedef struct foo_s {\n    uint32 foo_field_1;\n    uint64 foo_field_2;\n} foo_t;\n\ntypedef struct bar_s {\n    uint32 bar_field_1;\n    uint64 bar_field_2;\n} __packed bar_t;\n</code></pre>\n\n<p>I'd like to get a list of the struct names for only the packed structs.  For the code above, that would include <code>bar_s</code>, but not <code>foo_s</code>.</p>\n\n<p>I wrote a Perl one-liner like this that seems to get me most of the way there:</p>\n\n<pre><code>perl -0777 -ne 'while(m/typedef struct (\\w+) {\\n(?:.*\\n)*?} __packed \\w+;/g){print \"$1\\n\";}' &lt;filename&gt;\n</code></pre>\n\n<p>The issue is that for the structs above, this actually returns foo_s, since it initially matches <code>typedef struct foo_s {</code> and then continues until it matches <code>} __packed bar_t</code>.</p>\n\n<p>I tried using lookbehind to go back and find the most recent match of <code>typedef struct</code> whenever <code>__packed</code> is found, but variable length lookbehind is not supported.</p>\n\n<p>Is there a way to handle this with regular expressions in Perl?  Ideally, it would be something like \"Match <code>typedef struct &lt;name&gt;</code> each time it's found, and then if you find <code>__packed</code>, print out the most recently matched struct name\".</p>\n\n<p>I'd like to avoid writing a parser if I can.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "string", "perl"], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446665773, "post_id": 33530400, "comment_id": 54842499, "body": "You don&#39;t need to escape the double quotes, and you don&#39;t need the <code>&#47;ms</code> modifiers."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1446666763, "post_id": 33530400, "comment_id": 54843075, "body": "@glennjackman I assure you, you don&#39;t. We don&#39;t need <code>.</code> to match newlines, because we&#39;re not even using <code>.</code> in this pattern. <a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">perlre</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1446667410, "post_id": 33530400, "comment_id": 54843420, "body": "The problem with this answer is that it&#39;s incomplete. Rather than just telling someone what to do, it would be better to show the solution (with code)."}], "tags": [], "owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "is_accepted": false, "score": 1, "last_activity_date": 1446665332, "creation_date": 1446665332, "answer_id": 33530400, "question_id": 33530193, "link": "https://stackoverflow.com/questions/33530193/how-to-grep-capture-a-multiline-pattern-of-a-file-in-perl/33530400#33530400", "title": "How to grep capture a multiline pattern of a file in Perl", "body": "<p>Read the entire file into a single variable and use <code>/attribute3=\\\"([^\\\"]*)\\\"/ms</code></p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1446669596, "creation_date": 1446669596, "answer_id": 33531565, "question_id": 33530193, "link": "https://stackoverflow.com/questions/33530193/how-to-grep-capture-a-multiline-pattern-of-a-file-in-perl/33531565#33531565", "title": "How to grep capture a multiline pattern of a file in Perl", "body": "<pre><code>my $str = do { local($/); &lt;DATA&gt; };\n$str =~ /attribute3=\"([^\"]*)\"/;\n$str = $1;\n$str =~ s/\\n/ /g;\n\n__DATA__\nRandom words go here\n/attribute1\n/attribute2\n/attribute3=\"all*the*things*I'm*interested*in*are*inside*here**\nand*it*goes*into*the*next*line.*blah*blah*blah*foo*foo*foo*foo*\nbar*bar*bar*bar*random*words*go*here*until*the*end*of*the*sente\nnce.*I*think*we*have*enough*words\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "is_accepted": false, "score": 1, "last_activity_date": 1446670552, "creation_date": 1446670552, "answer_id": 33531836, "question_id": 33530193, "link": "https://stackoverflow.com/questions/33530193/how-to-grep-capture-a-multiline-pattern-of-a-file-in-perl/33531836#33531836", "title": "How to grep capture a multiline pattern of a file in Perl", "body": "<p>From the command line:</p>\n\n<pre><code>perl -n0e '/\\/attribute3=\"(.*)\"/s &amp;&amp; print $1' foo.txt \n</code></pre>\n\n<p>This is basically what you had, but the <code>0</code> flag is the equivalent of <code>undef $/</code> within the code. From the man page:</p>\n\n<blockquote>\n  <p>-0[octal/hexadecimal]</p>\n  \n  <p>specifies the input record separator ($/) as an octal or hexadecimal number.  If there are no digits, the null character is the separator.</p>\n</blockquote>\n"}], "owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 33531565, "answer_count": 3, "score": 1, "last_activity_date": 1446670552, "creation_date": 1446664550, "question_id": 33530193, "link": "https://stackoverflow.com/questions/33530193/how-to-grep-capture-a-multiline-pattern-of-a-file-in-perl", "title": "How to grep capture a multiline pattern of a file in Perl", "body": "<p>I have a file that looks something like this:</p>\n\n<pre><code>Random words go here\n/attribute1\n/attribute2\n/attribute3=\"all*the*things*I'm*interested*in*are*inside*here**\nand*it*goes*into*the*next*line.*blah*blah*blah*foo*foo*foo*foo*\nbar*bar*bar*bar*random*words*go*here*until*the*end*of*the*sente\nnce.*I*think*we*have*enough*words\"\n</code></pre>\n\n<p>I want to grep the file for the line <code>\\attribute3=</code> then I want to save the string found inside the quotation marks to a separate variable.</p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>#!/bin/perl\nuse warnings; use strict;\nmy $file = \"data.txt\";\nopen(my $fh, '&lt;', $file) or die $!;\nwhile (my $line = &lt;$fh&gt;) {\n    if ($line =~ /\\/attribute3=/g){\n        print $line . \"\\n\";\n    }\n}\n</code></pre>\n\n<p>That's printing out <code>/attribute3=\"all*the*things*I'm*interested*in*are*inside*here**</code> but </p>\n\n<p>I want <code>all*the*things*I'm*interested*in*are*inside*here**and*it*goes*into*the*next*line.*blah*blah*blah*foo*foo*foo*foo*bar*bar*bar*bar*random*words*go*here*until*the*end*of*the*sentence.*I*think*we*have*enough*words</code>.</p>\n\n<p>So what I did next is:</p>\n\n<pre><code>#!/bin/perl\nuse warnings; use strict;\nmy $file = \"data.txt\";\nopen(my $fh, '&lt;', $file) or die $!;\nmy $part_I_want;\nwhile (my $line = &lt;$fh&gt;) {\n    if ($line =~ /\\/attribute3=/g){\n        $line =~ /^/\\attribute3=\\\"(.*?)/;   # capture everything after the quotation mark\n        $part_I_want .= $1;   # the capture group; save the stuff on line 1\n        # keep adding to the string until we reach the closing quotation marks\n        next (unless $line =~ /\\\"/){\n             $part_I_want .= $_;    \n        }\n    }\n}\n</code></pre>\n\n<p>The code above doesn't work. How do I grep capture a multiline pattern between two characters (in this case it's quotation marks)? </p>\n"}, {"tags": ["perl", "ipc", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1446695429, "creation_date": 1446695429, "answer_id": 33536392, "question_id": 33529507, "link": "https://stackoverflow.com/questions/33529507/share-a-complex-object-between-processes/33536392#33536392", "title": "Share a complex object between processes", "body": "<p>There's various ways you can achieve, this. To share the websocket itself would be hard, and requires a solid understanding of process forking/threading, sharing file descriptors, and knowledge of the mojolicious foundation code, which very likely will need to be changed.</p>\n\n<p>If your aim is to load balance, or perform some long running task, your better off having your mojo application take the request, and add it to a queue system such as redis. You can have multiple processes listening for specific requests, read the payload, and send a response back through the queue.</p>\n\n<p>If you just want to be able to access the internals of your Mojo application for other purposes, consider proving a restful endpoint with the data you wish to publish,</p>\n\n<p>Alternatively, you can look at remote procedure calls (RPC) which will allow your Mojo process to call functions, and send data to other processes. Look at <a href=\"http://search.cpan.org/~cedwards/RPC-Simple-1.002/Simple.pm\" rel=\"nofollow\">RPC::Simple</a> as an example.</p>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1446695429, "creation_date": 1446662249, "question_id": 33529507, "link": "https://stackoverflow.com/questions/33529507/share-a-complex-object-between-processes", "title": "Share a complex object between processes", "body": "<p>I want to share a Mojo::Transaction::WebSocket object between processes.</p>\n\n<p>The reason for this is that I am building a websocket chat and I don't want to limit Mojolicious to run only with one worker. </p>\n\n<p>Storable did not work for me it just gives me weird errors.</p>\n\n<p>Any ideas would be appreciated. </p>\n"}, {"tags": ["perl", "sockets"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5525996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af964ed9872e52a1394e02ef3d8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Raddatz", "link": "https://stackoverflow.com/users/5525996/kevin-raddatz"}, "edited": false, "score": 0, "creation_date": 1446664278, "post_id": 33529456, "comment_id": 54841698, "body": "My answer had been to long for a comment so I updated the main question"}, {"owner": {"reputation": 51, "user_id": 5525996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af964ed9872e52a1394e02ef3d8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Raddatz", "link": "https://stackoverflow.com/users/5525996/kevin-raddatz"}, "edited": false, "score": 0, "creation_date": 1446673020, "post_id": 33529456, "comment_id": 54846567, "body": "Thanks for the answer, but now I got the error message &quot;lock can only be used on shared values&quot; in the line with lock($requestConnectionSocket);"}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "reply_to_user": {"reputation": 51, "user_id": 5525996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af964ed9872e52a1394e02ef3d8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Raddatz", "link": "https://stackoverflow.com/users/5525996/kevin-raddatz"}, "edited": false, "score": 0, "creation_date": 1447445889, "post_id": 33529456, "comment_id": 55174122, "body": "@KevinRaddatz Right; I&#39;m sure you added <code>$requestConnectionSocket</code> to the <code>my</code> list that ended in <code>:shared</code>. I&#39;ll update my answer to show that."}], "tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 0, "last_activity_date": 1447445973, "last_edit_date": 1447445973, "creation_date": 1446662080, "answer_id": 33529456, "question_id": 33529176, "link": "https://stackoverflow.com/questions/33529176/how-can-i-copy-a-socket-into-an-other-variable/33529456#33529456", "title": "How can I copy a socket into an other variable", "body": "<p>If you're using <code>IO::Socket</code> wouldn't you rather use the <code>accept</code> method from the package like:</p>\n\n<pre><code>my $newSocket = $requestConnectionSocket-&gt;accept();\n</code></pre>\n\n<p>This returns an object and I see no issues assigning that object to a differently named scalar reference.</p>\n\n<p>Okay you updated your question with code like the above, now:</p>\n\n<blockquote>\n  <p><a href=\"https://i.stack.imgur.com/aHoWB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aHoWB.gif\" alt=\"Clippy suggests thread saftey\"></a><br>\n  It looks like you're trying to share state in threads, have you planned your thread safety?</p>\n</blockquote>\n\n<pre><code># http://perldoc.perl.org/threads/shared.html\nuse threads;\nuse threads::shared;\n...\nmy ($requestConnectionSocket, $frontendSocket, $robotSocket, $sensorSocket) :shared;\n\nsub waitForConnection {\n    threads-&gt;create(sub {\n        while(1){\n            my $newSocket;\n            {\n              lock($requestConnectionSocket);\n              $newSocket = $requestConnectionSocket-&gt;accept();\n            }\n            $newSocket-&gt;recv($message, 1024);\n            if ($message eq \"Frontend\")\n                {\n                    lock($frontendSocket);\n                    $frontendSocket = $newSocket;\n                    $frontendSocket-&gt;send(\"hello\\n\");\n                }\n            if ($message eq \"Roboter\")\n                {lock($robotSocket); $robotSocket = $newSocket;}\n            if ($message eq \"Sensor\")\n                {lock($sensorSocket); $sensorSocket = $newSocket;}\n        }\n    });\n}\n... meanwhile, in another context ...\n# I have front end work to do now, figure out if I need to lock or wait and on what.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5525996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af964ed9872e52a1394e02ef3d8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Raddatz", "link": "https://stackoverflow.com/users/5525996/kevin-raddatz"}, "edited": false, "score": 0, "creation_date": 1446665354, "post_id": 33530328, "comment_id": 54842266, "body": "Sounds logical. But is there a workaround? I want a listener socket to handle incoming connections. Then $frontendSocket would be used in a thread where it will receive messages and deliver them to the other clients. Or do I have to let them listen on different ports and assign them directly?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 51, "user_id": 5525996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af964ed9872e52a1394e02ef3d8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Raddatz", "link": "https://stackoverflow.com/users/5525996/kevin-raddatz"}, "edited": false, "score": 0, "creation_date": 1446665450, "post_id": 33530328, "comment_id": 54842316, "body": "You&#39;d need a thread with the message queue. Upon getting connection, your listening thread would send a new socket to the queue for later processing."}, {"owner": {"reputation": 51, "user_id": 5525996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af964ed9872e52a1394e02ef3d8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Raddatz", "link": "https://stackoverflow.com/users/5525996/kevin-raddatz"}, "edited": false, "score": 0, "creation_date": 1446666193, "post_id": 33530328, "comment_id": 54842744, "body": "I am not exactly sure what you mean with the queue. Can you explain it a bit more detailed?"}, {"owner": {"reputation": 51, "user_id": 5525996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af964ed9872e52a1394e02ef3d8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Raddatz", "link": "https://stackoverflow.com/users/5525996/kevin-raddatz"}, "edited": false, "score": 0, "creation_date": 1446670812, "post_id": 33530328, "comment_id": 54845387, "body": "You mean I create an additional thread that handles the queue? In the &quot;waitForConnection&quot; thread I wait for the message and pass the message and the socket to the queueThread?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 51, "user_id": 5525996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af964ed9872e52a1394e02ef3d8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Raddatz", "link": "https://stackoverflow.com/users/5525996/kevin-raddatz"}, "edited": false, "score": 0, "creation_date": 1446670857, "post_id": 33530328, "comment_id": 54845410, "body": "You do not need another thread. But you need a queue between your main thread and handler thread."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1446665038, "creation_date": 1446665038, "answer_id": 33530328, "question_id": 33529176, "link": "https://stackoverflow.com/questions/33529176/how-can-i-copy-a-socket-into-an-other-variable/33530328#33530328", "title": "How can I copy a socket into an other variable", "body": "<p>You have multiple threads accessing the same frontendSocket. This is doomed to fail. What is going to happen when one thread receives a new message (and updates the socket with it), but another thread is still working with the previous socket? Can't do this. </p>\n"}], "owner": {"reputation": 51, "user_id": 5525996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4af964ed9872e52a1394e02ef3d8ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Raddatz", "link": "https://stackoverflow.com/users/5525996/kevin-raddatz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1447445973, "creation_date": 1446661123, "last_edit_date": 1446664222, "question_id": 33529176, "link": "https://stackoverflow.com/questions/33529176/how-can-i-copy-a-socket-into-an-other-variable", "title": "How can I copy a socket into an other variable", "body": "<p>I have a backendserver and different clients who provide different services.</p>\n\n<p>In a thread I wait for incoming TCP connections. Then they should send am message with what type they are, like a robot or a frontend. </p>\n\n<p>On the backend I now wait for the connections and check what type they are, and depending on that I want it to be copied into for example a $frontendSocket:</p>\n\n<pre><code>$requestConnectionSocket = new IO::Socket::INET(...);\n$frontendSocket;\n\nsub waitForConnection {\n    threads-&gt;create(sub {\n        while(1){\n            $newSocket = $requestConnectionSocket-&gt;accept();\n            $newSocket-&gt;recv($message, 1024);\n            if ($message eq \"Frontend\")\n                {\n                    $frontendSocket = $newSocket;\n                    $frontendSocket-&gt;send(\"hello\\n\");\n                }\n            if ($message eq \"Roboter\")\n                {$robotSocket = $newSocket;}\n            if ($message eq \"Sensor\")\n                {$sensorSocket = $newSocket;}\n        }\n    });\n}\n</code></pre>\n\n<p>When I runt the script, in this thread I can send the message \"hello\". But when I want to use the socket outside I am not able to use $frontendSocket.</p>\n\n<p>I hope you understand my problem.</p>\n"}, {"tags": ["perl", "file", "split"], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1446658866, "post_id": 33528472, "comment_id": 54838356, "body": "And, yeah, the awk is equivalent but simpler: <code>awk &#39;{f = $1 &quot;.bed&quot;; print &gt; f}&#39; example.bed</code>"}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 5, "last_activity_date": 1446658746, "creation_date": 1446658746, "answer_id": 33528472, "question_id": 33528184, "link": "https://stackoverflow.com/questions/33528184/splitting-a-bed-file-based-on-chromosomes-into-chromosomename-bed-with-perl/33528472#33528472", "title": "Splitting a `.bed` file based on chromosomes into `chromosomeName.bed` with perl", "body": "<p>You can maintain a hash of filehandles:</p>\n\n<pre><code>$ cat example.bed \nchr1 12190 12227\nchr1 12595 12721\nchr2 876522 876688\nchr2 887378 887521\n\n$ perl -ane '\n    open $out{$F[0]}, \"&gt;\", $F[0].\".bed\" unless $out{$F[0]}; \n    print { $out{$F[0]} } $_;\n' example.bed\n\n$ cat chr1.bed\nchr1 12190 12227\nchr1 12595 12721\n\n$ cat chr2.bed\nchr2 876522 876688\nchr2 887378 887521\n</code></pre>\n\n<p>If you have hundreds of different chromasomes, you may run out of open filehandles. In that case, you'll have to open for append, print and close for each line.</p>\n"}, {"tags": [], "owner": {"reputation": 717, "user_id": 1483288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5b0b7a55223dba7a538aaf97dbbc6150?s=128&d=identicon&r=PG", "display_name": "ccc31807", "link": "https://stackoverflow.com/users/1483288/ccc31807"}, "is_accepted": false, "score": 1, "last_activity_date": 1446666980, "creation_date": 1446666980, "answer_id": 33530874, "question_id": 33528184, "link": "https://stackoverflow.com/questions/33528184/splitting-a-bed-file-based-on-chromosomes-into-chromosomename-bed-with-perl/33530874#33530874", "title": "Splitting a `.bed` file based on chromosomes into `chromosomeName.bed` with perl", "body": "<p>A tad verbose, maybe, but will allow flexibility if you need to manipulate(sort, search, etc) the content. As a rule, if the data file fits into memory, I much prefer to stuff the entire file into memory and go from there.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# initialize the hash to contain the content    \nmy %bed;\n# read the entire file into memory\n# stuffing same into a hash\nwhile(&lt;DATA&gt;)\n{\n    chomp;\n    my @line = split;\n    my $car = $line[0];\n    my $cdr = join(' ', @line[1,-1]);\n    push(@{$bed{$car}}, $cdr);\n}\n\nforeach my $k (keys %bed)\n{\n    # create filename\n    my $fn = $k . '.txt';\n    # open file for writing\n    open OUT, '&gt;', $fn or die \"Cannot open $fn, $!\";\n    # print each element of the hash key\n    foreach my $e (@{$bed{$k}}) { print OUT \"$e\\n\"; }\n    # close file`\n    close OUT;\n}\nexit(0);    \n\n__DATA__\nchr1    12190   12227\nchr1    12595   12721\nchr2    876522  876688\nchr2    887378  887521\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 5344099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a7ffd3fcf019f1f15a758fe2284819?s=128&d=identicon&r=PG&f=1", "display_name": "Renee", "link": "https://stackoverflow.com/users/5344099/renee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 1, "accepted_answer_id": 33528472, "answer_count": 2, "score": 1, "last_activity_date": 1446666980, "creation_date": 1446657884, "last_edit_date": 1446662559, "question_id": 33528184, "link": "https://stackoverflow.com/questions/33528184/splitting-a-bed-file-based-on-chromosomes-into-chromosomename-bed-with-perl", "title": "Splitting a `.bed` file based on chromosomes into `chromosomeName.bed` with perl", "body": "<p>I am trying to use <code>perl</code> to split a <code>.bed</code> file into multiple ones based on chromosome. For example, my input file is <code>example.bed</code>:</p>\n\n<pre><code>chr1    12190   12227\nchr1    12595   12721\nchr2    876522  876688\nchr2    887378  887521\n...\n</code></pre>\n\n<p>And my ideal output is two <code>.bed</code> files: </p>\n\n<p><strong>chr1.bed</strong></p>\n\n<pre><code>chr1    12190   12227\nchr1    12595   12721\n</code></pre>\n\n<p><strong>chr2.bed</strong></p>\n\n<pre><code>chr2    876522  876688\nchr2    887378  887521\n</code></pre>\n\n<p>I know using <code>awk</code> to do this is easier, but I am hoping to figure out how to do this using a <code>perl</code> script.</p>\n"}, {"tags": ["apache", "perl", "cgi.pm"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1446663366, "post_id": 33527961, "comment_id": 54841168, "body": "When I see &quot;CGI.PM&quot;, I find myself wondering if you are using VMS or DOS."}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1446716368, "post_id": 33527961, "comment_id": 54862623, "body": "@tjd When I see your comment I find myself wondering what is VMS and DOS (unless you mean DOS as OS)? Wdn&#39;t you, please, kindly explain? Thanks!"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1446727649, "post_id": 33527961, "comment_id": 54869592, "body": "VMS &amp; DOS are two OSs that use strictly upper case file names.  In most any other OS the file name would be &quot;CGI.pm&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1446660803, "post_id": 33528232, "comment_id": 54839647, "body": "Thanks! ikegami, as always)) Great stuff!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1446658049, "creation_date": 1446658049, "answer_id": 33528232, "question_id": 33527961, "link": "https://stackoverflow.com/questions/33527961/reading-from-cgi-pm-file-by-chunks/33528232#33528232", "title": "Reading from CGI.PM file by chunks", "body": "<p>Yes, by using <a href=\"http://perldoc.perl.org/functions/read.html\" rel=\"nofollow\"><code>read</code></a>.</p>\n\n<p>&#x20;&#x20;&#x20;&#x20;</p>\n"}], "owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 33528232, "answer_count": 1, "score": 0, "last_activity_date": 1446658049, "creation_date": 1446657243, "question_id": 33527961, "link": "https://stackoverflow.com/questions/33527961/reading-from-cgi-pm-file-by-chunks", "title": "Reading from CGI.PM file by chunks", "body": "<p>We have a file, sent from HTML form to CGI (perl) script.\nWe know, that files came from HTML via CGI.PM are paged onto disk (as an alternative for RAM). And in this case I have a question: is it possible to read a file by chunks from that memory into CGI script (say, into array)?\nThe code we have as simple as possible:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse CGI;\nuse CGI::Carp qw ( fatalsToBrowser );\n\nmy $q = new CGI;\n\nmy @file = $q-&gt;upload(\"file\"); # here I think must be some while(&lt;&gt;) {} for reading from N byte to X byte.\n</code></pre>\n\n<p>And if it is possible then I have a second sub-question: is it possible to read different chunks (say: fro the beginning from 0 to 500 bytes, then from 1000 to 1500, then from 501 to 999 bytes? Thanks!</p>\n"}, {"tags": ["regex", "perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1446654178, "post_id": 33526894, "comment_id": 54835000, "body": "Same as <code>perl -in -e &#39;...&#39;</code>, for example."}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": true, "score": 6, "last_activity_date": 1446654521, "last_edit_date": 1446654521, "creation_date": 1446654076, "answer_id": 33526894, "question_id": 33526743, "link": "https://stackoverflow.com/questions/33526743/perl-vs-sed-regex-substitue-foobar/33526894#33526894", "title": "Perl vs Sed regex substitue /(foo|bar)/", "body": "<p>This is just a problem on the order of the arguments you provide to <code>sed</code>. Say <code>sed -r -i</code> and you will see it working.</p>\n\n<p>When you say <code>sed -ir</code> you are setting in-place editing but NOT <code>-r</code> mode. Why? Because <code>-r</code> is understood as the parameter for <code>-i</code>, so that you end up having a <code>file</code> + <code>r</code> backup.</p>\n\n<hr>\n\n<p>Full test:</p>\n\n<pre><code>$ sed -ir 's/(foo|bar)=0//g' file\n</code></pre>\n\n<p><code>file</code> and <code>filer</code> are equal!</p>\n\n<pre><code>$ cat file\nThis is example output of the test.txt file foo=0\nThis is filenother example output of the bar=0 test.txt file\n$ cat filer\nThis is example output of the test.txt file foo=0\nThis is filenother example output of the bar=0 test.txt file\n</code></pre>\n\n<p>Let's separate the parameters:</p>\n\n<pre><code>$ sed -i -r 's/(foo|bar)=0//g' file\n</code></pre>\n\n<p>Now it is fine, <code>file</code> doesn't have this content any more:</p>\n\n<pre><code>$ cat file                         \nThis is example output of the test.txt file \nThis is filenother example output of the  test.txt file\n</code></pre>\n"}], "owner": {"reputation": 50, "user_id": 5525428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9230bda0fb979517271c76de788cabc?s=128&d=identicon&r=PG&f=1", "display_name": "liberteh", "link": "https://stackoverflow.com/users/5525428/liberteh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 1, "accepted_answer_id": 33526894, "answer_count": 1, "score": 1, "last_activity_date": 1446654521, "creation_date": 1446653740, "question_id": 33526743, "link": "https://stackoverflow.com/questions/33526743/perl-vs-sed-regex-substitue-foobar", "title": "Perl vs Sed regex substitue /(foo|bar)/", "body": "<p>I'm hoping someone might explain why sed does not work where perl does for this issue:</p>\n\n<pre><code>$ egrep \"(foo|bar)=0\" /var/tmp/test.txt\nThis is example output of the test.txt file foo=0\nThis is another example output of the bar=0 test.txt file\n$ sed -ir 's/(foo|bar)=0//g' /var/tmp/test.txt\n$ egrep \"(foo|bar)=0\" /var/tmp/test.txt\nThis is example output of the test.txt file foo=0\nThis is another example output of the bar=0 test.txt file\n$\n</code></pre>\n\n<p>Trying with perl the substitute works:</p>\n\n<pre><code>$ egrep \"(foo|bar)=0\" /var/tmp/test.txt\nThis is example output of the test.txt file foo=0\nThis is another example output of the bar=0 test.txt file\n$ perl -ne 's/(foo|bar)=0//g;print;' -i /var/tmp/test.txt\n$ egrep \"(foo|bar)=0\" /var/tmp/test.txt\n$ \n</code></pre>\n\n<p>Is there a way to make sed accomplish what perl's doing here?  Thank you kindly!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1446654291, "post_id": 33526647, "comment_id": 54835090, "body": "The question is incomplete.Please show your input files and your expected output both."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446655528, "post_id": 33527264, "comment_id": 54835984, "body": "Oh good. I thought I was being daft, but it looked like it was working."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1446656003, "last_edit_date": 1446656003, "creation_date": 1446655265, "answer_id": 33527264, "question_id": 33526647, "link": "https://stackoverflow.com/questions/33526647/perl-word-count-for-mulitple-files/33527264#33527264", "title": "Perl word count for mulitple files", "body": "<blockquote>\n  <p><em>Somehow when I put in two files to be counted, it only prints out one count.</em></p>\n</blockquote>\n\n<p>That's not true.</p>\n\n<pre><code>$ script .bashrc .bash_profile\nFiles               Characters          Words         Lines\n.bashrc                   2146            317            89\n.bash_profile             3339            502           148\nTOTAL                     5485            819           237\n</code></pre>\n\n<p>(Had to fix the shebang path, since it needs to be an absolute path.)</p>\n\n<blockquote>\n  <p><em>Im sure im missing something in my loop but I cant figure out what.</em></p>\n</blockquote>\n\n<p>This, however, is true. Your results are incorrect. The correct counts are as follows:</p>\n\n<pre><code>$ wc .bashrc .bash_profile\n  89  289 2146 .bashrc\n  59  174 1193 .bash_profile\n 148  463 3339 total\n</code></pre>\n\n<p>You'll notice the number of lines and chars is correct for the first file, but not for the second file. This is because you forgot to reset the counts for each file.</p>\n\n<p>(Ignore the words, since different definitions of \"word\" is probably used.)</p>\n\n<p>Move the following lines into your outer loop as they only apply to the file being examined:</p>\n\n<pre><code>my $text_lines = 0;\nmy $words = 0;\nmy $chars = 0;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446656731, "post_id": 33527539, "comment_id": 54836889, "body": "I think I fixed the last three. First one I am not sure why?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446657850, "post_id": 33527539, "comment_id": 54837656, "body": "Exactly, why fail if there are no args? You could simply display zero. (Best would be to read from STDIN, but that&#39;s getting out of scope.)"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446658578, "post_id": 33527539, "comment_id": 54838170, "body": "@ikegami Previously I was thinking why not fail if there are no files? Now I think it is ok. Is it?"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1446658541, "last_edit_date": 1446658541, "creation_date": 1446656045, "answer_id": 33527539, "question_id": 33526647, "link": "https://stackoverflow.com/questions/33526647/perl-word-count-for-mulitple-files/33527539#33527539", "title": "Perl word count for mulitple files", "body": "<p>I believe you want to count the no of characters, words and lines in each file passed through command-line.</p>\n\n<p>But the problem with your code is you are declaring all the variables globally, only the total count variables must be global as you need them after processing all the files.The other variables should be declared locally before processing of each file where It should go out of scope after processing of every single file and reinitialized again on the next file.</p>\n\n<p>Second thing <code>my @doc = &lt;INPUT&gt;</code> here you are taking the whole file in memory which is not required at all.</p>\n\n<p>I will approach it like below:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings; \n\nprint \"No files provided\\n\" unless(@ARGV);\n\nmy ($total_word,$total_char,$total_line)=(0,0,0);\nprintf (\"%-15s\", \"Files\");\nprintf (\"%15s\", \"Characters\");\nprintf (\"%15s\", \"Words\");\nprintf (\"%15s\", \"Lines\\n\");\n\nforeach my $file (@ARGV){\n       open my $fh, '&lt;', $file or die \"unable to open file $file: $!\\n\";\n       #Declare variables separately here for each file\n       my($words,$chars,$lines)=(0,0,0); \n       while(my $line=&lt;$fh&gt;){\n         $lines++;\n         $chars += length ($line);\n         $words += scalar(split(/\\s+/, $line));\n       }\n       printf (\"%-15s\", $file);\n       printf (\"%15s\", $chars);\n       printf (\"%15s\", $words);\n       printf (\"%15s\", \"$lines\\n\");\n\n       $total_word += $words;\n       $total_char += $chars;\n       $total_line += $lines;\n\n       close $fh;\n}\nprintf (\"%-15s\", \"TOTAL\");\nprintf (\"%15s\", \"$total_char\");\nprintf (\"%15s\", \"$total_word\");\nprintf (\"%15s\", \"$total_line\\n\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1446724422, "creation_date": 1446724422, "answer_id": 33543889, "question_id": 33526647, "link": "https://stackoverflow.com/questions/33526647/perl-word-count-for-mulitple-files/33543889#33543889", "title": "Perl word count for mulitple files", "body": "<p>I would use Perl's <code>while (&lt;&gt;) { ... }</code> construct along with the <code>$ARGV</code> variable.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"No files provided\\n\" unless(@ARGV);\n\nmy ($total_word,$total_char,$total_line)=(0,0,0);\nprintf (\"%-15s\", \"Files\");\nprintf (\"%15s\", \"Characters\");\nprintf (\"%15s\", \"Words\");\nprintf (\"%15s\", \"Lines\\n\");\n\nmy %file_counts;\nmy @files = @ARGV; # Take a copy\n\nwhile (&lt;&gt;) {\n    $file_counts{$ARGV}{lines}++;\n    $file_counts{$ARGV}{chars} += length;\n    $file_counts{$ARGV}{words} += split;\n}\n\nforeach (@files) {\n    printf (\"%-15s\", $_);\n    printf (\"%15s\", $file_counts{$_}{chars});\n    printf (\"%15s\", $file_counts{$_}{words});\n    printf (\"%15s\", \"$file_counts{$_}{lines}\\n\");\n\n    $total_char += $file_counts{$_}{chars};\n    $total_word += $file_counts{$_}{words};\n    $total_line += $file_counts{$_}{lines};\n}\n\nprintf (\"%-15s\", \"TOTAL\");\nprintf (\"%15s\", \"$total_char\");\nprintf (\"%15s\", \"$total_word\");\nprintf (\"%15s\", \"$total_line\\n\");\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5525587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646b6d34ce067d3c4bc91c5556649fa7?s=128&d=identicon&r=PG&f=1", "display_name": "abishop128", "link": "https://stackoverflow.com/users/5525587/abishop128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1446724422, "creation_date": 1446653498, "last_edit_date": 1446665871, "question_id": 33526647, "link": "https://stackoverflow.com/questions/33526647/perl-word-count-for-mulitple-files", "title": "Perl word count for mulitple files", "body": "<p>I have to display the count of characters, words and lines, and then total them at the bottom of a formatted printf. Somehow when I put in two files to be counted, it only prints out one count. Also it seems like I am just adding the counts together when it should be displaying a separate count for each file then adding them together at the end. I am inputting files from the command console so it would be\nperl mywc.pl\n\n<p>This is what I have, Im sure im missing something in my loop but I cant figure out what.</p>\n\n<pre><code>#!usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $text_lines = 0;\nmy $words = 0;\nmy $chars = 0;\nmy $counter = 0;\nmy $total_word = 0;\nmy $total_char = 0;\nmy $total_line = 0;\n\nprintf (\"%-15s\", \"Files\");\nprintf (\"%15s\", \"Characters\");\nprintf (\"%15s\", \"Words\");\nprintf (\"%15s\", \"Lines\\n\");\n\nwhile ($counter &lt; scalar(@ARGV))\n{\n\n    open(INPUT, '&lt;', $ARGV[$counter]) or die \"Cannot open file!\";\n    my @doc = &lt;INPUT&gt;;\n    foreach my $lines (@doc)\n    {\n        $text_lines++;\n        $chars += length ($lines);\n        $words += scalar(split(/\\s+/, $lines)); \n    }\n\n    printf (\"%-15s\", \"$ARGV[$counter]\");\n    printf (\"%15s\", \"$chars\");\n    printf (\"%15s\", \"$words\");\n    printf (\"%15s\", \"$text_lines\\n\");\n\n    $total_word += $words;\n    $total_char += $chars;\n    $total_line += $text_lines;  \n    close INPUT;\n    $counter++;\n}\n\nprintf (\"%-15s\", \"TOTAL\");\nprintf (\"%15s\", \"$total_char\");\nprintf (\"%15s\", \"$total_word\");\nprintf (\"%15s\", \"$total_line\\n\");\n\n#print \"Characters: $chars\\n\";\n#print \"Words: $words\\n\";\n#print \"Lines: $text_lines\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1446651990, "post_id": 33525861, "comment_id": 54833426, "body": "Have you tried looking at the module&#39;s code?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1446652198, "post_id": 33525861, "comment_id": 54833571, "body": "You could also take a look at their Perl API page so see whether you can find the issue with the module (perhaps its just a documentation thing that the code can show you) or use their examples: <a href=\"https://wiki.usaepay.com/developer/perl\" rel=\"nofollow noreferrer\">wiki.usaepay.com/developer/perl</a>"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1446653238, "creation_date": 1446653238, "answer_id": 33526545, "question_id": 33525861, "link": "https://stackoverflow.com/questions/33525861/perl-using-usaepay-billing-module/33526545#33526545", "title": "Perl using USAePay billing module", "body": "<p>As <a href=\"https://metacpan.org/pod/Business::OnlinePayment::USAePay\" rel=\"nofollow\">Business::OnlinePayment::USAePay</a> is a <em>processor</em> for <a href=\"https://metacpan.org/pod/Business::OnlinePayment\" rel=\"nofollow\">Business::OnlinePayment</a>, but doesn't have a lot of docs itself, a  look at the docs of Business::OnlinePayment might help. It reveales <a href=\"https://metacpan.org/pod/Business::OnlinePayment#test_transaction\" rel=\"nofollow\">the <code>test_transaction</code> method</a>.</p>\n\n<blockquote>\n  <p>Most processors provide a test mode, where submitted transactions will not actually be charged or added to your batch, calling this function with a true argument will turn that mode on if the processor supports it, or generate a fatal error if the processor does not support a test mode (which is probably better than accidentally making real charges).</p>\n</blockquote>\n\n<p>An untested example:</p>\n\n<pre><code>my $tx = new Business::OnlinePayment(\"USAePay\");\n$tx-&gt;test_transaction; # here\n$tx-&gt;content(\n    login           =&gt; LOGIN,\n    password        =&gt; PASSWORD,\n    type            =&gt; 'CC',\n    action          =&gt; 'Recurring Authorization',\n    description     =&gt; 'Business::OnlinePayment test',\n    amount          =&gt; '49.95',\n    invoice_number  =&gt; '100100',\n    name            =&gt; 'Tofu Beast',\n    card_number     =&gt; '4000100011112224',\n    expiration      =&gt; '09/19',\n    address         =&gt; '1234 Bean Curd Lane',\n    city            =&gt; 'San Francisco',\n    state           =&gt; 'CA',\n    zip             =&gt; '94102',\n);\n$tx-&gt;submit();\n</code></pre>\n\n<p>Digging a bit deeper in the <a href=\"https://metacpan.org/source/IVAN/Business-OnlinePayment-USAePay-0.03/USAePay.pm#L158\" rel=\"nofollow\">source of  Business::OnlinePayment::USAePay shows</a> that this particular <em>processor</em> actually has three different test modes.</p>\n\n<blockquote>\n<pre><code> # test_transaction(0): normal mode\n    #                  1 : test mode (validates formatting only)\n    #                  2 : use sandbox server\n    #                  3 : test mode on sandbox server\n</code></pre>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1446653975, "post_id": 33526685, "comment_id": 54834844, "body": "Welcome to Stack Overflow and the Perl tag! This is a good first answer, and a good idea. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1446654149, "post_id": 33526685, "comment_id": 54834980, "body": "Although it&#39;s not clear if B::OP::USAePay actually supports that option. The code doesn&#39;t look like it unfortunately. Seems like it just sets defaults with no way to overwrite them."}, {"owner": {"reputation": 161, "user_id": 2217903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us1b5.jpg?s=128&g=1", "display_name": "ardavey", "link": "https://stackoverflow.com/users/2217903/ardavey"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1446719979, "post_id": 33526685, "comment_id": 54864900, "body": "Thanks for the feedback. Unfortunately I didn&#39;t have time to dig into the USAePay module code at the time of writing - and wrote my response while you were elaborating on yours.  Just wanted to make sure the basics were covered first of all :)"}], "tags": [], "owner": {"reputation": 161, "user_id": 2217903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us1b5.jpg?s=128&g=1", "display_name": "ardavey", "link": "https://stackoverflow.com/users/2217903/ardavey"}, "is_accepted": false, "score": 1, "last_activity_date": 1446653592, "creation_date": 1446653592, "answer_id": 33526685, "question_id": 33525861, "link": "https://stackoverflow.com/questions/33525861/perl-using-usaepay-billing-module/33526685#33526685", "title": "Perl using USAePay billing module", "body": "<p>It <a href=\"http://search.cpan.org/~ivan/Business-OnlinePayment-3.03/OnlinePayment.pm#new%28$processor,_%25processor_options%29\" rel=\"nofollow\">looks like</a> you can set the server details in the constructor - it takes an optional hash of parameters beyond the processor name.</p>\n\n<p>Have you tried something like:</p>\n\n<pre><code>my $tx = new Business::OnlinePayment(\n  \"USAePay\",\n  Server =&gt; 'https://sandbox.usaepay.com/gate'\n);\n</code></pre>\n"}], "owner": {"reputation": 1161, "user_id": 124658, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/d140e80b383a2072a376d352f1315e2d?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/124658/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 33526545, "answer_count": 2, "score": 0, "last_activity_date": 1446653592, "creation_date": 1446651420, "last_edit_date": 1446652535, "question_id": 33525861, "link": "https://stackoverflow.com/questions/33525861/perl-using-usaepay-billing-module", "title": "Perl using USAePay billing module", "body": "<p>I was wondering if anybody has experience using the USAePay billing module?  I have reached out to the developer and his response was he does not have time to help people.  My problem is this -</p>\n\n<p>I have written the following code to add a customer's billing information using the Sandbox server but it looks as though the module defaults to the production server so each time I attempt to validate the transaction I get the response - </p>\n\n<blockquote>\n  <p>Card was rejected: Specified source key not found.</p>\n</blockquote>\n\n<p>How do I tell it to use the Sandbox server?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Business::OnlinePayment;\n\nuse constant {\n    LOGIN         =&gt; 'source key',  #USAePay source key\n    PASSWORD      =&gt; '12345',       #USAePay PIN\n};\n\nmy $tx = new Business::OnlinePayment(\"USAePay\");\n$tx-&gt;content(\n    login           =&gt; LOGIN,\n    password        =&gt; PASSWORD,\n    type            =&gt; 'CC',\n    action          =&gt; 'Recurring Authorization',\n    description     =&gt; 'Business::OnlinePayment test',\n    amount          =&gt; '49.95',\n    invoice_number  =&gt; '100100',\n    name            =&gt; 'Tofu Beast',\n    card_number     =&gt; '4000100011112224',\n    expiration      =&gt; '09/19',\n    address         =&gt; '1234 Bean Curd Lane',\n    city            =&gt; 'San Francisco',\n    state           =&gt; 'CA',\n    zip             =&gt; '94102',\n);\n$tx-&gt;submit();\n\nif($tx-&gt;is_success()) {\n    print 'Card processed successfully: '.$tx-&gt;authorization.'\\n';\n} else {\n    print 'Card was rejected: '.$tx-&gt;error_message.\"\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "strawberry-perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1446647083, "post_id": 33524212, "comment_id": 54829703, "body": "<a href=\"http://p3rl.org/DBD::mysql\" rel=\"nofollow noreferrer\">DBD::mysql</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1446653657, "post_id": 33524212, "comment_id": 54834624, "body": "A driver for MySQL is not a database server. It&#39;s just the thing in between Perl and the DB server that lets you talk to the DB. You will need an actual MySQL server. If you don&#39;t have that and feel it is too complicated, maybe take a look at sqlite."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446656064, "post_id": 33524212, "comment_id": 54836376, "body": "What are &quot;regular commands&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 1490889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TictH.png?s=128&g=1", "display_name": "Medlock Perlman", "link": "https://stackoverflow.com/users/1490889/medlock-perlman"}, "reply_to_user": {"reputation": 1, "user_id": 5515245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcd228b7f44a54e2cfb02afa42730fb?s=128&d=identicon&r=PG&f=1", "display_name": "Sahi", "link": "https://stackoverflow.com/users/5515245/sahi"}, "edited": false, "score": 0, "creation_date": 1446650327, "post_id": 33524425, "comment_id": 54832152, "body": "@Sahi: what did ikegami say about &lt;code&gt;&quot;;host=$hostname&quot;&lt;/code? Do you know how to create a variable in Perl? If you are new to Perl, check out the resources at <a href=\"http://learn.perl.org\" rel=\"nofollow noreferrer\">learn.perl.org</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1446650978, "post_id": 33524425, "comment_id": 54832629, "body": "Please be accurate when quoting error messages. What DSN did you use, and what&#39;s the actual error message you received?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1446647353, "creation_date": 1446647353, "answer_id": 33524425, "question_id": 33524212, "link": "https://stackoverflow.com/questions/33524212/i-m-looking-for-a-guide-to-use-mysql-commands-in-strawberry-perl/33524425#33524425", "title": "i m looking for a guide to use mysql commands in strawberry perl", "body": "<pre><code>use DBI qw( );\n\nmy $dsn = \"dbi:mysql:database=$database\";\nmy $dbh = DBI-&gt;connect($dsn, $user, $password, {\n   AutoCommit =&gt; 1,\n   PrintWarn  =&gt; 1,\n   PrintError =&gt; 0,\n   RaiseError =&gt; 1,\n});\n</code></pre>\n\n<p>If the database server is on another machine, add <code>\";host=$hostname\"</code> to the DSN.</p>\n\n<p>If the database server is on a port other than the default, add <code>\";port=$port\"</code> to the DSN.</p>\n\n<p>Refer to <a href=\"http://search.cpan.org/perldoc?DBI\" rel=\"nofollow\">DBI</a>'s documentation for how to issue queries.</p>\n"}], "owner": {"reputation": 1, "user_id": 5515245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcd228b7f44a54e2cfb02afa42730fb?s=128&d=identicon&r=PG&f=1", "display_name": "Sahi", "link": "https://stackoverflow.com/users/5515245/sahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1446661754, "answer_count": 1, "score": -5, "last_activity_date": 1446653535, "creation_date": 1446646789, "last_edit_date": 1446653535, "question_id": 33524212, "link": "https://stackoverflow.com/questions/33524212/i-m-looking-for-a-guide-to-use-mysql-commands-in-strawberry-perl", "closed_reason": "Not suitable for this site", "title": "i m looking for a guide to use mysql commands in strawberry perl", "body": "<p>my aim is to create a database and use a regular commands in strawberry perl...</p>\n\n<p>Many are saying \"StrawberryPerl comes bundled with drivers for MySQL\"\nhow to setup the necessary development environment...\nhow to start? and where to start???</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1446645084, "post_id": 33523383, "comment_id": 54828292, "body": "Not sure if that&#39;s a good match, because it&#39;s about variables."}], "answers": [{"comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1446646191, "post_id": 33523545, "comment_id": 54829037, "body": "@ikegami: This use case is safe. Perhaps use <code>sed</code> for clarity."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1446646295, "post_id": 33523545, "comment_id": 54829117, "body": "It&#39;s coming from a trusted input (<code>id</code>)."}], "tags": [], "owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "is_accepted": true, "score": 6, "last_activity_date": 1446646430, "last_edit_date": 1446646430, "creation_date": 1446644877, "answer_id": 33523545, "question_id": 33523383, "link": "https://stackoverflow.com/questions/33523383/dynamic-replacing-with-perl/33523545#33523545", "title": "Dynamic replacing with perl", "body": "<p>Remove <code>\" + \"</code> (spaces and plus). Bash does automatic concatenation for adjacent strings.</p>\n\n<pre><code>echo 'hi!'t\"here\"  # hi!there\n</code></pre>\n\n<p>Generating Perl code in this way is only safe because the output of <code>id -g -n $USER</code> won't contain <code>\\</code>, <code>$</code>, <code>@</code> or <code>/</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1446649817, "last_edit_date": 1446649817, "creation_date": 1446645665, "answer_id": 33523800, "question_id": 33523383, "link": "https://stackoverflow.com/questions/33523383/dynamic-replacing-with-perl/33523800#33523800", "title": "Dynamic replacing with perl", "body": "<p>You were going for</p>\n\n<pre><code>GROUPNAME=\"$(id -g -n $USER)\"\nperl -i -pe's/\\(PLACEHOLDER\\)/'\"$GROUPNAME\"'/g' filepath/file\n</code></pre>\n\n<p>But there's no reason to generate Perl code. That is very error prone. Instead, use one of the following:</p>\n\n<pre><code>export GROUPNAME=\"$(id -g -n $USER)\"\nperl -i -pe's/\\(PLACEHOLDER\\)/$ENV{GROUPNAME}/g' filepath/file\n</code></pre>\n\n<p>or</p>\n\n<pre><code>GROUPNAME=\"$(id -g -n $USER)\" perl -i -pe's/\\(PLACEHOLDER\\)/$ENV{GROUPNAME}/g' filepath/file\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 2557061, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6daee7f2b95e709e16aa2c50f9b4d705?s=128&d=identicon&r=PG", "display_name": "BeJay", "link": "https://stackoverflow.com/users/2557061/bejay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "closed_date": 1446723956, "accepted_answer_id": 33523545, "answer_count": 2, "score": 2, "last_activity_date": 1567394030, "creation_date": 1446644367, "last_edit_date": 1567394030, "question_id": 33523383, "link": "https://stackoverflow.com/questions/33523383/dynamic-replacing-with-perl", "closed_reason": "Duplicate", "title": "Dynamic replacing with perl", "body": "<p>I want to programmatically replace little placeholder with static content like the user name or working path.</p>\n\n<p>Is there a possibility in bash that I can dynamically execute my perl replacement state like:</p>\n\n<pre><code>GROUPNAME=\"$(id -g -n $USER)\"\nperl -pi -e 's/\\(PLACEHOLDER\\)/' + \"$GROUPNAME\" + '/g' filepath/file\n</code></pre>\n\n<p>it would be the enormously good if I could also adapt this dynamical behaviour for the placeholder. But first things first. How do I concatenate these strings?</p>\n"}, {"tags": ["html", "xml", "perl", "xslt"], "comments": [{"owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "edited": false, "score": 1, "creation_date": 1446645706, "post_id": 33523274, "comment_id": 54828707, "body": "If you want to use XSLT (1.0) in your Perl code then see <a href=\"http://search.cpan.org/~shlomif/XML-LibXSLT-1.94/LibXSLT.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~shlomif/XML-LibXSLT-1.94/LibXSLT.pm</a> on how to do that."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1446645812, "post_id": 33523274, "comment_id": 54828787, "body": "What are you struggeling with? Are you looking for an XSLT processor, or you want to make the result of the processing downloadable?"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1446647178, "post_id": 33523274, "comment_id": 54829780, "body": "For sure downloadable for me very good. I aim at having an HTML file as output from Perl document"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "edited": false, "score": 0, "creation_date": 1447077700, "post_id": 33523274, "comment_id": 54995853, "body": "@MartinHonnen Thanks, your hint caused to find the solution!!"}], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1447077375, "post_id": 33610703, "comment_id": 54995641, "body": "By the way more explanation can be found here: <a href=\"http://docstore.mik.ua/orelly/perl4/cook/ch22_08.htm\" rel=\"nofollow noreferrer\">docstore.mik.ua/orelly/perl4/cook/ch22_08.htm</a>"}], "tags": [], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "is_accepted": true, "score": 0, "last_activity_date": 1447077232, "creation_date": 1447077232, "answer_id": 33610703, "question_id": 33523274, "link": "https://stackoverflow.com/questions/33523274/idea-about-creating-a-html-file-from-xmlxslt-in-perl/33610703#33610703", "title": "Idea about creating a html file from xml+xslt in Perl", "body": "<p>As I tried a lot in this issue, I found out it could be done by a simple code. I am writing the code here for someone maybe would have the same question as I had:</p>\n\n<pre><code>use XML::LibXSLT;\nuse XML::LibXML;\n\nmy $XML_FILENAME = \"test.xml\";\nmy $XSL_FILENAME = \"test.xslt\";\nmy $OUTPUT_FILENAME = \"test.html\";\n\nmy $xml_parser  = XML::LibXML-&gt;new;\nmy $xslt_parser = XML::LibXSLT-&gt;new;\n\nmy $xml         = $xml_parser-&gt;parse_file($XML_FILENAME);\nmy $xsl         = $xml_parser-&gt;parse_file($XSL_FILENAME);\n\nmy $stylesheet  = $xslt_parser-&gt;parse_stylesheet($xsl);\nmy $results     = $stylesheet-&gt;transform($xml);\nmy $output      = $stylesheet-&gt;output_string($results);\n\n# the main command and of course the easiest one\n$stylesheet-&gt;output_file($results, $OUTPUT_FILENAME);\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 33610703, "answer_count": 1, "score": -2, "last_activity_date": 1447077232, "creation_date": 1446644043, "question_id": 33523274, "link": "https://stackoverflow.com/questions/33523274/idea-about-creating-a-html-file-from-xmlxslt-in-perl", "title": "Idea about creating a html file from xml+xslt in Perl", "body": "<p>My aim is to generate an <code>HTMl</code> file from two XML and <code>XSLT</code> files. I have looked over net ans find no good suggestion which I could do the same way. What I understand when I add the lines </p>\n\n<pre><code>&lt;xsl:output method=\"html\" ..... /&gt;\n</code></pre>\n\n<p>I could see the output as <code>HTML</code>. But my goal is having a new file whic I could save it via Perl script and seeing the result. I don't know if it is possible or not. I'll be glad to know if is so.</p>\n\n<p>I would be pleased if someone let me know any idea that help me. </p>\n\n<p>Here are my <code>XML</code> and <code>XSLT</code> files:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;?xml-stylesheet type=\"text/xsl\" href=\"test.xslt\"?&gt;\n&lt;Summary&gt;\n  &lt;test name=\"test\"&gt;\n    &lt;xml_name name=\"ABC\"&gt;\n        &lt;version num=\"104\"&gt;\n            &lt;component name=\"APPS\"&gt;\n                &lt;componenet_ver&gt;104&lt;/componenet_ver&gt;\n            &lt;/component&gt;\n        &lt;component name=\"Ner\"&gt;\n            &lt;componenet_ver&gt;1.0&lt;/componenet_ver&gt;\n            &lt;/component&gt;\n            &lt;component name=\"HUNE\"&gt;\n                &lt;componenet_ver&gt;003&lt;/componenet_ver&gt;\n            &lt;/component&gt;\n            &lt;component name=\"FADA\"&gt;\n                &lt;componenet_ver&gt;107&lt;/componenet_ver&gt;\n            &lt;/component&gt;\n            &lt;component name=\"VEDA\"&gt;\n                &lt;componenet_ver&gt;8.8&lt;/componenet_ver&gt;\n            &lt;/component&gt;\n        &lt;/version&gt;\n    &lt;/xml_name&gt;\n  &lt;/test&gt;\n&lt;/Summary&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;\n&lt;xsl:output method=\"html\" version=\"5.0\" encoding=\"UTF-8\" indent=\"yes\"/&gt;\n&lt;xsl:template match=\"Summary/test\"&gt;\n    &lt;html&gt;\n        &lt;body&gt;\n            &lt;table&gt;\n                &lt;tr bgcolor=\"Peru\"&gt;\n                    &lt;th&gt;Components&lt;/th&gt;\n                    &lt;th&gt;Versions&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;xsl:for-each select=\"//component\"&gt;\n                    &lt;xsl:variable name=\"CompomName\" select=\"@name\"/&gt;\n                    &lt;xsl:variable name=\"VerName\" select=\"description\"/&gt;\n                    &lt;tr&gt;\n                       &lt;td bgcolor=\"aqua\" name = \"{$CompomName}\"&gt; &lt;/td&gt;\n                       &lt;td bgcolor=\"aqua\" name = \"{$VerName}\"&gt; &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/xsl:for-each&gt;                                 \n            &lt;/table&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n&lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1446643716, "post_id": 33522974, "comment_id": 54827368, "body": "Is it only numeric values?"}, {"owner": {"reputation": 7292, "user_id": 1268941, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d27dc0d604e075ad3281aeb013a419c7?s=128&d=identicon&r=PG&f=1", "display_name": "brucezepplin", "link": "https://stackoverflow.com/users/1268941/brucezepplin"}, "edited": false, "score": 0, "creation_date": 1446643933, "post_id": 33522974, "comment_id": 54827504, "body": "yes it is only numbers. and Etan you have made me look silly. thanks. please post as answer and I will accept"}], "answers": [{"comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 1, "creation_date": 1446646431, "post_id": 33523199, "comment_id": 54829229, "body": "I am amazed to see how answers on questions like this get these amount of votes."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446727624, "post_id": 33523199, "comment_id": 54869575, "body": "Easy to answer also means more eyes. It also means &#39;correct&#39; answers are obvious."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446728494, "post_id": 33523199, "comment_id": 54870111, "body": "@Sobrique mmm it is not this &quot;oh what a clever answer, I would&#39;ve never thought about it&quot; but -to me- &quot;ah yes it&#39;s like that&quot;. But of course upvotes are always welcome : )"}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": true, "score": 4, "last_activity_date": 1446643806, "creation_date": 1446643806, "answer_id": 33523199, "question_id": 33522974, "link": "https://stackoverflow.com/questions/33522974/select-rows-where-values-of-two-columns-agree/33523199#33523199", "title": "select rows where values of two columns agree", "body": "<p>Just say:</p>\n\n<pre><code>$ awk '$1==$2' file\n5 5 a\n3 3 b\n</code></pre>\n\n<p>As you see, when the condition <code>$1 == $2</code> is accomplished, <code>awk</code> automatically prints the line.</p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 4, "last_activity_date": 1446644153, "creation_date": 1446644153, "answer_id": 33523314, "question_id": 33522974, "link": "https://stackoverflow.com/questions/33522974/select-rows-where-values-of-two-columns-agree/33523314#33523314", "title": "select rows where values of two columns agree", "body": "<pre><code>perl -ane 'print if $F[0] == $F[1]' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1446646558, "post_id": 33524062, "comment_id": 54829325, "body": "Probably better the <code>==</code> version, even though OP mentions it is supposed to just contain numbers."}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 2, "last_activity_date": 1446741533, "last_edit_date": 1446741533, "creation_date": 1446646388, "answer_id": 33524062, "question_id": 33522974, "link": "https://stackoverflow.com/questions/33522974/select-rows-where-values-of-two-columns-agree/33524062#33524062", "title": "select rows where values of two columns agree", "body": "<p>For completeness:</p>\n\n<p>bash</p>\n\n<pre><code>while read first second rest; do\n    [[ $first -eq $second ]] &amp;&amp; echo \"$first $second $rest\"\ndone &lt; fi\n</code></pre>\n\n<p>or if content is not just integers:</p>\n\n<pre><code>while read first second rest; do\n    [[ $first == $second ]] &amp;&amp; echo \"$first $second $rest\"\ndone &lt; file\n</code></pre>\n\n<p>sed</p>\n\n<pre><code>sed -En '/^([^ ]+) \\1 /p' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1446725250, "creation_date": 1446725250, "answer_id": 33544142, "question_id": 33522974, "link": "https://stackoverflow.com/questions/33522974/select-rows-where-values-of-two-columns-agree/33544142#33544142", "title": "select rows where values of two columns agree", "body": "<p>This might work for you (GNU grep):</p>\n\n<pre><code>grep '^\\(\\S\\+\\)\\s\\+\\1\\s\\+' file\n</code></pre>\n"}], "owner": {"reputation": 7292, "user_id": 1268941, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d27dc0d604e075ad3281aeb013a419c7?s=128&d=identicon&r=PG&f=1", "display_name": "brucezepplin", "link": "https://stackoverflow.com/users/1268941/brucezepplin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 33523199, "answer_count": 4, "score": 2, "last_activity_date": 1446741533, "creation_date": 1446643112, "question_id": 33522974, "link": "https://stackoverflow.com/questions/33522974/select-rows-where-values-of-two-columns-agree", "title": "select rows where values of two columns agree", "body": "<p>if I have the following:</p>\n\n<pre><code>1 5 a\n2 5 a\n3 5 a\n4 5 a\n5 5 a\n6 5 a\n1 3 b\n2 3 b\n3 3 b\n4 3 b\n5 3 b\n6 3 b\n</code></pre>\n\n<p>How do I only select rows where the two columns have the same value i.e.</p>\n\n<pre><code>5 5 a\n3 3 b\n</code></pre>\n\n<p>in bash / awk / sed.</p>\n\n<p>I know how to select rows with certain values using awk, but only when I specifiy the value.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1446642903, "post_id": 33522270, "comment_id": 54826844, "body": "Comments are written with <code>#</code> in Perl, not with <code>&#47;&#47;</code>."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446653395, "post_id": 33522270, "comment_id": 54834447, "body": "What is &quot;maptype&quot;?  If you are checking to see if a hash key&#39;s value is a reference you need to use <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow noreferrer\"><code>ref</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1446647064, "post_id": 33523917, "comment_id": 54829689, "body": "When I have to deal with an inconsistent structure (ie. where all &#39;things&#39; inside of another thing might not be the same), I&#39;ve found this to be the easiest way."}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1446645988, "creation_date": 1446645988, "answer_id": 33523917, "question_id": 33522270, "link": "https://stackoverflow.com/questions/33522270/how-to-dereference-only-hash-of-hash-of-array-in-perl/33523917#33523917", "title": "How to dereference only hash of hash of array in Perl?", "body": "<p>Not sure if this is best practice, but:</p>\n\n<pre><code>my $hash = { A =&gt; ['B'], C =&gt; {D =&gt; ['E'], F =&gt; [qw(G H I)]}, J=&gt;42 };\n\nfor my $key (keys %$hash) {\n    if (ref $hash-&gt;{$key} eq 'HASH') {\n        for my $subkey (keys %{$hash-&gt;{$key}}) {\n            say \"$key =&gt; $subkey =&gt; [\", join(\",\", @{$hash-&gt;{$key}{$subkey}}), \"]\";\n        }\n    }\n}\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>C =&gt; D =&gt; [E]\nC =&gt; F =&gt; [G,H,I]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4331644, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e5ebb9836c4fe3f4cf8a56804667302?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan M", "link": "https://stackoverflow.com/users/4331644/karthikeyan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1446645988, "creation_date": 1446640976, "last_edit_date": 1446641672, "question_id": 33522270, "link": "https://stackoverflow.com/questions/33522270/how-to-dereference-only-hash-of-hash-of-array-in-perl", "title": "How to dereference only hash of hash of array in Perl?", "body": "<pre><code>{    \n    'A' =&gt;      ['B'], //hash of array   \n    'C' =&gt; {'D' =&gt; [  'E']} //hash of hash of array    \n}\n</code></pre>\n\n<p>When try to parse hash of hash of array. getting <strong>\"Not a HASH reference\"</strong> error. Even I tried used exists and defined keywords to avoid this error. But result is same error.</p>\n\n<p>From above i need to only iterate hash of hash of array.</p>\n\n<pre><code>foreach my $keys (keys %$hash){\n        print \"$keys\";\n     if (defined $hash-&gt;{$keys}-&gt;{maptype}){\n            foreach my $array_element ( @{$hash-&gt;{$keys}-&gt;{'D'}} ) {\n                        print \"$array_element\"); \n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1446646032, "post_id": 33519696, "comment_id": 54828932, "body": "Don&#39;t you mean <code>$var &#47;&#47;= 0;</code>? <code>num &#47;&#47;= 0;</code> is an error."}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1446633859, "post_id": 33519757, "comment_id": 54820911, "body": "It is not equivalent to <code>num = num || 0;</code>. <code>&#47;&#47;</code> and <code>||</code> are distinctly different. One tests for truthyness the other for definedness."}, {"owner": {"reputation": 401, "user_id": 865285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c3cdceea918c7573d875ab8290d816?s=128&d=identicon&r=PG", "display_name": "Osama Abdulsattar", "link": "https://stackoverflow.com/users/865285/osama-abdulsattar"}, "edited": false, "score": 0, "creation_date": 1446633888, "post_id": 33519757, "comment_id": 54820926, "body": "So, I understand that if &#39;num&#39; is not null take &#39;num&#39; if null take 0. Right?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 401, "user_id": 865285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c3cdceea918c7573d875ab8290d816?s=128&d=identicon&r=PG", "display_name": "Osama Abdulsattar", "link": "https://stackoverflow.com/users/865285/osama-abdulsattar"}, "edited": false, "score": 0, "creation_date": 1446633982, "post_id": 33519757, "comment_id": 54820977, "body": "@OsamaMostafa \u2014 No. Well. Since Perl doesn&#39;t have <code>null</code>, that can never happen in the first place."}, {"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1446634216, "post_id": 33519757, "comment_id": 54821136, "body": "@Quentin thanks, corrected the answer."}], "tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1446634186, "last_edit_date": 1446634186, "creation_date": 1446633785, "answer_id": 33519757, "question_id": 33519696, "link": "https://stackoverflow.com/questions/33519696/what-is-the-meaning-of-the-following-statement-in-perl-num-0/33519757#33519757", "title": "What is the meaning of the following statement in Perl: num //= 0", "body": "<p><strong>num //= 0</strong>, which is equivalent to</p>\n\n<pre><code>num = num // 0;\n</code></pre>\n\n<p>It means that it checks if the left operand is defined or not, if defined it returns the left operand else the right operand.</p>\n\n<pre><code>my $num;\n\n$num //= 0;\n\nprint $num; # optputs 0\n\n$num = 9;\n\n$num //= 0;\n\nprint $num; # outputs 9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 5, "last_activity_date": 1446634205, "last_edit_date": 1446634205, "creation_date": 1446633831, "answer_id": 33519773, "question_id": 33519696, "link": "https://stackoverflow.com/questions/33519696/what-is-the-meaning-of-the-following-statement-in-perl-num-0/33519773#33519773", "title": "What is the meaning of the following statement in Perl: num //= 0", "body": "<p><a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\">perldoc perlop</a> lists the Perl operators.</p>\n\n<blockquote>\n  <p>Logical Defined-Or</p>\n  \n  <p>Although it has no direct equivalent in C, Perl's // operator is\n  related to its C-style \"or\". In fact, it's exactly the same as ||,\n  except that it tests the left hand side's definedness instead of its\n  truth.</p>\n</blockquote>\n\n<p><code>//=</code> is just the assignment version of it. </p>\n\n<blockquote>\n  <p>Assignment operators work as in C. That is,</p>\n\n<pre><code>$x += 2;\n</code></pre>\n  \n  <p>is equivalent to</p>\n\n<pre><code>$x = $x + 2;\n</code></pre>\n</blockquote>\n\n<p>So it assigns <code>0</code> to <code>num</code> unless <code>num</code> is already defined.</p>\n\n<p>This is distinct from <code>||</code> since there are defined values which aren't true (such as <code>0</code> or an empty string).</p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 1824796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da06fdf47e2483bb09b3321bfca69887?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/1824796/pavel"}, "is_accepted": false, "score": 2, "last_activity_date": 1446746192, "last_edit_date": 1495539871, "creation_date": 1446646468, "answer_id": 33524092, "question_id": 33519696, "link": "https://stackoverflow.com/questions/33519696/what-is-the-meaning-of-the-following-statement-in-perl-num-0/33524092#33524092", "title": "What is the meaning of the following statement in Perl: num //= 0", "body": "<p><code>$num = $num // 0;</code></p>\n\n<p>is now the convenient way of</p>\n\n<p><code>$num =</code><a href=\"http://perldoc.perl.org/functions/defined.html\" rel=\"nofollow noreferrer\"><code>defined</code></a><code>$num ? $num : 0;</code></p>\n\n<p><code>//</code> is referred to as <strong>defined-or operator</strong>  that <a href=\"http://www.effectiveperlprogramming.com/2010/10/set-default-values-with-the-defined-or-operator/\" rel=\"nofollow noreferrer\">instead of testing for truth, tests for defined-ness</a>.</p>\n\n<p>Unless variable is <code>undef</code> or array <em>empty</em> <code>()</code> (which actually <a href=\"https://stackoverflow.com/questions/1036347/how-do-i-use-boolean-variables-in-perl/5655485#5655485\">evaluates to an undefined value in scalar context</a>) \u2014 it's <em>defined</em>.</p>\n\n<p>So <code>my( $a, $b, $c ) = ( '', '0', 0 )</code> are all <em>defined</em> but <strong>false</strong>.</p>\n\n<p><strong>Beware</strong> prior to <a href=\"http://www.effectiveperlprogramming.com/2009/12/perl-5-10-new-features/\" rel=\"nofollow noreferrer\">Perl 5.10</a> there was no such <a href=\"http://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow noreferrer\">assignment</a> like <code>$pi //= PI</code>.</p>\n"}], "owner": {"reputation": 401, "user_id": 865285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c3cdceea918c7573d875ab8290d816?s=128&d=identicon&r=PG", "display_name": "Osama Abdulsattar", "link": "https://stackoverflow.com/users/865285/osama-abdulsattar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "closed_date": 1446713062, "accepted_answer_id": 33519773, "answer_count": 3, "score": 0, "last_activity_date": 1446746192, "creation_date": 1446633573, "question_id": 33519696, "link": "https://stackoverflow.com/questions/33519696/what-is-the-meaning-of-the-following-statement-in-perl-num-0", "closed_reason": "Duplicate", "title": "What is the meaning of the following statement in Perl: num //= 0", "body": "<p>What is the meaning of the following statement in Perl: </p>\n\n<pre><code>num //= 0 \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1446632424, "post_id": 33519167, "comment_id": 54819971, "body": "<code>#use warnings;</code> <a href=\"http://eev.ee/blog/2011/04/13/perl-worst-practices/\" rel=\"nofollow noreferrer\">Bad idea.</a>"}, {"owner": {"reputation": 1083, "user_id": 1875118, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d8c958ab3844c995f041bd818122680?s=128&d=identicon&r=PG", "display_name": "AntiHeadshot", "link": "https://stackoverflow.com/users/1875118/antiheadshot"}, "edited": false, "score": 0, "creation_date": 1446632502, "post_id": 33519167, "comment_id": 54820022, "body": "i dont know pearl, but yould it be that you need <code>\\r\\n</code>?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1446632575, "post_id": 33519167, "comment_id": 54820075, "body": "@sagarmore Are you parsing XML? Then why not use an XML parser? You <i>definitely</i> shouldn&#39;t do it with regex."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1446633093, "post_id": 33519167, "comment_id": 54820451, "body": "It matches: <code>&quot;\\n&quot; =~ &#47;\\n&#47; or die &quot;Doesn&#39;t match!&quot;</code> The problem is somewhere else."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5197434, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/76qg1.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/5197434/sagar"}, "edited": false, "score": 0, "creation_date": 1446695881, "post_id": 33519502, "comment_id": 54853893, "body": "Thanks Sobrique,Whats is my actual solution dear"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 43, "user_id": 5197434, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/76qg1.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/5197434/sagar"}, "edited": false, "score": 0, "creation_date": 1446710621, "post_id": 33519502, "comment_id": 54859365, "body": "Given it is unclear what you are trying to accomplish, that is impossible to answer. With some sample input and desired output, that might change."}, {"owner": {"reputation": 43, "user_id": 5197434, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/76qg1.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/5197434/sagar"}, "edited": false, "score": 0, "creation_date": 1446782837, "post_id": 33519502, "comment_id": 54897722, "body": "sorry Sobrique,i am try to get &lt;list &gt; tags in xml file,but i m struct in regex thats include new line character(\\n)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 43, "user_id": 5197434, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/76qg1.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/5197434/sagar"}, "edited": false, "score": 0, "creation_date": 1446794300, "post_id": 33519502, "comment_id": 54901238, "body": "Almost certainly easier that you think. Will need examples of input and output."}, {"owner": {"reputation": 43, "user_id": 5197434, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/76qg1.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/5197434/sagar"}, "edited": false, "score": 0, "creation_date": 1446800683, "post_id": 33519502, "comment_id": 54904186, "body": "input is xml file and output will be 1 txt file contain line number of &lt;list&gt; tag"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 43, "user_id": 5197434, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/76qg1.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/5197434/sagar"}, "edited": false, "score": 0, "creation_date": 1446801131, "post_id": 33519502, "comment_id": 54904432, "body": "That&#39;s not enough. With an example in your question - or perhaps better yet, ask a new question. Post some (valid) XML that illustrates the your problem (need not be &#39;real&#39; but needs to have same structure/attributes), post your code, post what you&#39;re aiming to get as output. This is almost certainly easier than you think with a parser."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1446633098, "last_edit_date": 1495539871, "creation_date": 1446633098, "answer_id": 33519502, "question_id": 33519167, "link": "https://stackoverflow.com/questions/33519167/n-not-working-new-line-not-working-in-perl-script/33519502#33519502", "title": "\\n not working. new line not working in Perl script", "body": "<p>Assuming your problem line is this:</p>\n\n<pre><code>if($temp1=~m#(&lt;list .*? depth=\"(\\d+)\"&gt;)\\n?(&lt;list .*? depth=\"(\\d+)\"&gt;)#gs)\n</code></pre>\n\n<p>Then the problem here is here:</p>\n\n<pre><code>my @FILE_KA_ARRAY = split(/\\n/, $data1);\n</code></pre>\n\n<p>Because your split is removing the linefeeds and putting each line into the array. And so when you do: </p>\n\n<pre><code>$temp_file_arr = $FILE_KA_ARRAY[$x];\nmy $temp1=$temp_file_arr;\n</code></pre>\n\n<p>You have no linefeeds in there, because you have no linefeeds in your source.</p>\n\n<p>Additionally though:</p>\n\n<ul>\n<li>Don't turn off <code>warnings</code>. IF you have warnings <em>FIX THEM</em>. </li>\n<li>This looks like <code>XML</code>. Use a parser. (Although I'd avoid <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged/33267766#33267766\"><code>XML::Simple</code> - it's nasty</a>)</li>\n<li>indenting your code is a good thing, because it helps clarify your code. </li>\n<li>if you use <code>glob ( \"$path/*.xml\" )</code> instead of <code>readdir</code> and <code>grep</code> you get a list of paths built in. </li>\n</ul>\n"}], "owner": {"reputation": 43, "user_id": 5197434, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/76qg1.png?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/5197434/sagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 980, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1446633176, "creation_date": 1446632188, "last_edit_date": 1446633176, "question_id": 33519167, "link": "https://stackoverflow.com/questions/33519167/n-not-working-new-line-not-working-in-perl-script", "title": "\\n not working. new line not working in Perl script", "body": "<p>Here I write Perl code but in if condition, used <code>\\n</code> new line character not match.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\n#use warnings;\nuse Cwd;\nuse File::Basename;\nuse File::Copy;\n\nmy $path = getcwd;\n\n#print $path.\"\\n\";\nopendir( INP, \"$path\\/\" );\nmy @out = grep( /.(xml)$/, readdir(INP) );\nclose INP;\n\n#print @out;\nopen( F6, \"&gt;Log.txt\" );\nforeach my $f1 (@out) {\n    open( FF, \"&lt;$path\\/$f1\" ) or die \"Cannot open file: $out[0]\";\n    my $data1 = join( \"\", &lt;FF&gt; );\n    my @FILE_KA_ARRAY = split( /\\n/, $data1 );\n    my $file_ka_len = @FILE_KA_ARRAY;\n\n    #print F6 $file_ka_len.\"\\n\";\n    #print F6 $f.\"\\t\".$file_ka_len.\"\\n\";\n    print F6 $f1 . \"\\n\";\n    for ( my $x = 1; $x &lt; $file_ka_len; $x++ ) {\n        my $y             = $x + 1;\n        my $temp_file_arr = \"\";\n        $temp_file_arr = $FILE_KA_ARRAY[$x];\n\n        #print F6 $temp_file_arr.\"\\t$x\\n\";\n        my $temp1 = $temp_file_arr;\n        if ( $temp1\n            =~ m#(&lt;list .*? depth=\"(\\d+)\"&gt;)\\n?(&lt;list .*? depth=\"(\\d+)\"&gt;)#gs )\n        {\n            my $list3 = $1;\n            print F6 \"\\t\\t\\t\\t\\t\\t\\t\\t\" . $y . \"\\t\\t\" . $list3 . \"\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "fork"], "answers": [{"comments": [{"owner": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "edited": false, "score": 0, "creation_date": 1446637091, "post_id": 33519460, "comment_id": 54823038, "body": "Yep , my mistake with the &quot;==&quot; , now the parent exits , and I do get the &quot;Exit child&quot; messages , but immediately , maybe the sleep process in the children is terminated , and the rest of the code continues ? I&#39;d like for them to keep sleeping as instructed... And regarding wait ... should I use wait() - will this wait for all children?"}, {"owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "reply_to_user": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "edited": false, "score": 0, "creation_date": 1446639480, "post_id": 33519460, "comment_id": 54824606, "body": "Yes, signals interrupt sleeping, which is why you should set the <code>SIGINT</code> handler to ignore in the children (<code>$SIG{INT} = &#39;IGNORE&#39;</code>)"}, {"owner": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "edited": false, "score": 0, "creation_date": 1446644122, "post_id": 33519460, "comment_id": 54827642, "body": "Tried IGNORE for child processes and it works , but I&#39;m still not clear about the &quot;waiting&quot;. Please look at the edit"}, {"owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "reply_to_user": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "edited": false, "score": 0, "creation_date": 1446645419, "post_id": 33519460, "comment_id": 54828504, "body": "You should keep wait()ing until it returns -1"}, {"owner": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "edited": false, "score": 0, "creation_date": 1446791169, "post_id": 33519460, "comment_id": 54900033, "body": "Yes , I do it like that...But I don&#39;t understand what&#39;s happening if the children ignore SIGINT and the parent exits with &quot;die&quot; without waiting"}], "tags": [], "owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "is_accepted": false, "score": 0, "last_activity_date": 1446632980, "creation_date": 1446632980, "answer_id": 33519460, "question_id": 33518868, "link": "https://stackoverflow.com/questions/33518868/wait-for-children-to-complete-if-parent-intercepts-sigint/33519460#33519460", "title": "Wait for children to complete if parent intercepts SIGINT", "body": "<blockquote>\n  <p>Under windows when I hit Ctrl+C I see that the signal was caught , then the script waits for the children to complete and after this exits.</p>\n</blockquote>\n\n<p>I think this is a side-effect of the psuedo-fork implementation.</p>\n\n<blockquote>\n  <p>How do I wait for all children to complete before killing the parent ?</p>\n</blockquote>\n\n<p>The easiest way is to ignore the <code>SIGINT</code> In the children, and <code>wait</code>/<code>waitpid</code> in the parents <code>SIGINT</code> handler.</p>\n\n<blockquote>\n  <p>I also tried to include this in the SIGINT processing block , but the for loop isn't paused , so new child processes are created and parent doesn't die.</p>\n</blockquote>\n\n<p>I think you meant <code>$$ == $parentPid</code> (comparison instead of assignment). Also, it's not really useful to specify which child you're waiting for if you're waiting for all of them anyway.</p>\n"}], "owner": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 566, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446644036, "creation_date": 1446631379, "last_edit_date": 1495542597, "question_id": 33518868, "link": "https://stackoverflow.com/questions/33518868/wait-for-children-to-complete-if-parent-intercepts-sigint", "title": "Wait for children to complete if parent intercepts SIGINT", "body": "<p>I have a perl script with multiple child processes (created using fork()). Each child sleeps then does some processing (several system() calls). Under windows when I hit Ctrl+C I see that the signal was caught , then the script waits for the children to complete and after this exits. I want to replicate this behaviour in linux (catch sigint , let the children complete and exit the main script/process ).</p>\n\n<p>How do I wait for all children to complete before killing the parent ? Is it possible to exit the main script / kill the parent , but let the children complete in the background ?</p>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/6803395/child-process-receives-parents-sigint\">Child process receives parent&#39;s SIGINT</a> , and it seems SIGINT is propagated to the children (the process group) , so to avoid this I'd have to set the child in a different process group.</p>\n\n<pre><code>$SIG{'INT'} = sub {\n    print \"Caught Ctrl+C\\n\";\n    die \"Stopping...\";\n};\n\n++$|;\n\nprint \"Start\\n\";\nfor($i=0; $i &lt; 500; $i++) {\n    sleep 3;\n    $childPid = fork(); #fork a process\n    if($childPid == 0){\n        print \"Child $i...\\n\";\n        sleep 10;\n        system(\"echo finishing\");\n        print \"Exit child $i\\n\";\n        exit;\n    }\n}\n</code></pre>\n\n<p>I also tried to include this in the SIGINT processing block , but the for loop isn't paused  , so new child processes are created and parent doesn't die.</p>\n\n<pre><code># I used my $parentPid = $$; (before  the for loop) to get the parent pid.\n\nif ($$ = $parentPid){\n    foreach $var (@pids) {\n        $pid = waitpid($var ,0);\n    }  \n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Tried setting the child SIGINT handler to IGNORE and it works as expected. In the parent handler I do :</p>\n\n<pre><code>$SIG{'INT'} = sub {\n  print \"Caught Ctrl+C by $$\\n\";\n  # while($result != -1){\n      # $result = wait();\n  #}\n    die \"Stopping...\";\n}; \n</code></pre>\n\n<p><strong>a)</strong> If include the commented lines the script waits for the children to complete and then exits.</p>\n\n<p><strong>b)</strong> But if I comment the \"wait\" lines I assume it works like this</p>\n\n<ol>\n<li>the script exits and the parent process is terminated</li>\n<li>the children continue running in the background and display \"Exit child\" message as expected before exiting.</li>\n</ol>\n\n<p>I understand the a) case but how does the b) case work, please explain why doesn't this generate zombie processes ? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "reply_to_user": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 0, "creation_date": 1446633936, "post_id": 33518505, "comment_id": 54820954, "body": "Why? What will happen if im code in root mode?"}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 0, "creation_date": 1446634194, "post_id": 33518505, "comment_id": 54821126, "body": "To paraphrase <a href=\"http://askubuntu.com/a/16179\">this answer</a>: you can break stuff badly."}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "reply_to_user": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 0, "creation_date": 1446634738, "post_id": 33518505, "comment_id": 54821507, "body": "Thanks! Ok, Now I know what will happen."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446630955, "post_id": 33518535, "comment_id": 54819023, "body": "How about removing colon in 00:00:00:00:00:00?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446631391, "post_id": 33518535, "comment_id": 54819310, "body": "<code>@addr = split(&#39;:&#39;, $str); print @addr;</code> will remove the colon."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446631891, "post_id": 33518535, "comment_id": 54819617, "body": "You don&#39;t even need to do that - the above matches pairs of hex digits. So ignores &quot;:&quot; in the first place ;). <code>print join ( &quot;&quot;, lc($macaddress) =~ m&#47;([0-9a-f]{2})&#47;gi );</code> will take any sequence of (paired numbers) with any delimiter. (Omit the <code>&quot;:&quot;</code> in the join and it&#39;ll print without the delimiter)"}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446632278, "post_id": 33518535, "comment_id": 54819881, "body": "@serenesat: Problem in removing colon, 00:00:00:00:00:00 -&gt; 00 00 00 00 00 00"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446632613, "post_id": 33518535, "comment_id": 54820098, "body": "@JeromeLaliag No, this will not be the output. Check syntax in your program."}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446632828, "post_id": 33518535, "comment_id": 54820261, "body": "Can you give me a sample of code with removing colons."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446633126, "post_id": 33518535, "comment_id": 54820476, "body": "See the last code block in my answer. - do exactly the same, just don&#39;t <code>join</code> with <code>:</code>."}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446633726, "post_id": 33518535, "comment_id": 54820840, "body": "print split(&#39;:&#39;, &quot;$macaddress&quot;); How can I use it in variables?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446634137, "post_id": 33518535, "comment_id": 54821084, "body": "<code>my $newvar =  split(&#39;:&#39;, $macaddress);</code>"}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446634960, "post_id": 33518535, "comment_id": 54821655, "body": "I try to use it in varialbles and splitting this <code>$macaddress = &quot;a1:b2:c3:d4:e5:f6&quot;;</code> the result is only number 6."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446637664, "post_id": 33518535, "comment_id": 54823384, "body": "Oh, yeah. that&#39;d need a <code>join</code>. But <code>my $newvar =  join ( &quot;&quot;, lc($macaddress) =~ m&#47;([0-9a-f]{2})&#47;gi );</code>  will work."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1446632554, "last_edit_date": 1446632554, "creation_date": 1446630477, "answer_id": 33518535, "question_id": 33518505, "link": "https://stackoverflow.com/questions/33518505/perl-add-colon-in-000000000000/33518535#33518535", "title": "Perl add colon in 000000000000", "body": "<p>This will do it:</p>\n\n<pre><code>print join ( \":\", $macaddress =~ m/(\\d{2})/g );\n</code></pre>\n\n<p>We use a regular expression match on \"two digits\". We repeat it, so the match returns a list of elements that are each two digits. And then <code>join</code> it on <code>:</code>. </p>\n\n<p>However, if you're handling hexadecimal numbers, that won't work - you'll need to handle letters as well: </p>\n\n<pre><code>my $macaddress = \"c0ffeedeAD02\";\nprint join ( \":\", lc($macaddress) =~ m/([0-9a-f]{2})/gi );\n</code></pre>\n\n<p>Which will print:</p>\n\n<pre><code>c0:ff:ee:de:ad:02 \n</code></pre>\n\n<p>(the <code>lc</code> lowercases everything). </p>\n\n<p>Note - this technique matches <em>any</em> paired digits, and ignores anything else. So you can quite happily do it with:</p>\n\n<pre><code>$macaddress = \"c0-ff-ee-de-AD-02\";\n$macaddress = \"c0:ff:ee:de:AD:02\";\n$macaddress = \"c0XffJee*de&amp;AD!02\";\n</code></pre>\n\n<p>It's joining with a specified delimiter. You can use another (or none):</p>\n\n<pre><code>$macaddress = \"c0XffJee*de&amp;AD!02\";\nprint join ( \"\", lc($macaddress) =~ m/([0-9a-f]{2})/gi );\n#still prints: c0ffeedead02\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1446646878, "post_id": 33518718, "comment_id": 54829566, "body": "To avoid having to chop: <code>$macaddress =~ s&#47;(?&lt;=..)(..)&#47;:$1&#47;g</code>"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1446651088, "post_id": 33518718, "comment_id": 54832710, "body": "@glennjackman Thank you for your useful comment post edited :)"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1446650679, "last_edit_date": 1446650679, "creation_date": 1446630976, "answer_id": 33518718, "question_id": 33518505, "link": "https://stackoverflow.com/questions/33518505/perl-add-colon-in-000000000000/33518718#33518718", "title": "Perl add colon in 000000000000", "body": "<p>Another option is substitution for to do it</p>\n\n<pre><code>my $macaddress = \"000000000000\"; \n$macaddress =~ s/(?&lt;=\\d{2})(\\d{2})/:$1/g;\nprint $macaddress;\n</code></pre>\n\n<p>If you want to separate the any two characters use this    </p>\n\n<pre><code>~s/(?&lt;=..)(..)/:$1/g;\n</code></pre>\n\n<p>Thank you @glenn jackman :)</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1446632035, "creation_date": 1446632035, "answer_id": 33519103, "question_id": 33518505, "link": "https://stackoverflow.com/questions/33518505/perl-add-colon-in-000000000000/33519103#33519103", "title": "Perl add colon in 000000000000", "body": "<p>You can also use <a href=\"http://p3rl.org/substr\" rel=\"nofollow\">substr</a>:</p>\n\n<pre><code>for (my $pos = 2; $pos &lt; length $macaddress; $pos += 3) {\n    substr $macaddress, $pos, 0, ':';\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 33518535, "answer_count": 3, "score": 1, "last_activity_date": 1446657951, "creation_date": 1446630405, "last_edit_date": 1446633752, "question_id": 33518505, "link": "https://stackoverflow.com/questions/33518505/perl-add-colon-in-000000000000", "title": "Perl add colon in 000000000000", "body": "<p>My code:</p>\n\n<pre><code>#!/usr/bin/perl\n\n$macaddress = \"000000000000\";\n\nprint \"$macaddress\\n\"; # Now how to make it 00:00:00:00:00:00\n</code></pre>\n\n<p>How to make it 00:00:00:00:00:00?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zxjl9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zxjl9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1446631626, "post_id": 33518083, "comment_id": 54819440, "body": "<a href=\"http://www.perlmonks.org/?node_id=1146888\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1146888</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446639185, "post_id": 33518083, "comment_id": 54824418, "body": "Why do you need the confirmation? That seems like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1446636425, "creation_date": 1446636425, "answer_id": 33520648, "question_id": 33518083, "link": "https://stackoverflow.com/questions/33518083/perl-editing-the-files/33520648#33520648", "title": "Perl editing the files", "body": "<p>If you execute your code it will show compilation error because statement is not terminated on second line.<br>\nAlways use <code>use warnings;</code> and <code>use strict;</code> on top of your program after shebang line.</p>\n\n<p>Here is a way to search a pattern and replace:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $file = \"file.txt\";\nmy $newid = \"500.0.0.0\";\nmy @update;\nopen my $fh, \"&lt;\", $file or die $!;\n\nwhile ( my $line = &lt;$fh&gt; )\n{\n    my ($pattern, $id) = (split(/\\s+/, $line))[0, 2];  #split line to get first and third column value\n    if ($pattern =~ m/4567/)\n    {   \n        print \"Before change: $line\\n\";     \n        $line =~ s/$id/$newid/g;  #replace id with newid when pattern is 4567\n        print \"After change: $line\\n\";\n        #print \"Confirm with Yes or No: \";  #here you can for confirmation\n        #chomp(my $confirmation = &lt;STDIN&gt;);\n    }\n    push @update, $line;\n}\nclose $fh;\n#modify the file\nopen my $fhw, \"&gt;\", $file or die \"Couldn't modify file: $!\";\nprint $fhw @update;\nclose $fhw;\n\n\n----------file.txt----------\n1234 ABC 100.0.0.0\n4567 DEF 200.0.0.0\n</code></pre>\n\n<p>It will also print the matched line before change and after change on console. You can modify this code according to your requirement. Confirmation part is not very clear in your question.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1446639395, "creation_date": 1446639395, "answer_id": 33521692, "question_id": 33518083, "link": "https://stackoverflow.com/questions/33518083/perl-editing-the-files/33521692#33521692", "title": "Perl editing the files", "body": "<p>Without the user confirmation element this will do it:</p>\n\n<pre><code>perl -i.bak -pe 'm/^4567/ and s/200/500/' filename\n</code></pre>\n\n<p>Are you user you need per-line user confirmation? You can check if this did what you needed with <code>diff</code>. </p>\n"}], "owner": {"reputation": 11, "user_id": 3782584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e816c94c19a9453129ba3282537325?s=128&d=identicon&r=PG&f=1", "display_name": "user3782584", "link": "https://stackoverflow.com/users/3782584/user3782584"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1446639395, "creation_date": 1446629234, "last_edit_date": 1446636603, "question_id": 33518083, "link": "https://stackoverflow.com/questions/33518083/perl-editing-the-files", "title": "Perl editing the files", "body": "<p>My file contains 100 lines</p>\n\n<pre><code>1234 ABC 100.0.0.0 \n4567 DEF 200.0.0.0 .....\n</code></pre>\n\n<p>I am matching a pattern in my file. for example search for <code>4567</code> and replace the <code>200.0.0.0</code> to <code>500.0.0.0</code>, so that line looks now <code>4567 DEF 500.0.0.0</code>.</p>\n\n<pre><code>my $file = \"$file_path/file.lst\";\nmy $newid = \"500.0.0.0\"\nopen MAST, $file or die \"Unable to open file.lst: $!\";\nmy $new = \"$file.tmp.$$\";\nmy $bak = \"$file.bak\";\nopen(NEW, \"&gt; $new\")         or die \"can't open $new: $!\";\n\nwhile (&lt;MAST&gt;) {\nmy ($pattern,$id) = (split /\\s+/, $_)[0,4];\n        print $_;\n        if ( $_ =~ m/^$pattern/ ) {\n             $_ =~ s/$id/$newid/g;\n        }\n        (print NEW $_)          or die \"can't write to $new: $!\";\n}\n\nclose(MAST)                    or die \"can't close $file: $!\";\nclose(NEW)                     or die \"can't close $new: $!\";\n\nrename($file, $bak)          or die \"can't rename $file to $bak: $!\";\nrename($new, $file)          or die \"can't rename $new to $file: $!\";\n</code></pre>\n\n<p>What I need to do:<br>\nShow the line before change and after change on screen and ask for user confirmation and proceed with other things later.</p>\n\n<p>Please advice.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1446617985, "post_id": 33514417, "comment_id": 54812437, "body": "Please defined what you consider as stable, like: a specific site can be reached with ping, the site can be reached with HTTP, the reply is within a specific time .... Apart from that an ICMP ping cannot have any port number. Ports are only possible with TCP and UDP."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446634321, "post_id": 33519881, "comment_id": 54821207, "body": "How about adding time limit?"}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446634850, "post_id": 33519881, "comment_id": 54821583, "body": "I need this, can you add timeout, example this request will run in 10 seconds only."}, {"owner": {"reputation": 46, "user_id": 5523845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb7a3c13630a067409180dd4998affc?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5523845/jon"}, "reply_to_user": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446635064, "post_id": 33519881, "comment_id": 54821719, "body": "I added a time limit right after I answered as I missed the &quot;for 30 seconds&quot; when first writing. The current code runs the loop 30 times and then exits, and sleeps 1 second between each. If you want to change to 10, change 30 to 10"}, {"owner": {"reputation": 46, "user_id": 5523845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb7a3c13630a067409180dd4998affc?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5523845/jon"}, "reply_to_user": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446635868, "post_id": 33519881, "comment_id": 54822245, "body": "@JeromeLaliag My pleasure. Regarding tweaks, you can edit LWP::UserAgent-&gt;new (timeout =&gt; 5); if you want a timeout on the request. As for die, sure switching print for die would work but if you want to see the flakiness it could make sense to have it printing since you&#39;ll see it going up and down. Hope your connection starts working properly :)"}], "tags": [], "owner": {"reputation": 46, "user_id": 5523845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb7a3c13630a067409180dd4998affc?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5523845/jon"}, "is_accepted": true, "score": 1, "last_activity_date": 1446634106, "creation_date": 1446634106, "answer_id": 33519881, "question_id": 33514417, "link": "https://stackoverflow.com/questions/33514417/perl-check-internet-connection-for-30-seconds-if-stable-not-stable-and-no-inter/33519881#33519881", "title": "Perl check internet connection for 30 seconds if stable, not stable and no internet connection", "body": "<p>I'm not sure I get your question properly, you mention you want to check with wget. I'm using LWP here to make the request in perl but you want to execute a program and get the result just use:</p>\n\n<pre><code>my $res = `wget -O - -q http://google.com`\n</code></pre>\n\n<p>But I'd suggest going for something like:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;agent(\"007\");\n\nmy $req = HTTP::Request-&gt;new(GET =&gt; 'http://google.com');\n\nmy $res;\nfor (1..30) {\n    $res = $ua-&gt;request($req);\n    if ($res-&gt;is_success) {\n        print localtime.\" Google is here\\n\";\n    } else {\n        print localtime.\"Google is gone\\n\";\n    }\n    sleep 1;\n}\n</code></pre>\n\n<p>That won't check for exactly 30 seconds since the requests take time but I'm assuming that isn't really important</p>\n"}], "owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 33519881, "answer_count": 1, "score": 0, "last_activity_date": 1446634106, "creation_date": 1446615346, "question_id": 33514417, "link": "https://stackoverflow.com/questions/33514417/perl-check-internet-connection-for-30-seconds-if-stable-not-stable-and-no-inter", "title": "Perl check internet connection for 30 seconds if stable, not stable and no internet connection", "body": "<p>I want script in perl that can check if my internet is stable, not stable or no internet connection.</p>\n\n<p>I use Ping::Net script but reply is \"You are connected to the internet.\", not checking internet connection in 30 seconds if stable, not stable or no internet connection. Just reply \"You are connected to the internet.\". But the truth my internet connection is unstable. Every 3 seconds connect - disconnect.</p>\n\n<p>This is the script</p>\n\n<pre><code>$ping = Net::Ping-&gt;new(\"icmp\");\n$ping-&gt;port_number(\"80\");\nif ( $ping-&gt;ping( 'www.google.com', '10' ) ) {\n    print \"You are connected to the internet.\\n\";\n}\nelse {\n    print \"You are not connected to the internet.\\n\";\n}\n$ping-&gt;close();\n</code></pre>\n\n<p>I want to use wget as my tester, but I don't know how to script it in perl. My project is written on perl.</p>\n"}, {"tags": ["perl", "cgi", "dbi"], "comments": [{"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 3, "creation_date": 1446615821, "post_id": 33514075, "comment_id": 54811671, "body": "<code>bind_col()</code> complicates things here and doesn&#39;t really gain you anything; the <code>fetchrow_*()</code> methods are better suited to this kind of problem. By the way, be careful with that SQL or users can do all kinds of nasty things with that query. You have to sanitize every bit of data you put into <code>$colsf</code> from the outside."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1446630025, "creation_date": 1446630025, "answer_id": 33518356, "question_id": 33514075, "link": "https://stackoverflow.com/questions/33514075/perl-cgi-bind-dynamic-number-of-columns/33518356#33518356", "title": "Perl cgi bind dynamic number of columns", "body": "<p>Using <code>bind_col</code> will not gain you anything here. As you have already figured out, that's used to <em>bind a fixed number of results to a set of variables</em>. But you <strong>do not have a fixed set</strong>.</p>\n\n<p>Thinking in terms of <em>oh, I can just create them dynamically</em> is a very common mistake. It will get you <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow\">into all kinds of trouble later</a>. Perl has a data structure specifically for this use case: <strong>the hash</strong>.</p>\n\n<p>DBI has a bunch of functions built in for retrieving data after <code>execute</code>. One of those is <a href=\"https://metacpan.org/pod/DBI#fetchrow_hashref\" rel=\"nofollow\"><code>fetchrow_hashref</code></a>. It will return the results as a hash reference, with one key per column, one row at a time.</p>\n\n<pre><code>while (my $res = $sth-&gt;fetchrow_hashref) {\n  p $res; # p is from Data::Printer\n}\n</code></pre>\n\n<p>Let's assume the result looks like this:</p>\n\n<pre><code>$res = {\n  id =&gt; 1,\n  color =&gt; 'red',\n}\n</code></pre>\n\n<p>You can access the color by saying <code>$res-&gt;{color}</code>. The perldocs on <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a> have a lot of info about this.</p>\n\n<p>Note that the best practice for naming statement handle variables is <code>$sth</code>.</p>\n\n<p>In your case, you have a dynamic number of columns. Those have to be joined to be in the format of <code>col1, col2, col3</code>. I guess you have already done that in <code>$colsf</code>. The table is pretty obvious in <code>$tab</code>, so we only have the <code>$whr</code> left.</p>\n\n<p>This part is tricky. It's important to <a href=\"https://xkcd.com/327/\" rel=\"nofollow\">always sanitize your input</a>, <strong>especially in a CGI environment</strong>. With DBI this is best done by using <em>placeholders</em>. They will take care of all the escaping for you, and they are easy to use.</p>\n\n<pre><code>my $sth = $dbi-&gt;prepare('select cars from garage where color=?');\n$sth-&gt;execute($color);\n</code></pre>\n\n<p>Now we don't need to care if the color is <code>red</code>, <code>blue</code> or <code>' and 1; --</code>, which might have broken stuff. If it's all very dynamic, use <a href=\"https://metacpan.org/pod/DBI#quote\" rel=\"nofollow\"><code>$dbi-&gt;quote</code></a> instead.</p>\n\n<p>Let's put this together in your code.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DBI;\n\n# ...\n\n# the columns\nmy $colsf = join ',', @some_list_of_column_names; # also check those!\n\n# the table name\nmy $table = $q-&gt;param('table');\ndie 'invalid table name' if $table =~ /[^a-zA-Z0-9_]/; # input checking\n\n# where\n# I'm skipping this part as I don't know where it is comming from\n\nif ($op eq 'SELECT') {\n  my $sql = 'SELECT $colsf FROM $table';\n  $sql .= ' WHERE $whr' if $whr;\n\n  my $sth = $dbh-&gt;prepare($sql) or die $dbi-&gt;errstr;\n  $sth-&gt;execute;\n\n  my @headings = $sth-&gt;{NAME}; # see https://metacpan.org/pod/DBI#NAME1\n  while (my $res = $sth-&gt;fetchrow_hashref) {\n    # do stuff here\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2360523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab4af84152c725fe5dbd0963a7e202c?s=128&d=identicon&r=PG", "display_name": "jon", "link": "https://stackoverflow.com/users/2360523/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446630025, "creation_date": 1446613451, "last_edit_date": 1446628424, "question_id": 33514075, "link": "https://stackoverflow.com/questions/33514075/perl-cgi-bind-dynamic-number-of-columns", "title": "Perl cgi bind dynamic number of columns", "body": "<p>I'm trying to make a simple select from a database, the thing is that I want the same script to be able to select any of the tables in it. I have gotten everything solved up until the point when I need to bind the columns to variables, since they must be generated dynamically I just don't know how to do it.</p>\n\n<p>here's the code:</p>\n\n<pre><code> if($op eq \"SELECT\"){\n    if ($whr){\n    $query1 = \"SELECT $colsf FROM $tab WHERE $whr\";\n    }else{\n    $query1 = \"SELECT $colsf FROM $tab\";\n    }\n    $seth = $dbh-&gt;prepare($query1);\n    $seth-&gt;execute();\n    foreach $cajas(@columnas){\n    $seth-&gt;bind_col(*$dynamically_generated_var*);\n    }\n    print $q-&gt;br();\n    print $q-&gt;br();\n    print $q-&gt;br();\n</code></pre>\n\n<p>The variable <code>@columans</code> contains the name of the selected columns (which varies a lot), and I need a variable assigned for each of the columns on the <code>$seth-&gt;bind_col()</code>.</p>\n\n<p>How can I acheive this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446608817, "post_id": 33513292, "comment_id": 54809771, "body": "Please provide a runnable demonstration of your problem. At the very least, please provide the output of <code>printf(&quot;%v02X&quot;, $str)</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1446608842, "post_id": 33513292, "comment_id": 54809777, "body": "<code>chomp</code> your line before splitting it.`"}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446608920, "post_id": 33513292, "comment_id": 54809798, "body": "This is the code open( tarrget, &quot;&lt;$ARGV[0]&quot; ) or die &quot;$!&quot;; while (&lt;tarrget&gt;) {     chomp($_);     $target = $_;     ( $mcaddr, $auth ) = split / /;     ( $mcadd,  $none ) = split / /;     $mcadd =~ s/[^a-zA-Z0-9]*//g;"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1446608939, "post_id": 33513292, "comment_id": 54809804, "body": "Because he is getting an extra space at the end, which is probably his line ending."}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446608997, "post_id": 33513292, "comment_id": 54809817, "body": "I think the problem is split / /;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1446609037, "post_id": 33513292, "comment_id": 54809828, "body": "If that&#39;s suppose to your be your demonstration, it should be in the question. That said, it doesn&#39;t demonstrate your problem; it dies for lack of an input file. Please provide a runnable demonstration of your problem. At the very least, please provide the output of <code>printf(&quot;%v02X&quot;, $str)</code>"}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446610688, "post_id": 33513292, "comment_id": 54810187, "body": "This is the code and logs <a href=\"http://pastebin.com/raw.php?i=URAn8vdz\" rel=\"nofollow noreferrer\">pastebin.com/raw.php?i=URAn8vdz</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1446629654, "post_id": 33513292, "comment_id": 54818232, "body": "Your code and sample data should be in your question. Don&#39;t use offsite links - they go invalid. Indeed, already has!."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446611729, "post_id": 33513631, "comment_id": 54810435, "body": "I fix this problem by adding space in the end of the line."}, {"owner": {"reputation": 254, "user_id": 3175566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fc5c91fb0ea8ae8b9f93b838eb08e0?s=128&d=identicon&r=PG", "display_name": "eddy85br", "link": "https://stackoverflow.com/users/3175566/eddy85br"}, "reply_to_user": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446611760, "post_id": 33513631, "comment_id": 54810443, "body": "Try the one-liner in a smaller case and then adapt to your code, with the <b>pipes</b> in the output, you can figure out if there is an extra character in your input. Try to run <code>$ file mclist.txt</code> to see if it uses Windows line-endings <code>\\r\\n</code> or <code>vim mclist.txt</code> to see if there is something wrong with the input file..."}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446611834, "post_id": 33513631, "comment_id": 54810466, "body": "livemac.txt: ASCII text, with CRLF line terminators"}, {"owner": {"reputation": 254, "user_id": 3175566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fc5c91fb0ea8ae8b9f93b838eb08e0?s=128&d=identicon&r=PG", "display_name": "eddy85br", "link": "https://stackoverflow.com/users/3175566/eddy85br"}, "reply_to_user": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446612028, "post_id": 33513631, "comment_id": 54810524, "body": "By adding space at the end, you&#39;ll get an extra variable in split, that catches the extra chars (probably <code>\\r</code> or another non-printable char.)... add an extra var. in your split and print it between <i>pipes</i> to see if the variable is defined or not, you can print the char. code with <a href=\"http://perldoc.perl.org/functions/chr.html\" rel=\"nofollow noreferrer\">chr function</a> or <a href=\"http://perldoc.perl.org/functions/ord.html\" rel=\"nofollow noreferrer\">ord function</a>"}, {"owner": {"reputation": 254, "user_id": 3175566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fc5c91fb0ea8ae8b9f93b838eb08e0?s=128&d=identicon&r=PG", "display_name": "eddy85br", "link": "https://stackoverflow.com/users/3175566/eddy85br"}, "reply_to_user": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446612174, "post_id": 33513631, "comment_id": 54810565, "body": "Hum... try to run <code>dos2unix -k livemac.txt</code> to convert the line-endings to Unix terminators (just <code>\\n</code> instead of <code>\\r\\n</code>). This way I think you can remove the extra space in the end of lines... <code>vim</code> tells you that the file has EOL <code>\\r\\n</code> in that <code>[dos]</code> in the end of the terminal / screen, in your print-screen..."}, {"owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "edited": false, "score": 0, "creation_date": 1446612525, "post_id": 33513631, "comment_id": 54810667, "body": "root@ubuntu:/home/ubuntu/WiMAX# dos2unix -k livemac.txt dos2unix: converting file livemac.txt to Unix format ... root@ubuntu:/home/ubuntu/WiMAX#"}], "tags": [], "owner": {"reputation": 254, "user_id": 3175566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fc5c91fb0ea8ae8b9f93b838eb08e0?s=128&d=identicon&r=PG", "display_name": "eddy85br", "link": "https://stackoverflow.com/users/3175566/eddy85br"}, "is_accepted": false, "score": 0, "last_activity_date": 1446611357, "last_edit_date": 1446611357, "creation_date": 1446610784, "answer_id": 33513631, "question_id": 33513292, "link": "https://stackoverflow.com/questions/33513292/splitting-space-turns-to-breakline-in-second-string/33513631#33513631", "title": "Splitting space turns to breakline in second string", "body": "<p>If your code is:</p>\n\n<pre><code>open(tarrget, \"&lt;$ARGV[0]\" ) or die \"$!\";\nwhile (&lt;tarrget&gt;) {\n  chomp($_);\n  $target = $_;  ## Not used...\n  ( $mcaddr, $auth ) = split / /;\n  ( $mcadd, $none ) = split / /;\n  $mcadd =~ s/[^a-zA-Z0-9]*//g;\n}\n</code></pre>\n\n<p>I saw that you use <em>split</em> in <strong>$_</strong> twice and then try to erase non-alphanumeric chars in the $mcadd variable.</p>\n\n<p>Try this:</p>\n\n<ol>\n<li>Put your content in a file named \"mac.list\";</li>\n<li><p>Run this perl-oneliner (the <em>pipes</em> \"|\" are just to \"clarify\" your output):</p>\n\n<p>perl -nE 'chomp; ($m, $a) = split /\\s+/; $m =~ s/[^A-F0-9]//ig; say \"|$m|\"; say \"|$a|\";' mac.list</p></li>\n</ol>\n\n#\n\n<p>My <em>output</em> based on your 2 examples:</p>\n\n<pre><code>|001122334455|\n|s8g6Dg9C11Dz97Fx|\n||\n|XXXXXXXXxxxXXxXx|\n</code></pre>\n\n<p><strong>Note:</strong> The <code>XX:XX:XX:XX:XX:XX</code> are not hexadecimal valid (not A-F nor 0-9) and are erased in <code>\"$m =~ s/[^A-F0-9]//ig;\"</code></p>\n\n<p>For those that are not used to Perl's <code>s///</code> and RegExp...:\n<code>[^A-F]</code> => not A to F;\n<code>[^0-9]</code> => not 0 to 9;\nThe <code>i</code> modifier stands for \"ignore case\";\nThe <code>g</code> modifier stands for \"global\";</p>\n\n<p>Hope this snippet / one-liner be useful to you.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446629435, "post_id": 33513979, "comment_id": 54818090, "body": "<code>chomp</code> acts on <code>$_</code> anyway; <code>split</code> defaults to <code>$_</code> and &quot;on whitespace&quot;. 3 arg open with lexical filehandles is preferable."}], "tags": [], "owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "is_accepted": false, "score": 0, "last_activity_date": 1446614536, "last_edit_date": 1446614536, "creation_date": 1446612882, "answer_id": 33513979, "question_id": 33513292, "link": "https://stackoverflow.com/questions/33513292/splitting-space-turns-to-breakline-in-second-string/33513979#33513979", "title": "Splitting space turns to breakline in second string", "body": "<p>I fixed the problem by changing the code to:</p>\n\n<pre><code>open( tarrget, \"&lt;$ARGV[0]\" ) or die \"$!\";\nwhile (&lt;tarrget&gt;) {\n    chomp($_);\n    ( $mcaddr, $none ) = split / /;\n    ( $mcadd,  $none ) = split / /;\n    ( $none,  $auth ) = split / /;\n    $mcadd =~ s/[^a-zA-Z0-9]*//g;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5520145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/05zkq.png?s=128&g=1", "display_name": "Jerome Laliag", "link": "https://stackoverflow.com/users/5520145/jerome-laliag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1446614536, "creation_date": 1446608599, "last_edit_date": 1446611778, "question_id": 33513292, "link": "https://stackoverflow.com/questions/33513292/splitting-space-turns-to-breakline-in-second-string", "title": "Splitting space turns to breakline in second string", "body": "<p>This is the sample text file I want to split.</p>\n\n<pre><code>00:11:22:33:44:55(space)s8g6Dg9C11Dz97Fx(breakline)\nXX:XX:XX:XX:XX:XX(space)XXXXXXXXxxxXXxXx\n</code></pre>\n\n<p>After spliting it, the last line turns to</p>\n\n<pre><code>s8g6Dg9C11Dz97Fx(breakline) \n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>s8g6Dg9C11Dz97Fx(nothing). \n</code></pre>\n\n<p>But </p>\n\n<pre><code>00:11:22:33:44:55 and XX:XX:XX:XX:XX:XX\n</code></pre>\n\n<p>is ok.</p>\n\n<p>This is the code: </p>\n\n<pre><code>($mcaddr,$auth) = split / /;\n</code></pre>\n\n<p>I fix this problem by adding space in end of the line.</p>\n"}, {"tags": ["perl", "overriding"], "comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 3, "creation_date": 1446605452, "post_id": 33512880, "comment_id": 54808982, "body": "Because of prototypes.  Also, if you want to override open, you&#39;ll need to specify the correct prototype in your new anonymous sub as well."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1446607550, "post_id": 33512880, "comment_id": 54809463, "body": "Also should test size of @_, not defined.  And handle more parameters. And don&#39;t forget 1-arg open :)"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1446607187, "creation_date": 1446607187, "answer_id": 33513114, "question_id": 33512880, "link": "https://stackoverflow.com/questions/33512880/why-cant-i-override-coreopen-with-instead-of-0-1-2/33513114#33513114", "title": "Why can&#39;t I override CORE::open with @_ instead of $_[0], $_[1], $_[2]?", "body": "<p>Like most operators' operands, <code>open</code>'s operands are evaluated in scalar context.</p>\n"}], "owner": {"reputation": 21, "user_id": 3311988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a563c2345698a1c4e589a1bdf41438f?s=128&d=identicon&r=PG&f=1", "display_name": "user3311988", "link": "https://stackoverflow.com/users/3311988/user3311988"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1448448232, "creation_date": 1446605241, "last_edit_date": 1448448232, "question_id": 33512880, "link": "https://stackoverflow.com/questions/33512880/why-cant-i-override-coreopen-with-instead-of-0-1-2", "title": "Why can&#39;t I override CORE::open with @_ instead of $_[0], $_[1], $_[2]?", "body": "<p>In trying to override the PERL CORE::open function, I tried this simple test case, which works:</p>\n\n<pre><code>BEGIN {\n  *CORE::GLOBAL::open = sub {\n  if (defined $_[2]) {\n    CORE::open $_[0], $_[1], $_[2];\n  } else {\n    CORE::open $_[0], $_[1];\n  }\n}\n</code></pre>\n\n<p>Why doesn't using @_ work?:</p>\n\n<pre><code>BEGIN {\n  *CORE::GLOBAL::open = sub {\n    CORE::open @_;\n  }\n}\n</code></pre>\n\n<p>I get:</p>\n\n<blockquote>\n  <p>Can't use string (\"3\") as a symbol ref while \"strict refs\"...</p>\n</blockquote>\n\n<p>My purpose in overriding the function is to print a stack trace whenever open is called (not shown in the code snippet above).</p>\n\n<p>Note that open was called with the three argument form, but I'd like to generalize the override method so that I am not testing for a specific number of parameters, i.e. so that I don't need to know how many parameters are expected.</p>\n\n<pre><code>my $fh;\nopen $fh, \"&gt;\", \"tmp.dummy\" ;\n</code></pre>\n"}, {"tags": ["perl", "fork", "sigint"], "answers": [{"comments": [{"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1446613671, "post_id": 33513245, "comment_id": 54811010, "body": "The documentation page for <code>waitpid</code> (<a href=\"http://perldoc.perl.org/functions/waitpid.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/waitpid.html</a>) is a bit sparse. Is this function meant to be a fairly thin wrapper for the Linux system call (with additional logic to port it to other systems)?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1446608254, "creation_date": 1446608254, "answer_id": 33513245, "question_id": 33512101, "link": "https://stackoverflow.com/questions/33512101/perl-forward-sigint-to-forked-child-process/33513245#33513245", "title": "Perl forward SIGINT to forked child process", "body": "<blockquote>\n  <p><em>I am trying to use waitpid to keep the parent alive</em></p>\n</blockquote>\n\n<p>You told <code>waitpid</code> to return immediately. Change <code>WNOHANG</code> to <code>0</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 254, "user_id": 3175566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fc5c91fb0ea8ae8b9f93b838eb08e0?s=128&d=identicon&r=PG", "display_name": "eddy85br", "link": "https://stackoverflow.com/users/3175566/eddy85br"}, "edited": false, "score": 0, "creation_date": 1446608723, "post_id": 33513296, "comment_id": 54809743, "body": "Otherwise, maybe this could help you: <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlipc.html</a>  Or, you could try threads, if possible: <a href=\"http://perldoc.perl.org/perlthrtut.html#NAME\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlthrtut.html#NAME</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446611465, "post_id": 33513296, "comment_id": 54810365, "body": "Sending a non-stop stream of HUPs like that can&#39;t be right."}, {"owner": {"reputation": 254, "user_id": 3175566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fc5c91fb0ea8ae8b9f93b838eb08e0?s=128&d=identicon&r=PG", "display_name": "eddy85br", "link": "https://stackoverflow.com/users/3175566/eddy85br"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446613002, "post_id": 33513296, "comment_id": 54810815, "body": "@ikegami Your answer is far simpler and better, thanks!"}], "tags": [], "owner": {"reputation": 254, "user_id": 3175566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fc5c91fb0ea8ae8b9f93b838eb08e0?s=128&d=identicon&r=PG", "display_name": "eddy85br", "link": "https://stackoverflow.com/users/3175566/eddy85br"}, "is_accepted": false, "score": 1, "last_activity_date": 1446609026, "last_edit_date": 1446609026, "creation_date": 1446608629, "answer_id": 33513296, "question_id": 33512101, "link": "https://stackoverflow.com/questions/33512101/perl-forward-sigint-to-forked-child-process/33513296#33513296", "title": "Perl forward SIGINT to forked child process", "body": "<p>If you don't need to implement all by yourself and can use a module, I would recommend: <a href=\"https://metacpan.org/pod/Parallel::Prefork\" rel=\"nofollow\">https://metacpan.org/pod/Parallel::Prefork</a>\nThis module wraps all the worker/children creation and management for you easily, besides, it saves memory usage.</p>\n\n<p>If you plan to create a daemon, there is another one, that can manage forks: <a href=\"https://metacpan.org/pod/Daemon::Control\" rel=\"nofollow\">https://metacpan.org/pod/Daemon::Control</a></p>\n\n<p>Or try this solution:</p>\n\n<pre><code>use strict;\nuse warnings FATAL =&gt; 'all';\nuse feature 'say';\nuse POSIX \":sys_wait_h\";\n\nBEGIN {\n    sub reap_children_and_exit {\n        my $signame = shift;\n        my $pid = shift;\n        defined $pid and kill $signame, $pid;\n        say \"$pid =&gt; Received '$signame' !\";\n        exit 0;\n    }\n    $SIG{INT} = \\&amp;reap_children_and_exit;\n}\n\nmy %children;\n\n$SIG{CHLD} = sub {\n    # don't change $! and $? outside handler\n    local ($!, $?);\n    while ( (my $pid = waitpid(-1, WNOHANG)) &gt; 0 ) {\n        delete $children{$pid};\n        reap_children_and_exit('HUP', $pid);\n    }\n};\n\nmy $child_text = &lt;&lt;'EOF';\nperl -e 'while (1) { printf \"%s\\n\", rand(); sleep 1; }'\nEOF\n\nwhile (1) {\n    my $pid = fork();\n    die \"Cannot fork\" unless defined $pid;\n    say \"I'm the PID $pid\";\n    if ($pid == 0) {\n        say q{I'm the parent};\n        exit 0;\n    } else {\n        $children{$pid} = 1;\n        system($child_text);\n    }\n}\n</code></pre>\n\n<p>I wish this helps you.\nBest regards!</p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 1, "accepted_answer_id": 33513245, "answer_count": 2, "score": 1, "last_activity_date": 1446609026, "creation_date": 1446599845, "question_id": 33512101, "link": "https://stackoverflow.com/questions/33512101/perl-forward-sigint-to-forked-child-process", "title": "Perl forward SIGINT to forked child process", "body": "<p>So I am trying to create a Perl program that forks a worker and waits for it to finish. In my real use case I need to fork many workers and wait for them all, so I thought I would try a test case with a single worker. My concern here is that when I run this program in the terminal, sending a <code>^C</code> doesn't kill the parent, even though the signal handler seems like it should reap the child process and cause the parent to exit normally. I am trying to use <code>waitpid</code> to keep the parent alive so that it can receive signals and pass them along to the child, but the parent process seems to ignore <code>^C</code> entirely.</p>\n\n<pre><code>use strict;\nuse warnings FATAL =&gt; 'all';\nuse POSIX \":sys_wait_h\";\n\nmy $cpid;\n\nsub reap_children_and_exit {\n    defined $cpid and kill 'HUP', $cpid;\n    exit 0;\n}\n\n$SIG{INT} = \\&amp;reap_children_and_exit;\n\nmy $child_text = &lt;&lt;'EOF';\nperl -e 'while (1) { printf \"%s\\n\", rand() }'\nEOF\n\n$cpid = fork;\nif ($cpid == 0) {\n    exec($child_text)\n}\n\nwaitpid($cpid, WNOHANG);\n</code></pre>\n"}, {"tags": ["perl", "hash", "reference", "subroutine"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446596176, "post_id": 33511461, "comment_id": 54806600, "body": "You&#39;re flattening your lists upon creation. You need to use references instead: <code>(a =&gt; [1, 2, 3], b =&gt; [3, 4, 5])</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1446608743, "post_id": 33511461, "comment_id": 54809749, "body": "Note that your <code>giveMeARef</code> is extremely wasteful. It should be: <code>sub giveMeARef {     my $hash = $_[0];     pop(@{ $hash-&gt;{a} }); }</code>"}, {"owner": {"reputation": 2111, "user_id": 4090903, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/852d1cca847148adca9647aa4931c6ac?s=128&d=identicon&r=PG&f=1", "display_name": "thepace", "link": "https://stackoverflow.com/users/4090903/thepace"}, "edited": false, "score": 0, "creation_date": 1446717800, "post_id": 33511461, "comment_id": 54863508, "body": "What do you intend to do? Just print the array or access its elements?"}, {"owner": {"reputation": 12559, "user_id": 312427, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/29821a42ae05ded0e3621d80320d794b?s=128&d=identicon&r=PG", "display_name": "Fletcher Moore", "link": "https://stackoverflow.com/users/312427/fletcher-moore"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446854328, "post_id": 33511461, "comment_id": 54932664, "body": "@ikegami What do you mean by wasteful?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446854478, "post_id": 33511461, "comment_id": 54932712, "body": "Unnecessarily copying the hash is a waste of time and memory"}], "answers": [{"tags": [], "owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "is_accepted": false, "score": 3, "last_activity_date": 1446596139, "creation_date": 1446596139, "answer_id": 33511565, "question_id": 33511461, "link": "https://stackoverflow.com/questions/33511461/how-do-i-dereference-this-hash-in-perl/33511565#33511565", "title": "How do I dereference this hash in perl?", "body": "<p>The code is fine, but your test hash is not what you think it is.</p>\n\n<p>You cannot construct a hash like that. The lists in there got flattened out. You need to use array-refs instead:</p>\n\n<pre><code>my %hash = ( \"a\" =&gt; [1,2,3], \"b\" =&gt; [3,4,5]);\n</code></pre>\n\n<p>Since you are going to take a reference to that hash anyway, you might as well start there:</p>\n\n<pre><code>my $hash_ref = { a =&gt; [1,2,3], b =&gt; [3,4,5] };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1446627050, "post_id": 33512217, "comment_id": 54816607, "body": "Good point about better not making a copy of the referenced hash."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 6, "last_activity_date": 1446600660, "last_edit_date": 1495541743, "creation_date": 1446600660, "answer_id": 33512217, "question_id": 33511461, "link": "https://stackoverflow.com/questions/33511461/how-do-i-dereference-this-hash-in-perl/33512217#33512217", "title": "How do I dereference this hash in perl?", "body": "<p>As I mentioned in my <a href=\"https://stackoverflow.com/questions/33511461/how-do-i-dereference-this-hash-in-perl#comment54806600_33511461\">comment</a>, you're flattening a list when you create <code>%hash</code>. The fat comma (<code>=&gt;</code>) is a synonym for the comma that causes barewords on the left to be interpreted as strings, but it doesn't matter in this case because you've already got a string on the left. In effect, your hash assignment really looks like this:</p>\n\n<pre><code>my %hash = (\"a\", 1, 2, 3, \"b\", 3, 4, 5);\n</code></pre>\n\n<p>It looks like you were trying to assign arrays to <code>a</code> and <code>b</code>, but in Perl, hash values are always scalars, so you need to use references to anonymous arrays instead:</p>\n\n<pre><code>my %hash = (a =&gt; [1, 2, 3], b =&gt; [3, 4, 5]);\n</code></pre>\n\n<p>It's also worth noting that your subroutine is making a shallow copy of the hash reference you pass in, which may have unintended/unforeseen consequences. Consider the following:</p>\n\n<pre><code>use Data::Dump;\n\nsub giveMeARef {\n    my %hash = %{$_[0]};\n    pop(@{$hash{a}});\n}\n\nmy %hash = (a =&gt; [1, 2, 3], b =&gt; [3, 4, 5]);\n\ndd(\\%hash);\ngiveMeARef(\\%hash);\ndd(\\%hash);\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>{ a =&gt; [1, 2, 3], b =&gt; [3, 4, 5] }\n{ a =&gt; [1, 2], b =&gt; [3, 4, 5] }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2111, "user_id": 4090903, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/852d1cca847148adca9647aa4931c6ac?s=128&d=identicon&r=PG&f=1", "display_name": "thepace", "link": "https://stackoverflow.com/users/4090903/thepace"}, "is_accepted": false, "score": 1, "last_activity_date": 1446717739, "last_edit_date": 1446717739, "creation_date": 1446717290, "answer_id": 33541403, "question_id": 33511461, "link": "https://stackoverflow.com/questions/33511461/how-do-i-dereference-this-hash-in-perl/33541403#33541403", "title": "How do I dereference this hash in perl?", "body": "<p>There are two issues here:</p>\n\n<ul>\n<li><p>The way Dumper is used to print the hash without passing reference wherein it resolves to print all the elements as $VAR1, $VAR2, etc.</p>\n\n<p>Dumper(\\%hash)</p></li>\n<li><p>The way the hash is initialized. Since the value is a list, it should be initialized as</p>\n\n<p>my %hash = ( \"a\" => [1,2,3], \"b\" => [3,4,5]);</p></li>\n</ul>\n\n<p>A more correct code.</p>\n\n<pre><code>#!/usr/bin/perl\nuse Data::Dumper;\n\nsub giveMeARef {\n    my %hash = %{$_[0]};\n\n    print \"arg: \", Dumper($_[0]); #Dumper is passed a Ref.\n    print \"deref: \", Dumper(\\%hash); # Dumper should be called with a hash ref.\n}\n\nmy %hash = ( \"a\" =&gt; [1,2,3], \"b\" =&gt; [3,4,5]);\n\ngiveMeARef(\\%hash);\n</code></pre>\n"}], "owner": {"reputation": 12559, "user_id": 312427, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/29821a42ae05ded0e3621d80320d794b?s=128&d=identicon&r=PG", "display_name": "Fletcher Moore", "link": "https://stackoverflow.com/users/312427/fletcher-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 33512217, "answer_count": 3, "score": 0, "last_activity_date": 1446717739, "creation_date": 1446595490, "last_edit_date": 1495541743, "question_id": 33511461, "link": "https://stackoverflow.com/questions/33511461/how-do-i-dereference-this-hash-in-perl", "title": "How do I dereference this hash in perl?", "body": "<pre><code>#!/usr/bin/perl\nuse Data::Dumper;\n\nsub giveMeARef {\n    my %hash = %{$_[0]};\n\n    print \"arg: \", Dumper($_[0]);\n    print \"deref: \", Dumper(%hash);\n}\n\nmy %hash = ( \"a\" =&gt; (1,2,3), \"b\" =&gt; (3,4,5));\n\ngiveMeARef(\\%hash);\n</code></pre>\n\n<p>This produces the following output:</p>\n\n<pre><code>arg: $VAR1 = {\n          '2' =&gt; 3,\n          '4' =&gt; 5,\n          'a' =&gt; 1,\n          'b' =&gt; 3\n        };\nderef: $VAR1 = 'b';\n$VAR2 = 3;\n$VAR3 = '2';\n$VAR4 = 3;\n$VAR5 = 'a';\n$VAR6 = 1;\n$VAR7 = '4';\n$VAR8 = 5;\n</code></pre>\n\n<p>I tried to follow the examples in <a href=\"https://stackoverflow.com/questions/2282987/how-do-i-dereference-a-perl-hash-reference-thats-been-passed-to-a-subroutine\">How do I dereference a Perl hash reference that&#39;s been passed to a subroutine?</a></p>\n\n<p>But I believe because my hash is more complicated, it isn't working out for me. How do I get back to the original structure I passed in?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 2, "creation_date": 1446594879, "post_id": 33511144, "comment_id": 54806223, "body": "You&#39;re kidding me.  An &quot;x&quot;?  I just tried it and it worked perfectly.  I&#39;m going to read that whole link that you posted.  Thank you very much.  That is sooo cool!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446648060, "post_id": 33511144, "comment_id": 54830384, "body": "@Matt... if you&#39;re researching regexes, <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlretut.html</a> is definitely worth a read."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446652897, "post_id": 33511144, "comment_id": 54834101, "body": "Thank you stevieb.  Appreciate the link...I&#39;m looking though it now."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 2, "last_activity_date": 1446594363, "last_edit_date": 1446594363, "creation_date": 1446593640, "answer_id": 33511144, "question_id": 33511088, "link": "https://stackoverflow.com/questions/33511088/how-can-i-make-a-perl-regex-more-readable/33511144#33511144", "title": "How can I make a Perl regex more readable?", "body": "<p>Use the <a href=\"http://perldoc.perl.org/perlre.html#%2Fx\" rel=\"nofollow\"><code>/x</code> modifier</a> to make your regex more readable and ignore whitespace.</p>\n\n<p>I.e.:</p>\n\n<pre><code>@fieldNames = grep !\n    /dbid|history|RecordID|CCObjects|MergeSWCRs|AssociatedIntegrationSet|Level1TestResults|\n    Level2TestResults|Level3TestResults|Level4TestResults|Reviews|WithdrawCR|\n    AssociatedWithdrawnCR|Attachments|AssociatedPRs|OriginatingSolution|AssociatedSWRsFull|\n    AssociatedSWRsDelta|ClonedFrom|ClonedTo|AssociatedComment|ExternalLinks|ratl_mastership/x,\n    @fieldNames;\n</code></pre>\n\n<p>Or perhaps slightly optimised:</p>\n\n<pre><code>my @fieldNames =\n    grep ! /\n        dbid|\n        history|\n        RecordID|\n        CCObjects|\n        MergeSWCRs|\n        Level[1-4]TestResults|\n        Reviews|\n        WithdrawCR|\n        Associated(?:WithdrawnCR|PRs|SWRsFull|SWRsDelta|Comment|IntegrationSet)|\n        Attachments|\n        OriginatingSolution|\n        Cloned(?:From|To)|\n        ExternalLinks|\n        ratl_mastership\n    /x,\n    @fieldNames;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446595215, "post_id": 33511230, "comment_id": 54806327, "body": "Matt J, this is awesome thank you.  But why don&#39;t you like a regular expression for what I am doing?  I&#39;m seriously asking as I&#39;m new to PERL.  The regular expression I was using accomplishes the same thing with fewer more readable lines.  But this might be faster....Im going to time it now.  Thank you so much for answering my question.  I wish I had one ounce of your brain power."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 1, "creation_date": 1446595534, "post_id": 33511230, "comment_id": 54806416, "body": "I love regular expressions, but I only like to use them when I need to. Perl programmers have a tendency to use regular expressions for everything, but sometimes all you need is a simple string match (which should be a few microseconds faster, too)."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446595846, "post_id": 33511230, "comment_id": 54806509, "body": "That makes sense and I&#39;m close to having my code changed to try it.  Really appreciate your advice and knowledge."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446653293, "post_id": 33511230, "comment_id": 54834371, "body": "Regular expressions are basically a programming language in their own right. They&#39;re <i>built</i> for search/replace type operations, and whilst you can do LOTs more than that - you end up with some really hard to follow code."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 4, "last_activity_date": 1446594067, "creation_date": 1446594067, "answer_id": 33511230, "question_id": 33511088, "link": "https://stackoverflow.com/questions/33511088/how-can-i-make-a-perl-regex-more-readable/33511230#33511230", "title": "How can I make a Perl regex more readable?", "body": "<p>Don't use a regular expression:</p>\n\n<pre><code>my %ignored = (\n    dbid      =&gt; 1,\n    history   =&gt; 1,\n    RecordID  =&gt; 1,\n    CCObjects =&gt; 1,\n    # ...\n);\n\n# or define the hash this way, if you prefer\n# my %ignored = map { $_ =&gt; 1 } qw(dbid history RecordID CCObjects ...);\n\n@fieldNames = grep { !$ignored{$_} } @fieldNames;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 33511144, "answer_count": 2, "score": 0, "last_activity_date": 1446645327, "creation_date": 1446593446, "last_edit_date": 1446645327, "question_id": 33511088, "link": "https://stackoverflow.com/questions/33511088/how-can-i-make-a-perl-regex-more-readable", "title": "How can I make a Perl regex more readable?", "body": "<p>I have an array filled with database fieldnames which I run a grep command over to remove fields that are not desired.  Looks ugly in code but it is very useful because we can easily see what fields in the database we are not passing to another program.  The grep command does not like my carriage returns and ignores the field immediately after the CR.  There are a lot of ugly ways I can think to fix this and also many complicated ways I saw on google but isn't there a way to ignore the CRs within the greps \"//\"?  I really appreciate you guys taking a look at this.  </p>\n\n<pre><code>@fieldNames = grep ! /dbid|history|RecordID|CCObjects|MergeSWCRs|AssociatedIntegrationSet|Level1TestResults|\n                     Level2TestResults|Level3TestResults|Level4TestResults|Reviews|WithdrawCR|\n                     AssociatedWithdrawnCR|Attachments|AssociatedPRs|OriginatingSolution|AssociatedSWRsFull|\n                     AssociatedSWRsDelta|ClonedFrom|ClonedTo|AssociatedComment|ExternalLinks|ratl_mastership/, @fieldNames;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1446586650, "post_id": 33508958, "comment_id": 54802595, "body": "That last- should it not be <code>m?V</code>?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1446586719, "post_id": 33508958, "comment_id": 54802637, "body": "D&#39;oh! It&#39;s harder coming up with wrong solutions than I thought. ;-)"}, {"owner": {"reputation": 365, "user_id": 1578210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7aec6c20f75c03f632f842dc7f77aaea?s=128&d=identicon&r=PG", "display_name": "milnuts", "link": "https://stackoverflow.com/users/1578210/milnuts"}, "edited": false, "score": 0, "creation_date": 1446654984, "post_id": 33508958, "comment_id": 54835606, "body": "Thanks, I went with option #2 above and it worked perfectly."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1446586701, "last_edit_date": 1446586701, "creation_date": 1446584369, "answer_id": 33508958, "question_id": 33508735, "link": "https://stackoverflow.com/questions/33508735/perl-string-search/33508958#33508958", "title": "Perl string search", "body": "<p>You have no repetition after your <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow\">character class</a>, so you're asking for a single match of anything in that character class, i.e., an <code>m</code> or a <code>V</code>. There are many ways to skin this cat, though:</p>\n\n<pre><code>/^([\\d.]+)(\\D+)$/\n/^([\\d.]+)(\\w+)$/\n/^([^A-Za-z]+)(\\w+)$/\n/^([^A-Za-z]+)([A-Za-z]+)$/\n/(.*)(mV|m)/\n/(.*)(m?V)/\n</code></pre>\n\n<p>Some solutions above are more \"correct\" than others. </p>\n\n<p>Also, you generally want to try to be as restrictive as possible with your regular expressions and match exactly what you mean. Try to stay away from <code>.</code> if you can help it, and prefer more specific patterns instead.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1446591308, "last_edit_date": 1446591308, "creation_date": 1446590886, "answer_id": 33510556, "question_id": 33508735, "link": "https://stackoverflow.com/questions/33508735/perl-string-search/33510556#33510556", "title": "Perl string search", "body": "<p>As you have read, one reason your code is finding only <strong>V</strong> at the end of the string is because your character class matches only one character. <code>[mV]</code> matches either a single small <strong>m</strong> or a single capital <strong>V</strong>. To match more than one character you need a quantifier like <code>[mV]+</code> which will match one or more characters, like <strong>m</strong> or <strong>V</strong> or <strong>mVm</strong> or <strong>mV</strong> etc.</p>\n\n<p>The other reason is that you have a <em>greedy</em> match before it. <code>.*</code> will match zero or more of any character, so even if you fixed the quantifier on the units and wrote <code>/(.*)([mV]+)/</code> you would still get <code>1.9876m</code> and <code>V</code> because the dot is quite happy to match the <strong>m</strong>, leaving <code>[mv]+</code> to match just <strong>V</strong></p>\n\n<p>Assuming the quantity is numeric, consisting of decimal digits and possibly a decimal point, and the units are always letters (including perhaps a Greek mu <strong>\u03bc</strong> for <em>micro</em>) then you can split the value like this</p>\n\n<pre><code>use utf8;\nuse strict;\nuse warnings 'all';\nuse v5.10;\n\nuse open qw/ :std :encoding(UTF-8) /;\n\nmy @splitter = qw/ 1.987mV 442.0\u03bcH /;\n\nfor ( @splitter ) {\n\n    my ($val, $units) = / ([0-9.]+) (\\p{Letter}+) /x;\n\n    say \"$val ~ $units\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1.987 ~ mV\n442.0 ~ \u03bcH\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 1578210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7aec6c20f75c03f632f842dc7f77aaea?s=128&d=identicon&r=PG", "display_name": "milnuts", "link": "https://stackoverflow.com/users/1578210/milnuts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 33508958, "answer_count": 2, "score": 0, "last_activity_date": 1446591308, "creation_date": 1446583543, "last_edit_date": 1446589981, "question_id": 33508735, "link": "https://stackoverflow.com/questions/33508735/perl-string-search", "title": "Perl string search", "body": "<p>I am reading data from a CSV file that contains a quantities with the units attached. I need to separate the value from the units.</p>\n\n<p>The values I read in could have units of either millivolts <strong>mV</strong> or just volts <strong>V</strong>.  If the string in <code>$splitter[0]</code> is <code>1.987mV</code>. I want to separate that into two values, <code>1.987</code> and <code>mV</code>.</p>\n\n<pre><code>$splitter[0] =~ /(.*)([mV])/;\nprint \"$1 -- $2\\n\";\n</code></pre>\n\n<p>This outputs</p>\n\n<pre><code>1.987m -- V\n</code></pre>\n\n<p>If the units in <code>$splitter[0]</code> is <strong>V</strong> then it seems to be working.  </p>\n\n<p>Does anyone know why I'm not picking up the <strong>m</strong>?</p>\n"}, {"tags": ["performance", "perl", "directory", "delete-file", "large-data"], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 5053802, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7841cd9601ec8b1865f556ec9bfaaca7?s=128&d=identicon&r=PG", "display_name": "hipHopMetropolisHastings", "link": "https://stackoverflow.com/users/5053802/hiphopmetropolishastings"}, "edited": false, "score": 0, "creation_date": 1446753991, "post_id": 33508348, "comment_id": 54887032, "body": "Could you explain the syntax of       &quot;my ($cik, undef, undef, $year, $month, $day) = split(/-/, $_);     push @{ $files_by_cik_and_year{&quot;$cik-$year&quot;} },      [ $_, sprintf(&quot;%04d%02d%02d&quot;, $year, $month, $day) ];&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 257, "user_id": 5053802, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7841cd9601ec8b1865f556ec9bfaaca7?s=128&d=identicon&r=PG", "display_name": "hipHopMetropolisHastings", "link": "https://stackoverflow.com/users/5053802/hiphopmetropolishastings"}, "edited": false, "score": 0, "creation_date": 1446754150, "post_id": 33508348, "comment_id": 54887125, "body": "The first statement is pretty obvious. The first value returned by the RHS is assigned to the first variable on the LHS, etc. <code>undef</code> are placeholders."}, {"owner": {"reputation": 257, "user_id": 5053802, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7841cd9601ec8b1865f556ec9bfaaca7?s=128&d=identicon&r=PG", "display_name": "hipHopMetropolisHastings", "link": "https://stackoverflow.com/users/5053802/hiphopmetropolishastings"}, "edited": false, "score": 0, "creation_date": 1446754181, "post_id": 33508348, "comment_id": 54887145, "body": "Its more the last 2 lines I need help with."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 257, "user_id": 5053802, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7841cd9601ec8b1865f556ec9bfaaca7?s=128&d=identicon&r=PG", "display_name": "hipHopMetropolisHastings", "link": "https://stackoverflow.com/users/5053802/hiphopmetropolishastings"}, "edited": false, "score": 0, "creation_date": 1446754204, "post_id": 33508348, "comment_id": 54887154, "body": "The second appends to the array referenced by <code>$files_by_cik_and_year{&quot;$cik-$year&quot;}</code>. One is created if needed by autovivification. The serves to group the files."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 257, "user_id": 5053802, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7841cd9601ec8b1865f556ec9bfaaca7?s=128&d=identicon&r=PG", "display_name": "hipHopMetropolisHastings", "link": "https://stackoverflow.com/users/5053802/hiphopmetropolishastings"}, "edited": false, "score": 0, "creation_date": 1446754261, "post_id": 33508348, "comment_id": 54887179, "body": "What it assigns is a reference to a two-element array (created by <code>[...]</code>).The first element is the name of the file, and the second is the date extracted from the file name. It will be used for sorting, so <code>sprintf</code> was used to make sure the necessary leading zeros are present."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 257, "user_id": 5053802, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7841cd9601ec8b1865f556ec9bfaaca7?s=128&d=identicon&r=PG", "display_name": "hipHopMetropolisHastings", "link": "https://stackoverflow.com/users/5053802/hiphopmetropolishastings"}, "edited": false, "score": 0, "creation_date": 1446754613, "post_id": 33508348, "comment_id": 54887387, "body": "Minimal example of grouping using hash: <code>my %by_letter; for (qw( a1 b2 a3 b4 a5 c6 b7 )) {    my $letter = substr($_, 0, 1);    push @{ $by_letter{$letter} }, $_; }  for my $letter (keys(%by_letter)) {    print(&quot;$letter: @{ $by_letter{$letter} }\\n&quot;); }</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1446607011, "last_edit_date": 1446607011, "creation_date": 1446582144, "answer_id": 33508348, "question_id": 33508107, "link": "https://stackoverflow.com/questions/33508107/writing-efficient-perl-code-to-crawl-through-large-directories/33508348#33508348", "title": "Writing Efficient Perl Code to Crawl Through Large Directories", "body": "<p>There's no need to scan the directory more than once. Scan the directory once, collecting the information you need.</p>\n\n<p>If dates are formatted as <code>YYYYMMDD</code>, a simple string compare can be used to determine which of two dates is older.</p>\n\n<pre><code>my $opt_dry_run = 1;\n\nmy %files_by_cik_and_year;\nwhile (&lt;*&gt;) {\n   my ($cik, undef, undef, $year, $month, $day) = split(/-/, $_);\n   push @{ $files_by_cik_and_year{$cik}{$year} },\n      [ $_, sprintf(\"%04d%02d%02d\", $year, $month, $day) ];\n}\n\nfor my $cik (keys(%files_by_cik_and_year)) {\n   for my $year (keys(%{ $files_by_cik_and_year{$cik} })) {\n      my @files =\n         map { $_-&gt;[0] }\n            sort { $a-&gt;[1] cmp $b-&gt;[1] }\n               @{ $files_by_cik_and_year{$cik}{$year} };\n\n      shift(@files);\n\n      for (@files) {\n         print(\"Deleting $_\\n\");\n         if (!$opt_dry_run) {\n            unlink($_)\n               or warn(\"Couldn't delete $_\\n\");\n         }\n      }\n   }\n}\n</code></pre>\n\n<p>Simplified:</p>\n\n<pre><code>my $opt_dry_run = 1;\n\nmy %files_by_cik_and_year;\nwhile (&lt;*&gt;) {\n   my ($cik, undef, undef, $year, $month, $day) = split(/-/, $_);\n   push @{ $files_by_cik_and_year{\"$cik-$year\"} },\n      [ $_, sprintf(\"%04d%02d%02d\", $year, $month, $day) ];\n}\n\nfor (values(%files_by_cik_and_year)) {\n   my @files =\n      map { $_-&gt;[0] }\n         sort { $a-&gt;[1] cmp $b-&gt;[1] }\n            @$_;\n\n   shift(@files);\n\n   for (@files) {\n      print(\"Deleting $_\\n\");\n      if (!$opt_dry_run) {\n         unlink($_)\n            or warn(\"Couldn't delete $_\\n\");\n      }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 257, "user_id": 5053802, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7841cd9601ec8b1865f556ec9bfaaca7?s=128&d=identicon&r=PG", "display_name": "hipHopMetropolisHastings", "link": "https://stackoverflow.com/users/5053802/hiphopmetropolishastings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 33508348, "answer_count": 1, "score": 0, "last_activity_date": 1506032564, "creation_date": 1446581261, "last_edit_date": 1506102294, "question_id": 33508107, "link": "https://stackoverflow.com/questions/33508107/writing-efficient-perl-code-to-crawl-through-large-directories", "title": "Writing Efficient Perl Code to Crawl Through Large Directories", "body": "<p>I am writing a Perl script that crawls through a directory of 300,000+ files, and deletes all files except the first in a given year. My problem that my code forces Perl to essentially scan the directory of 300,000 files around an estimated 300,001 times. So far its been running for four days, and I was hoping you guys had some tips to make code like this more efficient in the future.</p>\n\n<p>Script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Date::Calc qw(Delta_Days Decode_Date_EU);\n# Note: must use default perl moudle on Killdevil (module add perl)\n\n@base = (1993, 1, 1);\n$count = 0;\n\n@files = &lt;*&gt;; # Creates array of all files in directory\nforeach $file (@files) {\n    # Splits indivdual filename into an array seperated by\n    # comma (CIK, 10, K, Year, Month, Date) indexed by 0-5\n    @filearray = split(/\\-/, $file);\n\n    $cik = $filearray[0];\n    $cikyear = $filearray[3];\n\n    # Defines a new array as all files in directory with the\n    # same CIK and year as our file\n    @cikfiles = grep { /^$cik-10-K-$cikyear/ } &lt;*&gt;;\n\n    $sizecik = @cikfiles;\n    $best = 0; # Index for file with earliest date\n    $bestsize = 1000000000000000000000000000; # Initial value to beat\n\n    # Only run through the proccess if there are\n    # multiple files with same CIK same year.\n    if ($sizecik != 1) {\n\n        for($i = 1; $i &lt; $sizecik + 1; $i = $i + 1) {\n            # Read filename and creates an array deliminated by \"-\"\n            @filearray1 = split(/-/, $cikfiles[$i-1]);\n\n            $year = $filearray1[3];\n            $month = $filearray1[4];\n\n            # Deletes leading zero from months if there exists one\n            $month =~ s/^0//;\n            $day = $filearray1[5];\n            $day =~ s/^0//; # Removes leading zero\n\n            # Calculates number of days from base year\n            $dd = Delta_Days($base[0], $base[1], $base[2], $year, $month, $day);\n\n            if ($dd &lt; $bestsize) {\n                # If has lower number of days than current best, index\n                # this file as the new leader\n                $best = $i;\n\n                # Reset the size to beat to the dd of this file\n                $bestsize = $dd;\n            }\n        }\n\n        for ($i = 1; $i &lt; $sizecik + 1; $i = $i + 1) {\n            # Runs through current array and deletes all\n            # files that are not the best\n            if($i != $best) {\n                $rm = \"rm \" . $cikfiles[$i-1];\n                system($rm);\n                $count = $count + 1;\n            }\n        }\n    }\n}\n\n# Displays total number of files removed\nprint \"Number of files deleted: $count\";\n\nclose(MYOUTFILE);\n</code></pre>\n\n<p>Would it be more efficient if instead of looking through the directory</p>\n\n<pre><code>@cikfiles = grep { /^$cik-10-K-$cikyear/ } &lt;*&gt;;\n</code></pre>\n\n<p>I instead searched through the original array and then deleted the entries?</p>\n\n<pre><code>@cikfiles = grep { /^$cik-10-K-$cikyear/ } &lt;@files&gt;;\n</code></pre>\n\n<p>How would I remove the elements I delete from the @files array?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1446580643, "post_id": 33507622, "comment_id": 54799387, "body": "Why don&#39;t you file a bug report? I suspect the author is @choroba, an active member of the community."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446582894, "post_id": 33507622, "comment_id": 54800603, "body": "I will do that too, thanks. CTAN was telling me the author was Petr Pajas, whom I&#39;ve contacted recently about related isssues (the application I&#39;m wrestling with)-- no response. But I see now that google had sent me to an older version of PML. @choroba has taken it over."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1446586201, "post_id": 33507622, "comment_id": 54802355, "body": "Does your original attempt work if you do it <i>before</i> the use Treex::PML?"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446650213, "post_id": 33507622, "comment_id": 54832064, "body": "<code>use</code> takes effect before anything else in the script, so that couldn&#39;t make any difference. But actually my code was breaking due to an unrelated problem. Aliasing works fine (even without the <code>Alias</code> module), see my self-answer."}], "answers": [{"comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446580855, "post_id": 33507811, "comment_id": 54799504, "body": "Thanks, good idea but it didn&#39;t work. Any idea why? I&#39;m guessing that the definition of <code>FSFactory</code> is not visible from inside <code>Container::validate_object()</code>, but I don&#39;t know anything about the semantics of perl namespaces-- I could be wrong. I don&#39;t know if it&#39;s relevant but I have a separate instance of <code>use Treex::PML;</code> in the code (needed elsewhere)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446580911, "post_id": 33507811, "comment_id": 54799536, "body": "Packages exist globally. It&#39;s not a visibility issue. It could be a timing issue. You may have done the assignment too late. You may even need a <code>BEGIN</code>. Easy to check by adding a <code>print</code> next to the assignment to <code>@ISA</code>."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446581087, "post_id": 33507811, "comment_id": 54799638, "body": "Could you explain what I must pay attention to in order to get the timing right? The code is in the same file (and well above) the subroutine that calls the buggy function in Container."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446581119, "post_id": 33507811, "comment_id": 54799670, "body": "You need to assign to <code>Treex::PML::FSFactory</code>&#39;s <code>@ISA</code> before <code>validate_object</code> calls methods from <code>Treex::PML::FSFactory</code>."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446581208, "post_id": 33507811, "comment_id": 54799728, "body": "I monkey-patched a different buggy subroutine (Treex::PML::Node::validate_subtree) in the same place in my code, and it worked correctly."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446581310, "post_id": 33507811, "comment_id": 54799779, "body": "Well, the file with the attempted patch is read on start-up, and the validation happens interactively on request-- so certainly later. It&#39;s an extension module for a large GUI application, so it&#39;s not easy to isolate it. If I get it to work in isolation (in a test file), I&#39;ll still be at a loss as to what is interfering here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446581382, "post_id": 33507811, "comment_id": 54799820, "body": "I mentioned how to check in my first comment. What happens first, the error or the print?"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446582027, "post_id": 33507811, "comment_id": 54800174, "body": "Ok, thanks!  I&#39;m inserting diagnostics to try to follow the flow of control. I&#39;ll be back when I know more."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1446582586, "post_id": 33507811, "comment_id": 54800439, "body": "It worked! There was a framework problem getting in the way. Thanks again."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1446580248, "creation_date": 1446580248, "answer_id": 33507811, "question_id": 33507622, "link": "https://stackoverflow.com/questions/33507622/how-to-add-a-package-alias-by-monkey-patching/33507811#33507811", "title": "How to add a package alias by monkey-patching", "body": "<p>Given the references in question, </p>\n\n<pre><code>$content = Treex::PML::FSFactory-&gt;createSeq(...)\n$content = Treex::PML::FSFactory-&gt;createList(...)\n</code></pre>\n\n<p>Adding the following should be sufficient:</p>\n\n<pre><code>{\n   package Treex::PML::FSFactory;\n   our @ISA = qw( Treex::PML::Factory );\n}\n</code></pre>\n\n<p>I checked if <code>Treex::PML::Factory::createSeq</code> and <code>Treex::PML::Factory::createList</code> mind being called via a subclass, and they don't; they completely ignore their invocant.</p>\n"}, {"tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": false, "score": 1, "last_activity_date": 1446650761, "creation_date": 1446650761, "answer_id": 33525630, "question_id": 33507622, "link": "https://stackoverflow.com/questions/33507622/how-to-add-a-package-alias-by-monkey-patching/33525630#33525630", "title": "How to add a package alias by monkey-patching", "body": "<p>@ikegami's suggestion, to derive a class instead of aliasing, worked well. But here is also how to alias one package name to another, as the question asks:</p>\n\n<p>a. With <code>Package::Alias</code>:</p>\n\n<pre><code>use Package::Alias 'Treex::PML::FSFactory' =&gt; 'Treex::PML::Factory';\n</code></pre>\n\n<p>b. To avoid downloading <code>Package::Alias</code> from cpan, I followed <a href=\"http://www.perlmonks.org/?node_id=882717\" rel=\"nofollow\">this recipe</a> which shows how <code>Package::Alias</code> actually does it. It worked :-)</p>\n\n<pre><code>*Treex::PML::FSFactory:: = \\*Treex::PML::Factory::;\n</code></pre>\n"}], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 33507811, "answer_count": 2, "score": 1, "last_activity_date": 1446650885, "creation_date": 1446579557, "last_edit_date": 1446650885, "question_id": 33507622, "link": "https://stackoverflow.com/questions/33507622/how-to-add-a-package-alias-by-monkey-patching", "title": "How to add a package alias by monkey-patching", "body": "<p>I'm trying to work around a buggy package without modifying the source:</p>\n\n<ul>\n<li>A long subroutine in <code>Treex::PML::Schema::Container.pm</code> contains two references to the non-existent package <code>Treex::PML::FSFactory</code>. It should be <code>Treex::PML::Factory</code>. </li>\n<li>The offending subroutine is too long to copy and monkey-patch from another file, so I'd like to monkey-patch <code>Treex::PML</code> so that it offers <code>Treex::PML::FSFactory</code> as an alias for <code>Treex::PML::Factory</code>. </li>\n</ul>\n\n<p>In my main program I tried the following (based on <a href=\"http://www.perlmonks.org/?node_id=823772\" rel=\"nofollow\">this recipe</a>), but it doesn't seem to have any effect:</p>\n\n<pre><code>use Treex::PML;\npackage Treex::PML;\nuse Package::Alias FSFactory =&gt; 'Treex::PML::Factory';\n\npackage MyPackage;\n...\n</code></pre>\n\n<p>How can I get <code>Treex::PML::FSFactory</code> to spring into existence, in such a way that it is visible to <code>Treex::PML::Schema::Container</code>?</p>\n\n<p><strong>Edit:</strong> This particular bug was fixed within hours of my bug report! But it's useful to know how to alias packages anyway. Although I solved my problem by subclassing, as the accepted answer recommends, I've added a self-answer showing how it can be done with aliases.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1446579836, "last_edit_date": 1446579836, "creation_date": 1446579521, "answer_id": 33507612, "question_id": 33507458, "link": "https://stackoverflow.com/questions/33507458/perl-how-to-parse-http-response-content/33507612#33507612", "title": "Perl how to parse HTTP response content", "body": "<p>Assuming the line breaks in the output you posted were added by you rather than being in the returned string, the response's content appears to be in the <code>application/x-www-form-urlencoded</code> format.</p>\n\n<p>You could (mis-)use <a href=\"http://search.cpan.org/perldoc?URI\" rel=\"nofollow\">URI</a> to parse it.</p>\n\n<pre><code>use URI qw( );\n\nmy %response_data = URI-&gt;new(\"?\".$response-&gt;content(), \"http\")-&gt;query_form();\n</code></pre>\n\n<p>The last hackish solution involves <a href=\"http://search.cpan.org/perldoc?URI::Escape\" rel=\"nofollow\">URI::Escape</a>'s <code>uri_unescape</code>.</p>\n\n<pre><code>use URI::Escape qw( uri_unescape );\n\nmy %response_data = map { uri_unescape($_) } split(/[&amp;=]/, $response-&gt;content());\n</code></pre>\n"}], "owner": {"reputation": 1161, "user_id": 124658, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/d140e80b383a2072a376d352f1315e2d?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/124658/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 810, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446579836, "creation_date": 1446578984, "question_id": 33507458, "link": "https://stackoverflow.com/questions/33507458/perl-how-to-parse-http-response-content", "title": "Perl how to parse HTTP response content", "body": "<p>I have a Perl script that does a post to a website to add a customer for billing purposes.  That parts works great and I am able to test for errors/success.  Now I need to parse the content that is returned.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new;\nmy $res = $ua-&gt;post('https://testserver', [\n    'UMkey' =&gt; \"test key\",\n    'UMname' =&gt; \"Example Tester\",\n    'UMcard' =&gt; \"4000100011112224\",\n    'UMexpir' =&gt; \"0919\",\n    'UMcvv2' =&gt; \"123\",\n    'UMamount' =&gt; \"5.50\",\n    'UMinvoice' =&gt; \"123456\",\n    'UMstreet' =&gt; \"1234 Main Street\",\n    'UMzip' =&gt; \"12345\",\n    'UMcommand' =&gt; 'cc:sale',\n    'UMaddcustomer' =&gt; 'yes',\n    'UMbillcompany' =&gt; 'ed',\n    'UMbillfname' =&gt; 'Tester',\n    'UMbilllname' =&gt; 'Tofu',\n]);\n\nprint \"\\n\\nresult: \".$res-&gt;content;\nprint \"\\n\";\n</code></pre>\n\n<p>result -</p>\n\n<pre><code>result: UMversion=2.9&amp;UMstatus=Approved&amp;UMauthCode=006444&amp;UMrefNum=100020848&amp;UMa\nvsResult=Address%3A%20Match%20%26%205%20Digit%20Zip%3A%20Match&amp;UMavsResultCode=Y\nYY&amp;UMcvv2Result=Match&amp;UMcvv2ResultCode=M&amp;UMresult=A&amp;UMvpasResultCode=&amp;UMerror=Ap\nproved&amp;UMerrorcode=00000&amp;UMcustnum=50405&amp;UMbatch=309&amp;UMbatchRefNum=1640&amp;UMisDupl\nicate=N&amp;UMconvertedAmount=&amp;UMconvertedAmountCurrency=840&amp;UMconversionRate=&amp;UMcus\ntReceiptResult=No%20Receipt%20Sent&amp;UMprocRefNum=&amp;UMcardLevelResult=A&amp;UMauthAmoun\nt=5.5&amp;UMfiller=filled\n</code></pre>\n\n<p>I need to parse the result and return just specific fields, but I am not sure how to do that. Or is there a way that I can just pull ok specific value pairs from the content?</p>\n"}, {"tags": ["perl", "npm"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446578098, "post_id": 33507053, "comment_id": 54797886, "body": "The error is &quot;/var/www/html/login.pl may not exist or is not executable by this process&quot;. You say &quot;/var/ww/html/login.pl does in fact exist.&quot; So, is it executable?"}, {"owner": {"reputation": 611, "user_id": 4483797, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/dZAOQ.jpg?s=128&g=1", "display_name": "awimley", "link": "https://stackoverflow.com/users/4483797/awimley"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446580054, "post_id": 33507053, "comment_id": 54799049, "body": "The permissions are a+rwx. So yes, I&#39;ve double checked that it both exists and is executable."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1446582433, "post_id": 33507053, "comment_id": 54800361, "body": "<code>chmod a+rwx</code> is terrible practise in general but especially bad for a web app. <code>chmod 755</code> is much safer."}, {"owner": {"reputation": 611, "user_id": 4483797, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/dZAOQ.jpg?s=128&g=1", "display_name": "awimley", "link": "https://stackoverflow.com/users/4483797/awimley"}, "edited": false, "score": 0, "creation_date": 1446583171, "post_id": 33507053, "comment_id": 54800766, "body": "Ok, I changed it to chmod 755."}], "answers": [{"tags": [], "owner": {"reputation": 611, "user_id": 4483797, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/dZAOQ.jpg?s=128&g=1", "display_name": "awimley", "link": "https://stackoverflow.com/users/4483797/awimley"}, "is_accepted": false, "score": 0, "last_activity_date": 1446662763, "creation_date": 1446662763, "answer_id": 33529674, "question_id": 33507053, "link": "https://stackoverflow.com/questions/33507053/using-npm-in-application-with-perl-backend-breaks-functionality/33529674#33529674", "title": "Using NPM in application with perl backend breaks functionality", "body": "<p>Apparently NPM changes permissions. I ended up restoring functionality by running the following: </p>\n\n<pre><code>find /html -type f -exec chmod 755 {} \\;\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>find /html -type d -exec chmod 755 {} \\;\n</code></pre>\n\n<p>This allows the perl interpreter to execute all files in the html directory. </p>\n"}], "owner": {"reputation": 611, "user_id": 4483797, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/dZAOQ.jpg?s=128&g=1", "display_name": "awimley", "link": "https://stackoverflow.com/users/4483797/awimley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446662763, "creation_date": 1446577331, "question_id": 33507053, "link": "https://stackoverflow.com/questions/33507053/using-npm-in-application-with-perl-backend-breaks-functionality", "title": "Using NPM in application with perl backend breaks functionality", "body": "<p>I inherited a legacy application that uses jQuery on the frontend, and in a horrible lapse of judgement I ran </p>\n\n<pre><code>npm install underscore\n</code></pre>\n\n<p>And then immediately punched myself, because the backend of this application is written in perl! So now, when I attempt to access the site I get the following error: </p>\n\n<pre><code>Error: No such CGI app - /var/www/html/login.pl may not exist or is not executable by this process.\n</code></pre>\n\n<p>/var/ww/html/login.pl does in fact exist. It starts off like so: </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse utf8;\nuse strict;\nuse CGI::Carp qw(fatalsToBrowser);\nuse CGI qw /param/;\nuse Digest::PBKDF2;\nuse CGI::Cookie;\nuse MongoDB;\nuse Data::Dumper;\nuse UUID::Generator::PurePerl;\n</code></pre>\n\n<p>Then proceeds to do some login stuff. This worked fine when the application actually ran. Other answers suggest npm overwrites index.html, but this still exists and still redirects to the login.pl script.</p>\n\n<p>I know this is not a good question by any reasonable standards but I'm getting desperate.</p>\n"}, {"tags": ["perl", "hash", "key", "hash-of-hashes"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446574944, "post_id": 33506255, "comment_id": 54796106, "body": "You found a solution that returned the maximum value, but you couldn&#39;t modify it to return the minimum value instead? Not even attempt to modify it and post non-working code in the question?"}, {"owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446575707, "post_id": 33506255, "comment_id": 54796563, "body": "I added my thought process and attempt of how I would have tried to solve it."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1446576213, "post_id": 33506255, "comment_id": 54796867, "body": "I think posting your attempt is important, even if it doesn&#39;t work (maybe <i>especially</i> if it doesn&#39;t work), because it shows a good-faith attempt to solve your own problem and motivates other people to want to help you."}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 8, "last_activity_date": 1446574812, "creation_date": 1446574812, "answer_id": 33506338, "question_id": 33506255, "link": "https://stackoverflow.com/questions/33506255/perl-hash-of-hashes-get-lowest-numeric-key/33506338#33506338", "title": "Perl Hash of Hashes, get lowest numeric key", "body": "<pre><code>use List::Util qw(min);\nprint min(keys(%{$HoH{simpsons}}));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446576076, "post_id": 33506574, "comment_id": 54796795, "body": "What happens when you have <code>$HoH{simpsons}{10}</code>?"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 1, "creation_date": 1446577188, "post_id": 33506574, "comment_id": 54797417, "body": "<code>sort</code> does more work than <code>min</code>, although for moderately sized hashes the difference probably isn&#39;t significant."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 3, "last_activity_date": 1446576239, "last_edit_date": 1446576239, "creation_date": 1446575755, "answer_id": 33506574, "question_id": 33506255, "link": "https://stackoverflow.com/questions/33506255/perl-hash-of-hashes-get-lowest-numeric-key/33506574#33506574", "title": "Perl Hash of Hashes, get lowest numeric key", "body": "<pre><code>my $min = (sort {$a &lt;=&gt; $b} keys $HoH{'simpsons'})[0];\nprint $min;\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 2237387, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f10bc46df3b1fa41b60201ac9af5da39?s=128&d=identicon&r=PG", "display_name": "cooldood3490", "link": "https://stackoverflow.com/users/2237387/cooldood3490"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "accepted_answer_id": 33506338, "answer_count": 2, "score": 2, "last_activity_date": 1446576292, "creation_date": 1446574485, "last_edit_date": 1446576292, "question_id": 33506255, "link": "https://stackoverflow.com/questions/33506255/perl-hash-of-hashes-get-lowest-numeric-key", "title": "Perl Hash of Hashes, get lowest numeric key", "body": "<p>I have a hash of hashes where the first key is a string and the second key is an integer. I'm trying to get the lowest second key in the hash of hashes. Here's my hash.</p>\n\n<pre><code>%HoH = (\n    flintstones =&gt; {\n        8 =&gt; \"fred\",\n        4 =&gt; \"barney\",\n    },\n    jetsons =&gt; {\n        5 =&gt; \"george\",\n        1 =&gt; \"jane\",\n        9 =&gt; \"elroy\",    # Key quotes needed.\n    },\n    simpsons =&gt; {\n        99 =&gt; \"homer\",\n        5  =&gt; \"marge\",\n        3  =&gt; \"bart\",\n    },\n);\n</code></pre>\n\n<p>How do I get the lowest (minimum) key for the hash <code>simpsons</code>? In this case the answer would be <code>3</code>. The closest related search I could find was for a way to get the key with the highest value. But I'm trying to get the key with the lowest numeric value.</p>\n\n<p>================== EDIT ============ MY ATTEMPT  ================</p>\n\n<pre><code>foreach my $cartoon (keys %HoH){\n    if ($cartoon == \"simpsons\"){\n        $HoH{$cartoon}{&lt;numeric key&gt;};   # somehow store and print lowest key\n    }\n}\n</code></pre>\n\n<p>I can't loop through the keys sequentially (1,2,3,4, etc.) and simply store and return the lowest key because the key (1,2,3,4, etc.) may not exist. I probably would have tried to store the keys in a separate array and get the minimum key stored in that array. That's my attempt. It's sort of a round about way of doing it. Since it's a round about way, next I would have done more Googling to see if there's an easier way (a one liner way) to do it.</p>\n"}, {"tags": ["perl", "variables", "scalar"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446573326, "post_id": 33505901, "comment_id": 54795210, "body": "It&#39;s a scalar reference. <code>${$Param{Body}}</code> will dereference it and get the actual value."}, {"owner": {"reputation": 69, "user_id": 1613764, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/63ef43da87580b5d275b2575563cd81b?s=128&d=identicon&r=PG", "display_name": "codeHead", "link": "https://stackoverflow.com/users/1613764/codehead"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446573648, "post_id": 33505901, "comment_id": 54795387, "body": "Tried it, still the same result.. Body -: SCALAR(0x5136200)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446573792, "post_id": 33505901, "comment_id": 54795459, "body": "First thought is that you&#39;ve got an odd data structure. Second thought is <code>use Data::Dump qw(pp);</code> at the top, and then <code>print $fhii pp(\\%Param);</code> to find out what the hash actually looks like."}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 2, "creation_date": 1446573966, "post_id": 33505901, "comment_id": 54795557, "body": "Shouldn&#39;t that be <code>print $fhii &quot;Body :&quot; . $Param{Body} . &quot;\\n&quot;;</code> - there&#39;s a dot and a double quote missing."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 1, "creation_date": 1446574580, "post_id": 33505901, "comment_id": 54795894, "body": "@zb226 Yes, but I would expect a syntax error in that case. I assume it&#39;s a copy-paste error rather than an actual problem, but maybe not!"}, {"owner": {"reputation": 69, "user_id": 1613764, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/63ef43da87580b5d275b2575563cd81b?s=128&d=identicon&r=PG", "display_name": "codeHead", "link": "https://stackoverflow.com/users/1613764/codehead"}, "reply_to_user": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 0, "creation_date": 1446576616, "post_id": 33505901, "comment_id": 54797079, "body": "@zb226, Yes that was a copy paste error.."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1446576306, "creation_date": 1446576306, "answer_id": 33506739, "question_id": 33505901, "link": "https://stackoverflow.com/questions/33505901/how-to-get-value-of-scalar0x5bc3550-in-perl/33506739#33506739", "title": "How to get value of SCALAR(0x5bc3550) in perl", "body": "<p>Oddly, <code>$Param{Body}</code> appears to be a reference to a scalar.</p>\n\n<pre><code>$ perl -E'\n   my $body = \"abc\";\n   my %Param = ( Body =&gt; \\$body );\n   say $Param{Body};\n   say ${ $Param{Body} };\n'\nSCALAR(0x12e28a8)\nabc\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 1613764, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/63ef43da87580b5d275b2575563cd81b?s=128&d=identicon&r=PG", "display_name": "codeHead", "link": "https://stackoverflow.com/users/1613764/codehead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446576654, "creation_date": 1446573157, "last_edit_date": 1446576654, "question_id": 33505901, "link": "https://stackoverflow.com/questions/33505901/how-to-get-value-of-scalar0x5bc3550-in-perl", "title": "How to get value of SCALAR(0x5bc3550) in perl", "body": "<p>I am debugging OTRS and trying to log one of the variables into a text file to see what's going on.. </p>\n\n<p>When I do the following :</p>\n\n<pre><code>open(my $fhii, '&gt;&gt;', '/opt/mail-log/mailbody.txt');\nprint $fhii \"Body :\" . $Param{Body} . \"\\n\";\n</code></pre>\n\n<p>It actually prints this in my file :</p>\n\n<pre><code>Body :SCALAR(0x5b64388)\n</code></pre>\n\n<p>I know its something pretty trivial for someone who knows whats going on, I am newbie to perl and I cant seem to find a reference on the net to get the value for what is inside the <code>$Param{Body}</code>. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1446570773, "post_id": 33504691, "comment_id": 54793656, "body": "You should start by reading and absorbing <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\">Perl subroutines</a> and  <a href=\"http://perldoc.perl.org/perlmodstyle.html\" rel=\"nofollow noreferrer\">Perl module style guide</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446570963, "post_id": 33504691, "comment_id": 54793780, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/19234209/perl-subroutine-arguments\">Perl Subroutine Arguments</a>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446570980, "post_id": 33504691, "comment_id": 54793794, "body": "Don&#39;t use prototypes (the parentheses in the <code>sub</code> declaration). They are not required, and they do not do what you think they do. They will more likely give you strange errors than anything else. They are used to make subroutines mimic built-in functions, nothing else. Yours should be <code>sub addCustomer {</code>."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1446570970, "post_id": 33504893, "comment_id": 54793786, "body": "Note that it is unlikely that another installation will have Perl v5.20 available, so if there is any intention of writing something portable then you should stick to the traditional techniques"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446571106, "post_id": 33504893, "comment_id": 54793860, "body": "Why use <code>q()</code> when the simplest way to put it is <code>&#39;&#39;</code> or <code>&quot;&quot;</code>, something that everyone understands."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446571177, "post_id": 33504893, "comment_id": 54793901, "body": "@TLP: <a href=\"https://www.safaribooksonline.com/library/view/perl-best-practices/0596001738/ch04.html\" rel=\"nofollow noreferrer\">PBP</a>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446573030, "post_id": 33504893, "comment_id": 54795056, "body": "@choroba Where in there does it say that you should use <code>q()</code> over <code>&#39;&#39;</code>?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446575062, "post_id": 33504893, "comment_id": 54796172, "body": "@TLP Did you click the link? (PBP is a link to the relevant chapter.) It&#39;s in there... unfortunately (can&#39;t say I agree with that suggestion)."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1446570307, "last_edit_date": 1446570307, "creation_date": 1446569840, "answer_id": 33504893, "question_id": 33504691, "link": "https://stackoverflow.com/questions/33504691/perl-how-to-pass-data-to-a-sub-routine-in-a-module/33504893#33504893", "title": "Perl how to pass data to a sub-routine in a module", "body": "<p>Traditional way:</p>\n\n<pre><code>addCustomer($number, $firstName, $lastName, $address, $city, $state, $zip);\n\nsub addCustomer {\n    my ($number, $firstName, $lastName, $address, $city, $state, $zip) = @_;\n    ...\n</code></pre>\n\n<p>For so many parameters, named parameters might be more readable:</p>\n\n<pre><code>addCustomer( number     =&gt; $number,\n             first_name =&gt; $firstName,\n             last_name  =&gt; $lastName,\n             address    =&gt; $address,\n             city       =&gt; $city,\n             state      =&gt; $state,\n             zip        =&gt; $zip,\n           );\n\nsub addCustomer {\n    my %opts = ( city =&gt; 'New York', # The defaults.\n                 @_);\n</code></pre>\n\n<p>In newer Perl versions (5.20+), you can also use the <code>signatures</code> <a href=\"http://p3rl.org/feature\" rel=\"nofollow\">feature</a>.</p>\n\n<pre><code>use feature qw{ signatures };\n\nsub addCustomer($number, $firstName, $lastName, $address, $city, $state, $zip) {\n</code></pre>\n\n<p>For the blank parameters, use <code>undef</code> or <code>q()</code> if you don't use the named parameters:</p>\n\n<pre><code>addCustomer(123, q(), 'Doe', '123 Street', 'London', undef, 'WC1A1BN')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1446570131, "creation_date": 1446570131, "answer_id": 33504983, "question_id": 33504691, "link": "https://stackoverflow.com/questions/33504691/perl-how-to-pass-data-to-a-sub-routine-in-a-module/33504983#33504983", "title": "Perl how to pass data to a sub-routine in a module", "body": "<p>You want to <em>not</em> do this:</p>\n\n<pre><code>sub addCustomer()\n</code></pre>\n\n<p>Because that prototypes your sub as having no parameters. You probably don't want to prototype at all, because perl prototypes aren't what everyone else calls prototypes. </p>\n\n<p>But you can read args from <code>@_</code> - which is a list of input scalars - which can be references, but don't need to be. </p>\n\n<pre><code>my ( $first_arg, $second, $another, @everything_else ) = @_; \n</code></pre>\n\n<p>Note - assigning to a list will consume the rest of the values, so you can't:</p>\n\n<pre><code>my ( @stuff, $last_arg ) = @_; \n</code></pre>\n\n<p>And for a long list passing in a hash or a hash reference can be useful. </p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1446571858, "creation_date": 1446571858, "answer_id": 33505525, "question_id": 33504691, "link": "https://stackoverflow.com/questions/33504691/perl-how-to-pass-data-to-a-sub-routine-in-a-module/33505525#33505525", "title": "Perl how to pass data to a sub-routine in a module", "body": "<p>Pass the parameters in as a hash (or, more accurately as a hash reference).</p>\n\n<pre><code># Outside of the subroutine\nmy %new_customer = (\n    login          =&gt; LOGIN,\n    password       =&gt; PASSWORD,\n    type           =&gt; \"CC\",\n    action         =&gt; 'Recurring Authorization',\n    description    =&gt; 'Business::OnlinePayment test',\n    amount         =&gt; '49.95',\n    invoice_number =&gt; '100100',\n    name           =&gt; 'Tofu Beast',\n    card_number    =&gt; '46464646464646',\n    expiration     =&gt; '11/08',\n    address        =&gt; '1234 Bean Curd Lane, San Francisco',\n    zip            =&gt; '94102',\n);\n\nadd_customer(\\%new_customer);\n\n# Your subroutine\nsub add_customer {\n    my ($cust_ref) = @_;\n\n    # Note: Don't use indirect object notation\n    my $tx = Business::OnlinePayment-&gt;new(\"USAePay\");\n\n    $tx-&gt;content( %$cust_ref );\n    $tx-&gt;submit();\n\n    if ($tx-&gt;is_success()) {\n        print \"Card processed successfully: \".$tx-&gt;authorization.\"\\n\";\n    } else {\n        print \"Card was rejected: \".$tx-&gt;error_message.\"\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1161, "user_id": 124658, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/d140e80b383a2072a376d352f1315e2d?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/124658/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 33505525, "answer_count": 3, "score": 0, "last_activity_date": 1446571858, "creation_date": 1446569278, "question_id": 33504691, "link": "https://stackoverflow.com/questions/33504691/perl-how-to-pass-data-to-a-sub-routine-in-a-module", "title": "Perl how to pass data to a sub-routine in a module", "body": "<p>It's been awhile since I have done any Perl work and I need to write a credit card processing module.  The module will have several sub routines, but once I figure out how to do one, I can do the rest.  The first subroutine is add customer info.  The information that I need is customer number, first name, last name, address, city, state and zip.  All of this information will be provided by the calling program, but some of the fields could be blank.</p>\n\n<pre><code>sub addCustomer()\n{\n    my $tx = new Business::OnlinePayment(\"USAePay\");\n    $tx-&gt;content(\n        login           =&gt; LOGIN,\n        password        =&gt; PASSWORD,\n        type            =&gt; \"CC\",\n        action          =&gt; 'Recurring Authorization',\n        description    =&gt; 'Business::OnlinePayment test',\n        amount         =&gt; '49.95',\n        invoice_number =&gt; '100100',\n        name           =&gt; 'Tofu Beast',\n        card_number    =&gt; '46464646464646',\n        expiration     =&gt; '11/08',\n        address        =&gt; '1234 Bean Curd Lane, San Francisco',\n        zip            =&gt; '94102',\n    );\n    $tx-&gt;submit();\n\n    if($tx-&gt;is_success()) {\n        print \"Card processed successfully: \".$tx-&gt;authorization.\"\\n\";\n    } else {\n        print \"Card was rejected: \".$tx-&gt;error_message.\"\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "web-services", "rest", "otrs"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446563760, "post_id": 33502451, "comment_id": 54788600, "body": "Tagged <code>perl</code>. Don&#39;t see much <code>perl</code>."}, {"owner": {"reputation": 11, "user_id": 5520616, "user_type": "registered", "profile_image": "https://graph.facebook.com/1649397472016290/picture?type=large", "display_name": "Roberto Caiola", "link": "https://stackoverflow.com/users/5520616/roberto-caiola"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446565727, "post_id": 33502451, "comment_id": 54790032, "body": "The REST invoker is a Perl module in OTRS. I did not attach the whole file, but if needed I can add it."}], "owner": {"reputation": 11, "user_id": 5520616, "user_type": "registered", "profile_image": "https://graph.facebook.com/1649397472016290/picture?type=large", "display_name": "Roberto Caiola", "link": "https://stackoverflow.com/users/5520616/roberto-caiola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 547, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446566116, "creation_date": 1446563237, "last_edit_date": 1446566116, "question_id": 33502451, "link": "https://stackoverflow.com/questions/33502451/otrs-rest-invoker-is-not-sending-post-data", "title": "OTRS REST - Invoker is not sending POST data", "body": "<p>I have configured OTRS 4.0.2 (cannot update it because it is used on production environment) with an REST invoker in a Perl module (GenericInterface - OTRS as requestor), calling a test web service <code>http://www.example.com/log/index.php</code> page to debug the OTRS request.</p>\n\n<p>I activated the debug feature and queried the database:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT\n  gidec.id,\n  gidec.gi_debugger_entry_id,\n  gidec.subject,\n  CONCAT(gidec.content),\n  gidec.create_time\nFROM     gi_debugger_entry_content gidec\nWHERE    gidec.gi_debugger_entry_id = 182\nORDER BY gidec.id DESC\n</code></pre>\n\n<p>It returns the following items:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Communication sequence started\nIncoming data before mapping\nJSON data received from remote system\nOutgoing data before mapping\nRemaining outgoing data to be sent\nURI after interpolating Query params from outgoing data\nURI after interpolating URI params from outgoing data\n</code></pre>\n\n<p>My issue is with: <em>Remaining outgoing data to be sent</em></p>\n\n<p>It contains:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$VAR1 = {\n  'Priority' =&gt; 'Priority:5 very high',\n  'TestPrepareRequestRCS' =&gt; 'TestPrepareRequest009',\n  'TicketID' =&gt; '5'\n};\n</code></pre>\n\n<p>But on the web service (PHP language) that is called through POST, I don't receive data (I am using function to serialize superglobals <code>$_POST</code> and <code>$_GET</code>):</p>\n\n<p>Request using <code>GET</code> by the invoker to the web service ( <code>/log/index.php</code> ):</p>\n\n<pre><code>GET = a:4:   {s:8:\"TicketID\";s:1:\"5\";s:7:\"invoker\";s:6:\"zwsync\";s:8:\"Priority\";s:20:\"Priority:5 very high\";s:21:\"TestPrepareRequestRCS\";s:21:\"TestPrepareRequest009\";}\nPOST = a:0:{}\n</code></pre>\n\n<p>Request using <code>POST</code> by the Invoker to the Web Service ( <code>/log/index.php</code> ):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>GET = a:4:{s:8:\"TicketID\";s:1:\"5\";s:7:\"invoker\";s:6:\"zwsync\";}\nPOST = a:0:{}\n</code></pre>\n\n<p>To use <code>POST</code> on OTRS web service, do I have to configure anything else?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1446562651, "post_id": 33502065, "comment_id": 54787861, "body": "You have a bunch of characters in your character class, except for the ones you&#39;re actually trying to match!"}], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1446563216, "post_id": 33502158, "comment_id": 54788230, "body": "You have to quote the <code>*</code> quantifier. So the regex would look like <code>$string =~s&#47;^\\*\\d{6} &#47;&#47;;</code>"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1446564218, "post_id": 33502158, "comment_id": 54788965, "body": "yeah right but some time date identifier may come or may not come so using  my $output = substr $string,8 will also not work"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1446564289, "post_id": 33502158, "comment_id": 54789025, "body": "$string =~ s/^*\\d{6} //; i tried this but was not working"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1446564727, "post_id": 33502158, "comment_id": 54789344, "body": "could you please elaborate i did not understand @simbbaque"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1446563235, "last_edit_date": 1446563235, "creation_date": 1446562489, "answer_id": 33502158, "question_id": 33502065, "link": "https://stackoverflow.com/questions/33502065/how-to-remove-date-identifier-and-special-charactar-from-string/33502158#33502158", "title": "how to remove date identifier and special charactar from string", "body": "<p>Your pattern doesn't contain numbers. It would remove the <code>*</code>, but nothing else. If you want to remove a <code>*</code> followed by six digits and a blank at the beginning of the string, do it like this:</p>\n\n<pre><code>$string =~ s/^\\*\\d{6} //;\n</code></pre>\n\n<p>However, if that string always contains a pattern like this, you don't need a regular expression substitution. You can simply take a substring.</p>\n\n<pre><code>my $output = substr $string, 8;\n</code></pre>\n\n<p>That will assign the content of <code>$string</code> starting from the 9th character</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1446589666, "post_id": 33503055, "comment_id": 54804154, "body": "@AnimeshSheolikar: I am concerned that you say there isn&#39;t always a date at the start of the line. If you always want to delete the first field up to the first set of spaces then this will work for you, but if you need to check whether the line starts with a star and a date before you remove anything then you need something more elaborate"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1446589595, "last_edit_date": 1446589595, "creation_date": 1446564845, "answer_id": 33503055, "question_id": 33502065, "link": "https://stackoverflow.com/questions/33502065/how-to-remove-date-identifier-and-special-charactar-from-string/33503055#33503055", "title": "how to remove date identifier and special charactar from string", "body": "<p>To remove everything from the string up to the first space, you can write</p>\n\n<pre><code>$str =~ s/^\\S*\\s+//;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 717, "user_id": 1483288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5b0b7a55223dba7a538aaf97dbbc6150?s=128&d=identicon&r=PG", "display_name": "ccc31807", "link": "https://stackoverflow.com/users/1483288/ccc31807"}, "is_accepted": false, "score": 0, "last_activity_date": 1446568098, "creation_date": 1446568098, "answer_id": 33504247, "question_id": 33502065, "link": "https://stackoverflow.com/questions/33502065/how-to-remove-date-identifier-and-special-charactar-from-string/33504247#33504247", "title": "how to remove date identifier and special charactar from string", "body": "<p>The script below does what you want, assuming that the date always appears at the beginning the line, and that it is follow by exactly one space.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nwhile (&lt;DATA&gt;)\n{\n    # skip one or more characters not a space\n    # then skip exactly one space\n    # then capture all remaining characters\n    # and assign them to $s\n    my ($s) = $_ =~ /[^ ]+ (.*)/;\n    print $s, \"\\n\";\n}\n\n__DATA__\n*110115 first date\n*110115 second date\n*110315 third date\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>first date\nsecond date\nthird date\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1446589595, "creation_date": 1446562228, "question_id": 33502065, "link": "https://stackoverflow.com/questions/33502065/how-to-remove-date-identifier-and-special-charactar-from-string", "title": "how to remove date identifier and special charactar from string", "body": "<p>I want to remove date identifier and * from string .</p>\n\n<pre><code>$string = \"*102015 Supplied air hood\";\n$output = \"Supplied air hood\";\n</code></pre>\n\n<p>i have used </p>\n\n<pre><code>$string =~ s/[#\\%&amp;\\\"\"*+]//g;\n$string =~ s/^\\s+//;\n</code></pre>\n\n<p>what should i used to get string value = \"Supplied air hood\";</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["regex", "perl", "notepad++"], "comments": [{"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 1, "creation_date": 1446554533, "post_id": 33499070, "comment_id": 54782416, "body": "Stack Overflow is not a free code writing service. You need to show some effort into solving the problem yourself before you can expect any assistance from us. As it stands your question is likely to be voted down and closed as not providing enough information."}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "reply_to_user": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 1, "creation_date": 1446554596, "post_id": 33499070, "comment_id": 54782459, "body": "Really? I&#39;ve looked through dozens of questions here and a few seem to be fine with that. Well I was trying lookbehind, but I don&#39;t know how to get it move down the list whilst capturing the data I&#39;m looking for. Give me a second and I&#39;ll type what I was just trying."}, {"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1446554892, "post_id": 33499070, "comment_id": 54782645, "body": "See help pages <a href=\"http://stackoverflow.com/help/on-topic\">stackoverflow.com/help/on-topic</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">stackoverflow.com/help/dont-ask</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446557863, "post_id": 33499070, "comment_id": 54784600, "body": "Please stop adding comments and edit any additional information that you may have into your question. Stack Overflow is not a forum"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446558004, "post_id": 33499070, "comment_id": 54784688, "body": "You have written quite a long question that doesn&#39;t explain very much. It looks like you have a standard config file, but you don&#39;t say what you want to <i>do</i> with any entries that you find under the given heading"}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "reply_to_user": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 1, "creation_date": 1446558809, "post_id": 33499070, "comment_id": 54785201, "body": "And enter auto-posting my comments has caught me off guard, as has the 5 minute edit limit.  The documents are lists of data obtained from an experiment conducted for a thesis. I excluded what I want to do with the captured data because because I know how to accomplish it: converting the captured data into a different form via the replace function.  The question is long because @AdrianHHH first comment prompted me to reword what I&#39;d tried, how it didn&#39;t work and what specifically I wanted to know."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446559950, "post_id": 33499070, "comment_id": 54785968, "body": "<code>perl</code> and <code>notepad++</code> have very different ways of tackling this problem. I wouldn&#39;t use a single regex approach at all in <code>perl</code>."}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "edited": false, "score": 0, "creation_date": 1446560220, "post_id": 33499070, "comment_id": 54786142, "body": "I definitely know that the examples I&#39;ve seen in perl are different to what works in notepad++. But <a href=\"http://docs.notepad-plus-plus.org/index.php/Regular_Expressions\" rel=\"nofollow noreferrer\">apparently</a> regex in notepad++ uses PCRE (perl) syntax. Otherwise I have no idea what syntax notepad++ uses. I can more suitably tag this if I knew but I can&#39;t find any more information."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1446561066, "post_id": 33499070, "comment_id": 54786705, "body": "So you want to parse an INI file using Notepad++? Or Perl? Or...? My suggestion: you got off track a little in the middle third of your question with all the regex stuff. Describe the actual problem you want to solve, rather than the problem you&#39;re having with your solution to the problem."}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "edited": false, "score": 0, "creation_date": 1446561608, "post_id": 33499070, "comment_id": 54787083, "body": "Thanks man, I&#39;ll edit my post now."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1446566355, "post_id": 33499070, "comment_id": 54790514, "body": "If the headers/sections are out of order, fix the process that produces that file."}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "edited": false, "score": 0, "creation_date": 1446566721, "post_id": 33499070, "comment_id": 54790754, "body": "Definitely my first thought, and it might be possible at some point, but at the moment it isn&#39;t feasible. The testing process using a dedicated PC that&#39;s on loan from my lab&#39;s equipment department. Even if I had the ability to recode the programs used on the PC, I would be very hesitant to do it in case I messed something up."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446568452, "post_id": 33499070, "comment_id": 54791993, "body": "So, using Perl, you want to keep only the lines from the <code>[Header1]</code> section where the key ends in <code>_type1</code>, and your input is hundreds of <code>.ini</code> files? Is that pretty close?"}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "edited": false, "score": 0, "creation_date": 1446570778, "post_id": 33499070, "comment_id": 54793661, "body": "Pretty much yeah, I&#39;ve tried a few more variations of lookahead/lookbehind but still nothing."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446570993, "post_id": 33499070, "comment_id": 54793798, "body": "The answer is - stop latching onto regex. It&#39;s a great tool for a specific task, but it is <i>NOT</i> a parser."}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "edited": false, "score": 0, "creation_date": 1446571872, "post_id": 33499070, "comment_id": 54794344, "body": "Ok, thanks for that. After the reaction here I was wondering if I should  move to writing a script to catch the data."}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "edited": false, "score": 0, "creation_date": 1446572731, "post_id": 33499070, "comment_id": 54794885, "body": "I&#39;ll set this question as answered seen as I doubt anyone will reply or vote up for visibility. Seems the original people who voted down because my post weren&#39;t feeling in a forgiving mood, hahaha cheers."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1446572986, "post_id": 33499070, "comment_id": 54795028, "body": "@ScottLawrence Yes, you should absolutely look into writing a script to do this. The &quot;one regex to rule them all&quot; that you initially envisioned is not going to work, I&#39;m afraid. On the plus side, there are lots of Perl modules available to parse INI files, so 90% of the work is already done!"}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "edited": false, "score": 0, "creation_date": 1446574497, "post_id": 33499070, "comment_id": 54795840, "body": "I can imagine how I gave off that impression, I started using regex two days ago. So when talked about &#39;knowledge failures&#39; and stuff like that all I meant was I have so little experience with it that it&#39;s easier to assume regex is capable of it than not. As to the last part, great, under a bit of a time constraint. Cheers for all the help."}, {"owner": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1446575144, "post_id": 33499070, "comment_id": 54796239, "body": "Have a +1 for handling these comments with grace :)  The following 1-liner should get you most of the way there: <code>perl -lne &#39;$on = ($1 eq &quot;Header1&quot;) if &#47;^\\[(.*?)\\]&#47;; print $1 if $on &amp;&amp; &#47;^data_label_type1\\s*=\\s*(.*)&#47;&#39;</code>"}, {"owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "reply_to_user": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1446575685, "post_id": 33499070, "comment_id": 54796548, "body": "@j_random_hacker Thanks :) that should give me a good start on the road to finally being productive"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "is_accepted": false, "score": 0, "last_activity_date": 1446574573, "creation_date": 1446574573, "answer_id": 33506287, "question_id": 33499070, "link": "https://stackoverflow.com/questions/33499070/finding-matches-after-a-specific-line-in-perl-notepad/33506287#33506287", "title": "Finding matches after a specific line in Perl/Notepad++", "body": "<p>Regex apparently not capable of providing a solution, will use alternatives such as a parser instead.</p>\n"}], "owner": {"reputation": 11, "user_id": 5519956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b501ee6efa02662c1f20c7707c0d90?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Lawrence", "link": "https://stackoverflow.com/users/5519956/scott-lawrence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1446574573, "creation_date": 1446553414, "last_edit_date": 1446562299, "question_id": 33499070, "link": "https://stackoverflow.com/questions/33499070/finding-matches-after-a-specific-line-in-perl-notepad", "title": "Finding matches after a specific line in Perl/Notepad++", "body": "<p>My problem is that I have a document that is split into sections, each section is noted by a single line header - [Header1], [Header2], etc. - and contains various types of data sets separated into individual lines, where each line is begun by a label indicating what type of data follows, like this:</p>\n\n<pre><code>[Header1]\n\ndata_label_type1      = 1,2,3\ndata_label_type2   = 1,2,3,4\ndata_label_type1     = 1,2,3,4,5\ndata_label_type3    = 1,2\n</code></pre>\n\n<p>Note the headers/sections are out of order, so Header1 doesn't always start a document and Header2 won't always follow.</p>\n\n<p>A bit off topic, but the data sets are results from an experiment I'm mainting for a thesis. </p>\n\n<p>I want to be able to capture type 1 data found only in the first section (under Header1) using a single regex function. After capturing it I was going to use replace and another function to convert the captured data to a different form.</p>\n\n<p>Initially I was using the regex <code>type1\\h*=\\h*([[:graph:]]*)</code> but this only goes line by line, and I've got hundreds of documents - potentially tens of thousands of individal lines to catch.</p>\n\n<p>I can use regex to convert my data well enough, but my problem lies in that I have no idea how capture type 1 data from Header1 exclusively. Any help, tips or pointers to start some experimenting would be really appreciated!</p>\n"}, {"tags": ["apache", "perl", "cgi", "ram"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1446553013, "post_id": 33498908, "comment_id": 54781475, "body": "memory paging to disk"}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446554690, "post_id": 33498908, "comment_id": 54782526, "body": "@Sobrique Thank you!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1446557576, "post_id": 33498908, "comment_id": 54784399, "body": "The whole reason CGI.pm writes the file to disk is to avoid eating up lots of RAM, so the claim that the entire file is stored in RAM before being written to disk seems like completely nonsense to me."}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1446558683, "post_id": 33500505, "comment_id": 54785111, "body": "Thanks. Ikegami, can you tell, if I have that file received by CGI script and then, before writing it down to a disk, I have to process it (say, put it into array, split by small cuts of the data, and manipulate this array and only after write it to the disk. What then will happen? During that manipulations which memory will be used?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 1, "creation_date": 1446558987, "post_id": 33500505, "comment_id": 54785323, "body": "Yes, arrays exist in memory."}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1446559808, "post_id": 33500505, "comment_id": 54785881, "body": "is there a chance to cope with it? I mean, is there a chance to have the array on disk in any way without losses of speed? I tried DBM::Deep but it takes hours for the  mentioned operation... on MacBook Pro i7 2.8Ghz 2014.... It is horrible.. Is there any other solutions? What do you think about PDL? Is it worth to try?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 1, "creation_date": 1446560694, "post_id": 33500505, "comment_id": 54786443, "body": "Re &quot;is there a chance to have the array on disk in any way without losses of speed?&quot;, That makes no sense. As I&#39;ve previously said, arrays exist in memory. As for an efficient way of doing what you want to do... Well, that would depend on what you want to do."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1446557662, "creation_date": 1446557662, "answer_id": 33500505, "question_id": 33498908, "link": "https://stackoverflow.com/questions/33498908/how-ram-is-used-on-cgi-query/33500505#33500505", "title": "How RAM is used on CGI query?", "body": "<p>The whole reason CGI.pm writes the file to disk is to avoid eating up lots of RAM, so the claim that the entire file is stored in RAM before being written to disk makes no sense.</p>\n\n<p>CGI.pm writes it to disk as it reads it from the pipe from apache.</p>\n"}], "owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 33500505, "answer_count": 1, "score": -1, "last_activity_date": 1446557662, "creation_date": 1446552960, "question_id": 33498908, "link": "https://stackoverflow.com/questions/33498908/how-ram-is-used-on-cgi-query", "title": "How RAM is used on CGI query?", "body": "<p>The user sends a file via HTML form \nCGI script, installed on the server, receives the file and, say, writes it down to the disk. As simple as only possible.\nAs I understand, files, sent to the server via POST, are stored in the RAM on the Server, before they are written on the disk. (If I am not right - please, correct me).\nThe question is IF the file, that a user sends, weights 2GB and the server (just for example) has only 1 GB of RAM on board? What will happen then?\nthanks!</p>\n"}, {"tags": ["bash", "perl", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "edited": false, "score": 0, "creation_date": 1446537752, "post_id": 33494038, "comment_id": 54772274, "body": "Can you give some sample line ?"}, {"owner": {"reputation": 6190, "user_id": 1944784, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dd8b3d0343bf4c734ebbd7a18e2a9fe0?s=128&d=identicon&r=PG&f=1", "display_name": "4ae1e1", "link": "https://stackoverflow.com/users/1944784/4ae1e1"}, "edited": false, "score": 0, "creation_date": 1446537833, "post_id": 33494038, "comment_id": 54772320, "body": "What prevents you from using <code>awk</code> and accumulating <code>NF</code>, if you just need to extract the first 100 million tokens?"}, {"owner": {"reputation": 199, "user_id": 4665846, "user_type": "registered", "profile_image": "https://graph.facebook.com/555721539/picture?type=large", "display_name": "khassan", "link": "https://stackoverflow.com/users/4665846/khassan"}, "edited": false, "score": 0, "creation_date": 1446537886, "post_id": 33494038, "comment_id": 54772354, "body": "sorry, but my file is very huge, I can not post whole file (I am actually using gigaword corpus). format of my file is as following: sentence1 sentence2 ... sentence K Every sentence contains around 10-30 tokens (words)"}, {"owner": {"reputation": 199, "user_id": 4665846, "user_type": "registered", "profile_image": "https://graph.facebook.com/555721539/picture?type=large", "display_name": "khassan", "link": "https://stackoverflow.com/users/4665846/khassan"}, "edited": false, "score": 0, "creation_date": 1446538119, "post_id": 33494038, "comment_id": 54772470, "body": "4ae1e1, because I can not break line, I need number of lines that contains around 100 million (as close as possible to 100 million)"}, {"owner": {"reputation": 6190, "user_id": 1944784, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dd8b3d0343bf4c734ebbd7a18e2a9fe0?s=128&d=identicon&r=PG&f=1", "display_name": "4ae1e1", "link": "https://stackoverflow.com/users/1944784/4ae1e1"}, "edited": false, "score": 1, "creation_date": 1446538412, "post_id": 33494038, "comment_id": 54772592, "body": "<code>awk &#39;{ num_tokens += NF; if (num_tokens &gt;= 100000000) { print NR; exit; } }&#39; huge_file</code> Hopefully I understood your problem."}, {"owner": {"reputation": 199, "user_id": 4665846, "user_type": "registered", "profile_image": "https://graph.facebook.com/555721539/picture?type=large", "display_name": "khassan", "link": "https://stackoverflow.com/users/4665846/khassan"}, "reply_to_user": {"reputation": 6190, "user_id": 1944784, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dd8b3d0343bf4c734ebbd7a18e2a9fe0?s=128&d=identicon&r=PG&f=1", "display_name": "4ae1e1", "link": "https://stackoverflow.com/users/1944784/4ae1e1"}, "edited": false, "score": 0, "creation_date": 1446540229, "post_id": 33494038, "comment_id": 54773400, "body": "@4ae1e1, I confirm that your solution works, I didn&#39;t compare it to other methods (in terms of time), but it solves my problem. Thanks!"}, {"owner": {"reputation": 6190, "user_id": 1944784, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dd8b3d0343bf4c734ebbd7a18e2a9fe0?s=128&d=identicon&r=PG&f=1", "display_name": "4ae1e1", "link": "https://stackoverflow.com/users/1944784/4ae1e1"}, "edited": false, "score": 0, "creation_date": 1446542621, "post_id": 33494038, "comment_id": 54774742, "body": "Does time even matter for a number as small as 100000000? Think of CPU frequencies these days. Programmer time is much more valuable. I can&#39;t imagine anything better than awk at handling this (better in terms of simplicity), due to the line processing nature and builtin NF and NR."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446549287, "post_id": 33494038, "comment_id": 54779103, "body": "With some sample data and a clearer task description, there&#39;s almost certainly a better solution that doesn&#39;t involve about 5 piped commands like that. Both <code>awk</code> and <code>perl</code> can do line processing and word counting and bail out after a particular number of either."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1446549128, "creation_date": 1446549128, "answer_id": 33497686, "question_id": 33494038, "link": "https://stackoverflow.com/questions/33494038/given-the-number-of-tokens-how-to-find-corresponding-closest-number-of-lines-wi/33497686#33497686", "title": "Given the number of tokens, how to find corresponding closest number of lines within a file?", "body": "<p>I had a bit of a hard time understanding what you're asking. But I think you're tackling it very badly. Running <code>perl</code> as a super-sed, then <code>cut</code>, then <code>grep</code> then <code>wc</code> is horribly inefficient. </p>\n\n<p>If I understand correctly, you want as many lines as it takes to get at least 100M words. </p>\n\n<p>Why not instead:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $wordcount = 0; \n\n#use 'magic' filehandle - read piped input or \n#command line specified 'myscript.pl somefilename' - just like sed/grep\nwhile ( &lt;&gt; )  \n    #split on whitespace, count number of fields. Or words in this case. \n    $wordcount += scalar split; \n    #chomp; if you don't want the line feed here\n    #print current line \n    print; \n    #bail out if our wordcount is above a certain number. \n    last if $wordcount &gt;= 100_000_000\n    #NB $. is line number if you wanted to just do a certain number of lines. \n} \n\n#already printed the content with line feeds intact. \n#this prints the precise count we've printed. \nprint $wordcount,\" words printed\\n\"; \n</code></pre>\n\n<p>This will iterate your file, and as soon as you've seen 100M words, it'll bail out - meaning you no longer have to read the whole file, nor do you need to invoke a daisy chain of commands.</p>\n\n<p>This would oneliner if you're really insistent:</p>\n\n<pre><code>perl -p -e '$wordcount += scalar split; last if $wordcount &gt; 100_000_000;'\n</code></pre>\n\n<p>Again - I couldn't quite tell what the significance of line feeds and <code>#</code> symbols were, so I haven't done anything with them. But <code>s/\\n/ #/</code> works fine in the above code block, as does <code>chomp;</code> to remove trailing linefeeds if that's what you're after. </p>\n"}], "owner": {"reputation": 199, "user_id": 4665846, "user_type": "registered", "profile_image": "https://graph.facebook.com/555721539/picture?type=large", "display_name": "khassan", "link": "https://stackoverflow.com/users/4665846/khassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1446549128, "creation_date": 1446537625, "last_edit_date": 1446537697, "question_id": 33494038, "link": "https://stackoverflow.com/questions/33494038/given-the-number-of-tokens-how-to-find-corresponding-closest-number-of-lines-wi", "title": "Given the number of tokens, how to find corresponding closest number of lines within a file?", "body": "<p>Given a huge file which contains text (one sentence per line), the task is to extract N tokens (for example 100 million tokens out of 3 billion), since I can not break a sentence into parts, I need to find closest number of lines that contains given number of tokens.</p>\n\n<p>I tried following code:</p>\n\n<pre><code>perl -p -e 's/\\n/ #/g' huge_file | cut -d' ' -f1-100000000 | grep -o ' #' | wc -w\n</code></pre>\n\n<p>which replace newline symbol with symbol ' #' (we are basically joining sentences into single line) and counting number of symbol ' #' which should correspond to number of sentence (huge_file doesn't contain '#' symbol). However, grep can not process the large line and giving 'grep: memory exhausted' error. Is there any other efficient way for accomplishing task, that would also work for very large files?</p>\n"}, {"tags": ["python", "ruby", "perl", "hashtable", "allocation"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1446534127, "post_id": 33493112, "comment_id": 54770489, "body": "What do you try to achieve by doing that?"}, {"owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1446534460, "post_id": 33493112, "comment_id": 54770642, "body": "I want to achieve Higher Performance."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446534984, "post_id": 33493112, "comment_id": 54770920, "body": "Higher than what? Is your program running too slowly? Have you demonstrated that the time spent allocating space for the data is excessive?"}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 1, "creation_date": 1446535138, "post_id": 33493112, "comment_id": 54770997, "body": "Ruby: <a href=\"https://github.com/rdp/google_hash\" rel=\"nofollow noreferrer\">github.com/rdp/google_hash</a>"}, {"owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "edited": false, "score": 0, "creation_date": 1446536119, "post_id": 33493112, "comment_id": 54771488, "body": "Yes, I have. The creation of the Hash is slow."}], "answers": [{"tags": [], "owner": {"reputation": 1468, "user_id": 2447495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3e8812f312e40a722f7f6816e1ba19?s=128&d=identicon&r=PG", "display_name": "Kadir", "link": "https://stackoverflow.com/users/2447495/kadir"}, "is_accepted": true, "score": 1, "last_activity_date": 1446534819, "creation_date": 1446534819, "answer_id": 33493359, "question_id": 33493112, "link": "https://stackoverflow.com/questions/33493112/pre-allocation-of-memory-in-ruby-and-python-for-hashes-akin-to-perls-keys-has/33493359#33493359", "title": "pre allocation of memory in Ruby and Python for hashes, akin to Perl&#39;s keys %hash = num", "body": "<p>When using Python <code>dict.fromkeys()</code> may be used to create a new dictionary with keys from seq and values set to value(In this case null).</p>\n\n<pre><code>dict.fromkeys(xrange(1000000))\n</code></pre>\n"}], "owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 33493359, "answer_count": 1, "score": -1, "last_activity_date": 1446534819, "creation_date": 1446533843, "question_id": 33493112, "link": "https://stackoverflow.com/questions/33493112/pre-allocation-of-memory-in-ruby-and-python-for-hashes-akin-to-perls-keys-has", "title": "pre allocation of memory in Ruby and Python for hashes, akin to Perl&#39;s keys %hash = num", "body": "<p>I may have to deal with very large hashes in future code. In Perl, if one knows in advance that a huge hash is to be created, then one can pre-allocate memory by using this code (assuming that one needs a 1 billion size hash):</p>\n\n<pre><code>keys %hash = 1e9\n</code></pre>\n\n<p>Is there something similar in Ruby or Python?</p>\n"}, {"tags": ["php", "mysql", "perl", "sqlite", "crontab"], "comments": [{"owner": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "edited": false, "score": 2, "creation_date": 1446530710, "post_id": 33492192, "comment_id": 54769102, "body": "What user does cron run as? Different from the user that runs the script manually?"}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "reply_to_user": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "edited": false, "score": 0, "creation_date": 1446530733, "post_id": 33492192, "comment_id": 54769116, "body": "@JRD How do I check this?"}, {"owner": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "edited": false, "score": 0, "creation_date": 1446531091, "post_id": 33492192, "comment_id": 54769230, "body": "Well, do you edit the crontab file with <code>crontab -e</code> or some other way? Also, can post the crontab entry on the new server?"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1446531157, "post_id": 33492192, "comment_id": 54769265, "body": "You could add a logging statement like <code>print STDERR &quot;UID=$&lt; EUID=$&gt; &quot;, qx&#47;pwd&#47;;</code> and check what you get back from the cron job (you usually get STDERR by mail). The <code>qx&#47;pwd&#47;</code> aso checks the current working directory in case that should have changed."}, {"owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "edited": false, "score": 0, "creation_date": 1446535078, "post_id": 33492192, "comment_id": 54770969, "body": "a couple of quick tips - make sure that the folder has execute permissions for the user and that the file also has execute permissions for the user.  You haven&#39;t shown the error message which could be helpful ( ie is the perl module not found or is there permissions issue with the files or directories ). Does the perl executable environment have access to the modules as that user or has the module been installed in a different ENV ?"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 2, "creation_date": 1446545458, "post_id": 33492192, "comment_id": 54776588, "body": "Use absolute pathes instead of relative to make sure you access the correct and existing directory. Include a <code>cd &#47;some&#47;where ;</code> before your command in the crontab. Is it roots crontab or www-data&#39;s? In the latter case, <code>su</code> to <code>www-data</code> and try to execute the file from where it is run."}, {"owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "edited": false, "score": 0, "creation_date": 1446555179, "post_id": 33492192, "comment_id": 54782834, "body": "Maybe, first &quot;../&quot; in $dbFile is superflous (in the old value there were only one &quot;../&quot;)? Try to test script with full path to database file in $dbFIle variable."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1446560237, "post_id": 33492192, "comment_id": 54786156, "body": "There are three key differences when running from cron - user, environment, path. Check all of these are as you expect."}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "reply_to_user": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1446567131, "post_id": 33492192, "comment_id": 54791009, "body": "@mbethke do I put that in my Perl script? Is it possible to direct the error message to my scraper-specific log file?"}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "reply_to_user": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "edited": false, "score": 0, "creation_date": 1446567166, "post_id": 33492192, "comment_id": 54791032, "body": "@PeterScott As far as I know, that&#39;s all the error messages I&#39;ve received (the failed to connect one)"}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1446567462, "post_id": 33492192, "comment_id": 54791245, "body": "@syck Oh wow.. Using absolute paths worked..! I am so surprised!! I thought this wouldn&#39;t matter at all considering executing it manually yields no issue!! Thanks! Could you post the answer so I could mark it as right?"}], "answers": [{"tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": true, "score": 2, "last_activity_date": 1446638178, "last_edit_date": 1446638178, "creation_date": 1446633147, "answer_id": 33519518, "question_id": 33492192, "link": "https://stackoverflow.com/questions/33492192/perl-script-unable-to-write-to-database-when-executed-in-crontab-despite-being-a/33519518#33519518", "title": "Perl script unable to write to database when executed in crontab despite being able to write if executed manually", "body": "<p>When testing manually, you probably went to the correct working directory for the script to do the editing. Starting it from any other location would most likely have caused failure as well.</p>\n\n<ul>\n<li>Use absolute pathes instead of relative to make sure you access the correct and existing directory.</li>\n<li>Include a <code>cd /some/where ;</code> before your command in the crontab. Cron sets  your home directory, no matter where the called program sits.</li>\n</ul>\n\n<p>The second proposal is imho the more portable, because it does not require script changes when the location or machine is changed; you simply adapt it in your (machine-specific) crontab.</p>\n"}], "owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 33519518, "answer_count": 1, "score": 1, "last_activity_date": 1452257430, "creation_date": 1446529590, "last_edit_date": 1495542197, "question_id": 33492192, "link": "https://stackoverflow.com/questions/33492192/perl-script-unable-to-write-to-database-when-executed-in-crontab-despite-being-a", "title": "Perl script unable to write to database when executed in crontab despite being able to write if executed manually", "body": "<p>I've been wrestling with this issue for awhile now.. and I have tried many solutions, such as:</p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/1122885/why-cant-dbdsqlite-insert-into-a-database-through-my-perl-cgi-script\">Why can't DBD::SQLite insert into a database through my Perl CGI script?</a></p></li>\n<li><p><a href=\"https://serverfault.com/questions/57596/why-do-i-get-sqlite-error-unable-to-open-database-file\">Why do I get sqlite error, \u201cunable to open database file\u201d?</a></p></li>\n</ol>\n\n<h2>Brief</h2>\n\n<p>A few weeks ago, I migrated my server from Laravel 4.0 to another server which is now the latest version of Laravel 5.0.</p>\n\n<p><strong>In the old server</strong>, I have this Perl file which is a scraper which I run using a crontab every 30 minutes called <code>getListOfClasses.pl</code></p>\n\n<p>Using the following <code>crontab</code> command on my <strong>OLD</strong> server, I would run this:</p>\n\n<pre><code>0,30 * * * * /var/www/loop/storage/scripts/getListOfClasses.pl  &gt;&gt; /var/www/loop/storage/logs/laravel-scraper.log 2&gt;&amp;1\n</code></pre>\n\n<p>Which executes the scraper in <code>/var/www/loop/storage/scripts/getListOfClassesFromSubjects.pl</code> and writes to my database in <code>/var/www/loop/storage/database.sqlite</code></p>\n\n<p>After my move, Laravel 5.0 changed the default database location from <code>storage</code> to <code>database</code>, so I edited my crontab to reflect that change as well the database name from:</p>\n\n<pre><code>my $dbFile = '../storage/database.sqlite';\n</code></pre>\n\n<p>to the new file path location</p>\n\n<pre><code>my $dbFile = '../../database/database.sqlite';\n</code></pre>\n\n<h2>The Issue</h2>\n\n<p>If I run my scraper manually at:</p>\n\n<pre><code>/var/www/schedulizer/storage/scripts/getListOfClasses.pl\n</code></pre>\n\n<p>I am able to scrape just fine. However, if I rely on the crontab to execute the script, I receive the following errors:</p>\n\n<pre><code>DBI connect('dbname=../../database/database.sqlite','',...) failed: unable to open database file at /var/www/schedulizer/storage/scripts/getListOfClasses.pl line 22.\n</code></pre>\n\n<p>Line 22 is <code>my $dbh = DBI-&gt;connect($dsn, $user, $password, {</code>. I don't believe this line of code is relevant - I guess my server has issues writing to that database.</p>\n\n<p>The permissions that my SQLite database has is the following:</p>\n\n<pre><code>-rwxrwxrwx 1 www-data root 8845312 Nov  3 00:05 database.sqlite\n</code></pre>\n\n<p>The folder in which the database exists has the following permissions:</p>\n\n<pre><code>drwxr-xr-x  5 www-data root       4096 Nov  3 00:05 database\n</code></pre>\n\n<p>These permission levels all are the same as my old server's permission levels for both the database file as well as the folder.. I've also tried <code>chown</code> and <code>chmod 777</code> on the database file so it has all the permissions possible. Still no luck.</p>\n\n<p>Any one have clues why?</p>\n"}, {"tags": ["arrays", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1446507831, "post_id": 33489042, "comment_id": 54762835, "body": "what is the field delimiter here? &quot;Columbia university&quot; appears to be after the 8th comma or so. Also, is it just about these two lines or something different? You probably will have to loop through the file twice in <code>awk</code>: once to store data, then to print it"}, {"owner": {"reputation": 27, "user_id": 5141425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-aUdMz5a81NQ/AAAAAAAAAAI/AAAAAAAAAFs/_LJvYGcq7zk/photo.jpg?sz=128", "display_name": "Jim", "link": "https://stackoverflow.com/users/5141425/jim"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1446508143, "post_id": 33489042, "comment_id": 54762952, "body": "the delimiter is the comma (,), and lookin at array[6] my mistake. let me fix."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1446508305, "post_id": 33489042, "comment_id": 54763018, "body": "what is the unique id here? the first field?"}, {"owner": {"reputation": 27, "user_id": 5141425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-aUdMz5a81NQ/AAAAAAAAAAI/AAAAAAAAAFs/_LJvYGcq7zk/photo.jpg?sz=128", "display_name": "Jim", "link": "https://stackoverflow.com/users/5141425/jim"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1446508313, "post_id": 33489042, "comment_id": 54763021, "body": "yea I noticed when I was replying , was making the edit lol. Thanks though."}, {"owner": {"reputation": 27, "user_id": 5141425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-aUdMz5a81NQ/AAAAAAAAAAI/AAAAAAAAAFs/_LJvYGcq7zk/photo.jpg?sz=128", "display_name": "Jim", "link": "https://stackoverflow.com/users/5141425/jim"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1446508405, "post_id": 33489042, "comment_id": 54763063, "body": "Yes, the first field is unique (auto incremented)"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1446528512, "post_id": 33489042, "comment_id": 54768340, "body": "Can you have multiple lines with empty fields that need to be populated from the first non-empty field you find or is it always just 1?"}, {"owner": {"reputation": 27, "user_id": 5141425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-aUdMz5a81NQ/AAAAAAAAAAI/AAAAAAAAAFs/_LJvYGcq7zk/photo.jpg?sz=128", "display_name": "Jim", "link": "https://stackoverflow.com/users/5141425/jim"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1446581499, "post_id": 33489042, "comment_id": 54799898, "body": "@EdMorton Yes, it is possible there can be two first lines that have empty fields. One small issue but I didn&#39;t want to make it too complicated."}], "answers": [{"comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 27, "user_id": 5141425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-aUdMz5a81NQ/AAAAAAAAAAI/AAAAAAAAAFs/_LJvYGcq7zk/photo.jpg?sz=128", "display_name": "Jim", "link": "https://stackoverflow.com/users/5141425/jim"}, "edited": false, "score": 0, "creation_date": 1446509024, "post_id": 33489159, "comment_id": 54763267, "body": "You don&#39;t have to copy the  <code>$</code>, it is just my prompt that I copy to then show the output."}, {"owner": {"reputation": 27, "user_id": 5141425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-aUdMz5a81NQ/AAAAAAAAAAI/AAAAAAAAAFs/_LJvYGcq7zk/photo.jpg?sz=128", "display_name": "Jim", "link": "https://stackoverflow.com/users/5141425/jim"}, "edited": false, "score": 1, "creation_date": 1446509437, "post_id": 33489159, "comment_id": 54763376, "body": "Ah, rookie mistake, missed that lol. Thanks worked like a charm! I appreciate it."}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": false, "score": 2, "last_activity_date": 1446508493, "creation_date": 1446508493, "answer_id": 33489159, "question_id": 33489042, "link": "https://stackoverflow.com/questions/33489042/how-to-copy-value-from-next-line-below-it/33489159#33489159", "title": "How to copy value from next line below it", "body": "<p>If we assume the ID is stored in the second column, you can for example say:</p>\n\n<pre><code>$ awk 'BEGIN{FS=OFS=\",\"} FNR==NR {a[$2]=$NF; next} NF&lt;7{$(NF+1)=a[$2]}1' file file\n0001,324434344,Sterner,Erik B,B.A,1987,Columbia University\n0002,324434344,Sterner,Erik B,M.A,2001,Columbia University\n</code></pre>\n\n<p>This reads the file twice: once to store data and then to print it.</p>\n\n<p>On the first iteration it populates an array <code>data[2nd field] = last field</code>. Then, on the second iteration it adds that field if the row contains less than 7 columns.</p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 5141425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-aUdMz5a81NQ/AAAAAAAAAAI/AAAAAAAAAFs/_LJvYGcq7zk/photo.jpg?sz=128", "display_name": "Jim", "link": "https://stackoverflow.com/users/5141425/jim"}, "edited": false, "score": 0, "creation_date": 1446509487, "post_id": 33489168, "comment_id": 54763388, "body": "Thanks Ill give this a shot."}, {"owner": {"reputation": 27, "user_id": 5141425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-aUdMz5a81NQ/AAAAAAAAAAI/AAAAAAAAAFs/_LJvYGcq7zk/photo.jpg?sz=128", "display_name": "Jim", "link": "https://stackoverflow.com/users/5141425/jim"}, "edited": false, "score": 0, "creation_date": 1446582875, "post_id": 33489168, "comment_id": 54800596, "body": "Holy moly, this worked like perfectly. This worked more than I needed and fitted my project. Thank you!"}], "tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": true, "score": 6, "last_activity_date": 1446509232, "last_edit_date": 1446509232, "creation_date": 1446508550, "answer_id": 33489168, "question_id": 33489042, "link": "https://stackoverflow.com/questions/33489042/how-to-copy-value-from-next-line-below-it/33489168#33489168", "title": "How to copy value from next line below it", "body": "<p>Reverse the lines! Then it should be trivial to store the most current non-blank value of the sixth field and insert it when you find a blank value. Reverse the lines again when you're done. </p>\n\n<pre><code>tac file.csv | perl -F, -alne '\n  $last = $F[6] if $F[6]; \n  $F[6] ||= $last if $last; \n  print join \",\", @F;\n' | tac\n</code></pre>\n\n<p>You can use <code>tail -r</code> instead of <code>tac</code> if you're on BSD-derivative.</p>\n"}], "owner": {"reputation": 27, "user_id": 5141425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-aUdMz5a81NQ/AAAAAAAAAAI/AAAAAAAAAFs/_LJvYGcq7zk/photo.jpg?sz=128", "display_name": "Jim", "link": "https://stackoverflow.com/users/5141425/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 33489168, "answer_count": 2, "score": 0, "last_activity_date": 1446509232, "creation_date": 1446507758, "last_edit_date": 1446508443, "question_id": 33489042, "link": "https://stackoverflow.com/questions/33489042/how-to-copy-value-from-next-line-below-it", "title": "How to copy value from next line below it", "body": "<p>I am looking into Sed or Awk to figure this out, but I am complete lost. Don't have a starting point.\nI have a file with a bunch of these, so I am thinking of using delimiter(,) and use index/array to copy a value and replace another index/array.</p>\n\n<pre><code>0001,324434344,Sterner,Erik B,B.A,1987\n0002,324434344,Sterner,Erik B,M.A,2001,Columbia University\n</code></pre>\n\n<p>Since array[6] is empty in the first line. I want to copy the array[6] from the second line into the first one. I have a good idea of how to look through file and identify that array[6] is empty but, I just don't know how to copy the second line array[6] and replace the line before it. Any hints?\nResult should be:</p>\n\n<pre><code>0001,324434344,Sterner,Erik B,B.A,1987,Columbia University\n0002,324434344,Sterner,Erik B,M.A,2001,Columbia University\n</code></pre>\n"}, {"tags": ["perl", "ping"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1446505960, "post_id": 33488240, "comment_id": 54762232, "body": "The default protocol is TCP, which apparently Google doesn&#39;t respond to. It does respond to ICMP (although not all servers necessarily will): <code>my $p = Net::Ping-&gt;new(&quot;icmp&quot;);</code>"}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446506317, "post_id": 33488240, "comment_id": 54762351, "body": "You are correct! If you submit it as answer i&#39;ll accept. Small aside, is it possible to do a ping if the url has the protocol as well (i.e. <a href=\"http://google.com\" rel=\"nofollow noreferrer\">google.com</a>)"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446503463, "creation_date": 1446503463, "question_id": 33488240, "link": "https://stackoverflow.com/questions/33488240/netping-times-out", "title": "Net::Ping Times Out", "body": "<p>I have a very simple script to ping a host and find out the duration of the ping</p>\n\n<pre><code>use 5.010;\n\nuse Net::Ping;\nmy $p = Net::Ping-&gt;new();\nmy ($ret, $duration, $ip) = $p-&gt;ping('google.com');\nsay $ret;\nsay $duration;\nsay $ip;\n</code></pre>\n\n<p>For some reason this keeps timing out (<code>$ret</code> returns <code>0</code> and <code>$duration</code> returns <code>5</code> seconds)</p>\n\n<p>What is the reason for this?</p>\n"}, {"tags": ["windows", "perl", "fork", "strawberry-perl"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446502151, "post_id": 33487364, "comment_id": 54760570, "body": "&quot;You should interpret a positive PID to be the actual PID of the original thread and negative PIDs are actually thread IDs&quot; Is this documented anywhere?"}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1446503781, "post_id": 33487364, "comment_id": 54761328, "body": "I read perlfork and couldn&#39;t tell where the negative numbers are coming from, only that mysterious things happen with <code>wait</code> if you get a pseudo-pid of -1"}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 5, "last_activity_date": 1446499894, "creation_date": 1446499894, "answer_id": 33487364, "question_id": 33487223, "link": "https://stackoverflow.com/questions/33487223/strawberry-perl-negative-child-pid-when-forked/33487364#33487364", "title": "Strawberry Perl negative child pid when forked", "body": "<p>Most of the details are in <a href=\"http://perldoc.perl.org/perlfork.html\" rel=\"noreferrer\">perlfork</a>, but to answer your specific questions, Pseudo-processes for Perl on Windows are actually implemented as threads.  You should interpret a positive PID to be the actual PID of the original thread and negative PIDs are actually thread IDs (negated, of course).</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1446555025, "creation_date": 1446555025, "answer_id": 33499598, "question_id": 33487223, "link": "https://stackoverflow.com/questions/33487223/strawberry-perl-negative-child-pid-when-forked/33499598#33499598", "title": "Strawberry Perl negative child pid when forked", "body": "<p>If positive PIDs were used for the fake processes created by <code>fork</code> (which are actually threads), they could conflict with PIDs of actual processes.</p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 1, "accepted_answer_id": 33487364, "answer_count": 2, "score": 1, "last_activity_date": 1446555025, "creation_date": 1446499436, "question_id": 33487223, "link": "https://stackoverflow.com/questions/33487223/strawberry-perl-negative-child-pid-when-forked", "title": "Strawberry Perl negative child pid when forked", "body": "<p>So I understand that Windows does not support the Unix fork-exec model and instead spawns processes. However, Strawberry Perl's fork emulation produces children with negative PIDs. These PIDs appear to be consistent, but I don't understand why they are negative or, really, how Perl is emulating Unix fork.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $cpid = fork();\n\nif ($cpid == 0) {\n    printf \"%s\\n\", \"I'm the child, pid is $$\";\n} else {\n    printf \"%s\\n\", \"I'm the parent, pid is $$, cpid is $cpid\";\n}\n</code></pre>\n\n<p>This produces something similar to:</p>\n\n<pre><code>I'm the parent, pid is 3428, cpid is -2600\nI'm the child, pid is -2600\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1446497588, "post_id": 33486376, "comment_id": 54758092, "body": "Why do it in Perl?  Why not use the shell and <code>time wget -o&#47;dev&#47;null SITE.com&#47;file.txt</code>?  Do you plan to use <code>wget</code> (and <code>system</code>) anyway?  Or do you want to rewrite <code>wget</code> in Perl and then time that?  If the latter, then you need to search <a href=\"http://search.cpan.org/\" rel=\"nofollow noreferrer\">search.cpan.org</a> to find suitable module(s) to do the job."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1446499900, "post_id": 33486376, "comment_id": 54759314, "body": "@JonathanLeffler Portability. Not everyone has <code>&lt;insert shell program here&gt;</code> nor the same version of it. For example, neither OS X nor Windows come with wget. It&#39;s easier to manage dependencies on Perl modules."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1446499777, "last_edit_date": 1446499777, "creation_date": 1446499442, "answer_id": 33487226, "question_id": 33486376, "link": "https://stackoverflow.com/questions/33486376/perl-see-how-long-it-takes-to-download-file/33487226#33487226", "title": "Perl: See how long it takes to download file", "body": "<p>You can use <a href=\"https://metacpan.org/pod/LWP::Simple\">LWP::Simple</a> or <a href=\"https://metacpan.org/pod/HTTP::Tiny\">HTTP::Tiny</a> (which is built in since 5.14.0).</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;  # for say()\n\nuse HTTP::Tiny;\nuse Time::HiRes qw(time); # to measure less than a second\nuse URI;\n\nmy $url = URI-&gt;new(shift);\n# Add the HTTP scheme if the URL is schemeless.\n$url = URI-&gt;new(\"http://$url\") unless $url-&gt;scheme;\n\nmy $start = time;\nmy $response = HTTP::Tiny-&gt;new-&gt;get($url);\nmy $total = time - $start;\n\nif( $response-&gt;{success} ) {\n    say \"It took $total seconds to fetch $url\";\n    say \"The content was @{[ length $response-&gt;{content} ]} bytes\";\n}\nelse {\n    say \"Fetching $url failed: $response-&gt;{status} $response-&gt;{reason}\";\n}\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 33487226, "answer_count": 1, "score": 1, "last_activity_date": 1446499777, "creation_date": 1446496506, "question_id": 33486376, "link": "https://stackoverflow.com/questions/33486376/perl-see-how-long-it-takes-to-download-file", "title": "Perl: See how long it takes to download file", "body": "<p>I am trying to create a perl script that tests a bunch of mirror servers for the best mirror to use.</p>\n\n<p>What is the best method to see how long it takes to download a file? I am trying to avoid system calls like </p>\n\n<pre><code>  $starttime = time();\n  $res = `wget -o/dev/null SITE.com/file.txt`;\n  $endtime = time();\n  $elapsed = $endtime - $starttime;\n</code></pre>\n\n<p>I'd rather use Perl functions</p>\n"}, {"tags": ["arrays", "perl", "list", "hash"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1446494335, "post_id": 33485337, "comment_id": 54756421, "body": "What have you tried so far? Your description is really confusing, and I might be able to understand the problem better if I see the code you&#39;ve attempted to write."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1446496977, "post_id": 33485337, "comment_id": 54757788, "body": "It&#39;s still not clear. that&#39;s a similar question, but it is different. And for another programming language. What have you tried so far. Can you put your <code>EXAMPLE</code> outside of the codeblock and show exactly what you expect the input and the output to be?"}, {"owner": {"reputation": 9, "user_id": 5517157, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271293076229815/picture?type=large", "display_name": "Shinmi Benjamin", "link": "https://stackoverflow.com/users/5517157/shinmi-benjamin"}, "edited": false, "score": 0, "creation_date": 1446497127, "post_id": 33485337, "comment_id": 54757860, "body": "Ok, for example in this link <a href=\"http://stackoverflow.com/questions/5419204/index-of-duplicates-items-in-a-python-list\" title=\"index of duplicates items in a python list\">stackoverflow.com/questions/5419204/&hellip;</a>  I have a list List = [&#39;A&#39;, &#39;B&#39;, &#39;A&#39;, &#39;C&#39;, &#39;E&#39;];   I want to get something like this: index 0: A    index 2: A  but in here instead of the 2, put 0 again..because its the same word..."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446498038, "post_id": 33485337, "comment_id": 54758297, "body": "So, since there&#39;s no code, can I assume you haven&#39;t tried anything yet? Are you looking for help with the algorithm?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446499059, "post_id": 33485337, "comment_id": 54758842, "body": "It sounds like you want to remove all duplicate elements except the first from an array, e.g. <code>(&#39;A&#39;, &#39;B&#39;, &#39;A&#39;, &#39;C&#39;, &#39;B&#39;)</code> -&gt; <code>(&#39;A&#39;, &#39;B&#39;, &#39;C&#39;)</code>. Is that right?"}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 0, "last_activity_date": 1446499868, "creation_date": 1446499868, "answer_id": 33487353, "question_id": 33485337, "link": "https://stackoverflow.com/questions/33485337/perl-put-the-same-index-to-duplicate-words-first-time-seen-word-index/33487353#33487353", "title": "PERL Put the same index to duplicate words. (first time seen word index)", "body": "<p>Assuming, given the string <code>\"_word word1 word1 word2 _word\"</code>, you want to come up with the array <code>(0,1,1,3,0)</code> -- for the first index of each word, then you could do:</p>\n\n<pre><code>$line = \"_word word1 word1 word2 _word\";\n@words = split \" \", $line;\n$first_index{$words[$_]} //= $_ for 0..$#words;\npush @indices, $first_index{$_} for @words;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5517157, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271293076229815/picture?type=large", "display_name": "Shinmi Benjamin", "link": "https://stackoverflow.com/users/5517157/shinmi-benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 33487353, "answer_count": 1, "score": -2, "last_activity_date": 1446499868, "creation_date": 1446492481, "question_id": 33485337, "link": "https://stackoverflow.com/questions/33485337/perl-put-the-same-index-to-duplicate-words-first-time-seen-word-index", "title": "PERL Put the same index to duplicate words. (first time seen word index)", "body": "<p>I have like a month with this problem. I want to check in my file all the words.</p>\n\n<p><code>EXAMPLE FILE:_word [0] word1 [1] word1 [2] word2 [3] _word [4]</code></p>\n\n<p>That will be the positions, but i want that if i see the word:_word in the position 0, put that position 0 to the word in the position 4 that is the same (\"_word\") duplicate. </p>\n\n<p>I have try a lot with this problem.</p>\n\n<p>I want to do something like this:</p>\n\n<p><code>EXAMPLE :_word [0] word1 [1] word1 [1] word2 [2] _word [0]</code></p>\n\n<p>The [number] are the positions.</p>\n"}, {"tags": ["perl", "selenium"], "comments": [{"owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446580103, "post_id": 33484391, "comment_id": 54799078, "body": "@ikegami I won&#39;t be using regular expression, I have reworded the question, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "is_accepted": false, "score": 0, "last_activity_date": 1446746138, "creation_date": 1446746138, "answer_id": 33551534, "question_id": 33484391, "link": "https://stackoverflow.com/questions/33484391/finding-an-element-from-a-drop-down-menu/33551534#33551534", "title": "Finding an element from a drop-down menu", "body": "<p>As stated previously, I want to select from a drop-down menu based on the 'BigBroLotXXXXXX'name which is from a variable. In the module's documentation there is a function called </p>\n\n<pre><code>$sel-&gt;get_select_options($select_locator)\n\nGets all option labels in the specified select drop-down.\n$select_locator is an element locator identifying a drop-down menu\nReturns an array of all option labels in the specified select drop-down. \n</code></pre>\n\n<p>So, I was able to know that all my choices from the drop-down menu was in an array.</p>\n\n<p>The function to select an element from a drop-down menu is:</p>\n\n<pre><code>$sel-&gt;select($select_locator, $option_locator)\n</code></pre>\n\n<p>The documentation for this module states that $option_locator can be:</p>\n\n<pre><code>label=labelPattern:matches options based on their labels\n\nlabel=regexp:^[Oo]ther\n\nvalue=valuePattern:matches options based on their values.\n\nid=id:matches options based on their ids.\n\nindex=index:matches an option based on its index (offset from zero).\n</code></pre>\n\n<p>First, I need to define the locator of where my array of choices are so I can feed it into the <code>get_select_options</code> function:</p>\n\n<pre><code>$locator = q{//select[@id=\"lot_id\" and @name=\"lot_id\"]};\n\nmy @array = $sel-&gt;get_select_options($locator);\n</code></pre>\n\n<p>For grins, I wanted to verify that @array did have choices in them:</p>\n\n<pre><code>Select an Available Lot\nBigBroLot1446130409 - 0g (100 credits to list)\nBigBroLot1446087714 - 0g (100 credits to list)\nBigBroLot1446665592 - 36g (100 credits to list)\nBigBroLot1446060974 - 0g (100 credits to list)\nBigBroLot1446668987 - 64g (100 credits to list)\n</code></pre>\n\n<p>As stated in the <code>$sel-select</code> function, I can find elements using indexes so I used that as my option_locator for the <code>$sel-&gt;select</code> function with the help of the <code>List::MoreUtils</code> module. For example lets say <code>$xyz = BigBroLot1446130409</code>    </p>\n\n<pre><code>use List::MoreUtils qw(first_index);\nuse 5.010;\nmy ($index) = grep { $array[$_] =~ /$xyz/ } (0 .. @array-1);\n</code></pre>\n\n<p>And here is the code that selected my element from a drop-down menu:</p>\n\n<pre><code>$locator = q{//select[@id=\"lot_id\" and @name=\"lot_id\"]};\n$ret = $sel-&gt;select($locator,\"index=$index\");\n</code></pre>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446746138, "creation_date": 1446488774, "last_edit_date": 1446580036, "question_id": 33484391, "link": "https://stackoverflow.com/questions/33484391/finding-an-element-from-a-drop-down-menu", "title": "Finding an element from a drop-down menu", "body": "<p>This is concerning WWW::Selenium module from Perl's CPAN. I'm having an issue finding <code>BigBroLot1446130409</code> in the HTML below. It is a drop down menu. </p>\n\n<p>Here is the HTML</p>\n\n<pre><code>&lt;select name=\"lot_id\" id=\"lot_id\" title=\"\"&gt;\n&lt;option value=\"\"&gt;Select an Available Lot&lt;/option&gt;\n\n\n&lt;option value=\"497\"&gt;\n  BigBroLot1446130409\n  - 0g\n  (100 credits to list)\n&lt;/option&gt;\n\n&lt;option value=\"500\"&gt;\n  BigBroLot1446133752\n  - 199g\n  (100 credits to list)\n&lt;/option&gt;\n</code></pre>\n\n<p>When I use this code, it actutally works.</p>\n\n<pre><code>$locator = q{//select[@id=\"lot_id\" and @name=\"lot_id\"]};\n$ret = $sel-&gt;wait_for_element_present($locator, $timeout);\n$ret = $sel-&gt;select($locator, \"value=497\"); \n</code></pre>\n\n<p>The code above works but in actual testing but I need to find the element based on text <code>BigBroLot1446130409</code> and not on <code>value=497</code>.</p>\n\n<pre><code>&lt;option value=\"497\"&gt;\n  BigBroLot1446130409\n  - 0g\n  (100 credits to list)\n&lt;/option&gt;\n</code></pre>\n\n<p>It is a drop-down menu so I think I need to use the following function from the documentation:</p>\n\n<pre><code>$sel-&gt;select($select_locator, $option_locator)\n</code></pre>\n\n<p>Any help will be greatly appreciated.</p>\n"}, {"tags": ["python", "windows", "perl", "unix", "virtual-machine"], "comments": [{"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "edited": false, "score": 1, "creation_date": 1446485477, "post_id": 33483315, "comment_id": 54751797, "body": "This would depend a lot on what virtualization software you use and how it&#39;s configured, none of which you mention. Also, a lot of the point of a VM is isolation from the outer environment, which means some things are simply not known to the virtualized OS and are difficult or impossible for it to determine."}, {"owner": {"reputation": 1942, "user_id": 969365, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1EnZd.png?s=128&g=1", "display_name": "simon", "link": "https://stackoverflow.com/users/969365/simon"}, "edited": false, "score": 0, "creation_date": 1446485621, "post_id": 33483315, "comment_id": 54751875, "body": "A simple but possibly incorrect way would be to use any of the &quot;what-is-my-ip&quot; services. Just fetch the page and parse it (or use an API if available). However, if the server is behind a NAT firewall/router you will get its IP-address and not the server&#39;s."}, {"owner": {"reputation": 25, "user_id": 5513177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d7bda0e4ab8ead3380927728938bf7?s=128&d=identicon&r=PG&f=1", "display_name": "UserB95", "link": "https://stackoverflow.com/users/5513177/userb95"}, "reply_to_user": {"reputation": 1942, "user_id": 969365, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1EnZd.png?s=128&g=1", "display_name": "simon", "link": "https://stackoverflow.com/users/969365/simon"}, "edited": false, "score": 0, "creation_date": 1446486379, "post_id": 33483315, "comment_id": 54752279, "body": "@gurka I forgot to mention : the computers are part of a private network..."}, {"owner": {"reputation": 25, "user_id": 5513177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d7bda0e4ab8ead3380927728938bf7?s=128&d=identicon&r=PG&f=1", "display_name": "UserB95", "link": "https://stackoverflow.com/users/5513177/userb95"}, "reply_to_user": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "edited": false, "score": 0, "creation_date": 1446486383, "post_id": 33483315, "comment_id": 54752281, "body": "@DanLowe Saying that the software is xming is good enough or should I give more info?"}, {"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "edited": false, "score": 0, "creation_date": 1446486647, "post_id": 33483315, "comment_id": 54752424, "body": "xming is an X11 window server system, that&#39;s not a virtualization engine. A VM would be inside something like vmware or virtualbox..."}, {"owner": {"reputation": 25, "user_id": 5513177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d7bda0e4ab8ead3380927728938bf7?s=128&d=identicon&r=PG&f=1", "display_name": "UserB95", "link": "https://stackoverflow.com/users/5513177/userb95"}, "reply_to_user": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "edited": false, "score": 0, "creation_date": 1446487574, "post_id": 33483315, "comment_id": 54752914, "body": "@DanLowe sorry for the ignorance  , I thought that xming was a VM. I know that I can google it , but can you explain why xming is not a VM (I am not familiar with the notion of X11 windows server system and the difference between it and a vm)"}], "answers": [{"tags": [], "owner": {"reputation": 375, "user_id": 4908717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31403efe795207f6058a1cd415fd4a46?s=128&d=identicon&r=PG&f=1", "display_name": "rootcss", "link": "https://stackoverflow.com/users/4908717/rootcss"}, "is_accepted": false, "score": 0, "last_activity_date": 1446487472, "last_edit_date": 1446487472, "creation_date": 1446487071, "answer_id": 33483916, "question_id": 33483315, "link": "https://stackoverflow.com/questions/33483315/get-ip-address-from-inside-a-virtual-machine/33483916#33483916", "title": "get IP address from inside a virtual machine", "body": "<p><strong>If your VM is using 'NAT' network settings:</strong> (which is also the default setting)<br> \nYou can find the IP of host machine by simply tracing the route of a website. For example, run the command:</p>\n\n<pre><code>traceroute http://www.anywebsite.com/\n</code></pre>\n\n<p>This will show you all the intermediate systems' IP between website and your VM, including the IP of your VM's host machine, as your traffic is passing through it.</p>\n\n<p><b>How to install?</b> <code>sudo apt-get install traceroute</code> (on ubuntu/debian based)</p>\n\n<p>Some similar tools on UNIX/Linux are: <code>traceroute, traceroute6, tracepath</code> </p>\n\n<p><strong>If you are using 'Bridged Adapater' network settings</strong>:<br>\nYou can use tools like, <a href=\"http://angryip.org/download/\" rel=\"nofollow\">Angry IP Scanner</a> and scan all IPs on your network. If not disabled by host, you will be able to get details of all systems, atleast basic and you can try determine your host. If only one system is there in the network, then, Bingo! You don't need to do much :)</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 5513177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d7bda0e4ab8ead3380927728938bf7?s=128&d=identicon&r=PG&f=1", "display_name": "UserB95", "link": "https://stackoverflow.com/users/5513177/userb95"}, "edited": false, "score": 0, "creation_date": 1446490496, "post_id": 33484649, "comment_id": 54754467, "body": "Thank you very much!! But actually I am trying to write a script in order to set $DISPLAY to the computer&#39;s IP address , because each time I connect to Xming he gives me a bad display address."}, {"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "reply_to_user": {"reputation": 25, "user_id": 5513177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d7bda0e4ab8ead3380927728938bf7?s=128&d=identicon&r=PG&f=1", "display_name": "UserB95", "link": "https://stackoverflow.com/users/5513177/userb95"}, "edited": false, "score": 0, "creation_date": 1452013376, "post_id": 33484649, "comment_id": 56979872, "body": "@UserB95 How do you connect to the server? SSH? If so, SSH is supposed to take care of that stuff for you, as long as you have the client configured properly. Otherwise, running &quot;who&quot; on the server will hopefully tell you what IP address you are coming from."}], "tags": [], "owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "is_accepted": false, "score": 0, "last_activity_date": 1446489827, "creation_date": 1446489827, "answer_id": 33484649, "question_id": 33483315, "link": "https://stackoverflow.com/questions/33483315/get-ip-address-from-inside-a-virtual-machine/33484649#33484649", "title": "get IP address from inside a virtual machine", "body": "<p>Moving from the comments into an answer...</p>\n\n<p>You have been asking about a VM running on your Windows PC, but it is not clear that you are even doing so. You seem to be using <a href=\"http://www.straightrunning.com/XmingNotes/\" rel=\"nofollow\">Xming</a>, which is an X11 server for Windows. That is not the same thing as a VM.</p>\n\n<p>Now, it is still possible you are using a VM. If you are, it would be running in a virtualization program, such as VMware, Oracle Virtualbox, or some other virtual machine software. It is difficult for us to know from this vantage point. If you are in a corporate environment, you can get a clear answer by asking your IT department.</p>\n\n<p>It seems more likely that you are using Xming to connect to another system which is running an X11 server. X11 allows you to display graphical UI from a remote computer onto your own computer. It is normally something you use with a Unix/Linux server. Probably this X11 server is on some other machine on your network, and not a VM on your PC.</p>\n\n<p>In which case the best advice I can offer is to look at the <code>$DISPLAY</code> variable on the Unix/Linux server, if you have a shell window open to it.</p>\n\n<pre><code>$ echo $DISPLAY\nDISPLAY=10.1.2.3:12345\n</code></pre>\n\n<p>That may show you the IP of your PC (probably followed by a port number), which X11 is connecting to for display. If you can't see that though, I'm not sure what else you can try.</p>\n"}], "owner": {"reputation": 25, "user_id": 5513177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d7bda0e4ab8ead3380927728938bf7?s=128&d=identicon&r=PG&f=1", "display_name": "UserB95", "link": "https://stackoverflow.com/users/5513177/userb95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 953, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1446508231, "creation_date": 1446484896, "last_edit_date": 1446508231, "question_id": 33483315, "link": "https://stackoverflow.com/questions/33483315/get-ip-address-from-inside-a-virtual-machine", "title": "get IP address from inside a virtual machine", "body": "<p>I am running a UNIX operating system via xming , and I am trying to figure out a way to write a script that will run from the Linux terminal and print the ip of the windows computer that is running the xming session.</p>\n\n<p>I don't even know if this is possible , but if it is I'll be glad for some help.</p>\n\n<p>By the way, the computer is in a private network and I am not allowed to install new software.</p>\n\n<p>p.s. : if there is a perl/python function that can help me it will be good enough.</p>\n"}, {"tags": ["linux", "perl", "cgi", "snmp", "mib"], "owner": {"reputation": 95, "user_id": 1230979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc55bc14da32978e3f4ff50b5a073bc?s=128&d=identicon&r=PG", "display_name": "cubicalmonkey", "link": "https://stackoverflow.com/users/1230979/cubicalmonkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446568805, "creation_date": 1446481484, "last_edit_date": 1446568805, "question_id": 33482261, "link": "https://stackoverflow.com/questions/33482261/perl-scripted-get-bulk-request-versus-command-line-snmpbulkget", "title": "Perl scripted get_bulk_request versus command line snmpbulkget", "body": "<p>I have a problem doing a get_bulk_request in a perl where its to not fully incrementing the last part of the OID.\nI suspect this is Arris not doing somethign properly but was wondering if anyone has encountered a similar situation and if they had any solutions to work around?\nRunning the snmpbulkget from the command line returns all the OIDs properly and it what I\u2019m hoping to accomplish in my perl script.</p>\n\n<pre><code>use Net::SNMP;\nuse Net::SNMP::Util;\nmy @testoid = ( 1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2 );\n\nmy ($snmp, $error) = Net::SNMP-&gt;session(\n    -hostname       =&gt; \"$host\",\n    -community      =&gt; \"$Community\",\n    -timeout   =&gt; 60, \n    -nonblocking =&gt; 1,\n    -debug =&gt; 0,\n    -maxmsgsize =&gt; 65535,\n    -version        =&gt; 'snmpv2c'\n);  \nif (!defined $snmp) {\n    print STDERR \"ERROR: %s.\\n\", $error;\n    exit 1;\n}   \n\nmy $ret = $snmp-&gt;get_bulk_request(\n    -callback       =&gt; [\\&amp; table_cb, {}],\n    -maxrepetitions =&gt; 10, \n    -varbindlist =&gt; [@testoid]\n);  \n\nsub table_cb {\n  my $everything  = shift;\n  print Dumper($everything);\n}\n</code></pre>\n\n<p>Print Dumper $everything Returns the following and doesn\u2019t jump from .10008 to .10101 so I\u2019m missing arrisRouterWPAPreSharedKey.10101  and arrisRouterWPAPreSharedKey.10102</p>\n\n<pre><code>'1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2.10001' =&gt; 'TopSecret',\n'1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2.10002' =&gt; 'BPP8EX50',\n'1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2.10003' =&gt; 'BPP8EX50',\n'1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2.10004' =&gt; 'BPP8EX50',\n'1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2.10005' =&gt; 'BPP8EX50',\n'1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2.10006\u2019 =&gt; 'BPP8EX50',\n'1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2.10007' =&gt; 'BPP8EX50',\n'1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2.10008\u2019 =&gt; 'BPP8EX50',\n</code></pre>\n\n<p>Running snmpbulkget from the command line off the same box, I return all the OIDs I\u2019m looking for.</p>\n\n<pre><code>snmpbulkget -v2c -mall -cpublic x.x.x.x  1.3.6.1.4.1.4115.1.20.1.1.3.26.1.2\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10001 = STRING: \u201cTopSecret\u201d\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10002 = STRING: \"BPP8EX50\"\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10003 = STRING: \"BPP8EX50\"\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10004 = STRING: \"BPP8EX50\"\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10005 = STRING: \"BPP8EX50\"\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10006 = STRING: \"BPP8EX50\"\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10007 = STRING: \"BPP8EX50\"\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10008 = STRING: \"BPP8EX50\"\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10101 = STRING: \u201cSuperTopSecret\u201d\nARRIS-ROUTER-DEVICE-MIB::arrisRouterWPAPreSharedKey.10102 = STRING: \"BPP8EX50\"\n</code></pre>\n"}, {"tags": ["perl", "system"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1446480501, "post_id": 33481887, "comment_id": 54748691, "body": "Typo: compare <code>sub prompt</code> to <code>promt (&quot;Source server address: &quot;);</code> (you&#39;re missing a <code>p</code>)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1446480628, "post_id": 33481887, "comment_id": 54748779, "body": "Also, you should <code>use strict;</code> in addition to <code>use warnings;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1446481012, "last_edit_date": 1446481012, "creation_date": 1446480665, "answer_id": 33481978, "question_id": 33481887, "link": "https://stackoverflow.com/questions/33481887/undefined-subroutine-mainpromt/33481978#33481978", "title": "Undefined subroutine &amp;main::promt", "body": "<p>From this error message:</p>\n\n<blockquote>\n  <p>Undefined subroutine &amp;main::promt called at migrate_mysql.pl line 26. </p>\n</blockquote>\n\n<p>You should look at line 26. Which is odd, because your error isn't on line 26, but here:</p>\n\n<pre><code>$source_address = promt (\"Source server address: \");\n</code></pre>\n\n<p>If I run your code I get:</p>\n\n<blockquote>\n  <p>Undefined subroutine &amp;main::promt called at line 9.</p>\n</blockquote>\n\n<p>You've got \"promt\" not \"prompt\" which is a subroutine that is undefined. </p>\n\n<p>You should really also add <code>use strict;</code> to your code, and then rejig it - it'll generate a lot more errors initially, but it'll avoid some real gotchas in future if you spell a variable incorrectly. </p>\n\n<p>It's quite easy in your code - just put <code>my</code> in front of the first use of a variable - you've been good with scoping otherwise, but otherwise it means that once you first use <code>$string_to_check</code> it remains visible to the rest of the program, which is just a bit messy and can lead to some odd bugs. </p>\n"}], "owner": {"reputation": 2081, "user_id": 1060010, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d5628921bd4a407f08b26b68399c941b?s=128&d=identicon&r=PG", "display_name": "Spaniard89", "link": "https://stackoverflow.com/users/1060010/spaniard89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1446481012, "creation_date": 1446480392, "question_id": 33481887, "link": "https://stackoverflow.com/questions/33481887/undefined-subroutine-mainpromt", "title": "Undefined subroutine &amp;main::promt", "body": "<p>I am sort of new to Perl. I was trying to write a script which will take a mysqldump and restore it in a new database. The main idea is to migrate a DB from one server to another.</p>\n\n<p>Here's the scrip that I wrote:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\n\nprint \"Starting the migration process!\\n\";\n\nprint \"Enter the source server address, make sure you enter the FQDN of the server\";\n$source_address = promt (\"Source server address: \");\ncheck_string($source_address);\nprint \"Enter the destination server address, make sure you enter the FQDN of the server\";\n$destination_address = promt (\"Destination server address:\");\ncheck_string($destination_address);\nprint \"Enter the Source server password for the root user\";\n$source_password = promt (\"Source server address:\");\ncheck_string($source_password);\nprint \"Enter the destination server password for the root user\";\n$destination_password = promt (\"Destination server address:\");\ncheck_string($destination_password);\n\n$current_dir = cwd();\n\nsystem(\"mysqldump --single-transaction -u root -p$source_password --force -h $source_address -A -R -E --triggers\n     --routines --max_allowed_packet=512M | gzip -c &gt;$current_dir/old_db_dump.sql\") or die \"system call to create Mysqldump failed: $?\";\n\nsystem(\"pt-show-grants -uroot -p$source_password -h $source_address &gt; $current_dir/old_grants.sql\") or die \"system call to create grant failed: $?\";\n\nsystem(\"mysql -u root -p$destination_password -h $destination_address &lt; $current_dir/old_db_dump.sql\") or die \"System call to import the sqldump failed: $?\";\n\nsystem(\"mysql -u root -p$destination_password -h $destination_address &lt; $current_dir/old_grants.sql\") or die \"System call to import the grants failed: $?\";\n\n# A function that checks if the passed string is null or not\nsub check_string{\n    $string_to_check = $_[0];\n    if ($string_to_check eq '') {\n    print \"The entered value is empty, the program will exit now, re-run the program\";\n    exit 0;\n    }\n}\n\nsub prompt {\n    my ($text) = @_;\n    print $text;\n\n    my $answer = &lt;STDIN&gt;;\n    chomp $answer;\n    return $answer;\n}\n</code></pre>\n\n<p>But when I try to execute the code, I end up with the following error:</p>\n\n<pre><code>Starting the migration process!\nUndefined subroutine &amp;main::promt called at migrate_mysql.pl line 26.\nEnter the source server address, make sure you enter the FQDN of the server\n</code></pre>\n\n<p>For writing the Prompt function, I followed the tutorial mentioned in the post here: <a href=\"http://perlmaven.com/subroutines-and-functions-in-perl\" rel=\"nofollow\">http://perlmaven.com/subroutines-and-functions-in-perl</a></p>\n\n<p>I do not know why am I getting this error here. Do I have to include some packages?</p>\n\n<p>Also it would be nice if you could comment on the system block of the code:</p>\n\n<pre><code>system(\"mysqldump --single-transaction -u root -p$source_password --force -h $source_address -A -R -E --triggers\n     --routines --max_allowed_packet=512M | gzip -c &gt;$current_dir/old_db_dump.sql\") or die \"system call to create Mysqldump failed: $?\";\n\nsystem(\"pt-show-grants -uroot -p$source_password -h $source_address &gt; $current_dir/old_grants.sql\") or die \"system call to create grant failed: $?\";\n\nsystem(\"mysql -u root -p$destination_password -h $destination_address &lt; $current_dir/old_db_dump.sql\") or die \"System call to import the sqldump failed: $?\";\n\nsystem(\"mysql -u root -p$destination_password -h $destination_address &lt; $current_dir/old_grants.sql\") or die \"System call to import the grants failed: $?\";\n</code></pre>\n\n<p>Am I doing it in the right way? Am I passing the variable values in a correct manner?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 2, "creation_date": 1446476831, "post_id": 33480667, "comment_id": 54746062, "body": "<a href=\"http://perlmaven.com/here-documents\" rel=\"nofollow noreferrer\">Here documents, or how to create multi-line strings in Perl</a>"}, {"owner": {"reputation": 73, "user_id": 4292404, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d032f0dc6cd49f4f41e994f5d113eceb?s=128&d=identicon&r=PG&f=1", "display_name": "Tong", "link": "https://stackoverflow.com/users/4292404/tong"}, "edited": false, "score": 0, "creation_date": 1446477121, "post_id": 33480667, "comment_id": 54746283, "body": "This is what I want! Thank you!"}, {"owner": {"reputation": 73, "user_id": 4292404, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d032f0dc6cd49f4f41e994f5d113eceb?s=128&d=identicon&r=PG&f=1", "display_name": "Tong", "link": "https://stackoverflow.com/users/4292404/tong"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1446477514, "post_id": 33480667, "comment_id": 54746573, "body": "@\u0421\u0443\u0445\u043e\u043927, there is an error &quot;space&quot; between &quot;&lt;&lt;&quot; and &quot;EOU&quot;. The correct vision is: $my = &lt;&lt;EOU;"}], "answers": [{"comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 1, "creation_date": 1446480063, "post_id": 33480720, "comment_id": 54748347, "body": "non-escapable?  You mean non-interpolating?  That would only be the cause if the heredoc label was enclosed in single quotes.  By default it&#39;s double-quoted."}], "tags": [], "owner": {"reputation": 3420, "user_id": 675723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f525203adb5093c5954b43a5b6420c2?s=128&d=identicon&r=PG", "display_name": "BadZen", "link": "https://stackoverflow.com/users/675723/badzen"}, "is_accepted": false, "score": 0, "last_activity_date": 1446476827, "creation_date": 1446476827, "answer_id": 33480720, "question_id": 33480667, "link": "https://stackoverflow.com/questions/33480667/how-to-understand-this-perl-multi-line-writing-command/33480720#33480720", "title": "How to understand this perl multi-line writing command", "body": "<p>Everything between &lt;&lt;EOU and EOU is a multi-line, non-escapable, string.  It's nothing fancy, think of them as start and end quote marks with nothing inside requiring escapes to be literally what you typed...</p>\n"}, {"tags": [], "owner": {"reputation": 6529, "user_id": 4252320, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-_DAs7Dtci9U/AAAAAAAAAAI/AAAAAAAAIf8/96ZNJAUF2Xk/photo.jpg?sz=128", "display_name": "ergonaut", "link": "https://stackoverflow.com/users/4252320/ergonaut"}, "is_accepted": true, "score": 3, "last_activity_date": 1582386052, "last_edit_date": 1582386052, "creation_date": 1446477417, "answer_id": 33480900, "question_id": 33480667, "link": "https://stackoverflow.com/questions/33480667/how-to-understand-this-perl-multi-line-writing-command/33480900#33480900", "title": "How to understand this perl multi-line writing command", "body": "<p>Essentially the syntax is allowing you to put anything unique as a marker so that it won't conflict with your contents.  You can do this:</p>\n\n<pre><code>$my = &lt;&lt;ABCDEFG;\nThis is an example.\nExample too.\n\nBLAH\nABCDEFG\n</code></pre>\n\n<p>Everything between \"This..\" and \"BLAH\" will be assigned to the variable. Note that you shouldn't have a space after the &lt;&lt; symbols otherwise you will get a syntax error.  It helps avoid adding CR characters, or append (.) everywhere, and useful when passing data into another application (eg. ftp session).  <a href=\"https://en.wikipedia.org/wiki/Here_document\" rel=\"nofollow noreferrer\">Here Documents</a> is the correct term for this.</p>\n"}], "owner": {"reputation": 73, "user_id": 4292404, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d032f0dc6cd49f4f41e994f5d113eceb?s=128&d=identicon&r=PG&f=1", "display_name": "Tong", "link": "https://stackoverflow.com/users/4292404/tong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 33480900, "answer_count": 2, "score": 0, "last_activity_date": 1582386052, "creation_date": 1446476698, "last_edit_date": 1446476863, "question_id": 33480667, "link": "https://stackoverflow.com/questions/33480667/how-to-understand-this-perl-multi-line-writing-command", "title": "How to understand this perl multi-line writing command", "body": "<p>I am trying to understand the perl commands below:</p>\n\n<pre><code>$my = &lt;&lt; EOU;\n\nThis is an example.\n\nExample too.\n\nEOU\n</code></pre>\n\n<p>What is the name of this way? Could somebody can explain more about this \"multi-line writing\" command? </p>\n"}, {"tags": ["regex", "perl", "pipe"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 2, "creation_date": 1446473910, "post_id": 33479695, "comment_id": 54744076, "body": "You mean  <code>perl -pe &quot;s&#47;(\\w+)&#47;,&#39;\\$1&#39;&#47;&quot;</code> ?"}, {"owner": {"reputation": 8972, "user_id": 288190, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b029e4b2ce362e4fc54a2456c5636c?s=128&d=identicon&r=PG", "display_name": "dr jerry", "link": "https://stackoverflow.com/users/288190/dr-jerry"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1446474034, "post_id": 33479695, "comment_id": 54744151, "body": "Thanks! if you make it an answer I can reward some points."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1446474812, "post_id": 33479695, "comment_id": 54744657, "body": "<a href=\"https://en.wikipedia.org/wiki/Cat_(Unix)#Useless_use_of_cat\" rel=\"nofollow noreferrer\">Useless use of cat.</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446478990, "post_id": 33479695, "comment_id": 54747595, "body": "<i>&quot;The proces can be mimicked by a cat&quot;</i> Are you saying it&#39;s so simple, even a cat can do it?!"}, {"owner": {"reputation": 8972, "user_id": 288190, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b029e4b2ce362e4fc54a2456c5636c?s=128&d=identicon&r=PG", "display_name": "dr jerry", "link": "https://stackoverflow.com/users/288190/dr-jerry"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446492766, "post_id": 33479695, "comment_id": 54755573, "body": "@Borodin that&#39;s Schr&#246;dinger&#39;s cat, you don&#39;t know what is in the file unless you cat it."}], "answers": [{"comments": [{"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "edited": false, "score": 0, "creation_date": 1446474383, "post_id": 33479801, "comment_id": 54744389, "body": "You &quot;don&#39;t need grep&quot;? More like &quot;you can&#39;t use grep&quot;."}, {"owner": {"reputation": 8972, "user_id": 288190, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b029e4b2ce362e4fc54a2456c5636c?s=128&d=identicon&r=PG", "display_name": "dr jerry", "link": "https://stackoverflow.com/users/288190/dr-jerry"}, "edited": false, "score": 1, "creation_date": 1446474425, "post_id": 33479801, "comment_id": 54744419, "body": "made a typo in the question should have been <code>cat lines.txt | perl -p</code>.. But the answer remains very valid."}, {"owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "reply_to_user": {"reputation": 8972, "user_id": 288190, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b029e4b2ce362e4fc54a2456c5636c?s=128&d=identicon&r=PG", "display_name": "dr jerry", "link": "https://stackoverflow.com/users/288190/dr-jerry"}, "edited": false, "score": 1, "creation_date": 1446475095, "post_id": 33479801, "comment_id": 54744885, "body": "@drjerry: Sure, I didn&#39;t mean the question - the answer was a bit misleading, though. But it&#39;s corrected now so it&#39;s all good :)"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1446474622, "last_edit_date": 1446474622, "creation_date": 1446474122, "answer_id": 33479801, "question_id": 33479695, "link": "https://stackoverflow.com/questions/33479695/perl-unexpected-token-in-regex/33479801#33479801", "title": "perl unexpected token in regex?", "body": "<p>A suitable <code>perl</code> command can be this:</p>\n\n<pre><code>perl -pe \"s/(\\w+)/,'\\$1'/\"\n</code></pre>\n\n<p>We need to escape <code>$</code> to avoid shell trying to interpret <code>$1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1446475552, "creation_date": 1446475552, "answer_id": 33480267, "question_id": 33479695, "link": "https://stackoverflow.com/questions/33479695/perl-unexpected-token-in-regex/33480267#33480267", "title": "perl unexpected token in regex?", "body": "<p>That error is from bad escaping. You also used <code>grep</code> when you meant to use <code>perl</code>, and you invovled <code>cat</code> where it wasn't needed.</p>\n\n<pre><code>perl -pe\"s/(\\w+)/,'\\$1'/\" lines.txt\n   -or-\nperl -pe's/(\\w+)/,'\\''$1'\\''/' lines.txt\n</code></pre>\n"}], "owner": {"reputation": 8972, "user_id": 288190, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b029e4b2ce362e4fc54a2456c5636c?s=128&d=identicon&r=PG", "display_name": "dr jerry", "link": "https://stackoverflow.com/users/288190/dr-jerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 33479801, "answer_count": 2, "score": 1, "last_activity_date": 1446492903, "creation_date": 1446473802, "last_edit_date": 1446492903, "question_id": 33479695, "link": "https://stackoverflow.com/questions/33479695/perl-unexpected-token-in-regex", "title": "perl unexpected token in regex?", "body": "<p>I've a unix process spitting out strings which needs to be surrounded with quotes and <code>,</code>'s. Perl was my favorite language sometime ago so I decided to use perl in combination with a pipe. The proces can be mimicked by a <code>cat</code> (i think). And I tried:</p>\n\n<pre><code>cat lines.txt | perl -pe s/(\\w+)/,\\'$1\\'/\n</code></pre>\n\n<p>Which gives <code>syntax error near unexpected token '('</code> conform the error in the real life scenario\nlines.txt looks like:</p>\n\n<pre><code>A\nB\nC\nD\n</code></pre>\n\n<p>What's wrong?</p>\n"}, {"tags": ["php", "xml", "perl", "soap"], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "edited": false, "score": 0, "creation_date": 1446626893, "post_id": 33477553, "comment_id": 54816503, "body": "Thanks, I tried to change the prefix (and also many other things) - this didn&#39;t help. I just can&#39;t generate XML that doesn&#39;t break the data format. Maybe some other time I&#39;ll spend a day or two to learn thoroughly this Perl module, but just now I already have perfectly working out-of-the-box solution in PHP. I&#39;ll just call the php script from Perl code."}], "tags": [], "owner": {"reputation": 65694, "user_id": 330280, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/CcQGn.jpg?s=128&g=1", "display_name": "aleroot", "link": "https://stackoverflow.com/users/330280/aleroot"}, "is_accepted": false, "score": 1, "last_activity_date": 1446467185, "creation_date": 1446467185, "answer_id": 33477553, "question_id": 33476094, "link": "https://stackoverflow.com/questions/33476094/perl-soaplite-fix-xml-to-be-compatible-with-generated-by-php-soapclient/33477553#33477553", "title": "Perl SOAP::Lite fix XML to be compatible with generated by PHP SoapClient", "body": "<p>You have to just change the prefix of the xml accordingly with your specification, take a look at similar question <a href=\"http://www.perlmonks.org/?node_id=701217\" rel=\"nofollow\">here</a> for more information .</p>\n\n<p>To solve you particular problem I think you only need to put the following code at the very begining of your code (before setting the wsdl in SOAP::Lite) :</p>\n\n<pre><code>$SOAP::Constants::PREFIX_ENV = 'SOAP-ENV';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1446647589, "creation_date": 1446647589, "answer_id": 33524500, "question_id": 33476094, "link": "https://stackoverflow.com/questions/33476094/perl-soaplite-fix-xml-to-be-compatible-with-generated-by-php-soapclient/33524500#33524500", "title": "Perl SOAP::Lite fix XML to be compatible with generated by PHP SoapClient", "body": "<p>Code with SOAP::Lite is quite simple:</p>\n\n<pre><code>$uri = 'http://example.test';\n$proxy = 'https://www.just-example.test/dir/JustTest/Service.asmx';\n\n$client = SOAP::Lite-&gt;new(\n              uri   =&gt; $uri,\n              proxy =&gt; $proxy,\n             );\n\n$client-&gt;autotype(0);\n$client-&gt;readable(1);\n$client-&gt;ns($uri,'ns1');\n$client-&gt;envprefix('SOAP-ENV');\n\n$params = SOAP::Data-&gt;name(TestParam =&gt; 0)-&gt;prefix('ns1');\n\n$data = $client-&gt;ExampleMethod($params);\n</code></pre>\n"}], "owner": {"reputation": 611, "user_id": 3714435, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e62c30ed03cdbecf6cc187f6a0948a89?s=128&d=identicon&r=PG&f=1", "display_name": "a1111exe", "link": "https://stackoverflow.com/users/3714435/a1111exe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446647589, "creation_date": 1446462148, "question_id": 33476094, "link": "https://stackoverflow.com/questions/33476094/perl-soaplite-fix-xml-to-be-compatible-with-generated-by-php-soapclient", "title": "Perl SOAP::Lite fix XML to be compatible with generated by PHP SoapClient", "body": "<p>How can I make SOAP::Lite produce XML like PHP SoapClient does?</p>\n\n<p>Example</p>\n\n<p>Perl code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse SOAP::Lite on_action =&gt; sub{sprintf '%s', $_[0]};\nSOAP::Lite-&gt;import(+trace =&gt; \"all\");\nmy $client =  SOAP::Lite-&gt;new;\n\n$client-&gt;service(\"https://www.just-example.test/dir/JustTest/Service.asmx?WSDL\");\n$client-&gt;proxy(\"https://www.just-example.test/dir/JustTest/Service.asmx\");\n$client-&gt;uri(\"http://example.test/ExampleMethod\");\n\nmy %params = (\n    'TestParam' =&gt; \"\",\n     );\n$client-&gt;ExampleMethod(\\%params);\n</code></pre>\n\n<p>XML that is sent by the Perl code (seems to be <strong>not</strong> compatible with the service):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"\n    xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"\n    xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\"\n    xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n    &lt;soap:Body&gt;\n        &lt;ExampleMethod\n            xmlns=\"http://example.test/ExampleMethod\"&gt;\n            &lt;c-gensym3&gt;\n                &lt;TestParam xsi:type=\"xsd:string\" /&gt;\n            &lt;/c-gensym3&gt;\n        &lt;/ExampleMethod&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>PHP code:</p>\n\n<pre><code>&lt;?php\n$client = new SoapClient(\"https://www.just-example.test/dir/test/JustTest/Service.asmx?WSDL\",\n        array(\n        'trace' =&gt; 1,\n        'uri' =&gt; \"http://example.test/ExampleMethod\"\n\n         )\n);\n$params = array (\n    'TestParam' =&gt; \"\"\n        );\n\n$response = $client-&gt;ExampleMethod($params);\n\necho $client-&gt;__getLastRequest() . \"\\n\";\n\nvar_dump($response);\n</code></pre>\n\n<p>XML that is sent by the PHP code (seems to be compatible with the service):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;SOAP-ENV:Envelope\n    xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"\n    xmlns:ns1=\"http://example.test/\"&gt;\n    &lt;SOAP-ENV:Body&gt;\n        &lt;ns1:ExampleMethod&gt;\n            &lt;ns1:TestParam&gt;0&lt;/ns1:TestParam&gt;\n        &lt;/ns1:ExampleMethod&gt;\n    &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl", "utf-8"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446459940, "post_id": 33475249, "comment_id": 54736065, "body": "apply your <code>tr</code> to only the first character?"}, {"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "edited": false, "score": 0, "creation_date": 1446460350, "post_id": 33475249, "comment_id": 54736288, "body": "This shouldn&#39;t happen, see <code>perldoc -f read</code> <i>Note the characters: ...By default all filehandles operate on on bytes, but...if the filehandle has been opened with the &quot;:utf8&quot; I/O layer the I/O will operate on UTF-8 encoded Unicode characters, not bytes</i>  Please give a minimal example of this happening"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446469879, "post_id": 33475249, "comment_id": 54741546, "body": "That <code>tr</code> strips out at least 29 valid characters!!!!"}], "answers": [{"comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1446478218, "post_id": 33478121, "comment_id": 54747052, "body": "<code>s&#47;^\\x80+&#47;&#47;</code>? That&#39;s not how UTF-8 works. Continuation bytes can be stripped with <code>s&#47;^[\\x80-\\xBF]+&#47;&#47;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1446487954, "post_id": 33478121, "comment_id": 54753120, "body": "@nwellnhof, ack! of course! (I knew that, as evidenced by my Answer to the linked question.) Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1446487924, "last_edit_date": 1495540316, "creation_date": 1446468991, "answer_id": 33478121, "question_id": 33475249, "link": "https://stackoverflow.com/questions/33475249/perl-how-to-avoid-regex-utf-8-errors-when-reading-from-middle-of-file/33478121#33478121", "title": "Perl: How to avoid regex UTF-8 errors when reading from middle of file", "body": "<p>Read the stream as bytes, strip out partial characters at the start, determine where the last full character ends, then decode what's left.</p>\n\n<pre><code>use Encode qw( STOP_AT_PARTIAL );\nuse Fcntl  qw( SEEK_TO );\n\nmy $encoding = Encode::find_encoding('UTF-8');\n\nopen(my $FILE, '&lt;:raw', $file) or die $!;\nseek($FILE, $readFrom, SEEK_TO) or die $!;\nmy $bytes_read = read($FILE, my $buf, $size);\ndefined($bytes_read) or die $!;\n\n$buf =~ s/^[\\x80-\\xBF]+//;\n\nmy $str = $encoding-&gt;decode($buf, STOP_AT_PARTIAL);\n</code></pre>\n\n<p>If you want to read more, use the 4-arg form of <code>read</code>, and don't skip anything at the start this time.</p>\n\n<pre><code>my $bytes_read = read($FILE, $buf, $size, length($buf));\ndefined($bytes_read) or die $!;\n\n$str .= $encoding-&gt;decode($buf, STOP_AT_PARTIAL);\n</code></pre>\n\n<p>Related reading: <a href=\"https://stackoverflow.com/q/31504252/589924\">Convert UTF-8 byte stream to Unicode</a></p>\n"}], "owner": {"reputation": 608, "user_id": 446791, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/70c6f3fb00de2f9cbb1395db41c50eb1?s=128&d=identicon&r=PG", "display_name": "W3Coder", "link": "https://stackoverflow.com/users/446791/w3coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 930, "favorite_count": 0, "accepted_answer_id": 33478121, "answer_count": 1, "score": 2, "last_activity_date": 1446487924, "creation_date": 1446459290, "last_edit_date": 1495540316, "question_id": 33475249, "link": "https://stackoverflow.com/questions/33475249/perl-how-to-avoid-regex-utf-8-errors-when-reading-from-middle-of-file", "title": "Perl: How to avoid regex UTF-8 errors when reading from middle of file", "body": "<p>Reading a utf8 encoded file after seek as in <code>open(FILE, '&lt;:utf8', $file) or die; seek(FILE, $readFrom, 0); read(FILE, $_, $size);</code> sometimes \"breaks up\" a unicode char so the beginning of the read string is not valid UTF-8.</p>\n\n<p>If you then do e.g. <code>s{^([^\\n]*\\r?\\n)}{}i</code> to strip the incomplete first line, you get \"Malformed UTF-8 character (fatal)\" errors.</p>\n\n<p>How to fix this?</p>\n\n<p>One solution, listed in <a href=\"https://stackoverflow.com/questions/6234386/how-do-i-sanitize-invalid-utf-8-in-perl\">How do I sanitize invalid UTF-8 in Perl?</a> is to remove all invalid UTF-8 chars:</p>\n\n<pre><code>tr[\\x{9}\\x{A}\\x{D}\\x{20}-\\x{D7FF}\\x{E000}-\\x{FFFD}\\x{10000}-\\x{10FFFF}][]cd;\n</code></pre>\n\n<p>However, to search the entire string seems like overkill, as it is only the first byte(s) in the read string that can be broken.</p>\n\n<p>Can anyone suggest a way to strip only an initial invalid char (or make the above substitution not die on malformed UTF-8)?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "edited": false, "score": 1, "creation_date": 1446458509, "post_id": 33474982, "comment_id": 54735241, "body": "Use <code>grep</code> on the array?"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1446459001, "post_id": 33475066, "comment_id": 54735557, "body": "<code>any</code> from <a href=\"http://perldoc.perl.org/List/Util.html#any\" rel=\"nofollow noreferrer\">List::Util</a> is better for large arrays since it will return as soon as a match is found; <code>grep</code> will loop through every single array element no matter what."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1446459317, "post_id": 33475066, "comment_id": 54735738, "body": "@ThisSuitIsBlackNot Would you please send your comment as a answer?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 2, "creation_date": 1446459613, "post_id": 33475066, "comment_id": 54735925, "body": "@Royeh No, because it has already been used in answers on at least 3 duplicate questions: <a href=\"http://stackoverflow.com/q/720482/176646\">stackoverflow.com/q/720482/176646</a>, <a href=\"http://stackoverflow.com/q/4570650/176646\">stackoverflow.com/q/4570650/176646</a>, <a href=\"http://stackoverflow.com/q/2860226/176646\">stackoverflow.com/q/2860226/176646</a>. No reason to add it here, too."}], "tags": [], "owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "is_accepted": false, "score": 1, "last_activity_date": 1446458880, "last_edit_date": 1446458880, "creation_date": 1446458668, "answer_id": 33475066, "question_id": 33474982, "link": "https://stackoverflow.com/questions/33474982/if-at-least-one-element-of-array-in-perl/33475066#33475066", "title": "if at least one element of array in Perl", "body": "<p>Something like</p>\n\n<pre><code>my @array = qw (hi bye you shadow hi);\nmy $hi_count = scalar(grep {$_ eq 'hi'} @array);\nprint $hi_count;\n</code></pre>\n\n<p>This will print <code>2</code> as there are two words that equal <code>hi</code>.</p>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "closed_date": 1446460115, "answer_count": 1, "score": -1, "last_activity_date": 1446458880, "creation_date": 1446458392, "question_id": 33474982, "link": "https://stackoverflow.com/questions/33474982/if-at-least-one-element-of-array-in-perl", "closed_reason": "Duplicate", "title": "if at least one element of array in Perl", "body": "<p>Maybe my question is really easy, but I would like to know the best way and efficient one.</p>\n\n<p>Let's we have an array of strings and we want to compare it with another string.\nsay,</p>\n\n<pre><code>my @array = {\"hi\",\"bye\",\"you\",\"shadow\", \"hi\"}\n</code></pre>\n\n<p>Now I want to check if at least one element of the array equals <code>hi</code> then there is some condition.\nMay I know your idea about it. I know that within a <code>for</code> loop one could do it easily, but Would you would suggest as a good one?</p>\n"}, {"tags": ["perl", "copy", "move"], "comments": [{"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1446454536, "post_id": 33473503, "comment_id": 54732949, "body": "You&#39;re giving the mv and/or cp command(s) the wrong arguments. Which is in no way whatsoever a Perl problem."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1446454630, "post_id": 33473503, "comment_id": 54732990, "body": "I suspect your <code>$source</code> is it a directory or file?"}, {"owner": {"reputation": 105, "user_id": 2952191, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/32715312773be0b2ae7cf54ed78ed9b4?s=128&d=identicon&r=PG&f=1", "display_name": "Darius", "link": "https://stackoverflow.com/users/2952191/darius"}, "edited": false, "score": 0, "creation_date": 1446454795, "post_id": 33473503, "comment_id": 54733066, "body": "both     <code>$source</code> and      <code>$destination</code> are folder in format of &quot;User/Desktop/somefolder/ So what would be the right arguments? I tried to read the variables with print() and it gives the right output"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1446456808, "post_id": 33473503, "comment_id": 54734207, "body": "I bet <code>$source</code> has a newline at the end."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1446475490, "last_edit_date": 1446475490, "creation_date": 1446470246, "answer_id": 33478541, "question_id": 33473503, "link": "https://stackoverflow.com/questions/33473503/copy-move-files-with-perl/33478541#33478541", "title": "Copy/move files with perl", "body": "<p>Instead of executing </p>\n\n<pre><code>cp -r source destination\n</code></pre>\n\n<p>You are executing</p>\n\n<pre><code>cp -r source\ndestination\n</code></pre>\n\n<p><code>$source</code> appears to contain a trailing newline. Adding <code>chomp($source);</code> is probably the correct fix.</p>\n\n<hr>\n\n<p>By the way, you aren't building your shell command correctly. You should be using the following:</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $shell_cmd = shell_quote(\"cp\", \"-r\", \"--\", $source, $destination);\nsystem($shell_cmd);\n</code></pre>\n\n<p>That said, there's no reason to involve a shell at all, so you should be using the following:</p>\n\n<pre><code>system(\"cp\", \"-r\", \"--\", $source, $destination)\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 2952191, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/32715312773be0b2ae7cf54ed78ed9b4?s=128&d=identicon&r=PG&f=1", "display_name": "Darius", "link": "https://stackoverflow.com/users/2952191/darius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1708, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446475490, "creation_date": 1446453157, "last_edit_date": 1446453484, "question_id": 33473503, "link": "https://stackoverflow.com/questions/33473503/copy-move-files-with-perl", "title": "Copy/move files with perl", "body": "<p>I have a problem with copying/moving files with perl.\nI want to move a directory with sub-directories into an other directory. Both are given in absolute paths.<br>\nWhat I do is:</p>\n\n<pre><code>system(\"mv $source $destination\")  \n</code></pre>\n\n<p>where <code>$source</code> and <code>$destination</code> are my source and destination folders.</p>\n\n<p>I also tried it with:</p>\n\n<pre><code>system(\"cp -r $source $destination\")  \n</code></pre>\n\n<p>and with all possible options, but every time I try it gives me the following output:</p>\n\n<pre><code>sh: line 1: $destination: is a directory\n</code></pre>\n\n<p>where the <code>$destination</code> is my destination path.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "edited": false, "score": 0, "creation_date": 1446597500, "post_id": 33472395, "comment_id": 54806985, "body": "Odd switcharoo <code>+</code> vs <code>&#47;g</code> here.  For the first case (the OP&#39;s), I&#39;d prefer <code>s&#47;(\\w)&#47;\\u$1&#47;</code>; the <code>+</code> is not just extraneous, it might be wasteful.  For the &quot;all the characters&quot; case, I&#39;d prefer <code>s&#47;(\\w+)&#47;\\U$1&#47;g</code> (note <code>\\U</code>, not <code>\\u</code>); here the lack of <code>+</code> might be wasteful. :)"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1446448304, "creation_date": 1446448304, "answer_id": 33472395, "question_id": 33472205, "link": "https://stackoverflow.com/questions/33472205/subsitution-command-in-perl-regex/33472395#33472395", "title": "Subsitution command in Perl regex?", "body": "<p><code>\\u</code> turns next following character to uppercase. So it will change first character in your captured string to uppercase.</p>\n\n<p>So for example:</p>\n\n<pre><code>my $string=\"hello\";\n$string =~ s/(\\w+)/\\u$1/;\n</code></pre>\n\n<p>will give you output <code>Hello</code>.If you wish to change all the characters to uppercase then you should try</p>\n\n<pre><code>$string =~ s/(\\w)/\\u$1/g;\n</code></pre>\n\n<p>This is documented in <a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow\">perlre under Escape sequences</a></p>\n\n<blockquote>\n  <p>\\u          uppercase next char (think vi)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1446448527, "creation_date": 1446448527, "answer_id": 33472455, "question_id": 33472205, "link": "https://stackoverflow.com/questions/33472205/subsitution-command-in-perl-regex/33472455#33472455", "title": "Subsitution command in Perl regex?", "body": "<p><code>\\u$1</code> allows to upper-case the first charter grouped pattern. <a href=\"http://perldoc.perl.org/perlreref.html\" rel=\"nofollow\">See Here </a></p>\n\n<blockquote>\n  <p>\\u  Titlecase next character </p>\n</blockquote>\n\n<pre><code>my $string = \"stack overflow\";\n$string =~m/(\\w+)/\\u$1/g; \n# Stack Overflow\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 3176679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03ba182201e026f8e9118177c831b862?s=128&d=identicon&r=PG&f=1", "display_name": "user3176679", "link": "https://stackoverflow.com/users/3176679/user3176679"}, "edited": false, "score": 0, "creation_date": 1446448813, "post_id": 33472461, "comment_id": 54730456, "body": "thanks alot . what it will print if I will write $2 instead of $1. Can you please elaborate more on $n."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 3, "user_id": 3176679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03ba182201e026f8e9118177c831b862?s=128&d=identicon&r=PG&f=1", "display_name": "user3176679", "link": "https://stackoverflow.com/users/3176679/user3176679"}, "edited": false, "score": 0, "creation_date": 1446448979, "post_id": 33472461, "comment_id": 54730521, "body": "It will not print anything. <i>capturing group</i> is first parenthesis <code>()</code> is $1, second is $2 and so on. Please see the linked doc. For more you can have a look on <a href=\"http://perldoc.perl.org/perlre.html#Warning-on-%5C1-Instead-of-%241\" rel=\"nofollow noreferrer\">perlre</a> also."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1446448562, "creation_date": 1446448562, "answer_id": 33472461, "question_id": 33472205, "link": "https://stackoverflow.com/questions/33472205/subsitution-command-in-perl-regex/33472461#33472461", "title": "Subsitution command in Perl regex?", "body": "<p>The <code>$n</code> variables contain the parts of the string that matched the <strong>capturing groups</strong> in the pattern for last regex match if the match was successful.</p>\n\n<pre><code>$string =~ s/(\\w+)/\\u$1/g;\n</code></pre>\n\n<p>In above example string will replace with capture group and every first word of string will replace with uppercase <code>\\u</code>.</p>\n\n<p>See this:</p>\n\n<pre><code>my $string = 'foo bar';\n$string =~ s/(\\w+)/\\u$1/g;\nprint $1, \"\\n\";\nprint $string, \"\\n\";\n</code></pre>\n\n<p>If you print the <code>$1</code>, it will show the capture group.</p>\n\n<p>Output:</p>\n\n<pre><code>bar\nFoo Bar\n</code></pre>\n\n<p>See all first character changed with uppercase.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrequick.html#Grouping-things-and-hierarchical-matching\" rel=\"nofollow\">perlrequick</a> for more details about <em>capturing group</em>.</p>\n"}], "owner": {"reputation": 3, "user_id": 3176679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03ba182201e026f8e9118177c831b862?s=128&d=identicon&r=PG&f=1", "display_name": "user3176679", "link": "https://stackoverflow.com/users/3176679/user3176679"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 33472395, "answer_count": 3, "score": 0, "last_activity_date": 1446448810, "creation_date": 1446447333, "last_edit_date": 1446448810, "question_id": 33472205, "link": "https://stackoverflow.com/questions/33472205/subsitution-command-in-perl-regex", "title": "Subsitution command in Perl regex?", "body": "<pre><code>$string =~ s/(\\w+)/\\u$1/g;\n</code></pre>\n\n<p>I am unable to understand what  <code>\\u$1</code> is doing in above command.<br>\nPlease help me.</p>\n"}, {"tags": ["xml", "perl", "xml-libxml"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446470547, "post_id": 33472117, "comment_id": 54741963, "body": "Re &quot;XML::LibXML-&gt;load: specify location, string, or IO at 8.pl line 144.&quot;, There aren&#39;t 144 lines in that program. Please post the output you actually got!!!!"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446475802, "post_id": 33472117, "comment_id": 54745354, "body": "@ikegami Now I have added the whole code!!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446475839, "post_id": 33472117, "comment_id": 54745381, "body": "You made things worse! Use the <i>minimal</i> amount of code to demonstrate your problem, and your output still doesn&#39;t match up with the code you posted."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446476365, "post_id": 33472117, "comment_id": 54745738, "body": "There was an edition by another person and then it is not the exact line which I have written."}], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1446471564, "post_id": 33472860, "comment_id": 54742568, "body": "Thanks for your answer. Well, I am sure it works fine and now you may find the whole code as edited version!!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1446534678, "last_edit_date": 1446534678, "creation_date": 1446450415, "answer_id": 33472860, "question_id": 33472117, "link": "https://stackoverflow.com/questions/33472117/error-xmllibxml-load-specify-location-string-or-io-at-8-pl-line-144/33472860#33472860", "title": "ERROR: XML::LibXML-&gt;load: specify location, string, or IO at 8.pl line 144", "body": "<h3>Update</h3>\n\n<p>I apologise. I thought I had answered this question since you updated it with your full code. I guess I typed it up and discarded it by mistake</p>\n\n<p>The problem is that the line</p>\n\n<pre><code>my @testFile = &lt;*.xml&gt;\n</code></pre>\n\n<p>is executed <em>before</em> your <code>chdir</code> to the directory. To fix it, just move that line to <em>after</em> the <code>chdir</code> within the subroutine</p>\n\n<p>And while we're at it, you are passing the directory path to the subroutine but not using it. You should write something like</p>\n\n<pre><code>my ($dir) = @_;\nchdir $dir;\nmy @testFile = &lt;*.xml&gt;;\n</code></pre>\n\n<p>You should also <code>use autodie</code> at the top of the program, which will automatically catch any errors from file IO like <code>open</code>, <code>close</code>, <code>chdir</code> etc. Without you having to code <code>or die $!</code> on each one</p>\n\n<h2><br/></h2>\n\n<h3>Original response</h3>\n\n<blockquote>\n  <p>If I put all XML files in the same folder as perl code is then works great</p>\n</blockquote>\n\n<p>For a number of reasons, I don't think the code you have posted can work at all, regardless of where you place the XML data file. Here are some things you need to fix</p>\n\n<ul>\n<li><p>You don't <code>use XML::Writer</code> anywhere</p></li>\n<li><p>You don't call <code>WriteXML</code></p></li>\n<li><p>The error is on line 144 of your program, but that code is only thirty lines long</p></li>\n<li><p>You open <code>test.xml</code> for output but never close it, so the data is probably not written to the file before you read it with <code>XML::LibXML</code></p></li>\n<li><p>The data you are writing is just <code>&lt;Summary&gt;&lt;test name=\"test\"&gt;</code> with no closing tags, so it would be an invalid XML file</p></li>\n<li><p>Even if your data <em>was</em> written and the elements were closed properly, your code then looks for the XPath <code>/sr:SquishReport/sr:test/sr:test</code> which is nothing like the data in the file so it will fail</p></li>\n</ul>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 418, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1446534678, "creation_date": 1446446861, "last_edit_date": 1495539849, "question_id": 33472117, "link": "https://stackoverflow.com/questions/33472117/error-xmllibxml-load-specify-location-string-or-io-at-8-pl-line-144", "title": "ERROR: XML::LibXML-&gt;load: specify location, string, or IO at 8.pl line 144", "body": "<p>I am using the first answer to <a href=\"https://stackoverflow.com/questions/33370690/extracting-data-from-an-xml-document-that-uses-namespaces\"><em>Extracting data from an XML document that uses namespaces</em></a> to create an XML file using Perl.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse XML::LibXML;\nuse XML::Simple;\nuse XML::LibXML::XPathContext qw( );\nuse XML::Writer;\nuse IO::File;\nuse File::Copy;\nuse List::Util;\n\n###****************************************************************\n\nmy $dir   = \"D:/XML\";\nmy $count = 0;\nmy $entry;\nmy $case;\nmy $xmlFile;\nmy $case_entry;\nmy $entry_name;\nmy $result;\nmy $value_result;\nmy $value_result_end;\nmy $type_result;\nmy @testFile = &lt;*.xml&gt;;\nmy $arrSize  = @testFile;\nmy @testCase;\nmy $testCasesize = @testCase;\nmy @test_result;\nmy $test_resultsize = @test_result;\n\n#################################################################################\n\nsub WriteXML {\n\n    chdir( $dir ) or die \"Couldn't go inside $dir directory, $!\";\n    opendir( my $dh, $dir ) or die \"$0: $dir: $!\\n\";\n\n    ###****************************************************************\n\n    my $output = IO::File-&gt;new( \"&gt;test.xml\" );\n    my $writer = XML::Writer-&gt;new( OUTPUT =&gt; $output );\n    $writer-&gt;xmlDecl( 'utf-8' );\n    $writer-&gt;pi( 'xml-stylesheet', 'type=\"text/xsl\"   href=\"file:///D:/XML/xml2html_new.xslt\"' );\n    $writer-&gt;startTag( \"Summary\" );\n    $writer-&gt;characters( \"\\n\" );\n    $writer-&gt;startTag( \"test\", \"name\" =&gt; \"Test_tst\" );\n    $writer-&gt;characters( \"\\n\" );\n\n    ###****************************************************************\n\n    my $xpc = XML::LibXML::XPathContext-&gt;new();\n    $xpc-&gt;registerNs( sr =&gt; 'http://www.froglogic.com/XML2' );\n\n    my $doc = XML::LibXML-&gt;load_xml( location =&gt; $testFile[0] );\n\n    for $entry ( $xpc-&gt;findnodes( '/sr:SquishReport/sr:test/sr:test', $doc ) ) {\n        $testCase[$count] = $entry-&gt;getAttribute( 'name' );\n        $count = $count + 1;\n    }\n\n    for $case ( @testCase ) {\n\n        $writer-&gt;startTag( \"test\", \"name\" =&gt; \"$case\" );\n        $writer-&gt;characters( \"\\n\" );\n\n        for $xmlFile ( @testFile ) {\n\n            my $docFile   = XML::LibXML-&gt;load_xml( location =&gt; $xmlFile );\n            my $attribute = qq(\\@name=\"$case\");\n            my $num       = 0;\n\n            for $case_entry ( $xpc-&gt;findnodes( \"//sr:SquishReport/sr:test/sr:test[$attribute]/sr:verification/sr:result\", $docFile ) ) {\n\n                $type_result = $case_entry-&gt;findvalue( '@type' );\n\n                if ( ( $type_result eq \"FAIL\" ) || ( $type_result eq \"ERROR\" ) || ( $type_result eq \"FATAL\" ) ) {\n                    $value_result = \"NotOK\";\n                }\n                elsif ( ( $type_result eq \"PASS\" ) ) {\n                    $value_result = \"OK\";\n                }\n                elsif ( $type_result eq \"WARNING\" ) {\n                    $value_result = \"WARR\";\n                }\n                else {\n                    $value_result = \"UNDEF\";\n                }\n\n                $test_result[$num] = $value_result;\n                $num = $num + 1;\n            }\n\n            if ( @test_result == grep { $_ eq \"OK\" } @test_result ) {\n                $value_result_end = \"OK\";\n            }\n            elsif ( grep { $_ eq 'NotOK' } @test_result ) {\n                $value_result_end = \"NotOK\";\n            }\n            elsif ( grep { ( $_ eq 'WARR' ) } @test_result ) {\n                $value_result_end = \"WARR\";\n            }\n            else {\n                $value_result_end = \"UNDEF\";\n            }\n\n            # print \"$value_result_end\";\n            $writer-&gt;startTag( \"result\", \"state\" =&gt; \"$value_result_end\" );\n            $writer-&gt;characters( \"\\n\" );\n            $writer-&gt;startTag( \"description\", \"href\" =&gt; \"$xmlFile\" );\n            $writer-&gt;characters( \"\\n\" );\n            $writer-&gt;startTag( \"description\" );\n            $writer-&gt;characters( \"\\n\" );\n            $writer-&gt;cdata( $xmlFile );\n            $writer-&gt;characters( \"\\n\" );\n            $writer-&gt;endTag( \"description\" );\n            $writer-&gt;endTag( \"description\" );\n            $writer-&gt;endTag( \"result\" );\n        }\n\n        $writer-&gt;endTag( \"test\" );\n        $writer-&gt;characters( \"\\n\" );\n    }\n\n    ###****************************************************************\n\n    $writer-&gt;endTag( \"test\" );\n    $writer-&gt;characters( \"\\n\" );\n    $writer-&gt;endTag( \"Summary\" );\n    $writer-&gt;end();\n    $output-&gt;close();\n}\n\n###****************************************************************\n\n&amp;WriteXML( $dir );\nsystem( \"summary.xml\" );\n</code></pre>\n\n<p>As it is mentioned, the directory for reading XML files is another drive (here <code>D:\\</code>). If I put all XML files in the same folder where Perl code is then works great but otherwise I have the error:</p>\n\n<blockquote>\n  <p>Could not create file parser context for file \"test.xml\": Inappropriate I/O control operation at test.pl line 46.</p>\n</blockquote>\n\n<p>Would you please let me know where I am missing something that causes error?</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1446447546, "post_id": 33472032, "comment_id": 54729966, "body": "AIX 5.3 is long dead (end of service was <a href=\"https://www-304.ibm.com/support/docview.wss?uid=isg3T1012517\" rel=\"nofollow noreferrer\">April 2012</a>).  You should be able to use some of the other time functions if you&#39;re really sure that <code>strftime()</code> doesn&#39;t work (though I&#39;m surprised to hear that it doesn&#39;t, even in an older system like AIX 5.3).  The <code>gmtime</code> and <code>localtime</code> functions will work; you can use <code>sprintf</code> to format the result to suit yourself \u2014 that&#39;s what <code>strtime</code> does behind the scenes."}, {"owner": {"reputation": 1006, "user_id": 5470883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00e69ca099c3495868b7cefd66b72a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Baltasar", "link": "https://stackoverflow.com/users/5470883/alexander-baltasar"}, "edited": false, "score": 0, "creation_date": 1446447748, "post_id": 33472032, "comment_id": 54730036, "body": "Maybe <a href=\"http://www.aixhealthcheck.com/blog?id=236\" rel=\"nofollow noreferrer\">aixhealthcheck.com/blog?id=236</a> will help you. There is also an example, how to convert timestamps."}], "answers": [{"tags": [], "owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "is_accepted": false, "score": 1, "last_activity_date": 1446455387, "creation_date": 1446455387, "answer_id": 33474087, "question_id": 33472032, "link": "https://stackoverflow.com/questions/33472032/how-to-convert-unix-timestamp-to-readable-timestamp-in-aix-5-3/33474087#33474087", "title": "How to convert Unix Timestamp to readable timestamp in AIX 5.3", "body": "<p>Most certainly, 'strftime' works in AIX5.3. So does strtol, localtime_r, sprintf and other useful functions.</p>\n\n<p>Also, you can install GNU!date, it can convert from timestamp to human readable form:</p>\n\n<pre><code>$ gdate --date='@1279057324'\nTue Jul 13 23:42:04 CEST 2010\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446455387, "creation_date": 1446446413, "last_edit_date": 1446446549, "question_id": 33472032, "link": "https://stackoverflow.com/questions/33472032/how-to-convert-unix-timestamp-to-readable-timestamp-in-aix-5-3", "title": "How to convert Unix Timestamp to readable timestamp in AIX 5.3", "body": "<p>I have a file with the below contents.</p>\n\n<pre><code>   MAX_FRAG_SIZE 1\n   ACTIVE 3\n   EFFECTIVE_TIME 1279057213\n   COLLECT_TIR_INFO 1\n   EXTENDED_SECURITY_INFO 3\n   EFFECTIVE_TIME 1279057324\n   ENABLE_PFI 0\n   OFFHOST_BACKUP 0\n</code></pre>\n\n<p>The second field of EFFECTIVE_TIME is the timestamp. How can we convert the second field of EFFECTIVE_TIME into human readable format and replace it in the file itself. Also the strftime() function doesn't works in AIX 5.3. </p>\n\n<p>Thanks\nRahul</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1446440068, "post_id": 33470993, "comment_id": 54727441, "body": "Please reformat your question, showing input, your code, and expected output (using code blocks)"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1446440666, "post_id": 33470993, "comment_id": 54727634, "body": "Add 4 spaces in front of code to have it formatted correctly.  Do you intend that the spaces ` ` are replaced by space-tilda-space ` ~ `?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446441628, "post_id": 33470993, "comment_id": 54727919, "body": "Why is <code>****</code> in required output? Why you need that in output?"}, {"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1446441660, "post_id": 33470993, "comment_id": 54727934, "body": "yes it is replaced by &#39;~&#39; . but the spaces size vary in the string , in 1 and vectorial position there is a single&#39; &#39; space but in some place the there are 3 sapce.&#39;   &#39;."}, {"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1446441771, "post_id": 33470993, "comment_id": 54727960, "body": "@ serenesat  - **** it is required it is a part of the string ."}], "answers": [{"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446442573, "post_id": 33471316, "comment_id": 54728201, "body": "I guess OP wants <code>~</code> after first 1 also like: <code>1 ~ Vectorial position [X Y] ~ X .....</code>, So adding this <code>$description =~ s|\\s+| ~ |;</code> will give the above output."}, {"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1446442958, "post_id": 33471316, "comment_id": 54728316, "body": "1 Vectorial position [Z] Z 267.0 1.0 -1.0 Z 267.3 Z 0.3 -----.-*--- not working for this string"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": -1, "last_activity_date": 1446443222, "last_edit_date": 1446443222, "creation_date": 1446442236, "answer_id": 33471316, "question_id": 33470993, "link": "https://stackoverflow.com/questions/33470993/replace-spaces-in-string-with-a-specific-character-in-perl/33471316#33471316", "title": "Replace spaces in string with a specific character in perl", "body": "<p>I would split your data into a description and data, and then operate on the data.  This makes it easier to understand and debug.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $str = '1 Vectorial position [X Y] X 682.9 1.0 -1.0 X 682.6 X -0.3 ----.-----';\nmy ($description, $data) = $str =~ m|^(.*\\])(.*)$|; # $1 - everything upto [X Y]\n                                                    # $2 - everything else\n\n$data =~ s|\\s+| ~ |g; # Replace one or more spaces with space-tilda-space everywhere\n$description =~ s|^(\\d+)(\\s+)|$1 ~ |; # Likewise in description, between number and label\n\nmy $result = join '', $description, $data;\nprint \"BEFORE '$str'\\n\";\nprint \"AFTER  '$result'\\n\";\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>BEFORE '1 Vectorial position [X Y] X 682.9 1.0 -1.0 X 682.6 X -0.3 ----.-----'\nAFTER  '1 ~ Vectorial position [X Y] ~ X ~ 682.9 ~ 1.0 ~ -1.0 ~ X ~ 682.6 ~ X ~ -0.3 ~ ----.-----'\n</code></pre>\n\n<p>If we update <code>$str</code> to:</p>\n\n<pre><code>my $str = '1 Vectorial position [Z] Z 267.0 1.0 -1.0 Z 267.3 Z 0.3 -----.-*---';\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>BEFORE '1 Vectorial position [Z] Z 267.0 1.0 -1.0 Z 267.3 Z 0.3 -----.-*---'\nAFTER  '1 ~ Vectorial position [Z] ~ Z ~ 267.0 ~ 1.0 ~ -1.0 ~ Z ~ 267.3 ~ Z ~ 0.3 ~ -----.-*---'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446449687, "post_id": 33472580, "comment_id": 54730813, "body": "Did you check the output of your program. It doesn&#39;t provide OP&#39;s desire output. It will replace every whitespace with <code>~</code>. And yes escape is not required for <code>~</code>."}, {"owner": {"reputation": 1006, "user_id": 5470883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00e69ca099c3495868b7cefd66b72a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Baltasar", "link": "https://stackoverflow.com/users/5470883/alexander-baltasar"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446450147, "post_id": 33472580, "comment_id": 54730999, "body": "That is exactly what I understood as his requirement!"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446452126, "post_id": 33472580, "comment_id": 54731815, "body": "Did you not see required output?"}, {"owner": {"reputation": 1006, "user_id": 5470883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00e69ca099c3495868b7cefd66b72a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Baltasar", "link": "https://stackoverflow.com/users/5470883/alexander-baltasar"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446453170, "post_id": 33472580, "comment_id": 54732284, "body": "I see the point, did not understand his requirement very well. Changed my solution now."}], "tags": [], "owner": {"reputation": 1006, "user_id": 5470883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00e69ca099c3495868b7cefd66b72a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Baltasar", "link": "https://stackoverflow.com/users/5470883/alexander-baltasar"}, "is_accepted": false, "score": 0, "last_activity_date": 1446453123, "last_edit_date": 1446453123, "creation_date": 1446449059, "answer_id": 33472580, "question_id": 33470993, "link": "https://stackoverflow.com/questions/33470993/replace-spaces-in-string-with-a-specific-character-in-perl/33472580#33472580", "title": "Replace spaces in string with a specific character in perl", "body": "<pre><code>my $str = \"1 Vectorial position [X Y] X 682.9 1.0 -1.0 X 682.6 X -0.3 ----.-----\";\n# first insert ~ before all X with leading space char\n$str =~ s/( X)/ ~$1/g;\n# replace all numbers with numbers + ~\n$str =~ s/([- ]\\d+\\.\\d+)/ ~ $1/g;\n# replace the first space with \" ~ \"\n$str =~ s/ / ~ /;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1446476033, "creation_date": 1446476033, "answer_id": 33480434, "question_id": 33470993, "link": "https://stackoverflow.com/questions/33470993/replace-spaces-in-string-with-a-specific-character-in-perl/33480434#33480434", "title": "Replace spaces in string with a specific character in perl", "body": "<p>I would split the original string on spaces, and then do some creative field extraction: I assume the first word and the last 9 words in the string are separate fields, and what's left over is to become the 2nd field in the output.</p>\n\n<pre><code>$str = \"1 Vectorial position [X Y] X 682.9 1.0 -1.0 X 682.6 X -0.3 ----.-----\";\n@words = split ' ', $str;\n@fields = splice @words, -9;\n$first = shift @words;\nunshift @fields, $first, join(\" \", @words);\nsay join(\" ~ \", @fields);\n</code></pre>\n\n\n\n<pre><code>1 ~ Vectorial position [X Y] ~ X ~ 682.9 ~ 1.0 ~ -1.0 ~ X ~ 682.6 ~ X ~ -0.3 ~ ----.-----\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 0, "accepted_answer_id": 33471316, "answer_count": 3, "score": -1, "last_activity_date": 1446476033, "creation_date": 1446439995, "last_edit_date": 1446444202, "question_id": 33470993, "link": "https://stackoverflow.com/questions/33470993/replace-spaces-in-string-with-a-specific-character-in-perl", "title": "Replace spaces in string with a specific character in perl", "body": "<p>I have a string:</p>\n\n<pre><code>1 Vectorial position [X Y] X 682.9 1.0 -1.0 X 682.6 X -0.3 ----.-----\n</code></pre>\n\n<p>In this string there are spaces which are to be replaced by any special character for splitting the string. </p>\n\n<p>Required output is: </p>\n\n<pre><code>1 ~ Vectorial position [X Y] ~ X ~ 682.9 ~ 1.0 ~ -1.0 ~ X ~ 682.6 ~ X ~-0.3 ~ ----.-----****\n</code></pre>\n\n<p>For the above I had tried using:</p>\n\n<pre><code>$yval_arr[$i] =~s/ /~/g;\n$yval_arr[$i] =~ s/(.)\\1\\1+/$1$1$1/g;\n$yval_arr[$i] =~s/(.)\\1{1,}/$1$1$1/g;\n</code></pre>\n\n<p>but using this the first character repeats it self 2 times i.e. if it is <code>11</code> in the beginning it becomes <code>111</code>.</p>\n\n<p>Please help.</p>\n"}, {"tags": ["perl", "perl-hash"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1446438650, "post_id": 33470583, "comment_id": 54727009, "body": "The order of keys store in a hash is designed to change (for security reasons).  If you want a consistent output order, just iterate over <code>sort keys %data3</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1446439076, "post_id": 33470583, "comment_id": 54727130, "body": "Have a look at <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks</a> to learn about why the key order is randomized."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5501199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bcf63f16e57fb799b93de229c4b9b9?s=128&d=identicon&r=PG&f=1", "display_name": "Sana", "link": "https://stackoverflow.com/users/5501199/sana"}, "edited": false, "score": 0, "creation_date": 1446441203, "post_id": 33471103, "comment_id": 54727816, "body": "For what security reasons the hashes exclude inherent ordering@Schwern"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 25, "user_id": 5501199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bcf63f16e57fb799b93de229c4b9b9?s=128&d=identicon&r=PG&f=1", "display_name": "Sana", "link": "https://stackoverflow.com/users/5501199/sana"}, "edited": false, "score": 0, "creation_date": 1446453781, "post_id": 33471103, "comment_id": 54732552, "body": "@welcomedata I&#39;ve added a section on how hashes work, why they&#39;re not ordered, and why that impacts security."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 8, "last_activity_date": 1446453741, "last_edit_date": 1446453741, "creation_date": 1446440716, "answer_id": 33471103, "question_id": 33470583, "link": "https://stackoverflow.com/questions/33470583/perplexed-with-merging-hashes-output-using-perl/33471103#33471103", "title": "Perplexed with merging hashes output using perl", "body": "<p>Hashes in Perl have no inherent ordering, this is fundamental to how hashes work.</p>\n\n<p>Data in a hash is stored in a list.  Each key is run through a <a href=\"https://en.wikipedia.org/wiki/Hash_function\">hash function</a> (where it gets its name from) to find out what spot on the list it's stored.  \"foo\" might go in slot 3, \"bar\" might go in slot 8.  Let me give an example.</p>\n\n<p>Let's say your hash stores things in a list 8 elements long (0 through 7). Our very bad hash function adds up the ASCII codes for each character in the key and then takes the <a href=\"https://en.wikipedia.org/wiki/Modular_arithmetic\">modulus</a> of the length of the list.  So <code>foo</code> is <code>102 + 111 + 111 = 324</code>.  Then divide by 8 and take the remainder: 4.  <code>$hash{\"foo\"} = 42</code> is really <code>$hash[4] = ['foo', 42]</code>.</p>\n\n<p><code>bar</code> is <code>98 + 97 + 114 = 309</code>.  309 mod 8 is 5.  <code>$hash{\"bar\"} = 23</code> is really <code>$hash[5] = ['bar', 23]</code>.  Perl's hash function is more involved, but you get the idea.</p>\n\n<p>It's this way so you can add and remove keys very fast no matter how large the hash is.  This is known as <a href=\"https://en.wikipedia.org/wiki/Time_complexity#Constant_time\">\"constant time\" or O(1)</a> where the speed of the algorithm does not depend on the size of the data.</p>\n\n<p>When you ask for <code>keys %hash</code> or <code>each %hash</code>, Perl will return the keys in the apparently random order they're in the internal list.  This is why hashes have no particular order.</p>\n\n<p>In older versions of Perl you would usually get the same ordering for the same hash each time the program was run, but this was deliberately changed for security reasons in Perl 5.8.1.  Now the hash function incorporates a bit of randomness so each time a program is run you'll get a different key order.  Why?  Consider what happens when two keys go into the same slot.</p>\n\n<p><code>bar</code> and <code>baz</code> both hash to 5.  This is called a \"hash collision\".  They're normal, and there are various ways to deal with collisions, but they make hashes less efficient. The more collisions, the more computing power it takes to look up a key in a hash.  A good hash doesn't have many collisions.</p>\n\n<p>If your hash function is predictable, it's possible to create a very long list of keys that will <em>all collide</em>.  This will make working with the hash use a lot of CPU power.  This can be used to create a <a href=\"https://en.wikipedia.org/wiki/Denial-of-service_attack\">denial-of-service attack</a>.  The simplest is to pass in the pathological key list as HTML form fields.  Most Perl programs will take the form fields and put them in a hash.  So you could severely slow down a web server by crafting the right URL.</p>\n\n<p>Now that Perl incorporates a bit of randomness in its hash function attackers can no longer create lists of keys which will cause collisions.</p>\n\n<hr>\n\n<p>If you want order, you either have to add it yourself...</p>\n\n<pre><code>for my $key (sort { $a cmp $b } keys %data3) {\n    my $value = $data3{$key};\n    print \"$key: $value\\n\";\n}\n</code></pre>\n\n<p>...or use something which is not a hash like <a href=\"https://metacpan.org/pod/Hash::Ordered\">Hash::Ordered</a> which will preserve the order items were added to the hash.</p>\n\n<pre><code>use Hash::Ordered;\n\nmy $data = Hash::Ordered-&gt;new(d=&gt;'4',e=&gt;'5',f=&gt;'6');\n$data-&gt;merge( a=&gt;'1',b=&gt;'2',c=&gt;'3' );\n\nmy $iterator = $data-&gt;iterator;\nwhile( my($key, $value) = $iterator-&gt;() ) {\n    print \"$key: $value\\n\";\n}\n\n# d: 4\n# e: 5\n# f: 6\n# c: 3\n# b: 2\n# a: 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 4646788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e47f5edba4143677739d330eb209802?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Elser", "link": "https://stackoverflow.com/users/4646788/marc-elser"}, "is_accepted": false, "score": 1, "last_activity_date": 1576416906, "creation_date": 1576416906, "answer_id": 59344401, "question_id": 33470583, "link": "https://stackoverflow.com/questions/33470583/perplexed-with-merging-hashes-output-using-perl/59344401#59344401", "title": "Perplexed with merging hashes output using perl", "body": "<p>As it was mentioned in the previous answers hashes are disgned to have random ordering. There is however a perl core module (that you don't need to install) called \"Tie::IxHash\" which binds your hash to become a ordered hash like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Tie::IxHash;\n\ntie(my %data1, \"Tie::IxHash\",a=&gt;'1',b=&gt;'2',c=&gt;'3');\n@data1{'d','e','f'} = (4,5,6);\n$data1{'g'} = 7;\n\nwhile(my($key,$value)=each %data1)\n{\n    print \"$key:$value\\n\";\n}\n</code></pre>\n\n<p>Also this module will preserve the order when entries are added like \"Hash::Ordered\" but it allows you to use normal hashes and it's a core module that ships with any perl installation. In your case would have to bind all 3 hashes of course to keep the ordering. Or else there's also a OO interface wich offers more advanced featues like \"SortByKeys\",\"SortByValues\",\"ReOrder\", etc.</p>\n"}], "owner": {"reputation": 25, "user_id": 5501199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bcf63f16e57fb799b93de229c4b9b9?s=128&d=identicon&r=PG&f=1", "display_name": "Sana", "link": "https://stackoverflow.com/users/5501199/sana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1576416906, "creation_date": 1446437038, "last_edit_date": 1496260320, "question_id": 33470583, "link": "https://stackoverflow.com/questions/33470583/perplexed-with-merging-hashes-output-using-perl", "title": "Perplexed with merging hashes output using perl", "body": "<p>Why does the output vary for merged hashes through several times executing this program?</p>\n\n<pre><code>use strict;\nuse warnings;\nmy %data1=(a=&gt;'1',b=&gt;'2',c=&gt;'3');\nmy %data2=(d=&gt;'4',e=&gt;'5',f=&gt;'6');\nmy %data3=(%data1,%data2);\nwhile(my($key,$value)=each %data3)\n{\n    print \"$key:$value\\n\";\n}\n</code></pre>\n\n<ul>\n<li>I already verified the stack overflow link(<a href=\"https://stackoverflow.com/questions/2011342/what-decides-the-order-of-keys-when-i-print-a-perl-hash\">What decides the order of keys when I print a Perl hash?</a>), but I am still unable tp find the right solution.</li>\n<li>Above code explains about the merging of hashes.</li>\n<li>My question is why the hashes' output changes every time the Perl program is executed.</li>\n<li>Can anyone explain the random changes in the output?</li>\n</ul>\n"}, {"tags": ["regex", "string", "perl", "search", "data-structures"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446442186, "post_id": 33468243, "comment_id": 54728097, "body": "What you want to do that is not clear. Showing input values means what you have in your hash or in file and how do you want get as output, would be more helpful for you to get answer and for us to give right solution."}], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1446486255, "post_id": 33475391, "comment_id": 54752204, "body": "++ simple and real perl - my answer is a bit too clever. To improve my response I started to think about an easy way to determine which of the three or four letters associated with a keypad number was being selected.  I did not come up with anything right away ... :-)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1446467121, "last_edit_date": 1446467121, "creation_date": 1446459850, "answer_id": 33475391, "question_id": 33468243, "link": "https://stackoverflow.com/questions/33468243/perl-using-regex-to-match-input-in-hash-key-or-value/33475391#33475391", "title": "Perl - Using regex to match input in hash key or value", "body": "<p>The way to tackle this is by writing a function that reduces your 'things' to their common components. The best way to do this IMO is use a hash:</p>\n\n<pre><code>my %num_to_letter = (\n    0 =&gt; [],\n    1 =&gt; [],\n    2 =&gt; [ \"A\", \"B\", \"C\" ],\n    3 =&gt; [ \"D\", \"E\", \"F\" ],\n    4 =&gt; [ \"G\", \"H\", \"I\" ],\n    5 =&gt; [ \"J\", \"K\", \"L\" ],\n    ## etc.\n\n);\n\nmy %letter_to_num;\nforeach my $key ( keys %num_to_letter ) {\n    foreach my $element ( @{$num_to_letter{$key}} ) { \n        $letter_to_num{lc($element)} = lc($key); \n    }\n}\nprint Dumper \\%letter_to_num;\n</code></pre>\n\n<p>This creates a map of which letters or numbers map to their original - a bit like this:</p>\n\n<pre><code>$VAR1 = {\n          'b' =&gt; '2',\n          'g' =&gt; '4',\n          'e' =&gt; '3',\n          'i' =&gt; '4',\n          'a' =&gt; '2',\n          'j' =&gt; '5',\n...\n</code></pre>\n\n<p>Note - you can do this by hand, but I prefer to generate from the top map, because I think it looks neater. Note - we use <code>lc</code> to lower case everything, so this becomes case insensitive. It's probably worth looking at <a href=\"http://perldoc.perl.org/functions/fc.html\" rel=\"nofollow\"><code>fc</code></a> - which is a similar tool but handles international characters. (Not relevant in this example though)</p>\n\n<p>You then 'reduce' both search and 'target' to their common values:</p>\n\n<pre><code>sub normalise {\n    my ( $input ) = @_;\n\n    #join with no delimiter. \n    return join ( '', \n             #look up $_ (each letter) in $letter_to_num\n             #if not present, use // operator to return original value. \n             #this means we get to turn numbers into letters,\n             #but leave things that are already numbers untouched. \n             map { $letter_to_num{lc($_)} // $_ } \n                  #split the input line into characters. \n                  split ( //, $input ) \n            );\n}\n\nprint normalise (\"DAD\"),\"\\n\";   ## 323\n</code></pre>\n\n<p>And then compare one against the other:</p>\n\n<pre><code>my $search            = \"DAD\";\nmy $normalised_search = normalise($search);\nprint \"Searching for: \\\"$normalised_search\\\"\\n\";\n\nmy $number_to_match = '00533932388';\nmy $string_to_match = \"daddyo\";\n\nprint \"Matches number\\n\"\n    if normalise($number_to_match) =~ m/$normalised_search/;\nprint \"Matches string\\n\"\n    if normalise($string_to_match) =~ m/$normalised_search/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1446957809, "last_edit_date": 1446957809, "creation_date": 1446485807, "answer_id": 33483574, "question_id": 33468243, "link": "https://stackoverflow.com/questions/33468243/perl-using-regex-to-match-input-in-hash-key-or-value/33483574#33483574", "title": "Perl - Using regex to match input in hash key or value", "body": "<p>Here's an almost procedural approach that cheats a bit by using <a href=\"https://metacpan.org/pod/Hash::MultiValue\" rel=\"nofollow\"><code>Hash::MultiValue</code></a>:</p>\n\n<pre><code>use Hash::MultiValue; # makes reversing and flattening easier\n\n# build a hash from the phone_keypad array or do it manually!\nmy @phone_keypad = qw(0 1 2ABC 3DEF 4GHI 5JKL 6MNO 7PQRS 8TUV 9WXYZ);\nmy %num2let =  map { /(\\d{1})(\\w{3,4})/; \n               if ($2) { $1 =&gt; [ split('',$2) ] } else { 0 =&gt; [] , 1 =&gt; [] } \n               } @phone_keypad ; \n\n# Invert the hash using Hash::MultiValue\nmy $num2let_mv = Hash::MultiValue-&gt;from_mixed(\\%num2let);\nmy %let2num = reverse $num2let_mv-&gt;flatten ;\n\n# TOM in numbers - 866 in letters\nmy $letters = \"TOM\" ;\nprint join '', $let2num{$_} // $_ for (split('', $letters)), \"\\n\"; \nmy $phone_input = \"866\" ;\nprint join '', @{$num2let{$_}},\" \" for (split('', $phone_input)) , \"\\n\";\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>866\nTUV MNO MNO\n</code></pre>\n\n<p>So here <code>\"TOM\"</code> would overlap with <code>\"UNO\"</code> ... I like @Sobrique's answer :-)</p>\n\n<p>To search an array/list of contact names using the phone keypad input we can create a hash containing keys and values of the names and their number equivalents and then match the \"converted\" name value against the input:</p>\n\n<pre><code>use Hash::MultiValue; # makes reversing and flattening easier\n\nmy @contacts = &lt;DATA&gt; ;\nchomp @contacts;\n\n# build a hash from the phone_keypad array or do it manually!\nmy @phone_keypad = qw(0 1 2ABC 3DEF 4GHI 5JKL 6MNO 7PQRS 8TUV 9WXYZ);\nmy %num2let =  map { /(\\d{1})(\\w{3,4})/; \n               if ($2) { $1 =&gt; [ split('',$2) ] } else { 0 =&gt; [] , 1 =&gt; [] } \n               } @phone_keypad ; \n\n# Invert the hash using Hasj::MultiValue\nmy $num2let_mv = Hash::MultiValue-&gt;from_mixed(\\%num2let);\nmy %let2num = reverse $num2let_mv-&gt;flatten ;\n\n# create key/value pairs for contact database\nmy %contacts2nums ;\nfor $contact (@contacts) {\n  $contacts2nums{$contact} = join \"\",  \n    map {  $let2num{$_} } split('', uc $contact);\n}\n\nmy $phone_input = \"866\";\n\nfor my $contact (keys %contacts2nums) {\n print \"The text: \\\"$contact\\\" matches the input: \\\"$phone_input\\\" \\n\"\n   if $phone_input eq $contacts2nums{$contact};\n}\n\n__DATA__\nTom\nMother\nTIMTOWDI\nDAD\nGordon\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>The text: \"Tom\" matches the input: \"866\"\n</code></pre>\n\n<p>A more organized approach would wrap the conversion operation in a function.</p>\n\n<hr>\n\n<p><strong>Addendum</strong>:</p>\n\n<p>With a real keypad you could probably come up with a simple algorithm that could be more deterministic regarding the letter you want to associate with the number on the keypad. You could iterate through the array based on number of presses of the key: e.g. two presses on \"2\" would be equal to \"B\", etc.  You'd just have to figure out how/when to move to the next character with some kind of timeout/wait value. This way you would have a more exact string on which to base your search.</p>\n"}], "owner": {"reputation": 41, "user_id": 2951099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d63fc3ae5fe8922855beb6a2e873b708?s=128&d=identicon&r=PG&f=1", "display_name": "user2951099", "link": "https://stackoverflow.com/users/2951099/user2951099"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1535, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1446957809, "creation_date": 1446419090, "last_edit_date": 1446499337, "question_id": 33468243, "link": "https://stackoverflow.com/questions/33468243/perl-using-regex-to-match-input-in-hash-key-or-value", "title": "Perl - Using regex to match input in hash key or value", "body": "<p>First, this is a homework assignment. I am having a tough time with regex, and I'm stuck.</p>\n\n<p>This is the code I have so far, where I have the user designate a filename, and if it exists, populates a hash of the names as keys, and the phone numbers as the values.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nprint \"\\nEnter Filename: \";\nmy $file = &lt;STDIN&gt;;\nchomp $file;\n\nif(!open(my $fileName, \"&lt;\", \"$file\"))\n{\n    print \"Sorry, that file doesn't exist!\", \"\\n\";\n}\nelse\n{\n    my %phoneNums;\n    while (my $line=&lt;$fileName&gt;) \n    {\n        chomp($line);\n        (my $name,my $number) = split /:/, $line;\n        $phoneNums{$name} = $number;\n    }\n\n    print \"Read in the file!\", \"\\n\\n\";\n\n    print \"Enter search: \";\n    my $input = &lt;STDIN&gt;;\n    chomp $input;\n\n    #HERE IS WHERE I'M LOST\n}\n\nprint \"\\n\";\n</code></pre>\n\n<p>This is the part I am stuck on:</p>\n\n<p>Allow the user to enter a search string.\nLook for matches using the same style as the phone. Any individual\ncharacter in the search string can match any other character from the\nkey, meaning a \u20182\u2019 in the search string can match a \u20182\u2019, \u2018A\u2019, \u2018B\u2019, or \u2018C\u2019 in the contact list. Matches can occur in the contact name or the phone number. For a match to occur, each character in the search string must appear, in order, in the contact info, but not necessarily next to each\nother. For example, a search string of \u201c86\u201d (essentially the same as a search string of \u201cTM\u201d or \u201cNU\u201d) would match \u201cTOM\u201d but not \u201cMOTHER\u201d.\nCharacters on each phone keys:\n0,\n1,\n2ABC,\n3DEF,\n4GHI,\n5JKL,\n6MNO,\n7PQRS,\n8TUV,\n9WXYZ</p>\n\n<p>I just am stuck on how exactly to make all those character classes, and any help at all is much appreciated.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1446393093, "post_id": 33463015, "comment_id": 54713710, "body": "Or possibly missing a statement returning a true value as the last statement in the package file."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 2, "creation_date": 1446396297, "post_id": 33463015, "comment_id": 54714745, "body": "@mwp: I doubt it because then it should have complained already that the &#39;use ...&#39; failed, i.e. before the attempted function call."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1446386774, "creation_date": 1446386774, "answer_id": 33463015, "question_id": 33462876, "link": "https://stackoverflow.com/questions/33462876/perl-complaining-of-undefined-subroutine-even-though-package-in-inc/33463015#33463015", "title": "Perl complaining of undefined subroutine, even though package in %INC", "body": "<p>Since you don't provide the source for Donation one can only guess. It might be</p>\n\n<ul>\n<li>that the name of the function is different</li>\n<li>that your forgot to declare the package \"Donation\" in Donation.pm</li>\n<li>maybe something else (show the code)</li>\n</ul>\n"}], "owner": {"reputation": 59, "user_id": 3550402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8463dd909b757518c8f4dcad54a7cc6e?s=128&d=identicon&r=PG&f=1", "display_name": "user3550402", "link": "https://stackoverflow.com/users/3550402/user3550402"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 33463015, "answer_count": 1, "score": -4, "last_activity_date": 1446386774, "creation_date": 1446386013, "question_id": 33462876, "link": "https://stackoverflow.com/questions/33462876/perl-complaining-of-undefined-subroutine-even-though-package-in-inc", "title": "Perl complaining of undefined subroutine, even though package in %INC", "body": "<p>Perl's namespace magic was always the most frustrating....</p>\n\n<p>Have a script that relies on Recipient.pm, as well as Donation.pm</p>\n\n<pre><code>use lib '../BulkLoad';\nuse Recipient;\nuse Donation;\n</code></pre>\n\n<p>Recipient.pm is an object-orientated class, and itself uses Donation.pm (just a bundle of functions). Kinda recursive/redundant, I know.</p>\n\n<p>My script - which again relies on both - is failing whenever it tries to gratuitously use a sub from Donation.pm:</p>\n\n<pre><code>my $city = Donation::getCity($dbh, $cityName, $stateName);\n</code></pre>\n\n<p>Perl complains:</p>\n\n<pre><code>Undefined subroutine &amp;Donation::getCity called at ...\n</code></pre>\n\n<p>\"Nice to have\", \"best practices\" refactoring is out of scope :)</p>\n\n<p>Thank you in advance!!</p>\n"}, {"tags": ["perl", "shebang"], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 10, "last_activity_date": 1446380975, "creation_date": 1446380975, "answer_id": 33462149, "question_id": 33461992, "link": "https://stackoverflow.com/questions/33461992/perl-dispatches-to-other-interpreters-based-on-shebang-line/33462149#33462149", "title": "Perl dispatches to other interpreters based on shebang line?", "body": "<p>This is an old thing documented in <a href=\"http://perldoc.perl.org/perlrun.html#DESCRIPTION\" rel=\"noreferrer\"><code>perldoc perlrun</code></a>:</p>\n\n<blockquote>\n  <p>If the <code>#!</code> line does not contain the word \"perl\" nor the word \"indir\" the program named after the <code>#!</code> is executed instead of the Perl interpreter. This is slightly bizarre, but it helps people on machines that don't do <code>#!</code>, because they can tell a program that their SHELL is <em>/usr/bin/perl</em>, and Perl will then dispatch the program to the correct interpreter for them.</p>\n</blockquote>\n"}], "owner": {"reputation": 1353, "user_id": 264508, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/25a18c6aa8fc6290069b41b8ed400d09?s=128&d=identicon&r=PG", "display_name": "Dylan Cali", "link": "https://stackoverflow.com/users/264508/dylan-cali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "closed_date": 1446488859, "accepted_answer_id": 33462149, "answer_count": 1, "score": 7, "last_activity_date": 1446380975, "creation_date": 1446379896, "question_id": 33461992, "link": "https://stackoverflow.com/questions/33461992/perl-dispatches-to-other-interpreters-based-on-shebang-line", "closed_reason": "Duplicate", "title": "Perl dispatches to other interpreters based on shebang line?", "body": "<p>My mind was blown when I accidentally ran a bash script using perl and it... worked. Experimenting further, it seems perl reads a script's shebang and dispatches to the correct interpreter:</p>\n\n<pre><code>$ cat /tmp/ohhai.sh\n#!/bin/bash\necho ohhai bash\n\n$ perl /tmp/ohhai.sh\nohhai bash\n</code></pre>\n\n<hr>\n\n<pre><code>$ cat /tmp/ohhai.py\n#!/usr/bin/python2\nprint 'ohhai python'\n\n$ perl /tmp/ohhai.py\nohhai python\n</code></pre>\n\n<hr>\n\n<pre><code>$ cat /tmp/ohhai.groovy\n#!/usr/bin/groovy\nprintln 'ohhai groovy'\n\n$ perl /tmp/ohhai.groovy\nohhai groovy\n</code></pre>\n\n<p>um... wut?</p>\n\n<p>To make sure I'm not crazy, I tried doing this with other interpreters and confirmed this is just a perl-ism:</p>\n\n<pre><code>$ python /tmp/ohhai.sh\n  File \"/tmp/ohhai.sh\", line 2\n    echo ohhai bash\n             ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<hr>\n\n<pre><code>$ ruby /tmp/ohhai.sh\nruby: no Ruby script found in input (LoadError)\n</code></pre>\n\n<hr>\n\n<pre><code>$ bash /tmp/ohhai.py\n/tmp/ohhai.py: line 2: print: command not found\n</code></pre>\n\n<p>Is this documented somewhere?  Is it a new thing/old thing? ... Why?</p>\n\n<p>\"Swiss-Army chainsaw\" indeed.</p>\n"}, {"tags": ["regex", "perl", "match", "words"], "comments": [{"owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "edited": false, "score": 0, "creation_date": 1446366687, "post_id": 33459895, "comment_id": 54707008, "body": "How exactly did you invoke the regex? <code>echo &quot;11 dd bb 11&quot; | perl -ne &#39;&#47;(\\w+).+?($1)&#47;; print $1&#39;</code> works for me."}, {"owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "edited": false, "score": 0, "creation_date": 1446378492, "post_id": 33459895, "comment_id": 54709428, "body": "Not sure why those answers were downvoted. They both look like they work to me."}, {"owner": {"reputation": 5017, "user_id": 4400590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9ed697c0343dcfa0bd740157cbe4e26?s=128&d=identicon&r=PG&f=1", "display_name": "lisprogtor", "link": "https://stackoverflow.com/users/4400590/lisprogtor"}, "edited": false, "score": 0, "creation_date": 1446453950, "post_id": 33459895, "comment_id": 54732631, "body": "echo &quot;11 dd bb 11&quot; | perl -lne &#39;if ($_ =~ m/(\\w+)(.+?)($1)/) { print &quot;$1 $2 $3\\n&quot;; }&#39;  well, this only gives me &quot;11&quot; and nothing else."}, {"owner": {"reputation": 5017, "user_id": 4400590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9ed697c0343dcfa0bd740157cbe4e26?s=128&d=identicon&r=PG&f=1", "display_name": "lisprogtor", "link": "https://stackoverflow.com/users/4400590/lisprogtor"}, "edited": false, "score": 0, "creation_date": 1446454454, "post_id": 33459895, "comment_id": 54732889, "body": "echo &quot;11 dd bb 11&quot; | perl -lne &#39;if ($_ =~ m/(\\w+)(.+?)($1)/) { print &quot;$1 $2 $3\\n&quot;; }&#39;  well, this only gives me &quot;11&quot; and nothing else. Thank you all for your help. Comments above and below are greatly appreciated !!!"}, {"owner": {"reputation": 5017, "user_id": 4400590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9ed697c0343dcfa0bd740157cbe4e26?s=128&d=identicon&r=PG&f=1", "display_name": "lisprogtor", "link": "https://stackoverflow.com/users/4400590/lisprogtor"}, "edited": false, "score": 0, "creation_date": 1446454511, "post_id": 33459895, "comment_id": 54732925, "body": "echo &quot;11 dd bb 11&quot; | perl -lne &#39;if ($_ =~ m/(\\w+)(.+?)(\\1)/) { print &quot;$1 $2 $3\\n&quot;; }&#39; works"}], "answers": [{"comments": [{"owner": {"reputation": 5017, "user_id": 4400590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9ed697c0343dcfa0bd740157cbe4e26?s=128&d=identicon&r=PG&f=1", "display_name": "lisprogtor", "link": "https://stackoverflow.com/users/4400590/lisprogtor"}, "edited": false, "score": 0, "creation_date": 1446454968, "post_id": 33460444, "comment_id": 54733149, "body": "echo &quot;aa bb aa cc 11 dd bb 11 cc&quot; | perl -lne &#39;if ($_ =~ m/(?=((\\b\\w+\\b).+?(\\b\\2\\b)))/g) { print &quot;$1 -- $2 -- $3\\n&quot;; }&#39; will give you aa bb aa -- aa -- aa"}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "reply_to_user": {"reputation": 5017, "user_id": 4400590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9ed697c0343dcfa0bd740157cbe4e26?s=128&d=identicon&r=PG&f=1", "display_name": "lisprogtor", "link": "https://stackoverflow.com/users/4400590/lisprogtor"}, "edited": false, "score": 0, "creation_date": 1446517802, "post_id": 33460444, "comment_id": 54765484, "body": "@lisprogtor. if you change the <code>if</code> to <code>while</code>, you&#39;ll get all four of the results you&#39;re looking for.  I&#39;ve added a Perl example to my answer."}], "tags": [], "owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "is_accepted": false, "score": 2, "last_activity_date": 1446517677, "last_edit_date": 1446517677, "creation_date": 1446366629, "answer_id": 33460444, "question_id": 33459895, "link": "https://stackoverflow.com/questions/33459895/perl-how-to-find-items-between-any-same-two-arbitrary-regular-expressions/33460444#33460444", "title": "Perl: how to find items between any same two arbitrary regular expressions?", "body": "<p>Three problems:</p>\n\n<ul>\n<li><p>You're using <code>$1</code>, but within the regex backreferences use a backslash, not a dollar sign: <code>\\1</code>.</p></li>\n<li><p>You're trying to match whole words, but your regex lacks word boundaries.</p></li>\n<li><p>You say you've tried lookaheads, but you don't say how.</p></li>\n</ul>\n\n<p>The regex you want is:</p>\n\n<pre><code>(?=((\\b\\w+\\b).+?(\\b\\2\\b)))\n</code></pre>\n\n<p>You also need to add the <code>/g</code> flag and do the matching in a <code>while</code> loop to get all the results:</p>\n\n<pre><code>my $subject = \"aa bb aa cc 11 dd bb 11 cc\";\nwhile ($subject =~ m/(?=((\\b\\w+\\b).+?(\\b\\2\\b)))/g) {\n    print \"$1\\n\"\n}\n</code></pre>\n\n<p>The matches will <code>$1</code> because the whole match occurs inside a lookahead, meaning <code>$&amp;</code> will be empty.</p>\n\n<p>Here's a <a href=\"https://regex101.com/r/rW7mT6/1\" rel=\"nofollow\">regex demo</a> (Regex101.com),<br>\nand a <a href=\"http://ideone.com/AiBDdz\" rel=\"nofollow\">code demo</a> (Ideone.com)</p>\n"}, {"comments": [{"owner": {"reputation": 5017, "user_id": 4400590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9ed697c0343dcfa0bd740157cbe4e26?s=128&d=identicon&r=PG&f=1", "display_name": "lisprogtor", "link": "https://stackoverflow.com/users/4400590/lisprogtor"}, "edited": false, "score": 0, "creation_date": 1446455100, "post_id": 33460467, "comment_id": 54733220, "body": "(?{ code }) means this is perl6, right? I am getting to perl6. How solidified is perl6, or how much of perl6 has been finalized?"}, {"owner": {"reputation": 149, "user_id": 5470067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ece1b9d92664f27aad6660b248daab?s=128&d=identicon&r=PG&f=1", "display_name": "Mike.pm", "link": "https://stackoverflow.com/users/5470067/mike-pm"}, "edited": false, "score": 0, "creation_date": 1446464668, "post_id": 33460467, "comment_id": 54738608, "body": "It&#39;s perl5. This feature is old enough - <a href=\"http://perldoc.perl.org/5.8.8/perlre.html\" rel=\"nofollow noreferrer\">exists even in 5.8.8</a>. By the way backtracking control verb <code>(*FAIL)</code> added in <a href=\"http://perldoc.perl.org/5.10.0/perl5100delta.html\" rel=\"nofollow noreferrer\">Perl 5.10.0</a>"}], "tags": [], "owner": {"reputation": 149, "user_id": 5470067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ece1b9d92664f27aad6660b248daab?s=128&d=identicon&r=PG&f=1", "display_name": "Mike.pm", "link": "https://stackoverflow.com/users/5470067/mike-pm"}, "is_accepted": false, "score": 1, "last_activity_date": 1446366875, "creation_date": 1446366875, "answer_id": 33460467, "question_id": 33459895, "link": "https://stackoverflow.com/questions/33459895/perl-how-to-find-items-between-any-same-two-arbitrary-regular-expressions/33460467#33460467", "title": "Perl: how to find items between any same two arbitrary regular expressions?", "body": "<p>If I understand your question right you can use <code>(?{ code })</code> pattern and <code>(*FAIL)</code>:</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\n\nmy $s = 'aa bb aa cc 11 dd bb 11 cc';\n$s =~ /((\\b\\w+\\b).*\\2)(?{print \"$&amp;\\n\"})(*FAIL)/g\n</code></pre>\n\n<p>Result seems to be as you expected:</p>\n\n<pre><code>$ perl test.pl\naa bb aa\nbb aa cc 11 dd bb\ncc 11 dd bb 11 cc\n11 dd bb 11\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1446384020, "creation_date": 1446384020, "answer_id": 33462569, "question_id": 33459895, "link": "https://stackoverflow.com/questions/33459895/perl-how-to-find-items-between-any-same-two-arbitrary-regular-expressions/33462569#33462569", "title": "Perl: how to find items between any same two arbitrary regular expressions?", "body": "<p>I prefer a non-regex solution to this. The program below does what is required</p>\n\n<p>It first splits the string into items and stores them in array <code>@items</code>. Hash <code>%indexes</code> is a hash relating each different item to the indexes in <code>@items</code> where it appears, and array <code>@keys</code> is the keys of the hash in the order they appear in <code>@terms</code>. (There's no need for this if the order of the output is immaterial.)</p>\n\n<p>The subsets of the <code>@terms</code> array are printed for each value of <code>%indexes</code> that has two or more items. <code>while</code> is used with <code>splice</code> in case there is an item that appears four or more times, in which case the output will consist of the first appearance to the second, the third to the fourth etc. If this isn't required then the program can be simplified further</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $str = \"aa bb aa cc 11 dd bb 11 cc\";;\nmy @items = split ' ', $str;\nmy ( %indexes, @keys);\n\nfor my $i ( 0 .. $#items ) {\n    my $key = $items[$i];\n    push @keys, $key unless $indexes{$key};\n    push @{ $indexes{$key} }, $i;\n}\n\nfor my $key ( @keys ) {\n    my @indexes = @{ $indexes{$key} };\n    while ( @indexes &gt;= 2 ) {\n        my ( $beg, $end ) = splice @indexes, 0, 2;\n        print \"@items[$beg .. $end]\\n\";\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>aa bb aa\nbb aa cc 11 dd bb\ncc 11 dd bb 11 cc\n11 dd bb 11\n</code></pre>\n"}], "owner": {"reputation": 5017, "user_id": 4400590, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9ed697c0343dcfa0bd740157cbe4e26?s=128&d=identicon&r=PG&f=1", "display_name": "lisprogtor", "link": "https://stackoverflow.com/users/4400590/lisprogtor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1446517677, "creation_date": 1446360260, "last_edit_date": 1446366834, "question_id": 33459895, "link": "https://stackoverflow.com/questions/33459895/perl-how-to-find-items-between-any-same-two-arbitrary-regular-expressions", "title": "Perl: how to find items between any same two arbitrary regular expressions?", "body": "<p>I am trying to find and extract texts between any 2 identical but arbitrary key words. For example, given the string: </p>\n\n<pre><code>\"aa bb aa cc 11 dd bb 11 cc\"\n</code></pre>\n\n<p>...I want to get:</p>\n\n<pre><code>\"aa bb aa\"\n\n\"bb aa cc 11 dd bb\"\n\n\"cc 11 dd bb 11 cc\"\n\n\"11 dd bb 11\"\n</code></pre>\n\n<p>When I do <code>m/(\\w+).+?($1)/</code>, or when I use look-ahead operator, nothing seems to work and can't find all of it. </p>\n"}, {"tags": ["perl", "object"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5473898, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f8dd6eae9223388dcf6028cb740184c8?s=128&d=identicon&r=PG&f=1", "display_name": "zagpoint", "link": "https://stackoverflow.com/users/5473898/zagpoint"}, "edited": false, "score": 0, "creation_date": 1446439608, "post_id": 33459552, "comment_id": 54727295, "body": "That did it! Thanks so much. Now I can sleep better at night;-)"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 3, "last_activity_date": 1446356356, "creation_date": 1446356356, "answer_id": 33459552, "question_id": 33459500, "link": "https://stackoverflow.com/questions/33459500/perl-object-and-attribute/33459552#33459552", "title": "perl object and attribute", "body": "<p>The arguments to <code>new</code> are just a list \u2014 just like the arguments to <em>anything</em>, in fact. You can do what you want with an array instead of a string.</p>\n\n<pre><code>my @attribute = $condition ? () : (attr4 =&gt; value4);\n\nmy $obj = MyObject-&gt;new(\n    attr1 =&gt; value1,\n    attr2 =&gt; value2,\n    attr3 =&gt; value3,\n    @attribute\n);\n</code></pre>\n\n<p>You can also use a hash if order doesn't matter (which it usually doesn't for constructors) \u2014 whatever makes your code better.</p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 5473898, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f8dd6eae9223388dcf6028cb740184c8?s=128&d=identicon&r=PG&f=1", "display_name": "zagpoint", "link": "https://stackoverflow.com/users/5473898/zagpoint"}, "edited": false, "score": 0, "creation_date": 1446440637, "post_id": 33467556, "comment_id": 54727623, "body": "Thanks! This might work, but I did not test it to confirm, as it requires slightly more changes from my initial code."}, {"owner": {"reputation": 55, "user_id": 5473898, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f8dd6eae9223388dcf6028cb740184c8?s=128&d=identicon&r=PG&f=1", "display_name": "zagpoint", "link": "https://stackoverflow.com/users/5473898/zagpoint"}, "edited": false, "score": 0, "creation_date": 1446441113, "post_id": 33467556, "comment_id": 54727781, "body": "Actually I just tested this as well. If we change the &quot;if&quot; line to $attr{attr4} = &#39;value4&#39; if condition; It works fine as well. Tried to vote you up, but not yet eligible to do that, I guess;-("}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1446443320, "last_edit_date": 1446443320, "creation_date": 1446414098, "answer_id": 33467556, "question_id": 33459500, "link": "https://stackoverflow.com/questions/33459500/perl-object-and-attribute/33467556#33467556", "title": "perl object and attribute", "body": "<p>I think my approach would be to build a hash of parameters, and pass it to the constructor once it was complete</p>\n\n<p>It would look like this. I've wrapped the whole thing in a <code>do</code> block to limit the scope of <code>%attr</code>; it's not essential. of course <code>condition</code> has to be a compilable Perl expression</p>\n\n<pre><code>my $obj = do {\n\n    my %attr = (\n        attr1 =&gt; 'value1',\n        attr2 =&gt; 'value2',\n        attr3 =&gt; 'valuen',\n    );\n\n    $attr{attr4} = 'value4' if condition;\n\n    MyObject-&gt;new(%attr);\n};\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5473898, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f8dd6eae9223388dcf6028cb740184c8?s=128&d=identicon&r=PG&f=1", "display_name": "zagpoint", "link": "https://stackoverflow.com/users/5473898/zagpoint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 33459552, "answer_count": 2, "score": 1, "last_activity_date": 1446443320, "creation_date": 1446355610, "question_id": 33459500, "link": "https://stackoverflow.com/questions/33459500/perl-object-and-attribute", "title": "perl object and attribute", "body": "<p>I am trying to create perl object (and its associated attributes), based on some conditions (for example the version of the object), a certain attribute is not needed (or invalid otherwise). How do I create the object, without having to specify the object twice (once for each condition). </p>\n\n<pre><code>my $obj = myobject-&gt;new (\nattr1 =&gt; value1,\nattr2 =&gt; value2,\nattr3 =&gt; valuen,\n)\n</code></pre>\n\n<p>Can I for example, define a variable and assign it different value based on the condition? Like this:</p>\n\n<pre><code>my $attribute = (condition)? \"\":'attr4 =&gt; value4';\n</code></pre>\n\n<p>and simply define the object like this:</p>\n\n<pre><code>    my $obj = myobject-&gt;new (\n    attr1 =&gt; value1,\n    attr2 =&gt; value2,\n    attr3 =&gt; valuen,\n    $attribute,\n    )\n</code></pre>\n\n<p>This obviously will err out. But you get my idea. How do I make this work?</p>\n"}, {"tags": ["html", "image", "perl", "cgi"], "comments": [{"owner": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "edited": false, "score": 3, "creation_date": 1446349571, "post_id": 33458928, "comment_id": 54704419, "body": "show the code that you are using"}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 1, "creation_date": 1446350161, "post_id": 33458928, "comment_id": 54704522, "body": "Most likely you haven&#39;t set your Content-Type right.  Check out:  <a href=\"http://stackoverflow.com/questions/22523718/perl-output-image-from-a-remote-source\" title=\"perl output image from a remote source\">stackoverflow.com/questions/22523718/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 5481314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cCl69MiFPgI/AAAAAAAAAAI/AAAAAAAACZc/y8O_VPhGO2I/photo.jpg?sz=128", "display_name": "Danilo Ruano", "link": "https://stackoverflow.com/users/5481314/danilo-ruano"}, "edited": false, "score": 0, "creation_date": 1446459282, "post_id": 33458928, "comment_id": 54735712, "body": "Thank you for your response! This is the part of my code where I am trying to display the image (excuse me if I put the code wrongly, I recently joined this great community, so still entry level):  #some more code lines before select(STDOUT); $| = 1;   #unbuffer STDOUT print &quot;Content-type: image/jpg\\n\\n&quot;;  open (IMAGE, &#39;&lt;&#39;, &#39;/root_to_image/logo.jpg&#39;); print &lt;IMAGE&gt;; close IMAGE; #After this, I start the construction of the rest of the HTML script from #perl"}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1446460134, "creation_date": 1446460134, "answer_id": 33475477, "question_id": 33458928, "link": "https://stackoverflow.com/questions/33458928/output-image-in-html-formed-with-perl/33475477#33475477", "title": "Output image in HTML formed with perl", "body": "<blockquote>\n  <p>rest of HTML code</p>\n</blockquote>\n\n<p>An HTTP response can include <em>one</em> resource. You can't spluge out a pile of raw JPEG data in the middle of an HTML document. The browser is processing HTML, not a JPEG.</p>\n\n<p>In general, you need to have the browser make a second HTTP request to get the image (with the URL specified in the <code>src</code> attribute of an <code>&lt;img&gt;</code> element.</p>\n\n<p>It is possible to express the entire resource in the form of a URL using the <code>data:</code> scheme though. The <a href=\"https://metacpan.org/pod/URI::data\" rel=\"nofollow\"><code>URI::data</code> module</a>  can help you generate them.</p>\n\n<blockquote>\n<pre><code>print \"Content-type: image/jgp\\n\\n\";\n</code></pre>\n</blockquote>\n\n<p>Also, the content type for JPEGs is <a href=\"http://www.iana.org/assignments/media-types/media-types.xhtml#image\" rel=\"nofollow\"><code>image/jpeg</code></a>. Not <code>image/jgp</code> and not <code>image/jpg</code>. You are seeing how browsers treat unknown mime types.</p>\n"}], "owner": {"reputation": 1, "user_id": 5481314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cCl69MiFPgI/AAAAAAAAAAI/AAAAAAAACZc/y8O_VPhGO2I/photo.jpg?sz=128", "display_name": "Danilo Ruano", "link": "https://stackoverflow.com/users/5481314/danilo-ruano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446460134, "creation_date": 1446348570, "last_edit_date": 1495542597, "question_id": 33458928, "link": "https://stackoverflow.com/questions/33458928/output-image-in-html-formed-with-perl", "title": "Output image in HTML formed with perl", "body": "<p>I tried the first solution explained in <a href=\"https://stackoverflow.com/questions/13851799/perl-cgi-display-image-to-browser-from-file\">Perl CGI display image to browser from file</a> topic.</p>\n\n<p>Everything works perfect... except for the fact that, instead of displaying the image in the browser, it displays a lot of strange characters (something similar as when I open the image in notepad.</p>\n\n<p>This is the code I am using:</p>\n\n<pre><code>#perl CGI code lines before\nselect(STDOUT); $| = 1;   #unbuffer STDOUT\nprint \"Content-type: image/jgp\\n\\n\";\n\nopen (IMAGE, '&lt;', '/absolute_route_to_image/logo.jpg');\nprint &lt;IMAGE&gt;;\nclose IMAGE;\n#rest of HTML code, displayed in a print statement in perl\n</code></pre>\n\n<p>Any help is appreciated. Thank you!!</p>\n"}, {"tags": ["perl", "datetime", "time"], "comments": [{"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 6, "creation_date": 1446331100, "post_id": 33457265, "comment_id": 54701222, "body": "Note off topic: it&#39;s better not to use the variables $a and $b, cuz they are special in perl"}], "answers": [{"comments": [{"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 1, "creation_date": 1446332957, "post_id": 33457314, "comment_id": 54701659, "body": "Interesting. So the default assumption in the package is that number of weeks are of interest. The default results for days is <code>mod 7</code> of what would normally be expected."}, {"owner": {"reputation": 12559, "user_id": 312427, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/29821a42ae05ded0e3621d80320d794b?s=128&d=identicon&r=PG", "display_name": "Fletcher Moore", "link": "https://stackoverflow.com/users/312427/fletcher-moore"}, "edited": false, "score": 1, "creation_date": 1446333556, "post_id": 33457314, "comment_id": 54701804, "body": "Excellent answer. I really appreciate you bolding the relevant documentation as well."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1446333983, "post_id": 33457314, "comment_id": 54701913, "body": "@JeffY Yeah, DateTime likes fixed length units. The issues of date math are covered in <a href=\"https://metacpan.org/pod/DateTime#Datetime-Subtraction\" rel=\"nofollow noreferrer\">How DateTime Math Works</a>. Calendar math is complicated."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 12559, "user_id": 312427, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/29821a42ae05ded0e3621d80320d794b?s=128&d=identicon&r=PG", "display_name": "Fletcher Moore", "link": "https://stackoverflow.com/users/312427/fletcher-moore"}, "edited": false, "score": 0, "creation_date": 1446334070, "post_id": 33457314, "comment_id": 54701932, "body": "@FletcherMoore Thanks. :) I only recently discovered you can do that."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 11, "last_activity_date": 1446330678, "creation_date": 1446330678, "answer_id": 33457314, "question_id": 33457265, "link": "https://stackoverflow.com/questions/33457265/why-does-this-perl-datetime-math-produce-unexpected-results/33457314#33457314", "title": "Why does this perl DateTime math produce unexpected results?", "body": "<p><code>$dif-&gt;years</code>, <code>$diff-&gt;months</code> and in particular <code>$diff-&gt;days</code> do not do what you expect. From the <a href=\"https://metacpan.org/pod/DateTime::Duration#dur-years-dur-months-dur-weeks-dur-days-dur-hours-dur-minutes-dur-seconds-dur-nanoseconds\">DateTime::Duration documentation</a>...</p>\n\n<blockquote>\n  <p>These methods return numbers indicating how many of the given unit the\n      object represents, after having done a conversion to any larger units. For\n      example, <strong><em>days are first converted to weeks, and then the remainder is\n      returned</em></strong>. These numbers are always positive.</p>\n  \n  <p>Here's what each method returns:</p>\n\n<pre><code>$dur-&gt;years()       == abs( $dur-&gt;in_units('years') )\n$dur-&gt;months()      == abs( ( $dur-&gt;in_units( 'months', 'years' ) )[0] )\n$dur-&gt;weeks()       == abs( $dur-&gt;in_units( 'weeks' ) )\n$dur-&gt;days()        == abs( ( $dur-&gt;in_units( 'days', 'weeks' ) )[0] )\n</code></pre>\n</blockquote>\n\n<p>If you find this confusing, so do I.</p>\n\n<p>What you want is <a href=\"https://metacpan.org/pod/DateTime::Duration#dur-in_units\"><code>in_units</code></a>.</p>\n\n<pre><code># 63 0 10\nsay join \" \", $dif-&gt;in_units('years', 'months', 'days');\n</code></pre>\n"}], "owner": {"reputation": 12559, "user_id": 312427, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/29821a42ae05ded0e3621d80320d794b?s=128&d=identicon&r=PG", "display_name": "Fletcher Moore", "link": "https://stackoverflow.com/users/312427/fletcher-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 33457314, "answer_count": 1, "score": 7, "last_activity_date": 1446330678, "creation_date": 1446330248, "question_id": 33457265, "link": "https://stackoverflow.com/questions/33457265/why-does-this-perl-datetime-math-produce-unexpected-results", "title": "Why does this perl DateTime math produce unexpected results?", "body": "<pre><code>#!/usr/bin/perl\nuse DateTime;\n\n$a = DateTime-&gt;new(year=&gt;1952,month=&gt;10,day=&gt;21);\n$b = DateTime-&gt;new(year=&gt;2015,month=&gt;10,day=&gt;31);\n\n$dif = $b-$a;\n\nprint $dif-&gt;years() .\" \". $dif-&gt;months() .\" \". $dif-&gt;days();\n# result: 63 0 3\n</code></pre>\n\n<p>Where does it get the 3 days from? My expectation is 63 0 10.</p>\n\n<pre><code>#!/usr/bin/perl\nuse DateTime;\n\n$a = DateTime-&gt;new(year=&gt;1952,month=&gt;11,day=&gt;1);\n$b = DateTime-&gt;new(year=&gt;2015,month=&gt;10,day=&gt;31);\n\n$dif = $b-$a;\n\nprint $dif-&gt;years() .\" \". $dif-&gt;months() .\" \". $dif-&gt;days();\n# result 62 11 2\n</code></pre>\n\n<p>My expectation for this one is 62 11 31 or so.</p>\n\n<p>I am trying to do some basic date of birth to age math. The month and year seem to work as I expect but the day seems unpredictable. I have read the CPAN documentation but I still do not understand.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1446324137, "post_id": 33456286, "comment_id": 54699192, "body": "Okay, I may have been unclear with one part of this then. I don&#39;t need to just extract the frequency. On each call, I need to separate and do something different with each filepath depending on its frequency. For some reason, I can&#39;t just get a list to return with all the files that match a specific pattern. Would it be possible to make my regex include a specific frequency? like qr/^(\\d+)-(\\d+)-(\\d+)_(\\d+)-(\\d+)-(\\d+)_44100_(\\w+).(\\w+)$/"}, {"owner": {"reputation": 2095, "user_id": 5349263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c66ff89ed72d475248cef7878d5555?s=128&d=identicon&r=PG&f=1", "display_name": "blm", "link": "https://stackoverflow.com/users/5349263/blm"}, "reply_to_user": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1446324415, "post_id": 33456286, "comment_id": 54699286, "body": "Your &quot;I need to be able to get the frequency.&quot; was unclear then. :-) If you want the whole file name back from grep_files, just drop the <code>s&#47;$pat&#47;$7&#47; foreach @files;</code> and you&#39;ll get the full filename, which you can then manipulate further. You could also return both filename and frequency by returning two array references (or an array of references to two-element arrays). You could match a specific frequency by changing group 7 to just the frequency you want. There are lots of options, just depends on exactly what you want to do."}], "tags": [], "owner": {"reputation": 2095, "user_id": 5349263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c66ff89ed72d475248cef7878d5555?s=128&d=identicon&r=PG&f=1", "display_name": "blm", "link": "https://stackoverflow.com/users/5349263/blm"}, "is_accepted": false, "score": 0, "last_activity_date": 1446323926, "last_edit_date": 1446323926, "creation_date": 1446323481, "answer_id": 33456286, "question_id": 33456159, "link": "https://stackoverflow.com/questions/33456159/regex-in-perl-that-uses-groups-to-extract-information-from-a-filepath/33456286#33456286", "title": "RegEx in perl that Uses Groups to Extract Information From A Filepath", "body": "<p>You were close, just a few changes. Here's the script and a test run:</p>\n\n<pre><code>$ cat freq.pl\n#!/usr/bin/perl --\n\nuse strict;\nuse warnings;\n\nmy $pattern = qr/^(\\d+)-(\\d+)-(\\d+)_(\\d+)-(\\d+)-(\\d+)_(\\d+)_(\\w+).(\\w+)$/;\n\nsub grep_files {\n    my ($dir, $pat) = @_;\n    opendir(my $dir_handle, $dir) or die $!;\n    my @files = grep { $_ =~ /$pat/ } readdir($dir_handle);\n    s/$pat/$7/ foreach @files;\n    closedir($dir_handle);\n    \\@files;\n}\n\nprint join(\"\\n\", @{grep_files '.', $pattern}), \"\\n\";\n$ ls\n2015-08-15_15-41-32_44100_logo.txt  freq.pl\n2015-08-25_25-41-32_48000_logo.txt\n$ ./freq.pl\n44100\n48000\n</code></pre>\n\n<p>freq.pl extracts the frequency from the filenames in the current directory. It's based on yours, with some key differences:</p>\n\n<ul>\n<li>You're matching the pattern against an undefined variable. You really want to store the pattern in the variable. I also anchor the pattern at the beginning and end, so in the (admittedly unlikely event in this case) you have other files with stuff at the start or end, it won't match those by accident. You were also missing a semi-colon at the end of the line.</li>\n<li>You were selecting the files that match the pattern, but then not extracting the frequency. The <code>s/$pat/$7/ foreach @files;</code> loops over all the files matching the pattern and replaces everything with just the 7th group, which is the frequency. You could also select files and extract the frequency in one step by using <code>map</code> instead of <code>grep</code>.</li>\n<li>I added the last line for testing.</li>\n<li>While not directly related, always use <code>use strict</code> and <code>use warnings</code> at the top of your scripts. <code>use strict</code> makes some questionable constructs errors and <code>use warnings</code> warns about some possible problems with the script.</li>\n</ul>\n\n<p>The <code>ls</code> shows the examples files in the current directory, and <code>freq.pl</code> runs the script showing the output.</p>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1446324681, "post_id": 33456432, "comment_id": 54699373, "body": "So what if I wanted to make my pattern: qr/^(\\d+)-(\\d+)-(\\d+)_(\\d+)-(\\d+)-(\\d+)_44100_(\\w+).(\\w+)$/; Where 44100 could be substituted with any frequency? Would I need to escape it too? Like \\44100? If you look above at my edit, the print join(&quot;,&quot;,@listFiles); part is only printing an array address, and not the files contained in it. (If it even contains anything)"}, {"owner": {"reputation": 2095, "user_id": 5349263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c66ff89ed72d475248cef7878d5555?s=128&d=identicon&r=PG&f=1", "display_name": "blm", "link": "https://stackoverflow.com/users/5349263/blm"}, "reply_to_user": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1446325489, "post_id": 33456432, "comment_id": 54699591, "body": "@TerikBrunson You don&#39;t need to escape the 44000, you only need to escape &quot;special&quot; characters, like dot, *, etc. You&#39;re getting an array reference because your grep_files is returning an array reference, not an array, so <code>@listFiles = grep_files...</code> is putting the array reference grep_files returns as the first (and only) element of the array @listFiles. Either change grep_files to return an array, or assign its return to a scalar and then use it as an array reference."}, {"owner": {"reputation": 2095, "user_id": 5349263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c66ff89ed72d475248cef7878d5555?s=128&d=identicon&r=PG&f=1", "display_name": "blm", "link": "https://stackoverflow.com/users/5349263/blm"}, "edited": false, "score": 1, "creation_date": 1446325571, "post_id": 33456432, "comment_id": 54699612, "body": "&quot;You could use \\d+ but it won&#39;t necessarily match a date.&quot; True, but neither does \\d\\d."}], "tags": [], "owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "is_accepted": true, "score": 0, "last_activity_date": 1446324362, "creation_date": 1446324362, "answer_id": 33456432, "question_id": 33456159, "link": "https://stackoverflow.com/questions/33456159/regex-in-perl-that-uses-groups-to-extract-information-from-a-filepath/33456432#33456432", "title": "RegEx in perl that Uses Groups to Extract Information From A Filepath", "body": "<p>Regular expression groups in perl are used like this:</p>\n\n<pre><code>my ($a, $b, $c) = $somestring=~ /(\\d+)-(\\d+)-(\\d+)/;\n</code></pre>\n\n<p>Here, each variable in the list <code>($a, $b, $c)</code> gets assigned the value of the matching groups, which are also available as <code>$1</code>, <code>$2</code>, and <code>$3</code>. So the above line is equivalent to:</p>\n\n<pre><code>$somestring =~ /(\\d+)-(\\d+)-(\\d+)/;\nmy ($a, $b, $c) = ($1, $2, $3);\n</code></pre>\n\n<p>(you could even do <code>my $a = $1; my $b = $2; my $c = $3</code>).</p>\n\n<p>If you want to declare a <code>$pattern</code> variable you should do it like this:</p>\n\n<pre><code>my $pattern = qr/(\\d+)-(\\d+)-(\\d+)_(\\d+)-(\\d+)-(\\d+)_(\\d+)_(\\w+).(\\w+)/;\n</code></pre>\n\n<p>where <a href=\"http://perldoc.perl.org/functions/qr.html\" rel=\"nofollow\"><code>qr</code></a> is the <code>quote-regexp</code> operator, pre-compiling the regular expression for optimisation. You shouldn't use the <code>=~</code> operator here, because it would apply the regular expression to <code>$pattern</code> rather than defining <code>$pattern</code> as that regular expression.\nDefining a patter this way allows you to just</p>\n\n<pre><code>$stringtomatch =~ $pattern;\n</code></pre>\n\n<p>(but <code>=~ /$pattern/</code> will also work).</p>\n\n<p>The regular expression to match files formatted like <code>2015-08-15_15-41-32_44100_logo.txt</code> or <code>&lt;date&gt;_&lt;time&gt;_&lt;frequency&gt;_logo.txt</code> looks like this:</p>\n\n<pre><code>/^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)_(\\d\\d)-(\\d\\d)-(\\d\\d)-(\\d+)_logo\\.txt$/\n</code></pre>\n\n<p>You could use <code>\\d+</code> but it won't necessarily match a date. Also, <code>.</code> in regular expressions means 'any character', so if you really mean <code>.</code> you should escape it: <code>\\.</code>.</p>\n\n<p>Here's a more verbose version of part of your sub illustrating access to the groups:</p>\n\n<pre><code>my @files = ();\nwhile ( my $file = readdir($dir_handle) ) {\n   if ( my ($year,$month,$day,$hour,$minute,$second,$freq) = $file =~ $pattern ) {\n       # do something with $freq\n       push @files, $file;\n   }\n}\n</code></pre>\n\n<p>If all you are after is a list of the frequencies, it would suffice to only 'group' the wanted field:</p>\n\n<pre><code>my $pattern = qr/^\\d+-\\d+-\\d+_\\d+-\\d+-\\d+_(\\d+)_logo\\.txt$/;\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 33456432, "answer_count": 2, "score": 0, "last_activity_date": 1446324362, "creation_date": 1446322779, "last_edit_date": 1446324332, "question_id": 33456159, "link": "https://stackoverflow.com/questions/33456159/regex-in-perl-that-uses-groups-to-extract-information-from-a-filepath", "title": "RegEx in perl that Uses Groups to Extract Information From A Filepath", "body": "<p>So I need to take something in this format: <code>2015-08-15_15-41-32_44100_logo.txt</code>and extract the date, time, and frequency from it, using these two pieces of code. Right now it's in the form <code>&lt;date&gt;_&lt;time&gt;_&lt;frequency&gt;_logo.txt.</code>Below is my attempt to make it a regex, but I know I'm missing something. How do I use groups in perl to do this?\nThe code below searches through a directory for every filepath that follows the pattern, and returns those files in a list. What I need help with is the regex itself. I need to be able to get the frequency.</p>\n\n<pre><code>$pattern =qr/^(\\d+)-(\\d+)-(\\d+)_(\\d+)-(\\d+)-(\\d+)_44100_(\\w+).(\\w+)$/;\n@listFiles = grep_files($bee_music_dir,$pattern);\nprint join(\",\",@listFiles);\n\nsub grep_files {\n    my ($dir, $pat) = @_;\n    opendir(my $dir_handle, $dir) or die $!;\n    my @files = grep { $_ =~ /$pat/ } readdir($dir_handle);\n    closedir($dir_handle);\n    return \\@files;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1446322896, "post_id": 33455221, "comment_id": 54698820, "body": "Why does the method you use for minutes/hours not work for days/weeks?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446339026, "post_id": 33455221, "comment_id": 54702873, "body": "You know that <code>gmtime</code> gives output like <code>Sun Nov  1 00:49:46 2015</code>, right? It&#39;s going to be a little difficult to subtract one of those from another and get the number of seconds elapsed."}], "answers": [{"tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": false, "score": 0, "last_activity_date": 1446327669, "last_edit_date": 1446327669, "creation_date": 1446317573, "answer_id": 33455350, "question_id": 33455221, "link": "https://stackoverflow.com/questions/33455221/using-gmtime-to-print-minutes-hours-days-and-weeks-for-processing-a-perl-scrip/33455350#33455350", "title": "Using gmtime to print, minutes,hours ,days and weeks for processing a perl script", "body": "<p>Use <code>time</code> instead of <code>gmtime</code> and you can do:</p>\n\n<pre><code>my $seconds = $finish - $start;\nmy $minutes = $seconds / 60;\nmy $hours = $minutes / 60;\nmy $days = $hours / 24;\nmy $weeks = $days / 7; \nmy $months = $weeks / (52 / 12);\nmy $years = $months / 12;\n</code></pre>\n\n<p>To get the relative sizes (i.e. 2h2m instead of 2h122m), you have to modulo out the next highest factor. It would look something like this:</p>\n\n<pre><code>my $seconds = (my $raw_seconds  = $finish - $start)         % 60; \nmy $minutes = (my $raw_minutes  = $raw_seconds / 60)        % 60;\nmy $hours   = (my $raw_hours    = $raw_minutes / 60)        % 24;\nmy $days    = (my $raw_days     = $raw_hours   / 24)        % 7;\nmy $weeks   = (my $raw_weeks    = $raw_days    / 7)         % (52 / 12);\nmy $months  = (my $raw_months   = $raw_weeks   / (52 / 12)) % 12;\nmy $years   = int(my $raw_years = $raw_months  / 12);\n</code></pre>\n\n<p>If you're thinking, \"That looks repetitive, can we automate it somewhat?\"</p>\n\n<pre><code># Given total seconds, return relative seconds, minutes, hours, days, weeks,\n# months, and years.\nsub timeparts {\n  my @factors = (1, 60, 60, 24, 7, 52 / 12, 12);\n\n  my @rawparts = $_[0] // 0;\n  my @parts;\n\n  for (my $i = 0; $i &lt; @factors; $i++) {\n    push @rawparts, $rawparts[-1] / $factors[$i];\n    push @parts, defined $factors[$i+1]\n      ? $rawparts[-1] % $factors[$i+1]\n      : int $rawparts[-1];\n  }\n\n  return @parts;\n}\n</code></pre>\n\n<p>Fortunately, there are much easier ways to do this. Take a look at Time::Piece, Time::Seconds, and Time::Duration. </p>\n"}], "owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446327669, "creation_date": 1446316869, "question_id": 33455221, "link": "https://stackoverflow.com/questions/33455221/using-gmtime-to-print-minutes-hours-days-and-weeks-for-processing-a-perl-scrip", "title": "Using gmtime to print, minutes,hours ,days and weeks for processing a perl script", "body": "<p><br>\nI want to print the time that my scripts took to run completely in Perl in minutes, hours, days and weeks using gmtime().<br>\nFor examples<br></p>\n\n<pre><code> use strict;\n use warnings;\n my $start = gmtime();\n # do something\n my $finish=gmtime();\n print \"The script last \";\n minutes=, hours=, days=, weeks='\n</code></pre>\n\n<p>Any idea about how to do it?<br>\nI could solve it using minutes and hours, but I want also add days and weeks<br>\nThanks in advance</p>\n"}, {"tags": ["python", "perl", "scripting", "google-photos"], "answers": [{"tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": -1, "last_activity_date": 1446433895, "creation_date": 1446433895, "answer_id": 33470161, "question_id": 33454487, "link": "https://stackoverflow.com/questions/33454487/how-to-find-and-reduce-images-backuped-by-google-photos-that-are-eating-up-my-gm/33470161#33470161", "title": "How to find and reduce images backuped by google photos that are eating up my gmail quota?", "body": "<p>I am not sure you need to program something for this.</p>\n\n<p>In my browser I was able go to google drive, on the left click on Google Photos, this then asked me to add google photos to my drive. Which I did. At this point open up file browser, sort by size, move the files out to a local folder, bulk convert using photoshop or similar, and re-upload.</p>\n\n<p>Alternatively us an online service such as DriveConverter which does amongst other things image conversions; <a href=\"http://www.driveconverter.com/\" rel=\"nofollow\">http://www.driveconverter.com/</a></p>\n"}, {"tags": [], "owner": {"reputation": 2005, "user_id": 955143, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ae872b7caff52b2b1b64ec2611df7a6?s=128&d=identicon&r=PG", "display_name": "Rafareino", "link": "https://stackoverflow.com/users/955143/rafareino"}, "is_accepted": true, "score": 0, "last_activity_date": 1535284046, "creation_date": 1535284046, "answer_id": 52025930, "question_id": 33454487, "link": "https://stackoverflow.com/questions/33454487/how-to-find-and-reduce-images-backuped-by-google-photos-that-are-eating-up-my-gm/52025930#52025930", "title": "How to find and reduce images backuped by google photos that are eating up my gmail quota?", "body": "<p>Just found a better way, going to your Google Photos web interface you will find a <strong>RECOVER STORAGE</strong> option, it will <em>try to</em> convert all your previously uploaded photos to <strong>High quality</strong>, which means they will no longer count against your quota</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ijcn5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ijcn5.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2005, "user_id": 955143, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ae872b7caff52b2b1b64ec2611df7a6?s=128&d=identicon&r=PG", "display_name": "Rafareino", "link": "https://stackoverflow.com/users/955143/rafareino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 52025930, "answer_count": 2, "score": 0, "last_activity_date": 1535284046, "creation_date": 1446312651, "last_edit_date": 1446313309, "question_id": 33454487, "link": "https://stackoverflow.com/questions/33454487/how-to-find-and-reduce-images-backuped-by-google-photos-that-are-eating-up-my-gm", "title": "How to find and reduce images backuped by google photos that are eating up my gmail quota?", "body": "<p>Google Photos app offers to backup our photos for free, in their full resolution using your google combined storage (Gmail+Docs+Photos up to 15Gb free), or at 'High quality' (up to 16 Mp photos and HD videos) <strong>without</strong> affecting your quota.</p>\n\n<p>I think that 16Mp is pretty much good for a long term backup (in fact I thought that 8Mp was very good), so I go for the 'High quality' option, bu it led me to two main problems:</p>\n\n<ol>\n<li><p>As long as Google is not backing up my full resolution Photos, the auto delete feature is unavaliable.</p></li>\n<li><p>Sometimes in the past, my app had switched to full resolution backup, without any advice, and some of my files were backed up in full res taking part of my quota away.</p></li>\n</ol>\n\n<p>To try to solve this, I wanna greate a script, Python/Perl may be good picks, that find those high res images in Google Photos, download/delete them, and push them to the backup again using the free storage 'High quality' mode.</p>\n\n<p>TL;DR</p>\n\n<p>A little more context, I am a freakin' father that take photos always at burst mode from my kid, my pets, special family momments, etc. So it is not surprising that Google should not be happy in backing up all those images.</p>\n\n<p>Beside that, my Full Resolution Photos are not that big at all, most of them never got to that 8Mp point, but if you use the original/full res backup mode they <strong>will</strong> take space from your gmail/drive account.</p>\n\n<p>Setting up a seccond, tird, n-th acount seems to not work so well, cause you will need to switch among them to search or find the great creations they do with our photos.</p>\n"}, {"tags": ["regex", "perl", "file"], "comments": [{"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 0, "creation_date": 1446309227, "post_id": 33453872, "comment_id": 54694473, "body": "How are the <i>given two words</i> used in the algorithm?"}, {"owner": {"reputation": 139, "user_id": 2777912, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/007a8a2e94201d78ecba9937ac4583cf?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneTrueSign", "link": "https://stackoverflow.com/users/2777912/theonetruesign"}, "reply_to_user": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 0, "creation_date": 1446309479, "post_id": 33453872, "comment_id": 54694546, "body": "Sorry , I clarified my original post with an edit."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 2, "creation_date": 1446311579, "post_id": 33453872, "comment_id": 54695204, "body": "So let&#39;s see the program..."}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 0, "creation_date": 1446313244, "post_id": 33453872, "comment_id": 54695748, "body": "Are <code>abcd</code>  and <code>acd</code> <b><i>different by one letter</i></b>?"}, {"owner": {"reputation": 139, "user_id": 2777912, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/007a8a2e94201d78ecba9937ac4583cf?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneTrueSign", "link": "https://stackoverflow.com/users/2777912/theonetruesign"}, "edited": false, "score": 0, "creation_date": 1446313377, "post_id": 33453872, "comment_id": 54695798, "body": "No, for this they have to be the same length."}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 2777912, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/007a8a2e94201d78ecba9937ac4583cf?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneTrueSign", "link": "https://stackoverflow.com/users/2777912/theonetruesign"}, "edited": false, "score": 0, "creation_date": 1446315318, "post_id": 33454461, "comment_id": 54696468, "body": "Thanks, I&#39;m working through your solution slowly but surly."}, {"owner": {"reputation": 1006, "user_id": 5470883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00e69ca099c3495868b7cefd66b72a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Baltasar", "link": "https://stackoverflow.com/users/5470883/alexander-baltasar"}, "edited": false, "score": 0, "creation_date": 1446449822, "post_id": 33454461, "comment_id": 54730869, "body": "@Greg Bacon &quot;... all possible words in the chain must have the same length.&quot; This is not right. A word could also have one letter more or one letter less. Example: word = words"}, {"owner": {"reputation": 120535, "user_id": 123109, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/157c96de3d125abc1c363ff25c20dfaf?s=128&d=identicon&r=PG", "display_name": "Greg Bacon", "link": "https://stackoverflow.com/users/123109/greg-bacon"}, "reply_to_user": {"reputation": 1006, "user_id": 5470883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00e69ca099c3495868b7cefd66b72a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Baltasar", "link": "https://stackoverflow.com/users/5470883/alexander-baltasar"}, "edited": false, "score": 0, "creation_date": 1447119973, "post_id": 33454461, "comment_id": 55017448, "body": "@AlexanderBalzer OP <a href=\"http://stackoverflow.com/questions/33453872/finding-all-words-that-differ-by-one-letter/33454461#comment54695798_33453872\">commented on the question</a> to state that the words must have the same length."}], "tags": [], "owner": {"reputation": 120535, "user_id": 123109, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/157c96de3d125abc1c363ff25c20dfaf?s=128&d=identicon&r=PG", "display_name": "Greg Bacon", "link": "https://stackoverflow.com/users/123109/greg-bacon"}, "is_accepted": true, "score": 1, "last_activity_date": 1446313959, "last_edit_date": 1446313959, "creation_date": 1446312524, "answer_id": 33454461, "question_id": 33453872, "link": "https://stackoverflow.com/questions/33453872/finding-all-words-that-differ-by-one-letter/33454461#33454461", "title": "Finding all words that differ by one letter", "body": "<p>There is an easy optimization to thin your pool of candidates: all possible words in the chain must have the same length.</p>\n\n<pre><code>sub read_all_candidates {\n  my($dict,$start) = @_;\n\n  open my $fh, \"&lt;\", $dict or die \"$0: open $dict: $!\\n\";\n\n  my @pool;\n  while (&lt;$fh&gt;) {\n    chomp;\n    next if length($_) != length($start) || $_ eq $start;\n    push @pool, lc $_;\n  }\n\n  \\@pool;\n}\n</code></pre>\n\n<p>Given the length of words in your chain, you can also construct a specialized <code>Regexp</code> instance for words of that length.</p>\n\n<pre><code># Computes and caches a Regexp object (created with qr//) that\n# matches pairs of one-hop words concatenated one after the\n# other (e.g., \"doghog\" for dog and hog). For example, words of\n# length 3 would generate the following pattern:\n#\n#   ^(.)(.)(.)(?:.\\2\\3|\\1.\\3|\\1\\2.)$\n#\n# You need only call this sub once per run.\nmy $_one_hopper;\nsub _compute_one_hopper {\n  my($length) = @_;\n\n  my $pattern = \"^\" . \"(.)\" x $length;\n\n  my @choices;\n  foreach my $n (1 .. $length) {\n    push @choices =&gt; join \"\", map $_ == $n ? \".\" : \"\\\\$_\", 1 .. $length;\n  }\n\n  #print $pattern, \"\\n\";\n  $pattern .= \"(?:\" . join(\"|\" =&gt; @choices) . \")\\$\";\n\n  eval \"\\$_one_hopper = qr/$pattern/\" or die \"$0: internal error\";\n}\n</code></pre>\n\n<p>Use <code>$_one_hopper</code> as in</p>\n\n<pre><code># Returns one-hop neighbors of $from taken from @$words but that are\n# not present in %$seen.\nsub one_hop {\n  my($from,$words,$seen) = @_;\n\n  $_one_hopper = _compute_one_hopper length $from\n    unless defined $_one_hopper;\n\n  grep !$seen-&gt;{$_} &amp;&amp; \"$from$_\" =~ /$_one_hopper/, @$words;\n}\n</code></pre>\n\n<p>Tying it all together, your main loop has the following structure.</p>\n\n<pre><code>my $words = read_all_candidates $dict, $start;\n\nmy $min  = 1;         # minimum number of transitions from $start to\nmy $seen = {};        # words seen in earlier batches (prevents\nmy @last = ($start);  # last batch of neighbors\n\nwhile (@last) {\n  my @next;\n  foreach my $word (@last) {\n    my @onemore = one_hop $word, $words, $seen;\n    ++$seen-&gt;{$_} for @onemore;\n    ...\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 2777912, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/007a8a2e94201d78ecba9937ac4583cf?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneTrueSign", "link": "https://stackoverflow.com/users/2777912/theonetruesign"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 33454461, "answer_count": 1, "score": 2, "last_activity_date": 1446316166, "creation_date": 1446309030, "last_edit_date": 1446316166, "question_id": 33453872, "link": "https://stackoverflow.com/questions/33453872/finding-all-words-that-differ-by-one-letter", "title": "Finding all words that differ by one letter", "body": "<p>I\u2019m working on a word chain program, and given two words and a file of words the program finds how to go from one word to the other by only changing one letter at a time, changing to one word from another based off of the words in the file.</p>\n\n<p>I\u2019m working on a subroutine that will return a list of words from the file that are only different by one letter.</p>\n\n<p>I know I\u2019d probably use regular expressions to find the words and add it to a list. Thanks for any help someone can give.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\n$start_word = $ARGV[0];\n$end_word = $ARGV[1];\n\nmy $file = \"wordlist.txt\";\n\nopen (FH, \"&lt; $file\" ) or die \"Can't open $file for read: $!\";\nmy @lines;\nwhile(&lt;FH&gt;)\n{\n        push (@lines, $_);\n}\n\n#print @lines;\n\n#find word diff\n\n#return list of words with 1 letter diff\n\n#recursion to return smallest stack\n</code></pre>\n"}, {"tags": ["perl", "testing", "automated-tests", "dbix-class", "test-class"], "comments": [{"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1446326258, "post_id": 33452074, "comment_id": 54699828, "body": "Please note that DBIx is a weile namespace in which DBIx::Class is only one distribution of modules. The abbreviation for DBIx::Class is DBIC."}], "answers": [{"tags": [], "owner": {"reputation": 1537, "user_id": 1248009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/911aa8c8d83d7f53d1650fa7c585dd92?s=128&d=identicon&r=PG", "display_name": "a7omiton", "link": "https://stackoverflow.com/users/1248009/a7omiton"}, "is_accepted": false, "score": 1, "last_activity_date": 1446415712, "last_edit_date": 1446415712, "creation_date": 1446307028, "answer_id": 33453544, "question_id": 33452074, "link": "https://stackoverflow.com/questions/33452074/how-to-deploy-a-test-database-for-dbix-class/33453544#33453544", "title": "How to deploy a test database for DBIx Class", "body": "<p>I believe I figured it out</p>\n\n<p>The way I use the DBIx schema in the app is to instantiate it within a base controller which all sub controllers inherit. No matter how I built and populated the in memory database in the Test::Class::Moose object, it would not be using the instance specified there, instead it would be using the one specified in the base controller.</p>\n\n<p>the solution was to move the schema construction up one level (from controller to the app root) as an attribute, allowing me to override it in Test Mojo to use the in memory db.</p>\n"}], "owner": {"reputation": 1537, "user_id": 1248009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/911aa8c8d83d7f53d1650fa7c585dd92?s=128&d=identicon&r=PG", "display_name": "a7omiton", "link": "https://stackoverflow.com/users/1248009/a7omiton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1522423860, "creation_date": 1446297721, "last_edit_date": 1522423860, "question_id": 33452074, "link": "https://stackoverflow.com/questions/33452074/how-to-deploy-a-test-database-for-dbix-class", "title": "How to deploy a test database for DBIx Class", "body": "<p>I have Mojolicious app with a test suite using Test::Class::Moose. Using DBIx::Class to interact with my database, is there a way to setup an in-memory database that I can add fixture data to?</p>\n\n<p>I'd like to use an in memory database because it'll mean that the application will have less setup configuration. I do know how to setup an actual SQLite database for testing but managing that for testing along with a mySQL database for production doesn't sound like easy management (eg \"oh no, forgot to rebuild the testing database\").</p>\n\n<p>Loading data from fixtures seems ideal, that way you have more control over what is actually in the database. Example, you find a bug with a row that contains certain data, add a row like that to your fixture file and test until successful.</p>\n\n<p>Now how to actually set up an in-memory database using DBIx? :)</p>\n\n<p>Right now this is how I'm building the schema for my Test::Class::Moose suite:</p>\n\n<pre><code>has cats =&gt; (\n    is =&gt; 'ro',\n    isa =&gt; 'Test::Mojo::Cats',\n    default =&gt; sub { return Test::Mojo::Cats-&gt;new(); }\n);\n\nhas schema =&gt; (\n    is =&gt; 'ro',\n    lazy =&gt; 1,\n    builder =&gt; '_build_schema_and_populate',\n);\n\nsub _build_schema_and_populate {\n    my $test = shift;\n    my $config = $test-&gt;cats-&gt;app-&gt;config();\n    my $schema = Cat::Database::Schema-&gt;connect(\n        $config-&gt;{db_dsn},\n        $config-&gt;{db_user},\n        $config-&gt;{db_pass},\n        {\n            HandleError =&gt; DBIx::Error-&gt;HandleError,\n            unsafe =&gt; 1\n        }\n    );\n\n    require DBIx::Class::DeploymentHandler;\n    my $dh = DBIx::Class::DeploymentHandler-&gt;new({\n        schema  =&gt; $schema,\n        sql_translator_args =&gt; { add_drop_table =&gt; 0 },\n        schema_version =&gt; 3,\n    });\n    $dh-&gt;prepare_install;\n    $dh-&gt;install;\n\n    my $json = read_file $config-&gt;{fixture_file};\n    my $fixtures = JSON::decode_json($json);\n\n    $schema-&gt;resultset($_)-&gt;populate($fixtures-&gt;{$_}) for keys %{$fixtures};\n\n    return $schema;\n}\n</code></pre>\n\n<p>Where my config specifies <code>dbi:SQLite:dbname=:memory:</code> as the database dsn.</p>\n\n<p>When running the test suite, the tables don't seem to be loaded, as I get errors stating the table does not exist, eg <code>Can't locate object method \"id\" via package \"no such table: cats\"</code></p>\n\n<p>Is there some extra setup that I'm not doing when wanting to deploy to an in-memory database?</p>\n\n<p>Thanks</p>\n\n<p>PS:</p>\n\n<p>Doing the following works in a single script, I don't know if I'm doing something that Test::Class::Moose or Mojo doesn't like with the above</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Cats::Database::Schema;\nuse File::Slurp;\nuse JSON;\nuse Data::Dumper;\n\nmy $schema = Cats::Database::Schema-&gt;connect(\n    'dbi:SQLite:dbname=:memory:', '', ''\n);\n\nmy $json = read_file('../t/fixtures.json');\nmy $fixtures = JSON::decode_json($json);\n\n$schema-&gt;deploy();\n$schema-&gt;resultset($_)-&gt;populate($fixtures-&gt;{$_}) for keys %{$fixtures};\n\n# returns fixture data fine\n# warn Dumper($schema-&gt;resultset('User')-&gt;search({}));\n</code></pre>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1446281532, "post_id": 33449612, "comment_id": 54686669, "body": "Why output from DBI?"}], "answers": [{"comments": [{"owner": {"reputation": 1808, "user_id": 5397845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-h5AyAVbZoqI/AAAAAAAAAAI/AAAAAAAAALA/pyUGY5qhrl4/photo.jpg?sz=128", "display_name": "Swadhikar", "link": "https://stackoverflow.com/users/5397845/swadhikar"}, "edited": false, "score": 0, "creation_date": 1446449158, "post_id": 33449680, "comment_id": 54730604, "body": "Good solution. I feel it would be more good if we handle the error along with print statement."}], "tags": [], "owner": {"reputation": 745, "user_id": 1576103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f7f37947b40fc2385fdb6c5e1865eb4?s=128&d=identicon&r=PG&f=1", "display_name": "loganaayahee", "link": "https://stackoverflow.com/users/1576103/loganaayahee"}, "is_accepted": false, "score": -1, "last_activity_date": 1446281920, "last_edit_date": 1446281920, "creation_date": 1446280769, "answer_id": 33449680, "question_id": 33449612, "link": "https://stackoverflow.com/questions/33449612/how-can-i-get-output-table-created-with-perl-dbi/33449680#33449680", "title": "How can I get output &quot;Table created&quot; with perl DBI", "body": "<p>If the Query is not executed successfully print the error message.</p>\n\n<pre><code>  $Local_Dbh-&gt;do($Query) or print \" Unable to execute the query $Local_Dbh-&gt;errstr\";  \n</code></pre>\n\n<p>If the table is not created , It will return the undef or -1   otherwise return the value like </p>\n\n<pre><code>     Result : 0E0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4761, "user_id": 2277395, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/09841ca82e49f998ea0b8f159dea87c1?s=128&d=identicon&r=PG", "display_name": "Martin Drautzburg", "link": "https://stackoverflow.com/users/2277395/martin-drautzburg"}, "is_accepted": true, "score": 1, "last_activity_date": 1446283107, "creation_date": 1446283107, "answer_id": 33449951, "question_id": 33449612, "link": "https://stackoverflow.com/questions/33449612/how-can-i-get-output-table-created-with-perl-dbi/33449951#33449951", "title": "How can I get output &quot;Table created&quot; with perl DBI", "body": "<p>I don't think you can get this answer directly from DBI. DBI does not really care about what it is executing, it just passes things to and fom the database. Only you (or the code you wrote) know that the statement you ran was a <code>CREATE TABLE</code> statement.</p>\n\n<p>So if you want to print <code>TABLE CREATED</code>, or even <code>TABLE test CREATED</code>, you must check the return value as suggested by some other answers here and assemble the message yourself.</p>\n"}], "owner": {"reputation": 169, "user_id": 3748944, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4bcc4d704b14945b7e14aed5065b9981?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Kovtunenko", "link": "https://stackoverflow.com/users/3748944/oleksandr-kovtunenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 33449951, "answer_count": 2, "score": 0, "last_activity_date": 1446288525, "creation_date": 1446280259, "last_edit_date": 1446282571, "question_id": 33449612, "link": "https://stackoverflow.com/questions/33449612/how-can-i-get-output-table-created-with-perl-dbi", "title": "How can I get output &quot;Table created&quot; with perl DBI", "body": "<p>There is a code I would like to get output with Perl DBI \"Table created\":</p>\n\n<pre><code>use DBI;\nuse DBD::Oracle qw(:ora_session_modes);\n\n$dbh=DBI-&gt;connect( \"dbi:Oracle:\", \"\", \"\", { ora_session_mode =&gt;\n      ORA_SYSDBA , RaiseError =&gt; 1, PrintError =&gt; 1 } );\n$dbh-&gt;do(qq{  create table test ( customer_id number(10) NOT NULL )    } );\n</code></pre>\n\n<p>How can I get this output \"Table created\" from DBI?</p>\n"}, {"tags": ["ruby", "regex", "perl", "pcre", "oniguruma"], "answers": [{"comments": [{"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 2, "creation_date": 1446302202, "post_id": 33452089, "comment_id": 54692210, "body": "Good answer, but I would add that the &quot;cosmetic&quot; form should be simply <code>(?: ... ){0}</code>.  The <code>^$DEFINE</code> part serves no purpose, and if the variable <code>$DEFINE</code> has been set, its value could be something that will break the regex.  As you said, the <code>{0}</code> provides the essential functionality; grouping is just a convenience."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 6, "last_activity_date": 1564000004, "last_edit_date": 1564000004, "creation_date": 1446297792, "answer_id": 33452089, "question_id": 33449467, "link": "https://stackoverflow.com/questions/33449467/named-subroutines-in-oniguruma-regex-engine/33452089#33452089", "title": "Named subroutines in Oniguruma regex engine?", "body": "<p>You don't need a so complicated hack. Writing:</p>\n\n<pre><code>(?x)\n(?&lt;animal&gt;dog|cat){0}\n(?&lt;color&gt;red|green|blue){0}\n...\nyour main pattern here\n</code></pre>\n\n<p>does exactly the same.</p>\n\n<p>Putting all group definitions inside <code>(?:^$DEFINE ... ){0}</code> is only cosmetic.</p>\n\n<p>Note that a group with the quantifier <code>{0}</code> isn't tried at all (the quantifier is taken in account first), and if in this way the named group is defined anyway, man can deduce that it isn't really a hack, but the way to do it with oniguruma.</p>\n"}], "owner": {"reputation": 3493, "user_id": 352477, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c45a4ab5ad7c8d235325033a3f53671d?s=128&d=identicon&r=PG", "display_name": "MikeC8", "link": "https://stackoverflow.com/users/352477/mikec8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 33452089, "answer_count": 1, "score": 3, "last_activity_date": 1564000004, "creation_date": 1446278944, "question_id": 33449467, "link": "https://stackoverflow.com/questions/33449467/named-subroutines-in-oniguruma-regex-engine", "title": "Named subroutines in Oniguruma regex engine?", "body": "<p>In Perl, you can do this:</p>\n\n<pre><code>(?x)\n(?(DEFINE)\n  (?&lt;animal&gt;dog|cat)\n)\n(?&amp;animal)\n</code></pre>\n\n<p>In Ruby (Oniguruma engine), it seems that the <code>(?(DEFINE...</code> syntax is not supported. Also, <code>(?&amp;...</code> becomes <code>\\g</code>. So, you can do this:</p>\n\n<pre><code>(?x)\n(?&lt;animal&gt;dog|cat)\n\\g&lt;animal&gt;\n</code></pre>\n\n<p>But of course, this is not equivalent to the Perl example I gave above, becuase the first <code>(?&lt;animal&gt;dog|cat)</code> is not ignored, since there isn't anything like <code>(?(DEFINE...</code>.</p>\n\n<p>If I want to define a large regex with a bunch of named subroutines, what I could once do in Perl can't be done this way.</p>\n\n<p>It does seem that I could hack together a pretty awkward solution by doing something like this:</p>\n\n<pre><code>(?x)\n(?:^$DEFINE\n  (?&lt;animal&gt;dog|cat)\n){0}\n\\g&lt;animal&gt;\n</code></pre>\n\n<p>But, that is pretty hackish. Is there a better way to do this? Does Oniguruma support a way to define named subroutines without having to try to \"match\" them first?</p>\n\n<p>Alternatively, if there is a way to get true PCRE to work in Ruby, with <code>?(DEFINE...</code> and <code>(?&amp;...</code> I'd take that too.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "parsing"], "comments": [{"owner": {"reputation": 2194, "user_id": 2142505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f16433508978bc7ab06ee6fd8f124b?s=128&d=identicon&r=PG", "display_name": "davejagoda", "link": "https://stackoverflow.com/users/2142505/davejagoda"}, "edited": false, "score": 0, "creation_date": 1446272632, "post_id": 33448633, "comment_id": 54685054, "body": "Does that input file have any line breaks in it? Can you make sure it&#39;s formatted above like it looks on the computer where your code will run?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5505733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5edb97925474c77d5a0bc0810171fa2?s=128&d=identicon&r=PG&f=1", "display_name": "Moses V", "link": "https://stackoverflow.com/users/5505733/moses-v"}, "edited": false, "score": 0, "creation_date": 1446273975, "post_id": 33448733, "comment_id": 54685299, "body": "the case in the above code i have the input as a .txt file"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 1, "user_id": 5505733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5edb97925474c77d5a0bc0810171fa2?s=128&d=identicon&r=PG&f=1", "display_name": "Moses V", "link": "https://stackoverflow.com/users/5505733/moses-v"}, "edited": false, "score": 0, "creation_date": 1446275476, "post_id": 33448733, "comment_id": 54685582, "body": "@MosesV See my edits. However, it sounds like you might benefit from learning some Perl on your own. Check out the free books on <a href=\"http://stackoverflow.com/tags/perl/info\">this page</a>."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1446275232, "last_edit_date": 1446275232, "creation_date": 1446272749, "answer_id": 33448733, "question_id": 33448633, "link": "https://stackoverflow.com/questions/33448633/parsing-pipe-delimited-text-file-in-perl/33448733#33448733", "title": "Parsing pipe-delimited text file in Perl", "body": "<p>Your columns are delimited by pipes (<code>|</code>), not tabs, so that's what you need to split on:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dump;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @fields = split(/\\|/, $_);\n    dd(\\@fields);   \n}\n\n__DATA__\nCUI|SDUI|HpoStr|MedGenStr|MedGenStr_SAB|STY|\nCN000002|HP:0000001|All|All|HPO|Finding|\nCN000003|HP:0000002|Abnormality of body height|Abnormality of body height|GTR|Finding|\nCN000004|HP:0000003|Multicystic kidney dysplasia|Multicystic kidney dysplasia|GTR|Finding|\nCN000006|HP:0000005|Mode of inheritance|Mode of inheritance|HPO|Finding|\nC0443147|HP:0000006|Autosomal dominant inheritance|Autosomal dominant inheritance|GTR|Intellectual Product|\nC0441748|HP:0000007|Autosomal recessive inheritance|Autosomal recessive inheritance|HPO|Intellectual Product|\nCN000009|HP:0000008|Abnormality of female internal genitalia|Abnormality of female internal genitalia|GTR|Finding|\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[\"CUI\", \"SDUI\", \"HpoStr\", \"MedGenStr\", \"MedGenStr_SAB\", \"STY\"]\n[\"CN000002\", \"HP:0000001\", \"All\", \"All\", \"HPO\", \"Finding\"]\n[\n  \"CN000003\",\n  \"HP:0000002\",\n  \"Abnormality of body height\",\n  \"Abnormality of body height\",\n  \"GTR\",\n  \"Finding\",\n]\n[\n  \"CN000004\",\n  \"HP:0000003\",\n  \"Multicystic kidney dysplasia\",\n  \"Multicystic kidney dysplasia\",\n  \"GTR\",\n  \"Finding\",\n]\n...\n</code></pre>\n\n<p>If you want to supply a file to read, just change <code>while (&lt;DATA&gt;)</code> to <code>while (&lt;&gt;)</code> and run the script like so: <code>perl script.pl input.txt</code>.</p>\n\n<p>If you need access to the fields by name, you want a hash:</p>\n\n<pre><code>my @headers;\n\nwhile (&lt;DATA&gt;) {\n    chomp;  \n    my @fields = split(/\\|/, $_);\n\n    if ($. == 1) {\n        @headers = @fields;\n        next;\n    }\n\n    my %data;\n    @data{@headers} = @fields;\n    dd(\\%data); \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n  CUI =&gt; \"CN000002\",\n  HpoStr =&gt; \"All\",\n  MedGenStr =&gt; \"All\",\n  MedGenStr_SAB =&gt; \"HPO\",\n  SDUI =&gt; \"HP:0000001\",\n  STY =&gt; \"Finding\",\n}\n{\n  CUI =&gt; \"CN000003\",\n  HpoStr =&gt; \"Abnormality of body height\",\n  MedGenStr =&gt; \"Abnormality of body height\",\n  MedGenStr_SAB =&gt; \"GTR\",\n  SDUI =&gt; \"HP:0000002\",\n  STY =&gt; \"Finding\",\n}\n...\n</code></pre>\n\n<p>However, it looks like you're quickly approaching the point where using <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a> would be better than trying to do this by hand.</p>\n"}], "owner": {"reputation": 1, "user_id": 5505733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5edb97925474c77d5a0bc0810171fa2?s=128&d=identicon&r=PG&f=1", "display_name": "Moses V", "link": "https://stackoverflow.com/users/5505733/moses-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 1, "answer_count": 1, "score": -4, "last_activity_date": 1446275912, "creation_date": 1446271865, "last_edit_date": 1446275912, "question_id": 33448633, "link": "https://stackoverflow.com/questions/33448633/parsing-pipe-delimited-text-file-in-perl", "title": "Parsing pipe-delimited text file in Perl", "body": "<p>I have the following text file:</p>\n\n<pre><code>CUI|SDUI|HpoStr|MedGenStr|MedGenStr_SAB|STY|\nCN000002|HP:0000001|All|All|HPO|Finding|\nCN000003|HP:0000002|Abnormality of body height|Abnormality of body height|GTR|Finding|\nCN000004|HP:0000003|Multicystic kidney dysplasia|Multicystic kidney dysplasia|GTR|Finding|\nCN000006|HP:0000005|Mode of inheritance|Mode of inheritance|HPO|Finding|\nC0443147|HP:0000006|Autosomal dominant inheritance|Autosomal dominant inheritance|GTR|Intellectual Product|\nC0441748|HP:0000007|Autosomal recessive inheritance|Autosomal recessive inheritance|HPO|Intellectual Product|\nCN000009|HP:0000008|Abnormality of female internal genitalia|Abnormality of female internal genitalia|GTR|Finding|\n</code></pre>\n\n<p>I want to parse this using Perl. This is what I've got so far:</p>\n\n<pre><code>#!/usr/bin/perl\n\nopen (FILE, 'filename.txt');\n\nwhile (&lt;FILE&gt;) {\n    chomp;\n    ($CUI, $SDUI, $HpoStr, $MedGenStr, $MedGenStr_SAB, $STY) = split(\"\\t\");\n    print \"CUI: $CUI\\n\";\n    print \"SDUI: $SDUI\\n\";\n    print \"HpoStr: $HpoStr\\n\";\n    print \"MedGenStr: $MedGenStr\\n\";\n    print \"MedGenStr_SAB: $MedGenStr_SAB\\n\";\n    print \"STY: $STY\\n\";\n    print \"---------\\n\";\n}\n\nclose (FILE);\nexit;\n</code></pre>\n\n<p>I do get an output when I run it with the nano editor, but when I use a command like <code>perl filename.pl</code> I have many errors. I want to know whether my code is wrong or if there is a better way to structure my code.</p>\n\n<p>-1 down vote accept</p>\n\n<p>the case in the above code i have the input as a separate .txt file\n#</p>\n\n<p>CUI|SDUI|HpoStr|MedGenStr|MedGenStr_SAB|STY|</p>\n\n<p>CN000002|HP:0000001|All|All|HPO|Finding| CN000003|HP:0000002|Abnormality of body height|Abnormality of body height|GTR|Fi nding| CN000004|HP:0000003|Multicystic kidney dysplasia|Multicystic kidney dysplasia|GT R|Finding| CN000006|HP:0000005|Mode of inheritance|Mode of inheritance|HPO|Finding| C0443147|HP:0000006|Autosomal dominant inheritance|Autosomal dominant inheritanc e|GTR|Intellectual Product| C0441748|HP:0000007|Autosomal recessive inheritance|Autosomal recessive inherita nce|HPO|Intellectual Product| CN000009|HP:0000008|Abnormality of female internal genitalia|Abnormality of fema le internal genitalia|GTR|Finding|\n#</p>\n\n<p>if i wanted to use as file input option how do i go about it?? as the size of the file is as big as 1gb.</p>\n\n<p>and these are the header files i have to associate entries with these headers</p>\n"}, {"tags": ["windows", "perl", "environment-variables", "strawberry-perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446276795, "post_id": 33448386, "comment_id": 54685829, "body": "<code>$_</code> is <i>not magical</i>. It is simply the default parameter for many core functions"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446278408, "post_id": 33448386, "comment_id": 54686110, "body": "@Borodin: you are right. I&#39;ve taken another example."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446300090, "post_id": 33448386, "comment_id": 54691512, "body": "An example of a scalar would be <code>$!</code>."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446300236, "post_id": 33448386, "comment_id": 54691570, "body": "@ikegami: yes, <code>$!</code>, <code>$1</code>, <code>$.</code>... - but actually I like your answer more anyway."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1446278393, "last_edit_date": 1446278393, "creation_date": 1446269271, "answer_id": 33448386, "question_id": 33448334, "link": "https://stackoverflow.com/questions/33448334/strawberry-perl-is-env-an-ordinary-object/33448386#33448386", "title": "Strawberry Perl Is %ENV An Ordinary Object", "body": "<blockquote>\n  <p>Is the %ENV hash magical without being tied?</p>\n</blockquote>\n\n<p>Yes, %ENV is a magic variable without being tied, similar to various other variables like %SIG. See <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perldoc perlvar</a> for more of these.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1446273167, "last_edit_date": 1446273167, "creation_date": 1446272848, "answer_id": 33448746, "question_id": 33448334, "link": "https://stackoverflow.com/questions/33448334/strawberry-perl-is-env-an-ordinary-object/33448746#33448746", "title": "Strawberry Perl Is %ENV An Ordinary Object", "body": "<p>The following is from ActivePerl, but every Perl including Strawberry Perl will give you the same thing:</p>\n\n<pre><code>&gt;perl -E\"use Devel::Peek; Dump(\\%ENV, 1);\"\nSV = IV(0x74b154) at 0x74b154\n  REFCNT = 1\n  FLAGS = (TEMP,ROK)\n  RV = 0x63e33c\n  SV = PVHV(0x62a8ac) at 0x63e33c\n    REFCNT = 2\n    FLAGS = (SMG,RMG,SHAREKEYS)\n    MAGIC = 0x639084                               &lt;-------\n      MG_VIRTUAL = &amp;PL_vtbl_env\n      MG_TYPE = PERL_MAGIC_env(E)\n    ARRAY = 0x640794  (0:30, 1:22, 2:11, 3:1)\n    hash quality = 107.7%\n    KEYS = 47\n    FILL = 34\n    MAX = 63\n</code></pre>\n\n<p>As you can see, <code>%ENV</code> is magical. But it's not tied; that would be magic type \"P\" instead of \"E\".</p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 33448746, "answer_count": 2, "score": 3, "last_activity_date": 1446278393, "creation_date": 1446268685, "question_id": 33448334, "link": "https://stackoverflow.com/questions/33448334/strawberry-perl-is-env-an-ordinary-object", "title": "Strawberry Perl Is %ENV An Ordinary Object", "body": "<p>So, In Strawberry Perl, %ENV appears to be an ordinary hash (at least it isn't tied), \nbut it also appears to resolve keys case insensitively. This makes sense given that environment\nvariables are case insensitive in PowerShell (I am not sure of the exact relationship between\nWindows environment variables and case). So, I am wondering how %ENV can simultaneously be an\nordinary hash, and have \"implicit\" keys that are not listed when you call they keys builtin on it.\nIs the %ENV hash magical without being tied?</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# Env appears to be an ordinary hash\n# 'TEMP' is present in the list of environment variables\n# but 'temp' is not\nprintf \"$_\\n\" foreach keys %ENV;\n\nprint \"\\n\";\n\n# this gives us the value of $ENV:TEMP\n# which makes sense.\nprintf \"uppercase 'temp' maps to %s\\n\", $ENV{TEMP};\n\n# even though temp is not present in the\n# list of keys, the same value appears as for\n# $ENV{TEMP}\n# This seems to make sense given the behavior of powershell\n# (I am not quite sure what the relationship is between\n# Windows environment variables and case, but this seems reasonable.)\nprintf \"lowercase 'temp' maps to %s\\n\", $ENV{temp};\n\n# However, %ENV is not a tied hash.\nprintf \"Tie status: %s\\n\", tied(%ENV) // \"not a tied variable\";\n</code></pre>\n"}, {"tags": ["perl", "dbi"], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 3, "last_activity_date": 1446239201, "creation_date": 1446239201, "answer_id": 33444922, "question_id": 33444854, "link": "https://stackoverflow.com/questions/33444854/how-can-i-handle-with-dbi-this-command-set-pagesize-50/33444922#33444922", "title": "How can I handle with DBI this command &quot;set Pagesize 50&quot;", "body": "<p>That's not an actual SQL command, it's a configuration command for Oracle's SQLPLUS client that isn't sent to the server. You aren't using SQLPLUS, and it doesn't make any sense to issue that command with DBI.</p>\n"}, {"tags": [], "owner": {"reputation": 729, "user_id": 3069115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220d416e46ec9b73cab61afbb26798b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Tom", "link": "https://stackoverflow.com/users/3069115/tim-tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1446239429, "creation_date": 1446239429, "answer_id": 33444977, "question_id": 33444854, "link": "https://stackoverflow.com/questions/33444854/how-can-i-handle-with-dbi-this-command-set-pagesize-50/33444977#33444977", "title": "How can I handle with DBI this command &quot;set Pagesize 50&quot;", "body": "<p>You're quoting things twice in that statement on accident.</p>\n\n<p>So oracle is seeing this command get sent to it:<code>\" SET PAGESIZE 50\"</code></p>\n\n<p><code>qq{}</code> is essentially an alternate way of doing double quotes in perl so that you don't have to escape double quotes inside. So just remove the double quotes from inside and it will be happy (or use double quotes instead of qq, but, since you sometimes want double quotes in SQL, using the brackets is safer)</p>\n\n<pre><code>$dbh-&gt;do( qq{SET PAGESIZE 50} );\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 3748944, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4bcc4d704b14945b7e14aed5065b9981?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Kovtunenko", "link": "https://stackoverflow.com/users/3748944/oleksandr-kovtunenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 33444977, "answer_count": 2, "score": 1, "last_activity_date": 1446239429, "creation_date": 1446238862, "question_id": 33444854, "link": "https://stackoverflow.com/questions/33444854/how-can-i-handle-with-dbi-this-command-set-pagesize-50", "title": "How can I handle with DBI this command &quot;set Pagesize 50&quot;", "body": "<p>Hi I am trying to set Pagesize with DBI and script fails any recommendation how can I hndle this with DBI:</p>\n\n<pre><code>$dbh=DBI-&gt;connect( \"dbi:Oracle:\", \"\", \"\", { ora_session_mode =&gt;\nORA_SYSDBA , RaiseError =&gt; 1, PrintError =&gt; 1 } );\n$dbh-&gt;do(qq{ \" SET PAGESIZE 50\"   } );\n</code></pre>\n\n<p>There is error:</p>\n\n<blockquote>\n  <p>DBD::Oracle::db do failed: ORA-00900: invalid SQL statement (DBD\n  ERROR: error possibly near &lt;<em>> indicator at char 1 in ' &lt;</em>>\" SET\n  PAGESIZE 50\"   ') [for Statement \" \" SET PAGESIZE 50\"   \"] at run.pl\n  line 9. DBD::Oracle::db do failed: ORA-00900: invalid SQL statement\n  (DBD ERROR: error possibly near &lt;<em>> indicator at char 1 in ' &lt;</em>>\" SET\n  PAGESIZE 50\"   ') [for Statement \" \" SET PAGESIZE 50\"   \"] at run.pl\n  line 9.</p>\n</blockquote>\n\n<p>Any idea ?</p>\n"}, {"tags": ["linux", "perl", "centos", "rpm", "rpm-spec"], "comments": [{"owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 1, "creation_date": 1446238499, "post_id": 33444508, "comment_id": 54677758, "body": "If you want autorequires to still work then you will need to provide your own autorequire script and create your own namespace for your alternate interpreter."}, {"owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "edited": false, "score": 0, "creation_date": 1446271427, "post_id": 33444508, "comment_id": 54684864, "body": "Google : rpm spec file prefix=opt ...... <a href=\"https://www.google.com/webhp?hl=all&amp;gws_rd=ssl#hl=en&amp;q=rpm+spec+file+prefix%3Dopt\" rel=\"nofollow noreferrer\">google.com/&hellip;</a> .......... \u2192 \u2192 <a href=\"http://www.rpm.org/max-rpm/s1-rpm-reloc-prefix-tag.html\" rel=\"nofollow noreferrer\">rpm.org/max-rpm/s1-rpm-reloc-prefix-tag.html</a>"}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 0, "creation_date": 1446279329, "post_id": 33444508, "comment_id": 54686269, "body": "I have &quot;%global __requires_exclude ^perl&quot; in my spec file to filter perl auto requires."}, {"owner": {"reputation": 266, "user_id": 853900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1761eaa99c340da021607127d0e162?s=128&d=identicon&r=PG", "display_name": "Iyad K", "link": "https://stackoverflow.com/users/853900/iyad-k"}, "reply_to_user": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 0, "creation_date": 1446377955, "post_id": 33444508, "comment_id": 54709322, "body": "@jira I still want autoreq to work as the various software I&#39;m packaging is complex and contains a variety of Perl and Python scripts in addition to binaries."}, {"owner": {"reputation": 266, "user_id": 853900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1761eaa99c340da021607127d0e162?s=128&d=identicon&r=PG", "display_name": "Iyad K", "link": "https://stackoverflow.com/users/853900/iyad-k"}, "reply_to_user": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "edited": false, "score": 0, "creation_date": 1446378158, "post_id": 33444508, "comment_id": 54709365, "body": "@KnudLarsen I don&#39;t see how prefix resolves the dependency on perl module issue."}], "owner": {"reputation": 266, "user_id": 853900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1761eaa99c340da021607127d0e162?s=128&d=identicon&r=PG", "display_name": "Iyad K", "link": "https://stackoverflow.com/users/853900/iyad-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1446237943, "answer_count": 0, "score": 0, "last_activity_date": 1446238373, "creation_date": 1446237434, "last_edit_date": 1446238373, "question_id": 33444508, "link": "https://stackoverflow.com/questions/33444508/rpm-packaging-locating-perl-modules-for-alternate-perl-installation", "closed_reason": "Duplicate", "title": "RPM packaging locating perl modules for alternate perl installation", "body": "<p>I am trying to package an application as an RPM using SPEC files and source code for CentOS 6.5.  This application has a dependency on Perl(Bio::Perl).  I have also packaged a specific version of Perl (5.14) and Bio::Perl that install to /opt/perl/.  </p>\n\n<p>When I proceed to install the application's RPM, yum indicates that the Perl(Bio::Perl) dependency is not resolved.  It seems that yum is using the system perl (/usr/bin/perl) to try and resolve the dependency, but obviously /usr/bin/perl doesn't have Bio::Perl installed.</p>\n\n<p>I know the perl module is installed:</p>\n\n<p>$ rpm -qf /opt/perl/lib/site_perl/5.14.2/Bio/Perl.pm \nopt-perl-BioPerl-1.6.901-2.el6.noarch</p>\n\n<p>$ yum list installed | grep opt-perl-BioPerl\nopt-perl-BioPerl.noarch</p>\n\n<p>How do I make my SPEC file that it should resolve dependencies using /opt/perl/bin/perl</p>\n\n<p>I still want autorequires to work - I just want it to use /opt/per/bin/perl instead of the system perl.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2570, "user_id": 251947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80f18fe71d6fc0940ab8b7a036dd056e?s=128&d=identicon&r=PG", "display_name": "Chris Koknat", "link": "https://stackoverflow.com/users/251947/chris-koknat"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 1, "creation_date": 1446229398, "post_id": 33442240, "comment_id": 54673277, "body": "More specifically:  <a href=\"http://perldoc.perl.org/perlfaq5.html#How-can-I-output-my-numbers-with-commas-added%3f\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a>"}, {"owner": {"reputation": 2570, "user_id": 251947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80f18fe71d6fc0940ab8b7a036dd056e?s=128&d=identicon&r=PG", "display_name": "Chris Koknat", "link": "https://stackoverflow.com/users/251947/chris-koknat"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1446229447, "post_id": 33442240, "comment_id": 54673307, "body": "However I&#39;m still surprised that the printf &#39; option doesn&#39;t work"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1446229478, "post_id": 33442240, "comment_id": 54673327, "body": "@ChrisKoknat: See my answer below regarding that"}], "answers": [{"comments": [{"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1446229494, "post_id": 33442337, "comment_id": 54673336, "body": "Tested, agreed and removed. <a href=\"http://perldoc.perl.org/functions/reverse.html\" rel=\"nofollow noreferrer\">perldoc</a> is a bit misleading on that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446229574, "post_id": 33442337, "comment_id": 54673379, "body": "@syck: You should raise a bug report if you think so"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1446229783, "post_id": 33442337, "comment_id": 54673488, "body": "It is not wrong, only easy to misunderstand when read on the fly."}, {"owner": {"reputation": 3208, "user_id": 2162673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9XSFy.jpg?s=128&g=1", "display_name": "Francisco Zarabozo", "link": "https://stackoverflow.com/users/2162673/francisco-zarabozo"}, "edited": false, "score": 0, "creation_date": 1618719888, "post_id": 33442337, "comment_id": 118685056, "body": "This code completely breaks with floating point values. Example: <code>12345678.98</code> becomes <code>12,345,678,.98</code>."}], "tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": false, "score": 8, "last_activity_date": 1582113391, "last_edit_date": 1582113391, "creation_date": 1446228437, "answer_id": 33442337, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/33442337#33442337", "title": "Perl printf to use commas as thousands-separator", "body": "<p>A more perl-ish solution:</p>\n\n<pre><code>$a = 12345678;                 # no comment\n$b = reverse $a;               # $b = '87654321';\n@c = unpack(\"(A3)*\", $b);      # $c = ('876', '543', '21');\n$d = join ',', @c;             # $d = '876,543,21';\n$e = reverse $d;               # $e = '12,345,678';\nprint $e;\n</code></pre>\n\n<p>outputs <code>12,345,678</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 4, "creation_date": 1446229405, "post_id": 33442443, "comment_id": 54673279, "body": "But is not part of the standard distribution, I think."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1446229523, "post_id": 33442443, "comment_id": 54673353, "body": "@syck: That shouldn&#39;t be an obstacle"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 3, "creation_date": 1446229565, "post_id": 33442443, "comment_id": 54673372, "body": "Depends on how portable you want to be."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1446229842, "post_id": 33442443, "comment_id": 54673525, "body": "@syck: It&#39;s not a portability issue if someone would prefer not to install a module, only if that module won&#39;t run on a given platform"}, {"owner": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "edited": false, "score": 0, "creation_date": 1529419152, "post_id": 33442443, "comment_id": 88861027, "body": "The Number::Format includes, &quot;require 5.010;&quot; which has been EOL&#39;d about 10 years ago.  I&#39;m not sure there&#39;s an advantage to using an outdated CPAN module."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "edited": false, "score": 0, "creation_date": 1529420571, "post_id": 33442443, "comment_id": 88861945, "body": "@Hold: That&#39;s a very strange conclusion! There is no <i>end of lining</i> in Perl 5: the team go to great lengths to ensure as much backward-compatibility as possible with every release. Sadly, because of this, there are still several installations of v5.8 out there. The use of <code>require 5.010</code> bears no relation to how &quot;up to date&quot; the module might be, and if every module had <code>require 5.026</code> there would be an outcry. It is in the author&#39;s interests to put as few restrictions as possible on the version of perl it requires. It is foolish to suggest that any module using <code>require 5.010</code> is &quot;outdated&quot;."}, {"owner": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "edited": false, "score": 0, "creation_date": 1529420728, "post_id": 33442443, "comment_id": 88862027, "body": "<a href=\"https://www.cpan.org/src/\" rel=\"nofollow noreferrer\">cpan.org/src</a> &quot;5.10 \t5.10.1 \tEnd of life \t2009-08-23&quot;  (this is listed among the issue tickets on the CPAN page itself for that module)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "edited": false, "score": 0, "creation_date": 1529421358, "post_id": 33442443, "comment_id": 88862379, "body": "@Hold: It would be as well to <i>understand</i> what you&#39;re reading before you regurgitate it. Here, &quot;End of life&quot; means simply that v5.10.1 is the last iteration of v5.10 to be released. 23-Aug-2009 is the date of that release. It would be very odd to kill off a version on the same day as releasing a new version, and this happens to every release! Regardless, there is still no value in your assertion that <code>Number::Format</code> is &quot;outdated&quot; because it requires Perl v5.10 or later to run. What you are saying is nonsense."}, {"owner": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "edited": false, "score": 0, "creation_date": 1529422229, "post_id": 33442443, "comment_id": 88862879, "body": "What I mean is -- The documentation says (your link) [Requires] &quot;Perl, version 5.8 or higher,&quot; but the code has &quot;require 5.010.&quot;  This change must be at least ten years old (otherwise why not use something more modern?); but it hasn&#39;t been updated.  (That is the advantage of using other libraries, but it&#39;s not an advantage if it&#39;s not updated.  This problem isn&#39;t just your listed lib, but quite a few on CPAN.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "edited": false, "score": 0, "creation_date": 1529422819, "post_id": 33442443, "comment_id": 88863222, "body": "@Hold: How does a documentation error make a module out of date? If you&#39;re saying that the source can&#39;t have been modified for ten years because there is a <code>require 5.010</code> in there then that&#39;s ridiculous. As I tried to explain, ideally there would be no such requirement at all, and if it must be there then the lower the version the better. <i>&quot;otherwise why not use something more modern?&quot;</i> makes no sense at all. Do you know anything about Perl at all?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "edited": false, "score": 1, "creation_date": 1529434043, "post_id": 33442443, "comment_id": 88868768, "body": "@HoldOffHunger <code>require 5.010</code> means &quot;the following code requires Perl 5.10.0 <b>or newer</b>&quot;. If the module author were to update that line to something newer, developers who are stuck on older versions of Perl would not be able to use the module, even though there is no good reason for that limitation. The latest release of <code>Number::Format</code> is from 2015 - but even &quot;old&quot; code may still work perfectly today! The (CPAN Testers Matrix)[<a href=\"http://matrix.cpantesters.org/?dist=Number-Format+1.75]\" rel=\"nofollow noreferrer\">matrix.cpantesters.org/?dist=Number-Format+1.75]</a> shows that the module runs just fine on Perl 5.10 through 5.28, so there is no need to worry."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1529437026, "post_id": 33442443, "comment_id": 88870076, "body": "Correct link: <a href=\"http://matrix.cpantesters.org/?dist=Number-Format+1.75\" rel=\"nofollow noreferrer\">CPAN Testers Matrix</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 10, "last_activity_date": 1500440880, "last_edit_date": 1500440880, "creation_date": 1446228839, "answer_id": 33442443, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/33442443#33442443", "title": "Perl printf to use commas as thousands-separator", "body": "<p>The apostrophe format modifier is a non-standard POSIX extension. \nThe <a href=\"http://perldoc.perl.org/functions/printf.html\" rel=\"noreferrer\">documentation for Perl's <code>printf</code></a> has this to say about such extensions</p>\n\n<blockquote>\n  <p>Perl does its own \"sprintf\" formatting: it emulates the C\n  function sprintf(3), but doesn't use it except for\n  floating-point numbers, and even then only standard modifiers\n  are allowed. Non-standard extensions in your local sprintf(3)\n  are therefore unavailable from Perl.</p>\n</blockquote>\n\n<p>The <a href=\"http://metacpan.org/module/Number::Format\" rel=\"noreferrer\"><code>Number::Format</code></a> module will do this for you, and it takes its default settings from the locale, so is as portable as it can be</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.10.1;\n\nuse Number::Format 'format_number';\n\nsay format_number(24500);\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>24,500\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 6138974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa58b5efa1098aa9b32c7c67022fcbd?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Allen", "link": "https://stackoverflow.com/users/6138974/sam-allen"}, "is_accepted": false, "score": -1, "last_activity_date": 1510152449, "last_edit_date": 1510152449, "creation_date": 1510152071, "answer_id": 47182511, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/47182511#47182511", "title": "Perl printf to use commas as thousands-separator", "body": "<p>I wanted to print numbers it in a currency format. If it turned out even, I still wanted a .00 at the end. I used the previous example (ty) and diddled with it a bit more to get this.</p>\n\n<pre><code>    sub format_number {\n            my $num = shift;\n            my $result;\n            my $formatted_num = \"\"; \n            my @temp_array = (); \n            my $mantissa = \"\"; \n            if ( $num =~ /\\./ ) { \n                    $num = sprintf(\"%0.02f\",$num);\n                    ($num,$mantissa) = split(/\\./,$num);\n                    $formatted_num = reverse $num;\n                    @temp_array = unpack(\"(A3)*\" , $formatted_num);\n                    $formatted_num = reverse (join ',', @temp_array);\n                    $result = $formatted_num . '.'. $mantissa;\n            } else {\n                    $formatted_num = reverse $num;\n                    @temp_array = unpack(\"(A3)*\" , $formatted_num);\n                    $formatted_num = reverse (join ',', @temp_array);\n                    $result = $formatted_num . '.00';\n            }   \n            return $result;\n    }\n    # Example call\n    # ...\n    printf(\"some amount = %s\\n\",format_number $some_amount);\n</code></pre>\n\n<p>I didn't have the Number library on my default mac OS X perl, and I didn't want to mess with that version or go off installing my own perl on this machine. I guess I would have used the formatter module otherwise.</p>\n\n<p>I still don't actually like the solution all that much, but it does work.</p>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 9723797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04771841391f51602c365cfc1e7f2bac?s=128&d=identicon&r=PG", "display_name": "Tommy", "link": "https://stackoverflow.com/users/9723797/tommy"}, "is_accepted": false, "score": -1, "last_activity_date": 1525140129, "last_edit_date": 1525140129, "creation_date": 1525138738, "answer_id": 50110356, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/50110356#50110356", "title": "Perl printf to use commas as thousands-separator", "body": "<p>This is good for money, just keep adding lines if you handle hundreds of millions.</p>\n\n<pre><code>sub commify{\n    my $var = $_[0];\n    #print \"COMMIFY got $var\\n\"; #DEBUG\n    $var =~ s/(^\\d{1,3})(\\d{3})(\\.\\d\\d)$/$1,$2$3/;\n    $var =~ s/(^\\d{1,3})(\\d{3})(\\d{3})(\\.\\d\\d)$/$1,$2,$3$4/;\n    $var =~ s/(^\\d{1,3})(\\d{3})(\\d{3})(\\d{3})(\\.\\d\\d)$/$1,$2,$3,$4$5/;\n    $var =~ s/(^\\d{1,3})(\\d{3})(\\d{3})(\\d{3})(\\d{3})(\\.\\d\\d)$/$1,$2,$3,$4,$5$6/;\n    #print \"COMMIFY made $var\\n\"; #DEBUG\n    return $var;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2267, "user_id": 8242447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6884.gif?s=128&g=1", "display_name": "\u1e42\u0173\u1efb\u1ecbg\u01fb\u0148\u1ea1c\u1ec3\u01a1\u1eed\u1e69", "link": "https://stackoverflow.com/users/8242447/%e1%b9%82%c5%b3%e1%bb%bb%e1%bb%8bg%c7%bb%c5%88%e1%ba%a1c%e1%bb%83%c6%a1%e1%bb%ad%e1%b9%a9"}, "edited": false, "score": 1, "creation_date": 1550263163, "post_id": 54715882, "comment_id": 96219261, "body": "Welcome to StackOverflow! A code-only answer is not recommended, so to make your answer more relevant I recommend you to explain what your code does."}], "tags": [], "owner": {"reputation": 9, "user_id": 11069004, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/3822e53ac62ccef883ea3c858281c5ce?s=128&d=identicon&r=PG", "display_name": "Sandler", "link": "https://stackoverflow.com/users/11069004/sandler"}, "is_accepted": false, "score": 0, "last_activity_date": 1550258747, "creation_date": 1550258747, "answer_id": 54715882, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/54715882#54715882", "title": "Perl printf to use commas as thousands-separator", "body": "<pre><code># turning above answer into a function\n\nsub format_float\n# returns number with commas..... and 2 digit decimal\n# so format_float(12345.667) returns \"12,345.67\"\n{\n        my $num = shift;\n        return reverse(join(\",\",unpack(\"(A3)*\", reverse int($num)))) . sprintf(\".%02d\",int(100*(.005+($num - int($num)))));\n}\n\nsub format_int\n# returns number with commas.....\n# so format_int(12345.667) returns \"12,345\"\n{\n        my $num = shift;\n        return reverse(join(\",\",unpack(\"(A3)*\", reverse int($num))));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1385, "user_id": 2758435, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/AC7L0.gif?s=128&g=1", "display_name": "insaner", "link": "https://stackoverflow.com/users/2758435/insaner"}, "edited": false, "score": 0, "creation_date": 1613286218, "post_id": 58104835, "comment_id": 117025280, "body": "I tweaked yours a bit to work for both in a single regex (and gave you a +1, of course!): <a href=\"https://stackoverflow.com/a/66193160/2758435\">stackoverflow.com/a/66193160/2758435</a>"}], "tags": [], "owner": {"reputation": 76, "user_id": 12032587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a101cc537a98688fa34556bb5715b6?s=128&d=identicon&r=PG&f=1", "display_name": "Laura", "link": "https://stackoverflow.com/users/12032587/laura"}, "is_accepted": false, "score": 5, "last_activity_date": 1569437824, "last_edit_date": 1569437824, "creation_date": 1569437400, "answer_id": 58104835, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/58104835#58104835", "title": "Perl printf to use commas as thousands-separator", "body": "<p>I realize this question was from almost 4 years ago, but since it comes up in searches, I'll add an elegant native Perl solution I came up with.  I was originally searching for a way to do it with sprintf, but everything I've found indicates that it can't be done.  Then since everyone is rolling their own, I thought I'd give it a go, and this is my solution.</p>\n\n<pre><code>$num = 12345678912345; # however many digits you want\nwhile($num =~ s/(\\d+)(\\d\\d\\d)/$1\\,$2/){};\nprint $num;\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>12,345,678,912,345\n</code></pre>\n\n<p><strong>Explanation:</strong>\nThe Regex does a maximal digit search for all leading digits.  The minimum number of digits in a row it'll act on is 4 (1 plus 3).  Then it adds a comma between the two.  Next loop if there are still 4 digits at the end (before the comma), it'll add another comma and so on until the pattern doesn't match.</p>\n\n<p>If you need something safe for use with more than 3 digits after the decimal, use this modification: (<strong>Note:</strong> This won't work if your number has no decimal)</p>\n\n<pre><code>while($num =~ s/(\\d+)(\\d\\d\\d)([.,])/$1\\,$2$3/){};\n</code></pre>\n\n<p>This will ensure that it will only look for digits that ends in a comma (added on a previous loop) or a decimal.</p>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 3552972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada19e70c6012644dfa5b5890b887965?s=128&d=identicon&r=PG", "display_name": "The Darkness", "link": "https://stackoverflow.com/users/3552972/the-darkness"}, "is_accepted": false, "score": 1, "last_activity_date": 1578404596, "last_edit_date": 1578404596, "creation_date": 1578329394, "answer_id": 59615967, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/59615967#59615967", "title": "Perl printf to use commas as thousands-separator", "body": "<p>I used the following but it does not works as of perl v5.26.1</p>\n\n<pre><code>sub format_int\n{\n        my $num = shift;\n        return reverse(join(\",\",unpack(\"(A3)*\", reverse int($num))));\n}\n</code></pre>\n\n<p>The form that worked for me was:</p>\n\n<pre><code>sub format_int\n{\n        my $num = shift;\n        return scalar reverse(join(\",\",unpack(\"(A3)*\", reverse int($num))));\n}\n</code></pre>\n\n<p>But to use negative numbers the code must be:</p>\n\n<pre><code>sub format_int\n{\n    if ( $val &gt;= 0 ) {\n        return scalar reverse join \",\", unpack( \"(A3)*\", reverse int($val) );\n    } else {\n        return \"-\" . scalar reverse join \",\", unpack( \"(A3)*\", reverse int(-$val) );\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3208, "user_id": 2162673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9XSFy.jpg?s=128&g=1", "display_name": "Francisco Zarabozo", "link": "https://stackoverflow.com/users/2162673/francisco-zarabozo"}, "edited": false, "score": 0, "creation_date": 1618721683, "post_id": 59634646, "comment_id": 118685281, "body": "<code>BEGIN</code> blocks are not for executing something &quot;only once at the beginning&quot;. They are meant to be executed at compile time. If you don&#39;t need the block to be executed at compile time, it&#39;s not necessary at all (like in this case)."}], "tags": [], "owner": {"reputation": 7, "user_id": 3552972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada19e70c6012644dfa5b5890b887965?s=128&d=identicon&r=PG", "display_name": "The Darkness", "link": "https://stackoverflow.com/users/3552972/the-darkness"}, "is_accepted": false, "score": -2, "last_activity_date": 1578424207, "creation_date": 1578424207, "answer_id": 59634646, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/59634646#59634646", "title": "Perl printf to use commas as thousands-separator", "body": "<p>A solution that produces a localized output:</p>\n\n<pre><code># First part - Localization\nmy ( $thousands_sep, $decimal_point, $negative_sign );\nBEGIN {\n        my ( $l );\n        use POSIX qw(locale_h);\n        $l = localeconv();\n\n        $thousands_sep = $l-&gt;{ 'thousands_sep' };\n        $decimal_point = $l-&gt;{ 'decimal_point' };\n        $negative_sign = $l-&gt;{ 'negative_sign' };\n}\n\n# Second part - Number transformation\nsub readable_number {\n        my $val = shift;\n\n        #my $thousands_sep = \".\";\n        #my $decimal_point = \",\";\n        #my $negative_sign = \"-\";\n\n        sub _readable_int {\n                my $val = shift;\n                # a pinch of PERL magic\n                return scalar reverse join $thousands_sep, unpack( \"(A3)*\", reverse $val );\n        }\n\n        my ( $i, $d, $r );\n        $i = int( $val );\n        if ( $val &gt;= 0 ) {\n                $r =  _readable_int( $i );\n        } else {\n                $r = $negative_sign . _readable_int( -$i );\n        }\n        # If there is decimal part append it to the integer result\n        if ( $val != $i ) {\n                ( undef, $d ) = ( $val =~ /(\\d*)\\.(\\d*)/ );\n                $r = $r . $decimal_point . $d;\n        }\n\n        return $r;\n}\n</code></pre>\n\n<p>The first part gets the symbols used in the current locale to be used on the second part.<br/>\nThe BEGIN block is used to calculate the sysmbols only once at the beginning.<br/>\nIf for some reason there is need to not use POSIX locale, one can ommit the first part and uncomment the variables on the second part to hardcode the sysmbols to be used ($thousands_sep, $thousands_sep and $thousands_sep)</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 5, "last_activity_date": 1580385367, "creation_date": 1580385367, "answer_id": 59985527, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/59985527#59985527", "title": "Perl printf to use commas as thousands-separator", "body": "<p>Most of these answers assume that the format is universal. It isn't. <a href=\"http://cldr.unicode.org\" rel=\"noreferrer\">CLDR</a> uses Unicode information to figure it out. There's a long thread in <a href=\"https://softwareengineering.stackexchange.com/q/337639/103630\">How to properly localize numbers?</a>.</p>\n\n<p>CPAN has the <a href=\"https://www.metacpan.org/pod/CLDR::Number\" rel=\"noreferrer\">CLDR::Number</a> module:</p>\n\n<pre><code>#!perl\nuse v5.10;\nuse CLDR::Number;\nuse open qw(:std :utf8);\n\nmy $locale = $ARGV[0] // 'en';\n\nmy @numbers = qw(\n    123\n    12345\n    1234.56\n    -90120\n    );\n\nmy $cldr = CLDR::Number-&gt;new( locale =&gt; $locale );\n\nmy $decf = $cldr-&gt;decimal_formatter;\n\nforeach my $n ( @numbers ) {\n    say $decf-&gt;format($n);\n    }\n</code></pre>\n\n<p>Here are a few runs:</p>\n\n<pre><code>$ perl comma.pl\n123\n12,345\n1,234.56\n-90,120\n\n$ perl comma.pl es\n123\n12.345\n1234,56\n-90.120\n\n$ perl comma.pl bn\n\u09e7\u09e8\u09e9\n\u09e7\u09e8,\u09e9\u09ea\u09eb\n\u09e7,\u09e8\u09e9\u09ea.\u09eb\u09ec\n-\u09ef\u09e6,\u09e7\u09e8\u09e6\n</code></pre>\n\n<p>It seems heavyweight, but the output is correct and you don't have to allow the user to change the locale you want to use. However, when it's time to change the locale, you are ready to go. I also prefer this to <a href=\"https://www.metacpan.org/pod/Number::Format\" rel=\"noreferrer\">Number::Format</a> because I can use a locale that's different from my local settings for my terminal or session, or even use multiple locales:</p>\n\n<pre><code>#!perl\nuse v5.10;\nuse CLDR::Number;\nuse open qw(:std :utf8);\n\nmy @locales = qw( en pt bn );\n\nmy @numbers = qw(\n    123\n    12345\n    1234.56\n    -90120\n    );\n\n\nmy @formatters = map {\n    my $cldr = CLDR::Number-&gt;new( locale =&gt; $_ );\n    my $decf = $cldr-&gt;decimal_formatter;\n    [ $_, $cldr, $decf ];\n    } @locales;\n\nprintf \"%10s %10s %10s\\n\" . '=' x 32 . \"\\n\", @locales;\n\nforeach my $n ( @numbers ) {\n    printf \"%10s %10s %10s\\n\",\n        map { $_-&gt;[-1]-&gt;format($n) } @formatters;\n    }\n</code></pre>\n\n<p>The output has three locales at once:</p>\n\n<pre><code>        en         pt         bn\n================================\n       123        123        \u09e7\u09e8\u09e9\n    12,345     12.345     \u09e7\u09e8,\u09e9\u09ea\u09eb\n  1,234.56   1.234,56   \u09e7,\u09e8\u09e9\u09ea.\u09eb\u09ec\n   -90,120    -90.120    -\u09ef\u09e6,\u09e7\u09e8\u09e6\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1385, "user_id": 2758435, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/AC7L0.gif?s=128&g=1", "display_name": "insaner", "link": "https://stackoverflow.com/users/2758435/insaner"}, "is_accepted": false, "score": 1, "last_activity_date": 1613287076, "last_edit_date": 1613287076, "creation_date": 1613286176, "answer_id": 66193160, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/66193160#66193160", "title": "Perl printf to use commas as thousands-separator", "body": "<p>Parting from @Laura's answer, I tweaked the pure <code>perl</code>, regex-only solution to work for numbers with decimals too:</p>\n<pre><code>while ($formatted_number =~ s/^(-?\\d+)(\\d{3}(?:,\\d{3})*(?:\\.\\d+)*)$/$1,$2/) {};\n</code></pre>\n<p>Of course this assumes a &quot;,&quot; as thousands separator and a &quot;.&quot; as decimal separator, but it should be trivial to use variables to account for that for your given locale(s).</p>\n"}, {"tags": [], "owner": {"reputation": 30419, "user_id": 300224, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PFB2V.jpg?s=128&g=1", "display_name": "William Entriken", "link": "https://stackoverflow.com/users/300224/william-entriken"}, "is_accepted": false, "score": 1, "last_activity_date": 1614054041, "creation_date": 1614054041, "answer_id": 66327010, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator/66327010#66327010", "title": "Perl printf to use commas as thousands-separator", "body": "<p>Did somebody say Perl?</p>\n<pre class=\"lang-sh prettyprint-override\"><code>perl -pe '1while s/(\\d+)(\\d{3})/$1,$2/'\n</code></pre>\n<p>This works for any integer.</p>\n"}], "owner": {"reputation": 2570, "user_id": 251947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80f18fe71d6fc0940ab8b7a036dd056e?s=128&d=identicon&r=PG", "display_name": "Chris Koknat", "link": "https://stackoverflow.com/users/251947/chris-koknat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11729, "favorite_count": 1, "accepted_answer_id": 33442443, "answer_count": 11, "score": 9, "last_activity_date": 1614054041, "creation_date": 1446228117, "last_edit_date": 1446228718, "question_id": 33442240, "link": "https://stackoverflow.com/questions/33442240/perl-printf-to-use-commas-as-thousands-separator", "title": "Perl printf to use commas as thousands-separator", "body": "<p>Using awk, I can print a number with commas as thousands separators.<br>\n(with a <code>export LC_ALL=en_US.UTF-8</code> beforehand).</p>\n\n<p><code>awk 'BEGIN{printf(\"%\\047d\\n\", 24500)}'</code>  </p>\n\n<pre><code>24,500\n</code></pre>\n\n<p>I expected the same format to work with Perl, but it does not:</p>\n\n<p><code>perl -e 'printf(\"%\\047d\\n\", 24500)'</code> </p>\n\n<pre><code>%'d\n</code></pre>\n\n<p>The Perl Cookbook offers this solution:</p>\n\n<pre><code>sub commify {\n    my $text = reverse $_[0];\n    $text =~ s/(\\d\\d\\d)(?=\\d)(?!\\d*\\.)/$1,/g;\n    return scalar reverse $text;\n}\n</code></pre>\n\n<p>However I am assuming that since the printf option works in awk, it should also work in Perl.</p>\n"}, {"tags": ["perl", "cgi", "glob"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1446227064, "post_id": 33441837, "comment_id": 54672075, "body": "Is there a space in the Windows path?"}, {"owner": {"reputation": 33, "user_id": 5508053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3713868ed9d0da2a4621a8326b95e7d9?s=128&d=identicon&r=PG&f=1", "display_name": "Roger hart", "link": "https://stackoverflow.com/users/5508053/roger-hart"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1446227861, "post_id": 33441837, "comment_id": 54672513, "body": "@ikegami,  You are right.  I changed two things at once when I ran that test.  The if defined does not make a difference"}], "answers": [{"tags": [], "owner": {"reputation": 1558, "user_id": 3583715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b78414f3d877e8bca674b3a2aebe7e9?s=128&d=identicon&r=PG&f=1", "display_name": "rkh", "link": "https://stackoverflow.com/users/3583715/rkh"}, "is_accepted": true, "score": 7, "last_activity_date": 1446227653, "creation_date": 1446227653, "answer_id": 33442096, "question_id": 33441837, "link": "https://stackoverflow.com/questions/33441837/perl-glob-matching-files-on-windows-vs-linux/33442096#33442096", "title": "perl glob matching files on windows vs linux", "body": "<p>I think choroba's comment is correct.  Since it only happens when you install on windows rather than when you test on windows, I'll bet that it is a \"C:\\Program Files\" space issue.  It is listed in the docs for perl's File::Glob:</p>\n\n<blockquote>\n  <p>Due to historical reasons, CORE::glob() will also split its\n  argument on whitespace, treating it as multiple patterns, whereas\n  bsd_glob() considers them as one pattern.</p>\n</blockquote>\n\n<p>This could easily break things.  The docs recommend using bsd_glob() instead of glob in this case.</p>\n\n<p>I can cut and paste your code and run it on windows with $in_path == \".\", but it breaks when I use $in_path = \"C:\\Path With Spaces\". Also, with spaces, I am pretty sure it will fail on linux as well.</p>\n"}], "owner": {"reputation": 33, "user_id": 5508053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3713868ed9d0da2a4621a8326b95e7d9?s=128&d=identicon&r=PG&f=1", "display_name": "Roger hart", "link": "https://stackoverflow.com/users/5508053/roger-hart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 33442096, "answer_count": 1, "score": 3, "last_activity_date": 1446227745, "creation_date": 1446226703, "last_edit_date": 1446227745, "question_id": 33441837, "link": "https://stackoverflow.com/questions/33441837/perl-glob-matching-files-on-windows-vs-linux", "title": "perl glob matching files on windows vs linux", "body": "<p>I have the following code in a cgi script that just bundles up xml files into a zip for downloading:</p>\n\n<pre><code>my $obj = Archive::Zip-&gt;new();\nforeach my $xml_file (glob(File::Spec-&gt;catfile($in_path,\"*.xml\")))\n{\n    $obj-&gt;addFile($xml_file);\n}\n$obj-&gt;writeToFileNamed($zipfile_name);\n</code></pre>\n\n<p>This works fine on unit tests and when I run it on Linux, but when installed on windows, I get:</p>\n\n<pre><code>Can't call method \"desiredCompressionLevel\" on an undefined value at /usr/share/perl5/Archive/Zip/Archive.pm line 249.\n</code></pre>\n\n<p>In both cases, it works fine on Linux and under unit test, but fails when installed on windows (there are xml files in the directory that should be picked up...).</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1446226338, "post_id": 33441649, "comment_id": 54671677, "body": "It looks like you should be getting <code>1234 4567 4567 3466</code>?"}, {"owner": {"reputation": 65, "user_id": 5508051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1215450155138332/picture?type=large", "display_name": "Sudhir Mishra", "link": "https://stackoverflow.com/users/5508051/sudhir-mishra"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1446226553, "post_id": 33441649, "comment_id": 54671801, "body": "thanks , i updated the same"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5508051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1215450155138332/picture?type=large", "display_name": "Sudhir Mishra", "link": "https://stackoverflow.com/users/5508051/sudhir-mishra"}, "edited": false, "score": 0, "creation_date": 1446226446, "post_id": 33441709, "comment_id": 54671742, "body": "Still i get the output as 1234 4567 5678 3466 :("}, {"owner": {"reputation": 70191, "user_id": 1438393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVLVR.jpg?s=128&g=1", "display_name": "Amal Murali", "link": "https://stackoverflow.com/users/1438393/amal-murali"}, "reply_to_user": {"reputation": 65, "user_id": 5508051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1215450155138332/picture?type=large", "display_name": "Sudhir Mishra", "link": "https://stackoverflow.com/users/5508051/sudhir-mishra"}, "edited": false, "score": 0, "creation_date": 1446226543, "post_id": 33441709, "comment_id": 54671794, "body": "@SudhirMishra: I&#39;ve updated the answer to include a demo. Can you check that?"}, {"owner": {"reputation": 70191, "user_id": 1438393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVLVR.jpg?s=128&g=1", "display_name": "Amal Murali", "link": "https://stackoverflow.com/users/1438393/amal-murali"}, "reply_to_user": {"reputation": 65, "user_id": 5508051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1215450155138332/picture?type=large", "display_name": "Sudhir Mishra", "link": "https://stackoverflow.com/users/5508051/sudhir-mishra"}, "edited": false, "score": 1, "creation_date": 1446230988, "post_id": 33441709, "comment_id": 54674118, "body": "Downvoter, care to explain so I can improve the answer?"}], "tags": [], "owner": {"reputation": 70191, "user_id": 1438393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVLVR.jpg?s=128&g=1", "display_name": "Amal Murali", "link": "https://stackoverflow.com/users/1438393/amal-murali"}, "is_accepted": true, "score": 5, "last_activity_date": 1446226522, "last_edit_date": 1446226522, "creation_date": 1446226163, "answer_id": 33441709, "question_id": 33441649, "link": "https://stackoverflow.com/questions/33441649/perl-regex-to-filter-digits-within-the-string/33441709#33441709", "title": "Perl regex to filter digits within the string", "body": "<p>Your pattern <code>\\d{4}</code> currently does partial matches as well, which is why you're not getting the expected output. You can use lookarounds to tell that you're looking for 4 digit numbers that aren't preceded or followed by numbers:</p>\n\n<pre><code>(?&lt;!\\d)(\\d{4})(?!\\d)\n</code></pre>\n\n<ul>\n<li>Regex101 Demo: <a href=\"https://regex101.com/r/yS7fG6/1\" rel=\"nofollow\">https://regex101.com/r/yS7fG6/1</a></li>\n<li>More about lookarounds: <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\">http://www.regular-expressions.info/lookaround.html</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446226981, "post_id": 33441816, "comment_id": 54672021, "body": "You can use negative look-around assertions instead of all that nasty alternation <code>my @arr = $str =~ &#47; (?&lt;!\\d) \\d{4} (?!\\d) &#47;xg</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1446226623, "creation_date": 1446226623, "answer_id": 33441816, "question_id": 33441649, "link": "https://stackoverflow.com/questions/33441649/perl-regex-to-filter-digits-within-the-string/33441816#33441816", "title": "Perl regex to filter digits within the string", "body": "<p><code>\\d{4}</code> is a substring of a 5 digit sequence, which is why it matches. </p>\n\n<p>Anchor your pattern, and it'll work:</p>\n\n<pre><code>my $str = \"1234asdc345r4567srsrs45678rrrffgg3466\";\n\nmy @arr = $str =~/(?:^|\\D)(\\d{4})(?:\\D|$)/g;\nprint join ( \"\\n\", @arr );\n</code></pre>\n\n<p>Captures 4 digits with a non-digit(or start/end of line)  on either side. </p>\n\n<pre><code>1234\n4567\n3466\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446226788, "post_id": 33441835, "comment_id": 54671919, "body": "Hmm, I thought capture brackets were necessary in the regex, but this clearly works."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446226820, "post_id": 33441835, "comment_id": 54671939, "body": "@Sobrique: They&#39;re not needed in the case of a global match"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446226857, "post_id": 33441835, "comment_id": 54671957, "body": "It works because it returns all the occurances of full matches of the pattern, as opposed to only the captured part, if it&#39;s less than the full pattern."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446227065, "post_id": 33441835, "comment_id": 54672076, "body": "@simbabque: Sorry, <i>should be</i> what?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446227235, "post_id": 33441835, "comment_id": 54672171, "body": "@simbabque: Ah I see. However a non-global pattern match in list context will return the captures if there are any, but won&#39;t return the whole matched string if there are not"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1446226694, "creation_date": 1446226694, "answer_id": 33441835, "question_id": 33441649, "link": "https://stackoverflow.com/questions/33441649/perl-regex-to-filter-digits-within-the-string/33441835#33441835", "title": "Perl regex to filter digits within the string", "body": "<p>I think the cleanest way is to find all subsequences of decimal digits, and then discard those that aren't four characters long</p>\n\n<p>And by the way, you should <code>use warnings 'all'</code> in preference to <code>-w</code> on the command line or shebang line</p>\n\n<p>Like this</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\nuse v5.10;\n\nmy $str = '1234asdc345r4567srsrs45678rrrffgg3466';\n\nmy @arr = grep { length == 4  } $str =~ /\\d+/g;\n\nsay \"@arr\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1234 4567 3466\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5508051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1215450155138332/picture?type=large", "display_name": "Sudhir Mishra", "link": "https://stackoverflow.com/users/5508051/sudhir-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1058, "favorite_count": 0, "accepted_answer_id": 33441709, "answer_count": 3, "score": 2, "last_activity_date": 1446226694, "creation_date": 1446225973, "last_edit_date": 1446226483, "question_id": 33441649, "link": "https://stackoverflow.com/questions/33441649/perl-regex-to-filter-digits-within-the-string", "title": "Perl regex to filter digits within the string", "body": "<p>I do have a string as below.I am trying to filter out only the 4 digit from the string.</p>\n\n<p>Ouput should be : 1234 4567 3466</p>\n\n<pre><code>#!/usr/bin/perl  -w \n\nuse strict ; \n\nmy $str = \"1234asdc345r4567srsrs45678rrrffgg3466\";\n\nmy @arr =$str =~/(\\d{4})/g;\n</code></pre>\n\n<p>The issue is I get the output as : 1234 4567 4567 3466.\nI do not want the 5 digit to be included in the output.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446225032, "post_id": 33441279, "comment_id": 54670927, "body": "@simbabque thanks corrected the typo"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1446225455, "post_id": 33441279, "comment_id": 54671177, "body": "Can you show some sample inputs with expected outputs?"}], "answers": [{"comments": [{"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1446287731, "post_id": 33443014, "comment_id": 54688118, "body": "What is the result on a 32 bit system, if one shifts a 32 bit number to the left?"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1446233027, "last_edit_date": 1446233027, "creation_date": 1446231143, "answer_id": 33443014, "question_id": 33441279, "link": "https://stackoverflow.com/questions/33441279/what-is-perls-canonical-way-to-calculate-with-32-bit-overflows/33443014#33443014", "title": "What is Perl&#39;s canonical way to calculate with 32 bit overflows?", "body": "<p>I don't always know my canon, but I like the <code>0xFFFF_FFFF</code> bitmask for cases like this.</p>\n\n<pre><code>sub xorshift32 {\n    my $x32 = shift;\n    $x32  ^= $x32  &lt;&lt; 13;\n    $x32  ^= (($x32  &amp; 0xFFFF_FFFF) &gt;&gt; 17);\n    0xFFFF_FFFF &amp; ($x32  ^ ($x32  &lt;&lt; 5));\n}\n</code></pre>\n\n<p>(haven't benchmarked this, don't know how it compares to <code>vec</code>)</p>\n\n<p>And to answer your second question, no, the result of a <code>&lt;&lt;</code> bit shift operation will never be a float whether it is a 32-bit or 64-bit system, even if either operand is a float.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1446232792, "creation_date": 1446232792, "answer_id": 33443420, "question_id": 33441279, "link": "https://stackoverflow.com/questions/33441279/what-is-perls-canonical-way-to-calculate-with-32-bit-overflows/33443420#33443420", "title": "What is Perl&#39;s canonical way to calculate with 32 bit overflows?", "body": "<p>Just add <code>&amp; 0xFFFF_FFFF</code> where needed.</p>\n\n<pre><code>sub xorshift32 {\n   my ($x32) = @_;\n   $x32 ^= ($x32 &lt;&lt; 13) &amp; 0xFFFF_FFFF;\n   $x32 ^= $x32 &gt;&gt; 17;\n   $x32 ^= ($x32 &lt;&lt; 5) &amp; 0xFFFF_FFFF;\n   return $x32;\n}\n</code></pre>\n"}], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1446233027, "creation_date": 1446224738, "last_edit_date": 1446224861, "question_id": 33441279, "link": "https://stackoverflow.com/questions/33441279/what-is-perls-canonical-way-to-calculate-with-32-bit-overflows", "title": "What is Perl&#39;s canonical way to calculate with 32 bit overflows?", "body": "<p>I try to convert the following C function to Perl:</p>\n\n<pre><code>uint32_t xorshift32 (uint32_t x32)\n{\n  x32 ^= x32 &lt;&lt; 13;\n  x32 ^= x32 &gt;&gt; 17;\n  x32 ^= x32 &lt;&lt; 5;\n  return x32;\n}\n</code></pre>\n\n<p>I came up with the following:</p>\n\n<pre><code>sub xorshift32\n{\n  my $r = '';\n  vec ($r, 0, 32) = int($_[0]);\n\n  vec ($r, 0, 32) ^= vec ($r, 0, 32) &lt;&lt; 13;\n  vec ($r, 0, 32) ^= vec ($r, 0, 32) &gt;&gt; 17;\n  vec ($r, 0, 32) ^= vec ($r, 0, 32) &lt;&lt; 5;\n\n  return vec ($r, 0, 32);\n}\n</code></pre>\n\n<p>Is this the canonical way to force 32 bit overflows in Perl or is there a better and faster way to do it?</p>\n\n<p>I am also not sure if the code is correct. Will the result of the shift operations be a float on 32 bit systems?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446217915, "post_id": 33438421, "comment_id": 54666302, "body": "Can you give an example of the output you&#39;re getting?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1446223920, "post_id": 33438421, "comment_id": 54670285, "body": "<i>&quot;a newline character seems to be inserted at the very end of the file and it is causing grief with another script I am working on&quot;</i> In that case your other program isn&#39;t very robust. You should change it to ignore blank lines"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446226162, "post_id": 33438421, "comment_id": 54671563, "body": "Sorry for getting back to you guys late....had to run to kids Halloween parade.  I completely agree that the script that uses the data should be able to handle the \\n but I don&#39;t still see why I should allow my export script to make the mistake in the first place.  I have control over the export of data per the code below."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446226226, "post_id": 33438421, "comment_id": 54671595, "body": "@Sobrique - my output data are rows of records which end with ~~lineDelimiter~~."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446226277, "post_id": 33438421, "comment_id": 54671630, "body": "At the bottom of my file on a separate row is a \\n.  I was hoping to easily chomp that out but perl mechanics are getting the best of me."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446227083, "post_id": 33438421, "comment_id": 54672083, "body": "You can only chomp data inside of your program. If you <code>my $foo = chomp &lt;$fh&gt;</code> your data gets read first and chomped and then assigned. It&#39;s not chomping the file handle. <a href=\"http://stackoverflow.com/a/33439602/1331451\">The other Matt explains it below</a> in a nice way."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446228246, "post_id": 33438421, "comment_id": 54672722, "body": "Ok understood.  Makes sense.  Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446227752, "post_id": 33438539, "comment_id": 54672445, "body": "Ok I see what you are saying....why clean up the file if I can prevent the mistake in the beginning.  Ok let me play with this and try to implement in my script.  Thank you Sir!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1446215874, "creation_date": 1446215874, "answer_id": 33438539, "question_id": 33438421, "link": "https://stackoverflow.com/questions/33438421/remove-n-from-produced-file/33438539#33438539", "title": "Remove \\n from produced file", "body": "<p>You could output the newline at the beginning of each line instead of the end, and skip the first one.</p>\n\n<pre><code>my $count = 0;\nmy @stuff = qw(a b c d);\nwhile (my $letter = shift @stuff) {\n  print \"\\n\" if $count++;\n  print $letter;\n}\n\nprint \"__test\";\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>a\nb\nc\nd__test\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446221261, "post_id": 33439602, "comment_id": 54668594, "body": "Right. I&#39;m saying I wouldn&#39;t if given the choice. But if you&#39;re going to, here&#39;s how to deal with it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446221350, "post_id": 33439602, "comment_id": 54668653, "body": "Add an explanation for <code>truncate</code> and a link and this is a great answer. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446226952, "post_id": 33439602, "comment_id": 54672012, "body": "I wonder why this was downvoted. It&#39;s not the smartest solution, but it answers the question. Just because we have an xy problem that doesn&#39;t mean answers that address the immediate problem should be punished."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446227305, "post_id": 33439602, "comment_id": 54672215, "body": "Beats me. Hit-and-run downvotes are annoying, but unless the downvoter speaks up, we&#39;ll never know what was wrong with this answer."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446227401, "post_id": 33439602, "comment_id": 54672268, "body": "@Matt I&#39;m not quite sure what down-voted really means yet because I am new to the site but if it means anything your a genius to me.  I can&#39;t thank you enough for taking the time to answer my question.  I tried what you suggested and read the perl doc and it&#39;s a great solution to my issue.  One thing was weird is that I need to truncate by 2.  I&#39;m not quite sure if there was two newline indicators or it treated the \\ and n separately as 2.  Also, not sure why we vote on each others questions and answers.  I could have a PHD in programming, or a dropped out in 3rd grade."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446227506, "post_id": 33439602, "comment_id": 54672309, "body": "@Simbabque - again I really appreciate the time you spent looking at my code and answering my question.  Thanks to everyone that weighed in and offered knowledge.  I&#39;m learning and more importantly having fun."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446227972, "post_id": 33439602, "comment_id": 54672578, "body": "Having fun is important. Voting is not really for the one asking the question. It&#39;s for the people that come later. SO is a knowledge base. Answers with high vote count were considered useful by the community. A downvote means that user thought the post wasn&#39;t useful or constructive. You should read the <a href=\"https://stackoverflow.com/tour\">faq</a> to learn more about that. Who someone is or what level of education they have doesn&#39;t matter here. We&#39;re all writing code, that&#39;s what counts. :-)"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1446228288, "post_id": 33439602, "comment_id": 54672752, "body": "OK makes sense to me.  Just wanted to make sure I thanked everyone for taking time out of their day to answer a question from a total stranger.  This place is coooool!"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1446222051, "last_edit_date": 1446222051, "creation_date": 1446219092, "answer_id": 33439602, "question_id": 33438421, "link": "https://stackoverflow.com/questions/33438421/remove-n-from-produced-file/33439602#33439602", "title": "Remove \\n from produced file", "body": "<p>Since you have complete control over the output, I would attack it from that angle by never emitting the final newline in the first place. However, since this is Perl we're talking about, there's more than one way to do it. ;-)</p>\n\n<p>I'm using <a href=\"http://perldoc.perl.org/functions/truncate.html\" rel=\"nofollow\"><code>truncate</code></a> here to truncate the file to 1 byte less than whatever it was before (<code>-s</code> returns the file size in bytes).</p>\n\n<pre><code>my $file = 'test.txt';\n\nopen(my $fh, '&gt;', $file) or die $!;\nprint $fh \"$_\\n\" for 1..10;\nclose($fh);\n\ntruncate($file, (-s $file) - 1);\n</code></pre>\n\n<p>Output:\n</p>\n\n<pre><code>$ od -c test.txt\n0000000    1  \\n   2  \\n   3  \\n   4  \\n   5  \\n   6  \\n   7  \\n   8  \\n\n0000020    9  \\n   1   0\n0000024\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 33438539, "answer_count": 2, "score": 1, "last_activity_date": 1446222051, "creation_date": 1446215516, "last_edit_date": 1446215612, "question_id": 33438421, "link": "https://stackoverflow.com/questions/33438421/remove-n-from-produced-file", "title": "Remove \\n from produced file", "body": "<p>The bit of code below is used in a script that queries a database and produces an output file of records.  One problem that I am having is that a newline character seems to be inserted at the very end of the file and it is causing grief with another script I am working on to import the data into another database.  I thought this would be as easy as a <code>chomp</code> on the filehandle but that is not allowed.  I have read many ways to do this on the net but not sure the path to take. Do you guys see a way to do this?</p>\n\n<pre><code>while ($queryResults-&gt;MoveNext() == $CQPerlExt::CQ_SUCCESS) {\n        $swCR = $session-&gt;GetEntityByDbId(\"SWCR\", $queryResults-&gt;GetColumnValue(1));\n\n        # Gather data       \n        $swID = $swCR-&gt;GetFieldValue(\"RecordID\")-&gt;GetValue();\n        $swData = \"&lt;RecordID&gt;\" . $swID . \"&lt;/RecordID&gt;\";\n            foreach $fieldName (@fieldNames)\n                {\n                $swData = $swData . \"&lt;\" . $fieldName . \"&gt;\" . $swCR-&gt;GetFieldStringValue($fieldName) . \"&lt;/\" . $fieldName . \"&gt;\";\n                            }\n\n        # Build file with records seperated by custom line delimiter\n        print OUTFILE $swData . \"~~lineDelimiter~~\\n\";\n                                }\n\nclose(OUTFILE);\n</code></pre>\n"}, {"tags": ["regex", "perl", "split"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1446210145, "post_id": 33436534, "comment_id": 54661207, "body": "do matching instead of splitting <code>&quot;[^&quot;]*&quot;|[^,]+</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1446219770, "post_id": 33436534, "comment_id": 54667565, "body": "You&#39;re using <i>split</i> and a fancy regex in Perl and never heard that split creates elements from capture groups ?"}], "answers": [{"comments": [{"owner": {"reputation": 434, "user_id": 3128622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/35c62cccfab2a3cfc6a2ccb63a6d7b12?s=128&d=identicon&r=PG&f=1", "display_name": "yakov", "link": "https://stackoverflow.com/users/3128622/yakov"}, "edited": false, "score": 1, "creation_date": 1446210097, "post_id": 33436583, "comment_id": 54661179, "body": "Thanks! I enjoy stackoverflow :)"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 434, "user_id": 3128622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/35c62cccfab2a3cfc6a2ccb63a6d7b12?s=128&d=identicon&r=PG&f=1", "display_name": "yakov", "link": "https://stackoverflow.com/users/3128622/yakov"}, "edited": false, "score": 1, "creation_date": 1446211499, "post_id": 33436583, "comment_id": 54662157, "body": "I only showed where those &quot;weird&quot; elements come from. Please check Sobrique&#39;s answer. If you really work with CSV, it is best to use the existing proven tools to parse delimited text."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1446209866, "creation_date": 1446209866, "answer_id": 33436583, "question_id": 33436534, "link": "https://stackoverflow.com/questions/33436534/perl-split-by-regexp-issue/33436583#33436583", "title": "Perl split by regexp issue", "body": "<p>You need to use a non-capturing group:</p>\n\n<pre><code>my @arr = split(/,(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/, $str);\n                      ^^\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/F1hOLC\" rel=\"nofollow\">IDEONE demo</a></p>\n\n<p>Otherwise, the captured texts are output as part of the resulting array.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrequick.html#The-split-operator\" rel=\"nofollow\">perldoc reference</a>:</p>\n\n<blockquote>\n  <p>If the regex has groupings, then the list produced contains the matched substrings from the groupings as well</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1446210189, "creation_date": 1446210189, "answer_id": 33436672, "question_id": 33436534, "link": "https://stackoverflow.com/questions/33436534/perl-split-by-regexp-issue/33436672#33436672", "title": "Perl split by regexp issue", "body": "<p>Do matching instead of splitting.</p>\n\n<pre><code>use strict; use warnings;\n\nmy $str = 'a,b,\"c,d\",e';\nmy @matches = $str =~ /\"[^\"]*\"|[^,]+/g;\nforeach my $val (@matches) {\n    print \"$val\\n\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1446219520, "post_id": 33436734, "comment_id": 54667413, "body": "Why advocate <code>Text::CSV </code>, how does it work? Can&#39;t simple regex work better? I don&#39;t get why you mention recursive parsing, which Perl is very good at."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446219915, "post_id": 33436734, "comment_id": 54667652, "body": "I advocate it because it works, and makes the code to parse your thing very simple. Regular expressions are great for splitting a line by a delimiter or finding a pattern to search and replace. But matched delimiters - like quotes, brackets or start/end tags - it&#39;s worse at, because that&#39;s a recursive problem. You can do it, but you&#39;ll find lots of edge cases where it doesn&#39;t work. Far better to use a parser that can handle it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446219972, "post_id": 33436734, "comment_id": 54667683, "body": "<code>perl</code> can do recursive parsing - <code>Text::CSV</code> or <code>XML::Twig</code> do it very nicely. <code>regex</code> cannot (very well - technically it&#39;s possible, but you end up with a very big and hard to understand regex)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1446220423, "post_id": 33436734, "comment_id": 54667999, "body": "CSV parsing does not involve recursion, it&#39;s delimited. And Perl <i>regex</i> can indeed do recursive function calls (I didn&#39;t mean Perl itself, which is just a language)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446220652, "post_id": 33436734, "comment_id": 54668161, "body": "But what if you&#39;ve got escaped quotes? What about mismatched quotes within your CSV fields? Or escaped commas. Yes, you can do it - by using an perl&#39;s extended form of regex - but you reliably end up with... well, something like the OP - something that&#39;s hard to follow what it&#39;s actually doing and is difficult to troubleshoot when it doesn&#39;t work. <i>My opinion</i> is that if your CSV is simple comma delimited (and you don&#39;t have to worry about quotes) <code>split &#47;,&#47;</code> is fine. But for more complicated, <code>Text::CSV</code> is the most appropriate tool."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1446221529, "post_id": 33436734, "comment_id": 54668751, "body": "Well, that&#39;s the problem with CSV. There are <i>no</i> standards, it&#39;s all user defined. That&#39;s why modules like that give you options. Escaped quote&#39;s ? <code>&quot;[^&quot;\\\\]*(?:\\\\.[^&quot;\\\\]*)*&quot;</code>. Mismatched quotes ? Validate an even composition before parsing. Escaped comma&#39;s ? Not outside quotes. Mixed field composition, multiple delimiters, line termination. These all factor in. I would say there is no one module/way to do it."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1446210379, "creation_date": 1446210379, "answer_id": 33436734, "question_id": 33436534, "link": "https://stackoverflow.com/questions/33436534/perl-split-by-regexp-issue/33436734#33436734", "title": "Perl split by regexp issue", "body": "<p>What's tripping you up is a feature in <code>split</code> in that if you're using a group, and it's set to capture - it returns the captured 'bit' as well.</p>\n\n<p>But rather than using <code>split</code> I would suggest the <code>Text::CSV</code> module, that already handles quoting for you:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Text::CSV;\n\nmy $csv    = Text::CSV-&gt;new();\nmy $fields = $csv-&gt;getline( \\*DATA );\n\nprint join \"\\n\", @$fields;\n\n__DATA__\na,b,\"c,d\",e\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>a\nb\nc,d\ne\n</code></pre>\n\n<p>My reasoning is fairly simple - you're doing quote matching and may have things like quoted/escaped quotes, etc. mean you're <em>trying</em> to do a recursive parse, which is something <code>regex</code> simply isn't well suited to doing. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1446219586, "post_id": 33437167, "comment_id": 54667440, "body": "Can you explain how <code>Text::ParseWords</code> works, instead of just saying use it?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1446221492, "post_id": 33437167, "comment_id": 54668725, "body": "@sln : Does linked Perl documentation for <code>Text::ParseWords</code> not provide a good explanation?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1446221716, "post_id": 33437167, "comment_id": 54668861, "body": "Well, it might if I want to see nothing but links when I search for solutions. Eventually finding out it&#39;s not what I need."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1446211699, "creation_date": 1446211699, "answer_id": 33437167, "question_id": 33436534, "link": "https://stackoverflow.com/questions/33436534/perl-split-by-regexp-issue/33437167#33437167", "title": "Perl split by regexp issue", "body": "<p>You can use <code>parse_line()</code> of <a href=\"http://perldoc.perl.org/Text/ParseWords.html\" rel=\"nofollow\">Text::ParseWords</a>, if you are not really bounded for regex:</p>\n\n<pre><code>use  Text::ParseWords;\n\nmy $str = 'a,b,\"c,d\",e';\n\nmy @arr = parse_line(',', 1, $str);\n\nforeach (@arr)\n{\n    print \"$_\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a\nb\n\"c,d\"\ne\n</code></pre>\n"}], "owner": {"reputation": 434, "user_id": 3128622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/35c62cccfab2a3cfc6a2ccb63a6d7b12?s=128&d=identicon&r=PG&f=1", "display_name": "yakov", "link": "https://stackoverflow.com/users/3128622/yakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 33436583, "answer_count": 4, "score": 1, "last_activity_date": 1446212038, "creation_date": 1446209756, "last_edit_date": 1446212038, "question_id": 33436534, "link": "https://stackoverflow.com/questions/33436534/perl-split-by-regexp-issue", "title": "Perl split by regexp issue", "body": "<p>I'm writing some parser on Perl and here is a problem with split. Here is my code:</p>\n\n<pre><code>my $str = 'a,b,\"c,d\",e';\nmy @arr = split(/,(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/, $str);\n# try to split the string by comma delimiter, but only if comma is followed by the even or zero number of quotes \n\nforeach my $val (@arr) {\n    print \"$val\\n\"\n}\n</code></pre>\n\n<p>I'm expecting the following:</p>\n\n<pre><code>a\nb\n\"c,d\"\ne\n</code></pre>\n\n<p>But this is what am I really received:</p>\n\n<pre><code>a\nb,\"c,d\"\nb\n\"c,d\"\n\"c,d\"\n\ne\n</code></pre>\n\n<p>I see my string parts are in array, their indices are 0, 2, 4, 6. But how to avoid these odd <code>b,\"c,d\"</code> and other rest string parts in the resulting array? Is there any error in my regexp delimiter or is there some special <code>split</code> options?</p>\n"}, {"tags": ["windows", "perl", "system", "metacharacters"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446219320, "post_id": 33436526, "comment_id": 54667271, "body": "Windows <code>perl</code> or cygwin <code>perl</code>? (What&#39;s <code>perl -V:archname</code>)"}, {"owner": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1446223805, "post_id": 33436526, "comment_id": 54670220, "body": "MSWin32-x64-multi-thread"}], "answers": [{"comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "edited": false, "score": 0, "creation_date": 1446210782, "post_id": 33436785, "comment_id": 54661629, "body": "@DimaCandu are you sure? It works, screenshot added. Maybe you have to explain what is not working."}, {"owner": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "edited": false, "score": 0, "creation_date": 1446210845, "post_id": 33436785, "comment_id": 54661664, "body": "i need to open this url  <a href=\"http://host.com/cgi-bin/nagios3/status.cgi?hostgroup=all&amp;style=detail&amp;servicestatustypes=28&amp;sorttype=2&amp;sortoption=3\" rel=\"nofollow noreferrer\">host.com/cgi-bin/nagios3/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "is_accepted": false, "score": 0, "last_activity_date": 1446210754, "last_edit_date": 1446210754, "creation_date": 1446210557, "answer_id": 33436785, "question_id": 33436526, "link": "https://stackoverflow.com/questions/33436526/how-to-open-browser-on-windows-with-url-which-contains-metacharacters/33436785#33436785", "title": "How to open browser on windows with url which contains metacharacters", "body": "<p>As per <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $url =\"http://host.com/cgi-bin/nagios3/status.cgi?hostgroup=all\";\nsystem('start', $url);\n</code></pre>\n\n<p>Screenshot for the code above running:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bGN2j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGN2j.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "edited": false, "score": 0, "creation_date": 1446223660, "post_id": 33439813, "comment_id": 54670141, "body": "Yes  it&#39;s works in cmd , but in the perl script $url has to be interpolated , he&#39;s trying open the &#39;$ulr&#39; not the value."}, {"owner": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "edited": false, "score": 0, "creation_date": 1446225846, "post_id": 33439813, "comment_id": 54671388, "body": "Big thanks, very helpful, how could I forget about qq."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "edited": false, "score": 0, "creation_date": 1446226425, "post_id": 33439813, "comment_id": 54671729, "body": "You could also use concatenation as you did originally."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1446223830, "last_edit_date": 1446223830, "creation_date": 1446219814, "answer_id": 33439813, "question_id": 33436526, "link": "https://stackoverflow.com/questions/33436526/how-to-open-browser-on-windows-with-url-which-contains-metacharacters/33439813#33439813", "title": "How to open browser on windows with url which contains metacharacters", "body": "<p><code>&amp;</code> has special meaning for the shell, so you need to place the URL in quotes.</p>\n\n<p>But <code>start</code> has a very unusual syntax. If the first argument is in quotes, it's taken to be the title of the Window. So you need to add a dummy first argument. The solution follows:</p>\n\n<pre><code>system(qq{start \"\" \"$url\"})\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 2679936, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/161201bc6a239d3415d65097d1437d4a?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Candu", "link": "https://stackoverflow.com/users/2679936/dima-candu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 33439813, "answer_count": 2, "score": 0, "last_activity_date": 1446223830, "creation_date": 1446209733, "last_edit_date": 1446210807, "question_id": 33436526, "link": "https://stackoverflow.com/questions/33436526/how-to-open-browser-on-windows-with-url-which-contains-metacharacters", "title": "How to open browser on windows with url which contains metacharacters", "body": "<p>I tried to open browser with different ways\nsomething like this </p>\n\n<p>system('start ' . $url) or use special module Browser::Open\nHe opened url , but not all , only \n<a href=\"http://host.com/cgi-bin/nagios3/status.cgi?hostgroup=all\" rel=\"nofollow\">http://host.com/cgi-bin/nagios3/status.cgi?hostgroup=all</a></p>\n\n<p>I forgot to notice , i need to open \n<a href=\"http://host.com/cgi-bin/nagios3/status.cgi?hostgroup=all&amp;style=detail&amp;servicestatustypes=28&amp;sorttype=2&amp;sortoption=3\" rel=\"nofollow\">http://host.com/cgi-bin/nagios3/status.cgi?hostgroup=all&amp;style=detail&amp;servicestatustypes=28&amp;sorttype=2&amp;sortoption=3</a></p>\n"}, {"tags": ["arrays", "perl", "boolean"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1446205160, "post_id": 33435031, "comment_id": 54658207, "body": "<code>$output .= $ara[$i] &#47;&#47; $arb[$i]</code>"}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1446205306, "post_id": 33435031, "comment_id": 54658304, "body": "@Borodin, Thank you! God bless you!!!! It works! May I ask you to put your answer and I will vote for it! thanks!"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1446205329, "post_id": 33435031, "comment_id": 54658316, "body": "Having two commas in a row does not create an empty value. You should <code>use strict; use warnings;</code>. Also, you cannot use <code>||</code> to compare, as that only compares the &quot;truthiness&quot; of the statement. Any value that is not <code>0</code>, the empty string, or undefined is true, everything else is false&#39;."}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446205443, "post_id": 33435031, "comment_id": 54658395, "body": "@TLP, Thanks, I knew all this. That is WHY I am asking the question about an alternative. Cheers."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446205455, "post_id": 33435031, "comment_id": 54658405, "body": "Also, the string <code>&quot;0&quot;</code> is just as false as the number <code>0</code>. Perl is not a hard typed language."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1446205721, "post_id": 33435031, "comment_id": 54658540, "body": "@An-70 If you know, then why are you asking about it? And why are you using two commas to create empty values if you know it doesn&#39;t work? Check for definedness, or use <code>&#47;&#47;</code> like Borodin said, if being defined is what you consider being a value."}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446207980, "post_id": 33435031, "comment_id": 54659917, "body": "@TLP: I meant I know NOW))) But I was not sure before I tried. Thank you for your suggestions!"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446209603, "post_id": 33435031, "comment_id": 54660876, "body": "@An-70 Thanks, I knew all that. (Or did I? ;))"}], "answers": [{"comments": [{"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1446335069, "post_id": 33435939, "comment_id": 54702136, "body": "If you are using 5.12 or later you can use <code>keys @ara</code> instead of <code>0 .. $#ara</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 7, "last_activity_date": 1446208305, "last_edit_date": 1446208305, "creation_date": 1446207896, "answer_id": 33435939, "question_id": 33435031, "link": "https://stackoverflow.com/questions/33435031/how-to-use-0-in-variable-as-a-string-rather-than-boolean-in-operation/33435939#33435939", "title": "How to use 0 in variable as a string rather than boolean in || operation?", "body": "<p>There's two ways of doing this:</p>\n\n<p><code>defined</code> which returns true if a variable is defined. </p>\n\n<p>Or the <code>//</code> operator, which as of perl 5.10 lets you do something <em>very similar</em> to <code>||</code> apart from <code>0</code> and <code>''</code> which would normally be deemed 'false'. </p>\n\n<p>But you don't have to do anything to 'convert' because perl will do that automatically - if you're doing stringy things, it treats <code>0</code> as a string, and if you're doing numbery-things it treats <code>\"0\"</code> as a numeric value. </p>\n\n<p>You can either:</p>\n\n<pre><code> $output .= $ara[$i] // $arb[$i];\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code> $output .=  defined $ara[$i] ?  $ara[$i] : $arb[$i];\n</code></pre>\n\n<p>You'll have to use the latter on older versions of perl where <code>//</code> isn't available. </p>\n\n<p>Note too though - you've a fencepost error in your for loop. You should probably use:</p>\n\n<pre><code>for (0..$#ara) {\n</code></pre>\n\n<p>Because <code>@ara</code> in a scalar context returns the number of elements (<code>5</code>) - but your indicies are <code>0</code> .. <code>4</code>. </p>\n\n<p>You should also probably note that: </p>\n\n<pre><code>my @ara = (0,1,,3,4,5);\n</code></pre>\n\n<p>Doesn't do what you think it does - the double comma isn't an empty value, it's just ignored. </p>\n\n<pre><code>use Data::Dumper;\nprint Dumper \\@ara;\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>$VAR1 = [\n          0,\n          1,\n          3,\n          4,\n          5\n        ];\n</code></pre>\n\n<p>Maybe you were meaning something more like:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @ara = ( 0, 1, undef, 3, 4, 5 );\nmy @arb = ( 1, undef, 3, 4, undef, );\n\nmy $output;\nfor my $index ( 0 .. $#ara ) {\n    # a non-empty value has to be added to the $output.\n    $output .= $ara[$index] // $arb[$index];  \n}\n\nprint $output;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 5470067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ece1b9d92664f27aad6660b248daab?s=128&d=identicon&r=PG&f=1", "display_name": "Mike.pm", "link": "https://stackoverflow.com/users/5470067/mike-pm"}, "is_accepted": false, "score": 0, "last_activity_date": 1446209353, "creation_date": 1446209353, "answer_id": 33436387, "question_id": 33435031, "link": "https://stackoverflow.com/questions/33435031/how-to-use-0-in-variable-as-a-string-rather-than-boolean-in-operation/33436387#33436387", "title": "How to use 0 in variable as a string rather than boolean in || operation?", "body": "<p>For Perl 5.10 or higher you can use <a href=\"http://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow\">logical Defined-Or</a> operator <code>//</code> instead of <code>||</code>.</p>\n\n<pre><code>$output .= $ara[$i] // $arb[$i];\n</code></pre>\n\n<p>For Perl under 5.10 you can use <a href=\"http://perldoc.perl.org/perlop.html#Conditional-Operator\" rel=\"nofollow\">the conditional operator</a> <code>?:</code></p>\n\n<pre><code>$output .= defined $ara[$i] ? $ara[$i] : $arb[$i];\n</code></pre>\n\n<p>Also let me point some mistakes in your example:</p>\n\n<ol>\n<li>Commas collapse in the array definition, use <code>undef</code> to add an\nundefined value.</li>\n<li><code>@ara</code> in the scalar context returns count of elements in the array,\nnot the last index. So the <code>for</code> loop goes out of range <code>@ara</code>.</li>\n<li>You can assign <code>$i</code> inside the <code>for</code> loop.</li>\n</ol>\n\n<p>So your example might be like that:</p>\n\n<pre><code>my @ara = (0,1,undef,3,4,5);\nmy @arb = (1,undef,3,4,undef,undef);\nmy $output;\nfor my $i (0..$#ara) {\n    $output .= $ara[$i] // $arb[$i];\n}\nprint $output;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "edited": false, "score": 0, "creation_date": 1446237319, "post_id": 33437301, "comment_id": 54677193, "body": "Thanks! Use strict and warnings I do everytime! Just reduced the whole size of code for the example. Thank you!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1446212091, "creation_date": 1446212091, "answer_id": 33437301, "question_id": 33435031, "link": "https://stackoverflow.com/questions/33435031/how-to-use-0-in-variable-as-a-string-rather-than-boolean-in-operation/33437301#33437301", "title": "How to use 0 in variable as a string rather than boolean in || operation?", "body": "<p>It looks like you need the <em>defined-or</em> operator, which has been available since v5.10 of Perl</p>\n\n<p><code>$x || $y</code> evaluates to <code>$x</code> if <code>$x</code> is <em>true</em>, otherwise <code>$y</code></p>\n\n<p>In the same way <code>$x // $y</code> evaluates to <code>$x</code> if <code>$x</code> is <em>defined</em>, otherwise <code>$y</code></p>\n\n<p>This statement will fix your program</p>\n\n<pre><code>$output .= $ara[$i] // $arb[$i]\n</code></pre>\n\n<p>But you should also take note of the other issues that people have raised. In particular, you <em>must always</em></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n</code></pre>\n\n<p>at the start of <em>every</em> Perl program you write. That will pick up relatively simple errors that you may otherwise overlook</p>\n"}], "owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 1, "accepted_answer_id": 33437301, "answer_count": 3, "score": 1, "last_activity_date": 1446212091, "creation_date": 1446204873, "question_id": 33435031, "link": "https://stackoverflow.com/questions/33435031/how-to-use-0-in-variable-as-a-string-rather-than-boolean-in-operation", "title": "How to use 0 in variable as a string rather than boolean in || operation?", "body": "<p>I have operation of comparison of two variables to choose one that has a value (including 0). The script has to find which of two vars has any value and which does not.</p>\n\n<p>Below is an example:</p>\n\n<pre><code>    my @ara = (0,1,,3,4,5);\n    my @arb = (1,,3,4,,);\n    my $output;\n    my $i = 0;\n    for (0..@ara) {\n       $output .= $ara[$i] || $arb[$i]; # a non-empty value has to be added to the $output.\n       $i++;\n    }\n\nprint $output;\n</code></pre>\n\n<p>output has to be: <code>013345</code></p>\n\n<p>But, Perl deems first element from <code>@ara</code> (which is <code>0</code>) as a <em>Nill</em> (nothing). And thinks the element has <strong>no</strong> value at all. And the real output I have is: <code>113345</code>.</p>\n\n<p>The question is: how \"<em>on the fly</em>\" I can convert that <code>0</code>s from booleans to strings?</p>\n\n<p>I know, that I could present my <code>@ara</code> as below:</p>\n\n<pre><code>@ara = ('0', '1', '2'..);\n</code></pre>\n\n<p>But I cannot do that because of some conditions in the whole script.\nWhat I only can do is to convert the exact alone element into needed format (like: <code>doSomething($ara[$i])</code>).\nI also tried: <code>$ara[$i].\"\";</code> But it did not work.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "linux", "perl", "swig"], "answers": [{"tags": [], "owner": {"reputation": 981, "user_id": 2373609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Sij07.jpg?s=128&g=1", "display_name": "MatthewRock", "link": "https://stackoverflow.com/users/2373609/matthewrock"}, "is_accepted": true, "score": 1, "last_activity_date": 1446206256, "creation_date": 1446206256, "answer_id": 33435455, "question_id": 33434731, "link": "https://stackoverflow.com/questions/33434731/create-c-interface-for-perl-using-swig/33435455#33435455", "title": "Create C++ interface for perl using SWIG?", "body": "<p>Behold the power of the small break.</p>\n\n<p>The reason is dead simple: I didn't add <code>example.o</code> to the compile chain - so there indeed was no definition of hello() function!</p>\n\n<p>To solve it, I changed compile.sh last line to this:\n<code>g++ -shared example.o example_wrap.o -o example.so</code></p>\n\n<p>I feel stupid.</p>\n"}], "owner": {"reputation": 981, "user_id": 2373609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Sij07.jpg?s=128&g=1", "display_name": "MatthewRock", "link": "https://stackoverflow.com/users/2373609/matthewrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 33435455, "answer_count": 1, "score": 0, "last_activity_date": 1446206256, "creation_date": 1446203825, "question_id": 33434731, "link": "https://stackoverflow.com/questions/33434731/create-c-interface-for-perl-using-swig", "title": "Create C++ interface for perl using SWIG?", "body": "<p>I'm trying to grasp SWIG. Right now, I'm failing at building the simple module for perl. Here's what I did:</p>\n\n<p>example.cpp:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nvoid hello()\n{\n    std::cout &lt;&lt; \"Hello, world!\"&lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>example.i:</p>\n\n<pre><code>%module example\n%{\n#include &lt;iostream&gt;\nextern void hello();\n%}\n\nextern void hello();\n</code></pre>\n\n<p>app.pl:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse example;\n\nexample::hello();\n</code></pre>\n\n<p>and my <code>compile.sh</code> script:</p>\n\n<pre><code>#!/bin/bash -ex\n\narch=`perl -e 'use Config; print $Config{archlib};'`    \n\nswig3.0 -c++ -perl5 example.i\ng++ -fPIC -c example.cpp\ng++ -fPIC -c example_wrap.cxx -I$arch/CORE -L$arch/CORE\ng++ -shared example_wrap.o -o example.so\n</code></pre>\n\n<p>Compiles fine - no errors are shown. However, when I run <code>app.pl</code>, I get following error:</p>\n\n<p><code>/usr/bin/perl: symbol lookup error: ./example.so: undefined symbol: _Z5hellov</code></p>\n\n<p>I tried to google a bit, but to no avail. So far, everything has failed. What am I doing wrong?</p>\n\n<p>I'm using Linux Ubuntu x86_64 with 3.13 kernel, and perl 5.18.2</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1446200530, "post_id": 33433632, "comment_id": 54655389, "body": "Print $$result{$mem_used_asr} &amp; $$result{$mem_free_asr} you&#39;ll know why!!"}, {"owner": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "reply_to_user": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1446200740, "post_id": 33433632, "comment_id": 54655540, "body": "Use of uninitialized value in bitwise and (&amp;) at test.pl line 50. Use of uninitialized value in bitwise and (&amp;) at test.pl line 50."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 3, "creation_date": 1446201132, "post_id": 33433632, "comment_id": 54655787, "body": "<i>Use of uninitialized value</i> in not an error, its warning which means there is no value initialize to those variables."}, {"owner": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "edited": false, "score": 0, "creation_date": 1446201388, "post_id": 33433632, "comment_id": 54655928, "body": "But $result is receiving valure from the snmp request."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446202291, "post_id": 33433632, "comment_id": 54656436, "body": "Then it has to be <code>$mem_used_asr</code>."}, {"owner": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "edited": false, "score": 0, "creation_date": 1446202688, "post_id": 33433632, "comment_id": 54656666, "body": "As I wrote, this is only a part of code, so all variables like $mem_used_asr, $mem_free_asr have values and defined."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1446204232, "post_id": 33433632, "comment_id": 54657637, "body": "Clearly they aren&#39;t, because otherwise you wouldn&#39;t get an error. Can I suggest adding in <code>use Data::Dumper</code> and <code>print Dumper $result</code> just before that line?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446205087, "post_id": 33433632, "comment_id": 54658173, "body": "How are you assigning value to the key <code>$mem_used_asr</code>? Could there be newlines, or other things that is messing with your keys. They must be exact. <code>use Data::Dumper; $Data::Dumper::Useqq=1; print Dumper $mem_used_asr</code> to see exactly if you have what you think you have."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1446205159, "post_id": 33433632, "comment_id": 54658205, "body": "Also, when there is ever a case of you thinking &quot;Perl is saying this value is undefined, but I KNOW it isn&#39;t.&quot; then always keep in mind that Perl is <i>never</i> wrong, it is you that is wrong. Always."}, {"owner": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "edited": false, "score": 0, "creation_date": 1446205271, "post_id": 33433632, "comment_id": 54658281, "body": "use strict; use warnings; use Getopt::Long; use Net::SNMP;  my $mem_used = &quot;1.3.6.1.4.1.9.9.48.1.1.1.5&quot;; my $mem_free = &quot;1.3.6.1.4.1.9.9.48.1.1.1.6&quot;; my $mem_used_asr = &quot;1.3.6.1.4.1.9.9.221.1.1.1.1.18.7000.1&quot;; my $mem_free_asr = &quot;1.3.6.1.4.1.9.9.221.1.1.1.1.20.7000.1&quot;; my $dev_check = &quot;1.3.6.1.2.1.47.1.1.1.1.13.1&quot;;"}, {"owner": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "edited": false, "score": 0, "creation_date": 1446205460, "post_id": 33433632, "comment_id": 54658409, "body": "This is how I&#39;ve assigned values for those keys. Also, Example script is working properly with those values and shows correct result. So, as I think, the reason of this issue is not in OID values.  to TLP - I know that Perl is not wrong in my case, that&#39;s why I&#39;ve created a question here, to see, where is my mistake"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1446205640, "post_id": 33433632, "comment_id": 54658499, "body": "Please don&#39;t post long strings of code in comments like that. Edit your question to add this information."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446205858, "post_id": 33433632, "comment_id": 54658625, "body": "@sem1993 Use the arrow syntax instead <code>$result-&gt;{$mem_used_asr}</code>. See if that helps."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1446206153, "post_id": 33433632, "comment_id": 54658829, "body": "@TLP: That seems rather like clutching at straws :-)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1446206740, "post_id": 33433632, "comment_id": 54659172, "body": "&quot;That&#39;s what I&#39;ve get from print Dumper $result: <code>$VAR1 = undef;</code>&quot; Well that pretty much explains all the other problems then :-)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1446206951, "post_id": 33433632, "comment_id": 54659317, "body": "From the documentation for <code>get_request()</code> - &quot; In either mode, the undefined value is returned when an error has occurred. The <code>error()</code> method may be used to determine the cause of the failure.&quot;"}, {"owner": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1446208643, "post_id": 33433632, "comment_id": 54660327, "body": "@DaveCross Thank you! That was really helpfull"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1446209392, "post_id": 33433632, "comment_id": 54660751, "body": "@DaveCross Well, if it is returning some sort of overloaded or otherwise strange object, using the (IMO) more obscure syntax might not work as intended. :) It would be a typical symptom for a <code>$foo = something; $foo is now nothing; $foo is now something</code> kind of problem."}, {"owner": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "edited": false, "score": 0, "creation_date": 1446210224, "post_id": 33433632, "comment_id": 54661254, "body": "So, it&#39;s returning: The Transport Domain object is not defined at test.pl line 43"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "edited": false, "score": 0, "creation_date": 1446206165, "post_id": 33435247, "comment_id": 54658838, "body": "my $result = $session-&gt;get_request(-varbindlist =&gt; \\@oidlist); check my script in question, I&#39;ve updated it"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "edited": false, "score": 0, "creation_date": 1446206249, "post_id": 33435247, "comment_id": 54658886, "body": "And what do you get from using Data::Dumper to print <code>$result</code> (put the information in the question, not a comment)."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1446207276, "last_edit_date": 1446207276, "creation_date": 1446205555, "answer_id": 33435247, "question_id": 33433632, "link": "https://stackoverflow.com/questions/33433632/use-of-uninitialized-value-in-division-at-test-pl-line-45/33435247#33435247", "title": "Use of uninitialized value in division (/) at test.pl line 45", "body": "<p>You're not getting errors, you're getting warnings.</p>\n\n<p>This means that both <code>$$result{$mem_used}</code> and <code>$$result{$mem_free}</code> are undefined. That means that both <code>$load[0]</code> and <code>$load[1]</code> will be undefined and that leads to your third error.</p>\n\n<p>So we need to take a closer look at <code>$result</code> to see what is going on  there. We get <code>$result</code> from this line of code:</p>\n\n<pre><code>my $result = $session-&gt;get_request(@oidlist);\n</code></pre>\n\n<p>It's hard to know for sure as we don't know for sure what type of object <code>$session</code> is. You mention \"snmp\", so let's guess that it's a <a href=\"https://metacpan.org/pod/Net::SNMP\" rel=\"nofollow\">Net::SNMP</a> object. That class has a <a href=\"https://metacpan.org/pod/Net::SNMP#get_request---send-a-SNMP-get-request-to-the-remote-agent\" rel=\"nofollow\">get_request()</a> method which returns a hash reference - so it's likely my guess is a good one (but as note for the future - asking people who are helping you debug problems to make guesses like this isn't very polite).</p>\n\n<p>As an aside here, the <code>$$result{$mem_used}</code> syntax that you're using here is pretty non-standard. Most Perl programmers would write that at <code>$result-&gt;{$mem_used}</code>.</p>\n\n<p>If <code>$result-&gt;{$mem_used}</code> is undefined, then it means one of two things. Either the key <code>$mem_used</code> exists and the associated value is <code>undef</code>. Or the key just doesn't exist in the hash. You can use the <code>exists</code> function to check which of these two possibilities is the case here.</p>\n\n<p>I know little about SNMP, but it seems to be that you're using the <code>-varbindlist</code> argument correctly, so I don't think I can be much more help in tracking down the problem. I would suggest using something like <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow\">Data::Dumper</a> to display the contents of <code>$result</code> as soon as you get it - perhaps that will give you a better idea of what is going on here.</p>\n\n<p><strong>Update:</strong> Hang on. It looks like I was wrong when I said that you were using <code>-varbindlist</code> correctly. You have two calls to <code>get_request()</code>.</p>\n\n<pre><code>my $result = $session-&gt;get_request(@oidlist);\n$session-&gt;get_request(-varbindlist =&gt; \\@oidlist);\n</code></pre>\n\n<p>The second of those calls has the correct <code>-varbindlist</code> parameter. The first of them (and that's the one that you use the result from) is incorrect.</p>\n\n<p>I bet that if you combine those two lines into:</p>\n\n<pre><code>my $result = $session-&gt;get_request(-varbindlist =&gt; \\@oidlist);\n</code></pre>\n\n<p>then it will work.</p>\n\n<p><strong>Update 2:</strong> From an update to your question, I see that you're getting <code>undef</code> back from your call to <code>get_request()</code>. The documentation says:</p>\n\n<blockquote>\n  <p>In either mode, the undefined value is returned when an error has\n  occurred. The error() method may be used to determine the cause of\n  the failure.</p>\n</blockquote>\n\n<p>So your next steps seem pretty obvious.</p>\n\n<pre><code>my $result = $session-&gt;get_request(-varbindlist =&gt; \\@oidlist)\n  or warn $session-&gt;error.\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4535787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H9hx0kxyPzs/AAAAAAAAAAI/AAAAAAAAADs/NYyCwbigXYY/photo.jpg?sz=128", "display_name": "sem1993", "link": "https://stackoverflow.com/users/4535787/sem1993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1651, "favorite_count": 0, "accepted_answer_id": 33435247, "answer_count": 1, "score": -1, "last_activity_date": 1446210325, "creation_date": 1446200316, "last_edit_date": 1446210325, "question_id": 33433632, "link": "https://stackoverflow.com/questions/33433632/use-of-uninitialized-value-in-division-at-test-pl-line-45", "title": "Use of uninitialized value in division (/) at test.pl line 45", "body": "<p>I've got such error when I'm trying to run my perl script for snmp check:</p>\n\n<pre><code>Use of uninitialized value in division (/) at test.pl line 45.\nUse of uninitialized value in division (/) at test.pl line 46.\nIllegal division by zero at test.pl line 47.\n</code></pre>\n\n<p>There is my script:</p>\n\n<pre><code>     #!/usr/bin/perl\n\n        use strict;\n        use warnings;\n        use Getopt::Long;\n        use Net::SNMP;\n\n        my $mem_used = \"1.3.6.1.4.1.9.9.48.1.1.1.5\";\n        my $mem_free = \"1.3.6.1.4.1.9.9.48.1.1.1.6\";\n        my $mem_used_asr = \"1.3.6.1.4.1.9.9.221.1.1.1.1.18.7000.1\";\n        my $mem_free_asr = \"1.3.6.1.4.1.9.9.221.1.1.1.1.20.7000.1\";\n        my $dev_check = \"1.3.6.1.2.1.47.1.1.1.1.13.1\";\n\n        my ($session,$error);\n\n        ($session, $error) = Net::SNMP-&gt;session(\n                -hostname  =&gt; \"some_IP_address\",\n                -version   =&gt; 2,\n                -community =&gt; \"some_community\",\n                -port      =&gt; 161,\n                -timeout   =&gt; 15\n                 );\n\n        my @oidlists = ($dev_check);\n\n        my $resultat = $session-&gt;get_request(-varbindlist =&gt; \\@oidlists);\n\n        $session-&gt;close;\n\n        $resultat = \"@{[%${resultat}]}\";\n\n        print $resultat;\n\n        if ($resultat =~ /some_string/) {\n\n                my @oidlist = ($_mem_used_asr, $_mem_free_asr);\n\n  43.              my $result = $session-&gt;get_request(-varbindlist =&gt; \\@oidlist);\n                  or warn $session-&gt;error;\n                   $session-&gt;close;\n                  print Dumper $result;\n                        $session-&gt;close;\n\n                my @load = undef;\n\n      45.              $load[0]=int($$result{$mem_used_asr}/1024/1024);\n      46.              $load[1]=int($$result{$mem_free_asr}/1024/1024);\n      47.              $load[2]=int($load[0]/($load[0]+$load[1])*100);\n\n                print \"Memory : used = $load[0] MB, free = $load[1] MB, utilization = $load[2] % :\";\n\n        } else {\n\n                my @oidlist = ($_mem_used, $_mem_free);\n                my $result = $session-&gt;get_request(-varbindlist =&gt; \\@oidlist);\n                        $session-&gt;close;\n\n                my @load = undef;\n\n                    $load[0]=int($$result{$mem_used}/1024/1024);\n                    $load[1]=int($$result{$mem_free}/1024/1024);\n                    $load[2]=int($load[0]/($load[0]+$load[1])*100);\n\n                print \"Memory : used = $load[0] MB, free = $load[1] MB, utilization = $load[2] % :\";\n        }\n\n        exit;\n</code></pre>\n\n<p>That's what I've get from print Dumper $result: $VAR1 = undef;</p>\n\n<p>But if I will delete if condition, the snmp request works properly. Could you please help me? (Yeah, it quite newbie perl script, as I'm not good in it)</p>\n\n<p>For example, such code is working fine:</p>\n\n<pre><code>my @oidlist = ($mem_used_asr, $mem_free_asr);\n\n        my $result = $session-&gt;get_request(-varbindlist =&gt; \\@oidlist);\n\n        $session-&gt;close;\n        print $result;\n        my @load = undef;\n\n        $load[0]=int($$result{$mem_used_asr}/1024/1024);\n                $load[1]=int($$result{$mem_free_asr}/1024/1024);\n                $load[2]=int($load[0]/($load[0]+$load[1])*100);\n\n                print \"Memory : used = $load[0] MB, free = $load[1] MB, utilization = $load[2] % :\";\n\nexit;\n</code></pre>\n"}, {"tags": ["xml", "perl", "xpath"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1446221922, "last_edit_date": 1446221922, "creation_date": 1446221505, "answer_id": 33440375, "question_id": 33433501, "link": "https://stackoverflow.com/questions/33433501/how-do-i-figure-out-the-xpath-of-an-element-in-perl/33440375#33440375", "title": "How do I figure out the xpath of an element in perl?", "body": "<p>XML::LibXML has <code>$node-&gt;nodePath()</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse XML::LibXML qw( );\n\nmy $xml = &lt;&lt;'__EOI__';\n&lt;root&gt;\n&lt;fish&gt;\n&lt;carrot colour=\"purple\"&gt;&lt;pie/&gt;&lt;/carrot&gt;\n&lt;carrot colour=\"orange\"&gt;&lt;pie/&gt;&lt;/carrot&gt;\n&lt;carrot colour=\"blue\"&gt;&lt;pie/&gt;&lt;/carrot&gt;\n&lt;/fish&gt;\n&lt;/root&gt;\n__EOI__\n\nmy $parser = XML::LibXML-&gt;new();\nmy $doc = $parser-&gt;parse_string($xml);\nsay $_-&gt;nodePath()\n   for $doc-&gt;findnodes(\"//pie\");\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>/root/fish/carrot[1]/pie\n/root/fish/carrot[2]/pie\n/root/fish/carrot[3]/pie\n</code></pre>\n\n<p>It uses position rather than attributes to identify ambiguities since attributes may not uniquely identify an element.</p>\n\n<p>Note that the path may produce multiple results if used in another document due to lack of <code>[1]</code> on nodes of which there were only one in the original document.</p>\n\n<p>As to why XML::Twig doesn't have one, this isn't a very useful feature. If you're just working with one document, you already have a reference to the node. If you want to craft a path that will work for more than one document, it's just not possible for the module to know what the proper path should be. For example, which of the following is correct?</p>\n\n<pre><code>/a/b\n/a/b[1]\n/a/b[@id=\"123\"]\n/a/b[@default=\"1\"]\n/a/b[@id=\"123\" &amp;&amp; @default=\"1\"]\n</code></pre>\n"}], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 1, "accepted_answer_id": 33440375, "answer_count": 1, "score": 1, "last_activity_date": 1446221922, "creation_date": 1446199978, "question_id": 33433501, "link": "https://stackoverflow.com/questions/33433501/how-do-i-figure-out-the-xpath-of-an-element-in-perl", "title": "How do I figure out the xpath of an element in perl?", "body": "<p>I'm trying to figure out if there's a good way of determining the xpath of an XML node.</p>\n\n<p>At the moment, I'm doing this: </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;parse( \\*DATA );\nprint $twig -&gt;get_xpath( '/root/fish/carrot[@colour=\"orange\"]/pie', 0 )-&gt;text,\n    \"\\n\";\n\nforeach my $node ( $twig-&gt;get_xpath('//*') ) {\n    my @path_tags;\n    my @path_with_att;\n    my $cursor = $node;\n    while ($cursor) {\n        unshift( @path_tags, $cursor-&gt;tag );\n\n        my $att_path = \"\";\n        if ( $cursor-&gt;atts ) {\n            $att_path = join( \"\",\n                map { \"[@\" . $_ . \"=\\\"\" . $cursor-&gt;att($_) . \"\\\"]\" }\n                    keys %{ $cursor-&gt;atts } );\n        }\n        unshift( @path_with_att, $cursor-&gt;tag . $att_path );\n        $cursor = $cursor-&gt;parent;\n    }\n\n    print join( \"/\", @path_tags ), \"\\n\";\n\n    my $xpath_with_atts = \"/\" . join( \"/\", @path_with_att );\n    print $xpath_with_atts, \"\\n\";\n    print \"Found:\", $twig-&gt;get_xpath( $xpath_with_atts, 0 )-&gt;tag, \"\\n\";\n}\n\n__DATA__\n&lt;root&gt;\n   &lt;fish skin=\"scaly\" home=\"pond\"&gt;\n      &lt;carrot colour=\"orange\"&gt;\n          &lt;pie&gt;This value&lt;/pie&gt;\n      &lt;/carrot&gt;\n   &lt;/fish&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Which I'm traversing the structure (using a wildcard xpath, perhaps slightly ironically - but the point is I'd like to be able to do this within e.g. a twig handler).</p>\n\n<p>And then recursively traversing <em>up</em> the tree to figure out two variants of the <code>xpath</code> of the current node (with and without elements). This is of course recognising that an xpath is by no means necessarily unique, so there may well be duplicate (that last 'found' is purely a validation step). </p>\n\n<p>But this is because I couldn't find a what-is-my-xpath method in either of the two XML libraries I tend to favour (<code>XML::Twig</code> and <code>XML::LibXML</code>). </p>\n\n<p>So my question is - is there actually an inbuilt mechanism in an XML library I can (and should) use? If there isn't, is there actually some reason why not? </p>\n\n<p>I mean, my above samples work, but I'm wondering if there's some nuance whereby this approach (or something similar) isn't viable for the whole range of the XML spec. </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1446189047, "last_edit_date": 1446189047, "creation_date": 1446188424, "answer_id": 33430393, "question_id": 33430242, "link": "https://stackoverflow.com/questions/33430242/how-to-insert-a-string-in-another-string-after-a-specific-string-pattern/33430393#33430393", "title": "How to insert a string in another string after a specific string pattern", "body": "<p>This is one way to do it:</p>\n\n<pre><code>my $str = 'X 682.9 X 683.9 X 1.0';\nsubstr($str, 8, 0) = '0.3 0.3 ';\nprint \"$str\\n\";\n</code></pre>\n\n<p>If you really wanted to use a regular expression for some reason, I suppose you could do it this way:</p>\n\n<pre><code>$str =~ s/682\\.9 /682.9 0.3 0.3 /;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>X 682.9 0.3 0.3 X 683.9 X 1.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446188974, "post_id": 33430409, "comment_id": 54649307, "body": "No need for <code>&#47;g</code> or the capturing groups, and you probably want to escape the <code>.</code>: <code>$string =~ s&#47;682\\.9 &#47;682.9 0.3 0.3 &#47;;</code>"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1446189597, "post_id": 33430409, "comment_id": 54649552, "body": "@MattJacob Thank you for your usefull comment. I edited"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": -1, "last_activity_date": 1446189500, "last_edit_date": 1446189500, "creation_date": 1446188484, "answer_id": 33430409, "question_id": 33430242, "link": "https://stackoverflow.com/questions/33430242/how-to-insert-a-string-in-another-string-after-a-specific-string-pattern/33430409#33430409", "title": "How to insert a string in another string after a specific string pattern", "body": "<p>Try this\nRegEx substitution enough for this</p>\n\n<pre><code>my $string =\"X 682.9 X 683.9 X 1.0\";\n$string =~s/(682\\.9)/$1 0.3 0.3/;\nprint $string;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1446194190, "post_id": 33430746, "comment_id": 54651603, "body": "thanks a lot it helped, as i was not knowing the length of string . :-)"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1446194234, "post_id": 33430746, "comment_id": 54651620, "body": "@rohan: Glad it helped!"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 0, "last_activity_date": 1446190047, "creation_date": 1446190047, "answer_id": 33430746, "question_id": 33430242, "link": "https://stackoverflow.com/questions/33430242/how-to-insert-a-string-in-another-string-after-a-specific-string-pattern/33430746#33430746", "title": "How to insert a string in another string after a specific string pattern", "body": "<p><em>Matt Jacob</em> has already given the right answer. This is a way incase you don't know the length of substring, you can use <code>index</code> and <code>length</code> function:</p>\n\n<pre><code>my $str = \"X 682.9 X 683.9 X 1.0\";\nmy $i = index($str, \"682.9\") + length \"682.9\";\nsubstr($str, $i, 0) = \" 0.3 0.3\";\nprint $str, \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>X 682.9 0.3 0.3 X 683.9 X 1.0\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 33430746, "answer_count": 3, "score": -1, "last_activity_date": 1446190810, "creation_date": 1446187725, "last_edit_date": 1446190810, "question_id": 33430242, "link": "https://stackoverflow.com/questions/33430242/how-to-insert-a-string-in-another-string-after-a-specific-string-pattern", "title": "How to insert a string in another string after a specific string pattern", "body": "<p>I have string in Perl:  </p>\n\n<pre><code>X 682.9 X 683.9 X 1.0\n</code></pre>\n\n<p>I want to insert <code>0.3 0.3</code> after <code>682.9</code>. Required output is: </p>\n\n<pre><code>X 682.9 0.3 0.3 X 683.9 X 1.0\n</code></pre>\n\n<p>How can it be done?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1446203488, "post_id": 33427363, "comment_id": 54657176, "body": "If you started out with a space-separated text file, then why don&#39;t you use that? It&#39;ll probably be simpler than parsing an Excel file."}], "answers": [{"comments": [{"owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "edited": false, "score": 0, "creation_date": 1446202467, "post_id": 33427567, "comment_id": 54656537, "body": "I&#39;m getting <code>Can&#39;t call method &quot;value&quot; on an undefined value at .&#47;flow.pl line 42.</code> Will you explain the steps to the solution? Thanks."}, {"owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "edited": false, "score": 0, "creation_date": 1446223273, "post_id": 33427567, "comment_id": 54669894, "body": "Now it is printing: <code>$VAR1 = [           [             &#39;&#39;           ],           [             &#39;&#39;           ],           [             &#39;&#39;           ],           [             &#39;&#39;           ],           [             &#39;&#39;           ],           [             &#39;&#39;           ],</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1446202614, "last_edit_date": 1446202614, "creation_date": 1446169379, "answer_id": 33427567, "question_id": 33427363, "link": "https://stackoverflow.com/questions/33427363/spreadsheetparseexcel-building-an-array-or-hash/33427567#33427567", "title": "Spreadsheet::ParseExcel building an array or hash", "body": "<p>Here's a quick example of something that should work for you. It builds an array <code>@rows</code> of arrays of the three field values you want for each worksheet, and displays each result using <code>Data::Dumper</code>. I haven't been able to test it, but it looks right and does compile</p>\n\n<p>It starts by building a hash <code>%headers</code> that relates the column header strings to the column number, based on the first row in each worksheet.</p>\n\n<p>Then the second row onwards is processed, extracting the cells in the columns named in the <code>@wanted</code> array, and putting their values in the array <code>@row</code>, which is pushed onto <code>@rows</code> as each one is accumulated</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Spreadsheet::ParseExcel;\nuse Data::Dumper;\n\nmy @wanted = qw/\n    CredentialIssuedDate\n    AgencyRegistryCardNumber\n    AgencyName\n/;\n\nmy $parser   = Spreadsheet::ParseExcel-&gt;new;\nmy $workbook = $parser-&gt;parse('file.xls');\n\nif ( not defined $workbook ) {\n    die $parser-&gt;error, \".\\n\";\n}\n\nfor my $worksheet ( $workbook-&gt;worksheets ) {\n\n    my ( $row_min, $row_max ) = $worksheet-&gt;row_range;\n    my ( $col_min, $col_max ) = $worksheet-&gt;col_range;\n\n    my %headers;\n\n    for my $col ( $col_min, $col_max ) {\n        my $header = $worksheet-&gt;get_cell($row_min, $col)-&gt;value;\n        $headers{$header} = $col;\n    }\n\n    my @rows;\n\n    for my $row ( $row_min + 1 .. $row_max ) {\n\n        my @row;\n\n        for my $name ( @wanted ) {\n            my $col = $headers{$name};\n            my $cell = $worksheet-&gt;get_cell($row, $col);\n            push @row, $cell ? $cell-&gt;value : \"\";\n        }\n\n        push @rows, \\@row;\n    }\n\n    print Dumper \\@rows;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "is_accepted": false, "score": 0, "last_activity_date": 1447705233, "creation_date": 1447705233, "answer_id": 33743922, "question_id": 33427363, "link": "https://stackoverflow.com/questions/33427363/spreadsheetparseexcel-building-an-array-or-hash/33743922#33743922", "title": "Spreadsheet::ParseExcel building an array or hash", "body": "<p>I was able to resolve this by using the <code>Spreadsheet::BasicReadNamedCol</code> module</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Data::Dumper;\nuse Spreadsheet::BasicReadNamedCol;\n\nmy $xlsFileName = 'shit.xls';\nmy @columnHeadings = (\n'AgencyName',\n'eMail',\n'PhysicalAddress1',\n'PhysicalAddress2'\n);\n\nmy $ss = new Spreadsheet::BasicReadNamedCol($xlsFileName) ||\ndie \"Could not open '$xlsFileName': $!\";\n$ss-&gt;setColumns(@columnHeadings);\n\n# Print each row of the spreadsheet in the order defined in\n# the columnHeadings array\nmy $row = 0;\nwhile (my $data = $ss-&gt;getNextRow())\n{\n   $row++;\n   print join('|', $row, @$data), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447705233, "creation_date": 1446167383, "last_edit_date": 1446168428, "question_id": 33427363, "link": "https://stackoverflow.com/questions/33427363/spreadsheetparseexcel-building-an-array-or-hash", "title": "Spreadsheet::ParseExcel building an array or hash", "body": "<p>I am new to <a href=\"http://metacpan.org/module/Spreadsheet::ParseExcel\" rel=\"nofollow\"><code>Spreadsheet::ParseExcel</code></a>. I have a space-delimited file which I opened in Microsoft Excel and saved it as a XLS file.</p>\n\n<p>I installed <code>Spreadsheet::ParseExcel</code> and used the example code in documentation to print the contents of the file. My objective is to build an array of some of the data to write to a database. I just need a little help building the array -- writing to a database I'll figure out later.</p>\n\n<p>I'm having a hard time understanding this module -- I did read the documentation, but because of my inexperience I'm unable to understand it.</p>\n\n<p>Below is the code I'm using for the output.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Data::Dumper;\nuse Spreadsheet::ParseExcel;\n\nmy $parser   = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse( 'file.xls' );\n\nif ( !defined $workbook ) {\n    die $parser-&gt;error(), \".\\n\";\n}\n\nfor my $worksheet ( $workbook-&gt;worksheets() ) {\n\n    my ( $row_min, $row_max ) = $worksheet-&gt;row_range();\n    my ( $col_min, $col_max ) = $worksheet-&gt;col_range();\n\n    for my $row ( $row_min .. $row_max ) {\n\n        for my $col ( $col_min .. $col_max ) {\n\n            my $cell = $worksheet-&gt;get_cell( $row, $col );\n            next unless $cell;\n\n            print \"Row, Col    = ($row, $col)\\n\";\n            print \"Value       = \", $cell-&gt;value(),       \"\\n\";\n            print \"Unformatted = \", $cell-&gt;unformatted(), \"\\n\";\n            print \"\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>And here is some of the output</p>\n\n<pre><code>Row, Col    = (0, 0)\nValue       = NewRecordFlag\nUnformatted = NewRecordFlag\n\nRow, Col    = (0, 1)\nValue       = AgencyName\nUnformatted = AgencyName\n\nRow, Col    = (0, 2)\nValue       = CredentialIdnt\nUnformatted = CredentialIdnt\n\nRow, Col    = (0, 3)\nValue       = ContactIdnt\nUnformatted = ContactIdnt\n\nRow, Col    = (0, 4)\nValue       = AgencyRegistryCardNumber\nUnformatted = AgencyRegistryCardNumber\n\nRow, Col    = (0, 5)\nValue       = Description\nUnformatted = Description\n\nRow, Col    = (0, 6)\nValue       = CredentialStatusDescription\nUnformatted = CredentialStatusDescription\n\nRow, Col    = (0, 7)\nValue       = CredentialStatusDate\nUnformatted = CredentialStatusDate\n\nRow, Col    = (0, 8)\nValue       = CredentialIssuedDate\nUnformatted = CredentialIssuedDate\n</code></pre>\n\n<p>My objective is to build an array of <code>CredentialIssuedDate</code>, <code>AgencyRegistryCardNumber</code>, and <code>AgencyName</code>. Once I grasp the concept of doing that, I can go to town with this great module.</p>\n"}, {"tags": ["perl", "if-statement", "while-loop"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1446166422, "post_id": 33427205, "comment_id": 54643317, "body": "... it&#39;s not inside the loop."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5028203, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9922c6496e16cab4b7aad2599a278dd?s=128&d=identicon&r=PG&f=1", "display_name": "hhdesign", "link": "https://stackoverflow.com/users/5028203/hhdesign"}, "edited": false, "score": 0, "creation_date": 1446172189, "post_id": 33427448, "comment_id": 54644280, "body": "Thank you for your help @borodin ..I actually am required to use a while loop instead of for loop for this specific script."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1446168076, "creation_date": 1446168076, "answer_id": 33427448, "question_id": 33427205, "link": "https://stackoverflow.com/questions/33427205/detect-and-print-the-multiples-of-a-specific-integer-in-perl/33427448#33427448", "title": "Detect and print the multiples of a specific integer in Perl", "body": "<p>There are a few problems here</p>\n\n<ul>\n<li><p>The line</p>\n\n<pre><code>my @nums = ( 200 .. 100 )\n</code></pre>\n\n<p>will leave <code>@nums</code> empty, because the upper bound of the range is less than the lower bound. You probably want <code>100 .. 200</code></p></li>\n<li><p>The variable <code>$i</code> starts at 200 and increases, but there are only 101 elements in the array <code>@nums</code> (if you reverse the upper and lower bounds). So the value at index 200 is <code>undef</code></p></li>\n<li><p>You are printing out <em>every</em> value of <code>$i</code> within the <code>while</code> loop, and then make a single check for divisibility of the value of <code>$i</code> after the loop. Presumably you want to test each value inside the loop</p></li>\n</ul>\n\n<p>I think you meant something like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"Enter an integer: \";\n\nmy $integer = &lt;STDIN&gt;;\nchomp $integer;\n\nfor my $n ( 100 .. 200 ) {\n    print \"$n \" if $n % $integer == 0;\n}\n\nprint \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Enter an integer: 7\n105 112 119 126 133 140 147 154 161 168 175 182 189 196\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1446179055, "last_edit_date": 1446179055, "creation_date": 1446178705, "answer_id": 33428579, "question_id": 33427205, "link": "https://stackoverflow.com/questions/33427205/detect-and-print-the-multiples-of-a-specific-integer-in-perl/33428579#33428579", "title": "Detect and print the multiples of a specific integer in Perl", "body": "<p>As from you comment.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"Enter an integer: \";\nchomp(my $integer = &lt;STDIN&gt;);\n\nmy @nums = ( 100 .. 200 );\n\nmy $i = 0;\n\nwhile ( $i &lt; $#nums ) \n{\n    print \"$nums[$i]  \",if($nums[$i] % $integer == 0);\n    $i++;\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5028203, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9922c6496e16cab4b7aad2599a278dd?s=128&d=identicon&r=PG&f=1", "display_name": "hhdesign", "link": "https://stackoverflow.com/users/5028203/hhdesign"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1446179055, "creation_date": 1446166217, "last_edit_date": 1446167548, "question_id": 33427205, "link": "https://stackoverflow.com/questions/33427205/detect-and-print-the-multiples-of-a-specific-integer-in-perl", "title": "Detect and print the multiples of a specific integer in Perl", "body": "<p>I am trying to write a script that will detect the multiples of an integer that a user entered and is in the range of 200-100. I think I am missing something in my if statement because its not detecting any results for me.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"Enter an integer: \";\n\nmy $integer = &lt;STDIN&gt;;\n\nchomp $integer;\n\nmy @nums = ( 200 .. 100 );\n\nmy $i = 200;\n\nwhile ( $i &lt; $#nums ) {\n    print \"$nums[$i]  \";\n    ++$i;\n}\n\nif ( $i % $integer == 0 ) {\n    print \"$i\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1446167173, "creation_date": 1446167173, "answer_id": 33427336, "question_id": 33426902, "link": "https://stackoverflow.com/questions/33426902/pquery-cannot-retrieve-contents-of-webpage/33427336#33427336", "title": "pQuery cannot retrieve contents of webpage", "body": "<p>It looks like you are using it correctly, but <a href=\"http://metacpan.org/module/pQuery\" rel=\"nofollow\"><code>pQuery</code></a> has many problems. Its documentation says <strong><em>This module is still being written</em></strong>, but the latest version 0.23 was released\n fourteen months ago</p>\n\n<p>In this case, it is getting upset because it requires that an HTML document starts with <code>&lt;html&gt;</code> and ends with <code>&lt;/html&gt;</code>, but the Google home page starts with a perfectly valid</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n</code></pre>\n\n<p>The result is that it wraps the whole page in a pair of <code>&lt;dummy&gt;</code> ... <code>&lt;/dummy&gt;</code> tags, which completely throws the HTML parser.</p>\n\n<p>If you want to fetch the title of a web pages then I suggest you use the excellent <a href=\"http://metacpan.org/module/Mojo::UserAgent\" rel=\"nofollow\"><code>Mojo::UserAgent</code></a>, like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.10;\n\nuse Mojo::UserAgent;\n\nmy $ua = Mojo::UserAgent-&gt;new-&gt;max_redirects(5);\n\nmy $url = 'https://www.google.co.uk/';\n\nmy $title = $ua-&gt;get($url)-&gt;res-&gt;dom-&gt;at('title')-&gt;text;\n\nsay qq{Title is: \"$title\"};\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Title is: \"Google\"\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 33427336, "answer_count": 1, "score": 0, "last_activity_date": 1446167173, "creation_date": 1446163987, "last_edit_date": 1495540315, "question_id": 33426902, "link": "https://stackoverflow.com/questions/33426902/pquery-cannot-retrieve-contents-of-webpage", "title": "pQuery cannot retrieve contents of webpage", "body": "<p>I am using <a href=\"https://stackoverflow.com/questions/574199/how-do-i-extract-an-html-title-with-perl\">this</a> to retrieve a title from a URL.</p>\n\n<p>As a simple example, I have the following code</p>\n\n<pre><code>use pQuery;\nmy $url = \"http://google.com\";\nmy $page = pQuery($url);\nmy $title = $page-&gt;find('title');\nprint $title-&gt;html;\n</code></pre>\n\n<p>but it does not print anything. Am I using it incorrectly?</p>\n"}, {"tags": ["java", "perl", "encryption", "aes"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1446194746, "post_id": 33426033, "comment_id": 54651859, "body": "You should start by creating a set number of test cases from your Java code, and write unit tests for your Perl code with these. Then add those test cases here, so we have something more to work with."}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 4190827, "user_type": "registered", "profile_image": "https://graph.facebook.com/647038555/picture?type=large", "display_name": "Jorge Pereira", "link": "https://stackoverflow.com/users/4190827/jorge-pereira"}, "is_accepted": false, "score": 1, "last_activity_date": 1446251215, "creation_date": 1446251215, "answer_id": 33446753, "question_id": 33426033, "link": "https://stackoverflow.com/questions/33426033/perl-problems-with-cryptcbc-based-in-java-code/33446753#33446753", "title": "Perl problems with Crypt::CBC based in Java code", "body": "<p>I fixed, the problem was with -iv parameter.</p>\n\n<pre><code>my $iv = (\"\\x0\") x 16;\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 4190827, "user_type": "registered", "profile_image": "https://graph.facebook.com/647038555/picture?type=large", "display_name": "Jorge Pereira", "link": "https://stackoverflow.com/users/4190827/jorge-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 4, "answer_count": 1, "score": 2, "last_activity_date": 1446251215, "creation_date": 1446159192, "last_edit_date": 1446161266, "question_id": 33426033, "link": "https://stackoverflow.com/questions/33426033/perl-problems-with-cryptcbc-based-in-java-code", "title": "Perl problems with Crypt::CBC based in Java code", "body": "<p>I have java code that uses AES/CBC, And I need to rewrite in perl. My  goal is to reproduce the same result in both codes. Is it possible?</p>\n\n<pre><code>import java.nio.charset.Charset;\nimport java.security.GeneralSecurityException;\nimport java.security.InvalidKeyException;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.commons.lang3.StringUtils;\n\npublic class GenPass {\n\n    public static void main(String[] args) {\n        String secret = \"secret\"; /* same secret */\n        String password = args[0];\n        if (args.length &gt; 1) {\n            secret = args[1];\n        }\n        System.out.println(\"Using secret: [\" + secret + \"]\");\n        System.out.println(\"Password [\" + password + \"]\");\n        String encodePassword = new GenPass().encodePassword(password, secret);\n        System.out.println(\"Encoded password [\" + encodePassword + \"]\");\n    }\n\n    private String encodePassword(String password, String secret) {\n        try {\n            final SecretKeySpec secretKey = new SecretKeySpec(this.decodeHex(secret.toCharArray()), \"AES\"); /* same set*/\n            final Cipher cipher = Cipher.getInstance(\"AES/CBC/NoPadding\"); // same set here\n\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, new IvParameterSpec(new byte[16]));\n\n            String paddedString = StringUtils.left(StringUtils.rightPad(password, 16, (char) 0), 16);\n\n            byte[] encryptedBytes = cipher.doFinal(paddedString.getBytes(Charset.forName(\"UTF-8\")));\n            return Base64.getEncoder().encodeToString(encryptedBytes);\n\n        } catch (InvalidKeyException invalidKeyException) {\n            System.out.println(\"Chave incorreta durante criptografia da senha\" + invalidKeyException);\n            throw new RuntimeException(invalidKeyException);\n\n        } catch (GeneralSecurityException generalSecurityException) {\n            System.out.println(\"Falha inesperada durante criptografia da senha\" + generalSecurityException.toString());\n            throw new RuntimeException(generalSecurityException);\n        }\n\n    }\n\n    private String normalize(String password) {\n        char[] array = new char[16];\n        char[] temp = password.toCharArray();\n        System.arraycopy(temp, 0, array, 0, 16);\n        return String.valueOf(array);\n    }\n\n    public static byte[] decodeHex(final char[] data) {\n\n        final int len = data.length;\n\n        if ((len &amp; 0x01) != 0) {\n            throw new RuntimeException(\"Odd number of characters.\");\n        }\n\n        final byte[] out = new byte[len &gt;&gt; 1];\n\n        // two characters form the hex value.\n        for (int i = 0, j = 0; j &lt; len; i++) {\n            int f = toDigit(data[j], j) &lt;&lt; 4;\n            j++;\n            f = f | toDigit(data[j], j);\n            j++;\n            out[i] = (byte) (f &amp; 0xFF);\n        }\n\n        return out;\n    }\n\n    protected static int toDigit(final char ch, final int index) {\n        final int digit = Character.digit(ch, 16);\n        if (digit == -1) {\n            throw new RuntimeException(\"Illegal hexadecimal character \" + ch + \" at index \" + index);\n        }\n        return digit;\n    }\n}\n</code></pre>\n\n<p>The result isn't same. I can't figure out where is the mistake...</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nuse Crypt::CBC;\nuse MIME::Base64;\nuse Digest::MD5 qw(md5_hex);\n\nmy $plainText = \"textsample\";\nmy $iv = \"                \";\nmy $key = \"secret\";\n\nmy $cipher = Crypt::CBC-&gt;new(\n    -key         =&gt; $key,\n    -iv          =&gt; $iv,\n    -cipher      =&gt; 'OpenSSL::AES',\n    -literal_key =&gt; 0,\n    -header      =&gt; \"none\",\n    -padding     =&gt; \"null\",\n    -keysize     =&gt; 16\n);\n\nmy $encrypted = $cipher-&gt;encrypt($plainText);\nmy $base64 = encode_base64($encrypted);\n\nchomp $base64;\nprint(\"The '$plainText' encrypted is '$base64'\\n\");\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446159443, "post_id": 33425953, "comment_id": 54641226, "body": "Your question will probably be closed as off-topic because you appear to be asking for some code to be written for you for free. That&#39;s kinda rude and isn&#39;t what Stack Overflow is about. You should read <a href=\"http://stackoverflow.com/help/on-topic\"><b>What topics can I ask about here?</b></a> which says <i>&quot;Stack Overflow is for professional and enthusiast programmers, people who write code because they love it&quot;</i> which doesn&#39;t seem to apply to you. In any case I don&#39;t see where the <i>value</i> for tha MAC address comes from"}, {"owner": {"reputation": 1, "user_id": 5505182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eKmIPHgnVhs/AAAAAAAAAAI/AAAAAAAAAGw/MzNRnyWEzYw/photo.jpg?sz=128", "display_name": "cls78628", "link": "https://stackoverflow.com/users/5505182/cls78628"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446159743, "post_id": 33425953, "comment_id": 54641335, "body": "Ok, that&#39;s fine. I have to upload files to a gov&#39;t system that requires a stupid mac-address entry, even if it&#39;s bogus."}, {"owner": {"reputation": 1, "user_id": 5505182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eKmIPHgnVhs/AAAAAAAAAAI/AAAAAAAAAGw/MzNRnyWEzYw/photo.jpg?sz=128", "display_name": "cls78628", "link": "https://stackoverflow.com/users/5505182/cls78628"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1446159782, "post_id": 33425953, "comment_id": 54641351, "body": "have just been trying to find any ideas on how to do this in an automated fashion. I&#39;m not a programmer, so this probably wasn&#39;t the best forum."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1446159953, "post_id": 33425953, "comment_id": 54641400, "body": "Stack Overflow is a knowledge base, not a forum. Think of it as the Wikipedia of solutions to programming problems. By asking a question you&#39;re opening a new topic that you think belongs here but hasn&#39;t been created before"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446202464, "post_id": 33425953, "comment_id": 54656536, "body": "Is this a cross site dupe of <a href=\"http://www.perlmonks.org/?node_id=1146167\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1146167</a> ?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446202537, "post_id": 33431805, "comment_id": 54656580, "body": "Looks like it @Sobrique. I&#39;ve not been checking perlmonks in a while. It makes my eyes hurt unfortunately. :-/"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1446202810, "post_id": 33431805, "comment_id": 54656742, "body": "I do from time to time. It seems even more prone on &#39;bad formatting syndrome&#39; than SO though."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1446194634, "creation_date": 1446194634, "answer_id": 33431805, "question_id": 33425953, "link": "https://stackoverflow.com/questions/33425953/using-perl-to-conditionally-add-tag-to-xml-file/33431805#33431805", "title": "Using Perl to conditionally add tag to XML file", "body": "<p>You can use <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\">XML::Twig</a> to do this. The following code iterates all <code>HostProperties</code> nodes and checks them for the existance of a <code>tag</code> with <em>name</em> <code>mac-address</code>, and if it's not there, inserts one.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\n# at most one div will be loaded in memory\nmy $twig = XML::Twig-&gt;new(\n    twig_handlers =&gt; {\n        '//ReportHost/HostProperties' =&gt; sub {\n            my $seen = 0;\n            foreach my $elem ( $_-&gt;children('tag') ) {\n                if ( $elem-&gt;atts-&gt;{name} eq 'mac-address' ) {\n                    $seen++;\n                    last;\n                }\n            }\n            $_-&gt;insert_new_elt( \n              'last_child', \n              'tag' =&gt; { name =&gt; 'mac-address' }, \n              'barfoo' \n            ) unless $seen;\n        }\n    },\n    pretty_print =&gt; 'indented',\n);\n\n$twig-&gt;parse( \\*DATA );\n$twig-&gt;flush;\n\n__DATA__\n&lt;NessusClientData_V2&gt;\n    &lt;Policy&gt;\n    &lt;Report&gt;\n        &lt;ReportHost name=\"1.2.3.4\"&gt;\n            &lt;HostProperties&gt;\n                &lt;tag name=\"HOST_END\"&gt;Thu Sep 17 17:23:19 2015&lt;/tag&gt;\n                &lt;tag name=\"system-type\"&gt;general-purpose&lt;/tag&gt;\n                &lt;tag name=\"operating-system\"&gt;MS WIN&lt;/tag&gt;\n                &lt;tag name=\"ssh-auth-meth\"&gt;password&lt;/tag&gt;\n                &lt;tag name=\"ssh-login-used\"&gt;backup&lt;/tag&gt;\n                &lt;tag name=\"local-checks-proto\"&gt;ssh&lt;/tag&gt;\n                &lt;tag name=\"host-ip\"&gt;1.2.3.4&lt;/tag&gt;\n                &lt;tag name=\"HOST_START\"&gt;Thu Sep 17 17:00:14 2015&lt;/tag&gt;\n            &lt;/HostProperties&gt;\n        &lt;/ReportHost&gt;\n        &lt;ReportHost name=\"127.0.0.1\"&gt;\n            &lt;HostProperties&gt;\n                &lt;tag name=\"HOST_END\"&gt;Thu Sep 17 17:23:19 2015&lt;/tag&gt;\n                &lt;tag name=\"system-type\"&gt;general-purpose&lt;/tag&gt;\n                &lt;tag name=\"operating-system\"&gt;MS WIN&lt;/tag&gt;\n                &lt;tag name=\"ssh-auth-meth\"&gt;password&lt;/tag&gt;\n                &lt;tag name=\"ssh-login-used\"&gt;backup&lt;/tag&gt;\n                &lt;tag name=\"local-checks-proto\"&gt;ssh&lt;/tag&gt;\n                &lt;tag name=\"host-ip\"&gt;127.0.0.1&lt;/tag&gt;\n                &lt;tag name=\"HOST_START\"&gt;Thu Sep 17 17:00:14 2015&lt;/tag&gt;\n                &lt;tag name=\"mac-address\"&gt;foobar&lt;/tag&gt;\n            &lt;/HostProperties&gt;\n        &lt;/ReportHost&gt;\n    &lt;/Report&gt;\n&lt;/Policy&gt;\n&lt;/NessusClientData_V2&gt;\n</code></pre>\n\n<p>You will have to replace the <code>-&gt;parse(\\*DATA)</code> with a <code>-&gt;parse_file</code> and maybe add some random mac address.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1446203186, "creation_date": 1446203186, "answer_id": 33434537, "question_id": 33425953, "link": "https://stackoverflow.com/questions/33425953/using-perl-to-conditionally-add-tag-to-xml-file/33434537#33434537", "title": "Using Perl to conditionally add tag to XML file", "body": "<p>Well, I answered on <a href=\"http://www.perlmonks.org/?node_id=1146167\" rel=\"nofollow\">perlmonks</a>, and with a bit more of an XML sample, I'll recycle the answer. For this trick, I'd use <code>xpath</code> to query your XML, rather than walking the tree. The reasoning behind this is because <code>xpath</code> lets you query element, attribute and attribute content in a single statement. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;parsefile( 'your_file.xml' );\n\n#search for \"HostProperties\" nodes within the tree. You can\n#be more specific about this if you need to. \nforeach my $HP ( $twig-&gt;get_xpath('//HostProperties') ) {\n    #check if it has a \"tag\" element with a \"mac-address\" \"name\" attribute.\n    if ( not $HP-&gt;get_xpath('./tag[@name=\"mac-address\"]') ) {\n        #insert a new element at the end of the entry. \n        $HP-&gt;insert_new_elt( 'last_child', \n                     'tag', { 'name' =&gt; 'mac-address' },\n                     \"DE:AD:BE:EF:F0:FF\" );\n    }\n}\n\n#note - pretty printing helps reading, but might\n#cause some problems with certain XML constructs. Shouldn't in your specific example though. \n$twig-&gt;set_pretty_print(\"indented_a\");\n$twig-&gt;print;\n\n#to save it to a file:\nopen ( my $output, '&gt;', 'processed.xml' ) or die $!;\nprint {$output} $twig -&gt; sprint;\nclose ( $output ); \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5505182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eKmIPHgnVhs/AAAAAAAAAAI/AAAAAAAAAGw/MzNRnyWEzYw/photo.jpg?sz=128", "display_name": "cls78628", "link": "https://stackoverflow.com/users/5505182/cls78628"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446203186, "creation_date": 1446158750, "last_edit_date": 1446182549, "question_id": 33425953, "link": "https://stackoverflow.com/questions/33425953/using-perl-to-conditionally-add-tag-to-xml-file", "title": "Using Perl to conditionally add tag to XML file", "body": "<p>I am not a developer in any way, but a network security guy. I need to insert a tag and value for an element if it does not already exist.</p>\n\n<p>Here's a snippet of my XML file</p>\n\n<pre><code>&lt;NessusClientData_V2&gt; \n    &lt;Policy&gt; \n    ... \n    &lt;Report&gt; \n    ... \n        &lt;ReportHost name=\"1.2.3.4\"&gt; \n        ... \n            &lt;HostProperties&gt; \n            ... \n                &lt;tag name=\"HOST_END\"&gt;Thu Sep 17 17:23:19 2015&lt;/tag&gt; \n                &lt;tag name=\"system-type\"&gt;general-purpose&lt;/tag&gt; \n                &lt;tag name=\"operating-system\"&gt;MS WIN&lt;/tag&gt; \n                &lt;tag name=\"ssh-auth-meth\"&gt;password&lt;/tag&gt; \n                &lt;tag name=\"ssh-login-used\"&gt;backup&lt;/tag&gt; \n                &lt;tag name=\"local-checks-proto\"&gt;ssh&lt;/tag&gt; \n                &lt;tag name=\"host-ip\"&gt;1.2.3.4&lt;/tag&gt; \n                &lt;tag name=\"HOST_START\"&gt;Thu Sep 17 17:00:14 2015&lt;/tag&gt;\n            &lt;/HostProperties&gt; \n            ...\n</code></pre>\n\n<p>I need to check each <code>ReportHost</code> element and create a </p>\n\n<pre><code>&lt;tag name=\"mac-address\"&gt;\n</code></pre>\n\n<p>if it doesn't already have one.</p>\n\n<p>My output needs to contain all of the original information, but only needs to be added to.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": true, "score": 4, "last_activity_date": 1446158482, "last_edit_date": 1446158482, "creation_date": 1446156688, "answer_id": 33425512, "question_id": 33425448, "link": "https://stackoverflow.com/questions/33425448/perl-in-place-search-and-replace-but-only-on-lines-matching-a-second-pattern/33425512#33425512", "title": "perl in-place search-and-replace, but only on lines matching a second pattern", "body": "<p>You're almost there already:</p>\n\n<pre><code>perl -i -p -e \"s/Sydney/Moscow/g if /^HomeCities:/\" cities.txt\n</code></pre>\n\n<p>Edited to add:</p>\n\n<p>By the by, on the off chance that the file could contain a city whose name contains \"Sydney\" as a substring, eg. \"Sydneyville\" or something, and you don't want to change it to \"Moscowville\", you could tighten up the regex to only apply to complete words:</p>\n\n<pre><code>perl -i -p -e \"s/\\bSydney\\b/Moscow/g if /^HomeCities:/\" cities.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 5, "last_activity_date": 1446157428, "last_edit_date": 1446157428, "creation_date": 1446156700, "answer_id": 33425514, "question_id": 33425448, "link": "https://stackoverflow.com/questions/33425448/perl-in-place-search-and-replace-but-only-on-lines-matching-a-second-pattern/33425514#33425514", "title": "perl in-place search-and-replace, but only on lines matching a second pattern", "body": "<p>You can just add an <code>if</code> statement:</p>\n\n<pre><code>perl -i -p -e \"s/Sydney/Moscow/g if /^HomeCities/\" cities.txt\n</code></pre>\n\n<p>(Note that in your 'cities.txt' file 'Sydney' is spelt incorrectly, so no replacement will occur) </p>\n"}], "owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 0, "accepted_answer_id": 33425512, "answer_count": 2, "score": 1, "last_activity_date": 1446158482, "creation_date": 1446156313, "last_edit_date": 1446157396, "question_id": 33425448, "link": "https://stackoverflow.com/questions/33425448/perl-in-place-search-and-replace-but-only-on-lines-matching-a-second-pattern", "title": "perl in-place search-and-replace, but only on lines matching a second pattern", "body": "<p>Today I learned about how to use perl to do a search-and-replace across one or more files.  For example, I can do this:</p>\n\n<pre><code>perl -i -p -e \"s/Sydney/Moscow/g\" cities.txt\n</code></pre>\n\n<p>... and after it is done, cities.txt will be modified-in-place, such that all instances of the string \"Sydney\" have been replaced by \"Moscow\".</p>\n\n<p>This is great, but I'd like a bit more control:  specifically, I'd like the search-and-replace operations to occur <em>only</em> on lines that start with the string \"HomeCities:\"</p>\n\n<p>For example, if cities.txt looked like this before I ran the command:</p>\n\n<pre><code>HomeCities:   Dublin, Sydney, Los Angeles, Chicago\nAwayCities:   New York, Melbourne, Sydney, Oakland\n</code></pre>\n\n<p>... then after the command completed, it would look like this:</p>\n\n<pre><code>HomeCities:   Dublin, Moscow, Los Angeles, Chicago\nAwayCities:   New York, Melbourne, Sydney, Oakland\n</code></pre>\n\n<p>Is there a way to do this short of writing a script or program with an explicit per-line for-loop and per-line logic?</p>\n"}]