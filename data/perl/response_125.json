[{"tags": ["perl"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1496266181, "post_id": 44294954, "comment_id": 75596217, "body": "<code>split</code> is a function that returns a list of words - what did you do with that list?"}, {"owner": {"reputation": 13, "user_id": 8094451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1901f948339fa11b3e203f68152e57aa?s=128&d=identicon&r=PG&f=1", "display_name": "flantasyrm7", "link": "https://stackoverflow.com/users/8094451/flantasyrm7"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1496266547, "post_id": 44294954, "comment_id": 75596364, "body": "I thought I was using the pattern checker on that list of words to find the word I was looking for, at least that&#39;s what I was trying to do"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1496267200, "post_id": 44294954, "comment_id": 75596633, "body": "the <code>if (m&#47;test&#47;)</code> is an implicit test against <code>$_</code>, which is the line read by <code>&lt;MYFILE&gt;</code> and then printed. <code>split</code> doesn&#39;t have an implicit output variable."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496267509, "post_id": 44294954, "comment_id": 75596750, "body": "Stack Overflow is a place where people who know their craft well can come to seek the help of their peers. Expressions like <code>m,test,</code> show that you clearly have zero knowledge of Perl, and are hoping for free consultancy. You need to either learn the skill yourself or to pay someone who has spent the effort to educate themselves."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496267672, "post_id": 44294954, "comment_id": 75596807, "body": "<i>&quot;I thought by using &quot;split&quot;, it changes how Perl reads the input &quot;</i> Did you read <i>anything</i>? How about <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a>? How do you get your car fixed? <i>&quot;Apparently, this user prefers to keep an air of mystery about them&quot;</i> I&#39;m not surprised."}, {"owner": {"reputation": 13, "user_id": 8094451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1901f948339fa11b3e203f68152e57aa?s=128&d=identicon&r=PG&f=1", "display_name": "flantasyrm7", "link": "https://stackoverflow.com/users/8094451/flantasyrm7"}, "edited": false, "score": 0, "creation_date": 1496268292, "post_id": 44294954, "comment_id": 75597022, "body": "You are right, I don&#39;t know much about Perl, I&#39;m trying to teach myself right now and I thought this site was a good place to ask for help but I didn&#39;t realize you had to be a pro before you could ask a question. I&#39;m sorry."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496273744, "post_id": 44294954, "comment_id": 75598642, "body": "You don&#39;t have to be a &quot;professional&quot; but you must believe that you&#39;re capable of what you&#39;re trying to do, and you should have read and experimented a lot to try to understand the language well before asking others about your problem. You won&#39;t learn anything by guessing, or by copying what others have written and pasting it into your program. You will only have to post the new code to Stack Overflow and ask for another fix. You need to <i>learn the language</i>, and copying <code>split</code> without understanding what it does isn&#39;t making you a good programmer."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1496267222, "creation_date": 1496267222, "answer_id": 44295188, "question_id": 44294954, "link": "https://stackoverflow.com/questions/44294954/splitting-lines-into-individual-strings-in-perl/44295188#44295188", "title": "Splitting lines into individual strings in Perl", "body": "<pre><code>open (MYFILE, \"text.txt\"); \nwhile(&lt;MYFILE&gt;) {\n    print grep /test/, split; \n}\nclose(MYFILE); \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8094451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1901f948339fa11b3e203f68152e57aa?s=128&d=identicon&r=PG&f=1", "display_name": "flantasyrm7", "link": "https://stackoverflow.com/users/8094451/flantasyrm7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496267396, "creation_date": 1496266068, "last_edit_date": 1496267396, "question_id": 44294954, "link": "https://stackoverflow.com/questions/44294954/splitting-lines-into-individual-strings-in-perl", "title": "Splitting lines into individual strings in Perl", "body": "<p>Here's my code currently:</p>\n\n<pre><code>    open (MYFILE, \"text.txt\"); \n    while(&lt;MYFILE&gt;){\n        split; \n        if (m,test,){\n            print $_; \n        }\n    }\n    close(MYFILE); \n</code></pre>\n\n<p>So if my test.txt file had the following: </p>\n\n<pre><code>line 1: this is a test line\nline 2: this has nothing\nline 3: oh here's a test\n</code></pre>\n\n<p>My output is:</p>\n\n<pre><code>line 1: this is a testword line\nline 3: oh here's a testphrase\n</code></pre>\n\n<p>My desired output is just outputting the word with \"test\" in it or</p>\n\n<pre><code>line 1: testword\nline 3: testphrase\n</code></pre>\n\n<p>I thought by using \"split\", it changes how Perl reads the input instead of line by line now it would be word by word but it doesn't seem to work. Any thoughts or suggestions?</p>\n"}, {"tags": ["mongodb", "perl", "perl5.8", "database"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496266380, "post_id": 44294637, "comment_id": 75596295, "body": "What do you want the keys to be? The Python example you gave looks like an array. There is a method to get all of the documents at once."}, {"owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496268546, "post_id": 44294637, "comment_id": 75597106, "body": "@simbabque as mongo docs (<a href=\"http://search.cpan.org/dist/MongoDB/lib/MongoDB/Collection.pm\" rel=\"nofollow noreferrer\">search.cpan.org/dist/MongoDB/lib/MongoDB/Collection.pm</a>) state, a document retrieved is the same as a hash. So I want to use as keys the keys from the retrieved document. Whihc mehtod are you talking about? it can be useful too"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496269153, "post_id": 44294637, "comment_id": 75597300, "body": "<a href=\"https://metacpan.org/pod/MongoDB::QueryResult#all\" rel=\"nofollow noreferrer\">metacpan.org/pod/MongoDB::QueryResult#all</a> gives all docs of the search at once as a list. I&#39;ve never used MongoDB before, but it sounds to me that the <code>next</code> returns a full document. That&#39;s your hash."}, {"owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496269589, "post_id": 44294637, "comment_id": 75597480, "body": "@simbabque Sure! I was missunderstanting something when I read that, after asking here. Thank you for clarify, that solves my problem!!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496269696, "post_id": 44294637, "comment_id": 75597512, "body": "You&#39;re welcome. Next time, just try and look at the data that comes back with Data::Dumper or similar. Docs can be confusing, but the data is what it is. :-)"}, {"owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496269908, "post_id": 44294637, "comment_id": 75597580, "body": "Thanks for the advice. If you want to write the answer, I will gladly accept it @simbabque"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1496297313, "creation_date": 1496297313, "answer_id": 44299703, "question_id": 44294637, "link": "https://stackoverflow.com/questions/44294637/mongodb-cursor-to-hash-in-perl/44299703#44299703", "title": "MongoDB cursor to hash in Perl", "body": "<p>When you call <code>find</code>, it returns a <a href=\"https://metacpan.org/pod/MongoDB::Cursor\" rel=\"nofollow noreferrer\">cursor object</a>, which delegates iterator methods to a <a href=\"https://metacpan.org/pod/MongoDB::QueryResult\" rel=\"nofollow noreferrer\">MongoDB::QueryResult</a>. When you do a <code>next</code> on that thing, it returns one document at a time lazily. That document already is the full set of data. This might be a hash reference already (or an object, I don't know).</p>\n\n<pre><code>use Data::Dumper;\nwhile (my $object = $cursor-&gt;next) {\n    print Dumper $object;\n}\n</code></pre>\n\n<p>If you want all of them at once, you can get a list with the <code>all</code> method, which you can then put into an array and use at your convenience. This will not load on demand.</p>\n\n<pre><code>my @objects = $cursor-&gt;all;\n</code></pre>\n"}], "owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 44299703, "answer_count": 1, "score": 0, "last_activity_date": 1499609938, "creation_date": 1496264617, "last_edit_date": 1506103077, "question_id": 44294637, "link": "https://stackoverflow.com/questions/44294637/mongodb-cursor-to-hash-in-perl", "title": "MongoDB cursor to hash in Perl", "body": "<p>So, I'm retrieving some values from MongoDB. I now that <code>find</code> method returns a <code>cursor</code>, which lazy loads the query results. I want to have the cursor stored as a hash, but I can find any method. Of course, you can iterate over the cursor and fill the has by yourself, but I'm interested in a automated way. For example, in Python, you could do this: <code>myList = list(col.find())</code> to get all the cursor items as a list.</p>\n\n<p>Would it be possible doing something similar in Perl?</p>\n"}, {"tags": ["windows", "perl", "strawberry-perl"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1496273033, "post_id": 44294526, "comment_id": 75598453, "body": "windows does not use &#39;/&#39;, but &#39;\\&#39; as a delimiter. I remember it used to tolerate it at times, but that may be the issue. I don&#39;t have one to test this atm, though. You might also want to check your regex for that same problem!"}], "answers": [{"tags": [], "owner": {"reputation": 154069, "user_id": 260127, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/74758c702067a3490094451e475e28c5?s=128&d=identicon&r=PG", "display_name": "prosseek", "link": "https://stackoverflow.com/users/260127/prosseek"}, "is_accepted": true, "score": -1, "last_activity_date": 1496515110, "last_edit_date": 1496515110, "creation_date": 1496424305, "answer_id": 44334376, "question_id": 44294526, "link": "https://stackoverflow.com/questions/44294526/invalid-argument-error-when-executing-perl-on-windows-10/44334376#44334376", "title": "&quot;Invalid argument&quot; error when executing Perl on Windows 10", "body": "<p>When I tried the Perl <a href=\"http://www.mingw.org\" rel=\"nofollow noreferrer\">from MinGW</a>, there is no error. The Cygwin based perl doesn't seem to have the problem (or bypass this problem). </p>\n\n<p>Also refer to: <a href=\"https://stackoverflow.com/questions/44337354/multi-line-regular-expression-issue-in-perl-on-windows-10\">Multi-line regular expression issue in Perl on Windows 10.</a></p>\n"}, {"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1496440763, "creation_date": 1496440763, "answer_id": 44337993, "question_id": 44294526, "link": "https://stackoverflow.com/questions/44294526/invalid-argument-error-when-executing-perl-on-windows-10/44337993#44337993", "title": "&quot;Invalid argument&quot; error when executing Perl on Windows 10", "body": "<p>This is not a Strawberry issue.  It's a shell issue.  Bash will gladly expand multiple wildcards into long lists of command line parameters.  Microsoft's shells not so much.</p>\n"}], "owner": {"reputation": 154069, "user_id": 260127, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/74758c702067a3490094451e475e28c5?s=128&d=identicon&r=PG", "display_name": "prosseek", "link": "https://stackoverflow.com/users/260127/prosseek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 44334376, "answer_count": 2, "score": 1, "last_activity_date": 1496515110, "creation_date": 1496264168, "last_edit_date": 1496436841, "question_id": 44294526, "link": "https://stackoverflow.com/questions/44294526/invalid-argument-error-when-executing-perl-on-windows-10", "title": "&quot;Invalid argument&quot; error when executing Perl on Windows 10", "body": "<p>I have this perl script. </p>\n\n<pre><code>perl -i -0pe 's/^Insert\\s*(.*)\\.png\\s*\\n([^\\n]*)$/!\\[\\2](..\\/figures\\/\\1-tn.png)/mg' */*.markdown\n</code></pre>\n\n<p>This works fine with MacOS X, but when I execute this command on Windows 10, I have the following error message:</p>\n\n<pre><code>C:\\Users\\hello\\Desktop\\progit\\en&gt;perl -i -0pe \"s/^Insert\\s*(.*)\\.png\\s*\\n([^\\n]*)$/!\\[\\2](..\\/figures\\/\\1-tn.png)/mg\"\n*/*.markdown\n\nCan't open */*.markdown: Invalid argument.\n</code></pre>\n\n<p>What might cause this issue on Windows 10? I use Strawberry Perl on Windows.</p>\n"}, {"tags": ["string", "perl", "octal", "stringescapeutils"], "answers": [{"comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1496263520, "post_id": 44294331, "comment_id": 75595115, "body": "It looks like the octal part is always 3 characters long, so I would change <code>\\\\0([0-7]{1,3})</code> to <code>\\\\0([0-7]{3})</code> instead."}, {"owner": {"reputation": 3, "user_id": 8093982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23717cf43386df79867d732d207d9525?s=128&d=identicon&r=PG&f=1", "display_name": "SteveHeineck", "link": "https://stackoverflow.com/users/8093982/steveheineck"}, "edited": false, "score": 0, "creation_date": 1496336366, "post_id": 44294331, "comment_id": 75632007, "body": "Thanks much!  worked like a Perl regex.  I did confirm with the SW vendor and the octal part will always be 3 digits so I went with AntonH&#39;s suggestion.  But thanks to both of you!"}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 0, "last_activity_date": 1496263413, "creation_date": 1496263413, "answer_id": 44294331, "question_id": 44294252, "link": "https://stackoverflow.com/questions/44294252/how-to-convert-octal-character-values-in-a-mixed-string-with-perl/44294331#44294331", "title": "How to convert octal character values in a mixed string with Perl?", "body": "<p>This type of thing is generally easy enough to do in a regex:</p>\n\n<p><code>\n$ perl -E 'say shift =~ s[\\\\0([0-7]{1,3})][chr oct $1]egr' '11624\\0040SE\\00405th\\0040St\\0054\\0040Suite\\0040100'\n11624 SE 5th St, Suite 100\n</code></p>\n\n<p>Probably easier that way.</p>\n"}], "owner": {"reputation": 3, "user_id": 8093982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23717cf43386df79867d732d207d9525?s=128&d=identicon&r=PG&f=1", "display_name": "SteveHeineck", "link": "https://stackoverflow.com/users/8093982/steveheineck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 44294331, "answer_count": 1, "score": 0, "last_activity_date": 1496263413, "creation_date": 1496263112, "question_id": 44294252, "link": "https://stackoverflow.com/questions/44294252/how-to-convert-octal-character-values-in-a-mixed-string-with-perl", "title": "How to convert octal character values in a mixed string with Perl?", "body": "<p>I require to use Perl (v5.10) to process strings from another application with imbedded Octal values for spaces, commas and other non-alphanumeric characters.</p>\n\n<p>For example: This - \"11624\\0040SE\\00405th\\0040St\\0054\\0040Suite\\0040100\", should be this - \"11624 SE 5th St, Suite 100\".</p>\n\n<p>I can accomplish what I'm looking for at Linux command line with \"echo -e\", but I need to be able to process and manipulate in a Perl script.</p>\n\n<p>axiar@formdev$echo -e \"11624\\0040SE\\00405th\\0040St\\0054\\0040Suite\\0040100\"</p>\n\n<p>11624 SE 5th St, Suite 100</p>\n\n<p>I've looked at the String::Escape module, but it doesn't seem to do what I'm thinking it should.</p>\n\n<pre><code>use String::Escape qw(backslash unbackslash);\nmy $strval=\"11624\\0040SE\\00405th\\0040St\\0054\\0040Suite\\0040100\";\nmy $output=unbackslash($strval);\nprintf(\"%s\\n\",$strval);\nprintf(\"%s\\n\",$output);\n</code></pre>\n\n<p>I've done numerous Google and Stack Overflow searches for similar questions/answers and have not yet come across any.</p>\n\n<p>Your expert assistance would be appreciated.</p>\n"}, {"tags": ["perl", "perl-hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496248664, "post_id": 44289793, "comment_id": 75587069, "body": "<code>$FILEDATA{&quot;apple&quot;}=@tmp;</code> assigns the number of elements in <code>@tmp</code> to the has element. You can&#39;t put an array in a has (only scalars), but you could put a reference to an arrayy in a hash"}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "is_accepted": false, "score": -1, "last_activity_date": 1496281433, "last_edit_date": 1496281433, "creation_date": 1496251688, "answer_id": 44291204, "question_id": 44289793, "link": "https://stackoverflow.com/questions/44289793/perl-hashes-with-value-as-array/44291204#44291204", "title": "Perl hashes with value as array", "body": "<p>Try this code </p>\n\n<pre><code>my $file = 'fruits.txt';\nmy %hash;\n\n\nopen (my $fh, '&lt;', $file) or die \"Could not open $!\";\nwhile(my $line = &lt;$fh&gt;) {\n  next if $line =~ /start/;\n  next if $line =~ /end/;\n\n  if ($line =~ /f1/) {\n     my ($key, $val) = split /=/, $line;\n     push @{$hash{$key}}, $val;\n   }\n\n   if ($line =~ /f2/) {\n    my ($key, $val) = split /=/, $line;\n    push @{$hash{$key}}, $val;\n   }\n\n   if ($line =~ /f3/) {\n    my ($key, $val) = split /=/, $line;\n    push @{$hash{$key}}, $val;\n   }\n\n}\n\nprint Dumper(\\%hash);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1496281369, "post_id": 44291276, "comment_id": 75600303, "body": "I like this approach; it does not degrade, it provides guidance, and overall it answers the question."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1496251985, "creation_date": 1496251985, "answer_id": 44291276, "question_id": 44289793, "link": "https://stackoverflow.com/questions/44289793/perl-hashes-with-value-as-array/44291276#44291276", "title": "Perl hashes with value as array", "body": "<p>I'm assuming this is homework</p>\n\n<p>Here are some guidelines</p>\n\n<ul>\n<li><p><code>$_</code> is the default parameter to many Perl operators. In particular, <code>chomp( $_ )</code> may be written as <code>chomp</code>, <code>split( '=', $_ )</code> should be <code>split /=/</code>, and <code>if ( $_ =~ /end/ ) { ... }</code> can be <code>if ( /end/ )</code></p></li>\n<li><p>There is no need to test the value of <code>$fruit</code>. If its value is the key that you want then you should use <code>$FILEDATA{$fruit}</code></p></li>\n<li><p><code>$FILEDATA{\"apple\"} = @tmp</code> sets <code>$FILEDATA{\"apple\"}</code> to the <em>number of elements</em> in <code>@tmp</code>. You need to set it to a reference to the array, with <code>$FILEDATA{\"apple\"} = \\@tmp</code></p></li>\n<li><p>There is no need to check whether a hash or array element exists before using <code>push</code>. If you just <code>push @{ $FILEDATA{apple} }, 'ff'</code> then the array will be created</p></li>\n<li><p><code>if ( $linefields[0] =~ /f1/ )</code> tests whether <code>$linefields[0]</code> <em>contains</em> the string <code>f1</code>. To test for equality you want <code>if ( $linefields[0] eq 'f1' )</code></p></li>\n<li><p>You shouldn't empty an array or a hash with <code>undef @data</code> or <code>@data = undef</code>. The correct way is <code>@data = ()</code>. To empty a scalar, use <code>$val = undef</code></p></li>\n</ul>\n\n<p>Here's how your code should look</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nopen FILE, \"&lt;\", \"fruit.txt\";\n\nmy %data;\nmy @tmp;\nmy $fruit;\n\nwhile ( &lt;FILE&gt; ) {\n\n    chomp;\n    push @tmp, $_;\n\n    my @fields = split /=/;\n\n    if ( $fields[0] eq 'f1' ) {\n        $fruit = $fields[1];\n    }\n\n    if ( /end/ ) {\n        push @{ $data{$fruit} }, [ @tmp ];\n        @tmp = ();\n    }\n}\n\nprint Dumper( \\%data );\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>$VAR1 = {\n          '\"guava\"' =&gt; [\n                         [\n                           'start',\n                           'f1=\"guava\"',\n                           'f2=\"banana\"',\n                           'f3=\"berry\"',\n                           'end'\n                         ]\n                       ],\n          '\"apple\"' =&gt; [\n                         [\n                           'start',\n                           'f1=\"apple\"',\n                           'f2=\"banana\"',\n                           'f3=\"berry\"',\n                           'end'\n                         ],\n                         [\n                           'start',\n                           'f1=\"apple\"',\n                           'f2=\"cucumber\"',\n                           'f3=\"orance\"',\n                           'end'\n                         ]\n                       ]\n        };\n</code></pre>\n\n<p>And here's how I would write it</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse autodie;\n\nuse Data::Dumper;\n\nmy $file = 'fruit.txt';\n\nopen my $fh, '&lt;', $file\n    or die qq{Unable to open \"$file\": $!};\n\nmy ( %data, @block, $fruit );\n\nwhile ( my $line = &lt;$fh&gt; ) {\n\n    chomp $line;\n\n    push @block, $line if @block or $line eq 'start';\n\n    $fruit = $1 if $line =~ /^f1=\"(\\w+)\"/;\n\n    if ( $line eq 'end' ) {\n        push @{ $data{$fruit} }, [ @block ];\n        @block = ();\n        $fruit = undef;\n    }\n}\n\nprint Dumper \\%data;\n</code></pre>\n\n<p>Note that you shouldn't empty an array or a hash with <code>undef @data</code> or <code>@data = undef</code>. The correct way is <code>@data = ()</code></p>\n"}], "owner": {"reputation": 507, "user_id": 1939168, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/2e47f3a6db33bc8a8e3f28a18f12a7ef?s=128&d=identicon&r=PG", "display_name": "user1939168", "link": "https://stackoverflow.com/users/1939168/user1939168"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496281433, "creation_date": 1496247178, "last_edit_date": 1496250134, "question_id": 44289793, "link": "https://stackoverflow.com/questions/44289793/perl-hashes-with-value-as-array", "title": "Perl hashes with value as array", "body": "<p>I have an input file like below:</p>\n\n<pre><code>start\nf1=\"apple\"\nf2=\"banana\"\nf3=\"berry\"\nend\nstart\nf1=\"guava\"\nf2=\"banana\"\nf3=\"berry\"\nend\nstart\nf1=\"apple\"\nf2=\"cucumber\"\nf3=\"orance\"\nend\n</code></pre>\n\n<p>I am planning to create a hash with values as arrays.</p>\n\n<p>All the tags will be in a temporary array and and in between the tags there is a field <code>f1</code> whose value will be the key of the hash.</p>\n\n<p>From start to end it will be stored in temporary array, and once the end is reached, the array is pushed as a value of hash with key as the value found after the latest string <code>f1=</code></p>\n\n<p>I have written the following code but it does not work.</p>\n\n<p>Could anyone suggest any correction here?</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nuse Data::Dumper;\n\nopen( FILE, \"&lt;\", \"temp2\" );\n\nmy %FILEDATA;\nmy @tmp   = ();\nmy $fruit = \"\";\n\nwhile ( &lt;FILE&gt; ) {\n\n    chomp( $_ );\n    push @tmp, $_;\n\n    my @linefields = split( '=', $_ );\n\n    if ( $linefields[0] =~ /f1/ ) {\n        $fruit = $linefields[1];\n    }\n\n    if ( $_ =~ /end/ ) {\n\n        if ( $fruit eq \"apple\" ) {\n\n            if ( exists $FILEDATA{\"apple\"} ) {\n                push( @{ $FILEDATA{\"apple\"} }, @tmp );\n            }\n            else {\n                $FILEDATA{\"apple\"} = @tmp;\n            }\n        }\n        elsif ( $fruit eq \"guava\" ) {\n\n            if ( exists $FILEDATA{\"guava\"} ) {\n                push( @{ $FILEDATA{\"guava\"} }, @tmp );\n            }\n            else {\n                $FILEDATA{\"guava\"} = @tmp;\n            }\n\n        }\n\n        undef @tmp;\n    }\n}\n\nprint Dumper( \\%FILEDATA );\n</code></pre>\n"}, {"tags": ["perl", "package"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1496318030, "post_id": 44289357, "comment_id": 75618655, "body": "I need to load on the run (<code>require</code>). So: in my current situation, <code>$path</code> is a fullpath from root directory to module. Do we need to use RealBin even in this stuation? And should i DIR::Module-&gt;import() to use its methods?"}, {"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1496320196, "post_id": 44289357, "comment_id": 75620282, "body": "i also need to use its methods in initial progarmm, so, i think i need import, but i have problems with namespace"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1496328419, "post_id": 44289357, "comment_id": 75626838, "body": "If they are methods (i.e. if they&#39;re called as <code>$class-&gt;method</code> or <code>$object-&gt;method</code>), it makes no sense for them to be exported."}, {"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1496328513, "post_id": 44289357, "comment_id": 75626913, "body": "Blessed ref of module"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1496250696, "last_edit_date": 1496250696, "creation_date": 1496245884, "answer_id": 44289357, "question_id": 44289272, "link": "https://stackoverflow.com/questions/44289272/perl-cannot-require-a-module-dynamicaly-from-inc/44289357#44289357", "title": "Perl, cannot require a module dynamicaly from @INC", "body": "<p>You say <code>$path</code> is the path to the module, but you also say it's the path to the directory containing <code>DIR/Module.pm</code>. I'm assuming it's the latter because it needs to be the former.</p>\n\n<pre><code>my $path = \"/path/to/lib\";\nrequire \"$path/DIR/Module.pm\";\n</code></pre>\n\n<p>Remember to use <code>$RealBin</code> if the path is relative to your script.</p>\n\n<pre><code>use FindBin qw( $RealBin );\n\nmy $path = \"$RealBin/../lib\";\nrequire \"$path/DIR/Module.pm\";\n</code></pre>\n\n<p>Note that it rarely makes sense to import from a dynamically loaded module.</p>\n\n<hr>\n\n<p>If there's no reason to avoid loading this module at compile-time, I'd go with</p>\n\n<pre><code>use lib qw( /path/to/lib );\nuse DIR::Module;\n</code></pre>\n\n<p>Again, remember to use <code>$RealBin</code> if the path is relative to your script.</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib \"$RealBin/../lib\";\nuse DIR::Module;\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496250696, "creation_date": 1496245615, "question_id": 44289272, "link": "https://stackoverflow.com/questions/44289272/perl-cannot-require-a-module-dynamicaly-from-inc", "title": "Perl, cannot require a module dynamicaly from @INC", "body": "<p>So, i've got a problem with loading a module via <code>require</code>. \nWe have a working directory. The program loads a <strong>PACKAGE</strong> (bolded not to make you confused) (which is ok - thanks to correct and local namespaces), but it has to load another module from very different directory. So, as i've heard, it should be unshifted into <code>@INC</code> in <code>BEGIN</code> block. But....This begin should take a param (currently from initial programm), containing some path to configuration file, which containing parameter i need (path to module, which i need to unshift). </p>\n\n<p><code>BEGIN</code> inited, i check @INC - unshift seems to be succeed. Then, in <strong>PACKAGE</strong> methods we need to load this module, but when i try to do something like:</p>\n\n<pre><code>eval{\n    print STDERR \"Trying...\\n\";\n    my $path = \"path/to/module\"; # contains \"DIR\" dir and \"Module.pm\", \n    # also tried to write this path as \"path/to/module/DIR/Module.pm\"\n    require $path;\n    DIR::Module-&gt;import();\n    print STDERR \"Success\\n\";\n    1;\n} or {print STDERR \"Failed\\n\";}\n\nmy $module = DIR::Module-&gt;new();\n</code></pre>\n\n<p>And I got \"Trying..\" and \"Failed\". Tried <code>use lib</code> with fullpath - got nothing. What am i doing wrong?</p>\n"}, {"tags": ["perl", "parameters", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496242029, "post_id": 44287795, "comment_id": 75582586, "body": "How did you get the last output? This looks like you have a typo, or there is some invisible character in the <code>state_id</code>param. Maybe a <code>\\0</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 827, "user_id": 3353752, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2LunI.jpg?s=128&g=1", "display_name": "dipl0", "link": "https://stackoverflow.com/users/3353752/dipl0"}, "is_accepted": true, "score": 0, "last_activity_date": 1503067522, "last_edit_date": 1503067522, "creation_date": 1496250040, "answer_id": 44290715, "question_id": 44287795, "link": "https://stackoverflow.com/questions/44287795/mojolicious-every-param-not-populating-array-for-integers/44290715#44290715", "title": "Mojolicious every_param not populating array for integers", "body": "<p>So I've found the answer, which is that I didn't address the parameters as post requests.</p>\n\n<p><a href=\"https://corky.net/dotan/programming/mojolicious-request-parameters-example.html\" rel=\"nofollow noreferrer\">https://corky.net/dotan/programming/mojolicious-request-parameters-example.html</a></p>\n\n<p>quick explanation of why some of these parameters need to be in the format </p>\n\n<pre><code>$self-&gt;req-&gt;every_param('');\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/9622247/passing-arguments-to-redirect-to-in-mojolicious-and-using-them-in-the-target-con\">Passing arguments to redirect_to in mojolicious and using them in the target controller</a></p>\n"}], "owner": {"reputation": 827, "user_id": 3353752, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2LunI.jpg?s=128&g=1", "display_name": "dipl0", "link": "https://stackoverflow.com/users/3353752/dipl0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 44290715, "answer_count": 1, "score": 0, "last_activity_date": 1503067522, "creation_date": 1496241764, "question_id": 44287795, "link": "https://stackoverflow.com/questions/44287795/mojolicious-every-param-not-populating-array-for-integers", "title": "Mojolicious every_param not populating array for integers", "body": "<pre><code>  my $warranty_dates  = $self-&gt;every_param('warranty_date');\n  my $state_ids       = $self-&gt;every_param('state_id');\n</code></pre>\n\n<p>results in:</p>\n\n<pre><code>   $VAR1 = undef;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>  $VAR1 = '12/12/2017';\n  $VAR2 = '12/12/2017';\n  $VAR3 = '12/12/2017';\n  $VAR4 = '12/12/2017';\n  $VAR5 = '12/12/2017';\n</code></pre>\n\n<p>respectively when called by</p>\n\n<pre><code>  die Dumper(@{$state_ids});\n\n  die Dumper(@{$warranty_dates});\n</code></pre>\n\n<p>despite being shown as having the following parameters:</p>\n\n<pre><code>  \"state_id\" =&gt; [\n    1,\n    1,\n    1,\n    1,\n    1\n   ],\n  \"warranty_date\" =&gt; [\n    \"12/12/2017\",\n    \"12/12/2017\",\n    \"12/12/2017\",\n    \"12/12/2017\",\n    \"12/12/2017\"\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-libxml"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1496232424, "post_id": 44284035, "comment_id": 75575321, "body": "I have fixed the formatting of your post and added some indentation to your code. You&#39;re very welcome, but please make the effort to do that yourself in the future. If you&#39;re asking a large number of people to read and understand your post, it&#39;s polite to make it as legible as possible."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1496234047, "post_id": 44284035, "comment_id": 75576526, "body": "@DaveCross: I&#39;m sorry to undo all your good work. It seems that I get no notification that there has been a superseding update when using a tablet to amend posts."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1496234147, "post_id": 44284035, "comment_id": 75576591, "body": "@Borodin: No worries. I assumed it was an accident."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1496235012, "post_id": 44284035, "comment_id": 75577212, "body": "@rim: Please make sure to edit the <i>latest version</i> of your question. I&#39;m not sure why you made the change, as all you seem to have done is to remove one page from the XML. I&#39;ve reinstated the edits that Dave Cross and I made, and added your new XML after reformatting it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1496236874, "post_id": 44284035, "comment_id": 75578666, "body": "@rim: Please take a look at <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>. I don&#39;t expect an immediate acceptance; in fact I recommend that you wait a day or two in case a better answer comes along. But you could at least acknowledge my answer and explain whether my assumptions have been correct."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1496238874, "post_id": 44284035, "comment_id": 75580172, "body": "@rim: You were asked in a comment on your previous question <a href=\"https://stackoverflow.com/q/44001137/622310\"><i>reading file line by line</i></a> to tidy your code. It was done for you then, too. Before that, in <a href=\"https://stackoverflow.com/q/43128122/622310\"><i>Remove the first line from my directory</i></a> your poor formatting has been left as it is. I am sure you don&#39;t need a nurse to help you with your editing, so please will you try to present your questions a little better?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1496238941, "post_id": 44284035, "comment_id": 75580238, "body": "@rim: I also note that you haven&#39;t accepted or even commented on any of the answers that you been offered, ever. I&#39;m raising your account with the moderators."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1496235023, "last_edit_date": 1496235023, "creation_date": 1496233833, "answer_id": 44284885, "question_id": 44284035, "link": "https://stackoverflow.com/questions/44284035/extract-data-from-an-xml-file-with-xmllibxml/44284885#44284885", "title": "Extract data from an XML file with XML::LibXML", "body": "\n\n<p>Your mistake is nesting all those <code>for</code> loops and not using relative XPath expressions</p>\n\n<p>This should do what you want</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use utf8;\nuse strict;\nuse warnings 'all';\nuse feature 'say';\n\nSTDOUT-&gt;autoflush;\n\nuse XML::LibXML;\n\nmy $filename = \"pages.xml\";\nmy $doc      = XML::LibXML-&gt;load_xml( location =&gt; $filename );\n\nfor my $page ( $doc-&gt;findnodes('/mediawiki/page') ) {\n\n    my ($title) = $page-&gt;findnodes('title');\n    my $file = $title-&gt;textContent;\n\n    my ($rev_text) = $page-&gt;findnodes('revision/text');\n    my $text = $rev_text-&gt;textContent;\n\n    open my $fh, '&gt;:utf8', $file\n        or die qq{Unable to open \"$file\" for output: $!};\n\n    print $fh \"$text\\n\";\n\n    close $fh;\n\n    say qq{File \"$file\" written with \"$text\"};\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>File \"page1\" written with \"text1\"\nFile \"page2\" written with \"text2\"\nFile \"page3\" written with \"text3\"\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7364753, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9e35cb4543e9ca0b2f6915c42941575c?s=128&d=identicon&r=PG&f=1", "display_name": "rim", "link": "https://stackoverflow.com/users/7364753/rim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496244266, "creation_date": 1496231443, "last_edit_date": 1496244266, "question_id": 44284035, "link": "https://stackoverflow.com/questions/44284035/extract-data-from-an-xml-file-with-xmllibxml", "title": "Extract data from an XML file with XML::LibXML", "body": "\n\n<p>I have an XML file like this containing thousands of entries</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mediawiki&gt;\n  &lt;page&gt;\n    &lt;title&gt;page1&lt;/title&gt;\n    &lt;revision&gt;\n      &lt;id&gt;2621&lt;/id&gt;\n      &lt;parentid&gt;6&lt;/parentid&gt;\n      &lt;timestamp&gt;2005-10-09T01:00:18Z&lt;/timestamp&gt;\n      &lt;contributor&gt;\n        &lt;username&gt;Chaos&lt;/username&gt;\n        &lt;id&gt;2&lt;/id&gt;\n      &lt;/contributor&gt;\n      &lt;model&gt;wikitext&lt;/model&gt;\n      &lt;format&gt;text/x-wiki&lt;/format&gt;\n      &lt;text xml:space=\"preserve\"&gt;text1&lt;/text&gt;\n    &lt;/revision&gt;\n  &lt;/page&gt;\n  &lt;page&gt;\n    &lt;title&gt;page2&lt;/title&gt;\n    &lt;ns&gt;8&lt;/ns&gt;\n    &lt;id&gt;7&lt;/id&gt;\n    &lt;revision&gt;\n      &lt;id&gt;2619&lt;/id&gt;\n      &lt;parentid&gt;2618&lt;/parentid&gt;\n      &lt;timestamp&gt;2005-10-09T00:56:39Z&lt;/timestamp&gt;\n      &lt;contributor&gt;\n        &lt;username&gt;Chaos&lt;/username&gt;\n        &lt;id&gt;2&lt;/id&gt;\n      &lt;/contributor&gt;\n      &lt;model&gt;wikitext&lt;/model&gt;\n      &lt;format&gt;text/x-wiki&lt;/format&gt;\n      &lt;text xml:space=\"preserve\"&gt;text2&lt;/text&gt;\n    &lt;/revision&gt;\n  &lt;/page&gt;\n  &lt;page&gt;\n    &lt;title&gt;page3&lt;/title&gt;\n    &lt;ns&gt;8&lt;/ns&gt;\n    &lt;id&gt;6&lt;/id&gt;\n    &lt;revision&gt;\n      &lt;id&gt;2621&lt;/id&gt;\n      &lt;parentid&gt;6&lt;/parentid&gt;\n      &lt;timestamp&gt;2005-10-09T01:00:18Z&lt;/timestamp&gt;\n      &lt;contributor&gt;\n        &lt;username&gt;Chaos&lt;/username&gt;\n        &lt;id&gt;2&lt;/id&gt;\n      &lt;/contributor&gt;\n      &lt;model&gt;wikitext&lt;/model&gt;\n      &lt;format&gt;text/x-wiki&lt;/format&gt;\n      &lt;text xml:space=\"preserve\"&gt;text3&lt;/text&gt;\n    &lt;/revision&gt;\n  &lt;/page&gt;\n&lt;/mediawiki&gt;\n</code></pre>\n\n<p>through my script, Each page must be in a text file whose name is the contents of the tag <code>&lt;title&gt;</code> and contains the text of <code>&lt;text xml:space=\"preserve\"&gt;&lt;/text&gt;</code></p>\n\n<p>My code</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $filename = \"pages.xml\";\nmy $parser   = XML::LibXML-&gt;new();\nmy $xmldoc   = $parser-&gt;parse_file( $filename );\nmy $file;\n\nforeach my $page ( $xmldoc-&gt;findnodes( '/mediawiki/page' ) ) {\n\n    foreach my $title ( $page-&gt;findnodes( '/mediawiki/page/title' ) ) {\n\n        foreach my $rev ( $page-&gt;findnodes( '/mediawiki/page/revision' ) ) {\n\n            foreach my $text ( $rev-&gt;findnodes( 'text/text()' ) ) {\n\n                $file = $title-&gt;to_literal();\n                my $newfile = \"$file.txt\";\n\n                open( my $out, '&gt;:utf8', $newfile )\n                        or die \"Unable to open '$newfile' for write: $!\";\n                my $texte = $text-&gt;data;\n                print $out \"$text\\n\";\n                close $out;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>the problem is that every constructed file contains the same text as the last tag  <code>&lt;text xml:space=\"preserve\"&gt;&lt;/text&gt;</code>  </p>\n"}, {"tags": ["perl", "mojolicious", "hypnotoad"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1496230370, "post_id": 44282890, "comment_id": 75573708, "body": "Did you checked <a href=\"http://mojolicious.org/perldoc/Mojolicious/Lite#Helpers\" rel=\"nofollow noreferrer\">helpers</a>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496231943, "post_id": 44282890, "comment_id": 75574942, "body": "Why do you want to do that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496241627, "post_id": 44282890, "comment_id": 75582278, "body": "Put <code>hello</code> in another module used by both"}, {"owner": {"reputation": 191, "user_id": 1966661, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/teYFe.jpg?s=128&g=1", "display_name": "Yuriy Zhilovets", "link": "https://stackoverflow.com/users/1966661/yuriy-zhilovets"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496248597, "post_id": 44282890, "comment_id": 75587031, "body": "@simbabque Because I have a lot of legacy functions in the main namespace"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496249864, "post_id": 44282890, "comment_id": 75587796, "body": "Do you know what actually is in the main namesp namespace with hypnotoad?"}, {"owner": {"reputation": 191, "user_id": 1966661, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/teYFe.jpg?s=128&g=1", "display_name": "Yuriy Zhilovets", "link": "https://stackoverflow.com/users/1966661/yuriy-zhilovets"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496267809, "post_id": 44282890, "comment_id": 75596851, "body": "@simbabque No, but while looping it as a typeglob I see all my main namespace names. Are they somehow faked?"}], "owner": {"reputation": 191, "user_id": 1966661, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/teYFe.jpg?s=128&g=1", "display_name": "Yuriy Zhilovets", "link": "https://stackoverflow.com/users/1966661/yuriy-zhilovets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1496228208, "creation_date": 1496228208, "question_id": 44282890, "link": "https://stackoverflow.com/questions/44282890/hypnotoad-and-main-namespace", "title": "Hypnotoad and main namespace", "body": "<p>How to handle the main namespace under the Hypnotoad ?</p>\n\n<p>I have this small server:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Modern::Perl;\nuse Mojolicious::Lite;\n\nuse extmod;\n\nsub hello\n{\n  say \"hello\";\n}\n\nget \"/\" =&gt; sub\n{\n  my $c = shift;\n  extmod::put();\n  $c-&gt;render(text=&gt;\"ok\");\n};\n\napp-&gt;start;\n</code></pre>\n\n<p>...and this module:</p>\n\n<pre><code>use Modern::Perl;\n\npackage extmod;\n\nsub put\n{\n  say \"&gt;&gt;put:\";\n  ::hello();\n}\n\n1;\n</code></pre>\n\n<p>A subroutine in a module tries to call a sub in the main namespace;</p>\n\n<p>This works ok under the standard mojo server. But not under the Hypnotoad:</p>\n\n<blockquote>\n  <blockquote>\n    <p>put: [Tue May 30 14:20:37 2017] [error] Undefined subroutine &amp;main::hello called at extmod.pm line 8.</p>\n  </blockquote>\n</blockquote>\n\n<p>Is it a feature? How to see global namespace in the module?</p>\n"}, {"tags": ["javascript", "html", "perl"], "comments": [{"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 1, "creation_date": 1496223649, "post_id": 44281113, "comment_id": 75569044, "body": "What&#39;s the actual question? What are you expecting, and what&#39;s happening?"}, {"owner": {"reputation": 6075, "user_id": 7611062, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/jgqAm.png?s=128&g=1", "display_name": "treyBake", "link": "https://stackoverflow.com/users/7611062/treybake"}, "reply_to_user": {"reputation": 457, "user_id": 8072314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b5ES0.png?s=128&g=1", "display_name": "D. Peter", "link": "https://stackoverflow.com/users/8072314/d-peter"}, "edited": false, "score": 1, "creation_date": 1496223662, "post_id": 44281113, "comment_id": 75569061, "body": "as @D.Peter said - you&#39;re not actually calling the function - you&#39;re just declaring it"}, {"owner": {"reputation": 457, "user_id": 8072314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b5ES0.png?s=128&g=1", "display_name": "D. Peter", "link": "https://stackoverflow.com/users/8072314/d-peter"}, "edited": false, "score": 3, "creation_date": 1496223743, "post_id": 44281113, "comment_id": 75569126, "body": "moreover, try is a keyword in javascript, change the name of you function"}, {"owner": {"reputation": 11031, "user_id": 3083093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a793d3552f6f3864cd024a6c1d92f356?s=128&d=identicon&r=PG", "display_name": "R3tep", "link": "https://stackoverflow.com/users/3083093/r3tep"}, "edited": false, "score": 0, "creation_date": 1496223793, "post_id": 44281113, "comment_id": 75569164, "body": "And don&#39;t use try as function name. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch\" rel=\"nofollow noreferrer\">It&#39;s already used by javascript</a>"}, {"owner": {"reputation": 128254, "user_id": 13508, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9e1d852b4d287027fe76f794e506878?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro Gonz&#225;lez", "link": "https://stackoverflow.com/users/13508/%c3%81lvaro-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1496224207, "post_id": 44281113, "comment_id": 75569440, "body": "And white background may actually look like no change if your browser has white as default background colour."}, {"owner": {"reputation": 47, "user_id": 7795140, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68dc5478b502879ca2fb3087e2075b09?s=128&d=identicon&r=PG", "display_name": "Santa", "link": "https://stackoverflow.com/users/7795140/santa"}, "reply_to_user": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1496277680, "post_id": 44281113, "comment_id": 75599564, "body": "Hi @Utkanos, thanks. I&#39;ve just edited my question. Please have a look."}], "answers": [{"comments": [{"owner": {"reputation": 128254, "user_id": 13508, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9e1d852b4d287027fe76f794e506878?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro Gonz&#225;lez", "link": "https://stackoverflow.com/users/13508/%c3%81lvaro-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1496227620, "post_id": 44281541, "comment_id": 75571843, "body": "I suggest you edit your answer and explain what was wrong in the original code and what changes you&#39;ve made to address it."}, {"owner": {"reputation": 47, "user_id": 7795140, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68dc5478b502879ca2fb3087e2075b09?s=128&d=identicon&r=PG", "display_name": "Santa", "link": "https://stackoverflow.com/users/7795140/santa"}, "edited": false, "score": 0, "creation_date": 1496277455, "post_id": 44281541, "comment_id": 75599500, "body": "Hi Subi , thanks for your answer, however, I still unable to get what i want. Apologize for not being clear in my question. I&#39;ve just edited. Please have a look."}, {"owner": {"reputation": 107, "user_id": 4587130, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-PIZ_Sw_FkA8/AAAAAAAAAAI/AAAAAAAAABQ/33rwLVmHdxw/photo.jpg?sz=128", "display_name": "Subi", "link": "https://stackoverflow.com/users/4587130/subi"}, "reply_to_user": {"reputation": 47, "user_id": 7795140, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68dc5478b502879ca2fb3087e2075b09?s=128&d=identicon&r=PG", "display_name": "Santa", "link": "https://stackoverflow.com/users/7795140/santa"}, "edited": false, "score": 0, "creation_date": 1496287658, "post_id": 44281541, "comment_id": 75601786, "body": "@Santa sry,  i hav some work now,  but i &#39;ll update my answer within 4 hours,  trust me,  go and have a cup of coffee,  relax and enjoy...  After 4 hours ur answer is there ok"}], "tags": [], "owner": {"reputation": 107, "user_id": 4587130, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-PIZ_Sw_FkA8/AAAAAAAAAAI/AAAAAAAAABQ/33rwLVmHdxw/photo.jpg?sz=128", "display_name": "Subi", "link": "https://stackoverflow.com/users/4587130/subi"}, "is_accepted": true, "score": 1, "last_activity_date": 1496289355, "last_edit_date": 1496289355, "creation_date": 1496224540, "answer_id": 44281541, "question_id": 44281113, "link": "https://stackoverflow.com/questions/44281113/javascript-failed-to-change-html-cell-colour-dynamically/44281541#44281541", "title": "JavaScript : failed to change HTML cell colour dynamically", "body": "<p><strong>1.Change Your HTML tr Tag and Assign Individual Id's For Value1 and Value 2</strong> </p>\n\n<pre><code>   &lt;tr&gt;\n   &lt;td id = \"texas\"&gt;&lt;a href=\"\"&gt;\n   A = &lt;p id = \"value1\"&gt;10.87&lt;/p&gt;\n   &lt;br&gt;\n   B = &lt;p id = \"value2\"&gt;-50.9&lt;/p&gt;\n   &lt;/a&gt;\n   &lt;/td&gt;\n</code></pre>\n\n<p><strong>2.Then Customize Your Javascript To Achieve your Result</strong></p>\n\n<pre><code>  function test() {\n\nvar value1 = document.getElementById(\"value1\").innerText;\n\nvar value2 = document.getElementById(\"value2\").innerText;\n\nvalue1 = Number(value1);\nvalue2 = Number(value2);\n\nif (value1 &lt;= -25 || value2 &lt;= -25) {\n    document.getElementById(\"texas\").style.backgroundColor = 'red';\n} else if (value1 &lt;= -35 || value2 &lt;= -35) {\n    document.getElementById(\"texas\").style.backgroundColor = 'yellow';\n} else {\n    document.getElementById(\"texas\").style.backgroundColor = 'green';\n}\n};\n</code></pre>\n\n<p><strong>3.Don't Forgot To Call The Function</strong></p>\n\n<pre><code>test();\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7795140, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/68dc5478b502879ca2fb3087e2075b09?s=128&d=identicon&r=PG", "display_name": "Santa", "link": "https://stackoverflow.com/users/7795140/santa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 44281541, "answer_count": 1, "score": -1, "last_activity_date": 1519389934, "creation_date": 1496223475, "last_edit_date": 1519389934, "question_id": 44281113, "link": "https://stackoverflow.com/questions/44281113/javascript-failed-to-change-html-cell-colour-dynamically", "title": "JavaScript : failed to change HTML cell colour dynamically", "body": "<p>The value \"-50.9\" and \"10.87\" has been assigned to the below html code as a variable (value1=-50.9; value2=10.87).</p>\n\n<p>I got range of : (infinite -value to -35) , (-34 to -25) , (-24 to larger number)       </p>\n\n<p>I supposed that if the 'if condition' is true, the cell background-color should change?</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;!--&lt;script type=\"text/javascript\"&gt;--&gt;\n&lt;script language=\"JavaScript\"&gt;\n    function try() {                                                                                                                                                                                          \n    if (-50.9 &lt;= -25|| 10.87 &lt;= -25) {                                                                                                                                                                                 \n        document.getElementById(\"texas\").style.backgroundColor='white';                                                                                                                                       \n    } else if (-50.9 &lt;= -35 || 10.87 &lt;= -35) {                                                                                                                                                                         \n        document.getElementById(\"texas\").style.backgroundColor='blue';                                                                                                                                       \n    } else {                                                                                                                                                                                           \n        document.getElementById(\"texas\").style.backgroundColor='pink';                                                                                                                                       \n    }                                                                                                                                                                                                  \n};                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n&lt;/script&gt;       \n&lt;/head&gt;\n&lt;body&gt;\n &lt;div id = \"div1\"&gt;\n   &lt;table&gt;\n     &lt;tr&gt;\n       &lt;td id = \"texas\"&gt;&lt;a href=\"\"&gt;A = 10.87&lt;br&gt;B = -50.9&lt;/a&gt;&lt;/td&gt;\n     &lt;/tr&gt;\n   &lt;/table&gt;\n &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Is this able to work? Or the value should be a variable?  </p>\n\n<p><strong>EDIT</strong><br>\nI used a perl script to generate this html by printing the contents.<br>\nAnd the value1 and value2 are declared in the beginning of the script.<br>\nSo when the script print the html table, it turns the variable into the value.<br>\n Also why it's -50.9 and 10.87 in the JavaScript.</p>\n\n<p>I was wondering is it possible to change the cell color whenever the if-else condition is true.<br>\nLet's say, in this case, the table cell color should be blue?<br>\nbecause for now, the table cell colour remains the same, nothing changes.</p>\n"}, {"tags": ["perl", "printf", "tk"], "comments": [{"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "edited": false, "score": 0, "creation_date": 1496280529, "post_id": 44279151, "comment_id": 75600146, "body": "can i know why this question being devote?"}], "answers": [{"tags": [], "owner": {"reputation": 11905, "user_id": 2897372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e114bd942d7cc21603ae50d2e73d81?s=128&d=identicon&r=PG", "display_name": "B\u0142otosm\u0119tek", "link": "https://stackoverflow.com/users/2897372/b%c5%82otosm%c4%99tek"}, "is_accepted": false, "score": 2, "last_activity_date": 1496220406, "creation_date": 1496220406, "answer_id": 44279927, "question_id": 44279151, "link": "https://stackoverflow.com/questions/44279151/how-to-use-printf-in-gui-output/44279927#44279927", "title": "How to use printf in GUI output", "body": "<p>use <code>sprintf</code> function to format your data before passing it to <code>insert</code>.</p>\n"}], "owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1496220406, "creation_date": 1496218224, "question_id": 44279151, "link": "https://stackoverflow.com/questions/44279151/how-to-use-printf-in-gui-output", "title": "How to use printf in GUI output", "body": "<p>i would like to output something in GUI but not sure how to do it.</p>\n\n<pre><code>our $output=$mw_rtframe-&gt;Scrolled('Text',-scrollbars=&gt;\"se\",-height=&gt;25,-width=&gt;150, -state=&gt;'disable', -wrap=&gt;'none')-&gt;pack(-side=&gt;'left',-anchor=&gt;'nw',-padx=&gt;5,-pady=&gt;5,-fill=&gt;'both',-expand=&gt;1);\n\n$output-&gt;configure(-state=&gt;'normal');\n$output -&gt; insert ('end', \" line %02x not match with line %02x : %02x != %02x \\n\", $address+($i)*16,$address1+($i)*16,$line[$j],$line1[$j]);\n</code></pre>\n\n<p>But when output in my GUI it does not show the variable but something like this</p>\n\n<pre><code>8747687line %02x not match with line %02x : %02x != %02x\n</code></pre>\n\n<p>the output is work fine when using printf but cannot output in GUI. Any thing need to add to display in GUI? Thanks</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 11905, "user_id": 2897372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e114bd942d7cc21603ae50d2e73d81?s=128&d=identicon&r=PG", "display_name": "B\u0142otosm\u0119tek", "link": "https://stackoverflow.com/users/2897372/b%c5%82otosm%c4%99tek"}, "edited": false, "score": 0, "creation_date": 1496218561, "post_id": 44279087, "comment_id": 75565459, "body": "This will filter out keys that have defined value which is logically false (ie. numeric 0, empty string etc.)"}, {"owner": {"reputation": 353, "user_id": 1730941, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/36093a23f823d7c1f229c2b920c545ff?s=128&d=identicon&r=PG", "display_name": "NightEye", "link": "https://stackoverflow.com/users/1730941/nighteye"}, "edited": false, "score": 0, "creation_date": 1496218633, "post_id": 44279087, "comment_id": 75565508, "body": "This does the trick. the values is just either undefined or defined."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 4, "creation_date": 1496219386, "post_id": 44279087, "comment_id": 75565977, "body": "<code>List::Util::first</code> would be better than <code>grep</code>, because it stops after finding first match, whereas <code>grep</code> creates list of matching keys and discards all but the first one."}, {"owner": {"reputation": 11905, "user_id": 2897372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e114bd942d7cc21603ae50d2e73d81?s=128&d=identicon&r=PG", "display_name": "B\u0142otosm\u0119tek", "link": "https://stackoverflow.com/users/2897372/b%c5%82otosm%c4%99tek"}, "edited": false, "score": 0, "creation_date": 1496220975, "post_id": 44279087, "comment_id": 75567053, "body": "That depends on defined/undefined ratio in the hash. If undefs are a small percentage of values, you&#39;re right. If, however, there are many undefs, it is better to first filter them out, and sort only the remaining keys to reduce time (my answer below does that)."}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1496218641, "last_edit_date": 1496218641, "creation_date": 1496218033, "answer_id": 44279087, "question_id": 44279006, "link": "https://stackoverflow.com/questions/44279006/finding-first-key-value-pair-in-a-hash-with-value-with-perl/44279087#44279087", "title": "finding first key-value pair in a hash with value with Perl", "body": "<pre><code>my ($result) = grep {defined $hash{$_}} sort keys %hash;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11905, "user_id": 2897372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e114bd942d7cc21603ae50d2e73d81?s=128&d=identicon&r=PG", "display_name": "B\u0142otosm\u0119tek", "link": "https://stackoverflow.com/users/2897372/b%c5%82otosm%c4%99tek"}, "is_accepted": false, "score": 5, "last_activity_date": 1496218268, "creation_date": 1496218268, "answer_id": 44279161, "question_id": 44279006, "link": "https://stackoverflow.com/questions/44279006/finding-first-key-value-pair-in-a-hash-with-value-with-perl/44279161#44279161", "title": "finding first key-value pair in a hash with value with Perl", "body": "<p>There is no such thing as \"first key\" in hash, as hashes are not ordered. If I understand your problem correctly, you want the key that is lexicographically lowest. The best solution is probably first filter out the keys that have undef as value, then sort the remaining. This is a costly operation, but I see no easy way around it. Assuming your hash is named %h, this code does the trick:</p>\n\n<pre><code>my @sorted_keys = sort(grep(defined($h{$_}), keys(%h)))\nmy $first_key = $sorted_keys[0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1496230207, "last_edit_date": 1496230207, "creation_date": 1496228648, "answer_id": 44283052, "question_id": 44279006, "link": "https://stackoverflow.com/questions/44279006/finding-first-key-value-pair-in-a-hash-with-value-with-perl/44283052#44283052", "title": "finding first key-value pair in a hash with value with Perl", "body": "<p>Since speed is the primary concern, it is wasteful to do a <code>sort</code> at all: it orders the entire list, when all that is wanted is the minimum value. It will be far faster to call <code>minstr</code> from <code>List::Util</code> which does just a single pass of the values: the first iteration of a bubble sort, if you like.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse List::Util 'minstr';\n\nmy %dates = (\n    '20111124' =&gt; undef,\n    '20111125' =&gt; undef,\n    '20111129' =&gt; undef,\n    '20111130' =&gt; '126002',\n    '20111201' =&gt; '126002',\n    '20111202' =&gt; '126002',\n    '20111205' =&gt; '126002',\n    '20111206' =&gt; '126002',\n    '20111207' =&gt; '126002',\n);\n\nmy $first = minstr grep { defined $dates{$_} } keys %dates;\n\nsay $first;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>20111130\n</code></pre>\n\n<p>You can also do this with a single pass of the hash in Perl</p>\n\n<pre><code>my $first;\nfor my $date ( keys %dates ) {\n    if ( defined $dates{$date} ) {\n        $first = $date unless defined $first and $first le $date;\n    }\n}\n</code></pre>\n\n<p>There's a slim chance that this may be faster as it doesn't involve creating the intermediate list of keys that have defined values, but there is a lot of Perl code here whereas <code>minstr</code> and <code>grep</code> are calls to C code. I'm not in a position to benchmark the two at present; perhaps someone else would like the exercise?</p>\n"}], "owner": {"reputation": 353, "user_id": 1730941, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/36093a23f823d7c1f229c2b920c545ff?s=128&d=identicon&r=PG", "display_name": "NightEye", "link": "https://stackoverflow.com/users/1730941/nighteye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1312, "favorite_count": 0, "accepted_answer_id": 44279087, "answer_count": 3, "score": -1, "last_activity_date": 1496230207, "creation_date": 1496217822, "last_edit_date": 1496226371, "question_id": 44279006, "link": "https://stackoverflow.com/questions/44279006/finding-first-key-value-pair-in-a-hash-with-value-with-perl", "title": "finding first key-value pair in a hash with value with Perl", "body": "<p>I have a hash.</p>\n\n<pre><code>        '20111124' =&gt; undef,\n        '20111125' =&gt; undef,\n        '20111129' =&gt; undef,\n        '20111130' =&gt; '126002',\n        '20111201' =&gt; '126002',\n        '20111202' =&gt; '126002',\n        '20111205' =&gt; '126002',\n        '20111206' =&gt; '126002',\n        '20111207' =&gt; '126002'\n</code></pre>\n\n<p>I'd like to get the first key that has a value.</p>\n\n<p>I have tried iterating the hash but since the hash is sometimes large, what is the fastest way possible to get the first key that does have a defined value?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1496217719, "post_id": 44275696, "comment_id": 75564943, "body": "Also: Don&#39;t use prototypes. They don&#39;t do what you think they do. Lose the <code>($)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8076471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155412047474939/picture?type=large", "display_name": "Krit Phosamritlert", "link": "https://stackoverflow.com/users/8076471/krit-phosamritlert"}, "edited": false, "score": 0, "creation_date": 1496207660, "post_id": 44276035, "comment_id": 75559507, "body": "So I was assuming that my $queen = @_ was just passing in variables.  Now I don&#39;t have an infinite loop but my program still doesn&#39;t print out anything."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1496206904, "creation_date": 1496206904, "answer_id": 44276035, "question_id": 44275696, "link": "https://stackoverflow.com/questions/44275696/my-perl-program-has-an-infinite-loop-8-queen/44276035#44276035", "title": "My perl program has an infinite loop (8 queen)", "body": "<p><code>my $queen = @_</code> is almost surely not what you meant.</p>\n\n<p><code>my $var = @_</code> <a href=\"https://stackoverflow.com/a/10034105/168657\">evaluates <code>@_</code> in scalar context</a>, giving you the size of <code>@_</code> and not the first element of <code>@_</code>. In your program, you are always assigning the value <code>1</code> to <code>$queen</code>.</p>\n\n<p>Instead, you want to say one of</p>\n\n<pre><code>my ($queen) = @_;     # list context, assigns first element of @_\nmy $queen = shift @_; # extract first element from @_\nmy $queen = shift;    # inside a sub, same as  shift @_\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8076471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155412047474939/picture?type=large", "display_name": "Krit Phosamritlert", "link": "https://stackoverflow.com/users/8076471/krit-phosamritlert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 44276035, "answer_count": 1, "score": 0, "last_activity_date": 1496206904, "creation_date": 1496205122, "last_edit_date": 1496205936, "question_id": 44275696, "link": "https://stackoverflow.com/questions/44275696/my-perl-program-has-an-infinite-loop-8-queen", "title": "My perl program has an infinite loop (8 queen)", "body": "<p>I'm trying to code the 8 queen problem in perl and I seem to be running into an infinite loop that I cannot fix.  I think the problem is with the queen increments because when I do print \"$queen\"; in my solve function all I get is a bunch of 1's.</p>\n\n<pre><code>#\n# implement 8 queen problem\n#\n\nmy $size = 8;\nmy @answer = ();\n\nsub is_conflict($$){\n    my ($row, $queen) = @_;\n\n    for(my $i=0; $i&lt;$queen; $i=$i+1){\n        my $temp = $answer[$i];\n        if (($temp eq $row) or                      #same row\n            ($temp eq ($row - ($queen - $i))) or    #same diagonal\n            ($temp eq ($row + ($queen-$i)))){       #same diagonal\n            return 1;   #return true\n        }\n    }\n    return 0;   #return false\n}\n\nsub solve($){\n    my $queen = @_;\n\n    if($queen eq $size){\n        print \"@answer\\n\";\n        @answer = ();\n    }\n    else{\n        for(my $i=0; $i&lt;$size; $i=$i+1){\n            if(is_conflict($i,$queen) eq 0){\n                push(@answer, $i);\n                solve($queen+1);\n            }\n        }\n    }\n}\n\nsolve(0);\n</code></pre>\n"}, {"tags": ["perl", "docker", "busybox", "alpine"], "comments": [{"owner": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1496177532, "post_id": 44271108, "comment_id": 75551405, "body": "@toolic it prints 0"}, {"owner": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "reply_to_user": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1496177541, "post_id": 44271108, "comment_id": 75551410, "body": "@Michael ls -al prints the content of the directory, it&#39;s not empty"}, {"owner": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1496178437, "post_id": 44271108, "comment_id": 75551850, "body": "@toolic tilda was missing, output of <code>perl -e &#39;my $TEST = </code>ls -al<code>; print $TEST; print $? if $?&#39; </code> is -1"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496178904, "post_id": 44271108, "comment_id": 75552027, "body": "When <code>$?</code> is set to <code>-1</code>, the error is in <code>$!</code>. So change <code>print $? if $?</code> to <code>print $? == -1 ? $! : $?</code>"}, {"owner": {"reputation": 24971, "user_id": 1094246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda38b3b4f0bd9b57759601a3652e520?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1094246/robert"}, "edited": false, "score": 0, "creation_date": 1496184030, "post_id": 44271108, "comment_id": 75553802, "body": "Whats your <code>docker run</code> or CMD? I think that you don&#39;t have PATH defined"}], "answers": [{"comments": [{"owner": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "edited": false, "score": 0, "creation_date": 1496185866, "post_id": 44272998, "comment_id": 75554251, "body": "it works with the absolute path. so this <code>perl -e &#39;my $TEST = </code>/bin/ls -al<code>; print $TEST&#39;</code> works. But I have PATH env set correctly PATH has /bin"}, {"owner": {"reputation": 24971, "user_id": 1094246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda38b3b4f0bd9b57759601a3652e520?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1094246/robert"}, "reply_to_user": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "edited": false, "score": 0, "creation_date": 1496186001, "post_id": 44272998, "comment_id": 75554281, "body": "Can you try this? <code>perl -e &#39;my $TEST = `&#47;usr&#47;bin&#47;env`; print $TEST&#39;</code>"}, {"owner": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "edited": false, "score": 0, "creation_date": 1496186139, "post_id": 44272998, "comment_id": 75554313, "body": "that prints all the environment variables and PATH still has /bin"}, {"owner": {"reputation": 24971, "user_id": 1094246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda38b3b4f0bd9b57759601a3652e520?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1094246/robert"}, "reply_to_user": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "edited": false, "score": 0, "creation_date": 1496186935, "post_id": 44272998, "comment_id": 75554516, "body": "Can you provide us the scenario to reproduce the issue? A complete Dockerfile would be great. But if this answer is enough, that&#39;s ok"}, {"owner": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "edited": false, "score": 0, "creation_date": 1496247830, "post_id": 44272998, "comment_id": 75586580, "body": "I am using Alpine as my base image. I have node, ngnix and couple other scripts, I am copying to my container. what i have for perl is just <code>apk add --no-cache perl</code>. I have not explicitly set PATH or any environment variable"}, {"owner": {"reputation": 24971, "user_id": 1094246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda38b3b4f0bd9b57759601a3652e520?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1094246/robert"}, "reply_to_user": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "edited": false, "score": 0, "creation_date": 1496249209, "post_id": 44272998, "comment_id": 75587372, "body": "I&#39;ve tried your command also based on alpine, but it works. I&#39;m not sure what could be happening. What triggers your perl execution? Is it embedded inside another script?"}, {"owner": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "edited": false, "score": 0, "creation_date": 1496250963, "post_id": 44272998, "comment_id": 75588477, "body": "Inside my perl script, i am executing some shell commands. It&#39;s not embedded in any other script."}, {"owner": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "edited": false, "score": 0, "creation_date": 1496256113, "post_id": 44272998, "comment_id": 75591246, "body": "I am print PATH inside the same perl script it has /bin and /usr/bin."}, {"owner": {"reputation": 24971, "user_id": 1094246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda38b3b4f0bd9b57759601a3652e520?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1094246/robert"}, "reply_to_user": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "edited": false, "score": 0, "creation_date": 1496256429, "post_id": 44272998, "comment_id": 75591429, "body": "Please, another try: <code>perl -e &#39;my $TEST = `PATH=&#47;bin ls -l`; print $TEST&#39;</code>. To see whether makes any difference"}], "tags": [], "owner": {"reputation": 24971, "user_id": 1094246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda38b3b4f0bd9b57759601a3652e520?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1094246/robert"}, "is_accepted": true, "score": 5, "last_activity_date": 1496192646, "last_edit_date": 1496192646, "creation_date": 1496183942, "answer_id": 44272998, "question_id": 44271108, "link": "https://stackoverflow.com/questions/44271108/executing-shell-command-produces-nothing/44272998#44272998", "title": "Executing shell command produces nothing", "body": "<p>This is a possibility that <strong>maybe</strong> is your problem.</p>\n\n<p>I think you don't have the PATH env var defined.</p>\n\n<p>Try this using full path of <code>ls</code> (/bin/ls):</p>\n\n<pre><code>perl -e 'my $TEST = `/bin/ls -al`; print $TEST'\n</code></pre>\n\n<p>I've tested similar scenario:</p>\n\n<p>Emptying PATH:</p>\n\n<pre><code>PATH=\"\" /usr/bin/perl -e'\n   my $output = `ls -al`;\n   if (!defined($output)) {\n      die(\"readpipe: $!\\n\")                             if $? == -1;\n      die(\"Child killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\n      die(\"Child exited with error \".( $? &gt;&gt; 8 ).\"\\n\")  if $? &gt;&gt; 8;\n   }\n\n   print($output);\n'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>readpipe: No such file or directory\n</code></pre>\n\n<p>Using absolute path (/bin/ls):</p>\n\n<pre><code>PATH=\"\" /usr/bin/perl -e'\n       my $output = `/bin/ls -al`;\n       if (!defined($output)) {\n          die(\"readpipe: $!\\n\")                             if $? == -1;\n          die(\"Child killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\n          die(\"Child exited with error \".( $? &gt;&gt; 8 ).\"\\n\")  if $? &gt;&gt; 8;\n       }\n\n   print($output);\n'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>total 4531444\ndrwxr-xr-x  7 rbravo rbravo       4096 May 30 19:40 .\ndrwxr-xr-x 63 root   root         4096 Apr  7 14:11 ..\n-rw-------  1 rbravo rbravo      12248 May 30 19:39 .bash_history\n...\n</code></pre>\n"}], "owner": {"reputation": 1731, "user_id": 852052, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eb9db177fd5cf088f1c7c4b2cea6871e?s=128&d=identicon&r=PG", "display_name": "PMat", "link": "https://stackoverflow.com/users/852052/pmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 44272998, "answer_count": 1, "score": 1, "last_activity_date": 1496192646, "creation_date": 1496175220, "last_edit_date": 1496182968, "question_id": 44271108, "link": "https://stackoverflow.com/questions/44271108/executing-shell-command-produces-nothing", "title": "Executing shell command produces nothing", "body": "<p>I am running shell commands inside my Perl script, but it does not work as expected. I am in a container with Alpine Linux as my base image.</p>\n\n<p>my Perl version v5.24.0.</p>\n\n<pre><code>perl -e 'my $TEST = `ls -al`; print $TEST'\n</code></pre>\n\n<p>This prints nothing, but works on another system where I have Perl v5.6.1 on Red Hat Linux.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496180984, "post_id": 44270750, "comment_id": 75552895, "body": "<i>&quot;but it does not seem very efficient&quot;</i> Are you saying that it[s running too slowly for your purposes, or that it seems a lot of code? Have you heard of the <code>or</code> operator?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1496179925, "last_edit_date": 1496179925, "creation_date": 1496174299, "answer_id": 44270870, "question_id": 44270750, "link": "https://stackoverflow.com/questions/44270750/find-multiple-strings-in-file-perl/44270870#44270870", "title": "Find multiple strings in file - Perl", "body": "<p>Assuming your strings don't cross line boundaries, you can read your file a line at a time, and test for all three strings at once</p>\n\n<pre><code>open my $fh, \"${in}testFile.txt\" or die $!;\n\nwhile ( &lt;$fh&gt; ) {\n\n    if ( /test1/ or /test2/ or /test3/ ) {\n        # Do something\n        last;\n    }\n}\n</code></pre>\n\n<p>you could collapse that into a single regex if you wish</p>\n\n<pre><code>if ( /test1|test2|test3/ ) { ...; last; }\n</code></pre>\n"}], "owner": {"reputation": 1019, "user_id": 2730331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff73fdc2c4b7f1600823fb392a0ff36b?s=128&d=identicon&r=PG", "display_name": "user081608", "link": "https://stackoverflow.com/users/2730331/user081608"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 44270870, "answer_count": 1, "score": -1, "last_activity_date": 1496179925, "creation_date": 1496173769, "question_id": 44270750, "link": "https://stackoverflow.com/questions/44270750/find-multiple-strings-in-file-perl", "title": "Find multiple strings in file - Perl", "body": "<p>I am trying to find multiple strings in a text file in perl. I am getting it to work successfully but it does not seem very efficient:</p>\n\n<pre><code> open(FILE,\"$in\" . \"testFile.txt\");\n my @file = &lt;FILE&gt;;\n close FILE;\n\n if(grep{/test1/} @file){\n    ...\n }elsif(grep{/test2/} @file){\n    ...\n }elsif(grep{/test3/} @file){\n    ...\n }\n</code></pre>\n\n<p>I create an array that holds the contents of the file then iterate through it 3 times. This does not seem efficient. Is there a way to get this in one if statement to reduce the iterations and the reuse of code in each statement? </p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496172994, "post_id": 44270048, "comment_id": 75549028, "body": "@ikegami I need to compare the values of each  version of keys then create a new hash. If there is any change in the second version, store the new value in the new hash. If the value of the first version is same as the second version, store the same value. Is it bit confusing?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1496173084, "post_id": 44270048, "comment_id": 75549080, "body": "@nandeeshv: It sounds like you just want a copy of the second hash? Or are you talking about each element of the arrays?"}, {"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496173304, "post_id": 44270048, "comment_id": 75549235, "body": "@Borodin. It&#39;s just an example. Sometimes the second hash values might or might not change. So, I need to store the changed one. But if there&#39;s no change I retain the same previous value."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496173558, "post_id": 44270048, "comment_id": 75549384, "body": "If there&#39;s a change, you want to use the new value. If there&#39;s no change, you want to retaining the previous value, which is the same as using the new value. So you want to use the new value no matter what. According to what you said, you simply want a use the second hash."}, {"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496173795, "post_id": 44270048, "comment_id": 75549519, "body": "@ikegami. Oh sorry for my naive way of thinking. Yes you are right, I have realized that I can discard the first one. Thanks a lot for reminding."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496173846, "post_id": 44270048, "comment_id": 75549548, "body": "@nandeeshv: So you don&#39;t even need to compare them! But at least you now know how."}, {"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496174115, "post_id": 44270048, "comment_id": 75549696, "body": "@Borodin. You are absolutely right Borodin. I completely missed the logic."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1496172859, "post_id": 44270353, "comment_id": 75548967, "body": "Thanks a lot @Borodin. Can I extend this one to multiple hashes like   Compare(\\%taps1, \\%taps2,\\%taps3)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1496173181, "post_id": 44270353, "comment_id": 75549156, "body": "@nandeeshv: You must compare them two at a time. Think about it with scalars. <code>&#39;a&#39; eq &#39;a&#39;</code> is fine, but what is <code>&#39;a&#39; eq &#39;a&#39; eq &#39;b&#39;</code> or <code>eq(&#39;a&#39;, &#39;a&#39;, &#39;b&#39;)</code>?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1496172275, "creation_date": 1496172275, "answer_id": 44270353, "question_id": 44270048, "link": "https://stackoverflow.com/questions/44270048/how-to-compare-the-contents-of-two-hashes/44270353#44270353", "title": "How to compare the contents of two hashes", "body": "<p></p>\n\n<p>If all you need to know is whether they match or not, then you can use <a href=\"https://metacpan.org/pod/Data::Compare\" rel=\"nofollow noreferrer\"><code>Data::Compare</code></a>. The <code>Compare</code> function that it exports returns <em>true</em> if the structures match or <em>false</em> if they are different, which is the opposite of the Perl <code>cmp</code> and <code>&lt;=&gt;</code></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Data::Compare 'Compare';\n\nmy %taps1 = (\n  TAP1 =&gt; [0, 0, 0, 0, 0, 0, 144, 1300, 2963, 3031, 16699, 16711, 36, 6634, 6837, 7233, 1103],\n  TAP2 =&gt; [0, 0, 3291, 71, 2994, 6769, 10985],\n  TAP3 =&gt; [0, 2795, 16395],\n);\n\nmy %taps2 = (\n  TAP1 =&gt; [0, 0, 0, 0, 0, 0, 144, 130, 296, 3031, 16699, 1711, 3, 664, 6837, 723, 113],\n  TAP2 =&gt; [0, 0, 3291, 75, 295, 6778, 10985],\n  TAP3 =&gt; [0, 273, 16394],\n);\n\n\nprintf \"The hashes are %s\\n\",\n        Compare(\\%taps1, \\%taps2) ? 'identical' : 'different';\n\nfor my $key ( sort keys %taps1 ) {\n    printf \"The %s elements are %s\\n\",\n            $key,\n            Compare($taps1{$key}, $taps2{$key}) ? 'identical' : 'different';\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>The hashes are different\nThe TAP1 elements are different\nThe TAP2 elements are different\nThe TAP3 elements are different\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 44270353, "answer_count": 1, "score": -1, "last_activity_date": 1496172275, "creation_date": 1496171119, "last_edit_date": 1496171688, "question_id": 44270048, "link": "https://stackoverflow.com/questions/44270048/how-to-compare-the-contents-of-two-hashes", "title": "How to compare the contents of two hashes", "body": "<p>I have two automatically-generated hashes which have the same number of elements, but I don't know how many.</p>\n\n<p>I need to compare the second hash values with the first.</p>\n\n<pre><code>{\n  TAP1 =&gt; [0, 0, 0, 0, 0, 0, 144, 1300, 2963, 3031, 16699, 16711, 36, 6634, 6837, 7233, 1103],\n  TAP2 =&gt; [0, 0, 3291, 71, 2994, 6769, 10985],\n  TAP3 =&gt; [0, 2795, 16395],\n}\n</code></pre>\n\n\n\n<pre><code>{\n  TAP1 =&gt; [0, 0, 0, 0, 0, 0, 144, 130, 296, 3031, 16699, 1711, 3, 664, 6837, 723, 113],\n  TAP2 =&gt; [0, 0, 3291, 75, 295, 6778, 10985],\n  TAP3 =&gt; [0, 273, 16394],\n}\n</code></pre>\n\n<p>How to achieve this?</p>\n"}, {"tags": ["perl", "eval"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496166151, "post_id": 44268606, "comment_id": 75545281, "body": "Is the output going to STDOUT?"}, {"owner": {"reputation": 69, "user_id": 3594905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff88772eab80af2c903e4c92adb877d1?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/3594905/vinay"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496166192, "post_id": 44268606, "comment_id": 75545300, "body": "Yes. It is currently printed on STDOUT."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496166242, "post_id": 44268606, "comment_id": 75545333, "body": "Then you can use Capture::Tiny, put it in a variable and then write to a file from there. There are a couple of good answers around. I&#39;ll find a duplicate target."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496166463, "post_id": 44268606, "comment_id": 75545436, "body": "<a href=\"https://stackoverflow.com/a/3511098/1331451\">stackoverflow.com/a/3511098/1331451</a> is basic, I don&#39;t think it works as a canonical. <a href=\"https://stackoverflow.com/a/8781408/1331451\">stackoverflow.com/a/8781408/1331451</a> is way better, but not the accepted answer so I wouldn&#39;t want to close with that. I&#39;ll write a new one for the time being."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496167633, "post_id": 44268606, "comment_id": 75546085, "body": "Why not just <code>open</code> a file on <code>STDOUT</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 7, "last_activity_date": 1496166693, "creation_date": 1496166693, "answer_id": 44268790, "question_id": 44268606, "link": "https://stackoverflow.com/questions/44268606/how-do-i-redirect-eval-output-to-a-file/44268790#44268790", "title": "How do I redirect eval output to a file?", "body": "<p>You can use <code>capture_stdout</code> from <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"noreferrer\">Capture::Tiny</a> to grab the output of your <code>eval</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Capture::Tiny 'capture_stdout';\n\nmy $stdout = capture_stdout {\n    eval q{print \"Hello World!\\n\";};\n};\n\nopen my $fh, '&gt;', 'foo.txt' or die $!;\nprint $fh $stdout;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1496327765, "last_edit_date": 1496327765, "creation_date": 1496175145, "answer_id": 44271091, "question_id": 44268606, "link": "https://stackoverflow.com/questions/44268606/how-do-i-redirect-eval-output-to-a-file/44271091#44271091", "title": "How do I redirect eval output to a file?", "body": "<p>This can be done without any additional modules</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $fh, '&gt;', 'foo.txt' or die $!;\nmy $old_fh = select $fh;\n\neval q{ print \"Hello World!\\n\"; };\n\nselect $old_fh;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 3594905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff88772eab80af2c903e4c92adb877d1?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/3594905/vinay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 44271091, "answer_count": 2, "score": 1, "last_activity_date": 1496327765, "creation_date": 1496166040, "last_edit_date": 1496166134, "question_id": 44268606, "link": "https://stackoverflow.com/questions/44268606/how-do-i-redirect-eval-output-to-a-file", "title": "How do I redirect eval output to a file?", "body": "<p>I am writing a Perl script where I read files containing section Perl code and non Perl data. </p>\n\n<p>After processing the files I write them to a temporary files (generated scripts) which is then executed using an <code>eval</code> command. I don't want to run the generated script separately as I need to use the <strong>variables in the main script to be interpolated in the generated scripts</strong>.</p>\n\n<p>I need to redirect the output of the eval command to a file. Any suggestion on how to achieve this?</p>\n\n<p><strong>Steps in the script:</strong></p>\n\n<ol>\n<li><p>READ_FILE</p></li>\n<li><p>Process file</p></li>\n<li><p>Write back with temp file name</p></li>\n<li><p>Read temp file (<code>my $file_name = read_file('temp_file_name')</code>)</p></li>\n<li><p>eval (<code>eval $file_name</code>)</p></li>\n</ol>\n\n<p>Appreciate the help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496154276, "post_id": 44263998, "comment_id": 75537849, "body": "What is the match for <code>\\begin</code> and <code>\\end</code> for?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496208770, "post_id": 44263998, "comment_id": 75559943, "body": "Sorry @Borodin. I couldn&#39;t understand you question please."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496226719, "post_id": 44263998, "comment_id": 75571258, "body": "@ssr102: Your question asks for the line and character numbers within the file, but your code searches for <code>\\begin{align}</code> ... <code>\\end{align}</code> subsequences and works with those instead. The result is a line number <i>within the subsequence</i>, not within the file. Why don&#39;t you just find all occurrences of <code>\\amp</code>?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496287899, "post_id": 44263998, "comment_id": 75601829, "body": "@Borodin: Yes you are correct. I need the line number and column number for the whole file wherever the <code>\\amp</code> matches."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496304223, "post_id": 44263998, "comment_id": 75608933, "body": "How did this go?  Any feedback?  Can we offer more explanations?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496336526, "post_id": 44263998, "comment_id": 75632088, "body": "@ssr1012  I don&#39;t understand how that changed your question.  You still want the line number and the column number."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496381681, "post_id": 44263998, "comment_id": 75647925, "body": "@zdim: There is a concern while getting the line number with full file content and a portion of the content."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496384640, "post_id": 44263998, "comment_id": 75649262, "body": "@ssr1012 Right, got it. Updated my answer."}], "answers": [{"tags": [], "owner": {"reputation": 556, "user_id": 3779344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CcOx.jpg?s=128&g=1", "display_name": "Calvin Taylor", "link": "https://stackoverflow.com/users/3779344/calvin-taylor"}, "is_accepted": false, "score": 1, "last_activity_date": 1496161503, "creation_date": 1496161503, "answer_id": 44267413, "question_id": 44263998, "link": "https://stackoverflow.com/questions/44263998/find-line-and-column-number-in-the-text-file-using-perl/44267413#44267413", "title": "Find line and column number in the text file using perl", "body": "<p>Add an index check;</p>\n\n<pre><code>my $index = index($str, '\\\\amp');\nprint \"L: $line:$index - \\\\amp command found...!!!\\n\";\n</code></pre>\n\n<p>however it's not enough to get 42,</p>\n\n<pre><code>[root@cal180 ~]# perl test.pl\nL: 7:362 - \\amp command found...!!!\n</code></pre>\n\n<p>Sounds like you may also want to parse brackets?</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496336596, "post_id": 44273860, "comment_id": 75632125, "body": "@ssr1012 In the light of your updated question, this gives you the line number and the column where the pattern is found (either pattern&#39;s beginning or its end) so it&#39;s still valid?  Let me know if it is not."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1496381818, "post_id": 44273860, "comment_id": 75647980, "body": "No. Its only going to support the matches begin and end. I want to fetch the full file and get the line and column number for the matches."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1496384174, "post_id": 44273860, "comment_id": 75649033, "body": "@ssr1012 I added another solution for your updates.  It gets the line number in the whole file (as shown in the question), and the column number within the line."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1496385523, "post_id": 44273860, "comment_id": 75649698, "body": "Expected output matched awesome."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1496384113, "last_edit_date": 1496384113, "creation_date": 1496190373, "answer_id": 44273860, "question_id": 44263998, "link": "https://stackoverflow.com/questions/44263998/find-line-and-column-number-in-the-text-file-using-perl/44273860#44273860", "title": "Find line and column number in the text file using perl", "body": "<p>I take it that the <code>\\\\begin\\{align\\}</code> and <code>\\\\end\\{align\\}</code> patterns are there to locate such passages (Latex's <code>align</code> environment) in a larger body of text. </p>\n\n<p>Once you got that, break the rest into lines and finding <code>\\amp</code>'s location is then easy</p>\n\n<pre><code>use warnings;\nuse strict;\n\n# ADDED another \"\\amp\", to the line before last\nmy $str = '\\begin{align}\\label{equilibrium-disp-cyl}  \n    ... [ suppressed for brevity ]    \n\\right) = 0, \\amp\n\\end{align}\n';\n\nwhile ($str =~ m/\\\\begin\\{align\\} (.*?) \\\\end\\{align\\}/sgx)\n{\n    my @lines = split /\\n/, $1; \n    for my $i (0..$#lines)\n    {\n        my $line = $lines[$i];\n\n        if ($line =~ /(\\\\amp)/i) \n        {\n            print  \"Found '$1' -- \";\n            printf \"Line number: %3d, match start: %2d, match end: %2d\\n\",\n                $i+1, $-[0], $+[0];\n        }\n    }\n}\n</code></pre>\n\n<p>This uses <code>@-</code> (<code>@LAST_MATCH_START</code>) and <code>@+</code> (<code>@LAST_MATCH_END</code>) arrays, which give offsets of the start and end of last successful submatches.  See <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-regular-expressions\" rel=\"nofollow noreferrer\">Regex related variables in perlvar</a>.  As there is only one match I use the first element, <code>$-[0]</code>.</p>\n\n<p>I use the simple <code>(.*?)</code> instead of an unneeded negative lookahead in the middle.</p>\n\n<p>With your whole string restored (plus the extra <code>\\amp</code>), the above prints</p>\n\n<pre>\nFound '\\amp' -- Line number:   7, match start: 39, match end: 43\nFound '\\amp' -- Line number:  14, match start: 13, match end: 17\n</pre>\n\n<p>where I've added another <code>\\amp</code> on the line-before-last, for a better test.</p>\n\n<hr>\n\n<p>Clarification: We need the line number in the whole file and the column in the line where <code>\\amp</code> is found, within the Latex's <code>align</code> environment (given by <code>\\begin{align}</code>, <code>\\end{align}</code>).</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = 'doc.tex';\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nwhile (&lt;$fh&gt;)\n{\n    if (/\\\\begin\\{align\\}/ .. /\\\\end\\{align\\}/)\n    {   \n        if (/(\\\\amp)/i) \n        {   \n            print  \"Found '$1' -- \";\n            printf \"Line number: %3d, match start: %2d, match end: %2d\\n\",\n                $., $-[0], $+[0];\n        }\n    }\n}\n</code></pre>\n\n<p>where the <code>if</code> statement uses the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a> to ensure that the <code>/\\\\amp/</code> match is performed within the <code>align</code> environment only. The <a href=\"http://perldoc.perl.org/perlvar.html#$.\" rel=\"nofollow noreferrer\"><code>$.</code> variable</a> gives us the line number, and the use of <code>@-</code> and <code>@+</code> is the same as explained above.</p>\n\n<p>With the file <code>doc.tex</code> having the contents shown in the question, this prints</p>\n\n<pre>\nFound '\\amp' -- Line number:  15, match start: 39, match end: 43\nFound '\\amp' -- Line number:  28, match start: 41, match end: 45\nFound '\\amp' -- Line number:  33, match start: 38, match end: 42\nFound '\\amp' -- Line number:  38, match start: 41, match end: 45\n</pre>\n\n<p>which I can confirm as correct locations in that text.</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 523, "favorite_count": 0, "accepted_answer_id": 44273860, "answer_count": 2, "score": 1, "last_activity_date": 1496384113, "creation_date": 1496151833, "last_edit_date": 1496305665, "question_id": 44263998, "link": "https://stackoverflow.com/questions/44263998/find-line-and-column-number-in-the-text-file-using-perl", "title": "Find line and column number in the text file using perl", "body": "<p>I am trying to get the <code>line</code> and <code>column</code> number when the string exact matches in the file. Then I can able to get the <code>line number</code> and not <code>column number</code>.</p>\n\n<p>Need to find <code>\\amp</code> in the below string:</p>\n\n<pre><code>$str = '\\begin{document}\n    \\title{Testing}\n    It is important that the final model or models should make sense\n    physically: at a minimum, this usually means that interactions should\n    not be included without main effects nor higher-degree polynomial\n    terms without their lower-degree relatives. Furthermore, if the model\n    is to be used as a summary of the findings of one out of several\n    studies bearing on the same phenomenon, main effects would usually be\n    included whether significant or not.\n\n    \\begin{align}\\label{equilibrium-disp-cyl}\n    &amp;G\\left( {{\\nabla ^{2}}{u_{r}} - \\frac{2}{{{r^{2}}}}\\frac{{\\partial\n{u_{\\theta} }}}{{\\partial \\theta }} - \\frac{{{u_{r}}}}{{{r^{2}}}}}\n\\right) \\nonumber\\\\\n\\frac{1}{r}\\frac{{\\partial {u_{\\theta} \\amp}}}{{\\partial \\theta }} +\n)\\frac{1}{r}\\frac{\\partial }{{\\partial \\theta }}\\left(\n{\\frac{{\\partial {u_{r}}}}{{\\partial r}} + \\frac{{{u_{r}}}}{r} +\n&amp;G{\\nabla ^{2}}{u_{z}} + ( {\\lambda + G} )\\frac{\\partial }{{\\partial\n\\end{align}\nsome para text continues....\n    \\begin{align}\\label{equilibrium-disp-cyl}\n&amp;G\\left( {{\\nabla ^{2}}{u_{r}} - \\frac{2}{{{r^{2}}}}\\frac{{\\partial\n{u_{\\theta} }}}{{\\partial \\theta }} - \\frac{{{u_{r}}}}{{{r^{2}}}}}\n\\right) \\nonumber\\\\\n\\frac{1}{r}\\frac{{\\partial {u_{\\theta}}}}{{\\partial \\theta }} +\n)\\frac{1}{r}\\frac{\\partial }{{\\partial \\theta }}\\left(\n{\\frac{{\\partial {u_{r}}}}{{\\partial r}} + \\frac{{{u_{r}}}}{r} +\n&amp;G{\\nabla ^{2}}{u_{z}} + ( {\\lambda + G} \\amp )\\frac{\\partial }{{\\partial\n\\end{align}\nsome para text continues....\n    \\begin{align}\\label{equilibrium-disp-cyl}\n&amp;G\\left( {{\\nabla ^{2}}{u_{r}} - \\frac{2}{{{r^{2}}}}\\frac{{\\partial\n{u_{\\theta} }}}{{\\partial \\theta }} - \\amp \\frac{{{u_{r}}}}{{{r^{2}}}}}\n\\right) \\nonumber\\\\\n\\frac{1}{r}\\frac{{\\partial {u_{\\theta}}}}{{\\partial \\theta }} +\n)\\frac{1}{r}\\frac{\\partial }{{\\partial \\theta }}\\left(\n{\\frac{{\\partial {u_{r}}}}{{\\partial r}} + \\frac{{{u_{r}}}}{r} +\n&amp;G{\\nabla ^{2}}{u_{z}} + ( {\\lambda + G} \\amp )\\frac{\\partial }{{\\partial\n\\end{align}\n';\n</code></pre>\n\n<p>My Code: </p>\n\n<pre><code>my $_pres = ();\nwhile($str=~m/\\\\begin\\{align\\}((?:(?!\\\\end\\{align\\}).)*)\\\\end\\{align\\}/sg)\n{\n    $_pres = $`; my $nolabel = $&amp;;\n    if($nolabel=~m/\\\\amp/i)\n    {\n        my $nwpre = $`; $newpre = $_pres.$nwpre;\n\n        my ($line) = ($newpre =~s/\\n/\\n/g)+1;\n        print \"L: $line - Found amp...!!!\\n\";\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> L: 8 - Found amp...!!!\n L: 21 - Found amp...!!!\n L: 26 - Found amp...!!!\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code> L: 7:nn - \\\\amp command found ...!!!\n</code></pre>\n\n<p>Could someone please guide me to get the <code>column</code> number and it would be appreciated also.</p>\n"}, {"tags": ["regex", "perl", "sed", "diff", "kdiff3"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496150995, "post_id": 44262777, "comment_id": 75535344, "body": "Example input/output?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5794707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0m1Jq.jpg?s=128&g=1", "display_name": "mtraton", "link": "https://stackoverflow.com/users/5794707/mtraton"}, "edited": false, "score": 0, "creation_date": 1496296709, "post_id": 44288297, "comment_id": 75604391, "body": "It does not work. However, if I use sed or grep in preprocessor command, it works normally - lines are deleted. I thought that kdiff3 could provide to print lines matching pattern but not consider them when calculating diff. Maybe I misunderstand how line matching pre-processor command works."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 21, "user_id": 5794707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0m1Jq.jpg?s=128&g=1", "display_name": "mtraton", "link": "https://stackoverflow.com/users/5794707/mtraton"}, "edited": false, "score": 0, "creation_date": 1496331028, "post_id": 44288297, "comment_id": 75628954, "body": "@mtraton - why don&#39;t you just use the preprocessor command and not the line matching pre-processor command?"}, {"owner": {"reputation": 21, "user_id": 5794707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0m1Jq.jpg?s=128&g=1", "display_name": "mtraton", "link": "https://stackoverflow.com/users/5794707/mtraton"}, "edited": false, "score": 0, "creation_date": 1496336501, "post_id": 44288297, "comment_id": 75632074, "body": "I&#39;m using it now, but I looked for some diff app that can ignore lines during line matching and still be able to see them - in this case to be able to see timestamps in log files."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 21, "user_id": 5794707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0m1Jq.jpg?s=128&g=1", "display_name": "mtraton", "link": "https://stackoverflow.com/users/5794707/mtraton"}, "edited": false, "score": 0, "creation_date": 1496338009, "post_id": 44288297, "comment_id": 75632880, "body": "@mtraton - might be easier to write a Perl script to do that -- to ignore but not delete lines, in your case with leading *** characters."}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 0, "last_activity_date": 1496243066, "creation_date": 1496243066, "answer_id": 44288297, "question_id": 44262777, "link": "https://stackoverflow.com/questions/44262777/kdiff3-line-matching-preprocessor-does-not-work/44288297#44288297", "title": "kdiff3 - line matching preprocessor does not work", "body": "<p>Try using <code>grep</code> as stated below in your <code>Preprocessor Command</code>:</p>\n\n<pre><code> grep \"^[^*]\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5794707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0m1Jq.jpg?s=128&g=1", "display_name": "mtraton", "link": "https://stackoverflow.com/users/5794707/mtraton"}, "is_accepted": false, "score": 0, "last_activity_date": 1496391729, "creation_date": 1496391729, "answer_id": 44324121, "question_id": 44262777, "link": "https://stackoverflow.com/questions/44262777/kdiff3-line-matching-preprocessor-does-not-work/44324121#44324121", "title": "kdiff3 - line matching preprocessor does not work", "body": "<p>I didn't manage to ignore those lines using kdiff, but meld does it just fine with following regex <code>\\*\\*.*</code>. I hope that helps someone who's looking for same functionality :)</p>\n"}], "owner": {"reputation": 21, "user_id": 5794707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0m1Jq.jpg?s=128&g=1", "display_name": "mtraton", "link": "https://stackoverflow.com/users/5794707/mtraton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 664, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1496391729, "creation_date": 1496148590, "last_edit_date": 1496220878, "question_id": 44262777, "link": "https://stackoverflow.com/questions/44262777/kdiff3-line-matching-preprocessor-does-not-work", "title": "kdiff3 - line matching preprocessor does not work", "body": "<p>I try to ignore lines matching following regex by sed command with kdiff3 when comparing files:</p>\n\n<pre><code>sed 's/^\\*\\*.*//g'\n</code></pre>\n\n<p>Sed command works in command line (it deletes lines starting with **), but when used in kdiff3 it completely ignores the command - lines with pattern are still present and not ignored.</p>\n\n<h2>Troubleshooting measures:</h2>\n\n<ul>\n<li>Tried changing ' to \" in sed command - no effect</li>\n<li>Tried simpler substitutions without any regex - no effect</li>\n<li>Tried to use perl instead of sed (<code>perl -p -e 's/\\*.*//g'</code>) - no effect.</li>\n</ul>\n\n<p>I'm using RedHat Linux, and kdiff version is 0.9.97</p>\n\n<h2>Example of input:</h2>\n\n<p><code>***</code> Timestamp 2017-05-31 03:00:13.159 <code>***</code><br>\n<code>***</code> Extremity direction existence as dashwoods do up. Securing marianne led welcomed offended but offering  <code>***</code><br>\nsix raptures. Conveying concluded newspaper rapturous oh at. Two indeed suffer saw beyond far former   </p>\n\n<p><code>***</code> Timestamp 2017-05-31 03:00:13.585 <code>***</code><br>\n<code>***</code> Conveying concluded newspaper rapturous oh at. Two indeed suffer saw beyond far former reasonably  <code>***</code><br>\nTiled say decay spoil now walls meant house. My mr interest thoughts screened of outweigh removing. Evening society musical besides inhabit ye my. Lose hill well up will he over on. Increasing sufficient   </p>\n\n<h2>Output after using sed in terminal:</h2>\n\n<p>six raptures. Conveying concluded newspaper rapturous oh at. Two indeed suffer saw beyond far former </p>\n\n<p>Tiled say decay spoil now walls meant house. My mr interest thoughts screened of outweigh removing. Evening society musical besides inhabit ye my. Lose hill well up will he over on. Increasing sufficient </p>\n\n<p><a href=\"https://i.stack.imgur.com/yHpt9.png\" rel=\"nofollow noreferrer\">Configuration in kdiff3</a></p>\n"}, {"tags": ["perl", "multidimensional-array", "hash"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496147934, "post_id": 44262267, "comment_id": 75532927, "body": "<code>$hash{$_}{$field} eq $value and print &quot;=&gt; $_\\n&quot; for keys %hash;</code> if you&#39;re searching for first level key."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496148017, "post_id": 44262267, "comment_id": 75532997, "body": "Might want <code>print and last</code> there."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496148062, "post_id": 44262267, "comment_id": 75533033, "body": "Yes, and regular foreach with block also (btw, there might be multiple first level keys which satisfy condition)."}, {"owner": {"reputation": 353, "user_id": 1730941, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/36093a23f823d7c1f229c2b920c545ff?s=128&d=identicon&r=PG", "display_name": "NightEye", "link": "https://stackoverflow.com/users/1730941/nighteye"}, "edited": false, "score": 0, "creation_date": 1496148120, "post_id": 44262267, "comment_id": 75533071, "body": "Doesn&#39;t that mean I have to iterate every possible key and check if its value is the same?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496148272, "post_id": 44262267, "comment_id": 75533180, "body": "Yes, if I&#39;m understanding your question correctly."}, {"owner": {"reputation": 353, "user_id": 1730941, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/36093a23f823d7c1f229c2b920c545ff?s=128&d=identicon&r=PG", "display_name": "NightEye", "link": "https://stackoverflow.com/users/1730941/nighteye"}, "edited": false, "score": 0, "creation_date": 1496148440, "post_id": 44262267, "comment_id": 75533334, "body": "There are thousands of keys to check and also &quot;value&quot; has different values throughout dates (which is the third level I suppose) which I was unable to write above.  That&#39;s why I posted it here, just to check if there are a faster way of lookup on the first level instead of the iterating all keys."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496148579, "post_id": 44262267, "comment_id": 75533452, "body": "Your issue seems quite unusual and I suspect it is subject to <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>"}, {"owner": {"reputation": 353, "user_id": 1730941, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/36093a23f823d7c1f229c2b920c545ff?s=128&d=identicon&r=PG", "display_name": "NightEye", "link": "https://stackoverflow.com/users/1730941/nighteye"}, "edited": false, "score": 0, "creation_date": 1496148758, "post_id": 44262267, "comment_id": 75533595, "body": "hmm. actually I am searching for another answer that could be better than the usual iteration, if you know some, but if not, then I may be stuck with the slower solution"}, {"owner": {"reputation": 353, "user_id": 1730941, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/36093a23f823d7c1f229c2b920c545ff?s=128&d=identicon&r=PG", "display_name": "NightEye", "link": "https://stackoverflow.com/users/1730941/nighteye"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496148820, "post_id": 44262267, "comment_id": 75533630, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/145459/discussion-between-innzaayynn-and-27\">continue this discussion in chat</a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496151410, "post_id": 44262267, "comment_id": 75535676, "body": "Well, the short answer is &quot;you can&#39;t&quot; - there&#39;s no way to check every key, without checking every key. Best you can do is break out of a loop half way, and on average you&#39;ll only have to check half."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1496151993, "post_id": 44262267, "comment_id": 75536123, "body": "@InnZaayynn: If this is the way you need to access your data structure, then you&#39;ve designed the structure wrongly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496152241, "post_id": 44262267, "comment_id": 75536296, "body": "@\u0421\u0443\u0445\u043e\u043927: You&#39;re missing a level. <code>$hash{$_}{$field}</code> is another hash reference."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496161874, "post_id": 44262267, "comment_id": 75543045, "body": "Indeed, but question was edited in the mean time.."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1496210134, "last_edit_date": 1496210134, "creation_date": 1496160538, "answer_id": 44267095, "question_id": 44262267, "link": "https://stackoverflow.com/questions/44262267/searching-first-level-keys-in-a-multidimensional-hash-perl/44267095#44267095", "title": "Searching first level keys in a multidimensional hash Perl", "body": "<p>The organization of your data is not suited to do a fast search. You're going to have to iterate through the entire hash. If you're going to perform multiple searches, it's best if you generate the \"inverse\" hash so you only need to iterate through the entire hash once instead of once per search.</p>\n\n<hr>\n\n<p>If you are performing multiple searches, and they're not all for the same field, generate the inverse hash as follows:</p>\n\n<pre><code>my %key_by_field_and_value;\nfor my $key (keys(%hash)) {\n   my $hash_for_key = $hash{$key};\n   for my $field (keys(%$hash_for_key)) {\n      my $hash_for_key_and_field = $hash_for_key-&gt;{$field};\n      defined( my $date = get_any_one_key($hash_for_key_and_field) )\n         or next;\n\n      length( my $value = $hash_for_key_and_field-&gt;{$date} )\n         or next;\n\n      $key_by_field_and_value{$field}{$value} = $key;\n   }\n}\n</code></pre>\n\n<p>Then, a search becomes</p>\n\n<pre><code>my $field        = ...;\nmy $target_value = ...;\n\nif (defined(\n   my $target_key =\n      do { no autovivification; $key_by_field_and_value{$field}{$target_value} }\n)) {\n   ...\n}\n</code></pre>\n\n<hr>\n\n<p>If you are performing multiple searches, and they're all for the same field, generate the inverse hash as follows:</p>\n\n<pre><code>my $field = ...;\n\nmy %key_by_value;\nfor my $key (keys(%hash)) {\n   my $hash_for_key = $hash{$key};\n   defined( my $hash_for_key_and_field = $hash_for_key-&gt;{$field} )\n      or next;\n\n   defined( my $date = get_any_one_key($hash_for_key_and_field) )\n      or next;\n\n   length( my $value = $hash_for_key_and_field-&gt;{$date} )\n      or next;\n\n   $key_by_value{$value} = $key;\n}\n</code></pre>\n\n<p>Then, a search becomes</p>\n\n<pre><code>my $target_value = ...;\n\nif (defined( my $target_key = $key_by_value{$target_value} )) {\n   ...\n}\n</code></pre>\n\n<hr>\n\n<p>If you're just going to search once, you'll have to search the entire hash.</p>\n\n<pre><code>my $field        = ...;\nmy $target_value = ...;\n\nmy $target_key;\nfor my $key (keys(%hash)) {\n   my $hash_for_key = $hash{$key};\n   defined( my $hash_for_key_and_field = $hash_for_key-&gt;{$field} )\n      or next;\n\n   defined( my $date = get_any_one_key($hash_for_key_and_field) )\n      or next;\n\n   length( my $value = $hash_for_key_and_field-&gt;{$date} )\n      or next;\n\n   if ($value eq $target_value) {\n      $target_key = $key;\n      last;\n   }\n}\n\nif (defined($target_key)) {\n   ...\n}\n</code></pre>\n\n<hr>\n\n<p>Both of the above solutions use this efficient version of <code>my ($key) = keys(%$h);</code>:</p>\n\n<pre><code>sub get_any_one_key {\n   my ($h) = @_;\n   my $key = each(%$h);\n   keys(%$h);  # Reset iterator\n   return $key;\n}\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 1730941, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/36093a23f823d7c1f229c2b920c545ff?s=128&d=identicon&r=PG", "display_name": "NightEye", "link": "https://stackoverflow.com/users/1730941/nighteye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 44267095, "answer_count": 1, "score": 0, "last_activity_date": 1496210134, "creation_date": 1496147207, "last_edit_date": 1496162340, "question_id": 44262267, "link": "https://stackoverflow.com/questions/44262267/searching-first-level-keys-in-a-multidimensional-hash-perl", "title": "Searching first level keys in a multidimensional hash Perl", "body": "<p>I have the value of a multi-dimensional hash in Perl.</p>\n\n<p>Its structure is</p>\n\n<pre><code>$hash{$key}{$field}{$date} = $value;\n</code></pre>\n\n<p>Given that I have both the correct value and field.</p>\n\n<p>What is the fastest process possible to search for its key given that the value itself is unique (has a 1-1 relationship to the key)</p>\n\n<p>EDIT:</p>\n\n<p>I have added a third level which is date.\nnot all dates have a value but when it does, it is shared through all the  dates.</p>\n\n<p>To simplify it, if it has a value, it is \"A\", else, blank.</p>\n\n<p>Regards,\nInnZaayynn</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2428, "user_id": 1499294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GsdSn.jpg?s=128&g=1", "display_name": "Daz", "link": "https://stackoverflow.com/users/1499294/daz"}, "edited": false, "score": 1, "creation_date": 1496146018, "post_id": 44261703, "comment_id": 75531414, "body": "Sorry I think you need to clarify this question a bit. What exactly are you trying to do and what have you already tried?"}, {"owner": {"reputation": 3, "user_id": 8086207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff91736a515f0241dc40041cfda84560?s=128&d=identicon&r=PG&f=1", "display_name": "bambeach", "link": "https://stackoverflow.com/users/8086207/bambeach"}, "reply_to_user": {"reputation": 2428, "user_id": 1499294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GsdSn.jpg?s=128&g=1", "display_name": "Daz", "link": "https://stackoverflow.com/users/1499294/daz"}, "edited": false, "score": 0, "creation_date": 1496146371, "post_id": 44261703, "comment_id": 75531712, "body": "thanks for response, so iwant the output like replace each other"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1496146616, "post_id": 44261703, "comment_id": 75531907, "body": "input please...?"}, {"owner": {"reputation": 1354, "user_id": 1007709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iuIAp.jpg?s=128&g=1", "display_name": "jmcneirney", "link": "https://stackoverflow.com/users/1007709/jmcneirney"}, "edited": false, "score": 1, "creation_date": 1496146712, "post_id": 44261703, "comment_id": 75531996, "body": "You&#39;re declaring a variable $file and never using it. Then you&#39;re attempting to use a variable $info that you never declared. This shouldn&#39;t work at all while using strict;"}, {"owner": {"reputation": 3, "user_id": 8086207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff91736a515f0241dc40041cfda84560?s=128&d=identicon&r=PG&f=1", "display_name": "bambeach", "link": "https://stackoverflow.com/users/8086207/bambeach"}, "edited": false, "score": 0, "creation_date": 1496146716, "post_id": 44261703, "comment_id": 75531998, "body": "simple.csv is containt about string1 string2 strin3 string4 etc"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1496147071, "post_id": 44261703, "comment_id": 75532266, "body": "Exactly what output are you expecting? Don&#39;t try to describe it - just <a href=\"https://stackoverflow.com/posts/44261703/edit\">edit your question</a> to show us."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1496148298, "post_id": 44261703, "comment_id": 75533197, "body": "&quot;i want output insingle line replace each other like string1 ..then replace string2... then replace string 3&quot;. And that is exactly why I asked you <b>not</b> to describe the output that want, but to <b>show us</b>. Look, if you can&#39;t be bothered to produce an understandable specification of your problem, then why would you expect us to help you?"}], "answers": [{"tags": [], "owner": {"reputation": 6928, "user_id": 1015385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc84a03227c566697c4a16b2e9f8782?s=128&d=identicon&r=PG", "display_name": "JRFerguson", "link": "https://stackoverflow.com/users/1015385/jrferguson"}, "is_accepted": true, "score": 1, "last_activity_date": 1496151234, "last_edit_date": 1496151234, "creation_date": 1496150767, "answer_id": 44263601, "question_id": 44261703, "link": "https://stackoverflow.com/questions/44261703/perl-print-loop-and-replace-print-result-before/44263601#44263601", "title": "Perl print loop and replace print result before", "body": "<p>Use <code>printf</code> to control the imposition of newline characters.  Use a backspace (<code>\\b</code>) to move backwards over the last output line, or simply issue a carriage-return (<code>\\r</code>) to move to the beginning of the line.  Line buffering is also disabled.  Something like this meets your requirement (as I understand it):</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nmy $file = 'simple.csv';\nopen my $info, '&lt;', $file or die \"Can't open '$file': $!\\n\";\n$|++;    #...don't buffer output...\nwhile ( my $line = &lt;$info&gt; ) {\n    chomp $line;    #...remove ending newline...\n  # printf \"%s%s\", $line, \"\\b\" x length($line);  # alternative-1\n    printf \"%s\\r\", $line;                        # alternative-2\n    sleep 2;\n}\nclose $info;\nprint \"\\n\";         #...leave a clean output...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 539, "user_id": 7162389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wr6Gu.jpg?s=128&g=1", "display_name": "Harini", "link": "https://stackoverflow.com/users/7162389/harini"}, "is_accepted": false, "score": 0, "last_activity_date": 1496210280, "creation_date": 1496210280, "answer_id": 44276771, "question_id": 44261703, "link": "https://stackoverflow.com/questions/44261703/perl-print-loop-and-replace-print-result-before/44276771#44276771", "title": "Perl print loop and replace print result before", "body": "<p>Hope, print statement itself can do that.</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\nmy $file = 'simple.csv';\nopen my $info, $file or die \"Could not open $file: $!\";\nwhile( my $line = &lt;$info&gt;)  {\n        chomp($line);\n        print \"$line\\r\";\n        sleep(2);\n}\n\nclose $info;\n</code></pre>\n\n<p>This Carriage return moves to the beginning of the line for each print.</p>\n"}], "owner": {"reputation": 3, "user_id": 8086207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff91736a515f0241dc40041cfda84560?s=128&d=identicon&r=PG&f=1", "display_name": "bambeach", "link": "https://stackoverflow.com/users/8086207/bambeach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 1, "accepted_answer_id": 44263601, "answer_count": 2, "score": -2, "last_activity_date": 1496210280, "creation_date": 1496145632, "last_edit_date": 1496149601, "question_id": 44261703, "link": "https://stackoverflow.com/questions/44261703/perl-print-loop-and-replace-print-result-before", "title": "Perl print loop and replace print result before", "body": "<p>Its posible to replace print result in perl output</p>\n\n<p>Contents of Simple.csv:</p>\n\n<pre><code>string1\nstring2\nstring3\n</code></pre>\n\n<p>My script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $file = 'simple.csv';\nopen my $info, $file or die \"Could not open $file: $!\";\nwhile( my $line = &lt;$info&gt;)  {\n    sleep(2);\n    print $line ;\n}\n\nclose $info;\n</code></pre>\n\n<p>output its like:</p>\n\n<pre><code>string1\nstring2\nstring3\n</code></pre>\n\n<p>How to change the output in single line replace each other like  string1 ..then replace string2... then replace string 3</p>\n"}, {"tags": ["r", "perl", "docker", "centos7", "gdata"], "answers": [{"comments": [{"owner": {"reputation": 688, "user_id": 4031305, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/vbzkU.jpg?s=128&g=1", "display_name": "Krzysztof J\u0119drzejewski", "link": "https://stackoverflow.com/users/4031305/krzysztof-j%c4%99drzejewski"}, "edited": false, "score": 0, "creation_date": 1496229694, "post_id": 44279718, "comment_id": 75573211, "body": "Thanks. unfortunately it do not work (the message when gdata is loaded is still shown). What is strange as, as you quoted, documentation says this is what this function is doing. I&#39;ve tried to install it before installing package (so that maybe it will be used somehow in the package installation process), but it doesn&#39;t work too. However, when this is installed, the error returned by &quot;RUN R -e &quot;gdata::installXLSXsupport()&quot;, changed to &quot;Error in gdata::installXLSXsupport() : Unable to install Perl XLSX support libraries.  Execution halted&quot;."}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1496219854, "creation_date": 1496219854, "answer_id": 44279718, "question_id": 44261566, "link": "https://stackoverflow.com/questions/44261566/error-in-gdatainstallxlsxsupport-on-docker-centos-7/44279718#44279718", "title": "Error in gdata::installXLSXsupport() on Docker Centos 7", "body": "<p>gdata::installXLSXsupport() -- </p>\n\n<blockquote>\n  <p>This function calls the perl script 'install_modules.pl' located in\n  the perl subdirectory of the gdata package directory (or inst/perl in\n  the source package). This perl script attempts to use the perl 'CPAN'\n  package, which should be included as part of most perl installations,\n  to automatically download, compile, and install the\n  Compress::Raw::Zlib and Spreadsheet::XLSX perl modules needed for\n  read.xls</p>\n</blockquote>\n\n<p>Sometimes it's too much pain to use CPAN.</p>\n\n<p>Try to replace <code>RUN R -e \"gdata::installXLSXsupport()\"</code> with</p>\n\n<p><code>yum install -y perl-Compress-Raw-Zlib perl-Spreadsheet-XLSX</code></p>\n"}], "owner": {"reputation": 688, "user_id": 4031305, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/vbzkU.jpg?s=128&g=1", "display_name": "Krzysztof J\u0119drzejewski", "link": "https://stackoverflow.com/users/4031305/krzysztof-j%c4%99drzejewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 528, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1496219854, "creation_date": 1496145271, "last_edit_date": 1496152653, "question_id": 44261566, "link": "https://stackoverflow.com/questions/44261566/error-in-gdatainstallxlsxsupport-on-docker-centos-7", "title": "Error in gdata::installXLSXsupport() on Docker Centos 7", "body": "<p>I try to install gdata package with XLSX support on Centos7 in Docker image. Running command <em>gdata::installXLSXsupport()</em> fails.</p>\n\n<p>My Dockerfile looks as follows:</p>\n\n<pre><code>FROM centos:latest\n\nRUN yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\nRUN yum install -y R\nRUN yum install -y libcurl-devel\nRUN yum install -y openssl-devel\nRUN yum install -y libssh2-devel\nRUN yum install -y libxml2-devel\n\n\nRUN yum install -y perl-CPAN\nRUN R -e \"install.packages('gdata', repos='https://cran.rstudio.com/')\"\nRUN R -e \"gdata::installXLSXsupport()\"\n</code></pre>\n\n<p>Build process crashes at the last step with message:</p>\n\n<pre><code>Step 10/10 : RUN R -e \"gdata::installXLSXsupport()\"\n ---&gt; Running in 4e15bdcd2422\n\nR version 3.3.3 (2017-03-06) -- \"Another Canoe\"\nCopyright (C) 2017 The R Foundation for Statistical Computing\nPlatform: x86_64-redhat-linux-gnu (64-bit)\n\nR is free software and comes with ABSOLUTELY NO WARRANTY.\nYou are welcome to redistribute it under certain conditions.\nType 'license()' or 'licence()' for distribution details.\n\nR is a collaborative project with many contributors.\nType 'contributors()' for more information and\n'citation()' on how to cite R or R packages in publications.\n\nType 'demo()' for some demos, 'help()' for on-line help, or\n'help.start()' for an HTML browser interface to help.\nType 'q()' to quit R.\n\n&gt; gdata::installXLSXsupport()\nAttempting to create directory /root/perl5\nWarning: prerequisite Test::More 0 not found.\nTried to deactivate inactive local::lib '/root/perl5'\nUse of uninitialized value $deactivating in numeric eq (==) at /usr/share/perl5/vendor_perl/local/lib.pm line 381.\nUse of uninitialized value $deactivating in numeric eq (==) at /usr/share/perl5/vendor_perl/local/lib.pm line 383.\nUse of uninitialized value $options{\"interpolate\"} in numeric eq (==) at /usr/share/perl5/vendor_perl/local/lib.pm line 424.\nUse of uninitialized value $options{\"interpolate\"} in numeric eq (==) at /usr/share/perl5/vendor_perl/local/lib.pm line 424.\nUse of uninitialized value $options{\"interpolate\"} in numeric eq (==) at /usr/share/perl5/vendor_perl/local/lib.pm line 424.\nUse of uninitialized value $_[0] in substitution (s///) at /usr/share/perl5/File/Basename.pm line 341.\nfileparse(): need a valid pathname at /usr/share/perl5/CPAN/FirstTime.pm line 1354.\nError in gdata::installXLSXsupport() :\nUnable to install Perl XLSX support libraries.\n\nIn addition: Warning message:\nrunning command ''/usr/bin/perl' '/usr/lib64/R/library/gdata/perl/install_modules.pl'' had status 255\nExecution halted\nThe command '/bin/sh -c R -e \"gdata::installXLSXsupport()\"' returned a non-zero code: 1\n</code></pre>\n\n<p>What may be the cause of this problem?</p>\n"}, {"tags": ["arrays", "excel", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496140853, "post_id": 44259793, "comment_id": 75527829, "body": "Do you already know how to read the Excel file?"}, {"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496142100, "post_id": 44259793, "comment_id": 75528659, "body": "yes i know i am doing it by using  foreach $row ($sheet-&gt;{MinRow}+1 .. 10)  \t   {}"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496144600, "post_id": 44259793, "comment_id": 75530429, "body": "You should include some more information about what you do with the file, and what the file looks like. This is way too vague."}, {"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496144829, "post_id": 44259793, "comment_id": 75530577, "body": "my basic requirement is to match the 2 strings above ."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1496202187, "post_id": 44267519, "comment_id": 75557813, "body": "this is working but it is case sensitive, can it be done without it.Thanks for the solution ."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1496203686, "post_id": 44267519, "comment_id": 75558209, "body": "@rohan perhaps you want to use the <code>&#47;i</code> regex flag for case-insensitive matches?"}, {"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1496205142, "post_id": 44267519, "comment_id": 75558595, "body": "$haystack =~ /\\i\\Q$needle\\E\\i/ used this way but not working."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1496205249, "post_id": 44267519, "comment_id": 75558629, "body": "@rohan are you just guessing at the syntax? Check out <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> and it should become clear what needs to be done."}, {"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1496210832, "post_id": 44267519, "comment_id": 75560889, "body": "still not working .. my string contains numbers also is that a problem ."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1496210954, "post_id": 44267519, "comment_id": 75560946, "body": "@rohan &quot;still not working&quot; doesn&#39;t tell me very much. I&#39;d have to see the actual code."}, {"owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 0, "creation_date": 1496211495, "post_id": 44267519, "comment_id": 75561211, "body": "my  needles   = (&quot;1-2 Steps\t&quot;, &quot;5-7 Steps&quot;, &quot;8-10 Steps&quot;, &quot;catch&quot;); my haystacks = (&quot; 1-2 Steps&quot;, &quot;move 8-10 steps to hoist&quot;, &quot;catch the ball&quot;);  for my $needle (@needles) {     my $found;      for my $haystack (@haystacks) {         if ($haystack =~ /\\i\\Q$needle\\E\\i/) { \t\t\tprint &quot;&lt;br&gt;&quot;;             print &quot;Found [$needle] in [$haystack]\\n&quot;; \t\t\tprint &quot;&lt;/br&gt;&quot;;             $found++;         }     }      if (!$found) { \t\tprint &quot;&lt;br&gt;&quot;;         print &quot;Couldn&#39;t find [$needle] anywhere!\\n&quot;; \t\tprint &quot;&lt;br&gt;&quot;;     } }"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "edited": false, "score": 1, "creation_date": 1496212821, "post_id": 44267519, "comment_id": 75561893, "body": "@rohan Your application of <code>&#47;i</code> is the same as it was a few comments ago. Did you read the perlre manual page I linked to?"}, {"owner": {"reputation": 518, "user_id": 3743899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FNdnZ.jpg?s=128&g=1", "display_name": "Yaerox", "link": "https://stackoverflow.com/users/3743899/yaerox"}, "edited": false, "score": 0, "creation_date": 1496212844, "post_id": 44267519, "comment_id": 75561908, "body": "I believe your RegEx should look like <code>$haystack =~ &#47;\\Q$needle\\E&#47;i</code>"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1496161889, "creation_date": 1496161889, "answer_id": 44267519, "question_id": 44259793, "link": "https://stackoverflow.com/questions/44259793/check-value-exists-in-perl-array-and-substring/44267519#44267519", "title": "check value exists in perl array and substring", "body": "<p>Assigning a list to a scalar (<code>$db_description</code>) doesn't make any sense. Also, <code>eq</code> tests for string equality, and none of the strings you're comparing will ever be equal. You probably want to use a regular expression to see if your <em>needles</em> match part of your <em>haystacks</em>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @needles   = (\"walk\", \"run\", \"dance\", \"catch\");\nmy @haystacks = (\"walk with me\", \"come and run\", \"catch the ball\");\n\nfor my $needle (@needles) {\n    my $found;\n\n    for my $haystack (@haystacks) {\n        if ($haystack =~ /\\Q$needle\\E/) {\n            print \"Found [$needle] in [$haystack]\\n\";\n            $found++;\n        }\n    }\n\n    if (!$found) {\n        print \"Couldn't find [$needle] anywhere!\\n\";\n    }\n}\n</code></pre>\n\n<p>This could be shortened to:</p>\n\n<pre><code>for my $needle (@needles) {\n    if (grep { /\\Q$needle\\E/ } @haystacks) {\n        print \"Found [$needle]\\n\";\n    } else {\n        print \"Couldn't find [$needle] anywhere!\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5506017, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc0f53e46f9a49f7a8a97269b466b9a5?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/5506017/rohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 44267519, "answer_count": 1, "score": 0, "last_activity_date": 1496219926, "creation_date": 1496140297, "last_edit_date": 1496219926, "question_id": 44259793, "link": "https://stackoverflow.com/questions/44259793/check-value-exists-in-perl-array-and-substring", "title": "check value exists in perl array and substring", "body": "<p>I have an array with original data and a column in excel file, I need to compare the excel column with the array and find the match.</p>\n\n<p>I need is walk should match with walk with me and so on, Is there any way I can do it.</p>\n\n<pre><code>can i compare individual string with complete array i am comparing excel row with array using the following way description variable contains string to match with @steps_name array\n\nmy @steps_name=(\"1-2 Steps\", \"5-7 Steps\", \"8-10 Steps\", \"11-15 Steps\");\n\nforeach $sheet (@{$workbook-&gt;{Worksheet}}) {\n\n       foreach $col ($sheet-&gt;{MinCol} .. $sheet-&gt;{MaxCol})\n       {          \n                if ($sheet-&gt;{Cells}[0][$col]-&gt;{Val} eq \"DESCRIPTION\") \n               {\n                    $description = $col;                    \n               }                 \n       }\n\n\n\n    foreach $row ($sheet-&gt;{MinRow}+1 .. 50) \n     {         \n       my $db_description = $sheet-&gt;{Cells}[$row][$description]-&gt;{Val};\n\n        my $needle_regex = quotemeta $db_description;    \n\n     if (grep { /(?i)\\Q$db_description\\E/ } @steps_name) \n                {\n           print \"&lt;br&gt;&lt;h1&gt;Element '$db_description' found &lt;/h1&gt;&lt;/br&gt;\" ;\n                }\n\n                else\n                {\n                    print \"&lt;br&gt;$db_description not found &lt;/br&gt;\"\n                }\n\n      }\n    }\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496138947, "post_id": 44259186, "comment_id": 75526618, "body": "What happens if the user opens home.html directly? Also, what does the home.html do with the arguments? Is there a JavaScript appliction on it that can read the parameters? It seems like you are missing some conceptual knowledge. Are those really static html files that are served directly by the webserver?"}, {"owner": {"reputation": 661, "user_id": 974295, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa1df95a2569c6622b8a7a8bb471b90f?s=128&d=identicon&r=PG", "display_name": "Hariram Nandagopal", "link": "https://stackoverflow.com/users/974295/hariram-nandagopal"}, "edited": false, "score": 0, "creation_date": 1496139775, "post_id": 44259186, "comment_id": 75527161, "body": "why not achieve the same from server side scripting lang like PHP? As your title says &quot;best practice for login&quot;. You can every well do it using client side but that requires lots of validation and token system to be a secured one."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 661, "user_id": 974295, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa1df95a2569c6622b8a7a8bb471b90f?s=128&d=identicon&r=PG", "display_name": "Hariram Nandagopal", "link": "https://stackoverflow.com/users/974295/hariram-nandagopal"}, "edited": false, "score": 1, "creation_date": 1496140265, "post_id": 44259186, "comment_id": 75527473, "body": "@Harry OP is already talking about their backend in Perl. Why suggest a different backend technology?"}, {"owner": {"reputation": 661, "user_id": 974295, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa1df95a2569c6622b8a7a8bb471b90f?s=128&d=identicon&r=PG", "display_name": "Hariram Nandagopal", "link": "https://stackoverflow.com/users/974295/hariram-nandagopal"}, "edited": false, "score": 0, "creation_date": 1496142244, "post_id": 44259186, "comment_id": 75528741, "body": "Sorry missed that part :) But I was like replace &quot;.html&quot; with server side scripting so that we can handle the redirecting part if the user directly lands in &quot;home&quot; section."}, {"owner": {"reputation": 518, "user_id": 3743899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FNdnZ.jpg?s=128&g=1", "display_name": "Yaerox", "link": "https://stackoverflow.com/users/3743899/yaerox"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496142795, "post_id": 44259186, "comment_id": 75529128, "body": "@simbabque if the user opens home.html directly a popup comes up telling the user to login and redirect him to my login page. That&#39;s what   I&#39;m taking the arguements for. My requirement is to use perl instead of php. So I try to do use jquery controls for the dynamic content. I&#39;m not a straight webdeveloper, I did many sites, mostly for internal purposes and almost every time I don&#39;t had to care about security purposes. That&#39;s why I&#39;m picking this up."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496144727, "post_id": 44259186, "comment_id": 75530520, "body": "You&#39;re making your life harder than it needs to be. If you have to stick to plain CGI, I would at least use a Perl program to serve all content. That is, get rid of the .html files and make the backend decide what to send to the user. Or, if there is not a lot of logic involved, just use a .htaccess file with the login data and put that up in front of your home.html."}, {"owner": {"reputation": 518, "user_id": 3743899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FNdnZ.jpg?s=128&g=1", "display_name": "Yaerox", "link": "https://stackoverflow.com/users/3743899/yaerox"}, "edited": false, "score": 0, "creation_date": 1496145568, "post_id": 44259186, "comment_id": 75531086, "body": "I already had some web-applications where I use perl only. For me it always looks like an old-fashined way to create websites. As far as I know, if I&#39;d use PHP I&#39;d use html files including PHP scripts for dynamical content. I try to reproduce this on perl. Even if I&#39;m making my life harder, I don&#39;t care as long as the quality of programming is higher then before."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1496153958, "post_id": 44259186, "comment_id": 75537551, "body": "If you want it modern and you know Perl, you should look into some modern frameworks that work with PSGI/Plack. Start out with <a href=\"https://www.youtube.com/watch?v=jKOqtRMT85s\" rel=\"nofollow noreferrer\">this talk</a> and then look at the various frameworks, like <a href=\"http://perldancer.org/\" rel=\"nofollow noreferrer\">Dancer2</a>, <a href=\"http://mojolicious.org/\" rel=\"nofollow noreferrer\">Mojolicious</a> or <a href=\"http://www.catalystframework.org/\" rel=\"nofollow noreferrer\">Catalyst</a>. All of them have extensive documentation and a strong community. It will greatly make your life easier to use one of them instead of CGI."}, {"owner": {"reputation": 518, "user_id": 3743899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FNdnZ.jpg?s=128&g=1", "display_name": "Yaerox", "link": "https://stackoverflow.com/users/3743899/yaerox"}, "edited": false, "score": 0, "creation_date": 1496211761, "post_id": 44259186, "comment_id": 75561349, "body": "I&#39;m going to get a look into it. Never heared about any of them."}], "owner": {"reputation": 518, "user_id": 3743899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FNdnZ.jpg?s=128&g=1", "display_name": "Yaerox", "link": "https://stackoverflow.com/users/3743899/yaerox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1496138582, "creation_date": 1496138582, "question_id": 44259186, "link": "https://stackoverflow.com/questions/44259186/jquery-login-what-is-the-best-practise-for-a-login", "title": "jQuery Login - What is the best practise for a login?", "body": "<p>I'm trying to improve my jQuery skills developing a litte website containing a login system.<br>\nI'm looking for the <strong>best practise and most secure login system</strong>.</p>\n\n<p>So far </p>\n\n<ul>\n<li>I had a <code>login.html</code> having a <code>&lt;form action=\"login.pl\"&gt;</code>.</li>\n<li>On my <code>login.pl</code> I'm connecting to my database and if the user is valid I <code>print</code> a http-redirect to <code>home.html</code> adding my params (<code>?param1=val1&amp;param2=val2</code>).\n<a href=\"https://i.stack.imgur.com/HuG3Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HuG3Q.png\" alt=\"enter image description here\"></a></li>\n</ul>\n\n<p>Now I took a different way (at least for me a better looking way).</p>\n\n<ul>\n<li>I have a <code>login.html</code> doing an <code>$.ajax</code> request before submit.</li>\n<li>The ajax request calls my <code>login.pl</code>which is returning an json-sting containing a status.</li>\n<li>If the json-sting status is success, I return true which results submitting the form <code>&lt;form method=\"POST\" action=\"home.html\"&gt;</code>\n<a href=\"https://i.stack.imgur.com/XJY9v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XJY9v.png\" alt=\"enter image description here\"></a></li>\n</ul>\n\n<p>Now I'm having a few questions:</p>\n\n<ol>\n<li><p>My form POSTs the password to my <code>home.html</code>.<br>\nI believe I have to replace the password value and add some kind of session value to the form to be able to check later if the user session is valid or not. Do I?<br>\n<strong>How is this done on a professional security level?</strong></p></li>\n<li><p>I can't access the form data in my <code>home.html</code> as long as I use POST. I try to avoid using GET because professional websites don't have those ugly urls.<br>\n<a href=\"https://i.stack.imgur.com/T7jtg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T7jtg.png\" alt=\"screenshot_form_data\"></a><br>\nHow am I supposed to transport username + session id? Do I have to use cookies here?<br>\nI didn't really worked with cookies so far, but since user can read cookies, I still won't add any real passwords here and replace password with a session id.</p></li>\n<li><p>For my understandings: These security requirements won't change even with https. HTTPS provides a secure connection but I still won't save or store any real passwords anywhere on the client.</p></li>\n</ol>\n"}, {"tags": ["multithreading", "perl", "psgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496134481, "post_id": 44257530, "comment_id": 75523431, "body": "Do you just call them with <code>thrall app.psgi</code> and <code>plackup app.psgi</code> and default settings?"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1496136526, "post_id": 44257530, "comment_id": 75524883, "body": "Yes, I&#39;m executing just <code>plackup</code> and <code>thrall</code> without any arguments."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1496867090, "post_id": 44257530, "comment_id": 75842793, "body": "My guess is something with your environment. I tried your code (perl 5.22.1) and it works perfectly. I have the 3 seconds wait when launching the app, then identical values for $dsn, if I use thrall or not."}, {"owner": {"reputation": 49387, "user_id": 1428679, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d3eba7f8f9195a30d49bdbbdd594b1e4?s=128&d=identicon&r=PG", "display_name": "LSerni", "link": "https://stackoverflow.com/users/1428679/lserni"}, "edited": false, "score": 0, "creation_date": 1496906102, "post_id": 44257530, "comment_id": 75855886, "body": "Sorry, but why do you use <code>use 5.024;</code>? <code>state</code> was only available since 5.10."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1496927408, "post_id": 44257530, "comment_id": 75870610, "body": "LSerni, you&#39;re confusing <i>decimal</i> and <i>dotted decimal</i> version types. <a href=\"http://p3rl.org/version#TYPES-OF-VERSION-OBJECTS\" rel=\"nofollow noreferrer\">perldoc version</a> ; <a href=\"http://p3rl.org/use\" rel=\"nofollow noreferrer\">perldoc -f use</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6059, "user_id": 62735, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/51d4559d326e8515c726c64ce04acc06?s=128&d=identicon&r=PG", "display_name": "Ask Bj&#248;rn Hansen", "link": "https://stackoverflow.com/users/62735/ask-bj%c3%b8rn-hansen"}, "is_accepted": false, "score": -1, "last_activity_date": 1500706093, "creation_date": 1500706093, "answer_id": 45251606, "question_id": 44257530, "link": "https://stackoverflow.com/questions/44257530/how-do-i-make-a-psgi-program-do-costly-initialisation-only-once-per-process-not/45251606#45251606", "title": "How do I make a PSGI program do costly initialisation only once per process, not per thread?", "body": "<p>Isn't this what the <code>--preload-app</code> option to <a href=\"http://search.cpan.org/perldoc?Starman\" rel=\"nofollow noreferrer\">Starman</a> does?</p>\n"}, {"tags": [], "owner": {"reputation": 818, "user_id": 56565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8c65b603554811079a7ea9b7aab9c0?s=128&d=identicon&r=PG", "display_name": "gugod", "link": "https://stackoverflow.com/users/56565/gugod"}, "is_accepted": false, "score": 1, "last_activity_date": 1566225697, "creation_date": 1566225697, "answer_id": 57559012, "question_id": 44257530, "link": "https://stackoverflow.com/questions/44257530/how-do-i-make-a-psgi-program-do-costly-initialisation-only-once-per-process-not/57559012#57559012", "title": "How do I make a PSGI program do costly initialisation only once per process, not per thread?", "body": "<p>For whatever reason, the program <code>thrall</code> hard-coded a \"loader\" parameter in its configuration section:</p>\n\n<pre><code>my $runner = Plack::Runner-&gt;new(\n    server     =&gt; 'Thrall',\n    env        =&gt; 'deployment',\n    loader     =&gt; 'Delayed',\n    version_cb =&gt; \\&amp;version,\n);\n\n$runner-&gt;parse_options(@ARGV);\n</code></pre>\n\n<p>That string <code>\"Delayed\"</code> refers to the module <code>Plack::Loader::Delayed</code>, which delays the loading of .psgi files until first request comes. That would match your benchmarking result. (If you re-run the benchmark again without killing thrall, you'll see identical output).</p>\n\n<p>You may try running <code>thrall -L +Plack::Loader app.psgi</code>, which reverts the \"loader\" parameter to the default value hard-coded in <code>Plack::Runner</code>.</p>\n"}], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 3, "answer_count": 2, "score": 18, "last_activity_date": 1566225697, "creation_date": 1496133888, "last_edit_date": 1496311680, "question_id": 44257530, "link": "https://stackoverflow.com/questions/44257530/how-do-i-make-a-psgi-program-do-costly-initialisation-only-once-per-process-not", "title": "How do I make a PSGI program do costly initialisation only once per process, not per thread?", "body": "<p>cross-post: <a href=\"http://perlmonks.org/?node_id=1191821\" rel=\"noreferrer\">http://perlmonks.org/?node_id=1191821</a></p>\n\n<p>Consider <code>app.psgi</code>:</p>\n\n<pre><code>#!perl\nuse 5.024;\nuse strictures;\nuse Time::HiRes qw(sleep);\n\nsub mock_connect {\n    my $how_long_it_takes = 3 + rand;\n    sleep $how_long_it_takes;\n    return $how_long_it_takes;\n}\nsub main {\n    state $db_handle = mock_connect($dsn);\n    return sub { [200, [], [\"connect took $db_handle seconds\\n\"]] };\n}\nmy $dsn = 'dbi:blahblah'; # from config file\nmy $app = main($dsn);\n</code></pre>\n\n<p>Measuring <code>plackup</code> (<code>HTTP::Server::PSGI: Accepting connections at http://0:5000/</code>):</p>\n\n<pre><code>\u203a perl -MBenchmark=timeit,timestr,:hireswallclock -E\"say timestr timeit 10, sub { system q(curl http://localhost:5000) }\"\nconnect took 3.0299610154043 seconds\nconnect took 3.0299610154043 seconds\nconnect took 3.0299610154043 seconds\nconnect took 3.0299610154043 seconds\nconnect took 3.0299610154043 seconds\nconnect took 3.0299610154043 seconds\nconnect took 3.0299610154043 seconds\nconnect took 3.0299610154043 seconds\nconnect took 3.0299610154043 seconds\nconnect took 3.0299610154043 seconds\n2.93921 wallclock secs ( 0.03 usr +  0.06 sys =  0.09 CPU) @ 107.53/s (n=10)\n</code></pre>\n\n<p>Measuring <code>thrall</code> (<code>Starting Thrall/0.0305 (MSWin32) http server listening at port 5000</code>):</p>\n\n<pre><code>\u203a perl -MBenchmark=timeit,timestr,:hireswallclock -E\"say timestr timeit 10, sub { system q(curl http://localhost:5000) }\"\nconnect took 3.77111188120125 seconds\nconnect took 3.15455510265111 seconds\nconnect took 3.77111188120125 seconds\nconnect took 3.15455510265111 seconds\nconnect took 3.77111188120125 seconds\nconnect took 3.64333342488772 seconds\nconnect took 3.15455510265111 seconds\nconnect took 3.77111188120125 seconds\nconnect took 3.85268922343767 seconds\nconnect took 3.64333342488772 seconds\n17.4764 wallclock secs ( 0.02 usr +  0.09 sys =  0.11 CPU) @ 90.91/s (n=10)\n</code></pre>\n\n<p>This performance is not acceptable because the initialisation happens several times, despite the <code>state</code> variable. How do you make it so it happens only once?</p>\n"}, {"tags": ["regex", "perl", "regex-greedy"], "comments": [{"owner": {"reputation": 4416, "user_id": 1186936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R7eyc.jpg?s=128&g=1", "display_name": "degant", "link": "https://stackoverflow.com/users/1186936/degant"}, "edited": false, "score": 0, "creation_date": 1496134011, "post_id": 44257425, "comment_id": 75523113, "body": "Use a tempered dot, <code>s&#47;\\&#47;{2,}(?:(?!\\&#47;\\&#47;).)*?$&#47;&#47;;</code>. <a href=\"https://regex101.com/r/lNt6TL/2/\" rel=\"nofollow noreferrer\">Demo</a>"}, {"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "reply_to_user": {"reputation": 4416, "user_id": 1186936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R7eyc.jpg?s=128&g=1", "display_name": "degant", "link": "https://stackoverflow.com/users/1186936/degant"}, "edited": false, "score": 0, "creation_date": 1496136865, "post_id": 44257425, "comment_id": 75525142, "body": "That demo website is super cool! Thanks for the information"}, {"owner": {"reputation": 4416, "user_id": 1186936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R7eyc.jpg?s=128&g=1", "display_name": "degant", "link": "https://stackoverflow.com/users/1186936/degant"}, "edited": false, "score": 0, "creation_date": 1496137005, "post_id": 44257425, "comment_id": 75525261, "body": "Yes, you can use it to play around and figure out the right pattern. That and a few more: <a href=\"http://regexr.com/\" rel=\"nofollow noreferrer\">regexr.com</a>, <a href=\"https://regexper.com/\" rel=\"nofollow noreferrer\">regexper.com</a>, <a href=\"https://www.debuggex.com/\" rel=\"nofollow noreferrer\">debuggex.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "is_accepted": false, "score": 0, "last_activity_date": 1496136374, "last_edit_date": 1496136374, "creation_date": 1496134134, "answer_id": 44257593, "question_id": 44257425, "link": "https://stackoverflow.com/questions/44257425/perl-pattern-matching-from-end-of-line/44257593#44257593", "title": "perl pattern matching from end of line", "body": "<p>Following works, using <code>@</code> as regex delimiter instead of <code>/</code> to avoid backslashes before <code>/</code> and be clearer</p>\n\n<pre><code>s@//([^/]|/([^/]|$))*$@@\n</code></pre>\n\n<p>How it works.\nAfter <code>//</code> : we can find</p>\n\n<ul>\n<li>either <code>[^/]</code> (any character except <code>/</code>)</li>\n<li>either <code>/</code> followed by <code>[^/]</code> or <code>$</code> end of line anchor</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1496137052, "post_id": 44257728, "comment_id": 75525293, "body": "It certainly does!"}], "tags": [], "owner": {"reputation": 4416, "user_id": 1186936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R7eyc.jpg?s=128&g=1", "display_name": "degant", "link": "https://stackoverflow.com/users/1186936/degant"}, "is_accepted": false, "score": 0, "last_activity_date": 1496134531, "creation_date": 1496134531, "answer_id": 44257728, "question_id": 44257425, "link": "https://stackoverflow.com/questions/44257425/perl-pattern-matching-from-end-of-line/44257728#44257728", "title": "perl pattern matching from end of line", "body": "<p>Use a tempered dot, </p>\n\n<pre><code>$line =~ s/\\/{2,}(?:(?!\\/\\/).)*?$//;\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/lNt6TL/2/\" rel=\"nofollow noreferrer\">Regex101 Demo</a></p>\n\n<p>Regex: <code>\\/{2,}(?:(?!\\/\\/).)*?$</code></p>\n\n<ul>\n<li><code>\\/{2,}</code> matches 2 or more slashes (representing start of comment)</li>\n<li><code>(?:(?!\\/\\/).)*?</code> represents a tempered dot (which means any character except one that is preceeded by <code>//</code>). This is specified using a negative lookahead <code>(?!\\/\\/)</code>.</li>\n<li><code>$</code> ending anchor</li>\n</ul>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1496192774, "post_id": 44257744, "comment_id": 75555790, "body": "what is the \\K for?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1496193093, "post_id": 44257744, "comment_id": 75555865, "body": "@JonJ it&#39;s a lookbehind. I am on a cell phone now, will add a note about it when I get back to the computer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1496205690, "post_id": 44257744, "comment_id": 75558777, "body": "@JonJ  Added a brief explanation of <code>\\K</code>, see the linked pages for more."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1496771322, "last_edit_date": 1496771322, "creation_date": 1496134617, "answer_id": 44257744, "question_id": 44257425, "link": "https://stackoverflow.com/questions/44257425/perl-pattern-matching-from-end-of-line/44257744#44257744", "title": "perl pattern matching from end of line", "body": "<p>Allow an optional <code>/</code> at the beginning, remove a trailing comment if there</p>\n\n<pre><code>s|^\\s*/?.+?\\K//.*||g;\n</code></pre>\n\n<p>The <code>+</code> quantifier is needed instead of a <code>*</code> so to not match lines with a sole comment.  </p>\n\n<p>The <a href=\"http://perldoc.perl.org/perlre.html#Lookaround-Assertions\" rel=\"nofollow noreferrer\"><code>\\K</code></a> is a form of <a href=\"http://perldoc.perl.org/5.8.9/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">lookbehind</a>, a <em>zero-width assertion</em> that the pattern that precedes it is indeed there  (it doesn't consume anything). It also discards all matches prior to it, so we don't have to capture them and put them back in. This also allows <code>\\K</code> to handle variable length patterns.</p>\n\n<p>Test with shown examples</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @tests = (\n    'output port_a; // comments remove this port',\n    '// output port_a; // comments remove this port',\n    '// output port_a; // comments read/write'\n);\n\nfor (@tests)\n{ \n    s|^\\s*/?.+?\\K//.*||gx;\n    say;\n}\n</code></pre>\n\n<p>output</p>\n\n<pre>\noutput port_a; \n// output port_a;\n// output port_a;\n</pre>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1496193322, "post_id": 44267253, "comment_id": 75555926, "body": "Never knew data can be coded in like that ... _<i>DATA_</i>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1496170037, "last_edit_date": 1496170037, "creation_date": 1496160988, "answer_id": 44267253, "question_id": 44257425, "link": "https://stackoverflow.com/questions/44257425/perl-pattern-matching-from-end-of-line/44267253#44267253", "title": "perl pattern matching from end of line", "body": "<p></p>\n\n<p>This removes the <em>last</em> comment on the line. It is much clearer</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>s|.*\\K//.*||\n</code></pre>\n\n<p>Here's a demonstration program</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nwhile ( &lt;DATA&gt; ) {\n\n    print \"$.\\n\";\n\n    print;\n\n    s|.*\\K//.*||;\n    print;\n\n    print \"\\n\";\n}\n\n__DATA__\noutput port_a; // comments remove this port\noutput port_a;\n// output port_a; // comments remove this port\n// output port_a; \n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>1\noutput port_a; // comments remove this port\noutput port_a; \n\n2\noutput port_a;\noutput port_a;\n\n3\n// output port_a; // comments remove this port\n// output port_a; \n\n4\n// output port_a; \n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "accepted_answer_id": 44257744, "answer_count": 4, "score": 0, "last_activity_date": 1496771322, "creation_date": 1496133554, "question_id": 44257425, "link": "https://stackoverflow.com/questions/44257425/perl-pattern-matching-from-end-of-line", "title": "perl pattern matching from end of line", "body": "<p>I am trying to strip off comments at the end of every line that I encounter. However, I am interested to preserve the line if it is commented at the very beginning in addition to the end.</p>\n\n<p>For example:</p>\n\n<pre><code>output port_a; // comments remove this port\n</code></pre>\n\n<p>If I use this regex <code>$line =~ s/\\/{2,}.*?$//;</code>, the comments are removed correctly yielding only the pattern that I want to use for further processing, which is:</p>\n\n<pre><code>output port_a;\n</code></pre>\n\n<p>However, it can happen that a line can be commented at the beginning:</p>\n\n<pre><code>// output port_a; // comments remove this port\n</code></pre>\n\n<p>In this case, I want to preserve the comment at the beginning of line, but remove the comment at the end of the line. </p>\n\n<pre><code>// output port_a; \n</code></pre>\n\n<p>Using the same regex <code>$line =~ s/\\/{2,}.*?$//;</code> removes everything!</p>\n\n<p>I have tried using <code>s/\\/{2,}[^\\/]+$//g</code> but this does not strip off comment that has a slash in it, which is incorrect:</p>\n\n<pre><code>// output port_a; // comments read/write    \n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1496130454, "post_id": 44256366, "comment_id": 75521024, "body": "Why do you think longer code is bad? There is usually no <i>best way</i>. What output do you get? What is the exact input for both data.txt and data1.txt? Please <a href=\"https://stackoverflow.com/posts/44256366/edit\">edit</a> your question and include that, as well as the expected output."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 1, "creation_date": 1496130673, "post_id": 44256366, "comment_id": 75521147, "body": "Do you need corresponding lines to match literally or semantically (e.g. numbers in the lines should match and delimiters don&#39;t matter)?"}, {"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496130850, "post_id": 44256366, "comment_id": 75521269, "body": "Hi @simbabque, i edited my question , i am not quite understand your mean for exact input. Thanks"}, {"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "reply_to_user": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 0, "creation_date": 1496130883, "post_id": 44256366, "comment_id": 75521293, "body": "Hi @DmitryEgorov, yes i just wan to match the number. Thanks"}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 0, "creation_date": 1496130953, "post_id": 44256366, "comment_id": 75521339, "body": "@tim: so the lines &quot;1_2&quot; (one space between 1 and 2) and &quot;1___2&quot; (three spaces between 1 and 2) should be considered matching, shouldn&#39;t they?"}, {"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "reply_to_user": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 0, "creation_date": 1496131138, "post_id": 44256366, "comment_id": 75521456, "body": "Hi @DmitryEgorov, actually the two file will have exact same delimiters just the number will be different, so in this case i no care about the delimiters in my code. Thanks"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496132276, "post_id": 44256366, "comment_id": 75522096, "body": "Just show us an example for both files that you want to match."}, {"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496132555, "post_id": 44256366, "comment_id": 75522245, "body": "@simbabque, i edit my question above with example. Thanks for your help"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496134994, "post_id": 44256366, "comment_id": 75523765, "body": "Your <code>data1.txt</code> has <code>22</code> where <code>data.txt</code> has <code>21</code>, so the files are different and the result is correct."}, {"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496135111, "post_id": 44256366, "comment_id": 75523848, "body": "@Borodin the result i want to show is not match for the line 2"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496135251, "post_id": 44256366, "comment_id": 75523927, "body": "You say it prints <code>total match line =1</code> and <code>line 2 not match</code> which is correct."}, {"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496135490, "post_id": 44256366, "comment_id": 75524094, "body": "Hi @Borodin, thanks to point out this, i edited my question as previous is unclear the output show above is what i want but my result is even first line also not match. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1496132936, "post_id": 44256489, "comment_id": 75522478, "body": "That&#39;s silly.  The <code>cmp</code> command does this much more efficiently and idiomatically."}, {"owner": {"reputation": 573, "user_id": 1978686, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/fbe75c22e47260788b78f35aa863f7d6?s=128&d=identicon&r=PG", "display_name": "MAZDAK", "link": "https://stackoverflow.com/users/1978686/mazdak"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1496134883, "post_id": 44256489, "comment_id": 75523697, "body": "No, not really."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1496135221, "post_id": 44256489, "comment_id": 75523913, "body": "It&#39;s not more efficient? Or it doesn&#39;t compare files and report whether they are identical?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1496137726, "post_id": 44256489, "comment_id": 75525785, "body": "I&#39;d use <code>diff</code>&#39;s return code (0=same, 1=different) and write this as <code>if diff -q data.txt data1.txt &gt;&#47;dev&#47;null; then echo &quot;same&quot;; fi</code>. No need to make <code>diff</code> print <i>all</i> the differences."}], "tags": [], "owner": {"reputation": 573, "user_id": 1978686, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/fbe75c22e47260788b78f35aa863f7d6?s=128&d=identicon&r=PG", "display_name": "MAZDAK", "link": "https://stackoverflow.com/users/1978686/mazdak"}, "is_accepted": false, "score": -1, "last_activity_date": 1496131199, "last_edit_date": 1496131199, "creation_date": 1496130533, "answer_id": 44256489, "question_id": 44256366, "link": "https://stackoverflow.com/questions/44256366/compare-two-file-with-same-content-in-the-best-way/44256489#44256489", "title": "Compare two file with same content in the best way", "body": "<p>Here is a quick shell solution to check if the two files have the exact same content. If the outcome of the following script is zero the two files have the same content. </p>\n\n<pre><code>diff data.txt data1.txt | wc -l\n</code></pre>\n\n<p>More specifically:</p>\n\n<pre><code>diffLines=$( diff data.txt data1.txt | wc -l )\nif [ $diffLines -eq 0 ]\nthen\n  echo \"Files have the same content\"\nfi\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "is_accepted": false, "score": 0, "last_activity_date": 1496323511, "creation_date": 1496323511, "answer_id": 44308800, "question_id": 44256366, "link": "https://stackoverflow.com/questions/44256366/compare-two-file-with-same-content-in-the-best-way/44308800#44308800", "title": "Compare two file with same content in the best way", "body": "<pre><code> !/usr/bin/perl\n\n    use strict;\n    use warnings;\n    use Data::Dumper;\n\n    # read the data\n    my ($file1, $file2) = ('file1.txt', 'file2.txt');\n    my @firstfile;\n    my @secondfile;\n\n    open (my $fh, '&lt;', $file1) or die \"Cant open $!\";\n    while (my $line = &lt;$fh&gt;) {\n       chomp $line;\n       push @firstfile, split / /, $line;\n    }\n\n    open (my $fh2, '&lt;', $file1) or die \"Cant open $!\";\n    while (my $line = &lt;$fh2&gt;) {\n       chomp $line;\n       push @secondfile, split / /, $line;;\n    }\n    # cmp the data in files\n    my %cmp;\n    %cmp = map {$_ =&gt; 1} @firstfile;\n\n    foreach my $element (@secondfile) {\n        if ($cmp{$element}) {\n          print \"$element exists in both files\\n\";\n        } else {\n          print \"$element  only in second file\\n\";\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496323511, "creation_date": 1496130158, "last_edit_date": 1496135410, "question_id": 44256366, "link": "https://stackoverflow.com/questions/44256366/compare-two-file-with-same-content-in-the-best-way", "title": "Compare two file with same content in the best way", "body": "<p>I want to compare two file which contain the same thing. Below is my code to compare two file but no working properly and i dont know what the error is</p>\n\n<pre><code>    open ( FILE , '&lt;', \"data.txt\" ) or die $!;\n    open ( FILE1 , '&lt;', \"data1.txt\" ) or die $!;\n    my @data = &lt;FILE&gt;;\n    my @data1 = &lt;FILE1&gt;;\n    my $match = 0;\n    my $no_match = 0;\n    for ( $i =0 ; $i&lt;=864 ; $i++ ) {\n        my $data_line = $data[$i];\n        my $data1_line = $data1[$i];\n        if ( $data1_line eq $data_line ){\n            $match += 1;\n            print \" total match = $match \\n\";\n        } \n        else {\n            $no_match +=1 ;\n            print \" line $i no match\\n \";\n        }\n    }\n</code></pre>\n\n<p>For example my file data.txt contain something like this</p>\n\n<pre><code>0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32\n....        \n</code></pre>\n\n<p>and my data1.txt contain thins like this</p>\n\n<pre><code>0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n17 18 19 20 22 22 23 24 25 26 27 28 29 30 31 32\n....        \n</code></pre>\n\n<p>I also try to split by space and compare but it make my code longer. What way is the best way to compare two file? My expected output is it will show me which line not match and how much is the total matching line.For above example i would like to show the results as below  </p>\n\n<pre><code>  \"line 2 not match and total match line =1\". \n</code></pre>\n\n<p>However the output i get from above script is all line not matching. Thanks</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496133185, "post_id": 44256430, "comment_id": 75522619, "body": "But still i doesnt look any changes in the above code @dirs1 is not printing all files .@simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496134352, "post_id": 44256430, "comment_id": 75523348, "body": "@salarinfi I don&#39;t understand. Please be more clear. Do you get a new error? If the <code>print @dirs1</code> does not output anything, are you sure your path is correct? The <code>grep</code> looks fine to me. It should find files if there are some."}, {"owner": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496134554, "post_id": 44256430, "comment_id": 75523483, "body": "please check the grep line there it is not taking the /\\.txt$/ files.How can i fix it. @simbabque."}, {"owner": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496135512, "post_id": 44256430, "comment_id": 75524110, "body": "$s1 prints the following path /project/files @Simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496135515, "post_id": 44256430, "comment_id": 75524117, "body": "Add a <code>print;</code> into the block of the <code>grep</code> to see what it finds. <code>grep { print; -f ... }</code> or just output the return value of the <code>glob</code> call directly. <b>Be careful not to run the loop with the <code>unlink</code> in it, it might delete all your files!</b> (You don&#39;t need to highlight me on my own posts, I get notified anyway)"}, {"owner": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496135674, "post_id": 44256430, "comment_id": 75524224, "body": "by giving print it prints the folder name /project/files/regon @simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496135747, "post_id": 44256430, "comment_id": 75524274, "body": "@salarinfi if that&#39;s all it prints, then there are no files in that folder. Make sure you have the right folder, and that there are files in it."}, {"owner": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496135930, "post_id": 44256430, "comment_id": 75524411, "body": "actually my file location will be as follows /projects/files/regon/sv/sv.txt .so now i should do the above code for sv.txt .like wise i have multiple .txt files under same regon folder location so the above code should perform for all. @simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496136116, "post_id": 44256430, "comment_id": 75524568, "body": "@salarinfi <code>glob</code> is not recursive like that. You are better of using File::Find::Rule or similar. Or you can change the pattern for glob to <code>$s1 . &#39;&#47;**&#47;*</code>, which will find all files underneath any folder in the <code>$s1</code> folder, but not files directly in the <code>s1</code> folder."}, {"owner": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 0, "creation_date": 1496136494, "post_id": 44256430, "comment_id": 75524868, "body": "Can you able to show me some examples with file::find ::rule @simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "edited": false, "score": 2, "creation_date": 1496138899, "post_id": 44256430, "comment_id": 75526591, "body": "@salarinfi we&#39;re moving out of scope for this question. Please read the documentation and search first. There are a lot of questions here that explain how File::Find::Rule works. I&#39;ve never used it myself, so I would have to read the documentation myself, too."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1496130333, "creation_date": 1496130333, "answer_id": 44256430, "question_id": 44255753, "link": "https://stackoverflow.com/questions/44255753/how-to-take-maximum-name-from-the-files-with-any-txt-extension-and-remove-the-o/44256430#44256430", "title": "How to take maximum name from the files with any .txt extension and remove the other contents expect maximum one using perl?", "body": "<p>The module <a href=\"https://metacpan.org/pod/File::Path\" rel=\"nofollow noreferrer\">File::Path</a> does not have a function <code>remove_file</code>. Looking at the <a href=\"https://metacpan.org/changes/distribution/File-Path\" rel=\"nofollow noreferrer\">Changes document</a>, it never had. But Perl has a built-in to delete files: <a href=\"http://perldoc.perl.org/functions/unlink.html\" rel=\"nofollow noreferrer\"><code>unlink</code></a>.</p>\n\n<p>Get rid of the <code>use File::Path</code>, you don't need it. Then use <code>unlink</code> in your loop.</p>\n\n<pre><code>foreach my $file (@dirs1)\n{\n    ( $file =~ m/sv(\\d+)$/ &amp;&amp; $_ ne $link1 ) ? unlink($file) : find2($file);\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8084808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867b1fd8d2f28bb900ada2c94143c25d?s=128&d=identicon&r=PG&f=1", "display_name": "salar infi", "link": "https://stackoverflow.com/users/8084808/salar-infi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496138216, "creation_date": 1496128192, "last_edit_date": 1496138216, "question_id": 44255753, "link": "https://stackoverflow.com/questions/44255753/how-to-take-maximum-name-from-the-files-with-any-txt-extension-and-remove-the-o", "title": "How to take maximum name from the files with any .txt extension and remove the other contents expect maximum one using perl?", "body": "<p>In the below code I tried to filter the maximum name from any files in my path and remove the minimum digit contents from the file using Perl.</p>\n\n<p>Content inside all .txt files in my direcctory:</p>\n\n<pre><code>sv1     12.70%  12.70%\nsv2     49.21%  49.21%\nsv3     88.89%  88.89%\nsv4     92.06%  92.06%\n</code></pre>\n\n<p>Expectation:</p>\n\n<pre><code>sv4     92.06%  92.06%\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>use File::Path qw(remove_file);\nmy $path_output = $output_dir;\nfind2($path_output);\nsub find2{\n    my ($s1) = @_;\n\n    my (@dirs1) = grep { -f &amp;&amp; /\\.txt$/ } glob $s1.'/*';\n    print @dirs1;\n\n    my ($link1) = sort{ \n                    my ($m1)=$a1=~m/\\/(sv\\d+)$/;  my ($n1)=$b1=~/\\/(sv\\d+)$/; $n1 cmp $m1 \n                }  grep{/\\/sv\\d+$/} @dirs1;\n\n    foreach (@dirs1)\n    {\n        ($_=~m/sv(\\d+)$/ &amp;&amp; $_ ne $link1)? remove_file($_) : find2($_);\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>\"remove_file\" is not exported by the File::Path module\n\nprint @dirs1 is not printing the matching files.\n</code></pre>\n\n<p>Edited code:</p>\n\n<pre><code>my $path_output1 = $output_dir;\n#print $path_output1;\nfind2($path_output1);\nsub find2{\n    my ($s1) = @_;\nprint $s1;\n\n    my (@dirs1) = grep { -f &amp;&amp; /\\.txt$/} glob $s1.'/**/*/*';\n#print @dirs1 ;\n\n    my ($link1) = sort{ \n                    my ($m1)=my $a1=~m/\\/(sv\\d+)$/;  my ($n1)=my $b1=~/\\/(sv\\d+)$/; $n1 cmp $m1 \n                }  grep{/\\/sv\\d+$/} @dirs1;\n#print \"****$link1***\";\n    foreach my $file (@dirs1)\n    {\n        ($file=~m/sv(\\d+)$/ &amp;&amp; $_ ne $link1)? unlink($file) : find2($file);\n#print $file;\n    }\n}\n</code></pre>\n\n<p>still i had struck with my query.</p>\n"}, {"tags": ["regex", "perl", "awk", "counter", "fasta"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1496126024, "post_id": 44254919, "comment_id": 75518201, "body": "What have you tried.? You are telling about the genome sequence if you parse the whole sequence in a single variable, it will go to out of memory. You should parse the file line by line."}, {"owner": {"reputation": 1, "user_id": 6379263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be79ded7e45191d762a924ffe9b9be67?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/6379263/aditya-k"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1496126183, "post_id": 44254919, "comment_id": 75518301, "body": "Thanks for your response, I dont want to parse the sequence, i just want the number of matching pattern present in each chromosome."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1496126348, "post_id": 44254919, "comment_id": 75518377, "body": "Please show you actual input or link the NCBI URL.  I didn&#39;t understand <code>chr1 -- 2 -- 6 -- 25</code> this output."}, {"owner": {"reputation": 1, "user_id": 6379263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be79ded7e45191d762a924ffe9b9be67?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/6379263/aditya-k"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1496127341, "post_id": 44254919, "comment_id": 75518999, "body": "I am searching the pattern in each chromosome, in chromosome 1 i got 2 hits of my pattern amd position of those hits are 6th position and 25th position, like this in chomosome 2 , i got 1 hit of my pattern in 8th position, like wise further.."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1496158949, "post_id": 44254919, "comment_id": 75541276, "body": "I understand &quot;Count&quot; but what the heck are &quot;P1&quot; and &quot;P2&quot; in your output?"}], "answers": [{"tags": [], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "is_accepted": false, "score": 1, "last_activity_date": 1496130576, "creation_date": 1496130576, "answer_id": 44256507, "question_id": 44254919, "link": "https://stackoverflow.com/questions/44254919/pattern-counter-in-fasta-file/44256507#44256507", "title": "Pattern counter in fasta file", "body": "<p>I am assuming your file to be seperated with tab as delimiter.</p>\n\n<pre><code>   open(my $in,\"&lt;:utf8\",\"in.txt\") or die \"Cannot open FILE in.txt : $!\\n\";\n\n    while(&lt;$in&gt;) {\n        chomp($_);\n        my $cur = $_;\n        #$print \"iam $cur\\n\";\n        my @tt = split(/\\t/,$cur);  #assuming you file tobe tab seperated\n        my $s1 = $tt[1];\n        my $s2 = \"CAGAT\";\n        my @val;\n        print \"$cur\\t\";\n        while ($s1 =~ /($s2)/g) {\n            push(@val,  $-[0]); #$-[0] is the offset of the start of the last successful match.\n        }\n        my $count = @val;\n        @val = join(\",\",@val);\n        print \" No of Matches:$count Starting positions:@val\\n\";\n\n    }\n</code></pre>\n\n<p><strong>in.txt</strong></p>\n\n<pre><code>chr1    ATTAG**CAGAT**GTGACGTCGATGT**CAGAT**TG\n\nchr2    TGAGCTG**CAGAT**CGTAGATGATTCTGCAGGAACCT\n\nchr3    TCTTT**CAGAT**GCCTCTG**CAGAT**TC\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6379263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be79ded7e45191d762a924ffe9b9be67?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya K", "link": "https://stackoverflow.com/users/6379263/aditya-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1496130576, "creation_date": 1496125425, "last_edit_date": 1496125667, "question_id": 44254919, "link": "https://stackoverflow.com/questions/44254919/pattern-counter-in-fasta-file", "title": "Pattern counter in fasta file", "body": "<p>I am trying to get the count of matching patterns in the fasta file. I am starting from a fasta file containing 57k sequences. I want to pull out the count of my matching pattern sequence and show the starting position of the pattern </p>\n\n<p>Input file:</p>\n\n<pre><code>chr1 ATTAG**CAGAT**GTGACGTCGATGT**CAGAT**TG\n\nchr2 TGAGCTG**CAGAT**CGTAGATGATTCTGCAGGAACCT\n\nchr3 TCTTT**CAGAT**GCCTCTG**CAGAT**TC\n</code></pre>\n\n<p>Searching pattern \"CAGAT\"</p>\n\n<p>Output Required:</p>\n\n<p>chr   Count  P1   P2</p>\n\n<p>chr1 -- 2 -- 6 -- 25</p>\n\n<p>chr2 -- 1 -- 8</p>\n\n<p>chr3 -- 2 -- 6 -- 19</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496120203, "post_id": 44253030, "comment_id": 75515650, "body": "<code>@{$hoa-&gt;{$member}}-&gt;[$i]</code> makes no sense. Should be <code>$hoa-&gt;{$member}-&gt;[$i]</code> or just <code>$hoa-&gt;{$member}[$i]</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496120249, "post_id": 44253030, "comment_id": 75515669, "body": "<code>for(my $i=0; $i&lt;scalar(@{$hoa-&gt;{$member}}); $i++) { my $elem=@{$hoa-&gt;{$member}}-&gt;[$i]; ... }</code> is an amazingly complex way of writing <code>for my $elem (@{ $hoa-&gt;{$member} }) { ... }</code>."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1496120266, "post_id": 44253030, "comment_id": 75515673, "body": "Sachin, have there been any answers that have satisfied your question? Could you please select the best answer if so."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496121171, "post_id": 44253030, "comment_id": 75515988, "body": "<code>@{$aoa}</code> is a noisy way of writing <code>@$aoa</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496121222, "post_id": 44253030, "comment_id": 75516011, "body": "<code>hoa</code>, <code>aoa</code> and especially <code>CreateArrofArr</code> are awful names. <code>member</code> and <code>elem</code> are quite bad as well."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1496120852, "last_edit_date": 1496120852, "creation_date": 1496116633, "answer_id": 44253167, "question_id": 44253030, "link": "https://stackoverflow.com/questions/44253030/perl-convert-hash-of-arrays-to-array-of-arrays-using-recursive-function/44253167#44253167", "title": "Perl - Convert hash of arrays to array of arrays using recursive function", "body": "<p>Minimal changes:</p>\n\n<pre><code>sub CreateArrofArr {\n    my $arg = { @_ };\n\n    my $member = $arg-&gt;{member};\n    my $hoa    = $arg-&gt;{hoa};\n\n    my $aoa = [];\n    if (exists($hoa-&gt;{$member})) {\n        for (my $i=0; $i&lt;scalar(@{$hoa-&gt;{$member}}); $i++) {\n            my $elem = $hoa-&gt;{$member}-&gt;[$i];\n            push @{$aoa},\n                map { [ $member, @$_ ] }\n                    @{ CreateArrofArr( member =&gt; $elem, hoa =&gt; $hoa ) };\n        }\n    } else {\n        my $temp_arr = [];\n        push @{$temp_arr}, $member;\n        push @$aoa, $temp_arr;\n    }\n\n    return $aoa;\n}\n\nmy $aoa = CreateArrofArr( member =&gt; \"Earth\", hoa =&gt; $hoa );\n</code></pre>\n\n<p>Cleaned up version of the above:</p>\n\n<pre><code>sub flatten {\n    my ($tree, $current) = @_;\n    my $node = $tree-&gt;{$current};\n    return [ $current ] if !$node;\n    return\n       map { [ $current, @$_ ] }\n          map { flatten($tree, $_) }\n            @$node;\n}\n\nmy @flattened = flatten($tree, 'Earth');\n</code></pre>\n\n<p>An alternative approach is to pass down the path to the root of the tree than to keep prepending to your paths. This simplifies things a little.</p>\n\n<pre><code>sub flatten {\n    my $tree = shift;\n    my $node = $tree-&gt;{ $_[-1] };\n    return [ @_ ] if !$node;\n    return map { flatten($tree, @_, $_) } @$node;\n}\n\nmy @flattened = flatten($tree, 'Earth');\n</code></pre>\n"}], "owner": {"reputation": 344, "user_id": 985376, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cda1af4a5279147419b9b8fd4111ec5a?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin S", "link": "https://stackoverflow.com/users/985376/sachin-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 2, "accepted_answer_id": 44253167, "answer_count": 1, "score": 0, "last_activity_date": 1496120852, "creation_date": 1496115517, "last_edit_date": 1496118159, "question_id": 44253030, "link": "https://stackoverflow.com/questions/44253030/perl-convert-hash-of-arrays-to-array-of-arrays-using-recursive-function", "title": "Perl - Convert hash of arrays to array of arrays using recursive function", "body": "<p>I have created following hash of arrays (called $hoa) in my script:</p>\n\n<pre><code>$hoa = {\n      'Continents' =&gt; [\n                        'Continent1',\n                        'Continent2',\n                        'Continent3'\n                      ],\n      'Earth' =&gt; [\n                   'Continents'\n                 ],\n      'Continent1' =&gt; [\n                        'Country1'\n                      ],\n      'Continent3' =&gt; [\n                        'Country3'\n                      ],\n      'Country1' =&gt; [\n                      'City1',\n                      'City2'\n                    ]\n    };\n</code></pre>\n\n<p>I want to convert this into an array of arrays for being consumed in the later part of the script. The array of array should look as below:</p>\n\n<pre><code>$aoa=[\n    ['Earth','Continents','Continent1','Country1','City1'],\n    ['Earth','Continents','Continent1','Country1','City2'],\n    ['Earth','Continents','Continent2'],\n    ['Earth','Continents','Continent3','Country3']\n];\n</code></pre>\n\n<p>I have created the following code to achieve the job but it is not working as expected.</p>\n\n<pre><code>sub CreateArrofArr\n{\n    my $arg={@_};\n    my $member=$arg-&gt;{member};\n    my $hoa=$arg-&gt;{hoa};\n\n    my $aoa=[];\n\n    if(exists($hoa-&gt;{$member}))\n    {\n        for(my $i=0; $i&lt;scalar(@{$hoa-&gt;{$member}}); $i++)\n        {\n            my $elem=@{$hoa-&gt;{$member}}-&gt;[$i];\n\n            my $temp_arr=[];\n            if(!exists($hoa-&gt;{$elem}))\n            {\n                push(@{$temp_arr},$member);\n                push(@{$temp_arr},$elem);\n                push(@{$aoa},$temp_arr);\n\n            }\n           else\n           {\n                push(@{$aoa},@{CreateArrofArr(member=&gt;$elem,hoa=&gt;$hoa)})\n           }\n        }\n    }\n    return ($aoa);\n}\n\n\nmy $aoa=CreateArrofArr(member=&gt;\"Earth\",hoa=&gt;$hoa);\n\nprint Dumper($aoa);\n</code></pre>\n\n<p>$aoa is returned as follows (which is not what I am expecting):</p>\n\n<pre><code>$VAR1 = [\n      [\n        'Country1',\n        'City1'\n      ],\n      [\n        'Country1',\n        'City2'\n      ],\n      [\n        'Continents',\n        'Continent2'\n      ],\n      [\n        'Continent3',\n        'Country3'\n      ]\n    ];\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496123558, "post_id": 44253244, "comment_id": 75516964, "body": "Each of the patterns does appear on a line. (First line of the table and the line before the last.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496123961, "post_id": 44253244, "comment_id": 75517161, "body": "If you meant that <i>both</i> patterns need to be on the same line, this isn&#39;t the case: the range operator keeps the state -- it is true once it finds the first pattern, until (after) the second one."}, {"owner": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496133603, "post_id": 44253244, "comment_id": 75522861, "body": "Thanks Robert, for the trick of not displaying the last pattern line.  (I definitely missed the matching forward slash; thus the error.)"}], "tags": [], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "is_accepted": false, "score": 1, "last_activity_date": 1496117184, "creation_date": 1496117184, "answer_id": 44253244, "question_id": 44252740, "link": "https://stackoverflow.com/questions/44252740/search-and-delete-for-a-range-of-lines-in-perl/44253244#44253244", "title": "Search and delete for a range of lines in perl", "body": "<p>You try to match everything between <code>$begin_pattern</code> and <code>$end_pattern</code>, but you read the file line by line, so it never matches cause these patterns don't appear on the same line.</p>\n\n<p>Check for the each pattern separately, remember whether you're in the block of lines you want, and then print.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $begin_pattern = 'Fac.*Begin-to-search';\nmy $end_pattern = 'Mix.*End-to-search';\n\nmy $in_block = 0;\nforeach my $line (&lt;DATA&gt;) {\n    $line =~ s/^\\s+//; #remove leading spaces\n    $line =~ s/\\s+$//; #remove trailing spaces\n\n    $in_block = 1 if ($line =~ m/$begin_pattern/);\n    $in_block = 0 if ($line =~ m/$end_pattern/);\n    print \"$line\\n\" if ($in_block);\n}\n\n__DATA__\n something for storing 0\nNo. of blocks : 0\n         Filt  Nothing                  Nothing\n     Fac           Y    0    Mix    0      Mix   Mix  0                  Begin-to-search\n96   Fac           Y    0    60     0      900   60   0                  0                   0\n806  Fac           Y    0    0      0      0     0    0                  0                   0  \n     Fac A|B|C|D   Y    11   0      0      0     0    0\n340  Fac A|B|C|D   Y    11   0      0      0     0    0                  0                   0\n     Mix M         Y    11   Mix    Mix    0     Mix  0                  End-to-search\n573  Wrn A|B|C|D   Y    11   0      0      0     0    0                  0                   0\nMix M         Y    11   60     Mix    0     60   0                  ware\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496133209, "post_id": 44253247, "comment_id": 75522636, "body": "Ah, I missed the matching ending forward slash. Thanks much. 2 questions for the additional code above: Question 1) Why it continues to print if I don&#39;t have the last 3 lines?     if ($line =~ /$end_pattern/) {         last;     }  Question 2) Wonder where the warning &quot;Use of uninitialized value $_ in pattern match ...&quot; comes from with strict turned on."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496214010, "post_id": 44253247, "comment_id": 75562558, "body": "@user1972031 The <code>if ($line =~ &#47;$beg&#47; ... &#47;$end&#47;)</code> is taken as <code>if ($line =~ &#47;$beg&#47; .. $_ =~ &#47;$end&#47;)</code>.  However, once a variable is used in <code>while (my $line = &lt;$fh&gt;)</code> (or in <code>foreach</code>) then <code>$_</code> <i>is not set</i>; if we introduce a lexical for the loop variable we don&#39;t get <code>$_</code>.  So it is &quot;uninitialized&quot; in the second condition, which explains (1) since that second condition never matches (is never true) so the range operator never becomes false, and it keeps printing.  This is also directly (2)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496214194, "post_id": 44253247, "comment_id": 75562682, "body": "@user1972031  The key is that the range operator keeps the state: once the first condition evaluates true, the operator &quot;remembers&quot; that and is true -- until the second condition becomes true, at which point the whole operator returns false.  (Of course, there is also a bit of syntax and <code>$_</code> behavior that are involved.)"}, {"owner": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496218048, "post_id": 44253247, "comment_id": 75565144, "body": "<code>if ($line =~ &#47;$beg&#47; .. $_ =~ &#47;$end&#47;)</code> Isn&#39;t $line and $_ the same thing? How can the code tell which one is which if it interprets it as: <code>if ($line =~ &#47;$beg&#47; .. $_ =~ &#47;$end&#47;)</code> ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496220286, "post_id": 44253247, "comment_id": 75566583, "body": "@user1972031  That&#39;s the problem -- there is no <code>$_</code>.  When we say <code>while (&lt;$fh&gt;)</code> then <code>$_</code> is the line from file, but when we say <code>while (my $var = &lt;$fh&gt;)</code> <i>then <code>$_</code> is not defined</i>.  That&#39;s just how it works, since we used our own variable the deal with having <code>$_</code> is off and we don&#39;t get it.  Now, in the syntax <code>if ($line =~ &#47;beg&#47; .. &#47;end&#47;)</code> the second regex doesn&#39;t have a variable to match (it&#39;s just <code>&#47;end&#47;</code>) so it uses the default, <code>$_ =~ &#47;end&#47;</code>.  So we end up with <code>if ($line =~ &#47;beg&#47; .. $_ =~ &#47;end&#47;)</code>, where, alas, <code>$_</code> isn&#39;t defined (if we used a variable for the loop)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496220426, "post_id": 44253247, "comment_id": 75566695, "body": "@user1972031  So we have to either do <code>while (my $line = &lt;$fh&gt;) { if ($line =~ &#47;beg&#47; .. $line =~ &#47;end&#47;) { ...} }</code>, OR <code>while (&lt;$fh&gt;) { if (&#47;beg&#47; .. &#47;end&#47;) { ...} }</code>.  In the second case both regex are matched against <code>$_</code> (by default), which is defined (since we don&#39;t use our own variable in <code>while</code>)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496221033, "post_id": 44253247, "comment_id": 75567091, "body": "@user1972031  Try it.  Say, <code>@ary = qw(one beg some other end two); for (@ary) { say if &#47;beg&#47; .. &#47;end&#47;; }</code>.  This prints things from <code>beg</code> to <code>end</code>.  Now try with <code>for my $var (@ary) { say if &#47;beg&#47; .. &#47;end&#47; }</code> -- it warns you about <code>Use of unitialized value $_ in pattern match ...</code> since it&#39;s trying to match regex against <code>$_</code>, but this is not defined since I used <code>$var</code> for the loop variable.  Now try inside the loop <code>say if $var =~ &#47;beg&#47; .. $var =~ &#47;end&#47;</code> -- it works fine."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496221308, "post_id": 44253247, "comment_id": 75567289, "body": "@user1972031  Finally, now try this <code>for my $var (@ary) { $_ = &#39;other&#39;;  say if $var =~ &#47;beg&#47; .. &#47;other&#47; }</code>.  Now when <code>&#47;other&#47;</code> regex does <code>$_ =~ &#47;other&#47;</code> the <code>$_</code> <i>is defined</i>, since we set it. And it matches on <code>other</code>, the range op is false, and it stops printing after it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496221379, "post_id": 44253247, "comment_id": 75567336, "body": "@user1972031  You need <code>use feature qw(say);</code> for <code>say</code> (like <code>print</code> but adds the newline), or in a one-liner use <code>-E</code> instead of <code>-e</code> (like <code>perl -E&#39;say &quot;hello&quot;&#39;</code>)."}, {"owner": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "edited": false, "score": 0, "creation_date": 1496259947, "post_id": 44253247, "comment_id": 75593400, "body": "Thanks for the detailed explanation."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1498849756, "last_edit_date": 1498849756, "creation_date": 1496117204, "answer_id": 44253247, "question_id": 44252740, "link": "https://stackoverflow.com/questions/44252740/search-and-delete-for-a-range-of-lines-in-perl/44253247#44253247", "title": "Search and delete for a range of lines in perl", "body": "<p>The <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a> is used as</p>\n\n<pre><code>if ($line =~ /$begin_pattern/ .. $line =~ /$end_pattern/)\n</code></pre>\n\n<p>so you are only missing <code>$line =~</code> for the second condition.</p>\n\n<p>It's better to use the <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">qr operator</a> for regex, and you can use the <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>$_</code> variable</a> effectively here</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $begin_pattern = qr/Fac.*Begin-to-search/;\nmy $end_pattern   = qr/Mix.*End-to-search/;\n\nmy $file = 'Input.txt';    \nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nwhile (&lt;$fh&gt;) \n{\n    s/^\\s+//;   \n    s/\\s+$//;\n\n    if (/$begin_pattern/ .. /$end_pattern/) {\n        print;\n    }\n}\nclose $fh;\n</code></pre>\n\n<p>This prints only the lines between markers matched by regexes</p>\n\n<pre>\n     Fac           Y    0    Mix    0      Mix   Mix  0                  Begin-to-search\n96   Fac           Y    0    60     0      900   60   0                  0                   0\n806  Fac           Y    0    0      0      0     0    0                  0                   0  \n     Fac A|B|C|D   Y    11   0      0      0     0    0\n340  Fac A|B|C|D   Y    11   0      0      0     0    0                  0                   0\n     Mix M         Y    11   Mix    Mix    0     Mix  0                  End-to-search\n</pre>\n\n<p>A few other notes</p>\n\n<ul>\n<li><p>Please <em>always</em> start with <code>use warnings;</code> and <code>use strict;</code></p></li>\n<li><p>The three-argument <code>open</code> is recommended, and better</p></li>\n<li><p>When you print error messages use <a href=\"http://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">$! variable</a> to see the actual message</p></li>\n<li><p>Process files line-by-line unless there is a specific reason to read all lines first</p></li>\n</ul>\n\n<hr>\n\n<p>This note mostly aggregates comments, explaining the behavior of the code in the question.</p>\n\n<p>The line (corrected from the original, in the edit of the question)</p>\n\n<pre><code>if ($line =~ /$begin_pattern/ ... /$end_pattern/)\n</code></pre>\n\n<p>is really </p>\n\n<pre><code>if ($line =~ /$begin_pattern/ ... $_ =~ /$end_pattern/)\n</code></pre>\n\n<p>since <code>/.../</code> always matches against <code>$_</code>, its default. </p>\n\n<p>However, in the loop <code>foreach my $line (@lines)</code> we introduce a lexical variable to iterate (<code>$line</code> aliases elements) and then we <em>do not get the <code>$_</code>; it is not defined for the loop</em>. So the second pattern never matches, as observed.</p>\n\n<p>Note that <code>$_</code> from a higher scope -- say, some outer loop -- may still be seen inside the loop.</p>\n\n<p>The solution is to either enable the use of <code>$_</code> as topicalizer by <code>foreach (@lines)</code> (or as in the answer, <code>while (&lt;$fh&gt;)</code>, reading line by line) and then use</p>\n\n<pre><code>if (/$begin_pattern/ .. /$end_pattern/)\n</code></pre>\n\n<p>where matches are against <code>$_</code>,  or to set the variable and use it in both conditions</p>\n\n<pre><code>foreach my $line (@lines) {\n    # ...\n    if ($line =~ /$begin_pattern/ ... $line =~ /$end_pattern/)\n</code></pre>\n\n<p>Please note that <code>..</code> and <code>...</code> actually differ a little. See linked documentation.</p>\n\n<p>One can in fact also set <code>$_</code> (to <code>$line</code>) at the beginning of the loop and then the posted code would work as it stands. This would clearly be awkward, to say the least.</p>\n"}], "owner": {"reputation": 495, "user_id": 1972031, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f151259b60597a181f2cae3c56f13be3?s=128&d=identicon&r=PG", "display_name": "user1972031", "link": "https://stackoverflow.com/users/1972031/user1972031"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "accepted_answer_id": 44253247, "answer_count": 2, "score": 1, "last_activity_date": 1498849756, "creation_date": 1496113198, "last_edit_date": 1496133421, "question_id": 44252740, "link": "https://stackoverflow.com/questions/44252740/search-and-delete-for-a-range-of-lines-in-perl", "title": "Search and delete for a range of lines in perl", "body": "<p>I could not extract out a range of lines which needs to be deleted in the following example. The regular expression for $end_pattern seems not matching.</p>\n\n<p>Please let me know what I am missing. Thanks much</p>\n\n<hr>\n\n<pre><code>#!/usr/bin/perl\n$begin_pattern = 'Fac.*Begin-to-search';\n$end_pattern   = 'Mix.*End-to-search';\n\nopen(IN, \"Input.txt\") || die \"Can't open file!\\n\";\nmy @lines = &lt;IN&gt;;\nforeach $line (@lines) {\n    $line =~ s/^\\s+//; #remove leading spaces\n    $line =~ s/\\s+$//; #remove trailing spaces\n\n    if ($line =~ /$begin_pattern ... $end_pattern/) {\n       print \"$line\\n\";\n    }\n\n    # Next, delete this range of lines\n}\n\n\"Input.txt\" file listed below:\n-----------\n something for storing 0\nNo. of blocks : 0\n         Filt  Nothing                  Nothing\n     Fac           Y    0    Mix    0      Mix   Mix  0                  Begin-to-search\n96   Fac           Y    0    60     0      900   60   0                  0                   0\n806  Fac           Y    0    0      0      0     0    0                  0                   0  \n     Fac A|B|C|D   Y    11   0      0      0     0    0\n340  Fac A|B|C|D   Y    11   0      0      0     0    0                  0                   0\n     Mix M         Y    11   Mix    Mix    0     Mix  0                  End-to-search\n573  Wrn A|B|C|D   Y    11   0      0      0     0    0                  0                   0\nMix M         Y    11   60     Mix    0     60   0                  ware\n</code></pre>\n\n<hr>\n\n<p>Revised code with warnings: (see question below)</p>\n\n<hr>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $begin_pattern = 'Fac.*Begin-to-search';\nmy $end_pattern   = 'Mix.*End-to-search';\nopen(IN, \"Input.txt\") || die \"Can't open file!\\n\";\n\nmy @lines = &lt;IN&gt;;\nforeach my $line (@lines) {\n    $line =~ s/^\\s+//;\n    $line =~ s/\\s+$//;\n\n    if(defined $line) { print \"\\$line is initialized\\n\"; }\n    else { print \"\\$line is uninitialized\\n\"; }\n\n    if ($line =~ /$begin_pattern/ ... /$end_pattern/) {\n       print \"$line\";\n    }\n\n    if ($line =~ /$end_pattern/) {\n        last;\n    }\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1496102455, "post_id": 44251471, "comment_id": 75511725, "body": "Thanks a lot @Tanktalus"}, {"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1496102776, "post_id": 44251471, "comment_id": 75511782, "body": "I have one more continued question. How do I actually compare the two hashes you have generated? After storing these values in hashes, I will compile change the testcases and run the program one more time. This time it will generate the same number of outputs(Taps) but with some same and different output values. I need to store the unique outputs generated at the second time."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 0, "last_activity_date": 1496101160, "creation_date": 1496101160, "answer_id": 44251471, "question_id": 44251282, "link": "https://stackoverflow.com/questions/44251282/how-can-i-dynamically-create-arrays-whose-names-are-generated-from-source-data/44251471#44251471", "title": "How can I dynamically create arrays whose names are generated from source data?", "body": "<p>No, you need hashes.</p>\n\n<p><code>\nmy %tap_for;\nfor my $l (@lines)\n{\n  chomp $l; # if you haven't already\n  my ($tap, $val) = split /=/, $l, 2;\n  push @{$tap_for{$tap}}, $val;\n}\n</code></p>\n\n<p>You can do this all in a single pass.  Much simpler than the method you were looking for, and you don't have to create arbitrary variables whose names you'll need to dynamically look for.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1496102718, "post_id": 44251490, "comment_id": 75511770, "body": "thanks a lot @Matt Jacob. I have one more continued question. How do I actually compare the two hashes you have generated? After storing these values in hashes, I will  change the testcases and run the program one more time. This time it will generate the same number of outputs(Taps) but with some same and different output values. I need to store the unique outputs generated at the second time."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1496102984, "post_id": 44251490, "comment_id": 75511828, "body": "@nandeeshv That sounds like something that deserves a separate question, but there are many good modules available that can help, e.g., <a href=\"https://metacpan.org/pod/Data::Compare\" rel=\"nofollow noreferrer\">Data::Compare</a>."}, {"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1496103247, "post_id": 44251490, "comment_id": 75511889, "body": "Thanks for the link @Matt Jacob"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": -1, "last_activity_date": 1496101341, "creation_date": 1496101341, "answer_id": 44251490, "question_id": 44251282, "link": "https://stackoverflow.com/questions/44251282/how-can-i-dynamically-create-arrays-whose-names-are-generated-from-source-data/44251490#44251490", "title": "How can I dynamically create arrays whose names are generated from source data?", "body": "<p>You probably want a hash where the keys are <code>TAPn</code> and the values are array references.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %data;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my ($key, $val) = split/\\s*=\\s*/;\n    push(@{$data{$key}}, $val);\n}\n\nprint Dumper(\\%data);\n\n__DATA__\nTAP1= 0\nTAP1= 0\nTAP1= 0\nTAP2= 0\nTAP1= 0\nTAP3= 0\nTAP1= 0\nTAP1= 0\nTAP2= 0\nTAP1= 144\nTAP1= 1300\nTAP3= 2795\nTAP1= 2963\nTAP1= 3031\nTAP2= 3291\nTAP3= 16395\nTAP1= 16699\nTAP1= 16711\nTAP2= 71\nTAP1= 36\nTAP2= 2994\nTAP1= 6634\nTAP2= 6769\nTAP1= 6837\nTAP1= 7233\nTAP2= 10985\nTAP1= 1103\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'TAP2' =&gt; [\n                      '0',\n                      '0',\n                      '3291',\n                      '71',\n                      '2994',\n                      '6769',\n                      '10985'\n                    ],\n          'TAP3' =&gt; [\n                      '0',\n                      '2795',\n                      '16395'\n                    ],\n          'TAP1' =&gt; [\n                      '0',\n                      '0',\n                      '0',\n                      '0',\n                      '0',\n                      '0',\n                      '144',\n                      '1300',\n                      '2963',\n                      '3031',\n                      '16699',\n                      '16711',\n                      '36',\n                      '6634',\n                      '6837',\n                      '7233',\n                      '1103'\n                    ]\n\n    };\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 44251490, "answer_count": 2, "score": -1, "last_activity_date": 1496101573, "creation_date": 1496099506, "last_edit_date": 1496101573, "question_id": 44251282, "link": "https://stackoverflow.com/questions/44251282/how-can-i-dynamically-create-arrays-whose-names-are-generated-from-source-data", "title": "How can I dynamically create arrays whose names are generated from source data?", "body": "<p>I am processing a C++ file. Initially I store the terminal results into an array using backticks. My terminal result is as below and it varies depending on the C file. In this case I have only 3 <code>TAP</code> prefixes: <code>TAP1</code>, <code>TAP2</code>, and <code>TAP3</code>. For some C++ files the <code>TAP</code> count might be more than 10 (it's non-deterministic). </p>\n\n<pre><code>TAP1= 0\nTAP1= 0\nTAP1= 0\nTAP2= 0\nTAP1= 0\nTAP3= 0\nTAP1= 0\nTAP1= 0\nTAP2= 0\nTAP1= 144\nTAP1= 1300\nTAP3= 2795\nTAP1= 2963\nTAP1= 3031\nTAP2= 3291\nTAP3= 16395\nTAP1= 16699\nTAP1= 16711\nTAP2= 71\nTAP1= 36\nTAP2= 2994\nTAP1= 6634\nTAP2= 6769\nTAP1= 6837\nTAP1= 7233\nTAP2= 10985\nTAP1= 1103\n</code></pre>\n\n<p>For the above case my array is <code>@tap = (TAP1, TAP2, TAP3)</code>. This is automatically stored as follows:</p>\n\n<pre><code>my @store_taps;\n\nforeach my $a (@lines) {\n    if ($a =~ m/(.*)=(.*)/g) {\n        push(@store_taps, $1);\n    }\n}\n</code></pre>\n\n<p>My question is how to declare an array for each <code>TAP</code> and store the respective values automatically. <code>@TAP1 = (0, 0, 0, 144, 1300, ...)</code>, <code>@TAP2 = (0, 0, 3291, 71, ...)</code> and <code>@TAP3 = (0, 0, 2795, ...)</code>. I don't know how to automatically generate these arrays.</p>\n"}, {"tags": ["perl", "locate"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1496074970, "post_id": 44246413, "comment_id": 75502165, "body": "<code>libapache-session-perl</code> <a href=\"https://packages.debian.org/sid/all/libapache-session-perl/filelist\" rel=\"nofollow noreferrer\">installs the <code>Apache::Session</code> module</a>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1496075395, "post_id": 44246413, "comment_id": 75502371, "body": "Where did <code>cpan</code> install the module?"}, {"owner": {"reputation": 11, "user_id": 8082352, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TKzE71rWXcc/AAAAAAAAAAI/AAAAAAAAAJs/iXEnNlzOZSI/photo.jpg?sz=128", "display_name": "Ricardo Marques", "link": "https://stackoverflow.com/users/8082352/ricardo-marques"}, "edited": false, "score": 0, "creation_date": 1496076415, "post_id": 44246413, "comment_id": 75502823, "body": "root@division:/usr/lib/cgi-bin# apt-get install libapache-session-perl Reading package lists... Done Building dependency tree Reading state information... Done libapache-session-perl is already the newest version."}, {"owner": {"reputation": 11, "user_id": 8082352, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TKzE71rWXcc/AAAAAAAAAAI/AAAAAAAAAJs/iXEnNlzOZSI/photo.jpg?sz=128", "display_name": "Ricardo Marques", "link": "https://stackoverflow.com/users/8082352/ricardo-marques"}, "edited": false, "score": 0, "creation_date": 1496076481, "post_id": 44246413, "comment_id": 75502851, "body": "cpan[1]&gt; install Apache::Session Reading &#39;/root/.cpan/Metadata&#39;   Database was generated on Mon, 29 May 2017 13:41:02 GMT Apache::Session is up to date (1.93)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496077563, "post_id": 44246413, "comment_id": 75503368, "body": "Which module are you trying to install? Session or Apache::Session???"}, {"owner": {"reputation": 11, "user_id": 8082352, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TKzE71rWXcc/AAAAAAAAAAI/AAAAAAAAAJs/iXEnNlzOZSI/photo.jpg?sz=128", "display_name": "Ricardo Marques", "link": "https://stackoverflow.com/users/8082352/ricardo-marques"}, "edited": false, "score": 0, "creation_date": 1496077959, "post_id": 44246413, "comment_id": 75503526, "body": "i am trying to fix this error &quot;perl -e &quot;use Session;&quot; Can&#39;t locate Session.pm in @INC (you may need to install the Session module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.20.2 /usr/local/share/perl/5.20.2 /usr/lib/x86_64-linux-gnu/perl5/5.20 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.20 /usr/share/perl/5.20 /usr/local/lib/site_perl .) at -e line 1. BEGIN failed--compilation aborted at -e line 1. &quot;"}, {"owner": {"reputation": 11, "user_id": 8082352, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TKzE71rWXcc/AAAAAAAAAAI/AAAAAAAAAJs/iXEnNlzOZSI/photo.jpg?sz=128", "display_name": "Ricardo Marques", "link": "https://stackoverflow.com/users/8082352/ricardo-marques"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496079218, "post_id": 44246413, "comment_id": 75504033, "body": "@ikegami trying to resolve my error. but no sucess."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496082285, "post_id": 44246413, "comment_id": 75505346, "body": "Then why do you keep installing Apache::Session instead of Session? What output do you get for <code>perl -MCPAN -e shell</code> + <code>install Session</code>"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1496122876, "post_id": 44246413, "comment_id": 75516667, "body": "perhaps try install CGI::Session <a href=\"http://search.cpan.org/~markstos/CGI-Session-4.48/lib/CGI/Session.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~markstos/CGI-Session-4.48/lib/CGI/Session.p&zwnj;&#8203;m</a>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1496133529, "last_edit_date": 1496133529, "creation_date": 1496131401, "answer_id": 44256756, "question_id": 44246413, "link": "https://stackoverflow.com/questions/44246413/cant-locate-session-pm-in-inc/44256756#44256756", "title": "Can&#39;t locate Session.pm in @INC", "body": "<p>The error you are getting is:</p>\n\n<blockquote>\n  <p>Can't locate Session.pm in @INC (you may need to install the Session module)</p>\n</blockquote>\n\n<p>As the message says, the solution to this problem is to install the <a href=\"https://metacpan.org/pod/Session\" rel=\"nofollow noreferrer\">Session</a> module from CPAN. For some reason, you have tried to solve it by installing the <a href=\"https://metacpan.org/pod/Apache::Session\" rel=\"nofollow noreferrer\">Apache::Session</a> module from CPAN. Session and Apache::Session are two completely different modules. You cannot expect to solve a missing module problem by installing the wrong module.</p>\n\n<p>(Although, I see that Session is a thin wrapper around Apache::Session - so you will need the Apache::Session module installed as well.)</p>\n\n<p>I suggest that you install Session in order to fix your problem.</p>\n\n<p>However, I should point out that the Session module has a single release (version 0.01) which was released in 2003, by someone who hasn't released anything to CPAN since 2005. I'd, therefore, suggest that the chances of getting any support for this module are tiny and I would recommend avoiding the module if at all possible.</p>\n"}], "owner": {"reputation": 11, "user_id": 8082352, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TKzE71rWXcc/AAAAAAAAAAI/AAAAAAAAAJs/iXEnNlzOZSI/photo.jpg?sz=128", "display_name": "Ricardo Marques", "link": "https://stackoverflow.com/users/8082352/ricardo-marques"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 0, "accepted_answer_id": 44256756, "answer_count": 1, "score": -1, "last_activity_date": 1496133529, "creation_date": 1496073166, "last_edit_date": 1496084097, "question_id": 44246413, "link": "https://stackoverflow.com/questions/44246413/cant-locate-session-pm-in-inc", "title": "Can&#39;t locate Session.pm in @INC", "body": "<p></p>\n\n<p>I have a problem with <code>Session</code> on Perl.</p>\n\n<p>I am trying to fix this error</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -e \"use Session;\"\nCan't locate Session.pm in @INC (you may need to install the Session module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.20.2 /usr/local/share/perl/5.20.2 /usr/lib/x86_64-linux-gnu/perl5/5.20 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.20 /usr/share/perl/5.20 /usr/local/lib/site_perl .) at -e line 1.\nBEGIN failed--compilation aborted at -e line 1. \" \n</code></pre>\n\n<p>I am using Debian 8 64x Server.</p>\n\n<p>I tried: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>root@division:/usr/lib/cgi-bin# apt-get install libapache-session-perl\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nlibapache-session-perl is already the newest version. \n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -MCPAN -e shell\ninstall Session\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -MCPAN -e shell\ncpan[1]&gt; install Apache::Session\nReading '/root/.cpan/Metadata'\nDatabase was generated on Mon, 29 May 2017 13:41:02 GMT\n\nApache::Session is up to date (1.93).\n</code></pre>\n\n<p>but still I have the same problem</p>\n\n<hr>\n\n<p>Some information:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># echo 'o conf' | perl -MCPAN -e shell | grep -P '^\\s+(make|mbuild)'\n    make               []\n    make_arg           []\n    make_install_arg   []\n    make_install_make_command []\n    makepl_arg         [INSTALLDIRS=site]\n    mbuild_arg         []\n    mbuild_install_arg []\n    mbuild_install_build_command [./Build]\n    mbuildpl_arg       [--installdirs site]\n\n# set | grep '^PERL'\n\n# perl -le'print for @INC'\n/etc/perl\n/usr/local/lib/x86_64-linux-gnu/perl/5.20.2\n/usr/local/share/perl/5.20.2\n/usr/lib/x86_64-linux-gnu/perl5/5.20\n/usr/share/perl5\n/usr/lib/x86_64-linux-gnu/perl/5.20\n/usr/share/perl/5.20\n/usr/local/lib/site_perl\n</code></pre>\n"}, {"tags": ["perl", "exim", "exim4"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8100023, "user_type": "registered", "profile_image": "https://graph.facebook.com/1475942585810170/picture?type=large", "display_name": "Tyson Blair", "link": "https://stackoverflow.com/users/8100023/tyson-blair"}, "is_accepted": false, "score": 0, "last_activity_date": 1496352112, "last_edit_date": 1496352112, "creation_date": 1496351516, "answer_id": 44317151, "question_id": 44245805, "link": "https://stackoverflow.com/questions/44245805/getting-exim-variable-in-perl-script/44317151#44317151", "title": "Getting exim variable in perl script", "body": "<p>in /etc/exam.pl.local</p>\n\n<pre><code>sub getprimaryhost {\n   my $phost   = Exim::expand_string('$primary_hostname');\n   return $phost;\n}\n</code></pre>\n\n<p>then in /etc/exim.conf</p>\n\n<pre><code>smtp_active_hostname = ${perl{'getprimaryhost'}}\n</code></pre>\n\n<p>smtp_active_hostname will be set to what ever the sub returns in the case above it will be the value of primary_hostname. Also this does not seem to work for primary_hostname.</p>\n"}], "owner": {"reputation": 1, "user_id": 8082211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd273a7fb6b1e4be222569d36dd3fea?s=128&d=identicon&r=PG&f=1", "display_name": "Tech2002", "link": "https://stackoverflow.com/users/8082211/tech2002"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496352112, "creation_date": 1496071006, "last_edit_date": 1496071443, "question_id": 44245805, "link": "https://stackoverflow.com/questions/44245805/getting-exim-variable-in-perl-script", "title": "Getting exim variable in perl script", "body": "<p>My problem is with exim.conf where i try to set hostname using perl </p>\n\n<p>In exim.conf</p>\n\n<pre><code>host = \"${perl{func}{arg}}\"\n</code></pre>\n\n<p>In exim.pl.local its accessing Exim variable from exim.conf in following way</p>\n\n<pre><code>my $phost   = Exim::expand_string('$primary_hostname');\n</code></pre>\n\n<p>However, the value is not getting evaluated and the value of <strong>\"$phost\"</strong> comes out to be literal as follow.</p>\n\n<pre><code>print $phost   //outputs ${perl{func}{arg}}.\n</code></pre>\n\n<p>Any way i can change the code in exim.conf or exim.pl.local to get the result of the subroutine? </p>\n"}, {"tags": ["c", "perl", "curl", "scheduler", "stress-testing"], "comments": [{"owner": {"reputation": 3794, "user_id": 7256714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeb98b0e8995d8576ad5f66c0f982e5?s=128&d=identicon&r=PG&f=1", "display_name": "Pras", "link": "https://stackoverflow.com/users/7256714/pras"}, "edited": false, "score": 0, "creation_date": 1496068207, "post_id": 44244419, "comment_id": 75498608, "body": "Is it mandatory to send request at strictly a given timestamp only, Or you basically want to stress a server with 100k requests keeping enough time between two consecutive request to ensure, two requests dont end up going on same socket"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496069673, "post_id": 44244419, "comment_id": 75499478, "body": "Unfortunately software recommendations are off-topic on Stack Overflow. However, you could maybe write something that uses crond or something similar. You could write a program that converts your file into a crontab (though I am not sure if crontab allows for microtimes, maybe with some addon)."}, {"owner": {"reputation": 21, "user_id": 5387825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/805c32d14cb82bee3c7dc60ac52e84e4?s=128&d=identicon&r=PG&f=1", "display_name": "MPH", "link": "https://stackoverflow.com/users/5387825/mph"}, "edited": false, "score": 0, "creation_date": 1496080842, "post_id": 44244419, "comment_id": 75504751, "body": "Yes, it is mandatory to send the requests at given timestamps. Our customer delivers the list with the timestamps and the post-requests. The list is designed to reproduce the number of requests over the day. Lots of requests at working hours - only some request at night."}, {"owner": {"reputation": 21, "user_id": 5387825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/805c32d14cb82bee3c7dc60ac52e84e4?s=128&d=identicon&r=PG&f=1", "display_name": "MPH", "link": "https://stackoverflow.com/users/5387825/mph"}, "edited": false, "score": 0, "creation_date": 1496081686, "post_id": 44244419, "comment_id": 75505110, "body": "Minimum time interval for crond is one minute. frequent-cron allows milliseconds - but only in fixed intervals."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1496093291, "post_id": 44244419, "comment_id": 75509494, "body": "To fill in what simbabque is probably thinking: I&#39;d just use <a href=\"https://httpd.apache.org/docs/2.4/programs/ab.html\" rel=\"nofollow noreferrer\">ab</a> or some other existing tool before writing my own. For your own code, you are the only coder, debugger, and tester."}], "answers": [{"tags": [], "owner": {"reputation": 3794, "user_id": 7256714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeb98b0e8995d8576ad5f66c0f982e5?s=128&d=identicon&r=PG&f=1", "display_name": "Pras", "link": "https://stackoverflow.com/users/7256714/pras"}, "is_accepted": false, "score": 0, "last_activity_date": 1496071098, "creation_date": 1496071098, "answer_id": 44245831, "question_id": 44244419, "link": "https://stackoverflow.com/questions/44244419/stresstest-server-starting-requests-at-given-subsecond-timestamps/44245831#44245831", "title": "Stresstest server: starting requests at given subsecond timestamps", "body": "<p>You can code your stress client by setting appropriate adding a delay before sending each request.\nPlease note the calculations done for sending requests emulating a stress test are subjective to network delay,system resources(cpu,memory) available,priority of client and server program when they are running.</p>\n\n<p>You have 100k to be sent over 24 hour(assuming you mean 24 hours for a day), so basically you need to keep delay of 1158 msec between two consecutive requests being sent.\nYou need to calculate time taken for each request in the loop by subtracting timestamp before sending the request from the timestamp taken after receiving response\nLets say it took x msec for a reqeust to get processed,if x is less than  1158msec, sleep for (1158 - x) msec before sending next request,otherwise just send the next request with any delay.</p>\n\n<p>When you run it with multiple processes or threads, you need to factor that in your calculation as each thread/process is supposed to send 100k/n number of requests in 24 hours where n is number of threads or processes.</p>\n"}], "owner": {"reputation": 21, "user_id": 5387825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/805c32d14cb82bee3c7dc60ac52e84e4?s=128&d=identicon&r=PG&f=1", "display_name": "MPH", "link": "https://stackoverflow.com/users/5387825/mph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496071098, "creation_date": 1496066648, "question_id": 44244419, "link": "https://stackoverflow.com/questions/44244419/stresstest-server-starting-requests-at-given-subsecond-timestamps", "title": "Stresstest server: starting requests at given subsecond timestamps", "body": "<p>I have to stresstest a server via a list of 100k Post-Requests per day. Each request must start at a given fixed timestamp. Smallest time-difference between two requests is around 100ms.  </p>\n\n<p>Example:</p>\n\n<pre><code>12:08:38.971 url1\n12:08:39.429 url2\n12:08:40.186 url3\n12:08:40.444 url4\n...\n</code></pre>\n\n<p>I'll use perl or c to implement the stresstest. Requests are executed with curl, threading is used, because responses are typically longer than 100ms. </p>\n\n<p>My problem is to fill some kind of queue which starts the requests at the given fixed times from the list. </p>\n\n<p>My first idea is to use a while loop (example for single request) and permanently check the timestamps:</p>\n\n<pre><code>   #include &lt;stdio.h&gt;\n   #include &lt;sys/time.h&gt;\n\n   struct timeval time;\n\n   int t_sec=1496064929;\n   int t_usec=100;\n   int request_started=0;\n\n   int main(){\n\n     while(1){\n\n       gettimeofday(&amp;time, NULL);\n\n       if(time.tv_sec == t_sec &amp;&amp; time.tv_usec &gt; t_usec &amp;&amp; request_started == 0){\n         printf(\"Request start at %d %d\\n\", time.tv_sec, time.tv_usec);\n         request_started=1;\n       }\n     }\n   }\n</code></pre>\n\n<p>But this code is far from ideal... \nIs there some kind of scheduler library which can handle requests in subsecond-area? Or maybe, there are ready to use benchmark-tools which can produce such requests from the given list (I already checked apache benchmark, httperf and siege without luck)? </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["perl", "terminal", "warnings", "macos-sierra"], "comments": [{"owner": {"reputation": 1, "user_id": 5424449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8aff7e94f8e7deef4877fdad41a6738?s=128&d=identicon&r=PG&f=1", "display_name": "Tim N. Jakobsen ", "link": "https://stackoverflow.com/users/5424449/tim-n-jakobsen"}, "edited": false, "score": 0, "creation_date": 1496067587, "post_id": 44243909, "comment_id": 75498273, "body": "Can see that I have inserted two comma and one dot by mistake but I had not done this in the .zshrc file"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1496069694, "post_id": 44243909, "comment_id": 75499493, "body": "You can <a href=\"https://stackoverflow.com/posts/44243909/edit\">edit</a> your question with the <a href=\"https://stackoverflow.com/posts/44243909/edit\">edit</a> link below the tags."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5424449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8aff7e94f8e7deef4877fdad41a6738?s=128&d=identicon&r=PG&f=1", "display_name": "Tim N. Jakobsen ", "link": "https://stackoverflow.com/users/5424449/tim-n-jakobsen"}, "edited": false, "score": 0, "creation_date": 1496157799, "post_id": 44261328, "comment_id": 75540476, "body": "I have also da_DK.UTF-8 when I run locale -a, so a do not understand when yours work when mine do not."}, {"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "reply_to_user": {"reputation": 1, "user_id": 5424449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8aff7e94f8e7deef4877fdad41a6738?s=128&d=identicon&r=PG&f=1", "display_name": "Tim N. Jakobsen ", "link": "https://stackoverflow.com/users/5424449/tim-n-jakobsen"}, "edited": false, "score": 0, "creation_date": 1496163824, "post_id": 44261328, "comment_id": 75544125, "body": "did you actually try it with <code>da_DK.UTF-8</code> ... instead of the one in your question <code>da.UTF-8</code>"}, {"owner": {"reputation": 1, "user_id": 5424449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8aff7e94f8e7deef4877fdad41a6738?s=128&d=identicon&r=PG&f=1", "display_name": "Tim N. Jakobsen ", "link": "https://stackoverflow.com/users/5424449/tim-n-jakobsen"}, "edited": false, "score": 0, "creation_date": 1496166000, "post_id": 44261328, "comment_id": 75545198, "body": "yeah I tried it and it still do not work. It&#39;s very weird :)"}], "tags": [], "owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "is_accepted": false, "score": 1, "last_activity_date": 1496169162, "last_edit_date": 1496169162, "creation_date": 1496144606, "answer_id": 44261328, "question_id": 44243909, "link": "https://stackoverflow.com/questions/44243909/perl-warning-setting-locale-failed-on-macos-sierra-10-12-4/44261328#44261328", "title": "perl: warning: Setting locale failed on macOS Sierra 10.12.4", "body": "<p>when I run <code>locale -a</code> it does show <code>da_DK.UTF-8</code> - using a locale that is actually installed on your system might help ?</p>\n\n<p>running macOS Sierra Version 10.12.5</p>\n"}], "owner": {"reputation": 1, "user_id": 5424449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8aff7e94f8e7deef4877fdad41a6738?s=128&d=identicon&r=PG&f=1", "display_name": "Tim N. Jakobsen ", "link": "https://stackoverflow.com/users/5424449/tim-n-jakobsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1500, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496169162, "creation_date": 1496065085, "last_edit_date": 1496168000, "question_id": 44243909, "link": "https://stackoverflow.com/questions/44243909/perl-warning-setting-locale-failed-on-macos-sierra-10-12-4", "title": "perl: warning: Setting locale failed on macOS Sierra 10.12.4", "body": "<p>Hey I got the above problem when I installed Hyper terminal and when i open the terminal I get this warning and I tried to set my .zshrc exports which\nis well documented on google but it do not work.\nSo far I tried these exports:</p>\n\n<pre><code>export LC_ALL = (unset)\nexport LC_CTYPE = \"da.UTF-8\"\nexport LANG = \"da.UTF-8\" \n</code></pre>\n\n<p>edit 30 May 20:14\n<a href=\"https://i.stack.imgur.com/lam5Q.png\" rel=\"nofollow noreferrer\">see the warnings here</a></p>\n"}, {"tags": ["function", "perl", "arguments", "subroutine"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1496065621, "post_id": 44243718, "comment_id": 75497029, "body": "Do you mean &quot;string&quot; as opposed to &quot;number&quot;? Or &quot;string&quot; as opposed to &quot;arrayref/hashref/...&quot;? Then <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow noreferrer\"><code>ref</code></a> is the way to go (as you already did). It returns an empty string for simple non-ref scalars (like your <code>$list</code>)."}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1496065807, "post_id": 44243718, "comment_id": 75497148, "body": "Ohh okay my fault :D. This post is done. Thanks @PerlDuck"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1496066114, "post_id": 44244182, "comment_id": 75497345, "body": "Well, there is <a href=\"http://perldoc.perl.org/Scalar/Util.html#looks_like_number\" rel=\"nofollow noreferrer\">Scalar::Util::looks_like_number</a> (core module) to detect numbers, but I don&#39;t think that is what the OP was after."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496082891, "post_id": 44244182, "comment_id": 75505585, "body": "Note that <code>ref($list)</code> will return true for objects that a stringification overload. That means that <code>my $url = URI-&gt;new(&#39;http:&#47;&#47;stackoverflow.com&#47;&#39;); validateParameter({ hallo =&gt; &quot;Welt&quot;, test =&gt; &quot;Blup&quot;},  $url);</code> will fail if you use <code>ref </code> even if <code>$url</code> can be used as a string."}], "tags": [], "owner": {"reputation": 11905, "user_id": 2897372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e114bd942d7cc21603ae50d2e73d81?s=128&d=identicon&r=PG", "display_name": "B\u0142otosm\u0119tek", "link": "https://stackoverflow.com/users/2897372/b%c5%82otosm%c4%99tek"}, "is_accepted": true, "score": 1, "last_activity_date": 1496065892, "creation_date": 1496065892, "answer_id": 44244182, "question_id": 44243718, "link": "https://stackoverflow.com/questions/44243718/how-to-check-if-a-function-parameter-is-a-string-in-perl/44244182#44244182", "title": "How to check if a function parameter is a string in perl", "body": "<p>No, there is no way to check if a scalar is a string, as Perl does implicit type conversions depending on context. If you give a number as the second argument to your function, and you use it in a context that requires a string, it will be automatically converted to a string. So, just check if ref($list) is empty - in such case, $list is not a reference, and therefore it is a string or a number, and you don't need to distinguish between those two.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496076105, "post_id": 44245916, "comment_id": 75502703, "body": "Note: <code>\\@$list</code> will auto-vivify <code>$list</code> if it&#39;s <code>undef</code>, so handle <code>undef</code> first if that&#39;s a valid input."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496081243, "post_id": 44245916, "comment_id": 75504932, "body": "@ikegami I was guessing that undef would be more like an empty array than an undef &quot;string&quot;"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 4, "last_activity_date": 1496072002, "last_edit_date": 1496072002, "creation_date": 1496071409, "answer_id": 44245916, "question_id": 44243718, "link": "https://stackoverflow.com/questions/44243718/how-to-check-if-a-function-parameter-is-a-string-in-perl/44245916#44245916", "title": "How to check if a function parameter is a string in perl", "body": "<p>Update:  I somehow missed the end of the question.  Just testing <code>ref($list) eq 'ARRAY'</code> will work most of the time, but to properly allow even overloaded objects, you should just try dereferencing the parameter:</p>\n\n<pre><code>if ( eval { \\@$list } ) {\n    # it was an array \n}\nelse {\n    # assume it is a string\n}\n</code></pre>\n\n<p>Original answer:</p>\n\n<p>You can check a number of things about a parameter:</p>\n\n<pre><code>if ( ! defined $param ) {\n    # undefined\n}\nelsif ( defined Scalar::Util::blessed($param) ) {\n    # object\n}\nelsif ( ref $param ) {\n    # reference (return of ref will give the type)\n}\nelsif ( length do { no warnings \"numeric\"; $param &amp; '' } ) {\n    # number\n}\nelse {\n    # string\n}\n</code></pre>\n\n<p>But all of that (except perhaps the defined check) kind of defeats the purpose of Perl's automatically converting to your desired type and will limit what can be passed (for instance, a string or dualvar where a number is wanted, or an overloaded object where a string, number, or reference is wanted, or tied variables or magic variables such as <code>$!</code>).</p>\n\n<p>You may want to also just look at what <a href=\"https://metacpan.org/pod/Params::Validate\" rel=\"nofollow noreferrer\">Params::Validate</a> can do.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1496109653, "last_edit_date": 1496109653, "creation_date": 1496084422, "answer_id": 44248979, "question_id": 44243718, "link": "https://stackoverflow.com/questions/44243718/how-to-check-if-a-function-parameter-is-a-string-in-perl/44248979#44248979", "title": "How to check if a function parameter is a string in perl", "body": "<p>Don't base behaviour on the \"type\" of arguments because there really isn't such a thing. You will run into problems if you use type-base polymorphism because Perl values often have more than one type.</p>\n\n<p>For example,</p>\n\n<ul>\n<li><p>The scalar produced by <code>\"123\"</code> is stored as as string, but Perl doesn't distinguish it from the scalar produced by <code>123</code> which isn't stored as a string.</p></li>\n<li><p>Scalars can contain both a number and a cached stringification of that number. (e.g. <code>my $i = 123; \"\".$i;</code>)</p></li>\n<li><p>Scalars can contain both a number and a string (that isn't a stringification of the number). Common examples of these are <code>$!</code> and <code>!1</code>.</p></li>\n<li><p>A reference to an object that overloads stringification is also a useful string. (e.g. <code>DateTime-&gt;now</code>)</p></li>\n<li><p>A reference to an array may overload <code>%{}</code> to usable as a hash reference. A reference to an hash may overload <code>@{}</code> to usable as an array reference.</p></li>\n<li><p>And more.</p></li>\n</ul>\n"}], "owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5297, "favorite_count": 0, "accepted_answer_id": 44244182, "answer_count": 3, "score": 1, "last_activity_date": 1496109653, "creation_date": 1496064555, "last_edit_date": 1496064734, "question_id": 44243718, "link": "https://stackoverflow.com/questions/44243718/how-to-check-if-a-function-parameter-is-a-string-in-perl", "title": "How to check if a function parameter is a string in perl", "body": "<p>I'am trying to write my custom <code>validateParameter</code> Function with perl.\nActual i have the following code which also works:</p>\n\n<pre><code>sub validateParameter {\n    my ($args, $list) = @_;\n\n    if ( ref($list) eq \"ARRAY\" ) {\n\n        foreach my $key (@$list) {\n            if ( not defined $args-&gt;{$key} ) {\n                die \"no $key given!\";\n            }\n        }\n    } \n    #elsif ( check if string ) {\n    #}\n}\n</code></pre>\n\n<p>I want to call my function the following way:</p>\n\n<pre><code>validateParameter({ hallo =&gt; \"Welt\", test =&gt; \"Blup\"},  [\"hallo\", \"test\"]);\n</code></pre>\n\n<p>but i also want to call my function like this:</p>\n\n<pre><code>validateParameter({ hallo =&gt; \"Welt\", test =&gt; \"Blup\"},  \"hallo\");\n</code></pre>\n\n<p>How can i check if the given arg is an \"string\" ?</p>\n\n<p>I know that perl only have the following three data-types (scalars, hashes, arrays). But maybe there is a smart way to check if an variable is an string.</p>\n\n<p>Thanks to everybody.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 16707, "user_id": 341065, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e57fe4b0f7381288a8e1e4c6cd77a8e?s=128&d=identicon&r=PG", "display_name": "wilx", "link": "https://stackoverflow.com/users/341065/wilx"}, "is_accepted": false, "score": -1, "last_activity_date": 1496053817, "creation_date": 1496053817, "answer_id": 44240269, "question_id": 44240197, "link": "https://stackoverflow.com/questions/44240197/perl-strip-character-from-hash-key-string/44240269#44240269", "title": "perl strip character from hash key string", "body": "<p>I don't think there is a way to make this in-place. You will have to iterate over keys, and populate a new hash table with the modified/fixed keys.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7540756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21485b71ad537ccad150ce39b02972e0?s=128&d=identicon&r=PG&f=1", "display_name": "Shirinsh", "link": "https://stackoverflow.com/users/7540756/shirinsh"}, "edited": false, "score": 0, "creation_date": 1496062572, "post_id": 44240583, "comment_id": 75495018, "body": "Thanks for all the guidance and suggestions. I have edited my questions. If possible please share your thoughts. Thanks."}], "tags": [], "owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "is_accepted": false, "score": -1, "last_activity_date": 1496054741, "creation_date": 1496054741, "answer_id": 44240583, "question_id": 44240197, "link": "https://stackoverflow.com/questions/44240197/perl-strip-character-from-hash-key-string/44240583#44240583", "title": "perl strip character from hash key string", "body": "<p>Best way is to create a new hash with your new keys like the following code snippet:</p>\n\n<pre><code>my %HoA= (\n\"HU1.2.3.4X\" =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\n\"PU1000.2.003.4X\" =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\n\"FA1.200.3.4\" =&gt; [ 'oberon', 'titania', 'puck', ],\n\"OT100.2.30.4\" =&gt; [ 'morpheus, lord of dreams' ],\n);\n\nmy %HoA_new;\n\nforeach my $key( keys %HoA) {\n if( $key =~ m/.*?X$/) {\n    # save the value\n    my $value = $HoA{$key};\n\n    # split the key\n    $key =~ s/(.*?)X$//g;\n\n    # save value with new key\n    $HoA_new{$1} = $value;\n } else {\n     $HoA_new{$key} = $HoA{$key};\n }\n}\n\nprint Dumper(\\%HoA_new);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1496056761, "post_id": 44240882, "comment_id": 75491426, "body": "your post is nice short :) Thanks for this solution with &quot;map&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1496057486, "post_id": 44240882, "comment_id": 75491878, "body": "@DaveCross: Your caution is appropriate for <code>while</code>/<code>each</code>, but <code>keys</code> and <code>values</code> both generate a static list and iterate over that, so the approach is safe. If you wish to make absolutely sure of this then of course you may write <code>my @keys = keys %HoA</code> and iterate over that."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1496059545, "last_edit_date": 1496059545, "creation_date": 1496055604, "answer_id": 44240882, "question_id": 44240197, "link": "https://stackoverflow.com/questions/44240197/perl-strip-character-from-hash-key-string/44240882#44240882", "title": "perl strip character from hash key string", "body": "<p>Your first thought might be to iterate over the hash (using <code>keys()</code> or <code>each()</code>) deleting keys that end in 'X' and replacing them with a stripped version. This is a bad idea as you shouldn't change a hash whilst you are iterating over it. So don't do that.</p>\n\n<p>The best approach is to write the changed key/value pairs to a new hash. But it's completely possible to write those new pairs back into your original hash - like this:</p>\n\n<pre><code>use feature 'say';\nuse Data::Dumper;\n\nmy %HoA = (\n  'HU1.2.3.4X' =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\n  'PU1000.2.003.4X' =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\n  'FA1.200.3.4' =&gt; [ 'oberon', 'titania', 'puck', ],\n  'OT100.2.30.4' =&gt; [ 'morpheus, lord of dreams' ],\n);\n\n%HoA = map { my $v = $HoA{$_}; s/X$//; $_ =&gt; $v } keys %HoA;\n\nsay Dumper \\%HoA;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1496056968, "creation_date": 1496056968, "answer_id": 44241314, "question_id": 44240197, "link": "https://stackoverflow.com/questions/44240197/perl-strip-character-from-hash-key-string/44241314#44241314", "title": "perl strip character from hash key string", "body": "<p>You can simply delete each element and add it back with <code>X</code> removed from the key</p>\n\n<p>This example is inefficient in that it also removes and replaces unchanged elements whose keys <em>don't</em> end with <code>X</code>, but as a one-time operation this will be insignificant unless your hashis enormous</p>\n\n<p>I have used <code>Data::Dumper</code> only to display the resulting data structure. Any mention of <code>Data::Dumper</code> may be removed from your final code</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Data::Dumper;\n$Data::Dumper::Terse  = 1;\n$Data::Dumper::Indent = 1;\n\nmy %HoA = (\n    'HU1.2.3.4X'      =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\n    'PU1000.2.003.4X' =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\n    'FA1.200.3.4'     =&gt; [ 'oberon', 'titania', 'puck', ],\n    'OT100.2.30.4'    =&gt; [ 'morpheus, lord of dreams', ],\n);\n\n$HoA{ s/X\\z//r } = delete $HoA{$_} for keys %HoA;\n\nprint Dumper \\%HoA;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n    'OT100.2.30.4' =&gt; [\n        'morpheus, lord of dreams'\n    ],\n    'PU1000.2.003.4' =&gt; [\n        'hamnet',\n        'shakespeare',\n        'robyn'\n    ],\n    'FA1.200.3.4' =&gt; [\n        'oberon',\n        'titania',\n        'puck'\n    ],\n    'HU1.2.3.4' =&gt; [\n        'hamnet',\n        'shakespeare',\n        'robyn'\n    ]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1496088310, "creation_date": 1496088310, "answer_id": 44249694, "question_id": 44240197, "link": "https://stackoverflow.com/questions/44240197/perl-strip-character-from-hash-key-string/44249694#44249694", "title": "perl strip character from hash key string", "body": "<p>You can use function which takes transformation callback as an argument,</p>\n\n<pre><code>use Data::Dumper;\n\nmy %HoA = (\n  'HU1.2.3.4X' =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\n  'PU1000.2.003.4X' =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\n  'FA1.200.3.4' =&gt; [ 'oberon', 'titania', 'puck', ],\n  'OT100.2.30.4' =&gt; [ 'morpheus, lord of dreams' ],\n);\n\nsub ren_hkeys {\n    my ($href, $f) = @_;\n    my @arr  = keys %$href;\n    @$href{ map $f-&gt;(), @arr } = delete @$href{ @arr };\n}\nren_hkeys(\\%HoA, sub{ s/X$//r });\n\nprint Dumper \\%HoA;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = {\n      'OT100.2.30.4' =&gt; [\n                          'morpheus, lord of dreams'\n                        ],\n      'FA1.200.3.4' =&gt; [\n                         'oberon',\n                         'titania',\n                         'puck'\n                       ],\n      'HU1.2.3.4' =&gt; [\n                       'hamnet',\n                       'shakespeare',\n                       'robyn'\n                     ],\n      'PU1000.2.003.4' =&gt; [\n                            'hamnet',\n                            'shakespeare',\n                            'robyn'\n                          ]\n    };\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7540756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21485b71ad537ccad150ce39b02972e0?s=128&d=identicon&r=PG&f=1", "display_name": "Shirinsh", "link": "https://stackoverflow.com/users/7540756/shirinsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1496088310, "creation_date": 1496053577, "last_edit_date": 1496062507, "question_id": 44240197, "link": "https://stackoverflow.com/questions/44240197/perl-strip-character-from-hash-key-string", "title": "perl strip character from hash key string", "body": "<p>below is my hash. </p>\n\n<pre><code>my %HoA= (\nHU1.2.3.4X =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\nHU1.2.3.4 =&gt; [ 'apple', 'oranges', 'grapes', ],\nPU1000.2.003.4X =&gt; [ 'hamnet', 'shakespeare', 'robyn', ],\nFA1.200.3.4 =&gt; [ 'oberon', 'titania', 'puck', ],\nFA1.200.3.4X =&gt; [ 'between' ],\nOT100.2.30.4 =&gt; [ 'morpheus, lord of dreams' ],\n);\n</code></pre>\n\n<p>I need to strip off \"X\" from the end of my key, so if I strip of \"X\" from HU1.2.3.4X I need to have key value HU1.2.3.4 for later printing of key/value in my script. </p>\n\n<p>Any help on this please. Thanks.</p>\n\n<p><strong>UPDATE</strong>\n<em>Edited my hash with some more key/values. for example</em></p>\n\n<pre><code>FA1.200.3.4 =&gt; [ 'oberon', 'titania', 'puck', ],\nFA1.200.3.4X =&gt; [ 'between' ],\n</code></pre>\n\n<p>Keys here are <strong>FA1.200.3.4 and FA1.200.3.4X</strong> - Ideally both the keys are same identifier with \"X\" appended in later key. So can we handle like stripping X from last and map the values FA1.200.3.4 and FA1.200.3.4X in single key/value</p>\n\n<p>FA1.200.3.4 => [ 'oberon', 'titania', 'puck', 'between'],</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1496047927, "post_id": 44237453, "comment_id": 75486050, "body": "Actually if you are replacing the spaces by dot, try the substitution <code>line=~s&#47;\\s+&#47;.&#47;g</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4373275"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1496053459, "post_id": 44237453, "comment_id": 75489427, "body": "yes thank you. the thing is with my actual script i do more than just search and replace with my split. but you are correct. thanks for the comment."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1496057815, "post_id": 44237486, "comment_id": 75492069, "body": "@GerhardBarnard: Any example of <code>split &#47;\\s+&#47;</code> should almost certainly be written as <code>split &quot; &quot;</code>, which is the default behaviour of <code>split</code>"}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": true, "score": 4, "last_activity_date": 1496123116, "last_edit_date": 1496123116, "creation_date": 1496045201, "answer_id": 44237486, "question_id": 44237453, "link": "https://stackoverflow.com/questions/44237453/splitting-by-whitespace-and-joining-with-dots-creates-multiple-dots-perl/44237486#44237486", "title": "splitting by whitespace and joining with dots creates multiple dots Perl", "body": "<p>Almost there. You are splitting by space <code>/\\s/</code>, not all whitespace. try split <code>/\\s+/</code></p>\n\n<pre><code>my $line = 'lines with spaces   and     tabs';\n@array = split /\\s+/, $line;\n</code></pre>\n\n<p><strong>EDIT</strong> The default behaviour of split for whitespace is <code>split \" \"</code> instead of <code>split /\\s+/</code></p>\n\n<pre><code>my $line = 'lines with spaces   and     tabs';\n@array = split \" \", $line;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4373275"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 44237486, "answer_count": 1, "score": 1, "last_activity_date": 1496123116, "creation_date": 1496045103, "last_edit_date": 1496046003, "question_id": 44237453, "link": "https://stackoverflow.com/questions/44237453/splitting-by-whitespace-and-joining-with-dots-creates-multiple-dots-perl", "title": "splitting by whitespace and joining with dots creates multiple dots Perl", "body": "<p>I have a string where I want to split in by whitespace. and then join it with a dot. the split works fine but when joining I get additional dots. I know that the log file has tabs but I am splitting by whitespace so not sure the problem. Here it does split fine as you can see it prints @array as <em>lineswithspacesandtabs</em></p>\n\n<pre><code>my $line = 'lines with spaces   and     tabs';\n@array = split /\\s/, $line;\nprint @array;\n</code></pre>\n\n<p>but now I join them and it does not work</p>\n\n<pre><code>$joinedstring = join '.', @array;\nprint $joinedstring;\n</code></pre>\n\n<p>prints <em>lines.with.spaces...and.....tabs</em></p>\n\n<p>please help.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 2, "creation_date": 1496043585, "post_id": 44236935, "comment_id": 75483689, "body": "Shouldn&#39;t the output <code>$string1</code> be <code>&quot;aaa bbb ccc&quot;</code>?"}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 0, "creation_date": 1496046400, "post_id": 44236935, "comment_id": 75485210, "body": "How that <code>n</code> (of <i>&quot;the group of n number of words&quot;</i>) is defined? If it is not fixed, in what range in varies?"}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1496044594, "post_id": 44237150, "comment_id": 75484232, "body": "<a href=\"https://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\">Starting with Perl 5.14, an experimental feature allowed keys to take a scalar expression. This experiment has been deemed unsuccessful, and was removed as of Perl 5.24.</a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1496049585, "post_id": 44237150, "comment_id": 75487000, "body": "@\u0421\u0443\u0445\u043e\u043927. Thanks for your information. We will check hence I am working with 5.18 only."}, {"owner": {"reputation": 55, "user_id": 7849102, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/6Z5Q0.jpg?s=128&g=1", "display_name": "Senthil", "link": "https://stackoverflow.com/users/7849102/senthil"}, "edited": false, "score": 0, "creation_date": 1496051832, "post_id": 44237150, "comment_id": 75488433, "body": "If i run this code, it will give the ouput &quot;aaa bbb ccc&quot;. But i need is &quot;aaa bbb aaa ccc&quot;."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1496060955, "post_id": 44237150, "comment_id": 75494009, "body": "please make sure on this since there is a lack of logic instead"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1496043986, "creation_date": 1496043986, "answer_id": 44237150, "question_id": 44236935, "link": "https://stackoverflow.com/questions/44236935/i-have-to-remove-set-of-duplicate-words-in-the-given-string-using-perl/44237150#44237150", "title": "I have to remove set of duplicate words in the given string using Perl", "body": "<p>Just try this:</p>\n\n<pre><code>my $string1=\"aaa bbb aaa ccc aaa bbb\";\nmy $string2=\"fff ggg hhh ddd jjj fff ggg hhh\";\n\nmy @split = split / /, $string1;\nmy @unique = keys {map {$_ =&gt; 1} @split};\n\nmy $string3 = join \" \", sort @unique;\n\nprint $string3;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 7849102, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/6Z5Q0.jpg?s=128&g=1", "display_name": "Senthil", "link": "https://stackoverflow.com/users/7849102/senthil"}, "edited": false, "score": 0, "creation_date": 1496119547, "post_id": 44253444, "comment_id": 75515457, "body": "Hi, It is working for the given string, i am testing with some other string like &quot;fff ggg hhh ddd jjj fff ggg hhh fff ggg mmm&quot; it showing &quot;fff ggg hhh ddd jjj   mmm&quot;, but i need &quot;fff ggg hhh ddd jjj fff ggg mmm&quot;. is that possible?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 55, "user_id": 7849102, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/6Z5Q0.jpg?s=128&g=1", "display_name": "Senthil", "link": "https://stackoverflow.com/users/7849102/senthil"}, "edited": false, "score": 0, "creation_date": 1496119777, "post_id": 44253444, "comment_id": 75515517, "body": "@Senthil Are you telling you want to exit the loop in the first match. Post edited check it."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 2, "last_activity_date": 1496120992, "last_edit_date": 1496120992, "creation_date": 1496118564, "answer_id": 44253444, "question_id": 44236935, "link": "https://stackoverflow.com/questions/44236935/i-have-to-remove-set-of-duplicate-words-in-the-given-string-using-perl/44253444#44253444", "title": "I have to remove set of duplicate words in the given string using Perl", "body": "<p>I have tried with some brute force method try the following</p>\n\n<pre><code>use warnings;\nuse strict;\nuse POSIX;\n\nmy $string1=\"aaa bbb aaa ccc aaa bbb\";\n#my $string1=\"fff ggg hhh ddd jjj fff ggg hhh\";\n#my $string2 = \"fff ggg hhh ddd jjj fff ggg hhh fff ggg mmm\";\n\nmy $string1_count = () = $string1=~m/\\s+/g;\nmy $string_divide = ceil($string1_count/2);\n\nfor(my $i = $string_divide; $i &gt; 1; $i--)\n{\n    last if($string1 =~s/((?:\\w+\\s?){$i}).+\\K\\1//g);\n}\n\n\nprint \"$string1\\n\";\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7849102, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/6Z5Q0.jpg?s=128&g=1", "display_name": "Senthil", "link": "https://stackoverflow.com/users/7849102/senthil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 44253444, "answer_count": 2, "score": -1, "last_activity_date": 1542002424, "creation_date": 1496043286, "last_edit_date": 1542002424, "question_id": 44236935, "link": "https://stackoverflow.com/questions/44236935/i-have-to-remove-set-of-duplicate-words-in-the-given-string-using-perl", "title": "I have to remove set of duplicate words in the given string using Perl", "body": "<p>For Eg:-</p>\n\n<p>I have to scrape address from multiple websites. Sometimes address having repeated country name or address.</p>\n\n<pre><code>$string1=\"No 3, 3rd street mumbai india 3rd street\";\n$string2=\"#3 1019 GM Amsterdam Funda Real Estate BV 1019 GM Amsterdam The Netherlands\";\n</code></pre>\n\n<p>I need to remove the group of n number of words in the given string.\nIn the given \n$string1 contains \"3rd street\" as duplicate. I need to remove.\n$string2 contains \"1019 GM Amsterdam\" as duplicate.</p>\n\n<p>Output will be..</p>\n\n<pre><code>$string1=\"No 3, 3rd street mumbai india\";\n$string2=\"#3 1019 GM Amsterdam Funda Real Estate BV The Netherlands\";\n</code></pre>\n"}, {"tags": ["perl", "crontab"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496037270, "post_id": 44235373, "comment_id": 75480433, "body": "What error are you getting?"}, {"owner": {"reputation": 1, "user_id": 8079555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8214a0ff7642624c8ff2b6cb8e984bd3?s=128&d=identicon&r=PG&f=1", "display_name": "gopi ", "link": "https://stackoverflow.com/users/8079555/gopi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496037490, "post_id": 44235373, "comment_id": 75480526, "body": "No error @ikegami"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496037539, "post_id": 44235373, "comment_id": 75480551, "body": "Of course there is, or you wouldn&#39;t be here. What is it doing wrong?"}, {"owner": {"reputation": 1, "user_id": 8079555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8214a0ff7642624c8ff2b6cb8e984bd3?s=128&d=identicon&r=PG&f=1", "display_name": "gopi ", "link": "https://stackoverflow.com/users/8079555/gopi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496037831, "post_id": 44235373, "comment_id": 75480679, "body": "it is not running the perl file that is new.pl @ikegami"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496037875, "post_id": 44235373, "comment_id": 75480698, "body": "Why not? Is it a problem accessing the file, or is there a problem executing the script?"}, {"owner": {"reputation": 1, "user_id": 8079555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8214a0ff7642624c8ff2b6cb8e984bd3?s=128&d=identicon&r=PG&f=1", "display_name": "gopi ", "link": "https://stackoverflow.com/users/8079555/gopi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496038196, "post_id": 44235373, "comment_id": 75480857, "body": "there is no error message when i execute the file separately in terminal i.e perl use.pl it runs properly.After including into cronjob also it is not showing any error messages. @ikegami"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1496038268, "post_id": 44235373, "comment_id": 75480886, "body": "@gopi, did you not see the answer below? You are saying if you run <code>perl use.pl</code> it works, in cron you are not calling perl. Have a look at the below answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496038687, "post_id": 44235373, "comment_id": 75481101, "body": "I thought you said it wasn&#39;t running <code>new.pl</code>. That would result in error message. How are you checking for errors? Is the mail system properly setup on that machine?"}, {"owner": {"reputation": 1, "user_id": 8079555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8214a0ff7642624c8ff2b6cb8e984bd3?s=128&d=identicon&r=PG&f=1", "display_name": "gopi ", "link": "https://stackoverflow.com/users/8079555/gopi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496039352, "post_id": 44235373, "comment_id": 75481450, "body": "yes via mail system . @ikegami"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1496039926, "post_id": 44235373, "comment_id": 75481763, "body": "Start by make sure the you can get errors by adding <code>* * * * * arghh</code>. If you don&#39;t get an error for that, then you need to fix that first, then provide the error you get when you try to run <code>use.pl</code>. If you do get an error for that, then you are wrong about <code>use.pl</code> not running."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1496041883, "post_id": 44235373, "comment_id": 75482788, "body": "@gopi so are you trying anything any of us suggested?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1496081173, "post_id": 44235373, "comment_id": 75504904, "body": "From my experience the most simple way to test for cron errors is piping the output(s) to a logfile. It&#39;s simpler than checking whether the mailsystem (where cron errors usually go) is set up properly. Try <code>* * * * * &#47;home&#47;data&#47;use.pl 1&gt;&#47;tmp&#47;1.log 2&gt;&#47;tmp&#47;2.log</code> and then check the content of the two files, especially 2.log."}], "answers": [{"comments": [{"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1496039769, "post_id": 44235443, "comment_id": 75481678, "body": "This only make the script executable. But maybe there are errors inside the script."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 1, "creation_date": 1496039818, "post_id": 44235443, "comment_id": 75481705, "body": "@Patrick85 he said that the script runs fine from shell, only not working in cron, he says when I run <code>perl use.pl</code> it works."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 1, "creation_date": 1496040092, "post_id": 44235443, "comment_id": 75481856, "body": "@Patrick85, You could both be right. You could both be wrong. It&#39;s possible that is a permission issue executing the script, and it&#39;s possible that it&#39;s a problem from the script itself (permission issue, assuming cwd = $RealBin, etc)"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496040171, "post_id": 44235443, "comment_id": 75481902, "body": "@ikegami That is why I am waiting on gopi to answer if he tried it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496040645, "post_id": 44235443, "comment_id": 75482150, "body": "Quite the opposite. Not only did you assume it was a missing exec flag and answered as if that was the problem, you rejected the possibility of an alternative problem. My comments points out that your dismissal of Patrick85&#39;s comment was incorrect by giving two examples of problems that could occur &quot;inside the script&quot;."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496040789, "post_id": 44235443, "comment_id": 75482218, "body": "@ikegami. I made the conclusion purely because the OP said <i>When i run <code>perl use.pl</code> it runs properly</i> . That tells me that if he runs <code>.&#47;use.pl</code> it will not execute. So calling perl before the script or setting execute rights will most probably solve it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496040829, "post_id": 44235443, "comment_id": 75482238, "body": "I know your answer might be correct. I already said that. As for <i>probably</i> correct? I&#39;m not so sure."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1496040927, "post_id": 44235443, "comment_id": 75482280, "body": "Yes, I am not arguing with you. Just explaining how I made my conclusion and answered. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496078099, "post_id": 44235443, "comment_id": 75503594, "body": "What makes you think I didn&#39;t know???? I don&#39;t understand the point of any of your comments to me."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1496082907, "post_id": 44235443, "comment_id": 75505595, "body": "i honestly do not understand what your issue is here"}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 1, "last_activity_date": 1496037254, "creation_date": 1496037254, "answer_id": 44235443, "question_id": 44235373, "link": "https://stackoverflow.com/questions/44235373/cronjobs-are-not-running-for-perl-script/44235443#44235443", "title": "Cronjobs are not running for perl script?", "body": "<p>The script does not have the relevant permissions for the user you are running it as. You can either do</p>\n\n<pre><code>chmod +x use.pl\n</code></pre>\n\n<p>or specify path to perl in crontab.</p>\n\n<pre><code>* * * * * /usr/bin/perl /home/data/use.pl\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8079555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8214a0ff7642624c8ff2b6cb8e984bd3?s=128&d=identicon&r=PG&f=1", "display_name": "gopi ", "link": "https://stackoverflow.com/users/8079555/gopi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1496037254, "creation_date": 1496036947, "question_id": 44235373, "link": "https://stackoverflow.com/questions/44235373/cronjobs-are-not-running-for-perl-script", "title": "Cronjobs are not running for perl script?", "body": "<hr>\n\n<p>Here is my crontab line:</p>\n\n<pre><code>* * * * * /home/data/use.pl \n</code></pre>\n\n<p>When i run perl use.pl it runs properly.I need to run the above file automatically without giving it manually every time like perl use.pl in terminal.So i tried to fix it by using cronjobs.But the above line not works for me.How can i revamp it.</p>\n"}, {"tags": ["javascript", "perl", "selenium"], "owner": {"reputation": 203, "user_id": 5686845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxIrU.png?s=128&g=1", "display_name": "thepaks", "link": "https://stackoverflow.com/users/5686845/thepaks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1496036799, "creation_date": 1496036799, "question_id": 44235345, "link": "https://stackoverflow.com/questions/44235345/error-while-executing-execute-async-script-in-selenium-in-perl", "title": "Error while executing execute_async_script in Selenium in perl", "body": "<pre><code>my $script = q{\n    var xmlhttp;\n    var args = arguments[0];\n    if (window.XMLHttpRequest) {\n        xmlhttp = new XMLHttpRequest();\n    } else {\n        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    xmlhttp.onreadystatechange = function () {\n        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) {\n            callback(xmlhttp.responseText);\n        }\n    }\n    var url = \"url\";\n    xmlhttp.open(\"GET\", url, true);\n    xmlhttp.send();\n};\nmy $callback = q{return arguments[0];};\nmy $result = $driver-&gt;execute_async_script($script,'myid',$callback);\n</code></pre>\n\n<p>I'm getting below error while executing above script.</p>\n\n<blockquote>\n  <p>Error while executing command: executeAsyncScript: A script did not\n  complete before its timeout expired.: asynchronous script timeout:\n  result was not received in 0 seconds</p>\n</blockquote>\n\n<p>I also tried below but still it gives the error.</p>\n\n<pre><code>my $callback = q{return window.setTimeout(arguments[0], 1000);};\n</code></pre>\n\n<p>and call below method before executing async script.</p>\n\n<pre><code>$driver-&gt;set_async_script_timeout(1000);\n</code></pre>\n\n<p>Any help will be highly appreciated?</p>\n"}, {"tags": ["bash", "perl", "awk", "range"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 8, "creation_date": 1496033224, "post_id": 44234235, "comment_id": 75479207, "body": "You have lots of sample input and output, but no code! Where&#39;s the code you&#39;ve written, and what&#39;s wrong with it? See: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 6955, "user_id": 6136214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0385d5a1c27a6707139e7dc7ad29b6d6?s=128&d=identicon&r=PG&f=1", "display_name": "agc", "link": "https://stackoverflow.com/users/6136214/agc"}, "edited": false, "score": 2, "creation_date": 1496035125, "post_id": 44234235, "comment_id": 75479731, "body": "Please show a header for the desired output file."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 5, "creation_date": 1496040260, "post_id": 44234235, "comment_id": 75481953, "body": "What have you tried? What problems are you having? Please show us your code (if you don&#39;t have any code yet, then Stack Overflow is probably the wrong place to ask your question)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496055253, "post_id": 44234235, "comment_id": 75490485, "body": "How big are the real files?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6955, "user_id": 6136214, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0385d5a1c27a6707139e7dc7ad29b6d6?s=128&d=identicon&r=PG&f=1", "display_name": "agc", "link": "https://stackoverflow.com/users/6136214/agc"}, "edited": false, "score": 0, "creation_date": 1496055511, "post_id": 44234235, "comment_id": 75490656, "body": "@agc: It would be <code>hs  f1c  f2c  range1  range2  f3c</code>. The OP also omitted to say that the <code>f2c</code> column should be set to <code>n</code> if there is no value in the second file for the range."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496078144, "post_id": 44234235, "comment_id": 75503609, "body": "I&#39;m assuming that the last line of the second data file should be <code>ISG15       hs2    600  700</code> (600 instead of 500) since none of the other ranges overlap."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496078881, "post_id": 44234235, "comment_id": 75503904, "body": "How can the second line of output be <code>Dox11L1</code> when the input is <code>DDX11L1</code>?"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496093392, "post_id": 44234235, "comment_id": 75509513, "body": "@Borodin You&#39;re correct about you&#39;re last three comments. The real files are thousands of lines"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496093727, "post_id": 44234235, "comment_id": 75509597, "body": "@Jacob: What size are the files, in KB or MB?"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1496093752, "post_id": 44234235, "comment_id": 75509612, "body": "@DaveCross I did not have any code yet. I wasn&#39;t sure how I could match these things up and any sort of advice or guidance I could get would have been good"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496094010, "post_id": 44234235, "comment_id": 75509691, "body": "@Borodin first file: 40K, second file: 1.3M, third file 4K. They&#39;re not all thousands of lines, sorry"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496094211, "post_id": 44234235, "comment_id": 75509758, "body": "@Jacob: That should be okay. If the files had been enormous then there was a chance that my solution would run out of memory. It will probably take several seconds to run but it should produce the result that you want. Have you tried it with live data yet?"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1496095137, "post_id": 44234235, "comment_id": 75510058, "body": "@Borodin Not yet, I will have to in a few hours, thank-you"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1496121916, "post_id": 44234235, "comment_id": 75516258, "body": "@Jacob: If you don&#39;t have any code, then Stack Overflow is not the right site to be asking for help."}], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1496123091, "post_id": 44248521, "comment_id": 75516763, "body": "Thanks, it works good, but for every region which does not show up in file3 I get this error <code>Argument &quot;n&quot; isn&#39;t numeric in printf at .&#47;script.pl line 81. hsX   p11   n         530       535     0</code>. This doesn&#39;t seem to be a problem for me right now however because things still print but do you know whats going on?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1496124904, "post_id": 44248521, "comment_id": 75517561, "body": "@Jacob: What do you want in that column for a missing value? <code>n</code>, or zero <code>0</code>? How long does it take to run?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1496093779, "last_edit_date": 1496093779, "creation_date": 1496082271, "answer_id": 44248521, "question_id": 44234235, "link": "https://stackoverflow.com/questions/44234235/joining-fields-from-different-files-based-on-a-number-range/44248521#44248521", "title": "Joining fields from different files based on a number range", "body": "\n\n<p>I have written this to help you, but you need to understand that your question is unacceptable on a site that offers diagnostic help for free. You can't simply put up your requirement and wait for a high-quality free solution to pop up. I wrote an answer only because it is a bank holiday in my country and the problem interested me</p>\n\n<p>I have put a lot more effort into creating this than you obviously have in writing your question, and you haven't even been bothered to answer the several questions that people have asked you in the comments</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nuse Readonly::Tiny 'Readonly';\n\nReadonly my @FILES       =&gt; qw/ file1.txt file2.txt file3.txt /;\nReadonly my $FORMAT      =&gt; \"%-6s%-6s%-10s%-5d%-5d%d\\n\";\nReadonly my @OUTPUT      =&gt; qw/ hs f1c f2c range1 range2 f3c /;\nReadonly my @KEY_COLUMNS =&gt; qw/ hs range1 range2 /;\n\nmy %data;   # All the data for each value of `hs` \nmy %bounds; # All the values of `range1` or `range2` for each value of `hs` \nmy %heads;  # All the headers found in any of the files\n\n# From each file, read the header line and use the\n# headers as keys for the data hashes representing each line\n#\nfor my $file ( @FILES ) {\n\n    open my $fh, '&lt;', $file; # Errors handled by `autodie`\n\n    my @head = split ' ', &lt;$fh&gt;;\n    @heads{@head} = ();\n\n    while ( &lt;$fh&gt; ) {\n\n        next unless /\\S/;\n\n        my %row;\n        @row{@head} = split;\n\n        my ($hs, $r1, $r2) = @row{ @KEY_COLUMNS };\n        push @{ $data{$hs} }, \\%row;\n\n        ++$bounds{$hs}{$_} for $r1, $r2;\n    }\n}\n\n\n# Change the `%bounds` hash values from\n# hashes to sorted arrays of the boundary values\n#\nfor ( values %bounds ) {\n\n    my @vals = sort {\n        my ($aa, $bb) = map { tr/0-9//cdr } $a, $b;\n        $aa &lt;=&gt; $bb;\n    } keys %$_;\n\n    $_ = \\@vals;\n}\n\n# Work through the `%bounds` hash\n# printing a line of output for each range\n#\nfor my $hs ( sort keys %bounds ) {\n\n    my $bounds = $bounds{$hs};\n    my $data   = $data{$hs};\n\n    for my $i ( 1 .. $#$bounds ) {\n\n        my ($r1, $r2) = map { $bounds-&gt;[$_] } $i-1, $i;\n\n        my @matches = grep {\n            $r1 &gt;= $_-&gt;{range1} and $r2 &lt;= $_-&gt;{range2}\n        } @$data;\n\n        my %row;\n\n        for my $match ( @matches ) {\n            @row{ keys %$match } = values %$match;\n        }\n\n        @row{ @KEY_COLUMNS } = ($hs, $r1, $r2); # Overwrite in the new key values\n\n        printf $FORMAT, map { $_ // 'n' } @row{ @OUTPUT };\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>hs1   p32   n         0    20   -1\nhs1   p32   DDX11L1   20   50   -1\nhs1   p32   FAM41C    50   70   -1\nhs1   p32   WASH7P    70   120  -1\nhs1   p32   n         120  180  -1\nhs1   p32   FAM138A   180  200  -1\nhs1   p31   FAM138A   200  250  -2\nhs1   p31   n         250  300  -2\nhs1   p30   n         300  350  -2\nhs2   p32   OR4F5     0    50   -1\nhs2   p32   KLHL17    50   100  -1\nhs2   p32   PLEKHN1   100  150  -1\nhs2   p32   n         150  300  -1\nhs2   p31   LOC729737 300  500  -1\nhs2   p30   HES4      500  600  -2\nhs2   p30   ISG15     600  700  -2\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 44248521, "answer_count": 1, "score": 0, "last_activity_date": 1496093779, "creation_date": 1496028695, "last_edit_date": 1496093072, "question_id": 44234235, "link": "https://stackoverflow.com/questions/44234235/joining-fields-from-different-files-based-on-a-number-range", "title": "Joining fields from different files based on a number range", "body": "\n\n<p>I have three files with mostly similar information, but one unique filed. I want to combine these into one file. What the files have in common is the columns with the heading hs and the columns with the heading range1 and range2. The columns which are different are those labelled f1c, f2c and f3c. I want to combine the files based on what regions overlap within range1 and range2 (the hs columns must also match in this situation).</p>\n\n<p>Its like the ranges are two bars, bar1(hs1) has 350 sections and bar2(hs2) has 700 sections. The values under f1c f2c and f3c all fit within a certain amount of these sections on either bar. For the values that fit within the same section, I want to list them beside each other.</p>\n\n<p>Any sort of solution in bash, awk or perl would work, I'm just not sure how I can match these things up based on the ranges.</p>\n\n<p>Here is an example of the files</p>\n\n<p>First file format</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>hs  f1c range1 range2\nhs1 p32 0      200\nhs1 p31 200    300\nhs1 p30 300    350\nhs2 p32 0      300\nhs2 p31 300    500\nhs2 p30 500    700\n</code></pre>\n\n<p>Second file Format</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>f2c       hs     range1 range2\nDDX11L1   hs1    20     50\nFAM41C    hs1    50     70\nWASH7P    hs1    70     120\nFAM138A   hs1    180    250\nOR4F5     hs2    0      50\nKLHL17    hs2    50     100\nPLEKHN1   hs2    100    150\nLOC729737 hs2    300    500 \nHES4      hs2    500    600\nISG15     hs2    600    700\n</code></pre>\n\n<p>Third file format</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>hs  range1 range2 f3c\nhs1 0      200    -1\nhs1 200    350    -2\nhs2 0      500    -1\nhs2 500    700    -2\n</code></pre>\n\n<p>Here is an example of the desired output (There is an n under f2c if there is no value within file2 that is within the range)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>hs    f1c   f2c      range1 range2 f3c\nhs1   p32   n         0      20     -1   // From the 1st line of file3, and the 1st line of file1\nhs1   p32   DDX11L1   20     50     -1   // From the 1st line of file1, 1st line of file2 and 1st line of file3\nhs1   p32   FAM41C    50     70     -1   // From the 1st line of file1, 2nd line of file2 and 1st line of file3\nhs1   p32   WASH7P    70     120    -1   // 1st line file1, 3rd line file2, first line file3\nhs1   p32   n         120    180    -1   // 1st line file1, 1st line file3\nhs1   p32   FAM13BA   180    200    -1   // 1st line file1, 4th line file2, 1st line file3\nhs1   p31   FAM13BA   200    250.   -2   // 2nd line file1, 4th line file2, 2nd line file3\nhs1   p31   n         250.   300    -2   // 2nd line file1, 2nd line file3\nhs1   p30   n         300    350    -2   // 3rd line file1, 2nd line file3\nhs2   p32   OR4FS     0      50     -1\nhs2   p32   KLHL17    50     100    -1\nhs2   p32   PLEKHN1   100    150    -1\nhs2   p32   n         150    300    -1\nhs2   p31   LOC729737 300    500    -1\nhs2   p30   HES4      500    600    -2\nhs2   p30   ISG15     600    700    -2\n</code></pre>\n\n<p>Thank-you</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1495983723, "post_id": 44228619, "comment_id": 75467393, "body": "Welcome to StackOverflow.   Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>,   learn asking good questions stackoverflow.com/help/how-to-ask,   make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.   Provide more information on what goes wrong, how. I.e. provide current result in comparison to desired result."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495984139, "post_id": 44228619, "comment_id": 75467530, "body": "You probably want the <code>&#47;g</code> modifier. And you also want to open your file for reading. You opened it in append writing mode <code>&gt;&gt;</code>. What kind of tutorial or book are you using?"}, {"owner": {"reputation": 3, "user_id": 8077834, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334192829949104/picture?type=large", "display_name": "Darentina", "link": "https://stackoverflow.com/users/8077834/darentina"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495984623, "post_id": 44228619, "comment_id": 75467721, "body": "@simbabque I just found some tutorials in the internet. I used to read the book but it wasn&#180;t useful to me."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495985125, "post_id": 44228619, "comment_id": 75467888, "body": "Which tutorial? Please give me a link."}, {"owner": {"reputation": 3, "user_id": 8077834, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334192829949104/picture?type=large", "display_name": "Darentina", "link": "https://stackoverflow.com/users/8077834/darentina"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495985694, "post_id": 44228619, "comment_id": 75468049, "body": "@simbabque From this site <a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/webprogramming/Perl2_Regexe.html\" rel=\"nofollow noreferrer\">www3.ntu.edu.sg/home/ehchua/programming/webprogramming/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1495986848, "post_id": 44228619, "comment_id": 75468403, "body": "Well, it&#39;s not the most current, but it looks fine. Search in the page for <code>FileChange.pl</code>. That shows how to open two different file handles, read from one and write to the other."}, {"owner": {"reputation": 3, "user_id": 8077834, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334192829949104/picture?type=large", "display_name": "Darentina", "link": "https://stackoverflow.com/users/8077834/darentina"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495987569, "post_id": 44228619, "comment_id": 75468622, "body": "@simbabque OK. Thank You very much!"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1496040193, "last_edit_date": 1496040193, "creation_date": 1495990347, "answer_id": 44229805, "question_id": 44228619, "link": "https://stackoverflow.com/questions/44228619/how-to-overwrite-the-file/44229805#44229805", "title": "How to overwrite the file", "body": "<p>If you're going to spend any amount of time programming in Perl, then it will be well worth taking the time to read through the <a href=\"https://perldoc.perl.org/perlfaq.html\" rel=\"nofollow noreferrer\">Perl FAQ</a>. One of the questions answered in section 4 seems useful here.</p>\n\n<p><a href=\"https://perldoc.perl.org/perlfaq5.html#How-do-I-change%2C-delete%2C-or-insert-a-line-in-a-file%2C-or-append-to-the-beginning-of-a-file%3F\" rel=\"nofollow noreferrer\">How do I change, delete, or insert a line in a file, or append to the beginning of a file?</a></p>\n\n<p>The answer starts like this:</p>\n\n<blockquote>\n  <p>The basic idea of inserting, changing, or deleting a line from a text\n  file involves reading and printing the file to the point you want to\n  make the change, making the change, then reading and printing the rest\n  of the file. Perl doesn't provide random access to lines (especially\n  since the record input separator, <code>$/</code>, is mutable), although modules\n  such as <a href=\"https://perldoc.perl.org/Tie/File.html\" rel=\"nofollow noreferrer\">Tie::File</a> can fake it.</p>\n  \n  <p>A Perl program to do these tasks takes the basic form of opening a file,\n  printing its lines, then closing the\n  file:</p>\n\n<pre><code>   open my $in,  '&lt;',  $file      or die \"Can't read old file: $!\";\n   open my $out, '&gt;', \"$file.new\" or die \"Can't write new file: $!\";\n   while( &lt;$in&gt; ) {\n        print $out $_;\n   }\n   close $out;\n</code></pre>\n</blockquote>\n\n<p>A few comments on your current code:</p>\n\n<ul>\n<li>You don't need both <code>-w</code> and <code>use warnings</code>. Most people just use the latter.</li>\n<li>Please use the three-argument version of <code>open()</code> and lexical filehandles - <code>open my $file_handle, '&gt;&gt;', 'apple.txt'</code>.</li>\n<li>You should always check the return value from <code>open()</code> and take appropriate action. Often people use <code>die()</code> for this - <code>open my $file_handle, '&gt;&gt;', 'apple.txt' or die \"Can't open file: $!</code>.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 0, "last_activity_date": 1496037449, "last_edit_date": 1496037449, "creation_date": 1496002046, "answer_id": 44231535, "question_id": 44228619, "link": "https://stackoverflow.com/questions/44228619/how-to-overwrite-the-file/44231535#44231535", "title": "How to overwrite the file", "body": "<p>Perl generally does not support direct access to files.\nIt is preferred to write the changed content to a temporary file,\nclose both input and output files and rename the temporary file to the input.</p>\n\n<p>Or if this is <strong>the only thing</strong> you want to do, you can use\na <em>one-liner</em> command like:</p>\n\n<pre><code>perl -p -i -e \"s/is/at/\" -- apple.txt\n</code></pre>\n\n<p>which does roughly the same.</p>\n\n<p>Or if you <strong>very much</strong> want to program this operation\non your own, then:</p>\n\n<ul>\n<li>visit <em>perldoc.perl.org/perlrun.html</em> page,</li>\n<li>find description of <code>-i[extension]</code> option,</li>\n<li>after words <em>which is equivalent to</em> you will find the equivalent Perl code.</li>\n</ul>\n\n<p>And a remark concerning your code:</p>\n\n<pre><code>open (FILE, '&gt;&gt;apple.txt');\n</code></pre>\n\n<p>opens the file with the current position pointer <strong>at the end of the file</strong>,\nso any <em>print</em> command <strong>adds</strong> the text, instead of overwriting the file\nfrom the start.</p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1496050998, "creation_date": 1496050998, "answer_id": 44239313, "question_id": 44228619, "link": "https://stackoverflow.com/questions/44228619/how-to-overwrite-the-file/44239313#44239313", "title": "How to overwrite the file", "body": "<p>There is a module named <code>Tie::File</code> can do the request might be:</p>\n\n<pre><code>use Tie::File;\n\nmy $inputFile = \"test.txt\";\n\nmy @array = ();\ntie @array, 'Tie::File', $inputFile || die \"Error: Couldn't tie the \\\"$inputFile\\\" file: $!\";\nmy $len = join \"\\n\", @array;\n\nif($len=~m/is/) {  $len=~s/is/at/g;  }\n\n@array = split/\\n/, $len;\nuntie @array;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8077834, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334192829949104/picture?type=large", "display_name": "Darentina", "link": "https://stackoverflow.com/users/8077834/darentina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1496050998, "creation_date": 1495983181, "last_edit_date": 1496022649, "question_id": 44228619, "link": "https://stackoverflow.com/questions/44228619/how-to-overwrite-the-file", "title": "How to overwrite the file", "body": "<p>I try to learn Perl and have some problems. I tried to overwrite the original file but It didn't work. Please, help me. </p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse diagnostics;\nuse warnings;\nuse strict;\n\nopen (FILE, '&gt;&gt;apple.txt');\nwhile (&lt;FILE&gt;){      \n    s/is/at/;    # Substitute 'is' for 'at'\n    print FILE;\n    close (FILE);   \n}\n</code></pre>\n\n<p>I tried to change all <code>is</code> to <code>at</code> and to write the result into the original file. </p>\n\n<p>Maybe I missed something. </p>\n"}, {"tags": ["regex", "perl", "perl-module", "regex-negation"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1495983625, "post_id": 44228608, "comment_id": 75467357, "body": "Welcome to StackOverflow.   Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>,   learn asking good questions stackoverflow.com/help/how-to-ask,   make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.   An MCVE should include a variety of sample input (illustrating all aspects) and desired output.   Please show your own coding attempts."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1495989739, "post_id": 44228608, "comment_id": 75469303, "body": "What have you tried? What problems are you having? Please show us your code (if you don&#39;t have any code, then Stack Overflow is probably the wrong place to be asking this question)."}], "answers": [{"comments": [{"owner": {"reputation": 3091, "user_id": 1041046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9afce433e4e51c6947fd4601062b7a45?s=128&d=identicon&r=PG&f=1", "display_name": "AaA", "link": "https://stackoverflow.com/users/1041046/aaa"}, "edited": false, "score": 0, "creation_date": 1603161061, "post_id": 44232161, "comment_id": 113941720, "body": "This doesn&#39;t look like regex, I do have same question however I need to use it to configure nginx"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1496006580, "creation_date": 1496006580, "answer_id": 44232161, "question_id": 44228608, "link": "https://stackoverflow.com/questions/44228608/how-to-split-path-up-to-certain-hierarchy/44232161#44232161", "title": "How to split path up to certain hierarchy", "body": "<p>It looks like you just want the path to the parent directory; is that right? I wouldn't call it \"splitting\" the path</p>\n\n<p>Is the restriction on using a regex pattern a genuine one, or did you just think it would be the best method?</p>\n\n<p>Here's a program that uses <code>Path::Tiny</code> to do what you ask</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Path::Tiny;\n\nmy $path = Path::Tiny-&gt;new('funit/pipe/str/str32/gt/split');\n\nsay $path;\nsay $path-&gt;parent;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>funit/pipe/str/str32/gt/split\nfunit/pipe/str/str32/gt\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4880257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ebf3c2fd471cc845bfa19232bf56506?s=128&d=identicon&r=PG&f=1", "display_name": "Ritika Khurana", "link": "https://stackoverflow.com/users/4880257/ritika-khurana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1496006580, "creation_date": 1495983073, "last_edit_date": 1496006162, "question_id": 44228608, "link": "https://stackoverflow.com/questions/44228608/how-to-split-path-up-to-certain-hierarchy", "title": "How to split path up to certain hierarchy", "body": "<p>I want to use Perl to split the  path</p>\n\n<pre><code>funit/pipe/str/str32/gt/split\n</code></pre>\n\n<p>up to</p>\n\n<pre><code>funit/pipe/str/str32/gt\n</code></pre>\n\n<p>using a regular expression.</p>\n"}, {"tags": ["perl", "unix", "grep", "find"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1495967130, "post_id": 44226191, "comment_id": 75462448, "body": "do you want to feed the Perl script with the directory name of the file?"}, {"owner": {"reputation": 31, "user_id": 7183127, "user_type": "registered", "profile_image": "https://graph.facebook.com/210283359412215/picture?type=large", "display_name": "Jorge", "link": "https://stackoverflow.com/users/7183127/jorge"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1495967304, "post_id": 44226191, "comment_id": 75462507, "body": "no. the Perl one liner is just to &quot;modify&quot; the file content so I can grep what I want. So I feed the Perl script with the found file content."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1495967437, "post_id": 44226191, "comment_id": 75462543, "body": "but in your example code you do not feed the Perl script with the found file content, rather you feed it with a filename. Can you describe your expected output?"}, {"owner": {"reputation": 31, "user_id": 7183127, "user_type": "registered", "profile_image": "https://graph.facebook.com/210283359412215/picture?type=large", "display_name": "Jorge", "link": "https://stackoverflow.com/users/7183127/jorge"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1495967701, "post_id": 44226191, "comment_id": 75462621, "body": "yes you are right. The expected output would be something like:      -path_of_found_file ---&gt; &quot;grepped&quot; content of the file."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1495967918, "post_id": 44226191, "comment_id": 75462678, "body": "Please show us some sample input along with your expected output."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1495968056, "post_id": 44226191, "comment_id": 75462719, "body": "@Jorge You can print the path from within the perl script, it is in <code>$ARGV</code>"}, {"owner": {"reputation": 31, "user_id": 7183127, "user_type": "registered", "profile_image": "https://graph.facebook.com/210283359412215/picture?type=large", "display_name": "Jorge", "link": "https://stackoverflow.com/users/7183127/jorge"}, "edited": false, "score": 0, "creation_date": 1495968223, "post_id": 44226191, "comment_id": 75462779, "body": "i have something like perl -pe &quot;s[ \\t]+# #g&quot; . i can print the path  ?"}, {"owner": {"reputation": 31, "user_id": 7183127, "user_type": "registered", "profile_image": "https://graph.facebook.com/210283359412215/picture?type=large", "display_name": "Jorge", "link": "https://stackoverflow.com/users/7183127/jorge"}, "edited": false, "score": 0, "creation_date": 1495968580, "post_id": 44226191, "comment_id": 75462889, "body": "Im not proficient with perl. just use it to regexp manipulation."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1495968907, "post_id": 44226191, "comment_id": 75462978, "body": "If you print the filename from the perl one-liner the greps later in the pipeline will remove it from the final output, so you need to add the filename after the last grep somehow? Then it might be better just to put the greps inside the perl script"}, {"owner": {"reputation": 31, "user_id": 7183127, "user_type": "registered", "profile_image": "https://graph.facebook.com/210283359412215/picture?type=large", "display_name": "Jorge", "link": "https://stackoverflow.com/users/7183127/jorge"}, "edited": false, "score": 0, "creation_date": 1495970036, "post_id": 44226191, "comment_id": 75463261, "body": "yes that&#39;s what&#39;s happening. Put the greps inside the perl script? that&#39;s possible?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496009811, "post_id": 44226191, "comment_id": 75475026, "body": "Why not have a single Perl script for all of this, instead of a complex pipeline?  So you have a hierarchy, you want to find certain files, extract (&quot;grep&quot;) some content, and replace (some other?) content, and to show path_to_file --&gt; grepped_content? Is this correct?  As Dave asked, can you please edit the question with a clear statement on this?"}, {"owner": {"reputation": 31, "user_id": 7183127, "user_type": "registered", "profile_image": "https://graph.facebook.com/210283359412215/picture?type=large", "display_name": "Jorge", "link": "https://stackoverflow.com/users/7183127/jorge"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496051197, "post_id": 44226191, "comment_id": 75488035, "body": "yes it&#39;s that @zdim"}], "owner": {"reputation": 31, "user_id": 7183127, "user_type": "registered", "profile_image": "https://graph.facebook.com/210283359412215/picture?type=large", "display_name": "Jorge", "link": "https://stackoverflow.com/users/7183127/jorge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495966767, "creation_date": 1495966767, "question_id": 44226191, "link": "https://stackoverflow.com/questions/44226191/find-files-directory-and-grep-modified-by-perl-file-content", "title": "Find files directory and grep modified (by perl) file content", "body": "<p>I have something like a tree structure of directories, with some of them having inside a file named \"Filename\". Inside each of these files, there is some information that I would like to access after changing its \"look\".\nHere's what I have:</p>\n\n<pre><code>find . - name \"Filename\" | xargs perl -pe ...(one liner to change \"look\" of file, and put info i want to grep in one line) | grep \"WhatIWantToShow\" | egrep \"exclude|some|stuff\"\n</code></pre>\n\n<p>This works fine and it outputs the info I pretended.\nBut I also need the directory name for each of the files found, and in which the grep was applied.</p>\n\n<p>Thats now a big headache for me. Im stuck.\nWould appreciate if you guys can show me some light. Thanks.</p>\n"}, {"tags": ["perl", "exim", "exim4"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1495964719, "post_id": 44225796, "comment_id": 75461742, "body": "It seems to me you have a config file and are trying to just type perl commands in there hoping to get some result I am not sure of. Please clean up the question to make clear what you actually want. If you want to use perl to do something please post a usable piece of code or at least enough to have a chance at guessing what you&#39;re trying to do."}, {"owner": {"reputation": 136, "user_id": 3881111, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d93a404fe792f863b01f89c7c617667a?s=128&d=identicon&r=PG&f=1", "display_name": "Motsim", "link": "https://stackoverflow.com/users/3881111/motsim"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1495966570, "post_id": 44225796, "comment_id": 75462295, "body": "I have edited it. I dont know what more i can explain. Basically I am trying to rotate customs ips along with their respective custom host names in exim which is built with perl"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1495967697, "post_id": 44225796, "comment_id": 75462619, "body": "Please fix the formatting of your question. Some of your code is being formatted as plain text. If you want us to look at your code, it is polite to make it as easy to understand as possible. Also, your definition of <code>@inet</code> seems to be missing a few quote characters - meaning that the code as it stands doesn&#39;t even compile. If you don&#39;t care enough to give us an accurate copy of your code, then why would we care enough to help you?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1495968498, "post_id": 44225796, "comment_id": 75462872, "body": "<code>$#inet+1</code> is better written as <code>@inet</code>. And in this case you don&#39;t even need <code>int</code>: <code>return $inet[rand @inet];</code>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1495989404, "post_id": 44225796, "comment_id": 75469203, "body": "What does this have to do with bash at all? You can&#39;t use bash expansions in perl code any more than you could put Python syntax in C."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1496052138, "post_id": 44225796, "comment_id": 75488604, "body": "@CharlesDuffy: Pedantically, he was trying to use bash expansions in Exim configuration code, not Perl code. Still doesn&#39;t work though :-)"}], "answers": [{"comments": [{"owner": {"reputation": 136, "user_id": 3881111, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d93a404fe792f863b01f89c7c617667a?s=128&d=identicon&r=PG&f=1", "display_name": "Motsim", "link": "https://stackoverflow.com/users/3881111/motsim"}, "edited": false, "score": 0, "creation_date": 1495969374, "post_id": 44226379, "comment_id": 75463099, "body": "Thanks a lot for reply. I am trying to get first part of string before colon for each random array value for &quot;interface&quot; and part after colon for &quot;helo_data&quot; . Therefore, cannot use only `&quot;${perl{randomhosts}}&quot;."}], "tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 1, "last_activity_date": 1495968251, "creation_date": 1495968251, "answer_id": 44226379, "question_id": 44225796, "link": "https://stackoverflow.com/questions/44225796/exim-getting-random-credential-in-exim-conf/44226379#44226379", "title": "Exim getting random credential in exim.conf", "body": "<p>First I would like to note I have not worked with exim so I cannot say what exactly you are trying to do and why you have done things exactly so.</p>\n\n<p>In the link you posted, a method called 'randinet' is added to exim.pl and the interface line in exim.conf is replaced by</p>\n\n<p><code>interface = \"${perl{randinet}}\"</code></p>\n\n<p>You have implemented a 'randomhosts' method and replaced the interface line with</p>\n\n<p><code>interface = \"${perl{randomhosts}%:*}\"</code></p>\n\n<p>Now the parser complains about not finding the closing bracket. That is likely due to the symbols you felt free to add but the parser does not have the freedom to ignore.</p>\n\n<p>I suggest you try</p>\n\n<p><code>interface = \"${perl{randomhosts}}\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 136, "user_id": 3881111, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d93a404fe792f863b01f89c7c617667a?s=128&d=identicon&r=PG&f=1", "display_name": "Motsim", "link": "https://stackoverflow.com/users/3881111/motsim"}, "edited": false, "score": 0, "creation_date": 1495990335, "post_id": 44226661, "comment_id": 75469478, "body": "Thanks for your help Dave. However, this exim syntax was the problem. The method you introduced here does achieve what I was trying to get. Thanks again.."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 136, "user_id": 3881111, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d93a404fe792f863b01f89c7c617667a?s=128&d=identicon&r=PG&f=1", "display_name": "Motsim", "link": "https://stackoverflow.com/users/3881111/motsim"}, "edited": false, "score": 0, "creation_date": 1495990735, "post_id": 44226661, "comment_id": 75469608, "body": "@Motsim: I&#39;m glad it&#39;s useful. I hope you have taken the time understand how it works rather than just copying and pasting it. Stack Overflow is not a free code-writing service."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1495988405, "last_edit_date": 1495988405, "creation_date": 1495970143, "answer_id": 44226661, "question_id": 44225796, "link": "https://stackoverflow.com/questions/44225796/exim-getting-random-credential-in-exim-conf/44226661#44226661", "title": "Exim getting random credential in exim.conf", "body": "<p>The code that you are trying to copy was written by someone who doesn't know much about Perl. It includes this line:</p>\n\n<pre><code>return $inet[int rand($#inet+1)];\n</code></pre>\n\n<p>A Perl programmer would write this as</p>\n\n<pre><code>return $inet[rand @inet];\n</code></pre>\n\n<p>I think there are a couple of issues here - one with your Exim syntax and one with your Perl syntax.</p>\n\n<p>Exim is giving you this error:</p>\n\n<blockquote>\n  <p>failed to expand \"interface\" option for dkim_remote_smtp transport: missing '}' after 'perl'</p>\n</blockquote>\n\n<p>I don't know anything about calling Perl from Exim, but <a href=\"http://www.exim.org/exim-html-current/doc/html/spec_html/ch-embedded_perl.html\" rel=\"nofollow noreferrer\">this page</a> mentions a syntax like <code>${perl{foo}}</code> (which is similar to the one used in the page you are copying from) and one like <code>${perl{foo}{argument}}</code> for calling a subroutine and passing it an argument. Nowhere does it mention syntax like yours:</p>\n\n<pre><code>${perl{randomhosts}%:*}\n</code></pre>\n\n<p>I'm not sure where you have got that syntax from, but it seems likely that this is what is causing your first error.</p>\n\n<p>In a comment, you say</p>\n\n<blockquote>\n  <p>I am stying to get first part of string before colon for each random array value for \"interface\" and part after colon for \"helo_data\"</p>\n</blockquote>\n\n<p>It seems to me that Exim doesn't support this requirement. You would need to call the function twice to get the two pieces of information that you require. You might be able to do this in the Perl using something like <code>state</code> variables - but it would be far more complex than the code you currently have there.</p>\n\n<p>Secondly, your Perl code has a syntax error, so even if Exim was able to call your code, it wouldn't work.</p>\n\n<p>The code you're copying sets up <code>@inet</code> like this:</p>\n\n<pre><code>@inet = (\"x.x.x.1\", \"x.x.x.2\", \"x.x.x.3\", \"x.x.x.4\");\n</code></pre>\n\n<p>Your equivalent code is this:</p>\n\n<pre><code>@inet = (\n  \"x.x.x.1:hostname1.domain.com\",\n  \"x.x.x.2:hostname2.domain.com,\n  x.x.x.3:hostname3.domain.com\n );\n</code></pre>\n\n<p>I've reformatted it, to make the problems more obvious. You are missing a number of quote marks around the elements of the array. (<strong>Note:</strong> I see that while I have been writing this answer, you have fixed that.)</p>\n\n<p><strong>Update:</strong> Ok, here is some code to put into <code>exim.pl</code> that does what you want.</p>\n\n<pre><code>use feature qw[state];\n\nsub randomhosts {\n  state $current;\n\n  my @inet = (\n    \"x.x.x.1:hostname1.domain.com\",\n    \"x.x.x.2:hostname2.domain.com\",\n    \"x.x.x.3:hostname3.domain.com\"\n  );\n\n  if ($_[0] eq 'generate') {\n    shift;\n    @{$current}{qw[ip host]} = split /:/, $inet[rand @inet];\n  }\n\n  return $current-&gt;{$_[0]};\n}\n</code></pre>\n\n<p>It generates a new ip/host pair if its first argument is 'generate'. It will then return either the hostname or the ip address from the generated pair. I think you can probably call it from your Exim config file like this:</p>\n\n<pre><code>dkim_remote_smtp:\n  driver = smtp\n  interface = \"${perl{randomhosts}{generate}{ip}}\"\n  helo_data = \"${perl{randomhosts}{host}}\"\n</code></pre>\n\n<p>But I'm no expert in Exim, so that syntax might need tweaking.</p>\n"}], "owner": {"reputation": 136, "user_id": 3881111, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d93a404fe792f863b01f89c7c617667a?s=128&d=identicon&r=PG&f=1", "display_name": "Motsim", "link": "https://stackoverflow.com/users/3881111/motsim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 44226661, "answer_count": 2, "score": 0, "last_activity_date": 1496071508, "creation_date": 1495964006, "last_edit_date": 1496071508, "question_id": 44225796, "link": "https://stackoverflow.com/questions/44225796/exim-getting-random-credential-in-exim-conf", "title": "Exim getting random credential in exim.conf", "body": "<p>I have been trying to get perl subroutine value and substitution to get the required part of string from randomips subroutine in exim.conf. However when i use string substitution i get error as follow:  </p>\n\n<p><a href=\"http://reqad.com/how-to-send-mail-from-multiple-ips-in-exim.html\" rel=\"nofollow noreferrer\">Here is what I am trying to achieve</a></p>\n\n<p>I am trying to split string by colon and get first occurrence as \"interface\". I'll be using second occurrence as the \"helo_data.</p>\n\n<p>exim.pl </p>\n\n<pre><code>sub randomhosts {\n@inet = (\"x.x.x.1:hostname1.domain.com\",\"x.x.x.2:hostname2.domain.com\",\"x.x.x.3:hostname3.domain.com\"\n);\n\nreturn $inet[int rand($#inet+1)];\n\n}\n</code></pre>\n\n<p>exim.conf</p>\n\n<pre><code>dkim_remote_smtp:\n  driver = smtp\n  interface = \"${perl{randomhosts}%:*}\"\n  helo_data = \"${sender_address_domain}\"\n</code></pre>\n\n<p>Error I get is as follow:</p>\n\n<p><code>\"failed to expand \"interface\" option for dkim_remote_smtp transport: missing '}' after 'perl'\".</code>\nProbably the syntax. \nAny help?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1495920948, "post_id": 44221795, "comment_id": 75454050, "body": "Wow!! What a rapid reply. Thanks a lot, @bytepusher. It worked."}], "tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 2, "last_activity_date": 1495920696, "creation_date": 1495920696, "answer_id": 44221795, "question_id": 44221769, "link": "https://stackoverflow.com/questions/44221769/to-remove-the-newline-character-of-a-variable-in-perl/44221795#44221795", "title": "To remove the newline character of a variable in perl", "body": "<p>The <code>s</code> modifier to regexes causes <code>.</code> to match newlines.</p>\n\n<p>So your regex should be </p>\n\n<pre><code>$test=~ m/(.*)Starting(.*)/s;\n</code></pre>\n\n<p>to get the behaviour you want.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1495922841, "post_id": 44221801, "comment_id": 75454491, "body": "@nandeeshv: Note that the second <code>(.*)</code> is superfluous unless you also want to use <code>$2</code>"}, {"owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1495923271, "post_id": 44221801, "comment_id": 75454590, "body": "Actually I am trying to store the results printed on the terminal. I am running my make file and storing the result printed as below. system(&quot;make&quot;); my $var = <code>.\\&#47;fir.exe</code>; I am using backsticks to store the results printed on the screen"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "edited": false, "score": 0, "creation_date": 1495933679, "post_id": 44221801, "comment_id": 75456294, "body": "@nandeeshv: Then it would have been better to say so in the question. If you use `` my @result = <code>command</code> ``. Then the output is already split into lines, one per array element. But what do you want to do with the result?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1495920744, "creation_date": 1495920744, "answer_id": 44221801, "question_id": 44221769, "link": "https://stackoverflow.com/questions/44221769/to-remove-the-newline-character-of-a-variable-in-perl/44221801#44221801", "title": "To remove the newline character of a variable in perl", "body": "<p>The dot doesn't match a newline unless you use the <code>/s</code> modifier.</p>\n\n<pre><code>$test =~ /(.*)Starting(.*)/s;\n</code></pre>\n\n<p>Are you sure you want the newlines to be part of the captured strings?</p>\n"}, {"comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1495921428, "post_id": 44221822, "comment_id": 75454150, "body": "One could also split on &quot;Starting&quot;, which is what the OP seems to be trying to do ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495921525, "post_id": 44221822, "comment_id": 75454171, "body": "Or , using the dot&#39;s fickleness as it was intended, <code>my @lines = $test =~ &#47;.+&#47;g</code> (or <code>&#47;(.*)\\n&#47;g</code> if you&#39;re interested in blank lines)"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495921672, "post_id": 44221822, "comment_id": 75454199, "body": "@Borodin Clever, but needlessly obtuse."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495922063, "post_id": 44221822, "comment_id": 75454284, "body": "I&#39;m not so sure. I try never to be in the position of having text with embedded newlines anyway, and there&#39;s usually more selection to be done than just finding newlines. Your solution seems like shell-thinking to me."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1495920925, "creation_date": 1495920925, "answer_id": 44221822, "question_id": 44221769, "link": "https://stackoverflow.com/questions/44221769/to-remove-the-newline-character-of-a-variable-in-perl/44221822#44221822", "title": "To remove the newline character of a variable in perl", "body": "<p>Other answers have corrected your regex. But if your goal is to split a string into lines, use <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $test = \"gsfdsd gsfgsfg sfghsdg \nStarting \ngahgahd vvsfdh\";\nmy @lines = split /\\n/, $test;\nsay \"First line:  $lines[0]\";\nsay \"Second line: $lines[1]\";\nsay \"Third line:  $lines[2]\";\n</code></pre>\n\n<p>If your goal is to get the first and third lines, using <code>split</code> means you don't need to know what the content of the second line is.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1495922691, "creation_date": 1495922691, "answer_id": 44222014, "question_id": 44221769, "link": "https://stackoverflow.com/questions/44221769/to-remove-the-newline-character-of-a-variable-in-perl/44222014#44222014", "title": "To remove the newline character of a variable in perl", "body": "<p>As others have said, <code>.</code> matches any character except newline, so your <code>.*</code> won't match beyond the end of the line</p>\n\n<p>You can simply account for that whitespace using <code>\\s*</code>. <code>\\s</code> matches any whitespace character, and newline is a whitespace character</p>\n\n<pre><code>my $test = \"gsfdsd gsfgsfg sfghsdg \nStarting \ngahgahd vvsfdh\";\n\n$test =~ m/(.*)\\s*Starting/;\nprint \"test value = $1 \\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>test value = gsfdsd gsfgsfg sfghsdg  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1496046826, "post_id": 44235256, "comment_id": 75485448, "body": "You can drop <code>&#47;m</code> modifier as you are not using <code>^</code> or <code>$</code>"}, {"owner": {"reputation": 539, "user_id": 7162389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wr6Gu.jpg?s=128&g=1", "display_name": "Harini", "link": "https://stackoverflow.com/users/7162389/harini"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1496049583, "post_id": 44235256, "comment_id": 75486997, "body": "Yeah.. Thank you @Dada i didn&#39;t notice at first."}], "tags": [], "owner": {"reputation": 539, "user_id": 7162389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wr6Gu.jpg?s=128&g=1", "display_name": "Harini", "link": "https://stackoverflow.com/users/7162389/harini"}, "is_accepted": false, "score": 0, "last_activity_date": 1496036296, "creation_date": 1496036296, "answer_id": 44235256, "question_id": 44221769, "link": "https://stackoverflow.com/questions/44221769/to-remove-the-newline-character-of-a-variable-in-perl/44235256#44235256", "title": "To remove the newline character of a variable in perl", "body": "<p>It is very simple to achieve the solution using substitution and multi-line matching.</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\n\nmy $test = \"gsfdsd gsfgsfg sfghsdg \nStarting \ngahgahd vvsfdh\";\n\n$test=~ s/\\n//mg;\nprint\"test value = $test \\n\";\n</code></pre>\n\n<p>The output is as below,</p>\n\n<pre><code>test value = gsfdsd gsfgsfg sfghsdg Starting gahgahd vvsfdh \n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4030161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-MdFYaPQ8rDM/AAAAAAAAAAI/AAAAAAAAALY/KE28Zun_0mY/photo.jpg?sz=128", "display_name": "nandeesh v", "link": "https://stackoverflow.com/users/4030161/nandeesh-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "accepted_answer_id": 44221801, "answer_count": 5, "score": 0, "last_activity_date": 1497673636, "creation_date": 1495920523, "last_edit_date": 1497673636, "question_id": 44221769, "link": "https://stackoverflow.com/questions/44221769/to-remove-the-newline-character-of-a-variable-in-perl", "title": "To remove the newline character of a variable in perl", "body": "<p>I have my perl code like this</p>\n\n<pre><code>my $test = \"gsfdsd gsfgsfg sfghsdg \nStarting \ngahgahd vvsfdh\";\n\n$test=~ m/(.*)Starting(.*)/;\nprint\"test value = $1 \\n\";\n</code></pre>\n\n<p>when I execute this code, I get nothing i.e., </p>\n\n<pre><code>test value =  \n</code></pre>\n\n<p>But when the <code>$test</code> strings are in the same line i.e.,</p>\n\n<pre><code>my $test =\"gsfdsd gsfgsfg sfghsdg Starting gahgahd vvsfdh\"; \n</code></pre>\n\n<p>I get the result for the print statement to be </p>\n\n<pre><code>test value = gsfdsd gsfgsfg sfghsdg.\n</code></pre>\n\n<p>What's the problem with the first case. The only difference is the inclusion of newline space. How to make the first code get executed.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495921121, "post_id": 44219394, "comment_id": 75454085, "body": "Please link to your source when you are having problems with external information"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1495921814, "post_id": 44220269, "comment_id": 75454225, "body": "It uses <code>$#output != -1</code> to check for an empty array when <code>@output != 0</code> (or just <code>@output</code>) would be clearer. It uses <code>chop</code> instead of <code>chomp</code>, blindly removing the last character instead of checking for newline. It shells out to <code>date</code> instead of just calling <code>POSIX::strftime</code> (or even <code>localtime</code> in scalar context)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1495921900, "post_id": 44220269, "comment_id": 75454244, "body": "All of this makes me think this code was written for perl4, which points to a date of origin somewhere in the early 90s (perl5 was released in 1994)."}], "tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": false, "score": 4, "last_activity_date": 1495920810, "last_edit_date": 1495920810, "creation_date": 1495909296, "answer_id": 44220269, "question_id": 44219394, "link": "https://stackoverflow.com/questions/44219394/fping-script-described-in-man-page-has-syntax-error/44220269#44220269", "title": "fping Script Described in Man Page has Syntax Error", "body": "<p>If you have found the script on the online <a href=\"https://linux.die.net/man/8/fping\" rel=\"nofollow noreferrer\">man-page</a>, then <code>&lt;OUTPUT&gt;</code> has been interpreted as HTML markup and deleted. It should read</p>\n\n<pre><code>@output = &lt;OUTPUT&gt;;\n</code></pre>\n\n<p>But this Perl script looks like it was written decades ago</p>\n\n<ul>\n<li><p>The use of <code>require open2.pl</code> was <a href=\"http://cpansearch.perl.org/src/RGARCIA/perl-5.6.2/lib/open2.pl\" rel=\"nofollow noreferrer\">long-ago replaced by <code>use IPC::Open2</code></a></p></li>\n<li><p>It does not use <code>use strict</code> or <code>use warnings</code>, and avoids lexical variables</p></li>\n<li><p>Function calls use the arcane <code>&amp;open2</code> syntax, which is useful only in very special cases</p></li>\n<li><p>The calls to <code>open</code> use the old-fashioned and ambiguous two-argument-version</p></li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 8075119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489f1ce219b73108f8c5137ebefe06e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSL", "link": "https://stackoverflow.com/users/8075119/jsl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495922145, "creation_date": 1495903894, "last_edit_date": 1495922145, "question_id": 44219394, "link": "https://stackoverflow.com/questions/44219394/fping-script-described-in-man-page-has-syntax-error", "title": "fping Script Described in Man Page has Syntax Error", "body": "<p>I'm trying to run the fping script described in its man page.</p>\n\n<pre><code>#!/usr/local/bin/perl\n require 'open2.pl';\n\n $MAILTO = \"root\";\n\n $pid = &amp;open2(\"OUTPUT\",\"INPUT\",\"/usr/local/bin/fping -u\");\n\n @check=(\"slapshot\",\"foo\",\"foobar\");\n\n foreach(@check) {  print INPUT \"$_\\n\"; }\n close(INPUT);\n @output=;\n\n if ($#output != -1) {\n  chop($date=`date`);\n  open(MAIL,\"|mail -s 'unreachable systems' $MAILTO\");\n  print MAIL \"\\nThe following systems are unreachable as of: $date\\n\\n\";\n  print MAIL @output;\n  close MAIL;\n }\n</code></pre>\n\n<p>However, I get the following error from anywhere I run it:</p>\n\n<blockquote>\n<pre><code>syntax error at /path/to/pingtest.pl line 13, near \"=;\"\nExecution of /path/to/pingtest.pl aborted due to compilation errors.\n</code></pre>\n</blockquote>\n\n<p>Can someone help me what's wrong with line 13?  I have open2.pl and fping path is correct.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495904022, "post_id": 44219201, "comment_id": 75449415, "body": "Perhaps $str = &quot;&quot;; should be out of the loop?"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1495909454, "post_id": 44219201, "comment_id": 75451091, "body": "The trick was posted 10 years ago ... and perl evolved in the meantime. Maybe the trick is not really useful anymore."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495913467, "post_id": 44219201, "comment_id": 75452189, "body": "@\u0421\u0443\u0445\u043e\u043927 the <code>$str = &quot;</code> is in the first loop because it simulates the use case I have: build up a payload from a series of appending."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1495913535, "post_id": 44219201, "comment_id": 75452203, "body": "@dgw I agree with you.  Wish there is a in-depth explanation of this to help with optimization."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495916378, "post_id": 44219201, "comment_id": 75452937, "body": "The person who wrote the original post on perlmonks is a regular here, too. Maybe they&#39;ll have something to say about it."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495916753, "post_id": 44219201, "comment_id": 75453046, "body": "@simbabque Good point. I hope so too."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1496133587, "post_id": 44219201, "comment_id": 75522848, "body": "But it&#39;s not infeasible that over the intervening <i>10 years</i> the perl interpreter might have a built in optimisation that covers this case."}], "answers": [{"comments": [{"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1495978257, "post_id": 44221460, "comment_id": 75465693, "body": "Perl definitely have improved a lot over the 10 years. But doing repeated string appending still causes perl to call <code>realloc</code>, it just doesn&#39;t do reallocing for every appending. I was hope it could save some time by reducing the calls to  <code>realloc</code> and hence speed it up a little, but it&#39;s just the opposite. Could it because cache efficiency? The clever trick reduces the calls to <code>realloc</code> but it&#39;s less cache efficient than letting OS choose the memory page in realloc."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1495924602, "last_edit_date": 1495924602, "creation_date": 1495917905, "answer_id": 44221460, "question_id": 44219201, "link": "https://stackoverflow.com/questions/44219201/perl-performance-why-the-clever-trick-perform-worse/44221460#44221460", "title": "Perl performance: why the clever trick perform worse?", "body": "<p>I suggest that you should avoid <em>clever tricks</em>. Perl's handling of string memory has improved vastly in ten years: it now pre-expands every string proportionally to its original size, and retains any memory allocated in case the program repeats the same behaviour</p>\n\n<p>You can squeeze another ten percent performance out of the algorithm by using lexical variables and avoiding the C-style <code>for</code> loop</p>\n\n<p>Also, <a href=\"https://metacpan.org/pod/Time::HiRes\" rel=\"nofollow noreferrer\"><code>Time::HiRes</code></a> already provides <code>tv_interval</code> for calculating the difference between two calls to <code>gettimeofday</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Time::HiRes qw/ gettimeofday tv_interval /;\n\nmy $big = 'a' x 100;\n\nmy $start = [ gettimeofday ];\n\nfor my $i (1 .. 1_000_000 ) {\n\n    my $str;\n\n    for my $j ( 1 .. 100 ) {\n        $str .= $big;\n    }\n}\n\nmy $end = [ gettimeofday ];\n\nprintf \"took %.3f secs\\n\", tv_interval( $start, $end );\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>took 8.324 secs\n</code></pre>\n\n<p><br/></p>\n\n<p><em>Incidentally, the same program running on my</em> <strong>Pixel C</strong> <em>tablet running Android 7.1.2 on an ARM processor returned 21.683s. I think that's pretty good going.</em></p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1496024922, "post_id": 44233685, "comment_id": 75477528, "body": "also important is that each realloc is moving less than 10Kb"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1496025131, "post_id": 44233685, "comment_id": 75477551, "body": "@ysth, Thanks. Switched to B"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1496025699, "last_edit_date": 1496025699, "creation_date": 1496022790, "answer_id": 44233685, "question_id": 44219201, "link": "https://stackoverflow.com/questions/44219201/perl-performance-why-the-clever-trick-perform-worse/44233685#44233685", "title": "Perl performance: why the clever trick perform worse?", "body": "<p>Your test makes no sense. Your <code>vec</code> only has an effect when <code>$i=0</code> &mdash;the first pass of the loop has the same affect as <code>vec</code> for the latter passes of the loop&mdash; so <code>vec</code>'s pre-allocation only makes a difference for 1/1,000,000 of the time your program is executing! That means the 1.2s difference has noting to do with whether <code>$str</code>'s string buffer is pre-allocated or not.</p>\n\n<p>Did you just run each test once? That's not an appropriate way of doing a benchmark! If you run a proper test, you'll see that pre-allocating doesn't help &mdash;the gain is so minor it gets lost&mdash; but it doesn't hurt either; it simply has no effect.</p>\n\n<pre><code>                Rate  deoptimized     baseline preallocated\ndeoptimized  78084/s           --          -1%          -1%\nbaseline     78668/s           1%           --          -0%\npreallocated 78928/s           1%           0%           --\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Benchmark qw( cmpthese );\n\nmy $big = \"a\" x 100;\n\nmy $preallocated;\nvec($preallocated, 0x100000, 8)=0;\n\ncmpthese(-3, {\n   deoptimized =&gt; sub {\n      undef(my $str);\n      $str .= $big for 1..100;\n   },\n   baseline =&gt; sub {\n      my $str;\n      $str .= $big for 1..100;\n   },\n   preallocated =&gt; sub {\n      $preallocated = \"\";\n      $preallocated .= $big for 1..100;\n   },\n});\n</code></pre>\n\n<p>I'm not saying pre-allocating never helps. There could be scenarios where it does &mdash;larger numbers?&mdash; just not here.</p>\n\n<p>One of the reasons it has little effect is that Perl allocates exponentially more memory, which is to say the number of allocations increases only logarithmically as the loop sizes grow. The following shows only 21 reallocs for the 100 loop passes:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse B qw( svref_2object );\n\nsub SvLEN(\\$) { svref_2object($_[0])-&gt;LEN }\n\nmy $big = \"a\" x 100;\n\nmy $str = \"\";\nmy $incs = 0;\nfor (1..100) {\n   my $len1 = SvLEN($str);\n   $str .= $big;\n   my $len2 = SvLEN($str);\n   my $len_inc = $len2 - $len1;\n   #say $len1, \" \", $len_inc;\n   ++$incs if $len_inc;\n}\n\nsay $incs;  # 21\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1496026323, "last_edit_date": 1496026323, "creation_date": 1496023555, "answer_id": 44233759, "question_id": 44219201, "link": "https://stackoverflow.com/questions/44219201/perl-performance-why-the-clever-trick-perform-worse/44233759#44233759", "title": "Perl performance: why the clever trick perform worse?", "body": "<p>Calling vec() is an extra expensive operation; you have to be saving a whole lot of realloc data-moving to make it worth it.  I'm not sure why you have nested loops in your code; any reallocs necessary will only be done in the first run of the inner loop, not later runs of it.  My benchmark of your code, adjusted to have vec only allocate the buffer you actually need, shows the vec version as marginally slower:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Benchmark 'cmpthese';\n\ncmpthese( 10, {\n    'with_vec' =&gt; sub {\n        my $big = \"a\" x 100;\n        my $str;\n        undef $str; # start with no string buffer for benchmarking purposes\n        vec($str, 9999, 8)=0;\n        for (my $i=0; $i &lt; 1000000; $i ++) {\n            $str = \"\";\n            for (my $j=0; $j&lt;100; $j++) {\n                $str .= $big;\n            }\n        }\n    },\n    'without_vec' =&gt; sub {\n        my $big = \"a\" x 100;\n        my $str;\n        undef $str; # start with no string buffer for benchmarking purposes\n        vec($str, 9999, 8)=0;\n        for (my $i=0; $i &lt; 1000000; $i ++) {\n            $str = \"\";\n            for (my $j=0; $j&lt;100; $j++) {\n                $str .= $big;\n            }\n        }\n    },\n});\n</code></pre>\n\n<p>Producing:</p>\n\n<pre><code>            s/iter without_vec    with_vec\nwithout_vec   8.43          --         -3%\nwith_vec      8.15          3%          --\n</code></pre>\n\n<p>(though occasionally with_vec was faster)</p>\n\n<p>(<code>undef $str</code> forces the code to use a fresh string buffer each time; without that, <code>$str</code>'s buffer size expands to its maximum the first time Benchmark runs the code and remains the same thereafter.)</p>\n\n<p>Here's an adjusted example where preallocating does make a difference:</p>\n\n<pre><code>cmpthese( -10, {\n    'with_vec' =&gt; sub {\n        my $big = \"a\" x 1;\n        my $str;\n        undef $str;\n        vec($str, 9999999, 8)=0;\n        $str = \"\";\n        for (my $j=0; $j&lt;10000000; $j++) {\n            $str .= $big;\n        }\n    },\n    'without_vec' =&gt; sub {\n        my $big = \"a\" x 1;\n        my $str;\n        undef $str;\n        $str = \"\";\n        for (my $j=0; $j&lt;10000000; $j++) {\n            $str .= $big;\n        }\n    },\n});\n</code></pre>\n\n<p>Producing:</p>\n\n<pre><code>              Rate    with_vec without_vec\nwith_vec    1.29/s          --         -3%\nwithout_vec 1.33/s          3%          --\n</code></pre>\n\n<p>(though results were erratic; a third of the time without_vec was faster).</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1496026323, "creation_date": 1495902645, "question_id": 44219201, "link": "https://stackoverflow.com/questions/44219201/perl-performance-why-the-clever-trick-perform-worse", "title": "Perl performance: why the clever trick perform worse?", "body": "<p>I found <a href=\"http://www.perlmonks.org/?node_id=630424\" rel=\"nofollow noreferrer\">A clever trick to prealloc memory for a string</a>, however the \nfollowing code snippet perform worse than without the trick (by commenting out the statement with <code>vec($str, 0x100000, 8)=0;</code>.</p>\n\n<pre><code>use Time::HiRes qw( gettimeofday );\nmy $big = \"a\" x 100;\nmy $str = \"\";\nvec($str, 0x100000, 8)=0;\n$ts = getTS();\nfor ($i=0; $i &lt; 1000000; $i ++) {\n    $str = \"\";\n    for ($j=0; $j&lt;100; $j++) {\n        $str .= $big;\n    }\n}\n\nprintf \"took %f secs\\n\", getTS() - $ts;\n\nsub getTS {\n    my ($seconds, $microseconds) = gettimeofday;\n    return $seconds + (0.0+ $microseconds)/1000000.0;\n}\n</code></pre>\n\n<p>With the clever trick, it took 9.1 secs. Without the clever trick, it took 7.8 secs.</p>\n\n<p>The clever trick should have been faster because it doesn't need to make so many <code>realloc()</code>. Any idea why?</p>\n"}, {"tags": ["perl", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1495899002, "post_id": 44218250, "comment_id": 75447831, "body": "You will need to show your program before we can help you to fix it."}, {"owner": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495902523, "post_id": 44218250, "comment_id": 75448919, "body": "Hello Borodin, thanks replying. For me getting the result and pushing into a map working correctly, but not sure how to write it into an excel sheet."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495907983, "post_id": 44218250, "comment_id": 75450689, "body": "Thank you. You may answer you own question, but what you&#39;ve written isn&#39;t an answer. You should edit your question to add the information there. There&#39;s an <code>edit</code> link just below your question. I&#39;ve added it for you, so please delete your answer."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1495910940, "post_id": 44220277, "comment_id": 75451516, "body": "Thank you so much for your explanation, some how i make it work what i need, will paste the code once i complete."}, {"owner": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1495911009, "post_id": 44220277, "comment_id": 75451539, "body": "I&#39;m getting an error always when a ran the perl program   sh: line 15: warning: here-document at line 0 delimited by end-of-file (wanted `!&#39;)   but in line 15 i have the code: sub isfloat{     my $val = shift;     return $val =~ m/^\\d+.\\d+$/; }"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1495911727, "post_id": 44220277, "comment_id": 75451731, "body": "@Rama: You&#39;re running your program with sh instead of perl. Did you write this code? How did you run it when you got <code>Dumper</code> output?"}, {"owner": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1495914080, "post_id": 44220277, "comment_id": 75452350, "body": "I didn&#39;t understand the terminology that you are asking, i ran the script like ./program.pl"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1495918442, "post_id": 44220277, "comment_id": 75453428, "body": "@Rama: It sounds like you&#39;re using the Bourne shell <code>sh</code> and you&#39;re passing your program to that shell for execution as a shell script, which doesn&#39;t understand Perl. I would guess that you have no shebang <code>#!</code> line at the start of your program. You can run it anyway with <code>perl program.pl</code>"}, {"owner": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1495951246, "post_id": 44220277, "comment_id": 75458756, "body": "I&#39;m using #!/usr/bin/perl at the beginning and also i ran like perl program.pl  but getting the same error  sh: line 9: warning: here-document at line 0 delimited by end-of-file (wanted `!&#39;)"}, {"owner": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1495967341, "post_id": 44220277, "comment_id": 75462522, "body": "It looks like issue is not with shell or #! when i&#39;m generating the report as excel it is getting the warning  my $dt=<code>date +%m-%d-%Y_%\\I%\\M</code>; chop $dt; my $FileName = &quot;/reports/RamFile&quot;.$dt.&quot;.xls&quot;; my $workbook = Excel::Writer::XLSX-&gt;new($FileName);"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1495979676, "post_id": 44220277, "comment_id": 75466104, "body": "@Rama: I don&#39;t see much point in asking for help if you are going to ignore the answers you get. Please correct <i>all</i> of the issues I have listed, including fetching the date-time string from a call to <code>date</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1495980163, "post_id": 44220277, "comment_id": 75466268, "body": "@Rama: Since this is a completely different problem from your original question you should open a new question. Perhaps you have accidentally removed the closing backtick from your call to <code>date</code>?"}, {"owner": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "edited": false, "score": 0, "creation_date": 1496231685, "post_id": 44220277, "comment_id": 75574725, "body": ":Thanks for all your suggestions which was helped a lot to me and this Warning issue i had a space after my sql query (Before ending with !)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1495910430, "last_edit_date": 1495910430, "creation_date": 1495909372, "answer_id": 44220277, "question_id": 44218250, "link": "https://stackoverflow.com/questions/44218250/i-want-to-write-my-hash-map-data-into-excel/44220277#44220277", "title": "I want to write my hash map data into Excel", "body": "<p>There's a lot to read there, but these ideas may help</p>\n\n<ul>\n<li><p><em>Always</em> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program you write. It is invaluable for locating the more obvious bugs</p></li>\n<li><p>Don't initialise arrays with <code>@data = undef</code>. If you want to empty an existing array then write <code>@data = ()</code>. If you are declaring a new array then <code>my @data</code> will create a new empty array</p>\n\n<p>The exact same advice applies to hashes, and that will be the reason for the <code>\"\" =&gt; undef</code> at the start of your <code>%Data</code> hash</p></li>\n<li><p>Don't use <code>my $dt = `date +%m-%d-%Y_%\\I%\\M`</code>. You are starting a whole new shell process just to ask it the time. You should</p>\n\n<pre><code>use Time::Piece;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>my $dt = localtime-&gt;strftime('%m-%d-%Y_%I%M');\n</code></pre>\n\n<p>The result from this won't need <code>chomp</code>ing</p>\n\n<p>But are you <em>sure</em> you want <code>%I</code>? That gives you the 12-hour time, so the value will reset to zero at midday. <code>%H</code> gives you 24-hour time, and is much more likely to be useful</p></li>\n<li><p><code>chomp</code> is preferable to <code>chop</code> unless you're doing something unusual. <code>chop</code> will just remove the last character from a string, whatever it is, while <code>chomp</code> will remove the last character <em>if it is a newline</em></p></li>\n<li><p><code>for ( %Data ) { ... }</code> will loop over the hash setting <code>$_</code> to key1, val1, key2, val2 etc. That isn't what you want</p>\n\n<p>In this case, since the information in the key is duplicated in the value, you probably want <code>for ( values %Data ) { ... }</code>. But that value is an <em>array reference</em> so no splitting is required</p></li>\n</ul>\n\n<p>This is probably closer to what you need</p>\n\n<pre><code>my $rownum = 0;\n\nfor my $values ( values %Data ) {\n\n    my $colnum = 0;\n\n    for my $val ( @$values ) {\n\n        if ( isfloat($_) ) {\n            $current_ws-&gt;write_number( $rownum, $colnum++, $val );\n        }\n        else {\n            $current_ws-&gt;write_string( $rownum, $colnum++, $val );\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8074418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXPhZ.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/8074418/rama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "closed_date": 1496025378, "answer_count": 1, "score": -3, "last_activity_date": 1495910430, "creation_date": 1495896571, "last_edit_date": 1495907890, "question_id": 44218250, "link": "https://stackoverflow.com/questions/44218250/i-want-to-write-my-hash-map-data-into-excel", "closed_reason": "Not suitable for this site", "title": "I want to write my hash map data into Excel", "body": "<p>Below is the output I got when I use print <code>Dumper(\\%Data)</code> in my code</p>\n\n<pre><code>{\n  \"\" =&gt; undef,\n  \"123456789012:SRIRAMA\" =&gt; [123456789012, \"SRIRAMA\", 856.06, 0, 0, 0],\n  \"389252737122:RAMA\" =&gt; [389252737122, \"RAMA\", 345.76, 0, 0, 0],\n}\n</code></pre>\n\n<p>This data I have to write to an Excel file like below</p>\n\n<pre><code>Number          Name    number        name   amt    amt2    amt3    amt4\n123456789012    SRIRAMA 123456789012 SRIRAMA 856.06  0      0       0\n389252737122    RAMA    389252737122 RAMA    345.76  0      0       0\n</code></pre>\n\n<p>The first two columns are one SQL result and rest of the columns are another SQL query result.</p>\n\n<p>The first query result I have put in a map and searched based on the key in second query result and finally I got the output above.</p>\n\n<p>Here, <code>Number</code> and <code>Name</code>\u2014the first two columns\u2014are keys for searching the data.</p>\n\n<p>The code below is after getting the SQL result:</p>\n\n<pre><code>    foreach ( @Sqlresult ) {\n        $rec_cntr = $rec_cntr + 1;\n        my @fields = undef;\n        chop;\n\n        next if /^$/;\n        next if /ERROR:/;\n        next if /ORA-/;\n\n        @fields = split( /::/, $_ );\n        my $fldref = @fields;\n        $ent_id = undef;\n        $ent_id = $fields[0];\n        $key    = undef;\n        $key    = $fields[0] . \":\" . $name;\n\n        push( @{ $Data{$key} }, $fields[1] );\n    }\n\n    $rec_cntr = 0;\n</code></pre>\n\n<p>The below code snippet I use when the records are not there pushing as zero.</p>\n\n<pre><code>    my $kkey = undef;\n\n    for $kkey ( sort keys %Data ) {\n        next if $kkey eq '';\n        my $Lent = @{ $Data{$kkey} };\n        if ( $Lent &lt; 5 ) {\n            push( @{ $Data{$kkey} }, 0 );\n        }\n        print scalar @{ $Data{$kkey} };\n\n    }\n\n    print Dumper( \\%Data );\n</code></pre>\n\n<p>The above <code>print Dumper</code> produces the information shown at the start of the question</p>\n\n<p>Here is where the data is written into an Excel sheet</p>\n\n<pre><code>my $dt = `date +%m-%d-%Y_%\\I%\\M`;\n\nchop $dt;\nmy $FileName = \"/data_reports/AdjestedFile\" . $dt . \".xls\";\n\n#my $workbook = Spreadsheet::WriteExcel-&gt;new( $FileName );\nmy $workbook = Excel::Writer::XLSX-&gt;new( $FileName );\n\n# Define the format and add it to the worksheet\nmy $format = $workbook-&gt;add_format(\n    center_across =&gt; 1,\n    bold          =&gt; 1,\n    size          =&gt; 10,\n    color         =&gt; \"black\",\n    bg_color      =&gt; \"grey\",\n    border_color  =&gt; \"black\",\n    align         =&gt; \"vcenter\",\n);\n\nmy $formatnum = $workbook-&gt;add_format();\n$formatnum-&gt;set_num_format( '00000000000' );\n\nmy $formatamt = $workbook-&gt;add_format();\n$formatamt-&gt;set_num_format( '0.00' );\n$formatamt-&gt;set_align( 'right' );\n\nmy $formattext = $workbook-&gt;add_format( num_format =&gt; '@' );\n\nmy $prev_feetype = \"\";\n\nmy $current_ws;\n$current_ws = $workbook-&gt;add_worksheet();\n$current_ws-&gt;keep_leading_zeros( 1 );\n\n$current_ws-&gt;set_column( 0, 16, 17, $formattext );\n$current_ws-&gt;set_column( 1, 1,  13, $formattext );\n$current_ws-&gt;set_column( 2, 2,  10, $formatnum );\n$current_ws-&gt;set_column( 3, 3,  10, $formattext );\n$current_ws-&gt;set_column( 4, 4,  10, $formattext );\n$current_ws-&gt;set_column( 5, 5,  10, $formattext );\n$current_ws-&gt;set_column( 6, 6,  10, $formattext );\n$current_ws-&gt;set_column( 7, 7,  10, $formattext );\n\nmy $cl = 0;\n$current_ws-&gt;write_string( 0, $cl++, \"Number\", $format );\n$current_ws-&gt;write_string( 0, $cl++, \"Name\",   $format );\n$current_ws-&gt;write_string( 0, $cl++, \"amt\",    $format );\n$current_ws-&gt;write_string( 0, $cl++, \"NA\",     $format );\n$current_ws-&gt;write_string( 0, $cl++, \"NA\",     $format );\n$current_ws-&gt;write_string( 0, $cl++, \"NA\",     $format );\n$current_ws-&gt;write_string( 0, $cl++, \"NA\",     $format );\n$current_ws-&gt;write_string( 0, $cl++, \"NA\",     $format );\n\nmy $rownum = 1;\n\nforeach ( %Data ) {\n\n    my @fields = undef;\n    chop;\n\n    next if /^$/;\n    @fields = split( /,/, $_ );\n\n    my $fldref = \\@fields;\n    my $clcntr = 0;\n    my $ent_id = \"\";\n\n    foreach ( @fields ) {\n\n        if ( $clcntr == 1 ) {\n            $ent_id = $_;\n        }\n        if ( isfloat( $_ ) ) { #and $clcntr != 9 ) {\n\n            $current_ws-&gt;write_number( $rownum, $clcntr++, $_ );\n        }\n        else {\n            $current_ws-&gt;write_string( $rownum, $clcntr++, $_ );\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 152, "user_id": 6106810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1692b8d1b0a2a95fa0b47568cae003?s=128&d=identicon&r=PG&f=1", "display_name": "asp", "link": "https://stackoverflow.com/users/6106810/asp"}, "edited": false, "score": 3, "creation_date": 1495892849, "post_id": 44216323, "comment_id": 75445861, "body": "alternatively, if you want any change of <code>$number</code> directly affect the hash you could use pointers like <code>key1    =&gt; \\$number</code> and then do <code>print ${$hash{key1}}</code> to access it"}, {"owner": {"reputation": 1641, "user_id": 1232660, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3843a2bbd046589aeba450315a996d8d?s=128&d=identicon&r=PG", "display_name": "Jeyekomon", "link": "https://stackoverflow.com/users/1232660/jeyekomon"}, "reply_to_user": {"reputation": 152, "user_id": 6106810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1692b8d1b0a2a95fa0b47568cae003?s=128&d=identicon&r=PG&f=1", "display_name": "asp", "link": "https://stackoverflow.com/users/6106810/asp"}, "edited": false, "score": 0, "creation_date": 1498843869, "post_id": 44216323, "comment_id": 76684740, "body": "@asp Thank you both for your time answering such basic question of mine. It took me some time to get through it but now I get it. I&#39;ve learned that there are two different approaches - passing by value and by reference. I&#39;m using now the reference to the <code>$number</code> variable and it works well."}], "tags": [], "owner": {"reputation": 151, "user_id": 8074074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Qp4y.jpg?s=128&g=1", "display_name": "Utku Tombul", "link": "https://stackoverflow.com/users/8074074/utku-tombul"}, "is_accepted": true, "score": 4, "last_activity_date": 1495900302, "last_edit_date": 1495900302, "creation_date": 1495884662, "answer_id": 44216323, "question_id": 44216171, "link": "https://stackoverflow.com/questions/44216171/hash-not-changing-the-value/44216323#44216323", "title": "Hash not changing the value", "body": "<p>You assign <code>1</code> to the variable <code>$number</code>, then assign the value of <code>$number</code> to the hash element with key <code>key1</code>. You then print that element ten times while incrementing the <code>$number</code> variable. </p>\n\n<p>The changes you've made in \"number\" variable doesn't affect the hash since you have already assigned it and only change the value of <code>$number</code> afterwards</p>\n\n<p>Unless you write your loop like this, and copy the value of <code>$number</code> into the hash every time it changes</p>\n\n<pre><code>for ( 1 .. 10 ) {\n    $hash{key1} = $number;\n    print $hash{key1}, \"\\n\";\n    ++$number;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1495900559, "creation_date": 1495900559, "answer_id": 44218871, "question_id": 44216171, "link": "https://stackoverflow.com/questions/44216171/hash-not-changing-the-value/44218871#44218871", "title": "Hash not changing the value", "body": "<p>The value of a hash element is a scalar variable in its own right</p>\n\n<p>What you have written is like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $number = 1;\n\nmy $hash_key1 = $number;\nmy $hash_key2 = 'something';\n\nfor ( 1 .. 10 ) {\n    print $hash_key1, \"\\n\";\n    ++$number;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1641, "user_id": 1232660, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3843a2bbd046589aeba450315a996d8d?s=128&d=identicon&r=PG", "display_name": "Jeyekomon", "link": "https://stackoverflow.com/users/1232660/jeyekomon"}, "edited": false, "score": 0, "creation_date": 1498843127, "post_id": 44221147, "comment_id": 76684363, "body": "<code>Can&#39;t use string (&quot;1&quot;) as a SCALAR ref while &quot;strict refs&quot; in use.</code>"}], "tags": [], "owner": {"reputation": 539, "user_id": 7162389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wr6Gu.jpg?s=128&g=1", "display_name": "Harini", "link": "https://stackoverflow.com/users/7162389/harini"}, "is_accepted": false, "score": 0, "last_activity_date": 1498892840, "last_edit_date": 1498892840, "creation_date": 1495915469, "answer_id": 44221147, "question_id": 44216171, "link": "https://stackoverflow.com/questions/44216171/hash-not-changing-the-value/44221147#44221147", "title": "Hash not changing the value", "body": "<p>You can use scalar reference to assign hash value.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $number = 1;\nmy $hash_key1 = \\$number;\nmy $hash_key2 = 'something';\nfor ( 1 .. 10 ) {\n    print $$hash_key1 \"\\n\";\n    ++$number;                                                               \n}\n</code></pre>\n\n<p>Derefering the hash_key.</p>\n"}], "owner": {"reputation": 1641, "user_id": 1232660, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3843a2bbd046589aeba450315a996d8d?s=128&d=identicon&r=PG", "display_name": "Jeyekomon", "link": "https://stackoverflow.com/users/1232660/jeyekomon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 44216323, "answer_count": 3, "score": 0, "last_activity_date": 1498892840, "creation_date": 1495883678, "question_id": 44216171, "link": "https://stackoverflow.com/questions/44216171/hash-not-changing-the-value", "title": "Hash not changing the value", "body": "<pre><code>use warnings;\nuse strict;\n\nmy $number = 1;\nmy %hash =\n(\n    key1    =&gt; $number,\n    key2    =&gt; 'something'\n);\nfor (1 .. 10)\n{\n    print $hash{key1}, \"\\n\";\n    $number++;\n}\n</code></pre>\n\n<p>The number changes in every step. The expected result was <code>1, 2, 3, ..., 10</code> but the real result is <code>1, 1, 1, ..., 1</code>. Why the hash doesn't change??</p>\n"}, {"tags": ["perl", "encryption", "chilkat"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1495880146, "post_id": 44215041, "comment_id": 75442289, "body": "We can&#39;t be any help without knowing what kind of object <code>$crypt</code> is. How is it created?"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1495883307, "post_id": 44215041, "comment_id": 75443088, "body": "@DaveCross a quick search shows that it is the - <i>fck this, let&#39;s do it all in one class</i>  - <a href=\"https://www.chilkatsoft.com/refdoc/vcCkCrypt2Doc.html\" rel=\"nofollow noreferrer\">CkCrypt2</a> component."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 2, "creation_date": 1495894462, "post_id": 44215041, "comment_id": 75446331, "body": "@MaartenBodewes: I think you mean to link to the <a href=\"https://www.chilkatsoft.com/refdoc/perlCkCrypt2Ref.html\" rel=\"nofollow noreferrer\">Perl module</a> not the C++ one. But my point was that we shouldn&#39;t need to do that search."}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1495900567, "post_id": 44215041, "comment_id": 75448318, "body": "@DaveCross The linked resource was not enough? I didn&#39;t want to make a too long post by copy pasting 100 lines of code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1495902911, "post_id": 44215041, "comment_id": 75449040, "body": "@user30771: Adding something like &quot;<code>$crypt</code> is an instance of the chilkat::CkByteData class&quot; along with a link to documenttation for the class, would have been really useful and wouldn&#39;t have made your post much longer."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1495894648, "post_id": 44216048, "comment_id": 75446419, "body": "Please don&#39;t use indirect object notation (<code>new chilkat::CkByteData()</code>). I know it&#39;s in the documentation, but that&#39;s a sign that the author doesn&#39;t know much Perl. Indirect object notation is prone to being misparsed in certain circumstances and it will cause much frustration whilst tracking down the problem. Far better to use the alternative syntax - <code>chilkat::CkByteData-&gt;new()</code>."}, {"owner": {"reputation": 1100, "user_id": 1722983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d54dcc6d4bef86fd7ee62a7cf6334a?s=128&d=identicon&r=PG", "display_name": "Chilkat Software", "link": "https://stackoverflow.com/users/1722983/chilkat-software"}, "edited": false, "score": 0, "creation_date": 1496065462, "post_id": 44216048, "comment_id": 75496914, "body": "Thanks, the Chilkat Perl reference documentation and examples are in the process of being re-generated and uploaded to use &quot;-&gt;new()&quot;"}], "tags": [], "owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "is_accepted": true, "score": 3, "last_activity_date": 1495963744, "last_edit_date": 1495963744, "creation_date": 1495882968, "answer_id": 44216048, "question_id": 44215041, "link": "https://stackoverflow.com/questions/44215041/chilkat-encryption-doesnt-work-as-expected/44216048#44216048", "title": "Chilkat encryption doesn&#39;t work as expected", "body": "<p>You're trying to use <em>character string</em> encryption (<code>encryptStringENC()</code>, <code>decryptStringENC()</code>) for what is, at least partly, a <em>binary</em> file.</p>\n\n<p>This worked for me:</p>\n\n<pre><code>my $input = \"sample.pdf\";\n# create file handle for the pdf file\nopen my $fh, '&lt;', $input or die $!;\nbinmode $fh;\n\n# the output should be sample.pdf.enc.dec\nopen my $ffh, '&gt;', \"$input.enc.dec\" or die $!;\nbinmode $ffh;\n\nmy $inData = chilkat::CkByteData-&gt;new;\nmy $encData = chilkat::CkByteData-&gt;new;\nmy $outData = chilkat::CkByteData-&gt;new;\n\n# read 16 bytes at a time\nwhile ( my $len = read( $fh, my $block, 16 ) ) {\n\n    $inData-&gt;clear;\n    $inData-&gt;append2( $block, $len );\n\n    $crypt-&gt;EncryptBytes( $inData, $encData );\n    $crypt-&gt;DecryptBytes( $encData, $outData );\n\n    print $ffh $outData-&gt;getData;\n}\n\nclose $fh;\nclose $ffh;\n</code></pre>\n\n<p>You likely better off perusing the Chilkat site further though, there are sample codes for binary data.</p>\n"}, {"tags": [], "owner": {"reputation": 1100, "user_id": 1722983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d54dcc6d4bef86fd7ee62a7cf6334a?s=128&d=identicon&r=PG", "display_name": "Chilkat Software", "link": "https://stackoverflow.com/users/1722983/chilkat-software"}, "is_accepted": false, "score": 0, "last_activity_date": 1496066939, "creation_date": 1496066939, "answer_id": 44244527, "question_id": 44215041, "link": "https://stackoverflow.com/questions/44215041/chilkat-encryption-doesnt-work-as-expected/44244527#44244527", "title": "Chilkat encryption doesn&#39;t work as expected", "body": "<p>I'm going to write and post a link to a sample that is much better than the examples posted here.  The examples posted here are not quite correct.  There are two important Chilkat Crypt2 properties that one needs to be aware of:  <strong>FirstChunk</strong> and <strong>LastChunk</strong>.  By default, both of these properties are true (or the value 1 in Perl).  This means that for a given call to encrypt/decrypt, such as EncryptBytes, DecryptBytes, etc.  it assumes the entire amount of data was passed.  For CBC mode, this is important because the IV is used for the first chunk, and for the last chunk, the output is padded to the block size of the algorithm according to the value of the <strong>PaddingScheme</strong> property.</p>\n\n<p>One can instead feed the input data to the encryptor chunk-by-chunk by doing the following:</p>\n\n<ol>\n<li>For the 1st chunk, set FirstChunk=1, LastChunk=0.</li>\n<li>For middle chunks, set FirstChunk=0, LastChunk=0.</li>\n<li>For the final chunk (even if a 0-byte final chunk), set FirstChunk=0, LastChunk=1.  This causes a final padded output block to be emitted.</li>\n</ol>\n\n<p>When passing chunks using FirstChunk/LastChunk, one doesn't need to worry about passing chunks matching the block size of the algorithm.   If a partial block is passed in, or if the bytes are not an exact multiple of the block size (16 bytes for AES), then Chilkat will buffer the input and the partial block will be added to the data passed in the next chunk.  For example:</p>\n\n<ol>\n<li>FirstChunk=1, LastChunk=0, pass in 23 bytes, output is 16 bytes, 7 bytes buffered.</li>\n<li>FirstChunk=0, LastChunk=0, pass in 23 bytes, output is 16 bytes, (46-32 bytes) 14 bytes buffered</li>\n<li>FirstChunk=0, LastChunk=1, pass in 5 bytes, output is 32 bytes, (14 buffered bytes + 5 more = 19 bytes.  The 19 bytes is one full block (16 bytes) plus 3 bytes remainder, which is padded to 16, and thus the output is 32 bytes and the CBC stream is ended.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1100, "user_id": 1722983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d54dcc6d4bef86fd7ee62a7cf6334a?s=128&d=identicon&r=PG", "display_name": "Chilkat Software", "link": "https://stackoverflow.com/users/1722983/chilkat-software"}, "edited": false, "score": 0, "creation_date": 1496069457, "post_id": 44245276, "comment_id": 75499339, "body": "PS&gt; This requires Chilkat v9.5.0.68 or later.  (The CkBinData class was missing from earlier versions.)"}], "tags": [], "owner": {"reputation": 1100, "user_id": 1722983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d54dcc6d4bef86fd7ee62a7cf6334a?s=128&d=identicon&r=PG", "display_name": "Chilkat Software", "link": "https://stackoverflow.com/users/1722983/chilkat-software"}, "is_accepted": false, "score": 0, "last_activity_date": 1496069323, "creation_date": 1496069323, "answer_id": 44245276, "question_id": 44215041, "link": "https://stackoverflow.com/questions/44215041/chilkat-encryption-doesnt-work-as-expected/44245276#44245276", "title": "Chilkat encryption doesn&#39;t work as expected", "body": "<p>This example demonstrates using FirstChunk/LastChunk.   Here's the example:  <a href=\"https://www.example-code.com/perl/encrypt_file_chunks_cbc.asp\" rel=\"nofollow noreferrer\">https://www.example-code.com/perl/encrypt_file_chunks_cbc.asp</a></p>\n"}], "owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 0, "accepted_answer_id": 44216048, "answer_count": 3, "score": 2, "last_activity_date": 1496069323, "creation_date": 1495876327, "last_edit_date": 1495883014, "question_id": 44215041, "link": "https://stackoverflow.com/questions/44215041/chilkat-encryption-doesnt-work-as-expected", "title": "Chilkat encryption doesn&#39;t work as expected", "body": "<p>I was trying to test file encryption using the <code>chilkat</code> functionality. Based on code found on <a href=\"https://www.example-code.com/perl/crypt2_aes.asp\" rel=\"nofollow noreferrer\">this</a> example page, I replaced the last part with this:</p>\n\n<pre><code>#  Encrypt a string...\n#  The input string is 44 ANSI characters (i.e. 44 bytes), so\n#  the output should be 48 bytes (a multiple of 16).\n#  Because the output is a hex string, it should\n#  be 96 characters long (2 chars per byte).\n\n\nmy $input = \"sample.pdf\";\n# create file handle for the pdf file\nopen my $fh, '&lt;', $input or die $!;\nbinmode ($fh);\n\n# the output should be sample.pdf.enc.dec\nopen my $ffh, '&gt;', \"$input.enc.dec\" or die $!;\nbinmode $ffh;\n\nmy $encStr;\n# read 16 bytes at a time\nwhile (read($fh,my $block,16)) {\n    # encrypt the 16 bytes block using encryptStringEnc sub provided by chilkat\n    $encStr = $crypt-&gt;encryptStringENC($block);\n    # Now decrypt:\n    # decrypt the encrypted block\n    my $decStr = $crypt-&gt;decryptStringENC($encStr);\n    # print it in the sample.pdf.enc.dec file\n    print $ffh $decStr;\n}\nclose $fh;\nclose $ffh;\n</code></pre>\n\n<p>Disclaimer:\nI know the CBC mode is not recommended for file encryption because if one block is lost, the other blocks are lost too.\nThe output file is corrupted and when I look with beyond compare at the two files, there are chunks of the file which match and there are chunks of file which doesn't. What am I doing wrong?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 7, "creation_date": 1495858469, "post_id": 44212784, "comment_id": 75437773, "body": "Throw the book in the trash can. What is the title of it?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1495862975, "post_id": 44212784, "comment_id": 75438472, "body": "You are right to be confused. <code>split</code> operates on a regular expression and a scalar to produce a list, as in the first example, not <code>join</code>. <code>join</code> operates on a scalar and a list and produces a scalar."}], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 7, "last_activity_date": 1550583606, "last_edit_date": 1550583606, "creation_date": 1495864065, "answer_id": 44213395, "question_id": 44212784, "link": "https://stackoverflow.com/questions/44212784/confused-about-join-and-split-on-perl/44213395#44213395", "title": "Confused about join and split on Perl", "body": "<p>This code</p>\n\n<pre><code>@arrayCmd = join(/\\n/, $cmd);\n</code></pre>\n\n<p>is incorrect, and will not work properly. The author meant to use <code>split</code>; with that change, the example looks like it'd work.</p>\n\n<p>A quick explanation of the differences, because the book is clearly doing a poor job of it:</p>\n\n<ul>\n<li><p><code>$combined = join($separator, @items)</code> <strong>joins</strong> all of the items in <code>@items</code> together, putting <code>$separator</code> in between each one, and returns a single combined string.</p></li>\n<li><p><code>@pieces = split(/regex/, $string)</code> <strong>splits up</strong> <code>$string</code> in each place that the regex matches, and returns an array of the cut-up strings. (And anything that the regex captured.)</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7360381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65dc04bc09f9c3c32855330c442a040b?s=128&d=identicon&r=PG&f=1", "display_name": "vishalsh", "link": "https://stackoverflow.com/users/7360381/vishalsh"}, "is_accepted": false, "score": -1, "last_activity_date": 1495871710, "creation_date": 1495871710, "answer_id": 44214409, "question_id": 44212784, "link": "https://stackoverflow.com/questions/44212784/confused-about-join-and-split-on-perl/44214409#44214409", "title": "Confused about join and split on Perl", "body": "<p>you can also get output form your first program using split for that you need to do minor change in first program. you need to use $i =~ /.<em>\\s([0-9.]+)/  instead of $i =~ /.</em>\\s([0-9.]+\\s.*)/ Because when you use split that time '\\n' is not include into array.</p>\n\n<pre><code>#!/usr/bin/perl\n$cmd = `host google.com`;\n\n@arrayCmd = split(/\\n/, $cmd);\n\nforeach $i (@arrayCmd) {\n  if ( $i =~ / has address / ) {\n    $i =~ /.*\\s([0-9\\.]+)/;\n    my $ip = $1;\n    if ( $ip =~ /[0-9\\.]+/ ) {\n\n      print \"La IP es: \" . $ip . \"\\n\";\n      last;\n    }\n  }\n}\n\nexit;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8073051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7tTQvsgrBsY/AAAAAAAAAAI/AAAAAAAABFg/uKPEz-o1J5Q/photo.jpg?sz=128", "display_name": "Andr&#233;s Heredia", "link": "https://stackoverflow.com/users/8073051/andr%c3%a9s-heredia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 44213395, "answer_count": 2, "score": 1, "last_activity_date": 1550583606, "creation_date": 1495857122, "last_edit_date": 1495857950, "question_id": 44212784, "link": "https://stackoverflow.com/questions/44212784/confused-about-join-and-split-on-perl", "title": "Confused about join and split on Perl", "body": "<p>I just started with Perl and I'm confused about when to use <code>join</code> or <code>split</code> to fill an array with a Linux command result.</p>\n\n<p>I'm learning from a book and this brings these examples.</p>\n\n<p>Example 1:</p>\n\n<pre><code>$cmd = `host google.com`;\n\n@arrayCmd = join(/\\n/, $cmd);\n\nforeach $i (@arrayCmd) {\n\n  if ( $i =~ / has address / ) {\n\n    $i =~ /.*\\s([0-9\\.]+)\\s.*/;\n\n    my $ip = $1;\n\n    if ( $ip =~ /[0-9\\.]+/ ) {\n\n      print \"La IP es: \" . $ip . \"\\n\";\n      last;\n    }\n  }\n}\n\nexit;\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>$max = 80;\n\n$sisdev = \"/dev/sda5\";\n\n$comando = `df -k`; # cargamos las l\u00edneas del comando a una variable\n\n@lns = split(/\\n/, $comando); # separamos cada l\u00ednea y las colocamos\n                              # como elementos de un array\n\nforeach $linea ( @lns ) { # por cada $linea del array @lns\n\n  if ( $linea =~ /$sisdev/ ) {\n\n    $linea =~ /.*\\s([0-9]+)\\%\\s.*/;\n    $valor = $1;                      # buscamos la columna y\n                                      # extraemos el valor\n    if ( $valor &gt;= $max ) { # comparamos el valor\n                            # con el umbral\n\n      print \"Alarma!: $sisdev en $valor\\%. Igual o por encima del umbral de $max\\% \\n\";\n    }\n  }\n}\n\nexit;\n</code></pre>\n\n<p>Why use <code>join</code> at the first example and <code>split</code> at the second example?\nThanks.</p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495874775, "post_id": 44212721, "comment_id": 75441002, "body": "There is no <code>set</code> element in your XML, but your xpath expression asks for one. I can&#39;t try right now, but you should be good with <code>&#47;&#47;DataSet[@seriesName= &quot;Actual&quot; ]&#47;Data&#47;Value</code>, and then don&#39;t use <code>$_-&gt;att</code> because <code>Value</code> is not an attribute. With the above xpath you&#39;ll have nodes and you can access the text property. I don&#39;t recall how, check the documentation."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1495950661, "post_id": 44215580, "comment_id": 75458625, "body": "Thanks for the comments (yes I hope to improve my programming skills)I have modified the script as indicated. However even with /Data/Value or simply /Value I am unable extract the numbers required.  I have added more of the XML but it is crazy big so I hope a captured enough this time."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1495958751, "post_id": 44215580, "comment_id": 75460249, "body": "Your sample XML is still invalid. There is a <code>&lt;DataSet&gt;</code> element with no corresponding <code>&lt;&#47;DataSet&gt;</code>. Please be more careful. I&#39;ve updated my answer to include my test XML along with the code that I wrote. This gives the correct output."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1496024225, "post_id": 44215580, "comment_id": 75477406, "body": "I appreciate the help. I added the file out syntax and I am extremely happy."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1495958644, "last_edit_date": 1495958644, "creation_date": 1495879953, "answer_id": 44215580, "question_id": 44212721, "link": "https://stackoverflow.com/questions/44212721/parse-xml-file-with-perl/44215580#44215580", "title": "Parse XML file with Perl", "body": "<p>Quite a few misunderstandings here. Firstly, your XML isn't valid. I know it's just an example, but it would be good to give us a valid (if cut-down) example to use. And omitting the opening <code>&lt;</code> from the first element makes me think you're not looking at this with quite the level of precision that you should!</p>\n\n<p>Then the XPath expression bears very little relation to the XML that you're parsing. As simbabque mentioned in his comment, you're referring to elements that just don't appear in your XML, so it's not surprise that nothing is matching.</p>\n\n<ul>\n<li>The <code>seriesName</code> attribute is just called <code>Series</code>.</li>\n<li>There is no <code>set</code> element. You need <code>Data/Value</code>.</li>\n</ul>\n\n<p>This seems to give you what you want (it's very close to simbabque's suggestion but he missed the <code>seriesName</code> problem).</p>\n\n<pre><code>my @sets = $t-&gt;findnodes('//DataSet[@Series=\"Actual\"]/Data/Value');\n</code></pre>\n\n<p>Programmers need to deal in precision and accuracy. Perhaps you need to work on that a bit :-)</p>\n\n<p><strong>Update:</strong> Here is the test XML that I am using. It is based on your XML, but I've fixed a few obvious errors.</p>\n\n<pre><code>&lt;Root xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n &lt;CreatedAt&gt;2017-05-26T22:12:11&lt;/CreatedAt&gt;\n &lt;CreateBy&gt;BJOB_ODS_WF5MD_WEBSITE_FILES_5MIN_DATA&lt;/CreateBy&gt;\n &lt;StartDate&gt;2017-05-21T00:00:00&lt;/StartDate&gt;\n &lt;DataSet Series = \"5_Minute\" &gt;\n   &lt;Data&gt;&lt;Value&gt;10875.60&lt;/Value&gt;&lt;/Data&gt;\n &lt;/DataSet&gt;\n &lt;DataSet Series = \"Actual\" &gt;\n  &lt;Data&gt;&lt;Value&gt;11150.00&lt;/Value&gt;&lt;/Data&gt;\n  &lt;Data&gt;&lt;Value&gt;10700.00&lt;/Value&gt;&lt;/Data&gt;\n  &lt;Data&gt;&lt;Value&gt;10450.00&lt;/Value&gt;&lt;/Data&gt;\n &lt;/DataSet&gt;\n&lt;/Root&gt;\n</code></pre>\n\n<p>And here is the code that I have tested it with. I've simplified your code slightly, taking the filename as an argument and writing the output to STDOUT (I don't understand why so many people hard-code filenames so much of the time).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse XML::Twig;\n\nmy $file = shift   or die \"No file given\\n\";\n\nmy $t=XML::Twig-&gt;new();\n$t-&gt;parsefile( $file );\n\nmy @sets = $t-&gt;findnodes('//DataSet[@Series=\"Actual\"]/Data/Value');\n\nif (@sets) {\n  print $_-&gt;text, \"\\n\" for @sets;\n}\n</code></pre>\n\n<p>Note that I've made another change that I accidentally omitted from my original post - as 'Value' isn't an attribute, I've used <code>$_-&gt;text</code> instead of your <code>$_-&gt;att('Value')</code>.</p>\n"}], "owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 44215580, "answer_count": 1, "score": 1, "last_activity_date": 1495958644, "creation_date": 1495856260, "last_edit_date": 1495950518, "question_id": 44212721, "link": "https://stackoverflow.com/questions/44212721/parse-xml-file-with-perl", "title": "Parse XML file with Perl", "body": "<p>I am trying to extract values from an XML file as per the following:</p>\n\n<pre><code>  &lt;?xml version=\"1.0\" encoding = \"UTF-8\" ?&gt;\n  &lt;!-- SAP Data Services generated XML --&gt;\n  &lt;!-- 2017-05-26.22:12:03(409,091)[1] --&gt;\n\n &lt;Root xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n &lt;CreatedAt&gt;2017-05-26T22:12:11&lt;/CreatedAt&gt;\n &lt;CreateBy&gt;BJOB_ODS_WF5MD_WEBSITE_FILES_5MIN_DATA&lt;/CreateBy&gt;\n &lt;StartDate&gt;2017-05-21T00:00:00&lt;/StartDate&gt;\n  &lt;DataSet Series = \"5_Minute\" &gt;&lt;Data&gt;&lt;Value&gt;10875.60&lt;/Value&gt;\n  &lt;/Data&gt;\n ....\n &lt;DataSet Series = \"Actual\" &gt;&lt;Data&gt;&lt;Value&gt;11150.00&lt;/Value&gt;\n  &lt;/Data&gt;\n &lt;Data&gt;&lt;Value&gt;10700.00&lt;/Value&gt;  \n&lt;/Data&gt;\n&lt;Data&gt;&lt;Value&gt;10450.00&lt;/Value&gt;\n&lt;/Data&gt;\n   ...\n&lt;/Data&gt;\n &lt;/DataSet&gt; \n&lt;/Root&gt;\n</code></pre>\n\n<p>Hoping for the following output to csv but getting no love with the below script:</p>\n\n<p>11150.00</p>\n\n<p>10700.00</p>\n\n<p>10450.00</p>\n\n<pre><code> ****SCRIPT\nuse warnings;\nuse strict;\nuse XML::Twig;\n#&lt;DataSet Series = \"Actual\" &gt;&lt;Data&gt;&lt;Value&gt;11112.60&lt;/Value\n\nmy $file = '/var/data/Actual.xml' ||die $!;\n\nmy $t=XML::Twig-&gt;new();\n$t-&gt;parsefile( $file );\n\n# my @sets = $t-&gt;findnodes('//DataSet[@seriesName= \"Actual\" ]/set');\n# I CHANGED THE ABOVE AND MODIFIED AS SHOWN BELOW\n\n my @sets = $t-&gt;findnodes('//DataSet[@Series= \"Actual\" ]/Value');    \n if (@sets) {\n  my $outfile = '/var/csv/actual.csv';\n  open my $out, \"&gt;\", $outfile or die \"Could not open $outfile: $!\";  \n  print { $out } $_-&gt;att('Value').\"\\n\" for @sets;\n } \n</code></pre>\n\n<p>Any help would be greatly appreciated. </p>\n"}, {"tags": ["perl", "bignum"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1495841782, "post_id": 44211409, "comment_id": 75435120, "body": "FWIW bigrat @ 0.39 and Math::BigRat at 0.2608 do not have this warning. Upgrading bigrat to 0.47, which brings in Math-BigInt-1.999811, does have a warning, but it&#39;s <code>Use of uninitialized value in string eq at ...&#47;5.22.2&#47;Math&#47;BigFloat.pm line 3626.</code> Manually updating Math::BigRat gives me your warning."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1496464207, "post_id": 44211409, "comment_id": 75683925, "body": "Have you reported this problem yet?"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1495862822, "creation_date": 1495862822, "answer_id": 44213272, "question_id": 44211409, "link": "https://stackoverflow.com/questions/44211409/how-do-you-downgrade-a-bigrat/44213272#44213272", "title": "How do you downgrade a bigrat?", "body": "<p>Not that serious of an answer:</p>\n\n<pre><code>use bigrat;\nuse feature 'say';\nfor (1..100) {\n    $i += 1/3;\n    no bigrat;\n    say int($i),\"\\t\",sprintf \"%.55f\", eval \"$i\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1567041705, "post_id": 57701784, "comment_id": 101847268, "body": "What if you leave out the sprintf and print <code>as_float</code> directly? It looks like what you&#39;re getting is the numerator of the fraction in reduced form, rather than the proper numeric value."}], "tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1567041916, "last_edit_date": 1567041916, "creation_date": 1567041346, "answer_id": 57701784, "question_id": 44211409, "link": "https://stackoverflow.com/questions/44211409/how-do-you-downgrade-a-bigrat/57701784#57701784", "title": "How do you downgrade a bigrat?", "body": "<p>I expected <code>Math::BigRat</code> to provide a method for getting a plain number and it does:</p>\n\n<ul>\n<li><code>as_int</code> for integers</li>\n<li><code>as_float</code> for floats</li>\n</ul>\n\n<p>I inserted printing of <code>$_</code> for debugging purposes.</p>\n\n<p><code>$i-&gt;as_int()</code> does the same as <code>int($i)</code>:</p>\n\n<pre><code>$ perl -Mbigrat -E'for (1..100) { $i += 1/3; say $_, \"\\t\", int($i), \"\\t\", sprintf \"%.55f\", $i-&gt;as_int() }'\n...\n99      33      33.0000000000000000000000000000000000000000000000000000000\n100     33      33.0000000000000000000000000000000000000000000000000000000\n</code></pre>\n\n<p><code>$i-&gt;as_float()</code> seemed to work as expected on first sight but I don\u2019t understand the output. All decimal places are zero and for every second line <code>$i</code> equals <code>$_</code>:</p>\n\n<pre><code>$ perl -Mbigrat -E'for (1..100) { $i += 1/3; say $_, \"\\t\", int($i), \"\\t\", sprintf \"%.55f\", $i-&gt;as_float() }'\n...\n90      30      30.0000000000000000000000000000000000000000000000000000000\n91      30      91.0000000000000000000000000000000000000000000000000000000\n92      30      92.0000000000000000000000000000000000000000000000000000000\n93      31      31.0000000000000000000000000000000000000000000000000000000\n94      31      94.0000000000000000000000000000000000000000000000000000000\n95      31      95.0000000000000000000000000000000000000000000000000000000\n96      32      32.0000000000000000000000000000000000000000000000000000000\n97      32      97.0000000000000000000000000000000000000000000000000000000\n98      32      98.0000000000000000000000000000000000000000000000000000000\n99      33      33.0000000000000000000000000000000000000000000000000000000\n100     33      100.0000000000000000000000000000000000000000000000000000000\n</code></pre>\n\n<p>This is Perl 5.30.0 with Math::BigRat 0.2614.</p>\n\n<p>So the warnings are fixed but there seems to be something wrong with this solution.</p>\n\n<p><strong>Update:</strong> As requested in the comments without <code>sprintf</code>:</p>\n\n<pre><code>$ perl -Mbigrat -E'for (1..100) { $i += 1/3; say $_, \"\\t\", int($i), \"\\t\", $i-&gt;as_float() }'\n...\n90      30      30\n91      30      91\n92      30      92\n93      31      31\n94      31      94\n95      31      95\n96      32      32\n97      32      97\n98      32      98\n99      33      33\n100     33      100\n</code></pre>\n"}], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "answer_count": 2, "score": 10, "last_activity_date": 1567041916, "creation_date": 1495841473, "last_edit_date": 1567040794, "question_id": 44211409, "link": "https://stackoverflow.com/questions/44211409/how-do-you-downgrade-a-bigrat", "title": "How do you downgrade a bigrat?", "body": "<pre><code>perl -Mbigrat -E'for (1..100) { $i += 1/3; say int($i), \"\\t\", sprintf \"%.55f\", $i }'\n</code></pre>\n\n<p>spams a lot of warnings:</p>\n\n<pre><code>Argument \"100/3\" isn't numeric in addition (+) at \u2026/site_perl/5.24.1/Math/BigRat.pm line 1939.\n</code></pre>\n\n<p>Run again without <code>-Mbigrat</code> to see the desired effect of sprintf.</p>\n\n<p>How do you downgrade the <a href=\"https://metacpan.org/pod/Math::BigRat\" rel=\"nofollow noreferrer\"><code>Math::BigRat</code></a> instance <code>$i</code> into an ordinary <a href=\"http://perldoc.perl.org/perlguts.html\" rel=\"nofollow noreferrer\">NV</a> delectable to <code>sprintf</code>?</p>\n\n<p>Versions:</p>\n\n<ul>\n<li><code>bigrat</code> 0.47</li>\n<li><code>Math::BigRat</code> 0.2612</li>\n</ul>\n"}, {"tags": ["perl", "file", "ubuntu", "creation"], "comments": [{"owner": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1495834568, "post_id": 44210371, "comment_id": 75433339, "body": "Does the user that runs the script have write permission in that directory? And, in case that file already exists, does the user have write permissions on that file as well?. For example, if you login as that user and <code>cd</code> to that directory, does it work if you run <code>touch report.txt</code>?"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1495834880, "post_id": 44210371, "comment_id": 75433440, "body": "You should include <code>use strict;</code> and <code>use warnings;</code> at the beginning of all the code you write."}], "answers": [{"tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": false, "score": 1, "last_activity_date": 1495834792, "creation_date": 1495834792, "answer_id": 44210476, "question_id": 44210371, "link": "https://stackoverflow.com/questions/44210371/cant-create-file-using-perl-permission-denied/44210476#44210476", "title": "Can&#39;t create file using perl (permission denied)", "body": "<p>Its probably your user doesn't have access to the folder you're trying to write to.</p>\n\n<p>Imagine that you drop a perl script to your directory, then execute it with a second request...</p>\n\n<p>Try creating the file outside your document root</p>\n\n<p>This will send the error messages to the browser</p>\n\n<pre><code>use CGI::Carp qw(fatalsToBrowser);\ndie \"Bad error here\";\n</code></pre>\n\n<p>But you may need to install the <a href=\"http://perldoc.perl.org/CGI/Carp.html\" rel=\"nofollow noreferrer\">module</a></p>\n\n<p>Don't forget to <a href=\"https://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\"><code>use strict;</code></a> in perl </p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 5, "last_activity_date": 1495835123, "creation_date": 1495835123, "answer_id": 44210518, "question_id": 44210371, "link": "https://stackoverflow.com/questions/44210371/cant-create-file-using-perl-permission-denied/44210518#44210518", "title": "Can&#39;t create file using perl (permission denied)", "body": "<p>As to handling a 500 Server Error, see <a href=\"https://stackoverflow.com/questions/11179706/getting-internal-server-error-while-trying-to-access-my-site\">the answers to this question</a>. Basically, find the server's error log.</p>\n\n<p>Alternatively, you can display errors to the browser. This should be off by default and only turned on in development. There's various modules to do this for you, it depends on what web framework you're using. If you're using something barebones like CGI, then it's <a href=\"https://metacpan.org/pod/CGI::Carp\" rel=\"noreferrer\">CGI::Carp</a>. If you're using something like <a href=\"http://perldancer.org/\" rel=\"noreferrer\">Dancer</a>, which you probably should, then <a href=\"https://metacpan.org/pod/Dancer::Logger\" rel=\"noreferrer\">Dancer::Logger</a> controls where the error messages go.</p>\n\n<hr>\n\n<p>You're getting a permissions error because, surprise, the user running your code does not have permission to write a file. In this case it's the <code>www-data</code> user. I can't tell you why you're being denied permission, you'll have to figure that out yourself. It's probable the directory is not allowing <code>www-data</code> to write files. The permissions on <code>www-data</code> are generally very restricted because web servers are an easy target for attacks.</p>\n\n<p><a href=\"http://www.tutorialspoint.com/unix/unix-file-permission.htm\" rel=\"noreferrer\">This tutorial on Unix file permissions</a> should help.</p>\n\n<p>If you're using Dancer you can run the program from the command line and get errors right there on console. You'd have to <code>sudo -u www-data</code> to ensure you're running it as <code>www-data</code>, running it as your own user will not simulate <code>www-data</code>'s permission issues.</p>\n"}], "owner": {"reputation": 38, "user_id": 7856708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eeaad188a92bda9dd5bdd2309439752?s=128&d=identicon&r=PG&f=1", "display_name": "Cholax", "link": "https://stackoverflow.com/users/7856708/cholax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1827, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1495835123, "creation_date": 1495834227, "question_id": 44210371, "link": "https://stackoverflow.com/questions/44210371/cant-create-file-using-perl-permission-denied", "title": "Can&#39;t create file using perl (permission denied)", "body": "<p>I have recently started with perl (this week). \nA client will ask the server for a file, the server has to create the file with the data requested.</p>\n\n<p>So i've been trying to create a file but it is denying permission. </p>\n\n<p>For now: This is the portion of code. I took it from the internet.</p>\n\n<pre><code>  $filename = 'report.txt';\n  open($fh, '&gt;', $filename) or $message=\"Could not open file '$filename' $!\";\n  print $fh \"My first report generated by perl\\n\";\n  close $fh;\n</code></pre>\n\n<p>I will continue with the data i have to write, after i can make this work.</p>\n\n<p>I am using lighttpd with \"www-data\" user. I've been several hours trying to solve it...\nMoreover, i am using $message because i don't know how to use \"die\". When i used \"die\" it would show \"500 - Internal Server Error\" and nothing else.</p>\n\n<p>I am working in Ubuntu 14.04</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495826555, "post_id": 44208759, "comment_id": 75430130, "body": "Your <code>next until</code> does not make sense. Also you&#39;ve forgotten to include the end of the <code>while</code> loop. I&#39;m not clear what you want to do. You say you want to skip until the table, but in your code the first thing you do is read the very first line, which is not even remotely close to the table. Please <a href=\"https://stackoverflow.com/posts/44208759/edit\">edit</a> and add explain."}, {"owner": {"reputation": 483, "user_id": 2814482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f1b35ee1e50c28bf5102941547db9e3?s=128&d=identicon&r=PG&f=1", "display_name": "user2814482", "link": "https://stackoverflow.com/users/2814482/user2814482"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495826738, "post_id": 44208759, "comment_id": 75430225, "body": "sorry i want to parse the first line and then skip to the tabular section (have edited above).  I didn&#39;t include the whole while loop as it doesn&#39;t really matter becasuse I am only parsing the fist line, then the header of the table"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1495826824, "post_id": 44208759, "comment_id": 75430261, "body": "Use lexical variables, not bareword filehandles. Use 3-arg open, not 2-arg open. Include <code>$!</code> in the error message."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1496867934, "post_id": 44208759, "comment_id": 75843221, "body": "A reminder, see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 1, "last_activity_date": 1495827387, "creation_date": 1495827387, "answer_id": 44209001, "question_id": 44208759, "link": "https://stackoverflow.com/questions/44208759/how-to-skip-to-a-specif-line-and-parse-after-that-perl/44209001#44209001", "title": "how to skip to a specif line and parse after that - perl", "body": "<p>I would try to discard everything up to the header line ( or parse the first line ),\nand then begin parsing the lines after the header like so:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nopen (my $fh, \"&lt;\", $hhr_report) or die \"Cannot open $hhr_report: $!\";\n\nmy $header;\ndo {\n    $header = &lt;$fh&gt;;\n    # If you need to parse lines before the header for some reason,\n    # do that here\n}while( !is_header($header) );\n\n# If you like, parse the header column to get the column names\n\nmy @lines;\n\nwhile ( my $line = &lt;$fh&gt; ){\n\n    my @columns = split_line($line);\n    push @lines, \\@columns;\n\n}\n\nsub is_header {\n    my $line = shift;\n\n    return $line =~ /^No\\sHit/ ? 1 : 0;\n}\n\nsub split_line {\n    my $line = shift;\n    # Here, use a regex to split the columns, depending on what you need. \n    # You could also consider outputting errors if the line is malformatted or missing important values\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 456, "user_id": 3054046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajViR.png?s=128&g=1", "display_name": "cbmckay", "link": "https://stackoverflow.com/users/3054046/cbmckay"}, "is_accepted": false, "score": 0, "last_activity_date": 1495850391, "creation_date": 1495850391, "answer_id": 44212217, "question_id": 44208759, "link": "https://stackoverflow.com/questions/44208759/how-to-skip-to-a-specif-line-and-parse-after-that-perl/44212217#44212217", "title": "how to skip to a specif line and parse after that - perl", "body": "<p>I think what you are trying to accomplish can be done more simply. I understand you want to:</p>\n\n<ol>\n<li>Get the first line of the file and process it</li>\n<li>Skip the next lines until the table</li>\n<li>Process the tabular data</li>\n</ol>\n\n<p>If so, you could do something like this:</p>\n\n<pre><code>open (IN, $hhr_report) or die \"cannot open $hhr_report\\n\";\n\n# Get the first line of the file and process it:\nmy $first_line = &lt;$fh&gt;;\nmy @query=split(/\\|/,$first_line);\nmy $vogL=$query[0];\nmy @vogL2=split(/\\s+/,$vogL);\nmy $vog=$vogL2[1];\n$vog=~ s/\\[//g; #/\n$vog=~ s/\\]//g; #/\nprint \"query_array:\\t@query\\n\";\nprint \"query_vog:\\t$vog\\n\";\n\n# Work on the rest of the file:\nmy $in_table = 0; \nwhile (my $line=&lt;IN&gt;){\n    if ($in_table) {\n        # process your columns here\n        print \"$line\\n\";\n        my @columns = split(/\\s+/,$line);\n        ... # the rest of your processing\n    }\n    # read (and throw away) lines until you match the table header:\n    $in_table = 1 if $line =~/Query HMM/;\n    # next time through the while loop you'll have your \n    # first tabular data and the $in_table will be true\n}\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 2814482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f1b35ee1e50c28bf5102941547db9e3?s=128&d=identicon&r=PG&f=1", "display_name": "user2814482", "link": "https://stackoverflow.com/users/2814482/user2814482"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502009537, "creation_date": 1495826276, "last_edit_date": 1495826667, "question_id": 44208759, "link": "https://stackoverflow.com/questions/44208759/how-to-skip-to-a-specif-line-and-parse-after-that-perl", "title": "how to skip to a specif line and parse after that - perl", "body": "<p>I have a file with some writing in the first few lines, then some tabular output.\nI want to pares the first line and then skip to the tabular output, but am having some trouble (even though it sounds simple).\nMy strategy is to find the header</p>\n\n<p>example input file:</p>\n\n<pre><code>Query         [VOG0001]|NC_002014-NP_040572.1| 1296..1562 + 88 aa|G V protein\nMatch_columns 100\nNo_of_seqs    7 out of 16\nNeff          2.6 \n\nNo Hit                             Prob E-value P-value  Score    SS Cols Query HMM  Template HMM\n1 d1gvpa_ b.40.4.7 (A:) Gene V p 100.0 1.6E-38 1.4E-43  221.5   0.0   87    2-89      1-87  (87)\n2 d1gvpa_ b.40.4.7 (A:) Gene V p 100.0 1.6E-38 1.4E-43  221.5   0.0   87    2-89      1-87  (87)\n3 d1gvpa_ b.40.4.7 (A:) Gene V p 100.0 1.6E-38 1.4E-43  221.5   0.0   87    2-89      1-87  (87)\n</code></pre>\n\n<p>attempted parsing script:</p>\n\n<pre><code>open (IN, $hhr_report) or die \"cannot open $hhr_report\\n\";\nwhile (my $line=&lt;IN&gt;){\n    if ($line =~/^Query/){\n            my @query=split(/\\|/,$line);\n            my $vogL=$query[0];\n            my @vogL2=split(/\\s+/,$vogL);\n            $vog=$vogL2[1];\n            $vog=~ s/\\[//g;\n            $vog=~ s/\\]//g;\n    print \"query_array:\\t@query\\n\";\n    print \"query_vog:\\t$vog\\n\";\n    }\n    next until ($line =~/Query HMM/);\n    #next if ($line =~/Query HMM/);\n    #next until ($line =~/^No\\s[0-9]+/);\n    print \"$line\\n\";\n    my @columns = split(/\\s+/,$line);\n</code></pre>\n\n<p>...\n}</p>\n\n<p>I\"m not sure if I am missing something simple.\nBut right now I only seem to be parsing the header line (containgin Query HMM), but I want to parse the lines After that.  </p>\n\n<p>any help appreciated.</p>\n"}, {"tags": ["perl", "webserver", "blocking", "dancer"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495825237, "post_id": 44207135, "comment_id": 75429501, "body": "<a href=\"https://metacpan.org/favorite/leaderboard\" rel=\"nofollow noreferrer\">metacpan.org/favorite/leaderboard</a> =&gt; (dancer vs dancer2 vs mojolicious rank)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495825555, "post_id": 44207135, "comment_id": 75429632, "body": "@\u0421\u0443\u0445\u043e\u043927 So you&#39;re telling me I should abandon Dancer2 and switch to another framework? I always thought Mojolicious vs. Dancer2 is just like Mercedes vs. BMW or Boeing vs. Airbus. ;-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495825857, "post_id": 44207135, "comment_id": 75429785, "body": "It is. Mojo currently has the bigger userbase, because they are better at marketing and they have a shiny raptor that spews a rainbow. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495825952, "post_id": 44207135, "comment_id": 75429836, "body": "The default Plack server that <code>plackup</code> starts is a single process. If this is during development, that&#39;s fine. For production you don&#39;t want that. You&#39;d use something like Gazelle or Starman, so you have a bunch of processes."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495826008, "post_id": 44207135, "comment_id": 75429866, "body": "@simbabque not to mention non-blocking from early on, websockets and what not (so perhaps marketing is not in the first place:) )."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495826213, "post_id": 44207135, "comment_id": 75429955, "body": "@\u0421\u0443\u0445\u043e\u043927 yeah, Mojo has that. But it&#39;s a different product. I think you can&#39;t compare them. It fills a different niche in my opinion. I&#39;m not saying Mojo is bad, just that it&#39;s different. D2 is a micro framework. Mojo brings one too, but D2 is mostly superior to Mojo::Lite in my opinion. As soon as we are talking about Mojolicious though, we can&#39;t compare it to D2. Maybe to Catalyst, but the different approaches also make that hard. A lot of stuff is super easy with Mojo, yes. But some stuff gets messy fast I believe."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495826223, "post_id": 44207135, "comment_id": 75429964, "body": "@PerlDuck honestly I can&#39;t see why I would use Dancer, as features are favoring Mojolicious."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495826278, "post_id": 44207135, "comment_id": 75429993, "body": "@\u0421\u0443\u0445\u043e\u043927 somehow that sounds like someone saying <i>I don&#39;t understand why you use Perl. Ruby/Python/Node.js are so much better</i>. Let&#39;s not do that please. Or if we do, let&#39;s do it with a few beers and a few laptops at a conference. :)"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495826438, "post_id": 44207135, "comment_id": 75430071, "body": "ok, since you mentioned nodejs, what should I use under perl to match node async/non blocking and websockets? Frameworks which lack these nowadays are IMO not worth exploring."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495826536, "post_id": 44207135, "comment_id": 75430120, "body": "and these features are obviously important (hint golang, elixir, and not just nodejs)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1495826624, "post_id": 44207135, "comment_id": 75430164, "body": "Uh, did I just open Pandora&#39;s Box? However, I just introduced D2 at work and they wouldn&#39;t especially appreciate it if I&#39;d tell them to switch. I like D2 and now quite familiar with it. For a test I installed <code>starman</code> as a Webserver and now my async/delayed script is not blocking any longer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495832093, "post_id": 44207135, "comment_id": 75432484, "body": "I&#39;m happy that worked out. Don&#39;t worry about the discussion. Pick the tools that you are familiar with to get the job done. Also, go home. It&#39;s Friday night and you should not be writing new code at $work at ten in the evening. ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495832193, "post_id": 44207135, "comment_id": 75432518, "body": "@\u0421\u0443\u0445\u043e\u043927 I mentioned those because that&#39;s what I have to deal with every time I go to a meetup here in Berlin and disclose that I do Perl for a living. That is, if the other party knows what that is, because a lot of them are too young or too focused on front-end and don&#39;t even know that there is a Perl on there shiny macbooks. :)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495976633, "post_id": 44207135, "comment_id": 75465173, "body": "No worries, @simbabque. I wasn&#39;t at work when asking this. My private curiosity often just matches the requirements at work :-). To summarize: I simply need another Webserver (e.g. Starman) for my task, but my use of <code>delayed</code> is basically correct, right? I found <a href=\"https://stackoverflow.com/a/43762085/5830574\">Dave Cross&#39; answer to a related question</a> which points to the same direction. Would Apache2 and FCGI (instead of Starman) work as well?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495978133, "post_id": 44207135, "comment_id": 75465656, "body": "Yes, that would work. I have not used the async stuff, so I can&#39;t say if that&#39;s correct, but it doesn&#39;t look wrong to me. If it works, it must be at least a bit correct. :)"}], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1495819653, "creation_date": 1495819653, "question_id": 44207135, "link": "https://stackoverflow.com/questions/44207135/dancer2-application-streaming-content-blocks-server-and-client-how-to-avoid-bl", "title": "Dancer2 application: streaming content blocks server and client. How to avoid blocking?", "body": "<h2>tl;dr</h2>\n\n<p>I'm streaming content with Dancer2's keywords <code>delayed</code>, <code>flush</code>, <code>content</code>, <code>done</code> and it blocks the server while streaming until I call <code>done</code>. How can I avoid that?</p>\n\n<h2>More detailed</h2>\n\n<p>I wrote a Dancer2 application that calls an external command (a shell/Perl script) when the user hits a specific button. I want the output of that command to appear in the browser in a <code>&lt;pre&gt;</code> section and I want to refresh that section as new lines arrive. Similar to a <code>tail -f</code> but in the browser. My external command runs several seconds, possibly up to 10 minutes, so I run it asynchronously.</p>\n\n<p><sup>My first approach was to completely detach the program from the Webserver using double-fork, exec, ssid, and closing/reopening the program's STDIN/OUT/ERR so that the command's output goes to a temporary logfile. Then I set up AJAX calls (one per second) so that my Dancer2 application reads the new lines from the logfile and returns them to the client until the PID of the external command would disappear. This worked like a charm until the moment when my \"external command\" issued <code>ssh</code> commands to contact some other server and return that output as well. <code>ssh</code> doesn't work properly when run without a terminal and the <code>ssh</code> did not produce any output. Think of <code>ssh $host \"ls -l\"</code>, which gave no output.</sup></p>\n\n<p>So I switched to Dancer2's <code>delayed</code> mechanism like shown in the code below. I took the <a href=\"http://search.cpan.org/dist/Dancer2/lib/Dancer2/Manual.pod#Delayed_responses_(Async/Streaming)\" rel=\"nofollow noreferrer\">CSV example</a> from the Dancer2 docs as a template. Again, it works like a charm, <strong>but</strong> while the command is running and new lines appear in the browser, the server is blocked. When I click some other link on the Webpage, I only see an hour glass until the command is over. It looks like the server is single-process and single threaded.</p>\n\n<p><strong>index.tt</strong></p>\n\n<pre><code>&lt;script&gt;\n    function start_command( event ) {\n\n        $('#out_win').empty();\n        var last_response_len = false;\n        $.ajax({\n            url: '/ajax/start',\n            xhrFields:  {\n                onprogress: function(evt){\n                    /* make \"this_response\" only contain the new lines: */\n                    var this_response;\n                    var response = evt.currentTarget.response;\n                    if ( last_response_len === false ) {\n                        this_response = response;\n                        last_response_len = response.length;\n                    } else {\n                        this_response = response.substring(last_response_len);\n                        last_response_len = response.length;\n                    }\n\n                    /* add those new lines to &lt;pre&gt; and scroll down */\n                    var pre = $('#out_win');\n                    pre.append(this_response); \n                    pre.scrollTop(pre.prop('scrollHeight'));\n                }\n            },\n            success: function(result, textStatus, jqXHR) {\n                alert(\"Done streaming, result=\"+result);\n            },\n            error: function( jqXHR, textStatus, errorThrown ) {\n                alert(\"error; status=\" + textStatus);\n            },\n        });\n\n        event.preventDefault();\n    }\n&lt;/script&gt;\n\n&lt;div class=\"container\"&gt;\n\n    &lt;div&gt;   &lt;%# Links %&gt;\n        &lt;a href=\"javascript:start_command();\"&gt;Start external command&lt;/a&gt;&lt;/br&gt;\n        &lt;a href=\"/other\"&gt;Show some other page&lt;/a&gt;\n    &lt;div&gt;\n\n    &lt;div&gt;   &lt;%# output window %&gt;\n        &lt;pre class=\"pre-scrollable\" id=\"out_win\"&gt;&lt;/pre&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Streaming.pm</strong></p>\n\n<pre><code>package Streaming;\nuse Dancer2;\n\n################################################################\n#\n################################################################\nget '/' =&gt; sub {\n    template 'index';\n};\n\n################################################################\n#\n################################################################\nget '/ajax/start' =&gt; sub {\n    delayed {\n        flush;    # streaming content\n\n        # \"stream\" something. Actually I start an external program here\n        # with open(..., \"$pgm |\") and stream its output line my line.\n        foreach my $line ( 1 .. 10 ) {\n            content \"This is line $line\\n\";\n            sleep(1);\n        }\n        done;    # close user connection\n    }\n    on_error =&gt; sub {\n        my ($error) = @_;\n        warning 'Failed to stream to user: ' . request-&gt;remote_address;\n    };\n};\n\ntrue;\n</code></pre>\n\n<p>I'm using</p>\n\n<ul>\n<li>Dancer2 0.204002 as installed via <code>apt install libdancer2-perl</code> on </li>\n<li>Ubuntu 17.04 </li>\n<li>no further Webserver, i.e. I'm using the server that ships with Dancer2, started with <code>plackup -a bin/app.psgi</code></li>\n<li>jQuery 2.2.4</li>\n<li>Bootstrap 3.3.7</li>\n<li>Perl 5.18+</li>\n</ul>\n\n<p>My questions are:</p>\n\n<ul>\n<li>Am I doing something <strong>completely wrong</strong> wrt. the <code>delayed</code> keyword?</li>\n<li>Or am I using the <strong>wrong Webserver</strong> for this task? I'd love to stick with\nthe Webserver that comes with Dancer2 because it's so simple to use and\nI don't need a throughput like e.g. Google does. We will have 1-3 users\na day and mostly <em>not</em> at the same time, but a blocking Webapplication\nwould be a no-go.</li>\n</ul>\n"}, {"tags": ["xml", "perl", "xml-parsing"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1495814026, "post_id": 44205470, "comment_id": 75423835, "body": "How are you calling XML::Simple? You excluded some code which might be important."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495820595, "post_id": 44205470, "comment_id": 75427210, "body": "<i>&quot;This is the xml that I am returning that I need to parse&quot;</i> If you&#39;re returning it then you already have the data and there is no need to parse what you have just created?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495820977, "post_id": 44205470, "comment_id": 75427403, "body": "Please have the grace to indent your XML data and Perl code so that it&#39;s readable to those who will be answering you question free of charge. Please also read <a href=\"https://stackoverflow.com/editing-help\"><i>How to Edit</i></a> to help you make sure that you are using Markdown correctly."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1495878610, "post_id": 44205470, "comment_id": 75441928, "body": "I&#39;ve cleaned up your Markdown and fixed your indentation. You&#39;re welcome, but please do it yourself next time."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495821763, "post_id": 44205770, "comment_id": 75427844, "body": "You can&#39;t expect a response to &quot;why the downvote?&quot; questions. Votes are anonymous for a reason, and it is not for you to break that privilege. I always downvote comments like yours as being &quot;not constructive&quot; and as far as I know they are always deleted. Here, I downvoted your answer firstly because the best advice you can give to those burdened with <code>XML::Simple</code> is to jettison it altogether, and secondly because any answer <i>must</i> include the configuration used. The best configuration isn&#39;t the default one, and it depends on the data to be parsed. And that&#39;s just one reason why it&#39;s awful."}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495824129, "post_id": 44205770, "comment_id": 75428971, "body": "I am asking the reason for the downvote so that I can improve my answers. This question is not even about XML::Simple. It is about parsing a complicated data structure. It is up for a developer to decide to use or not to use XML::Simple. It is discouraged, but not forbidden. Downvoting a perfectly correct answer is your personal choice I guess. Thank you for explaining the downvote."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495824822, "post_id": 44205770, "comment_id": 75429315, "body": "Please improve your answers by writing what you think is a good solution and observing any criticisms in all questions. You won&#39;t improve if you read the response you get and try to rubbish it; that is precisely why no one likes to explain their votes. A question with the subject line <b>How to parse xml node with 2 attributes using XML::Simple and perl</b> is about using <code>XML:Simple</code>, as you well understood as you used it (implicitly) in your answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495824913, "post_id": 44205770, "comment_id": 75429364, "body": "In fact your &quot;solution&quot; is so brief, without any preamble or explanation, any code that will run in isolation, or any sample results, that it is <i>&quot;very low quality&quot;</i> anyway."}, {"owner": {"reputation": 37, "user_id": 3287677, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/f3056154ef3c83fce9e7f1d48399b93e?s=128&d=identicon&r=PG&f=1", "display_name": "user3287677", "link": "https://stackoverflow.com/users/3287677/user3287677"}, "edited": false, "score": 0, "creation_date": 1495828181, "post_id": 44205770, "comment_id": 75430839, "body": "Thanks for the answer. You are correct. This wasn&#39;t a question about whether or not I should use &#39;xmlSimple&#39;."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": true, "score": -1, "last_activity_date": 1495814416, "creation_date": 1495814416, "answer_id": 44205770, "question_id": 44205470, "link": "https://stackoverflow.com/questions/44205470/how-to-parse-xml-node-with-2-attributes-using-xmlsimple-and-perl/44205770#44205770", "title": "How to parse xml node with 2 attributes using XML::Simple and perl", "body": "<pre><code>foreach my $key(keys $data-&gt;{'CategoryMapping'}) {\n    print \"ID = $key oldID = $data-&gt;{'CategoryMapping'}-&gt;{$key}-&gt;{'oldID'}\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 3287677, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/f3056154ef3c83fce9e7f1d48399b93e?s=128&d=identicon&r=PG&f=1", "display_name": "user3287677", "link": "https://stackoverflow.com/users/3287677/user3287677"}, "edited": false, "score": 0, "creation_date": 1495828026, "post_id": 44207232, "comment_id": 75430762, "body": "Thanks for your comment. I switched to xmlLib"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 37, "user_id": 3287677, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/f3056154ef3c83fce9e7f1d48399b93e?s=128&d=identicon&r=PG&f=1", "display_name": "user3287677", "link": "https://stackoverflow.com/users/3287677/user3287677"}, "edited": false, "score": 0, "creation_date": 1495883124, "post_id": 44207232, "comment_id": 75443042, "body": "@user3287677: Then why have you accepted the answer from <b>Andrey</b>, which is a poor answer anyway, and simply attempts to advise you how to use the inferior module."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1495825084, "last_edit_date": 1495825084, "creation_date": 1495820057, "answer_id": 44207232, "question_id": 44205470, "link": "https://stackoverflow.com/questions/44205470/how-to-parse-xml-node-with-2-attributes-using-xmlsimple-and-perl/44207232#44207232", "title": "How to parse xml node with 2 attributes using XML::Simple and perl", "body": "<p>There is only one proper answer to any question that asks how to do something using <code>XML::Simple</code>, and that is that you mustn't even try if you value your life and your sanity</p>\n\n<p>The module's own documentation recommends against using using it, and if you ignore all warnings like this one then no one will want to be responsible for the day, maybe not today, maybe not tomorrow, but soon, that it crashes and burns around your head because someone added an attribute to one of the elements</p>\n\n<p>Please read <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><em>Why is <code>XML::Simple</code> \u201cDiscouraged\u201d?</em></a>. If you find yourself in disagreement with what is laid out there then you need to form a recluse group of <code>XML::Simple</code> users that fear success more than they fear the module itself</p>\n"}], "owner": {"reputation": 37, "user_id": 3287677, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/f3056154ef3c83fce9e7f1d48399b93e?s=128&d=identicon&r=PG&f=1", "display_name": "user3287677", "link": "https://stackoverflow.com/users/3287677/user3287677"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 44205770, "answer_count": 2, "score": -1, "last_activity_date": 1495878575, "creation_date": 1495813391, "last_edit_date": 1495878575, "question_id": 44205470, "link": "https://stackoverflow.com/questions/44205470/how-to-parse-xml-node-with-2-attributes-using-xmlsimple-and-perl", "title": "How to parse xml node with 2 attributes using XML::Simple and perl", "body": "<p>This is the xml that I am returning that I need to parse. The data I need to extract is the attributes 'id' and 'oldID' from CategoryMapping node.</p>\n\n<pre><code>&lt;GetCategoryMappingsResponse \n  xmlns=\"urn:ebay:apis:eBLBaseComponents\"&gt;\n  &lt;Timestamp&gt;2017-05-26T13:51:34.492Z&lt;/Timestamp&gt;\n  &lt;Ack&gt;Success&lt;/Ack&gt;\n  &lt;Version&gt;989&lt;/Version&gt;\n  &lt;Build&gt;E989_CORE_API_18131074_R1&lt;/Build&gt;\n  &lt;CategoryMapping id=\"183872\" oldID=\"43010\"/&gt;\n  &lt;CategoryMapping id=\"183322\" oldID=\"20483\"/&gt;\n  &lt;CategoryMapping id=\"1290\" oldID=\"43014\"/&gt;\n  &lt;CategoryMapping id=\"183888\" oldID=\"43015\"/&gt;\n  &lt;CategoryMapping id=\"48718\" oldID=\"43016\"/&gt;\n  &lt;CategoryMapping id=\"183051\" oldID=\"45064\"/&gt;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>  &lt;CategoryMapping id=\"183174\" oldID=\"83983\"/&gt;\n  &lt;CategoryMapping id=\"184437\" oldID=\"15\"/&gt;\n  &lt;CategoryMapping id=\"183185\" oldID=\"83984\"/&gt;\n&lt;CategoryVersion&gt;117&lt;/CategoryVersion&gt;\n&lt;/GetCategoryMappingsResponse&gt;\n</code></pre>\n\n<p>This is the perl that I have tried but it is not returning all the data     </p>\n\n<pre><code>foreach $key (keys $data-&gt;{CategoryMapping}) {\n\n    print \"($rownum) id=$key \";\n    my %new_hash = %{$data-&gt;{CategoryMapping}{$key}};\n    foreach $key2 (keys %new_hash) {\n        print \"$key2=$new_hash{$key2}&lt;br/&gt;\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "dancer"], "comments": [{"owner": {"reputation": 10748, "user_id": 13992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c81f585328c241594864f888f1154025?s=128&d=identicon&r=PG", "display_name": "badp", "link": "https://stackoverflow.com/users/13992/badp"}, "edited": false, "score": 0, "creation_date": 1495812885, "post_id": 44205283, "comment_id": 75423191, "body": "My current approximation is <code>Wharrgarbl-&gt;apps-&gt;[0]-&gt;dispatch({})</code>, which wants a <code>path_info</code> as a string, but adding <code>path_info =&gt; &#39;&#47;wharrgarbl&#47;fnorb&#39;</code> isn&#39;t helping."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1495813103, "post_id": 44205283, "comment_id": 75423288, "body": "<a href=\"https://stackoverflow.com/questions/32013380/how-can-you-invoke-interactive-perl-debugging-with-hypnotoad-or-morbo\">Related question about Mojolicious</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1182, "user_id": 6832, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3331f7c8e992404730507460a0818430?s=128&d=identicon&r=PG", "display_name": "Sam Kington", "link": "https://stackoverflow.com/users/6832/sam-kington"}, "is_accepted": false, "score": 0, "last_activity_date": 1502399089, "creation_date": 1502399089, "answer_id": 45623448, "question_id": 44205283, "link": "https://stackoverflow.com/questions/44205283/how-can-i-attach-a-debugger-to-a-dancer2-application/45623448#45623448", "title": "How can I attach a debugger to a Dancer2 application", "body": "<p>I imagine your Dancer2 app is being started via plackup, e.g. <code>plackup -p 5000 bin/app.psgi</code> (probably more arguments). plackup is just a perl script, so you could try <code>perl -d `which plackup` -p 5000 bin/app.psgi</code></p>\n"}], "owner": {"reputation": 10748, "user_id": 13992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c81f585328c241594864f888f1154025?s=128&d=identicon&r=PG", "display_name": "badp", "link": "https://stackoverflow.com/users/13992/badp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1502399089, "creation_date": 1495812765, "last_edit_date": 1495813902, "question_id": 44205283, "link": "https://stackoverflow.com/questions/44205283/how-can-i-attach-a-debugger-to-a-dancer2-application", "title": "How can I attach a debugger to a Dancer2 application", "body": "<p>Please bear with me, because I don't really know the first thing about Dancer2, other than the fact that I've inherited something written with it.</p>\n\n<p>I want to attach a regular debugger to it, and it's valiantly resisting most of my attempts.</p>\n\n<p>Say I have:</p>\n\n<pre><code>package Wharrgarbl;\nuse Dancer2;\n\n# lots of stuff\n\nget '/wharrgarbl/:potato' =&gt; sub {\n  use DB; $DB::single = 1;\n  # probably too much code here\n}\n</code></pre>\n\n<p>And I want to be able to attach a debugger to that response handler. How do I complete this incantation?</p>\n\n<pre><code>perl -d -I wharrgarbl/lib -MWharrgarbl -E 'Wharrgarbl-&gt;???(\"/wharrgarbl/fnorb\")'\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1495802759, "post_id": 44201947, "comment_id": 75416496, "body": "Have you looking into <code>for</code> loops. Maybe even, nested <code>for</code> loops? What have you tried?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1495802827, "post_id": 44201947, "comment_id": 75416551, "body": "<i>No need to consider</i> about what you have tried"}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1495802959, "post_id": 44201947, "comment_id": 75416651, "body": "Please don&#39;t post your code in the comments, edit it into the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1495803201, "post_id": 44201947, "comment_id": 75416817, "body": "@ssr1012: <code>perl</code> is no more correct than <code>PERL</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1495803406, "post_id": 44201947, "comment_id": 75416940, "body": "@ssr1012 see the comment on my edit."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 2, "creation_date": 1495803407, "post_id": 44201947, "comment_id": 75416941, "body": "@ssr1012 <code>Perl</code> is the name of the language, and <code>perl</code> the interpreter. <code>PERL</code> would make it an acronym, which <code>Perl</code> isn&#39;t."}, {"owner": {"reputation": 16152, "user_id": 205233, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd3b79356ba4ea1f7e8d6be783446e59?s=128&d=identicon&r=PG&f=1", "display_name": "Filburt", "link": "https://stackoverflow.com/users/205233/filburt"}, "edited": false, "score": 0, "creation_date": 1495805342, "post_id": 44201947, "comment_id": 75418328, "body": "Hint: <a href=\"http://www.perlmonks.org/?node_id=786521\" rel=\"nofollow noreferrer\">Convert IP address to integer</a> (and reverse)"}], "answers": [{"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1495808257, "last_edit_date": 1495808257, "creation_date": 1495807204, "answer_id": 44203520, "question_id": 44201947, "link": "https://stackoverflow.com/questions/44201947/i-need-to-increment-an-ip-address-within-a-given-range-using-perl/44203520#44203520", "title": "I need to increment an IP address within a given range using Perl", "body": "<p>Like so?</p>\n\n<pre><code>sub ip_addr { $_[0] = pack \"N\", 1 + unpack \"N\", $_[0] }\nmy $starting_ip = 1.2.4.4;\nmy $ending_ip = 1.3.0.5;\n   for ( $addresses = $starting_ip; $addresses le $ending_ip; ip_addr($addresses) ) {\n      printf \"%vd\\n\", $addresses;\n   }\n</code></pre>\n\n<p>Though there are many other ways, I think an even better option would be to use <a href=\"http://search.cpan.org/~manu/Net-IP-1.26/IP.pm\" rel=\"nofollow noreferrer\">Net::IP</a></p>\n"}], "owner": {"reputation": 55, "user_id": 7849102, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/6Z5Q0.jpg?s=128&g=1", "display_name": "Senthil", "link": "https://stackoverflow.com/users/7849102/senthil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1495808257, "creation_date": 1495802591, "last_edit_date": 1495803552, "question_id": 44201947, "link": "https://stackoverflow.com/questions/44201947/i-need-to-increment-an-ip-address-within-a-given-range-using-perl", "title": "I need to increment an IP address within a given range using Perl", "body": "<p>For example</p>\n\n<pre><code> my $starting_ip = '1.2.3.4';\n my $ending_ip   = '1.3.0.5';\n</code></pre>\n\n<p>my output will be</p>\n\n<pre><code> 1.2.3\n 1.2.4\n 1.2.5\n ..\n ..\n 1.2.255\n 1.3.0\n</code></pre>\n\n<p>I tried so far:</p>\n\n<pre><code>use Socket;\n\nmy $startIp        = $ARGV[0];\nmy $endIp          = $ARGV[1];\nmy $start_address  = unpack 'N', inet_aton( $startIp );\nmy $finish_address = unpack 'N', inet_aton( $endIp );\nmy @f              = split( '\\.', $endIp );\nmy $last_ip        = join( '.', $f[0], $f[1], $f[2] );\n\nfor ( my $address = $start_address;\n        $address &lt;= $finish_address;\n        $address = $\u200c\u200baddress + 255 ) {\n\n    my $new_ip = inet_ntoa( pack 'N', $address );\n    my @a = split( '\\.', $new_ip );\n\n    $new_ip = join( '.', $a[0], $a[1], $a[2] );\n\n    print \"$new_ip\\n\";\n}\n\nprint \"$last_ip\\n\";\n</code></pre>\n\n<p>There is no need to consider the last portion of the IP address.</p>\n"}, {"tags": ["linux", "perl", "sed", "terminal"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495801808, "post_id": 44201520, "comment_id": 75415804, "body": "<code>cat</code> appends a newline."}, {"owner": {"reputation": 180, "user_id": 7678643, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1858580474430228/picture?type=large", "display_name": "tphil", "link": "https://stackoverflow.com/users/7678643/tphil"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495801918, "post_id": 44201520, "comment_id": 75415883, "body": "Are there any other way to do this please instead of cat?"}], "answers": [{"comments": [{"owner": {"reputation": 180, "user_id": 7678643, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1858580474430228/picture?type=large", "display_name": "tphil", "link": "https://stackoverflow.com/users/7678643/tphil"}, "edited": false, "score": 1, "creation_date": 1495802629, "post_id": 44201814, "comment_id": 75416385, "body": "Thanks it works as excepted !! Thank you very much your valuable help. Wish you all the best !!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1495802202, "creation_date": 1495802202, "answer_id": 44201814, "question_id": 44201520, "link": "https://stackoverflow.com/questions/44201520/replace-exact-content-into-file-from-cat-results-though-terminal/44201814#44201814", "title": "Replace exact content into file from cat results though terminal", "body": "<p>You can use the <code>cat</code>, but you need to <code>chomp</code> off the newline it appends.</p>\n\n<pre><code>perl -pe 'BEGIN { $id=`cat .adnid`; chomp $id } s/&lt;SITEID&gt;/$id/ge' -i waf.py\n</code></pre>\n\n<p>This adds a <code>BEGIN</code> block that will only be executed once. The variable gets read using <code>cat</code> and then <code>chomp</code>ed. The substitution is applied to every line of your file. This has the additional benefit that you don't shell out to <code>cat</code> for every single line of input.</p>\n\n<p>Note that <code>BEGIN</code> behaves differently than normal with <code>-p</code>. This is documented in <a href=\"https://perldoc.perl.org/perlmod.html#BEGIN%2C-UNITCHECK%2C-CHECK%2C-INIT-and-END\" rel=\"nofollow noreferrer\">perlmod</a> somewhere close to the large block of examples.</p>\n\n<p>A more Perlish way would be to use <code>open</code> and actually read from the file, which you would also have to do in a <code>BEGIN</code> block. But for a throw-away script it doesn't really matter and the <code>cat</code> way is shorter.</p>\n"}], "owner": {"reputation": 180, "user_id": 7678643, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1858580474430228/picture?type=large", "display_name": "tphil", "link": "https://stackoverflow.com/users/7678643/tphil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 44201814, "answer_count": 1, "score": 1, "last_activity_date": 1495802202, "creation_date": 1495801374, "last_edit_date": 1495801706, "question_id": 44201520, "link": "https://stackoverflow.com/questions/44201520/replace-exact-content-into-file-from-cat-results-though-terminal", "title": "Replace exact content into file from cat results though terminal", "body": "<p>I would like dynamically to change some values on a file, with name waf.py.</p>\n\n<p>the line is like this</p>\n\n<pre><code>pp.pprint(api.post(\"/sites/&lt;SITEID&gt;/waf\", {}))\n</code></pre>\n\n<p>I have stored value to another file with name <code>.adnid</code></p>\n\n<p>I am processing with command</p>\n\n<pre><code>perl -pe 's/&lt;SITEID&gt;/`cat .adnid`/ge' -i waf.py\n</code></pre>\n\n<p>It replaces the contents but it add <code>\\n</code> (enter) on it and the remaining content goes to a new row, like </p>\n\n<pre><code>pp.pprint(api.post(\"/sites/626041\n/waf\", {}))\n</code></pre>\n\n<p>Instead of excepted (1 row)</p>\n\n<pre><code>pp.pprint(api.post(\"/sites/626041/waf\", {}))\n</code></pre>\n\n<p>How can I make it work without the newline?</p>\n"}, {"tags": ["perl", "unit-testing", "tdd", "subroutine"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495792324, "post_id": 44198069, "comment_id": 75409997, "body": "Do you want to know <i>how</i> to write tests for this specific thing? Can you run the Perforce command in a testing environment, or does it go towards a production environment? Can you safely re-run it as often as you want? Is the result reproducible?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495793637, "post_id": 44198265, "comment_id": 75410814, "body": "They don&#39;t <i>return</i> one, they <i>exit</i> the program. That makes it tricky."}, {"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1496040149, "post_id": 44198265, "comment_id": 75481885, "body": "How can I exit from the subroutine using return 1?"}], "tags": [], "owner": {"reputation": 3394, "user_id": 4805174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y0dE2.png?s=128&g=1", "display_name": "kayess", "link": "https://stackoverflow.com/users/4805174/kayess"}, "is_accepted": false, "score": 2, "last_activity_date": 1495793529, "last_edit_date": 1495793529, "creation_date": 1495791416, "answer_id": 44198265, "question_id": 44198069, "link": "https://stackoverflow.com/questions/44198069/perl-unit-testing-is-the-subroutine-testable/44198265#44198265", "title": "Perl Unit Testing -- is the subroutine testable?", "body": "<p>You ask:</p>\n\n<blockquote>\n  <p>Is this subroutine testable?</p>\n</blockquote>\n\n<p>Yes, it definitely is. However a question instantly arrives; are you doing Development Driven Testing or Test Driven Development? Let me illustrate the difference.</p>\n\n<p>Your current case is that you have written a method earlier than the test, which should <em>drive</em> the development of this function.</p>\n\n<p>If you are trying to follow the basic guidance of TDD, you should write your test case first. In this stage the outcome of your unit test will be red, since there are missing pieces to test for.</p>\n\n<p>Then you write the method with a minimal bits and pieces to make it compile. Now complete the first test case with something that you are asserting from the method you are testing against. If you did it right, your test case is now green, indicating to you that you can now check to see if there are things to refactor.</p>\n\n<p>This will give you the basic principle of TDD, that is; red, green and refactor.</p>\n\n<p>Summarized, you can test and assert for at least two things in your method.</p>\n\n<ul>\n<li>Asserting to see if the <code>@filelist</code> is returned and is not empty</li>\n<li>Asserting the failure case when you return <code>1</code></li>\n</ul>\n\n<p>Also make sure that you are <em>unit testing</em> without external dependencies, like a file system etc, because that would be <em>integration testing</em>, which is including other moving parts of the system in your test.</p>\n\n<p>As a final note, as with everything, experience comes through trying and learning. Always ask, at least yourself, then your business peers, to see if you are testing the right thing and if it brings any business value to test that part of the system.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495796020, "post_id": 44199731, "comment_id": 75412221, "body": "As a side-note, I&#39;ve never used any of the three special <code>Test::</code> modules I mentioned here before. In fact, I only knew about one of them. It&#39;s always worth to check what kind of useful things there are on CPAN. :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1495795960, "creation_date": 1495795960, "answer_id": 44199731, "question_id": 44198069, "link": "https://stackoverflow.com/questions/44198069/perl-unit-testing-is-the-subroutine-testable/44199731#44199731", "title": "Perl Unit Testing -- is the subroutine testable?", "body": "<p>Whether it's testable depends a lot on your environment. You need to ask yourself the following questions:</p>\n\n<ul>\n<li>Does the code depend on a production Perforce installation?</li>\n<li>Does running the code with random values interfere with production?</li>\n<li>Does running the code with the same values over and over again always yield the same results?</li>\n<li>Can the external dependency be unavailable sometimes?</li>\n<li>Is the external dependency outside of the control of the test?</li>\n</ul>\n\n<p>Some of those things make it very hard (yet not impossible) to run tests for it. Some can be overcome by refactoring the code a little.</p>\n\n<p>It's also important to define what exactly you want to test. A <a href=\"https://en.wikipedia.org/wiki/Unit_testing\" rel=\"nofollow noreferrer\"><em>unit test</em></a> for the function would make sure that it returns the right thing depending on what you put in, but you control the external dependency. An <a href=\"https://en.wikipedia.org/wiki/Integration_testing\" rel=\"nofollow noreferrer\"><em>integration test</em></a> on the other hand would run the external dependency.</p>\n\n<p>Building an integration test for this is easy, but all the questions I have mentioned above apply. And since you have an <code>exit</code> in your code, you cannot really trap that. You would have to put that function in a script and run that and check the exit codes, or use a module like <a href=\"https://metacpan.org/pod/Test::Exit\" rel=\"nofollow noreferrer\">Test::Exit</a>.</p>\n\n<p>You also need to have your Perforce set up in a way that you always get the same results. That might mean to have dates and files there that you control. I don't know how Perforce works, so I cannot tell you how to do that, but in general these things are called <a href=\"https://en.wikipedia.org/wiki/Test_fixture\" rel=\"nofollow noreferrer\"><em>fixtures</em></a>. It's data that you control. For a database your test program would install them before running the tests, so you have a reproducible result.</p>\n\n<p>You also have output to STDOUT, so you need a tool to grab that, too. <a href=\"https://metacpan.org/pod/Test::Output\" rel=\"nofollow noreferrer\">Test::Output</a> can do that.</p>\n\n<pre><code>use Test::More;\nuse Test::Output;\nuse Test::Exit;\n\n# do something to get your function into the test file...\n\n# possibly install fixtures...\n# we will fake the whole function for this demonstration\n\nsub perforce_filelist {\n    my ($date) = @_;\n\n    if ( $date eq 'today' ) {\n        return qw/foo bar baz/;\n    }\n    else {\n        print \"No new files!\";\n        exit 1;\n    }\n}\n\nstdout_is(\n    sub {\n        is exit_code( sub { perforce_filelist('yesterday') } ),\n            1, \"exits with 1 when there are no files\";\n    },\n    \"No new files!\",\n    \"... and it prints a message to the screen\"\n);\n\nmy @return_values;\nstdout_is(\n    sub {\n        never_exits_ok(\n            sub {\n                @return_values = perforce_filelist('today');\n            },\n            \"does not exit when there are files\"\n        );\n    },\n    q{},\n    \"... and there is no output to the screen\"\n);\nis_deeply( \\@return_values, [qw/foo bar baz/],\n    \"... and returns a list of filenames without newlines\" );\n\ndone_testing;\n</code></pre>\n\n<p>As you can see, this takes care of all of the things the function does with relative ease. We cover all the code, but we are depending on something external. So this is not a real unit test.</p>\n\n<p>Writing a unit test can be done similarly. There is <a href=\"https://metacpan.org/pod/Test::Mock::Cmd\" rel=\"nofollow noreferrer\">Test::Mock::Cmd</a> to replace the backticks or <code>qx{}</code> with another function. This could be done manually without that module too. Look at the module's code if you want to know how.</p>\n\n<pre><code>use Test::More;\nuse Test::Output;\nuse Test::Exit;\n\n# from doc, could be just 'return';\nour $current_qx = sub { diag( explain( \\@_ ) ); return; };\nuse Test::Mock::Cmd 'qx' =&gt; sub { $current_qx-&gt;(@_) };\n\n# get the function in, I used yours verbatim ...\n\nmy $qx; # this will store the arguments and fake an empty result\nstdout_is(\n    sub {\n        is(\n            exit_code(\n                sub {\n                    local $current_qx = sub { $qx = \\@_; return; };\n                    perforce_filelist('yesterday');\n                }\n            ),\n            1,\n            \"exits with 1 when there are no files\"\n        );\n    },\n    \"No new files!\",\n    \"... and it prints a message to the screen\"\n);\nis $qx-&gt;[0], 'p4 files -e //depot/project/design/...module.sv@yesterday,@now',\n    \"... and calls p4 with the correct arguments\";\n\nmy @return_values;\nstdout_is(\n    sub {\n        never_exits_ok(\n            sub {\n                # we already tested the args to `` above, \n                # so no need to capture them now\n                local $current_qx = sub { return \"foo\\n\", \"bar\\n\", \"baz\\n\"; };\n                @return_values = perforce_filelist('today');\n            },\n            \"does not exit when there are files\"\n        );\n    },\n    q{},\n    \"... and there is no output to the screen\"\n);\nis_deeply( \\@return_values, [qw/foo bar baz/],\n    \"... and returns a list of filenames without newlines\" );\n\ndone_testing;\n</code></pre>\n\n<p>We now can verify directly that the correct command line has been called, but we do not have to bother with setting up the Perforce to actually have any files, which makes the test run faster and makes you independent. You can run this test on a machine that does not have Perforce installed, which is useful if that function is only a small part of your overall application, and you still want to run the full test suite when you're working on a different part of the app.</p>\n\n<hr>\n\n<p>Let's take a quick look at the second example's output.</p>\n\n<pre><code>ok 1 - exits with 1 when there are no files\nok 2 - ... and it prints a message to the screen\nok 3 - ... and calls p4 with the correct arguments\nok 4 - does not exit when there are files\nok 5 - ... and there is no output to the screen\nok 6 - ... and returns a list of filenames without newlines\n1..6\n</code></pre>\n\n<p>As you can see it's almost the same as from the first example. I also hardly had to change the tests. Just the mocking strategy was added.</p>\n\n<p>It's important to remember that tests are also code, and the same level of quality should apply to them. They act as documentation of your business logic and as a safety net for you and your fellow developers (including future-you). Clear descriptions of the business case that you are testing is essential for that.</p>\n\n<p>If you want to learn more about the strategy of testing with Perl, and what not to do, I recommend watching the talk <a href=\"https://www.youtube.com/watch?v=4kMySZv65gc\" rel=\"nofollow noreferrer\"><em>Testing Lies</em></a> by <a href=\"https://stackoverflow.com/users/8003/ovid\">Curtis Poe</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495814309, "post_id": 44204231, "comment_id": 75423982, "body": "I considered going down the road of taking apart the problem into multiple subroutines in my answer, but I decided it would be way too long. Good job on this answer, it&#39;s very nicely explained."}, {"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1496033392, "post_id": 44204231, "comment_id": 75479248, "body": "Wow, thanks for the clear explanation. I&#39;m learning a something that would have taken me weeks if I were to read these stuff on my own"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 5, "last_activity_date": 1495833092, "last_edit_date": 1495833092, "creation_date": 1495809333, "answer_id": 44204231, "question_id": 44198069, "link": "https://stackoverflow.com/questions/44198069/perl-unit-testing-is-the-subroutine-testable/44204231#44204231", "title": "Perl Unit Testing -- is the subroutine testable?", "body": "<p>There are a couple of things that make testing that <code>perforce_filelist</code> subroutine more difficult than it needs to be:</p>\n\n<ul>\n<li>The p4 path is hard-coded</li>\n<li>The p4 command is constructed inside the subroutine</li>\n<li>The p4 command is fixed (so, it's always the first <code>p4</code> in the path)</li>\n<li>You output directly from the subroutine</li>\n<li>You exit from inside the subroutine</li>\n</ul>\n\n<p>But, your subroutine's responsibility is to get a filelist and return it. Anything you do outside of that makes it harder to test. If you can't change this because you don't have control of that, you can write stuff like this in the future:</p>\n\n<pre><code>#!perl -T\n\n# Now perforce_filelist doesn't have responsibility for\n# application logic unrelated to the file list \nmy @new_files = perforce_filelist( $path, $date );\nunless( @new_files ) {\n    print \"No new files!\"; # but also maybe \"Illegal command\", etc\n    exit 1;\n    }\n\n# Now it's much simpler to see if it's doing it's job, and\n# people can make their own decisions about what to do with\n# no new files.\nsub perforce_filelist {\n    my ($path, $date) = @_;\n    my @filelist = get_p4_files( $path, $date ); \n    }\n\n# Inside testing, you can mock this part to simulate\n# both returning a list and returning nothing. You \n# get to do this without actually running perforce.\n#\n# You can also test this part separately from everything\n# else (so, not printing or exiting)\nsub get_p4_files {\n    my ($path, $date) = @_;\n    my $command = make_p4_files_command( $path, $date );\n    return unless defined $command; # perhaps with some logging\n    my @files = `$command`;\n    chomp @files;\n    return @files;\n    }   \n\n# This is where you can scrub input data to untaint values that might\n# not be right. You don't want to pass just anything to the shell.\nsub make_p4_files_command {\n    my ($path, $date) = @_;\n    return unless ...; # validate $path and $date, perhaps with logging\n    p4() . \" files -e $path\\@$date,\\@now\";\n    }\n\n# Inside testing, you can set a different command to fake\n# output. If you are confident the p4 is working correctly,\n# you can assume it is and simulate output with your own\n# command. That way you don't hit a production resource.        \nsub p4 { $ENV{\"PERFORCE_COMMAND\"} // \"p4\" }\n</code></pre>\n\n<p>But, you also have to judge if this level of decomposition is worth it to you. For a personal tool that you use infrequently, it's probably too much work. For something you have to support and lots of people use, it might be worth it. In that case, you might want the <a href=\"https://www.perforce.com/perforce/doc.current/manuals/p4script/02_perl.html\" rel=\"nofollow noreferrer\">official P4Perl API</a>. Those value judgements are up to you. But, having decomposed the problem, making bigger changes (such as using P4Perl) shouldn't be as seismic.</p>\n\n<hr>\n\n<p>As a side note and not something I'm recommending for this problem, this is the use case for the <code>&amp;</code> and no argument list. In this \"crypto context\", the argument list to the subroutine is the <code>@_</code> of the subroutine calling it.</p>\n\n<p>These calls keep passing on the same arguments down the chain, which is annoying to type out and maintain:</p>\n\n<pre><code>    my @new_files = perforce_filelist( $path, $date );\n    my @filelist = get_p4_files( $path, $date ); \n    my $command = make_p4_files_command( $path, $date );\n</code></pre>\n\n<p>With the <code>&amp;</code> and no argument list (not even <code>()</code>), it passes on the <code>@_</code> to the next level:</p>\n\n<pre><code>    my @new_files = perforce_filelist( $path, $date );\n\n    my @filelist = &amp;get_p4_files; \n    my $command = &amp;make_p4_files_command;\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 839, "favorite_count": 2, "accepted_answer_id": 44204231, "answer_count": 3, "score": 7, "last_activity_date": 1495833092, "creation_date": 1495790798, "question_id": 44198069, "link": "https://stackoverflow.com/questions/44198069/perl-unit-testing-is-the-subroutine-testable", "title": "Perl Unit Testing -- is the subroutine testable?", "body": "<p>I have been reading up and exploring on the concept of unit testing and test driven development in Perl. I'm looking into how I can incorporate the testing concepts into my development. Say I have a Perl subroutine here:</p>\n\n<pre><code>sub perforce_filelist {\n\n    my ($date) = @_;\n\n    my $path = \"//depot/project/design/...module.sv\";\n    my $p4cmd = \"p4 files -e $path\\@$date,\\@now\";\n\n    my @filelist = `$p4cmd`; \n\n    if (@filelist) {\n        chomp @filelist;\n        return @filelist;\n    }\n    else {\n        print \"No new files!\"\n        exit 1;\n    }\n}\n</code></pre>\n\n<p>The subroutine executes a Perforce command and stores the output of that command (which is a list of files) in to the <code>@filelist</code> array. Is this subroutine testable? Would testing if the returned <code>@filelist</code> is empty useful? I am trying to teach myself how to think like a unit test developer.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 4, "creation_date": 1495787360, "post_id": 44196914, "comment_id": 75407034, "body": "<i>The book tells me ...</i> - which book?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1495788252, "post_id": 44196914, "comment_id": 75407542, "body": "It&#39;s sort of true, but it&#39;s sort of not. 0 is false and 1 is true. But 2 is true as well."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1495793454, "post_id": 44196914, "comment_id": 75410714, "body": "It looks like your book is wrong. It would be useful to know which book you&#39;re reading so we can discourage people from reading it in the future."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8069180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcacecf6fa491800c6db23e525ca92b?s=128&d=identicon&r=PG&f=1", "display_name": "xf1020", "link": "https://stackoverflow.com/users/8069180/xf1020"}, "edited": false, "score": 0, "creation_date": 1495790274, "post_id": 44197094, "comment_id": 75408791, "body": "Thanks.  I have thrown away my book.  By the way\uff0c I have the above question becuase of this expression:  $index = (($index - $kIntervals) &gt;&gt; ($index &gt; $kIntervals)) + $kIntervals;         When $index&lt; $kIntervals, i get a strange result  (To me). Maybe the final reason is the shift operator .I still have so much to learn......"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1495787980, "last_edit_date": 1495787980, "creation_date": 1495787671, "answer_id": 44197094, "question_id": 44196914, "link": "https://stackoverflow.com/questions/44196914/the-value-of-a-comparison-expression-in-perl/44197094#44197094", "title": "the value of a comparison expression in perl", "body": "<p>Ok, grab yourself a coffee, as it's time to go down the rabbit hole of perl and <a href=\"https://perldoc.perl.org/Scalar/Util.html#dualvar\" rel=\"nofollow noreferrer\">dualvars.</a></p>\n\n<p>The thing that's happening here is - perl does some magic with 'boolean' values results. </p>\n\n<p>As you may know - in perl \"false\" is (pretty much) anything that evaluates to zero or an empty string. </p>\n\n<p>So <code>0</code> is false, but so is <code>''</code> (and a bunch of other things).</p>\n\n<p>Perl usually infers from context, and the magic 'just works'.</p>\n\n<pre><code>print \"yes\" if 1&gt;2; #just works. \n</code></pre>\n\n<p>But... what about printing the result of your boolean? Well, as it turns out, because it could be <em>either</em> \"empty string\" or \"0\" perl creates a dualvar. </p>\n\n<p>This is specifically a thing that has <em>both</em> values.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Scalar::Util qw ( isdual dualvar );\n\nmy $result = 1&gt;2;\n\nif ( isdual ( $result ) ) { \n   print \"\\$result is a dualvar\\n\";\n}\n\nprint \"Number:\", 0+$result,\"\\n\";\nprint \"String:\",''.$result,\"\\n\";\n</code></pre>\n\n<p>If you tried these operations on a <em>normal</em> value:</p>\n\n<pre><code>my $number = '';\nprint 0+$number;\n</code></pre>\n\n<p>You would get </p>\n\n<pre><code>Argument \"\" isn't numeric in addition (+) \n</code></pre>\n\n<p>You can replicate this magic, using <code>dualvar</code>:</p>\n\n<pre><code>my $thing = dualvar ( 666, \"the beast\" );\n\nprint 0+$thing,\"\\n\";\nprint $thing,\"\\n\";\n</code></pre>\n\n<p>Mostly you won't need to though - this is something that can do really odd things if you meddle too much. But often 'results' are dualvars, such as <code>$@</code> and <code>$!</code>. </p>\n\n<pre><code>open ( my $fh, '&lt;', \"not_here\"); #generates $!\nprint \"\\$! is dual\\n\" if isdual ( $! );\nprint 0+$!,\"\\n\";\nprint $!,\"\\n\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>$! is dual\n2\nNo such file or directory\n</code></pre>\n\n<p>In the context of your question - it's because either empty string or zero are 'false' and perl doesn't know what kind of 'false' you'll be needing. So it gives you both. </p>\n\n<p>And because you're doing a <code>print</code> perl decides that you're using strings now, and uses the string part of the dual var - the empty string. </p>\n\n<p>You could instead do:</p>\n\n<pre><code>print \"why... \",0+(1&gt;2), \"\\n\";\n</code></pre>\n\n<p>Adding zero forces a switch to 'numeric' and gives you:</p>\n\n<pre><code>why... 0\n</code></pre>\n\n<p>But the long and short of it really is - don't do what you're doing, it's bad style. If you need a particular value if something is false - then spell out what that value is. There's nothing wrong with:</p>\n\n<pre><code>return 0 if 1&gt;2;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>print \"Why: \", 1&gt;2 ? \"1\" : \"0\", \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1495800653, "last_edit_date": 1592644375, "creation_date": 1495798313, "answer_id": 44200524, "question_id": 44196914, "link": "https://stackoverflow.com/questions/44196914/the-value-of-a-comparison-expression-in-perl/44200524#44200524", "title": "the value of a comparison expression in perl", "body": "<p>I applaud <a href=\"https://stackoverflow.com/a/44197094/622310\"><strong>Sobrique's</strong> explanation of <em>dualvars</em></a> but I don't think it's necessary to involve such esoteric parts of Perl to resolve your problem</p>\n<p>Perl's dualvars are much more common than you may imagine, and are used primarily to avoid repeating a conversion between a string and an integer</p>\n<pre><code>my $v1 = &quot;10&quot;;\nmy $v2 = $v1 + 20;\n</code></pre>\n<p>In this example, the variable <code>$v1</code> is set to the string <code>&quot;10&quot;</code>. That string must be converted to an integer to perform the next operation, which is to add the number <code>20</code> and store the result in <code>$v2</code>. To avoid repeating the conversion if the numeric version of <code>$v1</code> happens to be needed again, it becomes a <em>dualvar</em> which holds both the string and the numeric values and evaluates to <code>&quot;10&quot;</code> or <code>10</code> according to how it is used</p>\n<p>All of these are <em>false</em> in Perl</p>\n<ul>\n<li><p>The numeric value zero</p>\n</li>\n<li><p>The <em>string</em> <code>&quot;0&quot;</code></p>\n<p>(Note than any other strings that evaluate to a numerical zero, such as <code>&quot;0.0&quot;</code> or <code>&quot;0E99&quot;</code>, are <em>true</em>)</p>\n</li>\n<li><p>The empty string <code>&quot;&quot;</code></p>\n</li>\n<li><p><code>undef</code></p>\n</li>\n<li><p>An empty list <code>( )</code></p>\n</li>\n</ul>\n<p><em>Anything else is true</em>, so subroutines and expressions may return pretty much anything for a boolean value as long as it follows these rules. In practice, Perl built-in operators usually return a fixed value for <em>false</em> which happens to be a <em>dualvar</em> equal to zero as a number and the empty string as a string</p>\n<blockquote>\n<p>I have the above question because of this expression:</p>\n<pre><code>$index = (($index - $kIntervals) &gt;&gt; ($index &gt; $kIntervals)) + $kIntervals\n</code></pre>\n<p>When <code>$index</code> &lt; <code>$kIntervals</code>, I get a strange result (To me). Maybe the final reason is the shift operator</p>\n</blockquote>\n<p>Here, the value <code>$index &gt; $kIntervals</code> is used as a number, so its value will be zero or one as you expected. I don't know what result you want from this expression, but <code>&lt;&lt;</code> will perform a <em>logical shift</em> and treat the first operand as a simple bit pattern. If you want to do an <em>arithmetic shift</em>, which is basically a multiplication by a power of two, then you need to temporarily enable <code>use integer</code>, like this</p>\n<pre><code>$index = do {\n    use integer;\n    ( ( $index - $kIntervals ) &gt;&gt; ( $index &gt; $kIntervals ) ) + $kIntervals;\n};\n \n</code></pre>\n<p>but as I don't know what you're doing, that is just as likely to be wrong</p>\n"}], "owner": {"reputation": 43, "user_id": 8069180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcacecf6fa491800c6db23e525ca92b?s=128&d=identicon&r=PG&f=1", "display_name": "xf1020", "link": "https://stackoverflow.com/users/8069180/xf1020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 44197094, "answer_count": 2, "score": 1, "last_activity_date": 1495800653, "creation_date": 1495787088, "question_id": 44196914, "link": "https://stackoverflow.com/questions/44196914/the-value-of-a-comparison-expression-in-perl", "title": "the value of a comparison expression in perl", "body": "<p>I'm rather confused about the value of a comparison expression in perl\uff1a</p>\n\n<pre><code>   print \"why... \",1&gt;2, \"\\n\";\n</code></pre>\n\n<p>I get the following results\uff1a</p>\n\n<pre><code>   why...\n</code></pre>\n\n<p>So, why the result of \"1>2\" is empty ? The book tells me that \"$a>$b\" is 0 or 1 .</p>\n"}, {"tags": ["perl", "encryption", "encryption-symmetric"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7571955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e20b7a0ed78a19e22b1f91259d100c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/7571955/adrian"}, "edited": false, "score": 0, "creation_date": 1495787958, "post_id": 44197091, "comment_id": 75407364, "body": "Thank you for the explanations and for the solution. I am new to the topic and I have to do a school project"}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": false, "score": 2, "last_activity_date": 1495812332, "last_edit_date": 1495812332, "creation_date": 1495787667, "answer_id": 44197091, "question_id": 44196517, "link": "https://stackoverflow.com/questions/44196517/encrypt-file-in-perl/44197091#44197091", "title": "Encrypt file in Perl", "body": "<p>AES encrypts blocks of 128 bits (16 bytes), so you'll want to read your file 16 bytes at a time. To do this, you need to <code>binmode</code> your file, then read it with the <a href=\"https://perldoc.perl.org/functions/read.html\" rel=\"nofollow noreferrer\"><code>read</code></a> builtin:</p>\n\n<pre><code>open my $fh, '&lt;', 'myTestFile.ext' or die $!;\nbinmode $fh;\n\nwhile (read($fh,my $block,16)) {\n    # encrypt $block\n}\n</code></pre>\n\n<p>Note that I've added <code>or die $!</code> after opening the file: you want to always make sure your <code>open</code> worked.</p>\n\n<p>Also, don't forget that if the block you read is less than 16 bytes long, you'll have to do some padding. (I don't recall how the blocks are padded for AES, but I trust you do since you are implementing it)</p>\n\n<hr>\n\n<p>About the approaches you thought of:</p>\n\n<ul>\n<li><p>Reading the entire file at once will potentially consume a lot of memory if the file is big.</p></li>\n<li><p>Reading the file line by line: if the file contains no newline, then you'll read it entirely at once, which might consume a lot of memory. And if lines contain a number of bytes which isn't a multiple of 16, then you'll have to combine bytes from different lines, which will require more work than simply reading blocks of 16 bytes.  </p></li>\n</ul>\n\n<p>Also, you definitely don't want to <code>chomp</code> anything! You should have <code>decrypt(encrypt(file)) == file</code>, but if you <code>chomp</code> the newlines, that won't be the case anymore.</p>\n"}], "owner": {"reputation": 31, "user_id": 7571955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e20b7a0ed78a19e22b1f91259d100c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/7571955/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1077, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495812332, "creation_date": 1495785563, "question_id": 44196517, "link": "https://stackoverflow.com/questions/44196517/encrypt-file-in-perl", "title": "Encrypt file in Perl", "body": "<p>I created the algorithm to encrypt and decrypt a string in Perl ( using AES in CFB mode). Now I want to extend to encryption to file level. How should I get the content of the file? What would be a good approach?</p>\n\n<ol>\n<li>Read the file normally<br>\n<code>open(my $fh, \"&lt;\", \"myTestFile.ext\");</code></li>\n<li>Read the file in binmode <br>\n<code>open(my $fh, \"&lt;\", \"myTestFile.ext\");\nbinmode $fh</code></li>\n</ol>\n\n<p>Then how should I store the content of the files?</p>\n\n<p>a) Read all the content of the file in one string and provide the string to the implemented program</p>\n\n<pre><code>my $document = do {\n    local $/ = undef;\n    &lt;$fh&gt;; # file handle opened previously\n};\nencryptionAlgorithm($document);\n</code></pre>\n\n<p>b) Read the content of the file line by line</p>\n\n<pre><code>while( my $line = &lt;$fh&gt;)\n{\n    encryptionAlgorithm($line);\n}\n</code></pre>\n\n<p>In both cases should I chomp the <code>\\n</code>'s ?</p>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "edited": false, "score": 0, "creation_date": 1495793870, "post_id": 44196232, "comment_id": 75410959, "body": "&quot;Check log file for details.&quot; Without this, nobody may tell what went wrong."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7028900, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207691969285845/picture?type=large", "display_name": "Nguyen Van Thai", "link": "https://stackoverflow.com/users/7028900/nguyen-van-thai"}, "is_accepted": false, "score": 0, "last_activity_date": 1495813574, "creation_date": 1495813574, "answer_id": 44205521, "question_id": 44196232, "link": "https://stackoverflow.com/questions/44196232/unable-to-execute-cr9idata-pl/44205521#44205521", "title": "Unable to execute cr9idata.pl", "body": "<p>After serveral day debugging. I found the reason is my oracle user error.\nI installed perl into /home/oracle/perl5...then make oracle user error.\nI cannot su oracle from root user.\nwhen i install perl for oracle user then .bashrc of oracle user auto add two routine line:</p>\n\n<p>eval <code>perl -I ~/perl5/lib/perl5 -Mlocal::lib</code></p>\n\n<p>export MANPATH=$HOME/perl5/man:$MANPATH</p>\n\n<p>I just remove above two lines above then i can su oracle from root user.</p>\n\n<p>Conclusion:\nWhen you install Oracle EBS 12.2.0 on CentOS 7.3. rapidwiz tool will su to oracle user automatically to install DB. But our oracle error cannot be su to so make error. But it show the symtom very strange so it is difficult to debug.</p>\n\n<p>Now i install Oracle EBS 12.2 sucessfully !\nI am very happy to share this to anyone meet this error.</p>\n"}, {"tags": [], "owner": {"reputation": 326, "user_id": 7210927, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MeJxiLCjIpg/AAAAAAAAAAI/AAAAAAAADd0/X3bd1VJWFlI/photo.jpg?sz=128", "display_name": "Hussain Akbar", "link": "https://stackoverflow.com/users/7210927/hussain-akbar"}, "is_accepted": false, "score": -1, "last_activity_date": 1505324660, "creation_date": 1505324660, "answer_id": 46203834, "question_id": 44196232, "link": "https://stackoverflow.com/questions/44196232/unable-to-execute-cr9idata-pl/46203834#46203834", "title": "Unable to execute cr9idata.pl", "body": "<p>I am installing EBS 12 at the moment.</p>\n\n<p>Looking a bit deeper into the logs for the cr9idata.pl script, I saw that this error is caused by a missing Perl module. The Perl version that is installed with Oracle includes this library, so setting the path manually works in that case.</p>\n\n<p>If you (like me) have installed Perl from YUM, install this module: perl-File-CheckTree</p>\n"}], "owner": {"reputation": 11, "user_id": 7028900, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207691969285845/picture?type=large", "display_name": "Nguyen Van Thai", "link": "https://stackoverflow.com/users/7028900/nguyen-van-thai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 765, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1505324660, "creation_date": 1495784567, "question_id": 44196232, "link": "https://stackoverflow.com/questions/44196232/unable-to-execute-cr9idata-pl", "title": "Unable to execute cr9idata.pl", "body": "<p>Oracle Database Home patches installed successfully</p>\n\n<p>Executing cr9idata.pl</p>\n\n<p>Executing: perl /u01/db/VIS/12.1.0/nls/data/old/cr9idata.pl</p>\n\n<p>Unable to execute cr9idata.pl</p>\n\n<pre><code>RW-50010: Error: - script has returned an error:   2\n</code></pre>\n\n<p>RW-50004: Error code received when running external process.  Check log file for details.\nRunning Database Install Driver for VIS instance</p>\n\n<hr>\n\n<p>I executed command in terminal with root account:</p>\n\n<p>[root@ntcs ~]# perl /u01/db/VIS/12.1.0/nls/data/old/cr9idata.pl\nDirectory /u01/db/VIS/12.1.0/nls/data/9idata already exist. Overwriting...\nCopying files to /u01/db/VIS/12.1.0/nls/data/9idata...\nCopy finished.\nPlease reset environment variable ORA_NLS10 to /u01/db/VIS/12.1.0/nls/data/9idata!</p>\n\n<p>Thanks advanced for helping !</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1495776658, "post_id": 44193970, "comment_id": 75401946, "body": "Welcome to StackOverflow.   Please learn asking good questions stackoverflow.com/help/how-to-ask,   make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.   If you are looking for help with debugging code see <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>   Wat do you mean by &quot;links for digits&quot;? What are you trying to achieve? What is the code you copied doing? What do you want to change in behaviour?  What exactly did you change in the code? What do you mean by &quot;expected one&quot;? What is the unwanted behaviour you observe? Do you get and warnings/errors? Do you use <code>use strict; usewarnings</code>?  Use formatting."}, {"owner": {"reputation": 1, "user_id": 8068445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3e9057def6336dce6458528162a684?s=128&d=identicon&r=PG&f=1", "display_name": "sakthisampath", "link": "https://stackoverflow.com/users/8068445/sakthisampath"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1495777089, "post_id": 44193970, "comment_id": 75402113, "body": "Here added only my subroutine part.I My code is running well until the print statement which i had given inside the code.The theme of the subroutine is to remove hyperlinks for all digits because in my file only the  digits are hyperlinked .So i had tried to remove it. @Yunnosch"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1495777340, "post_id": 44193970, "comment_id": 75402211, "body": "Tell me more about it."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1495777609, "post_id": 44193970, "comment_id": 75402342, "body": "What type of file is it for the Input. Can you please post a small input snippet for better understanding."}, {"owner": {"reputation": 1, "user_id": 8068445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3e9057def6336dce6458528162a684?s=128&d=identicon&r=PG&f=1", "display_name": "sakthisampath", "link": "https://stackoverflow.com/users/8068445/sakthisampath"}, "reply_to_user": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1495777649, "post_id": 44193970, "comment_id": 75402358, "body": "sure will post my snippet. @Mohit"}, {"owner": {"reputation": 1, "user_id": 8068445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3e9057def6336dce6458528162a684?s=128&d=identicon&r=PG&f=1", "display_name": "sakthisampath", "link": "https://stackoverflow.com/users/8068445/sakthisampath"}, "reply_to_user": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1495778116, "post_id": 44193970, "comment_id": 75402561, "body": "i had added input snippet please look into it . @Mohit"}, {"owner": {"reputation": 1, "user_id": 8068445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3e9057def6336dce6458528162a684?s=128&d=identicon&r=PG&f=1", "display_name": "sakthisampath", "link": "https://stackoverflow.com/users/8068445/sakthisampath"}, "edited": false, "score": 0, "creation_date": 1495778268, "post_id": 44193970, "comment_id": 75402614, "body": "from the snippet i need to remove hyperlinks from the first column (i.e only from digits) .@Mohit"}, {"owner": {"reputation": 1, "user_id": 8068445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3e9057def6336dce6458528162a684?s=128&d=identicon&r=PG&f=1", "display_name": "sakthisampath", "link": "https://stackoverflow.com/users/8068445/sakthisampath"}, "edited": false, "score": 0, "creation_date": 1495778343, "post_id": 44193970, "comment_id": 75402641, "body": "In my code i had tried to remove hyperlinks via parsing module i.e.tree builder .And $files will shift the files .@Yunnosch"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1495787016, "post_id": 44193970, "comment_id": 75406821, "body": "The <a href=\"https://stackoverflow.com/questions/44159328/sed-command-fails-to-remove-hyperlinked-contents-from-my-html-files-using-perl/\">previous question about this code</a> was asked by a user called <a href=\"https://stackoverflow.com/users/8058695/in-site\">in site</a>. Why have you changed your username?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1495787545, "post_id": 44193970, "comment_id": 75407132, "body": "The input file you have shown is is an image of rendered HTML. How is that useful to us? We need to see the raw input - the actual HTML. And we need to see it as text, so we can copy it into files so that we can test your code and our fixes. Why would you think that a picture of text is useful to anyone?"}], "answers": [{"tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": true, "score": 0, "last_activity_date": 1495779642, "creation_date": 1495779642, "answer_id": 44194912, "question_id": 44193970, "link": "https://stackoverflow.com/questions/44193970/how-can-i-remove-links-for-digits-from-my-file-using-perl/44194912#44194912", "title": "How can i remove links for digits from my file using perl?", "body": "<p>Your code seems to work fine. The only thing missing is that you are not writing the modified contents back to your file. PFB the updated code for that:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse HTML::TreeBuilder;\n\nprint \"enter\";\nmy ($files)= \"abc.html\";\nprint \"******$files**********\\n\";\nmy $FileFH;\nmy $root = HTML::TreeBuilder-&gt;new_from_file($files);\nforeach my $a ($root-&gt;find_by_tag_name('a')) {\n    if ($a-&gt;attr('href') =~ /^\\d+/) {\n       $a-&gt;replace_with_content($a-&gt;as_text) or die \"Cannot replace\";\n    }\n}\nprint $root-&gt;as_HTML(undef, \"\\t\");\n\nopen($FileFH,'&gt;',$files);\nprint $FileFH $root-&gt;as_HTML(undef, \"\\t\");\nprint \"File Written successfully\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8068445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3e9057def6336dce6458528162a684?s=128&d=identicon&r=PG&f=1", "display_name": "sakthisampath", "link": "https://stackoverflow.com/users/8068445/sakthisampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 44194912, "answer_count": 1, "score": -1, "last_activity_date": 1495779642, "creation_date": 1495775027, "last_edit_date": 1495778071, "question_id": 44193970, "link": "https://stackoverflow.com/questions/44193970/how-can-i-remove-links-for-digits-from-my-file-using-perl", "title": "How can i remove links for digits from my file using perl?", "body": "<hr>\n\n<p>Here is the part of code which i studied from the stack overflow website and tried implementing the same for my code too.But i am not getting  the expected one.</p>\n\n<p>Here in code i tried  to remove the href links for digits from my files using perl module HTML::TreeBuilder.</p>\n\n<p>This is my part of subroutine which i tried to remove hyperlinks for all digits.</p>\n\n<pre><code>sub process_file\n{\nprint \"enter\";\nmy ($files)=@_;\nprint \"******$files**********\";\nuse HTML::TreeBuilder;\nmy $root = HTML::TreeBuilder-&gt;new_from_file($files);\nforeach my $a ($root-&gt;find_by_tag_name('a')) {\n    if ($a-&gt;attr('href') =~ /^\\d+/) {\n       $a-&gt;replace_with_content($a-&gt;as_text);\n#print $a;\n    }\n}\nprint $root-&gt;as_HTML(undef, \"\\t\");\n}\n</code></pre>\n\n<p>Code Explanation:</p>\n\n<p>1.This subroutine is used to remove the hyperlinks in the files.In my files all numbers are hyperlinked.So i tried  to remove it.</p>\n\n<p>2.Foreach is looking for  href tags.</p>\n\n<p>3.Next in if condition i tried to match the digits in the file.</p>\n\n<p>Input file snippet:<a href=\"https://i.stack.imgur.com/svIfz.png\" rel=\"nofollow noreferrer\">version*.html</a></p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 3226, "user_id": 1964690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120d7c6980b552a124f79016300ca954?s=128&d=identicon&r=PG", "display_name": "jrefior", "link": "https://stackoverflow.com/users/1964690/jrefior"}, "edited": false, "score": 0, "creation_date": 1495765627, "post_id": 44192441, "comment_id": 75399139, "body": "Are you saying that, when you run it, it just hangs and you have to Ctrl-C to get the prompt back?"}, {"owner": {"reputation": 49, "user_id": 1461277, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8bc0b6f49619d21c9fa01d59c7b0b9fe?s=128&d=identicon&r=PG", "display_name": "Matthew Tuman", "link": "https://stackoverflow.com/users/1461277/matthew-tuman"}, "reply_to_user": {"reputation": 3226, "user_id": 1964690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120d7c6980b552a124f79016300ca954?s=128&d=identicon&r=PG", "display_name": "jrefior", "link": "https://stackoverflow.com/users/1964690/jrefior"}, "edited": false, "score": 0, "creation_date": 1495765852, "post_id": 44192441, "comment_id": 75399193, "body": "Sorry I&#39;m not running it from the command line. I have it saved in a cgi-bin folder in my web hosting account. The blank screen is in the browser when I run the script."}, {"owner": {"reputation": 49, "user_id": 1461277, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8bc0b6f49619d21c9fa01d59c7b0b9fe?s=128&d=identicon&r=PG", "display_name": "Matthew Tuman", "link": "https://stackoverflow.com/users/1461277/matthew-tuman"}, "reply_to_user": {"reputation": 3226, "user_id": 1964690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120d7c6980b552a124f79016300ca954?s=128&d=identicon&r=PG", "display_name": "jrefior", "link": "https://stackoverflow.com/users/1964690/jrefior"}, "edited": false, "score": 0, "creation_date": 1495766181, "post_id": 44192441, "comment_id": 75399267, "body": "Also, this may be a dumb question but I just want to make sure...I have a lot of experience using mysql in conjunction with php but I&#39;m new to perl. The username and password fields are the same username and password I would use if I was connecting to the database with a php script right?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495779175, "post_id": 44192441, "comment_id": 75402979, "body": "You do not specify the host. <code>my $dbh = DBI-&gt;connect(&quot;dbi:mysql:database=$database;host=$DBhost;port&zwnj;&#8203;=$port&quot;,$username,$p&zwnj;&#8203;assword,</code> where <code>$DBhost</code> might be remote or <code>localhost</code>"}], "answers": [{"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 1, "last_activity_date": 1495780024, "creation_date": 1495780024, "answer_id": 44194999, "question_id": 44192441, "link": "https://stackoverflow.com/questions/44192441/unable-to-connect-to-mysql-using-perl-dbi-module/44194999#44194999", "title": "Unable to connect to mysql using perl DBI module", "body": "<p>This should work. The <code>port</code> is optional if you are running the script locally.</p>\n\n<pre><code> use strict;\n use warnings;\n use DBI;\n\n my $database   = 'name_of_database';\n my $DBhost     = 'localhost';\n my $port       = 'portnumber';\n my $username   = 'user123';\n my $password   = 'password123';\n\n my $dbh = DBI-&gt;connect(\"dbi:mysql:database=$database;host=$DBhost;port=$port\",$username,$password,                          \n     {  RaiseError       =&gt; 1,\n        PrintError       =&gt; 0,\n        AutoCommit       =&gt; 1,\n        FetchHashKeyName =&gt; 'NAME_lc'}, ) or die $DBI::errstr;\n\n my $sth = $dbh-&gt;prepare( \"SELECT * FROM classes\" );  \n    $sth-&gt;execute();\n\n my ($class_id, $class_name, $class_number) = $sth-&gt;fetchrow();\n    print \"$class_id $class_name $class_number\\n\";\n\n my $fields = $sth-&gt;{NUM_OF_FIELDS};\n    print \"We have selected $fields field(s)\\n\";\n\n my $rows = $sth-&gt;rows();\n    print \"We have selected $rows row(s)\\n\";\n\n    $sth-&gt;finish();\n    $dbh-&gt;disconnect();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1495786948, "post_id": 44196793, "comment_id": 75406773, "body": "hmm, good eye you have there, never saw that comment. upvote."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1495790163, "post_id": 44196793, "comment_id": 75408706, "body": "Doesn&#39;t even need to do it with CGI.pm - a simple <code>print &quot;Content-type: text&#47;plain\\n\\n&quot;</code> before any other output will do the job."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1495791965, "post_id": 44196793, "comment_id": 75409770, "body": "@ChrisTurner Well, pedantically, if it&#39;s a Unix-like server, <code>\\n\\n</code> will send incorrect line-end characters. The only way to be sure across all server platforms is to use <code>\\015\\012\\015\\012</code>. And hiding obscure stuff like that is surely why we use modules :-)"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1495793085, "post_id": 44196793, "comment_id": 75410469, "body": "@DaveCross never had that problem (Apache is super smart), but it&#39;s a fair point. still seems like overkill using something as heavy as CGI just to print out the header tho"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1495793248, "post_id": 44196793, "comment_id": 75410575, "body": "@ChrisTurner: Well, of course, <a href=\"https://en.wikipedia.org/wiki/Robustness_principle\" rel=\"nofollow noreferrer\">Postel&#39;s Law</a> means that it shouldn&#39;t be a problem. But it also suggests that we should make every effort to do the right thing :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1495787151, "last_edit_date": 1495787151, "creation_date": 1495786621, "answer_id": 44196793, "question_id": 44192441, "link": "https://stackoverflow.com/questions/44192441/unable-to-connect-to-mysql-using-perl-dbi-module/44196793#44196793", "title": "Unable to connect to mysql using perl DBI module", "body": "<p>In a comment, you add this useful information that should really have been in the original question.</p>\n\n<blockquote>\n  <p>Sorry I'm not running it from the command line. I have it saved in a cgi-bin folder in my web hosting account. The blank screen is in the browser when I run the script.</p>\n</blockquote>\n\n<p>This program isn't going to work as a CGI program as you're not returning the content-type header. Try adding these two lines to the top of your program.</p>\n\n<pre><code>use CGI 'header';\nprint header('text/plain');\n</code></pre>\n\n<p>You should also find out where the web server error log lives and check that for errors. It's a security feature that CGI programs don't send their errors to the browser (although I'd expect to see some indication that there was a problem).</p>\n\n<p>It's also worth pointing out that the <code>use warnings</code> pragma was added to Perl in version 5.6 (released in 2000) and that most programmers use that in place of <code>-w</code> on the shebang line.</p>\n\n<p>I'd also suggest that it's often (probably always) a good idea to test a new Perl module as a command-line program before writing a CGI version. CGI just adds an extra, unnecessary, level of complexity when you're learning something new.</p>\n"}], "owner": {"reputation": 49, "user_id": 1461277, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8bc0b6f49619d21c9fa01d59c7b0b9fe?s=128&d=identicon&r=PG", "display_name": "Matthew Tuman", "link": "https://stackoverflow.com/users/1461277/matthew-tuman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1495787151, "creation_date": 1495763961, "last_edit_date": 1495764274, "question_id": 44192441, "link": "https://stackoverflow.com/questions/44192441/unable-to-connect-to-mysql-using-perl-dbi-module", "title": "Unable to connect to mysql using perl DBI module", "body": "<p>Hi I am trying to connect to a mysql database using the following perl script:</p>\n\n<pre><code> #!/usr/bin/perl -w\n use strict;\n use DBI;\n my $dbh = DBI-&gt;connect(          \n     \"dbi:mysql:dbname=MYDATABASENAME\", \n     \"MYUSERNAME\",                          \n     \"MYPASSWORD\",                          \n     { RaiseError =&gt; 1 },         \n ) or die $DBI::errstr;\n\n my $sth = $dbh-&gt;prepare( \"SELECT * FROM classes\" );  \n $sth-&gt;execute();\n\n my ($class_id, $class_name, $class_number) = $sth-&gt;fetchrow();\n print \"$class_id $class_name $class_number\\n\";\n\n my $fields = $sth-&gt;{NUM_OF_FIELDS};\n print \"We have selected $fields field(s)\\n\";\n\n my $rows = $sth-&gt;rows();\n print \"We have selected $rows row(s)\\n\";\n\n $sth-&gt;finish();\n $dbh-&gt;disconnect();\n</code></pre>\n\n<p>Right now I am just getting a blank screen and I can't figure out why I am not at least getting an error message. I've spent over 20 hours trying to figure this out which is why I'm hoping someone can see what I'm doing wrong. Thanks in advance.</p>\n"}, {"tags": ["perl", "serialization", "deserialization"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495760300, "post_id": 44191834, "comment_id": 75397892, "body": "Have you considered breaking the file up and storing it in a database?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495762323, "post_id": 44191834, "comment_id": 75398368, "body": "Sure you can keep it loaded in memory... Don&#39;t exit the process! When a process exits, its memory vanishes along with it, so that&#39;s the only way to keep it in memory. /// But that means you&#39;d have to give your program an interface that can be queries to obtain desired information from the dump when needed. We&#39;re talking about a lot of where here. /// But you know what? You could avoid all that by placing the data in a format that can be queried in the first place! Placing the data in a database is one way you could do that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1495774257, "post_id": 44191834, "comment_id": 75401104, "body": "And with the &quot;file-based relational database engine&quot; <a href=\"https://www.sqlite.org/\" rel=\"nofollow noreferrer\">SQLite</a> you don&#39;t need an administered client-server system. Perl&#39;s interface is <a href=\"http://search.cpan.org/dist/DBD-SQLite/lib/DBD/SQLite.pm\" rel=\"nofollow noreferrer\">DBD::SQLite</a>, and comes with all that is needed."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495788604, "post_id": 44191834, "comment_id": 75407727, "body": "For simple data structures, I just use <code>redis</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "is_accepted": true, "score": 0, "last_activity_date": 1496269735, "creation_date": 1496269735, "answer_id": 44295643, "question_id": 44191834, "link": "https://stackoverflow.com/questions/44191834/loading-a-serialized-variable-in-perl/44295643#44295643", "title": "loading a serialized variable in perl", "body": "<p>Following the suggestions in the comments, I used a db engine, which improved A LOT the execution time, which is about 5secs now. </p>\n"}], "owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 44295643, "answer_count": 1, "score": 0, "last_activity_date": 1496269735, "creation_date": 1495759251, "question_id": 44191834, "link": "https://stackoverflow.com/questions/44191834/loading-a-serialized-variable-in-perl", "title": "loading a serialized variable in perl", "body": "<p>I have a file, where I keep stored a serialized perl hash. In my current script, I load the values like this:</p>\n\n<pre><code>my $arrayref = retrieve(\"mySerializedFile\");\nmy $a = $arrayref-&gt;[0];\nmy $b = $arrayref-&gt;[1];\nmy $c = $arrayref-&gt;[2];\n</code></pre>\n\n<p>My problem is that the file is about a 1GB so it takes about ten secs to load, and then a second more to perform some operations. I would like to reduce the <code>retrieve</code> time. </p>\n\n<p>Is there any way of having this info loaded before the script execution? I mean, mySerialiedFile is not suposed to be changed in a long time, so if I could have it loaded always on the system would be nice, and would improve my execution time from 11secs to 1. </p>\n"}, {"tags": ["perl", "unix", "tcl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495749298, "post_id": 44187797, "comment_id": 75394726, "body": "Can you just use perl as a keyword without quotes there? I don&#39;t know much TCL but that looks wrong."}, {"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 1, "creation_date": 1495779979, "post_id": 44187797, "comment_id": 75403315, "body": "There is no reason <i>per se</i> why what you wrote would not work. We need more details."}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 5783899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTCi5.jpg?s=128&g=1", "display_name": "Mattia Righetti", "link": "https://stackoverflow.com/users/5783899/mattia-righetti"}, "is_accepted": false, "score": 0, "last_activity_date": 1495797213, "creation_date": 1495797213, "answer_id": 44200126, "question_id": 44187797, "link": "https://stackoverflow.com/questions/44187797/run-perl-script-from-tcl/44200126#44200126", "title": "Run perl script from tcl", "body": "<p>TCL doesn't need semicolon at the end. Once removed, I tried to execute <code>exec</code> command on one of my PERL script in <code>tclsh</code> and it works fine.</p>\n\n<p>Therefore my suggestion is to try executing the program in <code>tclsh</code> to see weather some error is returned and most importantly to give the full absolute path to the script. All in all, try </p>\n\n<pre><code>set script_path \"/absolute/path/to/myScript.pl\"\nset sessionA \"Session1234\"\nset sessionB \"Session6789\"\nset p \"104:3445\"\nexec perl $script_path -from_session=$sessionA -to_session=$sessionB -port=$p</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8066828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65d860c5eb9698b9bf9d8796050e4629?s=128&d=identicon&r=PG&f=1", "display_name": "Amihud Shakovitsky", "link": "https://stackoverflow.com/users/8066828/amihud-shakovitsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1496068532, "creation_date": 1495738132, "last_edit_date": 1496068532, "question_id": 44187797, "link": "https://stackoverflow.com/questions/44187797/run-perl-script-from-tcl", "title": "Run perl script from tcl", "body": "<p>I have a perl script that I manually run it from shell:</p>\n\n<pre><code>myScript.pl -from_session=Session1234 -to_session=Session6789 -port=104:3445\n</code></pre>\n\n<p>I try to run it from tcl, in this way, but it doesn't work....</p>\n\n<pre><code>set script_path \"myScript.pl\";\nset sessionA \"Session1234\";\nset sessionB \"Session6789\";\nset p \"104:3445\";\nexec perl $script_path -from_session=$sessionA -to_session=$sessionB -port=$p\n</code></pre>\n\n<p>Update:</p>\n\n<p>I found that the perl script is done, but the tcl script is not continue after the execution of the perl script.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1495736002, "post_id": 44186972, "comment_id": 75388110, "body": "And you can use <code>ref</code> to test whether it is a reference, and to what"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1495735792, "creation_date": 1495735792, "answer_id": 44187143, "question_id": 44186972, "link": "https://stackoverflow.com/questions/44186972/perl-print-a-string-from-a-hash-that-contains-a-reference-to-it/44187143#44187143", "title": "perl: print a string from a hash that contains a reference to it", "body": "<p><code>$map{key2}</code> returns the value of the desired element. The element is a reference to a string.<sup>[1]</sup> If you wish to print the string referenced by that reference, you need to dereference it.</p>\n\n<pre><code>say ${ $map{key2} };\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://www.perlmonks.org/?node_id=977408\" rel=\"noreferrer\">Mini-Tutorial: Dereferencing Syntax</a></li>\n<li><a href=\"http://www.perlmonks.org/?node_id=69927\" rel=\"noreferrer\">References quick reference</a></li>\n<li><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"noreferrer\">perlref</a></li>\n<li><a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"noreferrer\">perlreftut</a></li>\n<li><a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"noreferrer\">perldsc</a></li>\n<li><a href=\"http://perldoc.perl.org/perllol.html\" rel=\"noreferrer\">perllol</a></li>\n</ul>\n\n<hr>\n\n<ol>\n<li>I doubt this is intentional! This surely indicates an error somewhere.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1495739388, "post_id": 44187195, "comment_id": 75389959, "body": "So in this context, the braces act like parentheses to indicate order of operations, correct? In other words, the double dollar <code>$$</code> IS the correct way to dereference a variable in general, but because it&#39;s a hash, the order is ambiguous so perl dereferenced the wrong thing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 1, "creation_date": 1495740218, "post_id": 44187195, "comment_id": 75390421, "body": "@ewok: Well I shouldn&#39;t have used <i>ambiguous</i>. <code>$$map{key2}</code> is defined as <code>${$map}{key2}</code>, so it uses <code>$map</code> as a hash reference. The fact that that isn&#39;t what you want doesn&#39;t make it &quot;wrong&quot;."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1495735983, "creation_date": 1495735983, "answer_id": 44187195, "question_id": 44186972, "link": "https://stackoverflow.com/questions/44186972/perl-print-a-string-from-a-hash-that-contains-a-reference-to-it/44187195#44187195", "title": "perl: print a string from a hash that contains a reference to it", "body": "<p><code>$map{key2}</code> is a reference to a scalar value <code>\\'there'</code>, so you need to dereference it</p>\n\n<p>Your <code>$$map{key2}</code> and <code>$map-&gt;{key2}</code> both treat <code>$map</code> as a <em>reference to a hash</em>, but it doesn't even exist so that is wrong</p>\n\n<p>You must use braces to disambiguate the order of evaluation</p>\n\n<pre><code>${ $map{key2} }\n</code></pre>\n\n<p>is what you want. Or you can write it in two steps</p>\n\n<pre><code>my $val = $map{key2};\nprint $$val, \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 2, "creation_date": 1495777968, "post_id": 44192921, "comment_id": 75402506, "body": "Welcome to StackOverflow and thanks for helping. Did you test your answer? I think you might have missed the point that the value for &quot;key2&quot; is  a reference. Your code works for &quot;key1&quot; but needs another twist for &quot;key2&quot;."}, {"owner": {"reputation": 16, "user_id": 8068084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac232ca0816e8fb5f6eab850fb186480?s=128&d=identicon&r=PG&f=1", "display_name": "mcfaddyone", "link": "https://stackoverflow.com/users/8068084/mcfaddyone"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1495825265, "post_id": 44192921, "comment_id": 75429514, "body": "Good catch, I found where my test code was incorrect.  I had the following in my %map definition:  <code>&#39;key2&#39;, &#39;\\&#39;there&#39;</code>  I fixed that and updated my answer appropriately!"}], "tags": [], "owner": {"reputation": 16, "user_id": 8068084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac232ca0816e8fb5f6eab850fb186480?s=128&d=identicon&r=PG&f=1", "display_name": "mcfaddyone", "link": "https://stackoverflow.com/users/8068084/mcfaddyone"}, "is_accepted": false, "score": -2, "last_activity_date": 1495825193, "last_edit_date": 1495825193, "creation_date": 1495767768, "answer_id": 44192921, "question_id": 44186972, "link": "https://stackoverflow.com/questions/44186972/perl-print-a-string-from-a-hash-that-contains-a-reference-to-it/44192921#44192921", "title": "perl: print a string from a hash that contains a reference to it", "body": "<p>I like to add the following line to all my perl scripts:<br>\n<code>use strict;</code><br>\nThis will keep you out of trouble with the scope of your variables.  It does require you to scope all your variables with at a minimum of \"my\".  </p>\n\n<p>The following will let you print the value (of the hash associated with \"key2\") directly,<br>\nwithout the intermediate step of copying it out to another variable first.  </p>\n\n<p><code>print ${$map{'key2'}}, \"\\n\";</code></p>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 0, "accepted_answer_id": 44187195, "answer_count": 3, "score": 3, "last_activity_date": 1495825193, "creation_date": 1495735178, "question_id": 44186972, "link": "https://stackoverflow.com/questions/44186972/perl-print-a-string-from-a-hash-that-contains-a-reference-to-it", "title": "perl: print a string from a hash that contains a reference to it", "body": "<p>Sorry if this is a bad title.</p>\n\n<p>I have the following hash:</p>\n\n<pre><code>my %map = (\n    'key1', 'hello',\n    'key2', \\'there'\n);\nprint Dumper(\\%map);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>$VAR1 = {\n    'key2' =&gt; \\'there',\n    'key1' =&gt; 'hello'\n};\n</code></pre>\n\n<p>I want to print out the value at <code>'key2'</code>. Here's what I've tried:</p>\n\n<pre><code>print \"$map{key2}\" =&gt; SCALAR(0x2398b08)\nprint \"$$map{key2}\" =&gt;\nprint \"$map-&gt;{key2}\" =&gt;\n</code></pre>\n\n<p>my goal:</p>\n\n<pre><code>print [some magic thing] =&gt; there\n</code></pre>\n\n<p>I'm new to perl, so I'm not 100% clear yet on how references behave and how to dereference them.  How do I get what I'm looking for?</p>\n"}, {"tags": ["linux", "bash", "perl", "pwd"], "comments": [{"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 2, "creation_date": 1495730918, "post_id": 44185663, "comment_id": 75385339, "body": "<code>PWD</code> <i>is exported</i> by bash (and by other shells like <code>zsh</code>); use <code>&#47;usr&#47;bin&#47;printenv</code> to verify that ; it is a <i>magic</i> environment variable"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1495730983, "post_id": 44185663, "comment_id": 75385370, "body": "@BasileStarynkevitch, I stand corrected."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 2, "creation_date": 1495731434, "post_id": 44185663, "comment_id": 75385620, "body": "Use <code>\\$</code> to escape the <code>$</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1495731556, "post_id": 44185663, "comment_id": 75385696, "body": "Why use PWD followed by a path? Why not a relative path?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1495731558, "post_id": 44185663, "comment_id": 75385698, "body": "@RyanSaffer, ...btw, in general, this kind of code is outright dangerous. You&#39;re <i>much</i> better using native Perl operations than <code>system()</code> or any equivalent -- if your path can contain <code>$(rm -rf ~)</code> (and yes, it&#39;s possible to create an actual file or directory with that string in its name), you don&#39;t want that to be passed to a shell without being quoted or escaped first (and if it were <code>$(rm -rf ~)&#39;$(rm -rf ~)&#39;</code> as a string literal in a name, that would serve to escape its quoting and wreak havoc even if you tried to make it safe by injecting literal single-quotes surrounding)."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1495733321, "post_id": 44185663, "comment_id": 75386664, "body": "I&#39;m sure this question is a duplicate, but the selected duplicate question is a terrible choice."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1495736073, "post_id": 44185663, "comment_id": 75388151, "body": "@mob, the list can be edited (by anyone with a badge in a pertinent tag). Care to provide suggestions?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1495739906, "post_id": 44185663, "comment_id": 75390248, "body": "@CharlesDuffy  I&#39;ve tried and had trouble finding an honest duplicate, as this questions mixes things (running external commands and using Bash variables) for which there are many good posts. I linked some directly relevant ones in my answer but can&#39;t tell whether any is good for marking this as a &quot;duplicate&quot; of it."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495741279, "post_id": 44185663, "comment_id": 75390969, "body": "@zdim, hmm. Arguably that&#39;s an argument for &quot;too broad&quot;, <i>or</i> for flagging as a duplicate of multiple other links (where the conjunction of the full set adds up to cover the entire question space) -- that said, under the circumstances, I&#39;ve just reopened the question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1495748291, "post_id": 44185663, "comment_id": 75394380, "body": "@CharlesDuffy  Yes, I would say that it is a dupe of multiple other posts.  (I did find it most appropriate to give only an overview, and a number of links.)  I&#39;ll review my post tonight anyway, and if it becomes clear what small set of links nicely covers it I&#39;ll label it as a duplicate of those (since this has clearly been covered, and everybody agrees on that)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1495777793, "post_id": 44185663, "comment_id": 75402421, "body": "@CharlesDuffy  I give up; I can&#39;t decide on a reasonable set of posts for this (Bash env + external comms -- and to make a link).  Instead I added a specific example.  But please go ahead and mark it if you wish; all this has been covered. Sorry for noise."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 0, "creation_date": 1495779139, "post_id": 44185799, "comment_id": 75402961, "body": "@RyanSaffer  I updated the post considerably, and with a specific answer."}, {"owner": {"reputation": 374, "user_id": 7870403, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H5JME.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7870403/ryan"}, "edited": false, "score": 0, "creation_date": 1497449413, "post_id": 44185799, "comment_id": 76084988, "body": "Overdue reply but this helped me a lot!! Thanks!!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 374, "user_id": 7870403, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H5JME.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7870403/ryan"}, "edited": false, "score": 0, "creation_date": 1497458948, "post_id": 44185799, "comment_id": 76091420, "body": "@RyanSaffer  Great :)  Please let me know if any more explanations would be usefule."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1545427907, "last_edit_date": 1545427907, "creation_date": 1495730919, "answer_id": 44185799, "question_id": 44185663, "link": "https://stackoverflow.com/questions/44185663/using-bash-environment-variables-from-within-a-perl-script/44185799#44185799", "title": "Using Bash environment variables from within a Perl script?", "body": "<p>There are two queries here, on use of Bash variables and on running external commands.</p>\n\n<p>There is the <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>%ENV</code> hash</a> in Perl, with environment variables</p>\n\n<pre><code>perl -wE'say $ENV{PWD}'\n</code></pre>\n\n<p>However, you are often better off getting the equivalent within the script, as things may have a subtly different meaning for the script or change as the script runs. </p>\n\n<p>More importantly, using shell commands exposes you to all kinds of potential problems with quoting, shell injection, and interpretation. For instance, the command you show is dangerous, as outlined in <a href=\"https://stackoverflow.com/users/14122/charles-duffy\">Charles Duffy</a> comment. It is in principle better to use Perl's rich functionality. See for example  </p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/13023594/executing-system-commands-safely-while-coding-in-perl\">Executing system commands safely while coding in Perl</a> &nbsp; and  </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/20495821/using-system-commands-in-perl-instead-of-built-in-libraries-functions\">Using system commands in Perl instead of built in \nlibraries/functions [duplicate]</a>  </p></li>\n</ul>\n\n<p>for a sober, and detailed, account of advantages.</p>\n\n<hr>\n\n<p>In case you do need to run external commands, it is best to avoid the shell altogether, for example by using the multi-argument form of <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a>. If you need the output of the command as well there are various modules in Perl that provide that. See links below.</p>\n\n<p>If you also need to use the shell's capabilities, instead of quoting everything just right in order for the shell to receive what it needs better use a ready tool like <a href=\"http://search.cpan.org/~rosch/String-ShellQuote-1.04/ShellQuote.pm\" rel=\"nofollow noreferrer\">String::ShellQuote</a>. </p>\n\n<p>Some examples:  </p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/29595082/how-to-use-both-pipes-and-prevent-shell-expansion-in-perl-system-function/29596035#29596035\">How to use both pipes and prevent shell expansion in perl system function?</a>  </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/40182374/perl-is-respecting-as-a-regular-character-rather-an-output-redirection/40183130#40183130\">Perl is respecting '&lt;' as a regular character rather an output redirection</a>   </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/40172951/how-to-pipe-the-content-of-a-variable-as-stdin-in-a-qx-statement-in-perl/40183728#40183728\">How to pipe the content of a variable as STDIN in a qx{} statement in Perl?</a>  </p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/40469395/perl-system-command-with-multiple-parameters-output-to-file/40469804#40469804\">Perl system command with multiple parameters output to file</a>.  </p></li>\n</ul>\n\n<p>Note that <a href=\"http://perldoc.perl.org/5.8.9/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">qx operator</a> (backticks) uses <code>/bin/sh</code>, which may or may not get relegated to Bash. So if you want Bash you'll need <code>system('/bin/bash', '-c', @cmd)</code>.  See the links with examples.</p>\n\n<hr>\n\n<p>Here is a full example related to the objective behind the question.</p>\n\n<p>Your program's working directory may be other than expected depending on how it's started. For one, it changes after <code>chdir</code>. I don't know your exact intent with <code>PWD</code>, but in Perl there are core  <a href=\"http://perldoc.perl.org/Cwd.html\" rel=\"nofollow noreferrer\">Cwd</a>::<code>cwd</code> and <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow noreferrer\">FindBin</a> with <code>$RealBin</code>, for the current working directory and for the directory where the script resides (generally different things).</p>\n\n<p>To create a symbolic link to <code>$path</code>, with the relative path following the current working directory</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Cwd qw(cwd);\n\nmy $cwd = cwd;\n\nmy $path = '/first/path';\n\nsymlink($path, \"$cwd/second/path\") or die \"Can't make a symlink: $!\";\n</code></pre>\n\n<p>If the path is meant to be the script's location use <code>$RealBin</code> from <code>FindBin</code> instead of <code>cwd</code>.</p>\n\n<p>Note that with <a href=\"http://perldoc.perl.org/functions/symlink.html\" rel=\"nofollow noreferrer\">symlink</a> you cannot pass a directory instead of a link name. See <a href=\"https://stackoverflow.com/questions/37845446/how-can-i-make-a-symbolic-link-inside-a-directory-like-ln-s-target-directory\">this page</a>.</p>\n"}], "owner": {"reputation": 374, "user_id": 7870403, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H5JME.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7870403/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1342, "favorite_count": 1, "accepted_answer_id": 44185799, "answer_count": 1, "score": 3, "last_activity_date": 1545427907, "creation_date": 1495730451, "last_edit_date": 1495730739, "question_id": 44185663, "link": "https://stackoverflow.com/questions/44185663/using-bash-environment-variables-from-within-a-perl-script", "title": "Using Bash environment variables from within a Perl script?", "body": "<p>I am trying to run a Bash command from within my Perl program.\nHowever Perl seems to be confusing my Bash $PWD environment variable as a Perl variable.</p>\n\n<p>How can I make it just read it all as a string?</p>\n\n<p>This is what I'm trying to run</p>\n\n<pre><code>my $path = /first/path;\n`ln -s $path $PWD/second/path`\n</code></pre>\n\n<p>Those backticks runs the second line in Bash. Using System() produces the same problem.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["string", "perl", "split"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8065512"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1495721631, "post_id": 44182464, "comment_id": 75379431, "body": "@toolic - I could but it was from 2006, and I&#39;ll have to wait awhile until I get an answer. Here, I waited no more than 13 mins :D"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495722460, "post_id": 44182464, "comment_id": 75379979, "body": "The <code>@_</code> behavior was removed in 5.12 and deprecated in 5.8.8 - see <a href=\"https://stackoverflow.com/a/44153498/1331451\">stackoverflow.com/a/44153498/1331451</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1495724401, "post_id": 44182464, "comment_id": 75381346, "body": "Your major confusion seems to be about what &quot;context&quot; is in Perl. Context is determined by what you do with the result of your expression (i.e. where the output goes), not where the input comes from. Of course, you should always give <code>split()</code> a scalar to work on. Whether the call is in scalar or list context is determined by whether the results are stored in an array (or list) or in a scalar."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8065512"}, "edited": false, "score": 1, "creation_date": 1495723153, "post_id": 44182963, "comment_id": 75380474, "body": "Ah! Now I understand. There is nothing wrong with my script, correct?  I&#39;ve been using split in the proper context?"}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 1, "last_activity_date": 1495862597, "last_edit_date": 1495862597, "creation_date": 1495722215, "answer_id": 44182963, "question_id": 44182464, "link": "https://stackoverflow.com/questions/44182464/splitting-a-string-with-perl/44182963#44182963", "title": "Splitting a String with Perl", "body": "<p>Calling <code>split</code> in scalar context isn't very useful. It effectively returns the number of separators plus one, and there are better ways of doing that.</p>\n\n<p>For example,</p>\n\n<pre><code>my $str = \"This,is,data\";\nmy $splitData = split(/,/, $str);\nsay $splitData;\n</code></pre>\n\n<p>will print <code>3</code> as it counts the substrings after the split.</p>\n\n<p><code>split</code> in scalarf context used to also return the split parts in <code>@_</code>, but that frowned-upon behaviour was removed because it's rather unexpected.</p>\n\n<p>Using it as an array is perfect.</p>\n\n<pre><code>my $str = \"This,is,data\";\n</code></pre>\n\n<p>the above line is a single string.</p>\n\n<pre><code>my @splitData = split(/,/, $str);\n</code></pre>\n\n<p>You are now splitting the <code>$str</code> into an array, or a list of values. So effectively you are now sitting with @splitData which is in fact:</p>\n\n<pre><code>\"This\" \"is\" \"string\"\n</code></pre>\n\n<p>So you can either use them all, <code>say @splitData</code> or use each of them as a scalar <code>@splitData[1]</code> which we never use as it is always better to write it as <code>$splitData[1]</code></p>\n\n<p>The tutorial says it nicely. Use split on a string to create a list of substrings.</p>\n\n<p>You can then obviously automatically assign each of the list values in a loop without having to print each list value.</p>\n\n<pre><code>my $str = \"This,is,data\";\nmy @splitData = split(/,/, $str);\nforeach $value(@splitData) {\n               say \"$value\\n\"\n }\n</code></pre>\n\n<p>This basically re-assigns <code>$splitData[0], $splitData[1]</code> etc... to <code>$value</code> as scalar.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8065512"}, "edited": false, "score": 0, "creation_date": 1495747635, "post_id": 44189818, "comment_id": 75394137, "body": "Thanks for this answer. I&#39;m not using CSV data just yet(although, I know what that is). I&#39;m still learning Perl."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1556737397, "last_edit_date": 1556737397, "creation_date": 1495746325, "answer_id": 44189818, "question_id": 44182464, "link": "https://stackoverflow.com/questions/44182464/splitting-a-string-with-perl/44189818#44189818", "title": "Splitting a String with Perl", "body": "<p>The frowned-upon behaviour documented by that passage was deprecated at least as far back as 5.8.8 (11 years ago) and was removed from Perl in 5.12 (7 years ago).</p>\n\n<p>The passage documents that</p>\n\n<pre><code>my $n = split(...);\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>my $n = do { @_ = split(...); @_ };            # &lt;5.12\n</code></pre>\n\n<p>The assignment to <code>@_</code> is unexpected. This type of behaviour is called \"surprising action at a distance\", and it can result in malfunctioning code. As such, before 5.12, using <code>split</code> in scalar context was frowned-upon. Since 5.12, however,</p>\n\n<pre><code>my $n = split(...);\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>my $n = do { my @anon = split(...); @anon };   # \u22655.12\n</code></pre>\n\n<p>The surprising behaviour having been removed, it's no longer frowned-upon to use <code>split</code> in scalar context for the reason stated in the passage you quoted. </p>\n\n<p>It should probably still be avoided, not just for backwards compatibility, but because there are far better ways of counting the number of substrings. I would use the following:</p>\n\n<pre><code>my $n = 1 + tr/,//;    # Faster than: my $n = split(/,/, $_, -1);\n</code></pre>\n\n<hr>\n\n<p>You are using <code>split</code> in list context, so it does not exercise the frowned-upon behaviour, no matter what version of Perl you use. In other words, your usage is fine.</p>\n\n<p>It's fine unless you are trying to handle CSV data, that is. In that case, you should be using <a href=\"http://search.cpan.org/perldoc?Text::CSV_XS\" rel=\"nofollow noreferrer\">Text::CSV_XS</a>.</p>\n\n<pre><code>use Text::CSV_XS qw( );\n\nmy $csv = Text::CSV_XS-&gt;new({ auto_diag =&gt; 2, binary =&gt; 1 });\n\nwhile (my $row = $csv-&gt;getline($fh)) { ... }   # Parsing CSV\n\nfor (...) { $csv-&gt;say($fh, $row); }            # Generating CSV\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8065512"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3156, "favorite_count": 0, "accepted_answer_id": 44189818, "answer_count": 2, "score": 1, "last_activity_date": 1556737397, "creation_date": 1495720786, "question_id": 44182464, "link": "https://stackoverflow.com/questions/44182464/splitting-a-string-with-perl", "title": "Splitting a String with Perl", "body": "<p>I was following along with this <a href=\"http://www.perlmonks.org/?node_id=591988\" rel=\"nofollow noreferrer\">tutorial</a> on how to split strings when I came across a quote that confused me. </p>\n\n<blockquote>\n  <p>Words about Context</p>\n  \n  <p>Put to its normal use, split is used in list context. It may also be\n  used in scalar context, though its use in scalar context is\n  deprecated. In scalar context, split returns the number of fields\n  found, and splits into the @_ array. It's easy to see why that might\n  not be desirable, and thus, why using split in scalar context is\n  frowned upon.</p>\n</blockquote>\n\n<p>I have the following script that I've been working with:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse v5.24;\n\ndoWork();\n\nsub doWork {\n    my $str = \"This,is,data\";\n    my @splitData = split(/,/, $str);\n    say $splitData[1];\n    return; \n} \n</code></pre>\n\n<p>I don't fully understand how you would use split on a list.</p>\n\n<p>From my understanding, using the <code>split</code> function on my <code>$str</code> variable is frowned upon? How then would I go about splitting a string with the comma as the delimiter? </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495707577, "post_id": 44177993, "comment_id": 75370267, "body": "only the number 1?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1495707650, "post_id": 44177993, "comment_id": 75370313, "body": "<code>m&#47;\\_(\\d+)\\_([^\\_]*)$&#47;g</code> just try this"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1495716571, "post_id": 44177993, "comment_id": 75375918, "body": "Just for reference: your regex matches a string that 1) starts with one or more whitespaces, followed by 2) a <code>&#47;</code>,  3) a <code>b</code>, 4) an <code>_</code>, 5) one or more digits, 6) a <code>&#47;</code>, 7) some (including none) arbitrary characters. For example, the string ` /b_123/` would match but you don&#39;t have any leading whitespace nor slashes in your input."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495736176, "post_id": 44177993, "comment_id": 75388221, "body": "You are confusing the delimiters. Either <code>$v =~ m|...|</code> OR <code>$v =~ &#47;...&#47;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 3, "last_activity_date": 1495707868, "creation_date": 1495707868, "answer_id": 44178123, "question_id": 44177993, "link": "https://stackoverflow.com/questions/44177993/grep-number-from-filename-with-special-character/44178123#44178123", "title": "Grep number from filename with special character", "body": "<p>Just remove the unrelevant part of your regex, use:</p>\n\n<pre><code>$file =~ m|b_(\\d+)|;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1495713141, "creation_date": 1495713141, "answer_id": 44179921, "question_id": 44177993, "link": "https://stackoverflow.com/questions/44177993/grep-number-from-filename-with-special-character/44179921#44179921", "title": "Grep number from filename with special character", "body": "<p>Regex Reference for further understandings <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">1</a>, <a href=\"http://www.regular-expressions.info/anchors.html\" rel=\"nofollow noreferrer\">2</a></p>\n\n<pre><code>my $str = \"a_0_b_1_c2.txt\";\n\nprint \"\", ($str=~m/\\_(\\d+)\\_([^\\_]*)$/g)[0];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 3, "last_activity_date": 1495720376, "creation_date": 1495720376, "answer_id": 44182331, "question_id": 44177993, "link": "https://stackoverflow.com/questions/44177993/grep-number-from-filename-with-special-character/44182331#44182331", "title": "Grep number from filename with special character", "body": "<p>You can combine the lines:</p>\n\n<pre><code>my ($number) = $file =~ /b_(\\d+)/;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1495720376, "creation_date": 1495707453, "question_id": 44177993, "link": "https://stackoverflow.com/questions/44177993/grep-number-from-filename-with-special-character", "title": "Grep number from filename with special character", "body": "<p>I have a filename contain a lot of '_' and i want to take the number between _. Below is my code try to get the number.</p>\n\n<pre><code>$file=~ m|\\s+/b_(\\d+)/.*|;\nmy $number=$1;  \nprint \" $number\\n\";\n</code></pre>\n\n<p>My $file is like a_0_b_1_c2.txt. and i want to get the number 1 from the filename. What wrong is my code. Thanks</p>\n"}, {"tags": ["perl", "tk", "activestate"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1495706331, "post_id": 44176750, "comment_id": 75369524, "body": "Seems like Tk keeps multiple copies of the widgets in the window. But you only destroy one set of them. So they seem to not disappear. You could try work around the issue by not recreating the widgets if they already exist: For example, in the beginning of <code>path_Button_I</code> you could put  <code>return if Exists($Lab1)</code>"}, {"owner": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1495707668, "post_id": 44176750, "comment_id": 75370325, "body": "Thanks Bro. This will work."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1495712099, "last_edit_date": 1495712099, "creation_date": 1495708289, "answer_id": 44178268, "question_id": 44176750, "link": "https://stackoverflow.com/questions/44176750/perl-tk-window-widget-destroy/44178268#44178268", "title": "Perl TK Window widget destroy", "body": "<p>For each time you run the <code>Input Analysis</code> menu item, a new set of widgets is created and overlayed the existing ones exactly (since you use the place geometry manager). </p>\n\n<p>But when you run <code>clear</code>, you only destroy one set of the widgets (the last ones). So the previous widgets are still there and hence <code>clear</code> does not seem to have any effect at all. </p>\n\n<p>You can solve the issue by not recreating the widgets if they already exist, for example: </p>\n\n<pre><code>sub path_Button_I\n{\n    return if Exists($Lab1);\n     ...\n}\n\nsub path_Button_O\n{\n    return if Exists($Lab4);\n     ...\n}\n</code></pre>\n"}], "owner": {"reputation": 118, "user_id": 5055195, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c972d44652eeadefd86ac423c3d6e629?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Ranjan", "link": "https://stackoverflow.com/users/5055195/nikhil-ranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495712099, "creation_date": 1495703818, "question_id": 44176750, "link": "https://stackoverflow.com/questions/44176750/perl-tk-window-widget-destroy", "title": "Perl TK Window widget destroy", "body": "<p>I have little problem with Perl TK. I am using Active State Perl (v5.16.3). I was create one window in which two menu using below code. When i press two time in my sub menu (Analysis->Input Analysis).If i do single click then it work fine. Then all widget are not destroy. May i know where i do wrong. Below is my code:-</p>\n\n<pre><code>use warnings;\nuse strict;\nuse 5.010;\nuse Tk;\n\nmy ($Lab1, $Lab2, $Lab3, $Lab4, $Lab5, $Lab6);\nmy ($Entry1, $Entry2, $Entry3, $Entry4, $Entry5, $Entry6);\nmy ($Button1, $Button2, $Button3, $Button4);\nmy ($path_Button1, $path_Button2, $path_Button3, $path_Button4, $path_Button5, $path_Button6);\nmy $dirname1;\nmy $dirname2;\nmy $dirname3;\nmy $path_Button_input;\nmy $path_Button_output;\n\n#Now create window and Layout:-\nmy $analysis_report = MainWindow-&gt;new( -width =&gt; '640', -height =&gt; '480', -relief =&gt; 'flat', -title =&gt; 'I/O Analysis',);\n$analysis_report-&gt;geometry( \"740x580\" );\n\nmy $menubar = $analysis_report -&gt; Menu();\n$analysis_report -&gt; configure(-menu =&gt; $menubar);\n\n#The Main Buttons\nmy $analysis = $menubar-&gt;cascade(-label =&gt; \"Analysis\", -tearoff =&gt; 0);\n## Menu option ##\n$analysis-&gt;command(\n    -label       =&gt; 'Input Analysis',\n    #-accelerator =&gt; 'Ctrl-N',\n    -underline   =&gt; 0,\n    -command     =&gt; \\&amp;path_Button_I,\n);\n$analysis-&gt;separator;\n$analysis-&gt;command(\n    -label       =&gt; 'Output Analysis',\n    #-accelerator =&gt; 'Ctrl-D',\n    -underline   =&gt; 0,\n    -command     =&gt; \\&amp;path_Button_O,\n);\n\nmy $clear = $menubar-&gt;cascade(-label =&gt; \"Clear All\", -tearoff =&gt; 0);\n$clear-&gt;command(\n    -label       =&gt; 'Clear',\n    #-accelerator =&gt; 'Ctrl-N',\n    -underline   =&gt; 0,\n    -command     =&gt; \\&amp;clear,\n);\n\nsub path_Button_I\n{\n    $Lab1 = $analysis_report-&gt;Label( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'flat', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'XML input file: ', -font =&gt; \"Courier 10 bold\")-&gt;place( -x =&gt; 5, -y =&gt; 90);\n    $Entry1 = $analysis_report-&gt;Entry(-width =&gt; '50', -relief =&gt; 'sunken', -state =&gt; 'normal', -justify =&gt; 'left', -textvariable=&gt;\\$dirname1, )-&gt;place( -x =&gt; 170, -y =&gt; 100);\n    $path_Button1 = $analysis_report-&gt;Button( -pady =&gt; '0', -padx =&gt; '0', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; '...', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;path_open1)-&gt;place(-x =&gt; 500, -y =&gt; 95);\n    $Lab2 = $analysis_report-&gt;Label( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'flat', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Enter XSLT path:    ', -font =&gt; \"Courier 10 bold\")-&gt;place( -x =&gt; 5, -y =&gt; 160);\n    $Entry2 = $analysis_report-&gt;Entry( -width =&gt; '50', -relief =&gt; 'sunken', -state =&gt; 'normal', -justify =&gt; 'left',  -textvariable=&gt;\\$dirname2, )-&gt;place( -x =&gt; 170, -y =&gt; 170);\n    $path_Button2 = $analysis_report-&gt;Button( -pady =&gt; '0', -padx =&gt; '0', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; '...', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;path_open2)-&gt;place(-x =&gt; 500, -y =&gt; 165);\n    $Lab3 = $analysis_report-&gt;Label( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'flat', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Enter Log path:', -font =&gt; \"Courier 10 bold\")-&gt;place( -x =&gt; 5, -y =&gt; 230);\n    $Entry3 = $analysis_report-&gt;Entry( -width =&gt; '50', -relief =&gt; 'sunken', -state =&gt; 'normal', -justify =&gt; 'left',  -textvariable=&gt;\\$dirname3, )-&gt;place( -x =&gt; 170, -y =&gt; 240);\n    $path_Button3 = $analysis_report-&gt;Button( -pady =&gt; '0', -padx =&gt; '0', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; '...', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;path_open3)-&gt;place(-x =&gt; 500, -y =&gt; 235);\n    $Button1 = $analysis_report-&gt;Button( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Transformation', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;trans_sub)-&gt;place( -x =&gt; 150, -y =&gt; 300);\n    $Button2 = $analysis_report-&gt;Button( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Clear Logs', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;clear_log)-&gt;place( -x =&gt; 350, -y =&gt; 300);\n}\n\nsub path_Button_O\n{\n    $Lab4 = $analysis_report-&gt;Label( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'flat', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Out XML input file: ', -font =&gt; \"Courier 10 bold\")-&gt;place( -x =&gt; 5, -y =&gt; 90);\n    $Entry4 = $analysis_report-&gt;Entry(-width =&gt; '50', -relief =&gt; 'sunken', -state =&gt; 'normal', -justify =&gt; 'left', -textvariable=&gt;\\$dirname1, )-&gt;place( -x =&gt; 170, -y =&gt; 100);\n    $path_Button4 = $analysis_report-&gt;Button( -pady =&gt; '0', -padx =&gt; '0', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Out ...', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;path_open1)-&gt;place(-x =&gt; 500, -y =&gt; 95);\n    $Lab5 = $analysis_report-&gt;Label( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'flat', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Out Enter XSLT path:    ', -font =&gt; \"Courier 10 bold\")-&gt;place( -x =&gt; 5, -y =&gt; 160);\n    $Entry5 = $analysis_report-&gt;Entry( -width =&gt; '50', -relief =&gt; 'sunken', -state =&gt; 'normal', -justify =&gt; 'left',  -textvariable=&gt;\\$dirname2, )-&gt;place( -x =&gt; 170, -y =&gt; 170);\n    $path_Button5 = $analysis_report-&gt;Button( -pady =&gt; '0', -padx =&gt; '0', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Out ...', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;path_open2)-&gt;place(-x =&gt; 500, -y =&gt; 165);\n    $Lab6 = $analysis_report-&gt;Label( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'flat', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Out Enter Log path:', -font =&gt; \"Courier 10 bold\")-&gt;place( -x =&gt; 5, -y =&gt; 230);\n    $Entry6 = $analysis_report-&gt;Entry( -width =&gt; '50', -relief =&gt; 'sunken', -state =&gt; 'normal', -justify =&gt; 'left',  -textvariable=&gt;\\$dirname3, )-&gt;place( -x =&gt; 170, -y =&gt; 240);\n    $path_Button6 = $analysis_report-&gt;Button( -pady =&gt; '0', -padx =&gt; '0', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Out ...', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;path_open3)-&gt;place(-x =&gt; 500, -y =&gt; 235);\n    $Button3 = $analysis_report-&gt;Button( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Out Transformation', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;trans_sub)-&gt;place( -x =&gt; 150, -y =&gt; 300);\n    $Button4 = $analysis_report-&gt;Button( -pady =&gt; '10', -padx =&gt; '10', -relief =&gt; 'raised', -state =&gt; 'normal', -justify =&gt; 'center', -text =&gt; 'Out Clear Logs', -font =&gt; \"Courier 11 bold\", -command =&gt; \\&amp;clear_log)-&gt;place( -x =&gt; 350, -y =&gt; 300);\n}\n\nsub clear\n{\n    if (Exists($Lab1))\n    {\n        $Lab1-&gt;destroy();\n        $Lab2-&gt;destroy();\n        $Lab3-&gt;destroy();\n        $Entry1-&gt;destroy();\n        $Entry2-&gt;destroy();\n        $Entry3-&gt;destroy();\n        $path_Button1-&gt;destroy();\n        $path_Button2-&gt;destroy();\n        $path_Button3-&gt;destroy();\n        $Button1-&gt;destroy();\n        $Button2-&gt;destroy();\n    }\n    if (Exists($Lab4))\n    {\n        $Lab4-&gt;destroy();\n        $Lab5-&gt;destroy();\n        $Lab6-&gt;destroy();\n        $Entry4-&gt;destroy();\n        $Entry5-&gt;destroy();\n        $Entry6-&gt;destroy();\n        $path_Button4-&gt;destroy();\n        $path_Button5-&gt;destroy();\n        $path_Button6-&gt;destroy();\n        $Button3-&gt;destroy();\n        $Button4-&gt;destroy();\n    }\n}\n$analysis_report-&gt;MainLoop();\n</code></pre>\n"}, {"tags": ["linux", "perl", "directory"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1495702226, "post_id": 44176223, "comment_id": 75367126, "body": "<code>@indir</code> should be <code>$indir</code>."}, {"owner": {"reputation": 374, "user_id": 7870403, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H5JME.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7870403/ryan"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1495702324, "post_id": 44176223, "comment_id": 75367181, "body": "@Barmar you are a hero I cannot believe that was my error!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 9, "creation_date": 1495705575, "post_id": 44176223, "comment_id": 75369053, "body": "@RyanSaffer: Perl will tell you about silly errors like that. Always add <code>use strict</code> and <code>use warnings</code> to your code."}], "answers": [{"comments": [{"owner": {"reputation": 374, "user_id": 7870403, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H5JME.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7870403/ryan"}, "edited": false, "score": 0, "creation_date": 1495707358, "post_id": 44176314, "comment_id": 75370123, "body": "Thanks! this is my first perl program so everything is all new to me"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1495725450, "last_edit_date": 1495725450, "creation_date": 1495702453, "answer_id": 44176314, "question_id": 44176223, "link": "https://stackoverflow.com/questions/44176223/printing-all-files-in-a-directory-in-perl-will-not-work/44176314#44176314", "title": "Printing all files in a directory in Perl - will not work", "body": "<p>Here is another place where the very basic troubleshooting step of <code>use strict;</code> and <code>use warnings;</code> has been omitted, and it would have told you exactly what was wrong. </p>\n\n<pre><code>Global symbol \"@indir\" requires explicit package name (did you forget to declare \"my @indir\"?)\n</code></pre>\n\n<p>Of course, you'd also have to fix a few other errors (e.g. <code>my $indir = '/usr/bin';</code>)</p>\n\n<p>I would also suggest that readdir is not well suited for this job, and would tend to recommend <code>glob</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $indir = \"/usr/bin\";\n\n# read in all files from the directory\nforeach my $filename ( glob  \"$indir/*\" ) {\n    print \"$filename\\n\";\n}\n</code></pre>\n\n<p>Note how this differs - it prints a full path to the file, and it omits certain things (like <code>.</code> and <code>..</code>) which is in my opinion, more <em>generally</em> useful. Not least because another really common error is to <code>open my $fh, '&lt;', $filename or die $!</code>, forgetting that it's not in the current working directory. </p>\n"}], "owner": {"reputation": 374, "user_id": 7870403, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H5JME.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7870403/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 44176314, "answer_count": 1, "score": 0, "last_activity_date": 1495725450, "creation_date": 1495702158, "question_id": 44176223, "link": "https://stackoverflow.com/questions/44176223/printing-all-files-in-a-directory-in-perl-will-not-work", "title": "Printing all files in a directory in Perl - will not work", "body": "<p>So I am new to Perl and trying to simply open a directory, and list all its files. When I run this very simple code below trying to print everything in /usr/bin it will not work, and no matter what I try I keep getting told 'Could not open /usr/bin: No such file or directory'.</p>\n\n<p>Any help would be much appreciated!    </p>\n\n<pre><code>#!/usr/bin/perl\n\n$indir = \"/usr/bin\";\n\n# read in all files from the directory\nopendir (DIR, @indir) or die \"Could not open $indir: $!\\n\";\nwhile ($filename = readdir(DIR)) {\n    print \"$filename\\n\";\n}\nclosedir(DIR);\n</code></pre>\n"}, {"tags": ["perl", "exception-handling", "perforce"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1495696903, "post_id": 44174400, "comment_id": 75364133, "body": "What&#39;s in <code>@filelist</code> if there are no changes? Try running the command with <code>2&gt;&#47;dev&#47;null</code> to hide the message."}, {"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1495698236, "post_id": 44174400, "comment_id": 75364883, "body": "Hm, good question. Nothing actually"}], "answers": [{"tags": [], "owner": {"reputation": 2880, "user_id": 1540600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iv9jm.jpg?s=128&g=1", "display_name": "sferencik", "link": "https://stackoverflow.com/users/1540600/sferencik"}, "is_accepted": false, "score": 1, "last_activity_date": 1495697799, "creation_date": 1495697799, "answer_id": 44174918, "question_id": 44174400, "link": "https://stackoverflow.com/questions/44174400/handling-perforce-message-in-perl-when-there-are-no-new-files-submitted/44174918#44174918", "title": "Handling Perforce message in Perl when there are no new files submitted", "body": "<p>Unfortunately, <code>p4</code> returns exit code 0 regardless of whether it finds some files or whether it returns the \"no revision(s) after that date\" message. That means you have to parse the output.</p>\n\n<p>The simplest solution is probably to exit the script <code>if $filelist[0] =~ / - no revision\\(s\\) after that date\\./</code>. The downside is we don't know how \"stable\" that message is. Will future versions of Perforce emit this message exactly, or is it possible they would reword?</p>\n\n<p>Another option is to use the <code>-s</code> switch: <code>my $p4cmd = \"p4 -s files -e $files\\@$previous_date,\\@now\";</code>. That causes <code>p4</code> to prepend the \"severity\" before every line of output. If a file is found, the line will start with <code>info:</code>, while the \"no revision(s) after that date\" will start with <code>error:</code>. That looks a bit more stable to me: exit <code>if grep /^error:/, @filelist</code>. Watch out for the last line; when you use the <code>-s</code> switch, you get an extra line with the exit code.</p>\n\n<p>Yet another option would be to use P4Perl. In that case you'd get the results as structured data, which will obviate the parsing. That's arguably the most elegant, but you'd need the P4Perl module first.</p>\n"}, {"comments": [{"owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "edited": false, "score": 0, "creation_date": 1495731779, "post_id": 44175153, "comment_id": 75385809, "body": "If you redirect stderr, the check no longer works because now @filelist contains the error message..."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "edited": false, "score": 0, "creation_date": 1495787040, "post_id": 44175153, "comment_id": 75406831, "body": "@SamStafford: If you redirect stderr to /dev/null, it gets redirected to stdout?"}, {"owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "edited": false, "score": 0, "creation_date": 1495812822, "post_id": 44175153, "comment_id": 75423162, "body": "whoops, missed that it was going to /dev/null instead of to stdout.  :)  Though that does still leave the drawback of it not working cross-platform."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1495698564, "creation_date": 1495698564, "answer_id": 44175153, "question_id": 44174400, "link": "https://stackoverflow.com/questions/44174400/handling-perforce-message-in-perl-when-there-are-no-new-files-submitted/44175153#44175153", "title": "Handling Perforce message in Perl when there are no new files submitted", "body": "<p>Just do nothing if the array isn't populated.</p>\n\n<pre><code>my @filelist = `$p4cmd`;\ngood_bye() unless @filelist;  # Say goodbye and exit.\n\nchomp @filelist;\n</code></pre>\n\n<p>To suppress the message, just redirect stderr of the command to a bitbucket:</p>\n\n<pre><code>my $p4cmd = \"p4 files -e $files\\@$previous_date,\\@now 2&gt; /dev/null\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1495762087, "post_id": 44186096, "comment_id": 75398316, "body": "Perforce says -F is an invalid option"}, {"owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "reply_to_user": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "edited": false, "score": 0, "creation_date": 1495777503, "post_id": 44186096, "comment_id": 75402290, "body": "Update your p4 executable (client updates are free)."}], "tags": [], "owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "is_accepted": false, "score": 1, "last_activity_date": 1495812876, "last_edit_date": 1495812876, "creation_date": 1495732097, "answer_id": 44186096, "question_id": 44174400, "link": "https://stackoverflow.com/questions/44174400/handling-perforce-message-in-perl-when-there-are-no-new-files-submitted/44186096#44186096", "title": "Handling Perforce message in Perl when there are no new files submitted", "body": "<p>I suggest using the <code>-F</code> flag to tame the output:</p>\n\n<pre><code>my $p4cmd = \"p4 -F %depotFile% files -e $files\\@$previous_date,\\@now\";\n</code></pre>\n\n<p>and then go ahead with the:</p>\n\n<pre><code>my @filelist = `$p4cmd`;\ngood_bye() unless @filelist;  # Say goodbye and exit.\n</code></pre>\n\n<p><code>@filelist</code> will be empty if there are no lines of output containing a <code>%depotFile%</code> field, and now your caller doesn't need to try to parse the depot path out of the standard <code>p4 files</code> output.</p>\n\n<p>If you want to massage the <code>p4 files</code> output further, take a look at <code>p4 -e files (args)</code> so you can see what the different fields are that you can plug into <code>-F</code>.</p>\n"}], "owner": {"reputation": 345, "user_id": 2538148, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/65f28a5fe96cca6e4afdc629db6e2ba5?s=128&d=identicon&r=PG", "display_name": "Jon J", "link": "https://stackoverflow.com/users/2538148/jon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 44175153, "answer_count": 3, "score": 0, "last_activity_date": 1495812876, "creation_date": 1495696135, "question_id": 44174400, "link": "https://stackoverflow.com/questions/44174400/handling-perforce-message-in-perl-when-there-are-no-new-files-submitted", "title": "Handling Perforce message in Perl when there are no new files submitted", "body": "<p>I am trying to code a Perl subroutine that returns an array of files that has been modified and submitted to the Perforce repository from <code>$previous_date</code> until <code>now</code>. This is how the subroutine looks like:</p>\n\n<pre><code>sub p4_files {\n    my ($previous_date) = @_;\n\n    my $files = \"//depot/project/design/...rtl.sv\"\n    my $p4cmd = \"p4 files -e $files\\@$previous_date,\\@now\";\n\n    my @filelist = `$p4cmd`;\n    chomp @filelist;\n\n    return @filelist;\n}\n</code></pre>\n\n<p>The subroutine works as expected if there are files submitted between the given dates. However, it happens that no new changes are made, and executing the <code>p4 files</code> command returns a message instead:</p>\n\n<pre><code>prompt% p4 files -e //depot/project/design/...rtl.sv\\@25/05/2017,\\@now\nprompt% //depot/project/design/...rtl.sv\\@25/05/2017,\\@now - no revision(s) after that date.\n</code></pre>\n\n<p>How should I handle this in my Perl script? I would like to exit the script when such a situation is encountered.</p>\n"}, {"tags": ["perl", "log4perl"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495691611, "post_id": 44172241, "comment_id": 75361644, "body": "I do not quite get this point. <i>&quot;but this level is not getting updated from the main script&quot;</i> What do you mean by not getting updated?"}, {"owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495694959, "post_id": 44172241, "comment_id": 75363161, "body": "I have tried to edit my question to clarify."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495695244, "post_id": 44172241, "comment_id": 75363282, "body": "ok, so the module will use STDERR and not log4perl. You need to tie STDOUT to Log4perl. Will post an answer on a method."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495695474, "post_id": 44172241, "comment_id": 75363410, "body": "I also am wondering if declaring <code>$logger</code> with <code>our</code> instead of <code>my</code> would also help.. Perhaps someone will be able to answer that."}], "answers": [{"comments": [{"owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "edited": false, "score": 0, "creation_date": 1495745242, "post_id": 44174191, "comment_id": 75393020, "body": "This doesn&#39;t address the issue. It&#39;s for the case that the module outputs to <code>STDOUT</code> or <code>STDERR</code>, whereas my module generates output with <code>WARN</code>, not <code>print STDERR</code>."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "edited": false, "score": 0, "creation_date": 1495773850, "post_id": 44174191, "comment_id": 75400991, "body": "did you try <code>our $logger</code> instead of <code>my $logger</code> yet in the main script?"}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1495695343, "creation_date": 1495695343, "answer_id": 44174191, "question_id": 44172241, "link": "https://stackoverflow.com/questions/44172241/change-level-of-log4perl-logger-in-module-from-calling-script/44174191#44174191", "title": "Change level of Log4perl logger in module from calling script", "body": "<p>So you need to <code>tie</code> STDOUT to log4perl.</p>\n\n<p>more infor <a href=\"http://log4perl.sourceforge.net/releases/Log-Log4perl/docs/html/Log/Log4perl/FAQ.html#e95ee\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>use Log::Log4perl qw(:easy);\n\nsub TIEHANDLE {\n    my $class = shift;\n    bless [], $class;\n}\n\nsub PRINT {\n    my $self = shift;\n    $Log::Log4perl::caller_depth++;\n    DEBUG @_;\n    $Log::Log4perl::caller_depth--;\n}\n1;\n</code></pre>\n\n<p>and a tie command in the main program to tie STDERR to the trapper module along with regular Log::Log4perl initialization:</p>\n\n<pre><code>########################################\npackage main;\n########################################\nuse Log::Log4perl qw(:easy);\nLog::Log4perl-&gt;easy_init(\n    {level  =&gt; $DEBUG, \n     file   =&gt; 'stdout',   # make sure not to use stderr here!\n     layout =&gt; \"%d %M: %m%n\",\n    });\ntie *STDERR, \"Trapper\";\n</code></pre>\n"}], "owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495695343, "creation_date": 1495686302, "last_edit_date": 1495694897, "question_id": 44172241, "link": "https://stackoverflow.com/questions/44172241/change-level-of-log4perl-logger-in-module-from-calling-script", "title": "Change level of Log4perl logger in module from calling script", "body": "<p>OK - so I have a module and a script that calls it, that both implement Log4perl. Here is a MWE:</p>\n\n<p>test.plx:</p>\n\n<pre><code>#!/usr/bin/perl -w \nuse strict;\n\nmy $logger;\n\nBEGIN {\n  eval { require Log::Log4perl; };\n\n  if($@) {\n    print \"Log::Log4perl not installed - stubbing.\\n\";\n    no strict qw(refs);\n    *{__PACKAGE__.\"::$_\"} = sub { } for qw(TRACE DEBUG INFO WARN ERROR FATAL);\n  } else {\n    no warnings;\n    print \"Log::Log4perl installed - life is good.\\n\";\n    require Log::Log4perl::Level;\n    Log::Log4perl::Level-&gt;import(__PACKAGE__);\n    Log::Log4perl-&gt;import(qw(:easy));\n    Log::Log4perl-&gt;easy_init({\n      level =&gt; $main::INFO,\n      layout =&gt; \"[%r] %p %M %F line: %L&gt; %m%n\"});\n    $logger = Log::Log4perl-&gt;get_logger();\n  }\n}\n\nrequire \"test.pm\";\n\nDEBUG \"This is the test.plx DEBUG line\";\nINFO  \"This is the test.plx INFO  line\";\nWARN  \"This is the test.plx WARN  line\";\nERROR \"This is the test.plx ERROR line\";\n\ntest::warning();\n\nprint \"\\nsetting logger level to ERROR\\n\\n\";\n$logger-&gt;level($ERROR);\n\nDEBUG \"This is the test.plx DEBUG line\";\nINFO  \"This is the test.plx INFO  line\";\nWARN  \"This is the test.plx WARN  line\";\nERROR \"This is the test.plx ERROR line\";\n\ntest::warning();\n\nexit;\n</code></pre>\n\n<p>test.pm</p>\n\n<pre><code>package test;\nuse strict;\n\nmy $logger;\n\nBEGIN {  \n  eval { require Log::Log4perl; };\n\n  if($@) {\n      #print \"Log::Log4perl not installed - stubbing.\\n\";\n      no strict qw(refs);\n      *{__PACKAGE__.\"::$_\"} = sub { } for qw(TRACE DEBUG INFO WARN ERROR FATAL);\n  } else {\n      no warnings;\n      #print \"Log::Log4perl installed - life is good.\\n\";\n      require Log::Log4perl::Level;\n      Log::Log4perl::Level-&gt;import(__PACKAGE__);\n      Log::Log4perl-&gt;import(qw(:easy get_logger :nowarn));\n  }\n}\n\nINFO \"This is the test.pm loading info\";\n\nsub warning {\n  WARN \"Danger!! Danger, Will Robinson!!\"\n}\n\nreturn 1;\n</code></pre>\n\n<p>Which generates the output:</p>\n\n<pre><code>Log::Log4perl installed - life is good.\n[1] INFO main:: test.pm line: 22&gt; This is the test.pm loading info\n[1] INFO main:: test.plx line: 29&gt; This is the test.plx INFO  line\n[1] WARN main:: test.plx line: 30&gt; This is the test.plx WARN  line\n[1] ERROR main:: test.plx line: 31&gt; This is the test.plx ERROR line\n[1] WARN test::warning test.pm line: 25&gt; Danger!! Danger, Will Robinson!!\n\nsetting logger level to ERROR\n\n[2] ERROR main:: test.plx line: 40&gt; This is the test.plx ERROR line\n[2] WARN test::warning test.pm line: 25&gt; Danger!! Danger, Will Robinson!!\n</code></pre>\n\n<p>If I change the line</p>\n\n<pre><code>      level =&gt; $main::INFO,\n</code></pre>\n\n<p>to </p>\n\n<pre><code>      level =&gt; $main::ERROR,\n</code></pre>\n\n<p>I get: </p>\n\n<pre><code>Log::Log4perl installed - life is good.\n[1] ERROR main:: test.plx line: 31&gt; This is the test.plx ERROR line\n\nsetting logger level to ERROR\n\n[2] ERROR main:: test.plx line: 40&gt; This is the test.plx ERROR line\n</code></pre>\n\n<p>As you can see, calling <code>$logger-level($ERROR)</code> in the main script changes the logging level there (the <code>main</code> <code>INFO</code> and <code>WARN</code> calls no longer output), but the module's logger level does not appear to be changed by the call. </p>\n\n<p>Clearly the module is getting it's logger level from the main script at loading because the module <code>WARN</code> call no longer prints if I change the level to <code>ERROR</code> in the <code>BEGIN</code> block. But it does not appear to maintain a reference to the same logger object, since the changes at run time do not propagate.</p>\n\n<p>(how) Can I get the logger level change to propagate to the module dynamically?</p>\n\n<p>Thanks.</p>\n\n<p>P.S. I would <em>prefer</em> to use <code>DEBUG ...</code> form v.s. <code>$logger-&gt;debug(...)</code> form, just for consistency with other code we have, though I'll switch if that's the only way.</p>\n\n<p>(Edited to try to be more clear.)</p>\n"}]