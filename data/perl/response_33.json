[{"tags": ["apache", "perl", "mod-perl2"], "owner": {"reputation": 221, "user_id": 5175699, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e561ef5533ee56a62309174642e467fe?s=128&d=identicon&r=PG&f=1", "display_name": "leo", "link": "https://stackoverflow.com/users/5175699/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440630051, "creation_date": 1440627744, "last_edit_date": 1440630051, "question_id": 32237686, "link": "https://stackoverflow.com/questions/32237686/why-does-print-cause-a-segmentation-fault-error-in-apache2", "title": "Why does &quot;print&quot; cause a Segmentation fault error in Apache2?", "body": "<p>The print method of Apache2::RequestIO constantly causes a Segamentation fault on my machine. I have a snippet readCookie.pm simple enough:</p>\n\n<pre><code>package readCookie;\nuse Apache2::Const -compile =&gt; 'OK';\n\nsub handler{\n    my $r = shift;\n    $r-&gt;print(\"Hello!\");\n    return Apache2::Const::OK;\n}\n1;\n</code></pre>\n\n<p>But, after typing <a href=\"http://localhost/modPerl/readCookie\" rel=\"nofollow\">http://localhost/modPerl/readCookie</a>, I got the the message below in my error.log</p>\n\n<pre><code>[Wed Aug 26 18:13:01.966600 2015] [core:notice] [pid 28200:tid 140520226109312] \nAH00052: child pid 28293 exit signal Segmentation fault (11)\n</code></pre>\n\n<p>and a webpage saying:</p>\n\n<pre><code>No data received\nDetails\n</code></pre>\n\n<p>clicking the Details, I got</p>\n\n<pre><code>Unable to load the webpage because the server sent no data.\nError code: ERR_EMPTY_RESPONSE\n</code></pre>\n\n<p>Can anybody tell me how to fix this? Anyone has successful experience using print method in Apache2.4.7 and Mod_Perl2.0.9?</p>\n\n<p>Many thanks in advance!</p>\n"}, {"tags": ["javascript", "perl", "loops"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440627614, "post_id": 32237456, "comment_id": 52357547, "body": "What back-end framework are you using? CGI or something more modern?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1440627633, "post_id": 32237456, "comment_id": 52357558, "body": "It looks like you&#39;re trying to generate JavaScript code from Perl. I think it would be better to make the Perl script return the data you want in JSON format; then you can make an Ajax request from your JavaScript code to get the data."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440627766, "post_id": 32237456, "comment_id": 52357610, "body": "@ThisSuitIsBlackNot- ok, will use ajax get method to get data from backend and then work on it accordingly. thanks"}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440627855, "post_id": 32237456, "comment_id": 52357641, "body": "I tried using it directly because it was just an array i was referring to. It worked in case of variables but i guess array is a bit confusing to use this way. will use the conventional method of ajax."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440627904, "post_id": 32237456, "comment_id": 52357652, "body": "@mob- i am using CGI"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1440628658, "post_id": 32237456, "comment_id": 52357913, "body": "&quot;Taking values from backend and assigning it to javascript variable.&quot; Can you explain what you mean by that? I&#39;ve read your question 3 times, and I can&#39;t for the life of me figure out what you&#39;re trying to do."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440695693, "post_id": 32237456, "comment_id": 52391228, "body": "@MattJacob- I am so sorry for not framing my sentence properly and explain it. i will keep a note of this. Actually, the problem was a different perl array format as compared to javascript array. i used encode_json and it worked."}], "answers": [{"comments": [{"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440695506, "post_id": 32249685, "comment_id": 52391116, "body": "@Simbabque- All your assumptions were right. I just had to use JSON module to get JSON representation of the prel data structure. And after that i was able to get the values in a for loop properly."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1440679282, "creation_date": 1440679282, "answer_id": 32249685, "question_id": 32237456, "link": "https://stackoverflow.com/questions/32237456/loop-function-in-javascript-fails-when-combined-with-perl-array/32249685#32249685", "title": "Loop function in Javascript fails when combined with perl array", "body": "<h2>Disclaimer: This has a lot of assumptions about the question.</h2>\n\n<p>If you are using CGI and you are trying to create JS code in Perl that you will <code>print</code> to the browser, it makes more sense to use JSON. As was suggested in the comments, you can use AJAX, but you can also just use the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow\">JSON module</a> to get the JSON representation of your Perl data structure, and incorporate that as a string into your website.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse CGI;\nuse JSON 'encode_json';\n\nmy $q = CGI-&gt;new;\n\n# make some test headers\nmy @headers = map { \"header $_\" } ( 1 .. 100 };\n\n# convert it to JSON representation (a string!)\nmy $header_as_json = encode_json(\\@headers);\n\nprint $q-&gt;header();\nprint &lt;&lt;HTML\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script&gt;\nvar headname = $header_as_json;\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;Hello World!&lt;/body&gt;\n&lt;/html&gt;\nHTML\n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 32249685, "answer_count": 1, "score": 0, "last_activity_date": 1440679282, "creation_date": 1440626618, "question_id": 32237456, "link": "https://stackoverflow.com/questions/32237456/loop-function-in-javascript-fails-when-combined-with-perl-array", "title": "Loop function in Javascript fails when combined with perl array", "body": "<p>I am taking backend perl variables and using it at the front end for display. \nHere is the code. </p>\n\n<p>head1 and head2 are the header names taken from perl script. I use that and display those headers of grid on webpage. </p>\n\n<pre><code>var headname1= \"@head1\";\nvar headname2= \"@head2\";\n</code></pre>\n\n<p>Now, if there are 100 headers, i would have to assign variables 100 times separately. so its better to make it dynamic. Taking values from backend and assigning it to javascript variable. This task will be dynamic. Here is my attempted code for that. </p>\n\n<p>I hav taken all the headers from backend and assigned it to line_array. @line_arry is the name of that array. If i do @line_arry[0] and so on. appropriate values will be displyaed. </p>\n\n<pre><code>var headname=[];\n\nfor(var i=0;i&lt;total_columns;i++) {\n    headname[i+1]= \"@line_arry[(i)]\";\n}\n</code></pre>\n\n<p>This code doesnot work. It displays only the first column. i.e. </p>\n\n<pre><code> headname[1] = \"Order\";\n headname[2] = \"Order\";\n</code></pre>\n\n<p>Order is the name of the first header. In headname[2], header of second column should be displayed. but it still displays \"Order\"</p>\n\n<p>If i write the below code, it displays first and second header.</p>\n\n<pre><code> headname[i+1]= \"@line_arry[(0)]\";\nheadname[i+1]= \"@line_arry[(1)]\"; \n\n\"@line_arry[i]\" doesnt work whereas \n\"@line_arry[0], @line_arry[1] works.\n</code></pre>\n\n<p>Can anyone suggeest why it is not performing looping action using variable i</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1440619780, "post_id": 32235613, "comment_id": 52353894, "body": "Getting it right would involve using proper synchronization. At the very least, check out <a href=\"https://metacpan.org/pod/perlfunc#flock-FILEHANDLE-OPERATION\" rel=\"nofollow noreferrer\"><code>flock</code></a>."}, {"owner": {"reputation": 311, "user_id": 4537674, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9b92323e6b18de95197c3acc2d991df?s=128&d=identicon&r=PG&f=1", "display_name": "Jirong Hu", "link": "https://stackoverflow.com/users/4537674/jirong-hu"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440620707, "post_id": 32235613, "comment_id": 52354370, "body": "Thanks, I will try this: <a href=\"http://www.perlmonks.org/?node_id=7058\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=7058</a>. Overall, is there a better way to achieve this: many users to share a few login ids."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1440620968, "post_id": 32235613, "comment_id": 52354535, "body": "Likely explanations: 1) File permissions prevent you from writing to the file. 2) Someone else has the file open, and they opened it in a way that prevents others from writing to it. 3) The file has been deleted, but someone still has an open handle to it."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1440621995, "post_id": 32235613, "comment_id": 52355078, "body": "Your subs are overly complex.  If you use the <a href=\"http://search.cpan.org/~toddr/Tie-File-1.00/lib/Tie/File.pm\" rel=\"nofollow noreferrer\">Tie::File module</a>, you can reduce that down to 3 lines of code.  I don&#39;t see the connection between your code and your need for &quot;<b><i>many users to share a few login ids</i></b>&quot;."}, {"owner": {"reputation": 1947, "user_id": 2501936, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/BdTN9.jpg?s=128&g=1", "display_name": "Jirong Hu", "link": "https://stackoverflow.com/users/2501936/jirong-hu"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1455760297, "post_id": 32235613, "comment_id": 58638060, "body": "@RonBergin, this is great. Is this thread safe? Means when multiple processes trying to access the same file. My above program is having an issue: the APIUSR.txt totally missing."}], "owner": {"reputation": 311, "user_id": 4537674, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9b92323e6b18de95197c3acc2d991df?s=128&d=identicon&r=PG&f=1", "display_name": "Jirong Hu", "link": "https://stackoverflow.com/users/4537674/jirong-hu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440621019, "creation_date": 1440619119, "last_edit_date": 1440621019, "question_id": 32235613, "link": "https://stackoverflow.com/questions/32235613/how-to-wait-when-another-process-in-accessing-a-file", "title": "How to wait when another process in accessing a file?", "body": "<p>I use PopId() and PushId() to have many users share 10 login ids to a system. Sometime I got this error:</p>\n\n<blockquote>\n  <p>Could not open '\\ccreqpwebp01\\ccstg\\Informatica\\APIUSR.txt' -\n  Permission denied at \\ccreqpwebp01\\ccstg\\Informatica/bccpbmod.pm line\n  1206.</p>\n</blockquote>\n\n<p>line 1206 is to open the file to write. PopId() pops the first id from the APIUSR.txt, delete APIUSR.txt and then recreate the APIUSR.txt with the rest of ids.</p>\n\n<p>Can anyone help me to get it right?</p>\n\n<p><code>test_id.pl</code>:</p>\n\n<pre><code>$api_usr_file = \"APIUSR.txt\";\n$id = PopId();\nprint \"pop id=$id\\n\";\nPushId($id);\n\nsub PopId {\n   $path_to_file = $api_usr_file;\n   #$path_to_file = \"\\\\\\\\ccreqpwebd01\\\\ccstg\\\\Unix\\\\APIUSR.txt\";\n   # Read file into the array\n   open (my $fh, '&lt;', $path_to_file) or die \"Could not open '$path_to_file'     - $!\";\n   chomp(my @lines = &lt;$fh&gt;);\n   close $fh;\n   #print \"Before Pop: @lines\\n\";\n   # Pop the first id\n   my $uid = \"\";\n   while ($uid eq \"\") {\n      $uid = shift(@lines);\n   }\n   print \"Pop id:$uid\\n\";\n   #print \"After Pop:@lines\\n\";\n\n   # Write the rest of ids back to the file\n   unlink $path_to_file or die \"Could not delete '$path_to_file' - $!\";\n   open (my $fd, \"&gt;&gt;$path_to_file\") or die \"Could not open '$path_to_file' -     $!\";\n   sleep 3;\n   foreach (@lines) {\n      print $fd $_;\n      print $fd \"\\n\";\n   }\n   close $fd;\n   return $uid;\n}\n\nsub PushId {\n   $path_to_file = $api_usr_file;\n   #$path_to_file = \"\\\\\\\\ccreqpwebd01\\\\ccstg\\\\Unix\\\\APIUSR.txt\";\n   my ($uid) = @_;\n   # Read file into the array\n   open (my $fh, '&lt;', $path_to_file) or die \"Could not open '$path_to_file'     - $!\";\n   chomp(my @lines = &lt;$fh&gt;);\n   close $fh;\n   #print \"Before Push:@lines\\n\";\n\n   # unshift(@lines,$uid);\n   push (@lines,$uid);\n   #print \"After push:@lines\\n\";\n   # Write to the file\n   unlink $path_to_file or die \"Could not delete '$path_to_file' - $!\";\n   open(my $fd, \"&gt;&gt;$path_to_file\") or die \"Could not open '$path_to_file' -     $!\";\n   sleep 3;\n   foreach (@lines) {\n      print $fd $_;\n      print $fd \"\\n\";\n   }\n   close $fd;\n}\n</code></pre>\n\n<p><code>APIUSR.txt</code>:</p>\n\n<pre><code>APIUSR06\nAPIUSR07\nAPIUSR08\nAPIUSR09\nAPIUSR01\nAPIUSR02\nAPIUSR00\nAPIUSR03\nAPIUSR04\nAPIUSR05\n</code></pre>\n"}, {"tags": ["vba", "perl", "shell"], "answers": [{"comments": [{"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440705669, "post_id": 32234506, "comment_id": 52396740, "body": "I am getting a windows can not find <code>&quot;c:\\cygwin\\bin\\bash.exe &#47;home&#47;cmccabe&#47;Run.sh&quot;</code> maybe it needs the full path <code>&quot;c:\\cygwin\\bin\\bash.exe c:\\cygwin\\home\\cmccabe\\Run.sh&#39;</code>, but then won&#39;t it try to read the full path as is and throw the same error? Thank you :)."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1440615139, "creation_date": 1440615139, "answer_id": 32234506, "question_id": 32233437, "link": "https://stackoverflow.com/questions/32233437/proper-way-to-call-a-shell-file-from-vba-written-in-excel-2010/32234506#32234506", "title": "proper way to call a shell file from VBA written in excel 2010", "body": "<p>Of course it is. And since it appears that you have Cygwin installed, you already have a shell script interpreter on your system:</p>\n\n<pre><code>Set objShell = CreateObject(\"Shell.Application\")\nobjShell.ShellExecute \"c:\\cygwin\\bin\\bash.exe /home/cmccabe/Run.sh\"\n</code></pre>\n"}], "owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440615139, "creation_date": 1440611647, "question_id": 32233437, "link": "https://stackoverflow.com/questions/32233437/proper-way-to-call-a-shell-file-from-vba-written-in-excel-2010", "title": "proper way to call a shell file from VBA written in excel 2010", "body": "<p>I can call a <code>perl</code> script from <code>VBA</code> doing:</p>\n\n<pre><code>Set objShell = CreateObject(\"Shell.Application\")\n    objShell.ShellExecute \"c:\\cygwin\\bin\\perl.exe C:\\cygwin\\home\\cmccabe\\get_imagene_spikein_probe_values.pl\"\n</code></pre>\n\n<p>However, is it possible to call a .sh file instead?  The .sh is called Run.sh and within it is a reference to the <code>perl</code> script.  Thank you :).</p>\n"}, {"tags": ["perl", "fetch", "operator-keyword", "www-mechanize", "scraper"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1440604515, "post_id": 32231237, "comment_id": 52345038, "body": "Please turn on <code>strict</code> too."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1440604535, "post_id": 32231237, "comment_id": 52345050, "body": "<code>while ($page &lt; 4)</code> \u2192 <code>while ($page &lt; 4);</code>"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1440604647, "post_id": 32231237, "comment_id": 52345133, "body": "I&#39;m not sure if you&#39;re getting a subset of links or all of them on the page, but note that Mech has a <code>-&gt;links()</code> method that will return a list of WWW::Mechanize::Link objects to you.  You can also use <code>-&gt;find_all_links()</code> and pass criteria to it to filter the links that you want.  This is all without having to use HTML::Tree yourself."}, {"owner": {"reputation": 11, "user_id": 5269338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab043f7e4c691a5ef61a4590d3fd7e3?s=128&d=identicon&r=PG&f=1", "display_name": "WDC", "link": "https://stackoverflow.com/users/5269338/wdc"}, "edited": false, "score": 0, "creation_date": 1440605450, "post_id": 32231237, "comment_id": 52345637, "body": "Thanks, i will try it when my current solution works:)"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1440604605, "creation_date": 1440604605, "answer_id": 32231326, "question_id": 32231237, "link": "https://stackoverflow.com/questions/32231237/perl-scalar-found-where-operator-expected/32231326#32231326", "title": "Perl: Scalar Found where Operator expected", "body": "<p>Your problem is here:</p>\n\n<pre><code>    } while ($page &lt; 4)\n    $elementct++\n    } while ($elementct &lt; scalar @listelement)\n</code></pre>\n\n<p>Because there's no <code>;</code> <code>$elementct++</code> is being treated as part of the <code>while</code> condition, which isn't working. </p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5269338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab043f7e4c691a5ef61a4590d3fd7e3?s=128&d=identicon&r=PG&f=1", "display_name": "WDC", "link": "https://stackoverflow.com/users/5269338/wdc"}, "edited": false, "score": 0, "creation_date": 1440605382, "post_id": 32231371, "comment_id": 52345593, "body": "Okay thank you, pretty dumb mistake, but $elementct is still not incrementing, or it is and $listelement[$elementct] is just not working. You have an idea for that as well?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 5269338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab043f7e4c691a5ef61a4590d3fd7e3?s=128&d=identicon&r=PG&f=1", "display_name": "WDC", "link": "https://stackoverflow.com/users/5269338/wdc"}, "edited": false, "score": 2, "creation_date": 1440606047, "post_id": 32231371, "comment_id": 52346010, "body": "Always use <code>use strict; use warnings;</code>. This will find your error."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1440604757, "creation_date": 1440604757, "answer_id": 32231371, "question_id": 32231237, "link": "https://stackoverflow.com/questions/32231237/perl-scalar-found-where-operator-expected/32231371#32231371", "title": "Perl: Scalar Found where Operator expected", "body": "<p>You have</p>\n\n<pre><code>do { ... } while ($page &lt; 4) $elementct++;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>($page &lt; 4) $elementct++\n</code></pre>\n\n<p>is not a valid expression. You meant to write</p>\n\n<pre><code>do { ... } while ($page &lt; 4); $elementct++;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1440610111, "last_edit_date": 1592644375, "creation_date": 1440606585, "answer_id": 32231971, "question_id": 32231237, "link": "https://stackoverflow.com/questions/32231237/perl-scalar-found-where-operator-expected/32231971#32231971", "title": "Perl: Scalar Found where Operator expected", "body": "<h3>Fatal errors</h3>\n<ul>\n<li><p>As others have noted, you  need a semicolon <code>;</code> at the end of a <code>do { ... } while ...</code> loop</p>\n</li>\n<li><p>You have a scoping problem with <code>$elementct</code>, which would have been revealed if you had <code>use strict</code> in place as you should. You are trying to increment the variable outside the block that contains its declaration</p>\n</li>\n</ul>\n<h3>Best practice guidelines</h3>\n<ul>\n<li><p>It is <em>vital</em> to have both <code>use strict</code> and <code>use warnings</code> (in preference to <code>-w</code> on the shebang line) at the top of every program you write</p>\n</li>\n<li><p>The <code>do { ... } while ...</code> form of loop is very rarely what you want, as it will always execute the body of the loop at least once regardless of the loop condition. Use the more standard <code>while (...) { ... }</code> unless you're certain you need something more special</p>\n</li>\n<li><p>You should use <em>lexical</em> file handles instead of the global <code>F</code>, together with the three-parameter form of <code>open</code></p>\n</li>\n</ul>\n<p>Your code should look something like this</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse WWW::Mechanize;\nuse HTML::Parser;\nuse HTML::Tree;\n\nmy @listelement;\n{\n    open my $fh, '&lt;', &quot;testlist.txt&quot; or die &quot;Could not open test.txt: $!&quot;;\n    @listelement = &lt;$fh&gt;;\n    chomp @listelement;\n}\n\nmy $elementct = 0;\n\nwhile ( $elementct &lt; @listelement ) {\n\n    my $elementct  = 0;\n    my $donk       = $listelement[$elementct];\n    my $bot        = WWW::Mechanize-&gt;new();\n    my $google     = &quot;http://www.google.com/search?q=yoursearch+&quot;;\n    my $search_url = &quot;$google $donk&quot;;\n\n    $bot-&gt;agent_alias( 'Windows IE 6' );\n    $bot-&gt;get( $search_url );\n\n    my $page = 1;\n\n    while ( $page &lt; 4 ) {\n\n        my $tree = HTML::Tree-&gt;new;\n\n        $tree-&gt;parse( $bot-&gt;content );\n\n        #Store the Links in an array\n        my @link = $tree-&gt;look_down( '_tag', 'cite' );\n\n        # Check if we got something, exit otherwise\n        if ( !@link ) {\n            print &quot;\\nERROR NO RESULTS\\n\\n&quot;;\n            exit 1;\n        }\n\n        # Print the results per page\n        print &quot;\\nResults from Page $page\\n&quot;;\n        for my $url ( @link ) {\n            print &quot;|__ &quot; . $url-&gt;as_HTML . &quot;\\n&quot;;\n        }\n        ++$page;\n\n        # increment page numbers\n        $bot-&gt;follow_link( text =&gt; $page );\n        print &quot;\\n&quot;;\n        sleep 3;\n\n    }\n\n    ++$elementct;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5269338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab043f7e4c691a5ef61a4590d3fd7e3?s=128&d=identicon&r=PG&f=1", "display_name": "WDC", "link": "https://stackoverflow.com/users/5269338/wdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5459, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1440610111, "creation_date": 1440604338, "last_edit_date": 1440605942, "question_id": 32231237, "link": "https://stackoverflow.com/questions/32231237/perl-scalar-found-where-operator-expected", "title": "Perl: Scalar Found where Operator expected", "body": "<p>im currently programming a little Google-Scraper for another Project.</p>\n\n<p>But i get the Error:</p>\n\n<blockquote>\n  <p>Scalar found where operator expected at test.pl line 50, near \")\n  $elementct (Missing operator before $elementct?)</p>\n  \n  <p>syntax error at test.pl line 50, near \") $elementct\"</p>\n  \n  <p>Execution of test.pl aborted due to compilation errors.</p>\n</blockquote>\n\n<pre><code>#!/usr/bin/perl -w\nuse WWW::Mechanize;\nuse HTML::Parser;\nuse HTML::Tree;\nuse warnings;\n\nopen (F, \"testlist.txt\") || die \"Could not open test.txt: $!\\n\";\nmy @listelement = &lt;F&gt;;\nclose F;\n\ndo {\n    my $elementct  = 0;\n    my $donk = $listelement[$elementct];     \n    my $bot = WWW::Mechanize -&gt; new(); \n    $bot -&gt; agent_alias ('Windows IE 6'); \n    $google = \"http://www.google.com/search?q=yoursearch+\";\n    $search_url = \"$google $donk\";\n    $bot -&gt; get ($search_url);\n\n    my $page = 1;\n\n    do {\n        my $tree = HTML::Tree -&gt; new();\n\n        $tree -&gt; parse ($bot -&gt; content);\n\n        #Store the Links in an array\n        my @link = $tree -&gt; look_down ('_tag','cite');\n\n        # Check if we got something, exit otherwise\n        if (!@link)\n        {\n            print \"\\nERROR NO RESULTS\\n\\n\";\n            exit 1;\n        }\n\n        # Print the results per page\n        print \"\\nResults from Page $page\\n\";\n        for my $url (@link)\n        {\n            print \"|__ \".$url -&gt; as_HTML.\"\\n\";\n        }\n        $page++;\n        # increment page numbers\n        $bot -&gt; follow_link (text =&gt; $page);\n        print  \"\\n\";\n        sleep 3;\n\n    } while ($page &lt; 4)\n    $elementct++\n} while ($elementct &lt; scalar @listelement)\n</code></pre>\n\n<p>and i dont get what i have to do to fix it after reading alot similar asked questions.</p>\n\n<p>(Its my first time coding with perl, i wanted to learn it and thought it would suite the Project.)</p>\n\n<p>Thanks for your time and help\nWDC</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1440601969, "post_id": 32229887, "comment_id": 52343216, "body": "Are you using that with an object framework like Moo or on its own? Please show an example of how you use it. In general, Type::Tiny only <i>validates</i> data against a set of rules. It <b>does not</b> represent internal data. Your data is still your data, and once it&#39;s done validating it&#39;s stored as the same data. If you need to serialize that data according to your business rules, you should be using objects instead."}, {"owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440604949, "post_id": 32229887, "comment_id": 52345334, "body": "So, I would need to add a _deflate sub during the generation process above? (or whatever I want to call it)"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1440624668, "post_id": 32229887, "comment_id": 52356329, "body": "It seems like your code is generating setter methods every time an object is created.  All those methods will go into the <code>My::Object</code> namespace potentially overwriting methods created by the last call to <code>new</code>. Generating setter methods seems like something that ought to happen when the class is initialised - not when a instance of the class is created."}, {"owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "edited": false, "score": 0, "creation_date": 1440687327, "post_id": 32229887, "comment_id": 52385881, "body": "That is a very good point. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "is_accepted": true, "score": 0, "last_activity_date": 1441083916, "creation_date": 1441083916, "answer_id": 32323897, "question_id": 32229887, "link": "https://stackoverflow.com/questions/32229887/using-typetiny-is-there-a-way-to-stringify-deflate-or-uncoerce-a-date-type/32323897#32323897", "title": "Using Type::Tiny, is there a way to stringify, deflate or uncoerce a date type?", "body": "<p>Answering my own question ... I must write my own deflate methods.</p>\n"}], "owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 32323897, "answer_count": 1, "score": 0, "last_activity_date": 1441083916, "creation_date": 1440600612, "last_edit_date": 1440604883, "question_id": 32229887, "link": "https://stackoverflow.com/questions/32229887/using-typetiny-is-there-a-way-to-stringify-deflate-or-uncoerce-a-date-type", "title": "Using Type::Tiny, is there a way to stringify, deflate or uncoerce a date type?", "body": "<p>I've built a module that uses <a href=\"https://metacpan.org/release/Type-Tiny\" rel=\"nofollow\">Type::Tiny</a> and it's working fine.</p>\n\n<p>Now I have to write a TO_JSON subroutine and I'm hoping I don't have to write a deflate method for each piece of data. Is there a way to define a deflation method in the type definition with Type::Tiny?  An 'uncoerce' so to speak. I haven't found anything in the docs but I may just not be looking for the right keyword.</p>\n\n<p>I am not using an object frame like Moo or Moose, but I am using an object for the data.</p>\n\n<p>A simplified example looks like</p>\n\n<pre><code>package My::Object::Types;\n# the usual stuff, strict, etc.\nmy $meta = __PACKAGE__-&gt;meta;\nmy $_Date = Type::Tiny::Class-&gt;new( class =&gt; 'Time::Piece' );\nmy $_Due = $meta-&gt;add_type(\n  name =&gt; 'Due',\n  parent =&gt; $_Date,\n);\n\npackage My::Object;\n# again, the usual strict, warnings, etc.\nsub new {\n  my ( $class, $args ) = @_;\n  my $self = bless {}, $class;\n\n  for my $attr ( keys %$args ) {\n    my $type = ucfirst $attr;\n    my $set_attribute = \"set_$attr\";\n\n    *$set_attribute = sub {\n      my ( $self, $value ) = @_;\n      $value = $self-&gt;$type-&gt;assert_coerce( $value ) if $self-&gt;$type-&gt;has_coercion;\n      my $invalid = $self-&gt;$type-&gt;validate( $value );\n      carp $invalid &amp;&amp; return if $invalid;\n      $self-&gt;{data}{$attr} = $value;\n    };\n\n    $attr = sub { return $_[0]-&gt;{data}{$attr} };\n  }\n\n  return $self;\n}\n</code></pre>\n"}, {"tags": ["perl", "postgresql", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440597430, "post_id": 32228489, "comment_id": 52339752, "body": "How do you know the order of the data? The <code>keys %$data</code> and the <code>shift @db</code> sound like stuff is going wrong. Probalby that&#39;s just for the example though."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440597526, "post_id": 32228489, "comment_id": 52339822, "body": "Have you added a log or examined the web server log? Also add <code>or die $dbh-&gt;errstr</code> to your prepare and execute or turn on <code>PrintError</code> and <code>RaiseError</code>. Maybe the source data is wrong. You could also add a transaction around the <code>while</code>, or even the <code>foreach</code>."}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440597619, "post_id": 32228489, "comment_id": 52339894, "body": "@simbabque Since there is only one key in JSON so i can take that key using <code>keys %$data</code>. Also i am getting array of hashes and order in which arrays are placed is fixed and that i know for sure. Since i have to enter in 5 tables which are varying by only one column so to get table and one varying column i created @db and %mapping."}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440597773, "post_id": 32228489, "comment_id": 52340019, "body": "@simbabque Yes i examined web server logs and they are have entry in only access logs and nothing in error logs. But i will try other things."}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440599592, "post_id": 32228489, "comment_id": 52341463, "body": "@simbabque Turning on <code>PrintError</code> and <code>RaiseError</code> helped me to identify the problem and solve. Since i was getting data from more than one places it was messing with my primary key constraint thus causing the issue. Thanks :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1440601428, "post_id": 32228489, "comment_id": 52342815, "body": "Glad I was helpful. Leave your own answer with at least an abstract of what you did, so others can understand, and accept it."}], "answers": [{"tags": [], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "is_accepted": false, "score": 0, "last_activity_date": 1440611202, "creation_date": 1440611202, "answer_id": 32233320, "question_id": 32228489, "link": "https://stackoverflow.com/questions/32228489/populating-missing-rows-in-postgresql/32233320#32233320", "title": "Populating missing rows in postgresql", "body": "<p>Well after simbabque comment above i enabled <code>RaiseError</code> and <code>PrintError</code>. After this i am able to get error in server error logs. Error logs indicate that because of simultaneous insertion of rows coming from multiple places i am getting primary key violation which was causing this strange behaviour.</p>\n\n<p>I tweaked my primary key and all is well :)</p>\n"}], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440611202, "creation_date": 1440596873, "question_id": 32228489, "link": "https://stackoverflow.com/questions/32228489/populating-missing-rows-in-postgresql", "title": "Populating missing rows in postgresql", "body": "<p>I have written a <code>CGI script in perl</code>. I am receiving <code>POST request</code> to that script from two different locations simultaneously. \nFrom POST request i am populating five different tables. I get 500 rows in each POST request and then i populate each table with 100 rows. </p>\n\n<p>My issue is that after some time one or two of the table start showing less number of rows. Both of these tables store ip in one of their column. Every time only these two tables are the one which is missing data which is weird for me. I am not able to understand why this is happening. </p>\n\n<p>Although i receive something in postgresql logs and number of such logs are same as the number of rows missing from table. </p>\n\n<pre><code>UTC STATEMENT:  insert into post (ip, count, location, source_server) values ($1, $2, $3, $4)\nUTC STATEMENT:  insert into post (ip, count, location, source_server) values ($1, $2, $3, $4)\nUTC STATEMENT:  insert into post (ip, count, location, source_server) values ($1, $2, $3, $4)\n</code></pre>\n\n<p>This is my CGI code. </p>\n\n<pre><code>use strict;\nuse warnings;\nuse CGI;\nuse DBI;\nuse JSON;\n\n\n#Taking parameters passed as post request\nmy $conn = CGI-&gt;new;\nmy $data = $conn-&gt;param('POSTDATA');\n\n#Details regarding database\nmy $host     = 'host';\nmy $user     = 'user';\nmy $password = 'password';\nmy $database = 'db';\n\nmy ( $location, $table, $entry );\n\n#Creating connection to DB\nmy $dsn = \"dbi:Pg:dbname=$database;host=$host\";\nmy $dbh\n    = DBI-&gt;connect( $dsn, $user, $password,\n    { RaiseError =&gt; 0, PrintError =&gt; 0 } )\n    or die(\"Connection to DB failed $!\\n\");\n\n#Decoding json received in post request to perl hash\n$data = decode_json $data;\n\nmy ($source_server) = keys %$data;\n\nmy $location = 'XX';\n\nmy $main_data = $$data{$source_server};\n\nmy @db      = qw /a b c d e/;\nmy %mapping = (\n    'a'   =&gt; 'A',\n    'b'     =&gt; 'B',\n    'c' =&gt; 'C',\n    'd' =&gt; 'D',\n    'e'   =&gt; 'E'\n);\n\n\nforeach (@$main_data) {\n\n    my $hash = $_;\n\n    #Deciding which table data will be pushed into\n    $table = shift @db;\n    $entry = $mapping{$table};\n\n    my $sth = $dbh-&gt;prepare(\n        \"insert into $table ($entry, count, location, source_server) values (?, ?, ?, ?)\");\n\n    while ( ( my $key, my $value ) = each %$hash ) {\n        $sth-&gt;execute( $key, $value, $location, $source_server );\n\n    }\n    $sth-&gt;finish;\n\n}\n\n#Sending 200 status code back to client\nprint \"Status: 200\\n\\n\";\n</code></pre>\n\n<p>Data is passed to my CGI script in JSON as <code>{KEY : [{HASH},{HASH},{HASH},{HASH},{HASH}]}</code>. Second and fifth hash contains data for tables which are missing it after some time.</p>\n\n<p>Every hash will have 100 key:value pairs thus making total 500 entries.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440597193, "post_id": 32228422, "comment_id": 52339583, "body": "<code>if ( grep { $table[0] eq $_ } @{ $hash{Value1} } ) { ... }</code>"}, {"owner": {"reputation": 13, "user_id": 5259591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8e9e5fd031fcb74c3de9ebb366dc33?s=128&d=identicon&r=PG&f=1", "display_name": "user5259591", "link": "https://stackoverflow.com/users/5259591/user5259591"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440597753, "post_id": 32228422, "comment_id": 52340008, "body": "I just test your fix and it&#39;s work !! Thank you. Now i will be able to improve my program."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1440602664, "creation_date": 1440602664, "answer_id": 32230654, "question_id": 32228422, "link": "https://stackoverflow.com/questions/32228422/how-to-check-element-in-a-array-in-perl-with-grep/32230654#32230654", "title": "How to check element in a array in PERL with grep?", "body": "<pre><code>for my $ip (@ips_to_find) {\n   for my $key (keys(%hash)) {\n      print(\"$ip in $key\\n\")\n         if grep { $_ eq $ip } @{ $hash{$key} };\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3600, "user_id": 5247911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IpGVs.png?s=128&g=1", "display_name": "Dinesh Pundkar", "link": "https://stackoverflow.com/users/5247911/dinesh-pundkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1440605392, "last_edit_date": 1440605392, "creation_date": 1440604768, "answer_id": 32231375, "question_id": 32228422, "link": "https://stackoverflow.com/questions/32228422/how-to-check-element-in-a-array-in-perl-with-grep/32231375#32231375", "title": "How to check element in a array in PERL with grep?", "body": "<p>You can reduce code by using loop for searching element.    </p>\n\n<pre><code>my %hash = ('Value1' =&gt; ['10.0.0.1', '10.0.0.2'] ); \n    my @table = ( '10.0.0.6', '10.0.0.1');\n\n    my $i = 0;\n    for my $val (@table) {\n        if (grep $_ eq $val, @{ $hash{'Value1'} })\n       {\n            print \"Find!!!\\n\";\n        $i++;\n        }\n    }\n\n    if ( $i == 2) {\n     print \"It is perfect. 0% difference between table and hash{'Value1'}\";\n    }\n    elsif ( $i == 1) {\n     print \"It is middle. 50% difference between table and hash{'Value1'}\";\n    }\n    elsif ( $i == 0) {\n     print \"It is bad. 100% difference between table and hash{'Value1'}\";\n    }\n</code></pre>\n\n<p>Output </p>\n\n<pre><code>G:\\Study\\Perl Arsenal&gt;perl temp.pl\nFind!!!\nIt is middle. 50% difference between table and hash{'Value1'}\nG:\\Study\\Perl Arsenal&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5259591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8e9e5fd031fcb74c3de9ebb366dc33?s=128&d=identicon&r=PG&f=1", "display_name": "user5259591", "link": "https://stackoverflow.com/users/5259591/user5259591"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1440605392, "creation_date": 1440596722, "last_edit_date": 1440599448, "question_id": 32228422, "link": "https://stackoverflow.com/questions/32228422/how-to-check-element-in-a-array-in-perl-with-grep", "title": "How to check element in a array in PERL with grep?", "body": "<p>I would like to check if a element is in the array?</p>\n\n<pre><code>my %hash = (\n Value1 =&gt; ['10.0.0.1', '10.0.0.2'],\n); #/!\\NOT ARRAY\n\nmy @table = ( '10.0.0.6', '10.0.0.1');\n</code></pre>\n\n<p><strong>Pseudo-code</strong></p>\n\n<pre><code>my $i = 0;\nif( grep { $table[0] eq $_ } eq $hash{\"Value1[]\"} ) {\n print \"Find!!!\";\n $i++; #true\n}\nif( grep { $table[1] eq $_ } eq $hash{\"Value1[]\"} ) {\n print \"Find!!!\";\n $i++; #true\n}\n\nif ( $i = 2) {\n print \"It is perfect. 0% difference between table and hash{\"Value1\"}\";\n}\nif ( $i = 1) {\n print \"It is middle. 50% difference between table and hash{\"Value1\"}\";\n}\nif ( $i = 0) {\n print \"It is bad. 100% difference between table and hash{\"Value1\"}\";\n}\n</code></pre>\n\n<ol>\n<li>How to convert hash to array ? <a href=\"http://perlmaven.com/filtering-values-with-perl-grep\" rel=\"nofollow\">Use grep in PERL</a></li>\n<li>I'm not sure for grep syntax \"$_\"??</li>\n</ol>\n\n<p>I'm only a beginner in PERL. </p>\n\n<p>Thx very much.</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1441005154, "post_id": 32227125, "comment_id": 52487118, "body": "Try <a href=\"https://metacpan.org/pod/Net::OpenSSH::Parallel\" rel=\"nofollow noreferrer\">Net::OpenSSH::Parallel</a>!"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440604313, "post_id": 32227829, "comment_id": 52344909, "body": "Re &quot;Threads are officially discouraged&quot;, No, they are not. The warning atop threads.pm is a miswording. It&#39;s actually reference to the previous paragraph. Threads are discouraged <i>if you don&#39;t want to deal with the fact that they are heavy</i>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440604805, "post_id": 32227829, "comment_id": 52345243, "body": "Well, I don&#39;t know how much more &quot;officially discouraged&quot; you can get than the perldoc saying: &quot;The use of interpreter-based threads in perl is officially discouraged.&quot;. I agree - they work fine if you set them up right."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440604843, "post_id": 32227829, "comment_id": 52345262, "body": "I&#39;ve just said that sentence is incorrectly worded. Officially, threads are not discouraged. Officially, threads are discouraged <i>if you don&#39;t want to deal with the fact that they are heavy</i>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440604927, "post_id": 32227829, "comment_id": 52345319, "body": "I shall amend the answer."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440615363, "post_id": 32227829, "comment_id": 52351447, "body": "@ikegami, this might be more suited for chat, but may I ask why you say the discouragement is unofficial?  The warning from 5.20&#39;s threads.pm appears starkly in perldelta-5.20, and survives into 5.22&#39;s updated threads.pm.  Moreover all those warnings link to perlpolicy&#39;s discouraging explication of what official discouragement means.  That seems rather official to me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1440615484, "post_id": 32227829, "comment_id": 52351516, "body": "@pilcrow, Cause p5p said the warning is strictly related to the previous paragraph and not to be taken generally."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1440616345, "post_id": 32227829, "comment_id": 52352015, "body": "@pilcrow, I can&#39;t seem to find some of the replies I remember getting, just the one that says the previous paragraph is the reason for the thread. That same message points to this <a href=\"http://www.gossamer-threads.com/lists/perl/porters/305035\" rel=\"nofollow noreferrer\">discussion</a> that lead to the creation of the patch."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1440616471, "post_id": 32227829, "comment_id": 52352103, "body": "@pilcrow, I see three points made in that discussion: 1) I&#39;ve never had to use threads, 2) multi-threading is hard, and 3) &quot;unmanaged expectations of support are causing social problems&quot;. /// To that, i say 1) Yet they exist 2) It&#39;s multi-tasking that&#39;s hard. Using processes instead doesn&#39;t help, 3) the comment is causing social problems discouraging legitimate uses of threads. /// Notice that none of the reasons listed are technical except for the heavyness of the threads (solved by using a worker model). It&#39;s all politics."}, {"owner": {"reputation": 597, "user_id": 801100, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/646184e019cc6ee6368448e94a52e06b?s=128&d=identicon&r=PG", "display_name": "Elie Xu", "link": "https://stackoverflow.com/users/801100/elie-xu"}, "edited": false, "score": 0, "creation_date": 1440684856, "post_id": 32227829, "comment_id": 52384039, "body": "@Sobrique, thanks for your answer, I have a question about the thread queue in your code, does the code can ensure the threads is joinable when using $thr-&gt;join ,  I also applied your code to my script, but found the script was stuck since the thread cannot be joined."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440804921, "post_id": 32227829, "comment_id": 52440981, "body": "Join blocks until a thread is joinable.  The threads should exit automatically thanks to ending the queue."}, {"owner": {"reputation": 597, "user_id": 801100, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/646184e019cc6ee6368448e94a52e06b?s=128&d=identicon&r=PG", "display_name": "Elie Xu", "link": "https://stackoverflow.com/users/801100/elie-xu"}, "edited": false, "score": 0, "creation_date": 1440983910, "post_id": 32227829, "comment_id": 52481671, "body": "@Sobrique, the version of Thread:Queue is 2.11 in my machine, no end queue method in this revision, seems I need to do a upgrade."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1440604894, "last_edit_date": 1440604894, "creation_date": 1440595249, "answer_id": 32227829, "question_id": 32227125, "link": "https://stackoverflow.com/questions/32227125/zombie-process-is-generated-when-call-system-in-perl-threads/32227829#32227829", "title": "Zombie process is generated when call system() in Perl threads", "body": "<p>Threads are listed in the perldoc as \"discouraged\".  Personally, I find they work fine, they're just somewhat counter intuitive - they <em>aren't</em> lightweight constructs like might be assumed (based on other threading models). </p>\n\n<p>I will note - the generic solution to self-reaping zombies is to set <code>$SIG{'CHLD'}</code> e.g.: <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow\">http://perldoc.perl.org/perlipc.html</a> but that's probably not a good idea if you're capturing the return code. You could probably do an <code>open</code> and a <code>waitpid</code> instead though. </p>\n\n<p>So I wouldn't normally suggest their use, unless you've a scenario where you need to do a lot of inter-thread communication. <code>Parallel::ForkManager</code> is generally much more efficient. </p>\n\n<p>If you do have to use them - I wouldn't do what you're doing, and spawning a thread per 'job' and instead use a worker threads model with <code>Thread::Queue</code>. </p>\n\n<p>I can't say for certain, but I suspect one of your problems is this line:</p>\n\n<pre><code>$cmd = \"$HOME/worker.sh \".\"$arg\";\n</code></pre>\n\n<p>Because perl will be interpolating <code>$HOME</code> - and you don't define it, therefore it's null. </p>\n\n<p>You really should be turning on <code>strict</code> and <code>warnings</code> and cleaning up any errors as a result - your code has quite a few. </p>\n\n<p>But that said - unless I'm missing something your code is much more complicated than it needs to be - it looks like all you're doing here is running parallel ssh commands.</p>\n\n<p>So I'd suggest what you'd be better off with is something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse threads;\nuse Thread::Queue;\n\nmy @servers = qw/hostA hostB/;\n\nmy $cmd         = '$HOME/worker.sh --node';\nmy $threadcount = 2;\n\nmy $hostq  = Thread::Queue-&gt;new();\nmy $errorq = Thread::Queue-&gt;new();\n\nsub worker {\n    while ( my $hostname = $hostq-&gt;dequeue ) {\n        my $output =\n            qx( ssh -o StrictHostKeyChecking=no $hostname \\\"source /etc/profile; $cmd\\\" );\n        if ($?) {\n            $errorq-&gt;enqueue(\"$hostname: $output\");\n        }\n    }\n}\n\n\n$hostq-&gt;enqueue(@servers);\nfor ( 1 .. $threadcount ) {\n    my $thr = threads-&gt;create( \\&amp;worker );\n}\n$hostq-&gt;end();\n\nforeach my $thr ( threads-&gt;list ) {\n    $thr-&gt;join;\n}\n$errorq-&gt;end();\nwhile ( my $error = $errorq-&gt;dequeue ) {\n    print \"ERROR: $error\\n\";\n}\n</code></pre>\n\n<p>Alternatively, with <code>Parallel::ForkManager</code>: </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @servers = qw/hostA hostB/;\n\nmy $cmd     = '$HOME/worker.sh --node';\nmy $manager = Parallel::ForkManager-&gt;new(5);    #fork limit.\n\nforeach my $hostname (@servers) {\n    $manager-&gt;start and next;\n    my $output =\n        qx( ssh -o StrictHostKeyChecking=no $hostname \\\"source /etc/profile; $cmd\\\" );\n    if ($?) {\n        print \"ERROR: $hostname $output\\n\";\n    }\n    $manager-&gt;finish;\n}\n\n$manager-&gt;wait_all_children();\n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 801100, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/646184e019cc6ee6368448e94a52e06b?s=128&d=identicon&r=PG", "display_name": "Elie Xu", "link": "https://stackoverflow.com/users/801100/elie-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 1, "accepted_answer_id": 32227829, "answer_count": 1, "score": 3, "last_activity_date": 1440604894, "creation_date": 1440593314, "question_id": 32227125, "link": "https://stackoverflow.com/questions/32227125/zombie-process-is-generated-when-call-system-in-perl-threads", "title": "Zombie process is generated when call system() in Perl threads", "body": "<p>There have two Linux nodes(hostA and hostB) in my test environments, I need to trigger a script(worker.sh) to run on all nodes concurrently, the worker.sh was already placed in all nodes,  so I use threads module in my Perl scripts(master.pl), here is the code snippet:</p>\n\n<pre><code>use threads(stringify);\n\nsub runByThreads{\n   my($count,$funcion,$host_ref,$cmd) = @_;\n   @hostlist = @{$host_ref};\n\n   my $thread;\n   my @failNodes;\n\n   for (my $i=0;$i&lt;$count;$i++) {\n      my $host =@hostlist[$i];\n      $thread = threads-&gt;create($funcion,$host,$cmd);\n      $parserState{$thread} = $host;\n      $thread_num ++;\n   }\n\n   while ($thread_num != 0) {      # stuck in this while loop\n      foreach my $subthread(threads-&gt;list(threads::joinable)) {\n         my $ret = $subthread-&gt;join();\n         if ($ret != 0) {\n            ....\n         }\n         $thread_num --;\n     }\n     sleep 2;\n   }\n}\n\nsub runCmd {\n    my ($host,$cmd) = @_;\n\n    chomp($localhost = `hostname -f`);\n    if ($localhost eq $host) {\n        $ret = system(\"source /etc/profile; $cmd\");\n    } else {\n        $ret = system(\"ssh -o StrictHostKeyChecking=no \".$host.\" \\\"source /etc/profile; \". $cmd.\"\\\"\");\n    }\n    return $ret;\n}\n\n\nmain {\n    my @servers = qw/hostA hostB/\n    my $nodecount = scalar(@servers);\n    my $arg = \"--node\";\n\n    $cmd = \"$HOME/worker.sh \".\"$arg\";\n    my @ret = &amp;runByThreads($nodecount,\\&amp;runCmd,\\@servers,$cmd);\n    if ( scalar(@ret) != 0) {\n        $failNum += 1;\n    }\n}\n\n&amp;main;\n</code></pre>\n\n<p>This perl script is run on hostA, in normal case, the ps command shows:</p>\n\n<pre><code>0 S optitest  9338  9337  0  80   0 - 50630 pipe_w 06:57 ?        00:00:00 /usr/bin/perl master.pl\n0 S optitest  9992  9338  0  80   0 - 26536 wait   06:57 ?        00:00:00 sh -c source /etc/profile; /home/jack/linux/worker.sh --node\n0 S optitest 10023  9338  0  80   0 - 14151 poll_s 06:57 ?        00:00:00 ssh -o StrictHostKeyChecking=no hostB source /etc/profile; /home/jack/linux/worker.sh --node\n0 S optitest 10757 10741  0  80   0 -  1608 pipe_w 06:59 ?        00:00:00 grep 9338\n</code></pre>\n\n<p>but sometimes, the ps shows there has a defunct process exists, and the defunct process will cause master.pl stuck in the while loop,</p>\n\n<pre><code>0 S optitest  6503  6502  1  80   0 - 50628 pipe_w 05:51 ?        00:00:00 /usr/bin/perl master.pl\n0 Z optitest  7496  6503  0  80   0 -     0 exit   05:51 ?        00:00:00 [hostname] &lt;defunct&gt;\n0 S optitest  7497  6503  0  80   0 - 26536 wait   05:51 ?        00:00:00 sh -c source /etc/profile; cd /home/jack/linux/worker.sh --node\n</code></pre>\n\n<p>I know zombie process is a process that has completed execution (via the exit system call) but still has an entry in the process table , This occurs for child processes, where the entry is still needed to allow the parent process to read its child's exit status: once the exit status is read via the wait system call, the zombie's entry is removed from the process table and it is said to be \"reaped\"</p>\n\n<p>I am confused how the defunct process was generated in my tests, the defunct process should be the one run work.pl on hostB via ssh, but I found it seems the process become defunct process immediately when it created by the Perl system call, because I didn't see any output for its run, even the 'echo' in the first line of worker.sh was't executed.   </p>\n\n<p>One thing is also strange, in worker.sh, some scripts are called to run in background, If I empty the worker.sh on hostB, the defunct issue can also be happened, but if I empty the worker.sh on both hostA and hostB, I never see the defunct issue again.</p>\n\n<p>Sorry for the long post, I am trying my best to make my question more clear, could you please help me to check what was going wrong, did I miss anything when use the threads module, or there have some issues of the threads module, because I noticed that the use of interpreter-based threads in perl is officially discouraged. <a href=\"http://perldoc.perl.org/threads.html\" rel=\"nofollow\">http://perldoc.perl.org/threads.html</a></p>\n"}, {"tags": ["perl", "dns", "net-ftp"], "comments": [{"owner": {"reputation": 3, "user_id": 5267889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef431d59e32850ad165a7147bd5e9404?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5267889/andreas"}, "edited": false, "score": 0, "creation_date": 1440592395, "post_id": 32226238, "comment_id": 52335882, "body": "Obviously, i tested if the FTP-Server runs correctly and login/password are OK."}, {"owner": {"reputation": 3, "user_id": 5267889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef431d59e32850ad165a7147bd5e9404?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5267889/andreas"}, "edited": false, "score": 0, "creation_date": 1440754118, "post_id": 32226238, "comment_id": 52414182, "body": "Thanks for your answers. I followed your suggestions:"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 0, "last_activity_date": 1440595906, "last_edit_date": 1440595906, "creation_date": 1440595542, "answer_id": 32227942, "question_id": 32226238, "link": "https://stackoverflow.com/questions/32226238/getting-files-from-windows-host-with-perls-netftp/32227942#32227942", "title": "Getting files from Windows host with Perls Net::FTP", "body": "<blockquote>\n  <p>How can I \"convince\" FTP to use the active DNS entry for the connection?</p>\n</blockquote>\n\n<p>There is no good way to let Net::FTP decide it.\nInstead you should determine it outside of Net::FTP and then use the usable IP address instead of the hostname in Net::FTP.</p>\n\n<p>Maybe you would be able to use only Net::FTP with the new versions (Net::FTP > 3.0) which can use IO::Socket::IP instead of IO::Socket::INET as the underlying module. This module can try all the IP addresses returned for a hostname until it gets a successful connection. But these retries will be done for every connection, that is the control connection and every data transfer. Since the connection to the inactive host only fails after some timeout everything will just be horribly slow.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1440609594, "creation_date": 1440609594, "answer_id": 32232851, "question_id": 32226238, "link": "https://stackoverflow.com/questions/32226238/getting-files-from-windows-host-with-perls-netftp/32232851#32232851", "title": "Getting files from Windows host with Perls Net::FTP", "body": "<p>The solution seems obvious: Get the IP addresses, ping them, figure out which one is live, and use the IP address instead of host name in the <code>Net::FTP</code> constructor.</p>\n"}], "owner": {"reputation": 3, "user_id": 5267889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef431d59e32850ad165a7147bd5e9404?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5267889/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 32227942, "answer_count": 2, "score": 0, "last_activity_date": 1440754805, "creation_date": 1440590919, "last_edit_date": 1440754805, "question_id": 32226238, "link": "https://stackoverflow.com/questions/32226238/getting-files-from-windows-host-with-perls-netftp", "title": "Getting files from Windows host with Perls Net::FTP", "body": "<p>The laptops in our company go to the network either about LAN (workplace) or about WLAN (conference room). Depending on how they go to the net, they get from DHCP different IPs.<br>\nCertain Perl application on a server, copies files from the client (e.g. laptop above) with Net::FTP. The piece of code looks like this:</p>\n\n<pre><code># don't wait for ftp-timeout if the host is not reachable\nmy $alive = Net::Ping::External(host =&gt; $clnt_host);\nif ($alive) {\n    $ftp = Net::FTP-&gt;new($clnt_host, Debug =&gt; 0, Timeout =&gt; 200)\n    or return \"Cannot connect to $clnt_host: $@\\n\";\n    ....\n    ....\n}\nelse {\n  dbgout(1, \"Host $clnt_host unreachable.\\n\");\n  $st = \"'FTPGETFAILED'\";\n  return ($st);\n}\n</code></pre>\n\n<p>Sometimes the code above doesn't work: Net::Ping::External() returns \"alive\", but Net::FTP->new() gets a \"timeout\".  </p>\n\n<p>Obviously \"FTP\" and \"ping\" resolve the hostname differently.<br>\nOn the OS ping reslove as follows:</p>\n\n<pre><code>C:\\Users\\converter&gt;ping -n 1 lap314-034\n\nPing wird ausgef\u00fchrt f\u00fcr lap314-034.domain.de [10.140.12.110] mit 32 Bytes Daten:\nAntwort von 10.140.12.110: Bytes=32 Zeit=2ms TTL=127\n</code></pre>\n\n<p>However, \"nslookup\" returns 2 possibilities:</p>\n\n<pre><code>C:\\Users\\converter&gt;nslookup lap314-034\nServer:  domaincontroller.domain.de\nAddress:  123.123.123.123\n\nName:    lap314-034.domain.de\nAddresses:  10.192.3.145\n          10.140.12.110\n</code></pre>\n\n<p>The not active IP address is delivered from nslookup at the <strong>first</strong> place back.<br>\nI suppose that Net::FTP also uses this address to connect to the client.  </p>\n\n<p>How can I \"convince\" FTP to use the active DNS entry for the connection? </p>\n\n<p>=============================================================</p>\n\n<p>Thanks for your answers. I followed your suggestions. The solution bases on: <a href=\"http://code.activestate.com/lists/perl-win32-users/32624/\" rel=\"nofollow\">http://code.activestate.com/lists/perl-win32-users/32624/</a></p>\n\n<pre><code>#------------------------------------------------------------------\nsub getActiveIP {\n#------------------------------------------------------------------\n  my $hostname     = shift;\n\n  my $host = (gethostbyname ($hostname))[0] or return undef;\n  my @addr = gethostbyname ($host);\n  # delete the first 4 array elements\n  splice @addr, 0, 4;\n  foreach (@addr) {\n    my $IPstr = sprintf (\"%s\", &amp;inet_ntoa ($_));\n    my $alive = ping(host =&gt; $IPstr);\n    if ($alive) {\n      return $IPstr;\n    }\n  }\n  return undef;\n}\n</code></pre>\n\n<p>Nevertheless, I believe that a widespread Perl-library should not make such surprises to the user. </p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 13, "user_id": 5268308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe22816a5ed1f4498abff14bb73f9cd?s=128&d=identicon&r=PG&f=1", "display_name": "werhgvfwe5r", "link": "https://stackoverflow.com/users/5268308/werhgvfwe5r"}, "reply_to_user": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 1, "creation_date": 1440589653, "post_id": 32225778, "comment_id": 52333994, "body": "@vks This is NOT a duplicate. First of all, the question is for Perl, second of all the question states that the single quotes within the string are the issue - not the commas."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440590644, "post_id": 32225778, "comment_id": 52334657, "body": "Do you actually have mismatched quotes - <code>&#39;thin&#39;g&#39;,</code> - that makes the problem considerably harder (how would you tell which field the following comma belongs to?)"}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1440592124, "post_id": 32225778, "comment_id": 52335656, "body": "@werhgvfwe5r, all you really need is the regexp from linked question. The Perl wrapper around it is absolutely trivial."}, {"owner": {"reputation": 13, "user_id": 5268308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe22816a5ed1f4498abff14bb73f9cd?s=128&d=identicon&r=PG&f=1", "display_name": "werhgvfwe5r", "link": "https://stackoverflow.com/users/5268308/werhgvfwe5r"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440593303, "post_id": 32225778, "comment_id": 52336584, "body": "@Sobrique, yes, sadly the quotes are mismatched. However, I made a small mistake in my original question. The quotes that are in quotes are usually escaped with a special character (<code>#</code>). Updating the question"}], "answers": [{"comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1440592285, "post_id": 32226237, "comment_id": 52335796, "body": "Uh, while it &quot;works&quot; with this particular string, it obviously doesn&#39;t match task described in question: <code>q{&#39;som , ething&#39;, another, &#39;thin&#39;g&#39;, &#39;her,e&#39;, gggh*}</code> = fail."}, {"owner": {"reputation": 13, "user_id": 5268308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe22816a5ed1f4498abff14bb73f9cd?s=128&d=identicon&r=PG&f=1", "display_name": "werhgvfwe5r", "link": "https://stackoverflow.com/users/5268308/werhgvfwe5r"}, "edited": false, "score": 0, "creation_date": 1440593347, "post_id": 32226237, "comment_id": 52336610, "body": "Forgot to mention that inner quotes are escaped by a hash (<code>#</code>). I assume that might make things easier."}, {"owner": {"reputation": 13, "user_id": 5268308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe22816a5ed1f4498abff14bb73f9cd?s=128&d=identicon&r=PG&f=1", "display_name": "werhgvfwe5r", "link": "https://stackoverflow.com/users/5268308/werhgvfwe5r"}, "edited": false, "score": 0, "creation_date": 1440593474, "post_id": 32226237, "comment_id": 52336740, "body": "This solution also assumes that the commas are all followed by a space. It&#39;s possible there is none: <code>a word,&#39;another&#39;,field, here</code>"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1440590916, "creation_date": 1440590916, "answer_id": 32226237, "question_id": 32225778, "link": "https://stackoverflow.com/questions/32225778/string-to-split-a-complicated-string-in-perl/32226237#32226237", "title": "String to split a complicated string in Perl", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $string = q{'som,ething', another, 'thin'g', 'her,e', gggh*};\nmy @splitted = split(/,(?=\\s+)/, $string);\nprint $_.\"\\n\" foreach @splitted;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>'som,ething'\n another\n 'thin'g'\n 'her,e'\n gggh*\n</code></pre>\n\n<p><a href=\"http://ideone.com/I5cNjh\" rel=\"nofollow\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": -1, "last_activity_date": 1440595986, "last_edit_date": 1440595986, "creation_date": 1440595102, "answer_id": 32227776, "question_id": 32225778, "link": "https://stackoverflow.com/questions/32225778/string-to-split-a-complicated-string-in-perl/32227776#32227776", "title": "String to split a complicated string in Perl", "body": "<p>Using <code>split</code> is not the way to go. If you are sure your string is well formatted using a global match is more simple, example:</p>\n\n<pre><code>my $line = \"'som,ething', another , 'thin#'g', 'her,e' , gggh*\";\n\nmy @list = $line =~ /\\s*('[^#']*(?:#.[^#']*)*+'|[^,]+(?&lt;=\\S))\\s*/g;\n\nprint join(\"|\", @list);\n</code></pre>\n\n<p><em>(the <code>(?&lt;=\\S)</code> is only here to trim items on the right)</em></p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 0, "last_activity_date": 1440597083, "last_edit_date": 1495540687, "creation_date": 1440597083, "answer_id": 32228562, "question_id": 32225778, "link": "https://stackoverflow.com/questions/32225778/string-to-split-a-complicated-string-in-perl/32228562#32228562", "title": "String to split a complicated string in Perl", "body": "<p>It looks like you're trying to parse comma-separated values. The answer is to use <a href=\"https://metacpan.org/release/Text-CSV_XS\" rel=\"nofollow noreferrer\">Text::CSV_XS</a> since that handles the various weird cases you're likely to find in the data. See <a href=\"https://stackoverflow.com/questions/633607/how-can-i-parse-quoted-csv-in-perl-with-a-regex\">How can I parse quoted CSV in Perl with a regex?</a></p>\n"}], "owner": {"reputation": 13, "user_id": 5268308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe22816a5ed1f4498abff14bb73f9cd?s=128&d=identicon&r=PG&f=1", "display_name": "werhgvfwe5r", "link": "https://stackoverflow.com/users/5268308/werhgvfwe5r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1440597264, "accepted_answer_id": 32228562, "answer_count": 3, "score": 1, "last_activity_date": 1440597083, "creation_date": 1440589498, "last_edit_date": 1440593319, "question_id": 32225778, "link": "https://stackoverflow.com/questions/32225778/string-to-split-a-complicated-string-in-perl", "closed_reason": "Duplicate", "title": "String to split a complicated string in Perl", "body": "<p>I have a string that looks something like this:</p>\n\n<pre><code>'som,ething', another, 'thin#'g', 'her,e', gggh*\n</code></pre>\n\n<p>I am trying to get it to split on the commas that are NOT in the elements, like this:</p>\n\n<pre><code>'som,ething'\nanother\n'thin#'g'\n'her,e'\ngggh*\n</code></pre>\n\n<p>I am using <code>parse_line(q{,}, 1, $string)</code> but it seems to fail when the string has single quotes in it. Is there something I'm missing?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440621618, "post_id": 32225342, "comment_id": 52354877, "body": "You could probably get away without escaping the apostrophes and backticks."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440621822, "post_id": 32225342, "comment_id": 52354984, "body": "@JimDavis yes, I could but it was mere copy/paste."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1440590905, "last_edit_date": 1440590905, "creation_date": 1440588282, "answer_id": 32225342, "question_id": 32225091, "link": "https://stackoverflow.com/questions/32225091/speed-up-a-series-of-perl-pi-commands/32225342#32225342", "title": "Speed up a series of perl -pi commands", "body": "<p>You may want to make replacements in one pass instead of ten,</p>\n\n<p>script.pl</p>\n\n<hr>\n\n<pre><code>  s/\u201d/\\''/g;\n  s/\u201c/\\`\\`/g;\n  s/,/, /g;\n  s/ ,/,/g;\n  s/ !/!/g;\n  s/\\&amp;/ and /g;\n  s/\\n/\\n\\n/g;\n  s/\\\\\\\\em/\\\\\\\\em /g;\n  s/\u2019/'/g;\n  s/\\*\\*\\*/\\\\\\\\split/g;\n</code></pre>\n\n<p>execute script,</p>\n\n<pre><code>perl -pi script.pl *.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1440591905, "creation_date": 1440591905, "answer_id": 32226635, "question_id": 32225091, "link": "https://stackoverflow.com/questions/32225091/speed-up-a-series-of-perl-pi-commands/32226635#32226635", "title": "Speed up a series of perl -pi commands", "body": "<p>Just pull all substitutions into a single line:</p>\n\n<pre><code>perl -pi -e \"s/\u201d/\\''/g; s/\u201c/\\`\\`/g; s/,/, /g; s/ ,/,/g; s/ !/!/g; s/\\&amp;/ and /g; s/\\n/\\n\\n/g; s/\\\\\\\\em/\\\\\\\\em /g; s/\u2019/'/g; s/\\*\\*\\*/\\\\\\\\split/g\" *.txt\n</code></pre>\n\n<p>Reading, writing and parsing file only once will certainly be much faster than doing it many times.</p>\n"}, {"comments": [{"owner": {"reputation": 3960, "user_id": 170243, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/egGWn.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/170243/joe"}, "edited": false, "score": 0, "creation_date": 1440665885, "post_id": 32234539, "comment_id": 52370629, "body": "Awesome - is there something odd about the join statment? I get &quot;Not enough arguments for join or string at -e line 12, at EOF BEGIN not safe after errors--compilation aborted at -e line 12.&quot; :("}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3960, "user_id": 170243, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/egGWn.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/170243/joe"}, "edited": false, "score": 0, "creation_date": 1440687285, "post_id": 32234539, "comment_id": 52385849, "body": "@Joe, Bad quoting on my part. Used <code>&#39;</code> inside of <code>perl -e&#39;...&#39;</code> without properly escaping it. Fixed"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3960, "user_id": 170243, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/egGWn.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/170243/joe"}, "edited": false, "score": 0, "creation_date": 1440687379, "post_id": 32234539, "comment_id": 52385928, "body": "By the way, I used <code>\\x27</code> and <code>&quot;</code> instead of <code>&#39;</code>, since they are far more readable than <code>&#39;\\&#39;&#39;</code> or <code>&#39;&quot;&#39;&quot;&#39;</code> that would otherwise be needed to escape <code>&#39;</code>."}, {"owner": {"reputation": 3960, "user_id": 170243, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/egGWn.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/170243/joe"}, "edited": false, "score": 0, "creation_date": 1440703476, "post_id": 32234539, "comment_id": 52395616, "body": "Excellent - always nice to learn something extra! Also - this does appear to have solved my problem! accepted. :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1440687292, "last_edit_date": 1440687292, "creation_date": 1440615241, "answer_id": 32234539, "question_id": 32225091, "link": "https://stackoverflow.com/questions/32225091/speed-up-a-series-of-perl-pi-commands/32234539#32234539", "title": "Speed up a series of perl -pi commands", "body": "<pre><code>perl -i -pe'\n   s/\u201d/\\x27\\x27/g;\n   s/\u201c/``/g;\n   s/,/, /g;\n   ...\n' *.txt\n</code></pre>\n\n<p>But, that still scans every line a million times. The following avoids that:</p>\n\n<pre><code>perl -i -pe'\n   BEGIN {\n      %tr = (\n         \"\u201d\" =&gt; \"\\x27\\x27\",\n         \"\u201c\" =&gt; \"``\",\n         \",\" =&gt; \", \",\n         ...\n      );\n      $pat = join \"|\", map quotemeta, keys(%tr);\n   }\n   s/($pat)/$tr{$1}/g;\n' *.txt\n</code></pre>\n"}], "owner": {"reputation": 3960, "user_id": 170243, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/egGWn.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/170243/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "accepted_answer_id": 32234539, "answer_count": 3, "score": 1, "last_activity_date": 1440687292, "creation_date": 1440587545, "question_id": 32225091, "link": "https://stackoverflow.com/questions/32225091/speed-up-a-series-of-perl-pi-commands", "title": "Speed up a series of perl -pi commands", "body": "<p>As part of a wider script I use a series of perl -pi commands to get rid of various artefacts and mistypings in LaTeX. </p>\n\n<p>The snippet is this: </p>\n\n<pre><code>perl -pi -e \"s/\u201d/\\''/g\" *.txt\nperl -pi -e \"s/\u201c/\\`\\`/g\" *.txt\nperl -pi -e \"s/,/, /g\" *.txt\nperl -pi -e \"s/ ,/,/g\" *.txt\nperl -pi -e \"s/ !/!/g\" *.txt\nperl -pi -e \"s/\\&amp;/ and /g\" *.txt\nperl -pi -e \"s/\\n/\\n\\n/g\" *.txt\nperl -pi -e \"s/\\\\\\\\em/\\\\\\\\em /g\" *.txt\nperl -pi -e \"s/\u2019/'/g\" *.txt\nperl -pi -e \"s/\\*\\*\\*/\\\\\\\\split/g\" *.txt\n</code></pre>\n\n<p>*.txt is about 50-80 files and this snippet takes a surprisingly long time to run - I suspect that putting the set into a proper perl script will improve the effectiveness. My question is: what method in perl has the quickest execution time for a set of simple replacements? </p>\n"}, {"tags": ["perl", "error-handling", "libreoffice"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1440589280, "post_id": 32222799, "comment_id": 52333756, "body": "If you can execute it fine as root, but not in the script, it sounds like a permission issue. Does the  user executing the script  have write permissions in the target directory and does that directory exist or is it created ? Also, note that outdir is simply &quot;pdf/&quot; which will attempt to write into pdf directory from where the script currently is, I would try setting a full path there, unless soffice somehow knows better."}, {"owner": {"reputation": 57, "user_id": 3366045, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/78102669375d49433656e590bd2ae246?s=128&d=identicon&r=PG&f=1", "display_name": "user3366045", "link": "https://stackoverflow.com/users/3366045/user3366045"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440756392, "post_id": 32222799, "comment_id": 52415599, "body": "User has the permissions to write into directory and directory already exist. I try set the full path but it doesnt help."}], "owner": {"reputation": 57, "user_id": 3366045, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/78102669375d49433656e590bd2ae246?s=128&d=identicon&r=PG&f=1", "display_name": "user3366045", "link": "https://stackoverflow.com/users/3366045/user3366045"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440581240, "creation_date": 1440581240, "question_id": 32222799, "link": "https://stackoverflow.com/questions/32222799/soffice-how-to-get-information-error", "title": "soffice how to get information error", "body": "<p>I'm trying to convert docx and xlsx files to pdf.\nI have cgi perl script on server it worked fine but now it doesnt.\nI didnt do any change.\nWhen I try:</p>\n\n<pre><code>system(\"export HOME=/tmp &amp;&amp; soffice --headless --convert-to pdf --outdir pdf/LgfpQJtC 'pdf/LgfpQJtC/example.docx'\");\nprint\"$?\";\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>19712\n</code></pre>\n\n<p>The file example exist and it's in right directory.\nBut pdf file wont create. \nWhen I run the same command as root in command line it works fine.\nI tried set full acces to directory and file but it didnt help.</p>\n\n<p>Is there any way to get more information about error?</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["xml", "perl", "xpath", "libxml2"], "answers": [{"tags": [], "owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "is_accepted": false, "score": 1, "last_activity_date": 1440578910, "creation_date": 1440578910, "answer_id": 32221971, "question_id": 32221867, "link": "https://stackoverflow.com/questions/32221867/using-libxml-and-xpath-to-find-node-with-colon-local-namespace/32221971#32221971", "title": "Using LibXML and XPath To Find Node With Colon (Local Namespace)", "body": "<p>Try the path <code>\"/Incomings/Incoming[x:Address = '$email']/@id1\"</code>. If the Perl string literal needs the escape <code>\\@id1</code>, then keep that in, i.e. <code>\"/Incomings/Incoming[x:Address = '$email']/\\@id1\"</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 517, "user_id": 151606, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a481144856d949e3e291783679358f92?s=128&d=identicon&r=PG", "display_name": "est", "link": "https://stackoverflow.com/users/151606/est"}, "edited": false, "score": 0, "creation_date": 1440592025, "post_id": 32223651, "comment_id": 52335580, "body": "Thank you for the detailed answers and showing alternatives."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1440587516, "last_edit_date": 1440587516, "creation_date": 1440583609, "answer_id": 32223651, "question_id": 32221867, "link": "https://stackoverflow.com/questions/32221867/using-libxml-and-xpath-to-find-node-with-colon-local-namespace/32223651#32223651", "title": "Using LibXML and XPath To Find Node With Colon (Local Namespace)", "body": "<p>I think there's two problems here - first off, <code>xpath</code> expressions find nodes. You can search based on the existence and content of an attribute, but <code>findnodes</code> will give you the element, not the content. </p>\n\n<p>Secondly - you can't nest namespaces in XML. <code>x:ns2:Address</code> isn't valid. Do you actually need to register your <code>x</code> namespace there? You may not need to at all. (e.g. based on your small XML snippet). </p>\n\n<p>Can I offer an alternative option? Because you're working with <code>perl</code> you don't actually necessarily need to do everything via the xpath expression. </p>\n\n<p>I'd be perhaps thinking <code>findnodes</code> followed by <code>grep</code>:</p>\n\n<p>NB: Using XML::Twig for illustration - pretty sure something pretty similar works in XML::LibXML. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new( 'pretty_print' =&gt; 'indented_a' )-&gt;parse( \\*DATA );\n\nmy @elt_list = grep { $_-&gt;trimmed_text =~ m{fubar\\@test.com} }\n    ( $twig-&gt;findnodes('//ns2:Address') );\n\nforeach my $elt (@elt_list) {\n    print $elt -&gt; parent -&gt; att('id1');\n}\n\n\n__DATA__\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;Incomings xmlns:ns2=\"http://testme.org/foo/schema\"&gt;\n    &lt;Incoming id1=\"6bbaec22\" id2=\"928c2081\"&gt;\n        &lt;ns2:Address&gt;fubar@test.com&lt;/ns2:Address&gt;\n    &lt;/Incoming&gt;     \n&lt;/Incomings&gt;\n</code></pre>\n\n<p>I'd also note - your xpath lets you find an element - rather than an attribute - so you can select on 'elements with an <code>id1</code> attribute like this:</p>\n\n<pre><code>my @elt_list = ( $twig-&gt;findnodes(\"//ns2:Address[string()='$email']/../.[\\@id1]\") );\n\nforeach my $elt (@elt_list) {\n    print $elt -&gt; att('id1');\n}\n</code></pre>\n\n<p>Depends rather on how specific you want to be with your <code>findnodes</code> search. Based on what you've provided in that snippet, you've gone for much too complicated, and could simply do:</p>\n\n<pre><code>use XML::Twig;\n\nmy $twig = XML::Twig-&gt;parsefile('your_file.xml'); \nprint $twig -&gt; findnodes('//Incoming',0)-&gt;att('id1'),\"\\n\";\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $xml = XML::LibXML-&gt;new-&gt;parse_file( 'sample2.xml' );\nforeach my $node (  $xml -&gt; findnodes( '//Incoming' ) ) {\n   print $node -&gt;getAttribute('id1'), \"\\n\";\n} \n</code></pre>\n\n<p>Or with a bit of grepping:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $email = 'fubar@test.com';\nmy $xml = XML::LibXML-&gt;new-&gt;parse_file( 'sample2.xml' );\nforeach my $node ( grep { $_ -&gt; textContent =~ m{$email} } $xml -&gt; findnodes( '//Incoming' ) ) {\n   print $node -&gt;getAttribute('id1'), \"\\n\";\n} \n</code></pre>\n\n<p>If you particularly want to be using that <code>x</code> namespace though - this works:</p>\n\n<p></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $xml   = XML::LibXML-&gt;new-&gt;parse_file('sample2.xml');\nmy $xpc   = XML::LibXML::XPathContext-&gt;new( $xml-&gt;documentElement );\n$xpc-&gt;registerNs( 'x', 'http://testme.org/foo/schema' );\n\nmy $email = 'fubar@test.com';\nmy ( $id1 ) = map { $_ -&gt; getAttribute('id1') // () } $xpc-&gt;findnodes(\"/Incomings/Incoming/x:Address[text()='$email']/..\");\nprint $id1,\"\\n\";\n</code></pre>\n\n<p>(Also works if I mock up some XML with multiple 'Incoming' nodes to select the first with the right email address. Note <code>//</code> is perl 5.10 onwards, and is a conditional on 'defined'. You could probably substitute it with <code>||</code> on older versions, which is 'true/false' - the only places where there's differences is empty strings and zeros)</p>\n"}, {"comments": [{"owner": {"reputation": 517, "user_id": 151606, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a481144856d949e3e291783679358f92?s=128&d=identicon&r=PG", "display_name": "est", "link": "https://stackoverflow.com/users/151606/est"}, "edited": false, "score": 0, "creation_date": 1440659486, "post_id": 32231124, "comment_id": 52366944, "body": "Thanks @ikegami  - if I could accept two solutions I would&#39;ve done so as your answer here solves my original problem."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1440604009, "creation_date": 1440604009, "answer_id": 32231124, "question_id": 32221867, "link": "https://stackoverflow.com/questions/32221867/using-libxml-and-xpath-to-find-node-with-colon-local-namespace/32231124#32231124", "title": "Using LibXML and XPath To Find Node With Colon (Local Namespace)", "body": "<p>In two instances, you're searching for the element in the wrong namespaces, and in one instance. you're using two prefixes which makes no sense. Fixed:</p>\n\n<pre><code>my $email = 'fubar@test.com';\nmy $xpath = \"/Incomings/Incoming/x:Address[text()='$email']/../\\@id1\";\nmy @nodes = $xpc-&gt;findnodes($xpath);\n</code></pre>\n\n<p>I prefer to avoid using <code>..</code>. I'd use the following:</p>\n\n<pre><code>my $email = 'fubar@test.com';\nmy $xpath = \"/Incomings/Incoming[x:Address/text()='$email']/\\@id1\";\nmy @nodes = $xpc-&gt;findnodes($xpath);\n</code></pre>\n"}], "owner": {"reputation": 517, "user_id": 151606, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a481144856d949e3e291783679358f92?s=128&d=identicon&r=PG", "display_name": "est", "link": "https://stackoverflow.com/users/151606/est"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 1, "accepted_answer_id": 32223651, "answer_count": 3, "score": 1, "last_activity_date": 1440604009, "creation_date": 1440578590, "question_id": 32221867, "link": "https://stackoverflow.com/questions/32221867/using-libxml-and-xpath-to-find-node-with-colon-local-namespace", "title": "Using LibXML and XPath To Find Node With Colon (Local Namespace)", "body": "<p>I'm trying to get the attribute <code>@id1</code> from <code>&lt;Incoming&gt;</code> in the below XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;Incomings xmlns:ns2=\"http://testme.org/foo/schema\"&gt;\n    &lt;Incoming id1=\"6bbaec22\" id2=\"928c2081\"&gt;\n        &lt;ns2:Address&gt;fubar@test.com&lt;/ns2:Address&gt;\n    &lt;/Incoming&gt;\n&lt;/Incomings&gt;\n</code></pre>\n\n<p>The only information that I can pass in is the email address <code>fubar@test.com</code></p>\n\n<p>I'm using <code>XML::LibXML</code> and <code>XML::LibbXML::XPathContext</code> as below:</p>\n\n<pre><code>my $dom = XML::LibXML-&gt;new-&gt;parse_file( $xml_file );  # XML contains as above\nmy $xpc = XML::LibXML::XPathContext-&gt;new( $dom-&gt;documentElement );\n$xpc-&gt;registerNs('x', 'http://testme.org/foo/schema');\n\nmy $email = 'fubar@test.com';\nmy $xpath = \"/x:Incomings/x:Incoming/x:ns2:Address[text()='$email']/../\\@id1\";\nmy @nodes = $xpc-&gt;findnodes( $xpath );\n</code></pre>\n\n<p>But it always gives me an invalid expression in <code>$xpath</code> around the <em>ns2:Address</em>.</p>\n\n<p>What mistake did I make above? If the node name is only <code>&lt;Address&gt;</code> then removing the <em>ns2:</em> from my <code>$xpath</code> statement giving me the correct values in <code>@nodes</code>.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["html", "perl", "html-parsing", "www-mechanize"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440579879, "post_id": 32221808, "comment_id": 52327385, "body": "so what exactly happens for what input and what would you like to happen? Also, note that find_all_links returns WWW::Mechanize::Link objects, see <a href=\"http://search.cpan.org/~ether/WWW-Mechanize-1.75/lib/WWW/Mechanize.pm#$mech-%3Efind_all_links%28_..._%29\" rel=\"nofollow noreferrer\">search.cpan.org/~ether/WWW-Mechanize-1.75/lib/WWW/&hellip;</a>"}, {"owner": {"reputation": 5, "user_id": 979960, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e19db91e0fc611ecc5f49bdbc5b716ed?s=128&d=identicon&r=PG", "display_name": "ostapv", "link": "https://stackoverflow.com/users/979960/ostapv"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440580948, "post_id": 32221808, "comment_id": 52328128, "body": "yes, I got  all links (with grey, green and red colors).  I would like to get only grey links. How I can do it ?"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440584248, "post_id": 32221808, "comment_id": 52330453, "body": "Ok, got the question now. Well, the links are within the td, so using find_all_links, the information you need to do that is lost the way I see it. You have to first get all the right td&#39;s then get all links contained within. I have always used Mechanize + TreeBuilder, so not sure how to use HTML::Parser to that effect, so I suggest re-wording your question so someone who knows it better can see more clearly what you want. Also, consider installing TreeBuilder locally with local::lib."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1440594471, "post_id": 32221808, "comment_id": 52337531, "body": "<a href=\"http://www.perlmonks.org/?node=693828\" rel=\"nofollow noreferrer\">perlmonks.org/?node=693828</a>"}, {"owner": {"reputation": 5, "user_id": 979960, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e19db91e0fc611ecc5f49bdbc5b716ed?s=128&d=identicon&r=PG", "display_name": "ostapv", "link": "https://stackoverflow.com/users/979960/ostapv"}, "edited": false, "score": 0, "creation_date": 1440607714, "post_id": 32221808, "comment_id": 52346979, "body": "Have found solution:"}], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 979960, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e19db91e0fc611ecc5f49bdbc5b716ed?s=128&d=identicon&r=PG", "display_name": "ostapv", "link": "https://stackoverflow.com/users/979960/ostapv"}, "is_accepted": false, "score": 0, "last_activity_date": 1440607786, "creation_date": 1440607786, "answer_id": 32232294, "question_id": 32221808, "link": "https://stackoverflow.com/questions/32221808/how-to-parse-content-with-htmlparser/32232294#32232294", "title": "How to parse content with HTML::Parser", "body": "<pre><code>    Have found solution:\n\n\n\n my $webpage = {\n        username    =&gt;  'xx',\n        password    =&gt;  'xx',\n        url         =&gt;  'xx',\n        form_name   =&gt;  'loginform',\n        regex       =&gt;  qr/data-highlight-colour=\"grey\"&gt;&lt;a\\s+href=\"/xsm,\n    };\n\n    my @links = $mech-&gt;find_all_links(text_regex =&gt; qr/client_update_urls/i);\n        my @raw_content = $mech-&gt;response()-&gt;content();\n\n        my @prod_urls;\n        foreach my $line (@raw_content) {\n            foreach my $link (@links) {\n                my $url = $link-&gt;url();\n                if ($line !~ /$webpage-&gt;{regex}$url/xsm) {\n                    push @prod_urls, $url;\n                }\n            }\n        }\n\n        for (@prod_urls) {print \"$_\\n\"}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 979960, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e19db91e0fc611ecc5f49bdbc5b716ed?s=128&d=identicon&r=PG", "display_name": "ostapv", "link": "https://stackoverflow.com/users/979960/ostapv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440607786, "creation_date": 1440578439, "last_edit_date": 1440594363, "question_id": 32221808, "link": "https://stackoverflow.com/questions/32221808/how-to-parse-content-with-htmlparser", "title": "How to parse content with HTML::Parser", "body": "<p>I have web page with different URL's.<br>\nI created script to get URL's from page through <code>WWW::Mechanize</code> Perl module.</p>\n\n<pre><code>my @links = $mech-&gt;find_all_links( text_regex =&gt; qr/client_update/i  );\n   foreach (@links) {\n        push (@new_arr, $_-&gt;url() ,\"\\n\");\n      }\n</code></pre>\n\n<p>Now I should get only grey color URL's, check tag-name with attribute and value: <strong></strong></p>\n\n<pre><code>&lt;td class=\"highlight-grey\" data-highlight-colour=\"**grey**\"&gt;&lt;a href=\"http://cache.download.it/download/soker/client_update.php\"&gt;cache.download.it/download/soker/client_update.php&lt;/a&gt;&lt;/td&gt;\n</code></pre>\n\n<p>BTW, I don't have possibility to install modules like \"HTML::TreeBuilder\" for my task.</p>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 1080, "user_id": 5166249, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-WzuHmMgRjOk/AAAAAAAAAAI/AAAAAAAAANM/KmLSxYcVElE/photo.jpg?sz=128", "display_name": "Penny", "link": "https://stackoverflow.com/users/5166249/penny"}, "edited": false, "score": 0, "creation_date": 1440572935, "post_id": 32219489, "comment_id": 52323207, "body": "My question doesn&#39;t have an answer from the question showed above, because clearly the module has been installed in my computer. It&#39;s just the @INC path seem to be weird and can&#39;t find the module."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1440578104, "post_id": 32219489, "comment_id": 52326270, "body": "What would make this easier to resolve: <code>use Data::Dumper; print Dumper \\%INC</code>. A perl version (e.g. is it 5.18?). Output of <code>which cpan</code> and <code>which perl</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440598797, "post_id": 32219489, "comment_id": 52340870, "body": "&quot;when I checked my library folder, the perl5 folder is not there, as it was suggested by the @INC path. Instead, Perl5 folder is in my user folder&quot; This sounds like you configured cpan to <a href=\"https://metacpan.org/pod/CPAN#pod5\" rel=\"nofollow noreferrer\">bootstrap local::lib</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440583375, "post_id": 32222675, "comment_id": 52329845, "body": "I would still find out what is wrong first. I had a similar problem with a messed up perlbrew installation, and simply setting the path may not solve all problems, this unexpected &#39;/library&#39; path may hint at other problems. Do what Sobrique said and figure out what is wrong."}, {"owner": {"reputation": 1080, "user_id": 5166249, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-WzuHmMgRjOk/AAAAAAAAAAI/AAAAAAAAANM/KmLSxYcVElE/photo.jpg?sz=128", "display_name": "Penny", "link": "https://stackoverflow.com/users/5166249/penny"}, "edited": false, "score": 0, "creation_date": 1440902867, "post_id": 32222675, "comment_id": 52462617, "body": "Thank you guys for the help! I will try it out!"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1440580880, "last_edit_date": 1495540331, "creation_date": 1440580880, "answer_id": 32222675, "question_id": 32219489, "link": "https://stackoverflow.com/questions/32219489/installed-module-not-contained-in-the-perls-inc-path/32222675#32222675", "title": "Installed Module not contained in the Perl&#39;s @INC path", "body": "<p>Make sure the @INC contains the path where your modules are getting installed. You can specify that by</p>\n\n<p><code>export PERL5LIB=/home/foobar/code</code> (For Linux) (Add this to ~/.bashrc to make it always available when you log-in.)</p>\n\n<p><code>set PERL5LIB = c:\\path\\to\\dir</code> (For Windows)</p>\n\n<hr>\n\n<p>Also see:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/185114/how-do-i-use-a-perl-module-in-a-directory-not-in-inc\">How do I &#39;use&#39; a Perl module in a directory not in @INC?</a></p></li>\n<li><p><a href=\"http://perlmaven.com/how-to-change-inc-to-find-perl-modules-in-non-standard-locations\" rel=\"nofollow noreferrer\">How to change @INC to find Perl modules in non-standard locations</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 1653790, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1a8d9249c35aba652de3942cb96bff16?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/1653790/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1440624713, "creation_date": 1440624713, "answer_id": 32237057, "question_id": 32219489, "link": "https://stackoverflow.com/questions/32219489/installed-module-not-contained-in-the-perls-inc-path/32237057#32237057", "title": "Installed Module not contained in the Perl&#39;s @INC path", "body": "<p>At the very top of your perl code right after <strong>#!/usr/bin/perl</strong></p>\n\n<pre><code>BEGIN\n{\npush(@INC, '/home/penny/perlModules');\n}\nuse my::module;\nuse File::Path;\n...\n</code></pre>\n\n<p>This will allow your code to use any module you've installed in perlModules dir.</p>\n\n<p>Downside is you have to modify code. Or you can use PERL5LIB env path as answered above.</p>\n"}], "owner": {"reputation": 1080, "user_id": 5166249, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-WzuHmMgRjOk/AAAAAAAAAAI/AAAAAAAAANM/KmLSxYcVElE/photo.jpg?sz=128", "display_name": "Penny", "link": "https://stackoverflow.com/users/5166249/penny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4436, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1440624713, "creation_date": 1440570757, "last_edit_date": 1440573271, "question_id": 32219489, "link": "https://stackoverflow.com/questions/32219489/installed-module-not-contained-in-the-perls-inc-path", "title": "Installed Module not contained in the Perl&#39;s @INC path", "body": "<p>I have an issue on including the Excel-Writer-XLSX module in the @INC path. I did some research before posting this question and tried several solutions, but they all failed. <br><br>\nSo I did </p>\n\n<pre><code>$sudo perl -MCPAN -e 'install Excel::Writer::XLSX'\n</code></pre>\n\n<p>But after I run the code, I got this message </p>\n\n<pre><code>--can't locate Excel/Writer/XLSX.pm in @INC(you may need to install the Excel::Writer::XLSX module) (@INC contains: /Library/Perl/5.18/darwin-thread-multi-2level/...)\n</code></pre>\n\n<p>This is not a duplicate question, because the Excel::Writer::XLSX module has been successfully installed in my computer and I don't need to install it again. The thing is when I checked my library folder, the perl5 folder is not there, as it was suggested by the @INC path. Instead, Perl5 folder is in my user folder...and actually the module can be found in the lib folder inside the perl5 folder<br><br>\nI'm not quite sure what is happening...Why the @INC path shows the perl/5.18 is inside the library folder? If you know how to solve this issue, please advice. Thank you so much! </p>\n"}, {"tags": ["perl", "perl-module", "netldap"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1440570301, "post_id": 32219284, "comment_id": 52321830, "body": "Please share the error message."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 1, "last_activity_date": 1440581970, "creation_date": 1440581970, "answer_id": 32223065, "question_id": 32219284, "link": "https://stackoverflow.com/questions/32219284/using-netldaps-with-netldapcontrolpaged/32223065#32223065", "title": "using Net::LDAPs with Net::LDAP::Control::Paged", "body": "<blockquote>\n  <p>The error message I get is: Undefined subroutine &amp;main::process_entry\n  called at /usr/local/share/perl/5.20.2/Net/LDAP/Search.pm line 55,\n  line 755</p>\n</blockquote>\n\n<p>You have written <code>process_entry</code> as a callback but you didn't write that subroutine. That's why you are getting the above error. </p>\n"}], "owner": {"reputation": 23, "user_id": 3579221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4813ff9dfe099de2cfab73b9f217b268?s=128&d=identicon&r=PG&f=1", "display_name": "FreedomByFire", "link": "https://stackoverflow.com/users/3579221/freedombyfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "accepted_answer_id": 32223065, "answer_count": 1, "score": 1, "last_activity_date": 1440581970, "creation_date": 1440570002, "last_edit_date": 1440570674, "question_id": 32219284, "link": "https://stackoverflow.com/questions/32219284/using-netldaps-with-netldapcontrolpaged", "title": "using Net::LDAPs with Net::LDAP::Control::Paged", "body": "<p>I'm trying to use Net::LDAPs with Net::LDAP::CONTROL::PAGED to return many records via a privlidged bind, but so far I have failed, miserably. I've used this Net::LDAPs extensively in the past, but I've never been able to find any documentation suggesting that it is compatible with Net::LDAP:Control::Paged. Everything I find is related to Net::LDAP. </p>\n\n<p>The error message I get is: Undefined subroutine &amp;main::process_entry called at /usr/local/share/perl/5.20.2/Net/LDAP/Search.pm line 55,  line 755</p>\n\n<p>Here is my code:</p>\n\n<pre><code>sub Ldap636{\n    my ($filter) = $_[0];\n    my $USERNAME = 'username';\n    my $PASSWORD = 'password';\n    my $LDAP_SERVER = 'directory.domain.edu';\n    my $LDAP_SSL_PORT = '636';\n    my $LDAP_BASE = 'ou=people,dc=domain,dc=edu';\n    my $userDN = \"uid=$USERNAME,ou=identities,ou=special,dc=domain,dc=edu\";\n\n    my $ldap = Net::LDAPS-&gt;new($LDAP_SERVER, port =&gt; $LDAP_SSL_PORT) or die \"Could not create LDAP object because:\\n$!\";\n\n    my $ldapMsg = $ldap-&gt;bind($userDN, password =&gt; $PASSWORD);\n    die $ldapMsg-&gt;error if $ldapMsg-&gt;is_error;\n\n    my $page = Net::LDAP::Control::Paged-&gt;new( size =&gt; 100 );      \n\n    @args = (base =&gt; \"$LDAP_BASE\",\n            callback =&gt; \\&amp;process_entry,\n            filter =&gt; $filter,\n            control  =&gt; [ $page ],\n    );\n\n    my $cookie;\n    while (1) {\n            my $result = $ldap-&gt;search(@args);\n            \"LDAP error: server says \",$result-&gt;error,\"\\n\" if $result-&gt;code;\n\n            foreach my $entry ($result-&gt;entries ) {\n                    my $cn   = $entry-&gt;get_value('cn');\n                    my $desc = $entry-&gt;get_value('description');\n                    print \"$cn - $desc\\n\";\n            }\n\n            # Get cookie from paged control\n            my($resp)  = $result-&gt;control( LDAP_CONTROL_PAGED )  or last;\n            $cookie    = $resp-&gt;cookie or last;\n\n\n            $page-&gt;cookie($cookie);\n    }\n\n    $ldap-&gt;unbind;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1440560995, "post_id": 32217252, "comment_id": 52318792, "body": "What do you want to do with these values once you have extracted them"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440604183, "post_id": 32217252, "comment_id": 52344824, "body": "It doesn&#39;t look like you&#39;ve made an attempt to solve this problem yourself. You&#39;ll usually get better feedback if you at least make an effort, rather than just asking people to come up with the entire solution for you."}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 2, "last_activity_date": 1440561974, "last_edit_date": 1440561974, "creation_date": 1440561425, "answer_id": 32217748, "question_id": 32217252, "link": "https://stackoverflow.com/questions/32217252/extract-specific-data-from-multiple-text-files-in-a-directory/32217748#32217748", "title": "Extract specific data from multiple text files in a directory", "body": "<p>Try this</p>\n\n<p>Use <code>glob</code> to read the directory</p>\n\n<pre><code>while (my $files = glob(\" D:\\Files\\Folder1\\*\"))\n{\n    open my $handler,\"&lt;\",\"$files\";\n    my @extract = grep{ m/^(MicronMarker|PixelSize)/g} &lt;$handler&gt;;  \n    print @extract;\n}\n</code></pre>\n\n<p>Extract the word from a file using the <code>while loop</code> by <code>opendir</code>.</p>\n\n<pre><code>opendir(my $dir, \" D:\\Files\\Folder1\");\n\nwhile (my $ech = readdir($dir))\n{\n    open my $handler,\"&lt;\",\"test/$ech\";\n    while(my $l = &lt;$handler&gt;)\n    {\n        if($l =~m/^(?:MicronMarker|PixelSize)/g)\n        {\n            print \"$l\";\n\n        }\n\n    }\n    close ($handler);\n}\n</code></pre>\n\n<p>This is easy way to extract a words from a file using <code>grep</code></p>\n\n<pre><code>while (my $ech = readdir($dir))\n{\n    open my $handler,\"&lt;\",\"test/$ech\";\n    my @extract = grep{ m/^(MicronMarker|PixelSize)/g} &lt;$handler&gt;;\n    print @extract;\n    close($handler);\n}\n</code></pre>\n"}], "owner": {"reputation": 1517, "user_id": 3191909, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0b93ce4e73b7dc3c7f14567ac4255ac1?s=128&d=identicon&r=PG&f=1", "display_name": "XXDebugger", "link": "https://stackoverflow.com/users/3191909/xxdebugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440561974, "creation_date": 1440557495, "question_id": 32217252, "link": "https://stackoverflow.com/questions/32217252/extract-specific-data-from-multiple-text-files-in-a-directory", "title": "Extract specific data from multiple text files in a directory", "body": "<p>This is my first program in perl.\nI have more than 1000 files and I want to extract specific data from a file. The structure of all the files are same.\nIts really difficult to open every file and then copy a specific data,</p>\n\n<p>How can I achieve this using perl.</p>\n\n<p>The structure looks like this.</p>\n\n<pre><code>    LensMode=Normal\n    MicronMarker=500\n    DataDisplayCombine=1\n    Voltage=0 Volt\n    PixelSize=1.586612\n</code></pre>\n\n<p>I want to extract MicronMarker and PixelSize from each file.\nAny help in the right direction is appreciated.</p>\n\n<p>the location is D:\\Files\\Folder1</p>\n"}, {"tags": ["regex", "perl", "sed", "email-address"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 0, "last_activity_date": 1440559487, "last_edit_date": 1440559487, "creation_date": 1440557851, "answer_id": 32217294, "question_id": 32217130, "link": "https://stackoverflow.com/questions/32217130/remove-non-alpha-characters-before-a-character-from-every-line-of-a-text-file/32217294#32217294", "title": "Remove non-alpha characters before a character from every line of a text file", "body": "<p><strong>Input</strong></p>\n\n<pre><code>13foobar@example.com\nfoo.bar3@example2.com\nqwerty-1@dept.example3.com\n</code></pre>\n\n<p><strong>Perl one-liner</strong></p>\n\n<pre><code>perl -ne 'my ($user,$host) = split /\\@/; $user =~ s/[\\W\\d]//g; print $user . \"@\" . $host;'\n</code></pre>\n\n<p><strong>In action</strong></p>\n\n<pre><code>cat input | perl -ne 'my ($user,$host) = split /\\@/; $user =~ s/[\\W\\d]//g; print $user . \"@\" . $host;'\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>foobar@example.com\nfoobar@example2.com\nqwerty@dept.example3.com\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440560101, "post_id": 32217303, "comment_id": 52318593, "body": "Generally speaking, this a bad approach since it&#39;s O(N^2). However, since the OP&#39;s input will be limited in length in practice, that&#39;s not relevant for him."}, {"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440560526, "post_id": 32217303, "comment_id": 52318697, "body": "@ikegami, In general I certainly agree, but for this case it would be alright."}], "tags": [], "owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "is_accepted": false, "score": 1, "last_activity_date": 1440557935, "creation_date": 1440557935, "answer_id": 32217303, "question_id": 32217130, "link": "https://stackoverflow.com/questions/32217130/remove-non-alpha-characters-before-a-character-from-every-line-of-a-text-file/32217303#32217303", "title": "Remove non-alpha characters before a character from every line of a text file", "body": "<p>The following one-liner should suffice.</p>\n\n<pre><code>perl -pe 's/[^a-z]+(?=[^@\\n]*@)//g'\n</code></pre>\n"}], "owner": {"reputation": 152, "user_id": 3998705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/703599576/picture?type=large", "display_name": "user254173", "link": "https://stackoverflow.com/users/3998705/user254173"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 32217294, "answer_count": 2, "score": -1, "last_activity_date": 1440568761, "creation_date": 1440556772, "last_edit_date": 1440568761, "question_id": 32217130, "link": "https://stackoverflow.com/questions/32217130/remove-non-alpha-characters-before-a-character-from-every-line-of-a-text-file", "title": "Remove non-alpha characters before a character from every line of a text file", "body": "<p>I have a text file that looks like this:</p>\n\n<pre><code>13foobar@example.com\nfoo.bar3@example2.com\nqwerty-1@dept.example3.com\n</code></pre>\n\n<p>How can I use <strong>sed</strong> or <strong>perl</strong> to remove all non-alpha characters before the @ sign. I.e. the desired output would be:</p>\n\n<pre><code>foobar@example.com\nfoobar@example2.com\nqwerty@dept.example3.com\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "edited": false, "score": 0, "creation_date": 1440550713, "post_id": 32215702, "comment_id": 52316511, "body": "I don&#39;t understand why so many downvotes. there are both code sample and example and it&#39;s a programming question about regular expression."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440550737, "post_id": 32215702, "comment_id": 52316516, "body": "<code>my $regex   = qr&#47;\\[$key\\][^\\[]+&#47;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440550830, "post_id": 32215702, "comment_id": 52316546, "body": "I suspect the issue is that you should know not to process standard config files using regex patterns. You should also avoid avoid reading an entire file into memory unless you need to, and using <code>$&amp;</code> is very inefficient except on more recent versions of Perl"}, {"owner": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440551012, "post_id": 32215702, "comment_id": 52316589, "body": "that works. Thank you! what do you suggest if the format of this config cannot be changed? @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440551059, "post_id": 32215702, "comment_id": 52316598, "body": "I&#39;m not sure what you mean. Why would you need to change it?"}, {"owner": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440551316, "post_id": 32215702, "comment_id": 52316664, "body": "@Borodin you mentioned &quot;not to process standard config files using regex patterns&quot;. what do you suggest given this format of the config? and do you mind submit an answer about what the perl function should be?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1440551729, "post_id": 32215702, "comment_id": 52316745, "body": "Okay, what I meant was that you have a standard config file there, and there are <a href=\"http://search.cpan.org/search?m=module&amp;q=config+ini&amp;s=11\" rel=\"nofollow noreferrer\">ridiculously many modules on CPAN</a> that deal with such files. <a href=\"http://stackoverflow.com/a/32216207/622310\"><b>stevieb&#39;s</b> solution</a> using <a href=\"https://metacpan.org/pod/Config::Tiny\" rel=\"nofollow noreferrer\"><code>Config::Tiny</code></a> is quite adequate. It is very easy to write something using regex patterns that mostly works but lets you down when it most matters"}, {"owner": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440551940, "post_id": 32215702, "comment_id": 52316785, "body": "@Borodin got it. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "edited": false, "score": 0, "creation_date": 1440546464, "post_id": 32215802, "comment_id": 52315444, "body": "I added more explanation. any questions now?"}, {"owner": {"reputation": 1806, "user_id": 495011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/dc671b7fcc7a199bdd1f46acea329d7c?s=128&d=identicon&r=PG", "display_name": "Eder", "link": "https://stackoverflow.com/users/495011/eder"}, "reply_to_user": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "edited": false, "score": 0, "creation_date": 1440546589, "post_id": 32215802, "comment_id": 52315483, "body": "Then use the following pattern <b>/(?:&#91;?(?:foo|bar|goo)&#93;?(?:\\d\\=\\d)?)/g</b>, take a look at: <a href=\"https://regex101.com/r/qC5zT7/1\" rel=\"nofollow noreferrer\">regex101.com/r/qC5zT7/1</a>"}, {"owner": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "edited": false, "score": 0, "creation_date": 1440546765, "post_id": 32215802, "comment_id": 52315539, "body": "foo, bar or goo is the parameter to the regex, each time given the parameter, the regex function will return the list. more questions?"}, {"owner": {"reputation": 1806, "user_id": 495011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/dc671b7fcc7a199bdd1f46acea329d7c?s=128&d=identicon&r=PG", "display_name": "Eder", "link": "https://stackoverflow.com/users/495011/eder"}, "reply_to_user": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "edited": false, "score": 0, "creation_date": 1440548856, "post_id": 32215802, "comment_id": 52316088, "body": "@qqibrow: Please take a look at the update on the answer."}], "tags": [], "owner": {"reputation": 1806, "user_id": 495011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/dc671b7fcc7a199bdd1f46acea329d7c?s=128&d=identicon&r=PG", "display_name": "Eder", "link": "https://stackoverflow.com/users/495011/eder"}, "is_accepted": false, "score": -1, "last_activity_date": 1440606037, "last_edit_date": 1440606037, "creation_date": 1440545894, "answer_id": 32215802, "question_id": 32215702, "link": "https://stackoverflow.com/questions/32215702/how-to-match-the-end-part-in-text-using-regex/32215802#32215802", "title": "how to match the end part in text using regex", "body": "<p>I did not understand your question, however, you can try one of the following patterns in order to achieve your requirements:</p>\n\n<ul>\n<li><code>/(?:\\[?(?:foo|bar)\\]?(?:\\d\\=\\d)?)/g</code> will match both <strong>foo</strong> &amp; <strong>bar</strong> (included the properties)</li>\n<li><code>/(?:\\[?foo\\]?(?:\\d\\=\\d)?)/g</code> will only match <strong>foo</strong> including it's properties.</li>\n<li><code>/(?:\\[?foo\\]?(?:\\d\\=\\d)?|\\[bar\\])/g</code> will match <strong>foo</strong> including it's properties and <strong>bar</strong></li>\n</ul>\n\n<h2>Update #1</h2>\n\n<p>Use the following pattern: <code>/(\\[(?:foo|bar|goo)\\](?:(?!\\[(?:foo|bar|goo)\\])[\\s\\S])*)/g</code></p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440551366, "post_id": 32216207, "comment_id": 52316675, "body": "I think you should have stuck with your <code>Config::Tiny</code> solution. The alternative assumes a lot about the data that we can&#39;t be sure of"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440551659, "post_id": 32216207, "comment_id": 52316732, "body": "Agreed, fixed. Thanks Borodin."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440552134, "post_id": 32216207, "comment_id": 52316827, "body": "Of course <code>Config::Tiny</code> will make some similar assumptions, but at least it&#39;s someone else&#39;s fault!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440552332, "post_id": 32216207, "comment_id": 52316884, "body": "LOL. Yes, I agree. I was just trying to fit with the OP&#39;s regex desire, but most of the time we&#39;re dealing with an XY Problem anyhow. <code>Config::Tiny</code> is clearly the obvious choice unless there&#39;s some compelling reason to re-invent the wheel here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440553088, "post_id": 32216207, "comment_id": 52317047, "body": "Yes, I appreciate what you were aiming for, and the guts of the module probably looks similar. It&#39;s also worth considering the scenario where the OP is unable to install modules on their system, whether that is through a prohibition, a lack of skill, or a shortage of imagination. For some reason there are a surprising number of people in that situation, and a homebrew solution is the only option because as far as I know there are no core config modules. I have advocated copying module code and passing it off as the programmer&#39;s own, but I don&#39;t think anyone has taken up my suggestion"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 5, "last_activity_date": 1440567796, "last_edit_date": 1440567796, "creation_date": 1440549097, "answer_id": 32216207, "question_id": 32215702, "link": "https://stackoverflow.com/questions/32215702/how-to-match-the-end-part-in-text-using-regex/32216207#32216207", "title": "how to match the end part in text using regex", "body": "<p>Not a regex, but Perl's <a href=\"http://search.cpan.org/~rsavage/Config-Tiny-2.22/lib/Config/Tiny.pm\" rel=\"nofollow\"><code>Config::Tiny</code></a> is perfect for reading (and writing) these \"ini\" types of files.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Config::Tiny;\n\nmy $conf = Config::Tiny-&gt;read('data.txt');\n\nprint \"$conf-&gt;{bar}{bar2}\\n\";\n</code></pre>\n"}], "owner": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1440564866, "accepted_answer_id": 32216207, "answer_count": 2, "score": -4, "last_activity_date": 1440606037, "creation_date": 1440545097, "last_edit_date": 1440557594, "question_id": 32215702, "link": "https://stackoverflow.com/questions/32215702/how-to-match-the-end-part-in-text-using-regex", "closed_reason": "Needs details or clarity", "title": "how to match the end part in text using regex", "body": "<p>I have text file format like below:</p>\n\n<pre><code>[foo]\nfoo1=1\nfoo2=2\n\n[goo]\ngoo1=1\ngoo2=2\n\n[bar]\nbar1=1\nbar2=2\n</code></pre>\n\n<p>The goal is to extract the whole list out given the header name. For example, given the header name <code>foo</code>, using regex <code>\\[foo\\](?:.|\\s)+?\\[</code> I can extract foo and its following list. given <code>goo</code> and regex <code>\\[goo\\](?:.|\\s)+?\\[</code> I can extrct <code>goo</code> and its list. like <a href=\"https://regex101.com/r/yU7bX1/2\" rel=\"nofollow\">shown in regex101 </a></p>\n\n<p>perl implementation:</p>\n\n<pre><code>sub getListOfSettingFromKey {\n    my $key  = shift;\n    my $text = shift;\n    my $pattern = \"\\\\[$key\\\\](?:.|\\\\s)+?\\\\[\";\n    my $regex   = qr/$pattern/;\n    if ($text =~ $regex) {\n        return $&amp;;\n    }\n    return \"\";\n}\n</code></pre>\n\n<p>However, this way apply to all but the last part, <code>bar</code> in this example since there is no match <code>[</code> at the end. then how to match the last part? </p>\n"}, {"tags": ["regex", "perl", "match"], "answers": [{"tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": false, "score": 3, "last_activity_date": 1440537919, "creation_date": 1440537919, "answer_id": 32214380, "question_id": 32214097, "link": "https://stackoverflow.com/questions/32214097/perl-match-single-occurence-pattern-in-string/32214380#32214380", "title": "perl match single occurence pattern in string", "body": "<p>How about this?</p>\n\n<pre><code>for my $name (@list) {\n    my $ones = () = $name =~ /$one/gi;\n    my $twos = () = $name =~ /$two/gi;\n    if ($ones == 1 &amp;&amp; $twos == 1) {\n        print $name;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "is_accepted": false, "score": 0, "last_activity_date": 1440542742, "last_edit_date": 1440542742, "creation_date": 1440541935, "answer_id": 32215176, "question_id": 32214097, "link": "https://stackoverflow.com/questions/32214097/perl-match-single-occurence-pattern-in-string/32215176#32215176", "title": "perl match single occurence pattern in string", "body": "<pre><code>#!/usr/bin/env perl\n#\n# test.pl is the name of this script\n\nuse warnings;\nuse strict;\n\nmy %char = map {$_ =&gt; 1} grep {/[a-z]/} map {lc($_)} split //, join '', @ARGV;\nmy @chars = sort keys %char;  # the different characters appearing in the command line arguments\n\nwhile (my $line = &lt;STDIN&gt;)\n{\n  grep {$_ &lt;=&gt; 1} map {scalar(() = $line =~ /$_/ig )} @chars\n    or print $line;\n}\n</code></pre>\n\n<p>Now:</p>\n\n<ul>\n<li><code>echo hello world | test.pl fw</code> will print nothing (<code>w</code> occurs exactly once in <code>hello world</code>, but <code>f</code> does not)</li>\n<li><code>echo hello world | test.pl hw</code> will print a line consisting of <code>hello world</code> (both <code>h</code> and <code>w</code> occur exactly once).</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": -1, "last_activity_date": 1440550489, "last_edit_date": 1440550489, "creation_date": 1440543925, "answer_id": 32215513, "question_id": 32214097, "link": "https://stackoverflow.com/questions/32214097/perl-match-single-occurence-pattern-in-string/32215513#32215513", "title": "perl match single occurence pattern in string", "body": "<p>This is my solution. You don't make it clear whether there will always be just two single-character strings to match but I have assumed that there may be more</p>\n\n<p>Unfortunately the classical way of counting occurrences of a character -- <code>tr///</code> -- doesn't interpolate variables into its <em>searchlist</em> and doesn't have a case-independent modifier <code>/i</code>. But the pattern-match operator <code>m//</code> does, so that is what I have used</p>\n\n<p>I thoroughly dislike the so-called <em>goatse</em> operator, but there isn't a neater way that I know of that allows you to count the number of times a global regex pattern matches</p>\n\n<p>I could have used a <code>grep</code> for the inner loop, but I went for a regular <code>for</code> loop and a <code>next</code> with a label as I believe it's more readable this way</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse v5.10.1;\nuse autodie;\n\nmy @list = do {\n    open my $fh, '&lt;', 'names.txt';\n    &lt;$fh&gt;;\n};\nchomp @list;\n\nmy ($one, $two) = qw/ A O /;\n\nNAME:\nfor my $name ( @list ) {\n\n    for ( $one, $two) {\n        my $count = () = $name =~ /$_/gi;\n        next NAME unless $count == 1;\n    }\n\n    say $name;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Gallio\nTekoa\nAchbor\nClopas\n</code></pre>\n\n<h3>This is the input that I used</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Abdi\nChelal\nJucal\nHusham\nGallio\nPileser\nTekoa\nKenaz\nRaphah\nTiras\nJehudi\nBildad\nShemidah\nMeshillemoth\nTabeel\nAchbor\nJesus\nOsee\nElnaam\nRephah\nAsaiah\nEr\nClopas\nPenuel\nShema\nMarsena\nJaare\nJoseph\nShamariah\nLevi\nAphses\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 5196055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vMn4t.png?s=128&g=1", "display_name": "Aaron Baugher", "link": "https://stackoverflow.com/users/5196055/aaron-baugher"}, "is_accepted": false, "score": 0, "last_activity_date": 1440556800, "creation_date": 1440556800, "answer_id": 32217135, "question_id": 32214097, "link": "https://stackoverflow.com/questions/32214097/perl-match-single-occurence-pattern-in-string/32217135#32217135", "title": "perl match single occurence pattern in string", "body": "<p>One way to get it all into a single regex is to use an expression within the regex pattern to search for the other letter (a or o) based on which one was found first:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse 5.010; use strict; use warnings;\n\nwhile(&lt;DATA&gt;){\n    chomp;\n    say if m/^                       \n    [^ao]*                                   # anything but a or o            \n   ([ao])                                    # an 'a' or 'o'\n    [^ao]*                                   # anything but a or o            \n   (??{($1 and lc($1) eq 'a') ? 'o' : 'a'})  # the other 'a' or 'o'\n    [^ao]* $/xi;                             # anything but a or o\n}\n\n__DATA__\nAbdi\nChelal\nJucal\nHusham\nGallio\nPileser\nTekoa\nKenaz\nRaphah\n</code></pre>\n\n<p>See the perlre section on Extended Expressions for more info.</p>\n"}], "owner": {"reputation": 181, "user_id": 4180345, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd5766ada96891ff3478f96ff856bc4b?s=128&d=identicon&r=PG&f=1", "display_name": "chris202 ", "link": "https://stackoverflow.com/users/4180345/chris202"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 32215513, "answer_count": 4, "score": 0, "last_activity_date": 1440556800, "creation_date": 1440536823, "question_id": 32214097, "link": "https://stackoverflow.com/questions/32214097/perl-match-single-occurence-pattern-in-string", "title": "perl match single occurence pattern in string", "body": "<p>I have a list of names and I want to look for names containing two given letters asigned using variables.</p>\n\n<pre><code>$one = \"A\";\n$two = \"O\";\n</code></pre>\n\n<p>Please note that I want those letters to be present anywhere in the checked names, so that I can get outputs like this:</p>\n\n<pre><code>Jason\nDamon\nAmo\nNoma\nBoam\n...\n</code></pre>\n\n<p>But each letter must only be present once per name, meaning that this wouldn't work.</p>\n\n<pre><code>Alamo\n</code></pre>\n\n<p>I've tried this bit of code but it doesn't work.</p>\n\n<pre><code>foreach my $name (@list) {\nif ($name =~ /$one/) {\n    if ($name =~ /$two/) { \n            print $name;\n    }}\n\nelse {next}; } \n</code></pre>\n"}, {"tags": ["vba", "perl"], "comments": [{"owner": {"reputation": 9812, "user_id": 1345535, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b62063f3b5bf78c24c71085aca077e2e?s=128&d=identicon&r=PG", "display_name": "David W", "link": "https://stackoverflow.com/users/1345535/david-w"}, "edited": false, "score": 0, "creation_date": 1440535678, "post_id": 32213550, "comment_id": 52311350, "body": "Could you clarify in what VB environment this is running? Inside an Office application, or perhaps in old VB6?"}], "answers": [{"comments": [{"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440536012, "post_id": 32213617, "comment_id": 52311522, "body": "Excel 2010 is the VB environment.  Thank you :)."}], "tags": [], "owner": {"reputation": 9812, "user_id": 1345535, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b62063f3b5bf78c24c71085aca077e2e?s=128&d=identicon&r=PG", "display_name": "David W", "link": "https://stackoverflow.com/users/1345535/david-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1440536251, "last_edit_date": 1440536251, "creation_date": 1440535139, "answer_id": 32213617, "question_id": 32213550, "link": "https://stackoverflow.com/questions/32213550/invoking-perl-script-via-shell-from-vba/32213617#32213617", "title": "Invoking PERL script via Shell from VBA", "body": "<p>Based on feedback from OP, the \"Shell\" statement should be adquate for invoking an external procedure. </p>\n\n<p>The issue is with the nested function. Move 'Function Chk()' such that it is at the same level in the source as any other function or sub. As declared, this is a nested function, which is not supported in VBA (or any other VB I'm aware of).</p>\n"}], "owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 32213617, "answer_count": 1, "score": 0, "last_activity_date": 1440559331, "creation_date": 1440534852, "last_edit_date": 1440559331, "question_id": 32213550, "link": "https://stackoverflow.com/questions/32213550/invoking-perl-script-via-shell-from-vba", "title": "Invoking PERL script via Shell from VBA", "body": "<p>I am hoping that the VB below will run a perl script on a directory that changes based on user input. The issue I am having is I am a syntax error when calling the perl script (in bold). Is this not the right way to call a perl from VB? Thank you :).</p>\n\n<p>VB</p>\n\n<pre><code>Private Sub CommandButton3_Click()\n\nDim MyBarCode   As String      ' Enter Barcode\nDim MyScan      As String      ' Enter ScanDate\nDim MyDirectory As String\n\nMyBarCode = Application.InputBox(\"Please enter the barcode\", \"Bar Code\", Type:=2)\nIf MyBarCode = \"False\" Then Exit Sub   'user canceled\nDo\n    MyScan = Application.InputBox(\"Please enter scan date\", \"Scan Date\", Date, Type:=2)\n    If MyScan = \"False\" Then Exit Sub   'user canceled\n    If IsDate(MyScan) Then Exit Do\n    MsgBox \"Please enter a valid date format. \", vbExclamation, \"Invalid Date Entry\"\nLoop\n\nRange(\"B20\").Value = MyBarCode\nRange(\"B21\").Value = CDate(MyScan)\n\nMyDirectory = \"N:\\1_DATA\\MicroArray\\NexusData\\\" &amp; MyBarCode &amp; \"_\" &amp; Format(CDate(MyScan), \"m-d-yyyy\") &amp; \"\\\"\n' Create nexus directory and folder\nIf Dir(MyDirectory, vbDirectory) = \"\" Then MkDir MyDirectory\n\nIf MsgBox(\"The project file has been created. \" &amp; _\n          \"Do you want to create a template for analysis now?\", _\n          vbQuestion + vbYesNo) = vbYes Then\n\n    'Write to text file\n    Open MyDirectory &amp; \"sample_descriptor.txt\" For Output As #1\n    Print #1, \"Experiment Sample\" &amp; vbTab &amp; \"Control Sample\" &amp; vbTab &amp; \"Display Name\" &amp; vbTab &amp; \"Gender\" &amp; vbTab &amp; \"Control Gender\" &amp; vbTab &amp; \"Spikein\" &amp; vbTab &amp; \"SpikeIn Location\" &amp; vbTab &amp; \"Barcode\"\n    Print #1, MyBarCode &amp; \"_532Block1.txt\" &amp; vbTab &amp; MyBarCode &amp; \"_635Block1.txt\" &amp; vbTab &amp; ActiveSheet.Range(\"B8\").Value &amp; \" \" &amp; ActiveSheet.Range(\"B9\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B10\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B5\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B11\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B12\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B20\").Value\n    Print #1, MyBarCode &amp; \"_532Block2.txt\" &amp; vbTab &amp; MyBarCode &amp; \"_635Block2.txt\" &amp; vbTab &amp; ActiveSheet.Range(\"C8\").Value &amp; \" \" &amp; ActiveSheet.Range(\"C9\").Value &amp; vbTab &amp; ActiveSheet.Range(\"C10\").Value &amp; vbTab &amp; ActiveSheet.Range(\"C5\").Value &amp; vbTab &amp; ActiveSheet.Range(\"C11\").Value &amp; vbTab &amp; ActiveSheet.Range(\"C12\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B20\").Value\n    Print #1, MyBarCode &amp; \"_532Block3.txt\" &amp; vbTab &amp; MyBarCode &amp; \"_635Block3.txt\" &amp; vbTab &amp; ActiveSheet.Range(\"D8\").Value &amp; \" \" &amp; ActiveSheet.Range(\"D9\").Value &amp; vbTab &amp; ActiveSheet.Range(\"D10\").Value &amp; vbTab &amp; ActiveSheet.Range(\"D5\").Value &amp; vbTab &amp; ActiveSheet.Range(\"D11\").Value &amp; vbTab &amp; ActiveSheet.Range(\"D12\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B20\").Value\n    Print #1, MyBarCode &amp; \"_532Block4.txt\" &amp; vbTab &amp; MyBarCode &amp; \"_635Block4.txt\" &amp; vbTab &amp; ActiveSheet.Range(\"E8\").Value &amp; \" \" &amp; ActiveSheet.Range(\"E9\").Value &amp; vbTab &amp; ActiveSheet.Range(\"E10\").Value &amp; vbTab &amp; ActiveSheet.Range(\"E5\").Value &amp; vbTab &amp; ActiveSheet.Range(\"E11\").Value &amp; vbTab &amp; ActiveSheet.Range(\"E12\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B20\").Value\n    Close #1\n\n    'Run ImaGene\n    If MsgBox(\"Please run the ImaGene analysis. \" &amp; _\n          \"and click yes after it completes to verify the spike-ins.\", _\n          vbQuestion + vbYesNo) = vbYes Then\n\n    **'Update folder structure and call perl\n    Function Chk()\n    Dim PathCrnt As String\n    Dim RetVal\n\n    PathCrnt = ActiveWorkbook.Path &amp; \"\\\" &amp; MyBarCode &amp; \"_\" &amp; MyScan\n       Chk = Shell(\"C:\\cygwin\\bin\\perl.exe C:\\cygwin\\home\\cmccabe\\get_imagene_spikein_probe_values.pl\", 1)\n       End Function\n    End If**\nElse\n    MsgBox \"Nothing has been done. \", vbExclamation, \"Goodbye!\"\nEnd If\n\nApplication.DisplayAlerts = False\nApplication.Quit\n\nEnd Function\n</code></pre>\n"}, {"tags": ["json", "perl", "sockets", "unicode", "apple-push-notifications"], "answers": [{"comments": [{"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1440535016, "post_id": 32213375, "comment_id": 52311021, "body": "I never used from_json before; but i guess it didnt decode my json the way it did before; Im getting a hash while dumping my $payload.  Sending push with token: 19c360f37681035730a26ccbdd54d50aa258b2d20326986f4265ee802c10&zwnj;&#8203;3f51 and Data: $VAR1 = &#39;HASH(0x9471ed8)&#39;; However, utf8::encode($payload-&gt;{aps}{alert}); works. So, Im doing utf8::encode twice. It works this way but a bit wired."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1440535254, "post_id": 32213375, "comment_id": 52311136, "body": "@user3360140 Did you notice the edit I made to my answer?"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 3, "last_activity_date": 1440534712, "last_edit_date": 1440534712, "creation_date": 1440534228, "answer_id": 32213375, "question_id": 32212650, "link": "https://stackoverflow.com/questions/32212650/perl-issues-while-sending-emojis-over-socket/32213375#32213375", "title": "Perl issues while sending emojis over socket", "body": "<p>You probably have to UTF-8 encode the alert in <code>$payload</code> before sending it. You can also use <a href=\"https://metacpan.org/pod/JSON#from_json\" rel=\"nofollow\"><code>from_json</code></a> instead of <code>decode_json</code> to avoid the first encoding step:</p>\n\n<pre><code>sub push {\n    my $msg = $_[1];\n\n    Logger::log(5, \"[APNS Client] Got message \".Dumper($msg));\n\n    my $pack = from_json($msg);\n    my ($token, $payload) = @{$pack};\n\n    Logger::log(5, \"Sending push with token: $token and Data: \\n\".Dumper($payload));\n\n    # UTF-8 encode before sending.\n    utf8::encode($payload-&gt;{aps}{alert});\n\n    $apns-&gt;queue_notification(\n       $token,\n       $payload\n       );\n    $apns-&gt;send_queue;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1440536903, "post_id": 32213810, "comment_id": 52311932, "body": "Thanks a lot @ikegami. Unfortunately thats the only perl apns module I found."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1440561081, "post_id": 32213810, "comment_id": 52318822, "body": "This is essentially what nwellnhof posted. I was just called away in the middle of composing mine. Note that my solution fixes the problem for all valid inputs, unlike his."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1440535829, "creation_date": 1440535829, "answer_id": 32213810, "question_id": 32212650, "link": "https://stackoverflow.com/questions/32212650/perl-issues-while-sending-emojis-over-socket/32213810#32213810", "title": "Perl issues while sending emojis over socket", "body": "<p>First of all, <code>decode_json</code> expects JSON encoded using UTF-8, so if you're starting with \"decoded\" JSON, it is proper to encode it as you did.</p>\n\n<pre><code>utf8::encode( my $json_utf8 = $json_uni );\nmy $data = decode_json($json_utf8);\n</code></pre>\n\n<p>However, it would have been simpler to use <code>from_json</code>.</p>\n\n<pre><code>my $data = from_json($json_uni);\n</code></pre>\n\n<hr>\n\n<p>Now on to your question. Whoever wrote Net::APNS::Persistent messed up big time. I looked at the source code, and they expect the alert message to be encoded using UTF-8. Adding the following will make your structure conform with the module's wonky expectation:</p>\n\n<pre><code>utf8::encode(\n   ref($payload-&gt;{aps}{alert}) eq 'HASH'\n      ? $payload-&gt;{aps}{alert}{body}\n      : $payload-&gt;{aps}{alert}\n);\n</code></pre>\n\n<p>It wouldn't surprise me if you ran into other issues. Notably, the modules uses the <em>bytes</em> module, a sure sign that something is being done incorrectly.</p>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "accepted_answer_id": 32213810, "answer_count": 2, "score": 1, "last_activity_date": 1440535829, "creation_date": 1440531667, "last_edit_date": 1592644375, "question_id": 32212650, "link": "https://stackoverflow.com/questions/32212650/perl-issues-while-sending-emojis-over-socket", "title": "Perl issues while sending emojis over socket", "body": "<p>My Perl script sends push notifications to an Apple APNS server. It works except when I try to send emojis (special characters).</p>\n<h3>My code</h3>\n<pre><code>use DBI;\nuse JSON;\nuse Net::APNS::Persistent;\nuse Data::Dumper;\nuse Encode;\n\nmy $cfg;\nmy $apns;\n\n...;\n\nsub connect {\n    my ($sandbox, $cert, $key, $pass) = $cfg-&gt;getAPNSServer();\n\n    $apns = Net::APNS::Persistent-&gt;new({\n        sandbox =&gt; $sandbox,\n        cert    =&gt; $cert,\n        key     =&gt; $key,\n    }) or die(&quot;[-] Unable to connect to APNS server&quot;);\n\n}\n\nsub push {\n    my $msg = $_[1];\n\n    Logger::log(5, &quot;[APNS Client] Got message &quot;.Dumper($msg));\n\n    #Encode::_utf8_off($msg);\n    utf8::encode($msg);\n\n    my $pack = decode_json($msg);\n    my ($token, $payload) = @{$pack};\n\n    Logger::log(5, &quot;Sending push with token: $token and Data: \\n&quot;.Dumper($payload));\n\n    $apns-&gt;queue_notification(\n       $token,\n       $payload\n       );\n    $apns-&gt;send_queue;\n}\n</code></pre>\n<p>So in the push subroutine I pass JSON data with the format given below. My problem is with the emoji character <code>\\x{2460}</code>. You can see I added this line</p>\n<pre><code>utf8::encode($msg);\n</code></pre>\n<p>Before decoding the data. If I remove this line I get an error while decoding the JSON data</p>\n<pre><code> Wide character in subroutine entry at .....\n</code></pre>\n<p>With the above line added I can decode my JSON data. However when I try to write to the socket in the next line (<code>$apns-&gt;send_queue</code>) gives</p>\n<pre><code>Cannot decode string with wide characters at /usr/lib/perl/5.10/Encode.pm line 176\n</code></pre>\n<p>How do I solve this?</p>\n<h3>Message format (JSON)</h3>\n<pre><code>[&quot;token&quot;,\n    { \n      &quot;aps&quot;:{\n          &quot;alert&quot;:&quot;Alert: \\x{2460}&quot;,\n          &quot;content-available&quot;:1,\n          &quot;badge&quot;:2,\n          &quot;sound&quot;:&quot;default.aiff&quot;\n       },\n       &quot;d&quot;:&quot;Meta&quot;\n   }\n]\n</code></pre>\n<p><strong>Dumper Output</strong></p>\n<pre><code>[-] [ 2015-08-25T20:03:15 ] [APNS Client] Got message $VAR1 = &quot;[\\&quot;19c360f37681035730a26cckjgkjgkj58b2d20326986f4265ee802c103f51\\&quot;,{\\&quot;aps\\&quot;:{\\&quot;alert\\&quot;:\\&quot;Alert: \\x{24bc}\\&quot;,\\&quot;content-available\\&quot;:1,\\&quot;badge\\&quot;:2,\\&quot;sound\\&quot;:\\&quot;default.aiff\\&quot;},\\&quot;d\\&quot;:\\&quot;Meta\\&quot;}]&quot;;\n\n[-] [ 2015-08-25T20:03:15 ] Sending push with token: 119c360f37681035730a26cckjgkjgkj58b2d20326986f4265ee802c103f51 and Data:\n$VAR1 = {\n          'aps' =&gt; {\n                     'alert' =&gt; &quot;Alert: \\x{24bc}&quot;,\n                     'content-available' =&gt; 1,\n                     'badge' =&gt; 2,\n                     'sound' =&gt; 'default.aiff'\n                   },\n          'd' =&gt; 'Meta'\n        };\n\n[x] [ 2015-08-25T20:03:15 ] [APNS Client] Error writing to socket. Reconnecting : Cannot decode string with wide characters at /usr/lib/perl/5.10/Encode.pm line 176.\n</code></pre>\n"}, {"tags": ["bash", "perl", "shell", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 3, "last_activity_date": 1440530429, "creation_date": 1440530429, "answer_id": 32212283, "question_id": 32212241, "link": "https://stackoverflow.com/questions/32212241/output-subtotal-at-each-line-while-adding-up-numbers-one-per-line/32212283#32212283", "title": "Output subtotal at each line while adding up numbers, one per line", "body": "<p>You can use awk:</p>\n\n<pre><code>awk 'NR&gt;1{$1+=p} {p=$1} 1' file\n2\n6\n13\n10\n15\n13\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "is_accepted": true, "score": 5, "last_activity_date": 1440530553, "creation_date": 1440530553, "answer_id": 32212322, "question_id": 32212241, "link": "https://stackoverflow.com/questions/32212241/output-subtotal-at-each-line-while-adding-up-numbers-one-per-line/32212322#32212322", "title": "Output subtotal at each line while adding up numbers, one per line", "body": "<p>Another way with awk:</p>\n\n<pre><code>$ awk '{print s+=$1}' file\n2\n6\n13\n10\n15\n13\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1440532522, "creation_date": 1440532522, "answer_id": 32212913, "question_id": 32212241, "link": "https://stackoverflow.com/questions/32212241/output-subtotal-at-each-line-while-adding-up-numbers-one-per-line/32212913#32212913", "title": "Output subtotal at each line while adding up numbers, one per line", "body": "<pre><code>$ perl -nE '$x += $_; say $x' file\n2\n6\n13\n10\n15\n13\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 2044638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3890886c515b6bfbceffe6049fc18375?s=128&d=identicon&r=PG", "display_name": "user2044638", "link": "https://stackoverflow.com/users/2044638/user2044638"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 32212322, "answer_count": 3, "score": -6, "last_activity_date": 1440532522, "creation_date": 1440530286, "question_id": 32212241, "link": "https://stackoverflow.com/questions/32212241/output-subtotal-at-each-line-while-adding-up-numbers-one-per-line", "title": "Output subtotal at each line while adding up numbers, one per line", "body": "<p>For example, I have a file that looks something like this:</p>\n\n<pre><code>2\n4\n7\n-3\n5\n-2\n</code></pre>\n\n<p>and I need the output to look like this:</p>\n\n<pre><code>2\n6\n13\n10\n15\n13\n</code></pre>\n"}, {"tags": ["bash", "perl", "shell"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1440530053, "post_id": 32212096, "comment_id": 52308246, "body": "That command is already being run on every line. Also examples of what your input looks like would be useful"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440530164, "post_id": 32212096, "comment_id": 52308324, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/32210070/faster-way-to-do-search-and-replace-on-a-comma-delimited-line-of-text\">Faster way to do search and replace on a comma delimited line of text?</a>"}, {"owner": {"reputation": 2490, "user_id": 1423967, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1bd67c85298a7bf3cc5c177ed1eb9e81?s=128&d=identicon&r=PG", "display_name": "Dave A", "link": "https://stackoverflow.com/users/1423967/dave-a"}, "edited": false, "score": 0, "creation_date": 1440532073, "post_id": 32212096, "comment_id": 52309397, "body": "Hi, It is not running it on every line.  I included an example file and the output from running the script against that file.  This is not a duplicate of the cited question because the above deals with why isn&#39;t the script run on every line whereas the other question asks about a better way to write a search and replace statement."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1440532296, "post_id": 32212096, "comment_id": 52309533, "body": "It is running on every line, but the regex isn&#39;t matching because you have some empty fields in the second line. You should use <code>split</code> or Text::CSV instead of that godawful regex."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440532404, "post_id": 32212096, "comment_id": 52309613, "body": "@DaveA I&#39;m going to refer back to what I said in your other post (which <i>is</i> a duplicate, because you&#39;re still trying to do the exact same thing), and that is: a regular expression is not the right tool for this job."}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "edited": false, "score": 0, "creation_date": 1440532823, "post_id": 32212096, "comment_id": 52309842, "body": "Please try your regex and examples in a test tool like at regex101.com; though that one times out on your regex, maybe try one of the other online sandboxes mentioned here: <a href=\"http://stackoverflow.com/tags/regex/info\">stackoverflow.com/tags/regex/info</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1440533023, "creation_date": 1440533023, "answer_id": 32213060, "question_id": 32212096, "link": "https://stackoverflow.com/questions/32212096/how-do-i-apply-this-perl-expression-to-each-line-of-the-file/32213060#32213060", "title": "How do I apply this Perl expression to each line of the file?", "body": "<p>Provide the path to your input file as the first command line argument. </p>\n\n<p>Note: array indices might be off because I simply took your regex match variables and shifted them down by one (i.e., I didn't test this code).</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new({ binary =&gt; 1 }) or die Text::CSV-&gt;error_diag;\nopen(my $fh, '&lt;', $ARGV[0]) or die $!;\n\nwhile (my $row = $csv-&gt;getline($fh)) {\n    print \"REPLACE INTO student (ID, SIS_ID, STUDENT_NUM, USER_ID, OTHER_USER_ID) VALUES (REPLACE(uuid(), '-', ''), '$row-&gt;[23]', '$row-&gt;[25]', '$row-&gt;[1]', '$row-&gt;[26]');\\n\";\n}\n\n$csv-&gt;eof or $csv-&gt;error_diag;\nclose($fh);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1440534118, "post_id": 32213303, "comment_id": 52310593, "body": "Good job pointing out the actual reason for the non-matching behaviour."}], "tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 1, "last_activity_date": 1440538444, "last_edit_date": 1440538444, "creation_date": 1440533931, "answer_id": 32213303, "question_id": 32212096, "link": "https://stackoverflow.com/questions/32212096/how-do-i-apply-this-perl-expression-to-each-line-of-the-file/32213303#32213303", "title": "How do I apply this Perl expression to each line of the file?", "body": "<p>Lets start by fixing your script to be a Perl script, one-liners are for the command line.</p>\n\n<pre><code>#!/usr/bin/perl\n# example code from `man perlrun`\n\nuse warnings;\nuse strict;\nmy $extension = '.orig';\nmy $oldargv;\nmy $backup;\nmy $subre = \"([^,]+?)\";\nmy $bigre = \"$subre,\" x 27 . $subre;\nmy $presub = \"REPLACE INTO student (ID, SIS_ID, STUDENT_NUM, USER_ID, OTHER_USER_ID) VALUES (REPLACE(uuid(), '-', '')\";\nLINE: while (&lt;&gt;) {\nif ($ARGV ne $oldargv) {\n    if ($extension !~ /\\*/) {\n      $backup = $ARGV . $extension;\n    } else {\n      ($backup = $extension) =~ s/\\*/$ARGV/g;\n    }\n    rename($ARGV, $backup);\n    open(ARGVOUT, \"&gt;$ARGV\");\n    select(ARGVOUT);\n    $oldargv = $ARGV;\n}\n  s/$bigre/$presub, '\\$24', '\\$26', '\\$2', '\\$27');/g;\n} continue {\n  print;    # this prints to original filename\n}\nselect(STDOUT);\n</code></pre>\n\n<hr>\n\n<p>Then, looking at that regex, there's probably lines that contain <code>,,</code> for an empty field, so... you could fix the regex, but using one is kind of wrong here. Lets just change that one line from the above to this:</p>\n\n<pre><code>  my @f = split /,/;\n  $_ = $presub . \", '${f[23]}', '${f[25]}', '${f[1]}', '${f[26]}');\"\n</code></pre>\n\n<p>This assumes that there are no fields which, containing <code>,</code>, become quoted or escaped fields. For all that you'd use Text::CSV as Matt Jacob showed. I have similar caveats.</p>\n\n<hr>\n\n<p>Alternatively you can stick with the regex if you must, but remove the <code>g</code> modifier, anchor the lines, and allow for empty captured groups.</p>\n\n<pre><code>s/^([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?),([^,]*?)$/REPLACE INTO student (ID, SIS_ID, STUDENT_NUM, USER_ID, OTHER_USER_ID) VALUES (REPLACE(uuid(), '-', ''), '\\$24', '\\$26', '\\$2', '\\$27');/;\n</code></pre>\n\n<p>This doesn't timeout in <a href=\"http://regex101.com/\" rel=\"nofollow\">regex101.com</a> and works when given the flags <code>mg</code> for sample input, if you remove the <code>$</code> from the substitution's references to the captured fields.</p>\n\n<p>Or modify the first script above changing these lines:</p>\n\n<pre><code>my $subre = \"([^,]*?)\";\nmy $bigre = '^' . \"$subre,\" x 27 . $subre . '$';\n...\ns/$bigre/$presub, '\\$24', '\\$26', '\\$2', '\\$27');/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "edited": false, "score": 0, "creation_date": 1440534874, "post_id": 32213337, "comment_id": 52310964, "body": "I have never used that -F argument. Seems useful."}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 1, "last_activity_date": 1440534036, "creation_date": 1440534036, "answer_id": 32213337, "question_id": 32212096, "link": "https://stackoverflow.com/questions/32212096/how-do-i-apply-this-perl-expression-to-each-line-of-the-file/32213337#32213337", "title": "How do I apply this Perl expression to each line of the file?", "body": "<p>Your <code>s///</code> seems to be only matching the first line. Don't know why. However, that's a ridiculous regular expression. You want to split on commas into a list</p>\n\n<pre><code>perl -F, -lane '\n    BEGIN { $t=\"REPLACE INTO student (ID, SIS_ID, STUDENT_NUM, USER_ID, OTHER_USER_ID) VALUES (REPLACE(uuid(), \\047-\\047, \\047\\047), \\047%s\\047, \\047%s\\047, \\047%s\\047, \\047%s\\047);\\n\"; }\n    printf $t, $F[23], $F[25], $F[1], $F[26];\n' file\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>REPLACE INTO student (ID, SIS_ID, STUDENT_NUM, USER_ID, OTHER_USER_ID) VALUES (REPLACE(uuid(), '-', ''), 'thirdparty.sis_id', 'thirdparty.student_number', 'app.app.id', 'thirdparty.id');\nREPLACE INTO student (ID, SIS_ID, STUDENT_NUM, USER_ID, OTHER_USER_ID) VALUES (REPLACE(uuid(), '-', ''), '061200F010', '061200F010', '0040FBA053464647BD51141EECF4437F', '533f3a412a1f1fea24c8e164');\n</code></pre>\n"}], "owner": {"reputation": 2490, "user_id": 1423967, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1bd67c85298a7bf3cc5c177ed1eb9e81?s=128&d=identicon&r=PG", "display_name": "Dave A", "link": "https://stackoverflow.com/users/1423967/dave-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1440548852, "accepted_answer_id": 32213060, "answer_count": 3, "score": 0, "last_activity_date": 1440538444, "creation_date": 1440529669, "last_edit_date": 1440532023, "question_id": 32212096, "link": "https://stackoverflow.com/questions/32212096/how-do-i-apply-this-perl-expression-to-each-line-of-the-file", "closed_reason": "Not suitable for this site", "title": "How do I apply this Perl expression to each line of the file?", "body": "<p>I'm using Mac 10.9.5, bash shell, and perl 5, version 16, subversion 3 (v5.16.3). I have the following script ...</p>\n\n<pre><code>#!/bin/bash\nperl -pi -e \"s/([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?),([^,]+?)/REPLACE INTO student (ID, SIS_ID, STUDENT_NUM, USER_ID, OTHER_USER_ID) VALUES (REPLACE(uuid(), '-', ''), '\\$24', '\\$26', '\\$2', '\\$27');/g\" $1 \n</code></pre>\n\n<p>However, when I run the script against a file ...</p>\n\n<pre><code> sh myscript.sh ~/Downloads/myfile.csv\n</code></pre>\n\n<p>The above only gets run against the first line of the file and not against every line in the file, despite the fact the file has thousands of lines ...</p>\n\n<pre><code>davea$ wc -l ~/Downloads/myfile.csv\n91552 /Users/davea/Downloads/myfile.csv\n</code></pre>\n\n<p>How do I adjust the above so that it applies the search and replace to every line of the file?</p>\n\n<p><b>Edit:</b> here is an example of a file that I'm passing in as input</p>\n\n<pre><code> app.app.first_name,app.app.id,app.app.last_name,app.app.max_time,app.app.url,app.app.user_name,thirdparty.created,thirdparty.district,thirdparty.dob,thirdparty.ell_status,thirdparty.email,thirdparty.frl_status,thirdparty.gender,thirdparty.grade,thirdparty.hispanic_ethnicity,thirdparty.iep_status,thirdparty.last_modified,thirdparty.location.zip,thirdparty.name.first,thirdparty.name.last,thirdparty.name.middle,thirdparty.race,thirdparty.school,thirdparty.sis_id,thirdparty.state_id,thirdparty.student_number,thirdparty.id,matchmaker_result\n FirstName,0040FBA053464647BD51141EECF4437F,LastName,2014-09-15 20:46:11,cityunifiedca.springboardonline.org,mlastname,2014-04-04T23:03:29.916Z,51e76ab1d93412f47b000c32,6/12/2000,,,Paid,F,10,Y,Y,2015-08-19T21:33:13.989Z,90033-1803,FIRSTNAME,LASTNAME,A,Caucasian,51f811478a86244d2900033f,061200F010,6124939964,061200F010,533f3a412a1f1fea24c8e164,match\n</code></pre>\n\n<p>and here is the output of running the above</p>\n\n<pre><code> REPLACE INTO student (ID, SIS_ID, STUDENT_NUM, USER_ID, OTHER_USER_ID) VALUES (REPLACE(uuid(), '-', ''), 'thirdparty.sis_id', 'thirdparty.student_number', 'app.app.id', 'thirdparty.id');atchmaker_result\n FirstName,0040FBA053464647BD51141EECF4437F,LastName,2014-09-15 20:46:11,cityunifiedca.springboardonline.org,mlastname,2014-04-04T23:03:29.916Z,51e76ab1d93412f47b000c32,6/12/2000,,,Paid,F,10,Y,Y,2015-08-19T21:33:13.989Z,90033-1803,FIRSTNAME,LASTNAME,A,Caucasian,51f811478a86244d2900033f,061200F010,6124939964,061200F010,533f3a412a1f1fea24c8e164,match\n</code></pre>\n"}, {"tags": ["perl", "dancer"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1440528501, "post_id": 32210946, "comment_id": 52307346, "body": "You need to give a realistic example or no one will want to, or be able to help you. And show your best attempt at doing this - Stack Overflow is a knowledge base and you shouldn&#39;t think of it as a place to get your work done for free"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440531404, "post_id": 32210946, "comment_id": 52308977, "body": "Please read <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "edited": false, "score": 0, "creation_date": 1440532153, "post_id": 32210946, "comment_id": 52309450, "body": "I have added one example for your reference. Did not add example before as I am new to dancer and I thought this is very general and basic question. Thanks."}, {"owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "edited": false, "score": 0, "creation_date": 1440538235, "post_id": 32210946, "comment_id": 52312560, "body": "Is my question still not clear?? Can someone please tell me what else I have to do to make it understandable?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1440574696, "post_id": 32210946, "comment_id": 52324243, "body": "Here is what I am <i>*guessing</i> from your question: There is a form that is displayed in a table-like fasion on the page. User can add extra rows. User fills in data. When user submits, all the data should be inserted to the DB. Why your question is unclear: it took me a bit to differentiate between db-table and html-table, you are not showing the JS function that is essential, you&#39;re not saying if this is Dancer or Dancer2 and which template-engine you are using. The <code>id</code> of the table is irelevant to the backend. Only the <code>name</code>s of the <code>input</code> fields are relevant."}], "answers": [{"comments": [{"owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "edited": false, "score": 0, "creation_date": 1440588677, "post_id": 32221476, "comment_id": 52333390, "body": "Thanks a lot simbabque for the nice explanation. I have missed the name tag while creating the example. Its there indeed. But what i figured out is my javascript function adds the new row with same names for each input boxes in the table. I have added my real template and javascript functions and other details  in the question. And I am using DANCER2."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "edited": false, "score": 0, "creation_date": 1440592698, "post_id": 32221476, "comment_id": 52336119, "body": "@Rony you would have saved me some time had you said that earlier. Anyway, the answer is still correct if it&#39;s D2. The <code>param</code> works the same, and you can apply the same principle. I would however change the JS and not copy the data. Instead, create fresh elements. Employing a JS framework like jQuery makes that very easy."}, {"owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "edited": false, "score": 0, "creation_date": 1440593705, "post_id": 32221476, "comment_id": 52336951, "body": "Apologies for that. Tell me one thing: If I do &quot;my %values = params; &quot; &quot;values&quot; will contain all the rows from all the tables? If yes then how would I loop through each table and then inner-loop through each rows? Actually, I am not familiar with the key that you are using here: &quot;foreach my $key ( keys %values )&quot;. or here : &quot;foreach my $dbname ( grep {m/^dbname/} sort keys %values )&quot; ."}, {"owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "edited": false, "score": 0, "creation_date": 1440594185, "post_id": 32221476, "comment_id": 52337312, "body": "Can you point me to a link for this? : &quot;I would however change the JS and not copy the data. Instead, create fresh elements. Employing a JS framework like jQuery makes that very easy.&quot;   I am not that comfortable with jquery( always had my work done with js only)  and I have googled before posting this. Was not able to locate a related example."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "edited": false, "score": 0, "creation_date": 1440595520, "post_id": 32221476, "comment_id": 52338289, "body": "@Rony so you have one table per article and those can have multiple rows. Just prefix the article-id/uuid/whatever is the primary information for an article in the <code>name</code> of the input fields and then suffix or praefix the number of the rows, starting by <code>1</code> for each article. If your SQL needs to care what article it is, i.e. you have different db tables for those, you need to separate them in the backend. If not, you just need to extract the article identification from the key and use it as one of the values in the SQL."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "edited": false, "score": 0, "creation_date": 1440595576, "post_id": 32221476, "comment_id": 52338331, "body": "@Rony re the jquery: <a href=\"https://jquery.com/\" rel=\"nofollow noreferrer\">jquery.com</a>. Also see <a href=\"http://stackoverflow.com/tags/jquery/info\">the jquery tag wiki on Stack Overflow</a>"}, {"owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440602992, "post_id": 32221476, "comment_id": 52343932, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/88017/discussion-between-rony-and-simbabque\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1440577445, "creation_date": 1440577445, "answer_id": 32221476, "question_id": 32210946, "link": "https://stackoverflow.com/questions/32210946/how-to-get-table-values-from-template-to-subroutine/32221476#32221476", "title": "How to get table values from template to subroutine?", "body": "<p>Since you are not saying which Dancer version you are using, I will assume you are using the <a href=\"https://metacpan.org/pod/Dancer\" rel=\"nofollow\">first version of Dancer</a> (and not <a href=\"https://metacpan.org/pod/Dancer2\" rel=\"nofollow\">Dancer2</a>).</p>\n\n<p>It looks like you are unsure about how forms work when they are submitted via GET or POST in general. That's not specific to Dancer, but very generic to how the HTTP protocol works, and tied to HTML.</p>\n\n<p>If there is a form in your HTML document, the form elements like <code>&lt;input&gt;</code> and <code>&lt;textarea&gt;</code> need to have the <code>name</code> attribute. That is what will go into the request. The <code>id</code> attribute is only for CSS and JS (this is simplified).</p>\n\n<pre><code>&lt;form action=\"/save\" method=\"GET\"&gt;\n  &lt;input type=\"text\" name=\"foo\" id=\"input-foo\" /&gt;\n  &lt;input type=\"submit\" value=\"save\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>If you enter <em>bar</em> and hit that button, your browser will navigate to:</p>\n\n<pre><code>/save?foo=bar\n</code></pre>\n\n<p>If there is no <code>name</code> attribute on an <code>&lt;input&gt;</code>, it will be ignored by the browser.</p>\n\n<pre><code>&lt;form action=\"/save\" method=\"GET\"&gt;\n  &lt;input type=\"text\" id=\"input-foo\" /&gt;\n  &lt;input type=\"submit\" value=\"save\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This will lead you to:</p>\n\n<pre><code>/save\n</code></pre>\n\n<p>That is also useful if you don't want the <code>value</code> of your <code>submit</code> button to show up. Just don't give it a <code>name</code> attribute.</p>\n\n<p>Ok, now you have multiple rows of input fields. Those are dynamic. You assigned integer numbers as <code>id</code>s for the <code>&lt;table&gt;</code> and the <code>&lt;input&gt;</code> elements. That is weird, but should not be a problem. But there are <strong>no <code>name</code> attributes</strong>.</p>\n\n<p>You should give each <code>&lt;input&gt;</code> a distinct name. For example, use names related to your placeholders.</p>\n\n<pre><code>&lt;table id=\"101\"&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;input type=\"checkbox\" name=\"chk\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;input type=\"text\" placeholder=\"Database Name\" name=\"dbname-1\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;input type=\"text\" placeholder=\"Database Appx Size\" id=\"appx-1\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;input type=\"text\" placeholder=\"Rate of growth\" id=\"growth-1\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Now there is one row with three distinct names: <code>dbname-1</code>, <code>appx-1</code> and <code>growth-1</code>. </p>\n\n<p>Let's look at the JavaScript to add new rows. I'm not going to show it here, but what it should do is include the <code>name</code> attribute and <em>increment</em> the numbers. The next row should have these names: <code>dbname-2</code>, <code>appx-2</code> and <code>growth-2</code>. You get the pattern here.</p>\n\n<p>Finally, we need to do stuff in the Perl code. We'll get all the parameters, filter them down to only the three field-types we are interested in, and then iterate those to insert them. We'll also make sure they are not empty.</p>\n\n<pre><code>post '/savesmop' =&gt; sub {\n\n    # get all the parameters\n    my %values = params;\n\n    # remove unwanted ones that don't belong to the rows\n    foreach my $key ( keys %values ) {\n        delete $values{$key} unless $key =~ m/^(?:dbname|appx|growth)-/;\n    }\n\n    my $dbh = DBI-&gt;connect( 'dbid', 'user', 'pwd' ) or die $DBI::errstr;\n    my $sth = $dbh-&gt;prepare(\"INSERT INTO TABLE_Fact VALUES (?,?,?)\") or die $dbh-&gt;errstr;\n\n    # iterate over the dbnames only\n    foreach my $dbname ( grep {m/^dbname/} sort keys %values ) {\n\n        # field should not be empty\n        next unless $values{$dbname};\n\n        # fetch the number from the dbname...\n        ( undef, my $id ) = split /-/, $dbname;\n\n        # ... and the other two should exist and not be empty also\n        next unless my $appx = $values{ 'appx-' . $id };\n        next unless my $pwd  = $values{ 'pwd-' . $id };\n\n        # now insert\n        $sth-&gt;execute( @values{ $dbname, $appx, $pwd } ) or die $dbh-&gt;errstr;\n    }\n    template \"savesmop\";\n\n};\n</code></pre>\n\n<p>The point about this is that you do not need to know how many there are. A <code>while</code> loop is not the best approach to do insert stuff into a database. Ususally you iterate data with a <code>for</code> loop. Perl's <code>foreach my $item (@list)</code> syntax is especially useful, because you do not have to care how long the array/list is.</p>\n\n<hr>\n\n<p>A few side-nodes:</p>\n\n<ul>\n<li>Have you considered using <a href=\"https://metacpan.org/pod/DBIx::Class\" rel=\"nofollow\">DBIx::Class</a>? There is a good plugin for that called <a href=\"https://metacpan.org/pod/Dancer::Plugin::DBIC\" rel=\"nofollow\">Dancer::Plugin::DBIC</a> that makes it easy to use in your Dancer app. DBIx::Class has some learning curve, but it is worth it!</li>\n<li>If you are intimidated by an object relation mapper or think it's overkill, take a look at <a href=\"https://metacpan.org/pod/Dancer::Plugin::Database\" rel=\"nofollow\">Dancer::Plugin::Database</a> instead. It helps abstract the <code>$dbh</code> away and you don't need to care about connecting.</li>\n<li><p>If you don't want plugins at all (which would not be a smart decision, it's always nice if others have done the work and it is well-tested!), at least don't make a fresh connection to the db in your route handler. Dancer runs persistently (unless you run it as a CGI) so it will benefit from keeping the connection open. Connect to the DB at the top of the application code and keep it in the <a href=\"https://metacpan.org/pod/Dancer#config\" rel=\"nofollow\"><code>config</code></a>. It's weird, but more efficient.</p>\n\n<pre><code>use Dancer;\nuse DBI;\n\nconfig 'dbh' =&gt; DBI-&gt;connect('...') or die $DBH::errstr;\n\nget '/foo' =&gt; sub {\n  config-&gt;dbh-&gt;prepare('select ...');\n}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 156, "user_id": 5210560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-rbG4G0GT2lc/AAAAAAAAAAI/AAAAAAAAASI/uUZuKeAykOc/photo.jpg?sz=128", "display_name": "Rony", "link": "https://stackoverflow.com/users/5210560/rony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 32221476, "answer_count": 1, "score": -5, "last_activity_date": 1440585675, "creation_date": 1440525555, "last_edit_date": 1440585675, "question_id": 32210946, "link": "https://stackoverflow.com/questions/32210946/how-to-get-table-values-from-template-to-subroutine", "title": "How to get table values from template to subroutine?", "body": "<p>I have one table with table_id=\"mytable\"</p>\n\n<p>i need to send all the rows of the table in the action subroutine after clicking on submit. In the subroutine, I need to insert the rows one by one into a table after modifying some values.</p>\n\n<p>What is the easiest way to do this?</p>\n\n<hr>\n\n<p><strong>My real template:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form method=\"post\" action=\"/savesmop\" &gt;\r\n&lt;section class=\"wrapper\"&gt;\r\n  &lt;h1&gt;Select Items and add components&lt;/h1&gt;\r\n  &lt;ul class=\"tabs\"&gt;\r\n&lt;% FOREACH Component_Id IN components.keys.nsort %&gt;\r\n    &lt;li&gt;&lt;a href=\"#tab&lt;% components.$Component_Id.Component_Id %&gt;\"&gt;&lt;% components.$Component_Id.Component_Name %&gt;&lt;/a&gt;&lt;/li&gt;\r\n&lt;% END %&gt;\r\n  &lt;/ul&gt;\r\n  &lt;div class=\"clr\"&gt;&lt;/div&gt;\r\n  &lt;section class=\"block\"&gt;\r\n&lt;% FOREACH Component_Id IN **components.keys.nsort** %&gt;\r\n    &lt;article id=\"tab&lt;% components.$Component_Id.Component_Id %&gt;\"&gt;\r\n\t&lt;% FOREACH ACTIVITY_ID IN activities.keys.nsort %&gt;\r\n\t\t&lt;% IF activities.$ACTIVITY_ID.Component_Id == components.$Component_Id.Component_Id  %&gt;\r\n      \t\t\t&lt;input class=\"toggle-box\" id=\"t&lt;% activities.$ACTIVITY_ID.ACTIVITY_ID %&gt;\" name=\"t&lt;% activities.$ACTIVITY_ID.ACTIVITY_ID %&gt;\" type=\"checkbox\" &gt;\r\n\t\t\t&lt;label for=\"t&lt;% activities.$ACTIVITY_ID.ACTIVITY_ID %&gt;\"&gt;&lt;% activities.$ACTIVITY_ID.ACTIVITY_NAME %&gt;\r\n\t\t\t  &lt;input type=\"button\" class=\"btnsmall1\" onclick=\"addRow('&lt;% activities.$ACTIVITY_ID.ACTIVITY_ID %&gt;')\" value=\"+\" /&gt;\r\n   \t\t         &lt;input type=\"button\" class=\"btnsmall2\" onclick=\"deleteRow('&lt;% activities.$ACTIVITY_ID.ACTIVITY_ID %&gt;')\" value=\"X\" /&gt;\r\n\t\t\t&lt;/label&gt;\r\n\t\t\t&lt;div&gt;\r\n\t\t\t\r\n\t\t\t&lt;table id=\"&lt;% activities.$ACTIVITY_ID.ACTIVITY_ID %&gt;\" name=\"&lt;% activities.$ACTIVITY_ID.ACTIVITY_ID %&gt;\"&gt;\r\n\t\t\t&lt;tr&gt;&lt;td&gt;&lt;input type=\"checkbox\" name=\"chk\"/&gt;&lt;/td&gt;\r\n\t\t\t&lt;% FOREACH ATTRIBUTE_ID IN attributes.keys.nsort %&gt;\r\n\t\t\t\t&lt;% IF attributes.$ATTRIBUTE_ID.ACTIVITY_ID == activities.$ACTIVITY_ID.ACTIVITY_ID %&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t&lt;% IF attributes.$ATTRIBUTE_ID.ATTRIBUTE_NAME == 'Object Type' %&gt;\r\n\t\t\t\t\t&lt;select id=\"&lt;% attributes.$ATTRIBUTE_ID.ATTRIBUTE_ID %&gt;\" name=\"&lt;% attributes.$ATTRIBUTE_ID.ATTRIBUTE_ID %&gt;\"&gt;\r\n\t\t\t\t\t&lt;option value=\"\" disabled selected&gt;Select Object Type&lt;/option&gt;\r\n\t\t\t\t\t&lt;option value=\"TABLE\"&gt;TABLE&lt;/option&gt;\r\n\t\t\t\t\t&lt;option value=\"VIEW\"&gt;VIEW&lt;/option&gt;\r\n\t\t\t\t\t&lt;option value=\"OTHER\"&gt;OTHER&lt;/option&gt;\r\n\t\t\t\t\t&lt;/select&gt;\r\n\t\t\t\t\t&lt;% ELSIF attributes.$ATTRIBUTE_ID.ATTRIBUTE_NAME == 'SVN Path' %&gt;\r\n\t\t\t\t\t&lt;input size=\"90\" type=\"TEXT\" placeholder=\"&lt;% attributes.$ATTRIBUTE_ID.ATTRIBUTE_NAME %&gt;\" id=\"&lt;% attributes.$ATTRIBUTE_ID.ATTRIBUTE_ID %&gt;\" name=\"&lt;% attributes.$ATTRIBUTE_ID.ATTRIBUTE_ID %&gt;\"/&gt;\r\n\t\t\t\t\t&lt;% ELSE %&gt;\r\n\t\t\t\t\t&lt;input type=\"TEXT\" placeholder=\"&lt;% attributes.$ATTRIBUTE_ID.ATTRIBUTE_NAME %&gt;\" id=\"&lt;% attributes.$ATTRIBUTE_ID.ATTRIBUTE_ID %&gt;\" name=\"&lt;% attributes.$ATTRIBUTE_ID.ATTRIBUTE_ID %&gt;\"/&gt;\r\n\t\t\t\t\t&lt;% END %&gt;\r\n\t\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t&lt;% END %&gt;\r\n\t\t\t&lt;% END %&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;/table&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;br&gt;\r\n\t\t&lt;% END %&gt;\r\n\t&lt;% END %&gt;\r\n     &lt;/article&gt;\r\n&lt;% END %&gt;\r\n&lt;/section&gt;\r\n&lt;/section&gt;\r\n\r\n&lt;input class=\"btn2\" type=\"submit\" value=\"SAVE\" /&gt;\r\n\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>There are 3 hashes i am selecting from 3 different database tables, and looping through them to dynamically generate this template.</p>\n\n<p>As you can see there are multiple tables in each list item and number of columns are also different in each table. What I did in the javascript is to clone the 1st row of the table while adding one row. I could not figure out how to increment the name tag of each text input by 1 while adding a new row in the javascript addrow function.</p>\n\n<p>Below is my javascript function:</p>\n\n<pre><code>function deleteRow(tableID) \n    { \n        try\n        { \n            var table = document.getElementById(tableID);\n            var rowCount = table.rows.length;\n\n            for(var i=0; i&lt;rowCount; i++) \n            {\n\n                var row = table.rows[i];\n                var chkbox = row.cells[0].childNodes[0];\n\n                if(null != chkbox &amp;&amp; true == chkbox.checked)\n                {\n                    table.deleteRow(i);\n                    rowCount--;\n                    i--;\n                }\n            }\n        }\n        catch(e){alert(e);}\n    }\n\nfunction addRow(tableID) \n    {\n\n      var table = document.getElementById(tableID); // find table to append to\n\n      var row = document.getElementById(tableID).rows.item(0); // find row to copy\n\n      var clone = row.cloneNode(true); // copy children too\n      clone.id = \"newID\"; // change id or other attributes/contents\n      table.appendChild(clone); // add new row to end of table\n       }\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 2044638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3890886c515b6bfbceffe6049fc18375?s=128&d=identicon&r=PG", "display_name": "user2044638", "link": "https://stackoverflow.com/users/2044638/user2044638"}, "edited": false, "score": 0, "creation_date": 1440528698, "post_id": 32210520, "comment_id": 52307469, "body": "The first, most concise and the only answer that worked correctly for me. Thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440530139, "post_id": 32210520, "comment_id": 52308307, "body": "This assumes that the <code>has connected</code> and <code>disconnected</code> messages are the only ones in the log file. It&#39;s a strange log file if that&#39;s true, and the answer doesn&#39;t solve the question <i>&quot;Delete \u201cdisconnected\u201d messages that don&#39;t have a preceding \u201chas connected\u201d message&quot;</i> as a whole lot more is deleted"}, {"owner": {"reputation": 333, "user_id": 2044638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3890886c515b6bfbceffe6049fc18375?s=128&d=identicon&r=PG", "display_name": "user2044638", "link": "https://stackoverflow.com/users/2044638/user2044638"}, "edited": false, "score": 0, "creation_date": 1440533501, "post_id": 32210520, "comment_id": 52310264, "body": "It worked for the file I specified. I guess I should have pointed out I actually delete all lines that don&#39;t contain either of the two messages since I don&#39;t need them for the purpose I need this command. So yes, in my original question the log file is only meant to contain these two messages."}], "tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 0, "last_activity_date": 1440524132, "creation_date": 1440524132, "answer_id": 32210520, "question_id": 32210351, "link": "https://stackoverflow.com/questions/32210351/delete-disconnected-messages-that-dont-have-a-preceding-has-connected-mess/32210520#32210520", "title": "Delete &quot;disconnected&quot; messages that don&#39;t have a preceding &quot;has connected.&quot; message", "body": "<p>In <code>awk</code>, use an array to track which users have active connections.</p>\n\n<pre><code>awk '/has conn/ { arr[$1]=1; }\n     arr[$1] {print}\n     /disconn/ {arr[$1]=0}' tmp.txt\n</code></pre>\n\n<p>Note we check the value of <code>arr[$1]</code> <em>before</em> disabling it on disconnected lines, so that the first of consecutive lines is still printed.</p>\n"}, {"comments": [{"owner": {"reputation": 333, "user_id": 2044638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3890886c515b6bfbceffe6049fc18375?s=128&d=identicon&r=PG", "display_name": "user2044638", "link": "https://stackoverflow.com/users/2044638/user2044638"}, "edited": false, "score": 0, "creation_date": 1440529213, "post_id": 32210977, "comment_id": 52307769, "body": "This deletes all the lines I needed but also some other disconnection messages and duplicates some other seemingly random disconnection messages."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440531205, "post_id": 32210977, "comment_id": 52308878, "body": "This breaks many rules of best-practice Perl. The most senior of which is that you <b><i>must always</i></b> <code>use strict</code> and <code>use warnings</code>; without the former there&#39;s little point in declaring stuff with <code>my</code>. In addition, you should also <i>use lexical file handles</i> and the <i>three-argument <code>open</code></i>. It is always best to use <code>while ( &lt;$fh&gt; ) { ... }</code> rather than your <code>@lines = &lt;$fh&gt;; for ( @lines ) { ... }</code>. You also have a logic error in that <code>$1</code> is set by the latest successfuly-matching regex, so the first time <code>if ( &#47;$1&#47; ) { ... }</code> succeeds it will undefine <code>$1</code> because there are no captures"}], "tags": [], "owner": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "is_accepted": false, "score": -1, "last_activity_date": 1440525652, "creation_date": 1440525652, "answer_id": 32210977, "question_id": 32210351, "link": "https://stackoverflow.com/questions/32210351/delete-disconnected-messages-that-dont-have-a-preceding-has-connected-mess/32210977#32210977", "title": "Delete &quot;disconnected&quot; messages that don&#39;t have a preceding &quot;has connected.&quot; message", "body": "<p>Using <a href=\"/questions/tagged/perl\" class=\"post-tag\" title=\"show questions tagged &#39;perl&#39;\" rel=\"tag\">perl</a>:</p>\n\n<pre><code>open FILE, \"&lt;disconnect.txt\" or die $!;\nmy @lines = &lt;FILE&gt;;\nclose FILE or die $!;\nmy @connectedusers = ();\n\nforeach $line(@lines) {\n    # if connected, then push user name to array\n    if($line =~ /(\\w+) has connected/) {\n        push(@connectedusers, $1);\n        print $line;\n    # if disconnected, then check whether user name is in array\n    } elsif ($line =~ /(\\w+) disconnected/) {\n        my $idx = 0;\n        foreach(@connectedusers) {\n            if(/$1/) {\n                # remove user name from array\n                splice(@connectedusers, $idx, 1);\n                print $line;\n            }\n            $idx++;\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 333, "user_id": 2044638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3890886c515b6bfbceffe6049fc18375?s=128&d=identicon&r=PG", "display_name": "user2044638", "link": "https://stackoverflow.com/users/2044638/user2044638"}, "edited": false, "score": 0, "creation_date": 1440528945, "post_id": 32211190, "comment_id": 52307622, "body": "This deletes all the lines I needed but also some other seemingly random connection and disconnection messages."}], "tags": [], "owner": {"reputation": 1, "user_id": 5265573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22cf368ee11224997676911e9cbe1564?s=128&d=identicon&r=PG&f=1", "display_name": "ThiagoRV", "link": "https://stackoverflow.com/users/5265573/thiagorv"}, "is_accepted": false, "score": 0, "last_activity_date": 1440526452, "creation_date": 1440526452, "answer_id": 32211190, "question_id": 32210351, "link": "https://stackoverflow.com/questions/32210351/delete-disconnected-messages-that-dont-have-a-preceding-has-connected-mess/32211190#32211190", "title": "Delete &quot;disconnected&quot; messages that don&#39;t have a preceding &quot;has connected.&quot; message", "body": "<pre><code>my @lines = &lt;DATA&gt;;\nmy %status = ();\nforeach my $line (@lines) {\n        my ($user) = $line =~ /([A-Za-z0-9]+)\\s+/;\n        #User has connected and not defined or disconnected\n        if($line =~ /has connected/ &amp;&amp; !$status{$user}){\n                $status{$user} = 1;\n                print $line;\n        }\n        # Connected user disconnected.\n        elsif($line =~ /disconnected/ &amp;&amp; $status{$user}){\n                $status{$user} = 0;\n                print $line;\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1440530191, "last_edit_date": 1495540682, "creation_date": 1440529149, "answer_id": 32211957, "question_id": 32210351, "link": "https://stackoverflow.com/questions/32210351/delete-disconnected-messages-that-dont-have-a-preceding-has-connected-mess/32211957#32211957", "title": "Delete &quot;disconnected&quot; messages that don&#39;t have a preceding &quot;has connected.&quot; message", "body": "<p>Keep a hash of the users that are connected</p>\n\n<p>This program expected the path to the input log file as a parameter on the command line</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %connected;\n\nwhile ( &lt;&gt; ) {\n\n    my ($user, $action) = split ' ', $_, 2;\n\n    if ( $action =~ /disconnected/i ) {\n        next unless $connected{$user};\n        $connected{$user} = 0;\n    }\n    elsif ( $action =~ /connected/i ) {\n        $connected{$user} = 1;\n    }\n\n    print;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>user1 has connected.\nBigDaddy has connected.\nuser1 disconnected\nuser1 has connected.\nnoobmaster disconnected\nBigDaddy has connected.\nuser1 disconnected\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>It's not impossible to write terse incomprehensible code in Perl. Here's a conversion of <a href=\"https://stackoverflow.com/a/32210520/622310\">the awk solution from chepner</a>. It has the same output as above, but note my misgivings in my comment on his solution</p>\n\n<pre><code>perl -n -e'\n    ($u) = /(\\S+)/;\n    $arr[$u] = 1 if /has conn/;\n    print if $arr[$u];\n    $arr[$uarr[$1]] = 0 if /disconn/\n' tmp.txt\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 2044638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3890886c515b6bfbceffe6049fc18375?s=128&d=identicon&r=PG", "display_name": "user2044638", "link": "https://stackoverflow.com/users/2044638/user2044638"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 32210520, "answer_count": 4, "score": -2, "last_activity_date": 1440530191, "creation_date": 1440523503, "question_id": 32210351, "link": "https://stackoverflow.com/questions/32210351/delete-disconnected-messages-that-dont-have-a-preceding-has-connected-mess", "title": "Delete &quot;disconnected&quot; messages that don&#39;t have a preceding &quot;has connected.&quot; message", "body": "<p>I have a long log file and I'm trying to get rid of all lines that contain <code>foo disconnected</code> but don't have an accompanying line containing <code>foo has connected.</code> that would precede the disconnection message. The tricky part about this is that the file can contain multiple disconnection messages from the same user that DO have preceding connection messages and all of these messages would precede the bugged disconnection message.</p>\n\n<p>For example, from this sample file I would like to remove 4th, 6th and the last 3 lines.</p>\n\n<pre><code>user1 has connected.\nBigDaddy has connected.\nuser1 disconnected\nfoobar123 disconnected\nuser1 has connected.\nnoobmaster disconnected\nuser1 disconnected\nBigDaddy disconnected\nBigDaddy has connected.\nuser1 disconnected\nuser1 disconnected\nuser1 disconnected\n</code></pre>\n"}, {"tags": ["perl", "centos", "cpanm"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1440523652, "post_id": 32210214, "comment_id": 52304513, "body": "CPAN testers is down right now but the the sidebar on <a href=\"https://metacpan.org/pod/PHP\" rel=\"nofollow noreferrer\">metacpan</a> show 16/16 tests failing. So I&#39;m guessing it&#39;s not just you."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440524072, "post_id": 32210214, "comment_id": 52304779, "body": "yes, it doesn&#39;t look too good, I guess @mob has some idea how to solve it."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440524945, "post_id": 32210214, "comment_id": 52305267, "body": "Did you build php from source, configured with <code>--enable-embed</code>? That&#39;s the only way I ever got it to work."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440525145, "post_id": 32210214, "comment_id": 52305402, "body": "@mob tnx for feedback, I&#39;ll try that but don&#39;t know how to tell perl which php to pick up?"}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1440528106, "post_id": 32211331, "comment_id": 52307117, "body": "Tnx a lot, I&#39;m also looking to use it with mojolicious."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1440866295, "post_id": 32211331, "comment_id": 52454181, "body": "Much to my surprise I&#39;ve built 64bit versions of both perl/php and <code>PHP-0.15</code> installs without complaints. Where should I expect troubles? (perl is built without thread support)"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1440884341, "post_id": 32211331, "comment_id": 52459369, "body": "64 bit is ok, I think. I think I was confused because all my previous tests with 64-bit versions were also configured with threading."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1440526867, "creation_date": 1440526867, "answer_id": 32211331, "question_id": 32210214, "link": "https://stackoverflow.com/questions/32210214/cpanm-php-fails/32211331#32211331", "title": "&quot;cpanm PHP&quot; fails", "body": "<p><a href=\"https://metacpan.org/pod/PHP\"><code>PHP</code></a> is kind of fragile. It probably won't work out of the box with your system <code>php</code> installation, and may have trouble with 64-bit or multi-threaded versions of <code>perl</code>.</p>\n\n<p>I have only ever gotten it to work on Linux. The latest version I have tried to use is 5.3.8 (back in 2013), though I remember things going smoothly from 5.2.x to 5.3.8.</p>\n\n<p>I always build <code>php</code> from source, with this configuration:</p>\n\n<pre><code>./configure --enable-embed --with-zlib --with-openssl --with-mysql \\\n        --with-libdir=lib/i386-linux-gnu\n</code></pre>\n\n<p><code>--enable-embed</code> is absolutely required, as the pod mentions, to build a PHP interpreter with the SAPI extension, and which then allows perl to manipulate the PHP interpreter through XS code. The other extensions were for other requirements of my project; they may be optional, but I haven't experimented with building the PHP interpreter or the PHP module with any other configuration. The pod also says to never use the <code>--with-apxs</code> argument, which I was never tempted to do anyway.</p>\n\n<p>The build process of the <code>PHP</code> module will look for and require a program called <code>php-config</code>. You may need to hack your <code>$PATH</code>, if only during the build process, so that the <code>PHP</code> module runs the correct <code>php-config</code>. After that the module will know where to look for the rest of your php installation.</p>\n\n<p>I had fun working with this module for a while (writing a Catalyst and then a Mojolicious wrapper around WordPress), but it has fallen into disrepair and disrepute. Share whatever you learn trying to build it and we'll put it in the docs, making this module that much easier to use.</p>\n"}], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 32211331, "answer_count": 1, "score": 2, "last_activity_date": 1440526867, "creation_date": 1440523096, "question_id": 32210214, "link": "https://stackoverflow.com/questions/32210214/cpanm-php-fails", "title": "&quot;cpanm PHP&quot; fails", "body": "<p>What should I change in order to install the module? php is 5.3.3 with<code>yum install php-devel</code> in place.</p>\n\n<pre><code>PHP.c: In function \u2018PHP_set_php_input\u2019:\nPHP.c:818: warning: passing argument 2 of \u2018Perl_sv_2pv_flags\u2019 from incompatible pointer type\n/home/mpapec/.plenv/versions/5.20.0/lib/perl5/5.20.0/x86_64-linux/CORE/proto.h:3931: note: expected \u2018STRLEN * const\u2019 but argument is of type \u2018int *\u2019\ncc -c  -I/usr/include/php -I/usr/include/php/main -I/usr/include/php/TSRM -I/usr/include/php/Zend -I/usr/include/php/ext -I/usr/include/php/ext/date/lib -Wall -O2   -DVERSION=\\\"0.15\\\" -DXS_VERSION=\\\"0.15\\\" -fPIC \"-I/home/mpapec/.plenv/versions/5.20.0/lib/perl5/5.20.0/x86_64-linux/CORE\"   array.c\nIn file included from /usr/include/php/main/php.h:33,\n                 from /usr/include/php/sapi/embed/php_embed.h:23,\n                 from PHP.h:14,\n                 from array.c:9:\n/usr/include/php/main/php_config.h:2417:1: warning: \"_GNU_SOURCE\" redefined\nIn file included from /home/mpapec/.plenv/versions/5.20.0/lib/perl5/5.20.0/x86_64-linux/CORE/perl.h:28,\n                 from PHP.h:9,\n                 from array.c:9:\n/home/mpapec/.plenv/versions/5.20.0/lib/perl5/5.20.0/x86_64-linux/CORE/config.h:1825:1: warning: this is the location of the previous definition\nrm -f blib/arch/auto/PHP/PHP.so\ncc  -shared -O2 -L/usr/local/lib -fstack-protector PHP.o array.o  -o blib/arch/auto/PHP/PHP.so  \\\n                \\\n\nchmod 755 blib/arch/auto/PHP/PHP.so\n\"/home/mpapec/.plenv/versions/5.20.0/bin/perl5.20.0\" -MExtUtils::Command::MM -e 'cp_nonempty' -- PHP.bs blib/arch/auto/PHP/PHP.bs 644\nManifying 1 pod document\nRunning Mkbootstrap for PHP ()\nchmod 644 \"PHP.bs\"\nPERL_DL_NONLAZY=1 \"/home/mpapec/.plenv/versions/5.20.0/bin/perl5.20.0\" \"-Iblib/lib\" \"-Iblib/arch\" test.pl\n1..79\nnot ok 1 - use_ok PHP\n#   Failed test 'use_ok PHP'\n#   at test.pl line 11.\nnot ok 2 - require PHP;\n#   Failed test 'require PHP;'\n#   at test.pl line 18.\n#     Tried to require 'PHP'.\n#     Error:  Attempt to reload PHP.pm aborted.\n# Compilation failed in require at (eval 6) line 2.\nnot ok 3 - eval\n#   Failed test 'eval'\n#   at test.pl line 49.\nModule PHP failed to load at blib/lib/PHP.pm line 80.\nModule PHP failed to load at blib/lib/PHP.pm line 80.\nEND failed--call queue aborted at test.pl line 50.\n# Looks like you planned 79 tests but ran 3.\n# Looks like you failed 3 tests of 3 run.\n# Looks like your test exited with 22 just after 3.\nmake: *** [test_dynamic] Error 22\n-&gt; FAIL Installing PHP failed. See /home/mpapec/.cpanm/work/1440522239.12833/build.log for details. Retry with --force to force install it.\n(\n</code></pre>\n"}, {"tags": ["bash", "perl", "shell", "csv"], "comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1440522773, "post_id": 32210070, "comment_id": 52304045, "body": "You&#39;re only using 4 of the 27+ fields you&#39;re capturing. Try replacing the capture groups you aren&#39;t using with <code>(?:.*)</code> instead (and adjusting the references to match). Also, use <code>[^,]</code> in place of <code>.</code> to limit the amount of backtracking the regex engine may be attempting."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1440523249, "post_id": 32210070, "comment_id": 52304278, "body": "Also, it&#39;s much faster to simply split the line into an array, then access the array elements you want."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440525063, "post_id": 32210070, "comment_id": 52305353, "body": "Do you really want to do the substitution multiple times on the same line?"}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1440529627, "post_id": 32210070, "comment_id": 52308009, "body": "<code>awk -F, &#39;{ printf &quot;REPLACE INTO student ... %s, %s, %s, %s);&quot;, $24, $26, $2, $27 }&#39;</code> would be a considerably more readable approach..."}], "answers": [{"tags": [], "owner": {"reputation": 6595, "user_id": 5218277, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZuEZa.jpg?s=128&g=1", "display_name": "Alex Lop.", "link": "https://stackoverflow.com/users/5218277/alex-lop"}, "is_accepted": true, "score": 0, "last_activity_date": 1440523057, "creation_date": 1440523057, "answer_id": 32210199, "question_id": 32210070, "link": "https://stackoverflow.com/questions/32210070/faster-way-to-do-search-and-replace-on-a-comma-delimited-line-of-text/32210199#32210199", "title": "Faster way to do search and replace on a comma delimited line of text?", "body": "<p>Try replacing each <code>(.*)</code> with this:\n<code>([^,]+)</code></p>\n\n<p>I am sure it will reduce the execution time.</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 4, "last_activity_date": 1440533228, "last_edit_date": 1495542583, "creation_date": 1440523107, "answer_id": 32210217, "question_id": 32210070, "link": "https://stackoverflow.com/questions/32210070/faster-way-to-do-search-and-replace-on-a-comma-delimited-line-of-text/32210217#32210217", "title": "Faster way to do search and replace on a comma delimited line of text?", "body": "<p>Rather than search and replace, I'd probably <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">parse the CSV file</a> and construct the SQL statements line by line. It doesn't look like you're doing anything that needs the text-matching capabilities of a regular expression.</p>\n\n<hr>\n\n<p>Edit: see my <a href=\"https://stackoverflow.com/a/32213060/82262\">answer</a> on your other, very similar, potentially duplicate post for the \"correct\" way to do this.</p>\n"}], "owner": {"reputation": 2490, "user_id": 1423967, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1bd67c85298a7bf3cc5c177ed1eb9e81?s=128&d=identicon&r=PG", "display_name": "Dave A", "link": "https://stackoverflow.com/users/1423967/dave-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 32210199, "answer_count": 2, "score": 0, "last_activity_date": 1440533228, "creation_date": 1440522585, "question_id": 32210070, "link": "https://stackoverflow.com/questions/32210070/faster-way-to-do-search-and-replace-on-a-comma-delimited-line-of-text", "title": "Faster way to do search and replace on a comma delimited line of text?", "body": "<p>I have a CSV file in which I want to do a search and replace on each line to form SQL statements.  I have come up with this perl script ...</p>\n\n<pre><code>#!/bin/bash\nperl -pi -e \"s/(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*),(.*)/REPLACE INTO student (ID, SIS_ID, STUDENT_NUM, USER_ID, OTHER_USER_ID) VALUES (REPLACE(uuid(), '-', ''), '\\$24', '\\$26', '\\$2', '\\$27');/g\" $1 \n</code></pre>\n\n<p>However, on a one line file, this takes about 15 seconds to run.  As you can imagine on a file of thousnads of lines, this takes hours.</p>\n\n<p>Is there another way I can write the above that would speed up the search and replace?  I'm not married to Perl.  I'm using Mac 10.9.5, bash shell.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 7, "creation_date": 1440522405, "post_id": 32209882, "comment_id": 52303842, "body": "Perl isn&#39;t sed...you don&#39;t have to use a regex for <i>everything</i>. :)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440522838, "post_id": 32209882, "comment_id": 52304068, "body": "This is fairly trivial to solve if you&#39;re not married to doing all the work inside a single regular expression."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1440523041, "post_id": 32209882, "comment_id": 52304179, "body": "Properly parse entries and just <code>next</code> your loop with simple literal <code>if ($Y2 - $Y1 &lt; 30)</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1440523233, "post_id": 32209882, "comment_id": 52304271, "body": "@OlegV.Volkov When the original poster said &quot;remove&quot;, he meant &quot;zero out&quot;, so skipping with <code>next</code> isn&#39;t going to get the desired output."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1440523831, "post_id": 32209882, "comment_id": 52304629, "body": "The sample output isn&#39;t correct. 5374 - 5940 = -566, which is less than 30. The first record of output should be zeroed out according to your requirements."}], "answers": [{"tags": [], "owner": {"reputation": 808, "user_id": 2615836, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Oryma.jpg?s=128&g=1", "display_name": "Codes with Hammer", "link": "https://stackoverflow.com/users/2615836/codes-with-hammer"}, "is_accepted": false, "score": -1, "last_activity_date": 1440523160, "creation_date": 1440523160, "answer_id": 32210235, "question_id": 32209882, "link": "https://stackoverflow.com/questions/32209882/perl-logical-conditional-expression-possible/32210235#32210235", "title": "perl logical/conditional expression possible?", "body": "<p>This sounds like a job for <code>if() {}</code> instead of regex.</p>\n\n<p>Apologies if the following needs editing - my Perl is rusty.</p>\n\n<p>My snippet assumes two input arrays <code>@y1</code> and <code>@y2</code>, both of the same known length <code>$array_length</code>.</p>\n\n<pre><code>my $i = 0;\nmy $y1 = 0;\nmy $y2 = 0;\n\nfor ( i = 0; i &lt; $array_length; i++ )\n{\n    $y1 = $y1[i];\n    $y2 = $y2[i];\n    if ( $y2 - $y1 &lt; 30 )\n    {\n        #your output code here\n    }\n    else\n    {\n        #output 0s here\n    }\n}\n</code></pre>\n\n<p>There's ways to simplify that to have only one output block.</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1440524977, "creation_date": 1440524977, "answer_id": 32210780, "question_id": 32209882, "link": "https://stackoverflow.com/questions/32209882/perl-logical-conditional-expression-possible/32210780#32210780", "title": "perl logical/conditional expression possible?", "body": "<p>This expects to be called with your input filename as an argument:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @queue;\n\nwhile (&lt;&gt;) {\n    next unless /\\S/;\n    push(@queue, $_);\n\n    if (/^S/) {\n        my ($x1, $y1) = split(/\\s+/, shift(@queue));\n        my ($x2, $y2) = split(/\\s+/, shift(@queue));\n\n        if ($y2 - $y1 &lt; 30) {\n            $x1 = $y1 = $x2 = $y2 = 0;\n        }\n\n        print \"$x1 $y1 m\\n$x2 $y2 l\\nS\\n\\n\";\n        @queue = ();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 1, "last_activity_date": 1440543671, "creation_date": 1440543671, "answer_id": 32215476, "question_id": 32209882, "link": "https://stackoverflow.com/questions/32209882/perl-logical-conditional-expression-possible/32215476#32215476", "title": "perl logical/conditional expression possible?", "body": "<p>If it is looking like a record what about reading it like a records:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = \"S\\n\\n\";\n\nwhile (&lt;&gt;) {\n    my ( $x1, $y1, $x2, $y2 ) = m/(\\d+)\\s+(\\d+)\\s+m\\n(\\d+)\\s+(\\d+)\\s+l/;\n    next unless defined $x1;\n    $_ = \"0 0 m\\n0 0 l\\nS\\n\\n\" if $y1 - $y2 &lt; 30;\n}\ncontinue {\n    print;\n}\n</code></pre>\n\n<p>BTW, your example output doesn't correspond with your <code>Y2-Y1 &lt; 30</code> condition.</p>\n"}], "owner": {"reputation": 11, "user_id": 5265206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095b15b452f3be3b3b6cead2c8c1dc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Decker", "link": "https://stackoverflow.com/users/5265206/anthony-decker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1440543671, "creation_date": 1440521922, "last_edit_date": 1440527154, "question_id": 32209882, "link": "https://stackoverflow.com/questions/32209882/perl-logical-conditional-expression-possible", "title": "perl logical/conditional expression possible?", "body": "<p>I need to proccess a waveform from a text file.<br><br>\nI need to remove an element only when <strong>Y2-Y1 &lt; 30</strong><br>\nCurrently I run</p>\n\n<pre><code>s/[0-9.]{3,} [0-9.]{3,} m\\n[0-9.]{3,} [0-9.]{3,} l\\nS/0 0 m\\n0 0 l\\nS/g\n</code></pre>\n\n<p>but this removes more than I need. Is this even possible in perl?<br><br>\nThe format is</p>\n\n<pre><code>X1 Y1 m\nX2 Y2 l\nS\n</code></pre>\n\n<p>Sample Data:</p>\n\n<pre><code>1560 5940 m\n1560 5374 l\nS\n\n1548 5964 m\n1572 5964 l\nS\n\n1572 5964 m\n1572 5940 l\nS\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>1560 5940 m\n1560 5374 l\nS\n\n0 0 m\n0 0 l\nS\n\n0 0 m\n0 0 l\nS\n</code></pre>\n"}, {"tags": ["perl", "event-loop", "anyevent"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440519175, "post_id": 32207968, "comment_id": 52301968, "body": "I think you want Coro, a co-operative mutlitasking system that works with AnyEvent. Change <code>my $t_long = AE::timer 0, 0, \\&amp;_long_task;</code> to <code>async { _long_task() };</code> and change <code>DoEvents()</code> to <code>cede()</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1440520818, "post_id": 32207968, "comment_id": 52302924, "body": "By the way, <code>$cv</code> is equivalent to <code>sub { $cv-&gt;send; }</code> when used as a callback."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440531460, "post_id": 32207968, "comment_id": 52309016, "body": "The problem is that you are blocking inside a callback. <a href=\"http://pasted.co/c79c919c\" rel=\"nofollow noreferrer\">My solution</a> ...which doesn&#39;t work either :("}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440560353, "post_id": 32207968, "comment_id": 52318645, "body": "Forgot to mention: Do not comment those lines in AnyEvent.pm. They are correctly detecting a problem."}], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 4445363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6116fef2af1b9c8c9f3aa3536ce20358?s=128&d=identicon&r=PG&f=1", "display_name": "my_stk_oflw_account", "link": "https://stackoverflow.com/users/4445363/my-stk-oflw-account"}, "is_accepted": false, "score": 1, "last_activity_date": 1440602576, "last_edit_date": 1440602576, "creation_date": 1440587111, "answer_id": 32224954, "question_id": 32207968, "link": "https://stackoverflow.com/questions/32207968/how-to-call-event-loop-from-callback/32224954#32224954", "title": "How to call event loop from callback?", "body": "<p>Every problem has at least one simple solution (sometimes it is a dirty hack).</p>\n\n<p>In my case this one seems to work. I added it to production code.</p>\n\n<pre><code>BEGIN { our $orig_Carp_croak = \\&amp;Carp::croak; }\nsub DoEvents()\n{\n    my $cv = AE::cv;\n    my $t = AE::timer 0, 0, $cv;\n    no warnings 'redefine';\n    local *Carp::croak = sub{\n        (caller 1)[3] eq 'AnyEvent::CondVar::Base::recv'\n            &amp;&amp; $_[0] =~ /recursive blocking wait attempted/\n            &amp;&amp; return;\n        goto \\&amp;{our $orig_Carp_croak};\n    };\n    $cv-&gt;recv;\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nFor all callbacks that call DoEvents you will need to ensure that it they are not reentered. Like this:</p>\n\n<pre><code>our $entered_callbacks = {};\n# ...\nsub some_callback {\n    $entered_callbacks-&gt;{some_callback} &amp;&amp; return;\n    local $entered_callbacks-&gt;{some_callback} = 1;\n    ...;\n}\n</code></pre>\n\n<p>The loops EV and AnyEvent::Loop have flaw that the callback is removed from queue only when it returned, not before it is called. It makes event loop not safe for reentry.</p>\n"}], "owner": {"reputation": 309, "user_id": 4445363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6116fef2af1b9c8c9f3aa3536ce20358?s=128&d=identicon&r=PG&f=1", "display_name": "my_stk_oflw_account", "link": "https://stackoverflow.com/users/4445363/my-stk-oflw-account"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1440602576, "creation_date": 1440516177, "last_edit_date": 1440518030, "question_id": 32207968, "link": "https://stackoverflow.com/questions/32207968/how-to-call-event-loop-from-callback", "title": "How to call event loop from callback?", "body": "<p>That is, let the event loop process the events currently in queue. In VBA the call is named <code>DoEvents</code>.</p>\n\n<p>I want to do this in Perl. Preferably to do this in AnyEvent, because I have a script written with it. But I couldn't find any function like that in documentation.</p>\n\n<p>I naively tried to implement it with a condvar, because documentation says that <code>recv</code> calls event loop, but it failed, here is sample code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse AnyEvent;\nuse AnyEvent::Strict;\n\nsub _long_task;\n\nmy $t1 = AE::timer 0, 3, sub{print\"task 1, with interval 3 seconds\\n\";};\nmy $t2 = AE::timer 0, 7, sub{print\"task 2, with interval 7 seconds\\n\";};\nmy $t3 = AE::timer 0, 11, sub{print\"task 3, with interval 11 seconds\\n\";};\nmy $t_long = AE::timer 0, 0, \\&amp;_long_task;\n\nsub DoEvents()\n{\n    my $cv = AE::cv;\n    my $t = AE::timer 0, 0, sub { $cv-&gt;send; };\n    $cv-&gt;recv;\n}\n\nsub _long_task {\n    print\"long task: ENTERING\\n\";\n    for(1..5) {\n        print\"long task: doing some work for 2 seconds\\n\";\n        sleep 2;\n        print\"long task: calling DoEvents\\n\";\n        DoEvents();\n    }\n    print\"long task: EXITING, resheduling after 10 seconds\\n\";\n    $t_long = AE::timer 10, 0, \\&amp;_long_task;\n}\n\nAE::cv-&gt;recv;\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>task 1, with interval 3 seconds\ntask 2, with interval 7 seconds\ntask 3, with interval 11 seconds\nlong task: ENTERING\nlong task: doing some work for 2 seconds\nlong task: calling DoEvents\nAnyEvent::CondVar: recursive blocking wait attempted at C:\\Users\\andreyi\\Desktop\\try_event_loop.pl line 18.\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nThere are lines in AnyEvent.pm:</p>\n\n<pre><code>  $WAITING\n     and Carp::croak \"AnyEvent::CondVar: recursive blocking wait attempted\";\n</code></pre>\n\n<p>If you comment them, the DoEvents() works.</p>\n\n<p>However, it will be better to have solution that does not involve mofidication of this CPAN module.</p>\n"}, {"tags": ["perl", "cross-platform"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1440514861, "post_id": 32207357, "comment_id": 52298993, "body": "You <b><i>don&#39;t need to do this</i></b>. A WIndows build of Perl will use the <code>:crlf</code> PerlIO layer by default, and so your program will never have to deal with lines terminating in anything but a newline <code>&quot;\\n&quot;</code> in either input or output. Just leave <code>$&#47;</code> untouched (it is set to <code>&quot;\\n&quot;</code> by default) and you will be fine. Setting it to <code>&quot;\\r\\n&quot;</code> will cause Perl read the entire file in one go as the sequence will never be found"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440514910, "post_id": 32207357, "comment_id": 52299027, "body": "You beat me to it - I was just looking this up."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440515048, "post_id": 32207357, "comment_id": 52299137, "body": "He does if he uses <code>binmode</code>. But even then, he&#39;s probably better off looking for just LF and removing any preceding CR."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440515331, "post_id": 32207357, "comment_id": 52299333, "body": "@Borodin, He&#39;s reading the file a line at a time if he&#39;s using <code>$&#47;</code>."}, {"owner": {"reputation": 257, "user_id": 2531684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/21335058037134feca5f98b4ff7727db?s=128&d=identicon&r=PG", "display_name": "aurya", "link": "https://stackoverflow.com/users/2531684/aurya"}, "edited": false, "score": 3, "creation_date": 1440515424, "post_id": 32207357, "comment_id": 52299392, "body": "For precision : the perl code is executed on a linux environment, and can read files produced by unix or windows systems."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440515464, "post_id": 32207357, "comment_id": 52299427, "body": "So what does the <code>$windows</code> flag indicate?"}, {"owner": {"reputation": 257, "user_id": 2531684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/21335058037134feca5f98b4ff7727db?s=128&d=identicon&r=PG", "display_name": "aurya", "link": "https://stackoverflow.com/users/2531684/aurya"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440517551, "post_id": 32207357, "comment_id": 52300925, "body": "@Borodin The user choose to launch it as windows or linux compliance with an optional argument."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440527866, "post_id": 32207357, "comment_id": 52306978, "body": "@aurya: Okay thank you. I hope you will start including details like this in your questions, as your question misled several of us. In particular the cross-platform situation is very important and there is a tag for it which I have edited into your question"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440514939, "post_id": 32207428, "comment_id": 52299050, "body": "Whilst true in the general case - in this instance isn&#39;t necessary. <code>perl</code> already knows the difference between Windows and Unix line endings."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440514941, "post_id": 32207428, "comment_id": 52299055, "body": "Except that the whole idea is unnecessary, and any of these solutions will confuse things dreadfully"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1440515173, "post_id": 32207428, "comment_id": 52299225, "body": "@Borodin, is it <i>really</i> unnecessary? Suppose <code>$windows</code> only indicates the <i>intended</i> platform, not the current."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440515316, "post_id": 32207428, "comment_id": 52299322, "body": "@Axeman: We can suppose a lot of things, including the use of <code>binmode</code> as ikegami has said, but that is a highly random assumption and you should include it in your answer if that is what you think"}, {"owner": {"reputation": 257, "user_id": 2531684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/21335058037134feca5f98b4ff7727db?s=128&d=identicon&r=PG", "display_name": "aurya", "link": "https://stackoverflow.com/users/2531684/aurya"}, "edited": false, "score": 1, "creation_date": 1440515520, "post_id": 32207428, "comment_id": 52299472, "body": "@Axeman exactly, the target platform is linux, but files comes from either windows or linux platform"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440515616, "post_id": 32207428, "comment_id": 52299550, "body": "@borodin, your comment, not mine, is closer to an absolute, the absolute claim <i>assumes</i> a context, not the counter case which invalidates the absolute. &quot;Some A are B&quot; refutes the case that &quot;No A are B&quot;."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 257, "user_id": 2531684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/21335058037134feca5f98b4ff7727db?s=128&d=identicon&r=PG", "display_name": "aurya", "link": "https://stackoverflow.com/users/2531684/aurya"}, "edited": false, "score": 0, "creation_date": 1440516353, "post_id": 32207428, "comment_id": 52300086, "body": "@aurya, Good, glad I could help. But there probably is a cross-platform modules you could use from CPAN, though. Your title asks a general question, your example is a specific example. &quot;You don&#39;t need to do this&quot; solves the specific application, but knowing you don&#39;t need to do that <i>here</i>, doesn&#39;t solve the <i>general</i> case illustrated that comes from a lack of familiarity with localizing variables."}], "tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 6, "last_activity_date": 1440515071, "last_edit_date": 1440515071, "creation_date": 1440514685, "answer_id": 32207428, "question_id": 32207357, "link": "https://stackoverflow.com/questions/32207357/use-of-local-keyword-in-if-statement/32207428#32207428", "title": "Use of &#39;local&#39; keyword in if statement", "body": "<p>First way is to use the conditional operator:</p>\n\n<pre><code>{   local $/ = $windows ? \"\\r\\n\" : \"\\n\";\n    ...\n}\n</code></pre>\n\n<p>The other way you could do it is this: </p>\n\n<pre><code>{ # enclosing scope\n    local $/ = \"\\n\";\n    if ( $windows ) { $/ = \"\\r\\n\"; }\n    ...\n}\n</code></pre>\n\n<p>Or, you can just <code>local</code> it first and <em>then</em> assign it:</p>\n\n<pre><code>{   local $/;\n    if ( $windows ) { \n       $/ = \"\\r\\n\";\n    }\n    else { \n        $/ = \"\\n\";\n    }\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 257, "user_id": 2531684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/21335058037134feca5f98b4ff7727db?s=128&d=identicon&r=PG", "display_name": "aurya", "link": "https://stackoverflow.com/users/2531684/aurya"}, "edited": false, "score": 0, "creation_date": 1440517895, "post_id": 32207851, "comment_id": 52301167, "body": "I like your second solution because it removes the need of an extra argument."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 257, "user_id": 2531684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/21335058037134feca5f98b4ff7727db?s=128&d=identicon&r=PG", "display_name": "aurya", "link": "https://stackoverflow.com/users/2531684/aurya"}, "edited": false, "score": 0, "creation_date": 1440528085, "post_id": 32207851, "comment_id": 52307108, "body": "@aurya: Yes it does, as long as you always want to <code>chomp</code> each line of data. It&#39;s also worth pointing out that the <code>\\R</code> construction has been available only since version 10 of Perl 5, so you should probably put a <code>use v5.10</code> at the top of your program and comment it to say why. Version 10 was released in December 2007 so only the most lax of installations will have anything less"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1440515855, "creation_date": 1440515855, "answer_id": 32207851, "question_id": 32207357, "link": "https://stackoverflow.com/questions/32207357/use-of-local-keyword-in-if-statement/32207851#32207851", "title": "Use of &#39;local&#39; keyword in if statement", "body": "<p>You have now explained that your <code>$windows</code> flag indicates whether the source of the file is a Windows platform</p>\n\n<p>I would choose a whole different approach to this. You can either</p>\n\n<pre><code>my $fh;\nif ( $windows ) {\n    open $fh, '&lt;:crlf', $filename;\n}\nelse {\n    open $fh, '&lt;', $filename;\n}\n</code></pre>\n\n<p>or, perhaps best, just open it normally</p>\n\n<pre><code>open my $fh, '&lt;', $filename;\n</code></pre>\n\n<p>and then read it as</p>\n\n<pre><code>while ( &lt;$fh&gt; ) {\n    s/\\R\\z//;\n    # Process line\n}\n</code></pre>\n\n<p>using <code>s/\\R\\z//</code> instead of <code>chomp</code> will remove the trailing line terminator regardless of its origin. Unfortunately <code>$/</code> isn't a regex pattern so <code>local $/ = qr/\\R/</code> won't work</p>\n"}], "owner": {"reputation": 257, "user_id": 2531684, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/21335058037134feca5f98b4ff7727db?s=128&d=identicon&r=PG", "display_name": "aurya", "link": "https://stackoverflow.com/users/2531684/aurya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 32207851, "answer_count": 2, "score": 3, "last_activity_date": 1440527835, "creation_date": 1440514510, "last_edit_date": 1440527835, "question_id": 32207357, "link": "https://stackoverflow.com/questions/32207357/use-of-local-keyword-in-if-statement", "title": "Use of &#39;local&#39; keyword in if statement", "body": "<p>I want to use this code :</p>\n\n<pre><code>if ($windows) {\n    local $/ = \"\\r\\n\";\n} else {\n    local $/ = \"\\n\";\n}\n\n# ... code reading a file line by line\n</code></pre>\n\n<p>But it doesn't work because local limits the scope to the enclosing brackets. What should i do ?</p>\n\n<p>Is this the correct way ?</p>\n\n<pre><code>if ($windows) {\n    $/ = \"\\r\\n\";\n} else {\n    $/ = \"\\n\";\n}\n\n# ... code reading a file line by line\n</code></pre>\n\n<p>I'm scared it might have some side-effect on other programs..</p>\n"}, {"tags": ["regex", "perl", "matching"], "comments": [{"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "edited": false, "score": 0, "creation_date": 1440514933, "post_id": 32207283, "comment_id": 52299041, "body": "This is addressed early in <code>perlre(1)</code> in the section that discusses V8 regex syntax. <a href=\"http://perldoc.perl.org/perlre.html#Version-8-Regular-Expressions\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#Version-8-Regular-Expressions</a>"}], "answers": [{"tags": [], "owner": {"reputation": 14761, "user_id": 290072, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ITEsv.png?s=128&g=1", "display_name": "Almo", "link": "https://stackoverflow.com/users/290072/almo"}, "is_accepted": false, "score": 7, "last_activity_date": 1440514355, "creation_date": 1440514355, "answer_id": 32207306, "question_id": 32207283, "link": "https://stackoverflow.com/questions/32207283/what-does-mean-when-matching-in-perl-backslash-dot/32207306#32207306", "title": "What does \\. mean when matching in Perl? (backslash dot)", "body": "<p>It's escaping the period so that it can match a period instead of using the period's usual special meaning.</p>\n"}], "owner": {"reputation": 7, "user_id": 4798873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5675d68434d031573791863a50a2acfe?s=128&d=identicon&r=PG&f=1", "display_name": "kcommentator", "link": "https://stackoverflow.com/users/4798873/kcommentator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "closed_date": 1440514681, "answer_count": 1, "score": -1, "last_activity_date": 1440515195, "creation_date": 1440514304, "last_edit_date": 1440515195, "question_id": 32207283, "link": "https://stackoverflow.com/questions/32207283/what-does-mean-when-matching-in-perl-backslash-dot", "closed_reason": "Duplicate", "title": "What does \\. mean when matching in Perl? (backslash dot)", "body": "<p>I am wondering what the characters <code>\\.</code> mean in Perl, specifically in a matching expression. I know the <code>\\</code> can be an escape character. Is it simply escaping the dot? Or does it have an additional meaning together? </p>\n\n<p>In the context below, I am assuming that when the condition <code>($ARGV[$i] =~ /\\./)</code> is satisfied, the variable <code>$Chain</code> is <em>not</em> set to the argument <code>$ARGV[$i]</code>. I tried looking up information on Perl regular expressions and matching but I am having trouble fitting the context.</p>\n\n<pre><code>for (my $i = 0; $i &lt;= $#ARGV; $i++) {\n    if ($ARGV[$i] &amp;&amp; ! ($ARGV[$i] =~ /\\./)) {\n        $Chain .= \" \" .  $ARGV[$i];\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1440514243, "post_id": 32207052, "comment_id": 52298555, "body": "What are you trying to accomplish here? This feels like an XY problem."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440514560, "post_id": 32207052, "comment_id": 52298782, "body": "Do you have controll over <code>ABC.pm</code> and <code>foo.pm</code>?"}, {"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440515514, "post_id": 32207052, "comment_id": 52299470, "body": "Yeah, I&#39;m bad for asking XY questions.. I like them for helping to understand how stuff works, even if it&#39;s not good practice to use the answers for real. The community doesn&#39;t seem to like them though, so I guess I should get out of the habit?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1440515724, "post_id": 32207052, "comment_id": 52299624, "body": "The community has been burned on many occasions by chasing around after hypothetical questions that present bad solutions to non problems. There&#39;s nothing wrong with questions asking how stuff works, but it helps to be clear that&#39;s what you&#39;re doing - as a question about how perl&#39;s symbol table works, this is fine. However messing around with the symbol table is often a route to madness, and there&#39;s <i>generally</i> better solutions to a particular problem."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440517068, "post_id": 32207052, "comment_id": 52300592, "body": "I agree with @Sobrique. Also I got sidetracked by the title. There is indeed a way to import something as something else in Perl, with <a href=\"http://p3rl.org/aliased\" rel=\"nofollow noreferrer\">aliased</a>. That&#39;s what I answered first after only reading the title. The question however, asked for something else entirely. :)"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440514541, "post_id": 32207301, "comment_id": 52298766, "body": "I think OP means something else. I also thought this and posted an answer I have already deleted. But if you check the last part of the question you&#39;ll see there are packages inside of the packages. And that is something else."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1440514342, "creation_date": 1440514342, "answer_id": 32207301, "question_id": 32207052, "link": "https://stackoverflow.com/questions/32207052/import-in-perl-like-python-import-as/32207301#32207301", "title": "Import in Perl like Python &#39;import as&#39;", "body": "<p>If you want to load <code>DEF.pm</code> and access it as <code>bar</code> you can do this via typeglob:</p>\n\n<p><a href=\"http://perldoc.perl.org/perldata.html#Typeglobs-and-Filehandles\" rel=\"nofollow\">http://perldoc.perl.org/perldata.html#Typeglobs-and-Filehandles</a></p>\n\n<p><a href=\"http://perldoc.perl.org/perlmod.html#Symbol-Tables\" rel=\"nofollow\">http://perldoc.perl.org/perlmod.html#Symbol-Tables</a></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\npackage DEF; \n\nsub routine {\n    print \"Routine called\\n\";\n} \n\npackage main;\n\nlocal *foo::routine = *DEF::routine;\nfoo::routine();\n</code></pre>\n\n<p>This'll work for a single sub from a package to change the symbol table. </p>\n\n<p>But I'd actually question why you need to do this? Do you have two clashing namespaces or something? It's quite a good way to make code messier, rather than cleaner, so I wouldn't generally suggest it as a good idea. </p>\n\n<p>Otherwise - you can use a code reference:</p>\n\n<pre><code>my $ref_to_routine = \\&amp;DEF::routine;\n\n$ref_to_routine-&gt;();\n&amp;$ref_to_routine();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1440514562, "creation_date": 1440514562, "answer_id": 32207374, "question_id": 32207052, "link": "https://stackoverflow.com/questions/32207052/import-in-perl-like-python-import-as/32207374#32207374", "title": "Import in Perl like Python &#39;import as&#39;", "body": "<p>Your modules don't actually export anything.</p>\n\n<p><code>ABC.pm</code>:</p>\n\n<pre><code>package ABC;\nuse Exporter qw( import );\nour @EXPORT = qw( routine );\nsub routine { return __PACKAGE__ }\n</code></pre>\n\n<p><code>DEF.pm</code>:</p>\n\n<pre><code>package DEF;\nuse Exporter qw( import );\nour @EXPORT_OK = qw( routine );\nsub routine { return __PACKAGE__ }\n</code></pre>\n\n<p><code>script</code>:</p>\n\n<pre><code>package foo;\nuse ABC qw( routine );\n\npackage bar;\nuse DEF qw( routine );\n\npackage main;\nprint foo::routine(), \"\\n\";   # ABC\nprint bar::routine(), \"\\n\";   # DEF\n</code></pre>\n\n<p>You could also use something like the following:</p>\n\n<pre><code>use ABC qw( );\nuse DEF qw( );\nBEGIN {\n   *foo_routine = \\&amp;ABC::routine;   # Could use foo::routine if you wanted.\n   *bar_routine = \\&amp;DEF::routine;\n}\n\nprint foo_routine(), \"\\n\";   # ABC\nprint bar_routine(), \"\\n\";   # DEF\n</code></pre>\n\n<p><code>use Module ()</code> and <code>use Module qw()</code> prevents the module's <code>import</code> from being called. The modules here don't define any default exports, but I like to be explicit about what I import.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1440515446, "last_edit_date": 1440515446, "creation_date": 1440515096, "answer_id": 32207591, "question_id": 32207052, "link": "https://stackoverflow.com/questions/32207052/import-in-perl-like-python-import-as/32207591#32207591", "title": "Import in Perl like Python &#39;import as&#39;", "body": "<p>From the description I assume you controll neither <code>ABC</code> nor <code>foo</code>.</p>\n\n<p>Because there are no <code>import</code> subs in either of those two, all their subs live in their respective pacakges. So if you load <code>foo</code>, <code>ABC</code> will also be loaded and the code will be available to Perl. But the sub in <code>ABC</code> is only accessible with its fully qualified name <code>ABC::routine</code>.</p>\n\n<p>In fact that is the same as when LWP::UserAgent <code>require</code>s HTTP::Request. Now you can use HTTP::Request without a <code>use HTTP::Request</code> in your code. You only put <code>use LWP::UserAgent</code> there, and since that loaded the other one, it's now available.</p>\n\n<p>Of course those do not export stuff, so it's a bit different, but that is essentially what's going on here.</p>\n\n<hr>\n\n<p><strong>However, without controll of at least <code>foo.pm</code> there is no way to counter that.</strong> You cannot overwrite a <code>package</code> statement or declare some part of the program where <code>package</code> doesn't do anything.</p>\n\n<hr>\n\n<p>To go a bit further, you probably are used to legacy code, where there are <code>.pl</code> files that require other <code>.pl</code> files and there are no packages. Now a package becomes a problem, because if there usually are none and there is no <code>Exporter</code>ing going on, stuff gets weird.</p>\n\n<p>I have often needed to contain legacy code with lots of globals inside of packages to hide them away from my <code>main</code> namespace.</p>\n\n<pre><code>package DoNotPutGlobalsInMyMain { require 'legacy.pl' };\n</code></pre>\n\n<p>But if there is is an explicit definition of another <code>package</code> inside of <code>legacy.pl</code> this will break. So my above statement still stands. You need controll of that code to fix it, or know which package <em>really</em> contains the sub you want to call. </p>\n\n<p>Then you can <code>use</code> or <code>require</code> that package yourself. As long as <code>foo.pm</code> has already loaded it, it will not get loaded again (because Perl made a note in <code>%INC</code> that it has loaded it). But if upstream they remove it from <code>foo.pm</code> it will still be available. Also your maintenance programmer understands what your dependencies are.</p>\n"}], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 32207591, "answer_count": 3, "score": 2, "last_activity_date": 1440515446, "creation_date": 1440513636, "question_id": 32207052, "link": "https://stackoverflow.com/questions/32207052/import-in-perl-like-python-import-as", "title": "Import in Perl like Python &#39;import as&#39;", "body": "<p>Does Perl have something like python's <code>import as</code>?</p>\n\n<p>If the modules don't specify a package, this hacky little solution could work:</p>\n\n<pre><code># mod1.pm\nsub routine{ return \"I'm from mod1\\n\"; }\n</code></pre>\n\n<p></p>\n\n<pre><code># mod2.pm\nsub routine{ return \"I'm from mod2\\n\"; }\n</code></pre>\n\n<p></p>\n\n<pre><code>#!/usr/bin/perl\n\n# similar to 'import mod1 as foo'\npackage foo;\nrequire 'mod1.pm';\n\n# similar to 'import mod2 as bar'\npackage bar;\nrequire 'mod2.pm';\n\n# now do some script stuff\npackage main;\nprint foo::routine();\nprint bar::routine();\n</code></pre>\n\n<p>This doesn't work if the modules come with their own namespace:</p>\n\n<pre><code># ABC.pm\npackage ABC;\nsub routine{ return \"I'm from ABC\\n\"; }\n</code></pre>\n\n<p></p>\n\n<pre><code># DEF.pm\npackage DEF;\nsub routine{ return \"I'm from DEF\\n\"; }\n</code></pre>\n\n<p></p>\n\n<pre><code>#!/usr/bin/perl\n\npackage foo;\nrequire 'ABC.pm';\n\npackage bar;\nrequire 'DEF.pm';\n\npackage main;\nprint foo::routine();\nprint bar::routine();\n\n# These calls produce undefined subroutine errors.\n</code></pre>\n\n<p>Is it possible to import a file, and force its contents into a specific namespace?</p>\n"}, {"tags": ["python", "vba", "perl", "outlook", "outlook-2010"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440514317, "post_id": 32206431, "comment_id": 52298609, "body": "So what you have done so far to solve this problem is to find an old Stack Overflow solution that youu think might be close and feed it back into another question, in the hope that someone will write the code for you. Have you actually written <i>any</i> code yourself, and do you have a <i>specific</i> problem?"}], "answers": [{"comments": [{"owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "edited": false, "score": 1, "creation_date": 1440525983, "post_id": 32210593, "comment_id": 52305892, "body": "I am honored by your presence! I tried OutlookSpy, but I could not figure out how to use it. But I am sure it is very powerful, looks like it can traverse everything. I will try your suggestion now."}, {"owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "edited": false, "score": 0, "creation_date": 1440538359, "post_id": 32210593, "comment_id": 52312619, "body": "No idea why you got a downvote here, your answer was exactly to the point."}], "tags": [], "owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "is_accepted": false, "score": 6, "last_activity_date": 1460136848, "last_edit_date": 1460136848, "creation_date": 1440524352, "answer_id": 32210593, "question_id": 32206431, "link": "https://stackoverflow.com/questions/32206431/how-can-i-search-the-outlook-2010-global-address-list-for-a-name/32210593#32210593", "title": "How can I search the Outlook (2010) Global Address List for a name?", "body": "<p>Your code above deals with the contacts in the default Contacts folder. If you want to check if a given name is in Outlook (either as a contact or in GAL), simply call <code>Application.Session.CreateRecipient</code> followed by <code>Recipient.Resolve</code>. If the call returns <code>true</code>, you can read the <code>Recipient.Address</code> and various other properties.</p>\n"}, {"tags": [], "owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "is_accepted": false, "score": 6, "last_activity_date": 1440659858, "last_edit_date": 1495541831, "creation_date": 1440535872, "answer_id": 32213823, "question_id": 32206431, "link": "https://stackoverflow.com/questions/32206431/how-can-i-search-the-outlook-2010-global-address-list-for-a-name/32213823#32213823", "title": "How can I search the Outlook (2010) Global Address List for a name?", "body": "<p><strong><em>Problem solved!</em></strong></p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/a/32210593/193892\">Dmitry's</a> <a href=\"https://stackoverflow.com/a/26499692/193892\">answers</a> I could produce this minimal Python code which demonstrates what I wanted to achieve:</p>\n\n<pre><code>from __future__ import print_function\nimport win32com.client\n\nsearch_string = 'Doe John'\n\noutlook = win32com.client.gencache.EnsureDispatch('Outlook.Application')\nrecipient = outlook.Session.CreateRecipient(search_string)\nrecipient.Resolve()\nprint('Resolved OK: ', recipient.Resolved)\nprint('Is it a sendable? (address): ', recipient.Sendable)\nprint('Name: ', recipient.Name)\n\nae = recipient.AddressEntry\nemail_address = None\n\nif 'EX' == ae.Type:\n    eu = ae.GetExchangeUser()\n    email_address = eu.PrimarySmtpAddress\n\nif 'SMTP' == ae.Type:\n    email_address = ae.Address\n\nprint('Email address: ', email_address)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1803, "user_id": 10957844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71bcaa11950c4881a16b908e5e1d333?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/10957844/tim"}, "is_accepted": true, "score": 3, "last_activity_date": 1550701256, "creation_date": 1550701256, "answer_id": 54796135, "question_id": 32206431, "link": "https://stackoverflow.com/questions/32206431/how-can-i-search-the-outlook-2010-global-address-list-for-a-name/54796135#54796135", "title": "How can I search the Outlook (2010) Global Address List for a name?", "body": "<p>The method in @Prof.Falken's solution doesn't always work when there are multiple matches for the search string. I found another solution, which is more robust as it uses exact match of the <code>displayname</code>. </p>\n\n<p>It's inspired by <a href=\"https://stackoverflow.com/questions/28847029/how-to-fetch-exact-match-of-addressentry-object-from-gal-global-address-list\">How to fetch exact match of addressEntry object from GAL (Global Address List)</a>.</p>\n\n<pre><code>import win32com.client\n\nsearch_string = 'Doe John'\n\noutlook = win32com.client.gencache.EnsureDispatch('Outlook.Application')\ngal = outlook.Session.GetGlobalAddressList()\nentries = gal.AddressEntries\nae = entries[search_string]\nemail_address = None\n\nif 'EX' == ae.Type:\n    eu = ae.GetExchangeUser()\n    email_address = eu.PrimarySmtpAddress\n\nif 'SMTP' == ae.Type:\n    email_address = ae.Address\n\nprint('Email address: ', email_address)\n</code></pre>\n"}], "owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4973, "favorite_count": 3, "accepted_answer_id": 54796135, "answer_count": 3, "score": 3, "last_activity_date": 1550701256, "creation_date": 1440512103, "last_edit_date": 1440659922, "question_id": 32206431, "link": "https://stackoverflow.com/questions/32206431/how-can-i-search-the-outlook-2010-global-address-list-for-a-name", "title": "How can I search the Outlook (2010) Global Address List for a name?", "body": "<p>I have a list of names, some of them complete, some truncated. I would like to search the Outlook address list for matches for these names.</p>\n\n<p>The closest I have come is this Python code <a href=\"http://code.activestate.com/recipes/173216-import-outlook-contacts-using-win32com/\" rel=\"nofollow\">which came from ActiveState Code</a>, but it does not search the global addresses, only my (local?) list, which has 3 addresses in it, which is obviously not right. There should be thousands of records.</p>\n\n<p>Any hints welcome. I have googled and read dozens of pages, but nothing conclusive. I'd rather not connect to the LDAP directly, I think that is a policy violation in my org and besides I am not sure it's possible. Would like to do this via the Outlook API if possible.</p>\n\n<pre><code>DEBUG=1\n\nclass MSOutlook:\n    def __init__(self):\n        self.outlookFound = 0\n        try:\n            self.oOutlookApp = \\\n                win32com.client.gencache.EnsureDispatch(\"Outlook.Application\")\n            self.outlookFound = 1\n        except:\n            print(\"MSOutlook: unable to load Outlook\")\n\n        self.records = []\n\n\n    def loadContacts(self, keys=None):\n        if not self.outlookFound:\n            return\n\n        # this should use more try/except blocks or nested blocks\n        onMAPI = self.oOutlookApp.GetNamespace(\"MAPI\")\n        ofContacts = \\\n            onMAPI.GetDefaultFolder(win32com.client.constants.olFolderContacts)\n\n        if DEBUG:\n            print(\"number of contacts:\", len(ofContacts.Items))\n\n        for oc in range(len(ofContacts.Items)):\n            contact = ofContacts.Items.Item(oc + 1)\n            if contact.Class == win32com.client.constants.olContact:\n                if keys is None:\n                    # if we were't give a set of keys to use\n                    # then build up a list of keys that we will be\n                    # able to process\n                    # I didn't include fields of type time, though\n                    # those could probably be interpreted\n                    keys = []\n                    for key in contact._prop_map_get_:\n                        if isinstance(getattr(contact, key), (int, str, unicode)):\n                            keys.append(key)\n                    if DEBUG:\n                        keys.sort()\n                        print(\"Fields\\n======================================\")\n                        for key in keys:\n                            print(key)\n                record = {}\n                for key in keys:\n                    record[key] = getattr(contact, key)\n                if DEBUG:\n                    print(oc, record['FullName'])\n                self.records.append(record)\n</code></pre>\n\n<p>Random links:</p>\n\n<ul>\n<li><p><a href=\"http://blogs.msdn.com/b/dgoldman/archive/2006/11/13/how-to-create-a-global-address-list-programmatically-using-visual-basic.aspx\" rel=\"nofollow\"><strong>MSDN</strong> - How to create a Global Address List programmatically using Visual Basic</a></p></li>\n<li><p><a href=\"http://www.infinitec.de/post/2005/02/27/How-to-get-the-Global-Address-List-programatically.aspx\" rel=\"nofollow\"><strong>Infinitec</strong> - How to get the Global Address List programatically</a></p></li>\n<li><p><a href=\"http://www.returnbooleantrue.com/2009/01/downloading-global-address-list-from.html\" rel=\"nofollow\"><strong>Return Boolean True</strong> - Downloading the Global Address List from Outlook/Exchange</a></p></li>\n<li><p><a href=\"http://grokbase.com/t/python/python-win32/0566n5d4sc/getting-global-addressbook-with-extended-mapi\" rel=\"nofollow\"><strong>Grokbase</strong> - [python-win32] getting global addressbook with extended mapi</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/2491808/searching-outlook-global-address-list\"><strong>Stack Overflow</strong> - Searching Outlook Global Address</a></p>\n\n<p>Another failed attempt at List</p></li>\n<li><p><a href=\"https://code.activestate.com/lists/perl-win32-admin/152/\" rel=\"nofollow\"><strong>ActiveStater Code</strong> - RE: Email Address Lookup</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/11538550/retrieving-outlook-contacts-via-python\"> <strong>Stack Overflow</strong> - Retrieving outlook Contacts via python</a></p>\n\n<p>This is where I got the link above</p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/11537808/fetching-outlook-contacts-with-python\"><strong>Stack Overflow</strong> - Fetching Outlook Contacts with Python</a></p>\n\n<p>Doesn't run at all</p></li>\n<li><p><a href=\"http://win32com.goermezer.de/content/view/97/192/\" rel=\"nofollow\"><strong>Python for Windows</strong> - Automating Microsoft Outlook</a></p>\n\n<p>Just default address book. Besides I want to search, not list all.</p></li>\n</ul>\n\n<p>If anyone can come up with a solution I don't mind if it's C++, VB, Perl, Python, etc.</p>\n"}, {"tags": ["perl", "file", "security"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1440513292, "post_id": 32206255, "comment_id": 52297784, "body": "I&#39;m afraid this questions is a bit too broad to meaningfully answer. You can do this - of course you can - but the devil is in the details."}, {"owner": {"reputation": 177, "user_id": 3264910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZKrgW.jpg?s=128&g=1", "display_name": "Scotsman", "link": "https://stackoverflow.com/users/3264910/scotsman"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440513303, "post_id": 32206255, "comment_id": 52297797, "body": "To clarify, specific users should only have access to specific files. Each user would have their own list of allowed files for access. All other files would not be visible or accessible to the user. Hope that makes sense."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440513467, "post_id": 32206255, "comment_id": 52297915, "body": "It does, but it&#39;s still not something that can be trivially answered. Stack Overflow is really about helping programmers figure out problems. Not about writing solutions from scratch. If you&#39;re trying this and you&#39;re having a problem with it - this would be a good place to ask about it."}, {"owner": {"reputation": 177, "user_id": 3264910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZKrgW.jpg?s=128&g=1", "display_name": "Scotsman", "link": "https://stackoverflow.com/users/3264910/scotsman"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440513905, "post_id": 32206255, "comment_id": 52298275, "body": "Well I&#39;ve searched for the best approach to this and can find nothing of much value. My reasoning is there is no point in me heading off in the wrong direction on this and wasting hours putting something together that makes no sense. Hence my &#39;general&#39; question looking for some general guidance, references etc I can read. I&#39;m not looking for coding problem advice at this time. More for guidance on the best approach for user-level file access management, especially with Perl."}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 3264910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZKrgW.jpg?s=128&g=1", "display_name": "Scotsman", "link": "https://stackoverflow.com/users/3264910/scotsman"}, "is_accepted": false, "score": 0, "last_activity_date": 1440842545, "creation_date": 1440842545, "answer_id": 32284827, "question_id": 32206255, "link": "https://stackoverflow.com/questions/32206255/managing-user-access-to-files/32284827#32284827", "title": "Managing user access to files", "body": "<p>After some digging around and talking to a programmer friend (who was helpful enough to say more than \"it's not trivial\"), I got the steer needed on this question. In case it may help someone in the future, here is the synopsis:</p>\n\n<ul>\n<li>upload the files to a secure area (users cannot access directly)</li>\n<li>hold the meta data in the database (eg. who has access to what files)</li>\n</ul>\n\n<p>When accessing:</p>\n\n<ul>\n<li>check the user has access according to the database</li>\n<li>use Perl module File::Type to determine mime type</li>\n<li>use Perl module IO::File to open a file and print it using the appropriate mime type header to the user's browser</li>\n</ul>\n\n<p>Check the CPAN library for the details of each module.</p>\n\n<p>Works very nicely!\nAnd actually quite trivial :)</p>\n"}], "owner": {"reputation": 177, "user_id": 3264910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZKrgW.jpg?s=128&g=1", "display_name": "Scotsman", "link": "https://stackoverflow.com/users/3264910/scotsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440842545, "creation_date": 1440511613, "question_id": 32206255, "link": "https://stackoverflow.com/questions/32206255/managing-user-access-to-files", "title": "Managing user access to files", "body": "<p>I'm looking for some guidance on the best way to manage user-level access to files (ideally with Perl, but any general guidance also appreciated). Here is the requirement:</p>\n\n<ul>\n<li><p>I have users upload files which I want to keep secure so that no one can generally see them apart from the owner that uploaded them</p></li>\n<li><p>I want to then be able to grant access to other specific users so that they can open the files read-only</p></li>\n<li><p>All my users are managed in a MySQL database</p></li>\n<li><p>I intend to hold the uploaded files in the file system, not the database. I will store metadata about the files in the database.</p></li>\n</ul>\n\n<p>What's the best approach to manage secure access by user to the files? I can rename the files on upload and keep in a secure directory somewhere. I can store the required access information in the database by user. But how to manage access for any given user? Copy the files out to a temporary area while accessing them?</p>\n"}, {"tags": ["perl", "ssl", "https", "phantomjs"], "comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 2, "creation_date": 1440504845, "post_id": 32203717, "comment_id": 52291475, "body": "<code>get(https:&#47;&#47;www.landata.vic.gov.au&#47;);</code>? Somethings missing"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1440505041, "post_id": 32203717, "comment_id": 52291595, "body": "<code>use CGI qw(:cgi-lib :standard);</code> ... hmmmm ... very puzzling. Why exactly do you need this?"}], "answers": [{"comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1440507320, "post_id": 32204085, "comment_id": 52293134, "body": "General reference: <a href=\"http://stackoverflow.com/questions/12021578/phantomjs-failing-to-open-https-site\" title=\"phantomjs failing to open https site\">stackoverflow.com/questions/12021578/&hellip;</a>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1440507523, "post_id": 32204085, "comment_id": 52293284, "body": "@ArtjomB.: I thought it would be obvious from the documentation but I&#39;ve now added it to the response."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1440513852, "post_id": 32204085, "comment_id": 52298235, "body": "@Sinan&#220;n&#252;r: I think this is a typo in the sample code but not in the real code since it would not even pass the syntax check without the missing quotes."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1440507519, "last_edit_date": 1440507519, "creation_date": 1440505827, "answer_id": 32204085, "question_id": 32203717, "link": "https://stackoverflow.com/questions/32203717/wwwmechanizephantomjs-cannot-get-https-page/32204085#32204085", "title": "WWW::Mechanize::PhantomJS cannot get HTTPS page", "body": "<p>PhantomJs by default tries SSL 3.0 and your target site does not support SSL 3.0.\nTry to override this default behavior by adding <code>--ssl-protocol=any</code> with <code>phantomjs_arg</code>:</p>\n\n<pre><code>my $website = WWW::Mechanize::PhantomJS -&gt; new(\n    phantomjs_arg =&gt; [ '--ssl-protocol=any' ],\n    launch_arg =&gt; ['ghostdriver/src/main.js']\n);\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 2885506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f8b9723b7b44103be45ba46862b599?s=128&d=identicon&r=PG&f=1", "display_name": "Kinh Nguyen", "link": "https://stackoverflow.com/users/2885506/kinh-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1440507519, "creation_date": 1440504755, "last_edit_date": 1440504978, "question_id": 32203717, "link": "https://stackoverflow.com/questions/32203717/wwwmechanizephantomjs-cannot-get-https-page", "title": "WWW::Mechanize::PhantomJS cannot get HTTPS page", "body": "<p>I write a Perl script using WWW::Mechanize::PhantomJS to get the content of the page <code>https://www.landata.vic.gov.au/</code> but the content is empty.</p>\n\n<p>It seems there is something wrong with SSL Certificate, could anyone help me fix this problem?</p>\n\n<p>Here is the code I extracted from my program:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse CGI qw(:cgi-lib :standard);\nuse WWW::Mechanize::PhantomJS;\nuse Utility;\nuse JSON;\n#use DBI;\nuse DateTime;\nuse DateTime::TimeZone;\n\n#Create PhantomJs object\n\nmy $website = WWW::Mechanize::PhantomJS -&gt; new(\n    launch_arg =&gt; ['ghostdriver/src/main.js']\n);\n\n#Launch the website\n$website -&gt; get(https://www.landata.vic.gov.au/);\n\n#Get content of the page\n\nprint $website-&gt;content( format =&gt; 'html' );\n</code></pre>\n"}, {"tags": ["regex", "perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 7, "creation_date": 1440502949, "post_id": 32202988, "comment_id": 52290209, "body": "Move <code>$impression_date</code> and prepare statement out of the loop for starters."}, {"owner": {"reputation": 878, "user_id": 1332390, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8937b257f98571699f8b1c99ca3d4cd3?s=128&d=identicon&r=PG", "display_name": "Naruto Uzumaki", "link": "https://stackoverflow.com/users/1332390/naruto-uzumaki"}, "edited": false, "score": 0, "creation_date": 1440505462, "post_id": 32202988, "comment_id": 52291886, "body": "@Hynek-Pichi-Vychodil MySQL. It takes around 1hr to process each file and 1 hr to insert into the database per file"}, {"owner": {"reputation": 878, "user_id": 1332390, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8937b257f98571699f8b1c99ca3d4cd3?s=128&d=identicon&r=PG", "display_name": "Naruto Uzumaki", "link": "https://stackoverflow.com/users/1332390/naruto-uzumaki"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1440508367, "post_id": 32202988, "comment_id": 52293965, "body": "@\u0421\u0443\u0445\u043e\u043927 Your solution worked."}], "answers": [{"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": true, "score": 0, "last_activity_date": 1440515979, "last_edit_date": 1440515979, "creation_date": 1440509242, "answer_id": 32205320, "question_id": 32202988, "link": "https://stackoverflow.com/questions/32202988/perl-processing-large-files-and-storing-into-database/32205320#32205320", "title": "Perl: Processing large files and storing into database", "body": "<p>Just for inspiration, how it could look like (untested):</p>\n\n<pre><code>for ( $i = 0; $i &lt; 12; $i++ ) {\n    $img_log_path = \"Set appropriate path according to the iteration\";\n\n    open( my $fh, '&lt;', $img_log_path )\n        or \"$0: Could not open the file $img_log_path: $!\";\n\n    while ( $line = &lt;$fh&gt; ) {\n\n        if (my ( $impression_url_time, $affid, $ref_url, $host )\n            = $line =~ m,\n                    \\A \\S+ \\s+                                      # IP\n                    \\[ [^:]+ : ( \\d\\d:\\d\\d:\\d\\d ) \\s [^\\]] \\] \\s+   # date and time\n                    (?: \" [^\"]* ){10}                               # use same skip as original split\n                    \" \\S+ \\s+ \\S+? \\&amp; si= (\\d+) [^\"]+ \" \\s+         # affid from HTTP header line\n                    \" ( http:// ( [^/]+ ) / [^\"]+ ) \"               # referential url and host\n                    ,x\n            )\n        {\n            my $rec = $impression_urls{$affid}{$ref_url} //= {\n                IMPRESSION_TIME     =&gt; $impression_time,\n                IMPRESSION_URL_HOST =&gt; $host\n            };\n\n            $rec-&gt;{IMPRESSION_COUNT}++;\n            $rec-&gt;{IMPRESSION_TIME} = $impression_time\n                unless $rec-&gt;{IMPRESSION_TIME} le $impression_time;\n\n            $affiliates{$affid}{TOTAL_IMP}++;\n            $affiliates{$affid}{ADULT_IMP}++ if &amp;CheckURL($ref_url);\n        }\n    }\n}\n\nmy $date = `date --date=\"yesterday\" +%Y-%m-%d`;\n\nmy $statement = do {\n    my $impression_table = \"tns_impressions\";\n    my $query\n        = \"INSERT INTO `$impression_table` (affiliate_id, impression_url, created_at, no_of_impressions, hostname) VALUES (?,?,?,?,?)\";\n    $dbh-&gt;prepare($query)\n        or print STDERR $dbh-&gt;errstr;\n};\n\nfor $aff_id (@aff_ids)\n{    #@aff_ids contains all the affiliate ids from a database\n\n    foreach my $impression_url ( keys %{ $impression_urls{$aff_id} } ) {\n\n        my $rec = $impression_urls{$aff_id}{$impression_url};\n\n        # Insert the URL into the database\n        $statement-&gt;execute(\n            $aff_id, $impression_url,\n            \"$date $rec-&gt;{IMPRESSION_TIME}\",\n            $rec-&gt;{IMPRESSION_COUNT},\n            $rec-&gt;{IMPRESSION_URL_HOST}\n        ) or print STDERR $statement-&gt;errstr;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 878, "user_id": 1332390, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8937b257f98571699f8b1c99ca3d4cd3?s=128&d=identicon&r=PG", "display_name": "Naruto Uzumaki", "link": "https://stackoverflow.com/users/1332390/naruto-uzumaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 32205320, "answer_count": 1, "score": -1, "last_activity_date": 1440515979, "creation_date": 1440502642, "last_edit_date": 1440508355, "question_id": 32202988, "link": "https://stackoverflow.com/questions/32202988/perl-processing-large-files-and-storing-into-database", "title": "Perl: Processing large files and storing into database", "body": "<p>I have been tasked with modifying a Perl script which reads 12 files (~1GB each with ~4 million entries/file). The problem is that I don't know any perl. However, I was able to successfully modify the script for my use case. The problem is that the script takes a huge amount of time for processing the file as well as for inserting the entries into the database. Any pointers/suggestions to reduce the time will be appreciated.</p>\n\n<p>An example entry line (modified to protect identity) from one of the files is as follows:</p>\n\n<pre><code>10.0.0.25 [06/Aug/2015:06:00:02 +0000] \"0.002\" \"200\" \"0.002\" \"172.16.2.57:7777\" \"-\" \"GET /txt/AKXBPPYICZIBGM/n1/19757_705326?dc=us2&amp;ext_user_id=1400587512&amp;si=149042592 HTTP/1.1\" \"http://xyz.xyz/site_view.xhtml?cmid=22211051&amp;get-title=Test%20-%20Test%20Test%2010&amp;Test=Test%20Test\"\n</code></pre>\n\n<p>The script (mixed with some pseudo-code) is as follows:</p>\n\n<pre><code>for ( $i = 0 ; $i &lt; 12 ; $i++ ) {\n  $img_log_path = \"Set appropriate path according to the iteration\";\n\n  open(IMG_HANDLE, $img_log_path) or \"Could not open the file $0\\n\";\n\n    while ( $line = &lt;IMG_HANDLE&gt; ) {\n\n        my $impression_date = `date --date=\"yesterday\" +%Y-%m-%d`;\n        chomp $line;\n\n        if ( $line =~ m/&amp;si=(\\d+)/ig ) { \n            $affid       = $1; # Extract the affiliate ID from $line\n            @fields      = split(/\"/, $line); \n            $img_ref_url = $fields[13]; # Extract the impression URL from $line\n\n            $impression_urls{$affid}{$img_ref_url}{IMPRESSION_COUNT}++; # Store the beacon impression URLs along with a count of number of impressions\n            $img_ref_url =~ m/http:\\/\\/(.*?)\\//i;\n            $impression_urls{$affid}{$img_ref_url}{IMPRESSION_URL_HOST} = $1; # Store the hostname of the $img_ref_url\n\n            # Store the time at which first impression occurs for this URL. \n            $line =~ m/(\\d\\d:\\d\\d:\\d\\d)\\s/ig;\n            my $impression_url_time = $1;\n            my $impression_time = split( / /,$impression_urls{$affid}{$img_ref_url}{IMPRESSION_TIME} ); # If IMPRESSION_TIME exists for this URL from a previous impression then extract the time\n            # Store the time for the first impression\n            if($impression_url_time lt $impression_time || !defined($impression_urls{$affid}{$img_ref_url}{IMPRESSION_TIME})) {\n                $impression_urls{$affid}{$ref}{IMPRESSION_TIME} = \"$impression_date \".\"$impression_url_time\"; # Store the time at which the first impression happened for this URL. \n            }\n\n            if ( (defined($affid) &amp;&amp; $affid ne \"\") &amp;&amp; (defined($img_ref_url) &amp;&amp; $img_ref_url ne \"\") ) {\n                $affiliates{$affid}{TOTAL_IMP}++; # Increment the total number of impressions for this URL.\n\n                if ( &amp;CheckURL($img_ref_url) ) {\n                    $affiliates{$affid}{ADULT_IMP}++;\n                }\n            }\n        }\n    }\n    close IMG_HANDLE;\n}\n\nfor $aff_id (@aff_ids) { #@aff_ids contains all the affiliate ids from a database\n    my $impression_table = \"tns_impressions\";\n\n    foreach $impression_url (keys %{ $impression_urls{$aff_id} }) {\n        # If the pageurl doesn't exist then don't add it into the database\n        if ($impression_url =~ /-/) {\n            next;\n        }\n\n        # Insert the URL into the database\n        my $query = \"INSERT INTO $impression_table (affiliate_id, impression_url, created_at, no_of_impressions, hostname) VALUES (?,?,?,?,?)\";\n        my $statement = $dbh-&gt;prepare($query)\n                            or print STDERR \"$dbh-&gt;errstr\";\n        $statement-&gt;execute(\n            $aff_id,\n            $impression_url,\n            $impression_urls{$aff_id}{$impression_url}{IMPRESSION_TIME},\n            $impression_urls{$aff_id}{$impression_url}{IMPRESSION_COUNT},\n            $impression_urls{$aff_id}{$impression_url}{IMPRESSION_URL_HOST}\n        ) or print STDERR \"$statement-&gt;errstr\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "www-mechanize-firefox"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440501330, "post_id": 32201922, "comment_id": 52289160, "body": "Is the <code>sleep</code> in any way relevant to the code, or is it a joke and means you asked the question and now you&#39;re going away for ten hours until someone answers the question?"}, {"owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440502644, "post_id": 32201922, "comment_id": 52290005, "body": "Before I used the autoclose_tab I was using sleep function to keep the tab open."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1440517327, "post_id": 32201922, "comment_id": 52300764, "body": "the selection executes a doPostBack() function, which I assume builds the menus you want. Maybe you can call it directly without clicking, I would try replacing the 0 there with one of the selection values. I do not have Mechanize::Firefox at the moment to try it myself, sorry."}, {"owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "edited": false, "score": 1, "creation_date": 1440673135, "post_id": 32201922, "comment_id": 52375450, "body": "Finally got the script working, I am not tagging this as the answer because my original question on how to trigger the event is still unresolved.  The following code updates the next select box, the downside is, it results in refresh of the entire page.     $mech-&gt;select( &#39;ctl00$MainContent$ddldist&#39;=&gt;$district);# District      $mech-&gt;field( __EVENTTARGET=&gt;&#39;ctl00$MainContent$ddldist&#39;);     $mech-&gt;field( __EVENTARGUMENT=&gt;&#39;&#39;);     $mech-&gt;synchronize( sub {     $form=$mech-&gt;form_id(&#39;ctl01&#39;); # Main form     $mech-&gt;submit($form);     });"}], "owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1440499484, "creation_date": 1440499484, "question_id": 32201922, "link": "https://stackoverflow.com/questions/32201922/perl-wwwmechanizefirefox-trigger-onchange-event", "title": "Perl WWW::Mechanize::Firefox trigger onchange event", "body": "<p>I am trying to manipulate the form at <a href=\"http://117.247.176.82/VIEWDOCS.aspx\" rel=\"nofollow\">http://117.247.176.82/VIEWDOCS.aspx</a>\nThe code uses JS to populate the options for the next element based on the current element.\nWhile I have been able to select the element for district I am not able to trigger the script to load the next element. Any pointers on what I am doing wrong.</p>\n\n<pre><code>use strict;\nuse WWW::Mechanize::Firefox;\nmy $mech = WWW::Mechanize::Firefox-&gt;new();\n$mech-&gt;get('http://117.247.176.82/VIEWDOCS.aspx');\n$mech-&gt;autoclose_tab( 0 );\n$mech-&gt;allow( javascript =&gt; 1 );\n\nmy @el = $mech-&gt;by_id('MainContent_ddldist');\n$el[0]-&gt;__event('mousedown');\n$mech-&gt;select( 'ctl00$MainContent$ddldist'=&gt;'BN');\n$el[0]-&gt;__event('mouseup');\n</code></pre>\n\n<p>#Well the mouse event did not work, lets trigger on change directly.</p>\n\n<pre><code>$el[0]-&gt;__event('onChange');\nmy @el=$mech-&gt;by_id('ctl01');\n$el[0]-&gt;__event('click');\n</code></pre>\n\n<p>#even this did not work and I have spent over a day on this... time to seek the wisdom of stackoverflow.</p>\n\n<pre><code>sleep 10\n</code></pre>\n"}, {"tags": ["perl", "cygwin"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440501950, "post_id": 32200672, "comment_id": 52289542, "body": "It&#39;s strange that you haven&#39;t even <i>tried</i> Ctrl-Z before asking for help"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440560666, "post_id": 32200672, "comment_id": 52318728, "body": "@Jason J, If you&#39;re using a cygwin build of Perl, you&#39;d use Ctrl-D since that signals EOF on unix systems like cygwin. But you appear to be using a Windows build of Perl (ActivePerl? Strawberry Perl?). Ctrl-Z signals EOF in Windows."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5263676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40b4b5506c418d1496b58ca29ca0c0e?s=128&d=identicon&r=PG&f=1", "display_name": "Jason J", "link": "https://stackoverflow.com/users/5263676/jason-j"}, "edited": false, "score": 0, "creation_date": 1440496351, "post_id": 32200815, "comment_id": 52286019, "body": "Thanks for the reply. But wouldn&#39;t that stop my program?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 1, "user_id": 5263676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40b4b5506c418d1496b58ca29ca0c0e?s=128&d=identicon&r=PG&f=1", "display_name": "Jason J", "link": "https://stackoverflow.com/users/5263676/jason-j"}, "edited": false, "score": 0, "creation_date": 1440497005, "post_id": 32200815, "comment_id": 52286434, "body": "CTRL+Z on Windows act as EOF control code, hence it&#39;s used to signal an end-of-file. It won&#39;t stop your program."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 1, "last_activity_date": 1440503558, "last_edit_date": 1440503558, "creation_date": 1440496300, "answer_id": 32200815, "question_id": 32200672, "link": "https://stackoverflow.com/questions/32200672/terminating-input-using-ctrl-d-character-not-working/32200815#32200815", "title": "Terminating input using Ctrl-D character not working", "body": "<p>In Windows you have to use <kbd>CTRL-Z</kbd> instead of <kbd>CTRL-D</kbd>.</p>\n"}], "owner": {"reputation": 1, "user_id": 5263676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40b4b5506c418d1496b58ca29ca0c0e?s=128&d=identicon&r=PG&f=1", "display_name": "Jason J", "link": "https://stackoverflow.com/users/5263676/jason-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "closed_date": 1440503434, "accepted_answer_id": 32200815, "answer_count": 1, "score": -2, "last_activity_date": 1440503558, "creation_date": 1440495898, "last_edit_date": 1440502130, "question_id": 32200672, "link": "https://stackoverflow.com/questions/32200672/terminating-input-using-ctrl-d-character-not-working", "closed_reason": "Duplicate", "title": "Terminating input using Ctrl-D character not working", "body": "<p>I attempted to write a Perl script to take user input. I am \non Windows 8 and Cygwin.</p>\n\n<p>When I try to run my code it expects user input as it should, but when I attempt to press <em>Ctrl-D</em> the program still tries to accept input instead of signalling the end of input.</p>\n\n<p>Here is my code below. Why is this the case? Is there a way I can overcome this without switching away from Cygwin? I do not want to press <em>Ctrl-Z</em> or <em>Ctrl-C</em> as I don't want to stop the execution of the program.</p>\n\n<pre><code>#!/usr/bin/perl\n\nwhile ( $line = &lt;&gt; ) {\n    print $line;\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1440494135, "creation_date": 1440494135, "answer_id": 32200062, "question_id": 32199929, "link": "https://stackoverflow.com/questions/32199929/use-multiple-values-as-a-key-in-a-perl-hash/32200062#32200062", "title": "use multiple values as a key in a Perl hash", "body": "<p>You can put both fields as key separarted with a delimiter in your hash:</p>\n\n<pre><code>my @cols = split(/\\t);\nmy $keyfield = $cols[0].\"--\".$cols[1];\npush @{ $hash{$keyfield}}, value}; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11224, "user_id": 1620937, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/689410968ffb0f422e790bd6a48b3d9e?s=128&d=identicon&r=PG", "display_name": "Orab&#238;g", "link": "https://stackoverflow.com/users/1620937/orab%c3%aeg"}, "is_accepted": true, "score": 3, "last_activity_date": 1440504758, "last_edit_date": 1440504758, "creation_date": 1440494141, "answer_id": 32200065, "question_id": 32199929, "link": "https://stackoverflow.com/questions/32199929/use-multiple-values-as-a-key-in-a-perl-hash/32200065#32200065", "title": "use multiple values as a key in a Perl hash", "body": "<p>You should use a concatenation of col2 and col3 values as the keys for your hastable</p>\n\n<pre><code>my %hash = ();\nwhile(&lt;$sample&gt;){\n    chomp;\n    my @cols = split(/\\t/);\n    my $keyfield = $cols[0] #col1\n    my $keyfield2 = $cols[1] #col2\n    my $key = \"$keyfield - $keyfield2\";\n    $hash{$key}=1;\n} \n    seek $exon,0,0 #cursor resetting\n\n while(&lt;$exon&gt;){\n    chomp;\n    my @cols = split(/\\t/);\n    my $keyfield = $cols[1]; #col2\n    my $keyfield2 = $cols[2]; #col3\n    my $key = \"$keyfield - $keyfield2\";\n    if (exists($hash{$key}) {\n        print $output $cols[0], \"\\t\", $cols[3], \"\\t\", $cols[4], \"\\n\";\n     }\n } \n</code></pre>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 32200065, "answer_count": 2, "score": 1, "last_activity_date": 1440504758, "creation_date": 1440493774, "last_edit_date": 1440494240, "question_id": 32199929, "link": "https://stackoverflow.com/questions/32199929/use-multiple-values-as-a-key-in-a-perl-hash", "title": "use multiple values as a key in a Perl hash", "body": "<p>I have two tables. First one is <code>$sample</code>and looks like this:</p>\n\n<pre><code>col1 col2\nA    1\nA    3\nA    4\nB    7\n...  ...\n</code></pre>\n\n<p>Second one is <code>$exon</code>and looks like this:</p>\n\n<pre><code>col1     col2  col3 col4   col5\nname1    A     1    100    200\nname2    A     2    300    400\nname3    A     3    500    600\nname4    A     4    700    800\n</code></pre>\n\n<p>I want to check if there is a match between <code>col1</code> and <code>col2</code> from <code>$sample</code>and <code>col2</code> and <code>col3</code>from <code>exon</code>.</p>\n\n<p>I normally use hashes for this in Perl. I know how it works when you are just looking for a match between two columns. But I'm stuck now because values from two columns should match. This is what I have for now</p>\n\n<pre><code>my %hash = ();\nwhile(&lt;$sample&gt;){\n    chomp;\n    my @cols = split(/\\t/);\n    my $keyfield = $cols[0]; #col1\n    my $keyfield2 = $cols[1]; #col2\n    push @{ $hash{$keyfield}}, $keyfield2}; #this is probably not correct\n} \n    seek $exon,0,0; #cursor resetting\n\n while(&lt;$exon&gt;){\n    chomp;\n    my @cols = split(/\\t/);\n    my $keyfield = $cols[1]; #col2\n    my $keyfield2 = $cols[2]; #col3\n    if (exists($hash{$keyfield}) &amp;&amp; exists($hash{$keyfield2})) {\n        print $output $cols[0], \"\\t\", $cols[3], \"\\t\", $cols[4], \"\\n\";\n }\n }\n</code></pre>\n"}, {"tags": ["mysql", "database", "perl"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1440495478, "post_id": 32199411, "comment_id": 52285459, "body": "What version of MySQL Server are you using?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440498539, "post_id": 32199411, "comment_id": 52287339, "body": "Out of curiosity, what is the use case for you where you need Net::MySQL over DBI with DBD::mysql?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440498738, "post_id": 32199411, "comment_id": 52287459, "body": "<a href=\"http://stackoverflow.com/questions/9710427/ruby-on-rails-mysql-08s01bad-handshake-downgrade-mysql\" title=\"ruby on rails mysql 08s01bad handshake downgrade mysql\">stackoverflow.com/questions/9710427/&hellip;</a> might be connected. Looks like a similar error."}, {"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440587006, "post_id": 32199411, "comment_id": 52332281, "body": "@simbabque, I have other modules that are written using Net::MySQL. It worked when I used DBI."}, {"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 0, "creation_date": 1462974477, "post_id": 32199411, "comment_id": 61864699, "body": "I have again faced this issue. I upgraded the MySQL version in both the client and server to 5.6.30 and I still face the same error. I am able to access remote server using &quot;mysql -h&quot; or using Perl DBI module. Is there a way to have a wrapper that can interact between Net::MySQL and DBI modules?"}], "owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440586547, "creation_date": 1440492256, "last_edit_date": 1440586547, "question_id": 32199411, "link": "https://stackoverflow.com/questions/32199411/why-do-i-get-a-08s01bad-handshake-error-while-connecting-to-remote-db-using-n", "title": "Why do I get a &quot;#08S01Bad handshake error&quot; while connecting to remote db using Net::MySQL?", "body": "<p>I am able to connect to the remote DB using \"mysql -h  -u'root' option. The remote db has no password for root. But when I use Net::MySQL it throws a <code>_#08S01Bad handshake error_</code>.</p>\n\n<pre><code>my $mysql = Net::MySQL-&gt;new(\n        hostname   =&gt; '&lt;ip&gt;',\n        database   =&gt; '&lt;db&gt;',\n        user       =&gt; 'root',\n        password   =&gt; ''\n    );\n</code></pre>\n\n<p>The SQL version of the local machine is 5.5.44. I was able to connect to the same remote DB(mysql ver 5.0.45) using the same code from a different machine(mysql ver 5.0.24).</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1440486186, "post_id": 32197483, "comment_id": 52279704, "body": "Build a string first, print it, and then pass to <code>system()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1650, "user_id": 1984756, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3a80da873a5a5eed96f9f9df4f8a24a3?s=128&d=identicon&r=PG", "display_name": "PYPL", "link": "https://stackoverflow.com/users/1984756/pypl"}, "is_accepted": true, "score": 1, "last_activity_date": 1440486252, "creation_date": 1440486252, "answer_id": 32197526, "question_id": 32197483, "link": "https://stackoverflow.com/questions/32197483/error-in-using-system-in-perl/32197526#32197526", "title": "Error in using system() in Perl", "body": "<p>try:</p>\n\n<pre><code>system 'cleartool find . -version \"version(\\main\\LATEST)\" -exec \"cleartool co -nc \"%CLEARCASE_PN%\"';\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 32197526, "answer_count": 1, "score": -2, "last_activity_date": 1440486252, "creation_date": 1440486081, "question_id": 32197483, "link": "https://stackoverflow.com/questions/32197483/error-in-using-system-in-perl", "title": "Error in using system() in Perl", "body": "<p>I am passing a command to windows command prompt using a Perl code. But it is struggling for long time and I could not figure out. Can you please help?</p>\n\n<p>Here is the command line which I am using:</p>\n\n<pre><code>cleartool find . -version \"version(\\main\\LATEST)\" -exec \"cleartool co -nc \\\"%CLEARCASE_PN%\\\"\"\n</code></pre>\n\n<p>and here is the error when I write using <code>system(\"\")</code>:</p>\n\n<pre><code>system(\" cleartool find . -version \"version(\\main\\LATEST)\" -exec \"cleartool co -nc \\\"%CLEARCASE_PN%\\\\\"\" \");\n\n\nBareword found where operator expected at test.pl line 9, near \"\" cleartool find . -version \"version\"\n    (Missing operator before version?)\nBackslash found where operator expected at test.pl line 9, near \"main\\\"\nString found where operator expected at test.pl line 9, near \")\" -exec \"\"\n    (Missing operator before \" -exec \"?)\nBareword found where operator expected at test.pl line 9, near \"\" -exec \"cleartool\"\n    (Missing operator before cleartool?)\nBackslash found where operator expected at test.pl line 9, near \"nc \\\"\n    (Do you need to predeclare nc?)\nsyntax error at test.pl line 9, near \"\" cleartool find . -version \"version\"\nExecution of test.pl aborted due to compilation errors.\n</code></pre>\n"}, {"tags": ["regex", "perl", "powershell"], "answers": [{"tags": [], "owner": {"reputation": 2019, "user_id": 314212, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GRqIZ.jpg?s=128&g=1", "display_name": "Carlos Nunez", "link": "https://stackoverflow.com/users/314212/carlos-nunez"}, "is_accepted": false, "score": 3, "last_activity_date": 1440476624, "creation_date": 1440476624, "answer_id": 32195498, "question_id": 32195382, "link": "https://stackoverflow.com/questions/32195382/replacing-with-a-numbered-value/32195498#32195498", "title": "replacing with a numbered value", "body": "<p>Try this:</p>\n\n<pre><code>$i = 0 ; [Regex]::Matches($t,\"{.*?}\") | %{ ++$i ; $t = $t.Replace($_.Value,\"{$i}\") } ; $t \n</code></pre>\n\n<p>I think the problem is that the Regex engine never gets the new value of $i for each match it finds, so every time it increments it, <code>$i</code> is <code>0</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440504073, "post_id": 32195537, "comment_id": 52290980, "body": "This doesn&#39;t answer the question --<b><i>\u201cIn Perl regex there&#39;s a way to specify a function for the replacement value. How is this done in psh?\u201d</i></b>"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1440476861, "creation_date": 1440476861, "answer_id": 32195537, "question_id": 32195382, "link": "https://stackoverflow.com/questions/32195382/replacing-with-a-numbered-value/32195537#32195537", "title": "replacing with a numbered value", "body": "<p>Solution in Perl</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $t = \"some {great} vacation that {we} had that {year}\";\nmy $i = 0; \n$t =~ s!{.*?}!{$i++}!eg;\nprint $t;\n</code></pre>\n\n<p><a href=\"http://ideone.com/uhbmMD\" rel=\"nofollow\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 8181, "user_id": 709223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8eb1671ae3bf4a7536c1aa2c3276779?s=128&d=identicon&r=PG", "display_name": "ekkis", "link": "https://stackoverflow.com/users/709223/ekkis"}, "is_accepted": false, "score": -1, "last_activity_date": 1440520700, "creation_date": 1440520700, "answer_id": 32209487, "question_id": 32195382, "link": "https://stackoverflow.com/questions/32195382/replacing-with-a-numbered-value/32209487#32209487", "title": "replacing with a numbered value", "body": "<p>I couldn't figure out a way to do this using the <code>-replace</code> operator, so I had to resort to .net - here's a function that does it:</p>\n\n<pre><code>function nrep($s) {\n    $script:i = 0\n    $fn = {\"[$([string] $script:i++)]\"}\n    [regex]::replace($s, '{.*?}', $fn)\n}\n</code></pre>\n"}], "owner": {"reputation": 8181, "user_id": 709223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8eb1671ae3bf4a7536c1aa2c3276779?s=128&d=identicon&r=PG", "display_name": "ekkis", "link": "https://stackoverflow.com/users/709223/ekkis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1440553948, "answer_count": 3, "score": 1, "last_activity_date": 1440520700, "creation_date": 1440475856, "question_id": 32195382, "link": "https://stackoverflow.com/questions/32195382/replacing-with-a-numbered-value", "closed_reason": "Duplicate", "title": "replacing with a numbered value", "body": "<p>suppose I have a string</p>\n\n<pre><code>$t = \"some {great} vacation that {we} had that {year}\"\n</code></pre>\n\n<p>and I want to replace the placeholders with a numbered value:</p>\n\n<blockquote>\n  <p>\"some {0} vacation that {1} had that {2}\"</p>\n</blockquote>\n\n<p>I'd have expected a single replacement to do it:</p>\n\n<pre><code>$i = 0; $t -replace \"{.*?}\", \"{$([string] ++$i)}\"\n</code></pre>\n\n<p>but what I get is:</p>\n\n<blockquote>\n  <p>\"some {1} vacation that {1} had that {1}\"</p>\n</blockquote>\n\n<p>as if the string is only evaluated once.  in perl regex there's a way to specify a function for the replacement value... how is this done in psh?</p>\n"}, {"tags": ["python", "bash", "perl", "process", "pbs"], "comments": [{"owner": {"reputation": 389, "user_id": 5139753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7720db27d50c0941a86ea5ece0c6c807?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh Kharvi", "link": "https://stackoverflow.com/users/5139753/mahesh-kharvi"}, "edited": false, "score": 1, "creation_date": 1440474963, "post_id": 32195201, "comment_id": 52275593, "body": "Can you add some sample input jobs to understand the clear requirement"}, {"owner": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "edited": false, "score": 0, "creation_date": 1440507977, "post_id": 32195201, "comment_id": 52293650, "body": "Would job arrays help? <a href=\"http://resources.altair.com/pbs/documentation/support/PBSProUserGuide12.1.pdf#G12.683157\" rel=\"nofollow noreferrer\">Chapter 9. Job Arrays</a>"}, {"owner": {"reputation": 6233, "user_id": 845022, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b24cb7a52001aa47ebd90afbb4cfa6e5?s=128&d=identicon&r=PG", "display_name": "dbeer", "link": "https://stackoverflow.com/users/845022/dbeer"}, "edited": false, "score": 0, "creation_date": 1440517961, "post_id": 32195201, "comment_id": 52301204, "body": "Which version of PBS are you using?"}, {"owner": {"reputation": 327, "user_id": 1419797, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/754e1740a056eb6d25cfc539cfc2525d?s=128&d=identicon&r=PG", "display_name": "Negelis", "link": "https://stackoverflow.com/users/1419797/negelis"}, "reply_to_user": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "edited": false, "score": 0, "creation_date": 1440611492, "post_id": 32195201, "comment_id": 52349170, "body": "@DmitriChubarov: No. Actually I always use job array. When the number of jobs is huge, the PBS doesn&#39;t work very well."}, {"owner": {"reputation": 327, "user_id": 1419797, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/754e1740a056eb6d25cfc539cfc2525d?s=128&d=identicon&r=PG", "display_name": "Negelis", "link": "https://stackoverflow.com/users/1419797/negelis"}, "reply_to_user": {"reputation": 6233, "user_id": 845022, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b24cb7a52001aa47ebd90afbb4cfa6e5?s=128&d=identicon&r=PG", "display_name": "dbeer", "link": "https://stackoverflow.com/users/845022/dbeer"}, "edited": false, "score": 0, "creation_date": 1440611685, "post_id": 32195201, "comment_id": 52349287, "body": "@dbeer: The version is 2.5.5"}, {"owner": {"reputation": 6233, "user_id": 845022, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b24cb7a52001aa47ebd90afbb4cfa6e5?s=128&d=identicon&r=PG", "display_name": "dbeer", "link": "https://stackoverflow.com/users/845022/dbeer"}, "edited": false, "score": 1, "creation_date": 1440621490, "post_id": 32195201, "comment_id": 52354810, "body": "Is it Torque? If it is, a simple solution to this problem would be to upgrade. Torque 4.2.10, 5.0.2, or 5.1.1 all handle far more jobs than 2.5.5, which has a single-threaded server."}, {"owner": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "edited": false, "score": 0, "creation_date": 1440734319, "post_id": 32195201, "comment_id": 52405550, "body": "Looks like a job for GNU parallel."}], "answers": [{"tags": [], "owner": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "is_accepted": false, "score": 2, "last_activity_date": 1440523631, "creation_date": 1440523631, "answer_id": 32210391, "question_id": 32195201, "link": "https://stackoverflow.com/questions/32195201/how-to-submit-huge-number-of-small-jobs-using-pbs-queue-system/32210391#32210391", "title": "How to submit huge number of small jobs using PBS queue system", "body": "<p><a href=\"https://bitbucket.org/johanneskoester/snakemake/wiki/Documentation\" rel=\"nofollow\">Snakemake</a> might be a good fit in your situation. Take a look at the documentation for the <code>--cluster</code> and the <code>-j N</code> options. When you run <code>snakemake</code> with the <code>-j N</code> option it will only submit N number of jobs at a time. Then as each job finishes, it will start a new one.</p>\n\n<p>P</p>\n"}], "owner": {"reputation": 327, "user_id": 1419797, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/754e1740a056eb6d25cfc539cfc2525d?s=128&d=identicon&r=PG", "display_name": "Negelis", "link": "https://stackoverflow.com/users/1419797/negelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1440523631, "creation_date": 1440474301, "last_edit_date": 1440515288, "question_id": 32195201, "link": "https://stackoverflow.com/questions/32195201/how-to-submit-huge-number-of-small-jobs-using-pbs-queue-system", "title": "How to submit huge number of small jobs using PBS queue system", "body": "<p>I often need to run huge number of small jobs (runs for several minutes) using PBS queue system. These jobs are using same script to work on different input and they often take different time.</p>\n\n<p>Because the number of jobs is so large that the PBS queue cannot handle it very well. And because different jobs take different time, using pbsdsh is not efficient.</p>\n\n<p>So the idea solution will be wrap some number of jobs (for example 100 small job) into one job. This one job can be submitted to a node with 16 cores. On this node, 16 processes (corresponding to 16 small jobs) run parallel on each core. Once one process is finished on a core, new process runs on that core. If I can do this, it will both reduce the number of jobs a lot (100 times) and not waste any computing time.</p>\n\n<p>Does any one have any recommendation solution on this?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "ubuntu", "posix"], "comments": [{"owner": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 1, "creation_date": 1440474405, "post_id": 32195183, "comment_id": 52275465, "body": "Run <code>o conf init</code> and read the options very carefully. Specifically, the one about installation directory."}, {"owner": {"reputation": 901, "user_id": 1583257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WTkSG.jpg?s=128&g=1", "display_name": "Gus", "link": "https://stackoverflow.com/users/1583257/gus"}, "reply_to_user": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1440474572, "post_id": 32195183, "comment_id": 52275500, "body": "I have done this already I think, by typing cpan on shell. But I have answered the default to all questions. Should I do this again, even after failing to install the POSIX module ? Do I have to uninstall or rollback anything before ?"}, {"owner": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 1, "creation_date": 1440474673, "post_id": 32195183, "comment_id": 52275523, "body": "Don&#39;t answer default to all questions. Specifically, <b>read</b> the one about <i>local</i> installdir. You&#39;ll have a few options that you need to really pay attention to. Another is <b>uninst</b>. Anyway, the installation failed so you don&#39;t need to do anything to correct your previous attempt."}, {"owner": {"reputation": 901, "user_id": 1583257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WTkSG.jpg?s=128&g=1", "display_name": "Gus", "link": "https://stackoverflow.com/users/1583257/gus"}, "reply_to_user": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1440475438, "post_id": 32195183, "comment_id": 52275709, "body": "I ran the config again, it asks first if I want auto conf when possible. If I hit yes there is nothing to do, if I hit no he asks a lot of questions, but I can&#39;t find any one regarding installdir. Maybe I should remove my .cpan folder before reconfiguring ? Also, there is no way to do this automatically, like a default ubuntu configuration ? I really would rather not bother configuring pearl, just want to run a script."}, {"owner": {"reputation": 901, "user_id": 1583257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WTkSG.jpg?s=128&g=1", "display_name": "Gus", "link": "https://stackoverflow.com/users/1583257/gus"}, "reply_to_user": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1440475707, "post_id": 32195183, "comment_id": 52275775, "body": "Can I just run cpan as sudo so I will be able to write to /usr/local/bin ? No default answer to config is /usr/local/bin.."}], "answers": [{"comments": [{"owner": {"reputation": 901, "user_id": 1583257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WTkSG.jpg?s=128&g=1", "display_name": "Gus", "link": "https://stackoverflow.com/users/1583257/gus"}, "edited": false, "score": 0, "creation_date": 1440479460, "post_id": 32195441, "comment_id": 52276824, "body": "I thought I would go this way but pearl and cpan were already installed by default. When I tried to run the script it complained about the dependencies. What exactly is POSIX ?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 901, "user_id": 1583257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WTkSG.jpg?s=128&g=1", "display_name": "Gus", "link": "https://stackoverflow.com/users/1583257/gus"}, "edited": false, "score": 0, "creation_date": 1440517101, "post_id": 32195441, "comment_id": 52300616, "body": "Something isn&#39;t right. <a href=\"https://en.wikipedia.org/wiki/POSIX\" rel=\"nofollow noreferrer\">POSIX</a> has been a core module since Perl 5, which had its first release a looooooong time ago. Are you sure that POSIX is the missing dependency?"}, {"owner": {"reputation": 901, "user_id": 1583257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WTkSG.jpg?s=128&g=1", "display_name": "Gus", "link": "https://stackoverflow.com/users/1583257/gus"}, "edited": false, "score": 0, "creation_date": 1440544941, "post_id": 32195441, "comment_id": 52315001, "body": "You are right, when I got the first dependency error I just started installing the list given by the script maker."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1440476209, "creation_date": 1440476209, "answer_id": 32195441, "question_id": 32195183, "link": "https://stackoverflow.com/questions/32195183/ubuntu-14-04-server-perl-posix-install-error/32195441#32195441", "title": "ubuntu 14.04 server perl POSIX install error", "body": "<p>POSIX is a core module included with Perl. You don't need to install it separately. Why don't you just install Perl via your package manager instead of from source?</p>\n"}], "owner": {"reputation": 901, "user_id": 1583257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WTkSG.jpg?s=128&g=1", "display_name": "Gus", "link": "https://stackoverflow.com/users/1583257/gus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 0, "accepted_answer_id": 32195441, "answer_count": 1, "score": 0, "last_activity_date": 1440476209, "creation_date": 1440474113, "last_edit_date": 1440474409, "question_id": 32195183, "link": "https://stackoverflow.com/questions/32195183/ubuntu-14-04-server-perl-posix-install-error", "title": "ubuntu 14.04 server perl POSIX install error", "body": "<p>I don't know perl, I just needed POSIX as a dependency for a script. I have configured cpan answering the default questions and then, inside cpan,     </p>\n\n<pre><code>install POSIX\n</code></pre>\n\n<p>I have been asked a million questions, answered default to all, and now the script is installing a million modules. Do I really need this ? I'm concerned if something goes wrong is it possible to undo this easily ?</p>\n\n<p>UPDATE</p>\n\n<p>well, what I feared just happened</p>\n\n<pre><code>Everything is up to date. Type '/usr/bin/make test' to run test suite.\n./perl -Ilib installperl --destdir=   \n/usr/local/bin is not writable by you\nmake: ** [install-all] Erro 2\nRJBS/perl-5.22.0.tar.bz2\n/usr/bin/make install  -- NOT OK\nFailed during this command:\nRJBS/perl-5.22.0.tar.bz2                     : install NO\n</code></pre>\n\n<p>please, how can I fix this ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1440473974, "post_id": 32194748, "comment_id": 52275360, "body": "Your script works just fine for me.  I am, however, running Cygwin."}, {"owner": {"reputation": 23, "user_id": 5262517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85895043f8db969dca963bd6c8259bb3?s=128&d=identicon&r=PG&f=1", "display_name": "ColdSoda", "link": "https://stackoverflow.com/users/5262517/coldsoda"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1440499727, "post_id": 32194748, "comment_id": 52288070, "body": "That may make a difference, I&#39;m using Strawberry Perl.  Perhaps Cygwin handles the path differently.  I&#39;m hoping there is a way to manage the error more effectively."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5262517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85895043f8db969dca963bd6c8259bb3?s=128&d=identicon&r=PG&f=1", "display_name": "ColdSoda", "link": "https://stackoverflow.com/users/5262517/coldsoda"}, "edited": false, "score": 1, "creation_date": 1440557307, "post_id": 32206663, "comment_id": 52317986, "body": "Thanks for the correction regarding the hash reference.  That was the problem-- once it was receiving the no_chdir parameter it avoided/handled the problematic path."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1440512634, "creation_date": 1440512634, "answer_id": 32206663, "question_id": 32194748, "link": "https://stackoverflow.com/questions/32194748/how-to-handle-filefind-on-windows-with-long-paths/32206663#32206663", "title": "How to handle File::Find on Windows with long paths", "body": "<p>If you want to use the <code>no_chdir</code> parameter (or any parameter for that matter), you need to enclose all your params in a hash reference. You're not, which is why <code>no_chdir</code> isn't taking effect. Try this:</p>\n\n<pre><code>find({ wanted =&gt; \\&amp;print_name, no_chdir =&gt; 1 }, '.');\n</code></pre>\n\n<p>I don't know however if this will actually fix your problem, as it could simply be the actual path isn't being processed properly, and may not have anything to do with doing a <code>cd</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 5262517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85895043f8db969dca963bd6c8259bb3?s=128&d=identicon&r=PG&f=1", "display_name": "ColdSoda", "link": "https://stackoverflow.com/users/5262517/coldsoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "accepted_answer_id": 32206663, "answer_count": 1, "score": 1, "last_activity_date": 1440512634, "creation_date": 1440470741, "question_id": 32194748, "link": "https://stackoverflow.com/questions/32194748/how-to-handle-filefind-on-windows-with-long-paths", "title": "How to handle File::Find on Windows with long paths", "body": "<p>I've been trying to use Perl's File:Find to recursively find all files on my Windows system drive.  Unfortunately it errors out during execution to a very long file path.  I would like to know how to handle this in a way such that my script can continue running and let me know which paths it had to skip.  Currently I can only count files until it encounters a path it doesn't like, at which point it stops.</p>\n\n<p>What I was basing this off: <a href=\"http://www.perlmonks.org/?node_id=217166\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=217166</a>\nI found the following article, which is a similar problem, but am unable to apply it:  <a href=\"http://www.perlmonks.org/?node_id=933849\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=933849</a> </p>\n\n<pre><code>#/usr/bin/perl\nuse strict;\nuse File::Find;    \nmy $superFileCount = 0;\n# first try find(\\&amp;print_name_if_dir, no_chdir=&gt;1, \".\");\n\n# second try\neval {\nfind(\\&amp;print_name, no_chdir=&gt;1, \".\")\n}; warn $@ if $@;\n# end of second try\n\nsub print_name\n{\n        $superFileCount++;\n}\nprint \"all files found: $superFileCount \\n\";\n</code></pre>\n\n<p>First run:</p>\n\n<pre><code>Can't cd to ../../../../../../../../../.. from ./Users/username/AppData/Roaming/\nMacromedia/Flash Player/#SharedObjects/8Z5RPFSR/foxnewsplayer-a.akamaihd.net/[[I\nMPORT]]/players.edgesuite.net/flash/plugins/osmf/advanced-streaming-plugin/v3.6/\nosmf2.0/AkamaiAdvancedStreamingPlugin.swf: No such file or directory at C:/Straw\nberryPerl/perl/lib/File/Find.pm line 812.\n</code></pre>\n\n<p>If I wrap it in eval, I get a partial filecount but it is much lower than what is actually on the drive:</p>\n\n<pre><code>Can't cd to ../../../../../../../../../.. from ./Users/username/AppData/Roaming/\nMacromedia/Flash Player/#SharedObjects/8Z5RPFSR/foxnewsplayer-a.akamaihd.net/[[I\nMPORT]]/players.edgesuite.net/flash/plugins/osmf/advanced-streaming-plugin/v3.6/\nosmf2.0/AkamaiAdvancedStreamingPlugin.swf: No such file or directory at C:/Straw\nberryPerl/perl/lib/File/Find.pm line 812.\nall files found: 84730\n</code></pre>\n"}, {"tags": ["macos", "bash", "perl", "sed", "grep"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1440471367, "post_id": 32194740, "comment_id": 52274731, "body": "Also, this is very much in &quot;please write my program for me&quot; territory, and that&#39;s not what we do here."}, {"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1440472810, "post_id": 32194740, "comment_id": 52275068, "body": "@CharlesDuffy I do know how, but it didn&#39;t end up working."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440479374, "post_id": 32194740, "comment_id": 52276801, "body": "@SkylerSpaeth What didn&#39;t end up working? I don&#39;t see any code posted..."}, {"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440483677, "post_id": 32194740, "comment_id": 52278415, "body": "@MattJacob The perl script worked, but ettercap wouldn&#39;t output correctly, so I decided to use a different ettercap output: referer. This requires modification to the perl script"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440509302, "post_id": 32194740, "comment_id": 52294679, "body": "@SkylerSpaeth I bet it did require some modifications to a Perl script, <b>which you need to show us if you expect to get any help</b>. As Charles already told you, we&#39;re not going to write your code for you."}], "owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 1, "closed_date": 1440473365, "answer_count": 0, "score": 0, "last_activity_date": 1440471231, "creation_date": 1440470698, "last_edit_date": 1495540685, "question_id": 32194740, "link": "https://stackoverflow.com/questions/32194740/network-monitor-dont-show-same-line-immediately-twice", "closed_reason": "Duplicate", "title": "Network Monitor: Don&#39;t Show Same Line Immediately Twice", "body": "<p>I am building a networking monitoring script in bash. The base command is:</p>\n\n<pre><code>sudo ettercap -T -M ARP -i en1 /// | egrep --color Referer:\n</code></pre>\n\n<p>My output looks like</p>\n\n<pre><code>* |==================================================&gt;| 100.00 %\n\nReferer: http://www.apple.com/.\nReferer: http://www.apple.com/.\nReferer: http://www.apple.com/.\nReferer: http://www.apple.com/.\nReferer: http://www.apple.com/diversity/.\n</code></pre>\n\n<p>My desired output is:</p>\n\n<pre><code>* |==================================================&gt;| 100.00 %\n\nTitle: Apple\nURL: http://www.apple.com/\n\nTitle: Apple - Diversity - Inclusion inspires innovation.\nURL: http://www.apple.com/diversity/\n</code></pre>\n\n<p>Notice: <code>.</code> at the end of a Referer is no longer there, <code>Referer</code> is changed to <code>URL</code>, <code>Title</code> is added based on title of HTML page and there is a new line every <code>Title</code> <code>URL</code> pair. In my <a href=\"https://stackoverflow.com/questions/32174907/parse-output-of-command-into-variable-live-network-traffic-monitoring\">previous question</a>, I was provided with a perl script to do something along these lines, however <code>ettercap</code> didn't always show a <code>Host:</code> and <code>GET</code> line, so I am retrying with it's constant <code>Referer</code> line. I am not familiar with perl at all, so I am unable to edit myself. <strong>If you could comment what everything does, that would make it easier for me to learn.</strong></p>\n\n<p><strong>Any help is greatly appreciated, thanks!</strong></p>\n"}, {"tags": ["perl", "debugging", "hash", "command", "scripting-language"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440455406, "post_id": 32192730, "comment_id": 52270607, "body": "You don&#39;t run anything from this code -- you just modify the <code>$conf</code> structure. Is there more to it than this?"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1440456069, "post_id": 32192730, "comment_id": 52270806, "body": "when you say it fails. do you get an error, does it jsut not run? how can you tell its failing?"}, {"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "edited": false, "score": 0, "creation_date": 1440456231, "post_id": 32192730, "comment_id": 52270868, "body": "@Borodin..I&#39;ve added the code where I&#39;m executing the scripts. (code appended to original post above). Thanks."}, {"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "edited": false, "score": 0, "creation_date": 1440456447, "post_id": 32192730, "comment_id": 52270936, "body": "@ChrisDoyle..I know its failing because my script &#39;Vrt_scalability.pl&#39; does not generate the dumps it is supposed to when its called/executed. As a standalone script, it (&#39;vrt_scalability.pl&#39;) generates those dumps perfectly fine."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1440459707, "post_id": 32192730, "comment_id": 52271924, "body": "Please review how to create an MCVE (<a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable Example?</a>) or SSCCE (<a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">Short, Self-Contained, Correct Example</a>) \u2014 two names and links for the same basic idea.  I looked at the code and decided it was more complex to understand than I had time for at the moment (I should be doing other things).  I suspect that with some care and attention to whittling the code down to an MCVE, you could either solve the problem yourself or make it easy for people on SO to help you."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1440460744, "post_id": 32192730, "comment_id": 52272219, "body": "Please, for the love all that is holy, <code>s&#47;dependancy&#47;dependency&#47;</code>."}, {"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1440460948, "post_id": 32192730, "comment_id": 52272288, "body": "@Sinan &#220;n&#252;r..Corrected."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440461956, "post_id": 32192730, "comment_id": 52272539, "body": "@chmod Pieces of the puzzle are missing. We shouldn&#39;t have to use our imagination in order to try and help you."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1440462875, "post_id": 32192730, "comment_id": 52272752, "body": "What does the implementation of <code>ExecDependencyScripts()</code> look like? Does adding the full path to the perl binary fix things? What are you using to shell out?"}], "answers": [{"tags": [], "owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "is_accepted": false, "score": 1, "last_activity_date": 1440504130, "creation_date": 1440504130, "answer_id": 32203501, "question_id": 32192730, "link": "https://stackoverflow.com/questions/32192730/perl-command-not-being-executed-as-part-of-a-script/32203501#32203501", "title": "Perl command not being executed as part of a script", "body": "<p>You are populating <code>$conf-&gt;{script_list}</code> but later using <code>$conf-&gt;{exec_list}</code>.</p>\n\n<p>How to debug? I often use a combination of <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow\">https://metacpan.org/pod/Data::Dumper</a> and <a href=\"https://metacpan.org/pod/Log::Log4perl::Tiny\" rel=\"nofollow\">https://metacpan.org/pod/Log::Log4perl::Tiny</a> (shameless plug), and add debugging statements in the code just to be sure of what's going on at each step.</p>\n\n<p>In this case, for example, I would add a printout of the whole <code>$conf</code> variable just when entering <code>ExecScripts</code>.</p>\n"}], "owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440504130, "creation_date": 1440455066, "last_edit_date": 1440460767, "question_id": 32192730, "link": "https://stackoverflow.com/questions/32192730/perl-command-not-being-executed-as-part-of-a-script", "title": "Perl command not being executed as part of a script", "body": "<p>I have a Perl script <code>wrapper.pl</code> with a piece of code that looks like this: </p>\n\n<pre><code>if (-e \"$run_dir/fd3d/VrtMsgBus.txt\") {\n\n    print \"VRTMSGBUS: non scalablity mode VrtMsgBus.txt exists\\n\";  \n\n\n    $conf-&gt;{'script_list'}{'vrt_scalability'} = {\n        'cmd'       =&gt; \"perl $script_dir/hevc_enc/pak_rtl/vrt_scalability.pl $run_dir $hevc_fd3d_dir $script_dir\",\n        'dumpdir'   =&gt; $dumpdir,\n        'units'     =&gt; [qw(hwm hle vne hvd hsse hit hpo hfq hft hpr hrs hlc hmc hpp hed vnc htq hsao hmx hlf)],\n        'requires'  =&gt; [qw(vrtmsgbus mv_vrtmsgbus mv_vrtmsgbus_org mv_vrtmsgbus_no_scalability)],\n    };\n}\nelse {\n\n    print \"VRTMSGBUS: scalablity mode, VrtMsgBus.txt doesnt exist\\n\";\n\n    $conf-&gt;{'script_list'}{'vrt_scalability_2'} = {\n        'cmd'       =&gt; \"perl $script_dir/hevc_enc/pak_rtl/vrt_scalability.pl $run_dir $hevc_fd3d_dir $script_dir\",\n        'dumpdir'   =&gt; $dumpdir,\n        'units'     =&gt; [qw(hwm hle vne hvd hsse hit hpo hfq hft hpr hrs hlc hmc hpp hed vnc htq hsao hmx hlf)],\n    };\n\n\n}   \n</code></pre>\n\n<p>I'm trying to execute a particular script <code>vrt_scalability.pl</code> for different conditions in the manner shown in the code. <code>vrt_scalability.p</code>' is a separate script that works from the command line, but when I try to execute it using this <code>wrapper.pl</code> it fails. How do I debug this kind of code?</p>\n\n<p>Also, the commands called in the <code>cmd</code> part of this code are all working when I run them independent of <code>wrapper.pl</code>. What could I be doing wrong?</p>\n\n<p>Executing the scripts here:</p>\n\n<pre><code>sub ExecScripts {\n\n   foreach my $exec_script_name (keys %{$conf-&gt;{'exec_list'}})\n    {\n\n    $conf-&gt;{'exec_list'}{$exec_script_name}{'script_was_executed'} = 0;\n\n}\n\nforeach my $exec_script_name (keys %{$conf-&gt;{'exec_list'}})\n{\n\n    my $dependency_script = $conf-&gt;{'exec_list'}{$exec_script_name};\n    if (exists $dependency_script-&gt;{'requires'})\n    {\n        foreach my $parent_script (@{$dependency_script-&gt;{'requires'}})\n        {\n\n            ExecDependencyScripts($conf, $parent_script);\n        }\n    }  \n</code></pre>\n"}, {"tags": ["arrays", "perl", "dynamic"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440451793, "post_id": 32191842, "comment_id": 52269246, "body": "You need to attempt to come up with the solution yourself, and then we can make appropriate suggestions and corrections as needed."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440452168, "post_id": 32191842, "comment_id": 52269390, "body": "@MattJacob- Agreed, but i was hoping to get some help on how to approach it. The main issue is creating the arrays. As you can see, i have to create arrays for each column. if i have 2 columns, i hav to create arrays like a, b &amp; a1,b1 and then use push. Dynamically creating arrays is a problem. Plus how could i dynamically push the data to the dyynamic arrays."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440452465, "post_id": 32191842, "comment_id": 52269525, "body": "You might be better served by an array of hash references. Use the first row of your CSV file as the hash keys. The <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a> module can do this for you very easily. Additionally, it looks like your output is JavaScript arrays, so I would recommend the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a> module to avoid encoding headaches."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440453035, "post_id": 32191842, "comment_id": 52269740, "body": "@MattJacob- Thanks for the approach. i will have a look into these and update accordingly."}], "answers": [{"comments": [{"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440454978, "post_id": 32192639, "comment_id": 52270466, "body": "Are you serious ? i would have taken ages to figure this thing out. i literally had tears in my eyes.. you dont know how much it means to me at this moment. thanks again."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440455039, "post_id": 32192639, "comment_id": 52270493, "body": "You should test it in your own environment to make sure it works as you expect it to. please let me know how it works out."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 1, "creation_date": 1440696090, "post_id": 32192639, "comment_id": 52391478, "body": "Dyle- this code fits in my already present code nicely. thank you."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440699947, "post_id": 32192639, "comment_id": 52393779, "body": "Glad to hear its working for you. If  your question has been answered, dont forget to mark it as answered by selecting the tick next to the answer that best suited you."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440700514, "post_id": 32192639, "comment_id": 52394075, "body": "Chris Doyle- i didnt know that. i wil do it now"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440702848, "post_id": 32192639, "comment_id": 52395289, "body": "It helps the community to know when things have been answered and accepted by the OP"}], "tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": false, "score": 1, "last_activity_date": 1440454684, "creation_date": 1440454684, "answer_id": 32192639, "question_id": 32191842, "link": "https://stackoverflow.com/questions/32191842/convert-csv-data-to-specific-format-dynamic/32192639#32192639", "title": "Convert csv data to specific format DYNAMIC", "body": "<p>The idea here is to process the header line on its on first, then base don that you can create a hash of arrays which map to each header field. below is a sample code to demonstrate.</p>\n\n<pre><code>    use strict;\n    use warnings;\n    use Data::Dumper;\n\n    my %dynamic;\n    my @fields = split(/,/,&lt;DATA&gt;);\n    chomp(@fields);\n\n    while(&lt;DATA&gt;){\n      chomp();\n      my @data_fields=split(/,/);\n      for (my $i=0; $i&lt;@fields; $i++){\n        push(@{$dynamic{$fields[$i]}}, '\"' . $data_fields[$i] . '\"');\n      }\n    }\n\n    my @data_array;\n    foreach (@fields){\n      push(@data_array, \"var $_ = [\" . join(',',@{$dynamic{$_}}) . \"];\");\n    }\n\n    print join(\"\\n\",@data_array), \"\\n\";\n\n    __DATA__\n    secid,Initial_shares,columna,someothercolumn\n    002826,3777,1,2\n    0028262,3777,a,b\n    0028262,3777,5,6\n    0028262,3777,g,h\n    0028262,3777,4,5\n    0028262,3777,h,j\n</code></pre>\n\n<p>I have printed out the data structure of the final array to show its contents. </p>\n\n<pre><code>var secid = [\"002826\",\"0028262\",\"0028262\",\"0028262\",\"0028262\",\"0028262\"];\nvar Initial_shares = [\"3777\",\"3777\",\"3777\",\"3777\",\"3777\",\"3777\"];\nvar columna = [\"1\",\"a\",\"5\",\"g\",\"4\",\"h\"];\nvar someothercolumn = [\"2\",\"b\",\"6\",\"h\",\"5\",\"j\"];\n</code></pre>\n\n<p>this will dynamically expand or shrink based on your csv input.</p>\n"}, {"comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1440455278, "post_id": 32192759, "comment_id": 52270570, "body": "Thats really succinct and clean. Very nice."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440455556, "post_id": 32192759, "comment_id": 52270656, "body": "@Matt Jacob- thanks so much. chris Doyle&#39;s approach was to help me out on the same code and its really commendable to come up with a solution like tat. Matt had the other approach. i get to learn and understand both the approaches. so thank you guys for this."}, {"owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "edited": false, "score": 0, "creation_date": 1440707558, "post_id": 32192759, "comment_id": 52397717, "body": "@all- this answer is also right. it gave me the same result as provided by Chris doyle."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1440455206, "creation_date": 1440455206, "answer_id": 32192759, "question_id": 32191842, "link": "https://stackoverflow.com/questions/32191842/convert-csv-data-to-specific-format-dynamic/32192759#32192759", "title": "Convert csv data to specific format DYNAMIC", "body": "<p>Here's how I would have done it, using the suggestions I gave you:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse JSON;\nuse Text::CSV;\n\nmy $filename = '/path/to/file.csv';\n\nmy $csv = Text::CSV-&gt;new({ binary =&gt; 1 }) or die Text::CSV-&gt;error_diag;\nopen(my $fh, '&lt;', $filename) or die $!;\n\n$csv-&gt;column_names($csv-&gt;getline($fh));\nmy $data = $csv-&gt;getline_hr_all($fh);\n\nclose($fh);\n\nfor my $column ($csv-&gt;column_names) {\n    my $json = encode_json([ map { $_-&gt;{$column} } @$data ]);\n    print \"var $column = $json;\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440461796, "post_id": 32193139, "comment_id": 52272506, "body": "As long as your values never have spaces or commas in them... ;-)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1440457853, "creation_date": 1440457853, "answer_id": 32193139, "question_id": 32191842, "link": "https://stackoverflow.com/questions/32191842/convert-csv-data-to-specific-format-dynamic/32193139#32193139", "title": "Convert csv data to specific format DYNAMIC", "body": "<p>This can be done very simply by reading the file into an array and reformatting it on output</p>\n\n<p>This program expects the path to the input file as a parameter on the command line</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @data;\nwhile ( &lt;&gt; ) {\n    my @row = /[^,\\s]+/g;\n    push @{ $data[$_] }, $row[$_] for 0 .. $#row;\n}\n\nfor my $i ( 0 .. $#data ) {\n    my $column = $data[$i];\n    printf \"var %s = [\\n\", shift @$column;\n    printf \"    %s\\n\", join ', ', map qq{\"$_\"}, @$column;\n    print  \"];\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>var secid = [\n    \"002826\", \"0028262\", \"0028262\", \"0028262\", \"0028262\", \"0028262\"\n];\nvar Initial_shares = [\n    \"3777\", \"3777\", \"3777\", \"3777\", \"3777\", \"3777\"\n];\n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 5261993, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/681e03d6a8f921dccf48253bc83432b4?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/5261993/ayesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 32192759, "answer_count": 3, "score": 2, "last_activity_date": 1440457853, "creation_date": 1440450897, "last_edit_date": 1440451439, "question_id": 32191842, "link": "https://stackoverflow.com/questions/32191842/convert-csv-data-to-specific-format-dynamic", "title": "Convert csv data to specific format DYNAMIC", "body": "<p>I have this front end CSS data stored in a web page. Here is the data in text file.</p>\n\n<pre><code>secid,Initial_shares\n002826,3777\n0028262,3777\n0028262,3777\n0028262,3777\n0028262,3777\n0028262,3777\n</code></pre>\n\n<p>I need to convert this text file into the below format. once, i convert it to below format, i will be able to display it on the front end. this format below is used to display data in jqgrid.</p>\n\n<pre><code>var secid =\n            [\n             \"002826\", \"0028262\", \"0028262\", \"0028262\", \"0028262\", \"0028262\"];\nvar Initial_shares =\n        [\n            \"3777\", \"3777\", \"3777\", \"3777\", \"3777\", \"3777\"1\n        ];\n</code></pre>\n\n<p>In order to convert the text to above format, i have used the below perl code. Please note. This conversion is static. i.e. it knows how many columns are there. In this case, there will be 2 columns. secid and Initial_shares. so here is the static code</p>\n\n<pre><code>my @a=();\nmy @b=();\n\nmy @a1=();\nmy @b1=();\n\nmy @perl_array=();\nmy @filena = split(/\\|/, $filename);\n\nopen (TXT, \"&lt;$filename\") || die \"Can't open $filename: $!\\n\";\nwhile (my $line=&lt;TXT&gt;) {\n    chomp($line);\n    ($a2, $b2) = split /,/, $line;\n\n    push @a,('\"', \"$a2\", '\"', ',');\n    push @b,('\"', \"$b2\", '\"', ',');\n}\n\nsplice @a,0,4; # this splice is used to remove the header name.\nsplice @b,0,4; # i.e. first row data- secid, Initial_shares\n\npush @a1,\"var secid=[@a]\";\npush @b1,\"var Initial_shares=[@b]\";\n\npush @perl_array, \"@a1; @b1\";\nclose TXT;\n</code></pre>\n\n<p>The @perl_array will be then exactly similar to the kind of data we were expecting at the start. i wil transfer this perl variable to front end for displaying then.</p>\n\n<p>I need help in the following case. What if instead of 2 columns, there are 5 columns. How can we convert the same csv file to the format mentioned earlier. it should be all dynamic. Can someone shed some light please.</p>\n"}, {"tags": ["perl", "shell", "replace", "sed"], "comments": [{"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 0, "creation_date": 1440450612, "post_id": 32191705, "comment_id": 52268707, "body": "Are you wondering about string replacement in general, or <a href=\"http://stackoverflow.com/questions/16742526/how-to-search-and-replace-across-multiple-lines-with-perl\">replacement across multiple lines</a>?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1440450651, "post_id": 32191705, "comment_id": 52268728, "body": "Is it exactly 1234 or is that just representative of a digit string?  Is the replacement always zero?  What have you tried?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 4, "creation_date": 1440450758, "post_id": 32191705, "comment_id": 52268785, "body": "<a href=\"http://stackoverflow.com/a/1732454/725418\">It looks like you are trying to parse XML with regex.</a> Would you like to try <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\">an XML parser</a> instead?"}, {"owner": {"reputation": 25, "user_id": 1527416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/554ef41c2b01f74ca50cc8d1212f03d0?s=128&d=identicon&r=PG", "display_name": "tomasfly123", "link": "https://stackoverflow.com/users/1527416/tomasfly123"}, "edited": false, "score": 0, "creation_date": 1440450795, "post_id": 32191705, "comment_id": 52268797, "body": "About replacement across multiple lines. I have tried sed &#39;/&lt;value&gt;-myValue.*/ {N; s/-myValue.*&lt;value&gt;\\./-myValue.*value&gt;0&lt;/g}&#39; filename"}, {"owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "edited": false, "score": 0, "creation_date": 1440451583, "post_id": 32191705, "comment_id": 52269152, "body": "If this is indeed XML, sed is not a good tool to process it. Consider using xmlstarlet, e.g. <code>xmlstarlet ed -u &#39;&#47;&#47;value[.=&quot;-myValue&quot;]&#47;following-sibling::value[1]&#39; -v 0 filename.xml</code>"}], "answers": [{"tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 2, "last_activity_date": 1440451612, "creation_date": 1440451612, "answer_id": 32192001, "question_id": 32191705, "link": "https://stackoverflow.com/questions/32191705/replace-string-in-shell-using-sed-or-perl/32192001#32192001", "title": "Replace string in shell using sed or Perl?", "body": "<p>If this is XML, TLP is right that an XML parser would be superior.  Continuing on with your <code>sed</code> approach, however, consider:</p>\n\n<pre><code>$ sed '/&lt;value&gt;-myValue/ {N; s/&lt;value&gt;[[:digit:]]\\+/&lt;value&gt;0/}' file\n&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;0&lt;/value&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 2, "last_activity_date": 1440452601, "creation_date": 1440452601, "answer_id": 32192219, "question_id": 32191705, "link": "https://stackoverflow.com/questions/32191705/replace-string-in-shell-using-sed-or-perl/32192219#32192219", "title": "Replace string in shell using sed or Perl?", "body": "<h3>Script</h3>\n\n<pre><code>sed -e '/&lt;value&gt;-myValue&lt;/,/&lt;value&gt;/{ /&lt;value&gt;[0-9][0-9]*&lt;/ s/[0-9][0-9]*/0/; }' data\n</code></pre>\n\n<p>From a line containing <code>&lt;value&gt;-myValue&lt;</code> to the next line containing <code>&lt;value&gt;</code>, if the line matches <code>&lt;value&gt;XX&lt;</code> where XX is a string of one or more digits, replace the string of digits with <code>0</code>.</p>\n\n<h3>Input</h3>\n\n<pre><code>This is not something to change\n&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;1234&lt;/value&gt;\n&lt;value&gt;myValue&lt;/value&gt;\n          &lt;value&gt;1234&lt;/value&gt;\nnonsense\n&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;abcd&lt;/value&gt;\n&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;4321&lt;/value&gt;\nstuffing\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>This is not something to change\n&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;0&lt;/value&gt;\n&lt;value&gt;myValue&lt;/value&gt;\n          &lt;value&gt;1234&lt;/value&gt;\nnonsense\n&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;abcd&lt;/value&gt;\n&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;0&lt;/value&gt;\nstuffing\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1440510151, "creation_date": 1440510151, "answer_id": 32205661, "question_id": 32191705, "link": "https://stackoverflow.com/questions/32191705/replace-string-in-shell-using-sed-or-perl/32205661#32205661", "title": "Replace string in shell using sed or Perl?", "body": "<p>You can possibly simplify this a bit, depending on what criteria you specifically want to use:</p>\n\n<p> </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new( 'pretty_print' =&gt; 'indented_a' )-&gt;parse( \\*DATA );\nforeach my $value ( $twig-&gt;findnodes('//value') ) {\n    if (    $value-&gt;trimmed_text eq '-myValue'\n        and $value-&gt;next_sibling('value')\n        and $value-&gt;next_sibling('value')-&gt;text =~ m/^\\d+$/ )\n    {\n        $value-&gt;next_sibling('value')-&gt;set_text('1234');\n\n    }\n}\n\n$twig-&gt;print;\n\n__DATA__\n&lt;root&gt;\n&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;0&lt;/value&gt;\n          &lt;/root&gt;\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;value&gt;-myValue&lt;/value&gt;\n  &lt;value&gt;1234&lt;/value&gt;\n&lt;/root&gt;\n</code></pre>\n\n<ul>\n<li>It parses your XML.</li>\n<li>Looks for all nodes with a tag of <code>value</code>. </li>\n<li>Checks that it has a sibling.</li>\n<li>Checks that sibling is 'just numeric' e.g. matching regex <code>^\\d+$</code></li>\n<li>replaces the content of that sibling with <code>1234</code>.</li>\n</ul>\n\n<p>And will work on XML regardless of formatting, which is the problem with XML - pretty fundamentally there's a bunch of entirely valid things you can do that are semantically identical in XML. </p>\n"}], "owner": {"reputation": 25, "user_id": 1527416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/554ef41c2b01f74ca50cc8d1212f03d0?s=128&d=identicon&r=PG", "display_name": "tomasfly123", "link": "https://stackoverflow.com/users/1527416/tomasfly123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 32192219, "answer_count": 3, "score": 0, "last_activity_date": 1440510151, "creation_date": 1440450254, "last_edit_date": 1440450601, "question_id": 32191705, "link": "https://stackoverflow.com/questions/32191705/replace-string-in-shell-using-sed-or-perl", "title": "Replace string in shell using sed or Perl?", "body": "<p>How can I replace the following string:</p>\n\n<pre><code>&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;1234&lt;/value&gt;\n</code></pre>\n\n<p>And make it to be:</p>\n\n<pre><code>&lt;value&gt;-myValue&lt;/value&gt;\n          &lt;value&gt;0&lt;/value&gt;\n</code></pre>\n\n<p>Please take into account that there is a line break.</p>\n"}, {"tags": ["php", "apache", "perl", "system", "passthru"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1440449104, "post_id": 32191364, "comment_id": 52267961, "body": "<code>&#47;filepath</code> would start the ROOT of your drive&#39;s filesystem, e.g. <code>c:\\</code>. if <code>&#47;filepath</code> is the root of your website, well, that won&#39;t work. you need to include the entire path: <code>&#47;home&#47;user&#47;sites&#47;example.com&#47;public_html&#47;filepath&#47;file.pl</code>- type thing"}, {"owner": {"reputation": 37458, "user_id": 2734189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bdd4c02158892b034c80f00eff30e6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Don&#39;t Panic", "link": "https://stackoverflow.com/users/2734189/dont-panic"}, "edited": false, "score": 0, "creation_date": 1440449386, "post_id": 32191364, "comment_id": 52268089, "body": "Does <code>&#39;not  found&#39;</code> really indicate a permissions problem?"}], "answers": [{"comments": [{"owner": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 5, "creation_date": 1440450917, "post_id": 32191436, "comment_id": 52268860, "body": "Why should the OP &quot;try this&quot;? A good answer will always have an explanation of what was done and why it was done that way, not only for the OP but for future visitors to SO."}], "tags": [], "owner": {"reputation": 459, "user_id": 5261927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hfYQ5.png?s=128&g=1", "display_name": "Carlos Garcia", "link": "https://stackoverflow.com/users/5261927/carlos-garcia"}, "is_accepted": false, "score": 0, "last_activity_date": 1440449128, "creation_date": 1440449128, "answer_id": 32191436, "question_id": 32191364, "link": "https://stackoverflow.com/questions/32191364/cant-find-a-perl-script-from-php-apache/32191436#32191436", "title": "Can&#39;t find a Perl script from PHP/Apache", "body": "<p>Try something like this</p>\n\n<pre><code>exec(\"/usr/bin/perl /full-path/script.pl\",$output);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5000495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8319216b80da34f9b7b467eb5ccdf0ca?s=128&d=identicon&r=PG&f=1", "display_name": "Lauragro", "link": "https://stackoverflow.com/users/5000495/lauragro"}, "is_accepted": false, "score": 0, "last_activity_date": 1440533605, "creation_date": 1440533605, "answer_id": 32213226, "question_id": 32191364, "link": "https://stackoverflow.com/questions/32191364/cant-find-a-perl-script-from-php-apache/32213226#32213226", "title": "Can&#39;t find a Perl script from PHP/Apache", "body": "<p>Thanks for all the suggestions! In the end, it was a problem with security settings in the php.ini file in the Apache directory on the server hosting my application: </p>\n\n<pre><code>/etc/php5/apache2/php.ini\n</code></pre>\n\n<p>Safe mode was set to 'on', which was preventing php files to access/execute any local files. (The PHP script was also failing when attempting access to another, not-script, file: other.html). </p>\n\n<p>To solve this without removing the safe mode setting for all applications on my server, I changed the above php.ini file to include the following:</p>\n\n<pre><code>safe_mode: on\nsafe_mode_include_dir: /filepath\nsafe_mode_exec_dir: /filepath\n</code></pre>\n\n<p>More information on these config variables can be found here: \n<a href=\"http://php.net/manual/en/ini.sect.safe-mode.php\" rel=\"nofollow\">http://php.net/manual/en/ini.sect.safe-mode.php</a></p>\n"}], "owner": {"reputation": 21, "user_id": 5000495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8319216b80da34f9b7b467eb5ccdf0ca?s=128&d=identicon&r=PG&f=1", "display_name": "Lauragro", "link": "https://stackoverflow.com/users/5000495/lauragro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1440533605, "creation_date": 1440448793, "last_edit_date": 1440451313, "question_id": 32191364, "link": "https://stackoverflow.com/questions/32191364/cant-find-a-perl-script-from-php-apache", "title": "Can&#39;t find a Perl script from PHP/Apache", "body": "<p>From a PHP script I want to run a Perl script. I can do this fine from the terminal (as root user) but when run from my application (www-data user) I can't. </p>\n\n<p>When developing the application on localhost I was able to do this fine as well, but the problem appeared when I switched to another server.</p>\n\n<p>My webpage calls the PHP script with an AJAX POST request, which works fine for my other PHP scripts that do not make calls to Perl.</p>\n\n<p>I have tried the following commands in my PHP script with no success:</p>\n\n<pre><code>system(\"/filepath/file.pl\");\nexec(\"/filepath/file.pl\");\npassthru(\"/filepath/file.pl\");\n</code></pre>\n\n<p>The Apache logs on the server hosting my application show the following error:</p>\n\n<pre><code>sh: /file.pl: not found\n</code></pre>\n\n<p>From running the following code on my server I see that the web user is seen as www-data:</p>\n\n<pre><code>ps aux | grep apache\n</code></pre>\n\n<p>To test, I have also set the permissions for all files and directories use by my application to allow any type of access by any user, using chmod 777.</p>\n\n<p>Please note: my application is only available to certain users (I use a .htaccess file to set these permissions and require the user to login) so if there is a way to change how the server sees this user (from www-data, to the credentials of the logged-in user) then perhaps that would help - how would I do this?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 5215544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701302c64731284bda7726a924103ae6?s=128&d=identicon&r=PG", "display_name": "BaZZiliO", "link": "https://stackoverflow.com/users/5215544/bazzilio"}, "is_accepted": false, "score": 0, "last_activity_date": 1440449931, "last_edit_date": 1592644375, "creation_date": 1440448939, "answer_id": 32191392, "question_id": 32191217, "link": "https://stackoverflow.com/questions/32191217/perl-using-configgeneral-to-write-into-file-missing-equal-to-sign/32191392#32191392", "title": "Perl: Using Config::General to write into file - missing equal to sign", "body": "<p>You need to set -SplitPolicy to 'equalsign'</p>\n<p>Read the <a href=\"http://search.cpan.org/dist/Config-General/General.pm#SUBROUTINES/METHODS\" rel=\"nofollow noreferrer\">documentation</a>, which says this</p>\n<blockquote>\n<p>You can influence the way how Config::General decides which part of a line in a config file is the key and which one is the value. By default it tries its best to guess. That means you can mix equalsign assignments and whitespace assignments.</p>\n<p>However, sometime you may wish to make it more strictly for some reason. In this case you can set -SplitPolicy. The possible values are: 'guess' which is the default, 'whitespace' which causes the module to split by whitespace, 'equalsign' which causes it to split strictly by equal sign, or 'custom'. In the latter case you must also set -SplitDelimiter to some regular expression of your choice. For example:</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 1, "creation_date": 1440451967, "post_id": 32191454, "comment_id": 52269317, "body": "@KedarJoshi This behavior isn&#39;t documented (at least, not clearly). I&#39;ve submitted a trouble report to the author; this could just be an undocumented/poorly documented feature, or it could be a bug in the code, in which case it could be removed in a future release. Borodin and BaZZiliO&#39;s solution might be better."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1440452219, "last_edit_date": 1495540241, "creation_date": 1440449181, "answer_id": 32191454, "question_id": 32191217, "link": "https://stackoverflow.com/questions/32191217/perl-using-configgeneral-to-write-into-file-missing-equal-to-sign/32191454#32191454", "title": "Perl: Using Config::General to write into file - missing equal to sign", "body": "<p>You can* use the <a href=\"https://metacpan.org/pod/Config::General#StoreDelimiter\" rel=\"nofollow noreferrer\"><code>-StoreDelimiter</code></a> option to <code>new</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Config::General;\n\nmy %settings = (\n    foo =&gt; {\n        key1 =&gt; 'val1',\n        key2 =&gt; 'val2'\n    }\n);\n\nmy $conf = Config::General-&gt;new(-StoreDelimiter =&gt; ' = ');\n$conf-&gt;save_file('settings.conf', \\%settings);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;foo&gt;\n    key2 = val2\n    key1 = val1\n&lt;/foo&gt;\n</code></pre>\n\n<hr>\n\n<p>* According to the documentation, this shouldn't work; if <code>-SplitPolicy</code> is set to <code>guess</code> (the default) or <code>whitespace</code>, the output delimiter should be set to three spaces. So this is either an exploit or the documentation is wrong; I've submitted a <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=106642\" rel=\"nofollow noreferrer\">trouble report</a> to the module author.</p>\n\n<p>You would probably be better off using the documented solution of</p>\n\n<pre><code>-SplitPolicy =&gt; 'equalsign'\n</code></pre>\n\n<p>that <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> and <a href=\"https://stackoverflow.com/users/5215544/bazzilio\">BaZZiliO</a> gave (although this forces you to use equal signs everywhere in config files that you <em>read</em> as well as write, instead of the default behavior that allows either spaces or equal signs).</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1440450301, "post_id": 32191536, "comment_id": 52268566, "body": "Might be good to note that this also forces you to use an equal sign as a delimiter everywhere when <i>reading</i> config files, instead of the default policy of allowing either spaces or equal signs."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1440449533, "creation_date": 1440449533, "answer_id": 32191536, "question_id": 32191217, "link": "https://stackoverflow.com/questions/32191217/perl-using-configgeneral-to-write-into-file-missing-equal-to-sign/32191536#32191536", "title": "Perl: Using Config::General to write into file - missing equal to sign", "body": "<p>You need to add the option</p>\n\n<pre><code>'-SplitPolicy' =&gt; 'equalsign'\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 32191454, "answer_count": 3, "score": 0, "last_activity_date": 1440452219, "creation_date": 1440448243, "last_edit_date": 1440448629, "question_id": 32191217, "link": "https://stackoverflow.com/questions/32191217/perl-using-configgeneral-to-write-into-file-missing-equal-to-sign", "title": "Perl: Using Config::General to write into file - missing equal to sign", "body": "<p>I am using the Perl <code>Config::General</code> module to read and write a config file.</p>\n\n<p>My input config file looks like this:</p>\n\n<pre><code>&lt;foo&gt;\n    key1 = val1\n    key2 = val2\n&lt;/foo&gt;\n</code></pre>\n\n<p>but after making changes when I write this config into a file using <code>$conf-&gt;save_file</code> call, it produces something like this</p>\n\n<pre><code>&lt;foo&gt;\n   key1 val3\n   key2 val4\n&lt;/foo&gt;\n</code></pre>\n\n<p>Any idea how to retain the \"=\" sign? My config file needs to be user-readable - this format is still readable but ideally I want to retain the \"=\" sign since the concerned users are non-technical sometimes.</p>\n"}, {"tags": ["perl", "sorting"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1440448026, "creation_date": 1440448026, "answer_id": 32191166, "question_id": 32190752, "link": "https://stackoverflow.com/questions/32190752/easiest-way-to-sort-hash-of-arrays-by-3-numeric-value/32191166#32191166", "title": "Easiest way to sort Hash of Arrays by [3] numeric value", "body": "<p>Just sort the keys using a <code>sort</code> block</p>\n\n<pre><code>my @sorted_keys = sort {  $data{$b}[3] &lt;=&gt; $data{$a}[3] } keys %data;\n</code></pre>\n"}], "owner": {"reputation": 796, "user_id": 1807271, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EskVD.jpg?s=128&g=1", "display_name": "user1807271", "link": "https://stackoverflow.com/users/1807271/user1807271"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 32191166, "answer_count": 1, "score": 0, "last_activity_date": 1440448026, "creation_date": 1440446425, "question_id": 32190752, "link": "https://stackoverflow.com/questions/32190752/easiest-way-to-sort-hash-of-arrays-by-3-numeric-value", "title": "Easiest way to sort Hash of Arrays by [3] numeric value", "body": "<p>What is the easiest way to sort Hash of Arrays by [3] numeric value?</p>\n\n<p>For example... I want to sort the hash with values 6125, 1686, 700 from largest to smallest value. I originally though about putting those values as keys, but some of those number are the same in other arrays.</p>\n\n<pre><code>'12' =&gt; [\n     '+',\n     'ATGGTTTTCTTCTCTCCTTCCCTCTCCAGCCTGCTGTATAAGTAA',\n     'MGLGLAPSWPSLLTSSYPECVPYLFSHLLPPTTQPYPFSPSLSSLLYK*',\n     6125\n     ],\n'41' =&gt; [\n     '+',\n     'ATGGGAGTTTACTGTGATGACTTGAGGACAGAGGGACTCTAG',\n     'MGVYCDDLRTEGL*',\n     1686\n     ],\n'16' =&gt; [\n     '+',\n     'ATGGGAGTTTACTGTGATGACTTGAGGACAGAGGGACTCTAG',\n     'MGVYCDDLRTEGL*',\n     700\n     ]\n</code></pre>\n"}, {"tags": ["perl", "openshift"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1440448542, "creation_date": 1440448542, "answer_id": 32191307, "question_id": 32190715, "link": "https://stackoverflow.com/questions/32190715/openshift-perl-module-loading/32191307#32191307", "title": "openshift perl module loading", "body": "<p>You need <code>use MyModuleA12H</code> instead of <code>require MyModuleA12H</code>, as <code>require</code> won't call the module's <code>import</code> method</p>\n\n<p>And your <code>package</code> statement is too late, so you are importing <code>Exporter::import</code> into <code>main</code> instead of <code>MyModuleA12H</code></p>\n\n<p>This is how it should look</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\npackage MyModuleA12H;\n\nuse Exporter qw( import );\n\nour @EXPORT_OK = qw( test );\n\nsub test {\n    'content...';\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4909195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4825553c2b701b4e805fdc4ad3c214d7?s=128&d=identicon&r=PG&f=1", "display_name": "Akrax", "link": "https://stackoverflow.com/users/4909195/akrax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 32191307, "answer_count": 1, "score": -1, "last_activity_date": 1440449203, "creation_date": 1440446269, "last_edit_date": 1440449203, "question_id": 32190715, "link": "https://stackoverflow.com/questions/32190715/openshift-perl-module-loading", "title": "openshift perl module loading", "body": "<p>I read this <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1039356\" rel=\"nofollow\">bug</a> but I can't figure out how can I use my module in a perl application on the opeshift platform.</p>\n\n<p>This is my module in ./libs/MyModuleA12H.pm</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Exporter qw(import);\nour @EXPORT_OK = qw(test);\n\npackage MyModuleA12H;\n\nsub test {\n    return 'content...';\n}\n\n1;\n</code></pre>\n\n<p>and here my ./index.pl</p>\n\n<pre><code>#!/usr/bin/perl\nprint 'Content-type: text/html\\r\\n\\r\\n';\n\nprint '&lt;html&gt;&lt;head&gt;&lt;title&gt;HI&lt;/title&gt;&lt;/head&gt;&lt;body&gt;';\nuse File::Basename qw(dirname);\nuse Cwd qw(abs_path);\nuse lib dirname($0) . '/libs';\nrequire MyModuleA12H;\n\nprint '&lt;div&gt;';\nprint MyModuleA12H::test();\nprint '&lt;/div&gt;';\n\nprint '&lt;/body&gt;&lt;/html&gt;';\n</code></pre>\n\n<p>locally it works but if I commit and reload I get a file not found.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Looks like a permission issue or something. If I comment all the \"use\" part index.pl cannot be found.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>I made a little mess with the single quotes in</p>\n\n<pre><code>print 'Content-type: text/html\\r\\n\\r\\n';\n</code></pre>\n\n<p>that should be \", now it works, thanks to Borodin for the suggestions I'm applying those changes.</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 11711, "user_id": 5091073, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-66nPSaK71Ts/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re5ad5VFAaXIqweqmy4xOu9quVajQ/mo/photo.jpg?sz=128", "display_name": "Nir Levy", "link": "https://stackoverflow.com/users/5091073/nir-levy"}, "edited": false, "score": 0, "creation_date": 1440438459, "post_id": 32188355, "comment_id": 52262225, "body": "why not use <code>$search = &#39;Guit&#39;</code> ? this way the insensitive search will catch it, and the replace will still give you uppercase G"}, {"owner": {"reputation": 37, "user_id": 3287677, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/f3056154ef3c83fce9e7f1d48399b93e?s=128&d=identicon&r=PG&f=1", "display_name": "user3287677", "link": "https://stackoverflow.com/users/3287677/user3287677"}, "reply_to_user": {"reputation": 11711, "user_id": 5091073, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-66nPSaK71Ts/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re5ad5VFAaXIqweqmy4xOu9quVajQ/mo/photo.jpg?sz=128", "display_name": "Nir Levy", "link": "https://stackoverflow.com/users/5091073/nir-levy"}, "edited": false, "score": 0, "creation_date": 1440438914, "post_id": 32188355, "comment_id": 52262441, "body": "yes, but I want to be able to search on &#39;guit&#39; also."}, {"owner": {"reputation": 11711, "user_id": 5091073, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-66nPSaK71Ts/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re5ad5VFAaXIqweqmy4xOu9quVajQ/mo/photo.jpg?sz=128", "display_name": "Nir Levy", "link": "https://stackoverflow.com/users/5091073/nir-levy"}, "edited": false, "score": 0, "creation_date": 1440440713, "post_id": 32188355, "comment_id": 52263446, "body": "if you&#39;re searching case-insensitive - both will work"}, {"owner": {"reputation": 37, "user_id": 3287677, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/f3056154ef3c83fce9e7f1d48399b93e?s=128&d=identicon&r=PG&f=1", "display_name": "user3287677", "link": "https://stackoverflow.com/users/3287677/user3287677"}, "reply_to_user": {"reputation": 11711, "user_id": 5091073, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-66nPSaK71Ts/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re5ad5VFAaXIqweqmy4xOu9quVajQ/mo/photo.jpg?sz=128", "display_name": "Nir Levy", "link": "https://stackoverflow.com/users/5091073/nir-levy"}, "edited": false, "score": 0, "creation_date": 1440440861, "post_id": 32188355, "comment_id": 52263533, "body": "My problem is with replacing the highlighted text as the original string"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440444695, "post_id": 32188767, "comment_id": 52265689, "body": "<code>$&amp;</code> is only set <i>after</i> a match, so that won&#39;t work (for <a href=\"http://perldoc.perl.org/perlvar.html#Performance-issues\" rel=\"nofollow noreferrer\">performance reasons</a>, you generally shouldn&#39;t use <code>$&amp;</code> on Perl &lt;5.20 anyway; even then, I would use a capturing group instead)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440514264, "post_id": 32188767, "comment_id": 52298578, "body": "It won&#39;t work because <code>$&amp;</code> is <code>undef</code> when you concatenate it, so <code>$replace</code> is set to an empty span tag. You&#39;re looking for <code>s&#47;foo&#47;bar$&amp;baz&#47;</code> or <code>s&#47;foo&#47;&quot;bar&quot;.$&amp;.&quot;baz&quot;&#47;e</code> or <code>s&#47;foo&#47;&quot;qq{$replace}&quot;&#47;ee</code>."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440515556, "post_id": 32188767, "comment_id": 52299504, "body": "You&#39;re absolutely correct - I never knew this. Changed the answer accordingly."}], "tags": [], "owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "is_accepted": false, "score": 0, "last_activity_date": 1440515533, "last_edit_date": 1440515533, "creation_date": 1440439309, "answer_id": 32188767, "question_id": 32188355, "link": "https://stackoverflow.com/questions/32188355/i-want-to-search-for-case-insensitive-string-and-replace-with-original-string-in/32188767#32188767", "title": "I want to search for case insensitive string and replace with original string in perl", "body": "<p>Use <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\"><code>$&amp;</code>, which will be set to the matched string</a>:</p>\n\n<pre><code>my $text = \"Albert Hammond's guitar from Gibraltar.\";\n\nforeach my $text ('guitar', 'Gibraltar') {\n    my $replace = \"&lt;span style='color:white;background-color:red'&gt;\" . $&amp; . \"&lt;/span&gt;\";\n    $text =~ s/$search/$replace/gi;\n}\n</code></pre>\n\n<p>Update: this won't work, as @ThisSuitIsBlackNot comments below: the <code>$&amp;</code> will not be interpreted in the replacement string when that string is a variable.  (I didn't know this.)  So you have to get rid of the variable:</p>\n\n<pre><code>my $text = \"Albert Hammond's guitar from Gibraltar.\";\n\nforeach my $search ('guitar', 'Gibraltar') {\n    my $replace = \"\";\n    $text =~ s/$search/&lt;span style='color:white;background-color:red&gt;$&amp;&lt;\\/span&gt;/gi;\n}\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>Albert Hammond's &lt;span style='color:white;background-color:red&gt;guitar&lt;/span&gt; from &lt;span style='color:white;background-color:red&gt;Gibraltar&lt;/span&gt;.\n</code></pre>\n\n<p>Note that I also had to escape the <code>/</code> in the replacement string because <code>/</code> is also used to delimit the arguments of the <code>s</code> command.</p>\n\n<p>This may still not be good enough.</p>\n\n<p>It assumes your values for <code>$search</code> will never contain any characters that are special to regular expressions (such as <code>.</code> or <code>*</code>).\nIf they might, you can escape them using <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow\"><code>qr</code></a>.</p>\n\n<p>It also assumes those values never contain any characters special to XML (such as <code>&lt;</code> or <code>&gt;</code>, or the <code>'</code> in my example.).  If they might, use an XML manipulation library such as <a href=\"http://search.cpan.org/dist/XML-LibXML/\" rel=\"nofollow\">XML::LibXML</a> to make the changes, or use XSLT.</p>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 3287677, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/f3056154ef3c83fce9e7f1d48399b93e?s=128&d=identicon&r=PG&f=1", "display_name": "user3287677", "link": "https://stackoverflow.com/users/3287677/user3287677"}, "is_accepted": false, "score": 0, "last_activity_date": 1440442446, "creation_date": 1440442446, "answer_id": 32189639, "question_id": 32188355, "link": "https://stackoverflow.com/questions/32188355/i-want-to-search-for-case-insensitive-string-and-replace-with-original-string-in/32189639#32189639", "title": "I want to search for case insensitive string and replace with original string in perl", "body": "<p>This did the trick.</p>\n\n<pre><code>my ($original) = $text =~ m/$search/gi;\nmy $replace = \"&lt;span style='color:white;background-color:red'&gt;$original&lt;/span&gt;\";\n$text =~ s/$search/$replace/gi;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1440446269, "creation_date": 1440446269, "answer_id": 32190716, "question_id": 32188355, "link": "https://stackoverflow.com/questions/32188355/i-want-to-search-for-case-insensitive-string-and-replace-with-original-string-in/32190716#32190716", "title": "I want to search for case insensitive string and replace with original string in perl", "body": "<p>You have made this difficult for yourself by requiring the replacement string to be held in a scalar variable. Without that</p>\n\n<pre><code>$text =~ s{($search)}{&lt;span style='color:white;background-color:red'&gt;$1&lt;/span&gt;}gi;\n</code></pre>\n\n<p>would work fine</p>\n\n<p>As it is you need the <code>/ee</code> <em>eval expression</em> modifier, like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $text   = 'Guitar';\nmy $search = 'guit';\n\nmy $replace = q{&lt;span style='color:white;background-color:red'&gt;$1&lt;/span&gt;};\n\n$text =~ s/($search)/ \"qq{$replace}\" /eegi;\n\nsay $text\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>&lt;span style='color:white;background-color:red'&gt;Guit&lt;/span&gt;ar\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 3287677, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/f3056154ef3c83fce9e7f1d48399b93e?s=128&d=identicon&r=PG&f=1", "display_name": "user3287677", "link": "https://stackoverflow.com/users/3287677/user3287677"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2814, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1440515533, "creation_date": 1440437954, "last_edit_date": 1440437973, "question_id": 32188355, "link": "https://stackoverflow.com/questions/32188355/i-want-to-search-for-case-insensitive-string-and-replace-with-original-string-in", "title": "I want to search for case insensitive string and replace with original string in perl", "body": "<p>I am trying to search for a sub string in a string and highlight the search text. What I have so far is this:</p>\n\n<pre><code>$text = 'Guitar';\n$search = 'guit';\n</code></pre>\n\n<p>With the code below I return the string 'guitar' with 'guit' highlighted but I would like to return the original 'Guit' highlighted with the capital 'G'. Any help would be appreciated.</p>\n\n<pre><code>my $replace = \"&lt;span style='color:white;background- color:red'&gt;$search&lt;/span&gt;\";\n$text =~ s/$search/$replace/gi;\n</code></pre>\n"}, {"tags": ["macos", "bash", "perl"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 2, "creation_date": 1440438185, "post_id": 32188266, "comment_id": 52262082, "body": "The problem is your installation of WWW::Mechanize, not your program.  You say &quot;Using cpanm doesn&#39;t work&quot;, but we have no idea why that is.  Please edit your question to show the results of trying to install WWW::Mechanize."}, {"owner": {"reputation": 586, "user_id": 5216673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5d8b8e0713574ae9a4836651a39e56?s=128&d=identicon&r=PG", "display_name": "thrig", "link": "https://stackoverflow.com/users/5216673/thrig"}, "edited": false, "score": 0, "creation_date": 1440441929, "post_id": 32188266, "comment_id": 52264107, "body": "The <code>&#47;opt&#47;local</code> path indicates MacPorts, so another alternative would be to install the appropriate package, e.g. something like <code>sudo port install p5-www-mechanize</code>"}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "edited": false, "score": 0, "creation_date": 1440441746, "post_id": 32189441, "comment_id": 52264007, "body": "How would I go about doing that?"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "reply_to_user": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "edited": false, "score": 0, "creation_date": 1440441812, "post_id": 32189441, "comment_id": 52264039, "body": "Probably the same way you&#39;re installing WWW::Mechanize.  Use cpanm."}, {"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "edited": false, "score": 0, "creation_date": 1440441856, "post_id": 32189441, "comment_id": 52264063, "body": "What would the name be? WWW::CGI?"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 1, "creation_date": 1440443100, "post_id": 32189441, "comment_id": 52264771, "body": "@AndyLester, no, the key lines are where it tried to install CGI 4.21 and failed.  See my answer."}], "tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 3, "last_activity_date": 1440441702, "creation_date": 1440441702, "answer_id": 32189441, "question_id": 32188266, "link": "https://stackoverflow.com/questions/32188266/cant-locate-www-mechanize-pm-using-cpanm-doesnt-work/32189441#32189441", "title": "Can&#39;t locate WWW/Mechanize.pm: Using cpanm doesn&#39;t work", "body": "<p>These look to be the key lines in the output from cpanm, down at the bottom.</p>\n\n<pre><code>! Installing the dependencies failed: Installed version (3.59) of CGI is not in range '4.08'\n! Bailing out the installation for WWW-Mechanize-1.75.\n</code></pre>\n\n<p>Looks like you need to install a higher version of the CGI distribution.</p>\n"}, {"tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 2, "last_activity_date": 1440443063, "creation_date": 1440443063, "answer_id": 32189825, "question_id": 32188266, "link": "https://stackoverflow.com/questions/32188266/cant-locate-www-mechanize-pm-using-cpanm-doesnt-work/32189825#32189825", "title": "Can&#39;t locate WWW/Mechanize.pm: Using cpanm doesn&#39;t work", "body": "<p>The key lines in the <code>cpanm</code> output are:</p>\n\n<pre><code>Building and testing CGI-4.21 ... FAIL\n! Installing CGI failed. See /Users/skylerspaeth/.cpanm/work/1440436409.90704/build.log for details. Retry with --force to force install it.\n</code></pre>\n\n<p>So look in <code>/Users/skylerspaeth/.cpanm/work/1440436409.90704/build.log</code> and see what the problem is.  If that log is no longer there, you may need to run <code>cpanm</code> again, which will generate another <code>build.log</code>.</p>\n\n<p>You find the key lines in <code>cpanm</code> output by searching for \"fail\".  Usually, it'll point you at a <code>build.log</code> file for further details.</p>\n"}], "owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 32189825, "answer_count": 2, "score": 0, "last_activity_date": 1440443063, "creation_date": 1440437690, "last_edit_date": 1440439083, "question_id": 32188266, "link": "https://stackoverflow.com/questions/32188266/cant-locate-www-mechanize-pm-using-cpanm-doesnt-work", "title": "Can&#39;t locate WWW/Mechanize.pm: Using cpanm doesn&#39;t work", "body": "<p>I know this is a duplicate, but my question was not answered in any other threads. the output of <code>sudo cpanm WWW::Mechanize</code> is to long to put in tread. <a href=\"http://pastebin.com/3BYUtSss\" rel=\"nofollow\">pastebin: 3BYUtSss</a></p>\n\n<p>I tried executing a perl script, and I get this error:</p>\n\n<pre><code>Can't locate WWW/Mechanize.pm in @INC (@INC contains: /opt/local/lib/perl5/site_perl/5.16.3/darwin-thread-multi-2level /opt/local/lib/perl5/site_perl/5.16.3 /opt/local/lib/perl5/vendor_perl/5.16.3/darwin-thread-multi-2level /opt/local/lib/perl5/vendor_perl/5.16.3 /opt/local/lib/perl5/5.16.3/darwin-thread-multi-2level /opt/local/lib/perl5/5.16.3 /opt/local/lib/perl5/site_perl /opt/local/lib/perl5/vendor_perl .) at io.pl line 5.\n</code></pre>\n\n<p>In case you need it, here is my perl script's contents:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\nuse WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new();\n\nmy ($get,$host,$title);\nwhile (&lt;&gt;) {\n    if (m|^GET (\\S+) |) {\n        $get = $1;\n    } elsif ( m|^Host: (\\S+)\\.| ) {\n        $host = $1;\n    } else {\n        # Unrecognized line...reset\n        $get = $host = $title = '';\n    }\n\n    if ($get and $host) {\n        my ($title) = $get =~ m|^.*\\/(.+?)$|; # default title\n        my $url = 'http://' . $host . $get;\n        $mech-&gt;get($url);\n        if ($mech-&gt;success) {\n            # HTML may have title, images will not\n            $title = $mech-&gt;title() || $title;\n        }\n        print \"Title: $title\\n\";\n        print \"URL: $url\\n\";\n        print \"\\n\";\n\n        $get = $host = $title = '';\n    }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "powershell", "powershell-2.0"], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 4800891, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/P9wpq.jpg?s=128&g=1", "display_name": "developer_117", "link": "https://stackoverflow.com/users/4800891/developer-117"}, "edited": false, "score": 0, "creation_date": 1440437459, "post_id": 32187983, "comment_id": 52261693, "body": "Thanks Mathias R. Jessen! Helps a lot."}], "tags": [], "owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "is_accepted": true, "score": 3, "last_activity_date": 1440436622, "creation_date": 1440436622, "answer_id": 32187983, "question_id": 32186754, "link": "https://stackoverflow.com/questions/32186754/converting-to-powershell/32187983#32187983", "title": "Converting to Powershell", "body": "<p>The <code>[mode]/pattern/[replace/][options]</code> syntax from <code>perl</code> doesn't apply to regex in PowerShell.</p>\n\n<p>Thus, your pattern</p>\n\n<pre><code>/^([\\d]+)_${base_ver}_([\\d]{4})\\.zip$/i\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>^([\\d]+)_${base_ver}_([\\d]{4})\\.zip$\n</code></pre>\n\n<p>(<code>i</code> is unnecessary, <code>-match</code> resolves to <code>-imatch</code> (case-<strong>i</strong>nsensitive match) by default)</p>\n\n<hr>\n\n<p>To capture the number prefix and date, you can use a named capture group (<code>(?&lt;name&gt;pattern)</code>):</p>\n\n<pre><code>^(?&lt;num&gt;[\\d]+)_${base_ver}_(?&lt;date&gt;[\\d]{4})\\.zip$\n</code></pre>\n\n<p>You can then grab the match from <code>$Matches[\"name\"]</code>:</p>\n\n<pre><code>if($f -match \"^(?&lt;num&gt;[\\d]+)_${base_ver}_(?&lt;date&gt;[\\d]{4})\\.zip$\"){\n    $pfile = $f\n    $pnum = $Matches[\"num\"]\n    $pdate = $Matches[\"date\"]\n    $pmon = -join $pdate[0..1]\n    $pyear = -join $pdate[2..3]\n}\n</code></pre>\n\n<p>You could also change the regex pattern to capture the month and year individually:</p>\n\n<pre><code>if($f -match \"^(?&lt;num&gt;[\\d]+)_${base_ver}_(?&lt;month&gt;[\\d]{2})(?&lt;year&gt;[\\d]{2})\\.zip$\"){\n    $pfile = $f\n    $pnum = $Matches[\"num\"]\n    $pmon = $Matches[\"month\"]\n    $pyear = $Matches[\"year\"]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 526, "user_id": 4800891, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/P9wpq.jpg?s=128&g=1", "display_name": "developer_117", "link": "https://stackoverflow.com/users/4800891/developer-117"}, "edited": false, "score": 0, "creation_date": 1440439228, "post_id": 32188494, "comment_id": 52262633, "body": "Thanks for the input Ansgar Wiechers! Saves me an extra line.  Also is there a way I can add a <code>?&lt;date&gt;</code>, so I capture the whole date along with <code>$pnum</code>, <code>$pmon</code>, <code>$pyear</code>?"}, {"owner": {"reputation": 174117, "user_id": 1630171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIS66.png?s=128&g=1", "display_name": "Ansgar Wiechers", "link": "https://stackoverflow.com/users/1630171/ansgar-wiechers"}, "reply_to_user": {"reputation": 526, "user_id": 4800891, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/P9wpq.jpg?s=128&g=1", "display_name": "developer_117", "link": "https://stackoverflow.com/users/4800891/developer-117"}, "edited": false, "score": 2, "creation_date": 1440439958, "post_id": 32188494, "comment_id": 52263009, "body": "@marc117 Sure. Simply change <code>(\\d{2})(\\d{2})</code> to <code>(?&lt;date&gt;(\\d{2})(\\d{2}))</code> to get a named group, or to <code>((\\d{2})(\\d{2}))</code> to get an additional unnamed group (so you can do the assignment like this: <code>$pnum, $pdate, $pmon, $pyear = $matches[1..4]</code>)."}, {"owner": {"reputation": 526, "user_id": 4800891, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/P9wpq.jpg?s=128&g=1", "display_name": "developer_117", "link": "https://stackoverflow.com/users/4800891/developer-117"}, "edited": false, "score": 0, "creation_date": 1440441706, "post_id": 32188494, "comment_id": 52263986, "body": "Thanks again @Ansgar Wiechers!"}], "tags": [], "owner": {"reputation": 174117, "user_id": 1630171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIS66.png?s=128&g=1", "display_name": "Ansgar Wiechers", "link": "https://stackoverflow.com/users/1630171/ansgar-wiechers"}, "is_accepted": false, "score": 2, "last_activity_date": 1440438456, "creation_date": 1440438456, "answer_id": 32188494, "question_id": 32186754, "link": "https://stackoverflow.com/questions/32186754/converting-to-powershell/32188494#32188494", "title": "Converting to Powershell", "body": "<p>I would put a <code>Where-Object</code> filter first. That allows you to use the <code>$matches</code> collection in the subsequent <code>ForEach-Object</code> without a second <code>-match</code> in a nested <code>if</code> statement. If you also change the date pattern from <code>(\\d{4})</code> to <code>(\\d{2})(\\d{2})</code> you can assign <code>$pnum</code>, <code>$pmon</code>, and <code>$pyear</code> in a single statement. You could also simplify the condition for incrementing <code>$fcnt</code>. Instead of checking if <code>$patch_nbr</code> equals one of two values you could check if it's contained in an array of the two values.</p>\n\n<pre><code>Get-ChildItem -Force $base_dir |\n  Where-Object { $_ -match '^(\\d+)_${base_ver}_(\\d{2})(\\d{2})\\.zip$' } |\n  ForEach-Object {\n    $pnum, $pmon, $pyear = $matches[1..3]\n    if (0, $pnum -contains $patch_nbr) { $fcnt++ }\n  }\n}\n</code></pre>\n\n<p>Of course, if all you want to do is count the number of files matching a given patch number, you could just do something like this:</p>\n\n<pre><code>$f = Get-ChildItem -Force $base_dir | Where-Object {\n       $_ -match '^(\\d+)_${base_ver}_\\d{4}\\.zip$' -and\n       0, $matches[1] -contains $patch_nbr\n     }\n$fcnt = @($f).Count\n</code></pre>\n"}], "owner": {"reputation": 526, "user_id": 4800891, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/P9wpq.jpg?s=128&g=1", "display_name": "developer_117", "link": "https://stackoverflow.com/users/4800891/developer-117"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 32187983, "answer_count": 2, "score": 0, "last_activity_date": 1440438456, "creation_date": 1440432134, "question_id": 32186754, "link": "https://stackoverflow.com/questions/32186754/converting-to-powershell", "title": "Converting to Powershell", "body": "<p>I have this perl code I am trying to convert to powershell.</p>\n\n<pre><code>foreach my $f ( @file_list ) {\n    if( $f =~ /^([\\d]+)_${base_ver}_([\\d]{4})\\.zip$/i ){\n        $pfile = $f;\n        ( $pnum, $pdate ) = ( $pfile =~ /^([\\d]+)_${base_ver}_([\\d]{4})\\.zip$/i ); # need to convert\n        ( $pmon, $pyear ) = ( $pdate =~ /^(\\d\\d)(\\d\\d)$/ ); # need to convert\n        if( ($patch_nbr == 0) || ($patch_nbr == $pnum) ) {\n            $fcnt++;\n        }\n    }\n}\n</code></pre>\n\n<p>I've converted most of it here.. </p>\n\n<pre><code>$file_list = Get-ChildItem -force $base_dir\n$file_list | foreach-object {\n    if($_ -match \"/^([\\d]+)_${base_ver}_([\\d]{4})\\.zip$/i\"){\n        $pfile = $_\n\n\n        if($patch_nbr -eq 0 -or $pacth_nbr -eq $pnum){\n            $fcnt++\n        }\n    }\n}\n</code></pre>\n\n<p>Not quite sure how to convert the two variables that equal the regex or if there is a better way to convert the perl code to powershell than what I already have. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 8, "creation_date": 1440430248, "post_id": 32185922, "comment_id": 52257661, "body": "<code>$[</code> can be used to set other bases, too; the commenter was almost certainly (a) ridiculing the &quot;feature&quot; and (b) making an HHGTTG reference."}], "answers": [{"comments": [{"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440431581, "post_id": 32186062, "comment_id": 52258556, "body": "@ikegami: sorry, I don&#39;t follow."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1440431947, "post_id": 32186062, "comment_id": 52258792, "body": "Your choice to link to an essay written in support of adding <code>$[</code> to another language is interesting, though it does mention that &quot;<code>$[</code> is not just deprecated, it is dissed&quot; in Perl5."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440432664, "post_id": 32186062, "comment_id": 52259182, "body": "If you happen to have a more precise document where <code>$[</code> gets deprecated, I&#39;d ask you to just modify the link in my answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440433005, "post_id": 32186062, "comment_id": 52259378, "body": "It would be in one of the .0 perldelta. I&#39;m too exhausted to look it up right now."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1440434110, "post_id": 32186062, "comment_id": 52259930, "body": "<a href=\"http://perldoc.perl.org/perl5120delta.html#Assignment-to-%24%5B\" rel=\"nofollow noreferrer\">Deprecated in 5.12.0</a>, although there are no details beyond &quot;Assignment to <code>$[</code>&quot;. Also documented in <a href=\"http://perldoc.perl.org/perlvar.html#%24%5B\" rel=\"nofollow noreferrer\">perlvar</a> under &quot;Deprecated and removed variables.&quot;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440434124, "post_id": 32186062, "comment_id": 52259942, "body": "In <a href=\"http://perldoc.perl.org/perl5160delta.html\" rel=\"nofollow noreferrer\">5.16</a> it get disabled and moved into a feature. Not sure about the deprecation warning if you turn it on. &quot;$[ is now disabled under use v5.16 . It is part of the default feature set and can be turned on or off explicitly with use feature &#39;array_base&#39; .&quot;"}], "tags": [], "owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "is_accepted": true, "score": 12, "last_activity_date": 1440430052, "creation_date": 1440430052, "answer_id": 32186062, "question_id": 32185922, "link": "https://stackoverflow.com/questions/32185922/perl-why-base-42/32186062#32186062", "title": "Perl `$[`, why base 42?", "body": "<p>If you do</p>\n\n<pre><code>$[ = 42\n</code></pre>\n\n<p>you set the \"base\" of your array indexing to 42; so the first element of an array can be requested by doing</p>\n\n<pre><code>$something[42]\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>$something[0]\n</code></pre>\n\n<p>Obviously this is immensely helpful if you want to, or you need to, or your is just that but also can't. Therefore, it <a href=\"http://www.perl6.org/archive/rfc/355.html\">was deprecated to the ninth circle of deprecation hell</a>.</p>\n"}], "owner": {"reputation": 12289, "user_id": 596041, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9eb6a78f4a48d143d59966fceec3c655?s=128&d=identicon&r=PG", "display_name": "Filip Haglund", "link": "https://stackoverflow.com/users/596041/filip-haglund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 32186062, "answer_count": 1, "score": 7, "last_activity_date": 1440430052, "creation_date": 1440429623, "question_id": 32185922, "link": "https://stackoverflow.com/questions/32185922/perl-why-base-42", "title": "Perl `$[`, why base 42?", "body": "<p>I found <a href=\"https://stackoverflow.com/questions/1995113/strangest-language-feature#comment1916133_1996314\">this part of an answer</a> really confusing. Most of the answers are special cases of some basic rules, such as the <code>\"333\" + \"222\" == \"333222\" but \"333\" - \"222\" = 111</code> of javascript, where using <code>+</code> for string concatenation is useful.</p>\n\n<blockquote>\n  <p><code>$[</code> \u2014 change your array base from 0-based to 1-based to 42-based: WHEEE!</p>\n</blockquote>\n\n<p>What's the use case for 42-based array indexing? Just a Hitchhiker's guide to the galaxy reference / incredibly evil easter egg, or actually useful?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440426717, "post_id": 32184804, "comment_id": 52255198, "body": "Check that your <code>open</code> is working properly:  <code>open my $t_out, &#39;&gt;&#39;, &quot;outputFiles&#47;$TRAIT.txt&quot; or die $!</code>"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440427130, "post_id": 32184804, "comment_id": 52255482, "body": "it is @Borodin I will include that in to post to clarify, but it is opening."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440429316, "post_id": 32184804, "comment_id": 52257046, "body": "Why not close the previous file when you&#39;re done with it?"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440429697, "post_id": 32184804, "comment_id": 52257295, "body": "Because there may be another trait within the database that belongs in the file @JimDavis"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1440429963, "post_id": 32184804, "comment_id": 52257460, "body": "@Michaela Ah, ok. I&#39;d probably reverse that <code>if&#47;else</code> block and change the condition to something like <code>if ($t_out = $traithash{$TRAIT}) { ... }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440430857, "post_id": 32186207, "comment_id": 52258039, "body": "thank you @Borodin , but it now will only print one trait per file, and I am unsure as to why"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440431338, "post_id": 32186207, "comment_id": 52258389, "body": "@Michaela: I have tried it with some test data and it prints multiple lines to the files if tehre are matching traits. Have you run the program exactly as it is?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440431712, "post_id": 32186207, "comment_id": 52258649, "body": "@Michaela: I&#39;ve added some trace output to the program so that you can see when it&#39;s creating a new file or reusing an existing one"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440432427, "post_id": 32186207, "comment_id": 52259049, "body": "I receive an error at line 6 with the &quot;say&quot; feature, what is that doing @Borodin I am running the program exactly as is"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440432816, "post_id": 32186207, "comment_id": 52259267, "body": "@Michaela: Then you are running a <i>very</i> old version of Perl. I&#39;ve changed it again so that it doesn&#39;t use <code>say</code>"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440433478, "post_id": 32186207, "comment_id": 52259621, "body": "I  downloaded it last month off the perl website @Borodin"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440433609, "post_id": 32186207, "comment_id": 52259683, "body": "Thank you but I am now receiving syntax errors at lines 26 and 30"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440438061, "post_id": 32186207, "comment_id": 52262013, "body": "@Borodin Is <code>use feature &#39;say&#39;</code> the default now?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440440006, "post_id": 32186207, "comment_id": 52263034, "body": "@JimDavis: No. You have to declare that you need any feature, either with <code>use feature &#39;say&#39;</code> or with <code>use v5.10</code>. Using a version number enable all features available in that version of Perl"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440440155, "post_id": 32186207, "comment_id": 52263122, "body": "@Michaela: I missed a couple of calls to <code>say</code>. Try now"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440440604, "post_id": 32186207, "comment_id": 52263383, "body": "@Borodin Ah, I saw your answer between edits, without <code>feature</code> but with <code>say</code>."}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440440680, "post_id": 32186207, "comment_id": 52263427, "body": "I received the same syntax error at lines 26 and 30 near&quot;sayqq...$file} and &quot;sayqq... created}&quot;  @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440440752, "post_id": 32186207, "comment_id": 52263474, "body": "@Michaela: There are no calls to <code>say</code> any more. Try again"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440442221, "post_id": 32186207, "comment_id": 52264258, "body": "There is only one trait for file again @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440444433, "post_id": 32186207, "comment_id": 52265539, "body": "@Michaela: I can&#39;t help you unless I see your data. Can you put it on pastebin.com so that I can see what you are seeing?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440447768, "post_id": 32186207, "comment_id": 52267317, "body": "@Michaela: Does it generate the <code>Reusing file &quot;...&quot;</code> messages?"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1440515242, "post_id": 32186207, "comment_id": 52299269, "body": "no @Borodin , was able to figure it out it was a question of &quot;&gt;&quot; vs &quot;&gt;&gt;&quot; I will post it below thank you for all of your help"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1440447822, "last_edit_date": 1440447822, "creation_date": 1440430439, "answer_id": 32186207, "question_id": 32184804, "link": "https://stackoverflow.com/questions/32184804/how-to-fix-a-code-where-it-is-just-printing-to-the-pervious-file-not-the-correct/32186207#32186207", "title": "How to fix a code where it is just printing to the pervious file not the correct file?", "body": "<p>This looks very much like it's based on the sort of thing I would write, and I suspect you have tried to reuse an answer to a previous question without understanding it</p>\n\n<p>Your hash should contain file handles indexed by the value of <code>$trait</code>, and your code should check to see if there is already a file open for this trait before creating a new one</p>\n\n<p>I think this should work for you</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nopen my $input, \"gwas_catalog_v1.0-downloaded_2015-07-31.tsv\" or die $!;\n\nmy %trait_fh;\n\nwhile ( &lt;$input&gt; ) {\n\n    chomp;\n    my @traits = split /\\t/;\n\n    my ($pubmedid, $trait, $chr_id, $chr_pos, $snps, $pvalue) = @traits[1,7,11,12,21,27];\n    $pvalue =~ s/^[^e]*e//;\n    $trait =~ tr| :/*|_-|;\n\n    local ($,, $\\) = (\"\\t\", \"\\n\");\n    print $trait, $snps, $pvalue;\n\n    if ( $pvalue &lt;= -8 ) {\n\n        my $file = \"outputfiles/$trait.txt\";\n        my $out_fh;\n\n        if ( $out_fh = $trait_fh{$trait} ) {\n            print qq{Reusing file \"$file\"};\n        }\n        else {\n            open $out_fh, '&gt;', $file or die qq{Failed to open \"$file\" for output: $!};\n            print qq{File \"$file\" created};\n            $trait_fh{$trait} = $out_fh;\n        }\n\n        print $out_fh $snps, $pvalue, $pubmedid, $chr_pos, $chr_id;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "is_accepted": false, "score": 0, "last_activity_date": 1440515347, "creation_date": 1440515347, "answer_id": 32207677, "question_id": 32184804, "link": "https://stackoverflow.com/questions/32184804/how-to-fix-a-code-where-it-is-just-printing-to-the-pervious-file-not-the-correct/32207677#32207677", "title": "How to fix a code where it is just printing to the pervious file not the correct file?", "body": "<p>By closing, then reopening and adding on to the file using \">>\" the issue was able to be solved.     </p>\n\n<pre><code>#!/usr/local/bin/perl\n\n\n\nuse strict;\nuse warnings;\n\nmy @traitarray;\nmy $traitarray;\nmy $input ;\nmy %traithash ;\nmy $traithash;\nmy $t_out ;\nmy $TRAIT;\nmy $SNPS;\nmy $PVALUE;\nmy $PUBMEDID;\nmy $CHR_POS; \nmy $CHR_ID;\nopen ($input, \"gwas_catalog_v1.0-downloaded_2015-07-31.tsv\") || die () ;\n\nwhile(&lt;$input&gt;) {\n    @traitarray = split (/\\t/);\n    $TRAIT = $traitarray[7]; \n    $SNPS = $traitarray[21];\n    $PVALUE =$traitarray[27];\n    $PUBMEDID =$traitarray[1];\n    $CHR_POS =$traitarray[12];\n    $CHR_ID =$traitarray[11];\n    $PVALUE =~ s/^[^E]*E//;\n    $TRAIT =~ tr/ /_/ ;\n    $TRAIT =~ tr/:/-/ ;\n    $TRAIT =~ tr/\\//-/ ;\n    $TRAIT =~ tr/*/-/ ;\n\n    if ($PVALUE &lt;= -8) {\n        if (!exists $traithash {$TRAIT}) {\n            open ($t_out, \"&gt;outputFiles/\".$TRAIT.\".txt\") || die () ;\n            print $t_out \"$SNPS\\t $traitarray[27] \\t $PUBMEDID \\t$CHR_POS \\t $CHR_ID \\t \\n\"; \n            $traithash {$TRAIT} = 1 ;\n            push (@traitarray, $TRAIT);  \n            close $t_out; \n    }\n        else {\n            open ($t_out, \"&gt;&gt;outputFiles/\".$TRAIT.\".txt\") || die () ;\n            print $t_out \"$SNPS\\t $traitarray[27] \\t $PUBMEDID \\t$CHR_POS \\t $CHR_ID \\t \\n\";  \n            close $t_out;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440515347, "creation_date": 1440426445, "last_edit_date": 1440430002, "question_id": 32184804, "link": "https://stackoverflow.com/questions/32184804/how-to-fix-a-code-where-it-is-just-printing-to-the-pervious-file-not-the-correct", "title": "How to fix a code where it is just printing to the pervious file not the correct file?", "body": "<p>I have created a program with the purpose of creating separate files for each trait within a database.</p>\n\n<p>The problem is that when we created this, the statements work as if it does not exist create new file, if it already place it in to the pervious file. </p>\n\n<p>I would like it be placed in the pervious file with that trait. </p>\n\n<p>Code is below</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @traitarray;\nmy $traitarray;\nmy $input;\nmy %traithash;\nmy $t_out;\nmy $TRAIT;\nmy $SNPS;\nmy $PVALUE;\nmy $PUBMEDID;\nmy $CHR_POS;\nmy $CHR_ID;\n\nopen( $input, \"gwas_catalog_v1.0-downloaded_2015-07-31.tsv\" ) || die();\n\nwhile ( &lt;$input&gt; ) {\n\n    @traitarray = split( /\\t/ );\n\n    $TRAIT      = $traitarray[7];\n    print \"$TRAIT\\t\";\n\n    $SNPS     = $traitarray[21];\n    $PVALUE   = $traitarray[27];\n    $PUBMEDID = $traitarray[1];\n    $CHR_POS  = $traitarray[12];\n    $CHR_ID   = $traitarray[11];\n\n    $PVALUE =~ s/^[^E]*E//;\n    $TRAIT =~ tr/ /_/;\n    $TRAIT =~ tr/:/-/;\n    $TRAIT =~ tr/\\//-/;\n    $TRAIT =~ tr/*/-/;\n\n    print \"$TRAIT\\t$SNPS\\t$PVALUE\\n\";\n\n    if ( $PVALUE &lt;= -8 ) {\n        if ( !exists $traithash{$TRAIT} ) {\n            open( $t_out, \"&gt;outputFiles/\" . $TRAIT . \".txt\" ) || die();\n            print $t_out \"$SNPS\\t $traitarray[27] \\t $PUBMEDID \\t$CHR_POS \\t $CHR_ID \\t \\n\";\n            $traithash{$TRAIT} = 1;\n            push( @traitarray, $TRAIT );\n        }\n        else {\n            print $t_out \"$SNPS\\t $traitarray[27] \\t $PUBMEDID \\t$CHR_POS \\t $CHR_ID \\t \\n\";\n        }\n    }\n}\n\nforeach ( $traitarray ) {\n    close;\n}\n</code></pre>\n"}, {"tags": ["vba", "perl", "shell"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1440440729, "post_id": 32184442, "comment_id": 52263459, "body": "Why call <code>bash</code> at all? You can invoke Perl instead, right?"}], "answers": [{"comments": [{"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440427489, "post_id": 32185035, "comment_id": 52255737, "body": "Thank you very much for your help and I am glad the details helped, it is much appreciated :)"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440428929, "post_id": 32185035, "comment_id": 52256756, "body": "I thought I understood, but I edited the code and not sure it looks right.  Thank you :)."}, {"owner": {"reputation": 2324, "user_id": 5094258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n4upu.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/5094258/tim"}, "reply_to_user": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440430556, "post_id": 32185035, "comment_id": 52257860, "body": "For clarity, try assigning all your paths to variables (like I did with strNPath). Then find the path you want changed and see if it is correct. If not and if you can&#39;t figure out  how to get it corrected, post the value of that variable and what it should be (generally, since its dynamic)."}, {"owner": {"reputation": 2324, "user_id": 5094258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n4upu.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/5094258/tim"}, "reply_to_user": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440430721, "post_id": 32185035, "comment_id": 52257963, "body": "Also, if you can optionally use single quotes <code>&#39;</code> instead of double quotes <code>&quot;</code> in your bi long perl line, use them Its more readable than all my chr(34) changes and less confusing than trying to use 2 or 3 double quotes to escape. (its been a few years since I did any Perl coding so I don&#39;t remember...sorry)"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440434279, "post_id": 32185035, "comment_id": 52260028, "body": "I made the change in the &#39;Update folder structure and call .bat section. I am getting a bad file name with the strNPath highlighted.  Thank you:)."}, {"owner": {"reputation": 2324, "user_id": 5094258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n4upu.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/5094258/tim"}, "reply_to_user": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440434909, "post_id": 32185035, "comment_id": 52260348, "body": "Ahh! I see. Yes, you are setting a folder path but not actually specifying a file: <code>strNPath = &quot;N:\\1_DATA\\MicroArray\\NexusData\\*257168310045_8-18-2015*\\&quot;</code> is just the path to the file, but does not specify the file so your <code>Open</code> statement must append the filename to strNPath. eg: <code>Open strNPath &amp; &quot;myfile.bat&quot; For Output As FN</code> just use the name of the batch file in place of <code>myfile.bat</code>"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440437707, "post_id": 32185035, "comment_id": 52261812, "body": "I added the file to open but am getting a bad file/path name and that is highlighted.  Thank you :)."}, {"owner": {"reputation": 2324, "user_id": 5094258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n4upu.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/5094258/tim"}, "reply_to_user": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440438333, "post_id": 32185035, "comment_id": 52262145, "body": "You might want to brush up on the differences between drives, folders, and files. Your Open statement is trying to open <code>N:\\1_DATA\\MicroArray\\NexusData\\*257168310045_8-18-2015*\\C:\\U&zwnj;&#8203;sers\\cmccabe\\Desktop&zwnj;&#8203;\\NxClinical.bat</code>. It is not possible to name a folder <code>C:</code> in any OS afaik. I don&#39;t know which file you really want to open at that point...one on your N drive or one on your C drive, but you certainly can&#39;t use both drives in that statement. :) I recommended using variables for the folders to improve readability and configurability, however it isn&#39;t 100% necessary."}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440440947, "post_id": 32185035, "comment_id": 52263580, "body": "I mis-read your post and corrected it in the edit but am getting a Object Required error in the system.diagnostics.... (the part that calls the bat file).  Thank you :)."}, {"owner": {"reputation": 2324, "user_id": 5094258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n4upu.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/5094258/tim"}, "reply_to_user": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440443479, "post_id": 32185035, "comment_id": 52264981, "body": "system.diagnostics.process.Start isn&#39;t a VBA command. Any reason why you switched from using <code>call Shell</code>?"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440446750, "post_id": 32185035, "comment_id": 52266809, "body": "when I use <code>Call Shell(PathCrnt &amp; &quot;C:\\Users\\cmccabe\\Desktop\\NxClinical.bat &quot; &amp; PathCrnt)</code> I get file not found, so I read that system.diagnostics may help.  It appears I was wrong though.   Thank you :)."}, {"owner": {"reputation": 2324, "user_id": 5094258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n4upu.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/5094258/tim"}, "reply_to_user": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440449162, "post_id": 32185035, "comment_id": 52267985, "body": "Yeah, <code>PathCrnt</code> appears to contain the path to the workbook...probably something like <code>C:\\Users\\cmcabe\\Documents\\ </code>.  So when you concatenate them with the code <code>PathCrnt &amp; &quot;C:\\Users\\cmccabe\\Desktop\\NxClinical.bat &quot; &amp; PathCrnt</code> you are telling Windows/VBA to open <code>C:\\Users\\cmcabe\\Documents\\C:\\Users\\cmccabe\\Desktop\\NxClinica&zwnj;&#8203;l.bat C:\\Users\\cmcabe\\Documents\\ </code> You&#39;ve got this once you figure your paths (Drive\\folder\\folder\\file) out."}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1440450367, "post_id": 32185035, "comment_id": 52268601, "body": "Thanks Tim I am going to change the code to: <code>PathCrnt = ActiveWorkbook.Path &amp; &quot;\\&quot; &amp; MyBarCode &amp; &quot;_&quot; &amp; MyScan         Call Shell(&quot;C:\\Users\\cmccabe\\Desktop\\NxClinical.bat &quot;)</code> and go from there: hopefully that will use the Activeworkbook.Path and call the bat file on the C drive."}], "tags": [], "owner": {"reputation": 2324, "user_id": 5094258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n4upu.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/5094258/tim"}, "is_accepted": true, "score": 2, "last_activity_date": 1440427115, "creation_date": 1440427115, "answer_id": 32185035, "question_id": 32184442, "link": "https://stackoverflow.com/questions/32184442/update-sh-file-using-vba-before-perl-script-is-run/32185035#32185035", "title": "update sh file using VBA before perl script is run", "body": "<p>Nice post! Very detailed. :)</p>\n\n<p>Certainly the Perl file can be updated before it is run. Just write the update path into the file like you write the data into sample_descriptor.txt. eg:</p>\n\n<pre><code>Dim FN as Long\nFN = FreeFile 'FreeFile gets an available file number'\nOpen PathToShFile For Output As FN\nPrint FN, \"perl \" &amp; chr(34) &amp; PathCrnt &amp; _\n  &amp; chr(34) &amp; \"\\get_imagene_spikein_probe_values.pl\" &amp; chr(34) &amp;  _\n  &amp; chr(34) &amp; \"N:\\1_DATA\\MicroArray\\NexusData\\*257168310045_8-18-2015*\" &amp; _\n  chr(34) &amp; \" \" &amp; chr(34) &amp; _\n  \" ImaGene EmArray- Template.txt\" &amp; chr(34) &amp; _ \n  \" &lt; test_probes8.txt &gt; \" &amp; chr(34) &amp; _\n  \"N:\\1_DATA\\MicroArray\\NexusData\\*257168310045_8-18-2015*\\output.txt\"  &amp; chr(34)\nClose FN\n</code></pre>\n\n<p>I'm not sure I got all the <code>\"</code> marks replaced with <code>chr(34)</code> correctly so make sure to echo out that string before trying to execute any code. You might also make it more readable (and configurable) by using variables to store paths. eg: </p>\n\n<p><code>strNPath = \"N:\\1_DATA\\MicroArray\\NexusData\\*257168310045_8-18-2015*\\\"</code></p>\n"}], "owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 32185035, "answer_count": 1, "score": 1, "last_activity_date": 1440441822, "creation_date": 1440425408, "last_edit_date": 1440441822, "question_id": 32184442, "link": "https://stackoverflow.com/questions/32184442/update-sh-file-using-vba-before-perl-script-is-run", "title": "update sh file using VBA before perl script is run", "body": "<p>I have a VBA that creates a new directory folder and creates a new text file in that directory. I am trying to run a <code>perl</code> script from the VBA and have created a batch file that gets called from the VBA. That bat file uses a shell file to run a script. The directory in the script is dynamic and changes each time based on user input. My question is can the .sh file be updated before it is run?  I apologize for the long post, just wanted to be complete.  Thank you :).</p>\n\n<p><strong>VBA</strong></p>\n\n<pre><code>Private Sub CommandButton3_Click()\n\nDim MyBarCode   As String      ' Enter Barcode\nDim MyScan      As String      ' Enter ScanDate\nDim MyDirectory As String\n\nMyBarCode = Application.InputBox(\"Please enter the barcode\", \"Bar Code\", Type:=2)\nIf MyBarCode = \"False\" Then Exit Sub   'user canceled\nDo\n    MyScan = Application.InputBox(\"Please enter scan date\", \"Scan Date\", Date, Type:=2)\n    If MyScan = \"False\" Then Exit Sub   'user canceled\n    If IsDate(MyScan) Then Exit Do\n    MsgBox \"Please enter a valid date format. \", vbExclamation, \"Invalid Date Entry\"\nLoop\n\nRange(\"B20\").Value = MyBarCode\nRange(\"B21\").Value = CDate(MyScan)\n\nMyDirectory = \"N:\\1_DATA\\MicroArray\\NexusData\\\" &amp; MyBarCode &amp; \"_\" &amp; Format(CDate(MyScan), \"m-d-yyyy\") &amp; \"\\\"\n' Create nexus directory and folder\nIf Dir(MyDirectory, vbDirectory) = \"\" Then MkDir MyDirectory\n\nIf MsgBox(\"The project file has been created. \" &amp; _\n          \"Do you want to create a template for analysis now?\", _\n          vbQuestion + vbYesNo) = vbYes Then\n\n    'Write to text file\n    Open MyDirectory &amp; \"sample_descriptor.txt\" For Output As #1\n    Print #1, \"Experiment Sample\" &amp; vbTab &amp; \"Control Sample\" &amp; vbTab &amp; \"Display Name\" &amp; vbTab &amp; \"Gender\" &amp; vbTab &amp; \"Control Gender\" &amp; vbTab &amp; \"SpikeIn Location\"\n    Print #1, MyBarCode &amp; \"_532Block1.txt\" &amp; vbTab &amp; MyBarCode &amp; \"_635Block1.txt\" &amp; vbTab &amp; ActiveSheet.Range(\"B8\").Value &amp; \" \" &amp; ActiveSheet.Range(\"B9\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B10\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B5\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B11\").Value &amp; vbTab &amp; ActiveSheet.Range(\"B12\").Value\n    Print #1, MyBarCode &amp; \"_532Block2.txt\" &amp; vbTab &amp; MyBarCode &amp; \"_635Block2.txt\" &amp; vbTab &amp; ActiveSheet.Range(\"C8\").Value &amp; \" \" &amp; ActiveSheet.Range(\"C9\").Value &amp; vbTab &amp; ActiveSheet.Range(\"C10\").Value &amp; vbTab &amp; ActiveSheet.Range(\"C5\").Value &amp; vbTab &amp; ActiveSheet.Range(\"C11\").Value &amp; vbTab &amp; ActiveSheet.Range(\"C12\").Value\n    Print #1, MyBarCode &amp; \"_532Block3.txt\" &amp; vbTab &amp; MyBarCode &amp; \"_635Block3.txt\" &amp; vbTab &amp; ActiveSheet.Range(\"D8\").Value &amp; \" \" &amp; ActiveSheet.Range(\"D9\").Value &amp; vbTab &amp; ActiveSheet.Range(\"D10\").Value &amp; vbTab &amp; ActiveSheet.Range(\"D5\").Value &amp; vbTab &amp; ActiveSheet.Range(\"D11\").Value &amp; vbTab &amp; ActiveSheet.Range(\"D12\").Value\n    Print #1, MyBarCode &amp; \"_532Block4.txt\" &amp; vbTab &amp; MyBarCode &amp; \"_635Block4.txt\" &amp; vbTab &amp; ActiveSheet.Range(\"E8\").Value &amp; \" \" &amp; ActiveSheet.Range(\"E9\").Value &amp; vbTab &amp; ActiveSheet.Range(\"E10\").Value &amp; vbTab &amp; ActiveSheet.Range(\"E5\").Value &amp; vbTab &amp; ActiveSheet.Range(\"E11\").Value &amp; vbTab &amp; ActiveSheet.Range(\"E12\").Value\n    Close #1\n\n    'Run ImaGene\n    If MsgBox(\"Please run the ImaGene analysis. \" &amp; _\n          \"and click yes after it completes to verify the spike-ins.\", _\n          vbQuestion + vbYesNo) = vbYes Then\n\n    **'Update folder structure and call .bat\n    Dim PathCrnt As String\n    Dim FN As Long\n\n    FN = FreeFile 'FreeFile gets an available file number'\n    Open \"C:\\cygwin\\home\\cmccabe\\Run_probes.sh\" For Output As FN\n\n    PathCrnt = ActiveWorkbook.Path\n    *system.diagnostics.process.Start (\"C:\\Users\\cmccabe\\Desktop\\NxClinical.bat\") &amp; PathCrnt*\n    Close FN\n    End If**\nEnd Sub\n\nElse\n    MsgBox \"Nothing has been done. \", vbExclamation, \"Goodbye!\"\nEnd If\nApplication.DisplayAlerts = False\nApplication.Quit\n\nEnd Sub\n</code></pre>\n\n<p><strong>Bat with that calls <code>perl</code> script:</strong></p>\n\n<pre><code>C:\\cygwin\\bin\\bash --login -i ./Run_probes.sh\n</code></pre>\n\n<p><strong>Run_probes.sh</strong></p>\n\n<pre><code>perl \"C:\\cygwin\\home\\cmccabe\\get_imagene_spikein_probe_values.pl\" \"N:\\1_DATA\\MicroArray\\NexusData\\*257168310045_8-18-2015*\" \"ImaGene EmArray- Template.txt\" &lt; test_probes8.txt &gt; \"N:\\1_DATA\\MicroArray\\NexusData\\*257168310045_8-18-2015*\\output.txt\"\n</code></pre>\n"}, {"tags": ["perl", "unicode", "icons", "font-awesome"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1440418294, "post_id": 32181689, "comment_id": 52249361, "body": "If you are using UTF-8 in source code then you need to put <code>use utf8;</code> in your script."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440421823, "post_id": 32181689, "comment_id": 52251708, "body": "Belongs on fonts.stackexchange.com"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1440422034, "post_id": 32181689, "comment_id": 52251871, "body": "@mob that doesn&#39;t seem to exist."}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 3285190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce345e0cd8c36c15aa4dd84fafc50a91?s=128&d=identicon&r=PG", "display_name": "apoc", "link": "https://stackoverflow.com/users/3285190/apoc"}, "edited": false, "score": 0, "creation_date": 1440427322, "post_id": 32183275, "comment_id": 52255616, "body": "I don&#39;t quite understand why all the other icons, from the same font work, just not the one used in <code>} elsif ($percent &lt; 50) {     $full_text .= &#39; \uf242 &#39;;</code>  Does the problem come with this specific unicode or with the icon?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 189, "user_id": 3285190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce345e0cd8c36c15aa4dd84fafc50a91?s=128&d=identicon&r=PG", "display_name": "apoc", "link": "https://stackoverflow.com/users/3285190/apoc"}, "edited": false, "score": 0, "creation_date": 1440428674, "post_id": 32183275, "comment_id": 52256586, "body": "I don&#39;t understand the question."}, {"owner": {"reputation": 189, "user_id": 3285190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce345e0cd8c36c15aa4dd84fafc50a91?s=128&d=identicon&r=PG", "display_name": "apoc", "link": "https://stackoverflow.com/users/3285190/apoc"}, "edited": false, "score": 0, "creation_date": 1440429105, "post_id": 32183275, "comment_id": 52256868, "body": "The reason of my second problem. If this has to do with the unicode itself or if there is some other reason why the terminals don&#39;t have a glyph for it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 189, "user_id": 3285190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce345e0cd8c36c15aa4dd84fafc50a91?s=128&d=identicon&r=PG", "display_name": "apoc", "link": "https://stackoverflow.com/users/3285190/apoc"}, "edited": false, "score": 1, "creation_date": 1440430917, "post_id": 32183275, "comment_id": 52258077, "body": "A terminal wouldn&#39;t normally have glyphs for any of these characters as they are <a href=\"https://en.wikipedia.org/wiki/Private_Use_Areas\" rel=\"nofollow noreferrer\">private use</a> characters. Your font has glyphs for some of them, it can&#39;t handle F242."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1440423673, "last_edit_date": 1440423673, "creation_date": 1440422077, "answer_id": 32183275, "question_id": 32181689, "link": "https://stackoverflow.com/questions/32181689/i3blocks-battery-script-using-font-awesome-doesnt-work-with-some-unicodes/32183275#32183275", "title": "i3blocks battery script, using font awesome doesn&#39;t work with some unicodes", "body": "<p>You have two problems.</p>\n\n<hr>\n\n<p>Your first problem is a bug that's resulting in the \"wide character\" warnings and possibly other problems. To solve the error, properly encode your output. Specifically, add the following to your script:</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n</code></pre>\n\n<p>This tells Perl to</p>\n\n<ul>\n<li>Encode text sent to STDOUT using UTF-8.</li>\n<li>Encode text sent to STDERR using UTF-8.</li>\n<li>Decode text read from STDIN using UTF-8.</li>\n<li>Use UTF-8 as the default encoding for files.</li>\n</ul>\n\n<p>The warnings indicate that Perl was able to notice your bug, and that it attempted to fix it by encoding the output using UTF-8. That's the correct fix, so your program's output won't change, which brings us to the second problem.</p>\n\n<hr>\n\n<p>Your second problem is that your terminal's font doesn't have a glyph for U+F242. If you wish to display that character, you'll need to use a different font.</p>\n"}], "owner": {"reputation": 189, "user_id": 3285190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce345e0cd8c36c15aa4dd84fafc50a91?s=128&d=identicon&r=PG", "display_name": "apoc", "link": "https://stackoverflow.com/users/3285190/apoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6210, "favorite_count": 1, "accepted_answer_id": 32183275, "answer_count": 1, "score": 6, "last_activity_date": 1520761932, "creation_date": 1440417261, "last_edit_date": 1520761932, "question_id": 32181689, "link": "https://stackoverflow.com/questions/32181689/i3blocks-battery-script-using-font-awesome-doesnt-work-with-some-unicodes", "title": "i3blocks battery script, using font awesome doesn&#39;t work with some unicodes", "body": "<p>I use font-awesome 4.4.0 and have extended the default i3blocks battery script with the new battery icons.\nAll seem to work correctly but the <code>fa-battery-half Unicode: f242</code>, which renders the script useless. The unicode also seems to refer to the character <code>\uf242</code>.</p>\n\n<p>In the terminal it crashes with:</p>\n\n<pre><code>$ perl /usr/share/i3blocks/battery\nWide character in print at /usr/share/i3blocks/battery line 65.\n28% \uf242 (01:02)\nWide character in print at /usr/share/i3blocks/battery line 66.\n28% \uf242 \n#000000\n</code></pre>\n\n<p>The script is default, except of the following few lines:</p>\n\n<pre><code>if ($status eq 'Discharging') {\n\nif ($percent &lt; 10) {\n    $full_text .= ' \uf244 ';\n} elsif ($percent &lt; 25) {\n    $full_text .= ' \uf243 ';\n} elsif ($percent &lt; 50) {\n    $full_text .= ' \uf242 ';\n} elsif ($percent &lt; 75) {\n    $full_text .= ' \uf241 ';\n} elsif ($percent &lt; 100) {\n    $full_text .= ' \uf240 ';\n}\n\n} elsif ($status eq 'Charging') {\n    $full_text .= ' \uf1e6 ';\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>if ($status eq 'Discharging') {\n\nif ($percent &lt; 25) {\n    print \"#FF003C\\n\";\n} else {\n    print \"#000000\\n\";\n}\n\nif ($percent &lt; 5) {\n    exit(33);\n}\n}\n</code></pre>\n\n<p>In the editor the script looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/N1I1i.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/N1I1i.png\" alt=\"enter image description here\"></a></p>\n\n<p>How may I get the script to work, with the <code>fa-battery-half Unicode: f242</code> icon.</p>\n"}, {"tags": ["r", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1440419116, "post_id": 32181677, "comment_id": 52249850, "body": "Although there is already an accepted answer, it would be nice to see that you invested time into solving your own problems. Just asking for someone to do it for you is not very nice, considering there are real people that invest their real, valueable time to help a random stranger on the internet. :)"}], "answers": [{"comments": [{"owner": {"reputation": 86941, "user_id": 3001626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PNguN.png?s=128&g=1", "display_name": "David Arenburg", "link": "https://stackoverflow.com/users/3001626/david-arenburg"}, "edited": false, "score": 2, "creation_date": 1440417420, "post_id": 32181717, "comment_id": 52248771, "body": "Arghhh... was just posting <code>setDT(df)[, lapply(.SD, sum), by = .(IsomiR = sub(&#39;_.*&#39;, &#39;&#39;, IsomiR))]</code>. Beware of this OP though, he always says that the solution doesn&#39;t work. Even if it perfectly does. So prepare for a rain of bs."}, {"owner": {"reputation": 661302, "user_id": 3732271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6e12042dc31b1ef27471482f9ff91f?s=128&d=identicon&r=PG&f=1", "display_name": "akrun", "link": "https://stackoverflow.com/users/3732271/akrun"}, "reply_to_user": {"reputation": 86941, "user_id": 3001626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PNguN.png?s=128&g=1", "display_name": "David Arenburg", "link": "https://stackoverflow.com/users/3001626/david-arenburg"}, "edited": false, "score": 0, "creation_date": 1440417544, "post_id": 32181717, "comment_id": 52248857, "body": "@DavidArenburg Are you going to post that as a separate answer?"}, {"owner": {"reputation": 86941, "user_id": 3001626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PNguN.png?s=128&g=1", "display_name": "David Arenburg", "link": "https://stackoverflow.com/users/3001626/david-arenburg"}, "edited": false, "score": 0, "creation_date": 1440417583, "post_id": 32181717, "comment_id": 52248882, "body": "No, the OP will claim it doesn&#39;t work. I&#39;ve already spent too much time on him <a href=\"http://stackoverflow.com/a/32178531/3001626\">on his previous bs question</a>. You can post it though."}, {"owner": {"reputation": 26666, "user_id": 4564247, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ig4ew.jpg?s=128&g=1", "display_name": "Pierre L", "link": "https://stackoverflow.com/users/4564247/pierre-l"}, "edited": false, "score": 1, "creation_date": 1440417641, "post_id": 32181717, "comment_id": 52248930, "body": "I was going to post <code>aggregate(df[-1], list(gsub(&quot;_.*&quot;, &quot;&quot;, df$IsomiR)), sum)</code> Save a keystroke or two"}], "tags": [], "owner": {"reputation": 661302, "user_id": 3732271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6e12042dc31b1ef27471482f9ff91f?s=128&d=identicon&r=PG&f=1", "display_name": "akrun", "link": "https://stackoverflow.com/users/3732271/akrun"}, "is_accepted": true, "score": 2, "last_activity_date": 1440420342, "last_edit_date": 1440420342, "creation_date": 1440417331, "answer_id": 32181717, "question_id": 32181677, "link": "https://stackoverflow.com/questions/32181677/sum-lines-with-similar-substring/32181717#32181717", "title": "sum lines with similar substring", "body": "<p>We could match the substring starting from <code>_</code> to the end of the string (<code>.*$</code>) in 'IsomiR' column and replace with <code>''</code> using <code>sub</code>.  We use that as the grouping variable.  If we are doing this with <code>dplyr</code>, the <code>summarise_each</code> can be used for <code>sum</code>ming multiple columns.</p>\n\n<pre><code>library(dplyr)\ndf1 %&gt;%\n   group_by(IsomiR= sub('_.*$', '', IsomiR)) %&gt;%\n   summarise_each(funs(sum))\n#         IsomiR X185R X68G X60G X134G X124R\n#1 hsa-let-7a-3p     6   11    4    15    10\n#2 hsa-let-7b-3p    28   14   18    57    38\n#3 hsa-let-7c-3p   125   34  106   138    81\n</code></pre>\n\n<p>Or we can use <code>separate</code> from <code>tidyr</code> where we split the 'IsomiR' column into by specifying the <code>sep='_'</code>, use that as grouping variable, and in the <code>summarise_each</code> we can <code>select</code> the columns using regex pattern in the <code>matches</code></p>\n\n<pre><code>library(tidyr)\nseparate(df1, IsomiR, into=c('IsomiR', 'unWanted'), sep='_') %&gt;%\n             group_by(IsomiR) %&gt;%\n             summarise_each(funs(sum), matches('[0-9]+[A-Z]$'))\n</code></pre>\n\n<hr>\n\n<p>Using data.table, we convert the 'data.frame' to 'data.table' (<code>setDT(df1)</code>).  Remove the substring in 'IsomiR' with <code>sub</code>, use that as a grouping variable, loop through the columns (<code>lapply(.SD, ..)</code>) and get the <code>sum</code> (suggested by @David Arenburg in the comments).</p>\n\n<pre><code>library(data.table)\nsetDT(df1)[, lapply(.SD, sum), by = .(IsomiR = sub('_.*', '', IsomiR))]  \n</code></pre>\n\n<hr>\n\n<p>Or another option is the formula method in <code>aggregate</code> from <code>baseR</code> after we <code>transform</code> the original dataset  column 'IsomiR` as described above.</p>\n\n<pre><code> aggregate(.~IsomiR, transform(df1, IsomiR= sub('_.*', '', IsomiR)), sum)\n</code></pre>\n\n<h3>data</h3>\n\n<pre><code>df1 &lt;- structure(list(IsomiR = c(\"hsa-let-7a-3p_ATACAATCTACTGTCTTTCCT\", \n\"hsa-let-7a-3p_ATATACAATCTACTGTCTTT\", \n\"hsa-let-7a-3p_ATATACAATCTACTGTCTTTC\", \n\"hsa-let-7b-3p_ATATACAATCTACTGTCTTTCC\",\n\"hsa-let-7b-3p_ATATACAATCTACTGTCTTTCT\", \n\"hsa-let-7b-3p_CCATACAATCTACTGTCTTTCT\", \"hsa-let-7b-3p_CTATACAATCTACTGTCTT\", \n\"hsa-let-7c-3p_CTATACAATCTACTGTCTTT\", \"hsa-let-7c-3p_CTATACAATCTACTGTCTTTC\",    \n\"hsa-let-7c-3p_CTATACAATCTACTGTCTTTCA\"), X185R = c(1L, 1L, 4L, \n 7L, 15L, 4L, 2L, 29L, 85L, 11L), X68G = c(6L, 0L, 5L, 5L, 6L, \n1L, 2L, 7L, 24L, 3L), X60G = c(1L, 1L, 2L, 2L, 14L, 1L, 1L, 26L, \n73L, 7L), X134G = c(2L, 1L, 12L, 6L, 49L, 0L, 2L, 21L, 109L, \n8L), X124R = c(2L, 4L, 4L, 3L, 32L, 0L, 3L, 19L, 59L, 3L)),\n.Names = c(\"IsomiR\", \n \"X185R\", \"X68G\", \"X60G\", \"X134G\", \"X124R\"), class = \"data.frame\", \nrow.names = c(NA, -10L))\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 4033639, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/79757e1aaaebf7f131c462f5234bfe54?s=128&d=identicon&r=PG&f=1", "display_name": "BioMan", "link": "https://stackoverflow.com/users/4033639/bioman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1440443207, "accepted_answer_id": 32181717, "answer_count": 1, "score": -6, "last_activity_date": 1440420342, "creation_date": 1440417210, "question_id": 32181677, "link": "https://stackoverflow.com/questions/32181677/sum-lines-with-similar-substring", "closed_reason": "Not suitable for this site", "title": "sum lines with similar substring", "body": "<p>I have a data frame (tab-sep) that contain counts and sub-IDs that are identical. \nI would like to combine the counts for all identical sub-IDs. Please see example. \nin: </p>\n\n<pre><code>IsomiR                                  185R 68G 60G 134G 124R\nhsa-let-7a-3p_ATACAATCTACTGTCTTTCCT     1   6   1   2   2\nhsa-let-7a-3p_ATATACAATCTACTGTCTTT      1   0   1   1   4\nhsa-let-7a-3p_ATATACAATCTACTGTCTTTC     4   5   2   12  4\nhsa-let-7b-3p_ATATACAATCTACTGTCTTTCC    7   5   2   6   3\nhsa-let-7b-3p_ATATACAATCTACTGTCTTTCT    15  6   14  49  32\nhsa-let-7b-3p_CCATACAATCTACTGTCTTTCT    4   1   1   0   0\nhsa-let-7b-3p_CTATACAATCTACTGTCTT       2   2   1   2   3\nhsa-let-7c-3p_CTATACAATCTACTGTCTTT      29  7   26  21  19\nhsa-let-7c-3p_CTATACAATCTACTGTCTTTC     85  24  73  109 59\nhsa-let-7c-3p_CTATACAATCTACTGTCTTTCA    11  3   7   8   3\n</code></pre>\n\n<p>out:</p>\n\n<pre><code>IsomiR          185R 68G 60G 134G 124R\nhsa-let-7a-3p   6    11  4   15   10\nhsa-let-7b-3p   28   ..  ..  ..   ..\nhsa-let-7c-3p   .. \n</code></pre>\n"}, {"tags": ["perl", "concatenation"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440408801, "post_id": 32178749, "comment_id": 52243323, "body": "It&#39;s really hard to tell what you&#39;re asking here - please can you take a moment to review and refine your question? Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for what makes a good question. Code is a good start, but we can&#39;t tell what your desired results are."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1440408973, "post_id": 32178749, "comment_id": 52243438, "body": "I will point out though - you&#39;re assigning an anonymous hash <code>{}</code> to an array. <code>@DNS_AD_toto</code> - which doesn&#39;t work very well. Likewise - your <code>eq</code> is using an unquoted string, which&#39;ll be a <i>version number</i> not what you&#39;re intending. And your foreach loop - you&#39;re not including the array names. Please turn on <code>strict;</code> and <code>warnings;</code> because that&#39;ll help you write some code that works."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1440410676, "post_id": 32178749, "comment_id": 52244438, "body": "There is also <code>$a</code>, which is a reserved variable name that is used in <code>sort</code> blocks/subs alongside <code>$b</code>. Chose meaningful variable names instead."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440413500, "post_id": 32178749, "comment_id": 52246235, "body": "What output are you hoping to get based on this?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1440423379, "post_id": 32178749, "comment_id": 52252783, "body": "I find the question very clear ..."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1440409145, "creation_date": 1440409145, "answer_id": 32179012, "question_id": 32178749, "link": "https://stackoverflow.com/questions/32178749/perl-concatenate-variable-inside-variable/32179012#32179012", "title": "Perl: concatenate variable inside variable?", "body": "<p>Don't try to generate code.</p>\n\n<pre><code>my %DNS_toto = (\n    AD =&gt; [ '10.0.0.1', '10.0.0.2' ],\n    OP =&gt; [ '192.168.0.1', '192.168.0.2' ],\n);\n\nfor my $foo (qw( AD OP )) {\n   if ($DNS_toto{$foo}[0] eq '192.168.0.2') {\n      ...\n   }\n\n   ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1440409186, "creation_date": 1440409186, "answer_id": 32179032, "question_id": 32178749, "link": "https://stackoverflow.com/questions/32178749/perl-concatenate-variable-inside-variable/32179032#32179032", "title": "Perl: concatenate variable inside variable?", "body": "<p>Use a hash when you want to manipulate variable names,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash = (\n  DNS_AD_toto =&gt; ['10.0.0.1', '10.0.0.2'],\n  DNS_OP_toto =&gt; ['192.168.0.1', '192.168.0.2'],\n);\n\nforeach my $s (\"AD\", \"OP\") {\n  my $key = \"DNS_${s}_toto\";\n\n  if( $hash{$key}[0] eq \"192.168.0.2\") {\n    print 'It is AD'\n  } \n  if( $hash{$key}[0] eq \"10.0.0.2\") {\n    print 'It is OP'\n  }\n\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5259591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8e9e5fd031fcb74c3de9ebb366dc33?s=128&d=identicon&r=PG&f=1", "display_name": "user5259591", "link": "https://stackoverflow.com/users/5259591/user5259591"}, "edited": false, "score": 0, "creation_date": 1440424030, "post_id": 32179322, "comment_id": 52253231, "body": "Thank you for your help :) thx"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1440413596, "last_edit_date": 1440413596, "creation_date": 1440410016, "answer_id": 32179322, "question_id": 32178749, "link": "https://stackoverflow.com/questions/32178749/perl-concatenate-variable-inside-variable/32179322#32179322", "title": "Perl: concatenate variable inside variable?", "body": "<p>I can't answer your question, because it's not clear what your question is. I'll point out though - there are several problems with your code which means it probably isn't going to work - fix these first:</p>\n\n<ul>\n<li>Turn on <code>use strict;</code> and <code>use warnings;</code>. Fix any errors generated - these should be the first two lines of everything you write. </li>\n<li><code>my @DNS_AD_toto = {'10.0.0.1', '10.0.0.2'};</code> probably isn't doing what you think it's doing. </li>\n</ul>\n\n<p><code>{}</code> denote anonymous hashes. So what you're creating here is an anonymous hash, and then inserting it into an array. Your array is one element long, and contains a key-value pair. That's almost certainly not what you wanted. </p>\n\n<p>e.g.: </p>\n\n<pre><code>$VAR1 = [\n          {\n            '10.0.0.1' =&gt; '10.0.0.2'\n          }\n        ];\n</code></pre>\n\n<ul>\n<li><p>As mentioned in the comments - don't use <code>$a</code> - it's a reserved variable for <code>sort</code>. In fact - don't use any single letter variable names. There's rarely a good reason for it. </p></li>\n<li><p>You're talking about symbolic references - those are nasty. Don't. Use a hash instead.  See here for more detail: <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow\">http://perl.plover.com/varvarname.html</a></p></li>\n</ul>\n\n<p>What you <em>probably</em> want is:</p>\n\n<pre><code>my %DNS_toto = (\n   'AD' =&gt; [ '10.0.0.1', '10.0.0.2' ],\n   'OP' =&gt; [ '192.168.0.1', '192.168.0.2' ],\n);\nprint Dumper \\%DNS_toto;\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre><code>$VAR1 = {\n          'AD' =&gt; [\n                    '10.0.0.1',\n                    '10.0.0.2'\n                  ],\n          'OP' =&gt; [\n                    '192.168.0.1',\n                    '192.168.0.2'\n                  ]\n        };\n</code></pre>\n\n<p>(But I'm still not quite clear what your desired end result it - update your question and I'll update this answer). </p>\n\n<p>Edit: Following question update:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy %hash = (\n    DNS_AD_toto =&gt; ['10.0.0.1'],\n    DNS_OP_toto =&gt; [ '192.168.0.2', '10.0.0.2' ],\n    DNS_ZA_toto =&gt; ['192.168.0.3'],\n);\n\nforeach my $abc ( \"AD\", \"OP\" ) {\n    print $hash{ \"DNS_\" . $abc . \"_toto\" }[0], \"\\n\";\n}\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>foreach my $key ( \"DNS_AD_toto\", \"DNS_OP_toto\" ) {\n    print $hash{$key},\"\\n\";\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>foreach my $abc ( grep {m/(AD|OP)/} keys %hash ) {\n    print $hash{$abc}[0], \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5259591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8e9e5fd031fcb74c3de9ebb366dc33?s=128&d=identicon&r=PG&f=1", "display_name": "user5259591", "link": "https://stackoverflow.com/users/5259591/user5259591"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "closed_date": 1440414524, "accepted_answer_id": 32179322, "answer_count": 3, "score": -2, "last_activity_date": 1440417769, "creation_date": 1440408384, "last_edit_date": 1440417769, "question_id": 32178749, "link": "https://stackoverflow.com/questions/32178749/perl-concatenate-variable-inside-variable", "closed_reason": "Needs details or clarity", "title": "Perl: concatenate variable inside variable?", "body": "<p>Inside variable I would like to concatenate other variable:</p>\n\n<pre><code>my %hash = (\n DNS_AD_toto =&gt; ['10.0.0.1'],\n DNS_OP_toto =&gt; ['192.168.0.2', '10.0.0.2'],\n DNS_ZA_toto =&gt; ['192.168.0.3'],\n);\n\nforeach my $abc (\"AD\", \"OP\"){\n  print $DNS_${abc}_toto[0];\n} \n</code></pre>\n\n<p>But <code>print $DNS_$a_toto[0]</code> doesn't work because <code>$DNS_</code> doesn't exist.\nSo, how to concatenate two variables in only one line?</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1440433750, "post_id": 32177704, "comment_id": 52259755, "body": "In my code I make new tables with same schema. Thats why I was trying achieve some efficiency with the create table query. Any other way I can do it ?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1440440163, "post_id": 32177704, "comment_id": 52263126, "body": "@user3360140 only with string concatination"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1442998964, "last_edit_date": 1442998964, "creation_date": 1440405031, "answer_id": 32177704, "question_id": 32177656, "link": "https://stackoverflow.com/questions/32177656/perl-dbi-prepare-is-putting-wrong-quote/32177704#32177704", "title": "Perl dbi prepare is putting wrong quote", "body": "<p>You can not use a placeholder for a table or column name.\nPreparedStatement will interpret this value as a string and make sinlge quotes around it.</p>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1440434220, "post_id": 32177733, "comment_id": 52259998, "body": "@user3360140 Right. See <a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"nofollow noreferrer\">Placeholders and Bind Values</a> in the DBI documentation, which says: <i>With most drivers, placeholders can&#39;t be used for any element of a statement that would prevent the database server from validating the statement and creating a query execution plan for it.</i>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440434285, "post_id": 32177733, "comment_id": 52260030, "body": "Or look at the MySQL documentation, which does not permit arbitrary expressions where the table name is expected in a CREATE TABLE statement."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1440405715, "last_edit_date": 1440405715, "creation_date": 1440405107, "answer_id": 32177733, "question_id": 32177656, "link": "https://stackoverflow.com/questions/32177656/perl-dbi-prepare-is-putting-wrong-quote/32177733#32177733", "title": "Perl dbi prepare is putting wrong quote", "body": "<p>It's just doing what you asked. When given a string, <code>?</code> is equivalent to a string literal. So</p>\n\n<pre><code>SELECT * FROM Table WHERE field = ?\n</code></pre>\n\n<p>means</p>\n\n<pre><code>SELECT * FROM Table WHERE field = 'test'\n</code></pre>\n\n<p>and</p>\n\n<pre><code>SELECT * FROM ?\n</code></pre>\n\n<p>means</p>\n\n<pre><code>SELECT * FROM 'test'\n</code></pre>\n\n<p>You need to use</p>\n\n<pre><code>$dbh-&gt;prepare(\"\n   CREATE TABLE IF NOT EXISTS \".( $dbh-&gt;quote_identifier('test') ).\" (\n             `id` bigint(100) unsigned NOT NULL AUTO_INCREMENT\n          )\n\");\n</code></pre>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 32177733, "answer_count": 2, "score": 1, "last_activity_date": 1442998964, "creation_date": 1440404902, "question_id": 32177656, "link": "https://stackoverflow.com/questions/32177656/perl-dbi-prepare-is-putting-wrong-quote", "title": "Perl dbi prepare is putting wrong quote", "body": "<p>My code is similar to the below:</p>\n\n<pre><code>$sth = $dbh-&gt;prepare(\"CREATE TABLE IF NOT EXISTS ? (`id` bigint(100) unsigned NOT NULL AUTO_INCREMENT\");\n$sth-&gt;execute('test');\n</code></pre>\n\n<p>I end up with the error:</p>\n\n<pre><code>ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''test'\n</code></pre>\n\n<p>From the trace I found perl DBI put single quote around the table name, which mysql doesnt like. How to tell DBI not to put any quote or to put (`) instead of single quote? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4492, "user_id": 5069223, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PrTbp.jpg?s=128&g=1", "display_name": "Bhavin Solanki", "link": "https://stackoverflow.com/users/5069223/bhavin-solanki"}, "edited": false, "score": 0, "creation_date": 1440403240, "post_id": 32177123, "comment_id": 52240026, "body": "Would you like to use jquery?"}, {"owner": {"reputation": 3342, "user_id": 1724106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4811dfc234560fcbe3b63f7af6969af1?s=128&d=identicon&r=PG", "display_name": "morkro", "link": "https://stackoverflow.com/users/1724106/morkro"}, "reply_to_user": {"reputation": 4492, "user_id": 5069223, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PrTbp.jpg?s=128&g=1", "display_name": "Bhavin Solanki", "link": "https://stackoverflow.com/users/5069223/bhavin-solanki"}, "edited": false, "score": 0, "creation_date": 1440403729, "post_id": 32177123, "comment_id": 52240286, "body": "@BhavinSolanki What has this to do with JavaScript?"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440411037, "post_id": 32177508, "comment_id": 52244642, "body": "Can I suggest this would be better with a 3 arg <code>open</code>. Also - given you insert <code>\\n</code> each time, the <code>chomp;</code> would seem to be redundant."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1440412026, "post_id": 32177508, "comment_id": 52245250, "body": "Finally, it&#39;s better practice (much more flexible) not to hardcode names of input and&#39;or output files into scripts, and supply them as arguments instead, or even better, just write to standard outut and redirect it to a file in the call to your script."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1440413724, "post_id": 32177508, "comment_id": 52246366, "body": "Updated to use 3 arg open.  chomp is there so I can print out the input string between quotes.  I agree with not hard-coding filenames, but this is just an example script, it can (of course) be improved."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1440413584, "last_edit_date": 1440413584, "creation_date": 1440404369, "answer_id": 32177508, "question_id": 32177123, "link": "https://stackoverflow.com/questions/32177123/how-do-i-print-user-input-to-a-file-in-perl/32177508#32177508", "title": "How do I print user input to a file in Perl?", "body": "<p><strong>repeat_after_me.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy $outfile = 'output.txt';\n\nprint \"Please type stuff:\\n\";\nopen(my $output, \"&gt;&gt;\", $outfile)\n    or die \"Unable to open $outfile for append : $!\";\nwhile (&lt;STDIN&gt;) {\n    chomp;\n    last if m|^exit$|;\n    print \"You typed '$_'\\n\";\n    print $output $_ . \"\\n\";\n}\nclose $output\n    or die \"Unable to close output.txt : $!\";\n</code></pre>\n\n<p><strong>perl repeat_after_me.pl</strong></p>\n\n<pre><code>Please type stuff:\nhello\nYou typed 'hello'\ngoodbye\nYou typed 'goodbye'\nexit\n</code></pre>\n\n<p><strong>cat output.txt</strong></p>\n\n<pre><code>hello\ngoodbye\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4172856, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-21i9BxM5TcU/AAAAAAAAAAI/AAAAAAAACRo/cxHvTXxlf-0/photo.jpg?sz=128", "display_name": "Sizwe Pellicant", "link": "https://stackoverflow.com/users/4172856/sizwe-pellicant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "closed_date": 1440413373, "accepted_answer_id": 32177508, "answer_count": 1, "score": 0, "last_activity_date": 1440413584, "creation_date": 1440403028, "last_edit_date": 1440410869, "question_id": 32177123, "link": "https://stackoverflow.com/questions/32177123/how-do-i-print-user-input-to-a-file-in-perl", "closed_reason": "Needs details or clarity", "title": "How do I print user input to a file in Perl?", "body": "<p>I want to save user's input to a file and each time the enter key is pressed, the user input must be printed and written to the file.</p>\n\n<pre><code>$name = &lt;STDIN&gt;;\nchomp $name;\n\nwhile { open File,\"&gt;\", \"filename.txt\" or die$!;\n\n    open( MYFILE, '&gt;&gt;filename.txt' );\n    print MYFILE $name;\n    close(MYFILE);\n    close File;\n\n    chop($_ = &lt;&gt;);\n    eval($_);\n    warn() if $@;\n} while ($_ ne \"exit\")\n</code></pre>\n"}, {"tags": ["perl", "loops", "search"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1440403142, "post_id": 32176974, "comment_id": 52239975, "body": "I would suggest rather than a foreach loop each line, building a regex of search terms might work better."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440403883, "post_id": 32176974, "comment_id": 52240376, "body": "@sobrique Yeah that is probably faster."}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 1, "creation_date": 1440404069, "post_id": 32176974, "comment_id": 52240481, "body": "A job for <code>Regexp::Assemble</code>? It can combine multiple patterns into a single pattern."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1440404260, "post_id": 32176974, "comment_id": 52240577, "body": "@Joshua maybe. I guess it depends on the input data. If it&#39;s a dictionary-like lookup with real words it probably doesn&#39;t make a big difference. If it&#39;s numbered sequences it might make a huge difference I think. Good comment! :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1440404638, "post_id": 32176974, "comment_id": 52240788, "body": "@Joshua, Regexp::Assemble has been useless since Perl 5.10, at which point the implementation of alternations were converted to use tries."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1440404741, "post_id": 32176974, "comment_id": 52240853, "body": "It&#39;s very likely that <code>@needles</code> contains text strings rather than regex patterns. If so, then <code>join &#39;|&#39;, @needles</code> should be <code>join &#39;|&#39;, map quotemeta, @needles</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440407261, "post_id": 32176974, "comment_id": 52242345, "body": "Lovely. regex based match and a reminder to use lexical filehandles."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1440404929, "last_edit_date": 1440404929, "creation_date": 1440402607, "answer_id": 32176974, "question_id": 32176845, "link": "https://stackoverflow.com/questions/32176845/search-for-multiple-terms-in-perl/32176974#32176974", "title": "Search for multiple terms in perl", "body": "<p>When you read <code>INPUTFILE</code> in the inner loop, it's read to the end during the first round of <code>SEARCHFILE</code>. Because it's not reset, the filehandle is <em>used up</em> and will always return <code>eof</code>.</p>\n\n<p>If there are <em>hundreds of lines</em>, but not several 100,000 you can easily read it into an array first and then use that for the lookup. The fact that it's single-column makes that very easy. <strong>Note that this is less efficient then the alternative solution below</strong>.</p>\n\n<pre><code>chomp( my @needles = &lt;SEARCHFILE&gt; );\n\nwhile (&lt;INPUTFILE&gt;) {\n  foreach my $needle (@needles) {\n    print OUT $_ if m/\\Q$needle\\E/; # \\Q end \\E quote regex meta chars\n  }\n}\n</code></pre>\n\n<p>Alternatively you can also build one large lookup regex that matches all the strings in one go. That is probably faster than iterating the array for each line.</p>\n\n<pre><code># open ... \nchomp( my @needles = &lt;SEARCHFILE&gt; );\nmy $lookup = join '|', map quotemeta, @needles;\nmy $lookup_regex = qr/$lookup/; # possibly with /i?\n\nwhile (my $line = &lt;INPUTFILE&gt;) {\n  print OUT $line if $line =~ $lookup_regex;\n}\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\"><code>quotemeta</code></a> takes care of strings that contain regex meta characters like <code>/</code> or <code>|</code> or even <code>.</code>. It's the same as using <code>\\Q</code> and <code>\\E</code> as above.</p>\n\n<hr>\n\n<p>Please also use three-argument-open and named filehandles.</p>\n\n<pre><code>open my $fh_searchfile, '&lt;', $searchfile or die $!;\nopen my $fh_inputfile, '&lt;', $inputfile or die $!;\nopen my $fh_out, '&gt;', 'write.txt' or die $!;\n\nchomp( my @needles = &lt;$fh_searchfile&gt; );\n# ...\n</code></pre>\n\n<p>The three-argument-open is important because you are taking user input and using it as the filename directly. A malicious user could enter something like <code>| rm -rf *</code>, which would open a pipe to a <em>delete all my files without asking</em> program. Oops. But if you specify the <code>'&lt;'</code> read open method explicitly in its own parameter, the method characters are ignored in the third param.</p>\n\n<p>The lexical filehandle <code>$fh</code> is, as the name says, lexical, while <code>INPUTFILE</code> is a GLOB, which makes it global. That's not so bad if you only have this one script and no modules, but as soon as you deal with different packages it becomes problematic because those are super-global and every part of the program sees them. That can lead to name collisions and weird stuff happening.</p>\n"}], "owner": {"reputation": 65, "user_id": 3552343, "user_type": "registered", "profile_image": "https://graph.facebook.com/665359094/picture?type=large", "display_name": "userpmondal", "link": "https://stackoverflow.com/users/3552343/userpmondal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 32176974, "answer_count": 1, "score": 2, "last_activity_date": 1440404929, "creation_date": 1440402104, "question_id": 32176845, "link": "https://stackoverflow.com/questions/32176845/search-for-multiple-terms-in-perl", "title": "Search for multiple terms in perl", "body": "<p>I have a file with more than hundred single column entries. I need to search for each of these entries into a file of multiple column and more than thousand entries and need a output file. I tried these codes:  </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nprint \"Enter the input file name:\";\nmy $inputfile = &lt;STDIN&gt;;\nchomp($inputfile);\nprint \"\\nEnter the search file name:\";\nmy $searchfile=&lt;STDIN&gt;;\nchomp($searchfile);\nopen (INPUTFILE, $inputfile) || die;\nopen (SEARCHFILE, $searchfile) || die;\nopen (OUT, \"&gt;write.txt\") || die;\nwhile (my $line=&lt;SEARCHFILE&gt;){\nwhile (&lt;INPUTFILE&gt;) {\n    if (/$line/){\n      print OUT $_;\n    }\n  }\n}\nclose (INPUTFILE) || die;\nclose (SEARCHFILE) || die;\nclose (OUT) || die;\n</code></pre>\n\n<p>The output file has only one line. It has searched the term from the search file into  input file, but only for the first term, not for all. Please help!</p>\n"}, {"tags": ["perl", "file", "cgi"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1440398522, "post_id": 32175646, "comment_id": 52237657, "body": "I think <a href=\"https://metacpan.org/pod/Archive::Zip#addString-stringOrStringRef-name-compressionLevel\" rel=\"nofollow noreferrer\">addString</a> is the closest to your need, but that still creates a file."}, {"owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1440398912, "post_id": 32175646, "comment_id": 52237842, "body": "@ChankeyPathak Thank you. If I won&#39;t be able to find a better solution - I will use this and will remove files immediately after releasing them to the browser (I mean, after they have been downloaded). Thanks!"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1440399425, "post_id": 32175646, "comment_id": 52238084, "body": "OK, I&#39;m adding this as an answer, you may mark it as accepted if you take it as a solution to your problem."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1440404543, "post_id": 32176084, "comment_id": 52240729, "body": "<code>addString</code> doesn&#39;t create any files. There&#39;s nothing in the documentation suggesting it does, and I verified it using <code>strace</code>. Fixed your answer."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 2, "last_activity_date": 1440404495, "last_edit_date": 1440404495, "creation_date": 1440399289, "answer_id": 32176084, "question_id": 32175646, "link": "https://stackoverflow.com/questions/32175646/creating-zip-archive-and-files-for-it-the-same-time-with-perl/32176084#32176084", "title": "Creating ZIP archive and files for it the same time with Perl", "body": "<p><a href=\"https://metacpan.org/pod/Archive::Zip#addString-stringOrStringRef-name-compressionLevel\" rel=\"nofollow\"><code>addString</code></a> does exactly what you want.</p>\n\n<pre><code># Create a file in the archive from a string.\nmy $string_member = $zip-&gt;addString('12344566789abcselkjlkj', 'myFile.txt');\n$string_member-&gt;desiredCompressionMethod(COMPRESSION_DEFLATED);\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 4895979, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/uFYyR.png?s=128&g=1", "display_name": "Arsenii", "link": "https://stackoverflow.com/users/4895979/arsenii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 32176084, "answer_count": 1, "score": 2, "last_activity_date": 1440404495, "creation_date": 1440397366, "question_id": 32175646, "link": "https://stackoverflow.com/questions/32175646/creating-zip-archive-and-files-for-it-the-same-time-with-perl", "title": "Creating ZIP archive and files for it the same time with Perl", "body": "<p>I have a code as following:</p>\n\n<pre><code>my $file = 'myFile.txt';\nmy $zip = Archive::Zip-&gt;new();\nmy $compressed = $zip-&gt;addFile($file, \"newFilename\");\n\nif ($zip-&gt;writeToFileNamed('dir/test.zip') != AZ_OK)\n{\n    print \"ERROR\";\n}\nelse\n{\n    print \"DONE\";\n}\n</code></pre>\n\n<p>Pretty much easy!</p>\n\n<p>The question is: is it possible to rewrite <code>$file = 'myFile.txt'</code> to put there a string, which contains some data (i.e.: \"123455677889\") and this data must be associated with some filename (say: \"myFile.txt\") which does NOT exist on the server. The other words:</p>\n\n<ol>\n<li>we have (obtain or generate) some <code>$data = \"12344566789abcselkjlkj\";</code></li>\n<li>then we associate this data in some way with new file, which does not exist yet and must NOT exist ever on the server (even 1 second as a _temp).</li>\n<li>The last step - we put this \"virtual\" file into the new archive and even then do not write on the disk, but sending as an output (<strong>CGI</strong>) to the user right from the webpage.</li>\n</ol>\n\n<p>Every help is appreciated!\nThank you!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 3, "creation_date": 1440399460, "post_id": 32175576, "comment_id": 52238106, "body": "You may wish to check that you are adding files.  readdir will give you everything in the directory, including the . and .. directories."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440400617, "post_id": 32175576, "comment_id": 52238698, "body": "The <code>-w</code> in your shebang and the <code>use warnings</code> are equivalent. You should drop one. Preferrably the one in the shebang as it&#39;s clearer to read the <code>use</code> statement."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 2446749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27948985213938ff77eb808cffc98f9f?s=128&d=identicon&r=PG", "display_name": "Mokshith Sandeep Kumar", "link": "https://stackoverflow.com/users/2446749/mokshith-sandeep-kumar"}, "edited": false, "score": 0, "creation_date": 1440408151, "post_id": 32177411, "comment_id": 52242933, "body": "Sorry for not putting my question clearly. The Directory contains Sub Directories as well. i need the files as well as Sub Directories. I need to zip the complete directory the way it is."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 27, "user_id": 2446749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27948985213938ff77eb808cffc98f9f?s=128&d=identicon&r=PG", "display_name": "Mokshith Sandeep Kumar", "link": "https://stackoverflow.com/users/2446749/mokshith-sandeep-kumar"}, "edited": false, "score": 1, "creation_date": 1440408907, "post_id": 32177411, "comment_id": 52243393, "body": "Updated my answer. In the future, if you have a new question, ask a new question."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1440408861, "last_edit_date": 1440408861, "creation_date": 1440404005, "answer_id": 32177411, "question_id": 32175576, "link": "https://stackoverflow.com/questions/32175576/error-while-zipping-a-directory-in-perl/32177411#32177411", "title": "Error while zipping a directory in perl", "body": "<ol>\n<li><p>You're getting the list of files in <code>D:\\MyBooks\\Data\\Super Folder</code>, but you're telling Archive::Zip to zip files in the current directory.</p></li>\n<li><p>You say you want to store an entire directory tree, but you don't even attempt to do that.</p></li>\n</ol>\n\n<p>Going by the docs, you want:</p>\n\n<pre><code>use File::Find::Rule qw( );\n\nmy $dir_qfn = 'D:\\MyBooks\\Data\\Super Folder';\nfor my $qfn ( File::Find::Rule-&gt;new-&gt;relative-&gt;in($dir_qfn) ) {\n   $archive-&gt;addFileOrDirectory(\"$dir_qfn/$qfn\", $qfn);\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 2446749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27948985213938ff77eb808cffc98f9f?s=128&d=identicon&r=PG", "display_name": "Mokshith Sandeep Kumar", "link": "https://stackoverflow.com/users/2446749/mokshith-sandeep-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440408861, "creation_date": 1440397055, "last_edit_date": 1440397135, "question_id": 32175576, "link": "https://stackoverflow.com/questions/32175576/error-while-zipping-a-directory-in-perl", "title": "Error while zipping a directory in perl", "body": "<p>I couldn't find a question relevant to the error i am facing.\nPlease apologise if it was there for i couldn't find the same.</p>\n\n<p>I am facing an error while zipping a directory in Perl. The error is </p>\n\n<p>\"The stat preceding -1 _ wasn't an 1stat at c:/Perl/site/lib/Archive/Zip.pm line 2885.\".</p>\n\n<p>Below is my code.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nuse warnings;\n\nuse Archive::Zip qw(:ERROR_CODES :CONSTANTS);\n\nmy $directory = 'D:\\MyBooks\\Data\\Super Folder';\n\nmy $obj = Archive::Zip-&gt;new();\n\nopendir (DIR, $directory) or die $!;\n\nmy @filearray = readdir(DIR);\n\nclose(DIR);\n\n\nforeach my $file(@filearray)\n{\n\n    $obj-&gt;addFile($file);   # add files\n}\n\n\nif ($obj-&gt;writeToFileNamed('dummy.zip') == AZ_OK) \n{  \n\n    print \"Archive created successfully!\";\n} \nelse \n{\n\n    print \"Error while Zipping !\";\n} \n</code></pre>\n"}, {"tags": ["perl", "cryptography", "public-key", "elliptic-curve"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 5258865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15cdd7dd3234f8bc982ab56b0f804857?s=128&d=identicon&r=PG&f=1", "display_name": "Kechup", "link": "https://stackoverflow.com/users/5258865/kechup"}, "edited": false, "score": 0, "creation_date": 1440417130, "post_id": 32180984, "comment_id": 52248602, "body": "Thank you, I was found a nice library written in PHP where I found how to deal with it. I will post right answer there when I am done."}], "tags": [], "owner": {"reputation": 2427, "user_id": 3382542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/10b7548abda22f9fd3f1022b554dc391?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bastian", "link": "https://stackoverflow.com/users/3382542/paul-bastian"}, "is_accepted": true, "score": 1, "last_activity_date": 1440414990, "creation_date": 1440414990, "answer_id": 32180984, "question_id": 32175526, "link": "https://stackoverflow.com/questions/32175526/performing-an-ec-public-key-calculation-for-given-secret-key-gives-wrong-results/32180984#32180984", "title": "Performing an EC public key calculation for given secret key gives wrong results", "body": "<p>I'm not used to Perl but i cannot see you initializing or using a cyclic group. Elliptic curve operations and asymmetric crypto in general are (mostly) always performed in a cyclic group</p>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 5258865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15cdd7dd3234f8bc982ab56b0f804857?s=128&d=identicon&r=PG&f=1", "display_name": "Kechup", "link": "https://stackoverflow.com/users/5258865/kechup"}, "is_accepted": false, "score": 1, "last_activity_date": 1440437220, "last_edit_date": 1440437220, "creation_date": 1440433851, "answer_id": 32187255, "question_id": 32175526, "link": "https://stackoverflow.com/questions/32175526/performing-an-ec-public-key-calculation-for-given-secret-key-gives-wrong-results/32187255#32187255", "title": "Performing an EC public key calculation for given secret key gives wrong results", "body": "<p>So, I found a PHP <a href=\"https://github.com/tuaris/CryptoCurrencyPHP\" rel=\"nofollow\">library</a> that can generate addresses from private key, and wrote an <a href=\"https://gist.github.com/anonymous/8ad5a5766ba754e57fd5?\" rel=\"nofollow\">example code</a> in Perl that based on this PHP code. It weird, but works is some cases. Anyway, this is enough for me to understand about how it works.</p>\n"}], "owner": {"reputation": 105, "user_id": 5258865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15cdd7dd3234f8bc982ab56b0f804857?s=128&d=identicon&r=PG&f=1", "display_name": "Kechup", "link": "https://stackoverflow.com/users/5258865/kechup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 32180984, "answer_count": 2, "score": -1, "last_activity_date": 1440437220, "creation_date": 1440396827, "last_edit_date": 1495541175, "question_id": 32175526, "link": "https://stackoverflow.com/questions/32175526/performing-an-ec-public-key-calculation-for-given-secret-key-gives-wrong-results", "title": "Performing an EC public key calculation for given secret key gives wrong results", "body": "<p>I was trying to understand calculation of EC public key for given secret key. Following this question I was found a <a href=\"https://stackoverflow.com/questions/12480776/how-do-i-obtain-the-public-key-from-an-ecdsa-private-key-in-openssl\">well explained answer</a>, but (as often happens) something goes wrong. According to previous answer and <a href=\"https://en.bitcoin.it/wiki/Secp256k1\" rel=\"nofollow noreferrer\">this document</a> I use following Perl script to perform calculation:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Math::BigInt;\n\nmy $d_hex = \"18E14A7B6A307F426A94F8114701E7C8E774E7F9A47E2C2035DB29A206321725\";\nmy $d_num = Math::BigInt-&gt;new(\"0x$d_hex\");\n\nmy $g_hex = \"0479BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8\";\nmy $g_num = Math::BigInt-&gt;new(\"0x$g_hex\");\n\nmy $q_num = $d_num-&gt;copy()-&gt;bmul($g_num);\nmy $q_hex = $q_num-&gt;as_hex();\n\n# Expect: 0x0450863ad64a87ae8a2fe83c1af1a8403cb53f53e486d8511dad8a04887e5b23522cd470243453a299fa9e77237716103abc11a1df38855ed6f2ee187e9c582ba6\n# Result: 0x479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798611c24f290d443a7c839f40d5512f071e48c9c424b038039d222fa320142ebdd\n\nprint \"$q_hex\\n\";\n</code></pre>\n\n<p>Here is expected result means a result of calculation using code written in C from previously founded answer. As you can see, results is different. What I am doing wrong?</p>\n"}, {"tags": ["json", "perl"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 3, "last_activity_date": 1440400302, "creation_date": 1440400302, "answer_id": 32176361, "question_id": 32175085, "link": "https://stackoverflow.com/questions/32175085/perl-string-to-json/32176361#32176361", "title": "Perl string to Json", "body": "<p>Create the data structure you are looking for, and then call JSON->encode</p>\n\n<p>In your <em>main</em> package, try the following:</p>\n\n<pre><code>use JSON;\n\nmy $JSON  = JSON-&gt;new-&gt;utf8;\n$JSON-&gt;convert_blessed(1);\n\nmy $data = { rows =&gt; [] };\npush @{$data-&gt;{rows}}, new Emp( \"10248\", \"1996-07-04\", \"WILMK\",\"Vins\",\"32\");\npush @{$data-&gt;{rows}}, new Emp( \"10276\", \"1996-08-08\", \"TORTU\",\"Tortuga\",\"13\");\npush @{$data-&gt;{rows}}, new Emp( \"10277\", \"1996-08-09\", \"MORGK\",\"Morgenstern\",\"125\");\n\n$json = $JSON-&gt;encode($data);\nprint \"$json\\n\";\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>{\"rows\":[{\"Freight\":\"32\",\"OrderDate\":\"1996-07-04\",\"CustomerID\":\"WILMK\",\"OrderID\":\"10248\",\"ShipName\":\"Vins\"},\n{\"Freight\":\"13\",\"OrderDate\":\"1996-08-08\",\"CustomerID\":\"TORTU\",\"OrderID\":\"10276\",\"ShipName\":\"Tortuga\"},\n{\"Freight\":\"125\",\"OrderDate\":\"1996-08-09\",\"CustomerID\":\"MORGK\",\"OrderID\":\"10277\",\"ShipName\":\"Morgenstern\"}]}\n</code></pre>\n"}], "owner": {"reputation": 5871, "user_id": 1225432, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b00425343288854a37baa4280bd0796?s=128&d=identicon&r=PG&f=1", "display_name": "chinna_82", "link": "https://stackoverflow.com/users/1225432/chinna-82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440400302, "creation_date": 1440394823, "question_id": 32175085, "link": "https://stackoverflow.com/questions/32175085/perl-string-to-json", "title": "Perl string to Json", "body": "<pre><code>package Emp;\nsub new\n{\n    my $class = shift;\n    my $self = {\n        OrderID =&gt; shift,\n        OrderDate  =&gt; shift,\n        CustomerID  =&gt; shift,\n        ShipName  =&gt; shift,\n        Freight  =&gt; shift,\n    };\n    bless $self, $class;\n    return $self;\n}\nsub TO_JSON { return { %{ shift() } }; }\n\npackage main;\nuse JSON;\n\nmy $JSON  = JSON-&gt;new-&gt;utf8;\n$JSON-&gt;convert_blessed(1);\n\n$e = new Emp( \"10248\", \"1996-07-04\", \"WILMK\",\"Vins\",\"10\");\n$json = $JSON-&gt;encode($e);\nprint \"$json\\n\";    \n</code></pre>\n\n<p>I try to convert my <code>String</code> to <code>JSON</code> by using above example. The output is like below:</p>\n\n<pre><code>{\"Freight\":\"10\",\"OrderDate\":\"1996-07-04\",\"CustomerID\":\"WILMK\",\"OrderID\":\"10248\",\"ShipName\":\"Vins\"}\n</code></pre>\n\n<p>Where do I change if I wanted my JSON to be like below:</p>\n\n<pre><code>{ \n    \"rows\":[\n        {\"OrderID\":\"10248\",\"OrderDate\":\"1996-07-04\",\"CustomerID\":\"WILMK\",\"ShipName\":\"Vins et alcools Chevalier\",\"Freight\":\"32.3800\"},       \n        {\"OrderID\":\"10276\",\"OrderDate\":\"1996-08-08\",\"CustomerID\":\"TORTU\",\"ShipName\":\"Tortuga Restaurante\",\"Freight\":\"13.8400\"},\n        {\"OrderID\":\"10277\",\"OrderDate\":\"1996-08-09\",\"CustomerID\":\"MORGK\",\"ShipName\":\"Morgenstern Gesundkost\",\"Freight\":\"125.7700\"}\n    ]\n}\n</code></pre>\n\n<p>Any advice or reference links is highly appreciated.</p>\n"}, {"tags": ["macos", "bash", "perl", "sed", "grep"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "edited": false, "score": 0, "creation_date": 1440403055, "post_id": 32177067, "comment_id": 52239938, "body": "Thanks, I&#39;ll try it out!"}, {"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "edited": false, "score": 0, "creation_date": 1440403381, "post_id": 32177067, "comment_id": 52240103, "body": "Is there anyway that I can include the Perl in the bash script to make it portable? If not, that&#39;s fine."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "edited": false, "score": 0, "creation_date": 1440403867, "post_id": 32177067, "comment_id": 52240368, "body": "Yes, you can include the perl script in a heredoc: <a href=\"http://stackoverflow.com/questions/17751199/perl-script-in-bashs-heredoc\" title=\"perl script in bashs heredoc\">stackoverflow.com/questions/17751199/&hellip;</a>"}, {"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "edited": false, "score": 2, "creation_date": 1440404014, "post_id": 32177067, "comment_id": 52240447, "body": "Thank you so much! Worked like a charm!"}, {"owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "edited": false, "score": 0, "creation_date": 1440435309, "post_id": 32177067, "comment_id": 52260570, "body": "Well, never mind. Piping anything into a file instead of a command, gives me the error <code>-bash: io.pl: command not found</code>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1440471176, "post_id": 32177067, "comment_id": 52274689, "body": "You realize that a script that provides a command needs to be (1) in your PATH, and (2) granted executable permissions? There are plenty of questions and answers already here describing the necessary steps."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 2, "last_activity_date": 1440452491, "last_edit_date": 1440452491, "creation_date": 1440402883, "answer_id": 32177067, "question_id": 32174907, "link": "https://stackoverflow.com/questions/32174907/parse-output-of-command-into-variable-live-network-traffic-monitoring/32177067#32177067", "title": "Parse Output of Command into Variable LIVE (Network Traffic Monitoring)", "body": "<p>Try this:</p>\n\n<p><strong>title_host.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\nuse WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new();\n\nmy ($get,$host,$title);\nwhile (&lt;&gt;) {\n    if (m|^GET (\\S+) |) {\n        $get = $1;\n    } elsif ( m|^Host: (\\S+)\\.| ) {\n        $host = $1;\n    } else {\n        # Unrecognized line...reset\n        $get = $host = $title = '';\n    }\n\n    if ($get and $host) {\n        my ($title) = $get =~ m|^.*\\/(.+?)$|; # default title\n        my $url = 'http://' . $host . $get;\n        $mech-&gt;get($url);\n        if ($mech-&gt;success) {\n            # HTML may have title, images will not\n            $title = $mech-&gt;title() || $title;\n        }\n        print \"Title: $title\\n\";\n        print \"URL: $url\\n\";\n        print \"\\n\";\n\n        $get = $host = $title = '';\n    }\n}\n</code></pre>\n\n<p><strong>input</strong></p>\n\n<pre><code>GET /images/srpr/logo11w.png HTTP/1.1.\nHost: www.google.com.\nGET /en-us/us/products HTTP/1.1.\nHost: www.caselogic.com.\n</code></pre>\n\n<p><strong>now just pipe your input into the perl script:</strong></p>\n\n<pre><code>cat input | perl title_host.pl\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>Title: logo11w.png\nURL: http://www.google.com/images/srpr/logo11w.png\n\nTitle: Products - Case Logic\nURL: https://www.caselogic.com/en-us/us/products\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 4803732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0fea7a877238a74f5aeb990ae36e0e95?s=128&d=identicon&r=PG&f=1", "display_name": "Skyler Spaeth", "link": "https://stackoverflow.com/users/4803732/skyler-spaeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 1, "accepted_answer_id": 32177067, "answer_count": 1, "score": 3, "last_activity_date": 1440452491, "creation_date": 1440393630, "last_edit_date": 1440401371, "question_id": 32174907, "link": "https://stackoverflow.com/questions/32174907/parse-output-of-command-into-variable-live-network-traffic-monitoring", "title": "Parse Output of Command into Variable LIVE (Network Traffic Monitoring)", "body": "<p>I am writing a network monitoring script in bash. The base command I am using is <code>ettercap -T -M ARP -i en1 // //</code>. Then I pipe <code>egrep --color 'Host:|GET'</code> into it.</p>\n\n<p>A sample output I am getting looks like this:</p>\n\n<pre><code>GET /images/srpr/logo11w.png HTTP/1.1.\nHost: www.google.com.\nGET /en-us/us/products HTTP/1.1.\nHost: www.caselogic.com.\n</code></pre>\n\n<p>My desired output is this:</p>\n\n<pre><code>Title: logo11w.png\nURL: www.google.com/images/srpr/logo11w.png HTTP/1.1.\n\nTitle: Products - Case Logic\nURL: www.caselogic.com/en-us/us/products\n</code></pre>\n\n<p>Things to notice: <code>HTTP/1.1.</code> and the <code>.</code> at the end of the host are gone. They also are formed into one <code>URL</code> and there is a blank line after each <code>Title</code>/<code>URL</code> listing. I attempted forming them into one URL by parsing the commands output into a variable with</p>\n\n<pre><code>var=`sudo ettercap -T -M ARP -i en1 // // | egrep --color 'Host:|GET'` | echo $var\n</code></pre>\n\n<p>but obviously that doesn't work because the input to the variable is a command the isn't done until the user requests a stop (<code>CTRL + C</code>).</p>\n\n<p>To get the title of an HTML page, I use the command <code>wget -qO- 'https://url.goes/here' |   perl -l -0777 -ne 'print $1 if /&lt;title.*?&gt;\\s*(.*?)\\s*&lt;\\/title/si'</code>. If it is something that doesn't have a title, such as an image, no title is fine.</p>\n\n<p>Any help is greatly appreciated, and sorry if what I wrote is hard to read, feel free to ask questions.</p>\n"}, {"tags": ["apache", "perl", "mod-perl"], "answers": [{"tags": [], "owner": {"reputation": 15919, "user_id": 98959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffd8df86ca823b368f838da3ff25f10c?s=128&d=identicon&r=PG", "display_name": "covener", "link": "https://stackoverflow.com/users/98959/covener"}, "is_accepted": false, "score": 1, "last_activity_date": 1440423293, "creation_date": 1440423293, "answer_id": 32183689, "question_id": 32174516, "link": "https://stackoverflow.com/questions/32174516/how-to-deal-with-the-missing-mod-perl-so-when-installing-mod-perl-2-0-9-with-apa/32183689#32183689", "title": "How to deal with the missing mod_perl.so when installing mod_perl 2.0.9 with apache 2.2.31 on Ubunt 14.04?", "body": "<p>On Ubuntu/debian, install libperl-dev which provides /usr/lib/libperl.so</p>\n"}], "owner": {"reputation": 221, "user_id": 5175699, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e561ef5533ee56a62309174642e467fe?s=128&d=identicon&r=PG&f=1", "display_name": "leo", "link": "https://stackoverflow.com/users/5175699/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440423293, "creation_date": 1440391055, "question_id": 32174516, "link": "https://stackoverflow.com/questions/32174516/how-to-deal-with-the-missing-mod-perl-so-when-installing-mod-perl-2-0-9-with-apa", "title": "How to deal with the missing mod_perl.so when installing mod_perl 2.0.9 with apache 2.2.31 on Ubunt 14.04?", "body": "<p>I am trying to install mod_perl 2.0.9 with Apache 2.2.31 on Ubuntu 14.04. I got stuck with a missing file mod_perl.so. Below are the details.</p>\n\n<p>Followed the instructions <a href=\"https://perl.apache.org/docs/2.0/user/install/install.html#Prerequisites\" rel=\"nofollow\">https://perl.apache.org/docs/2.0/user/install/install.html#Prerequisites</a>,\nI downloaded httpd-2.2.31.tar.gz and mod_perl-2.0.9.tar.gz. </p>\n\n<p>I unziped them by</p>\n\n<pre><code>tar -xvzf httpd-2.2.31.tar.gz\ntar -xvzf mod_perl-2.0.9.tar.gz\n</code></pre>\n\n<p>and got directories httpd-2.2.31 and mod_perl-2.0.9. </p>\n\n<p>Then I typed command (following the link):</p>\n\n<pre><code>perl Makefile.PL MP_APXS=/path/to/httpd-2.2.31/server/mpm/prefork/bin/apxs\n</code></pre>\n\n<p>I got: </p>\n\n<pre><code>[warning] mod_perl dso library will be built as mod_perl.so\n[warning] You'll need to add the following to httpd.conf:\n[warning] \n[warning]   LoadModule perl_module modules/mod_perl.so\n[warning] \n[warning] depending on your build, mod_perl might not live in\n[warning] the modules/ directory.\n\n[warning] Check the results of\n[warning] \n[warning]   $ /path/to/httpd-2.2.31/server/mpm/prefork/bin/apxs -q LIBEXECDIR\n[warning] \n[warning] and adjust the LoadModule directive accordingly.\n</code></pre>\n\n<p>But, I could not find mod_perl.so anywhere. </p>\n\n<p>Can anybody let me know where to get mod_perl.so or where it is supposed to be?</p>\n\n<p>Without properly set mod_perl.so, I ran </p>\n\n<pre><code>make\n</code></pre>\n\n<p>and got</p>\n\n<pre><code>/usr/bin/ld: cannot find -lperl\ncollect2: error: ld returned 1 exit status\nmake[1]: *** [mod_perl.so] Error 1\nmake[1]: Leaving directory `/home/guohua/stas/mod_perl-2.0.9/src/modules/perl'\nmake: *** [modperl_lib] Error 2\n</code></pre>\n\n<p>How can I fix this? </p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["perl", "gd"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440361609, "post_id": 32169738, "comment_id": 52228746, "body": "Do you have <code>libgd-devel</code> installed?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1440365772, "post_id": 32169738, "comment_id": 52229907, "body": "Did you try installing a <a href=\"http://stackoverflow.com/a/22982069/293652\">prebuilt version</a>?"}, {"owner": {"reputation": 375, "user_id": 1194716, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/bcb87a0d8c9e8cd75d3bb8cc67a07f67?s=128&d=identicon&r=PG", "display_name": "Doug Conran", "link": "https://stackoverflow.com/users/1194716/doug-conran"}, "edited": false, "score": 0, "creation_date": 1440409963, "post_id": 32169738, "comment_id": 52244016, "body": "1.  No, I don&#39;t have libgd-devel installed.  Yum list reports that no such package is available.  I do, however have both gd and gd-devel installed."}, {"owner": {"reputation": 375, "user_id": 1194716, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/bcb87a0d8c9e8cd75d3bb8cc67a07f67?s=128&d=identicon&r=PG", "display_name": "Doug Conran", "link": "https://stackoverflow.com/users/1194716/doug-conran"}, "edited": false, "score": 0, "creation_date": 1440410013, "post_id": 32169738, "comment_id": 52244046, "body": "2.  I already have perl-GD-2.44-3 installed"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1440422500, "post_id": 32169738, "comment_id": 52252153, "body": "<code>libgd2-devel</code> maybe?"}, {"owner": {"reputation": 375, "user_id": 1194716, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/bcb87a0d8c9e8cd75d3bb8cc67a07f67?s=128&d=identicon&r=PG", "display_name": "Doug Conran", "link": "https://stackoverflow.com/users/1194716/doug-conran"}, "edited": false, "score": 0, "creation_date": 1440427648, "post_id": 32169738, "comment_id": 52255859, "body": "Nop, according to yum list, there is no package libgd anything  However libgd.so.2 (and 3) is in my /usr/lib64 directory (and in /usr/local/lib64)"}], "answers": [{"tags": [], "owner": {"reputation": 375, "user_id": 1194716, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/bcb87a0d8c9e8cd75d3bb8cc67a07f67?s=128&d=identicon&r=PG", "display_name": "Doug Conran", "link": "https://stackoverflow.com/users/1194716/doug-conran"}, "is_accepted": false, "score": 0, "last_activity_date": 1440434057, "creation_date": 1440434057, "answer_id": 32187323, "question_id": 32169738, "link": "https://stackoverflow.com/questions/32169738/cannot-load-perl-module-gd/32187323#32187323", "title": "cannot load perl module GD", "body": "<p>I eventually got this sorted out by putting a whole lot of debugging comments in GD.pm.</p>\n\n<p>It transpires that it was failing because if couldn't load GD::Polygon::delete in spite of the fact that GD::Polygon was there, having been installed using CPAN.</p>\n\n<p>Once I had re-installed GD::Polygon it all worked as it should do.</p>\n"}], "owner": {"reputation": 375, "user_id": 1194716, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/bcb87a0d8c9e8cd75d3bb8cc67a07f67?s=128&d=identicon&r=PG", "display_name": "Doug Conran", "link": "https://stackoverflow.com/users/1194716/doug-conran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1083, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492967748, "creation_date": 1440352780, "question_id": 32169738, "link": "https://stackoverflow.com/questions/32169738/cannot-load-perl-module-gd", "title": "cannot load perl module GD", "body": "<p>I'm trying to install the GD module (v2.56).  I can create the make file successfully using 'perl Makefile.PL' and then 'make' it but when I run 'make test' I get the following error:-</p>\n\n<pre><code>t/Polyline.t .. Can't locate loadable object for module GD in @INC (@INC contains: /root/.cpan/build/GD-2.56/blib/lib /root/.cpan/build/GD-2.56/blib/arch /usr/local/lib/perl5/site_perl/5.22.0/x86_64-linux /usr/local/lib/perl5/site_perl/5.22.0 /usr/local/lib/perl5/5.22.0/x86_64-linux /usr/local/lib/perl5/5.22.0 .) at /root/.cpan/build/GD-2.56/blib/lib/GD/Polyline.pm line 45.\nCompilation failed in require at /root/.cpan/build/GD-2.56/blib/lib/GD/Polyline.pm line 45.\nBEGIN failed--compilation aborted at /root/.cpan/build/GD-2.56/blib/lib/GD/Polyline.pm line 45.\nCompilation failed in require at t/Polyline.t line 10.\nBEGIN failed--compilation aborted at t/Polyline.t line 10.\nt/Polyline.t .. Dubious, test returned 2 (wstat 512, 0x200)\n</code></pre>\n\n<p>I've checked and confirm that GD.pm (28 Oct 2014) is in the Perl INC path and I have gd, gd-devel, gdbm and gdbm-devel all installed</p>\n\n<p>The server is Centos 6, perl is v 5.22.0 and gd is v2.0.35.</p>\n\n<ol>\n<li>What am I doing wrong and how do I put it right?</li>\n<li>Is there an alternative (other than Image::Magick which I also cannot get installed)?</li>\n</ol>\n"}, {"tags": ["perl", "hash", "hashtable", "hashref", "arrayref"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440339055, "post_id": 32166104, "comment_id": 52221726, "body": "What&#39;s the purpose behind this structure? It looks like an odd sort of shape, as if you&#39;re trying to do something else with it like create JSON."}], "answers": [{"comments": [{"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 0, "creation_date": 1440338330, "post_id": 32166866, "comment_id": 52221494, "body": "I create this in a loop. So basically I should not care about initializing an empty array or empty hashref?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440339008, "post_id": 32166866, "comment_id": 52221706, "body": "Command to display contents of a data structure using <code>Data::Dump</code>. It&#39;s similar to <code>Data::Dumper</code> and <code>Dumper</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 0, "creation_date": 1440340517, "post_id": 32166866, "comment_id": 52222253, "body": "@Jim: Correct. Perl will look after setting up anonymous data structures for you as necessary. <code>dd</code> is the subroutine exported by <code>Data::Dump</code> to display the data you pass to it nicely"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440365140, "post_id": 32166866, "comment_id": 52229717, "body": "<i>&quot;I create this in a loop&quot;</i> I thought as much. Your question gave me very little to work with, and it is very late in the day to admit to its shortcomings. I hope you can gain from this experience that it is better to express your question well than to rely on the analytical skills of those who may read it"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1440334494, "creation_date": 1440334494, "answer_id": 32166866, "question_id": 32166104, "link": "https://stackoverflow.com/questions/32166104/dynamically-create-hash-of-hash-with-array-ref-values/32166866#32166866", "title": "Dynamically create hash of hash with array ref values", "body": "<p>You have made it rather hard for yourself. Perl has <em>autovivication</em> which means it will magically create any necessary hash or array elements for you if you use them as if they contained data references</p>\n\n<p>Your line</p>\n\n<pre><code>push @{{$main_hash{$edition}}-&gt;{$author}} , $title;\n</code></pre>\n\n<p>is the closest you came, but you have an extra pair of braces around <code>$main_hash{$edition}</code> which attempts to create an anonymous hash with <code>$main_hash{$edition}</code> as its only key and <code>undef</code> as the value. You also don't need to use the indirection arrow between closing and opening brackets or braces</p>\n\n<p>This program shows how to use Perl's facilities to write this more concisely</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %data;\n\nmy $edition = \"edition1\";\nmy $author  = \"Jim\";\nmy $title   = \"title1\";\n\npush @{ $data{$edition}{$author} }, $title;\n\nuse Data::Dump;\ndd \\%data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{ edition1 =&gt; { Jim =&gt; [\"title1\"] } }\n</code></pre>\n"}], "owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "accepted_answer_id": 32166866, "answer_count": 1, "score": 2, "last_activity_date": 1440334494, "creation_date": 1440329027, "question_id": 32166104, "link": "https://stackoverflow.com/questions/32166104/dynamically-create-hash-of-hash-with-array-ref-values", "title": "Dynamically create hash of hash with array ref values", "body": "<p>I want to dynamically create a structure as follows:  </p>\n\n<pre><code>{  \n   edition1 =&gt; {  \n                 Jim =&gt; [\"title1\", \"title2\"],  \n                 John =&gt; [\"title3\", \"title4\"],  \n              },  \n  edition2 =&gt; { \n                 Jim =&gt; [\"titleX\",],  \n                 John =&gt; [\"titleY,],  \n              }  etc\n}  \n</code></pre>\n\n<p>I am confused on how I do it.<br>\nBasically I am thinking in the terms of:  </p>\n\n<pre><code>my $edition = \"edition1\";  \nmy $author = \"Jim\";  \nmy $title = \"title1\";  \nmy %main_hash = ();  \n\n${$main_hash{$edition}} ||= {};   \n\n${$main_hash{$edition}}-&gt;{$author} ||= [];     \n\npush @{{$main_hash{$edition}}-&gt;{$author}} , $title;   \n</code></pre>\n\n<p>But somehow I am not sure how I can do it properly and the syntax seems very complex.<br>\nHow can I achieve what I want in a nice/clear manner?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1277, "user_id": 4094444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa736ca76fe55000fe171b3085a1d01?s=128&d=identicon&r=PG&f=1", "display_name": "b3000", "link": "https://stackoverflow.com/users/4094444/b3000"}, "edited": false, "score": 0, "creation_date": 1440319394, "post_id": 32164654, "comment_id": 52216621, "body": "Could you describe what exactly your problem is? The regex seems fine to me."}, {"owner": {"reputation": 3597, "user_id": 829496, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XXTbx.jpg?s=128&g=1", "display_name": "fronthem", "link": "https://stackoverflow.com/users/829496/fronthem"}, "edited": false, "score": 0, "creation_date": 1440321931, "post_id": 32164654, "comment_id": 52217202, "body": "@user4911736, Please check my answer if I misunderstood some thing please take a note, then I will improve it. but if it&#39;s correct I will add more explanation."}], "answers": [{"tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": false, "score": 0, "last_activity_date": 1440319355, "creation_date": 1440319355, "answer_id": 32164772, "question_id": 32164654, "link": "https://stackoverflow.com/questions/32164654/extract-a-part-of-string-using-regex/32164772#32164772", "title": "extract a part of string using regex", "body": "<p>Using a pattern such as this should work:</p>\n\n<pre><code>[{\\[]+([^}{\\]\\[]+)[\\]}]+\n</code></pre>\n\n<p><strong>Code</strong>:</p>\n\n<pre><code>$searchText =~ m/[{\\[]+([^}{\\]\\[]+)[\\]}]+/\n</code></pre>\n\n<p><strong>Example</strong>:</p>\n\n<p><a href=\"https://regex101.com/r/qI3fI6/1\" rel=\"nofollow\">https://regex101.com/r/qI3fI6/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440340645, "post_id": 32165011, "comment_id": 52222298, "body": "There is no need for fancy look-around constructs. You&#39;re capturing the substring that you want, so <code>cap1\\{([^}]*)\\}</code> etc. is fine"}, {"owner": {"reputation": 3597, "user_id": 829496, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XXTbx.jpg?s=128&g=1", "display_name": "fronthem", "link": "https://stackoverflow.com/users/829496/fronthem"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440341102, "post_id": 32165011, "comment_id": 52222454, "body": "@Borodin Thank you, yes it doesn&#39;t need."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440342619, "post_id": 32165011, "comment_id": 52222957, "body": "@terces907: You should also escape all curly brackets that are meant to match literally. Otherwise you will get a warning <code>Unescaped brace in regex is deprecated</code> unless you have <code>no warnings &#39;deprecated&#39;</code> in place"}], "tags": [], "owner": {"reputation": 3597, "user_id": 829496, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XXTbx.jpg?s=128&g=1", "display_name": "fronthem", "link": "https://stackoverflow.com/users/829496/fronthem"}, "is_accepted": true, "score": 1, "last_activity_date": 1440343106, "last_edit_date": 1440343106, "creation_date": 1440321327, "answer_id": 32165011, "question_id": 32164654, "link": "https://stackoverflow.com/questions/32164654/extract-a-part-of-string-using-regex/32165011#32165011", "title": "extract a part of string using regex", "body": "<p>As I understand you want to extract the value of cap1, cap2, CAP3 one by one. There are 3 regex then</p>\n\n<p><strong>For</strong> <code>cap1</code></p>\n\n<pre><code>cap1\\{([^\\}]*)\\}\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p><code>cap1\\{</code> match text <code>cap1{</code>,</p>\n\n<p><code>([^\\}]*)</code> capture any characters except <code>}</code> to group <code>$1</code>,</p>\n\n<p><code>\\}</code> match text <code>}</code>.</p>\n\n<p><strong>For</strong> <code>cap2</code></p>\n\n<pre><code>cap2\\[([^\\]]*)\\]\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p><code>cap2\\[</code> match text <code>cap2[</code>,</p>\n\n<p><code>([^\\]]*)</code> capture any characters except <code>]</code> to group <code>$1</code>,</p>\n\n<p><code>\\]</code> match text <code>]</code>.</p>\n\n<p><strong>For</strong> <code>CAP3</code></p>\n\n<pre><code>CAP3\\{\\[([^\\]]*)\\]\\|\\[([^\\]]*)\\]\\}\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p><code>CAP3\\{</code> match text <code>CAP3{</code>,</p>\n\n<p><code>\\[([^\\]]*)\\]\\|\\[([^\\]]*)\\]</code> capture any characters except <code>]</code> to groups <code>$1</code>, <code>$2</code> respectively,</p>\n\n<p><code>\\}</code> match text <code>}</code>.</p>\n\n<p><strong>Additional:</strong> Thank you for a comment from @Borodin, to do this task you don't need to use lookaround but in case that you want to do search and replace, the lookaround may be necessary.</p>\n\n<p><strong>For</strong> <code>cap1</code>: <code>(?&lt;=cap1\\{)([^\\}]*)(?=\\})</code></p>\n\n<p><strong>For</strong> <code>cap2</code>: <code>(?&lt;=cap2\\[)([^\\]]*)(?=\\])</code></p>\n\n<p><strong>For</strong> <code>CAP3</code>: <code>(?&lt;=CAP3\\{)\\[([^\\]]*)\\]\\|\\[([^\\]]*)\\](?=\\})</code></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1440333927, "last_edit_date": 1440333927, "creation_date": 1440321843, "answer_id": 32165081, "question_id": 32164654, "link": "https://stackoverflow.com/questions/32164654/extract-a-part-of-string-using-regex/32165081#32165081", "title": "extract a part of string using regex", "body": "<h3>Update</h3>\n\n<p>I apologise -- I initially mistook your question for something more trivial</p>\n\n<p>Essentially you want to perform a <code>split</code> on pipe <code>|</code> characters, excluding those found inside pairs of brackets or braces <code>[ ... ]</code> or <code>{ ... }</code>. As long as you don't need to take account of nesting inside brackets of the same type (i.e. braces will only ever contain brackets, and brackets will only ever contain braces) then it is simply done like this</p>\n\n<pre><code>my @matches = $s =~ m{ \\w+ ( \\{ [^{}]* \\} | \\[ [^\\[\\]]* \\] ) }gx;\nprint \"$_\\n\" for @matches;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{capture|these|values}\n[capture|these|values]\n{[capture|these|values]|[capture|these|values]}\n</code></pre>\n\n<p>The data you show has no instances of braces containing braces, or brackets containing brackets, but I suspect that there is no theoretical limit to the nesting of the your data in which case some recursion is necessary</p>\n\n<p>The regex pattern in the program below defines the text that can appear <em>inside</em> a pair of matching brackets as a pipe-delimited sequence of</p>\n\n<ul>\n<li>another pair of matching brackets and their content <code>[ ... ]</code></li>\n<li>another pair of matching braces and their content <code>{ ... }</code></li>\n<li>a sequence of <em>word</em> characters like <code>capture</code> and <code>values</code></li>\n</ul>\n\n<p>A pattern matching that is inside the <em>second</em> pair of capturing parentheses. It is a recursive pattern that calls itself using relative numbering <code>(?-1)</code>. That could also be absolute numbering <code>(?2)</code> but it would have to be changed if the number of preceding captures was changed</p>\n\n<p>The complete pattern looks for and captures a series of word characters immediately before the recursive pattern to account for the <code>cap1</code>, <code>cap2</code> etc. This allows the result of a glolbal search to be assigned directly to a hash with the result show below</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $s = \"s|o|m|j|n|k|v|a|l|u|e|s|cap1{capture|these|values}|s|o|m|j|n|k|v|a|l|u|e|s|cap2[capture|these|values]|s|o|m|j|n|k|v|a|l|u|e|s|CAP3{[capture|these|values]|[capture|these|values]}\";\n\nmy %captures = $s =~ m{\n    ( (?&gt; \\w+ ) )\n    (\n        \\{ (?-1) (?&gt; \\| (?-1) )* \\} |\n        \\[ (?-1) (?&gt; \\| (?-1) )* \\] |\n        \\w+\n    )\n}gx;\n\nuse Data::Dump;\ndd \\%captures;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  cap1 =&gt; \"{capture|these|values}\",\n  cap2 =&gt; \"[capture|these|values]\",\n  CAP3 =&gt; \"{[capture|these|values]|[capture|these|values]}\",\n}\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Original answer</h3>\n\n<p>It looks like you want all identifiers that are preceded by a pipe <code>|</code> character and followed by either a square or curly opening bracket <code>[</code> or <code>{</code></p>\n\n<p>This program will do that for you</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $s = \"s|o|m|j|n|k|v|a|l|u|e|s|cap1{capture|these|values}|s|o|m|j|n|k|v|a|l|u|e|s|cap2[capture|these|values]|s|o|m|j|n|k|v|a|l|u|e|s|CAP3{[capture|these|values]|[capture|these|values]}\";\n\nfor ( $s ) {\n    my @captures = /\\|(\\w+)[\\[\\{]/g;\n    say for @captures;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>cap1\ncap2\nCAP3\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4911736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b31ca05492faaf15e11f67b4cb09570?s=128&d=identicon&r=PG&f=1", "display_name": "user4911736", "link": "https://stackoverflow.com/users/4911736/user4911736"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 32165011, "answer_count": 3, "score": 0, "last_activity_date": 1440343106, "creation_date": 1440318244, "last_edit_date": 1440318843, "question_id": 32164654, "link": "https://stackoverflow.com/questions/32164654/extract-a-part-of-string-using-regex", "title": "extract a part of string using regex", "body": "<p>I have a text file with pattern as below.</p>\n\n<blockquote>\n  <p>\"s|o|m|j|n|k|v|a|l|u|e|s|cap1{capture|these|values}|s|o|m|j|n|k|v|a|l|u|e|s|cap2[capture|these|values]|s|o|m|j|n|k|v|a|l|u|e|s|CAP3{[capture|these|values]|[capture|these|values]}\"</p>\n</blockquote>\n\n<p>I am trying to extract the values <em>cap1</em>, <em>cap2</em>, <em>CAP3</em>.</p>\n\n<p>I am trying with regex <code>\"([a-z]|[|])cap1(\\{(.*?)\\})([a-z]|[|]|[0-9])\"</code> but with no luck any help is appreciated.</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "edited": false, "score": 0, "creation_date": 1440357179, "post_id": 32167981, "comment_id": 52227528, "body": "its intended for a small job I found HTTP::Daemon send_file subroutine which can serve http responses i wonder if this issue could be implemented on mojolicous ,do you have another recommendation to implement such task ?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "edited": false, "score": 0, "creation_date": 1440423145, "post_id": 32167981, "comment_id": 52252636, "body": "HTTP::Daemon sounds fine. That&#39;s probably what I would have started with."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1440341561, "creation_date": 1440341561, "answer_id": 32167981, "question_id": 32161876, "link": "https://stackoverflow.com/questions/32161876/http-response-files-with-mojolicious/32167981#32167981", "title": "HTTP Response Files with Mojolicious", "body": "<p>It sounds like you want what we used to call \"no parsed header\" (nph) responses where you completely construct the response and the server doesn't mess with it. you have to supply everything and do it correctly, including the correct line endings.</p>\n\n<p><a href=\"https://metacpan.org/pod/Mojolicious::Command::cgi\" rel=\"nofollow\">Mojolicious::Command::CGI</a> has an option for that, but I've never used it. You don't want Mojolicious if you want to do it all yourself, though. Would you like to parse the files and construct Mojo responses from that?</p>\n\n<p>Is this something you need to serve to the public, need just for you, or for a small job? Writing your own server to do this wouldn't be that hard.</p>\n"}], "owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440341561, "creation_date": 1440287476, "last_edit_date": 1440305389, "question_id": 32161876, "link": "https://stackoverflow.com/questions/32161876/http-response-files-with-mojolicious", "title": "HTTP Response Files with Mojolicious", "body": "<p>I have a bunch of http response files and want to simulate with them a server.\nFor example :</p>\n\n<p>If I use the browser <a href=\"http://localhost:2323/response1\" rel=\"nofollow\">http://localhost:2323/response1</a> I get the response1 file etc..</p>\n\n<p>Is this issue possible to do with Mojolicious? </p>\n\n<p>Does Mojolicious support an option to return an http response directly?</p>\n"}, {"tags": ["perl", "tr"], "comments": [{"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 0, "creation_date": 1440281442, "post_id": 32161266, "comment_id": 52210114, "body": "That&#39;s a <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">transliteration</a>, it has nothing to do with regex ;)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1440409545, "post_id": 32161266, "comment_id": 52243788, "body": "How odd - the duplicate question uses the very same example text."}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 5175699, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e561ef5533ee56a62309174642e467fe?s=128&d=identicon&r=PG&f=1", "display_name": "leo", "link": "https://stackoverflow.com/users/5175699/leo"}, "edited": false, "score": 0, "creation_date": 1440295893, "post_id": 32161331, "comment_id": 52212665, "body": "Very clear. Thanks a lot. By the way, does anybody know why my question got a -1 from SO? Is it due to the inappropriate label &quot;regex&quot;? (If it is, sorry about that.)"}, {"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "reply_to_user": {"reputation": 221, "user_id": 5175699, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e561ef5533ee56a62309174642e467fe?s=128&d=identicon&r=PG&f=1", "display_name": "leo", "link": "https://stackoverflow.com/users/5175699/leo"}, "edited": false, "score": 2, "creation_date": 1440315991, "post_id": 32161331, "comment_id": 52215886, "body": "@leo, the -1 is from a person and not SO itself. Either they didn&#39;t like that they got baited with the <code>regex</code> tag, or they didn&#39;t like how your initial version was formatted or they thought that you didn&#39;t put enough effort do understand this yourself before asking."}], "tags": [], "owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "is_accepted": false, "score": 8, "last_activity_date": 1440285064, "last_edit_date": 1440285064, "creation_date": 1440281818, "answer_id": 32161331, "question_id": 32161266, "link": "https://stackoverflow.com/questions/32161266/can-somebody-explain-the-tr-d-modifier-in-perl/32161331#32161331", "title": "Can somebody explain the tr /d modifier in perl?", "body": "<p>Since there is only one character in the replacement list (<code>b</code>), only the first character in the searchlist (<code>a</code>) will be replaced with <code>b</code>. The rest of characters in the search list (<code>b-z</code>) will be deleted.</p>\n\n<p>Hence, replacing <code>a</code>s with <code>b</code>s and <code>b-z</code> letters with nothing,</p>\n\n<blockquote>\n  <p>the c<strong>a</strong>t s<strong>a</strong>t on the m<strong>a</strong>t.</p>\n</blockquote>\n\n<p>becomes <code>\u00a0b\u00a0b\u00a0\u00a0\u00a0b.</code> (there are only three <code>a</code>s in the sentence and the spaces and the dot are preserved as they were not part of the searchlist).</p>\n"}], "owner": {"reputation": 221, "user_id": 5175699, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e561ef5533ee56a62309174642e467fe?s=128&d=identicon&r=PG&f=1", "display_name": "leo", "link": "https://stackoverflow.com/users/5175699/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1359, "favorite_count": 0, "closed_date": 1440361711, "answer_count": 1, "score": 4, "last_activity_date": 1440435119, "creation_date": 1440281233, "last_edit_date": 1440435119, "question_id": 32161266, "link": "https://stackoverflow.com/questions/32161266/can-somebody-explain-the-tr-d-modifier-in-perl", "closed_reason": "Duplicate", "title": "Can somebody explain the tr /d modifier in perl?", "body": "<p>I found this example in a Perl tutorial, but could not understand the output. The tutorial says:</p>\n\n<blockquote>\n  <p>The /d modifier deletes the characters matching SEARCHLIST that do not have a corresponding entry in REPLACEMENTLIST.</p>\n</blockquote>\n\n<p>but I could not figure out how this is realized in the example.</p>\n\n<p>Can somebody explain how the output was generated? </p>\n\n<p>Script:</p>\n\n<pre><code>$string = 'the cat sat on the mat.';\n$string =~ tr/a-z/b/d;\nprint \"[$string]\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[ b b   b.]\n</code></pre>\n\n<p>(The square brackets mark the start and end of the string, that's all.)</p>\n"}, {"tags": ["perl", "moo"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1440276834, "post_id": 32160540, "comment_id": 52208971, "body": "The short answer is &quot;no&quot;, because attribute configuration is &quot;static&quot; (i.e. applies to the whole class), independent of the values of a particular object."}, {"owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440287088, "post_id": 32160540, "comment_id": 52211349, "body": "So, I would probably have to override the setter method for the attribute and handle the check to determine whether or not the value can be modified or not. But I don&#39;t see how I can handle the required part ..."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440319694, "post_id": 32160540, "comment_id": 52216692, "body": "use a getter that determines whether it is completed?"}, {"owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "edited": false, "score": 0, "creation_date": 1440333192, "post_id": 32160540, "comment_id": 52220129, "body": "If the caller never tries to access the attribute how would I force the call to that attributes getter?"}, {"owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "edited": false, "score": 0, "creation_date": 1440365412, "post_id": 32160540, "comment_id": 52229802, "body": "As I&#39;m rereading the moo docs, it occurs to me that perhaps I could use BUILDARGS to add an attribute dynamically ... or would this be an abomination?"}, {"owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "edited": false, "score": 0, "creation_date": 1440372540, "post_id": 32160540, "comment_id": 52231413, "body": "Nope ... Constructor for $package has been inlined and cannot be updated ... hmmm perhaps I could generate a package on the fly."}], "answers": [{"comments": [{"owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "edited": false, "score": 0, "creation_date": 1440441230, "post_id": 32186088, "comment_id": 52263723, "body": "Thank you. This gives me another avenue to explore."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1440432344, "last_edit_date": 1440432344, "creation_date": 1440430115, "answer_id": 32186088, "question_id": 32160540, "link": "https://stackoverflow.com/questions/32160540/is-it-possible-to-make-an-attribute-configuration-dependent-on-another-attribute/32186088#32186088", "title": "Is it possible to make an attribute configuration dependent on another attribute in Moo?", "body": "<p>Ask yourself why you want to do this. You are dealing with objects. Those are data that has a set of logic applied to them. That logic is described in the class, and the object is an instance of data that has the class's logic applied.</p>\n\n<p>If there is a property (which is data) that can have two different logics applied to it, is it still of the same class? After all, whether a property is changeable is a very distinct rule. </p>\n\n<p>So you really have two different classes. One where the <code>someother</code> property is read-only, and one where it is changeable. </p>\n\n<p>In Moo (and Moose) there are several ways to build that. </p>\n\n<ul>\n<li>implement Foo::Static and Foo::Dynamic (or Changeable or Whatever) where  both are subclasses of Foo and only the one property changes</li>\n<li>implement Foo and implement a subclass</li>\n<li>implement Foo and a role that changes the behaviour of <code>someother</code>, and apply it in the constructor. <a href=\"https://metacpan.org/pod/Moo::Role\" rel=\"nofollow\">Moo::Role</a> inherits that from <a href=\"https://metacpan.org/pod/Role::Tiny#apply_roles_to_object\" rel=\"nofollow\">Role::Tiny</a>.</li>\n</ul>\n\n<p>Here is an example of the approach that uses roles.</p>\n\n<pre><code>package Foo;\nuse Moo;\nuse Role::Tiny ();\n\nhas 'status' =&gt; ( is =&gt; 'ro', );\n\nhas 'someother' =&gt; (\n    is      =&gt; 'ro',\n    lazy    =&gt; 1,\n);\n\n\nsub BUILD {\n  my ( $self) = @_;\n\n  Role::Tiny-&gt;apply_roles_to_object($self, 'Foo::Role::Someother::Dynamic')\n    if $self-&gt;status eq 'foo';\n}\n\npackage Foo::Role::Someother::Dynamic;\nuse Moo::Role;\n\nhas '+someother' =&gt; ( is =&gt; 'rw', required =&gt; 1 );\n\npackage main;\nuse strict;\nuse warnings;\nuse Data::Printer;\n\n# ...\n</code></pre>\n\n<p>First we'll create an object that has a dynamic <code>someother</code>.</p>\n\n<pre><code>my $foo = Foo-&gt;new( status =&gt; 'foo', someother =&gt; 'foo' );\np $foo;\n$foo-&gt;someother('asdf');\nprint $foo-&gt;someother;\n\n__END__\nFoo__WITH__Foo::Role::Someother::Dynamic  {\n    Parents       Role::Tiny::_COMPOSABLE::Foo::Role::Someother::Dynamic, Foo\n    Linear @ISA   Foo__WITH__Foo::Role::Someother::Dynamic, Role::Tiny::_COMPOSABLE::Foo::Role::Someother::Dynamic, Role::Tiny::_COMPOSABLE::Foo::Role::Someother::Dynamic::_BASE, Foo, Moo::Object\n    public methods (0)\n    private methods (0)\n    internals: {\n        someother   \"foo\",\n        status      \"foo\"\n    }\n}\nasdf\n</code></pre>\n\n<p>As you can see, that works. Now let's make a static one.</p>\n\n<pre><code>my $bar = Foo-&gt;new( status =&gt; 'bar', someother =&gt; 'bar' );\np $bar;\n$bar-&gt;someother('asdf');\n\n__END__\nFoo  {\n    Parents       Moo::Object\n    public methods (4) : BUILD, new, someother, status\n    private methods (0)\n    internals: {\n        someother   \"bar\",\n        status      \"bar\"\n    }\n}\nUsage: Foo::someother(self) at /home/julien/code/scratch.pl line 327.\n</code></pre>\n\n<p>Ooops. A warning. Not a nice 'read-only' exception like in Moose, but I guess this is as good as it gets.</p>\n\n<p>However, this will not help with the <code>required</code> attribute. You can create a <code>Foo-&gt;new( status =&gt; 'foo' )</code> without <code>someother</code> and it will still come out ok.</p>\n\n<p>So you might want to settle for the subclass approach or use a role and build a <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow\">factory class</a>.</p>\n"}], "owner": {"reputation": 1094, "user_id": 491894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/05abfb520b1fafe57e2e5594ad9f82f1?s=128&d=identicon&r=PG", "display_name": "harleypig", "link": "https://stackoverflow.com/users/491894/harleypig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 32186088, "answer_count": 1, "score": 1, "last_activity_date": 1440432344, "creation_date": 1440275945, "last_edit_date": 1440276730, "question_id": 32160540, "link": "https://stackoverflow.com/questions/32160540/is-it-possible-to-make-an-attribute-configuration-dependent-on-another-attribute", "title": "Is it possible to make an attribute configuration dependent on another attribute in Moo?", "body": "<p>I have read various tutorials and the <a href=\"https://metacpan.org/pod/Moo\" rel=\"nofollow\">Moo</a> documentation but I cannot find anything that describes what I want to do.</p>\n\n<p>What I want to do is something like the following:</p>\n\n<pre><code>has 'status' =&gt; (\n  is  =&gt; 'ro',\n  isa =&gt; Enum[qw(pending waiting completed)],\n);\n\nhas 'someother' =&gt; (\n  is       =&gt; is_status() eq 'waiting'   ? 'ro' : 'rw',\n  required =&gt; is_status() eq 'completed' ? 1    : 0,\n  isa      =&gt; Str,\n  lazy     =&gt; 1,\n);\n</code></pre>\n\n<p>If I'm just way off base with this idea, how would I go about making an attribute 'ro' or 'rw' and required or not, depending on the value of another attribute?</p>\n\n<p>Note, the Enum is from <a href=\"https://metacpan.org/pod/Type::Tiny::Enum\" rel=\"nofollow\">Type::Tiny</a>.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440275317, "post_id": 32160163, "comment_id": 52208592, "body": "I am unsure what you actually want. Does $hash{foo}{bar} ever contain things that still need to be replaced? If not, you could simply return if first match replaced something, like <code>return $work if $work =~ s&#47;\\%(\\w+)\\.(\\w+)&#47;$HV{$1}{$2}&#47;g;</code>. Otherwise, I do not know what it is you want exactly. Especially, the last sentence is a mystery to me."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440275380, "post_id": 32160163, "comment_id": 52208612, "body": "For the bonus question, what is &quot;the corresponding value&quot; from the hash?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440275695, "post_id": 32160163, "comment_id": 52208691, "body": "You would need to iterate over the work string, finding the longer of <code>%x.y</code> and <code>%x</code> at each point, then replacing that value, and continuing after that.  As it stands, each <code>g</code> suffix does that for the pattern it is attached to, but the second pattern rescans the modified text \u2014 doing the extra substitutions you don&#39;t want.  You may have to make a more complex match pattern (<code>m&#47;\\%(\\w+)(?:\\.(\\w+))&#47;</code> or thereabouts), and execute code in the replacement part (<code>e</code> modifier) depending on whether <code>$2</code> is defined or not. \u2026As shown in @melpomene&#39;s <a href=\"http://stackoverflow.com/a/32160481/15168\">answer</a>!"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1440275865, "post_id": 32160163, "comment_id": 52208734, "body": "Is this a problem that may have been solved by the myriad templating systems? (Template::Toolkit, Text::Template, HTML::Template, Template, Template::Simple, Template::Tiny, and so on)."}, {"owner": {"reputation": 59, "user_id": 3922974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c68ebdd4272c07137a305d0f75b54029?s=128&d=identicon&r=PG&f=1", "display_name": "Maelstrom", "link": "https://stackoverflow.com/users/3922974/maelstrom"}, "edited": false, "score": 0, "creation_date": 1440276700, "post_id": 32160163, "comment_id": 52208940, "body": "No $hash{foo}{bar} doesn&#39;t contain things that need to be replaced but sometimes it contains a URI escaped string like &quot;help%20me&quot; that I want printed as is without the %20me being matched by the second line.  Its for a template module which allows the programmer to load various hashes and arrays into the %HV hash by passing references and the template writer to access them with the corresponding %hash.key syntax.  The %{$HV{&#39;default&#39;}} hash contains global variables and the ${foo}{bar} contains variables obtained from looping through an array of hashes so I want to access both."}, {"owner": {"reputation": 59, "user_id": 3922974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c68ebdd4272c07137a305d0f75b54029?s=128&d=identicon&r=PG&f=1", "display_name": "Maelstrom", "link": "https://stackoverflow.com/users/3922974/maelstrom"}, "edited": false, "score": 0, "creation_date": 1440276973, "post_id": 32160163, "comment_id": 52209015, "body": "For the bonus question I was referring to implementing a functionality similar to Template::Toolkit where you can pass a hash of hash of hashs or whatever and just access it with the right amount of dots."}, {"owner": {"reputation": 59, "user_id": 3922974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c68ebdd4272c07137a305d0f75b54029?s=128&d=identicon&r=PG&f=1", "display_name": "Maelstrom", "link": "https://stackoverflow.com/users/3922974/maelstrom"}, "edited": false, "score": 0, "creation_date": 1440277243, "post_id": 32160163, "comment_id": 52209079, "body": "And DavidO, yup you busted me. I&#39;ve looked into all the CPAN solutions and it&#39;s partly a learning exercise and partly that I really dislike their syntax. Also I haven&#39;t found on that allows me to break up the parsing and printing stages so that my script can decide whether to load up a given hash or not depending on whether its mentioned in the template."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 3922974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c68ebdd4272c07137a305d0f75b54029?s=128&d=identicon&r=PG&f=1", "display_name": "Maelstrom", "link": "https://stackoverflow.com/users/3922974/maelstrom"}, "edited": false, "score": 0, "creation_date": 1440278447, "post_id": 32160481, "comment_id": 52209325, "body": "Brilliant!  That fix to my second approach has doubled my regex powers too as I didn&#39;t know about the ! in regexes.  Thanks a bunch you really went over and above on this one."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1440275810, "last_edit_date": 1440275810, "creation_date": 1440275478, "answer_id": 32160481, "question_id": 32160163, "link": "https://stackoverflow.com/questions/32160163/performing-two-clashing-interpolations-on-one-string/32160481#32160481", "title": "Performing two (clashing) interpolations on one string", "body": "<p>The easiest solution is to do a single traversal of the string, not two in a row:</p>\n\n<pre><code>$work =~ s{%(\\w+)(?:\\.(\\w+))?}{\n    defined $2\n        ? $HV{$1}{$2}\n        : $HV{default}{$1}\n}eg;\n</code></pre>\n\n<hr>\n\n<p>To fix your other approach, you could change your regex to</p>\n\n<pre><code>$work =~ s/%(\\w+)(?!\\.\\w)/%default.$1/g;\n</code></pre>\n\n<p>to only replace <code>%foo</code> if it's not followed by <code>.bar</code>.</p>\n\n<hr>\n\n<p>Bonus credit: Assuming you want to replace <code>%foo.bar.baz</code> by <code>$HV{foo}{bar}{baz}</code>, this can be done as follows:</p>\n\n<pre><code>sub lookup {\n    my ($cur, @keys) = @_;\n    $cur = $cur-&gt;{$_} for @keys;\n    return $cur;\n}\n\ns{%(\\w+(?:\\.\\w+)*)}{\n    lookup(\\%HV, split(/\\./, $1))\n}eg;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 3922974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c68ebdd4272c07137a305d0f75b54029?s=128&d=identicon&r=PG&f=1", "display_name": "Maelstrom", "link": "https://stackoverflow.com/users/3922974/maelstrom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 32160481, "answer_count": 1, "score": 0, "last_activity_date": 1440275810, "creation_date": 1440273101, "last_edit_date": 1440275298, "question_id": 32160163, "link": "https://stackoverflow.com/questions/32160163/performing-two-clashing-interpolations-on-one-string", "title": "Performing two (clashing) interpolations on one string", "body": "<p>I have an interpolate function that replaces <code>%foo</code> with the value from <code>$HV{'default'}{'foo'}</code> and <code>%foo.bar</code> from <code>$HV{foo}{bar}</code>:</p>\n\n<pre><code>sub interpolate {\n    my $work = \"@_\";\n    $work =~ s/\\%(\\w+)\\.(\\w+)/$HV{$1}{$2}/g;\n    $work =~ s/\\%(\\w+)/$HV{'default'}{$1}/g;\n    return $work;\n}\n</code></pre>\n\n<p>However if <code>$HV{'foo'}{'bar'}</code> contains a <code>%</code> character, the second operation matches it which is not what I want.  My first fix was to change all occurrences of <code>%foo</code> into <code>%default.foo</code> with</p>\n\n<pre><code>$work =~ s/\\%(\\w+)/%default\\.$1/g;\n$work =~ s/\\%(\\w+)\\.(\\w+)/$HV{$1}{$2}/g;\n</code></pre>\n\n<p>But this changes <code>%foo.bar</code> into <code>%default.foo.bar</code>.  Is there a way to do what I want without re-doing my hash?  </p>\n\n<p>Also for bonus credit I'd be interested in a regular expression that would match <code>%A.very.long.and.deeply.nested.hash.value</code> with the corresponding value to make it work with any hash.</p>\n"}, {"tags": ["windows", "perl", "strawberry-perl"], "comments": [{"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 2, "creation_date": 1440269414, "post_id": 32159554, "comment_id": 52207018, "body": "Could it be that it is sending its output to STDERR instead of STDOUT?"}, {"owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1440271913, "post_id": 32159554, "comment_id": 52207705, "body": "@RonBergin That was it, and it was another adventure to capturing the output, but I finally did it with IPC::Run3."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1440275408, "post_id": 32159554, "comment_id": 52208622, "body": "you might as well answer yourself then :)"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1440327411, "post_id": 32159554, "comment_id": 52218637, "body": "Redirect STDERR to STDOUT: <code>ffprobe.exe file 1&gt; output.txt 2&gt;&amp;1</code>"}, {"owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1440345496, "post_id": 32159554, "comment_id": 52223860, "body": "@Sinan&#220;n&#252;r Unfortunately it&#39;s not that easy on Windows; that won&#39;t work."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440345938, "post_id": 32159554, "comment_id": 52224019, "body": "@felwithe It should work. Windows can <a href=\"http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/redirection.mspx?mfr=true\" rel=\"nofollow noreferrer\">redirect output</a> in much the same way that *nix can."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440370870, "post_id": 32159554, "comment_id": 52231107, "body": "Don&#39;t add an answer to the question; post it as an answer!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440370957, "post_id": 32159554, "comment_id": 52231126, "body": "IPC::Run3 has the advantage of making it easy to properly pass the file name."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1440347757, "creation_date": 1440347757, "answer_id": 32168945, "question_id": 32159554, "link": "https://stackoverflow.com/questions/32159554/how-to-capture-perl-output-on-windows-strawberry-perl/32168945#32168945", "title": "How to capture Perl output on Windows (Strawberry perl)", "body": "<p>You can simply redirect <code>STDERR</code> to <code>STDOUT</code>:</p>\n\n<pre><code>$output = `ffprobe.exe \"$file\" 2&gt;&amp;1`\n</code></pre>\n"}], "owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1440370832, "creation_date": 1440268953, "last_edit_date": 1440370832, "question_id": 32159554, "link": "https://stackoverflow.com/questions/32159554/how-to-capture-perl-output-on-windows-strawberry-perl", "title": "How to capture Perl output on Windows (Strawberry perl)", "body": "<p>No matter what I do, the output gets printed to a command window instead of being captured. I'm using Strawberry Perl on Windows and trying to capture the output of ffprobe to do some batch conversions.</p>\n\n<p>In every instance the command works properly, I just can't capture it. Output goes to the command window and the return value seems to be an empty string.</p>\n\n<pre><code>$output = `ffprobe.exe \"$file\"`; # nope\n\n$output = qx/ffprobe.exe \"$file\"/; # nope\n\n$return = system(\"ffprobe.exe \\\"$file\\\" &gt; output.txt\") # nope, and $return is 0\n</code></pre>\n\n<p>If I open a command window and run it like this:</p>\n\n<pre><code>perl myscript.pl &gt; output.txt\n</code></pre>\n\n<p>output.txt contains things the script itself prints (like if I do <code>\"print 'command output starts here:';</code> it will contain that), but none of the program output.</p>\n\n<p>Since I do this on Linux all the time it must be a quirk of Windows, I just can't figure out what.</p>\n\n<hr>\n\n<p><strong>Update, solved</strong></p>\n\n<p>It turns out that output was being sent to STDERR. I was able to capture it with \nIPC::Run3. Nothing else worked, so I guess I'm calling IPC::Run3 my solution for this problem on Windows. I'll leave this post here in case anyone has the same problem.</p>\n\n<pre><code>use IPC::Run3;\nmy ($stdout, $stderr);\n$run = run3($command, undef, \\$stdout, \\$stderr); # backslashes are important here\nsay \"output was $stderr\"; # works\n</code></pre>\n"}, {"tags": ["mysql", "perl", "utf-8"], "comments": [{"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 2, "creation_date": 1440230774, "post_id": 32153322, "comment_id": 52196204, "body": "You also need to make sure that Perl knows what encoding your strings are. If you&#39;re not already familiar with that, start by reading the <code>perlunitut</code> man page."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1440241418, "post_id": 32153322, "comment_id": 52198886, "body": "You need to show your code. There are any number of things that could be wrong. Broadly, you should <i>decode</i> any character strings coming from external data sources and <i>encode</i> any output data. <code>use utf8</code> at the top of your program if you are using any non-ASCII characters in the code itself"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440403651, "post_id": 32153322, "comment_id": 52240242, "body": "What does &quot;I am getting Unknown characters&quot; mean exactly?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440403678, "post_id": 32153322, "comment_id": 52240261, "body": "Please provide a ten-line script that demonstrates the problem. We don&#39;t know what you did wrong if you don&#39;t show us."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5254327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qPYQ5.jpg?s=128&g=1", "display_name": "Hardik", "link": "https://stackoverflow.com/users/5254327/hardik"}, "edited": false, "score": 0, "creation_date": 1441600490, "post_id": 32273279, "comment_id": 52727242, "body": "Thanks for your reply for select its working fine but i have an issue for insertion data in mysql after select it from DB."}, {"owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "reply_to_user": {"reputation": 1, "user_id": 5254327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qPYQ5.jpg?s=128&g=1", "display_name": "Hardik", "link": "https://stackoverflow.com/users/5254327/hardik"}, "edited": false, "score": 0, "creation_date": 1441647354, "post_id": 32273279, "comment_id": 52750933, "body": "The <code>SET NAMES utf8</code> that you are doing should establish that the bytes in the client are utf8-encoded.  Do you have any more clues?"}, {"owner": {"reputation": 1, "user_id": 5254327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qPYQ5.jpg?s=128&g=1", "display_name": "Hardik", "link": "https://stackoverflow.com/users/5254327/hardik"}, "edited": false, "score": 0, "creation_date": 1441693127, "post_id": 32273279, "comment_id": 52763662, "body": "if i do print query then it show me correct value but while that query process using perl drivers that time not getting correct value in Mysql.  If same query try in mysql then also i get perfect value only its not working using perl drivers."}, {"owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "reply_to_user": {"reputation": 1, "user_id": 5254327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qPYQ5.jpg?s=128&g=1", "display_name": "Hardik", "link": "https://stackoverflow.com/users/5254327/hardik"}, "edited": false, "score": 0, "creation_date": 1441693395, "post_id": 32273279, "comment_id": 52763790, "body": "It is not the driver, it is establishing the character set."}], "tags": [], "owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1440771667, "creation_date": 1440771667, "answer_id": 32273279, "question_id": 32153322, "link": "https://stackoverflow.com/questions/32153322/utf8-character-set-encoding-error-while-data-insertion-using-perl-script/32273279#32273279", "title": "Utf8 character set encoding error while data insertion using perl script", "body": "<p>See if these help:</p>\n\n<pre><code>use utf8;\nuse open ':std', ':encoding(UTF-8)';\n</code></pre>\n\n<p>It's not just MySQL that could be screwing things up -- the original bytes could be mis-encoded; the output could be improperly rendered; etc.</p>\n\n<p>If you have some data stored, let's check to see if they are 'correct'.  Do something like</p>\n\n<pre><code>SELECT col, HEX(col) FROM tbl WHERE ...\n</code></pre>\n\n<p><code>\u0414\u0416</code> should come out as hex <code>D094D096</code> if it is correctly encoded in utf8.  Note that Cyrillic mostly has <code>D0xx</code> hex for its characters.</p>\n\n<p>I have more discussion <a href=\"http://localhost/rjweb/mysql/doc.php/charcoll#cyrillic_macedonian_etc\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 5254327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qPYQ5.jpg?s=128&g=1", "display_name": "Hardik", "link": "https://stackoverflow.com/users/5254327/hardik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1440771667, "creation_date": 1440226638, "question_id": 32153322, "link": "https://stackoverflow.com/questions/32153322/utf8-character-set-encoding-error-while-data-insertion-using-perl-script", "title": "Utf8 character set encoding error while data insertion using perl script", "body": "<p>I am facing issues to insert Bulgarian language string using perl script in mysql. If I do manual insertion using query then it's working fine but while using perl it convert that string in to unknown characters.</p>\n\n<p>I have perform below steps to resolve that issue but still no luck.</p>\n\n<p>Set utf8 character set in database connection </p>\n\n<pre><code>$dbh-&gt;do(\"set character set utf8\");\n$dbh-&gt;do('SET NAMES utf8');\n$dbh-&gt;{'mysql_enable_utf8'} = 1;\n</code></pre>\n\n<p>Also i have set default character set utf8 from my.cnf file.</p>\n\n<p>Still I am getting Unknown characters.</p>\n\n<p>Can any one suggest me how to resolve this issue ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["macos", "perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1440223399, "post_id": 32152805, "comment_id": 52194527, "body": "There shouldn&#39;t be any problem.  Can you show the code you use?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1440223739, "post_id": 32152805, "comment_id": 52194588, "body": "I don&#39;t <i>think</i> it will make a difference, but what filesystem and operating system are you using?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1440224964, "post_id": 32152805, "comment_id": 52194823, "body": "@Schwern: the o/s is Mac OS X, per the tags.  Probably, the file system is HFS, the normal Mac OS X file system (case-preserving but case-insensitive file names)."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 1581058, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebc3e1f2d2aa7bcfc65c44e2c330db32?s=128&d=identicon&r=PG", "display_name": "San", "link": "https://stackoverflow.com/users/1581058/san"}, "edited": false, "score": 0, "creation_date": 1440225806, "post_id": 32152957, "comment_id": 52194999, "body": "I am reading the file name from the console. If I drag and drop the file on the terminal, then osx will add the &quot;\\&quot; escape character in front of the parentheses. I tried to open the file with the name read from console and also tried to open it after removing &quot;\\&quot; from the filename. Both don&#39;t seem to work. I keep getting  &quot;syntax error near unexpected token `(&#39;.&quot;"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 141, "user_id": 1581058, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebc3e1f2d2aa7bcfc65c44e2c330db32?s=128&d=identicon&r=PG", "display_name": "San", "link": "https://stackoverflow.com/users/1581058/san"}, "edited": false, "score": 0, "creation_date": 1440227457, "post_id": 32152957, "comment_id": 52195412, "body": "Show the code!  There&#39;s nothing we can do without seeing your code.  I&#39;ve showed you what works; you have to show us what is failing for us to have a chance of resolving your problem.  Have you remembered to <code>chomp</code> the input?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440368998, "post_id": 32152957, "comment_id": 52230699, "body": "Re &quot;You should enclose the file name in (single or) double quotes&quot;, Single quotes would be better, but still wrong. You should use String::ShellQuote&#39;s <code>shell_quote</code>."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440369600, "post_id": 32152957, "comment_id": 52230835, "body": "@ikegami: You can only use <a href=\"http://search.cpan.org/perldoc?String%3A%3AShellQuote\" rel=\"nofollow noreferrer\">String::ShellQuote</a> if (a) you know it exists, and (b) you take steps to install it (because it is not a core module)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440371132, "post_id": 32152957, "comment_id": 52231161, "body": "Those same two problems exist for your solution as well. Besides, I said <i>should</i>, not <i>could</i>. He <i>should</i> because he specifically asked about file names with odd characters, yet your solution fails to solve that problem."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 3, "last_activity_date": 1440384432, "last_edit_date": 1495542583, "creation_date": 1440223630, "answer_id": 32152957, "question_id": 32152805, "link": "https://stackoverflow.com/questions/32152805/open-file-with-special-characters-in-file-name-in-perl/32152957#32152957", "title": "Open file with special characters in file name in Perl", "body": "<h2>Counter-example</h2>\n\n<p>There shouldn't be any problem.  For example:</p>\n\n<h3><code>rd.pl</code></h3>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $file = \"abc_5(rt)_dgj.csv\";\n\nopen my $fh, \"&lt;\", $file or die \"A horrible death\";\n\nmy $line = &lt;$fh&gt;;\n\nprint $line;\n\nclose $fh;\n</code></pre>\n\n<h3>Test</h3>\n\n<pre><code>$ cat &gt; \"abc_5(rt)_dgj.csv\"\nRecord 1,2014-12-30,19:43:21\n$ perl rd.pl\nRecord 1,2014-12-30,19:43:21\n$\n</code></pre>\n\n<p>Tested with Perl 5.22.0 on Mac OS X 10.10.5.</p>\n\n<hr>\n\n<h2>The real problem</h2>\n\n<p>Now the question has sample code, the real problem is obvious: the line</p>\n\n<pre><code>system(\"cat $inputfile | tr '\\r' '\\n' &gt; temp\");\n</code></pre>\n\n<p>runs</p>\n\n<pre><code>cat abc_5(rt)_dgj.csv | \u2026\n</code></pre>\n\n<p>and that will generate (shell) syntax errors.  If you try it for yourself at the command line, you'll see them too. You should enclose the file name in (single or) double quotes:</p>\n\n<pre><code>system(qq{cat \"$inputfile\" | tr '\\r' '\\n' &gt; temp});\n</code></pre>\n\n<p>so that the parentheses are not exposed in the shell.</p>\n\n<p>When you hide what's going on \u2014 not quoting the code, not quoting the error message \u2014 you make it hard for people to help you even though the problem is easy to resolve. Creating an MCVE (<a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable Example?</a>), as you did in the end, helps enormously.  It wastes less of your time, and it wastes less of our time.</p>\n\n<hr>\n\n<h2>Even weirder characters in file names \u2014 there's a module for that!</h2>\n\n<p>Having a pair of parentheses (or even one parenthesis) in a file name of itself doesn't cause any trouble if the name is quoted sufficiently.  As I noted, double quotes are adequate for this specific file name (and a good many others, even ones containing special characters); as <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> <a href=\"https://stackoverflow.com/questions/32152805/open-file-with-special-characters-in-file-name-in-perl/32152957?noredirect=1#comment52230699_32152957\">noted</a>, there are other names that will cause problems.  Specifically, names containing dollar signs, back quotes or double quotes will cause grief with double quotes; names containing single quotes will cause grief with single quotes.</p>\n\n<p>Ikegami also notes that there is a module, <a href=\"http://search.cpan.org/perldoc?String%3A%3AShellQuote\" rel=\"nofollow noreferrer\">String::ShellQuote</a>, which is designed to deal with these problems.  It is not a Perl core module so you would have to install it yourself, but using it would be sensible if you have to deal with any perverse name that the user might throw your way.</p>\n\n<p>The documentation for the <code>shell_quote</code> function from the module says:</p>\n\n<blockquote>\n  <p>If any string can't be safely quoted <strong>shell_quote</strong> will <strong>croak</strong>.</p>\n</blockquote>\n\n<p>I'm not clear what strings can't be safely quoted; the documentation doesn't elaborate on the issue.  (<code>croak</code> is a method from the core module called <a href=\"http://perldoc.perl.org/Carp.html\" rel=\"nofollow noreferrer\">Carp</a>.)</p>\n"}], "owner": {"reputation": 141, "user_id": 1581058, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebc3e1f2d2aa7bcfc65c44e2c330db32?s=128&d=identicon&r=PG", "display_name": "San", "link": "https://stackoverflow.com/users/1581058/san"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 0, "accepted_answer_id": 32152957, "answer_count": 1, "score": -1, "last_activity_date": 1440384432, "creation_date": 1440222461, "last_edit_date": 1440228252, "question_id": 32152805, "link": "https://stackoverflow.com/questions/32152805/open-file-with-special-characters-in-file-name-in-perl", "title": "Open file with special characters in file name in Perl", "body": "<p>I am trying to open a file whose name contains special characters \"(\" and \")\", parentheses, in a Perl script and I am unable to do so.</p>\n\n<p>If I have a file name like <code>abc_5(rt)_dgj.csv</code>, is there a way to open this file in the script?   </p>\n\n<pre><code>$inputfile = &lt;STDIN&gt;;\nchomp($inputfile);\nunless(-e $inputfile) {\n    usage(\"Input file not present\\n\");\n    exit 2;\n}\nsystem(\"cat $inputfile | tr '\\r' '\\n' &gt; temp\");\n$inputfile = \"temp\";\n# do something here, like copy the data from inputfile and write to another file\nsystem(\"rm temp\");\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1440210104, "post_id": 32151402, "comment_id": 52192326, "body": "Your sample code compares the column with <code>9:00:00</code> -- is the missing leading zero an error in your paste or your code?"}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440215435, "post_id": 32151402, "comment_id": 52193159, "body": "typo  - above does work however the problem remains as its an array"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1440245934, "post_id": 32151402, "comment_id": 52200215, "body": "Don&#39;t use <code>map</code> when you want to <code>grep</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1440272902, "post_id": 32151402, "comment_id": 52207974, "body": "@Sinan&#220;n&#252;r At first glance that would seem to be the case, but it&#39;s not. <code>grep</code> is fine when you want to filter a list, but when you want to filter and transform it&#39;s not appropriate. Especially if the filter and transform have to do the same data processing (split the CSV line)."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1440281455, "post_id": 32151402, "comment_id": 52210117, "body": "@Sinan&#220;n&#252;r To avoid parsing the CSV line multiple times you need a <code>map, grep, map</code>. First <code>map</code> parses the line, then <code>grep</code> filters for the lines in question, and second <code>map</code> extracts just the desired column. At that point a while loop is simpler."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440241190, "post_id": 32152326, "comment_id": 52198831, "body": "<i>&quot;<code>map</code> always has a one to one mapping, if you put 10 things in, you will get a list of 10 things out&quot;</i> is misleading as tose <i>things</i> may be multi-element lists or empty lists. <code>map {  $_ &gt; 2 ? ($_, $_, $_) : ()  } 1, 2, 3, 4</code> generates the six-element list <code>3, 3, 3, 4, 4, 4</code>"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1440273055, "last_edit_date": 1440273055, "creation_date": 1440217827, "answer_id": 32152326, "question_id": 32151402, "link": "https://stackoverflow.com/questions/32151402/cant-extract-specific-value-variable-from-an-array-in-perl/32152326#32152326", "title": "Can&#39;t Extract Specific Value (variable) from an Array in PERL", "body": "<p><code>map</code> always has a one to one mapping, if you put 10 things in, you will get a list of 10 things out.  What you want is a while loop which selectively pushes onto an array.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy @nines;\nwhile(&lt;DATA&gt;) {\n    chomp;\n    my @row = split /,/;\n    next unless $row[2] eq '09:00:00';\n    push @nines, sprintf(\"%.0f\", $row[6]);\n}\n\nsay join \", \", @nines;\n\n__DATA__\n1,2015-08-20,00:00:00,89,1007.48,295.551,296.66,\n2,2015-08-20,03:00:00,85,1006.49,295.947,296.99,\n3,2015-08-20,06:00:00,86,1006.05,295.05,296.02,\n4,2015-08-20,09:00:00,85,1005.87,296.026,296.93,\n5,2015-08-20,12:00:00,77,1004.96,298.034,298.87,\n</code></pre>\n\n<p>From your variable names like <code>@temp_9</code> and <code>@t_fh_9</code>, I suspect you're hard coding the variable name with the particular time of day.  This will lead to a lot of code duplication.  Instead, write a little function that takes the time of day you're looking for.</p>\n\n<pre><code>sub extract_column_for_time_of_day {\n    my($fh, $column_number, $time_of_day) = @_;\n\n    my @extracts;\n    while(&lt;$fh&gt;) {\n        chomp;\n        my @row = split /,/;\n        next unless $row[2] eq $time_of_day;\n        push @extracts, sprintf(\"%.0f\", $row[$column_number]);\n    }\n\n    return @extracts;\n}\n\nsay join \", \", extract_column_for_time_of_day(\\*DATA, 6, '09:00:00');\n</code></pre>\n\n<p>Finally, I'm guessing you're going to get data for various times.  This will lead to a pile of variables which will be awkward to pass around as a unit.  Instead of having a variable for each time, put each list into a hash.</p>\n\n<pre><code>my $time = '09:00:00'; \n$extracts{$time} = [extract_column_for_time_of_day(\\*DATA, 6, $time)];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1440429937, "post_id": 32152378, "comment_id": 52257443, "body": "The &quot;my ( $result ) = map&quot; by Sobrique was the syntax that saved the day.   The array was killing me, though it was producing the desired value at first blush, I was not able to use that variable in further calculations or functions. The above syntax has given me that much needed flexibility.  Thanks everyone for your help and thanks Sobrique."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1440241718, "last_edit_date": 1440241718, "creation_date": 1440218409, "answer_id": 32152378, "question_id": 32151402, "link": "https://stackoverflow.com/questions/32151402/cant-extract-specific-value-variable-from-an-array-in-perl/32152378#32152378", "title": "Can&#39;t Extract Specific Value (variable) from an Array in PERL", "body": "<p>The <code>map</code> function typically returns a list with the same number of elements as the source, <em>unless</em> you return an empty or multi-element list. In fact, one of the first examples in the <code>map</code> perl doc's shows how to do this, once again proving you should always check the docs first.</p>\n\n<pre><code>my @temp_9 = map {\n    chomp;\n    my @t_fh_9 = split /,/;\n    $t_fh_9[2] eq '09:00:00' ? ( $t_fh_9[6] ) : ();\n} &lt;$ft1&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1440259407, "creation_date": 1440259407, "answer_id": 32158089, "question_id": 32151402, "link": "https://stackoverflow.com/questions/32151402/cant-extract-specific-value-variable-from-an-array-in-perl/32158089#32158089", "title": "Can&#39;t Extract Specific Value (variable) from an Array in PERL", "body": "<p>It seems one of the sources of confusion is extracting an element from an array. An array is zero or more scalar elements - you can't just assign one to the other, because .... well, what should happen if there isn't just one element (which is the usual case).</p>\n\n<p>Given an array, we can:</p>\n\n<ul>\n<li><code>pop @array</code> will return the last element (and remove it from the array) so you could <code>my $result = pop @array;</code></li>\n<li><code>[0]</code> is the first element of the array, so we can <code>my $result = $array[0];</code></li>\n<li>Or we can assign one array to another: <code>my ( $result ) = @array;</code> - because on the left hand side we have an array now, and it's a single element - the first element of <code>@array</code> goes into <code>$result</code>. (The rest isn't used in this scenario - but you could do <code>my ( $result, @anything_else ) = @array;</code></li>\n</ul>\n\n<p>So in your example - if what you're trying to do is retrieve a value matching a criteria - the normal tool for the job would be <code>grep</code> - which filters an array by applying a conditional test to each element. </p>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nmy @lines = grep { (split /,/)[2] eq \"12:00:00\" } &lt;DATA&gt;;\nprint \"@lines\";\nprint $lines[0];\n\n__DATA__\n1,2015-08-20,00:00:00,89,1007.48,295.551,296.66,\n2,2015-08-20,03:00:00,85,1006.49,295.947,296.99,\n3,2015-08-20,06:00:00,86,1006.05,295.05,296.02,\n4,2015-08-20,09:00:00,85,1005.87,296.026,296.93,\n5,2015-08-20,12:00:00,77,1004.96,298.034,298.87\n</code></pre>\n\n<p>Which we can reduce to:</p>\n\n<pre><code>my ( $firstresult ) = grep { (split /,/)[2] eq \"12:00:00\" } &lt;DATA&gt;;\nprint $firstresult;\n</code></pre>\n\n<p>But as we want to want to transform our array - <code>map</code> is the tool for the job. </p>\n\n<pre><code>my ( $result ) = map { (split /,/)[6] - 273.15 } grep { (split /,/)[2] eq \"12:00:00\" } &lt;DATA&gt;;\nprint $result;\n</code></pre>\n\n<p>First we:</p>\n\n<ul>\n<li>use grep to extract the matching elements. (one in this case, but doesn't necessarily have to be!)</li>\n<li>use map to transform the list, so that that we turn each element into just it's 6th field, and subtract 273.15</li>\n<li>assign the whole lot to a list containing a single element - in effect just taking the first result, and throwing the rest away. </li>\n</ul>\n\n<p>Or perhaps:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy ($result) = map {\n          ( split /,/ )[2] eq \"12:00:00\"\n        ? ( split /,/ )[6] - 273.15\n        : ()\n} &lt;DATA&gt;;\nprint $result;\n</code></pre>\n\n<p>But personally, I think that's getting a bit complicated and may be hard to understand. <code>map</code> is a powerful function, but can lead to code that's hard to read for future maintenance programmers. </p>\n\n<p>So I would suggest instead:</p>\n\n<pre><code>my $result;\nwhile (&lt;DATA&gt;) {\n    my @fields = split /,/;\n    if ( $fields[2] eq \"12:00:00\" ) {\n        $result = $fields[6] - 273.15;\n        last;\n    }\n}\n\nprint $result;\n</code></pre>\n\n<p>Iterate your data, split - and test - each line, and when you find one that matches the criteria - set <code>$result</code> and bail out of the loop. </p>\n"}], "owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 32158089, "answer_count": 3, "score": 0, "last_activity_date": 1440273055, "creation_date": 1440207174, "last_edit_date": 1592644375, "question_id": 32151402, "link": "https://stackoverflow.com/questions/32151402/cant-extract-specific-value-variable-from-an-array-in-perl", "title": "Can&#39;t Extract Specific Value (variable) from an Array in PERL", "body": "<p>DATA FILE temp.csv</p>\n<blockquote>\n<p>1,2015-08-20,00:00:00,89,1007.48,295.551,296.66,</p>\n<p>2,2015-08-20,03:00:00,85,1006.49,295.947,296.99,</p>\n<p>3,2015-08-20,06:00:00,86,1006.05,295.05,296.02,</p>\n<p>4,2015-08-20,09:00:00,85,1005.87,296.026,296.93,</p>\n<p>5,2015-08-20,12:00:00,77,1004.96,298.034,298.87,</p>\n</blockquote>\n<p>I want to extract <code>(column 6) value if  (column 3 = 09:00:00)</code></p>\n<p>push to <code>$result</code> variable.  This needs to be the specific value/variable not an array.  I need to do additional calculations with that value and move it to a database.  Here is the code I used but I can't extract the specific value to a variable.</p>\n<pre><code> my @temp_9 = map {\n chomp;\n my @t_fh_9 = split /,/;\n sprintf &quot;%.0f&quot;, $t_fh_9[6] if $t_fh_9[2] eq '09:00:00';\n } &lt;$ft1&gt;;\n</code></pre>\n<p>When I attempt to subtract or do other math the numbers are nonsensical.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2211, "user_id": 3939241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c2e014700af74ee7d2572ce8f29a6?s=128&d=identicon&r=PG&f=1", "display_name": "Abecee", "link": "https://stackoverflow.com/users/3939241/abecee"}, "edited": false, "score": 0, "creation_date": 1440208084, "post_id": 32151318, "comment_id": 52191977, "body": "Something like <code>(?&lt;!\\\\)[\\\\&#39;](?![\\\\&#39;])</code> <a href=\"https://regex101.com/r/eY3iT9/1\" rel=\"nofollow noreferrer\">RegEx 101</a>?"}, {"owner": {"reputation": 2211, "user_id": 3939241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c2e014700af74ee7d2572ce8f29a6?s=128&d=identicon&r=PG&f=1", "display_name": "Abecee", "link": "https://stackoverflow.com/users/3939241/abecee"}, "edited": false, "score": 0, "creation_date": 1440208719, "post_id": 32151318, "comment_id": 52192086, "body": "This, however, fails, when series of single quotes might rightfully be part of your input: <a href=\"https://regex101.com/r/eY3iT9/2\" rel=\"nofollow noreferrer\">RegEx 101</a>."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440209807, "post_id": 32151318, "comment_id": 52192279, "body": "Why do you need to escape them?"}, {"owner": {"reputation": 1393, "user_id": 870000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0b0a0147d36c80b4b003617caad4f76?s=128&d=identicon&r=PG", "display_name": "Sam Graham", "link": "https://stackoverflow.com/users/870000/sam-graham"}, "edited": false, "score": 0, "creation_date": 1440213326, "post_id": 32151318, "comment_id": 52192839, "body": "There&#39;s an important difference between escaping on a character-by-character basis characters that haven&#39;t already been escaped; and detecting if an <i>entire line</i> has already had at least some escaping done and leaving just those lines untouched. Which do you want?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1440216597, "post_id": 32151318, "comment_id": 52193319, "body": "Re &quot;How can I detect whether or not a character is already escaped&quot;, There&#39;s no way to tell if <code>\\&#39;</code> is already escaped or two characters in need of escaping."}, {"owner": {"reputation": 2211, "user_id": 3939241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c2e014700af74ee7d2572ce8f29a6?s=128&d=identicon&r=PG&f=1", "display_name": "Abecee", "link": "https://stackoverflow.com/users/3939241/abecee"}, "edited": false, "score": 0, "creation_date": 1440226659, "post_id": 32151318, "comment_id": 52195207, "body": "Could/does your input hold sequences of more than two consecutive backslashes? If so: How should these be handled?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440274942, "post_id": 32151318, "comment_id": 52208505, "body": "&quot;How can I detect whether or not a character is already escaped, and if not, how to escape it?&quot; - That&#39;s like asking how to detect whether a number (such as 10) is the result of adding two other numbers (such as 7 + 3). There is no meaningful answer."}, {"owner": {"reputation": 243, "user_id": 3136851, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ec5246e969e4ae2e84d45207e921c1ff?s=128&d=identicon&r=PG&f=1", "display_name": "salim_aliya", "link": "https://stackoverflow.com/users/3136851/salim-aliya"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440288552, "post_id": 32151318, "comment_id": 52211595, "body": "@Jim Davis, if i don&#39;t escape them, i&#39;ll receive lots of MySQL errors. The INSERT statement can otherwise not be executed."}, {"owner": {"reputation": 243, "user_id": 3136851, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ec5246e969e4ae2e84d45207e921c1ff?s=128&d=identicon&r=PG&f=1", "display_name": "salim_aliya", "link": "https://stackoverflow.com/users/3136851/salim-aliya"}, "reply_to_user": {"reputation": 1393, "user_id": 870000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0b0a0147d36c80b4b003617caad4f76?s=128&d=identicon&r=PG", "display_name": "Sam Graham", "link": "https://stackoverflow.com/users/870000/sam-graham"}, "edited": false, "score": 0, "creation_date": 1440288606, "post_id": 32151318, "comment_id": 52211604, "body": "@Sam Graham: I need a character-by-character based escaping."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1440291802, "post_id": 32151318, "comment_id": 52212029, "body": "@salim_aliya - You may want to look into using <a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"nofollow noreferrer\">placeholders</a>, but that won&#39;t help you if something else is doing escaping.  (Unless I&#39;m <i>entirely</i> misreading this.)"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440216684, "post_id": 32151553, "comment_id": 52193345, "body": "That will leave <code>\\\\\\ </code> as is."}, {"owner": {"reputation": 2211, "user_id": 3939241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c2e014700af74ee7d2572ce8f29a6?s=128&d=identicon&r=PG&f=1", "display_name": "Abecee", "link": "https://stackoverflow.com/users/3939241/abecee"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440240561, "post_id": 32151553, "comment_id": 52198636, "body": "@ikegami Right - and I did mention that as soon as I realized: &quot;It leaves, however, sequences of more than two backslashes untouched.&quot; But as long as OP doesn&#39;t comment, we do not know, whether it is relevant in their context. And the suggested approach might still be acceptable in a two-pass-solution as long as nothing better is being offered."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440253142, "post_id": 32151553, "comment_id": 52202307, "body": "Sorry, I hadn&#39;t really read the answer. But you did claim that it&#39;s probably ok, while I think it&#39;s definitely not"}, {"owner": {"reputation": 2211, "user_id": 3939241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c2e014700af74ee7d2572ce8f29a6?s=128&d=identicon&r=PG&f=1", "display_name": "Abecee", "link": "https://stackoverflow.com/users/3939241/abecee"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440254475, "post_id": 32151553, "comment_id": 52202707, "body": "@ikegami Well - I read it &quot;Given your input, this should work. But there are cases (beyond what you listed), which it can&#39;t cover.&quot; -- And I&#39;ll be happy to withdraw, if OP adds more detail - ruling out this approach, or/and if somebody hits the nail right on its head. (Unless I&#39;m able to adjust the above appropriately.)"}, {"owner": {"reputation": 243, "user_id": 3136851, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ec5246e969e4ae2e84d45207e921c1ff?s=128&d=identicon&r=PG&f=1", "display_name": "salim_aliya", "link": "https://stackoverflow.com/users/3136851/salim-aliya"}, "edited": false, "score": 0, "creation_date": 1440287852, "post_id": 32151553, "comment_id": 52211482, "body": "Sorry for my late reply. As i could see it in action at RegEx 101, it seems to work fine. It will take long time until i have tested it in my script, because my text file is about 3GB large. I will then confirm your reply. Thank you!"}], "tags": [], "owner": {"reputation": 2211, "user_id": 3939241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072c2e014700af74ee7d2572ce8f29a6?s=128&d=identicon&r=PG&f=1", "display_name": "Abecee", "link": "https://stackoverflow.com/users/3939241/abecee"}, "is_accepted": true, "score": 0, "last_activity_date": 1440254664, "last_edit_date": 1440254664, "creation_date": 1440209190, "answer_id": 32151553, "question_id": 32151318, "link": "https://stackoverflow.com/questions/32151318/how-to-escape-relevant-characters-in-a-string-if-its-not-already/32151553#32151553", "title": "How to escape relevant characters in a string, if it&#39;s not already?", "body": "<p>This seems to be doing, what you are asking for. Search for</p>\n\n<pre><code>((?&lt;!\\\\)\\\\(?![\\\\'])|(?&lt;!\\\\)')\n</code></pre>\n\n<p>and replace with</p>\n\n<pre><code>\\\\\\1\n</code></pre>\n\n<p>See it in action: <a href=\"https://regex101.com/r/eY3iT9/4\" rel=\"nofollow\">RegEx 101</a>.</p>\n\n<p>It combines two search expressions, one for the backslash, and one for the single quote. Each of them looks around to make sure, it's not already (part of) an escape sequence.</p>\n\n<p>It leaves, however, sequences of more than two backslashes untouched. - Which should probably be OK for even numbers of them (considering them escaped). But uneven ones...</p>\n\n<p>Please comment, if and as this requires adjustment / further detail.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1440309674, "creation_date": 1440309674, "answer_id": 32163695, "question_id": 32151318, "link": "https://stackoverflow.com/questions/32151318/how-to-escape-relevant-characters-in-a-string-if-its-not-already/32163695#32163695", "title": "How to escape relevant characters in a string, if it&#39;s not already?", "body": "<p>This will do as you ask. Essentially it searches for all four strings in question, in decreasing order of length so that it finds escaped sequences first, and escapes just the solitary characters leaving the already-escaped matches untouched</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $s = q{which matches\u00a0'\u00a0but not\u00a0\\'\u00a0or\u00a0\\\u00a0and not\u00a0\\\\\\\\.};\n\nsay $s;\n\n$s =~ s/(\\\\\\\\|\\\\')|(\\\\|')/$1 ? $1 : \"\\\\$2\"/eg;\n\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>which matches\u00a0'\u00a0but not\u00a0\\'\u00a0or\u00a0\\\u00a0and not\u00a0\\\\.\nwhich matches\u00a0\\'\u00a0but not\u00a0\\'\u00a0or\u00a0\\\\\u00a0and not\u00a0\\\\.\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 3136851, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ec5246e969e4ae2e84d45207e921c1ff?s=128&d=identicon&r=PG&f=1", "display_name": "salim_aliya", "link": "https://stackoverflow.com/users/3136851/salim-aliya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 32151553, "answer_count": 2, "score": 0, "last_activity_date": 1440309674, "creation_date": 1440206124, "last_edit_date": 1440207281, "question_id": 32151318, "link": "https://stackoverflow.com/questions/32151318/how-to-escape-relevant-characters-in-a-string-if-its-not-already", "title": "How to escape relevant characters in a string, if it&#39;s not already?", "body": "<p>I have a text file, which I would like to read all lines in to a MySQL database. For this, I wrote a perl script.</p>\n\n<p>Some characters -- mostly <code>'</code> and <code>\\</code> -- need to be escaped. But there are also lines in which these characters are already escaped.</p>\n\n<p>How can I detect whether or not a character is already escaped, and if not, how to escape it? I need a kind of regular expression, which matches <code>'</code> but not <code>\\'</code> or <code>\\</code> and not <code>\\\\</code>.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 852, "user_id": 2141171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68be65a2b1a60079d63804d3b2e62cee?s=128&d=identicon&r=PG", "display_name": "h3n", "link": "https://stackoverflow.com/users/2141171/h3n"}, "edited": false, "score": 0, "creation_date": 1440199563, "post_id": 32150549, "comment_id": 52190464, "body": "please note, that your regex also cuts the nose of the <code>:-D</code> smiley :D"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 852, "user_id": 2141171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68be65a2b1a60079d63804d3b2e62cee?s=128&d=identicon&r=PG", "display_name": "h3n", "link": "https://stackoverflow.com/users/2141171/h3n"}, "edited": false, "score": 1, "creation_date": 1440199670, "post_id": 32150549, "comment_id": 52190508, "body": "@h3n you&#39;re totally right, I&#39;ve updated the answer, thanks! :-D"}], "tags": [], "owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": false, "score": 2, "last_activity_date": 1440199645, "last_edit_date": 1440199645, "creation_date": 1440198686, "answer_id": 32150549, "question_id": 32150463, "link": "https://stackoverflow.com/questions/32150463/perl-removing-acronym-hyphens-within-a-longer-string/32150549#32150549", "title": "Perl: removing acronym hyphens within a longer string", "body": "<p>Here's a solution:</p>\n\n<pre><code>s/-(?=\\p{Lu}\\b)//g\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/zO7bI6/1\" rel=\"nofollow\">Demo</a></p>\n\n<p>Which means: find a dash followed by an uppercase letter which is a word boundary. Replace with an empty string.</p>\n\n<p>And here's a smiley-friendly version with the same check on the left of the dash:</p>\n\n<pre><code>s/(?&lt;=\\b\\p{Lu})-(?=\\p{Lu}\\b)//g\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/zO7bI6/2\" rel=\"nofollow\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 3597, "user_id": 829496, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XXTbx.jpg?s=128&g=1", "display_name": "fronthem", "link": "https://stackoverflow.com/users/829496/fronthem"}, "is_accepted": false, "score": 0, "last_activity_date": 1440268595, "creation_date": 1440268595, "answer_id": 32159503, "question_id": 32150463, "link": "https://stackoverflow.com/questions/32150463/perl-removing-acronym-hyphens-within-a-longer-string/32159503#32159503", "title": "Perl: removing acronym hyphens within a longer string", "body": "<p>You also can use this</p>\n\n<pre><code>s/(?&lt;=[A-Z])-(?=[A-Z])//g\n</code></pre>\n\n<p>It's easily done by lookaround</p>\n\n<p><strong>Explanation</strong></p>\n\n<p><code>(?&lt;=[A-Z])</code>: look behind to find any single capital letter,</p>\n\n<p><code>-</code>: match any minus sign,</p>\n\n<p><code>(?=[A-Z])</code>: look ahead to find any single capital letter.</p>\n\n<p>Then finally, replace <code>-</code> by zero-width character.  </p>\n"}, {"tags": [], "owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "is_accepted": false, "score": 0, "last_activity_date": 1440277541, "creation_date": 1440277541, "answer_id": 32160777, "question_id": 32150463, "link": "https://stackoverflow.com/questions/32150463/perl-removing-acronym-hyphens-within-a-longer-string/32160777#32160777", "title": "Perl: removing acronym hyphens within a longer string", "body": "<p>I tried this:</p>\n\n<pre><code>$sentence =~ s/([A-Z])\\-/$1/g;\n</code></pre>\n\n<p>It seems to work as intended (aside from missing lower-case acronyms). Is there an obvious problem in this that I'm missing? It feels like it should be more detailed like the answers provided. Thanks!</p>\n"}], "owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1440277541, "creation_date": 1440198027, "question_id": 32150463, "link": "https://stackoverflow.com/questions/32150463/perl-removing-acronym-hyphens-within-a-longer-string", "title": "Perl: removing acronym hyphens within a longer string", "body": "<p>I have a block of text that has acronyms. The acronyms are all written with hyphens, which I want to remove, most likely with s/. The trick is the acronyms can be variable letters long A-B, A-B-C, A-B-C-D, A-B-C-D-E.</p>\n\n<p>So if I have a string, \"welcome to the U-S-A competition between B-A and R-C-T-C\" and I want to convert it to \"welcome to the USA competition between BA and RCTC\", how would I do this? Words like \"well-coached\" should not be affected.</p>\n\n<p>So far, I have three s/ that first replace all four-letter acronyms, then three, then two. Is there a better way to do this with one single s/ expression?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "module", "cpan", "par", "cpanm"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5253719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66490b6a3aa51c0061e6be30f8057e39?s=128&d=identicon&r=PG&f=1", "display_name": "bsmedley", "link": "https://stackoverflow.com/users/5253719/bsmedley"}, "edited": false, "score": 2, "creation_date": 1440629420, "post_id": 32150139, "comment_id": 52358153, "body": "Perfect! All I had to do was <code>yum install &quot;perl(ExtUtils::Embed)&quot;</code> and then cpanm worked as expected. Thanks!"}, {"owner": {"reputation": 2077, "user_id": 3394770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsTMe.jpg?s=128&g=1", "display_name": "mamacdon", "link": "https://stackoverflow.com/users/3394770/mamacdon"}, "edited": false, "score": 0, "creation_date": 1587041465, "post_id": 32150139, "comment_id": 108356557, "body": "Thanks. I had the same problem, although with <code>perl(LWP::UserAgent)</code> and  <code>perl(HTTP::Response)</code> instead. Now, <i>why</i> these are Yum&#39;s concern is a mystery to me. Shouldn&#39;t the installation of Perl modules be left to Perl&#39;s package manager, not the Linux distribution&#39;s?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2077, "user_id": 3394770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsTMe.jpg?s=128&g=1", "display_name": "mamacdon", "link": "https://stackoverflow.com/users/3394770/mamacdon"}, "edited": false, "score": 0, "creation_date": 1587043345, "post_id": 32150139, "comment_id": 108357694, "body": "@mamacdon Your question makes no sense. The OP was trying to use Perl&#39;s package manager but couldn&#39;t because their linux distro only contained a partial installation of Perl, and some of the missing parts agree required by the package manager. This obviously can&#39;t be fixed by Perl&#39;s package manager; this can only be fixed by installing the rest of Perl. The linux distro provides the missing files as one of the packages in their package manager."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2077, "user_id": 3394770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsTMe.jpg?s=128&g=1", "display_name": "mamacdon", "link": "https://stackoverflow.com/users/3394770/mamacdon"}, "edited": false, "score": 0, "creation_date": 1587043516, "post_id": 32150139, "comment_id": 108357795, "body": "@mamacdon If they had been using a proper installation of Perl (as opposed to one lobotomized by their linux distro), they could have used Perl&#39;s package manager without problem."}, {"owner": {"reputation": 2077, "user_id": 3394770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsTMe.jpg?s=128&g=1", "display_name": "mamacdon", "link": "https://stackoverflow.com/users/3394770/mamacdon"}, "edited": false, "score": 0, "creation_date": 1587044969, "post_id": 32150139, "comment_id": 108358784, "body": "It wasn&#39;t a question, but rather a comment. Having the distro assume responsibility for certain Perl packages (by shipping a crippled install of Perl), seems crazy to me. I fully agree that CPAN is the best tool for this job, I just wish Red Hat had felt the same way."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2077, "user_id": 3394770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsTMe.jpg?s=128&g=1", "display_name": "mamacdon", "link": "https://stackoverflow.com/users/3394770/mamacdon"}, "edited": false, "score": 0, "creation_date": 1587045200, "post_id": 32150139, "comment_id": 108358928, "body": "@mamacdon They figure you&#39;ll just use their package manager. And it&#39;s actually a good idea to use it when you can so stuff doesn&#39;t break when you the distro&#39;s Perl is updated. That said, you don&#39;t need to install any Perl packages to fix the issue; just the rest of Perl. Probably a package called &quot;perl&quot;. Note that neither of the modules you mentioned are part of Perl"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1440196376, "last_edit_date": 1440196376, "creation_date": 1440196041, "answer_id": 32150139, "question_id": 32149876, "link": "https://stackoverflow.com/questions/32149876/why-wont-cpanm-install-dependencies/32150139#32150139", "title": "Why won&#39;t cpanm install dependencies?", "body": "<p>ExtUtils::Embed is a dual-lifed module, meaning it's distributed as part of the <code>perl</code> distribution <a href=\"http://search.cpan.org/search?query=ExtUtils%3A%3AEmbed&amp;mode=all\" rel=\"nofollow\">as well as</a> in a second distribution.</p>\n\n<p><code>cpanm</code> is trying to install ExtUtils::Embed by installing the <a href=\"http://search.cpan.org/dist/perl/\" rel=\"nofollow\"><code>perl</code> distribution</a> instead of the <a href=\"http://search.cpan.org/dist/ExtUtils-Embed/\" rel=\"nofollow\"><code>ExtUtils-Embed</code> distribution</a>. Why? I'm not sure. Maybe because it's newer (1.32 instead of 1.2505).</p>\n\n<p><code>cpanm</code> is wisely unwilling to upgrade <code>perl</code> itself.</p>\n\n<p>Now, the latest App::Packer::PAR's <a href=\"http://cpansearch.perl.org/src/RSCHUPP/PAR-Packer-1.026/META.yml\" rel=\"nofollow\"><code>META</code></a> doesn't specify a minimum version of ExtUtils::Embed, so the version in the <code>ExtUtils-Embed</code> distribution could very well be good enough. The following command will achieve this:</p>\n\n<pre><code>cpanm D/DO/DOUGM/ExtUtils-Embed-1.14.tar.gz\n</code></pre>\n\n<p>HOWEVER, as I mentioned earlier, ExtUtils::Embed comes with Perl. It has done so for over 15 years (since before Perl 5.4). It makes no sense that you have to install it. </p>\n\n<p>You appear to be using a system whose provider decided to cause headaches by breaking the <code>perl</code> distribution into multiple packages. You should use your system's package manager (<code>apt-get</code>, <code>yum</code> or whatever) to install the missing portions of <code>perl</code> rather than using <code>cpanm</code>.</p>\n"}], "owner": {"reputation": 33, "user_id": 5253719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66490b6a3aa51c0061e6be30f8057e39?s=128&d=identicon&r=PG&f=1", "display_name": "bsmedley", "link": "https://stackoverflow.com/users/5253719/bsmedley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2865, "favorite_count": 0, "accepted_answer_id": 32150139, "answer_count": 1, "score": 3, "last_activity_date": 1440196376, "creation_date": 1440194499, "question_id": 32149876, "link": "https://stackoverflow.com/questions/32149876/why-wont-cpanm-install-dependencies", "title": "Why won&#39;t cpanm install dependencies?", "body": "<p>I'm trying to install PAR from cpanm like so: <code>cpanm App::Packer::PAR</code>, but it's giving me this error:</p>\n\n<pre><code>skipping R/RJ/RJBS/perl-5.22.0.tar.bz2\n! Installing the dependencies failed: Module ExtUtils::Embed is not installed\n! Bailing out the installation for PAR-Packer-1.026.\n</code></pre>\n\n<p>Even though cpanm is supposed to automatically install dependencies, I tried installing it manually: <code>cpanm ExtUtils::Embed</code>, but only got the same error: <code>skipping R/RJ/RJBS/perl-5.22.0.tar.bz2</code>\nAny ideas as to why this is failing and how I can make it work?</p>\n"}, {"tags": ["arrays", "perl", "foreach"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1440194306, "post_id": 32149794, "comment_id": 52188951, "body": "The name of the language is &quot;Perl&quot;, not &quot;PERL&quot; or &quot;perl&quot; (though the latter can be used to refer to the executable)."}, {"owner": {"reputation": 1, "user_id": 5228575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631d64ecbb4b97a1b84483fff95c9f26?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5228575/ash"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1440194630, "post_id": 32149794, "comment_id": 52189039, "body": "@ikegami- i just saw ur profile. Soreadytohelp..... it said... you should think of correcting that.. you can write as follows. Onlyreadytofindfaults"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1440194883, "post_id": 32149794, "comment_id": 52189123, "body": "How is showing you the correct spelling of the language you are trying to learn not helpful?!"}, {"owner": {"reputation": 1, "user_id": 5228575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631d64ecbb4b97a1b84483fff95c9f26?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5228575/ash"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440194999, "post_id": 32149794, "comment_id": 52189166, "body": "@ikegami- the spelling is right. Perl, PERL and perl are all spelt the same way. I would rather need your help in finding me a solution for this. If at all there is a solution. Please help if you are soreadytohelp"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1440195188, "post_id": 32149794, "comment_id": 52189227, "body": "<a href=\"https://www.perl.org/about/style-guide.html\" rel=\"nofollow noreferrer\">No</a>. It&#39;s not an abbreviation."}, {"owner": {"reputation": 1, "user_id": 5228575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631d64ecbb4b97a1b84483fff95c9f26?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5228575/ash"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440195316, "post_id": 32149794, "comment_id": 52189270, "body": "@ikegami- okay, Perl... got it. :) will keep a note of it from now on..."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5228575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631d64ecbb4b97a1b84483fff95c9f26?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5228575/ash"}, "edited": false, "score": 0, "creation_date": 1440194484, "post_id": 32149842, "comment_id": 52189001, "body": "@ikegami- Agreed, its stupid thing to do this way. but can i have a solution for this please. The code has been developed already and i need to make it dynamic now on that same code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 5228575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631d64ecbb4b97a1b84483fff95c9f26?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5228575/ash"}, "edited": false, "score": 1, "creation_date": 1440194927, "post_id": 32149842, "comment_id": 52189139, "body": "I gave you two reasons why it&#39;s impossible. I&#39;m not sure what you hope to gain by pleading."}, {"owner": {"reputation": 1, "user_id": 5228575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631d64ecbb4b97a1b84483fff95c9f26?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5228575/ash"}, "edited": false, "score": 1, "creation_date": 1440195079, "post_id": 32149842, "comment_id": 52189191, "body": "@ikegami- thanks for the ultimatum. i was just not sure if i could make it dynamic or not. will have to find other way then."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 5228575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631d64ecbb4b97a1b84483fff95c9f26?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5228575/ash"}, "edited": false, "score": 2, "creation_date": 1440195218, "post_id": 32149842, "comment_id": 52189237, "body": "If you tell us what you are actually trying to accomplish, we can help you with that."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1440194254, "creation_date": 1440194254, "answer_id": 32149842, "question_id": 32149794, "link": "https://stackoverflow.com/questions/32149794/dynamic-array-creation-in-perl/32149842#32149842", "title": "Dynamic array creation in perl", "body": "<p>Three problems with your request:</p>\n\n<ol>\n<li><code>my</code> declares a lexical variable at compile-time, so asking to pass a name to <code>my</code> at run-time makes no sense.</li>\n<li>Symbolic references can't be used to access lexical variables.</li>\n<li><a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow\">It's a stupid thing to do</a>.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1440199731, "last_edit_date": 1592644375, "creation_date": 1440196989, "answer_id": 32150302, "question_id": 32149794, "link": "https://stackoverflow.com/questions/32149794/dynamic-array-creation-in-perl/32150302#32150302", "title": "Dynamic array creation in perl", "body": "<blockquote>\n<p>My requirement is as follows. I want to create a dynamic array like this:</p>\n<pre><code>my @a0=();\nmy @a1=();\nmy @a2=();\nmy @a3=();\n</code></pre>\n</blockquote>\n<p>As I have said before, &quot;<a href=\"https://stackoverflow.com/a/1829927/100754\">When you find yourself adding an integer suffix to variable names, think I should have used an array.</a>&quot;</p>\n<p>So, instead, use</p>\n<pre><code>my @data = (\n    [ ... ],\n    [ ... ],\n    [ ... ],\n);\n</code></pre>\n<p>If you wanted index each year's data array by the year (instead of integers 0, 1, 2, ..., n), then use a hash:</p>\n<pre><code>my %data = (\n    2005 =&gt; [ ... ],\n    2006 =&gt; [ ... ],\n    2007 =&gt; [ ... ],\n);\n</code></pre>\n<p>What you have now is <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">compounded stupidity</a>. Don't do that.</p>\n"}], "owner": {"reputation": 1, "user_id": 5228575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631d64ecbb4b97a1b84483fff95c9f26?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5228575/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "closed_date": 1440197390, "answer_count": 2, "score": -6, "last_activity_date": 1440199731, "creation_date": 1440194014, "last_edit_date": 1440196651, "question_id": 32149794, "link": "https://stackoverflow.com/questions/32149794/dynamic-array-creation-in-perl", "closed_reason": "Duplicate", "title": "Dynamic array creation in perl", "body": "<p>I have read this post and saw that there are various ways to create a dynamic naming of arrays in perl.\n<code>http://en.allexperts.com/q/Perl-CGI-1045/dynamic-naming-array-1.htm</code></p>\n\n<p>as per the link, the code will create dynamic arrays like these:</p>\n\n<pre><code>@yearsSoFar2004, \n@yearsSoFar2005,                                                                               \n@yearsSoFar2006 etc.\n</code></pre>\n\n<p>My requirement is as follows. I want to create a dynamic array like this:</p>\n\n<pre><code>my @a0=();\nmy @a1=();\nmy @a2=();\nmy @a3=();\n</code></pre>\n\n<p>I currently have it static in my code but i want to make it dynamic. Here is the static code below. Please help me guys. I am a newbie to PERL </p>\n\n<pre><code>my @a=();\nmy @b=();\nmy @c=();\nmy @d=();\n</code></pre>\n"}, {"tags": ["perl", "oop", "ipc"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1440187429, "creation_date": 1440187429, "answer_id": 32148459, "question_id": 32148223, "link": "https://stackoverflow.com/questions/32148223/does-ipcshareable-work-with-blessed-objects/32148459#32148459", "title": "Does IPC::Shareable work with blessed objects?", "body": "<p>It supports anything Storable can handle. So it can handle objects, but not file handles (incl sockets). File handles are process-specific anyway.</p>\n\n<p>Access to the shared memory is controlled using the same permission system that is used to control access to files (via the <code>mode</code> option), so the security issues are the same as they are for files.</p>\n"}], "owner": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440187429, "creation_date": 1440186428, "question_id": 32148223, "link": "https://stackoverflow.com/questions/32148223/does-ipcshareable-work-with-blessed-objects", "title": "Does IPC::Shareable work with blessed objects?", "body": "<p>I would like to share a blessed object between two or more Perl applications. The object in question is quite expensive to instantiate, but always the same (static). The idea is to instantiate it once in one application and use it in other applications. This particular object is basically an http client using HTTP::Tiny an a whole bunch of other modules. Instantiating it via <code>new()</code> can take more than 50% of the total run time. I think the only module which may be a problem is the HTTP::Tiny since it open sockets, but not really sure. Can I use IPC::Shareable or some other method to share this http client among other applications?</p>\n\n<p>Follow-up, are there any significant security issues with IPC::Shareable?</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1612803035, "post_id": 32148175, "comment_id": 116874805, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/3045799/match-any-get-path-with-mojoliciouslite\">Match any GET path with Mojolicious::Lite</a>"}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 668247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9753585e9c97a4009c17adffe41f9f47?s=128&d=identicon&r=PG", "display_name": "vikin9", "link": "https://stackoverflow.com/users/668247/vikin9"}, "is_accepted": false, "score": 0, "last_activity_date": 1446108600, "creation_date": 1446108600, "answer_id": 33409604, "question_id": 32148175, "link": "https://stackoverflow.com/questions/32148175/how-do-i-match-all-routes-in-mojolicious/33409604#33409604", "title": "How do I match all routes in Mojolicious?", "body": "<p>How about: </p>\n\n<pre><code>perl -Mojo -E 'a(\"/*any\" =&gt; {text =&gt; \"The service is down for maintenance.\"})-&gt;start' daemon\n</code></pre>\n\n<p>I think it works for all urls but '/'.</p>\n"}, {"tags": [], "owner": {"reputation": 880, "user_id": 1145723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a97af4088a74752aa81dfb56bedf4d76?s=128&d=identicon&r=PG", "display_name": "Christopher Causer", "link": "https://stackoverflow.com/users/1145723/christopher-causer"}, "is_accepted": false, "score": 0, "last_activity_date": 1498814941, "creation_date": 1498814941, "answer_id": 44843127, "question_id": 32148175, "link": "https://stackoverflow.com/questions/32148175/how-do-i-match-all-routes-in-mojolicious/44843127#44843127", "title": "How do I match all routes in Mojolicious?", "body": "<p>If you create a named placeholder, with a default value of anything, I believe it does what you want:</p>\n\n<pre><code>perl -Mojo -E 'a(\"/*x\" =&gt; { text =&gt; \"The service is down for maintenance.\", x =&gt; ''})-&gt;start' daemon\n</code></pre>\n\n<p>May not be the prettiest code you'll ever see, but it's only a few more characters :-)</p>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1612799244, "creation_date": 1612799244, "answer_id": 66104831, "question_id": 32148175, "link": "https://stackoverflow.com/questions/32148175/how-do-i-match-all-routes-in-mojolicious/66104831#66104831", "title": "How do I match all routes in Mojolicious?", "body": "<p>Yes, you can. Try these examples:</p>\n<pre><code>perl -Mojo -E 'app-&gt;routes-&gt;get( &quot;/&quot; =&gt; { text =&gt; &quot;start&quot; }); app-&gt;routes-&gt;get( &quot;/*any&quot; =&gt; { text =&gt; &quot;any&quot; }); app-&gt;start' get /\n\nperl -Mojo -E 'app-&gt;routes-&gt;get( &quot;/&quot; =&gt; { text =&gt; &quot;start&quot; }); app-&gt;routes-&gt;get( &quot;/*any&quot; =&gt; { text =&gt; &quot;any&quot; }); app-&gt;start' get /some_route\n</code></pre>\n<p>Here you define catch all route <code>*any</code> after the specific one <code>/</code><br />\n<a href=\"https://docs.mojolicious.org/Mojolicious/Guides/Routing#Wildcard-placeholders\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}], "owner": {"reputation": 1055, "user_id": 588006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a5fbbed535c3784dac3416f73a380ced?s=128&d=identicon&r=PG", "display_name": "Starfish", "link": "https://stackoverflow.com/users/588006/starfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1612799244, "creation_date": 1440186233, "question_id": 32148175, "link": "https://stackoverflow.com/questions/32148175/how-do-i-match-all-routes-in-mojolicious", "title": "How do I match all routes in Mojolicious?", "body": "<p>I'm trying to use a Mojolicious one-liner to display a message to users about a service outage. I'd like the message to display regardless of the route. Here's what I have which is slightly modified from <a href=\"https://metacpan.org/pod/ojo#a\" rel=\"nofollow\">what's in the documentation</a>.</p>\n\n<pre><code>perl -Mojo -E 'a(\"/\" =&gt; {text =&gt; \"The service is down for maintenance.\"})-&gt;start' daemon\n</code></pre>\n\n<p>That works for <code>/</code> but not anything else. I added an asterisk to turn it into a wildcard route.</p>\n\n<pre><code>perl -Mojo -E 'a(\"/*\" =&gt; {text =&gt; \"The service is down for maintenance.\"})-&gt;start' daemon\n</code></pre>\n\n<p>That matches all routes except for <code>/</code>. Is there a way to match all routes in a single definition?</p>\n"}, {"tags": ["perl", "hashtable", "hashref"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1440192355, "post_id": 32148111, "comment_id": 52188283, "body": "Could you indicate expected number of entries and how do you fill the hash?  IMHO it may affect the best option."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1440271411, "post_id": 32148111, "comment_id": 52207570, "body": "@Andrzej A. Filip: 3-4K entries. What do you mean how do I fill the hash?"}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1440299400, "post_id": 32148111, "comment_id": 52213103, "body": "How do you fill empty hash with 4K entries?  BTW Have you considered using &quot;in memory&quot; SQLite database? [It may make some sense with 4K entries]"}], "answers": [{"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 1, "last_activity_date": 1440189825, "last_edit_date": 1440189825, "creation_date": 1440187973, "answer_id": 32148576, "question_id": 32148111, "link": "https://stackoverflow.com/questions/32148111/create-secondary-hashtables-for-fast-search-of-values/32148576#32148576", "title": "Create secondary hashtables for fast search of values", "body": "<p>Because each owner and writer can own and write many things you has to make hash with an array of books as value. You can do it in many ways. For example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $books = {\n    introduction_to_systems =&gt; {\n        writer =&gt; \"John\",\n        owner  =&gt; \"Jim\"\n    },\n    management_recipies =&gt; {\n        writer =&gt; \"Jane\",\n        owner  =&gt; \"Jim\"\n    },\n};\n\nmy ( %owns, %wrote );\nfor my $book ( keys %$books ) {\n    my $rec = $books-&gt;{$book};\n    push @{ $owns{ $rec-&gt;{owner} } },   $book;\n    push @{ $wrote{ $rec-&gt;{writer} } }, $book;\n}\n\nprint \"Jim owns @{$owns{Jim}}\\n\";\nprint \"John wrote @{$wrote{John}}\\n\";\n</code></pre>\n"}], "owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440189825, "creation_date": 1440185929, "question_id": 32148111, "link": "https://stackoverflow.com/questions/32148111/create-secondary-hashtables-for-fast-search-of-values", "title": "Create secondary hashtables for fast search of values", "body": "<p>I have a hashref of the following format:  </p>\n\n<pre><code>{  \n   introduction_to_systems =&gt; {  \n                                 writer =&gt; \"John\",  \n                                 owner =&gt; \"Jim\"  \n   },  \n   management_recipies =&gt; {  \n                                 writer =&gt; \"Jane\",  \n                                 owner =&gt; \"Jim\"  \n   },  \netc  \n}  \n</code></pre>\n\n<p>The issue I have is that this hash is not very convenient. I would also like to be able to find easily everything that is owned by \"Jim\" or \"John\" is the writer.  </p>\n\n<p>Basically I need 2 inverses of this hashtable.<br>\nWhat is the most efficient way to do this in perl?</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1440187007, "post_id": 32147982, "comment_id": 52186042, "body": "See <a href=\"https://metacpan.org/pod/Lingua::EN::Titlecase\" rel=\"nofollow noreferrer\"><code>Lingua::EN::Titlecase</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1440185733, "creation_date": 1440185733, "answer_id": 32148068, "question_id": 32147982, "link": "https://stackoverflow.com/questions/32147982/perl-using-an-array-to-capitalize-words/32148068#32148068", "title": "Perl: using an array to capitalize words", "body": "<p>You could create a hash of words to transformations, then if you encounter those words apply the expected transformation:</p>\n\n<pre><code>use strict;\nuse warnings; \n\nuse feature qw(say);\n\nmy %transformations = (\n   monday =&gt; \\&amp;titlecase,\n   bob    =&gt; \\&amp;titlecase,\n   sue    =&gt; \\&amp;titlecase,\n   shout  =&gt; \\&amp;uppercase,\n);\n\nwhile ( my $line = &lt;$filehandle&gt; ) {\n   chomp $line;\n   foreach my $word ( split /\\s+/, $line ) {\n      if ( my $transform = $transformations{lc $word} ) {\n         $line =~ s/$word/$transform-&gt;($word)/ge;\n      }\n   }\n   say $line;\n}\n\nsub titlecase {\n   my ($s) = @_;\n\n   return ucfirst lc $s;\n}\n\nsub uppercase {\n   my ($s) = @_;\n\n   return uc $s;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440186782, "post_id": 32148150, "comment_id": 52185945, "body": "You need a comma after <code>join &#39;|&#39;</code> -- you&#39;ve commented it out! And this won&#39;t compile without <code>use feature &#39;fc&#39;</code> or <code>use v5.16</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440187022, "post_id": 32148150, "comment_id": 52186049, "body": "@Borodin, Thanks, fixed. You can also use <code>CORE::fc</code> instead of using the feature."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1440188390, "last_edit_date": 1440188390, "creation_date": 1440186102, "answer_id": 32148150, "question_id": 32147982, "link": "https://stackoverflow.com/questions/32147982/perl-using-an-array-to-capitalize-words/32148150#32148150", "title": "Perl: using an array to capitalize words", "body": "<pre><code>use feature qw( fc );  # Alternatively, \"lc\" is \"close enough\".\n\nmy @to_capitalize = qw( Monday Bob Sue );\nmy @abbreviations = qw( USA );\nmy @exceptions    = qw( iPhone );\n\nmy %words = (\n   ( map { fc($_) =&gt; ucfirst(lc($_)) } @to_capitalize ),\n   ( map { fc($_) =&gt; uc($_)          } @abbreviations ),\n   ( map { fc($_) =&gt; $_              } @exceptions ),\n);\n\nmy $pat =\n   join '|',\n      #map quotemeta,    # If this is needed, our use of \\b is incorrect.\n         keys %words;\n\ns/\\b($pat)\\b/$words{fc($1)}/ig;\n</code></pre>\n\n<p>Adjust as needed.</p>\n"}, {"tags": [], "owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "is_accepted": false, "score": 0, "last_activity_date": 1440277257, "creation_date": 1440277257, "answer_id": 32160752, "question_id": 32147982, "link": "https://stackoverflow.com/questions/32147982/perl-using-an-array-to-capitalize-words/32160752#32160752", "title": "Perl: using an array to capitalize words", "body": "<p>Thanks for the great ideas. I ended up using the idea of a hash (for the first time!). This may not be very optimal but it gets the job done :)</p>\n\n<pre><code>%capitalize = (\n\"usa\" =&gt; \"USA\",\n\"nfl\" =&gt; \"NFL\",\n);\n\n$row = \"I live in the usa and love me some nfl.\";\n\nforeach my $key (keys %capitalize) {\n    if ($row =~ $key) { \n        $row =~ s/$key/$capitalize{$key}/g;\n        }\n}\n\nprint $row;\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1440277257, "creation_date": 1440185342, "question_id": 32147982, "link": "https://stackoverflow.com/questions/32147982/perl-using-an-array-to-capitalize-words", "title": "Perl: using an array to capitalize words", "body": "<p>I'm treating large blocks of all-caps text, converting them to mixed case and adding punctuation. However, there's a large set of words and names that I want to capitalize, such as days of the week, months, people, and so on. </p>\n\n<p>Rather than using a giant glob of substitutions, is there a way to use an array or hash of properly capitalized terms somehow? So if I have a string \"and then on monday, we should see bob and sue\" to convert it to \"and then on Monday, we should see Bob and Sue\" if I have the terms stored in an array or hash?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "sas", "batch-processing"], "comments": [{"owner": {"reputation": 58518, "user_id": 1623007, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40931bddde219f1a9e4514d2f4cfa826?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1623007/joe"}, "edited": false, "score": 0, "creation_date": 1440183135, "post_id": 32147346, "comment_id": 52184262, "body": "@darkfang That&#39;s a pretty bad edit there.  Please pay more attention when suggesting edits - in particular, you&#39;re reverting from a correct tag edit to an incorrect tag."}], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 5253170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/11d0dcf02fe33d928113286402d456b5?s=128&d=identicon&r=PG&f=1", "display_name": "asmi", "link": "https://stackoverflow.com/users/5253170/asmi"}, "edited": false, "score": 0, "creation_date": 1440188318, "post_id": 32147545, "comment_id": 52186664, "body": "Joe-Thank you very much. I really appreciate your help. +(-1) thing worked and my batch file is running perfect. Thanks again!!"}], "tags": [], "owner": {"reputation": 58518, "user_id": 1623007, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/40931bddde219f1a9e4514d2f4cfa826?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1623007/joe"}, "is_accepted": true, "score": 3, "last_activity_date": 1440183428, "creation_date": 1440183428, "answer_id": 32147545, "question_id": 32147346, "link": "https://stackoverflow.com/questions/32147346/how-to-remove-the-extra-space-as-a-result-of-double-quotes-in-sas/32147545#32147545", "title": "How to remove the extra space as a result of double quotes in SAS", "body": "<p>The easiest way to get that to work properly is simply to put the entire command (<code>script.pl(filename)</code>) into a single variable, then put that variable.</p>\n\n<p>You can also use +(-1) in put to move the line pointer back one, if it's consistently off by one (though most of the time that's not needed).</p>\n\n<pre><code>put \"script.pl(\" flname1 +(-1) \")\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35496, "user_id": 4965549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b2fd3fbe1a522cea4792ee16c718872?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/4965549/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1440213910, "creation_date": 1440213910, "answer_id": 32151951, "question_id": 32147346, "link": "https://stackoverflow.com/questions/32147346/how-to-remove-the-extra-space-as-a-result-of-double-quotes-in-sas/32151951#32151951", "title": "How to remove the extra space as a result of double quotes in SAS", "body": "<p>It really looks like you are working too hard to create string variables before writing to the file.  You should be able to write what you want just using the features of the PUT statement.  It is not clear from the question what format you want the file to have, but I think this code mimics your program.</p>\n\n<pre><code>%let days=7 ;\ndata new;\n  enddate=date();\n  getdate=date()+1;\n  begdate=enddate-&amp;days;\n  file 'h:\\programs\\daily_file';\n  put 'LOGIN abc xyz'\n    / 'FILE(C:\\temp\\list.txt) 00:00_' begdate mmddyy10. \n      ' 00:00_' getdate mmddyy10. \n      ' script.pl(d:\\temp\\file' enddate yymmddn8. '.txt)'\n    / 'LOGOUT'\n  ;\nrun;\n</code></pre>\n\n<p>and it produces:</p>\n\n<pre><code>LOGIN abc xyz\nFILE(C:\\temp\\list.txt) 00:00_08/14/2015 00:00_08/22/2015 script.pl(d:\\temp\\file20150821.txt)\nLOGOUT\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 5253170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/11d0dcf02fe33d928113286402d456b5?s=128&d=identicon&r=PG&f=1", "display_name": "asmi", "link": "https://stackoverflow.com/users/5253170/asmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 32147545, "answer_count": 2, "score": 1, "last_activity_date": 1440213910, "creation_date": 1440182551, "last_edit_date": 1440182660, "question_id": 32147346, "link": "https://stackoverflow.com/questions/32147346/how-to-remove-the-extra-space-as-a-result-of-double-quotes-in-sas", "title": "How to remove the extra space as a result of double quotes in SAS", "body": "<p>I am new to SAS and I am trying create a batch file through a SAS program. The code is below:</p>\n\n<pre><code>data new;\nenddate=date();\ngetdate=date()+1;\nflname1=compress(\"d:\\temp\\file\"||year(enddate)||put(month(enddate),z2.)||\n   put(day(enddate),z2.)||\".txt\");\nbegdate=enddate-&amp;days;\ndtline1=compbl(compress(\"00:00_\"||put(begdate,mmddyy10.))||\" \"||\ncompress(\"00:00_\"||put(getdate,mmddyy10.)));\nfile 'h:\\programs\\daily_file';\nput 'LOGIN abc xyz';\nput 'FILE(C:\\temp\\list.txt) \ndtline1 \"script.pl(\"flname1\")\";\nput 'LOGOUT';\n</code></pre>\n\n<p>Script.pl is a perl script and in the resulting batch file, there is an extra space after <code>flname1</code>. It prints something like this:</p>\n\n<blockquote>\n  <p>script.pl(d:\\temp\\file_date ).</p>\n</blockquote>\n\n<p>I don't want the this extra space after date. What can I do?</p>\n"}, {"tags": ["perl", "email", "dns", "email-validation"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1440182668, "post_id": 32147266, "comment_id": 52184031, "body": "surely there aren&#39;t 1 million different domains?  it doesn&#39;t seem like you&#39;d want Email::Valid to check gmail.com hundreds of thousands of times instead of just doing it once yourself."}], "answers": [{"comments": [{"owner": {"reputation": 629, "user_id": 4714314, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U_fJmi5BG_8/AAAAAAAAAAI/AAAAAAAAAAA/q8Nb-gbipZg/photo.jpg?sz=128", "display_name": "Rick Buford", "link": "https://stackoverflow.com/users/4714314/rick-buford"}, "edited": false, "score": 0, "creation_date": 1440267934, "post_id": 32147936, "comment_id": 52206573, "body": "Additionally, it is generally considered pretty poor behavior to pound the daylights out of someone else&#39;s server with a misconfigured script, even if it is offering a service to the internet at large. I think my personal record was the day I had 20k queries/second hitting my DNS servers because a professor was teaching his class how to do lookups with perl. In short, be nice to other people&#39;s stuff."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 1, "last_activity_date": 1440185101, "creation_date": 1440185101, "answer_id": 32147936, "question_id": 32147266, "link": "https://stackoverflow.com/questions/32147266/can-my-ip-address-be-taken-as-spammer-for-using-netdns-too-much/32147936#32147936", "title": "Can my ip address be taken as spammer for using Net::DNS too much?", "body": "<p>Net::DNS does the same thing as nslookup and other tools, it sends a DNS query to a DNS server and processes the reply. I don't know which DNS server you used with nslookup but with both nslookup and Net::DNS you can specify the DNS server to use and maybe you'll find some DNS server which does not consider your activity as spamming. As an example you might try the DNS server provided by google: 8.8.8.8.</p>\n\n<p>Alternatively you can setup your own recursive DNS server on the local machine it let this server resolve all the queries and cache the results. When setup without forwarder the server will not use your ISP's DNS server to resolve all queries but instead ask the DNS servers responsible for the specific domains. </p>\n\n<p>In case you did not understand any of these recommendations I would suggest to have a look at <a href=\"https://en.wikipedia.org/wiki/Domain_Name_System\" rel=\"nofollow\">how DNS works</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 2793535, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003909430776/picture?type=large", "display_name": "Julio C&#233;sar Mondrag&#243;n &#193;lvarez", "link": "https://stackoverflow.com/users/2793535/julio-c%c3%a9sar-mondrag%c3%b3n-%c3%81lvarez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 32147936, "answer_count": 1, "score": -1, "last_activity_date": 1440185101, "creation_date": 1440182245, "question_id": 32147266, "link": "https://stackoverflow.com/questions/32147266/can-my-ip-address-be-taken-as-spammer-for-using-netdns-too-much", "title": "Can my ip address be taken as spammer for using Net::DNS too much?", "body": "<p>I have to check the validity of around <strong>1 million</strong> email addresses, I don't care if the email is \"deliverable\", I just want to check if the structure is right and the domain exists. To accomplish this I'm using <strong>Email::Valid</strong> module with the option <strong>-mxcheck</strong> which use <strong>Net::DNS</strong> module as well, but I'm afraid of to be taken as spammer for using it too much (as happen with <strong>nslooukup</strong> utility). So, can this happen with Net::DNS module?</p>\n\n<p>Hope you can help me.</p>\n\n<p>Regards</p>\n"}, {"tags": ["regex", "linux", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1440181085, "post_id": 32146562, "comment_id": 52183206, "body": "OK, so what&#39;s the problem?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1440181325, "post_id": 32146562, "comment_id": 52183338, "body": "Using the <code>s</code> modifier on the regex for <code>$line</code> does not make much sense when you read line by line.."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1440181417, "post_id": 32146562, "comment_id": 52183378, "body": "<code>[a-z]+.service</code> should probably be <code>[a-z]+\\.service</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1440181590, "post_id": 32146562, "comment_id": 52183483, "body": "I&#39;ve added to your question a dump of the array returned by your subroutine. It looks fine to me. I don&#39;t understand <i>&quot;the regex is working up until I reach a &quot;newline&quot;&quot;</i> and can&#39;t see what you mean by <i>the other value</i>. Please explain?"}, {"owner": {"reputation": 1, "user_id": 5253034, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153020816021146/picture?type=large", "display_name": "Thomas N&#228;ss", "link": "https://stackoverflow.com/users/5253034/thomas-n%c3%a4ss"}, "edited": false, "score": 0, "creation_date": 1440183240, "post_id": 32146562, "comment_id": 52184335, "body": "When I run the script I get an empty var in return, it ends at the new line after &quot;OpenSSH server daemon&quot;! Did you just run my script and it worked? By other value I&#39;m refering to &quot;running&quot; and &quot;dead&quot;. Can only get it to work with the first value which is the service name it self."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5256170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0a3c0e9ba2a5738736efdf7651f0f4?s=128&d=identicon&r=PG", "display_name": "thilo", "link": "https://stackoverflow.com/users/5256170/thilo"}, "is_accepted": false, "score": 0, "last_activity_date": 1440289499, "creation_date": 1440289499, "answer_id": 32162043, "question_id": 32146562, "link": "https://stackoverflow.com/questions/32146562/perl-regex-dotall-problems/32162043#32162043", "title": "Perl regex dotall problems", "body": "<p>I would try to read the answer into a var, and then process the tokens using split ( it seems there are empty lines between tokens) something like:</p>\n\n<p>open(F,\"&lt;\",file) || die \"...\";\n{ local $/; $in=; } # slurp file</p>\n\n<p>foreach $line ( split(/\\n\\n/,$in) ) \n{\n  if ( $line =~ /([a-z]+.service)\\s-.*(running|dead)/s ) {\n \u00a0......\n}</p>\n"}], "owner": {"reputation": 1, "user_id": 5253034, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153020816021146/picture?type=large", "display_name": "Thomas N&#228;ss", "link": "https://stackoverflow.com/users/5253034/thomas-n%c3%a4ss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1440289499, "creation_date": 1440179728, "last_edit_date": 1440181497, "question_id": 32146562, "link": "https://stackoverflow.com/questions/32146562/perl-regex-dotall-problems", "title": "Perl regex dotall problems", "body": "<p>I'm trying to fetch certain values from a file that I've created with a system command. The file is in order and the regex is working up until I reach a \"newline\". I've tried to get it to grab the other value in multiple ways, but I can't seem to figure it out. Where am I going wrong?</p>\n\n<p>Here is the code </p>\n\n<pre><code>sub servicechoise2 {\n\n    my $sys_com = \"Servicestatus.txt\";\n\n    print \"type status you would like to see status of: \";\n    my $service = &lt;&gt;;\n    chomp $service;\n\n    system( \"systemctl status $service &gt; $sys_com\" );\n\n    open( my $fh2, \"&lt;\", $sys_com );\n\n    my @services;\n\n    while ( my $line = &lt;$fh2&gt; ) {\n\n        if ( $line =~ /([a-z]+.service)\\s-.*(running|dead)/s ) {\n\n            my %hash2 = (\n                \"servicename\"   =&gt; $1,\n                \"servicestatus\" =&gt; $2\n            );\n\n            push( @services, \\%hash2 );\n        }\n    }\n\n    return \\@services;\n}\n</code></pre>\n\n<p>and here is the file I'm parsing </p>\n\n<pre><code>sshd.service - OpenSSH server daemon    Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled)    Active: active (running) since Fri 2015-08-21 18:20:06 CEST; 1h 32min ago  Main PID: 1297 (sshd)    CGroup: /system.slice/sshd.service\n           \u2514\u25001297 /usr/sbin/sshd -D\n\nAug 21 18:20:06 Thomas-PC systemd[1]: Started OpenSSH server daemon. Aug 21 18:20:07 Thomas-PC sshd[1297]: Server listening on 0.0.0.0 port\n22. Aug 21 18:20:07 Thomas-PC sshd[1297]: Server listening on :: port 22.\n\ncups.service - CUPS Printing Service    Loaded: loaded (/usr/lib/systemd/system/cups.service; enabled)    Active: active (running) since Fri 2015-08-21 18:20:33 CEST; 1h 32min ago  Main PID: 3657 (cupsd)    CGroup: /system.slice/cups.service\n           \u2514\u25003657 /usr/sbin/cupsd -f\n\nAug 21 18:20:33 Thomas-PC systemd[1]: Started CUPS Printing Service.\n\nntpd.service - Network Time Service    Loaded: loaded (/usr/lib/systemd/system/ntpd.service; disabled)    Active: inactive (dead)\n\n\nnamed.service - Berkeley Internet Name Domain (DNS)    Loaded: loaded (/usr/lib/systemd/system/named.service; enabled)    Active: active (running) since Fri 2015-08-21 18:20:10 CEST; 1h 32min ago   Process: 2477 ExecStart=/usr/sbin/named -u named $OPTIONS (code=exited, status=0/SUCCESS)   Process: 1302 ExecStartPre=/usr/sbin/named-checkconf -z /etc/named.conf (code=exited, status=0/SUCCESS)  Main PID: 2502 (named)    CGroup: /system.slice/named.service\n           \u2514\u25002502 /usr/sbin/named -u named\n\nAug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'pdns196.ultradns.biz/A/IN': 2001:503:7bbb:ffff:ffff:ffff:ffff:ff7e#53 Aug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'pdns196.ultradns.biz/AAAA/IN': 2001:503:7bbb:ffff:ffff:ffff:ffff:ff7e#53 Aug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'pdns196.ultradns.biz/A/IN': 2001:500:3682::12#53 Aug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'pdns196.ultradns.biz/AAAA/IN': 2001:500:3682::12#53 Aug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'ns2.isc.ultradns.net/A/IN': 2001:502:4612::e8#53 Aug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'pdns196.ultradns.com/AAAA/IN': 2001:502:f3ff::e8#53 Aug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'pdns196.ultradns.com/AAAA/IN': 2610:a1:1016::e8#53 Aug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'pdns196.ultradns.co.uk/AAAA/IN': 2610:a1:1017::e8#53 Aug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'pdns196.ultradns.co.uk/A/IN': 2610:a1:1017::e8#53 Aug 21 19:20:11 Thomas-PC named[2502]: error (network unreachable) resolving 'pdns196.ultradns.biz/A/IN': 2610:a1:1015::e8#53\n\npostfix.service - Postfix Mail Transport Agent    Loaded: loaded (/usr/lib/systemd/system/postfix.service; enabled)    Active: active (running) since Fri 2015-08-21 18:20:10 CEST; 1h 32min ago   Process: 1335 ExecStart=/usr/sbin/postfix start (code=exited, status=0/SUCCESS) Process: 1328 ExecStartPre=/usr/libexec/postfix/chroot-update (code=exited, status=0/SUCCESS)   Process: 1298 ExecStartPre=/usr/libexec/postfix/aliasesdb (code=exited, status=0/SUCCESS)  Main PID: 2531 (master)    CGroup: /system.slice/postfix.service\n           \u251c\u25002531 /usr/libexec/postfix/master -w\n           \u251c\u25002534 pickup -l -t unix -u\n           \u2514\u25002535 qmgr -l -t unix -u\n\nAug 21 18:20:06 Thomas-PC systemd[1]: Starting Postfix Mail Transport Agent... Aug 21 18:20:09 Thomas-PC postfix/postfix-script[2510]: warning: group or other writable: /etc/postfix/./main.cf Aug 21 18:20:10 Thomas-PC postfix/postfix-script[2529]: starting the Postfix mail system Aug 21 18:20:10 Thomas-PC postfix/master[2531]: daemon started -- version 2.10.1, configuration /etc/postfix Aug 21 18:20:10 Thomas-PC systemd[1]: Started Postfix Mail Transport Agent. Aug 21 18:23:08 Thomas-PC postfix/smtpd[4293]: connect from localhost[127.0.0.1] Aug 21 18:23:08 Thomas-PC postfix/smtpd[4293]: NOQUEUE: reject: RCPT from localhost[127.0.0.1]: 550 5.1.1 &lt;a14thona@localhost&gt;: Recipient address rejected: User unknown in local recipient table; from=&lt;admin@localhost&gt; to=&lt;a14thona@localhost&gt; proto=ESMTP helo=&lt;localhost.localdomain&gt; Aug 21 18:23:08 Thomas-PC postfix/smtpd[4293]: lost connection after RCPT from localhost[127.0.0.1] Aug 21 18:23:08 Thomas-PC postfix/smtpd[4293]: disconnect from localhost[127.0.0.1]\n</code></pre>\n\n<p>the subroutine returns this array of hashes</p>\n\n<pre><code>[\n  { servicename =&gt; \"sshd.service\", servicestatus =&gt; \"running\" },\n  { servicename =&gt; \"cups.service\", servicestatus =&gt; \"running\" },\n  { servicename =&gt; \"ntpd.service\", servicestatus =&gt; \"dead\" },\n  { servicename =&gt; \"named.service\", servicestatus =&gt; \"running\" },\n  { servicename =&gt; \"postfix.service\", servicestatus =&gt; \"running\" },\n]\n</code></pre>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1440175248, "creation_date": 1440175248, "answer_id": 32145396, "question_id": 32145171, "link": "https://stackoverflow.com/questions/32145171/executing-a-function-within-an-array-within-a-hash-in-perl/32145396#32145396", "title": "executing a function within an array within a hash in perl", "body": "<p>If you turn on strict and warnings, you'll see that: </p>\n\n<pre><code>foreach my $elem(@{mynahs{kArray}}) {\n</code></pre>\n\n<p>Isn't valid. You need at the very least a <code>$</code> before <code>mynahs</code>. </p>\n\n<p>But given something like this - your approach works - here's an example using <code>map</code> to 'run' the code references:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nsub gimme_hash {\n    return { 'fish' =&gt; 'paste' };\n}\n\nmy $stuff =\n    [ { 'anon1' =&gt; 'value' }, \n      \\&amp;gimme_hash, \n      { 'anon2' =&gt; 'anothervalue' }, ];\n\nmy $newstuff = [ map { ref $_ eq \"CODE\" ? $_-&gt;() : $_ } @$stuff ];\nprint Dumper $newstuff;\n</code></pre>\n\n<p>Turns that hash into:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'anon1' =&gt; 'value'\n          },\n          {\n            'fish' =&gt; 'paste'\n          },\n          {\n            'anon2' =&gt; 'anothervalue'\n          }\n        ];\n</code></pre>\n\n<p>But your approach does work:</p>\n\n<pre><code>foreach my $element ( @$stuff ) {\n   my %myhash;\n   if ( ref $element eq \"CODE\" ) {\n      %myhash = %{$element -&gt; ()}; \n   }\n   else {\n      %myhash = %$element;\n   }\n   print Dumper \\%myhash; \n}\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>$VAR1 = {\n          'anon1' =&gt; 'value'\n        };\n$VAR1 = {\n          'fish' =&gt; 'paste'\n        };\n$VAR1 = {\n          'anon2' =&gt; 'anothervalue'\n        };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1440175663, "creation_date": 1440175663, "answer_id": 32145508, "question_id": 32145171, "link": "https://stackoverflow.com/questions/32145171/executing-a-function-within-an-array-within-a-hash-in-perl/32145508#32145508", "title": "executing a function within an array within a hash in perl", "body": "<p>Apart from the code sample you give being invalid Perl, the main problems seem to be that you are using <code>==</code> to compare strings instead of <code>eq</code>, and you are assigning a hash <em>reference</em> to a hash variable <code>%thishash</code>. I assure you that <code>ref $elem</code> never returns <code>SCALAR</code> with the data you show</p>\n\n<p>It would help you enormously if you followed the common advice to <code>use strict</code> and <code>use warnings</code> at the top of your code</p>\n\n<p>This will work for you</p>\n\n<pre><code>for my $elem ( @{ $myhash{kArray} } ) {\n\n    my $this_hash;\n\n    if ( ref $elem eq 'CODE' ) {\n         $this_hash = $elem-&gt;();\n    }\n    else {\n         $this_hash = $elem;\n    }\n\n    # Do stuff with $this_hash\n}\n</code></pre>\n\n<p>or you could just use a <code>map</code> like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Data::Dump;\n\nmy %myhash = (\n    k1     =&gt; v1,\n    kArray =&gt; [\n        {\n            name =&gt; \"anonymous hash\",\n        },\n        \\&amp;funcThatReturnsHash,\n        {\n            name =&gt; \"another anonymous hash\",\n        }\n    ]\n);\n\nfor my $hash ( map { ref eq 'CODE' ? $_-&gt;() : $_ } @{ $myhash{kArray} } ) {\n  say $hash-&gt;{name};\n}\n\n\nsub funcThatReturnsHash {\n    {  name =&gt; 'a third anonymous hash' };\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>anonymous hash\na third anonymous hash\nanother anonymous hash\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5252707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b52fbefb36d2652e5253cbbb894c31?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Kumar", "link": "https://stackoverflow.com/users/5252707/ravi-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440175663, "creation_date": 1440174306, "last_edit_date": 1440175129, "question_id": 32145171, "link": "https://stackoverflow.com/questions/32145171/executing-a-function-within-an-array-within-a-hash-in-perl", "title": "executing a function within an array within a hash in perl", "body": "<p>I have a Perl data structurte like so </p>\n\n<pre><code>%myhash = (\n  k1 =&gt; v1, \n  kArray =&gt; [\n    {\n      name =&gt; \"anonymous hash\",\n      ...\n    },\n    \\&amp;funcThatReturnsHash,\n    {\n      name =&gt; \"another anonymous hash\",\n      ...\n    }\n  ]\n);\n</code></pre>\n\n<p>Elsewhere I iterate through the list in <code>kArray</code> which contains a bunch of  hashes. I would like to either process the actual hash  OR the hash <em>returned</em> by the function.</p>\n\n<pre><code>foreach my $elem( @{myhash{kArray}} ) {\n\n  if (ref($elem) == \"CODE\") {\n     %thisHash = &amp;$elem;\n  }\n  else {\n     %thisHash = %$elem;\n  }\n  ...\n}\n</code></pre>\n\n<p>However <code>ref ($elem)</code> is always scalar or undefined. I tried <code>func</code>, <code>&amp;func</code>, <code>\\&amp;func</code>, <code>\\%{&amp;func}</code>, in <code>%myhash</code> to no effect. </p>\n\n<p>how do I extract the hash within the function in the main body?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 6, "creation_date": 1440171880, "post_id": 32144310, "comment_id": 52178260, "body": "This sounds like an XY problem. What are you trying to accomplish? <code>require</code> loads a module. There are other approaches if you want to <code>run</code> a script."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440173970, "post_id": 32144310, "comment_id": 52179521, "body": "There&#39;s <code>my $output = qx{myscript.pl}</code> if you don&#39;t need to load the subroutines from the file, which is what <code>require</code> is for. But please explain your circumstance as <a href=\"http://stackoverflow.com/users/2566198/sobrique\">Sobrique</a> has asked"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1440174577, "post_id": 32144310, "comment_id": 52179864, "body": "Note that <code>require</code> won&#39;t load the same file twice, so <code>require &#39;myscript.pl&#39;</code> may well be a no-op and not produce any output."}, {"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440176498, "post_id": 32144310, "comment_id": 52180882, "body": "You caught me.. I was going to use this as a way to run perl scripts, without spawning a subprocess; spawning off the calls as system calls kills me for running the code in the debugger, and getting code coverage statistics when writing tests."}, {"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440176711, "post_id": 32144310, "comment_id": 52180996, "body": "... if I change my <code>require</code> to a <code>do</code>, would that be a reasonable way to go?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5244399"}, "is_accepted": false, "score": 2, "last_activity_date": 1440174325, "creation_date": 1440174325, "answer_id": 32145178, "question_id": 32144310, "link": "https://stackoverflow.com/questions/32144310/capturing-output-from-perls-require/32145178#32145178", "title": "Capturing output from Perl&#39;s require", "body": "<p>Yes, it's possible.  You need to redirect <code>STDOUT</code> before <code>require</code>ing and restore the original <code>STDOUT</code> afterwards.</p>\n\n<p>a.pl</p>\n\n<pre><code>my $capture;\nopen STDOUTBACKUP, '&gt;&amp;STDOUT';\nclose STDOUT;\nopen STDOUT, '&gt;', \\$capture;\nrequire 'b.pl';\nclose STDOUT;\nopen STDOUT, '&gt;&amp;STDOUTBACKUP';\nprint \"CAPTURED: $capture\";\n</code></pre>\n\n<p>b.pl</p>\n\n<pre><code>print \"ModuleB\";\n</code></pre>\n\n<p>Output is <code>CAPTURED: ModuleB</code></p>\n"}, {"comments": [{"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440176757, "post_id": 32145230, "comment_id": 52181013, "body": "Would it be an OK way to run a script if the <code>require</code> was a <code>do</code>?"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440176880, "post_id": 32145230, "comment_id": 52181091, "body": "@ajwood not really. The fact that you&#39;re not starting a new process is the problem (or at least, the danger). In some cases you might get away with it, but sharing global state like that is usually the source of hard-to-debug issues."}, {"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440177814, "post_id": 32145230, "comment_id": 52181605, "body": "I&#39;m kind of pinned into a corner with the design of this software system. It&#39;s a collection of Perl scripts, which call Perl scripts, which call Perl scripts.. Execution profiling, or test coverage, etc, goes dark after the first system call. I was hoping I could somehow get everything to run in the top Perl instance."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440177911, "post_id": 32145230, "comment_id": 52181656, "body": "@ajwood If you ask a new question and explain your actual problem in detail, you might get better solutions."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440178533, "post_id": 32145230, "comment_id": 52181944, "body": "@ajwood - You can, and it might work fine. I won&#39;t tell you not to. Just be aware of what you&#39;re getting into :)"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 3, "last_activity_date": 1440174519, "creation_date": 1440174519, "answer_id": 32145230, "question_id": 32144310, "link": "https://stackoverflow.com/questions/32144310/capturing-output-from-perls-require/32145230#32145230", "title": "Capturing output from Perl&#39;s require", "body": "<p><a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow\">Capture::Tiny</a> makes this easier:</p>\n\n<pre><code>use Capture::Tiny 'capture_stdout';\n\nmy $output = capture_stdout {\n    local @ARGV = qw/hello world/;\n    require 'foo.pl';\n};\n</code></pre>\n\n<p>although I would agree that this is generally not a good way to run a script.</p>\n"}, {"comments": [{"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440182715, "post_id": 32147321, "comment_id": 52184055, "body": "I&#39;m going to ask a new question to address my actual issue.. but take a look at the comments on hobbs&#39; answer. My problem is that the execution isn&#39;t accessible to the debugger, code performance profiling, execution coverage etc.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1440183127, "post_id": 32147321, "comment_id": 52184257, "body": "All of those things need to be requested. Feel free to request them."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1440182459, "creation_date": 1440182459, "answer_id": 32147321, "question_id": 32144310, "link": "https://stackoverflow.com/questions/32144310/capturing-output-from-perls-require/32147321#32147321", "title": "Capturing output from Perl&#39;s require", "body": "<p><code>myscript.pl</code> appears to be a Perl script. It makes no sense to use <code>require</code> or <code>do</code>.</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $cmd = shell_quote('myscript.pl', 'hello', 'world');\nmy $output = `$cmd`;\ndie(\"Can't execute myscript.pl: $!\\n\")                  if $? == -1;\ndie(\"myscript.pl killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\ndie(\"myscript.pl returned error \".( $? &gt;&gt; 8 ).\"\\n\")     if $? &gt;&gt; 8;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>open(my $pipe, '-|', 'myscript.pl', 'hello', 'world')\n   or die(\"Can't execute myscript.pl: $!\\n\");\n\nmy $output = '';\n$output .= $_ while &lt;$pipe&gt;;\nclose($pipe);\ndie(\"myscript.pl killed by signal \".( $? &amp; 0x7F ).\"\\n\") if $? &amp; 0x7F;\ndie(\"myscript.pl returned error \".( $? &gt;&gt; 8 ).\"\\n\")     if $? &gt;&gt; 8;\n</code></pre>\n"}], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 32145230, "answer_count": 3, "score": 1, "last_activity_date": 1440182459, "creation_date": 1440171464, "question_id": 32144310, "link": "https://stackoverflow.com/questions/32144310/capturing-output-from-perls-require", "title": "Capturing output from Perl&#39;s require", "body": "<p>Is it possible to capture output from Perl's require?</p>\n\n<p>For example:</p>\n\n<pre><code>{\n    local @ARGV = qw/ hello world /;\n    require 'myscript.pl';\n}\n</code></pre>\n\n<p>Id like to capture any stdout that <code>myscript.pl</code> generates. Can imagine something like this:</p>\n\n<pre><code>{\n    local @ARGV = qw/ hello world /;\n    my $output = require 'myscript.pl';\n}\n</code></pre>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 7, "creation_date": 1440170547, "post_id": 32143918, "comment_id": 52177419, "body": "Can anyone explain why we get so many <code>how do I call awk from perl</code> questions? Perl can do anything that awk can do, right? So what&#39;s the point of calling awk from perl???"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1440170576, "post_id": 32143918, "comment_id": 52177437, "body": "You really want to look into using <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a> for parsing CSV files."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440171244, "post_id": 32143918, "comment_id": 52177893, "body": "Not hashed - <code>@array</code> in a scalar context returns the number of elements."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1440172824, "post_id": 32143918, "comment_id": 52178818, "body": "When you post a question on Stack Overflow, please copy and paste the exact code you&#39;re using instead of typing it into the Ask box. <code>my $result = &quot;@t1_temp_12 - 273.14&quot;;</code> would not set <code>$result</code> to -265.14 because you&#39;re interpolating an array in a string literal; you would get something more like <code>foo bar baz - 273.14</code> for an array containing <code>foo</code>, <code>bar</code>, and <code>baz</code>. I&#39;m guessing your actual code is <code>$result = @t1_temp_12 - 273.14;</code>, without the quotes."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1440174831, "post_id": 32143918, "comment_id": 52180011, "body": "@MattJacob: <code>Text::CSV</code> is invaluable for processing CSV files where the fields can be quoted and also contain quotes, but when the data consists strictly of unquoted fields that contain no commas then <code>chomp; split &#47;,&#47;;</code> is fine. It&#39;s actually very difficult to persuade the module to behave correctly for this trivial case"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440175683, "post_id": 32143918, "comment_id": 52180441, "body": "@Borodin What do you mean by &quot;It&#39;s actually very difficult to persuade the module to behave correctly for this trivial case&quot;? I&#39;ve never had trouble, even with unquoted fields, using the default options to <code>Text::CSV-&gt;new</code> (although I agree that <code>split</code> is certainly simpler). Can you elaborate?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440175847, "post_id": 32143918, "comment_id": 52180531, "body": "@ThisSuitIsBlackNot: I forget exactly, but try getting it to parse <code>&quot;,&quot;&quot;,&quot;&quot;&quot;,&quot;&quot;&quot;&quot;,&quot;,&quot;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1440176388, "post_id": 32143918, "comment_id": 52180812, "body": "@Borodin Yuck, unquoted fields that contain quote chars. <code>Text::CSV-&gt;new({ quote_char =&gt; undef, escape_char =&gt; undef })</code> takes care of that, but I see what you mean, <code>split</code> is easier."}, {"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1440176955, "post_id": 32143918, "comment_id": 52181127, "body": "The actual code has a number of print and comments so I cut and pasted the relevant stuff. I did type the &#39;my $result&#39; because I accidentally removed it and put in the quotes accidentally.  Regard the AWK I did attempt the Perl code but due to not getting the results I was expecting I attempted AWK.  I dont understand the foo explanation.  I will however use the Text:CSV module."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1440177517, "post_id": 32143918, "comment_id": 52181427, "body": "@ThisSuitIsBlackNot: I think I&#39;m remembering processing a tab-separated file. Such files exist primarily so that you can put any text you like in the data, but don&#39;t allow for embedded tabs at all. To get <code>Text::CSV</code> to handle that requires the two options you mention as well as <code>sep_char =&gt; &quot;\\t&quot;</code>, when what you really should be doing is <code>chomp; split &#47;\\t&#47;;</code>. There are some people who consider <code>Text::CSV</code> to be a panacea and would not accept that it is nothing but a disadvantage when it comes to tab-separated data. <a href=\"http://stackoverflow.com/a/18934965/622310\">This</a> is my original rant"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1440244822, "post_id": 32143918, "comment_id": 52199880, "body": "I think I&#39;ve been irritated by <code>Text::CSV</code> inserting quotes when I didn&#39;t want them."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1440171512, "post_id": 32144180, "comment_id": 52178050, "body": "Not only are they trying to subtract a single value from an array, they&#39;re trying to do it inside a string literal!"}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 3, "last_activity_date": 1440174658, "last_edit_date": 1440174658, "creation_date": 1440171010, "answer_id": 32144180, "question_id": 32143918, "link": "https://stackoverflow.com/questions/32143918/need-to-extract-value-from-a-file-and-subtract-from-variable-in-perl/32144180#32144180", "title": "Need to extract value from a file and subtract from variable in Perl", "body": "<p><code>@t1_temp_12</code> is an array. Why are you trying to subtract an single value from it?</p>\n\n<pre><code>my $result = \"@t1_temp_12 - 273.14\";\n</code></pre>\n\n<p>Did you want to do this instead?</p>\n\n<pre><code>@t1_temp_12 = map {$_ - 273.14} @t1_temp_12;\n</code></pre>\n\n<p>As a shell one-liner, you could write your entire script as:</p>\n\n<pre><code>perl -F, -lanE 'say $F[6]-273.14 if $F[2] eq \"12:00:00\"' &lt;&lt;DATA\n1,2015-08-20,00:00:00,89,1007.48,295.551,296.66,\n2,2015-08-20,03:00:00,85,1006.49,295.947,296.99,\n3,2015-08-20,06:00:00,86,1006.05,295.05,296.02,\n4,2015-08-20,09:00:00,85,1005.87,296.026,296.93,\n5,2015-08-20,12:00:00,77,1004.96,298.034,298.87\nDATA\n</code></pre>\n\n\n\n<pre><code>25.73\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1440202517, "post_id": 32144321, "comment_id": 52191030, "body": "Though the suggestions work for print I want the value to converted a variable giving me the ability to do addition math with or move into a database. Extracting the specific value from an array into a sting  $result = @t1_temp_12 ( specific 298.034 as per 12:00:00) this part is killing me."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1440241265, "post_id": 32144321, "comment_id": 52198850, "body": "Easiest way to do that is stick brackets around it. my ($result) = @t1_temp_12; this will put the first element of the array into $result. Alternatively use pop or $t1_temp_12[0]"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "edited": false, "score": 0, "creation_date": 1440244767, "post_id": 32144321, "comment_id": 52199864, "body": "@BrianB please see edits - hopefully that&#39;ll clarify further?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1440244750, "last_edit_date": 1440244750, "creation_date": 1440171517, "answer_id": 32144321, "question_id": 32143918, "link": "https://stackoverflow.com/questions/32143918/need-to-extract-value-from-a-file-and-subtract-from-variable-in-perl/32144321#32144321", "title": "Need to extract value from a file and subtract from variable in Perl", "body": "<p>This looks like there's some cargo cult programming going on here. It <em>looks</em> like all you're trying to do is find the line for <code>12:00:00</code> and print the temperature in degrees C rather than K. </p>\n\n<p>Which can be done like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    my @fields = split /,/;\n    print $fields[6] - 273.15 if $fields[2] eq \"12:00:00\";\n}\n\n__DATA__\n1,2015-08-20,00:00:00,89,1007.48,295.551,296.66,\n2,2015-08-20,03:00:00,85,1006.49,295.947,296.99,\n3,2015-08-20,06:00:00,86,1006.05,295.05,296.02,\n4,2015-08-20,09:00:00,85,1005.87,296.026,296.93,\n5,2015-08-20,12:00:00,77,1004.96,298.034,298.87\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>25.72\n</code></pre>\n\n<p>You don't really need to do <code>map</code> <code>sprintf</code> etc. (Although you could do a <code>printf</code> on that output if you do want to format it). </p>\n\n<p>Edit: From the comments, it seems one of the sources of confusion is extracting an element from an array. An array is zero or more scalar elements - you can't just assign one to the other, because .... well, what should happen if there isn't just one element (which is the usual case).</p>\n\n<p>Given an array, we can:</p>\n\n<ul>\n<li><code>pop @array</code> will return the last element (and remove it from the array) so you could <code>my $result = pop @array;</code></li>\n<li><code>[0]</code> is the first element of the array, so we can <code>my $result = $array[0];</code></li>\n<li>Or we can assign one array to another: <code>my ( $result ) = @array;</code> - because on the left hand side we have an array now, and it's a single element - the first element of <code>@array</code> goes into <code>$result</code>. (The rest isn't used in this scenario - but you could do <code>my ( $result, @anything_else ) = @array;</code></li>\n</ul>\n\n<p>So in your example - if what you're trying to do is retrieve a value matching a criteria - the normal tool for the job would be <code>grep</code> - which filters an array by applying a conditional test to each element. </p>\n\n<p>So:</p>\n\n<pre><code>my @lines = grep { (split /,/)[2] eq \"12:00:00\" } &lt;DATA&gt;;\nprint \"@lines\";\nprint $lines[0];\n</code></pre>\n\n<p>Which we can reduce to:</p>\n\n<pre><code>my ( $firstresult ) = grep { (split /,/)[2] eq \"12:00:00\" } &lt;DATA&gt;;\nprint $firstresult;\n</code></pre>\n\n<p>But as we want to want to transform our array - <code>map</code> is the tool for the job. </p>\n\n<pre><code>my ( $result ) = map { (split /,/)[6] - 273.15 } grep { (split /,/)[2] eq \"12:00:00\" } &lt;DATA&gt;;\nprint $result;\n</code></pre>\n\n<p>First we:</p>\n\n<ul>\n<li>use grep to extract the matching elements. (one in this case, but doesn't necessarily have to be!)</li>\n<li>use map to transform the list, so that that we turn each element into just it's 6th field, and subtract 273.15</li>\n<li>assign the whole lot to a list containing a single element - in effect just taking the first result, and throwing the rest away. </li>\n</ul>\n\n<p>But personally, I think that's getting a bit complicated and may be hard to understand - and would suggest instead:</p>\n\n<pre><code>my $result;\nwhile (&lt;DATA&gt;) {\n    my @fields = split /,/;\n    if ( $fields[2] eq \"12:00:00\" ) {\n        $result = $fields[6] - 273.15;\n        last;\n    }\n}\n\nprint $result;\n</code></pre>\n\n<p>Iterate your data, split - and test - each line, and when you find one that matches the criteria - set <code>$result</code> and bail out of the loop. </p>\n"}], "owner": {"reputation": 141, "user_id": 4097244, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f178b6040f6d39295fefaf21edf0c448?s=128&d=identicon&r=PG&f=1", "display_name": "BrianB", "link": "https://stackoverflow.com/users/4097244/brianb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440244750, "creation_date": 1440170164, "last_edit_date": 1440177957, "question_id": 32143918, "link": "https://stackoverflow.com/questions/32143918/need-to-extract-value-from-a-file-and-subtract-from-variable-in-perl", "title": "Need to extract value from a file and subtract from variable in Perl", "body": "<p>FILE:</p>\n\n<pre><code>1,2015-08-20,00:00:00,89,1007.48,295.551,296.66,\n\n2,2015-08-20,03:00:00,85,1006.49,295.947,296.99,\n\n3,2015-08-20,06:00:00,86,1006.05,295.05,296.02,\n\n4,2015-08-20,09:00:00,85,1005.87,296.026,296.93,\n\n5,2015-08-20,12:00:00,77,1004.96,298.034,298.87\n</code></pre>\n\n<p>code:</p>\n\n<pre><code> use IPC::System::Simple qw( capture capturex );\n use POSIX;\n\n my $tb1_file = '/var/egridmanage_pl/daily_pl/egrid-csv/test.csv';\n open my $fh1, '&lt;', $tb1_file or die qq{Unable to open \"$tb1_file\" for input: $!};\n\n my @t1_temp_12 = map {\n        chomp;\n        my @t1_ft_12 = split /,/;\n        sprintf \"%.0f\", $t1_ft_12[6] if $t1_ft_12[2] eq '12:00:00';\n } &lt;$fh1&gt;;\n\n print \"TEMP @t1_temp_12\\n\";\n\n my $result = @t1_temp_12 - 273.14;\n\n print \"$result should equal something closer to 24 \";\n</code></pre>\n\n<p><code>$result</code> value prints out <code>-265.14</code>  making me think the <code>@t1_temp_12</code> is hashed</p>\n\n<p>So I tried to do awk</p>\n\n<pre><code>     my $12temp = capture(\"awk -F\",\" '$3 == \"12:00:00\" {print $7 - 273-.15}' test.csv\");\n</code></pre>\n\n<p>I've tried using ``, qx, open, system all having the same error result using the awk command</p>\n\n<p>But this errors out.  When executing awk at command line i get the favoured results.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 7, "creation_date": 1440170263, "post_id": 32143909, "comment_id": 52177244, "body": "<code>bintest.pl</code> != <code>bintest.pm</code>"}, {"owner": {"reputation": 6631, "user_id": 1488533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e063fcfd88a6af736427025f7ac14649?s=128&d=identicon&r=PG&f=1", "display_name": "lllllllllllll", "link": "https://stackoverflow.com/users/1488533/lllllllllllll"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1440170937, "post_id": 32143909, "comment_id": 52177695, "body": "@Biffen, sorry.. but how can I get a bintest.pm from bintest.pl..? thank you!"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1440171005, "post_id": 32143909, "comment_id": 52177735, "body": "You can&#39;t just \u2018get\u2019 a Perl module from a Perl script. May I suggest you <a href=\"https://en.wikipedia.org/wiki/Perl_module\" rel=\"nofollow noreferrer\">read up</a> on <a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow noreferrer\">Perl modules/packages</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1440171837, "post_id": 32144361, "comment_id": 52178224, "body": "Please see &quot;<a href=\"http://stackoverflow.com/questions/3402821/in-perl-what-is-the-difference-between-a-pm-perl-module-and-pl-perl-script\">In Perl, what is the difference between a .pm (Perl module) and .pl (Perl script) file?</a>&quot;"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1440171629, "creation_date": 1440171629, "answer_id": 32144361, "question_id": 32143909, "link": "https://stackoverflow.com/questions/32143909/cant-locate-pm-in-inc/32144361#32144361", "title": "Can&#39;t locate *.pm in INC", "body": "<p>You have two Perl <strong>programs</strong> called <code>bintest.pl</code> and <code>sample.pl</code>. You have no Perl <strong>modules</strong>. The function <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow\"><code>use</code></a> is used to load Perl modules. When <code>use</code> converts the module name it is given to a filename to search for, one of the things it does is to append \".pm\" to the name.</p>\n\n<p>So given that you have a program (<code>bintest.pl</code>) and not a module (which would be called <code>bintest.pm</code>), it's not at all surprising that <code>use</code> can't find it.</p>\n\n<p>The real question is, of course, what can you do to fix this problem? And that's hard to answer without a lot more information. It's possible that <code>bintest</code> should be a module and that someone has just given it the wrong name - in which case just renaming it would work. It's possible that it is an old-style Perl library - in which case loading it with <code>require</code> rather than <code>use</code> might well work. But it's equally possible that it's really a program and you shouldn't be trying to use it in this way.</p>\n\n<p>With knowing more about the code (where it comes from, how it is documented, what it looks like) it is impossible to give a definitive answer.</p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1440193962, "post_id": 32144402, "comment_id": 52188865, "body": "@ikegami Ooops! Thanks."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 8, "last_activity_date": 1440193994, "last_edit_date": 1592644375, "creation_date": 1440171780, "answer_id": 32144402, "question_id": 32143909, "link": "https://stackoverflow.com/questions/32143909/cant-locate-pm-in-inc/32144402#32144402", "title": "Can&#39;t locate *.pm in INC", "body": "<p><a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"noreferrer\">use</a> does something very specific:</p>\n<blockquote>\n<p>It is exactly equivalent to</p>\n<pre><code>BEGIN { require Module; Module-&gt;import( LIST ); }\n</code></pre>\n</blockquote>\n<p><a href=\"http://perldoc.perl.org/functions/require.html\" rel=\"noreferrer\">require</a> also does something very specific:</p>\n<blockquote>\n<p>If EXPR is a bareword, the require assumes a &quot;.pm&quot; extension and replaces &quot;::&quot; with &quot;/&quot; in the filename for you, to make it easy to load standard modules.</p>\n</blockquote>\n<p>So, when you say</p>\n<blockquote>\n<pre><code>use bintest ( .. );\n</code></pre>\n</blockquote>\n<p><code>perl</code> first tries to locate <code>bintest.pm</code> in one of the directories in <code>@INC</code> (which now also contains <code>.</code> and <code>..</code> thanks to your <code>use lib</code> statements).</p>\n<p>It can't find it, because what you have is <code>bintest.pl</code>.</p>\n<p>You could <code>require '../bintest.pl'</code>, and then invoke <code>bintest-&gt;import( ... )</code> yourself in a <code>BEGIN</code> block, but, I am assuming you don't want to go there.</p>\n<p>I will recommend that you use a different directory structure:</p>\n<ul>\n<li><code>$project_root/bin</code>: Your scripts live here</li>\n<li><code>$project_root/lib</code>: Your <code>.pm</code> files live here</li>\n</ul>\n<p>Put in <code>$project_root/lib/My/Bintest.pm</code> the following file</p>\n<pre><code>package My::Bintest;\n\nuse strict;\nuse warnings;\nuse Exporter qw( import );\n\n1;\n__END__\n</code></pre>\n<p>Then, from your script in <code>$project_root/bin/script.pl</code>, you can do:</p>\n<pre><code>use FindBin qw( $RealBin );\nuse lib &quot;$RealBin/../lib&quot;;\nuse My::Bintest qw( ... );\n</code></pre>\n"}], "owner": {"reputation": 6631, "user_id": 1488533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e063fcfd88a6af736427025f7ac14649?s=128&d=identicon&r=PG&f=1", "display_name": "lllllllllllll", "link": "https://stackoverflow.com/users/1488533/lllllllllllll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6346, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1440193994, "creation_date": 1440170139, "question_id": 32143909, "link": "https://stackoverflow.com/questions/32143909/cant-locate-pm-in-inc", "title": "Can&#39;t locate *.pm in INC", "body": "<p>I am a newbie to <code>Perl</code>. Sorry for my stupid question.</p>\n\n<p>I have some code like this:</p>\n\n<pre><code>bintest.pl\nsubfolder/sample.pl\n</code></pre>\n\n<p>And in the <code>sample.pl</code>, some is defined like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse lib '.';\nuse lib '..';\nuse bintest qw(:DEFAULT \n    $client_routine\n    );\n</code></pre>\n\n<p>However, when I use <code>perl sample.pl</code> in the <code>subfolder</code>, I got this error:</p>\n\n<pre><code>Can't locate bintest.pm in @INC (@INC contains: .. . /etc/perl /usr/local/lib/perl/5.14.2 /usr/local/share/perl/5.14.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.14 /usr/share/perl/5.14 /usr/local/lib/site_perl) at sample.pl line 6.\n</code></pre>\n\n<p>Am I missed anything? Could anyone give me some help?</p>\n"}, {"tags": ["linux", "perl", "sleep", "daemon"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1440162992, "post_id": 32141144, "comment_id": 52171944, "body": "At what point in that sequence of print statements was the file created?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1440163247, "post_id": 32141144, "comment_id": 52172098, "body": "Please don&#39;t use <code>goto</code> for flow control. You are killing cute little kittens with that, and your maintenance programmer will hate you forever. Use a loop instead."}, {"owner": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1440163395, "post_id": 32141144, "comment_id": 52172205, "body": "@HunterMcMillen , At about Sleeping for 2 seconds [08/21/2015 21:01:34], bottom line of it is, it wasn&#39;t detected on the time expected."}, {"owner": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1440163478, "post_id": 32141144, "comment_id": 52172267, "body": "@simbabque , I heard about those anti goto. But for me, sometimes, its useful and neat. :)"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 2, "creation_date": 1440163580, "post_id": 32141144, "comment_id": 52172339, "body": "The script output you&#39;re showing us does not match the code you&#39;ve posted.  What is the real code you ran which generated that output?"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 1, "creation_date": 1440163844, "post_id": 32141144, "comment_id": 52172516, "body": "If the file is being generated on box1 and the script that checks for the existence of the file is on box2, how is it doing that check?  Is the value of $file a unc path pointing to the file?  Is box2 connecting to box1 via an nfs mount?"}, {"owner": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1440164263, "post_id": 32141144, "comment_id": 52172830, "body": "@RonBergin , Thanks for mentioning that. I have a mount directory (network drive / filer) on both box."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1440165322, "post_id": 32141144, "comment_id": 52173618, "body": "The script that generated the file opened it at 08/21/2015 21:40:32 but when did it close the file?  Was it closed at 08/21/2015 21:41:12?"}], "answers": [{"comments": [{"owner": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "edited": false, "score": 0, "creation_date": 1440166518, "post_id": 32141965, "comment_id": 52174557, "body": "It was configured like this on the mtab: 10.10.10.10:/vol/dir/app nfs rw,intr,hard,addr=10.10.10.10 0 0 Must I still add those you suggested? acdirmin=0,acdirmax=0"}, {"owner": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "edited": false, "score": 0, "creation_date": 1440167174, "post_id": 32141965, "comment_id": 52175104, "body": "the file was generated @ 08/21/2015 21:40:32, the file then was acknowledge as existing @ 08/21/2015 21:41:12"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "reply_to_user": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "edited": false, "score": 0, "creation_date": 1440167192, "post_id": 32141965, "comment_id": 52175120, "body": "I have not done any testing myself, but that is the reported working solution to the problem you&#39;re having so yes, you should add one of suggested fixes to your nfs config and test it."}, {"owner": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "edited": false, "score": 0, "creation_date": 1440167400, "post_id": 32141965, "comment_id": 52175285, "body": "Thanks alot @RonBergin"}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": true, "score": 8, "last_activity_date": 1440164775, "last_edit_date": 1492085621, "creation_date": 1440164775, "answer_id": 32141965, "question_id": 32141144, "link": "https://stackoverflow.com/questions/32141144/linux-perl-how-to-look-for-the-existence-of-a-file-and-read-it-if-it-exist/32141965#32141965", "title": "Linux Perl: How to look for the existence of a file and read it, if it exist -&gt; REALTIME", "body": "<p><a href=\"https://serverfault.com/questions/278349/nfs-detecting-remotely-created-files-programmatically\">Prior serverfault.com question: How can I tell if a file is on a remote filesystem with Perl?</a></p>\n\n<p>Quoted from that thread; </p>\n\n<blockquote>\n  <p>By default, most NFS clients cache directory information for 60 seconds.</p>\n</blockquote>\n\n<p>Solution noted in that thread:</p>\n\n<blockquote>\n  <p>Mount the NFS share on the client with the noac option to disable attribute caching, or use acdirmin=0,acdirmax=0 to just disable directory caching.</p>\n</blockquote>\n"}], "owner": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "accepted_answer_id": 32141965, "answer_count": 1, "score": 0, "last_activity_date": 1440164952, "creation_date": 1440162523, "last_edit_date": 1440164952, "question_id": 32141144, "link": "https://stackoverflow.com/questions/32141144/linux-perl-how-to-look-for-the-existence-of-a-file-and-read-it-if-it-exist", "title": "Linux Perl: How to look for the existence of a file and read it, if it exist -&gt; REALTIME", "body": "<p>There are similar questions like this, but what I am after is the real time detection of a file existence.</p>\n\n<p>I have 2 linux box/PC.</p>\n\n<p>[Linux Box 1]\n-> Generates a file named <strong>host</strong> (Manually executed)</p>\n\n<p>[Linux Box 2]\n-> Has a daemon that sleeps every 2 seconds checks if the expected file exist. And if it exist it will execute my ssh command (ofc ourse a bunce of text will show up showing that it was executed bla bla bla).</p>\n\n<p><strong>PERL SCRIPT:</strong> </p>\n\n<pre><code>ctr:\nif (-e $file) { system (\"ssh $script $host.$display\"); } \nsleep(2);\ngoto ctr;\n</code></pre>\n\n<p><strong>THE PROBLEM</strong>\nThe problem is, it seems that I can't determine if the file exist real time even though it already exist.</p>\n\n<p><strong>BOX 1</strong></p>\n\n<pre><code>[machine01:/home/machine01]% /MACHINE/TOOLS/perl/app/host_gen\n&gt; executed at 08/21/2015 21:40:32\n</code></pre>\n\n<p><strong>BOX 2</strong></p>\n\n<pre><code>Sleeping for 2 seconds [08/21/2015 21:40:22]\nSleeping for 2 seconds [08/21/2015 21:40:24]\nSleeping for 2 seconds [08/21/2015 21:40:26]\nSleeping for 2 seconds [08/21/2015 21:40:28]\nSleeping for 2 seconds [08/21/2015 21:40:30]\nSleeping for 2 seconds [08/21/2015 21:40:32] **&lt;-expected execution**\nSleeping for 2 seconds [08/21/2015 21:40:34]\nSleeping for 2 seconds [08/21/2015 21:40:36]\nSleeping for 2 seconds [08/21/2015 21:40:38]\nSleeping for 2 seconds [08/21/2015 21:40:40]\nSleeping for 2 seconds [08/21/2015 21:40:42]\nSleeping for 2 seconds [08/21/2015 21:40:44]\nSleeping for 2 seconds [08/21/2015 21:40:46]\nSleeping for 2 seconds [08/21/2015 21:40:48]\nSleeping for 2 seconds [08/21/2015 21:40:50]\nSleeping for 2 seconds [08/21/2015 21:40:52]\nSleeping for 2 seconds [08/21/2015 21:40:54]\nSleeping for 2 seconds [08/21/2015 21:40:56]\nSleeping for 2 seconds [08/21/2015 21:40:58]\nSleeping for 2 seconds [08/21/2015 21:41:00]\nSleeping for 2 seconds [08/21/2015 21:41:02]\nSleeping for 2 seconds [08/21/2015 21:41:04]\nSleeping for 2 seconds [08/21/2015 21:41:06]\nSleeping for 2 seconds [08/21/2015 21:41:08]\nSleeping for 2 seconds [08/21/2015 21:41:10]\nSleeping for 2 seconds [08/21/2015 21:41:12] &lt;- It was executed here\nTYPE_AND_DISPLAY [wkss machine01.ult.ultera.omps.com:0]\nTYPE [wkss] DISPLAY [machine01.ult.ultera.omps.com:0]\n</code></pre>\n\n<p>It would take almost like a minute or sometimes after 10 seconds to detect the existing file.</p>\n\n<p>Its just weird.</p>\n\n<p>You guys have any idea how could I achieve my goal?</p>\n\n<p>Thanks in advance.</p>\n"}]