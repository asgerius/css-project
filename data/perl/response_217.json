[{"tags": ["perl", "mojolicious", "mojolicious-lite"], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 0, "last_activity_date": 1551917889, "creation_date": 1551917889, "answer_id": 55034207, "question_id": 55033544, "link": "https://stackoverflow.com/questions/55033544/how-to-change-mojolicious-lite-default-error-not-found-to-a-custom-json-response/55034207#55034207", "title": "How to change Mojolicious Lite default error not found to a custom json response", "body": "<p>The <a href=\"https://mojolicious.org/perldoc/Mojolicious/Guides/Rendering#Rendering-exception-and-not_found-pages\" rel=\"nofollow noreferrer\">Rendering guide</a> discusses how to customize these responses.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1551918666, "creation_date": 1551918666, "answer_id": 55034291, "question_id": 55033544, "link": "https://stackoverflow.com/questions/55033544/how-to-change-mojolicious-lite-default-error-not-found-to-a-custom-json-response/55034291#55034291", "title": "How to change Mojolicious Lite default error not found to a custom json response", "body": "<p>Here are two approaches:</p>\n\n<ol>\n<li><p>Use <code>json</code> as the app's default format and use a <code>not_found.*.json.ep</code> template</p>\n\n<pre><code>use Mojolicious::Lite;\napp-&gt;renderer-&gt;default_format('json');\napp-&gt;start;\n__DATA__\n\n@@ not_found.development.json.ep\n{\"not\":\"found\",\"code\":404,\"data\":{\"key1\":\"value1\",\"key2\":[42,19,\"value3\"]}}\n</code></pre></li>\n<li><p>Override json payload with a <code>before_render</code> hook.</p>\n\n<pre><code>use Mojolicious::Lite;\nhook before_render =&gt; sub {\n    my ($c,$args) = @_;\n    if ($args-&gt;{template} &amp;&amp; $args-&gt;{template} eq 'not_found') {\n        $args-&gt;{json} = { \"too bad\" =&gt; \"so sad\" };\n    }\n};\napp-&gt;start;\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 37, "user_id": 6191156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ea2ac67c35a56df357d18c7cecc0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/6191156/franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 55034291, "answer_count": 2, "score": 2, "last_activity_date": 1551918666, "creation_date": 1551913113, "question_id": 55033544, "link": "https://stackoverflow.com/questions/55033544/how-to-change-mojolicious-lite-default-error-not-found-to-a-custom-json-response", "title": "How to change Mojolicious Lite default error not found to a custom json response", "body": "<p>I'm creating a json web service using Mojolicious Lite. </p>\n\n<p>By default Mojolicious returns a HTML response for a server error or not found error.</p>\n\n<p>Is there a way to overwrite this to a custom JSON response? </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1551910095, "post_id": 55032838, "comment_id": 96818422, "body": "Why are you trying to cram everything into a single regex?"}], "answers": [{"tags": [], "owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "is_accepted": true, "score": 1, "last_activity_date": 1551910205, "creation_date": 1551910205, "answer_id": 55032971, "question_id": 55032838, "link": "https://stackoverflow.com/questions/55032838/perl-regx-pattern-matching/55032971#55032971", "title": "Perl: regx pattern matching", "body": "<p>By \"exclude it\", I assume you want to exclude the entire line.</p>\n\n<p>Your try will not exclude anything, because here Perl can always find some point in the share path to split it, where the split point is not immediately followed by <code>.abc.corp</code>, like if it splits it:</p>\n\n<pre><code>kubernte-fileserver-N\nN.abc.corp:/srv/export/storage/nsp_updates\n</code></pre>\n\n<p>or (as it's actually going to do) just consume everything by the first <code>.*</code>, with nothing left for the second one.</p>\n\n<p>I'd instead first try to match the string you're trying to avoid, and failing to do so, proceed with the actual handling:</p>\n\n<pre><code>if (/^\\S+\\.abc\\.corp:/) {\n    # SKIP\n}\nelsif (/^(.*)\\s+(\\d+)\\s+(\\d+)\\s+(\\d+)\\s+(\\d+)\\%\\s+([\\/\\w\\d\\.-]+)$/) {\n    ...\n}\n</code></pre>\n\n<p>Besides actually working, this makes the code <em>much</em> more readable.</p>\n"}], "owner": {"reputation": 3, "user_id": 6895140, "user_type": "registered", "profile_image": "https://graph.facebook.com/1121675121241991/picture?type=large", "display_name": "Purushoth N", "link": "https://stackoverflow.com/users/6895140/purushoth-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55032971, "answer_count": 1, "score": 0, "last_activity_date": 1551910232, "creation_date": 1551909601, "last_edit_date": 1551910232, "question_id": 55032838, "link": "https://stackoverflow.com/questions/55032838/perl-regx-pattern-matching", "title": "Perl: regx pattern matching", "body": "<p>Whenever i find the word \".abc.corp:\" in a line on file, i would like to exclude those lines:</p>\n\n<p>Example Line:</p>\n\n<pre><code>kubernte-fileserver-NN.abc.corp:/srv/export/storage/nsp_updates   1231231  123112  123123  89%  /devops\n</code></pre>\n\n<p>can someone help me to find out the correct regex pattern: </p>\n\n<p>im trying out with below pattern match: unable to figure it out</p>\n\n<pre><code>/^(.*(?!\\.abc\\.corp).*)\\s+(\\d+)\\s+(\\d+)\\s+(\\d+)\\s+(\\d+)\\%\\s+([\\/\\w\\d\\.-]+)$/\n</code></pre>\n\n<p>I'm confused with subpattern group $1 with negative look around!</p>\n"}, {"tags": ["regex", "linux", "perl", "elf", "readelf"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 1, "last_activity_date": 1551897931, "last_edit_date": 1551897931, "creation_date": 1551897182, "answer_id": 55029979, "question_id": 55029451, "link": "https://stackoverflow.com/questions/55029451/linux-readelf-shows-object-sizes-with-different-numeral-system-hex-and-dec/55029979#55029979", "title": "Linux readelf shows object sizes with different numeral system (Hex and Dec)", "body": "<p>Try this:  </p>\n\n<pre><code>readelf -sW target.elf | perl -pe 's/(?m)^(?:\\S+[ ]+){2}\\K(0x)?[0-9a-f]{5,}/hex $&amp;/ge' | sort -k 3 -n -r \n</code></pre>\n\n<p>Which only works on the third column.  </p>\n\n<p>Regex:  </p>\n\n<pre><code> (?m)                          # Multi-line mode\n ^                             # BOL\n (?: \\S+ [ ]+ ){2}             # First 2 columns\n \\K                            # Disregard columns up to here\n                               # Third column only\n ( 0x )?                       # (1)\n [0-9a-f]{5,} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 4763473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Slpug.png?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/4763473/amit"}, "edited": false, "score": 0, "creation_date": 1551899364, "post_id": 55030020, "comment_id": 96813452, "body": "Works! Thanks! Adding the full command so others could use too:  Find 50 top objects/files that are taking space,  change HEX size to dec, sort and demangle them:   readelf -sW target.elf  | perl -pe &#39;s/0x[0-9a-f]+/hex $&amp;/ge&#39; | sort -k 3 -n -r | c++filt | head -n 50"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1551897617, "last_edit_date": 1551897617, "creation_date": 1551897323, "answer_id": 55030020, "question_id": 55029451, "link": "https://stackoverflow.com/questions/55029451/linux-readelf-shows-object-sizes-with-different-numeral-system-hex-and-dec/55030020#55030020", "title": "Linux readelf shows object sizes with different numeral system (Hex and Dec)", "body": "<p>Only convert sequences that start with <code>0x</code>:</p>\n\n<pre><code>perl -pe's/0x([0-9a-f]+)/hex $1/ge'\n</code></pre>\n\n<p>Only convert fields that start with <code>0x</code>:</p>\n\n<pre><code>perl -pe's/(?&lt;!\\S)0x([0-9a-f]+)/hex $1/ge'\n</code></pre>\n\n<p>Only convert the third field if it's starts with <code>0x</code>:</p>\n\n<pre><code>perl -pe's/^(?:\\S+\\s+){2}\\K0x([0-9a-f]+)/hex $1/e'\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 4763473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Slpug.png?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/4763473/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 1, "accepted_answer_id": 55030020, "answer_count": 2, "score": 3, "last_activity_date": 1551897931, "creation_date": 1551895049, "question_id": 55029451, "link": "https://stackoverflow.com/questions/55029451/linux-readelf-shows-object-sizes-with-different-numeral-system-hex-and-dec", "title": "Linux readelf shows object sizes with different numeral system (Hex and Dec)", "body": "<p>I'm investigating some objects inside ELF file and using readelf for that purpose.</p>\n\n<p>This sample of readelf shows the size (bytes) of the objects on column 3,</p>\n\n<p>On large objects, readelf prints in Hex instead of dec,</p>\n\n<p>This breaks my size sorting attempts. (sorting ignores hex value)</p>\n\n<pre><code>Num:    Value  Size Type    Bind   Vis      Ndx Name\n1369: 808ec6e8  2048 OBJECT  LOCAL  DEFAULT   26 _ZN2cvL12NNDeltaTab_iE\n1370: 8086e6e8 0x20000 OBJECT  LOCAL  DEFAULT   26 _ZN2cvL13Lanczos4Tab_iE\n</code></pre>\n\n<p>I tried translating all hex to dec like this:</p>\n\n<pre><code>readelf -sW target.elf | perl -pe 's/(0x)?[0-9a-f]{5,}/hex $&amp;/ge' | sort -k 3 -n -r \n</code></pre>\n\n<p>and got</p>\n\n<pre><code>  1369: 2156840680  2048 OBJECT  LOCAL  DEFAULT   26 _ZN2cvL12NNDeltaTab_iE\n  1370: 2156324584 131072 OBJECT  LOCAL  DEFAULT   26 _ZN2cvL13Lanczos4Tab_iE\n</code></pre>\n\n<p>The size column (3) is translated to dec, which is good, </p>\n\n<p>But also column 2 is translated to dec which is bad..</p>\n\n<p>I found this:</p>\n\n<pre><code>perl -lane '$F[1]=~tr/A/B/;print join(\"\\t\", @F)' file\n</code></pre>\n\n<p>from </p>\n\n<p><a href=\"https://stackoverflow.com/questions/34956957/find-and-replace-confined-to-a-specific-column-one-liner\">find-and-replace-confined-to-a-specific-column-one-liner</a></p>\n\n<p>But I can't seem to combine those 2 commands.</p>\n\n<p>How can I translate only column 3 to dec?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "executable"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551897872, "post_id": 55028344, "comment_id": 96812815, "body": "Best if the application was rewritten to be server, listening to a pipe/socket/whatever for requests."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1551898078, "post_id": 55028344, "comment_id": 96812892, "body": "With 60 calls a second (that many, really?) I&#39;d imagine that OS would cache that for sure.  If you think the problem is finding exe on disk, can your script copy the executable to a chosen place at start and then call it from there?"}, {"owner": {"reputation": 1, "user_id": 11160916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gtmH4wNsE6o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfluoGN4_zkIf5oz0rForErMgLKTg/mo/photo.jpg?sz=128", "display_name": "Martin Lafrance", "link": "https://stackoverflow.com/users/11160916/martin-lafrance"}, "edited": false, "score": 0, "creation_date": 1551900525, "post_id": 55028344, "comment_id": 96814030, "body": "I do not have control over the application, but I agree that for those needs this would be the best. Also, that&#39;s my fallback solution, to copy the file locally... but as I said, ideally we&#39;d stick with the desired architecture so we can move forward with other features."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1551900758, "post_id": 55028344, "comment_id": 96814160, "body": "I meant that the Perl script copies the exe file for its own use as it starts, so the exe is available to it locally, for faster loading, while it runs (and it removes that copy on end).  Not to really change the architecture.  (This may not be possible to do, of course)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1551911562, "post_id": 55028344, "comment_id": 96818912, "body": "I suspect a symbolic link will not help since it will still have to find and execute the target file. Copying it to a temporary file should be simple - see <a href=\"https://perldoc.pl/File::Temp\" rel=\"nofollow noreferrer\">File::Temp</a>. But I have to agree that anything that still requires 60Hz of fork/exec is going to be suboptimal."}], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 1974403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007f93bc74d0496fe85122f70632e71a?s=128&d=identicon&r=PG", "display_name": "sevenr", "link": "https://stackoverflow.com/users/1974403/sevenr"}, "is_accepted": false, "score": 1, "last_activity_date": 1552016195, "creation_date": 1552016195, "answer_id": 55056350, "question_id": 55028344, "link": "https://stackoverflow.com/questions/55028344/most-efficient-way-to-do-frequent-call-to-same-executable-in-script/55056350#55056350", "title": "Most efficient way to do frequent call to same executable in script", "body": "<p>While it is difficult to provide a working solution in the absence of information on your environment and processes, I can make a few general suggestions, in case that would help. </p>\n\n<p>I presume you are running under Windows. In that case, modifying your Perl code to control the target exe process through <a href=\"https://metacpan.org/pod/Win32::Process\" rel=\"nofollow noreferrer\">Win32::Process</a> might help. This module allows the creation, suspension, resumption and termination of Windows processes, given the process path.</p>\n\n<p>A quick example, from its Meta CPAN page:</p>\n\n<pre><code>use Win32::Process;\nuse Win32;\n\nsub ErrorReport{\n    print Win32::FormatMessage( Win32::GetLastError() );\n}\n\nWin32::Process::Create($ProcessObj,\n                       \"C:\\\\winnt\\\\system32\\\\notepad.exe\",\n                       \"notepad temp.txt\",\n                       0,\n                       NORMAL_PRIORITY_CLASS,\n                       \".\")|| die ErrorReport();\n\n$ProcessObj-&gt;Suspend();\n$ProcessObj-&gt;Resume();\n$ProcessObj-&gt;Wait(INFINITE);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11160916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gtmH4wNsE6o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfluoGN4_zkIf5oz0rForErMgLKTg/mo/photo.jpg?sz=128", "display_name": "Martin Lafrance", "link": "https://stackoverflow.com/users/11160916/martin-lafrance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552016195, "creation_date": 1551891282, "question_id": 55028344, "link": "https://stackoverflow.com/questions/55028344/most-efficient-way-to-do-frequent-call-to-same-executable-in-script", "title": "Most efficient way to do frequent call to same executable in script", "body": "<p>as part of a project I work on, we're reusing a Perl script that loops on certain simple tasks. The problem arises from the fact that :</p>\n\n<ul>\n<li>The script calls a simple executable (basically reads in the registry) but at ~60Hz</li>\n<li>The executable is on a shared drive</li>\n<li>The directory that it's located in is large (~1000 elements)</li>\n</ul>\n\n<p>So basically, even if I call the executable with its full path, it still parses the whole directory to find it each time it's called, which floods the network.</p>\n\n<p>What's the best way to resolve that? Preferences would be not to change the system architecture (keep exe on shared drive), and not bypass it with say reg.exe to maintain compatibility when our exe changes. I'd also prefer not to rewrite the Perl script in something else, but am open to.</p>\n\n<p>Is there a way to load the exe into process memory for repeated execution? Or keep a handle on it? Is there something to do using symbolic links?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1551887453, "post_id": 55027069, "comment_id": 96806885, "body": "Is this parsed XML? It looks like the kind of junk data structure you get from <code>XML::Simple</code>. If so, I&#39;d suggest the answer is &#39;go upstream&#39; and use something else to parse your XML. If that&#39;s not the case, i&#39;d suggest maybe actually try and do it, and see where you get stuck."}, {"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1551887703, "post_id": 55027069, "comment_id": 96807049, "body": "as @Sobrique says, if its so you&#39;ll need to use other module, cause XML::Simple is really discouraged to use by its own respective owners, if its generated by others things, please describe how you get your hash"}, {"owner": {"reputation": 29, "user_id": 771144, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/de7c0e699dd3e84a85acb0d07e6b377a?s=128&d=identicon&r=PG", "display_name": "gu2004", "link": "https://stackoverflow.com/users/771144/gu2004"}, "edited": false, "score": 0, "creation_date": 1551888862, "post_id": 55027069, "comment_id": 96807778, "body": "Thanks. Yes its a parsed XML by XML::Twig. (Actually XML::Simple produces the right data for me). I got the hash using the below code. my $twig = XML::Twig-&gt;new(); $twig-&gt;parsefile(&quot;xyz.xml&quot;); my  $data = $twig-&gt;simplify(forcearray =&gt; [&quot;items&quot;], keyattr =&gt; [ &quot;id&quot;]);"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1551889077, "post_id": 55027069, "comment_id": 96807910, "body": "You&#39;re spitting out the structure using <code>simplify</code> then? You can use the same parameters as <code>XML::Simple</code>. But honestly - you shouldn&#39;t. Just iterate the elements in in the twig data structure, and do your transformation there. I can&#39;t give you an example of what this would look like, without your source and target XML though. But it&#39;s almost certainly easier than you think."}, {"owner": {"reputation": 29, "user_id": 771144, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/de7c0e699dd3e84a85acb0d07e6b377a?s=128&d=identicon&r=PG", "display_name": "gu2004", "link": "https://stackoverflow.com/users/771144/gu2004"}, "edited": false, "score": 0, "creation_date": 1551889478, "post_id": 55027069, "comment_id": 96808141, "body": "Yah. I used the same parameters as XML::Simple. But its not working. That is the reason I want to iterate over the array reference and covert to the format I need. But I am new to perl. Not been able to get it working. I wrote a skeleton code at the end. Would appreciate if anyone can help me out. Sorry If its very simple."}, {"owner": {"reputation": 29, "user_id": 771144, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/de7c0e699dd3e84a85acb0d07e6b377a?s=128&d=identicon&r=PG", "display_name": "gu2004", "link": "https://stackoverflow.com/users/771144/gu2004"}, "edited": false, "score": 0, "creation_date": 1551889967, "post_id": 55027069, "comment_id": 96808468, "body": "Hi Sobrique. Please disregard my previous comment. Your answer works. Thanks"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1551950793, "post_id": 55027069, "comment_id": 96831460, "body": "OK. I&#39;ll point out that by exporting your XML and mangling a data structure, you&#39;re almost certainly doing something in in a brittle and suboptimal way. You can usually &#39;just&#39; walk the XML, using <code>xpath</code> to select things you want in the way you want them instead."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1551887898, "creation_date": 1551887898, "answer_id": 55027286, "question_id": 55027069, "link": "https://stackoverflow.com/questions/55027069/iterate-an-array-reference-and-convert-to-hash-in-perl/55027286#55027286", "title": "Iterate an array reference and convert to hash in perl", "body": "<p>This looks like an XY problem to me - I'm guessing you're trying to transform some XML, so I'd suggest you want to look upstream to solve this problem.</p>\n\n<p>But on the offchance you're not, then:</p>\n\n<pre><code>$data -&gt; {items} = { map { $_ -&gt; {id} =&gt; $_ } @{$data-&gt;{items} } };\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 771144, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/de7c0e699dd3e84a85acb0d07e6b377a?s=128&d=identicon&r=PG", "display_name": "gu2004", "link": "https://stackoverflow.com/users/771144/gu2004"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 55027286, "answer_count": 1, "score": -1, "last_activity_date": 1551888512, "creation_date": 1551887328, "last_edit_date": 1551888512, "question_id": 55027069, "link": "https://stackoverflow.com/questions/55027069/iterate-an-array-reference-and-convert-to-hash-in-perl", "title": "Iterate an array reference and convert to hash in perl", "body": "<p>I have an hash (Printed by Dumper) which is described below</p>\n\n<pre><code>$VAR1 = {\n          'items' =&gt; [\n                    {\n                      'name' =&gt; 'test1',\n                      'id' =&gt; '1',\n                      'desc' =&gt; 'desc1',\n                    },\n                    {\n                      'name' =&gt; 'test2',\n                      'id' =&gt; '2',\n                      'desc' =&gt; 'desc2',\n                    }\n                  ],\n           };\n</code></pre>\n\n<p>I need to convert \"items\" which is array reference to a hash like below. ('items' will be a hash of hash with the value of 'id' being the key)</p>\n\n<pre><code>$VAR1 = {\n          'items' =&gt; {\n                     '1' =&gt;{\n                         'name' =&gt; 'test1',\n                         'id' =&gt; '1',\n                         'desc' =&gt; 'desc1',\n                      },\n                     '2' =&gt; {\n                         'name' =&gt; 'test2',\n                         'id' =&gt; '2',\n                         'desc' =&gt; 'desc2',\n                    }\n                  }\n           };\n</code></pre>\n\n<p>Lets start with the below code. (Assume $data represents the original data and $newitems represents the modified items)</p>\n\n<pre><code>my $data;\nmy $items = $data-&gt;{items};\nmy %newitems;\nforeach my $element (@$items) {\n......\n}\n</code></pre>\n"}, {"tags": ["perl", "docker"], "comments": [{"owner": {"reputation": 64541, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 2, "creation_date": 1551885374, "post_id": 55024865, "comment_id": 96805585, "body": "The <code>Running in a4efbc14a7b5</code> message includes a container ID if you <i>really</i> want to <code>docker exec</code> into it, but I\u2019d just wait."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 64541, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 0, "creation_date": 1551980615, "post_id": 55024865, "comment_id": 96849754, "body": "@DavidMaze: Thank you. <code>docker exec</code> does not work. But you give me the idea. I found that I should use <code>docker run</code>"}, {"owner": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "edited": false, "score": 0, "creation_date": 1551982493, "post_id": 55024865, "comment_id": 96850607, "body": "@EugenKonkov why not using <code>-v</code> with <code>perlbrew</code> ?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "edited": false, "score": 0, "creation_date": 1552036871, "post_id": 55024865, "comment_id": 96868471, "body": "@MostafaHussein: Thanks. This resolve my question. Add answer I will accept it."}, {"owner": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "edited": false, "score": 1, "creation_date": 1552037957, "post_id": 55024865, "comment_id": 96869033, "body": "@EugenKonkov Done, don&#39;t forget to up-vote it too :D"}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1552046540, "post_id": 55060329, "comment_id": 96873617, "body": "You too, do not forget ;-)"}], "tags": [], "owner": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "is_accepted": true, "score": 3, "last_activity_date": 1552050612, "last_edit_date": 1552050612, "creation_date": 1552037607, "answer_id": 55060329, "question_id": 55024865, "link": "https://stackoverflow.com/questions/55024865/how-to-view-files-in-container-while-building/55060329#55060329", "title": "How to view files in container while building?", "body": "<p>Instead of trying to access that intermediate container even if it was possible to do, It may not be helpful in other cases like when you have a CI and the build was failed then you need to check the reason. So I suggest switching to verbose mode in <code>perlbrew</code> using <code>-v</code> option which makes the output go to STDOUT instead of file.</p>\n\n<pre><code>-v| --verbose\nLog output to STDOUT rather than a log file.\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 55060329, "answer_count": 1, "score": 1, "last_activity_date": 1552050612, "creation_date": 1551880735, "question_id": 55024865, "link": "https://stackoverflow.com/questions/55024865/how-to-view-files-in-container-while-building", "title": "How to view files in container while building?", "body": "<p>When I am building container I get next message:</p>\n\n<pre><code>Step 13/29 : RUN source $PERLBREW_ROOT/etc/bashrc &amp;&amp; perlbrew install -j 8 --notest --switch $PERL_VERSION\n ---&gt; Running in a4efbc14a7b5\n\nFetching perl 5.24.1 as /opt/perlbrew/dists/perl-5.24.1.tar.bz2\nDownload http://www.cpan.org/authors/id/S/SH/SHAY/perl-5.24.1.tar.bz2 to /opt/perlbrew/dists/perl-5.24.1.tar.bz2\nInstalling /opt/perlbrew/build/perl-5.24.1/perl-5.24.1 into /opt/perlbrew/perls/perl-5.24.1\n\nThis could take a while. You can run the following command on another shell to track the status:\n\n  tail -f /opt/perlbrew/build.perl-5.24.1.log\n</code></pre>\n\n<p>But how to do <code>tail -f /opt/perlbrew/build.perl-5.24.1.log</code> if there is no container yet?</p>\n"}, {"tags": ["python", "bash", "perl", "ubuntu", "renaming"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1551878965, "post_id": 55024139, "comment_id": 96801532, "body": "Almost any scripting language would be sufficient. Why not give it a try and see how you get along?"}, {"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 0, "creation_date": 1551880407, "post_id": 55024139, "comment_id": 96802398, "body": "the script should handle sorting logic as well or you can make it sort in certain order?  Because we don&#39;t know what is exactly the filename pattern. You mentioned <code>image01</code> and <code>image1</code> in your question"}, {"owner": {"reputation": 13, "user_id": 9587550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtARG.png?s=128&g=1", "display_name": "gantry", "link": "https://stackoverflow.com/users/9587550/gantry"}, "reply_to_user": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 0, "creation_date": 1551880878, "post_id": 55024139, "comment_id": 96802707, "body": "@Kent The files are already sorted, and there are no leading zeros. Thanks for pointing that out - I just edited the question."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9587550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtARG.png?s=128&g=1", "display_name": "gantry", "link": "https://stackoverflow.com/users/9587550/gantry"}, "edited": false, "score": 0, "creation_date": 1551886594, "post_id": 55024407, "comment_id": 96806351, "body": "I ended up going with this solution. I had to add human/natural sorting to fix order issues such as <code>image1.png</code> being followed by <code>image10.png</code>. This question was helpful for that: <a href=\"https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside\" title=\"how to correctly sort a string with a number inside\">stackoverflow.com/questions/5967500/&hellip;</a>"}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 1, "last_activity_date": 1551879845, "last_edit_date": 1551879845, "creation_date": 1551879350, "answer_id": 55024407, "question_id": 55024139, "link": "https://stackoverflow.com/questions/55024139/renaming-files-in-a-numerical-sequence-letters/55024407#55024407", "title": "Renaming files in a numerical sequence + letters", "body": "<p>Given a file list <code>files</code> in Python, you can use <code>itertools.product</code> to generate your desired pairings of numbers and letters:</p>\n\n<pre><code>from itertools import product\nimport os\n\nos.chdir(directory_containing_images)\n# instead of hard-coding files you will actually want:\n# files = os.listdir('.')\nfiles = ['image1.png', 'image2.png', 'image3.png', 'image4.png', 'image5.png', 'image6.png']\nfor file, (n, a) in zip(files, product(range(1, len(files) // 3 + 2), 'abc')):\n    os.rename(file, '{}-{}.png'.format(n, a))\n</code></pre>\n\n<p>If you replace <code>os.rename</code> with <code>print</code>, the above code will output:</p>\n\n<pre><code>image1.png 1-a.png\nimage2.png 1-b.png\nimage3.png 1-c.png\nimage4.png 2-a.png\nimage5.png 2-b.png\nimage6.png 2-c.png\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1551880486, "creation_date": 1551880486, "answer_id": 55024782, "question_id": 55024139, "link": "https://stackoverflow.com/questions/55024139/renaming-files-in-a-numerical-sequence-letters/55024782#55024782", "title": "Renaming files in a numerical sequence + letters", "body": "<p>In <code>perl</code> you could do:</p>\n\n<pre><code>my @new_names = map {\n    my ( $n ) = $_ =~ /image(\\d+)\\.png/;\n    my $j = (($n - 1)  % 3) + 1;\n    my $char = (qw(a b c))[ int( $n / 3 ) ];\n    \"$j-$char.png\"\n} @files;\n</code></pre>\n\n<p>This assumes no special ordering of the <code>@files</code> array.</p>\n"}, {"tags": [], "owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "is_accepted": false, "score": 0, "last_activity_date": 1551884997, "creation_date": 1551884997, "answer_id": 55026297, "question_id": 55024139, "link": "https://stackoverflow.com/questions/55024139/renaming-files-in-a-numerical-sequence-letters/55026297#55026297", "title": "Renaming files in a numerical sequence + letters", "body": "<p>Fun project. :)</p>\n\n<pre><code>declare -i ctr=1 fileset=1              # tracking numbers\ndeclare -a tag=( c a b )                # lookup table\nfor f in $( printf \"%s\\n\" *.png |       # stack as lines\n            sort -k1.6n )               # order appropriately\ndo ref=$(( ctr++ % 3 ))                 # index the lookup\n   end=${f##*.}                         # keep the file ending\n   mv \"$f\" \"$fileset-${tag[ref]}.$end\"  # mv old file to new name\n   (( ref )) || (( fileset++ ))         # increment the *set*\ndone\n\nmv image1.png 1-a.png\nmv image2.png 1-b.png\nmv image3.png 1-c.png\nmv image4.png 2-a.png\nmv image5.png 2-b.png\nmv image6.png 2-c.png\nmv image7.png 3-a.png\nmv image8.png 3-b.png\nmv image9.png 3-c.png\nmv image10.png 4-a.png\nmv image11.png 4-b.png\nmv image12.png 4-c.png\n</code></pre>\n\n<p>Obviously, edit as needed for pathing &amp;c.</p>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 10922437, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qfaghLwAztc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZHWgaIWNTpMTPyoVAaC9uURREwEA/mo/photo.jpg?sz=128", "display_name": "priyank modi", "link": "https://stackoverflow.com/users/10922437/priyank-modi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551940355, "creation_date": 1551940355, "answer_id": 55037431, "question_id": 55024139, "link": "https://stackoverflow.com/questions/55024139/renaming-files-in-a-numerical-sequence-letters/55037431#55037431", "title": "Renaming files in a numerical sequence + letters", "body": "<p>I tried this in python3 and its working as per your need. </p>\n\n<pre><code>import os\nimport string\nos.chdir(path_to_your_folder)\nno=1\ncount=1\nalphabet = ['a','b','c']\ncount=0\nfor filename in os.listdir(os.getcwd()):\n    newfilename = (str(no) + \"-\" + alphabet[count]+\".png\")\n    os.rename(filename,newfilename)\n    count=(count+1)%3\n    if count==0:\n        no=no+1\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9587550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtARG.png?s=128&g=1", "display_name": "gantry", "link": "https://stackoverflow.com/users/9587550/gantry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 55024407, "answer_count": 4, "score": 0, "last_activity_date": 1551940355, "creation_date": 1551878523, "last_edit_date": 1551880654, "question_id": 55024139, "link": "https://stackoverflow.com/questions/55024139/renaming-files-in-a-numerical-sequence-letters", "title": "Renaming files in a numerical sequence + letters", "body": "<p>I have a folder containing <code>.png</code> images that are named <code>image1.png, image2.png, image3.png</code> etc. </p>\n\n<p>The way this folder is organized, 3 consecutive images represent data from the same subject, so I'd like them to be named with the same identifying number + a letter to differentiate them. Like this:</p>\n\n<pre><code>image1.png --&gt; 1-a.png\nimage2.png --&gt; 1-b.png\nimage3.png --&gt; 1-c.png\nimage4.png --&gt; 2-a.png\nimage5.png --&gt; 2-b.png\nimage6.png --&gt; 2-c.png\n</code></pre>\n\n<p>and so on.</p>\n\n<p>What would be the best way to do this? a <code>Perl</code> script? or generating a <code>.txt</code> in <code>python</code> with the desired names and then using it to rename the files? I'm using <code>Ubuntu</code>.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 899, "user_id": 3666560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4vat.jpg?s=128&g=1", "display_name": "Luv2code", "link": "https://stackoverflow.com/users/3666560/luv2code"}, "edited": false, "score": 0, "creation_date": 1554610022, "post_id": 55021528, "comment_id": 97812114, "body": "<code>sed -r &#39;s&#47;.*(COL 1:[^,]+,).*( NAME=[^,]+).*&#47;\\1\\2&#47;&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 1, "creation_date": 1551871210, "post_id": 55021618, "comment_id": 96797005, "body": "works perfect, can you please explain it to me, will appreciate if you do"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551871582, "post_id": 55021618, "comment_id": 96797213, "body": "@Sach, kindly go through my explanation and let me know in case of any queries."}, {"owner": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "reply_to_user": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 1, "creation_date": 1551875646, "post_id": 55021618, "comment_id": 96799624, "body": "@Sach  fyi, this <code>awk</code> solution is using <code>gawk</code>, which stands for <code>GNU awk</code>. <code>awk</code> and <code>gawk</code> can point to same executable, and in your case, I think you are already using GNU awk since you said it&#39;s working. Better to check your version (<code>awk --version</code>) and to know the difference, and if you plan to migrate the code to other platform, bear in mind that it does not guarantee that it will work."}, {"owner": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 2, "creation_date": 1551875777, "post_id": 55021618, "comment_id": 96799704, "body": "awk --version GNU Awk 3.1.7"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551875888, "post_id": 55021618, "comment_id": 96799767, "body": "@Sach, BINGO this was tested in same version, should work."}, {"owner": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551875893, "post_id": 55021618, "comment_id": 96799768, "body": "@RavinderSingh13 , can you please provide a good reference on match function . I dont understand what is RSTART &amp; RLENGTH and their uses."}, {"owner": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551875931, "post_id": 55021618, "comment_id": 96799788, "body": "@RavinderSingh13  Can you please explain [^,]* . how exactly does it limit only to the first entry before &#39;,&#39;"}, {"owner": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "reply_to_user": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551875934, "post_id": 55021618, "comment_id": 96799790, "body": "@Sach  Then it is <code>gawk</code> ;)   You can check <a href=\"https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 1, "creation_date": 1551875971, "post_id": 55021618, "comment_id": 96799812, "body": "@Sach, IMHO <code>man awk</code> is BEST reference, after that you could go through SO posts too there is lot to learn from this GREAT forums. It is simple, if a match is found then <code>RSTART</code> tells its starting indexing point and RLENGTH means that full length of matched index. Also <code>[^,]*</code> means match till first comma occures in current line."}, {"owner": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "reply_to_user": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "edited": false, "score": 0, "creation_date": 1551876116, "post_id": 55021618, "comment_id": 96799883, "body": "@Tiw . oh does that it mean it may not consistently work in the awk provided in the mobaxterm by default ( i want it work there as well)"}, {"owner": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 1, "creation_date": 1551876127, "post_id": 55021618, "comment_id": 96799887, "body": "on moba this is the version :awk --version awk: unknown option -- version BusyBox v1.22.1 (2015-11-10 11:07:12    ) multi-call binary."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551876224, "post_id": 55021618, "comment_id": 96799940, "body": "@Sach, not sure if I get it correctly, <code>mobaxterm</code> is kind of a jump box to login to server right? so either you access it from <code>mobaxterm</code> or from <code>putty</code> logging to same box version should be same, apologies if I missed something here."}, {"owner": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551876308, "post_id": 55021618, "comment_id": 96799992, "body": "mobaxterm is a software like putty"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551876361, "post_id": 55021618, "comment_id": 96800019, "body": "@Sach, then if you login to it by putty or moba server&#39;s version(which you pinged previously) should be same only, GNU 3.1.7 etc"}, {"owner": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "reply_to_user": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551876413, "post_id": 55021618, "comment_id": 96800042, "body": "@Sach  Try <code>man awk</code>, see if there&#39;s any information about it. Yeah I already said it&#39;s not guaranteed. I&#39;m not familiar with mobaxterm so I don&#39;t know whether this <code>awk</code> solution will work in it or not."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "edited": false, "score": 0, "creation_date": 1551876517, "post_id": 55021618, "comment_id": 96800101, "body": "@Tiw, IMHO, as mentioned it eariler comments to OP, Moba is also a jump box software to login to server, so it doesn&#39;t matter from which software we login to server version should be same which OP has pinged already."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": true, "score": 1, "last_activity_date": 1551877668, "last_edit_date": 1551877668, "creation_date": 1551870403, "answer_id": 55021618, "question_id": 55021528, "link": "https://stackoverflow.com/questions/55021528/what-grep-awk-sed-command-to-use-to-the-output-that-i-want/55021618#55021618", "title": "What grep/awk/sed command to use to the output that i want", "body": "<p>Could you please try following(tested and written in GNU <code>awk</code>).</p>\n\n<pre><code>awk '\nBEGIN{\n  OFS=\" , \"\n}\nmatch($0,/COL[0-9]+: [^,]*/){\n  val=substr($0,RSTART,RLENGTH)\n  match($0,/NAME[^,]*/)\n  print val OFS substr($0,RSTART,RLENGTH)\n  val=\"\"\n}\n'   Input_file\n</code></pre>\n\n<p>I have clubbed the match(es) of string <code>COL</code> and <code>NAME</code> in each line so in case any line do not have string <code>COL</code> in it, it may not print anything in it.</p>\n\n<hr>\n\n<hr>\n\n<p>In case string <code>COL</code> is not found in a line and you still want to print <code>NAME</code> string match then try following.</p>\n\n<pre><code>awk '\nBEGIN{\n  OFS=\" , \"\n}\nmatch($0,/COL[0-9]+: [^,]*/){\n  val=substr($0,RSTART,RLENGTH)\n}\nmatch($0,/NAME[^,]*/){\n  if(val){\n    printf \"%s%s\",val,OFS\n  }\n  print substr($0,RSTART,RLENGTH)\n}\n'    Input_file\n</code></pre>\n\n<hr>\n\n<hr>\n\n<p><strong><em>Explanation:</em></strong> Adding explanation for above code now.</p>\n\n<pre><code>awk '                                          ##Starting awk program heer.\nBEGIN{                                         ##Starting BEGIN section for awk code here.\n  OFS=\" , \"                                    ##Setting OFS output field separator as space comma space here.\n}                                              ##Closing BEGIN section here.\nmatch($0,/COL[0-9]+: [^,]*/){                  ##Using match of awk OOTB function to match a REGEX string COL till comma here.\n  val=substr($0,RSTART,RLENGTH)                ##If a match is foundthen creating variable val whose value is sub string of matched regex starting to till end value of it.\n  match($0,/NAME[^,]*/)                        ##Again using match to match string from NAME to till next comma comes.\n  print val OFS substr($0,RSTART,RLENGTH)      ##Printing value of variable val OFS and substring of current line whose sarting point is RSTART and end point is RLENGTH.\n  val=\"\"                                       ##Nullifying variable val here.\n}\n'  Input_file                                  ##Mentioning Input_file name here.\n</code></pre>\n\n<p><strong><em>Adding reference from <code>man awk</code> page:</em></strong></p>\n\n<pre><code>   RSTART      The index of the first character matched by match(); 0 if no match.  (This implies that character indices start at one.)\n\n   RLENGTH     The length of the string matched by match(); -1 if no match.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 11105949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HOgLxGmVFl4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMfdj9QM7K65sRDqhUIWVuwTvShMA/mo/photo.jpg?sz=128", "display_name": "Lo&#239;s Rancilhac", "link": "https://stackoverflow.com/users/11105949/lo%c3%afs-rancilhac"}, "is_accepted": false, "score": 0, "last_activity_date": 1551872592, "creation_date": 1551872592, "answer_id": 55022322, "question_id": 55021528, "link": "https://stackoverflow.com/questions/55021528/what-grep-awk-sed-command-to-use-to-the-output-that-i-want/55022322#55022322", "title": "What grep/awk/sed command to use to the output that i want", "body": "<p>With grep you can maybe try something like that :</p>\n\n<pre><code>while read line; do COL=$(echo $line | grep -o \"COL1:.*,\"); NAME=$(echo $line | grep -o \"NAME=[a-zA-Z]*\"); echo $COL $NAME &gt;&gt; new_file.txt; done &lt; your_file.txt \n</code></pre>\n\n<p>The regexp in this example assume that the value after COL1 are always followed by a \",\" (then it take every characters between the : and ,) so you might have to adapt it to fit your file (same for the regexp used for NAME). </p>\n"}, {"tags": [], "owner": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "is_accepted": false, "score": 0, "last_activity_date": 1551879581, "last_edit_date": 1551879581, "creation_date": 1551875151, "answer_id": 55023095, "question_id": 55021528, "link": "https://stackoverflow.com/questions/55021528/what-grep-awk-sed-command-to-use-to-the-output-that-i-want/55023095#55023095", "title": "What grep/awk/sed command to use to the output that i want", "body": "<p>Try this:</p>\n\n<pre><code>$ sed 'H;s/.*NAME=/NAME=/;s/ *,.*//;x;s/^.*COL1/COL1/;s/ *,.*//;G;s/\\n/\\t, /;' file\nCOL1: VALUE1    , NAME=AUDIT\nCOL1: VALUE2    , NAME=generic\nCOL1: 289       , NAME=Oil\n</code></pre>\n\n<p>Used hold space, and used <code>\\t</code> for alignment.</p>\n"}, {"comments": [{"owner": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "edited": false, "score": 0, "creation_date": 1551875974, "post_id": 55023265, "comment_id": 96799813, "body": "Ahh... <code>perl</code>, always a good choice, and so powerful as well as elegant PRE is :)"}, {"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "reply_to_user": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "edited": false, "score": 1, "creation_date": 1551876171, "post_id": 55023265, "comment_id": 96799910, "body": "@Tiw.. thank you for the appreciation..yep, Perl is the right tool for regex problems like this.."}, {"owner": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "edited": false, "score": 0, "creation_date": 1551876223, "post_id": 55023265, "comment_id": 96799938, "body": "@stack0114106 can you please explain it a bit to me.  this is very nice"}], "tags": [], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "is_accepted": false, "score": 4, "last_activity_date": 1551876661, "last_edit_date": 1551876661, "creation_date": 1551875731, "answer_id": 55023265, "question_id": 55021528, "link": "https://stackoverflow.com/questions/55021528/what-grep-awk-sed-command-to-use-to-the-output-that-i-want/55023265#55023265", "title": "What grep/awk/sed command to use to the output that i want", "body": "<p>You can try Perl one-liner</p>\n\n<pre><code> perl -lne ' /(COL1:\\s*\\S+).+(NAME=\\w+)/ and print \"$1,\\t$2\" ' input_file\n</code></pre>\n\n<p>with your inputs:</p>\n\n<pre><code>$ cat sach.txt\nCOL1: VALUE1 , XYZ: 2, OWNER: (DSF) , FLG: DIT /-/-/ OX if 0X, proc=0xyyy23, NAME=AUDIT\nCOL1: VALUE2 , XYZ: 2, OWNER: (DSF) , FLG: DIT /-/-/ OX if 0X, proc=0xyy23, NAME=generic\nXYZ:2, COL1: 289 , TREK:MRP, OWNER: (DSF) , FLG: DIT /-/-/ OX if 0X,  NAME=Oil, trial=TREE\n$ perl -lne ' /(COL1:\\s*\\S+).+(NAME=\\w+)/ and print \"$1,\\t$2\" ' sach.txt\nCOL1: VALUE1,   NAME=AUDIT\nCOL1: VALUE2,   NAME=generic\nCOL1: 289,      NAME=Oil\n$\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<pre><code>perl -lne  # use -n for suppressing print default at the end of each line\n\n' /(COL1:\\s*\\S+).+(NAME=\\w+)/  # Match pattern and capture them in capture groups first () will be $1 and second () will be in $2\n                               # First ()  matches COL1:\\s*\\S+ =&gt; COL1: followed by zero or more spaces using \\s* and \\S+ for non-space characters\n                               # .+ =&gt; match all strings between first () and second ()\n                               # Seecond ()  matches NAME followed by a word \\w+\n\n\nand                            # bind on the success of previous condition /..../\nprint \"$1,\\t$2\"                # print the $1 and $2 captured variables \n\n' input_file\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1554608773, "creation_date": 1554608773, "answer_id": 55555435, "question_id": 55021528, "link": "https://stackoverflow.com/questions/55021528/what-grep-awk-sed-command-to-use-to-the-output-that-i-want/55555435#55555435", "title": "What grep/awk/sed command to use to the output that i want", "body": "<p>by gnu sed</p>\n\n<pre><code>$ sed -E 's/^([^,]+,\\s*)?(col1:[^,]+).+(,\\s*name=\\w+).*/\\2\\3/i' file.txt\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 7699279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/589f108cc6cc194c06d2e85473b7781b?s=128&d=identicon&r=PG&f=1", "display_name": "Sach", "link": "https://stackoverflow.com/users/7699279/sach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 55021618, "answer_count": 5, "score": 0, "last_activity_date": 1554608773, "creation_date": 1551870178, "last_edit_date": 1551879257, "question_id": 55021528, "link": "https://stackoverflow.com/questions/55021528/what-grep-awk-sed-command-to-use-to-the-output-that-i-want", "title": "What grep/awk/sed command to use to the output that i want", "body": "<p>I have a input file like this:</p>\n\n<pre><code>COL1: VALUE1 , XYZ: 2, OWNER: (DSF) , FLG: DIT /-/-/ OX if 0X, proc=0xyyy23, NAME=AUDIT\nCOL1: VALUE2 , XYZ: 2, OWNER: (DSF) , FLG: DIT /-/-/ OX if 0X, proc=0xyy23, NAME=generic\nXYZ:2, COL1: 289 , TREK:MRP, OWNER: (DSF) , FLG: DIT /-/-/ OX if 0X,  NAME=Oil, trial=TREE\n</code></pre>\n\n<p>I want to get the output like this:</p>\n\n<pre><code>  COL1: VALUE1 , NAME=AUDIT\n  COL1: VALUE2 , NAME=generic\n  COL1: 289    , NAME=Oil\n</code></pre>\n\n<p>How can I achieve this using <code>awk/grep/sed</code> on command line without using any advanced versions of <code>awk</code> like <code>gawk</code>, <code>nawk</code> etc? </p>\n\n<p>Basically I want to get the value of <code>COL1</code> (i.e. text after <code>:</code> and <code>=</code>) &amp; <code>NAME</code> irrespective of where they are in the line.<br>\nSee that location of NAME column got slightly altered.</p>\n\n<p>This is what I could come up with:</p>\n\n<pre><code>awk -F\",\" '{print $1, $6}' file.txt\nCOL1: VALUE1   NAME=AUDIT\nCOL1: VALUE2   NAME=generic\nXYZ:2   NAME=Oil\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 5, "creation_date": 1551865023, "post_id": 55019730, "comment_id": 96793153, "body": "This may sound a bit harsh, but you really should read a Perl tutorial/book/whatever instead of guessing the syntax. What you are doing is not a Perl for loop (Perl != Shell)."}, {"owner": {"reputation": 183, "user_id": 1190069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f6fbc374057ef3b4dc6f80f02442680?s=128&d=identicon&r=PG", "display_name": "mimi.vx", "link": "https://stackoverflow.com/users/1190069/mimi-vx"}, "edited": false, "score": 1, "creation_date": 1551865826, "post_id": 55019730, "comment_id": 96793608, "body": "try look at <a href=\"http://modernperlbooks.com/books/modern_perl_2016/index.html\" rel=\"nofollow noreferrer\">http://modernperlbooks.com/books/modern_perl_2016/index.html</a>"}, {"owner": {"reputation": 39, "user_id": 9462322, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthonyj", "link": "https://stackoverflow.com/users/9462322/anthonyj"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1551866245, "post_id": 55019730, "comment_id": 96793888, "body": "Okay I admit that I was confused and wrote wrong code but could you please tell me why touch isnt working on terminal. @Dada"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551868603, "post_id": 55019730, "comment_id": 96795440, "body": "@Anthonyj: Your <code>touch</code> command works as expected for me (i.e. I get ten files created). I&#39;m using <code>bash</code> 4.4.23. It&#39;s impossible to help you more without a lot more information (and you should really ask this as a new question with a <code>bash</code> tag)."}, {"owner": {"reputation": 39, "user_id": 9462322, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthonyj", "link": "https://stackoverflow.com/users/9462322/anthonyj"}, "edited": false, "score": 0, "creation_date": 1551880641, "post_id": 55019730, "comment_id": 96802559, "body": "@ Dave Cross Thanks . I will check my bash version."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 9462322, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthonyj", "link": "https://stackoverflow.com/users/9462322/anthonyj"}, "edited": false, "score": 0, "creation_date": 1551865998, "post_id": 55019910, "comment_id": 96793716, "body": "Ya may be Im confused . Actually I tried for i in {1..10} ;do touch file${i} ;doneon terminal when it was not working I just copied to file . Thanks ."}, {"owner": {"reputation": 39, "user_id": 9462322, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthonyj", "link": "https://stackoverflow.com/users/9462322/anthonyj"}, "edited": false, "score": 0, "creation_date": 1551866430, "post_id": 55019910, "comment_id": 96794002, "body": "Could you please tell why touch isnt working on terminal"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 39, "user_id": 9462322, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthonyj", "link": "https://stackoverflow.com/users/9462322/anthonyj"}, "edited": false, "score": 1, "creation_date": 1551868287, "post_id": 55019910, "comment_id": 96795238, "body": "@Anthonyj: Something that you run on the terminal is shell scripting. That is not Perl programming. If you don&#39;t understand the difference, then I&#39;m afraid you&#39;re <b>really</b> confused :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1551865407, "creation_date": 1551865407, "answer_id": 55019910, "question_id": 55019730, "link": "https://stackoverflow.com/questions/55019730/why-touch-command-is-not-working-in-perl/55019910#55019910", "title": "why touch command is not working in perl?", "body": "<p>Not sure how you're teaching yourself Perl, but your syntax for the loop is wrong. It looks like you're confusing shell scripting with Perl programming.</p>\n\n<pre><code>#!/usr/local/bin/perl\n\n# Always add these\nuse strict;\nuse warnings;\n\n# Round parens for the \"for\" list.\n# Curly braces to delimit the code block.\nfor my $i (1..10) {\n    system(\"touch file${i}\");\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 9462322, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthonyj", "link": "https://stackoverflow.com/users/9462322/anthonyj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 55019910, "answer_count": 1, "score": 0, "last_activity_date": 1551865898, "creation_date": 1551864800, "last_edit_date": 1551865898, "question_id": 55019730, "link": "https://stackoverflow.com/questions/55019730/why-touch-command-is-not-working-in-perl", "title": "why touch command is not working in perl?", "body": "<p>Could anyone please point out my error </p>\n\n<pre><code>#!/usr/local/bin/perl\nmy $i;\nfor $i in {1..10} \ndo \n    system(\"touch file${i}\");\ndone\n</code></pre>\n\n<p>I have saved above in file.pl and did <code>perl file.pl</code> and error popping up is       </p>\n\n<pre><code>Bareword found where operator expected at tr.pl line 4, near \"$i in\"\n        (Missing operator before in?)\nsyntax error at tr.pl line 4, near \"$i in \"\n</code></pre>\n\n<p>Even on terminal <code>touch file{1..10}</code> doesn't create file1, file2, ...file10 instead it creates file{1..10}. </p>\n\n<p>Thanks in advance .</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1551838449, "post_id": 55014421, "comment_id": 96783386, "body": "Did you create an alias for <code>perl</code>? Try <code>type perl</code>."}, {"owner": {"reputation": 1652, "user_id": 1798957, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5751e1f44129e4d317dff325cb6fe06c?s=128&d=identicon&r=PG", "display_name": "litaoshen", "link": "https://stackoverflow.com/users/1798957/litaoshen"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1551838881, "post_id": 55014421, "comment_id": 96783489, "body": "It says <code>perl is hashed (&#47;usr&#47;bin&#47;perl)</code>"}, {"owner": {"reputation": 1652, "user_id": 1798957, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5751e1f44129e4d317dff325cb6fe06c?s=128&d=identicon&r=PG", "display_name": "litaoshen", "link": "https://stackoverflow.com/users/1798957/litaoshen"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1551839296, "post_id": 55014421, "comment_id": 96783590, "body": "Aha, got it. So I should use this version instead of the local version."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1551840647, "last_edit_date": 1551840647, "creation_date": 1551839440, "answer_id": 55014633, "question_id": 55014421, "link": "https://stackoverflow.com/questions/55014421/how-to-resolve-two-perl-version-in-macos/55014633#55014633", "title": "How to resolve two perl version in MacOS?", "body": "<p>Then see <a href=\"https://askubuntu.com/questions/446580/why-does-type-which-say-that-which-is-hashed\">this question</a> and <a href=\"https://unix.stackexchange.com/questions/105876/what-does-rm-is-hashed-mean\">this question</a> for an explanation of hashed commands. Perhaps you edited your <code>PATH</code> after your shell had already made a hash entry for the <code>perl</code> command.</p>\n\n<p>You can delete the hash entry with</p>\n\n<pre><code>hash -d perl\n</code></pre>\n\n<p>And then <code>perl</code> should resolve to the same location returned by <code>which perl</code>.</p>\n\n<p>To remove all hashed commands, say, after you update the <code>PATH</code> variable, the command is</p>\n\n<pre><code>hash -r\n</code></pre>\n"}], "owner": {"reputation": 1652, "user_id": 1798957, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5751e1f44129e4d317dff325cb6fe06c?s=128&d=identicon&r=PG", "display_name": "litaoshen", "link": "https://stackoverflow.com/users/1798957/litaoshen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "accepted_answer_id": 55014633, "answer_count": 1, "score": 1, "last_activity_date": 1551840647, "creation_date": 1551837862, "question_id": 55014421, "link": "https://stackoverflow.com/questions/55014421/how-to-resolve-two-perl-version-in-macos", "title": "How to resolve two perl version in MacOS?", "body": "<p>I installed perl with brew then I found that when I type <code>perl -v</code> it says <code>5.18.1</code> but when I type in <code>which perl</code> it says <code>/usr/local/bin/perl</code> and if I type <code>/usr/local/bin/perl -v</code> it says <code>5.28.1</code> which I believe is the brew version. The problem now is that I can run some perl script in terminal without problem (5.18.1) but run in python by calling subprocess, it will call 5.28.1 version which causes the script to fail. Any idea how I can use 5.18.1 inside the subprocess? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1551828706, "post_id": 55013134, "comment_id": 96781098, "body": "Are you running the program as root? Do you have permissions to read the module? How did you install the module?"}, {"owner": {"reputation": 6351, "user_id": 10415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99940add21e5fb2247237459a586597d?s=128&d=identicon&r=PG", "display_name": "runrig", "link": "https://stackoverflow.com/users/10415/runrig"}, "edited": false, "score": 0, "creation_date": 1551833594, "post_id": 55013134, "comment_id": 96782320, "body": "Where is Bio/SeqIO.pm?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551839409, "post_id": 55013134, "comment_id": 96783611, "body": "You showed the <code>@INC</code> and <code>%ENV</code> from a different environment than the one in which you ran your script."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551839558, "post_id": 55013134, "comment_id": 96783654, "body": "Tip: <code>use lib qw(..);</code> looks in the parent directory of the current work directory, not the parent directory for the script&#39;s directory. For that, you want <code>use FindBin qw( $RealBin ); use lib &quot;$RealBin&#47;..&quot;;</code>. This won&#39;t fix the problem you&#39;re asking about."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1551840016, "last_edit_date": 1551840016, "creation_date": 1551839490, "answer_id": 55014640, "question_id": 55013134, "link": "https://stackoverflow.com/questions/55013134/cant-locate-perl-module-in-inc-after-install-the-module/55014640#55014640", "title": "Can&#39;t locate perl module in @INC after install the module", "body": "<p>You've demonstrated that setting <code>PERL5LIB</code> to <code>/root/perl5/lib/perl5</code> causes the following to be prepended to <code>@INC</code>:</p>\n\n<pre><code>/root/perl5/lib/perl5/5.16.3/x86_64-linux-thread-multi\n/root/perl5/lib/perl5/5.16.3\n/root/perl5/lib/perl5/x86_64-linux-thread-multi\n/root/perl5/lib/perl5\n</code></pre>\n\n<p>However, these are absent in the <code>@INC</code> of the <code>perl</code> that gave the error message, so <code>PERL5LIB</code> is clearly not set to <code>/root/perl5/lib/perl5</code> in environment in which you ran your script. Setting it appropriately in that environment will fix your problem.</p>\n"}], "owner": {"reputation": 37, "user_id": 7922131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wu6zXXnPxpw/AAAAAAAAAAI/AAAAAAAAACA/0i04Scen-UE/photo.jpg?sz=128", "display_name": "xc2333", "link": "https://stackoverflow.com/users/7922131/xc2333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2265, "favorite_count": 0, "accepted_answer_id": 55014640, "answer_count": 1, "score": 0, "last_activity_date": 1551840016, "creation_date": 1551827877, "question_id": 55013134, "link": "https://stackoverflow.com/questions/55013134/cant-locate-perl-module-in-inc-after-install-the-module", "title": "Can&#39;t locate perl module in @INC after install the module", "body": "<p>I am really new to perl and trying to use the <a href=\"https://bioperl.org/INSTALL.html\" rel=\"nofollow noreferrer\">BioPerl</a> module on CentOS 7 with apache2. After I successfully installed the module, the program still complain that it can't locate Bio/SeqIO.pm in @INC. </p>\n\n<p>Full error trace:</p>\n\n<pre><code>Cant locate Bio/SeqIO.pm in @INC (@INC contains: .. ../ /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at superpose/seqAlign.pm line 39.\nBEGIN failed--compilation aborted at superpose/seqAlign.pm line 39.\nCompilation failed in require at superpose/superposeController.pm line 38.\nBEGIN failed--compilation aborted at superpose/superposeController.pm line 38.\nCompilation failed in require at /var/www/cgi-bin/superpose.cgi line 11.\nBEGIN failed--compilation aborted at /var/www/cgi-bin/superpose.cgi line 11.\n</code></pre>\n\n<p>Here is the location that I found the bioperl module: <br></p>\n\n<pre><code>/root/.cpan/build/BioPerl-1.007002-oajj3K/Bio\n/root/.cpan/build/BioPerl-1.007002-oajj3K/blib/lib/Bio\n/root/perl5/lib/perl5/x86_64-linux-thread-multi/auto/Bio\n/root/perl5/lib/perl5/Bio\n/root/.cpanm/work/1551466691.17906/BioPerl-1.007002/Bio\n/root/.cpanm/work/1551466691.17906/BioPerl-1.007002/blib/lib/Bio\n/root/.cpanm/work/1551734157.15167/BioPerl-1.007002/Bio\n/root/.cpanm/work/1551734157.15167/BioPerl-1.007002/blib/lib/Bio\n/root/.cpanm/work/1551825394.27587/BioPerl-1.007002/Bio\n/root/.cpanm/work/1551825394.27587/BioPerl-1.007002/blib/lib/Bio\n</code></pre>\n\n<p>The @INC and %ENV from \n    perl -V\n<br></p>\n\n<pre><code>%ENV:\nPERL5LIB=\"/root/perl5/lib/perl5:\"\nPERL_LOCAL_LIB_ROOT=\":/root/perl5\"\nPERL_MB_OPT=\"--install_base /root/perl5\"\nPERL_MM_OPT=\"INSTALL_BASE=/root/perl5\"\n@INC:\n/root/perl5/lib/perl5/5.16.3/x86_64-linux-thread-multi\n/root/perl5/lib/perl5/5.16.3\n/root/perl5/lib/perl5/x86_64-linux-thread-multi\n/root/perl5/lib/perl5\n/usr/local/lib64/perl5\n/usr/local/share/perl5\n/usr/lib64/perl5/vendor_perl\n/usr/share/perl5/vendor_perl\n/usr/lib64/perl5\n/usr/share/perl5\n</code></pre>\n\n<p>I realized that my @INC doesn't contain the path to \"/root/perl5/lib/perl5/Bio\", but I think as long as PERL5LIB contain \"/root/perl5/lib/perl5\", it should be able to find the module.</p>\n\n<p>For the seqAlign.pm script, it links the perl library like this:</p>\n\n<pre><code>....\nuse lib qw(..);\nuse strict;\nuse Data::Dumper;\n\nuse Bio::SeqIO;\nuse Bio::PrimarySeq;\n.... \n</code></pre>\n\n<p>Thanks for help!</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1551863105, "post_id": 55012467, "comment_id": 96791993, "body": "Where does this code come from? A bit of context would help."}], "answers": [{"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 1, "last_activity_date": 1551825012, "creation_date": 1551825012, "answer_id": 55012634, "question_id": 55012467, "link": "https://stackoverflow.com/questions/55012467/accessing-an-element-of-this-type-in-perl/55012634#55012634", "title": "Accessing an element of this type in Perl", "body": "<p>Inside out:</p>\n\n<p><code>xyz</code></p>\n\n<p>Call the function <code>xyz</code></p>\n\n<p><code>-&gt;pqr</code></p>\n\n<p>Take the returned object from xyz, and call its <code>pqr</code> method.</p>\n\n<p><code>-&gt;tuv('mango', 'orange' =&gt; $efg{hello}),)</code></p>\n\n<p>Take the returned object from the <code>xyz-&gt;pqr</code> call, and call its <code>tuv</code> method with three parameters: <code>mango</code>, <code>orange</code>, and the value of the <code>hello</code> key of <code>%efg</code>.</p>\n\n<p><code>@{ ... }</code></p>\n\n<p>Take the returned array reference from <code>tuv</code>, and dereference it.</p>\n\n<p><code>$abc = @{ ... }</code></p>\n\n<p>assign that dereferenced array in scalar context to <code>$abc</code> - this effectively just counts the number of elements returned, while discarding the actual elements.</p>\n\n<p>But I don't understand what you mean by <code>access the element orange</code> - there is no element orange here.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11078656"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551825012, "creation_date": 1551824168, "last_edit_date": 1551824707, "question_id": 55012467, "link": "https://stackoverflow.com/questions/55012467/accessing-an-element-of-this-type-in-perl", "title": "Accessing an element of this type in Perl", "body": "<p>I am unable to figure out what does this mean:</p>\n\n<pre><code>my $abc= @{xyz-&gt; pqr-&gt; tuv ('mango', \n                            'orange' =&gt; $efg{hello},)};\n</code></pre>\n\n<p>If I want to access the element orange how can I do that. And what does the above mean? Can anyone explain? </p>\n"}, {"tags": ["shell", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1551817636, "post_id": 55010798, "comment_id": 96776815, "body": "Perl&#39;s <code>system</code> is <a href=\"https://perl5.git.perl.org/perl.git/blob/63afdf6c0f65af480aa5bb9ccba9f46dae52f6fc:/doio.c#l2378\" rel=\"nofollow noreferrer\">hardcoded to use <code>sh -c</code></a>. I&#39;m not sure how you&#39;re getting that to run tcsh instead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1551840314, "post_id": 55010798, "comment_id": 96783820, "body": "@melpomene, It&#39;s not. That shows it executing the shell in <code>PL_sh_path</code> (while setting <code>argv[0]</code> to <code>sh</code>). I suspect you&#39;ll find that <code>PL_sh_path</code> is taken from <code>Config.pm</code>."}], "answers": [{"comments": [{"owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1551831940, "post_id": 55010946, "comment_id": 96781956, "body": "Very curious.  This failed....                system( &quot; &#39;/bin/bash&#39;, -c =&gt; &#39;cd some_real_dir&#39; &quot;)                  Error &quot;No such file or dir&quot;              This worked...                system(&quot;cd some_real_dir&quot;)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 1, "creation_date": 1551840208, "post_id": 55010946, "comment_id": 96783800, "body": "@daveg, That&#39;s because you are trying to execute the shell command <code>&#39;&#47;bin&#47;bash&#39;, -c =&gt; &#39;cd some_real_dir&#39;</code>, and there&#39;s no file named <code>&#47;bin&#47;bash,</code> (note the comma). Perhaps you should use Tanktalus&#39;s code instead?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551840537, "post_id": 55010946, "comment_id": 96783867, "body": "@Tanktalus, Re &quot;<i>IIRC, there&#39;s an environment variable that system / exec will use to determine the default shell</i>&quot;, <code>PERL5SHELL</code> is only supported in Windows. The shell used is otherwise the one shown by <code>perl -V:sh</code>"}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551886410, "post_id": 55010946, "comment_id": 96806225, "body": "@ikegami thanks, I knew my memory of such was rusty, and there was obviously a reason why I pushed it out of my mind: it never affected me anyway :)"}, {"owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "edited": false, "score": 0, "creation_date": 1551901964, "post_id": 55010946, "comment_id": 96814811, "body": "Same result without the comma.               /bin/bash exists.           The &quot;No such file or directory&quot; points right at the dir I&#39;m trying to cd to."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 1, "creation_date": 1551902487, "post_id": 55010946, "comment_id": 96815128, "body": "No, seriously, run the command the way I wrote it. Don&#39;t add extra quotes around the whole thing."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 2, "last_activity_date": 1551817349, "creation_date": 1551817349, "answer_id": 55010946, "question_id": 55010798, "link": "https://stackoverflow.com/questions/55010798/temporarily-change-default-shell-inside-a-perl-system-call/55010946#55010946", "title": "temporarily change default shell inside a perl system call", "body": "<p>IIRC, there's an environment variable that system / exec will use to determine the default shell, but I think there's a more straight forward way:</p>\n\n<pre><code>my $stat = system('/bin/bash', -c =&gt; 'cd somewhere &amp;&amp; source somescript.bash &amp;&amp; do_something_else');\n</code></pre>\n\n<p>That is, call bash, and give it the commands you want. On systems that default to bash anyway, this is pretty much what perl is doing under the covers. On the one system that the default isn't working on, it'll force the issue.</p>\n"}], "owner": {"reputation": 847, "user_id": 7514026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baca10c436cbd0cbdd232619d163cf19?s=128&d=identicon&r=PG&f=1", "display_name": "daveg", "link": "https://stackoverflow.com/users/7514026/daveg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551817349, "creation_date": 1551816673, "last_edit_date": 1551816746, "question_id": 55010798, "link": "https://stackoverflow.com/questions/55010798/temporarily-change-default-shell-inside-a-perl-system-call", "title": "temporarily change default shell inside a perl system call", "body": "<p>Here's the situation...<br>\nIn perl, I run this... </p>\n\n<pre><code> my $stat = system(\"cd somewhere &amp;&amp; source somescript.bash &amp;&amp; do_something_else\");\n</code></pre>\n\n<p>For all my users, except one, this is not a problem.  But for the one guy, this is a problem because it sources somescript.bash using tcsh, not bash. I have no control over  somescript,bash.  IOW, I can't stick #!/usr/bash in line 1.  I can't just \"bash somescript.bash\" because it sets env vars that do_somethiung_else needs.  </p>\n\n<p>I need to \"source\" that script in bash but just in the context of this one perl system call.  I don't want to leave this guy with an altered environment when the perl script is done.  My best guess is to somehow temporarily change the default shell, but I don't know how to do that.</p>\n\n<p>Any ideas ?</p>\n"}, {"tags": ["perl", "cron", "aix"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551815676, "post_id": 55010424, "comment_id": 96775947, "body": "Of course there can be issues with two processes modifying the same resources (whether file or something else)."}, {"owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551816041, "post_id": 55010424, "comment_id": 96776100, "body": "Wow, I remember you 6 years ago asking my very first perl question here. Anyway, can you suggest what I do?"}, {"owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551816447, "post_id": 55010424, "comment_id": 96776268, "body": "@ikegami please help me lol"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551817165, "post_id": 55010424, "comment_id": 96776593, "body": "I&#39;m not sure what the question is. Use a lock?"}, {"owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551820112, "post_id": 55010424, "comment_id": 96777911, "body": "Hi @ikegami Thanks a lot, yes locking was the way to do it. I used flock"}], "answers": [{"tags": [], "owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "is_accepted": false, "score": 1, "last_activity_date": 1553294194, "last_edit_date": 1553294194, "creation_date": 1551820163, "answer_id": 55011618, "question_id": 55010424, "link": "https://stackoverflow.com/questions/55010424/running-a-script-manually-vs-running-in-cron/55011618#55011618", "title": "Running a script manually vs running in cron", "body": "<p>Okay. Apparently the answer was obvious and simple than what I expected. I used <code>flock</code> to lock the file while one job writes to it.</p>\n"}], "owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553294194, "creation_date": 1551815198, "question_id": 55010424, "link": "https://stackoverflow.com/questions/55010424/running-a-script-manually-vs-running-in-cron", "title": "Running a script manually vs running in cron", "body": "<p>Im experiencing issue with running my Perl script using cron job in AIX server.\nI have 3 Perl scripts that writes to the same file and it is running simultaneously. My issue is when I do manual testing of running each script manually, the output file is okay. But when I let the cron job run the script simultaneously the output is not the expected. My question is, is there a known issue with different cron job modifying the same file? Im doing this in AIX server by the way if it helps.</p>\n"}, {"tags": ["perl", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1551790066, "post_id": 55002812, "comment_id": 96761581, "body": "&quot; $g-&gt;stash(manage =&gt; \\%managers); &lt;%== $manager{&#39;IT&#39;}{&#39;name&#39;} %&gt; &quot; shouldn&#39;t you call both the same? either &quot;manage&quot; or &quot;manager&quot;? your key in perl is &quot;manage&quot;, but in your template you try to access &quot;manager&quot;"}, {"owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "reply_to_user": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1551790508, "post_id": 55002812, "comment_id": 96761841, "body": "sorry was a typo.  but still getting an error when i print <code>&lt;%== $manage{&#39;IT&#39;}{&#39;name&#39;} %&gt;</code> error is ` Global symbol &quot;%manage&quot; requires explicit package name (did you forget to declare &quot;my %manage&quot;?)` and <code>&lt;%== $manage %&gt; gives a HASH(0x1335430)</code> is giving a location"}], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "edited": false, "score": 0, "creation_date": 1551792407, "post_id": 55003335, "comment_id": 96763039, "body": "I assumed that was an issue after more reading.  I am now getting <code>Can&#39;t use string (&quot;Sales&quot;) as a HASH ref while &quot;strict refs&quot;</code>."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1551794061, "post_id": 55003335, "comment_id": 96764020, "body": "That error means that <code>$manager-&gt;{&#39;IT&#39;}</code> is set to the string <code>Sales</code> and not to another hash reference like you&#39;re expecting."}, {"owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "edited": false, "score": 1, "creation_date": 1551796005, "post_id": 55003335, "comment_id": 96765185, "body": "Not sure but now it&#39;s working.  Maybe a typo.  Thanks everyone."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": true, "score": 4, "last_activity_date": 1551790520, "creation_date": 1551790520, "answer_id": 55003335, "question_id": 55002812, "link": "https://stackoverflow.com/questions/55002812/errors-accessing-hash-in-mojolicious/55003335#55003335", "title": "Errors accessing hash in mojolicious", "body": "<p>In your template <code>$manage</code> is a hash ref not a hash, so you need to dereference it by using the <code>-&gt;</code> operator like this</p>\n\n<pre><code>&lt;%== $manager-&gt;{'IT'}{'name'} %&gt;\n</code></pre>\n"}], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 55003335, "answer_count": 1, "score": 0, "last_activity_date": 1551790520, "creation_date": 1551788836, "last_edit_date": 1551790235, "question_id": 55002812, "link": "https://stackoverflow.com/questions/55002812/errors-accessing-hash-in-mojolicious", "title": "Errors accessing hash in mojolicious", "body": "<p>I am having issues accessing my hash in mojolicious.</p>\n\n<pre><code>my %managers = (\n'IT' =&gt; {\n    'name' =&gt; 'Mike',\n    'id'   =&gt; 1,\n    'num_of_employees' =&gt; 15,\n},\n'Sales' =&gt; {\n    'name' =&gt; 'John',\n    'id' =&gt; 33,\n    'num_of_employees'=&gt; 50,\n},\n);\n</code></pre>\n\n<p>In perl I can access the data like <code>$managers{'IT'}{'name'}</code> would print out <code>Mike</code>. How would I do the same in mojolicious?</p>\n\n<pre><code>Being passed to my template\n$g-&gt;stash(manage =&gt; \\%managers);\n&lt;%== $manage{'IT'}{'name'} %&gt;\n</code></pre>\n\n<p>The above throws an error.  printing <code>&lt;%== $manage %&gt; gives a HASH(0x1335430)</code> location. </p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 2, "creation_date": 1551783946, "post_id": 55001329, "comment_id": 96758037, "body": "What does <code>$script</code> contain? Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1551786896, "post_id": 55001520, "comment_id": 96759764, "body": "Why do you think adding another process between Perl and Python will solve anything?"}, {"owner": {"reputation": 136, "user_id": 10334383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0A9k.png?s=128&g=1", "display_name": "Shade Reogen", "link": "https://stackoverflow.com/users/10334383/shade-reogen"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1551787041, "post_id": 55001520, "comment_id": 96759848, "body": "&#39;Cause if launched independently from cmd-line the python script MUST start"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1551789732, "post_id": 55001520, "comment_id": 96761387, "body": "That&#39;s just superstition. If the shell script can run Python then so can Perl."}], "tags": [], "owner": {"reputation": 136, "user_id": 10334383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0A9k.png?s=128&g=1", "display_name": "Shade Reogen", "link": "https://stackoverflow.com/users/10334383/shade-reogen"}, "is_accepted": false, "score": 0, "last_activity_date": 1551784421, "creation_date": 1551784421, "answer_id": 55001520, "question_id": 55001329, "link": "https://stackoverflow.com/questions/55001329/python-gives-importerror-no-module-named-when-triggered-in-a-perl-program/55001520#55001520", "title": "python gives ImportError: No module named &quot;&quot; when triggered in a perl program", "body": "<p>I once had a similar problem. I solved it by creating an executable script (chmod) and making that script run instead of the python script. The script simply contained a cd to the directory and a python3 program. py</p>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "edited": false, "score": 0, "creation_date": 1551798948, "post_id": 55001710, "comment_id": 96767129, "body": "I have tried this already and i see the path is there in both cases of the lib"}, {"owner": {"reputation": 154, "user_id": 3796790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d94d0726850f971800a9504689a3f52?s=128&d=identicon&r=PG&f=1", "display_name": "bmat", "link": "https://stackoverflow.com/users/3796790/bmat"}, "edited": false, "score": 0, "creation_date": 1551799169, "post_id": 55001710, "comment_id": 96767280, "body": "Are the paths identical? Is all the python code in the lib dir? or is some of the code in the working directory?  could you perhaps paste the output here?  The python interpreter searches for modules differently when running <code>python &#47;path&#47;script</code> compared to  <code>python script</code>"}], "tags": [], "owner": {"reputation": 154, "user_id": 3796790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d94d0726850f971800a9504689a3f52?s=128&d=identicon&r=PG&f=1", "display_name": "bmat", "link": "https://stackoverflow.com/users/3796790/bmat"}, "is_accepted": false, "score": 1, "last_activity_date": 1551797192, "last_edit_date": 1551797192, "creation_date": 1551785076, "answer_id": 55001710, "question_id": 55001329, "link": "https://stackoverflow.com/questions/55001329/python-gives-importerror-no-module-named-when-triggered-in-a-perl-program/55001710#55001710", "title": "python gives ImportError: No module named &quot;&quot; when triggered in a perl program", "body": "<p>Try printing the contents of <code>sys.path</code> and compare the difference e.g. change your python script to </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\n\nprint(sys.path)\n</code></pre>\n\n<p>Most likely there is a difference here and this is causing the module to not be found.</p>\n"}], "owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551797192, "creation_date": 1551783759, "last_edit_date": 1551786179, "question_id": 55001329, "link": "https://stackoverflow.com/questions/55001329/python-gives-importerror-no-module-named-when-triggered-in-a-perl-program", "title": "python gives ImportError: No module named &quot;&quot; when triggered in a perl program", "body": "<p>In my perl program which runs the python script</p>\n\n<p>I have provided the PYTHONPATH env param with the path for the lib and i have run the python script. I am getting</p>\n\n<p>ImportError: No module named \".....\"</p>\n\n<pre><code>  my $script = \"/path/pythonscript.py\";\n     $ENV{'PYTHONPATH'} = \"/path/lib\";\n      system(\"python $script\"); \n</code></pre>\n\n<p>Whereas when i run the same python script on command line in the same directory where the script executes in my perl program, it is working.</p>\n\n<p>Can anyone give me some pointers on why this is happening.</p>\n"}, {"tags": ["regex", "excel", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1551783817, "post_id": 54999809, "comment_id": 96757968, "body": "For the first example: You could try add properties to the <a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel#FORMAT-METHODS\" rel=\"nofollow noreferrer\"><code>add_format()</code></a> method., for example <code>$style = $workbook-&gt;add_format(bold =&gt; 0, bg_color =&gt; &#39;blue&#39;, ...)</code>. For the second example: you could use a hash with the first parameter as a key. But it depends on the other code in your script. If you show more code, it would be easier to give advice"}, {"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1551941685, "post_id": 54999809, "comment_id": 96826806, "body": "@Hakon I don&#39;t have proper code.I just need an idea.That&#39;s why i posted this question."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "edited": false, "score": 0, "creation_date": 1551786706, "post_id": 55001833, "comment_id": 96759661, "body": "Can You explain this line ?                                                                                             my ( $file1, $file2, $file3, $file4 ) = qw(file1 file2 file3 file4);"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "edited": false, "score": 1, "creation_date": 1551787465, "post_id": 55001833, "comment_id": 96760117, "body": "@Crazycoder It just sets some dummy value for the variable <code>$file1</code>, <code>$file2</code>, ... Just use your values instead :) And <code>qw(a  b)</code> is the same as <code>(&#39;a&#39;, &#39;b&#39;)</code>, see <a href=\"https://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a> for more information"}, {"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "edited": false, "score": 1, "creation_date": 1552226400, "post_id": 55001833, "comment_id": 96921684, "body": "Your explanation gave me a good idea and thanks for providing more information."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1551785504, "creation_date": 1551785504, "answer_id": 55001833, "question_id": 54999809, "link": "https://stackoverflow.com/questions/54999809/how-to-optimize-the-following-code-in-perl/55001833#55001833", "title": "How to optimize the following code in Perl?", "body": "<p>Here is an example of how you can use <a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel#add_format(%25properties)\" rel=\"nofollow noreferrer\"><code>add_format()</code></a> with a hash and <a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel#write($row,-$column,-$token,-$format)\" rel=\"nofollow noreferrer\"><code>write()</code></a> in a <code>for</code> loop:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Spreadsheet::WriteExcel;\n\nmy $workbook = Spreadsheet::WriteExcel-&gt;new('formats.xls');\n\n\nmy $worksheet = $workbook-&gt;add_worksheet('Introduction');\n\nmy %format = (bold =&gt; 0, bg_color =&gt; 'blue', align =&gt; 'center',\n          border =&gt; 1, border_color =&gt; 'black');\nmy $style = $workbook-&gt;add_format(%format);\n$worksheet-&gt;write(4, 0, 'This workbook demonstrates some of',  $style);\n$worksheet-&gt;write(5, 0, 'the formatting options provided by',  $style);\n$worksheet-&gt;write(6, 0, 'the Spreadsheet::WriteExcel module.', $style);\n\nmy ( $file1, $file2, $file3, $file4 ) = qw(file1 file2 file3 file4);\nmy %write_col = ( A2 =&gt; [$file1], B2 =&gt; [$file2],\n                  C2 =&gt; [$file3, $style], D2 =&gt; [$file4, $style] );\n$worksheet-&gt;write($_, @{$write_col{$_}}) for keys %write_col;\n\n$workbook-&gt;close();\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 1, "accepted_answer_id": 55001833, "answer_count": 1, "score": 0, "last_activity_date": 1551785504, "creation_date": 1551779214, "last_edit_date": 1551781210, "question_id": 54999809, "link": "https://stackoverflow.com/questions/54999809/how-to-optimize-the-following-code-in-perl", "title": "How to optimize the following code in Perl?", "body": "<p>How to optimize the following Excel code with hashes and arrays in Perl?Is there any possible ways to reduce the lines of code for the following examples?</p>\n\n<p><strong>Example 1:-</strong></p>\n\n<pre><code>$style = $workbook-&gt;add_format();\n$style-&gt;set_bold();\n$style-&gt;set_bg_color('blue');\n$style-&gt;set_align('center');\n$style-&gt;set_border(1);\n$style-&gt;set_border_color('black');\n</code></pre>\n\n<p><strong>Example2:-</strong></p>\n\n<pre><code>$worksheet-&gt;write_col(\"A2\",$file1);\n$worksheet-&gt;write_col(\"B2\",$file2);\n$worksheet-&gt;write_col(\"C2\",$file3,$style);\n$worksheet-&gt;write_col(\"D2\",$file4,$style);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1551790987, "post_id": 54999629, "comment_id": 96762137, "body": "See the <a href=\"https://metacpan.org/pod/Mojo::Base\" rel=\"nofollow noreferrer\">Mojo::Base</a> documentation"}, {"owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1551791293, "post_id": 54999629, "comment_id": 96762316, "body": "thanks for your feedback, but unfortunately this won&#39;t help me. the question is not specific related to MOJO, it&#39;s just about the syntax &quot;FOO::BAR &#39;baz&#39;&quot;. i know what FOO::BAR is for, but &#39;baz&#39;?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1551791490, "post_id": 54999629, "comment_id": 96762456, "body": "See documentation for <a href=\"https://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">use Module LIST</a>."}], "answers": [{"comments": [{"owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1551791410, "post_id": 55003537, "comment_id": 96762394, "body": "thanks, so in vanilla perl, there is never a &quot; &#39;baz&#39; &quot; after the &quot; use FOO::BAR &quot; ?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 2, "creation_date": 1551791568, "post_id": 55003537, "comment_id": 96762500, "body": "Yes it can be, for example <code>use List::Util &#39;max&#39;</code> to import the <code>max</code> subroutine from <code>List::Util</code>"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1551791147, "creation_date": 1551791147, "answer_id": 55003537, "question_id": 54999629, "link": "https://stackoverflow.com/questions/54999629/use-mojobase-mojoliciousplugin-whats-the-meaning-of-the-quoted-statemen/55003537#55003537", "title": "&quot;use Mojo::Base &#39;Mojolicious::Plugin&#39;&quot; what&#39;s the meaning of the quoted statement?", "body": "<p>See the <a href=\"https://metacpan.org/pod/Mojo::Base\" rel=\"nofollow noreferrer\">Mojo::Base</a> documentation. \nI have not used this package myself, but it seems like <code>use Mojo::Base 'Mojolicious::Plugin'</code> is a shortcut for the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nuse feature ':5.10';\nuse mro;\nuse IO::Handle ();\nrequire Mojolicious::Plugin;\npush @ISA, 'Mojolicious::Plugin';\nsub has { Mojo::Base::attr(__PACKAGE__, @_) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 3, "last_activity_date": 1551823331, "creation_date": 1551823331, "answer_id": 55012293, "question_id": 54999629, "link": "https://stackoverflow.com/questions/54999629/use-mojobase-mojoliciousplugin-whats-the-meaning-of-the-quoted-statemen/55012293#55012293", "title": "&quot;use Mojo::Base &#39;Mojolicious::Plugin&#39;&quot; what&#39;s the meaning of the quoted statement?", "body": "<p><code>use Module::Name 'foo', 'bar'</code> will (as a compile time statement) load the <code>Module::Name</code> module, and then call its <code>import</code> method passing the list <code>'foo', 'bar'</code>. See the documentation for <a href=\"https://perldoc.pl/functions/use\" rel=\"nofollow noreferrer\">use</a> and <a href=\"https://perldoc.pl/functions/import\" rel=\"nofollow noreferrer\">import</a>. A module can define its import method to do anything it wants, but <a href=\"https://perldoc.pl/Exporter\" rel=\"nofollow noreferrer\">Exporter</a> is a common way to get an import method that exports functions by name.</p>\n\n<p>For Mojo::Base specifically, its import method when passed a class name will set up the current package to be a subclass of the passed class name. It also does a lot of other setup by default as documented.</p>\n"}], "owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 55003537, "answer_count": 2, "score": 1, "last_activity_date": 1551823331, "creation_date": 1551778692, "question_id": 54999629, "link": "https://stackoverflow.com/questions/54999629/use-mojobase-mojoliciousplugin-whats-the-meaning-of-the-quoted-statemen", "title": "&quot;use Mojo::Base &#39;Mojolicious::Plugin&#39;&quot; what&#39;s the meaning of the quoted statement?", "body": "<p>Could someone please lead me to an informative page, where i can read about how this syntax works and what it actually does?\nIn Instance, what's the difference between...\n<code>use Mojo::Base 'Mojolicious::Plugin';</code>\nand\n<code>use Mojo::Base;</code> ?</p>\n\n<p>I don't really understand the quoted <code>'Foo::Bar'</code> part, in the example above, the <code>'Mojolicious::Plugin'</code> part.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1551760509, "post_id": 54995462, "comment_id": 96747387, "body": "Please add your desired output for that sample input to your question."}, {"owner": {"reputation": 5, "user_id": 4720352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712d5d2ea4e896bcf21dde2f319d5960?s=128&d=identicon&r=PG&f=1", "display_name": "Saravanan K", "link": "https://stackoverflow.com/users/4720352/saravanan-k"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1551760819, "post_id": 54995462, "comment_id": 96747449, "body": "Hi Cyrus, I have included that in the output section of my question"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1551760875, "post_id": 54995462, "comment_id": 96747466, "body": "@SaravananK, comments are NOT meant for showing expected samples, please add that in your post and let us know then?"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1551765484, "post_id": 54995462, "comment_id": 96748885, "body": "Please take a look at: <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4720352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712d5d2ea4e896bcf21dde2f319d5960?s=128&d=identicon&r=PG&f=1", "display_name": "Saravanan K", "link": "https://stackoverflow.com/users/4720352/saravanan-k"}, "edited": false, "score": 1, "creation_date": 1551761900, "post_id": 54995599, "comment_id": 96747748, "body": "Amazing stuff.  This is just what I am looking for - Thanks"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 5, "user_id": 4720352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712d5d2ea4e896bcf21dde2f319d5960?s=128&d=identicon&r=PG&f=1", "display_name": "Saravanan K", "link": "https://stackoverflow.com/users/4720352/saravanan-k"}, "edited": false, "score": 0, "creation_date": 1551761974, "post_id": 54995599, "comment_id": 96747768, "body": "@SaravananK, Glad that it helped you, will add explanation too so that we all could learn from it, you could go through it and learn too, cheers."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 5, "user_id": 4720352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712d5d2ea4e896bcf21dde2f319d5960?s=128&d=identicon&r=PG&f=1", "display_name": "Saravanan K", "link": "https://stackoverflow.com/users/4720352/saravanan-k"}, "edited": false, "score": 0, "creation_date": 1551762484, "post_id": 54995599, "comment_id": 96747892, "body": "@SaravananK, added explanation now, please go through it and let me know in case of any queries."}, {"owner": {"reputation": 5, "user_id": 4720352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712d5d2ea4e896bcf21dde2f319d5960?s=128&d=identicon&r=PG&f=1", "display_name": "Saravanan K", "link": "https://stackoverflow.com/users/4720352/saravanan-k"}, "edited": false, "score": 1, "creation_date": 1551764411, "post_id": 54995599, "comment_id": 96748476, "body": "The explanation was very useful.  What  I don&#39;t understand is the gsub part.    &quot;##Globally substituting ] and [ from 1st field&quot;.  What is the significance of this?"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 5, "user_id": 4720352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712d5d2ea4e896bcf21dde2f319d5960?s=128&d=identicon&r=PG&f=1", "display_name": "Saravanan K", "link": "https://stackoverflow.com/users/4720352/saravanan-k"}, "edited": false, "score": 0, "creation_date": 1551764478, "post_id": 54995599, "comment_id": 96748511, "body": "@SaravananK, that is for timestamp line where your input has <code>[</code> or <code>]</code> so removing them by this command here."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": true, "score": 0, "last_activity_date": 1551762450, "last_edit_date": 1551762450, "creation_date": 1551761375, "answer_id": 54995599, "question_id": 54995462, "link": "https://stackoverflow.com/questions/54995462/how-to-extract-specific-string-values-in-multi-lined-event/54995599#54995599", "title": "How to extract specific string values in multi-lined event", "body": "<p>Could you please try following, will add non-one liner form with explanation of code shortly too.</p>\n\n<pre><code>awk  '\nBEGIN{\n  OFS=\" | \"\n  print \"Timestamp | User | ecid | RemoteIP\"\n}\n/^\\]\\]/{\n  if(val){\n      print val\n  }\n  val=\"\"\n}\n/^\\[[0-9]+\\-[0-9]+\\-[0-9]+/{\n  gsub(/\\]|\\[|\\..*/,\"\",$1)\n  val=$1\n  next\n}\n/User=/{\n  sub(/.*User=/,\"\")\n  val=val OFS $0\n  next\n}\n/ecid/{\n  sub(/.*: /,\"\")\n  val=val OFS $0\n  next\n}\n/RemoteIP/{\n  sub(/.*: /,\"\")\n  val=val OFS $0\n}\nEND{\n  if(val){\n    print val\n  }\n}\n'  Input_file\n</code></pre>\n\n<p>Output will be as follows.</p>\n\n<pre><code>Timestamp | User | ecid | RemoteIP\n2019-03-01T10:08:30 | bi_admin | 90b8:1e:16:-800-000,0:9 | 10.192.121.136\n</code></pre>\n\n<p><strong><em>Explanation of above code:</em></strong></p>\n\n<pre><code>awk  '                                                     ##Starting awk program here.\nBEGIN{                                                     ##Starting BEGIN section from here.\n  OFS=\" | \"                                                ##Setting OFS(output field separator) as space pipe space for all lines of Input_file.\n  print \"Timestamp | User | ecid | RemoteIP\"               ##Printing header mentioned by OP in request here, will be printed before Input_file gets read.\n}                                                          ##Closing BEGIN section of awk program here.\n/^\\]\\]/{                                                   ##Checking condition if a line starts from ]] then do following.\n  if(val){                                                 ##Checking condition if variable val value is NOT NULL then do following.\n      print val                                            ##Printing variable val here.\n  }                                                        ##Closing block for if condition here.\n  val=\"\"                                                   ##Nullifying variable val here.\n}                                                          ##Closing BLOCK for]] condition.\n/^\\[[0-9]+\\-[0-9]+\\-[0-9]+/{                               ##Checking condition if a line starts from [ digits-digits-digits then do following.\n  gsub(/\\]|\\[|\\..*/,\"\",$1)                                 ##Globally substituting ] and [ from 1st field.\n  val=$1                                                   ##Setting value of val as $1 here.\n  next                                                     ##Skipping all statements from here.\n}                                                          ##Closing BLOCK for ^[ condition now.\n/User=/{                                                   ##Checking condition if a line contains User=then do following.\n  sub(/.*User=/,\"\")                                        ##Substituting everything till User=\n  val=val OFS $0                                           ##Concatenating value of $0 to val here.\n  next                                                     ##next will skip all statements from here.\n}\n/ecid/{                                                    ##Checking condition if a line contains ecid then do following.\n  sub(/.*: /,\"\")                                           ##Substituting everything till : space in line.\n  val=val OFS $0                                           ##Concatenating value of $0 to val here.\n  next                                                     ##next will skip all statements from here.\n}\n/RemoteIP/{                                                ##Checking condition if a line contains RemoteIP then do following.\n  sub(/.*: /,\"\")                                           ##Substituting everything till : space in line.\n  val=val OFS $0                                           ##Concatenating value of $0 to val here.\n}\nEND{                                                       ##mentioning END section of this awk code, this will be executed once Input_file is done with reading.\n  if(val){                                                 ##Checking if variable val is NOT NULL then do following.\n    print val                                              ##Printing variable val here.\n  }\n}\n' Input_file                                               ##Mentioning Input_file name here.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "is_accepted": false, "score": 1, "last_activity_date": 1551761999, "creation_date": 1551761999, "answer_id": 54995683, "question_id": 54995462, "link": "https://stackoverflow.com/questions/54995462/how-to-extract-specific-string-values-in-multi-lined-event/54995683#54995683", "title": "How to extract specific string values in multi-lined event", "body": "<p>Use white space or <code>:</code> (followed by a white space) or <code>=</code> or <code>[</code> or <code>]</code> as field separators (FS). OFS is output field separator.</p>\n\n<pre><code>awk 'BEGIN{FS=\" |: |=|\\\\[|\\\\]\"; OFS=\" | \"} \n     $5==\"OBIPS\"    {time=$2}\n     $1==\"User\"     {user=$2}\n     $1==\"ecid\"     {ecid=$2}\n     $1==\"RemoteIP\" {ip=$2; print time,user,ecid,ip}' file\n</code></pre>\n\n<p>Output:</p>\n\n<pre>\n2019-03-01T10:08:30.00 | bi_admin | 90b8:1e:16:-800-000,0:9 | 10.192.121.136\n</pre>\n\n<hr>\n\n<p>See: <a href=\"https://www.thegeekstuff.com/2010/01/8-powerful-awk-built-in-variables-fs-ofs-rs-ors-nr-nf-filename-fnr/\" rel=\"nofollow noreferrer\">8 Powerful Awk Built-in Variables \u2013 FS, OFS, RS, ORS, NR, NF, FILENAME, FNR</a></p>\n"}], "owner": {"reputation": 5, "user_id": 4720352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712d5d2ea4e896bcf21dde2f319d5960?s=128&d=identicon&r=PG&f=1", "display_name": "Saravanan K", "link": "https://stackoverflow.com/users/4720352/saravanan-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 54995599, "answer_count": 2, "score": 0, "last_activity_date": 1551762450, "creation_date": 1551760472, "last_edit_date": 1551761198, "question_id": 54995462, "link": "https://stackoverflow.com/questions/54995462/how-to-extract-specific-string-values-in-multi-lined-event", "title": "How to extract specific string values in multi-lined event", "body": "<p>This is my multi-lined event.  All I need to do is to create a csv file with Timestamp, User, ecid and RemoteIP values.  These fields are available in row1, row11, row14 and row16 in my multilined event.  I tried using AWK and was able to look for lines starting with User, ecid etc and was able to strip the Field 2 using</p>\n\n<pre><code>awk -F'[=:]' '/User|ecid|RemoteIP/{print NR \", \" $2  }' filename.txt\n</code></pre>\n\n<p>but need to how how to get the timestamp which is on the row 1.  Also, need to know how to make these 4 values to appear in a single line delimited by a pipe.  I am looking for some input here in AWK or Perl</p>\n\n<pre><code>[2019-03-01T10:08:30.00] [OBIPS] [TRACE:1] [] [saw.httpserver.request.showrequest] [ecid: 90b8:1e:16:-800-000,0:9] [tid: 563620160] Request received.\nType: POST            Headers:\nConnection=Keep-Alive\nContent-Length=58\nCookie=ORA_BIPS_LBINFO=16938b9e78c\nUser-Agent=Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.119 Safari/537.36\nX-BlueCoat-Via=56038f342870633d\nX-Forwarded-For=10.132.198.91\n            Request params:\nbieehome\nicharset=utf-8\nUser=bi_admin\nPassword=******\nSessionID: 9n5be88r2b041s5s6toojpagruk7ums\necid: 90b8:1e:16:-800-000,0:9\nThreadID: 5636201600\nRemoteIP: 10.192.121.136\n]]\n</code></pre>\n\n<h1>Ouptut</h1>\n\n<pre><code>Timestamp | User | ecid | RemoteIP\n2019-03-01T10:08:30.00 | bi_admin | 90b8:1e:16:-800-000,0:9 | 10.192.121.136\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1551776529, "post_id": 54995020, "comment_id": 96753634, "body": "The only quote marks in your code are the ones that are used to delimit your strings. They aren&#39;t special characters and they won&#39;t appear when you print those strings. So your question is rather confusing. Are you sure you&#39;re asking what you meant to ask?"}, {"owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 1, "creation_date": 1551790877, "post_id": 54995020, "comment_id": 96762065, "body": "if you want absolutely no <code>&#39;</code> in your code you can use <code>@names = qw(Tom Jerry);</code> but the result will be the same"}, {"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1552225611, "post_id": 54995020, "comment_id": 96921490, "body": "@DaveCross yes,i am sure about my question..In my array,I have each element(Strings) with the single quotes character since the data which is stored in array has single quotes from the input...It also printing the contents with single quote characters.."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1552237399, "post_id": 54995020, "comment_id": 96924981, "body": "@Crazycoder: Ok. But that&#39;s not what your question shows. What you meant was <code>@names = (&quot;&#39;Tom&#39;&quot;, &quot;&#39;Jerry&#39;&quot;)</code> or <code>@names = qw(&#39;Tom&#39;, &#39;Jerry&#39;)</code>. Your code doesn&#39;t put quotes in the array elements."}, {"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1552278517, "post_id": 54995020, "comment_id": 96934295, "body": "@DaveCross Yes,you got my point Dave.I apologize for the mistake."}], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 9140224, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ma6sX8dC4nw/AAAAAAAAAAI/AAAAAAAAAlw/7Z0k6C8pxLg/photo.jpg?sz=128", "display_name": "Ijaz Ur Rahim", "link": "https://stackoverflow.com/users/9140224/ijaz-ur-rahim"}, "is_accepted": false, "score": 1, "last_activity_date": 1551758722, "last_edit_date": 1551758722, "creation_date": 1551758087, "answer_id": 54995163, "question_id": 54995020, "link": "https://stackoverflow.com/questions/54995020/removing-specific-characters-from-an-array/54995163#54995163", "title": "Removing specific characters from an array", "body": "<p>The code and your question is different.\nBut looking at the Output you want i will assume that you want to join/print the elements of the array. Consider the example code:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>@names = ('Tom','Jerry');\nmy $str = join '\\n', @names;\nsay $str;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Tom\nJerry\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "edited": false, "score": 1, "creation_date": 1552225763, "post_id": 54995266, "comment_id": 96921526, "body": "Your regular expression in your code helps me to remove single quotes from the array.."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1552294949, "post_id": 54995266, "comment_id": 96939680, "body": "@Ribtips: Single-quote characters don&#39;t have a special meaning in a regex, so there&#39;s no need to escape them there. <code>$name =~ s&#47;&#39;&#47;&#47;g</code> will work fine."}], "tags": [], "owner": {"reputation": 56, "user_id": 11039856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc179da437fb8697c3211395a7e0684?s=128&d=identicon&r=PG&f=1", "display_name": "Ribtips", "link": "https://stackoverflow.com/users/11039856/ribtips"}, "is_accepted": true, "score": 1, "last_activity_date": 1551759156, "creation_date": 1551759156, "answer_id": 54995266, "question_id": 54995020, "link": "https://stackoverflow.com/questions/54995020/removing-specific-characters-from-an-array/54995266#54995266", "title": "Removing specific characters from an array", "body": "<p>You can make this change in perl by negating the \"specialness\" of the character by placing a slash in front of it in the regex. So the regex for the variable could be <code>s/\\'//g</code>.  An example could be as follows:</p>\n\n<pre><code>#!/usr/bin/perl\n@names=('\\'Tom\\'','\\'Jerry\\'');\nforeach my $name (@names) {\n print \"Name is $name\\n\";\n $name =~ s/\\'//g;\n print \"After regex, Name is $name\\n\";\n}\n</code></pre>\n\n<p>In your array declaration with the single quotes though, perl will interpret those as simple quoting your inputs and will not include them in the output.  I needed to add the negation of the single quote to produce the results which are:</p>\n\n<pre><code>Name is 'Tom'\nAfter regex, Name is Tom\nName is 'Jerry'\nAfter regex, Name is Jerry\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1551760657, "last_edit_date": 1551760657, "creation_date": 1551759261, "answer_id": 54995278, "question_id": 54995020, "link": "https://stackoverflow.com/questions/54995020/removing-specific-characters-from-an-array/54995278#54995278", "title": "Removing specific characters from an array", "body": "<p>The string literal <code>'Tom'</code> produces the string <code>Tom</code>, and the string literal <code>'Jerry'</code> produces the string <code>Jerry</code>, so there is no <code>'</code> in any of the elements of that array.</p>\n\n<p>To print each element on a different line, you can use the following:</p>\n\n<pre><code>say for @names;\n</code></pre>\n\n<p>It a short version of the following:</p>\n\n<pre><code>for my $name (@names) {\n   say $name;\n}\n</code></pre>\n\n<p>This usually goes without saying, but using <code>say</code> requires using <code>use feature qw( say );</code>.</p>\n"}], "owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 1, "accepted_answer_id": 54995266, "answer_count": 3, "score": -1, "last_activity_date": 1552278396, "creation_date": 1551756778, "last_edit_date": 1552278396, "question_id": 54995020, "link": "https://stackoverflow.com/questions/54995020/removing-specific-characters-from-an-array", "title": "Removing specific characters from an array", "body": "<p>How to remove specific characters from an array elements in one line using Perl?</p>\n\n<p><strong>Example:-</strong></p>\n\n<p>In this array, the special character <code>'</code> has to be removed.</p>\n\n<pre><code>@names = (\"'Tom'\",\"'Jerry'\");\n</code></pre>\n\n<p><strong>Expected Output :-</strong></p>\n\n<pre><code>Tom\nJerry\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 1, "creation_date": 1551734557, "post_id": 54991723, "comment_id": 96740881, "body": "change <code>&#47;gi</code> to <code>&#47;i</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1551739142, "post_id": 54991723, "comment_id": 96742635, "body": "The <code>&#47;g</code> in scalar context continues to search in the string from the position of the previous match, every next time it&#39;s called.  So that <code>while (&#47;...&#47;g)</code> allows you to hop over the matches in the string, one at a time. But you normally don&#39;t want that in an <code>if</code> condition (which imposes the scalar context).  Now, I don&#39;t see how that affects your result here (it doesn&#39;t work that way across function calls) but that <code>&#47;g</code> can only hurt,"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1551739797, "post_id": 54991723, "comment_id": 96742861, "body": "&quot;<i>I don&#39;t see how that affects your result here</i>&quot; -- wait, I do see it: you regex runs in the <code>if</code> condition, and then inside the body, again!  So the run inside the body continues from where the previous one (in the condition itself) stopped, and thus matches the next time in the string."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 2, "last_activity_date": 1551736150, "creation_date": 1551736150, "answer_id": 54992069, "question_id": 54991723, "link": "https://stackoverflow.com/questions/54991723/i-want-to-capture-only-the-first-match-occurrence/54992069#54992069", "title": "I want to capture only the first match occurrence", "body": "<p>I don't think you need the [A-z] class.<br>\nBy shaving down the regex a bit, you could resolve it to this:</p>\n\n<pre><code>sub hashaddress\n{\n    my ($string) = @_;\n\n    if ( $string =~ /(?i)((\\d+[a-z]?(\\s+\\d\\/\\d)?|lot\\s+\\d+[a-z]?)\\s+[a-z]+\\s+[a-z]+(\\s+(avenue|street|road|drive))?)/ ) {  \n        return $1;\n    }\n    return $string;\n}\n</code></pre>\n\n<p>Regex info:  </p>\n\n<pre><code> (?i)                          # Case insensitive\n (                             # (1 start)\n      (                             # (2 start)\n           \\d+ [a-z]? \n           ( \\s+ \\d / \\d )?              # (3)\n        |  lot \\s+ \\d+ [a-z]? \n      )                             # (2 end)\n      \\s+ [a-z]+ \\s+ [a-z]+ \n      (                             # (4 start)\n           \\s+ \n           (                             # (5 start)\n                avenue \n             |  street\n             |  road\n             |  drive \n           )                             # (5 end)\n      )?                            # (4 end)\n )                             # (1 end)\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7834709, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7Sc0VCAlGY8/AAAAAAAAAAI/AAAAAAAAAMM/bDGdErhs9D4/photo.jpg?sz=128", "display_name": "Dillano Blake", "link": "https://stackoverflow.com/users/7834709/dillano-blake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 54992069, "answer_count": 1, "score": 1, "last_activity_date": 1551736150, "creation_date": 1551734397, "last_edit_date": 1551734601, "question_id": 54991723, "link": "https://stackoverflow.com/questions/54991723/i-want-to-capture-only-the-first-match-occurrence", "title": "I want to capture only the first match occurrence", "body": "<p>I am facing an issue where i'm trying to pull a specific format address from a given string using perl and regex. I want to be able to capture only the first occurrence of the match, however, it keeps on having multiple matches. This prevents me from pulling the first occurrence from the string as I can't seem to figure out how to refer to the first match using perl.</p>\n\n<p>Regex:</p>\n\n<pre><code>((\\d+[A-z]?(\\s+\\d\\/\\d)?|lot\\s+\\d+[A-z]?|apt\\s+\\d+[A-z]?)\\s+[A-z]+\\s+[A-z]+(\\s+(avenue|street|road|drive))?)?\n</code></pre>\n\n<p>String:</p>\n\n<blockquote>\n  <p>27 MAIN STREET PO BOX 85 MAY PEN</p>\n</blockquote>\n\n<p>Perl function:</p>\n\n<pre><code>sub hashaddress($)\n{\n    my $string = shift;\n\n    if ($string =~ /\\s?((\\d+[A-z]?(\\s+\\d\\/\\d)?|lot\\s+\\d+[A-z]?)\\s+[A-z]+\\s+[A-z]+(\\s+(avenue|street|road|drive))?)?/gi)\n    {\n        $string =~ /\\s?((\\d+[A-z]?(\\s+\\d\\/\\d)?|lot\\s+\\d+[A-z]?)\\s+[A-z]+\\s+[A-z]+(\\s+(avenue|street|road|drive))?)?/gi;\n        $string = $1;\n    }\n\n    return $string;\n}\n</code></pre>\n\n<p>The perl function returns \"85 MAY PEN\" when what I want is \"27 MAIN STREET\" which is the first match.</p>\n"}, {"tags": ["excel", "perl", "xlsx"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1551734306, "post_id": 54989748, "comment_id": 96740794, "body": "Most likely it is because Excel::Writer::XLSX writes the data out directly and Excel does not overwrite data when reading information for a cell where it already has data. So, ideally, you build your output data model before handing it to Excel::Writer::XLSX."}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 0, "creation_date": 1551736263, "post_id": 54989748, "comment_id": 96741577, "body": "I used your example code and opened the resulting file in LibreOffice. Everything looks as expected here."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1551736613, "post_id": 54989748, "comment_id": 96741719, "body": "I could not reproduce either."}, {"owner": {"reputation": 53, "user_id": 7578126, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-JFXMOx-cIng/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAQoJ-WHvjImAgOZMsmRmg6SqXFoA/mo/photo.jpg?sz=128", "display_name": "Mr. Kaplan", "link": "https://stackoverflow.com/users/7578126/mr-kaplan"}, "edited": false, "score": 1, "creation_date": 1551901547, "post_id": 54989748, "comment_id": 96814598, "body": "Turned out the issue was set_optimization() was on when the workbook was created."}], "owner": {"reputation": 53, "user_id": 7578126, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-JFXMOx-cIng/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAQoJ-WHvjImAgOZMsmRmg6SqXFoA/mo/photo.jpg?sz=128", "display_name": "Mr. Kaplan", "link": "https://stackoverflow.com/users/7578126/mr-kaplan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551901592, "creation_date": 1551725600, "last_edit_date": 1551901592, "question_id": 54989748, "link": "https://stackoverflow.com/questions/54989748/excelwriterxlsx-some-cells-in-passed-worksheet-cannot-be-written-to", "title": "Excel::Writer::XLSX: Some cells in passed worksheet cannot be written to", "body": "<p>I a single workbook and I am hoping to pass it to various subs, each of which writes to the same worksheet. The first sub will create the worksheet and write a few columns, and the others will add more columns and fill the cells in those columns. What I am observing is that some cells cannot be written to by the other subs as shown below:</p>\n\n<pre><code>sub SubOne\n{\n    my ($workbook) = @_;\n\n    my $worksheet = $workbook-&gt;add_worksheet(\"Startup\");\n    my $formatHead = $workbook-&gt;add_format();\n    $formatHead-&gt;set_bold();\n    $formatHead-&gt;set_align('center');\n    $formatHead-&gt;set_bg_color('yellow');\n\n    my $formatContents = $workbook-&gt;add_format();\n    $formatContents-&gt;set_align('center');\n\n    $worksheet-&gt;set_tab_color('Red');\n    $worksheet-&gt;set_column('A:A', 11);\n    $worksheet-&gt;set_column('B:B', 15);\n    $worksheet-&gt;set_column('C:C', 15);\n    $worksheet-&gt;set_column('D:D', 24);\n    $worksheet-&gt;write(0, 0, \"column0\", $formatHead);\n    $worksheet-&gt;write(0, 1, \"column1\", $formatHead);\n    $worksheet-&gt;write(0, 2, \"column2\", $formatHead);\n    $worksheet-&gt;write(0, 3, \"column3\", $formatHead);\n    #Fill the columns with data\n}\n</code></pre>\n\n<p>This all works great. Four columns are created with headings and have data in them. Let's say there are 3 rows of data under each column. That all works fine. Then another sub is called like the following as an example:</p>\n\n<pre><code>sub SubTwo\n{\n    my ($workbook) = @_;\n\n    my $worksheet3 = $workbook-&gt;sheets(0);\n\n    my $formatHead = $workbook-&gt;add_format();\n    $formatHead-&gt;set_bold();\n    $formatHead-&gt;set_align('center');\n    $formatHead-&gt;set_bg_color('yellow');\n\n    my $formatContents = $workbook-&gt;add_format();\n    $formatContents-&gt;set_align('center');\n\n    $worksheet3-&gt;write(0, 4, \"column4\", $formatHead );\n    $worksheet3-&gt;write(0, 5, \"column5\", $formatHead );\n    $worksheet3-&gt;write(6, 6, \"test1\", $formatContents);\n    $worksheet3-&gt;write(7, 7, \"test2\", $formatHead);\n    $worksheet3-&gt;write(1, 8, \"test3\", $formatHead);\n    $worksheet3-&gt;write(7, 1, \"test4\", $formatContents);\n}\n</code></pre>\n\n<p>Out of these, only test1, test2, test4 are written. They are in the correct cells. It is as if nothing can be written to the rows that have been written to by the previous sub SubOne. Why would the rows be locked from further writing? </p>\n\n<p>EDIT: Fix was turning set_optimization() off. </p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1551725880, "post_id": 54989721, "comment_id": 96737207, "body": "Note that you should add <code>m</code> modifier to the last regexp to match line endings using <code>$</code>. If not, <code>$</code> will only match end of string."}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 1, "creation_date": 1551726284, "post_id": 54989721, "comment_id": 96737401, "body": "<code>.+</code> is greedy. Also, rearrange so <code>\\n</code> is after whitespace.  Try: <code>s&#47;(\\s*)(\\&#47;\\&#47;.+?\\n)(\\s*\\n)&#47;$1$2&#47;gs</code>"}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1551726793, "post_id": 54989721, "comment_id": 96737660, "body": "@H&#229;konH&#230;gland. Thanks but it is not picking up anything"}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "reply_to_user": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1551726867, "post_id": 54989721, "comment_id": 96737707, "body": "@jhnc. Very close. Fixes the instances I have issues with but also doing more. I.E., it is extending to other stuff"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1551726875, "post_id": 54989721, "comment_id": 96737708, "body": "@Dayo See the comment of @jhnc, I think the problem is that <code>.+</code> is gobbling up new lines characters"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1551726905, "post_id": 54989721, "comment_id": 96737730, "body": "This should be <i>one</i> <code>perl</code> script instead of running <code>perl</code> 12 times per file."}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551727034, "post_id": 54989721, "comment_id": 96737801, "body": "@chepner. This is a part of a larger bash script."}, {"owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1551727239, "post_id": 54989721, "comment_id": 96737907, "body": "Doesn&#39;t matter. Write it as one perl script, and call that once - and I don&#39;t even mean once per file. Let it read the list once through and be done."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551727373, "post_id": 54989721, "comment_id": 96737964, "body": "@Dayo Then this <i>portion</i>, if not necessarily the entire <code>bash</code> script, should be a single <code>perl</code> script."}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551727420, "post_id": 54989721, "comment_id": 96737983, "body": "@chepner Would appreciate pointers on how to do this. I.E., How to embed section of perl within the bash script"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1551727555, "post_id": 54989721, "comment_id": 96738043, "body": "You don&#39;t; you write a perl script, then call it. The entire shell loop gets replaced with <code>perl myScript.pl &quot;${FILES[@]}&quot;</code>."}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "reply_to_user": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1551728013, "post_id": 54989721, "comment_id": 96738237, "body": "@jhnc. Managed to amend your regex to get it working. Ended up with <code>s&#47;(\\s*)(\\&#47;\\&#47;[^\\n]+\\n)(\\s*\\n)&#47;$1$2&#47;gs</code>. Please make a proper answer so I can accept."}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551728070, "post_id": 54989721, "comment_id": 96738265, "body": "@chepner. I have a few more to add so I might look into your suggestion."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551731674, "post_id": 54989721, "comment_id": 96739711, "body": "Tip: <code>-0</code> doesn&#39;t actually enable slurp mode. Use <code>-0777</code> for that."}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551733443, "post_id": 54989721, "comment_id": 96740465, "body": "@ikegami. I find that for some reason, I get the results I want with the format I put above and that <code>-0777</code> does not do what I intend. Confess i don&#39;t know that much on the subject but I have spent several days in getting to what seems to work."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551733538, "post_id": 54989721, "comment_id": 96740512, "body": "<code>-0</code> means <code>$&#47; = \\0;</code>, which means &quot;lines are terminated by NUL&quot;. If you have no NULs in the file, you end up with the desired effect of reading the entire file. <code>-0777</code>, OTOH, means <code>$&#47; = undef;</code>, which means &quot;read the entire file&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 1, "creation_date": 1551733196, "post_id": 54990743, "comment_id": 96740362, "body": "perhaps <code>&lt;&lt;&gt;&gt;</code> instead of <code>&lt;&gt;</code> to avoid the security hole"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1551733439, "post_id": 54990743, "comment_id": 96740461, "body": "@jhnc Good catch, yes use <code>&lt;&lt;&gt;&gt;</code> to avoid use of the 2-argument <code>open</code> on the files which allows filenames like: <code>rm -rfv *|</code>"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 1, "creation_date": 1551773417, "post_id": 54990743, "comment_id": 96752085, "body": "What does <code>&lt;&lt;&gt;&gt;</code> do? What is funny with Perl is that if I search for <code>perl &quot;&lt;&lt;&gt;&gt;&quot;</code> in Google I don&#39;t find any relevant answers within the first 10 results :("}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1551774094, "post_id": 54990743, "comment_id": 96752370, "body": "@nowox See <a href=\"https://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">perldoc perlop</a>"}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "edited": false, "score": 0, "creation_date": 1551808644, "post_id": 54990743, "comment_id": 96772700, "body": "@H&#229;konH&#230;gland. Is it possible to have multiple extensions in the finder?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "edited": false, "score": 0, "creation_date": 1551808830, "post_id": 54990743, "comment_id": 96772796, "body": "@Dayo Yes, you could simply add them as arguments to the <code>name()</code> method. For example:  <code>name(&#39;*.php&#39;, &#39;*.html&#39;)</code>. See the <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow noreferrer\">documentation</a> for more information"}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "reply_to_user": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1552051891, "post_id": 54990743, "comment_id": 96876434, "body": "Can you help with follow on query here: <a href=\"https://stackoverflow.com/q/55064244/891636\">stackoverflow.com/q/55064244/891636</a>? Also @jhnc"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 4, "last_activity_date": 1551733461, "last_edit_date": 1551733461, "creation_date": 1551729939, "answer_id": 54990743, "question_id": 54989721, "link": "https://stackoverflow.com/questions/54989721/bash-perl-multiline-regex-issue/54990743#54990743", "title": "Bash/Perl Multiline Regex Issue", "body": "<p>Here is an example of how you can write the script as a single <code>perl</code> script:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Find::Rule;\n\nmy @files = File::Find::Rule-&gt;new-&gt;file-&gt;name('*.php')-&gt;in('.');\n@ARGV = @files;\n$^I = '.bak';  # suffix of backup file, see perldoc perlvar\nwhile (&lt;&lt;&gt;&gt;) {\n    s/^(\\s*)global(\\s)(.+);(\\s*)$/$1global$2$3;\\n\\n\\n/;\n    s/\\$query(\\s+)(\\.?=)/\\$query $2/;\n    s/^(\\s*)\\$query (\\.?=)/\\n$1\\$query $2/;\n    s/\\$ret(\\s+)=/\\$ret =/;\n    s/^(\\s*)\\$ret =/\\n$1\\$ret =/;\n    s/^(\\s*)\\$ret(.+);(\\s*)$/$1\\$ret$2;\\n/;\n    s/^(\\s*)list\\(/\\n$1list(/;\n    s/^(\\s*)list(.+);(\\s*)$/$1list$2;\\n/;\n    s/^(\\s*)\\}(\\s*)$/$1\\}$2\\n/;\n    s/^(\\s*)\\);(\\s*)$/$1\\);$2\\n/;\n    print;\n}\n@ARGV = @files;\nlocal $/ = undef; # Read the whole file\nwhile (&lt;&lt;&gt;&gt;) {\n    s/(\\n\\s*){2,}(\\n\\s*)/\\n$2/gs;\n    s/^(\\s*)(\\/\\/.+?)(\\n\\s*){2,}/$1$2\\n/gs;\n    print;\n}\n</code></pre>\n"}], "owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 54990743, "answer_count": 1, "score": 0, "last_activity_date": 1551733461, "creation_date": 1551725492, "last_edit_date": 1551726295, "question_id": 54989721, "link": "https://stackoverflow.com/questions/54989721/bash-perl-multiline-regex-issue", "title": "Bash/Perl Multiline Regex Issue", "body": "<p>Trying to apply some formatting a some files in a bash script and after a lot of web searches and trial / error, I came up with this using perl regexes as I need it be Mac / Linux compatible:</p>\n\n<pre><code>#!/bin/sh\nFILES=\"$(find . -type f -name '*.php')\"\nfor FILE in $FILES\ndo\n    # 1. Add blank line after \"global $XYZ\" calls\n    RET=$(perl -i -pe 's/^(\\s*)global(\\s)(.+);(\\s*)$/$1global$2$3;\\n\\n\\n/' $FILE)\n\n    # 2. Add blank line before \"$query\" calls\n    RET=$(perl -i -pe 's/\\$query(\\s+)(\\.?=)/\\$query $2/' $FILE)\n    RET=$(perl -i -pe 's/^(\\s*)\\$query (\\.?=)/\\n$1\\$query $2/' $FILE)\n\n    # 3. Add blank line before \"$ret\" calls\n    RET=$(perl -i -pe 's/\\$ret(\\s+)=/\\$ret =/' $FILE)\n    RET=$(perl -i -pe 's/^(\\s*)\\$ret =/\\n$1\\$ret =/' $FILE)\n\n    # 4. Add blank line after single line \"$ret\" calls\n    RET=$(perl -i -pe 's/^(\\s*)\\$ret(.+);(\\s*)$/$1\\$ret$2;\\n/' $FILE)\n\n    # 5. Add blank line before \"list\" calls\n    RET=$(perl -i -pe 's/^(\\s*)list\\(/\\n$1list(/' $FILE)\n\n    # 6. Add blank line after single line \"list\" calls\n    RET=$(perl -i -pe 's/^(\\s*)list(.+);(\\s*)$/$1list$2;\\n/' $FILE)\n\n    # 7. Add blank line after closing braces\n    RET=$(perl -i -pe 's/^(\\s*)\\}(\\s*)$/$1\\}$2\\n/' $FILE)\n\n    # 8. Add blank line after closing multiline statements\n    RET=$(perl -i -pe 's/^(\\s*)\\);(\\s*)$/$1\\);$2\\n/' $FILE)\n\n    # 9. Remove superflous blank lines\n    RET=$(perl -i -0pe 's/(\\n\\s*){2,}(\\n\\s*)/\\n$2/gs' $FILE)\n    RET=$(perl -i -0pe 's/(\\s*)(\\/\\/.+)(\\n\\s*){2,}$/$1$2\\n/gs' $FILE)\ndone\n</code></pre>\n\n<p>It seems to generally work but the very last regex does not seems to kick in although I have tested it with online regex testers and it matches there.</p>\n\n<p>I suspect it may be related to the /g modifier in the previous run but not sure.</p>\n\n<p>Basically, I want to fix instances of blank lines after single line comments so that ...</p>\n\n<pre><code>  // Some Comment\n\n  $ret = \"XYZ\";\n</code></pre>\n\n<p>is shown as ...</p>\n\n<pre><code>  // Some Comment\n  $ret = \"XYZ\";\n</code></pre>\n\n<p>As said, the whole thing just works as if the regex is not there.</p>\n"}, {"tags": ["sql", "sqlite", "perl"], "comments": [{"owner": {"reputation": 509, "user_id": 8432296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661982a07b925870176551934d7664c1?s=128&d=identicon&r=PG&f=1", "display_name": "q4za4", "link": "https://stackoverflow.com/users/8432296/q4za4"}, "edited": false, "score": 1, "creation_date": 1551706835, "post_id": 54984272, "comment_id": 96726667, "body": "Yes, there is very big advantage. Let&#39;s assume that commit takes 0.01s. 40 000 000 * 0.01 = 40 000s =&gt; about 11 hours. Do it every 100 000: 40 000 000l / 100 000 * 0.01 = You do the math :)  Commit it is like put a stamp. If You have 1 record pending or 100 000 - it will took same amount of time. Rollback on the other hand.."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1551709303, "post_id": 54984272, "comment_id": 96728034, "body": "Are you computing the records before you insert them, or does this data come from some file?"}], "answers": [{"tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 3, "last_activity_date": 1551708073, "creation_date": 1551708073, "answer_id": 54984835, "question_id": 54984272, "link": "https://stackoverflow.com/questions/54984272/sqlite-batch-commit-vs-commit-in-shot-for-huge-bulk-inserts/54984835#54984835", "title": "SQLite batch commit vs commit in shot for huge bulk inserts", "body": "<p>I have had some performance improvements by using the following things:</p>\n\n<p>set <strong>PRAGMA synchronous = OFF</strong> this prevents SQLite engine from waiting for OS-level write to complete.</p>\n\n<p>set <strong>PRAGMA journal_mode = MEMORY</strong> this tells the SQLite engine to store the journal in RAM instead of disk, only drawback is that the database can't be recovered in case of a OS crash or power failure.</p>\n\n<p>next, create indexes after all inserts. Also, you may issue a commit after every 100,000 records.</p>\n"}], "owner": {"reputation": 375, "user_id": 10704286, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-of8xlFarfwE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i8d962iFCs6D-HXxGc6_MAps5gIQ/mo/photo.jpg?sz=128", "display_name": "Demeter P. Chen", "link": "https://stackoverflow.com/users/10704286/demeter-p-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1551708073, "creation_date": 1551705976, "question_id": 54984272, "link": "https://stackoverflow.com/questions/54984272/sqlite-batch-commit-vs-commit-in-shot-for-huge-bulk-inserts", "title": "SQLite batch commit vs commit in shot for huge bulk inserts", "body": "<p>I need to dump huge (~ 10-40 million rows) huge data set into a SQLite database. Is there an advantage of doing a commit for every <em>n</em> number of inserts (<em>n</em> could 50,000, 100,000, etc) vs. doing a commit only after whole 40 millions rows got inserted.</p>\n\n<p>Obviously, in theory a single commit will be fastest way to do it. But is there an advantage of doing commit by batches? In my case it is either all data got inserted or non gets inserted. Is there any danger of doing extremely large amount of inserts in SQLite before doing a commit (i.e. Do I need to have bigger diskspace for sqlite as it needs to use bigger temp files?)?</p>\n\n<p>I'm using Perl DBI to insert the data.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1551682564, "post_id": 54977889, "comment_id": 96714514, "body": "Try <code>splice @$notes, $x, 1</code>."}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1551683065, "post_id": 54977889, "comment_id": 96714700, "body": "@H&#229;konH&#230;gland  No, still won&#39;t work, and adds a new error on top of the other ones.  &#39;splice() offset past end of array at /var/www/cgi-bin/Funx.pm line 133.&#39;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1551683117, "post_id": 54977889, "comment_id": 96714721, "body": "You have not adequately demonstrated your problem. Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, then fix your question."}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551686220, "post_id": 54978132, "comment_id": 96715901, "body": "It works now.  Would love to know why you can do &#39;@splice, 3, 1;&#39; but that if it&#39;s a reference you need to use parenthesis <code>splice (@{$reference}, $x, 1);</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551693630, "post_id": 54978132, "comment_id": 96719508, "body": "@SergioD.Caplan: <i>Would love to know why you can do <code>@splice, 3, 1;</code> but that if it&#39;s a reference you need to use parenthesis <code>splice (@{$reference}, $x, 1);</code></i> You don&#39;t need to do that <code>splice @{$reference}, $x, 1</code> works fine too."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1551683057, "creation_date": 1551683057, "answer_id": 54978132, "question_id": 54977889, "link": "https://stackoverflow.com/questions/54977889/i-cant-seem-to-splice-an-array-from-a-reference-in-perl/54978132#54978132", "title": "I can&#39;t seem to splice an array from a reference in Perl", "body": "<p>First of all</p>\n\n<pre><code>splice(@{$notes}), $x, 1;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>splice(@{$notes}, $x, 1);\n</code></pre>\n\n<p>That's not the error you asked about, but it's the only one you showed.</p>\n\n<hr>\n\n<p>The error leading to the error message you did obtain is likely an incorrect loop. I believe you are using something along the lines of</p>\n\n<pre><code>for (@$notes)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>for (0..$#$notes)\n</code></pre>\n\n<p>The first is buggy because you are not allowed to add or remove elements from an array over which you are iterating.</p>\n\n<p>The second is buggy because it will execute the loop body as many times as the array had elements originally, so you'll end up looping too many times.</p>\n"}], "owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 54978132, "answer_count": 1, "score": 0, "last_activity_date": 1551683057, "creation_date": 1551681956, "question_id": 54977889, "link": "https://stackoverflow.com/questions/54977889/i-cant-seem-to-splice-an-array-from-a-reference-in-perl", "title": "I can&#39;t seem to splice an array from a reference in Perl", "body": "<p>So I am passing an array reference into a function to clear out certain array elements:</p>\n\n<p>The code is as follows:</p>\n\n<pre><code>if($notes-&gt;[$x] !~ /[^CF]/)\n{\n    print \"$notes-&gt;[$x]\\n\";\n    splice (@{$notes}), $x, 1;          \n}\n</code></pre>\n\n<p>If I comment out the splice line, the loop works fine showing me each $x element of the array.  But if I do not comment out the splice comment, it all fails. It won't print out the $x element nor will the splice command work.</p>\n\n<blockquote>\n  <p>Use of uninitialized value in pattern match (m//) at\n  /var/www/cgi-bin/Funx.pm line 130. </p>\n  \n  <p>Use of uninitialized value in\n  concatenation (.) or string at /var/www/cgi-bin/Funx.pm line 132.</p>\n</blockquote>\n\n<p>Totally unsure as to what's going on here.  I can understand my splice line not being the correct syntax.  But why it affects the line above it I don't.</p>\n\n<p>Any insight would be appreciated.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 2, "creation_date": 1551676683, "post_id": 54976833, "comment_id": 96712734, "body": "Just search for <code>&#47;[^CF]&#47;</code>"}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1551678661, "post_id": 54976833, "comment_id": 96713214, "body": "@ysth Thank you.  Follow up if I may:   <code>if($notes =~ &#47;[^CF]&#47;)</code> works.  But how do I do the &quot;not&quot; match?  Have tried =! and that doesn&#39;t work.  For now just doing what I need in the <code>else</code> section.  Just want to be more precise.  Thanks again."}, {"owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "edited": false, "score": 2, "creation_date": 1551679726, "post_id": 54976833, "comment_id": 96713557, "body": "The not match operator is <code>!~</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1551692411, "post_id": 54976833, "comment_id": 96718869, "body": "Please answer in answers, not in comments."}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551749028, "post_id": 54989291, "comment_id": 96744987, "body": "While my question has been answered what does the *\\z do?  It works without that part, so not sure that that means?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551754714, "post_id": 54989291, "comment_id": 96746227, "body": "<code>*</code> means &quot;0 or more of the previous atom&quot;. <code>\\z</code> matches the end of string (just like <code>^</code> matches the start of string)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551759506, "post_id": 54989291, "comment_id": 96747159, "body": "And it most definitely does not work without that part. <code>&#47;^[CF]&#47;</code> merely checks if the string starts with one of <code>C</code> or <code>F</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551764354, "post_id": 54989291, "comment_id": 96748447, "body": "And it most definitely does not work without that part. <code>&#47;^[CF]&#47;</code> merely checks if the string starts with one of <code>C</code> or <code>F</code>."}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551764748, "post_id": 54989291, "comment_id": 96748611, "body": "maybe you misread the question, because with the *\\z it doesn&#39;t work"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551764816, "post_id": 54989291, "comment_id": 96748645, "body": "That is correct. As my answer states, it does the opposite of what you asked in the question, as you asked in a comment."}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551765595, "post_id": 54989291, "comment_id": 96748933, "body": "Ok, now I&#39;m confused.  I just want to regex formula to sort out which scalars have ONLY the characters C and F and no other notes.  Where it starts, if there are duplicates, etc, doesn&#39;t matter.  The moment a &#39;D&#39; or &#39;F&#39; shows up, that scalar gets flagged."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551765874, "post_id": 54989291, "comment_id": 96749027, "body": "That is why you asked in your question and that is answered by the first half of my answer. Use <code>$str =~ &#47;[^CF]&#47;</code>."}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551766411, "post_id": 54989291, "comment_id": 96749200, "body": "What I am using is <code>if($notes-&gt;[$x] !~ &#47;[^CDE]&#47;)</code> and if I fall into that bracket I splice that element.   When I tried it as <code>if($notes-&gt;[$x] !~ &#47;[^CDE]*\\z&#47;)</code> it didn&#39;t work properly."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551766460, "post_id": 54989291, "comment_id": 96749217, "body": "That&#39;s cause that&#39;s not what I wrote. You removed the <code>^</code> and negated the character class"}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551766691, "post_id": 54989291, "comment_id": 96749288, "body": "You&#39;re correct my apologies..  Just realized that you had the bracket outside. So if I do <code>if($notes-&gt;[$x] !~ &#47;^[CDE]*\\z&#47;)</code>it actually appears to work the same as <code>if($notes-&gt;[$x] !~ &#47;[^CDE]&#47;)</code> and that&#39;s what I would love to understand"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551766760, "post_id": 54989291, "comment_id": 96749310, "body": "What you just said is incorrect. <code>$notes-&gt;[$x] !~ &#47;^[CDE]*\\z&#47;</code> is not the same as <code>$notes-&gt;[$x] !~ &#47;[^CDE]&#47;</code>. In fact, it&#39;s exactly the opposite. <code>$notes-&gt;[$x] =~ &#47;^[CDE]*\\z&#47;</code> would be the same as <code>$notes-&gt;[$x] !~ &#47;[^CDE]&#47;</code>"}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551766898, "post_id": 54989291, "comment_id": 96749360, "body": "Yes, I meant to say =~, just a cut and past error.  So they both work, I just want to learn the difference between the two methods."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551766931, "post_id": 54989291, "comment_id": 96749374, "body": "What part do you not understand?"}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551767524, "post_id": 54989291, "comment_id": 96749570, "body": "The two different ways to get the same result.  The one I use &#39;$notes-&gt;[$x] !~ /[^CDE]/` I read it as &quot;If any character in this scalar is not C D or E the if statement is true.  I don&#39;t know what <code>if($notes-&gt;[$x] =~ &#47;^[CDE]*\\z&#47;)</code> translates to (even though it also returns true."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551768360, "post_id": 54989291, "comment_id": 96749862, "body": "Re &quot;<i>I read it as &quot;If any character in this scalar is not C D or E the if statement is true.</i>&quot;, Not even close. <code>&#47;[^CDE]&#47;</code> means &quot;contains a character that&#39;s not C/D/E&quot;, so <code>!&#47;[^CDE]&#47;</code> means &quot;doesn&#39;t contain a character that&#39;s not C/D/E&quot;. If we flatten the double-negative, we get &quot;contains only characters that are C/D/E&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551768563, "post_id": 54989291, "comment_id": 96749948, "body": "<code>&#47;^[CDE]*\\z&#47;</code> matches string that consists of zero or more C/D/E. In other words, it matches strings that contain only characters that are C/D/E."}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551768724, "post_id": 54989291, "comment_id": 96750026, "body": "Forget the IF part, and what returns true or false. <code>&#47;[^CDE]&#47;</code> works for me.    So does your contribution <code>&#47;^[012]*\\z&#47;</code>  I just want to know how yours reads out as in english?  That&#39;s what I don&#39;t understand.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551768787, "post_id": 54989291, "comment_id": 96750055, "body": "I just answered that"}, {"owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551768816, "post_id": 54989291, "comment_id": 96750070, "body": "Yes, at the same time I was typing."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1551768898, "post_id": 54989291, "comment_id": 96750108, "body": "It was also in my Answer"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1551732793, "last_edit_date": 1551732793, "creation_date": 1551723762, "answer_id": 54989291, "question_id": 54976833, "link": "https://stackoverflow.com/questions/54976833/how-to-use-regex-in-perl-to-see-if-a-variable-has-only-specific-characters/54989291#54989291", "title": "How to use regex in Perl to see if a variable has only specific characters?", "body": "<p>The following returns true if the string contains a character that is neither <code>C</code> nor <code>F</code>:</p>\n\n<pre><code>$str =~ /[^CF]/\n</code></pre>\n\n<hr>\n\n<p>In the comments, you mentioned you actually want the opposite. You could negate the above as follows:</p>\n\n<pre><code>!( $str =~ /[^CF]/ )\n$str !~ /[^CF]/\n</code></pre>\n\n<p>If you'd rather avoid the double-negative, you could check if the string consists entirely of <code>C</code> and <code>F</code> characters.</p>\n\n<pre><code>$str =~ /^[CF]*\\z/\n</code></pre>\n"}], "owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 54989291, "answer_count": 1, "score": -2, "last_activity_date": 1551732793, "creation_date": 1551675312, "question_id": 54976833, "link": "https://stackoverflow.com/questions/54976833/how-to-use-regex-in-perl-to-see-if-a-variable-has-only-specific-characters", "title": "How to use regex in Perl to see if a variable has only specific characters?", "body": "<p>I'd like to use regex in Perl to see if a scalar variable has any characters other than the ones I'm looking for.  The placement or order of the characters don't matter.</p>\n\n<p>For example if want to filter out other than the characters C and F:</p>\n\n<p>Matching to ABCADF would equal true (it has other than my filter characters)</p>\n\n<p>Matching FFC would equal false.</p>\n\n<p>Matching CCCC would also equal false.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl", "split"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551643662, "post_id": 54972996, "comment_id": 96705595, "body": "Parsing HTML with a regex is doomed to failure. Please don&#39;t do that. Use an HTML parser instead."}, {"owner": {"reputation": 37, "user_id": 7233934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4b372d249c0b82e3f8c054a61835e90?s=128&d=identicon&r=PG&f=1", "display_name": "Raznok", "link": "https://stackoverflow.com/users/7233934/raznok"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551647985, "post_id": 54972996, "comment_id": 96706793, "body": "Is it possible though? if use of a regex is absolutely necessary?"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1551648248, "post_id": 54972996, "comment_id": 96706875, "body": "Using a regex to &quot;parse&quot; XML; HTML, etc. is <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">futile</a>. See <a href=\"https://metacpan.org/pod/HTML::TreeBuilder#store_comments\" rel=\"nofollow noreferrer\">HTML::TreeParser</a> how to parse a HTML document and retaining the comments plus <a href=\"https://metacpan.org/pod/HTML::Element#Comment-pseudo-elements\" rel=\"nofollow noreferrer\">HTML::Element</a> how to access them."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1551648293, "post_id": 54972996, "comment_id": 96706888, "body": "I believe that some of the non-standard extensions to Perl regexes mean that it <i>is</i> possible. But it would be a horrible, huge, unmaintainable regex and it would take days to develop and test. It is never &quot;absolutely necessary&quot;. There are always alternatives."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1551648582, "creation_date": 1551648582, "answer_id": 54973939, "question_id": 54972996, "link": "https://stackoverflow.com/questions/54972996/parsing-html-comments-using-perl-split-function/54973939#54973939", "title": "Parsing html comments using Perl split function", "body": "<p>Since you said you are parsing a <code>.txt</code> document (with embedded HTML comments) you could try <a href=\"https://metacpan.org/pod/Regexp::Grammars\" rel=\"nofollow noreferrer\"><code>Regexp::Grammars</code></a>. Here is a starting point:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Regexp::Grammars;\n\nmy $parser = qr{   \n          &lt;nocontext:&gt;\n          &lt;words&gt;\n          &lt;token: words&gt; (?:(?:&lt;[word]&gt;&lt;[separator]&gt;?)|(?:&lt;[separator]&gt;&lt;[word]&gt;?))+\n          &lt;token: word&gt; &lt;.wordchar&gt;+\n          &lt;token: separator&gt; &lt;.comment&gt; | (?:(?:(?!&lt;.comment&gt;)(?!&lt;.wordchar&gt;)).)+\n          &lt;token: wordchar&gt; [a-zA-Z]\n          &lt;token: comment&gt; \\&lt; &lt;.wordchar&gt;+ \\&gt; [^&lt;]* \\&lt;/\\&gt;\n}sx;\n\nmy $fn = 'file.txt';\nopen ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\nmy $text = do { local $/; &lt;$fh&gt; };\nclose $fh;\n\nif ($text =~ $parser) {\n    for my $word (@{ $/{words}{word} } ) {\n        print \"'\", $word, \"'\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7233934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4b372d249c0b82e3f8c054a61835e90?s=128&d=identicon&r=PG&f=1", "display_name": "Raznok", "link": "https://stackoverflow.com/users/7233934/raznok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1551648582, "creation_date": 1551642492, "question_id": 54972996, "link": "https://stackoverflow.com/questions/54972996/parsing-html-comments-using-perl-split-function", "title": "Parsing html comments using Perl split function", "body": "<p>I have a split function which splits strings in an .txt document based on spacing and special characters and converts them to lowercase, in order to count the total number of words present in the document. I'm now trying to extend the regular expression so that entire html comments including all words within them are treated as delimiters, but I can't quite get the updated regex to work correctly. </p>\n\n<pre><code>my @words = split /(?:([_\\W\\s\\d]|(&lt;(\\w+)&gt;.*&lt;\\/\\&gt;)))+/, $text;\n #count strings\n  %count = ();\n  foreach $word (@words) {\n    @count{map lc, @keys} =\n    map lc, delete @count{@keys = keys %count};\n    $count{$word}++;\n  }\n   foreach $key (keys %count) {\n    print $key, $count{$key};\n   } \n</code></pre>\n\n<p>At present the first charcter class</p>\n\n<pre><code> [_\\W\\s\\d]+ \n</code></pre>\n\n<p>worked fine, but I cant get the second</p>\n\n<pre><code> |(&lt;(\\w+).*\\/\\&gt;)+\n</code></pre>\n\n<p>to function correctly, when used together, the second character class doesnt function correctly and whitespacing is counted as a word. ideally the desired output should split words between spacing and special characters and also split html comments (effectively ignoring any words between comment tags)</p>\n\n<p>I'm not sure whether i'm able to use two character classes in a split function or not? still getting to grips with regex!</p>\n"}, {"tags": ["perl", "prompt"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 1037763, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d4a98e635114d34f1d43c8feafbe3a9f?s=128&d=identicon&r=PG", "display_name": "user1037763", "link": "https://stackoverflow.com/users/1037763/user1037763"}, "edited": false, "score": 0, "creation_date": 1551641136, "post_id": 54972677, "comment_id": 96704802, "body": "Thank you,that was fast. Really appreciate it"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1551648143, "last_edit_date": 1551648143, "creation_date": 1551640433, "answer_id": 54972677, "question_id": 54972562, "link": "https://stackoverflow.com/questions/54972562/quit-while-loop-that-asks-for-numbers-with-ioprompter/54972677#54972677", "title": "Quit while loop that asks for numbers with IO::Prompter", "body": "<p><code>-DEF</code> can be used to provide a default that's not a valid response, allowing us to distinguish between a valid a response and just pressing Enter.</p>\n\n<pre><code>sub showNumbers {\n    while (1) {\n        my $num = prompt 'Enter a number', -num, -DEF =&gt; \"\";\n\n        # $num is a weird value that true even for an empty string, so\n        # we must separately check for false (meaning EOF) and empty string.\n        last if !$num || $num eq \"\";\n\n        print \"$num\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 1037763, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d4a98e635114d34f1d43c8feafbe3a9f?s=128&d=identicon&r=PG", "display_name": "user1037763", "link": "https://stackoverflow.com/users/1037763/user1037763"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 54972677, "answer_count": 1, "score": 1, "last_activity_date": 1551648143, "creation_date": 1551639757, "question_id": 54972562, "link": "https://stackoverflow.com/questions/54972562/quit-while-loop-that-asks-for-numbers-with-ioprompter", "title": "Quit while loop that asks for numbers with IO::Prompter", "body": "<p>While using IO::Prompter I'm asking only numbers as input. This works. However I can't seem to find an elegant way to move away from the subroutine if I enter something like 'quit'.</p>\n\n<p>In the documents it said something like:</p>\n\n<pre><code>while (my $cmd = prompt '&gt;', -fail=&gt;'quit') {\n    ...\n}\n</code></pre>\n\n<p>But I haven't been able to implement that and tried the following that doesn't function properly (I can't quit).</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse IO::Prompter;\n\nmy $ask = prompt \"Do you want to show numbers?\", -yn;\nprint \"You entered: $ask\\n\";\nif ( $ask eq 'y' ) {\n    showNumbers();\n}\nelse {\n    print \"You said: no\\n\";\n}\n\nsub showNumbers {\n    while ( prompt -num, 'Enter a number'){\n        print \"$_\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1551635568, "post_id": 54971791, "comment_id": 96703005, "body": "I can&#39;t reproduce your problem."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1551635858, "post_id": 54971791, "comment_id": 96703123, "body": "On 2nd thought, yes, your example works for me too. Lazy match operators are inefficient though..."}], "answers": [{"tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 2, "last_activity_date": 1551635713, "creation_date": 1551635713, "answer_id": 54971917, "question_id": 54971791, "link": "https://stackoverflow.com/questions/54971791/perl-lazy-match-external-file-with-regular-expression/54971917#54971917", "title": "perl lazy match external file with regular expression", "body": "<p>Something like this maybe?</p>\n\n<ul>\n<li>look for a fixed start string (<code>vendor.</code> or <code>inline.</code>) <sup>1</sup></li>\n<li>look for one-or-more non-space characters</li>\n<li>look for a fixed end string (<code>.js</code>)</li>\n<li>replace it with <sup>1</sup> + <code>.js</code></li>\n</ul>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ echo \"vendor.adsf34.bundle.js blah blah  inline.1r34afer.bundle.js\" | perl -pe 's/(vendor|inline)\\.\\S+\\.js/\\1.js/g'\nvendor.js blah blah  inline.js\n</code></pre>\n"}], "owner": {"reputation": 11421, "user_id": 66696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8432e47991364671c37d83af91231e55?s=128&d=identicon&r=PG", "display_name": "Allan Bowe", "link": "https://stackoverflow.com/users/66696/allan-bowe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 54971917, "answer_count": 1, "score": 1, "last_activity_date": 1551635713, "creation_date": 1551634983, "question_id": 54971791, "link": "https://stackoverflow.com/questions/54971791/perl-lazy-match-external-file-with-regular-expression", "title": "perl lazy match external file with regular expression", "body": "<p>I have an <code>index.html</code> file that contains a string like:</p>\n\n<p><code>vendor.adsf34.bundle.js blah blah  inline.1r34afer.bundle.js</code></p>\n\n<p>I've built the following code (mac, iterm2):</p>\n\n<pre><code>perl -i -pe 's/vendor\\..+?\\.js/vendor.js/g;' index.html\nperl -i -pe 's/inline\\..+?\\.js/inline.js/g;' index.html\n</code></pre>\n\n<p>However I end up with:</p>\n\n<p><code>vendor.js</code></p>\n\n<p>ie, it seems to be greedy matching where I need it to be lazy.  </p>\n\n<p>What I'm trying to do is shorten the js names, eg as follows:</p>\n\n<p><code>vendor.js blah blah inline.js</code></p>\n\n<p>Be great to get some pointers!</p>\n"}, {"tags": ["perl", "hash", "delete-row"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1551631882, "post_id": 54970848, "comment_id": 96701751, "body": "Please don&#39;t include code as image - include it as text with proper code formatting (read the available help if unclear how to do this). Also, this is no code writing service but it looks like that you did not even made the slightest attempt to solve the relevant part of the problem yourself. Please first try yourself or at least explain how do you think it might be done or where exactly your problems are. My current guess is that you are not familiar with what a hash is in the first place since once the concept behind a hash is known the solution should be straight forward."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1551635163, "post_id": 54970848, "comment_id": 96702881, "body": "Example input and expected output is missing too."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551639203, "post_id": 54970848, "comment_id": 96704228, "body": "Use a HoH instead of a HoA to get rid of the duplicates. You can always convert it to an HoA later."}], "answers": [{"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1551889653, "post_id": 54971318, "comment_id": 96808247, "body": "You shouldn&#39;t use global filehandles. (<code>open my $fp_list</code> is much better than <code>open LIST</code>)."}], "tags": [], "owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "is_accepted": false, "score": 0, "last_activity_date": 1551632248, "creation_date": 1551632248, "answer_id": 54971318, "question_id": 54970848, "link": "https://stackoverflow.com/questions/54970848/how-can-i-deleted-repetitive-values-in-my-hash-in-perl/54971318#54971318", "title": "How can I deleted repetitive values in my hash in perl?", "body": "<p>You can simply use <code>uniq()</code> from <code>List::MoreUtils</code> module to have a single item in an array, and its better to remove duplicated items before making them keys in your hash</p>\n\n<p>something like This will do it:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nuse List::MoreUtils qw(uniq);\n\nmy %cathmin;\n\nopen (LIST, \"&lt;cath_min.txt\") || die \"[-] Can't open the file\";\nmy @list = &lt;LIST&gt;; # load your array from your file\nclose LIST;\n\n@list = uniq(@list); # remove duplicated items in array\n\nforeach my $item (@list) {\n  chomp $item;\n  # here you can do what you want\n}\n\nprint Dumper(\\%cathmin); # check your hash contents\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10846856, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8N0V4ihGRRY/AAAAAAAAAAI/AAAAAAAAAHI/sHS0uDH3gAc/photo.jpg?sz=128", "display_name": "Maria Jose Estrella", "link": "https://stackoverflow.com/users/10846856/maria-jose-estrella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1551635072, "creation_date": 1551629415, "last_edit_date": 1551635072, "question_id": 54970848, "link": "https://stackoverflow.com/questions/54970848/how-can-i-deleted-repetitive-values-in-my-hash-in-perl", "title": "How can I deleted repetitive values in my hash in perl?", "body": "<p>I have a text file with 300 rows and 100 of this rows are repeated. I dont know how search in my hash and delete this repetitions.</p>\n\n<p>This is my perl code when I must add the new code lines:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ryyZL.jpg\" alt=\"enter image description here\"></p>\n"}, {"tags": ["perl", "stdin"], "comments": [{"owner": {"reputation": 119, "user_id": 2831586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7263ab2fe2761223374ad8ae33085988?s=128&d=identicon&r=PG&f=1", "display_name": "user2831586", "link": "https://stackoverflow.com/users/2831586/user2831586"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1551629945, "post_id": 54970840, "comment_id": 96701152, "body": "no not a duplication. im a beginner in perl and not really sure how to put the suggestion listed in that thread to use in my situation.  can you help?  i just want to assign a value to stdin."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1551631329, "post_id": 54970840, "comment_id": 96701552, "body": "Yes it is probably not a duplicate. I was not able to read from the string after redefining <code>STDIN</code> and then using <code>&lt;&gt;</code>, but it works fine if you can change <code>&lt;&gt;</code> to <code>&lt;STDIN&gt;</code>"}, {"owner": {"reputation": 119, "user_id": 2831586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7263ab2fe2761223374ad8ae33085988?s=128&d=identicon&r=PG&f=1", "display_name": "user2831586", "link": "https://stackoverflow.com/users/2831586/user2831586"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1551631910, "post_id": 54970840, "comment_id": 96701762, "body": "I tried that. it didnt work.  what did you do that it worked for you?"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 2831586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7263ab2fe2761223374ad8ae33085988?s=128&d=identicon&r=PG&f=1", "display_name": "user2831586", "link": "https://stackoverflow.com/users/2831586/user2831586"}, "edited": false, "score": 0, "creation_date": 1551636012, "post_id": 54971208, "comment_id": 96703168, "body": "this might be the answer. but Im wondering how do i apply this to the scenario in my original post?  where im assigning a specific value to stdin...i.e. &#39;hello&#39; ?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 119, "user_id": 2831586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7263ab2fe2761223374ad8ae33085988?s=128&d=identicon&r=PG&f=1", "display_name": "user2831586", "link": "https://stackoverflow.com/users/2831586/user2831586"}, "edited": false, "score": 0, "creation_date": 1551636342, "post_id": 54971208, "comment_id": 96703280, "body": "Just set <code>$str</code> to the value you want to assign, then <code>&lt;&gt;</code> in the <code>while</code> loop will pick it up"}, {"owner": {"reputation": 119, "user_id": 2831586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7263ab2fe2761223374ad8ae33085988?s=128&d=identicon&r=PG&f=1", "display_name": "user2831586", "link": "https://stackoverflow.com/users/2831586/user2831586"}, "edited": false, "score": 0, "creation_date": 1551639229, "post_id": 54971208, "comment_id": 96704238, "body": "it works. but only prints the first line.  so if i assign a content of multiple lines to <code>$str</code> it only prints out the first line.  can it be edited to print out everything as it is stored in <code>$str</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 119, "user_id": 2831586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7263ab2fe2761223374ad8ae33085988?s=128&d=identicon&r=PG&f=1", "display_name": "user2831586", "link": "https://stackoverflow.com/users/2831586/user2831586"}, "edited": false, "score": 0, "creation_date": 1551639436, "post_id": 54971208, "comment_id": 96704303, "body": "Yes you can just set the input record separator to <code>undef</code> before reading from the handle. For example: <code>local $&#47;</code>, see <a href=\"https://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perldoc perlvar</a> for more information. Re: <i>&quot;it only prints out the first line&quot;</i> : Maybe you could send me the code you are working on? Then I will check it out."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1551634991, "last_edit_date": 1551634991, "creation_date": 1551631592, "answer_id": 54971208, "question_id": 54970840, "link": "https://stackoverflow.com/questions/54970840/assign-specific-value-to-perl-stdin/54971208#54971208", "title": "assign specific value to perl STDIN", "body": "<p>According to <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\"><code>perldoc open</code></a>:</p>\n\n<blockquote>\n  <p>[...] you can open filehandles directly to Perl scalars via:</p>\n\n<pre><code>open(my $fh, \"&gt;\", \\$variable) || ..   \n</code></pre>\n</blockquote>\n\n<p>see also <a href=\"https://perldoc.perl.org/PerlIO/scalar.html\" rel=\"nofollow noreferrer\">PerlIO::scalar</a>. Further, according to <a href=\"https://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">perldoc perlop</a>:</p>\n\n<blockquote>\n  <p>The null filehandle &lt;> is special: it can be used to emulate the\n  behavior of <code>sed</code> and <code>awk</code>, and any other Unix filter program that takes\n  a list of filenames, doing the same to each line of input from all of\n  them. Input from <code>&lt;&gt;</code> comes either from standard input, or from each\n  file listed on the command line. Here's how it works: the first time\n  <code>&lt;&gt;</code> is evaluated, the <code>@ARGV</code> array is checked, and if it is empty, <code>$ARGV[0]</code> \n  is set to <code>\"-\"</code> , which when opened gives you standard input. The <code>@ARGV</code> \n  array is then processed as a list of filenames. </p>\n</blockquote>\n\n<p>So when you do <code>while (&lt;&gt;)</code> it will try to \"open standard input\" (provided you did not give command line arguments, i.e. <code>@ARGV</code> is empty). This <code>open</code> command is not affected by the current value of the variable <code>STDIN</code>, instead (I guess) it will simply do something like:</p>\n\n<pre><code>open ARGV, '/dev/tty' or die \"open: /dev/tty: $!\";\n</code></pre>\n\n<p>So it seems it is not possible to redefine the behavior of <code>&lt;&gt;</code> to read from a string by changing <code>STDIN</code>.</p>\n\n<p>But instead of using the null file handle <code>&lt;&gt;</code> in your loop, if you could use <code>&lt;STDIN&gt;</code> instead.. then redefining <code>STDIN</code> to a string file handle would work:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = \"hello\\n\";\nopen my $fh, \"&lt;\", \\$str or die \"Could not open string file handle: $!\";\n{\n    local *STDIN = $fh;\n    while (&lt;STDIN&gt;) {\n        print;\n    }\n}\nclose $fh;\nmy $line = &lt;STDIN&gt;;\nprint \"Terminal input: \", $line;\n</code></pre>\n\n<p><strong>Edit</strong>: </p>\n\n<p>The following also seems to work:</p>\n\n<pre><code>local *ARGV = $fh;\nwhile (&lt;&gt;) {\n    print;\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 2831586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7263ab2fe2761223374ad8ae33085988?s=128&d=identicon&r=PG&f=1", "display_name": "user2831586", "link": "https://stackoverflow.com/users/2831586/user2831586"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 54971208, "answer_count": 1, "score": 0, "last_activity_date": 1551634991, "creation_date": 1551629367, "question_id": 54970840, "link": "https://stackoverflow.com/questions/54970840/assign-specific-value-to-perl-stdin", "title": "assign specific value to perl STDIN", "body": "<p>I'm performing a test and need to assign a specific value to STDIN within a perl code.</p>\n\n<p>So instead of reading from stdin like this:</p>\n\n<pre><code>#myperl.pl\n#!//usr/bin/env perl\n#\nwhile (&lt;&gt;) {\nprint;\n}\n\n# echo hello | ./myperl.pl\nhello\n</code></pre>\n\n<p>I can just do this:</p>\n\n<pre><code>#myperl.pl\n#!//usr/bin/env perl\n#\n&lt;STDIN&gt; = \"hello\";\nwhile (&lt;&gt;) {\nprint;\n}\n\n./myperl.pl\n# hello\n</code></pre>\n\n<p>Of course, the text <code>hello</code> can be multiple lines in a real test case scenario. </p>\n"}, {"tags": ["perl", "cpan", "tcsh"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1551578403, "post_id": 54961818, "comment_id": 96690463, "body": "Re &quot;<i>I found that new installs are separated from the &quot;core CPAN.pms&quot;, in a sneaky directory called &quot;sites/lib/&quot; (bizarre).</i>&quot;, Uh, that&#39;s normal. User-installed, vendor-installed and core modules should be installed in different directories, and &quot;site&quot; is a normal name for the user-installed modules. See <a href=\"https://stackoverflow.com/a/30379902/589924\">this</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1551578918, "post_id": 54961818, "comment_id": 96690540, "body": "You shouldn&#39;t have to tell Perl where to look for these. What&#39;s the output of <code>perl -le&#39;print for @INC&#39;</code> with <code>PERL5LIB</code> unset, and what&#39;s the output of <code>perl -V:&#39;install(privlib|archlib|vendorlib|vendorarch|sitelib|sit&zwnj;&#8203;earch)&#39;</code>?"}, {"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551639287, "post_id": 54961818, "comment_id": 96704260, "body": "Yes you are right its not needed, the problem was the user access to &quot;sites&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1551556600, "post_id": 54962152, "comment_id": 96685747, "body": "Thanks! I&#39;m using ActiveState&#39;s ActivePerl now (later version). The difficulty was the user installed CPAN modules are dumped here &quot;/usr/local/ActivePerl-5.24/site/lib&quot;, which is a root ownership directory. I thought they would be here, &quot;/usr/local/ActivePerl-5.24/lib&quot; and I just couldn&#39;t figure why I was getting &quot;permission denied&quot; errors when running a script without &#39;sudo&#39;. I misread the error output within cpan shell."}, {"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1551557157, "post_id": 54962152, "comment_id": 96685891, "body": "I guess &quot;havoc&quot; (computer) is probably better described as &quot;angst&quot; (me). Hope that helps."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1551555243, "last_edit_date": 1551555243, "creation_date": 1551554441, "answer_id": 54962152, "question_id": 54961818, "link": "https://stackoverflow.com/questions/54961818/activeperl-cpan-and-tshrc/54962152#54962152", "title": "ActivePerl CPAN and .tshrc", "body": "<p>That line correctly appends to the environment variable <code>PERL5LIB</code> in <code>tcsh</code>.</p>\n\n<p>From <code>man tcsh</code> on my system</p>\n\n<blockquote>\n  <p>setenv [name [value]]  </p>\n  \n  <p>Without arguments, prints the names and values of all environment variables.  Given name, sets the environment variable name to value or, without value, to the null string.</p>\n</blockquote>\n\n<p>An environment variable in <code>tcsh</code> can be set to a value that represents a list by separating entries with a colon (<code>:</code>). Thus saying <code>PERL5LIB:...</code> is a way to append to an existing value of <code>PERL5LIB</code>.  </p>\n\n<p>The <code>PERL5LIB</code>, as explained <a href=\"https://perldoc.perl.org/perlrun.html#PERL5LIB\" rel=\"nofollow noreferrer\">in perlrun</a>, is</p>\n\n<blockquote>\n  <p>A list of directories in which to look for Perl library files before looking in the standard library and the current directory. Any architecture-specific and version-specific directories, such as version/archname/, version/, or archname/ under the specified locations are automatically included if they exist, with this lookup done at interpreter startup time.</p>\n</blockquote>\n\n<p>but note that the \"<em>current directory</em>\" is not searched for libraries any more, a security enhancement in modern Perl versions.</p>\n\n<p>So your line is adding the <code>/usr/local/ActivePerl</code> locations to the defaults paths set up in your Perl version. </p>\n\n<p>I can't tell how and why ActivePerl \"<em>caused havoc with CPAN installations</em>\" (?) on a Mac OS X. I presume that you had another Perl installed (by your mention of \"<em>CPAN installantions</em>\"), but I am confused as to which one you are using now, once that ActiveState is there (as well?).</p>\n"}, {"tags": [], "owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "is_accepted": false, "score": 1, "last_activity_date": 1551864281, "creation_date": 1551864281, "answer_id": 55019572, "question_id": 54961818, "link": "https://stackoverflow.com/questions/54961818/activeperl-cpan-and-tshrc/55019572#55019572", "title": "ActivePerl CPAN and .tshrc", "body": "<p><strong>To summarise</strong>, the output of @INC command line inquiry makes it clear that ActiveStates Perl automatically sees CPAN libs so <code>\"setenv PERL5LIB PERL5LIB:....:....\"</code> within .cshrc duplicates this as @ikegami identified. </p>\n\n<p>The latest stable ActiveStates implementation of Perl works fine, the primary problem was the permission over the 'sites/lib' directory (OS X installation not Linux). </p>\n\n<p>However, my coding app (BBEdit, version 12.6.1) does require PERL5LIB to be set within .cshrc before the \"run\" function will work. So @zdim response was useful in context. Thanks to both responders, appreciated.</p>\n"}], "owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "accepted_answer_id": 54962152, "answer_count": 2, "score": 0, "last_activity_date": 1551864415, "creation_date": 1551552287, "last_edit_date": 1551864415, "question_id": 54961818, "link": "https://stackoverflow.com/questions/54961818/activeperl-cpan-and-tshrc", "title": "ActivePerl CPAN and .tshrc", "body": "<p>I installed ActivePerl (5.24.3.1) on a Mac OS X and caused 'havoc' with CPAN installations. The new installs are separated from the \"core CPAN.pms\", in \"sites/lib/\". </p>\n\n<p>Anyway I have stuck the following in my directory .cshrc </p>\n\n<pre><code>setenv PERL5LIB PERL5LIB:/usr/local/ActivePerl-5.24/lib:/usr/local/ActivePerl-5.24/site/lib\n</code></pre>\n\n<p>I made it up, but everything seems to work. Is it valid code?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1551488654, "post_id": 54954181, "comment_id": 96671027, "body": "While BOM (byte order marker) isn&#39;t required in UTF-8 files, it can be there. I&#39;d suggest doing. <code>$input =~ s&#47;^\\x{FEFF}&#47;&#47;;</code> before you start processing it."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1551489637, "post_id": 54954181, "comment_id": 96671193, "body": "It means <code>$data{$i}</code> is <code>undef</code>, probably because <code>$i</code> isn&#39;t one of the values you expect."}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1551489839, "post_id": 54954181, "comment_id": 96671218, "body": "I don&#39;t get the error - the program works flawlessly (as long as the expected result is 6798.62). Have you copy-pasted here? And what platform, and what version of Perl are you using? (I&#39;m on Win 10 + Strawberry Perl v5.24.0)."}, {"owner": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "reply_to_user": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1551491557, "post_id": 54954181, "comment_id": 96671497, "body": "@Silvar, I changed the $input =~ s/^\\x{FEFF}// as you said, yes, no errors occured but no results too. I use perl 5.18.2 on ubuntu, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "edited": false, "score": 0, "creation_date": 1551496093, "post_id": 54954319, "comment_id": 96672118, "body": "yes, you are right, when changed as you said, no error hint suggested in this case. while in some fasta file, it still give the error hint, so I delete the fasta sequences one by one, and I found one &#39;special&#39; sequence, which still gives the error using the corrected script as you said, but when you copy to somewhere and back, you will find no error hint suggested. So, I think your solution is may solve some cases as you said, other strange cases still remaind.Thank you very much!"}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "reply_to_user": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "edited": false, "score": 0, "creation_date": 1551506732, "post_id": 54954319, "comment_id": 96673630, "body": "@james I&#39;ve added to the solution."}, {"owner": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "edited": false, "score": 0, "creation_date": 1551578476, "post_id": 54954319, "comment_id": 96690476, "body": "Excellent !  your solutions really work ! Thank you very much!"}], "tags": [], "owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "is_accepted": true, "score": 1, "last_activity_date": 1551506712, "last_edit_date": 1551506712, "creation_date": 1551489037, "answer_id": 54954319, "question_id": 54954181, "link": "https://stackoverflow.com/questions/54954181/how-to-fix-the-error-of-use-of-unitialized-value-in-addition-in-perl-script/54954319#54954319", "title": "How to fix the error of &quot;Use of unitialized value in addition...&quot; in perl script?", "body": "<p>You probably have an errant SPACE somewhere in your data file. Just change</p>\n\n<pre><code>$seq =~ s/\\n//smxg;\n</code></pre>\n\n<p>into</p>\n\n<pre><code>$seq =~ s/\\s//smxg;\n</code></pre>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>Besides whitespace, there may be some non-whitespace invisible characters in the data, like WORD JOINER (U+2060).</p>\n\n<p>If you want to be sure to be thorough and you know all the legal symbols, you can delete everything apart from them:</p>\n\n<pre><code>$seq =~ s/[^ARDNCEQGHILKMFPSTWYV]//smxg;\n</code></pre>\n\n<p>Or, to make sure you won't miss any (even if you later change the symbols), you can populate a filter regex dynamically from the hash keys.</p>\n\n<p>You'd need to make <code>%Data</code> and the filter regex global, so the filter is available in the main loop. As a beneficial side effect, you don't need to re-initialize the data hash every time you enter <code>calc_mass()</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %Data = (A=&gt;71.09,...);\nmy $Filter_regex = eval { my $x = '[^' . join('', keys %Data) . ']'; qr/$x/; };\n\n...\n\n$seq =~ s/$Filter_regex//smxg;\n</code></pre>\n\n<p>(This filter works as long as the symbols are single character. For more complicated ones, it may be preferable to match for the symbols and collect them from the sequence, instead of removing unwanted characters.)</p>\n"}], "owner": {"reputation": 81, "user_id": 10744519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d94293f513bf53230e02870d1c3e02d?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/10744519/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 54954319, "answer_count": 1, "score": -1, "last_activity_date": 1551506712, "creation_date": 1551487756, "question_id": 54954181, "link": "https://stackoverflow.com/questions/54954181/how-to-fix-the-error-of-use-of-unitialized-value-in-addition-in-perl-script", "title": "How to fix the error of &quot;Use of unitialized value in addition...&quot; in perl script?", "body": "<p>Here is the script of user Suic for calculating molecular weight of fasta sequences (<a href=\"https://stackoverflow.com/questions/17563032/calculating-molecular-weight-in-perl\">calculating molecular weight in perl</a>),</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Encode;\n\n\nfor my $file (@ARGV) {\n    open my $fh, '&lt;:encoding(UTF-8)', $file;\n    my $input = join q{}, &lt;$fh&gt;; \n    close $fh;\n    while ( $input =~ /^(&gt;.*?)$([^&gt;]*)/smxg ) {\n        my $name = $1;\n        my $seq = $2;\n        $seq =~ s/\\n//smxg;\n        my $mass = calc_mass($seq);\n        print \"$name has mass $mass\\n\";\n    }\n}\n\nsub calc_mass {\n    my $a = shift;\n    my @a = ();\n    my $x = length $a;\n    @a = split q{}, $a;\n    my $b = 0;\n    my %data = (\n        A=&gt;71.09,  R=&gt;16.19,  D=&gt;114.11,  N=&gt;115.09,\n        C=&gt;103.15,  E=&gt;129.12,  Q=&gt;128.14,  G=&gt;57.05,\n        H=&gt;137.14,  I=&gt;113.16,  L=&gt;113.16,  K=&gt;128.17,\n        M=&gt;131.19,  F=&gt;147.18,  P=&gt;97.12,  S=&gt;87.08,\n        T=&gt;101.11,  W=&gt;186.12,  Y=&gt;163.18,  V=&gt;99.14\n    );\n    for my $i( @a ) {\n        $b += $data{$i};\n    }\n    my $c = $b - (18 * ($x - 1));\n    return $c;\n}\n</code></pre>\n\n<p>and the protein.fasta file with n (here is 2) sequences:</p>\n\n<blockquote>\n  <p>seq_ID_1 descriptions etc \n      ASDGDSAHSAHASDFRHGSDHSDGEWTSHSDHDSHFSDGSGASGADGHHAH\n      ASDSADGDASHDASHSAREWAWGDASHASGASGASGSDGASDGDSAHSHAS\n      SFASGDASGDSSDFDSFSDFSD</p>\n</blockquote>\n\n<pre><code>&gt;seq_ID_2 descriptions etc\nASDGDSAHSAHASDFRHGSDHSDGEWTSHSDHDSHFSDGSGASGADGHHAH\nASDSADGDASHDASHSAREWAWGDASHASGASGASG\n</code></pre>\n\n<p>When using: perl molecular_weight.pl protein.fasta > output.txt\nin terminal, it will generate the correct results, however it also presents an error of \"Use of unitialized value in addition (+) at molecular_weight.pl line36\", which is just localized in line of \"$b += $data{$i};\" how to fix this bug ? Thanks in advance !</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 7233934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4b372d249c0b82e3f8c054a61835e90?s=128&d=identicon&r=PG&f=1", "display_name": "Raznok", "link": "https://stackoverflow.com/users/7233934/raznok"}, "edited": false, "score": 0, "creation_date": 1551472497, "post_id": 54951822, "comment_id": 96666537, "body": "Thank you! this was great!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1551474855, "post_id": 54951822, "comment_id": 96667388, "body": "It would be very helpful if you could explain what the code is actually doing so that future readers have a bit better of an understanding."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1551476172, "post_id": 54951822, "comment_id": 96667846, "body": "@stevieb I have added explanation comments"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 4, "last_activity_date": 1551476095, "last_edit_date": 1551476095, "creation_date": 1551472012, "answer_id": 54951822, "question_id": 54951706, "link": "https://stackoverflow.com/questions/54951706/printing-specific-number-of-key-value-pairs-in-a-hash/54951822#54951822", "title": "Printing specific number of key-value pairs in a hash", "body": "<pre><code>%count = ();\nforeach $string (@strings) {\n    $count{$string}++;\n}\nmy $n=0; # variable to keep count of processed keys\nforeach my $key (sort {$count{$b} &lt;=&gt; $count{$a} } keys %count) {\n    # count processed keys (++$n) \n    # and terminate the loop after processing 5 keys  \n    last if ++$n&gt;5; \n    print $key, \": \", $count{$key} ;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1551477292, "post_id": 54951941, "comment_id": 96668245, "body": "The recently added <a href=\"https://perldoc.pl/List::Util#head\" rel=\"nofollow noreferrer\">head/tail functions</a> in List::Util can make this slightly nicer as well - it will avoid returning undefs if there are less than 5 keys. <code>use List::Util 1.50 &#39;head&#39;; say &quot;$_: $count{$_}&quot; for head 5, sort ... keys %count;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1551478310, "post_id": 54951941, "comment_id": 96668571, "body": "@Grinnz Interesting! Didn&#39;t know about these.  Thanks for less-than-5 keys note ... added comments"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1551478303, "last_edit_date": 1551478303, "creation_date": 1551472541, "answer_id": 54951941, "question_id": 54951706, "link": "https://stackoverflow.com/questions/54951706/printing-specific-number-of-key-value-pairs-in-a-hash/54951941#54951941", "title": "Printing specific number of key-value pairs in a hash", "body": "<p>Can take a <a href=\"https://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">slice</a> of the list returned by sort</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\n....\n\nmy %count;    \nforeach my $string (@strings) {\n    ++$count{$string}\n}\n\nsay \"$_: $count{$_}\" \n    for ( sort { $count{$b} &lt;=&gt; $count{$a} } keys %count )[0..4];\n</code></pre>\n\n<p>(This expects that the hash indeed has five keys; if it can happen that that is not the case you'd get hit by warnings so add a test in that case, for instance <code>$_ and say \"...\" for ...</code>)</p>\n\n<p>The code in the question is clearly not using <code>strict</code>; I recommend to <em>always</em> use it.</p>\n\n<p>The <code>%count = ()</code> makes sense if the hash has been populated before and now need be emptied. If you are creating it then just declare (and without <code>= ()</code>, which does nothing).</p>\n\n<hr>\n\n<p>Note, thanks to <a href=\"https://stackoverflow.com/users/5848200/grinnz\">Grinnz</a>: very recent <a href=\"https://metacpan.org/pod/List::Util\" rel=\"nofollow noreferrer\">List::Util 1.50</a> adds <code>head</code> (and <code>tail</code>) functions</p>\n"}], "owner": {"reputation": 37, "user_id": 7233934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4b372d249c0b82e3f8c054a61835e90?s=128&d=identicon&r=PG&f=1", "display_name": "Raznok", "link": "https://stackoverflow.com/users/7233934/raznok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1551478303, "creation_date": 1551471480, "last_edit_date": 1551471674, "question_id": 54951706, "link": "https://stackoverflow.com/questions/54951706/printing-specific-number-of-key-value-pairs-in-a-hash", "title": "Printing specific number of key-value pairs in a hash", "body": "<p>I have a hash  which stores the count of key-value pairs, from an array of strings taken from an input document then sorts them and prints them.</p>\n\n<pre><code>%count = ();\nforeach $string (@strings) {\n    $count{$string}++;\n}\nforeach my $key (sort {$count{$b} &lt;=&gt; $count{$a} } keys %count) {\n    print $key, \": \", $count{$key} ; \n}\n</code></pre>\n\n<p>so I am wondering is there a way to only print a certain number of key-value pairs in the hash instead of all of them ? i.e print top 5 based the value? </p>\n\n<p>edit: would a for loop solve this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1551444076, "post_id": 54944729, "comment_id": 96652448, "body": "<a href=\"http://p3rl.org/join\" rel=\"nofollow noreferrer\">join</a> returns a string, not an array. Also, turn on <a href=\"http://p3rl.org/warnings\" rel=\"nofollow noreferrer\">warnings</a>: <code>Applying pattern match (m&#47;&#47;) to @arr will act on scalar(@arr)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 0, "last_activity_date": 1551448600, "creation_date": 1551448600, "answer_id": 54946144, "question_id": 54944729, "link": "https://stackoverflow.com/questions/54944729/i-am-trying-to-get-the-matched-elements-from-an-array-by-using-strings-mnpportin/54946144#54946144", "title": "I am trying to get the matched elements from an array by using strings MNPPORTIN,00:11:16 with regular exp &amp; grep function", "body": "<p>Not really an attempt to answer, just trying to understand what you want to achieve. Maybe the following is the code you wanted to write?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @a = (\n    q{00:11:16 01-03-2019: Watching process \"clear_dialtunes_errors.sh -daemon\", minimum instances: 1, maximum instances: 1 (Queue: SV_MO)},\n    q{00:11:16 01-03-2019: Watching process \"DN=MNPPORTIN_1\", minimum instances: 1, maximum instances: 1 (Queue: SV_HI,ACRM,F2)},\n    q{00:11:16 01-03-2019: Watching process \"DN=MNPPORTIN_WSALE_1\", minimum instances: 1, maximum instances: 1 (Queue: SV_HI,ACRM,F2)},\n    q{08:51:41 01-03-2019: FS: /platform/SUNW,Sun-Blade-T6320/lib/sparcv9/libc_psr/libc_psr_hwcap2.so.1 1918198 inodes},\n    q{08:51:41 01-03-2019: FS: /dev/md/dsk/d5 29989287 inodes},\n    q{08:51:41 01-03-2019: FS: /opt/apps01/opt/oracle 29989287 inodes},\n);\n\n\nmy $j = join(\"\\n\", @a);\nprint(\"The value for \\$j is :\\n${j}\\n\\n\");\n\nmy @b = grep { /00:11:16/ } @a;\nprint(\"The value for \\@b is :\\n@{b}\\n\\n\");\n\nmy @c = grep { /MNPPORTIN/ } ($j);\nprint(\"The value for \\@c is :\\n@{c}\\n\\n\");\n\nforeach my $a (@a) {\n    if($a =~ /MNPPORTIN/) {\n        print \"Match found \\n\";\n    } else {\n        print \"No match found for ${a}\\n\";\n    }\n}\n\nexit 0;\n</code></pre>\n\n<p>Output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl\nThe value for $j is :\n00:11:16 01-03-2019: Watching process \"clear_dialtunes_errors.sh -daemon\", minimum instances: 1, maximum instances: 1 (Queue: SV_MO)\n00:11:16 01-03-2019: Watching process \"DN=MNPPORTIN_1\", minimum instances: 1, maximum instances: 1 (Queue: SV_HI,ACRM,F2)\n00:11:16 01-03-2019: Watching process \"DN=MNPPORTIN_WSALE_1\", minimum instances: 1, maximum instances: 1 (Queue: SV_HI,ACRM,F2)\n08:51:41 01-03-2019: FS: /platform/SUNW,Sun-Blade-T6320/lib/sparcv9/libc_psr/libc_psr_hwcap2.so.1 1918198 inodes\n08:51:41 01-03-2019: FS: /dev/md/dsk/d5 29989287 inodes\n08:51:41 01-03-2019: FS: /opt/apps01/opt/oracle 29989287 inodes\n\nThe value for @b is :\n00:11:16 01-03-2019: Watching process \"clear_dialtunes_errors.sh -daemon\", minimum instances: 1, maximum instances: 1 (Queue: SV_MO) 00:11:16 01-03-2019: Watching process \"DN=MNPPORTIN_1\", minimum instances: 1, maximum instances: 1 (Queue: SV_HI,ACRM,F2) 00:11:16 01-03-2019: Watching process \"DN=MNPPORTIN_WSALE_1\", minimum instances: 1, maximum instances: 1 (Queue: SV_HI,ACRM,F2)\n\nThe value for @c is :\n00:11:16 01-03-2019: Watching process \"clear_dialtunes_errors.sh -daemon\", minimum instances: 1, maximum instances: 1 (Queue: SV_MO)\n00:11:16 01-03-2019: Watching process \"DN=MNPPORTIN_1\", minimum instances: 1, maximum instances: 1 (Queue: SV_HI,ACRM,F2)\n00:11:16 01-03-2019: Watching process \"DN=MNPPORTIN_WSALE_1\", minimum instances: 1, maximum instances: 1 (Queue: SV_HI,ACRM,F2)\n08:51:41 01-03-2019: FS: /platform/SUNW,Sun-Blade-T6320/lib/sparcv9/libc_psr/libc_psr_hwcap2.so.1 1918198 inodes\n08:51:41 01-03-2019: FS: /dev/md/dsk/d5 29989287 inodes\n08:51:41 01-03-2019: FS: /opt/apps01/opt/oracle 29989287 inodes\n\nNo match found for 00:11:16 01-03-2019: Watching process \"clear_dialtunes_errors.sh -daemon\", minimum instances: 1, maximum instances: 1 (Queue: SV_MO)\nMatch found \nMatch found \nNo match found for 08:51:41 01-03-2019: FS: /platform/SUNW,Sun-Blade-T6320/lib/sparcv9/libc_psr/libc_psr_hwcap2.so.1 1918198 inodes\nNo match found for 08:51:41 01-03-2019: FS: /dev/md/dsk/d5 29989287 inodes\nNo match found for 08:51:41 01-03-2019: FS: /opt/apps01/opt/oracle 29989287 inodes\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11135940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FcPL3x3SIwI/AAAAAAAAAAI/AAAAAAAAAOM/z8tvMlw_VkU/photo.jpg?sz=128", "display_name": "Harish", "link": "https://stackoverflow.com/users/11135940/harish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551448600, "creation_date": 1551443473, "last_edit_date": 1551447741, "question_id": 54944729, "link": "https://stackoverflow.com/questions/54944729/i-am-trying-to-get-the-matched-elements-from-an-array-by-using-strings-mnpportin", "title": "I am trying to get the matched elements from an array by using strings MNPPORTIN,00:11:16 with regular exp &amp; grep function", "body": "<p>I am trying to get the matched elements from an array by using strings MNPPORTIN,00:11:16 with regular exp &amp; grep function, but i am getting all the elements from the elements. I am looking for the whole elemnts from the array that matched with the provided string. </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$a[0]=\"00\\:11\\:16 01\\-03\\-2019\\: Watching process \\\"clear_dialtunes_errors.sh -daemon\\\"\\, minimum instances\\: 1\\, maximum instances\\: 1 \\(Queue\\: SV_MO\\)\";\n$a[1]=\"00\\:11\\:16 01\\-03\\-2019\\: Watching process \\\"DN\\=MNPPORTIN_1\\\"\\, minimum instances\\: 1\\, maximum instances: 1 \\(Queue\\: SV_HI\\,ACRM\\,F2\\)\";\n$a[2]=\"00\\:11\\:16 01\\-03\\-2019\\: Watching process \\\"DN\\=MNPPORTIN_WSALE_1\\\"\\, minimum instances\\: 1\\, maximum instances\\: 1 \\(Queue\\: SV_HI\\,ACRM\\,F2)\";\n$a[3]=\"08\\:51\\:41 01\\-03\\-2019\\: FS\\: \\/platform\\/SUNW\\,Sun\\-Blade\\-T6320\\/lib\\/sparcv9\\/libc_psr\\/libc_psr_hwcap2\\.so\\.1 1918198 inodes\";\n$a[4]=\"08\\:51\\:41 01\\-03\\-2019\\: FS\\: \\/dev\\/md\\/dsk\\/d5 29989287 inodes\";\n$a[5]=\"08\\:51\\:41 01\\-03\\-2019\\: FS\\: \\/opt\\/apps01\\/opt\\/oracle 29989287 inodes\";\n@j=join(\"\\n\",@a);\nprint(\"The value for \\@j is :\\n@j \\n\");\n#@st=split(\"\\n\",$j);\n#print(\"The value for \\@st is : @st \\n\");\n@b=(@a=~m/00\\:11\\:16/);\nprint(\"The value for \\$b is : $b \\n\");\n@c=grep(/MNPPORTIN/,@j);\nprint(\"The value for \\@c is :\\n@c \\n\");\n$s=@a;\nfor($i=0;$i&lt;$s;$i++)\n{\n    if($j[$i]=~m/MNPPORTIN/)\n    {\n        print \"Match found \\n\";\n    }\n    else\n    {\n        print \"No match found for   $a[$i] \\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1551443527, "post_id": 54944259, "comment_id": 96652131, "body": "You can simply load all lines in a array, use <code>uniq()</code> function, and then print all elements in array, this question can help you <a href=\"https://stackoverflow.com/questions/7651/how-do-i-remove-duplicate-items-from-an-array-in-perl\" title=\"how do i remove duplicate items from an array in perl\">stackoverflow.com/questions/7651/&hellip;</a>"}, {"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "reply_to_user": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1551443708, "post_id": 54944259, "comment_id": 96652233, "body": "@MobrineHayde.. no, I need to get them in order.. also the section can span many lines.. in the given sample, it spans across 3 lines.."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1551444892, "creation_date": 1551444892, "answer_id": 54945122, "question_id": 54944259, "link": "https://stackoverflow.com/questions/54944259/capturing-unique-section-irrespective-of-even-or-odd-occurences/54945122#54945122", "title": "capturing unique section irrespective of even or odd occurences", "body": "<p>The problem is that the substitution <code>s/(^total.*)\\1//gms</code> deletes pairs of blocks.\nYou can fix this by only deleting a single block at a time using a lookahead:</p>\n\n<pre><code>perl -0777 -pe 's/(^total.*)(?=\\1)//gms' log_repeat.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1551466783, "post_id": 54949761, "comment_id": 96664242, "body": "I left out <code>^</code> (and thus <code>&#47;m</code>) as it takes a great conspiracy to have another <code>total</code> inside a line <i>and</i> the same pattern between pairs of them; it&#39;s kinda a little impossible -- or, it doesn&#39;t make sense.  However, the <code>^</code> <i>is</i> informative there and it doesn&#39;t hurt adding it."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1551663875, "last_edit_date": 1551663875, "creation_date": 1551462098, "answer_id": 54949761, "question_id": 54944259, "link": "https://stackoverflow.com/questions/54944259/capturing-unique-section-irrespective-of-even-or-odd-occurences/54949761#54949761", "title": "capturing unique section irrespective of even or odd occurences", "body": "<p>Match your block, multiple times greedily, as long as all that is followed by yet another</p>\n\n<pre><code>perl -0777 -wpe's/(total.*)+(?=\\1)//s' log_repeat.txt\n</code></pre>\n\n<p>The lookahead ensures that one (last one) remains since it doesn't consume its match.</p>\n\n<p>Or, keep the first match, by discarding it with <code>\\K</code>, and remove others</p>\n\n<pre><code>perl -0777 -wpe's/(total.*?)\\K\\1+//s' log_repeat.txt\n</code></pre>\n\n<p>Note that <code>.*?</code> that must be used here has differences with <code>.*</code>, while probably not practical ones. </p>\n"}], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 54949761, "answer_count": 2, "score": 2, "last_activity_date": 1551663875, "creation_date": 1551441661, "question_id": 54944259, "link": "https://stackoverflow.com/questions/54944259/capturing-unique-section-irrespective-of-even-or-odd-occurences", "title": "capturing unique section irrespective of even or odd occurences", "body": "<p>I have a text file where a particular set of consecutive lines appear again and again. I need to trim all the duplicate occurrences and just print the first occurrence alone. </p>\n\n<p>Input:</p>\n\n<pre><code>$ cat log_repeat.txt\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554\n\n$\n</code></pre>\n\n<p>The below Perl solution works only when there are odd occurrences, </p>\n\n<pre><code>$ perl -0777 -pe 's/(^total.*)\\1//gms ' log_repeat.txt\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554\n\n$\n</code></pre>\n\n<p>and prints nothing when there are even occurrences.  How do I get the first occurrence irrespective of the section repeating odd or even times.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1551441715, "post_id": 54944247, "comment_id": 96651064, "body": "You could use <code>\\Q--keep\\E\\s\\K\\S+</code>."}], "answers": [{"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 0, "last_activity_date": 1551441823, "creation_date": 1551441823, "answer_id": 54944296, "question_id": 54944247, "link": "https://stackoverflow.com/questions/54944247/read-files-and-get-all-the-word-after-a-specific-word-in-perl/54944296#54944296", "title": "read files and get all the word after a specific word in perl", "body": "<p>You could use</p>\n\n<pre><code>\\Q--keep\\E\\s\\K\\S+\n</code></pre>\n\n<p>See <a href=\"https://regexr.com/49cd9\" rel=\"nofollow noreferrer\"><strong>a demo on regexr.com</strong></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "is_accepted": true, "score": 2, "last_activity_date": 1551443408, "creation_date": 1551443408, "answer_id": 54944712, "question_id": 54944247, "link": "https://stackoverflow.com/questions/54944247/read-files-and-get-all-the-word-after-a-specific-word-in-perl/54944712#54944712", "title": "read files and get all the word after a specific word in perl", "body": "<p>Try something like this</p>\n\n<pre><code> perl -lne ' /--keep\\s+(\\S+)/ and print \"cat /tmp/$1\" '\n</code></pre>\n\n<p>with the given inputs</p>\n\n<pre><code>$ cat owen.txt\n#!/bin/csh -f\n\nrsh -n machine1 \"( run.py --keep Machine_Test.2019.01 --training 300 )\n\nrsh -n machine2 \"( run.py --keep Machine_Train.2019.02 --training 300 )\n\n\n$ perl -lne ' /--keep\\s+(\\S+)/ and print \"cat /tmp/$1\" ' owen.txt\ncat /tmp/Machine_Test.2019.01\ncat /tmp/Machine_Train.2019.02\n\n$\n</code></pre>\n\n<p>Assuming you have content like</p>\n\n<pre><code>$ cat /tmp/Machine_Test.2019.01\nABC\n\n$ cat /tmp/Machine_Train.2019.02\nXYZ\n\n$\n</code></pre>\n\n<p>then the command, </p>\n\n<pre><code>$ perl -lne ' if ( /--keep\\s+(\\S+)/ ) { $x=qx(cat /tmp/$1); print \"$x\" } ' owen.txt\nABC\n\nXYZ\n\n\n$\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11135656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4132b3c1163bd9d548786a5fdafe666?s=128&d=identicon&r=PG&f=1", "display_name": "Owen85", "link": "https://stackoverflow.com/users/11135656/owen85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 54944712, "answer_count": 2, "score": 0, "last_activity_date": 1551443408, "creation_date": 1551441598, "question_id": 54944247, "link": "https://stackoverflow.com/questions/54944247/read-files-and-get-all-the-word-after-a-specific-word-in-perl", "title": "read files and get all the word after a specific word in perl", "body": "<p>This Question may seems a little easy, but I'm a newbie in regex. I am writing a script trying to read following two files \"file1\" \"file2\" ,Get the word name after --keep means i want to get the word Machine_Test.2019.01 and do something like reading a file like /tmp/Machine_Test.2019.01 file and check the files status. After that I want to check for the second word after --keep which is Machine_Train.2019.02 and do the same after finish getting all the word in file1 and file2. </p>\n\n<p>example of the files inside file1 &amp; file2 : </p>\n\n<pre><code>#!/bin/csh -f\n\nrsh -n machine1 \"( run.py --keep Machine_Test.2019.01 --training 300 )\n\nrsh -n machine2 \"( run.py --keep Machine_Train.2019.02 --training 300 )\n...\n</code></pre>\n\n<p>For the first thought I'm working on some answers and I did a small test on the following:</p>\n\n<pre><code>my $file = \" /tmp/file1 \"\nopen(FI,$file) or die(\"Could not open  file.\");\nforeach my $line (&lt;FI&gt;) {\n    if ( my $input =~ /\\--keep\\s+(\\w+)/ ){\n        my $found = $1;\n        open another file maybe /tmp/$found\n        and do something...\n    } else {\n        printf(\"no more find\\n\");\n    }\n}\nclose(FI);\n</code></pre>\n\n<p>Can any one tell me whats wrong with my regex on the following, I tried if i set a string my self, and I can get the word after the word --keep with following.</p>\n\n<pre><code>$input =~ /\\--keep\\s+(\\w+)/\n</code></pre>\n\n<p>Or is there any way to get the word in the file without reading it line by line, What Can I do to get all the names after ---keep in file1 and file2? Any help would be much appreciated.</p>\n"}, {"tags": ["regex", "excel", "perl"], "comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 1, "creation_date": 1551439054, "post_id": 54943504, "comment_id": 96649711, "body": "Please show the code you gave already written to try this."}, {"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "reply_to_user": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1551442643, "post_id": 54943504, "comment_id": 96651629, "body": "@JGNI I dont have any code...I m having only idea like this...I want the expected output in excel format"}, {"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "reply_to_user": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1551442781, "post_id": 54943504, "comment_id": 96651692, "body": "@zdim Do you have any  idea about this question??"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551446526, "post_id": 54943504, "comment_id": 96653873, "body": "What do you mean by &quot;Excel file&quot;? Does it need to be <code>.xlsx</code>, or can it be any file that Excel can read? I mean, producing some output in the right format is pretty simple. But writing it to a <code>.xlsx</code> file adds a whole other level of complexity."}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 1, "creation_date": 1551447189, "post_id": 54943504, "comment_id": 96654227, "body": "A minimum <code>Excel</code> file could be a csv file, produced from <code>Text::CSV</code>"}, {"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "edited": false, "score": 0, "creation_date": 1551447293, "post_id": 54943504, "comment_id": 96654288, "body": "@ Dave Cross I need that output to be in .xlsx file format"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 1, "creation_date": 1551449035, "post_id": 54943504, "comment_id": 96655308, "body": "If CSV is not acceptable as input format, then you&#39;ll need to use <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX\" rel=\"nofollow noreferrer\">Excel::Writer::XLSX</a>. IMHO that is only required if you <i>must</i> also set formatting, etc. information for cells. If you just need to have a table that Excel is able to import, then CSV is enough."}, {"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1552224916, "post_id": 54943504, "comment_id": 96921283, "body": "@DaveCross I want my output file to be in .xlsx format.I saw your answers and I got more information from the documentation which you have provided."}], "answers": [{"tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 2, "last_activity_date": 1551449687, "creation_date": 1551449687, "answer_id": 54946407, "question_id": 54943504, "link": "https://stackoverflow.com/questions/54943504/storing-array-values-in-excel-file-using-perl/54946407#54946407", "title": "Storing Array values in Excel file using Perl", "body": "<p>Example code that generates CSV format with <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a> which is an accepted input format for Excel. As long as no formatting, type, etc. are required there is no need to generate <code>.xlsx</code> format.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Text::CSV;\n\nmy @animals = (\"Cat\", \"Dog\", \"Horse\");\nmy @fruits  = (\"Mango\", \"Apple\", \"Orange\");\n\nmy $csv = Text::CSV-&gt;new({\n    binary   =&gt; 1,\n    eol      =&gt; \"\\n\",\n    sep_char =&gt; ',', # default\n}) or die \"CSV\\n\";\n\n$csv-&gt;print(\\*STDOUT, [qw(Animals Fruits)]);\nforeach my $i (0..$#animals) {\n    $csv-&gt;print(\\*STDOUT, [ $animals[$i], $fruits[$i] ]);\n}\n\nexit 0;\n</code></pre>\n\n<p>Test output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl\nAnimals,Fruits\nCat,Mango\nDog,Apple\nHorse,Orange\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1551452472, "creation_date": 1551452472, "answer_id": 54947211, "question_id": 54943504, "link": "https://stackoverflow.com/questions/54943504/storing-array-values-in-excel-file-using-perl/54947211#54947211", "title": "Storing Array values in Excel file using Perl", "body": "<p>Step 1 would be to take your input data and convert it into the rows and columns that you want.</p>\n\n<pre><code>my @output = map { [ $animals[$_], $fruits[$_] ] } 0 .. $#animals;\n</code></pre>\n\n<p>Step 2 would be to put that in an Excel file. A simple CSV file is really easy.</p>\n\n<pre><code>open my $fh, '&gt;', 'mydata.csv' or die $!;\n\nsay join ',', @$_ for @output;\n</code></pre>\n\n<p>An <code>.xlsx</code> is harder.</p>\n\n<pre><code>use Excel::Writer::XLSX;\n\nmy $workbook = Excel::Writer::XLSX-&gt;new( 'perl.xlsx' );\n$worksheet = $workbook-&gt;add_worksheet();\n\nfor my $col (0 .. 1) {\n  for my $row (0 .. $#animals) {\n    $worksheet-&gt;write($row, $col, $output[$row, $col]);\n  }\n}\n\n$workbook-&gt;close();\n</code></pre>\n\n<p>More details in the documentation for <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX\" rel=\"nofollow noreferrer\">Excel::Writer::XLSX</a>.</p>\n"}], "owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 1, "accepted_answer_id": 54947211, "answer_count": 2, "score": -3, "last_activity_date": 1551452472, "creation_date": 1551438842, "last_edit_date": 1551448900, "question_id": 54943504, "link": "https://stackoverflow.com/questions/54943504/storing-array-values-in-excel-file-using-perl", "title": "Storing Array values in Excel file using Perl", "body": "<p>How to store array values in Excel using Perl ? </p>\n\n<p><strong>Example:</strong> </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>@animals = (\"Cat\", \"Dog\", \"Horse\");\n@fruits = (\"Mango\", \"Apple\", \"Orange\");\n</code></pre>\n\n<p><strong>Output:</strong>  In Excel file</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Animals Fruits\nCat     Mango\nDog     Apple\nHorse   Orange\n</code></pre>\n"}, {"tags": ["linux", "shell", "perl", "unix", "sed"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551435239, "post_id": 54942364, "comment_id": 96647670, "body": "I&#39;ve tried to reformat your code so it looks like code. Please check that I haven&#39;t altered the meaning."}, {"owner": {"reputation": 61, "user_id": 10771120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U8-EdVy-84Y/AAAAAAAAAAI/AAAAAAAACpQ/pmbnCFfG6hQ/photo.jpg?sz=128", "display_name": "Kiran Chapidi", "link": "https://stackoverflow.com/users/10771120/kiran-chapidi"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551435705, "post_id": 54942364, "comment_id": 96647886, "body": "Thank you Dave, I am new to the stackoverflow"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551446341, "post_id": 54942364, "comment_id": 96653764, "body": "No problem. If you&#39;re planning to hang around, it&#39;ll be well worth teaching yourself how <a href=\"https://daringfireball.net/projects/markdown\" rel=\"nofollow noreferrer\">Markdown</a> works."}, {"owner": {"reputation": 61, "user_id": 10771120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U8-EdVy-84Y/AAAAAAAAAAI/AAAAAAAACpQ/pmbnCFfG6hQ/photo.jpg?sz=128", "display_name": "Kiran Chapidi", "link": "https://stackoverflow.com/users/10771120/kiran-chapidi"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551446690, "post_id": 54942364, "comment_id": 96653977, "body": "Just now I learned to do it by giving 4 times space :) Thanks Dave"}], "answers": [{"comments": [{"owner": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "edited": false, "score": 0, "creation_date": 1551439093, "post_id": 54943069, "comment_id": 96649725, "body": "This counts delimiters in the whole file, not just the first two lines"}, {"owner": {"reputation": 8351, "user_id": 4279155, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/841b7391f3f7873bec1a8d9d8d2dc759?s=128&d=identicon&r=PG&f=1", "display_name": "Dominique", "link": "https://stackoverflow.com/users/4279155/dominique"}, "reply_to_user": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "edited": false, "score": 0, "creation_date": 1551440702, "post_id": 54943069, "comment_id": 96650547, "body": "<code>cat test.txt | head -2 | grep -o &quot;,&quot; | wc -l</code>, so you only count the first two lines."}, {"owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "edited": false, "score": 0, "creation_date": 1551485962, "post_id": 54943069, "comment_id": 96670594, "body": "OP wants to compare the count of the first line with the count of the second."}], "tags": [], "owner": {"reputation": 8351, "user_id": 4279155, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/841b7391f3f7873bec1a8d9d8d2dc759?s=128&d=identicon&r=PG&f=1", "display_name": "Dominique", "link": "https://stackoverflow.com/users/4279155/dominique"}, "is_accepted": false, "score": 0, "last_activity_date": 1551437364, "creation_date": 1551437364, "answer_id": 54943069, "question_id": 54942364, "link": "https://stackoverflow.com/questions/54942364/count-3-types-of-delimiters-comma-semicolon-pipe-from-different-files/54943069#54943069", "title": "Count 3 types of delimiters (comma, semicolon, pipe) from different files", "body": "<p>I've just created a file, containing just commas, semi-colons and pipe characters:</p>\n\n<pre><code>echo \",,,;;;;|||||\" &gt;test.txt\n</code></pre>\n\n<p>Then I ran following command:</p>\n\n<pre><code>echo $(($(grep -o \",\" test.txt | wc -l) + $(grep -o \";\" test.txt | wc -l) + $(grep -o \"|\" test.txt | wc -l)))\n</code></pre>\n\n<p>The result was 12, as expected.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 10771120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U8-EdVy-84Y/AAAAAAAAAAI/AAAAAAAACpQ/pmbnCFfG6hQ/photo.jpg?sz=128", "display_name": "Kiran Chapidi", "link": "https://stackoverflow.com/users/10771120/kiran-chapidi"}, "edited": false, "score": 0, "creation_date": 1551445770, "post_id": 54943551, "comment_id": 96653417, "body": "Hi Thor, thank you. Could you please explain your code. I dont understand wht next file does."}, {"owner": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "reply_to_user": {"reputation": 61, "user_id": 10771120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U8-EdVy-84Y/AAAAAAAAAAI/AAAAAAAACpQ/pmbnCFfG6hQ/photo.jpg?sz=128", "display_name": "Kiran Chapidi", "link": "https://stackoverflow.com/users/10771120/kiran-chapidi"}, "edited": false, "score": 0, "creation_date": 1551447965, "post_id": 54943551, "comment_id": 96654666, "body": "@KiranChapidi: See inline comments"}, {"owner": {"reputation": 61, "user_id": 10771120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U8-EdVy-84Y/AAAAAAAAAAI/AAAAAAAACpQ/pmbnCFfG6hQ/photo.jpg?sz=128", "display_name": "Kiran Chapidi", "link": "https://stackoverflow.com/users/10771120/kiran-chapidi"}, "edited": false, "score": 0, "creation_date": 1551452224, "post_id": 54943551, "comment_id": 96657041, "body": "I have multiple file about 50 file, randomly arrives in the system. The files might contain any of the three delimiters (comma or semicolon or pipe). if the 1st line inside the file delimiters count doesn&#39;t match with the count of delimiters in the 2nd line the file need to be moved to the reject folder."}, {"owner": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "reply_to_user": {"reputation": 61, "user_id": 10771120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U8-EdVy-84Y/AAAAAAAAAAI/AAAAAAAACpQ/pmbnCFfG6hQ/photo.jpg?sz=128", "display_name": "Kiran Chapidi", "link": "https://stackoverflow.com/users/10771120/kiran-chapidi"}, "edited": false, "score": 0, "creation_date": 1551453279, "post_id": 54943551, "comment_id": 96657642, "body": "@KiranChapidi: Integrate the script in your process, e.g.: <code>find ... -exec awk -f parse.awk {} + | xargs mv -t &#47;path&#47;to&#47;reject</code>. Note you need to remove the <code>&quot;Mismatch: &quot;</code> bit from the print statement"}], "tags": [], "owner": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "is_accepted": true, "score": 2, "last_activity_date": 1551447874, "last_edit_date": 1551447874, "creation_date": 1551439053, "answer_id": 54943551, "question_id": 54942364, "link": "https://stackoverflow.com/questions/54942364/count-3-types-of-delimiters-comma-semicolon-pipe-from-different-files/54943551#54943551", "title": "Count 3 types of delimiters (comma, semicolon, pipe) from different files", "body": "<p>If none of the delimiters are otherwise parts of the two first lines, you could use this generic GNU awk script:</p>\n\n<p><em>parse.awk</em></p>\n\n<pre class=\"lang-awk prettyprint-override\"><code>BEGIN  { FS=\"[,;|]\" }            # Set Field Separators\nFNR==1 { count = NF }            # Remember Number of Fields from the first line\nFNR==2 { \n  if(count != NF)                # If second line has the same number of fields\n    print \"Mismatch: \" FILENAME  # Report the mismatched file\n  nextfile                       # Skip to next input file\n}\n</code></pre>\n\n<p>Run it like this:</p>\n\n<pre><code>awk -f parse.awk infile1 infile2 ...\n</code></pre>\n\n<p>This will output any files with a count mismatch.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 10771120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U8-EdVy-84Y/AAAAAAAAAAI/AAAAAAAACpQ/pmbnCFfG6hQ/photo.jpg?sz=128", "display_name": "Kiran Chapidi", "link": "https://stackoverflow.com/users/10771120/kiran-chapidi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551446461, "creation_date": 1551446461, "answer_id": 54945547, "question_id": 54942364, "link": "https://stackoverflow.com/questions/54942364/count-3-types-of-delimiters-comma-semicolon-pipe-from-different-files/54945547#54945547", "title": "Count 3 types of delimiters (comma, semicolon, pipe) from different files", "body": "<p>I found something below to include all the delimiters at the same time. Please check if that is correct.</p>\n\n<pre><code>pathname=/opt/interfaces/sample_check/mvfiles/inbox\n\nfindresult=$(find $pathname -type f ( -name \"messagemulti.csv\" -or -name \"messagesemi.txt\" -or -name \"comma2.txt\" -or -name \"messagepipe.txt\" -or -name \"tokkalodi.txt\" -or -name \"ADMC_POSITION-LT3213.csv\" -or -name \"DMC_CASHFLOW248.csv\" -or -name \"ADMC_EQBASKET-WEIGHTS_52387.csv\" -or -name \"ADMC_POSITION-DDD7.csv\" -or -name \"ADMC_POSITION-DDD7.csv\" ))\n\nCount=sed -n 1p $findresult | tr '[,;|]' '\\n' | wc -l\nCount2=sed -n 2p $findresult | tr '[,;|]' '\\n' | wc -l\n\necho $Count echo $Count2\n\nif [ $Count != $Count2 ]\nthen echo \"Mis Match\"\nmv $findresult /opt/interfaces/sample_check/mvfiles/reject\nelse echo \"Match\"\nexit\nfi\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1551485753, "last_edit_date": 1551485753, "creation_date": 1551485407, "answer_id": 54953956, "question_id": 54942364, "link": "https://stackoverflow.com/questions/54942364/count-3-types-of-delimiters-comma-semicolon-pipe-from-different-files/54953956#54953956", "title": "Count 3 types of delimiters (comma, semicolon, pipe) from different files", "body": "<p>You can count the delimiters by moviing them to a new line, replace by ';', and count them:</p>\n\n<pre><code>sed '2 s/[|,;]/\\n;/g' ${findresult} | grep -c ';'\n</code></pre>\n\n<p>When you only want to know which have the same number, you do not need to count them.<br>\nDelete all other characters and replace any remaining character with a dot.</p>\n\n<pre><code>if [[ $(sed '1s/[^|,;]//g;s/././g' ${findresult}) != \n      $(sed '2s/[^|,;]//g;s/././g' ${findresult}) ]]; then\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1554708885, "creation_date": 1554708885, "answer_id": 55568319, "question_id": 54942364, "link": "https://stackoverflow.com/questions/54942364/count-3-types-of-delimiters-comma-semicolon-pipe-from-different-files/55568319#55568319", "title": "Count 3 types of delimiters (comma, semicolon, pipe) from different files", "body": "<p>on bash shell type</p>\n\n<pre><code>i=\npathname=/opt/interfaces/sample_check/mvfiles/inbox\nfor file in messagemulti.csv messagesemi.txt comma2.txt messagepipe.txt tokkalodi.txt ADMC_POSITION-LT3213.csv DMC_CASHFLOW248.csv ADMC_EQBASKET-WEIGHTS_52387.csv ADMC_POSITION-DDD7.csv ADMC_POSITION-DDD7.csv\n{\nwhile read -r l ;do s=${l//[!,;\\|]}; c=${#s}; ((++i==1))&amp;&amp;d=$c; if((i==2));then ((d==c)) ||mv -v $file $pathname/$file ;fi ;done&lt;$file\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 10771120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U8-EdVy-84Y/AAAAAAAAAAI/AAAAAAAACpQ/pmbnCFfG6hQ/photo.jpg?sz=128", "display_name": "Kiran Chapidi", "link": "https://stackoverflow.com/users/10771120/kiran-chapidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 54943551, "answer_count": 5, "score": 2, "last_activity_date": 1554708885, "creation_date": 1551435027, "last_edit_date": 1551435173, "question_id": 54942364, "link": "https://stackoverflow.com/questions/54942364/count-3-types-of-delimiters-comma-semicolon-pipe-from-different-files", "title": "Count 3 types of delimiters (comma, semicolon, pipe) from different files", "body": "<p>I am trying to develop the similar thing. But my requirement is little bit different. I would like to count the number of delimiters in the 1st row and the 2nd row. If delimiters from both the rows are matching then fine otherwise the file need to be moved to the reject folder. Below is the script. But here I have a question, how do I count for 3 different delimiters in different files. FOr example I have comma, semicolon and pipe delimiters. In the below script in sed command how to check for 3 types of delimiters at the same time?</p>\n\n<pre><code>pathname=/opt/interfaces/sample_check/mvfiles/inbox\n\nfindresult=$(find $pathname -type f ( -name \"messagemulti.csv\" -or -name \"messagesemi.txt\" -or -name \"comma2.txt\" -or -name \"messagepipe.txt\" -or -name \"tokkalodi.txt\" -or -name \"ADMC_POSITION-LT3213.csv\" -or -name \"DMC_CASHFLOW248.csv\" -or -name \"ADMC_EQBASKET-WEIGHTS_52387.csv\" -or -name \"ADMC_POSITION-DDD7.csv\" -or -name \"ADMC_POSITION-DDD7.csv\" ))\n\nCount=sed -n 1p $findresult | tr ',' '\\n' | wc -l\nCount2=sed -n 2p $findresult | tr ',' '\\n' | wc -l\n\necho $Count echo $Count2\n\nif [ $Count != $Count2 ]\nthen echo \"Mis Match\"\n  mv $findresult /opt/interfaces/sample_check/mvfiles/reject\nelse echo \"Match\"\n  exit\nfi\n</code></pre>\n"}, {"tags": ["perl", "zlib"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1551422735, "creation_date": 1551422735, "answer_id": 54939300, "question_id": 54938746, "link": "https://stackoverflow.com/questions/54938746/perl-iozlib-seek-workarounds/54939300#54939300", "title": "Perl: IO::Zlib seek workarounds", "body": "<p><code>$offset</code> refers to the position in the target string <code>$data</code> and not to some position in the input file as you might assume. Insofar this has nothing to do with <strong>seek</strong> (as in the title). It mainly says that the string <code>$data</code> you have given to <code>read</code> is not long enough to have the given <code>$offset</code> and thus it is impossible to write at the given <code>$offset</code> in <code>$data</code>. </p>\n"}], "owner": {"reputation": 81, "user_id": 4195069, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7ae036d84b8e50a817a534336dc9b0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Siddhartha Sen", "link": "https://stackoverflow.com/users/4195069/siddhartha-sen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551422735, "creation_date": 1551419807, "question_id": 54938746, "link": "https://stackoverflow.com/questions/54938746/perl-iozlib-seek-workarounds", "title": "Perl: IO::Zlib seek workarounds", "body": "<p>I have a gzip file of a binary. I have opened it with:</p>\n\n<pre><code>    $fh = new IO::Zlib;\n    $fh-&gt;open($file_list[$i], \"rb\") or die \"Open: $file_list[$i] failed\\n\";\n</code></pre>\n\n<p>Then if I do a ..</p>\n\n<pre><code>$bytes_read = read $fh, $data, $entry_size[$file_idx], $offset;\n</code></pre>\n\n<p>I get an error.</p>\n\n<pre><code>substr outside of string at /usr/share/perl5/IO/Zlib.pm line 463.\n</code></pre>\n\n<p>Seek does not work. I have been told that there are workarounds to it. </p>\n\n<p>Please advice</p>\n\n<p>Thanx!</p>\n\n<p>-SS</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "is_accepted": false, "score": 1, "last_activity_date": 1551395193, "creation_date": 1551395193, "answer_id": 54935666, "question_id": 54935455, "link": "https://stackoverflow.com/questions/54935455/substitutions-in-a-string-between-a-start-regex-and-an-end-regex/54935666#54935666", "title": "Substitutions in a string between a start regex and an end regex", "body": "<p>You can use the <code>/e</code> modified to execute code (for each match separately) to generate the replacement string:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $start_regex  = qr/a.*?b/;\nmy $end_regex    = qr/c.*?d/;\nmy $string = 'a1b x c2d x a345b qqxxxc678d xx abxcd';\n\n$string =~ s/($start_regex)(.*?)($end_regex)/ my ($start_match, $middle_match, $end_match) = ($1, $2, $3); $middle_match =~ s!x!y!g; $start_match . $middle_match . $end_match /eg;\n\nprint $string, \"\\n\";\n</code></pre>\n\n<p>Will print out</p>\n\n<pre><code>a1b y c2d x a345b qqyyyc678d xx abycd\n</code></pre>\n\n<p>Note the alternate regex delimiter <code>s!!!</code> in the inner regex.</p>\n\n<p>It's important to store the <code>$1</code>, <code>$2</code> and <code>$3</code> of the outer regex match in temporary variables, since they'll be lost when you do another regex in the replacement code.</p>\n"}, {"comments": [{"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "edited": false, "score": 0, "creation_date": 1551430148, "post_id": 54935695, "comment_id": 96644907, "body": "I&#39;m slowly understanding the use of \\K, btw.. I changed to <code>(?=a.*?b)</code> and got same results.. so how can I differentiate when to replace \\K with positive lookahead?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "edited": false, "score": 0, "creation_date": 1551465872, "post_id": 54935695, "comment_id": 96663877, "body": "@stack0114106 Heh, interesting ... didn&#39;t think of that :)  I suppose it comes up to that string and asserts it&#39;s there, without consuming it -- but then it also matches (and consumes) what&#39;s after it? Not sure how that works and whether it works in all cases. A &quot;normal&quot; thing to do would be a lookbehind, but those can&#39;t be of &quot;variable length&quot; so that&#39;s out (because of <code>.*</code> part which may be a character or five -- variable in length). However, <code>\\K</code> is there and handy. Note that it, too, comes with subtleties."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "edited": false, "score": 0, "creation_date": 1551471445, "post_id": 54935695, "comment_id": 96666168, "body": "@stack0114106 Here are some thoughts on using one or the other. If there&#39;s a reason to (match but) not consume, that&#39;s a lookaround. When I just want to drop matches so not to have to capture and &quot;replace&quot; (put them back!) then that&#39;s <code>\\K</code>.  The lookahead is to assert a pattern after what I need; the <code>\\K</code> forgets what came before what I need. In other words, if there&#39;s stuff of interest after a pattern I wouldn&#39;t use lookahead for it, but a normal match (and then drop it with <code>\\K</code> if I don&#39;t want it captured)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "edited": false, "score": 0, "creation_date": 1551472006, "post_id": 54935695, "comment_id": 96666386, "body": "@stack0114106 Example. (1) Remove everything after (the last) <code>$p</code> pattern: <code>s&#47;.*$p\\K.*&#47;&#47;</code>  (2) Remove a word before <code>$p</code> pattern: <code>s&#47;(\\w+)(?=$p)&#47;&#47;</code>.  In both cases we can of course capture and put back what needs to stay, instead.  I&#39;d say that lookarounds have far more substantial uses though -- they may nicely solve a problem which would be a nightmare otherwise. The <code>\\K</code> ... not so much perhaps; more of a convenience."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1568447634, "last_edit_date": 1568447634, "creation_date": 1551395373, "answer_id": 54935695, "question_id": 54935455, "link": "https://stackoverflow.com/questions/54935455/substitutions-in-a-string-between-a-start-regex-and-an-end-regex/54935695#54935695", "title": "Substitutions in a string between a start regex and an end regex", "body": "<p>The complication that you need global replacement but only within marker patterns can be handled by capturing that substring and running a regex on it in the replacement part</p>\n\n<pre><code>my $s = q(a1b x and x c2d x more x  a22b x again x c33d x and x); \n\n$s =~ s/a.*?b\\K(.*?)(?=c.*?d)/ $1 =~ s{x}{y}gr /eg;\n\nsay $s;\n</code></pre>\n\n<p>With <code>/e</code> modifier the replacement part is evaluated as code, so we can run any valid Perl there.</p>\n\n<p>I use <code>\\K</code> after the left-marker pattern (<code>a.*?b</code>) to drop previous matches and a lookahead for the right-marker pattern (<code>c.*?d</code>), so to not have those copied  around, but for simplicity you can capture them instead and use the number variables (<code>$N</code>) for them in replacement. </p>\n\n<p>Consider capturing the right marker (instead of a lookahead) if the pattern repeats; then for an extra data copy the subpattern isn't scanned repeatedly and the overall regex is cleaner, and in principle safer (can the right marker possibly contain the left marker?). This does complicate the replacement part, where <code>$2</code> need be saved away before the new regex since it gets reset in it.</p>\n\n<p>Note the <code>/r</code> modifier in the replacement part's regex: other than being very convenient it also allows us to use <code>s///</code> on the <code>$1</code> variable, what otherwise we couldn't do since it's read only.</p>\n\n<p>If this is a part of more complex regex processing then note that a lookahead is a zero-width <em>assertion</em> so the engine doesn't consume that pattern and doesn't pass it. This matters if the whole pattern repeats: If it is possible that the right marker contains the left marker then you must capture it so that the engine moves past it for the next match, so that the left marker comes first for it.</p>\n\n<hr>\n\n<p>This works with variables for marker patterns, which you nicely use</p>\n\n<pre><code>my $start = qr/a.*?b/;\nmy $end   = qr/c.*?d/;\n\nmy $s = q(a1b x and x c2d x more x  a22b x again x c33d x and x); \n\n$s =~ s/$start\\K (.*?) (?=$end)/ $1 =~ s{x}{y}gr /egx;\n\nsay $s;\n</code></pre>\n\n<p>where I've spaced patterns around for readability, by courtesy of <code>/x</code>.   It prints</p>\n\n<pre>\na1b y and y c2d x more x  a22b y again y c33d x and x\n</pre>\n"}], "owner": {"reputation": 311, "user_id": 1170224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e42c87e719565725a8dafb1300d78d?s=128&d=identicon&r=PG", "display_name": "Wes", "link": "https://stackoverflow.com/users/1170224/wes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 54935695, "answer_count": 2, "score": 1, "last_activity_date": 1568447634, "creation_date": 1551393857, "last_edit_date": 1555614183, "question_id": 54935455, "link": "https://stackoverflow.com/questions/54935455/substitutions-in-a-string-between-a-start-regex-and-an-end-regex", "title": "Substitutions in a string between a start regex and an end regex", "body": "<p>I would like to do multiple substitutions within a string but only when between a start regex and an end regex. For example:</p>\n\n<pre><code>$start = qr/a.*?b/;\n$end = qr/c.*?d/;\n$string = 'a1b x c2d x a345b qqxxxc678d xx abxcd';\n</code></pre>\n\n<p>The perl code will do a restricted <code>s/x/y/g</code>. It will change all <code>x</code>s that occur between <code>a.*?b</code> &amp; <code>c.*?d</code> to <code>y</code> so that afterwards:</p>\n\n<pre><code>$string = 'a1b y c2d x a345b qqyyyc678d xx abycd'\n</code></pre>\n"}, {"tags": ["perl", "catalyst"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1551392280, "post_id": 54935111, "comment_id": 96634652, "body": "Isn&#39;t that part of the startup output if you run the app in debug mode?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551392285, "post_id": 54935111, "comment_id": 96634655, "body": "Are you talking about introspection, or remote probing? (I don&#39;t know the answer either way.)"}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1551394427, "post_id": 54935111, "comment_id": 96635370, "body": "@melpomene Hmm, I normally have debug off when I start the app, I will take a look and see if that gets me enough information."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1551394636, "post_id": 54935111, "comment_id": 96635441, "body": "@ikegmai I am mostly just trying to identify dead endpoints (based on access logs for the last year), but it has other applications (making sure we have the right level of rate limiting on each end point, etc)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551400728, "post_id": 54935111, "comment_id": 96636858, "body": "Introspection, then. What melpomene suggests should do the trick. If it&#39;s not quite good enough, you can probably adapt the code that displays the information to suit your needs."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 3829437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2db8d3e138bbf2567f9e708f6767442a?s=128&d=identicon&r=PG&f=1", "display_name": "nerdstrike", "link": "https://stackoverflow.com/users/3829437/nerdstrike"}, "is_accepted": false, "score": 0, "last_activity_date": 1554202877, "creation_date": 1554202877, "answer_id": 55473149, "question_id": 54935111, "link": "https://stackoverflow.com/questions/54935111/how-can-i-enumerate-all-of-the-endpoints-in-a-catalyst-app/55473149#55473149", "title": "How can I enumerate all of the endpoints in a Catalyst app?", "body": "<p>Catalyst does not know the full set of paths. The true dispatch paths are resolved dynamically, iterating through DispatchType classes until one responds favourably to a call of <code>match</code>.</p>\n\n<p>The debug option does a one-time enumeration of all possibilities that your controllers allow. If you want to interfere with this, you have to look at <code>Catalyst::Dispatcher::_display_action_tables</code></p>\n\n<p>It's a tree-walking algorithm that iterates through each route it finds at '/' and follows each subsequent route that <code>$controller-&gt;actions</code> returns. It's not easy to read, but you could conceivably implement a version of _display_action_tables that doesn't just print to a table, but does something else instead. Then call it in the live application with $c as argument and see what happens!</p>\n"}], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554202877, "creation_date": 1551392081, "question_id": 54935111, "link": "https://stackoverflow.com/questions/54935111/how-can-i-enumerate-all-of-the-endpoints-in-a-catalyst-app", "title": "How can I enumerate all of the endpoints in a Catalyst app?", "body": "<p>I have a large Catalyst app and want to get a list of all endpoints it supports (bonus points if it can tell me if the request method).  Is there some easy way to ask Catalyst to list them?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 6288248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/owuR9.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6288248/leon"}, "edited": false, "score": 0, "creation_date": 1551380055, "post_id": 54931326, "comment_id": 96629272, "body": "Thank you so much! Every helpful!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1551375590, "creation_date": 1551375590, "answer_id": 54931326, "question_id": 54931253, "link": "https://stackoverflow.com/questions/54931253/how-to-use-element-value-in-an-array-to-define-a-set-of-hashes-in-perl/54931326#54931326", "title": "How to use element value in an array to define a set of hashes in PERL?", "body": "<p>Further suggestion: <a href=\"https://stackoverflow.com/questions/1549685/how-can-i-use-a-variable-as-a-variable-name-in-perl\">don't do this</a>.</p>\n\n<p>Use a multi-dimensional hash instead. </p>\n\n<pre><code>@values = (\"SI\",\"AL\");\n...\n$hash_CN_tot_amt{\"SI\"}{$key} = $value;\n$hash_CN_tot_amt{$values[1]}{$key2} = $value2;\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 6288248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/owuR9.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6288248/leon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 54931326, "answer_count": 1, "score": 0, "last_activity_date": 1551375590, "creation_date": 1551375281, "question_id": 54931253, "link": "https://stackoverflow.com/questions/54931253/how-to-use-element-value-in-an-array-to-define-a-set-of-hashes-in-perl", "title": "How to use element value in an array to define a set of hashes in PERL?", "body": "<p>My question is shown in the title. </p>\n\n<p>I have raw data which may have various elements. I want to define hash whose name is based on the raw elements. Here is an example.</p>\n\n<pre><code>my $line=\"SI AL\";\nmy @values=split(/\\s+/,$line);chomp(@values);\n</code></pre>\n\n<p>I want to use the element values, like \"SI\" and \"AL\", to define hashes,  like %hash_SI_CN_tot_amt, %hash_AL_CN_tot_amt, <strong>where \"SI\" and \"AL\" should be a variable</strong>. How can I define hash using variable values? Any further suggestion would be highly appreciated.</p>\n"}, {"tags": ["perl", "hash", "hash-of-hashes"], "comments": [{"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1551371849, "post_id": 54930220, "comment_id": 96625138, "body": "you need just to save the hash <code>$mygroup</code> in the other hash <code>%users_data</code> by using <code>$user_data{$mygroup}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "edited": false, "score": 0, "creation_date": 1551377396, "post_id": 54930296, "comment_id": 96627954, "body": "Thanks.  I thought I tried that but was getting errors.  But maybe I was doing something totally different."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 4, "last_activity_date": 1551371603, "creation_date": 1551371603, "answer_id": 54930296, "question_id": 54930220, "link": "https://stackoverflow.com/questions/54930220/perl-dynamic-hash-of-hash-errors/54930296#54930296", "title": "Perl dynamic hash of hash errors", "body": "<p>Simply access the target key and assign its new value:</p>\n\n<pre><code>my %users_data;\nwhile($sth-&gt;fetch)\n{\n    $users_data{$mygroup} = {\n        'fname' =&gt; $fname,\n        'lname' =&gt; $lname,\n        'address' =&gt;\n        {\n           'street' =&gt; $street,\n           'city' =&gt; $city,\n        },\n        'id' =&gt; $uid,\n     };\n}\n</code></pre>\n"}], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 54930296, "answer_count": 1, "score": 1, "last_activity_date": 1551372873, "creation_date": 1551371391, "last_edit_date": 1551372873, "question_id": 54930220, "link": "https://stackoverflow.com/questions/54930220/perl-dynamic-hash-of-hash-errors", "title": "Perl dynamic hash of hash errors", "body": "<p>I am looping over a query and returning results.  I am trying to add a hash to another hashes. But running into trouble.</p>\n\n<pre><code>my %users_data;\nwhile($sth-&gt;fetch)\n{\n    $mygroup =&gt;\n    {\n        'fname' =&gt; $fname,\n        'lname' =&gt; $lname,\n        'address' =&gt;\n        {\n           'street' =&gt; $street,\n           'city' =&gt; $city,\n        },\n        'id' =&gt; $uid,\n     },\n}\n</code></pre>\n\n<p>how do I add the <code>$mygroup</code> hash to <code>%users_data</code> hash?</p>\n\n<p>long hand would be.</p>\n\n<pre><code>my %users_data = (\n 'salesmanager' =&gt;\n {\n    'fname' =&gt; 'mike',\n    'lname' =&gt; 'john',\n    'address' =&gt;\n    {\n       'street' =&gt; '123 street',\n       'city' =&gt; 'Brooklyn',\n    },\n    'id' =&gt; 12,\n },\n 'garagemanager' =&gt;\n {\n    'fname' =&gt; 'Mark',\n    'lname' =&gt; 'Jones',\n    'address' =&gt;\n    {\n       'street' =&gt; '355 street',\n       'city' =&gt; 'Brooklyn',\n    },\n    'id' =&gt; 13,\n },\n)\n</code></pre>\n"}, {"tags": ["html", "css", "perl"], "comments": [{"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1551372176, "post_id": 54928686, "comment_id": 96625319, "body": "<code>qw()</code> function can be handy for you case if you want just to print plain text"}], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 1, "creation_date": 1551368883, "post_id": 54928797, "comment_id": 96623404, "body": "Wanted to add that the here-doc operator <code>&lt;&lt;EOF</code> is a great way to write preformatted text blocks like HTML so that escaping quotes isn&#39;t needed. See <a href=\"https://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">perlop&#39;s Quote-Like Operators</a> (near the bottom of the section) for more info."}, {"owner": {"reputation": 35, "user_id": 8462082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-NYibD4xSYtk/AAAAAAAAAAI/AAAAAAAACnc/FkzHeWzjkM0/photo.jpg?sz=128", "display_name": "Stefan Codrin", "link": "https://stackoverflow.com/users/8462082/stefan-codrin"}, "edited": false, "score": 0, "creation_date": 1551369513, "post_id": 54928797, "comment_id": 96623824, "body": "I&#39;ve gone ahead and done that, it gave me an Internal Server Error. I&#39;m not sure but the thing with Perl is that you have to add the \\ character before quotes for it to work. The proof is that the HTML works even with the \\ characters but the CSS doesn&#39;t."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551374672, "post_id": 54928797, "comment_id": 96626604, "body": "<i>the thing with Perl is that you have to add the \\ character before quotes for it to work</i> I&#39;m afraid that just sounds like you don&#39;t really understand what&#39;s going on here. In a double-quoted string, you need to escape double quote characters (otherwise the first double quote character would end the string). In a single-quoted string you need to escape single quote characters for the same reason. You don&#39;t need to escape single quotes in double-quoted strings or double quotes in single-quoted strings."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 4, "last_activity_date": 1551366775, "creation_date": 1551366775, "answer_id": 54928797, "question_id": 54928686, "link": "https://stackoverflow.com/questions/54928686/printing-perl-css-and-html/54928797#54928797", "title": "Printing Perl CSS and HTML", "body": "<p>You are using a single quoted string <code>'</code> and then attempting to quote <code>\"</code> characters. They are then getting passed through to the web browser as <code>\\\"</code> confusing it.</p>\n\n<p>Remove the <code>\\</code> character before each <code>\"</code> character</p>\n"}], "owner": {"reputation": 35, "user_id": 8462082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-NYibD4xSYtk/AAAAAAAAAAI/AAAAAAAACnc/FkzHeWzjkM0/photo.jpg?sz=128", "display_name": "Stefan Codrin", "link": "https://stackoverflow.com/users/8462082/stefan-codrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551404927, "creation_date": 1551366460, "last_edit_date": 1551404927, "question_id": 54928686, "link": "https://stackoverflow.com/questions/54928686/printing-perl-css-and-html", "title": "Printing Perl CSS and HTML", "body": "<p>I'm using a bit of Perl, and at the end, I print HTML and CSS for stuff to appear on the page, but only the HTML appears, the CSS styling and JavaScript doesn't work. </p>\n\n<p>Here's my print code:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>    print '\n\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;link href=\\\"https://fonts.googleapis.com/css?family=Roboto+Condensed\\\" rel=\\\"stylesheet\\\"&gt;\n\n        &lt;style&gt;\n\n            body\n            {\n                margin: 0;\n                padding: 0;\n            }\n\n             #faqDiv\n            {\n                height: 450px;\n                width:700;\n                background-color: white;\n                position: relative;\n                top: 50;\n                margin: auto;\n            }\n\n            #faqicon\n            {\n                float: right;\n                width: 90;\n                position: relative;\n                top: -70;\n                right: 20;\n\n            }\n\n        &lt;/style&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n            &lt;div id=\\\"introdiv\\\"&gt;\n                &lt;img src=\\\"registercrosstwo.png\\\" id=\\\"frontcross\\\"&gt;\n                &lt;h1 id=\\\"titledespre\\\"&gt;Despre Familia Crestina Ortodoxa&lt;/h1&gt;\n                &lt;hr&gt;\n\n                        &lt;button class=\\\"accordion\\\"&gt;Pr. Cleopa&lt;/button&gt;\n                        &lt;div class=\\\"panel\\\"&gt;\n                          &lt;p&gt;- Acum va intreb pe voi, se mai fac astazi nunti de acestea? &lt;/p&gt;\n                        &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n    &lt;script&gt;\n\n        window.addEventListener(\\\"scroll\\\", function () {\n                document.body.classList[\n                window.scrollY &gt; 20 ? \\\"add\\\": \\\"remove\\\"\n                ](\\\"scrolled\\\");\n            });\n\n    &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;    \n';\n</code></pre>\n\n<p>I deleted a bit of code because I just wanted to show the big picture, the question is why is the CSS and JavaScript ignored? I tried this exact code with PHP using \"echo\" and it worked perfectly. </p>\n"}, {"tags": ["multithreading", "perl", "batch-file"], "comments": [{"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1551367195, "post_id": 54928545, "comment_id": 96622348, "body": "Replace <code>$_-&gt;join() for @thrs;</code> with <code>$_-&gt;join() for threads-&gt;list();</code>"}, {"owner": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "reply_to_user": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1551367520, "post_id": 54928545, "comment_id": 96622552, "body": "Thanks that did do the copy finally but the perl script never ends. It just hangs and I have to do crtl+c on the DOS prompt where I am running it. Can you try that code out. Its a working code"}, {"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1551368063, "post_id": 54928545, "comment_id": 96622896, "body": "that&#39;s what basically a you are doing in the script by threading you commands (an infinite loop), if you want avoid all the threading issues better to try forking (function simillar to threads but more trustable in perl) using some easy module like <code>Parallel::ForkManager</code>, here&#39;s the documentation if you like <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow noreferrer\">metacpan.org/pod/Parallel::ForkManager</a>"}, {"owner": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "reply_to_user": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1551368189, "post_id": 54928545, "comment_id": 96622974, "body": "See my comments about ForkManager  in my post."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1551376672, "post_id": 54928545, "comment_id": 96627622, "body": "@Mobrine Hayde, <code>fork</code> is (poorly) emulated using threads on Windows. That makes P::FM the more complicated option there."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1551376516, "post_id": 54929286, "comment_id": 96627539, "body": "Or <code>my @thrs = map { threads-&gt;create(\\&amp;doOperation ) } 1..5;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1551376542, "post_id": 54929286, "comment_id": 96627555, "body": "Or just <code>threads-&gt;create(\\&amp;doOperation ) for 1..5;</code> with <code>$_-&gt;join for threads-&gt;list;</code>"}], "tags": [], "owner": {"reputation": 2445, "user_id": 1707353, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/212f7b84a07bc7aea4f574669fe2465f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Holt", "link": "https://stackoverflow.com/users/1707353/jeff-holt"}, "is_accepted": true, "score": 3, "last_activity_date": 1552145155, "last_edit_date": 1552145155, "creation_date": 1551368299, "answer_id": 54929286, "question_id": 54928545, "link": "https://stackoverflow.com/questions/54928545/perl-multithreading-not-running-batch-command/54929286#54929286", "title": "Perl Multithreading not running batch command", "body": "<p>The following declaration results in @thrs having zero elements.</p>\n\n<pre><code>my @thrs = threads-&gt;create(\\&amp;doOperation ) for 1..5;#for 5 threads\n</code></pre>\n\n<p>You are then referring to @thrs in two places. If you replace all of those references with <code>threads-&gt;list()</code> as Mobrine indicates (not just one reference but two), then you will make progress.</p>\n\n<p>Or you can fix the declaration like this:</p>\n\n<pre><code>my @thrs;\npush @thrs, threads-&gt;create(\\&amp;doOperation ) for 1..5;\n</code></pre>\n\n<p>Regarding your comment on your question about fixing one reference allowing the copies to take place but not your script's termination: you probably didn't fix the second reference, the one that enqueues the DONE, preventing each thread from breaking its while loop.</p>\n\n<hr>\n\n<p>In his comment below and assuming you need to keep your own list of threads, ikegami shows the more perly way to create the list:</p>\n\n<pre><code>my @thrs = map { threads-&gt;create(\\&amp;doOperation ) } 1..5;\n</code></pre>\n"}], "owner": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 54929286, "answer_count": 1, "score": 2, "last_activity_date": 1552145155, "creation_date": 1551366062, "last_edit_date": 1551368603, "question_id": 54928545, "link": "https://stackoverflow.com/questions/54928545/perl-multithreading-not-running-batch-command", "title": "Perl Multithreading not running batch command", "body": "<p>I am trying to use <code>perl</code> multithreading to run each of the <code>cmd.exe</code> commands, contained within a large file similar to this:</p>\n\n<pre><code>copy file1.txt file2.txt\ncopy file3.txt file4.txt\n...\ncopy file5000.txt file5001.txt\n</code></pre>\n\n<p>I looked at the answer to <a href=\"https://stackoverflow.com/questions/23470376\">this question</a> and tried a sample test for copying just two files.</p>\n\n<p>The problem is that the command never gets called. It never makes a copy of the files even though they are there and in the same folder where I am running the perl script.</p>\n\n<p>What am I doing wrong?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse Thread::Queue; \n\nprint \"Perl Starting ... \\n\\n\"; \n\nmy $q = Thread::Queue-&gt;new();    # A new empty queue\n\n# Worker thread\nmy @thrs = threads-&gt;create(\\&amp;doOperation ) for 1..5;#for 5 threads\n\nmy @files = (\"copy file123.xml test1.xml\", \"copy file123.xml test2.xml\");\n#add files to queue\nforeach my $f (@files){\n  # Send work to the thread\n  $q-&gt;enqueue($f);\n  print \"Pending items: \". $q-&gt;pending() .\"\\n\";\n}\n$q-&gt;enqueue('_DONE_') for @thrs;\n$_-&gt;join() for @thrs;\n\n\n\nsub doOperation () {\n    my $ithread = threads-&gt;tid() ;\n    while (my $cmd = $q-&gt;dequeue()) {\n      # Do work on $item\n\n      print \"cmd: $cmd ... \\n\";\n      print \"Running Dos command ... \\n\";\n\n      my $status = system(\"$cmd\");\n\n      print \"Status: $status ... \\n\";\n      print \"End Dos command ... \\n\";\n\n      return 1 if $cmd eq '_DONE_';\n      print \"[id=$ithread]\\t$cmd\\n\";\n    }\n    return 1;\n}\n\n\nprint \"\\nPerl End ... \\n\\n\"; \n</code></pre>\n\n<p>\u2026and here's the output in <code>cmd.exe</code></p>\n\n<pre><code>Perl Starting ...\n\nPending items: 1\ncmd: copy file123.xml test1.xml ...\nRunning Dos command ...\nPending items: 0\ncmd: copy file123.xml test2.xml ...\n\nRunning Dos command ...\nPerl End ...\n\nPerl exited with active threads:\n        5 running and unjoined\n        0 finished and unjoined\n        0 running and detached\n</code></pre>\n\n<p>PS. I already tried Parallel::ForkManager and that keeps crashing on me after X number of processing on my windows server so that's why I am looking for an alternate solution.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1551370567, "post_id": 54927921, "comment_id": 96624446, "body": "Welcome to Stack Overflow. Please <a href=\"https://stackoverflow.com/posts/54927921/edit\">edit</a> your question and include the actual error, with line number. Also tell us what line in the code you&#39;re showing us that is."}, {"owner": {"reputation": 11, "user_id": 11131173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yZkMG0izOcs/AAAAAAAAAAI/AAAAAAAABSY/TYzDpKUJcnw/photo.jpg?sz=128", "display_name": "Michael Patlovich", "link": "https://stackoverflow.com/users/11131173/michael-patlovich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1551372067, "post_id": 54927921, "comment_id": 96625252, "body": "Ok hopefully that made it more clear. Thanks for giving me the tips."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1551372845, "post_id": 54927921, "comment_id": 96625701, "body": "So without knowing that module, it seems like your connection is actually timing out. Did this work before? Have you made changes to your network?"}, {"owner": {"reputation": 11, "user_id": 11131173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yZkMG0izOcs/AAAAAAAAAAI/AAAAAAAABSY/TYzDpKUJcnw/photo.jpg?sz=128", "display_name": "Michael Patlovich", "link": "https://stackoverflow.com/users/11131173/michael-patlovich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1551375138, "post_id": 54927921, "comment_id": 96626800, "body": "It worked when I used Net::Telnet::Cisco. I needed to switch to a different module since we just recently got Dell switches. I find it weird that its able to log in (to my understanding) but times out when sending a cmd. My knowledge of switches is very limited."}], "owner": {"reputation": 11, "user_id": 11131173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yZkMG0izOcs/AAAAAAAAAAI/AAAAAAAABSY/TYzDpKUJcnw/photo.jpg?sz=128", "display_name": "Michael Patlovich", "link": "https://stackoverflow.com/users/11131173/michael-patlovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551372723, "creation_date": 1551364093, "last_edit_date": 1551372723, "question_id": 54927921, "link": "https://stackoverflow.com/questions/54927921/perl-netssh2cisco-timeout-on-read-when-sending-cmd-to-switch", "title": "Perl Net::SSH2::Cisco timeout on read when sending cmd() to switch", "body": "<p>Basically I have Cisco and Dell switches that I am trying to access using <a href=\"https://metacpan.org/pod/Net::SSH2::Cisco\" rel=\"nofollow noreferrer\">Net::SSH2::Cisco</a> but I am getting a weird timeout error. Here is the code that is running:</p>\n\n<pre><code>     $swConn = Net::SSH2::Cisco-&gt;new(Host =&gt; \"$switchname.something\", Prompt =&gt;  '/' . $switch .'#/') or push(@skipFailedSwitches, $switch);\n\n##############################################################################\n# Changes for Cisco Nexus 5020 Switch start here\n#\n# Included the code for varying the password depending on switch\n##############################################################################\n\n\n    $password = #mypassword;\n\n\n  print \"logging into $switchname.something  with username $username and password $password \\n\"; #SBW\n\n  if (not $swConn-&gt;login($username, $password)){\n    push(@skipFailedSwitches, $switch);\n    next;\n  }\n  #$swConn-&gt;login(Password =&gt; #mypassword);\n#$fh = $swConn-&gt;input_log();\n##############################################################################\n# Changes for Cisco Nexus 5020 Switch end here\n#\n##############################################################################\n$swConn-&gt;cmd('terminal length 0') or push(@skipFailedSwitches, $switch);\nmy @statusOut = $swConn-&gt;cmd('show interface status') or push(@skipFailedSwitches, $switch);\n</code></pre>\n\n<p>This gives me</p>\n\n<blockquote>\n  <p>timed-out during read at ./etherShine.pl line 172</p>\n</blockquote>\n\n<p>Line 172 is</p>\n\n<pre><code>$swConn-&gt;cmd('terminal length 0') or push(@skipFailedSwitches, $switch);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 1, "creation_date": 1551375183, "post_id": 54927911, "comment_id": 96626821, "body": "Are you sure you even need to pre-initialize anything? Can you show &quot;filling&quot; part to demonstrate why simple autovivifaction is not enough?"}, {"owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "reply_to_user": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1551404904, "post_id": 54927911, "comment_id": 96637750, "body": "@OlegV.Volkov, I think you&#39;re right. I always worry about auto-vivification of complex datastructures in perl but I just tried this and it works fine: <code>my $test; $test-&gt;{sections}-&gt;[3]-&gt;{happy}= &#39;true&#39;;</code> I guess maybe it&#39;s only cases in the past when I&#39;ve wanted to <code>push</code> onto a list where obviously it had to be initialized to an empty list first, and I&#39;ve <i>erroneously</i> mentally generalized this to &quot;you can&#39;t access a deep member of a datastructure without pre-initializing it."}], "answers": [{"comments": [{"owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "edited": false, "score": 0, "creation_date": 1551366848, "post_id": 54928550, "comment_id": 96622127, "body": "Fantastic. What does the <code>+</code> do?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "edited": false, "score": 0, "creation_date": 1551367030, "post_id": 54928550, "comment_id": 96622245, "body": "It makes sure that <code>{}</code> gets interpreted as a hash constructor rather than a bare loop. I don&#39;t know if it&#39;s necessary here. See <a href=\"https://stackoverflow.com/q/51613242/589924\">here</a> for a more thorough explanation."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1551368414, "post_id": 54928550, "comment_id": 96623108, "body": "this description of <code>x</code> only applies in list context; in scalar context, <code>x</code> always returns concatenation of repeated strings"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1551366071, "creation_date": 1551366071, "answer_id": 54928550, "question_id": 54927911, "link": "https://stackoverflow.com/questions/54927911/initialize-empty-array-of-hashes-of-a-given-length-one-liner/54928550#54928550", "title": "Initialize empty Array of Hashes of a given length - one-liner", "body": "<p>If the left-hand side of <code>x</code> is not in parens, <code>x</code> repeats the <em>string</em> on its LHS and returns the concatenation of those strings.</p>\n\n<p>If the left-hand side of <code>x</code> is in parens, <code>x</code> repeats the value on its LHS and returns the copies.</p>\n\n<p>This latter approach is closer to what you want, but it's still wrong as you'll end up with multiple references to a single hash. You want to create not only new references, but new hashes as well. For that, you can use the following:</p>\n\n<pre><code>$ph-&gt;{sections} ||= [ map { +{} } 1..$num_sections ];\n</code></pre>\n"}], "owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 54928550, "answer_count": 1, "score": 2, "last_activity_date": 1551404980, "creation_date": 1551364059, "last_edit_date": 1551404980, "question_id": 54927911, "link": "https://stackoverflow.com/questions/54927911/initialize-empty-array-of-hashes-of-a-given-length-one-liner", "title": "Initialize empty Array of Hashes of a given length - one-liner", "body": "<p>I'd like to pre-initialize the elements of an array of hashes so that when it comes time to filling in the data, I don't need to check for the existence of various members and initialize them every loop. If I can, I'd like to pre-initialize the general form of the datastructure which should look like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$num_sections = 4;\n# Some magic to initialize $VAR1 to this:\n$VAR1 = {\n          'sections' =&gt; [\n                          {},\n                          {},\n                          {},\n                          {}\n                        ]\n        };\n</code></pre>\n\n<p>I would like this to work,</p>\n\n<p><code>$ph-&gt;{sections} ||= [({} x $num_sections )];</code></p>\n\n<p>but it results in </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$VAR1 = {\n          'sections' =&gt; 'HASH(0x21b6110)HASH(0x21b6110)HASH(0x21b6110)HASH(0x21b6110)'\n        };\n</code></pre>\n\n<p>And no amount of playing with the <code>()</code> list context and <code>{}</code> empty hash reference seem to make it work.</p>\n\n<p>This works but it's not quite a one-liner</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>unless ($ph-&gt;{sections})\n{\n    push @{ $ph-&gt;{sections}}, {} foreach (1..$num_sections);\n}\n</code></pre>\n\n<p>There's probably some perl magic that I can use to add the <code>unless</code> to the end, but I haven't quite figured it out.</p>\n\n<p>I feel I'm so close, but I just can't quite get it.</p>\n\n<p><strong>Update</strong> Oleg points out that this probably isn't necessary at all. See comments below.</p>\n"}, {"tags": ["perl", "log4perl"], "answers": [{"comments": [{"owner": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "edited": false, "score": 0, "creation_date": 1551773846, "post_id": 54928297, "comment_id": 96752270, "body": "this is great, thank you. I have tried with the detailed method before, but didn&#39;t really got it working. But nevertheless I still wait, if there is/someone has an <code>easy_init</code> solution (less typing/less memorizing/better readability (&lt;- that may be subjective) )."}, {"owner": {"reputation": 419, "user_id": 5219724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ed542d1b96e259b84f8c82aa4b63ae?s=128&d=identicon&r=PG", "display_name": "vkats", "link": "https://stackoverflow.com/users/5219724/vkats"}, "reply_to_user": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "edited": false, "score": 0, "creation_date": 1551782939, "post_id": 54928297, "comment_id": 96757402, "body": "Thanks @eli I added the versions I ran the MWE on to avoid any confusion (I should have done it in the first place). What kind of problems did you ran into?"}, {"owner": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "edited": false, "score": 0, "creation_date": 1551786513, "post_id": 54928297, "comment_id": 96759542, "body": "sorry for the confusion. When I tried this in the past, it didn&#39;t work - but your answer is working correctly and I gave it an upvote"}], "tags": [], "owner": {"reputation": 419, "user_id": 5219724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ed542d1b96e259b84f8c82aa4b63ae?s=128&d=identicon&r=PG", "display_name": "vkats", "link": "https://stackoverflow.com/users/5219724/vkats"}, "is_accepted": false, "score": 2, "last_activity_date": 1551782793, "last_edit_date": 1551782793, "creation_date": 1551365289, "answer_id": 54928297, "question_id": 54926856, "link": "https://stackoverflow.com/questions/54926856/loglog4perl-different-logging-destination-depending-on-loglevel/54928297#54928297", "title": "Log::Log4Perl different logging destination depending on LogLevel", "body": "<p>The following perl minimal working example:</p>\n\n<ul>\n<li>prints to file DEBUG and higher levels</li>\n<li>prints to screen WARN and higher levels</li>\n</ul>\n\n<p>I didn't use <code>easy_init</code> as the detailed configuration is more detailed. I have comments in the script that describe what the configuration is doing. Let me know if it needs more detail.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse Log::Log4perl qw(:easy);\n\n# rootlogger prints to \"Logfile\" and \"Screen\"\n# \"Logfile\" and \"Screen\" are then defined with the proper appender (File and Screen)\n# and the proper Threshold is used to limit what goes in each appender\n\nmy $conf = q(\nlog4perl.rootLogger=DEBUG,Logfile,Screen\n\nlog4perl.appender.Logfile           = Log::Log4perl::Appender::File\nlog4perl.appender.Logfile.filename  = /home/USER/test.log\nlog4perl.appender.Logfile.mode      = append\nlog4perl.appender.Logfile.utf8      = 1\nlog4perl.appender.Logfile.Threshold = DEBUG\nlog4perl.appender.Logfile.recreate  = 1\nlog4perl.appender.Logfile.layout    = Log::Log4perl::Layout::SimpleLayout\n\nlog4perl.appender.Screen            = Log::Log4perl::Appender::Screen\nlog4perl.appender.Screen.stderr     = 0\nlog4perl.appender.Screen.Threshold  = WARN\nlog4perl.appender.Screen.layout     = Log::Log4perl::Layout::SimpleLayout\n);\nLog::Log4perl::init( \\$conf );\n\nmy $logger = Log::Log4perl-&gt;get_logger( 'foo' );\n\nWARN \"some bad thing\";      # print this to the screen AND to the file\nDEBUG \"doing something\";    # print this just to the file\n</code></pre>\n\n<pre><code>~ $ perl log4perl.pl\nWARN - some bad thing\n\n~ $ cat test.log \nWARN - some bad thing\nDEBUG - doing something\n</code></pre>\n\n<h2>Versions</h2>\n\n<p>I tested with:</p>\n\n<ul>\n<li>OS: Ubuntu 14.04.5 LTS</li>\n<li>perl: v5.18.2</li>\n<li>Log::Log4perl: 1.49 (and 1.41)</li>\n</ul>\n"}], "owner": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551782793, "creation_date": 1551360431, "question_id": 54926856, "link": "https://stackoverflow.com/questions/54926856/loglog4perl-different-logging-destination-depending-on-loglevel", "title": "Log::Log4Perl different logging destination depending on LogLevel", "body": "<p>My goal is, to log \"debug\"-messages (and subsequent levels: info,warning, fatal,...) to a file but only \"warnings\"/fatal/error to the screen.\nBoth at the same time.</p>\n\n<p>I tried with easy_init (<a href=\"https://metacpan.org/pod/Log::Log4perl#Stealth-loggers\" rel=\"nofollow noreferrer\">\"stealth logging\"</a>):</p>\n\n<pre><code>Log::Log4perl-&gt;easy_init(\n    { level =&gt; $DEBUG, file =&gt; \":utf8&gt; ./log_\" . basename($0) . \"_.log\" },\n    { level =&gt; $WARN, file =&gt; 'STDOUT' },\n);\n</code></pre>\n\n<p>... BUT the <code>level</code> of the second definition overwrites general loglevel.</p>\n\n<pre><code>if (false){\n    WARN \"some bad thing\";  # print this to the screen AND to the file\n}else{\n    do_something;\n    DEBUG \"doing something\";    # print this just to the file\n    if (bla){WARN \"another bad thing\"}\n}\n</code></pre>\n\n<p>In this case the warning goes to the screen and the file correctly, BUT the \"DEBUG\" message will not get printed (perl 5.26)</p>\n\n<p>Putting the <code>{ level =&gt; $DEBUG ...</code>-line after the <code>{level =&gt; $WARN ...</code>-line, then all warn- and debug-messages are printed on the screen and to the file.</p>\n\n<p>Can someone please guide me, how to do this (if even possible)? Do I need to clarify? </p>\n"}, {"tags": ["string", "perl", "substring"], "comments": [{"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1551357936, "post_id": 54926040, "comment_id": 96616681, "body": "what is it you are trying to get? from what I see you can do the same in perl with substrings..."}, {"owner": {"reputation": 197, "user_id": 9965855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07fe94a03fb6a97722213a1f40110657?s=128&d=identicon&r=PG&f=1", "display_name": "SLP", "link": "https://stackoverflow.com/users/9965855/slp"}, "reply_to_user": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1551358299, "post_id": 54926040, "comment_id": 96616895, "body": "I want to separate the string into different substrings. For example I would ideally have &quot;function1&quot; as a string in a variable, &quot;par1&quot; and &quot;par2&quot; in other variables"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1551378173, "post_id": 54926040, "comment_id": 96628351, "body": "If your input has more on each line -- or different lines mixed with the ones you show -- that makes a difference for any approach; please update the question if that is so.  (In my answer I assume that you only need to process lines as shown,)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1552636257, "post_id": 54926040, "comment_id": 97093633, "body": "A reminder, please see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 9965855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07fe94a03fb6a97722213a1f40110657?s=128&d=identicon&r=PG&f=1", "display_name": "SLP", "link": "https://stackoverflow.com/users/9965855/slp"}, "edited": false, "score": 0, "creation_date": 1551358982, "post_id": 54926301, "comment_id": 96617297, "body": "Ok thank you. I had already tried this but I must have had a mistake somewhere because it didn&#39;t produce the result expected."}], "tags": [], "owner": {"reputation": 6983, "user_id": 274350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6680544d5ca7c1a0ea3eaba1f3c438f7?s=128&d=identicon&r=PG", "display_name": "Richard Neish", "link": "https://stackoverflow.com/users/274350/richard-neish"}, "is_accepted": false, "score": 2, "last_activity_date": 1551359056, "last_edit_date": 1551359056, "creation_date": 1551358623, "answer_id": 54926301, "question_id": 54926040, "link": "https://stackoverflow.com/questions/54926040/get-substring-from-string-with-the-index-of-the-characters/54926301#54926301", "title": "Get substring from string with the index of the characters", "body": "<p>If you want the same behaviour as your Python example, the <a href=\"https://perldoc.perl.org/functions/substr.html\" rel=\"nofollow noreferrer\"><code>substr</code></a> function will do what you want.</p>\n\n<p>The code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $a = \"function1(par1, par2)\";\nprint substr $a, 0, 8\n</code></pre>\n\n<p>produces \"function\" as the output</p>\n\n<p>Per your comment \"I want to separate the string into different substrings\", if you have a variable number and length of function parameters, a regular expression is by far the best way to do this.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>while (&lt;&gt;) {\n  if (/^([^\\(]*)\\(([^\\)]*)\\)/) {\n    my $f=$1;\n    my @params=split \",\", $2;\n    print \"Function: $f, Params: @params\\n\";\n  }\n}\n</code></pre>\n\n<p>Given the input</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>function1(par1, par2)\nfunction2(par1)\nfunction3(par1, par2, par3)\n</code></pre>\n\n<p>This code will print</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Function: function1, Params: par1  par2\nFunction: function2, Params: par1\nFunction: function3, Params: par1  par2  par3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1551377432, "last_edit_date": 1551377432, "creation_date": 1551377074, "answer_id": 54931693, "question_id": 54926040, "link": "https://stackoverflow.com/questions/54926040/get-substring-from-string-with-the-index-of-the-characters/54931693#54931693", "title": "Get substring from string with the index of the characters", "body": "<p>To parse programming text of a function call, as shown in the sample input</p>\n\n<pre><code>my $string = 'function1(par1, par2)';\n\nmy ($func_name, @params) = split /\\s*\\(\\s*|\\s*,\\s*|\\s*\\)/, $string;\n</code></pre>\n\n<p>where <a href=\"https://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\">split</a> builtin uses a regex for the separator pattern, and we tell it to break up the string by either <code>(</code> or <code>,</code> or <code>)</code> (I also include the closing parenthesis so that the last element wouldn't be stuck with it).  The regex pattern also has possible spaces sprinkled around.</p>\n\n<p>If your <code>.txt</code> file has literally lines like what you show then you can simply apply the above to each line.  If there is more on each line though then you'd need to preprocess that first (or use a different approach); please show the realistic input if lines have more than what is shown.</p>\n"}], "owner": {"reputation": 197, "user_id": 9965855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07fe94a03fb6a97722213a1f40110657?s=128&d=identicon&r=PG&f=1", "display_name": "SLP", "link": "https://stackoverflow.com/users/9965855/slp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1554539262, "creation_date": 1551357804, "last_edit_date": 1554539262, "question_id": 54926040, "link": "https://stackoverflow.com/questions/54926040/get-substring-from-string-with-the-index-of-the-characters", "title": "Get substring from string with the index of the characters", "body": "<p>I'm trying to get information from a .txt file:</p>\n\n<pre><code>function1(par1, par2)\nfunction2(par1)\nfunction3(par1, par2, par3)\n</code></pre>\n\n<p>I would like to get for example for the first line \"function1\" as a string, \"par1\" and \"par2\" as strings. </p>\n\n<p>I now it is possible to extract a pattern from a string, but I would like to know if it was possible to get a substring using the index of its caracters.</p>\n\n<p>For example as in Python :</p>\n\n<pre><code>$function = $row[0:8]\n</code></pre>\n\n<p>would get me \"function1\"</p>\n\n<p>Thanks,</p>\n\n<p>SLP</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1551349700, "post_id": 54923278, "comment_id": 96611758, "body": "What is the code doing now? Can you please <a href=\"https://stackoverflow.com/posts/54923278/edit\">edit</a> and show your current output as well?"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1551349902, "post_id": 54923278, "comment_id": 96611877, "body": "Duplicate of your earlier <a href=\"https://stackoverflow.com/questions/54763580/compare-lines-with-a-pattern-in-two-files\">question</a>"}, {"owner": {"reputation": 8506, "user_id": 10808674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j1tGB.jpg?s=128&g=1", "display_name": "Alain Merigot", "link": "https://stackoverflow.com/users/10808674/alain-merigot"}, "edited": false, "score": 0, "creation_date": 1551350119, "post_id": 54923278, "comment_id": 96612020, "body": "Have you considered using <a href=\"http://man7.org/linux/man-pages/man1/diff.1.html\" rel=\"nofollow noreferrer\">diff(1)</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551351242, "post_id": 54923583, "comment_id": 96612713, "body": "your command is not printing log1 in order as it contains about 20-30 lines all lines are printing improperly"}, {"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "reply_to_user": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551351295, "post_id": 54923583, "comment_id": 96612752, "body": "so you want the output in order ?..let me work on it"}, {"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "reply_to_user": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551351701, "post_id": 54923583, "comment_id": 96613012, "body": "could you please check the solution in the <code>EDIT</code> section of the answer?&gt;"}, {"owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551423472, "post_id": 54923583, "comment_id": 96642157, "body": "Thanks a lot @stack0114106 for your timely help but now i&#39;m facing one more problem, this command doesn&#39;t compare digits and special characters (like # @ $ etc.) otherwise for strings having only alphabets its working fine, can you please solve this issue also?"}, {"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "reply_to_user": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551426450, "post_id": 54923583, "comment_id": 96643274, "body": "It will work for all cases.. I&#39;m just trimming.. could you please share samples where it is not working?"}, {"owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551434352, "post_id": 54923583, "comment_id": 96647181, "body": "pls check the updated log files in the question section and the expected output is also given. Please help me out."}, {"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "reply_to_user": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551435233, "post_id": 54923583, "comment_id": 96647664, "body": "the new output is not following a pattern... one way we could eliminate those duplicates is shown in EDIT2 - just pipe it to another perl command.."}, {"owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551436471, "post_id": 54923583, "comment_id": 96648285, "body": "as you can see updated output i&#39;m getting in the question, the lines that got matched in both logs it shouldn&#39;t come in output, please have a look."}, {"owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551937707, "post_id": 54923583, "comment_id": 96825477, "body": "can you please help me out in getting the desired output by some other approach...I want to compare data of every line (data starting from first colon to appearance of a semicolon) irrespective whether it is a set of alphabet, numbers or special characters."}, {"owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "reply_to_user": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1551949564, "post_id": 54923583, "comment_id": 96830695, "body": "check my EDIT4.. entirely a new solution.. hope it helps!"}], "tags": [], "owner": {"reputation": 7646, "user_id": 6867048, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b939fdb5809fed8097c38bdf4370747b?s=128&d=identicon&r=PG&f=1", "display_name": "stack0114106", "link": "https://stackoverflow.com/users/6867048/stack0114106"}, "is_accepted": true, "score": 0, "last_activity_date": 1551949537, "last_edit_date": 1551949537, "creation_date": 1551350112, "answer_id": 54923583, "question_id": 54923278, "link": "https://stackoverflow.com/questions/54923278/compare-two-log-files-line-by-line-and-print-difference/54923583#54923583", "title": "Compare two log files line by line and print difference", "body": "<p>Try this command line perl</p>\n\n<pre><code>perl -F\"/[:;]/\" -lane ' $i=$ARGV eq \"log1.txt\" ? 1 : 2;$F[$i]=~s/^\\s*|\\s*$//g; \n     $kv{$F[$i]}=$ARGV ; END { for(keys %kv) { print \"$_\" if $kv{$_} eq \"log1.txt\" } } '\n</code></pre>\n\n<p>with your given inputs:</p>\n\n<pre><code>$ cat log1.txt\nINFO @0 digrf_0_drv: Constructing a digrf Driver: digrf_0_drv; T=0\nINFO @648647 mti_disable_fuse_cov_inst: run_stimulus called; T=648647\nINFO @1549325 mti_disable_fuse_cov_inst:  CHECKING MTI DISABLE FUSE CONNECTED TO flash_mti_en; T=1549325\nINFO @1549325 mti_disable_fuse_cov_inst: MTI_DISABLE fuse is correctly asserted ; T=1549325\n\n$ cat log2.txt\nUVM_INFO @1381068 mti_disable_fuse_cov [mti_disable_fuse_cov:INFO]:  CHECKING MTI DISABLE FUSE CONNECTED TO flash_mti_en; T=1381068\nUVM_INFO @1381068 mti_disable_fuse_cov [mti_disable_fuse_cov:INFO]: MTI_DISABLE fuse is correctly asserted ; T=1381068\nUVM_INFO @1381068 reporter [Z7_COREB]: V FLAG_CLEAR: Clearing flag 1; T=1381068\nUVM_INFO @1381068 reporter [Z4_COREA]: V FLAG_SET: Setting flag 2; T=1381068\n\n$ perl -F\"/[:;]/\" -lane ' $i=$ARGV eq \"log1.txt\" ? 1 : 2;$F[$i]=~s/^\\s*|\\s*$//g; \n$kv{$F[$i]}=$ARGV ; END { for(keys %kv) { print \"$_\" if $kv{$_} eq \"log1.txt\" } } ' log1.txt log2.txt\nConstructing a digrf Driver\nrun_stimulus called\n\n$\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>To print it in order, use</p>\n\n<pre><code>perl -F\"/[:;]/\" -lane ' $i=$ARGV eq \"log1.txt\" ? 1 : 2;$F[$i]=~s/^\\s*|\\s*$//g;\n$kv{$F[$i]}=$ARGV ;push(@f,$F[$i]) ; END { for(@f) { print \"$_\" if $kv{$_} eq \"log1.txt\" } } ' log1.txt log2.txt\n</code></pre>\n\n<p><strong>EDIT2:</strong></p>\n\n<pre><code> perl -F\"/[:;]/\" -lane ' $i=$ARGV eq \"log1.txt\" ? 1 : 2;$F[$i]=~s/^\\s*|\\s*$//g;\n$kv{$F[$i]}=$ARGV ;push(@f,$F[$i]) ; END { for(@f) { print \"$_\" if $kv{$_} eq \"log1.txt\" } } ' log1.txt log2.txt | perl -0777 -pe ' s/(^total.*)\\1//gms '\n</code></pre>\n\n<p><strong>EDIT3</strong></p>\n\n<pre><code> perl -F\"/[:;]/\" -lane ' $i=$ARGV eq \"log1.txt\" ? 1 : $#F-1; $F[$i]=~s/^\\s*|\\s*$//g;\n$kv{$F[$i]}=$ARGV ;push(@f,$F[$i]) ; END { for(@f) { print \"$_\" if $kv{$_} eq \"log1.txt\" } } ' log1.txt log2.txt | perl -0777 -pe ' s/(^total.*)\\1//gms '\n</code></pre>\n\n<p><strong><em>EDIT4:</em></strong></p>\n\n<p>This solution is entirely different to meet the expected output</p>\n\n<pre><code>$ perl -lne ' s!:\\s+(.+?)\\s*(;|:$)!$x=$1;$x=~s/: //g;$kv{$x}=$ARGV!e;push(@f,$x); END { for(@f) { print \"$_\" if $kv{$_} eq \"log1.txt\" } } ' log1.txt log2.txt | perl -0777 -pe ' s/(^total.*)*(?=\\1)//gms'\nConstructing a digrf Driverdigrf_0_drv\n----- SV is waiting for FLAG 4  -----\n----- SV is waiting for FLAG 0  -----\nC-Code exit execution. code=&lt;aa&gt;\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554\nReport(s) of this encapsulation run can be found under\n\n$\n</code></pre>\n\n<p>Things to note:</p>\n\n<pre><code>----- Flag 0 OK : SV STARTED  -----  =&gt; log1.txt\n----- Flag 0 OK SV STARTED  -----    =&gt; log2.txt\n</code></pre>\n\n<p>The above 2 lines are entirely different and so I have to remove \": \" during the substitution process to match and eliminate them to get the required output</p>\n\n<p>The last line in log1.txt</p>\n\n<pre><code>INFO: Report(s) of this encapsulation run can be found under:\n</code></pre>\n\n<p>doesn't have semicolon, so I adjusted with <code>|:$</code> in the regex match.</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "accepted_answer_id": 54923583, "answer_count": 1, "score": 0, "last_activity_date": 1551949537, "creation_date": 1551349091, "last_edit_date": 1551937838, "question_id": 54923278, "link": "https://stackoverflow.com/questions/54923278/compare-two-log-files-line-by-line-and-print-difference", "title": "Compare two log files line by line and print difference", "body": "<p>I have to compare two different log files line by line (in each line data between two symbols (<code>:</code> and <code>;</code>) is to be checked) and print all lines of log 1 that are not in log 2. I have used this approach but the result is not correct.</p>\n\n<p>Content in log1:</p>\n\n<pre><code>INFO @0 digrf_0_drv: Constructing a digrf Driver: digrf_0_drv; T=0\nINFO @648647 mti_disable_fuse_cov_inst: run_stimulus called; T=648647\nINFO @1549325 mti_disable_fuse_cov_inst:  CHECKING MTI DISABLE FUSE CONNECTED TO flash_mti_en; T=1549325\nINFO @1549325 mti_disable_fuse_cov_inst: MTI_DISABLE fuse is correctly asserted ; T=1549325\n</code></pre>\n\n<p>Content in log 2:</p>\n\n<pre><code>UVM_INFO @1381068 mti_disable_fuse_cov [mti_disable_fuse_cov:INFO]:  CHECKING MTI DISABLE FUSE CONNECTED TO flash_mti_en; T=1381068\nUVM_INFO @1381068 mti_disable_fuse_cov [mti_disable_fuse_cov:INFO]: MTI_DISABLE fuse is correctly asserted ; T=1381068\nUVM_INFO @1381068 reporter [Z7_COREB]: V FLAG_CLEAR: Clearing flag 1; T=1381068\nUVM_INFO @1381068 reporter [Z4_COREA]: V FLAG_SET: Setting flag 2; T=1381068\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>Constructing a digrf Driver: digrf_0_drv\nrun_stimulus called\n</code></pre>\n\n<p>Now my current code is :</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n#use 5.012;\n\nmy $filename1 = 'log2';\nmy %a_links;\n\nopen(FILE, $filename1) or die \"Could not read from $filename1, program halting.\";\nwhile(&lt;FILE&gt;)\n{\n    chomp;\n    my @fields1 = split(/[:;]/, $_);\n    $a_links{$fields1[1]} = undef;\n\n}\nclose FILE;\n\nmy $filename2 = 'log1';\nmy @fields;\nopen(FILE, $filename2) or die \"Could not read from $filename2, program halting.\";\nwhile(&lt;FILE&gt;)\n{\n    chomp;\n    @fields = split(/[:;]/, $_);\n    next if exists $a_links{$fields[1]}; \n    print \"$fields[1] \\n\";\n}\n\nclose FILE;\n</code></pre>\n\n<p><strong>EDIT</strong>\nIf two or more lines have same set of info in log 1 then print just single line in output.<br>\nLog 1  </p>\n\n<pre><code>INFO @0 digrf_0_drv: Constructing a digrf Driver: digrf_0_drv; T=0\nINFO @603845 mcPWM_CYC: ----- SV is waiting for FLAG 4  -----; T=603845\nINFO @1116033 mcPWM_CYC: ----- SV is waiting for FLAG 0  -----; T=1116033\nINFO @1145215 mcPWM_CYC: ----- Flag 0 OK SV STARTED  -----; T=1145215\nINFO @1145215 mcPWM_CYC: PORT STIM started !!!; T=1145215\nINFO @1145287 mcPWM_CYC: ----- SV is waiting for FLAG 2  -----; T=1145287\nINFO @1146281 mcPWM_CYC: ----- Flag 0 OK : SV STARTED  -----; T=1146281\nINFO @1146281 mcPWM_CYC: PORT STIM started !!!; T=1146281\nINFO @1190554 mcPWM_CYC: C-Code exit execution. code=&lt;aa&gt;; T=1190554\nINFO @1190554 mti_lane1_bw_mon: total bytes = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane1_bw_mon: time window = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane1_bw_mon: BW in Mbps = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane2_bw_mon: total bytes = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane2_bw_mon: time window = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane2_bw_mon: BW in Mbps = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane3_bw_mon: total bytes = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane3_bw_mon: time window = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane3_bw_mon: BW in Mbps = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane4_bw_mon: total bytes = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane4_bw_mon: time window = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane4_bw_mon: BW in Mbps = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane5_bw_mon: total bytes = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane5_bw_mon: time window = 0, at time = 1190554; T=1190554\nINFO @1190554 mti_lane5_bw_mon: BW in Mbps = 0, at time = 1190554; T=1190554\nINFO: Report(s) of this encapsulation run can be found under:\n</code></pre>\n\n<p>Log2:</p>\n\n<pre><code>UVM_INFO @1353514 reporter [Z7_COREA]: mcPWM0_ExtSig: *** START Syncronization with Verilog Stimulus ***; T=1353514\nUVM_INFO @1353578 reporter [Z7_COREA]: C FLAG_SET: Setting flag 0; T=1353578\nUVM_INFO @1353578 reporter [Z7_COREA]: V FLAG_WAIT: Received flag 0; T=1353578\nUVM_INFO @1353578 reporter [testbench.top_level_module.\\mcPWM_CYC::main ]: ----- Flag 0 OK SV STARTED  -----; T=1353578\nUVM_INFO @1353578 reporter [testbench.top_level_module.\\mcPWM_CYC::main ]: PORT STIM started !!!; T=1353578\nUVM_INFO @1353642 reporter [Z7_COREA]: C FLAG_WAIT: Checking flag 1, status is 0; T=1353642\nUVM_INFO @1353650 reporter [Z7_COREA]: V FLAG_SET: Setting flag 1; T=1353650\nUVM_INFO @1353650 reporter [testbench.top_level_module.\\mcPWM_CYC::main ]: ----- SV is waiting for FLAG 2  -----; T=1353650\nUVM_INFO @1353650 reporter [Z4_COREA]: V FLAG_WAIT: Checking flag 2, status is 0; T=1353650\nUVM_INFO @1353743 reporter [Z7_COREA]: C FLAG_WAIT: Checking flag 1, status is 1; T=1353743\nUVM_INFO @1354063 reporter [Z7_COREA]: REM16: A=fbc00086 R=0007 E=0007 M=ffff; T=1354063\nUVM_INFO @1354336 reporter [Z7_COREA]: REM16: A=fbc00080 R=048e E=048e M=ffff; T=1354336\nUVM_INFO @1354532 reporter [Z7_COREA]: W16: A=fbc00080 W=008d; T=1354532\nUVM_INFO @1354597 reporter [Z7_COREA]: C FLAG_SET: Setting flag 2; T=1354597\nUVM_INFO @1354597 reporter [Z7_COREA]: V FLAG_WAIT: Received flag 2; T=1354597\nUVM_INFO @1354597 reporter [testbench.top_level_module.\\mcPWM_CYC::main ]: ----- Flag 0 OK SV STARTED  -----; T=1354597\nUVM_INFO @1354597 reporter [testbench.top_level_module.\\mcPWM_CYC::main ]: PORT STIM started !!!; T=1354597\nUVM_INFO @1354597 reporter [Z7_COREA]: V FLAG_WAIT: Received flag 2; T=1354597\nUVM_INFO @1354597 reporter [Z7_COREA]: V FLAG_WAIT: Checking flag 2, status is 1; T=1354597\nUVM_INFO @1354661 reporter [Z7_COREA]: C FLAG_WAIT: Checking flag 2, status is 1; T=1354661\nUVM_INFO @1354741 reporter [Z7_COREA]: V FLAG_CLEAR: Clearing flag 2; T=1354741\nUVM_INFO @1354741 reporter [Z4_COREA]: V FLAG_SET: Setting flag 5; T=1354741\nUVM_INFO @1354741 reporter [Z7_COREA]: V FLAG_WAIT: Received flag 2; T=1354741\n</code></pre>\n\n<p>Expected Output: </p>\n\n<pre><code>Constructing a digrf Driver: digrf_0_drv\n----- SV is waiting for FLAG 4  -----\n----- SV is waiting for FLAG 0  -----\nC-Code exit execution. code=&lt;aa&gt;\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554 \nReport(s) of this encapsulation run can be found under\n</code></pre>\n\n<p>Output coming with EDIT2 :</p>\n\n<pre><code>Constructing a digrf Driver\n----- SV is waiting for FLAG 4  -----\n----- SV is waiting for FLAG 0  -----\n----- Flag 0 OK SV STARTED  -----\nPORT STIM started !!!\n----- SV is waiting for FLAG 2  -----\n----- Flag 0 OK\nPORT STIM started !!!\nC-Code exit execution. code=&lt;aa&gt;\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554\nReport(s) of this encapsulation run can be found under\n</code></pre>\n\n<p>Output coming with EDIT3 :</p>\n\n<pre><code>Constructing a digrf Driver\n----- Flag 0 OK\nC-Code exit execution. code=&lt;aa&gt;\ntotal bytes = 0, at time = 1190554\ntime window = 0, at time = 1190554\nBW in Mbps = 0, at time = 1190554\nReport(s) of this encapsulation run can be found under\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1551349453, "creation_date": 1551349453, "answer_id": 54923377, "question_id": 54923255, "link": "https://stackoverflow.com/questions/54923255/how-do-i-parse-access-tokenabcd45689012031/54923377#54923377", "title": "How do I parse {&quot;access_token&quot;:&quot;Abcd45689012031&quot;}", "body": "<p>Use <a href=\"http://p3rl.org/JSON\" rel=\"nofollow noreferrer\">JSON</a>, <a href=\"http://p3rl.org/JSON::XS\" rel=\"nofollow noreferrer\">JSON::XS</a>, or even <a href=\"http://p3rl.org/Cpanel::JSON::XS\" rel=\"nofollow noreferrer\">Cpanel::JSON::XS</a> to parse JSON:</p>\n\n<pre><code>use JSON::XS qw{ decode_json };\n\nmy $input = '{\"access_token\":\"Abcd45689012031\"}';\nmy $json  = decode_json($input);\nmy $token = $json-&gt;{access_token};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 1, "last_activity_date": 1551349551, "creation_date": 1551349551, "answer_id": 54923412, "question_id": 54923255, "link": "https://stackoverflow.com/questions/54923255/how-do-i-parse-access-tokenabcd45689012031/54923412#54923412", "title": "How do I parse {&quot;access_token&quot;:&quot;Abcd45689012031&quot;}", "body": "<p>That looks like JSON. Hence use a <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a> parser:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse JSON;\n\nmy $json = JSON-&gt;new;\nmy $object = $json-&gt;decode('{\"access_token\":\"Abcd45689012031\"}')\n    or die \"JSON\\n\";\n\nprint $object-&gt;{access_token}, \"\\n\";\n\nexit 0;\n</code></pre>\n\n<p>Test run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl\nAbcd45689012031\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3510394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be969c1235d5de1d38b45230878bf6fe?s=128&d=identicon&r=PG&f=1", "display_name": "Tulasikumar", "link": "https://stackoverflow.com/users/3510394/tulasikumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1551349554, "answer_count": 2, "score": -3, "last_activity_date": 1551349551, "creation_date": 1551349022, "question_id": 54923255, "link": "https://stackoverflow.com/questions/54923255/how-do-i-parse-access-tokenabcd45689012031", "closed_reason": "Duplicate", "title": "How do I parse {&quot;access_token&quot;:&quot;Abcd45689012031&quot;}", "body": "<p>How do I parse this. Input ={\"access_token\":\"Abcd45689012031\"} and out put = \"Abcd45689012031\"</p>\n"}, {"tags": ["perl", "date", "time"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1551348464, "post_id": 54922990, "comment_id": 96610955, "body": "Ok, go on then. Have you given this any thought at all yet? Tried anything? Please take a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and also take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how to use Stack Overflow. We&#39;re not going to do your work for you."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6056930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add1809f2082daed7956b300dbe674ba?s=128&d=identicon&r=PG&f=1", "display_name": "Dumb", "link": "https://stackoverflow.com/users/6056930/dumb"}, "edited": false, "score": 0, "creation_date": 1551348651, "post_id": 54923114, "comment_id": 96611072, "body": "Thanks a lot Prakash. That was helpful"}, {"owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "edited": false, "score": 3, "creation_date": 1551348905, "post_id": 54923114, "comment_id": 96611236, "body": "Hi Prakash. Welcome to Stack Overflow. Thank you for your answer. But please ensure that all answers include an explanation. At StackOverflow, we are trying to produce the highest quality and most helpful answers. <a href=\"https://stackoverflow.com/help/how-to-answer\">Tips Here</a> Best Regards."}], "tags": [], "owner": {"reputation": 1, "user_id": 10941261, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8eoZNm0g6ck/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYlRO-ZxMq_1ZihztTm1CRMeovKdA/mo/photo.jpg?sz=128", "display_name": "Prakash Behera", "link": "https://stackoverflow.com/users/10941261/prakash-behera"}, "is_accepted": false, "score": 0, "last_activity_date": 1551349623, "last_edit_date": 1551349623, "creation_date": 1551348586, "answer_id": 54923114, "question_id": 54922990, "link": "https://stackoverflow.com/questions/54922990/convert-this-time-format-2019-02-28t0842570000-to-yyyy-mm-dd-format-in-perl/54923114#54923114", "title": "Convert this time format &quot;2019-02-28T08:42:57+0000&quot; to YYYY-MM-DD format in perl", "body": "<p>Please try this out:</p>\n\n<pre><code>use Date::Parse qw(str2time);\nuse Date::Format qw(time2str);\n\nmy $string = '2019-02-28T08:42:57+0000';\n\nmy $time = str2time($string);\nmy $date = time2str(\"%Y-%m-%d %H:%M:%S\", $time);\n\nprint $date;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1551349662, "post_id": 54923201, "comment_id": 96611736, "body": "I remember Date::Manip to be quite heavy. Is that still the case?"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1551350013, "post_id": 54923201, "comment_id": 96611960, "body": "@simabque no idea. But I&#39;m not concerned by this, because it has been working flawlessly in my XMLTV screen-scraper for 10+ years..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1551350195, "post_id": 54923201, "comment_id": 96612066, "body": "I see. Yeah, I&#39;m not saying it&#39;s bad. I&#39;ve used it in the past too. Do prefer DateTime now for some reason."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1551350575, "post_id": 54923201, "comment_id": 96612298, "body": "@simbabque this <a href=\"https://metacpan.org/pod/distribution/Date-Manip/lib/Date/Manip/Changes5to6.pod#(%2A)-Breaking-into-smaller-modules\" rel=\"nofollow noreferrer\">DM5 -&gt; DM6 change document</a> may answer your question. I guess you shouldn&#39;t use <code>Date::Manip</code> anymore, but the smaller <code>Date::Manip::Date</code>. Updated my answer."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1551362162, "post_id": 54923201, "comment_id": 96619158, "body": "DateTime is better (in my opinion) for the huge ecosystem of parsers, formatters and other modules which all use the same underlying data model. For simpler stuff (like this problem) Time::Piece is my preferred solution as it&#39;s included with core Perl."}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 1, "last_activity_date": 1551350534, "last_edit_date": 1551350534, "creation_date": 1551348831, "answer_id": 54923201, "question_id": 54922990, "link": "https://stackoverflow.com/questions/54922990/convert-this-time-format-2019-02-28t0842570000-to-yyyy-mm-dd-format-in-perl/54923201#54923201", "title": "Convert this time format &quot;2019-02-28T08:42:57+0000&quot; to YYYY-MM-DD format in perl", "body": "<p>With <a href=\"https://metacpan.org/pod/distribution/Date-Manip/lib/Date/Manip.pod\" rel=\"nofollow noreferrer\">Date::Manip</a>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Date::Manip:.Date;\n\nmy $date = new Date::Manip::Date;\n$date-&gt;parse(\"2019-02-28T08:42:57+0000\")\n    and die \"parse\" . $date-&gt;err() . \"\\n\";\n\nprint $date-&gt;printf(\"%Y-%m-%d\\n\");\n\nexit 0;\n</code></pre>\n\n<p>Test run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl\n2019-02-28\n</code></pre>\n\n<p><strong>NOTE:</strong> date and time parsing is a complex subject matter. So please</p>\n\n<ul>\n<li>choose an appropriate module instead of coding your own parser</li>\n<li><em>do</em> study the documentation of the module you choose for the task</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1551348930, "creation_date": 1551348930, "answer_id": 54923235, "question_id": 54922990, "link": "https://stackoverflow.com/questions/54922990/convert-this-time-format-2019-02-28t0842570000-to-yyyy-mm-dd-format-in-perl/54923235#54923235", "title": "Convert this time format &quot;2019-02-28T08:42:57+0000&quot; to YYYY-MM-DD format in perl", "body": "<p>You don't need a date module here. The format you want is contained inside the one you have. A <a href=\"https://perldoc.perl.org/functions/substr.html\" rel=\"nofollow noreferrer\"><code>substr</code></a> is all you have to do. An ISO 8601 date is always 10 characters long, and you start at the front.</p>\n\n<pre><code>print substr $date, 0, 10;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1551363254, "creation_date": 1551363254, "answer_id": 54927674, "question_id": 54922990, "link": "https://stackoverflow.com/questions/54922990/convert-this-time-format-2019-02-28t0842570000-to-yyyy-mm-dd-format-in-perl/54927674#54927674", "title": "Convert this time format &quot;2019-02-28T08:42:57+0000&quot; to YYYY-MM-DD format in perl", "body": "<p>The simplest solution, in this case, (as simbabque has already pointed out) is to just treat the date as a string. As well as the <code>substr()</code> solution you've been given, you could use a regex to remove the \"T\" and everything following it.</p>\n\n<pre><code>$date =~ s/T.*$//;\n</code></pre>\n\n<p>If you really want to parse and reformat the date, then <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a> has been included with the standard Perl distribution since 2007.</p>\n\n<pre><code>use Time::Piece;\n\n$date = '2019-02-28T08:42:57+0000';\nmy $tp = Time::Piece-&gt;strptime($date, '%Y-%m-%dT%H:%M:%S%z');\nsay $tp-&gt;strftime('%Y-%m-%d');\n</code></pre>\n\n<p>For more complicated date and time handling (not needed here, but I'm including it for completeness) you should read for <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow noreferrer\">DateTime</a> and its friends.</p>\n\n<pre><code>use DateTime;\nuse DateTime::Format::Strptime;\n\nmy $parser = DateTime::Format::Strptime-&gt;new(\n  pattern =&gt; '%Y-%m-%dT%H:%M:%S%z',\n);\n\nmy $date = '2019-02-28T08:42:57+0000';\n\nmy $dt = $parser-&gt;parse_datetime($date);\n\nsay $dt-&gt;strftime('%Y/%m/%d');\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6056930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add1809f2082daed7956b300dbe674ba?s=128&d=identicon&r=PG&f=1", "display_name": "Dumb", "link": "https://stackoverflow.com/users/6056930/dumb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "answer_count": 4, "score": -4, "last_activity_date": 1551363254, "creation_date": 1551348210, "question_id": 54922990, "link": "https://stackoverflow.com/questions/54922990/convert-this-time-format-2019-02-28t0842570000-to-yyyy-mm-dd-format-in-perl", "title": "Convert this time format &quot;2019-02-28T08:42:57+0000&quot; to YYYY-MM-DD format in perl", "body": "<p>I want to convert the below time format-\n \"2019-02-28T08:42:57+0000\" to YYYY-MM-DD format in perl</p>\n"}, {"tags": ["perl", "epic"], "comments": [{"owner": {"reputation": 111, "user_id": 3330623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b0d8e30e494394be5faade7f3e4812?s=128&d=identicon&r=PG&f=1", "display_name": "user3330623", "link": "https://stackoverflow.com/users/3330623/user3330623"}, "edited": false, "score": 0, "creation_date": 1584696089, "post_id": 54921329, "comment_id": 107521026, "body": "Having the exact same problem at the moment. Did you ever find a solution?"}, {"owner": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "reply_to_user": {"reputation": 111, "user_id": 3330623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b0d8e30e494394be5faade7f3e4812?s=128&d=identicon&r=PG&f=1", "display_name": "user3330623", "link": "https://stackoverflow.com/users/3330623/user3330623"}, "edited": false, "score": 0, "creation_date": 1584951468, "post_id": 54921329, "comment_id": 107588232, "body": "sorry, no I didn&#39;t found a solution. I think I switched to MS VS Code at that time :/"}], "owner": {"reputation": 1496, "user_id": 4940240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dAxHP.png?s=128&g=1", "display_name": "eli", "link": "https://stackoverflow.com/users/4940240/eli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551342624, "creation_date": 1551342624, "question_id": 54921329, "link": "https://stackoverflow.com/questions/54921329/epic-eclipse-perl-occurrence-color-poor-visibility", "title": "EPIC (Eclipse Perl) occurrence color poor visibility", "body": "<p>I came to like eclipse as perl ide the last weeks.<br>\nBut the occurrence-highlighting of the perl/EPIC plugin is bugging me, because I can't change the color or don't know how (and didn't found a solution anywhere).</p>\n\n<p>I can't see a \"color\" option in the EPIC/perl configuration (see screenshot below)<br>\nI already changed all settings in <code>\"General &gt; Editors &gt; Text Editors &gt; Annotations &gt; *...occurrence...*\"</code> to \"dashed box\" but in the perl-script still \"highlighting\" is used.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rQhvi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rQhvi.png\" alt=\"this is really hard to see\"></a></p>\n\n<p><strong>Question:</strong> How do I change the color settings in for perl syntax highlighting? Maybe there is a file to edit this?</p>\n"}, {"tags": ["python", "perl", "audio", "decoding"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1551341259, "post_id": 54920929, "comment_id": 96607110, "body": "What is the link? Most people will not click on that without knowing what it is."}, {"owner": {"reputation": 1, "user_id": 11129363, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E_yiiXSG8RM/AAAAAAAAAAI/AAAAAAAAAAA/-j-2HQZlx_s/photo.jpg?sz=128", "display_name": "Anastascia Panseri", "link": "https://stackoverflow.com/users/11129363/anastascia-panseri"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1551342043, "post_id": 54920929, "comment_id": 96607451, "body": "Apologies , I am new to this ,  meant no offense"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1551342178, "post_id": 54920929, "comment_id": 96607503, "body": "How did you convert the file? That information ought to be in your question."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11129529, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/53f15f309d5537aab7ff97d3728f119e?s=128&d=identicon&r=PG", "display_name": "TRSi", "link": "https://stackoverflow.com/users/11129529/trsi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551343235, "last_edit_date": 1551343235, "creation_date": 1551342637, "answer_id": 54921333, "question_id": 54920929, "link": "https://stackoverflow.com/questions/54920929/how-do-i-decode-a-silk-file-in-a-linux-environment-and-convert-it-to-a-pcm-wav/54921333#54921333", "title": "How do I decode a silk file in a Linux environment and convert it to a PCM / WAV format", "body": "<p>you need libav-tools first, to have a toy which translates from old opus to pcm.</p>\n\n<pre><code>apt install libav-tools\n\navconv -i name.silk name.wav\n</code></pre>\n\n<p>there are more params useable, your choice!</p>\n\n<p>you can call it in perl:</p>\n\n<pre><code>system('avconv -i name.silk name.wav');\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11129363, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E_yiiXSG8RM/AAAAAAAAAAI/AAAAAAAAAAA/-j-2HQZlx_s/photo.jpg?sz=128", "display_name": "Anastascia Panseri", "link": "https://stackoverflow.com/users/11129363/anastascia-panseri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1551343235, "creation_date": 1551340916, "last_edit_date": 1551343115, "question_id": 54920929, "link": "https://stackoverflow.com/questions/54920929/how-do-i-decode-a-silk-file-in-a-linux-environment-and-convert-it-to-a-pcm-wav", "title": "How do I decode a silk file in a Linux environment and convert it to a PCM / WAV format", "body": "<p>I am looking for information on how to decode a .silk file in a Linux environment and convert it to a PCM / WAV format. </p>\n\n<p><a href=\"http://154.66.113.178/\" rel=\"nofollow noreferrer\">http://154.66.113.178/</a> - this is a link to the original .silk file that I tried to decode and convert to .wav file. But the audio is inaudible. </p>\n\n<p>I tried to convert it by following the steps on this link that I found </p>\n\n<p><a href=\"https://kronopath.net/blog/extracting-audio-messages-from-wechat/\" rel=\"nofollow noreferrer\">https://kronopath.net/blog/extracting-audio-messages-from-wechat/</a></p>\n\n<p>But it was a failed attempt as the .wav file was inaudible.</p>\n\n<p>So essentially the way I tried to convert it didn't work - the .wav file is unusable , I don't know how to convert the .silk file to something that is audible. </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "is_accepted": true, "score": 1, "last_activity_date": 1551338041, "creation_date": 1551338041, "answer_id": 54920285, "question_id": 54920263, "link": "https://stackoverflow.com/questions/54920263/using-perl-extract-data-between-two-symbols-line-by-line-from-a-log-file/54920285#54920285", "title": "Using Perl extract data between two symbols line by line from a log file", "body": "<p>You know you can use regular expressions to split upon?</p>\n\n<p>Try</p>\n\n<pre><code>@fields = split(/[:;]/, $_);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 54920285, "answer_count": 1, "score": -3, "last_activity_date": 1551351810, "creation_date": 1551337932, "last_edit_date": 1551351810, "question_id": 54920263, "link": "https://stackoverflow.com/questions/54920263/using-perl-extract-data-between-two-symbols-line-by-line-from-a-log-file", "title": "Using Perl extract data between two symbols line by line from a log file", "body": "<p>I have to extract data between two symbols (<code>:</code> and <code>;</code>) line by line from a log file. My data is:</p>\n\n<pre><code>INFO @3035155 mti_lane1_bw_mon: total bytes = 0, at time = 3035155; T=3035155\n</code></pre>\n\n<p>I'm using this code to extract data after colon (<code>:</code>):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'log1';\nmy @fields;\nopen(FILE, $filename) or die \"Could not read from $filename, program halting.\";\nwhile(&lt;FILE&gt;)\n{\nchomp;\n@fields = split(':', $_);\n\nprint \"$fields[1]\\n\";\n}\nclose FILE;\n</code></pre>\n\n<p>Current output:</p>\n\n<pre><code>total bytes = 0, at time = 3035155; T=3035155\n</code></pre>\n\n<p>Required output:</p>\n\n<pre><code>total bytes = 0, at time = 3035155    \n</code></pre>\n\n<p>Actually I have to compare two different log files line by line and print all lines of log1 that are not in log2. I have used this approach but answer is not coming right. Now my updated code is:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n#use 5.012;\n\nmy $filename1 = 'log2';\nmy %a_links;\n\nopen(FILE, $filename1) or die \"Could not read from $filename1, program halting.\";\nwhile(&lt;FILE&gt;)\n{\n    chomp;\n    my @fields1 = split(/[:;]/, $_);\n    print \"$fields1[1]\\n\";\n    $a_links{$fields1[1]} = undef;\n\n}\nclose FILE;\n\nmy $filename2 = 'log1';\nmy @fields;\nopen(FILE, $filename2) or die \"Could not read from $filename2, program halting.\";\nwhile(&lt;FILE&gt;)\n{\n    chomp;\n    @fields = split(/[:;]/, $_);\n    next if exists $a_links{$fields[1]}; \n    print \"$fields[1] \\n\";\n}\n\nclose FILE;\n</code></pre>\n"}]